(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function Kw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Up={exports:{}},Tc={};var j1;function xR(){if(j1)return Tc;j1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:t,type:i,key:u,ref:a!==void 0?a:null,props:l}}return Tc.Fragment=e,Tc.jsx=n,Tc.jsxs=n,Tc}var M1;function _R(){return M1||(M1=1,Up.exports=xR()),Up.exports}var y=_R(),zp={exports:{}},Ie={};var V1;function TR(){if(V1)return Ie;V1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),T=Symbol.iterator;function A(z){return z===null||typeof z!="object"?null:(z=T&&z[T]||z["@@iterator"],typeof z=="function"?z:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,P={};function U(z,ee,ue){this.props=z,this.context=ee,this.refs=P,this.updater=ue||M}U.prototype.isReactComponent={},U.prototype.setState=function(z,ee){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,ee,"setState")},U.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function F(){}F.prototype=U.prototype;function H(z,ee,ue){this.props=z,this.context=ee,this.refs=P,this.updater=ue||M}var ne=H.prototype=new F;ne.constructor=H,L(ne,U.prototype),ne.isPureReactComponent=!0;var Z=Array.isArray;function le(){}var I={H:null,A:null,T:null,S:null},E=Object.prototype.hasOwnProperty;function C(z,ee,ue){var he=ue.ref;return{$$typeof:t,type:z,key:ee,ref:he!==void 0?he:null,props:ue}}function j(z,ee){return C(z.type,ee,z.props)}function k(z){return typeof z=="object"&&z!==null&&z.$$typeof===t}function O(z){var ee={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(ue){return ee[ue]})}var D=/\/+/g;function Ee(z,ee){return typeof z=="object"&&z!==null&&z.key!=null?O(""+z.key):ee.toString(36)}function Pe(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(le,le):(z.status="pending",z.then(function(ee){z.status==="pending"&&(z.status="fulfilled",z.value=ee)},function(ee){z.status==="pending"&&(z.status="rejected",z.reason=ee)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function Q(z,ee,ue,he,Te){var Re=typeof z;(Re==="undefined"||Re==="boolean")&&(z=null);var oe=!1;if(z===null)oe=!0;else switch(Re){case"bigint":case"string":case"number":oe=!0;break;case"object":switch(z.$$typeof){case t:case e:oe=!0;break;case v:return oe=z._init,Q(oe(z._payload),ee,ue,he,Te)}}if(oe)return Te=Te(z),oe=he===""?"."+Ee(z,0):he,Z(Te)?(ue="",oe!=null&&(ue=oe.replace(D,"$&/")+"/"),Q(Te,ee,ue,"",function(Qt){return Qt})):Te!=null&&(k(Te)&&(Te=j(Te,ue+(Te.key==null||z&&z.key===Te.key?"":(""+Te.key).replace(D,"$&/")+"/")+oe)),ee.push(Te)),1;oe=0;var Ce=he===""?".":he+":";if(Z(z))for(var Le=0;Le<z.length;Le++)he=z[Le],Re=Ce+Ee(he,Le),oe+=Q(he,ee,ue,Re,Te);else if(Le=A(z),typeof Le=="function")for(z=Le.call(z),Le=0;!(he=z.next()).done;)he=he.value,Re=Ce+Ee(he,Le++),oe+=Q(he,ee,ue,Re,Te);else if(Re==="object"){if(typeof z.then=="function")return Q(Pe(z),ee,ue,he,Te);throw ee=String(z),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return oe}function ae(z,ee,ue){if(z==null)return z;var he=[],Te=0;return Q(z,he,"","",function(Re){return ee.call(ue,Re,Te++)}),he}function de(z){if(z._status===-1){var ee=z._result;ee=ee(),ee.then(function(ue){(z._status===0||z._status===-1)&&(z._status=1,z._result=ue)},function(ue){(z._status===0||z._status===-1)&&(z._status=2,z._result=ue)}),z._status===-1&&(z._status=0,z._result=ee)}if(z._status===1)return z._result.default;throw z._result}var Ae=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},Ve={map:ae,forEach:function(z,ee,ue){ae(z,function(){ee.apply(this,arguments)},ue)},count:function(z){var ee=0;return ae(z,function(){ee++}),ee},toArray:function(z){return ae(z,function(ee){return ee})||[]},only:function(z){if(!k(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return Ie.Activity=x,Ie.Children=Ve,Ie.Component=U,Ie.Fragment=n,Ie.Profiler=a,Ie.PureComponent=H,Ie.StrictMode=i,Ie.Suspense=m,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(z){return I.H.useMemoCache(z)}},Ie.cache=function(z){return function(){return z.apply(null,arguments)}},Ie.cacheSignal=function(){return null},Ie.cloneElement=function(z,ee,ue){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var he=L({},z.props),Te=z.key;if(ee!=null)for(Re in ee.key!==void 0&&(Te=""+ee.key),ee)!E.call(ee,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&ee.ref===void 0||(he[Re]=ee[Re]);var Re=arguments.length-2;if(Re===1)he.children=ue;else if(1<Re){for(var oe=Array(Re),Ce=0;Ce<Re;Ce++)oe[Ce]=arguments[Ce+2];he.children=oe}return C(z.type,Te,he)},Ie.createContext=function(z){return z={$$typeof:u,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:l,_context:z},z},Ie.createElement=function(z,ee,ue){var he,Te={},Re=null;if(ee!=null)for(he in ee.key!==void 0&&(Re=""+ee.key),ee)E.call(ee,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(Te[he]=ee[he]);var oe=arguments.length-2;if(oe===1)Te.children=ue;else if(1<oe){for(var Ce=Array(oe),Le=0;Le<oe;Le++)Ce[Le]=arguments[Le+2];Te.children=Ce}if(z&&z.defaultProps)for(he in oe=z.defaultProps,oe)Te[he]===void 0&&(Te[he]=oe[he]);return C(z,Re,Te)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(z){return{$$typeof:d,render:z}},Ie.isValidElement=k,Ie.lazy=function(z){return{$$typeof:v,_payload:{_status:-1,_result:z},_init:de}},Ie.memo=function(z,ee){return{$$typeof:p,type:z,compare:ee===void 0?null:ee}},Ie.startTransition=function(z){var ee=I.T,ue={};I.T=ue;try{var he=z(),Te=I.S;Te!==null&&Te(ue,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(le,Ae)}catch(Re){Ae(Re)}finally{ee!==null&&ue.types!==null&&(ee.types=ue.types),I.T=ee}},Ie.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Ie.use=function(z){return I.H.use(z)},Ie.useActionState=function(z,ee,ue){return I.H.useActionState(z,ee,ue)},Ie.useCallback=function(z,ee){return I.H.useCallback(z,ee)},Ie.useContext=function(z){return I.H.useContext(z)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(z,ee){return I.H.useDeferredValue(z,ee)},Ie.useEffect=function(z,ee){return I.H.useEffect(z,ee)},Ie.useEffectEvent=function(z){return I.H.useEffectEvent(z)},Ie.useId=function(){return I.H.useId()},Ie.useImperativeHandle=function(z,ee,ue){return I.H.useImperativeHandle(z,ee,ue)},Ie.useInsertionEffect=function(z,ee){return I.H.useInsertionEffect(z,ee)},Ie.useLayoutEffect=function(z,ee){return I.H.useLayoutEffect(z,ee)},Ie.useMemo=function(z,ee){return I.H.useMemo(z,ee)},Ie.useOptimistic=function(z,ee){return I.H.useOptimistic(z,ee)},Ie.useReducer=function(z,ee,ue){return I.H.useReducer(z,ee,ue)},Ie.useRef=function(z){return I.H.useRef(z)},Ie.useState=function(z){return I.H.useState(z)},Ie.useSyncExternalStore=function(z,ee,ue){return I.H.useSyncExternalStore(z,ee,ue)},Ie.useTransition=function(){return I.H.useTransition()},Ie.version="19.2.4",Ie}var O1;function N0(){return O1||(O1=1,zp.exports=TR()),zp.exports}var R=N0();const Yw=Kw(R);var Bp={exports:{}},wc={},Fp={exports:{}},Hp={};var P1;function wR(){return P1||(P1=1,(function(t){function e(Q,ae){var de=Q.length;Q.push(ae);e:for(;0<de;){var Ae=de-1>>>1,Ve=Q[Ae];if(0<a(Ve,ae))Q[Ae]=ae,Q[de]=Ve,de=Ae;else break e}}function n(Q){return Q.length===0?null:Q[0]}function i(Q){if(Q.length===0)return null;var ae=Q[0],de=Q.pop();if(de!==ae){Q[0]=de;e:for(var Ae=0,Ve=Q.length,z=Ve>>>1;Ae<z;){var ee=2*(Ae+1)-1,ue=Q[ee],he=ee+1,Te=Q[he];if(0>a(ue,de))he<Ve&&0>a(Te,ue)?(Q[Ae]=Te,Q[he]=de,Ae=he):(Q[Ae]=ue,Q[ee]=de,Ae=ee);else if(he<Ve&&0>a(Te,de))Q[Ae]=Te,Q[he]=de,Ae=he;else break e}}return ae}function a(Q,ae){var de=Q.sortIndex-ae.sortIndex;return de!==0?de:Q.id-ae.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,d=u.now();t.unstable_now=function(){return u.now()-d}}var m=[],p=[],v=1,x=null,T=3,A=!1,M=!1,L=!1,P=!1,U=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function ne(Q){for(var ae=n(p);ae!==null;){if(ae.callback===null)i(p);else if(ae.startTime<=Q)i(p),ae.sortIndex=ae.expirationTime,e(m,ae);else break;ae=n(p)}}function Z(Q){if(L=!1,ne(Q),!M)if(n(m)!==null)M=!0,le||(le=!0,O());else{var ae=n(p);ae!==null&&Pe(Z,ae.startTime-Q)}}var le=!1,I=-1,E=5,C=-1;function j(){return P?!0:!(t.unstable_now()-C<E)}function k(){if(P=!1,le){var Q=t.unstable_now();C=Q;var ae=!0;try{e:{M=!1,L&&(L=!1,F(I),I=-1),A=!0;var de=T;try{t:{for(ne(Q),x=n(m);x!==null&&!(x.expirationTime>Q&&j());){var Ae=x.callback;if(typeof Ae=="function"){x.callback=null,T=x.priorityLevel;var Ve=Ae(x.expirationTime<=Q);if(Q=t.unstable_now(),typeof Ve=="function"){x.callback=Ve,ne(Q),ae=!0;break t}x===n(m)&&i(m),ne(Q)}else i(m);x=n(m)}if(x!==null)ae=!0;else{var z=n(p);z!==null&&Pe(Z,z.startTime-Q),ae=!1}}break e}finally{x=null,T=de,A=!1}ae=void 0}}finally{ae?O():le=!1}}}var O;if(typeof H=="function")O=function(){H(k)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Ee=D.port2;D.port1.onmessage=k,O=function(){Ee.postMessage(null)}}else O=function(){U(k,0)};function Pe(Q,ae){I=U(function(){Q(t.unstable_now())},ae)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return T},t.unstable_next=function(Q){switch(T){case 1:case 2:case 3:var ae=3;break;default:ae=T}var de=T;T=ae;try{return Q()}finally{T=de}},t.unstable_requestPaint=function(){P=!0},t.unstable_runWithPriority=function(Q,ae){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var de=T;T=Q;try{return ae()}finally{T=de}},t.unstable_scheduleCallback=function(Q,ae,de){var Ae=t.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?Ae+de:Ae):de=Ae,Q){case 1:var Ve=-1;break;case 2:Ve=250;break;case 5:Ve=1073741823;break;case 4:Ve=1e4;break;default:Ve=5e3}return Ve=de+Ve,Q={id:v++,callback:ae,priorityLevel:Q,startTime:de,expirationTime:Ve,sortIndex:-1},de>Ae?(Q.sortIndex=de,e(p,Q),n(m)===null&&Q===n(p)&&(L?(F(I),I=-1):L=!0,Pe(Z,de-Ae))):(Q.sortIndex=Ve,e(m,Q),M||A||(M=!0,le||(le=!0,O()))),Q},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(Q){var ae=T;return function(){var de=T;T=ae;try{return Q.apply(this,arguments)}finally{T=de}}}})(Hp)),Hp}var L1;function ER(){return L1||(L1=1,Fp.exports=wR()),Fp.exports}var qp={exports:{}},cn={};var U1;function SR(){if(U1)return cn;U1=1;var t=N0();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,p,v){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:x==null?null:""+x,children:m,containerInfo:p,implementation:v}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return cn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,cn.createPortal=function(m,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(m,p,null,v)},cn.flushSync=function(m){var p=u.T,v=i.p;try{if(u.T=null,i.p=2,m)return m()}finally{u.T=p,i.p=v,i.d.f()}},cn.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(m,p))},cn.prefetchDNS=function(m){typeof m=="string"&&i.d.D(m)},cn.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var v=p.as,x=d(v,p.crossOrigin),T=typeof p.integrity=="string"?p.integrity:void 0,A=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?i.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:x,integrity:T,fetchPriority:A}):v==="script"&&i.d.X(m,{crossOrigin:x,integrity:T,fetchPriority:A,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},cn.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=d(p.as,p.crossOrigin);i.d.M(m,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(m)},cn.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,x=d(v,p.crossOrigin);i.d.L(m,v,{crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},cn.preloadModule=function(m,p){if(typeof m=="string")if(p){var v=d(p.as,p.crossOrigin);i.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(m)},cn.requestFormReset=function(m){i.d.r(m)},cn.unstable_batchedUpdates=function(m,p){return m(p)},cn.useFormState=function(m,p,v){return u.H.useFormState(m,p,v)},cn.useFormStatus=function(){return u.H.useHostTransitionStatus()},cn.version="19.2.4",cn}var z1;function AR(){if(z1)return qp.exports;z1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),qp.exports=SR(),qp.exports}var B1;function CR(){if(B1)return wc;B1=1;var t=ER(),e=N0(),n=AR();function i(s){var r="https://react.dev/errors/"+s;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+s+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function l(s){var r=s,o=s;if(s.alternate)for(;r.return;)r=r.return;else{s=r;do r=s,(r.flags&4098)!==0&&(o=r.return),s=r.return;while(s)}return r.tag===3?o:null}function u(s){if(s.tag===13){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function d(s){if(s.tag===31){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function m(s){if(l(s)!==s)throw Error(i(188))}function p(s){var r=s.alternate;if(!r){if(r=l(s),r===null)throw Error(i(188));return r!==s?null:s}for(var o=s,c=r;;){var f=o.return;if(f===null)break;var g=f.alternate;if(g===null){if(c=f.return,c!==null){o=c;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===o)return m(f),s;if(g===c)return m(f),r;g=g.sibling}throw Error(i(188))}if(o.return!==c.return)o=f,c=g;else{for(var _=!1,S=f.child;S;){if(S===o){_=!0,o=f,c=g;break}if(S===c){_=!0,c=f,o=g;break}S=S.sibling}if(!_){for(S=g.child;S;){if(S===o){_=!0,o=g,c=f;break}if(S===c){_=!0,c=g,o=f;break}S=S.sibling}if(!_)throw Error(i(189))}}if(o.alternate!==c)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?s:r}function v(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s;for(s=s.child;s!==null;){if(r=v(s),r!==null)return r;s=s.sibling}return null}var x=Object.assign,T=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),F=Symbol.for("react.consumer"),H=Symbol.for("react.context"),ne=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),le=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function O(s){return s===null||typeof s!="object"?null:(s=k&&s[k]||s["@@iterator"],typeof s=="function"?s:null)}var D=Symbol.for("react.client.reference");function Ee(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===D?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case L:return"Fragment";case U:return"Profiler";case P:return"StrictMode";case Z:return"Suspense";case le:return"SuspenseList";case C:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case M:return"Portal";case H:return s.displayName||"Context";case F:return(s._context.displayName||"Context")+".Consumer";case ne:var r=s.render;return s=s.displayName,s||(s=r.displayName||r.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case I:return r=s.displayName||null,r!==null?r:Ee(s.type)||"Memo";case E:r=s._payload,s=s._init;try{return Ee(s(r))}catch{}}return null}var Pe=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},Ae=[],Ve=-1;function z(s){return{current:s}}function ee(s){0>Ve||(s.current=Ae[Ve],Ae[Ve]=null,Ve--)}function ue(s,r){Ve++,Ae[Ve]=s.current,s.current=r}var he=z(null),Te=z(null),Re=z(null),oe=z(null);function Ce(s,r){switch(ue(Re,r),ue(Te,s),ue(he,null),r.nodeType){case 9:case 11:s=(s=r.documentElement)&&(s=s.namespaceURI)?n1(s):0;break;default:if(s=r.tagName,r=r.namespaceURI)r=n1(r),s=s1(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ee(he),ue(he,s)}function Le(){ee(he),ee(Te),ee(Re)}function Qt(s){s.memoizedState!==null&&ue(oe,s);var r=he.current,o=s1(r,s.type);r!==o&&(ue(Te,s),ue(he,o))}function Rs(s){Te.current===s&&(ee(he),ee(Te)),oe.current===s&&(ee(oe),vc._currentValue=de)}var li,ci;function Xt(s){if(li===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);li=r&&r[1]||"",ci=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+li+s+ci}var as=!1;function Yr(s,r){if(!s||as)return"";as=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(r){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(W){var Y=W}Reflect.construct(s,[],ie)}else{try{ie.call()}catch(W){Y=W}s.call(ie.prototype)}}else{try{throw Error()}catch(W){Y=W}(ie=s())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(W){if(W&&Y&&typeof W.stack=="string")return[W.stack,Y.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),_=g[0],S=g[1];if(_&&S){var V=_.split(`
`),K=S.split(`
`);for(f=c=0;c<V.length&&!V[c].includes("DetermineComponentFrameRoot");)c++;for(;f<K.length&&!K[f].includes("DetermineComponentFrameRoot");)f++;if(c===V.length||f===K.length)for(c=V.length-1,f=K.length-1;1<=c&&0<=f&&V[c]!==K[f];)f--;for(;1<=c&&0<=f;c--,f--)if(V[c]!==K[f]){if(c!==1||f!==1)do if(c--,f--,0>f||V[c]!==K[f]){var J=`
`+V[c].replace(" at new "," at ");return s.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",s.displayName)),J}while(1<=c&&0<=f);break}}}finally{as=!1,Error.prepareStackTrace=o}return(o=s?s.displayName||s.name:"")?Xt(o):""}function bl(s,r){switch(s.tag){case 26:case 27:case 5:return Xt(s.type);case 16:return Xt("Lazy");case 13:return s.child!==r&&r!==null?Xt("Suspense Fallback"):Xt("Suspense");case 19:return Xt("SuspenseList");case 0:case 15:return Yr(s.type,!1);case 11:return Yr(s.type.render,!1);case 1:return Yr(s.type,!0);case 31:return Xt("Activity");default:return""}}function xl(s){try{var r="",o=null;do r+=bl(s,o),o=s,s=s.return;while(s);return r}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var At=Object.prototype.hasOwnProperty,Ut=t.unstable_scheduleCallback,Fi=t.unstable_cancelCallback,Bf=t.unstable_shouldYield,Au=t.unstable_requestPaint,pn=t.unstable_now,Qr=t.unstable_getCurrentPriorityLevel,_l=t.unstable_ImmediatePriority,Tl=t.unstable_UserBlockingPriority,Hi=t.unstable_NormalPriority,Ff=t.unstable_LowPriority,Cu=t.unstable_IdlePriority,Nu=t.log,Ru=t.unstable_setDisableYieldValue,os=null,Wt=null;function Bn(s){if(typeof Nu=="function"&&Ru(s),Wt&&typeof Wt.setStrictMode=="function")try{Wt.setStrictMode(os,s)}catch{}}var xt=Math.clz32?Math.clz32:Iu,ku=Math.log,qa=Math.LN2;function Iu(s){return s>>>=0,s===0?32:31-(ku(s)/qa|0)|0}var ks=256,Xr=262144,Ct=4194304;function Is(s){var r=s&42;if(r!==0)return r;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Ds(s,r,o){var c=s.pendingLanes;if(c===0)return 0;var f=0,g=s.suspendedLanes,_=s.pingedLanes;s=s.warmLanes;var S=c&134217727;return S!==0?(c=S&~g,c!==0?f=Is(c):(_&=S,_!==0?f=Is(_):o||(o=S&~s,o!==0&&(f=Is(o))))):(S=c&~g,S!==0?f=Is(S):_!==0?f=Is(_):o||(o=c&~s,o!==0&&(f=Is(o)))),f===0?0:r!==0&&r!==f&&(r&g)===0&&(g=f&-f,o=r&-r,g>=o||g===32&&(o&4194048)!==0)?r:f}function ls(s,r){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&r)===0}function Hf(s,r){switch(s){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Du(){var s=Ct;return Ct<<=1,(Ct&62914560)===0&&(Ct=4194304),s}function js(s){for(var r=[],o=0;31>o;o++)r.push(s);return r}function Wr(s,r){s.pendingLanes|=r,r!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function qf(s,r,o,c,f,g){var _=s.pendingLanes;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=o,s.entangledLanes&=o,s.errorRecoveryDisabledLanes&=o,s.shellSuspendCounter=0;var S=s.entanglements,V=s.expirationTimes,K=s.hiddenUpdates;for(o=_&~o;0<o;){var J=31-xt(o),ie=1<<J;S[J]=0,V[J]=-1;var Y=K[J];if(Y!==null)for(K[J]=null,J=0;J<Y.length;J++){var W=Y[J];W!==null&&(W.lane&=-536870913)}o&=~ie}c!==0&&Jr(s,c,0),g!==0&&f===0&&s.tag!==0&&(s.suspendedLanes|=g&~(_&~r))}function Jr(s,r,o){s.pendingLanes|=r,s.suspendedLanes&=~r;var c=31-xt(r);s.entangledLanes|=r,s.entanglements[c]=s.entanglements[c]|1073741824|o&261930}function wl(s,r){var o=s.entangledLanes|=r;for(s=s.entanglements;o;){var c=31-xt(o),f=1<<c;f&r|s[c]&r&&(s[c]|=r),o&=~f}}function El(s,r){var o=r&-r;return o=(o&42)!==0?1:Zr(o),(o&(s.suspendedLanes|r))!==0?0:o}function Zr(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function ui(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function ju(){var s=ae.p;return s!==0?s:(s=window.event,s===void 0?32:A1(s.type))}function cs(s,r){var o=ae.p;try{return ae.p=s,r()}finally{ae.p=o}}var us=Math.random().toString(36).slice(2),Nt="__reactFiber$"+us,qt="__reactProps$"+us,Ms="__reactContainer$"+us,Ga="__reactEvents$"+us,Gf="__reactListeners$"+us,Mu="__reactHandles$"+us,Vu="__reactResources$"+us,Vs="__reactMarker$"+us;function $a(s){delete s[Nt],delete s[qt],delete s[Ga],delete s[Gf],delete s[Mu]}function Os(s){var r=s[Nt];if(r)return r;for(var o=s.parentNode;o;){if(r=o[Ms]||o[Nt]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(s=u1(s);s!==null;){if(o=s[Nt])return o;s=u1(s)}return r}s=o,o=s.parentNode}return null}function Fn(s){if(s=s[Nt]||s[Ms]){var r=s.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return s}return null}function kn(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s.stateNode;throw Error(i(33))}function Ps(s){var r=s[Vu];return r||(r=s[Vu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Rt(s){s[Vs]=!0}var Sl=new Set,Al={};function Ls(s,r){Us(s,r),Us(s+"Capture",r)}function Us(s,r){for(Al[s]=r,s=0;s<r.length;s++)Sl.add(r[s])}var Cl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Nl={},Rl={};function Ou(s){return At.call(Rl,s)?!0:At.call(Nl,s)?!1:Cl.test(s)?Rl[s]=!0:(Nl[s]=!0,!1)}function Ka(s,r,o){if(Ou(r))if(o===null)s.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":s.removeAttribute(r);return;case"boolean":var c=r.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){s.removeAttribute(r);return}}s.setAttribute(r,""+o)}}function In(s,r,o){if(o===null)s.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(r);return}s.setAttribute(r,""+o)}}function kt(s,r,o,c){if(c===null)s.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttributeNS(r,o,""+c)}}function Gt(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function qi(s){var r=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function kl(s,r,o){var c=Object.getOwnPropertyDescriptor(s.constructor.prototype,r);if(!s.hasOwnProperty(r)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var f=c.get,g=c.set;return Object.defineProperty(s,r,{configurable:!0,get:function(){return f.call(this)},set:function(_){o=""+_,g.call(this,_)}}),Object.defineProperty(s,r,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(_){o=""+_},stopTracking:function(){s._valueTracker=null,delete s[r]}}}}function Ze(s){if(!s._valueTracker){var r=qi(s)?"checked":"value";s._valueTracker=kl(s,r,""+s[r])}}function ea(s){if(!s)return!1;var r=s._valueTracker;if(!r)return!0;var o=r.getValue(),c="";return s&&(c=qi(s)?s.checked?"true":"false":s.value),s=c,s!==o?(r.setValue(s),!0):!1}function zs(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var ta=/[\n"\\]/g;function _n(s){return s.replace(ta,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Ya(s,r,o,c,f,g,_,S){s.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?s.type=_:s.removeAttribute("type"),r!=null?_==="number"?(r===0&&s.value===""||s.value!=r)&&(s.value=""+Gt(r)):s.value!==""+Gt(r)&&(s.value=""+Gt(r)):_!=="submit"&&_!=="reset"||s.removeAttribute("value"),r!=null?Il(s,_,Gt(r)):o!=null?Il(s,_,Gt(o)):c!=null&&s.removeAttribute("value"),f==null&&g!=null&&(s.defaultChecked=!!g),f!=null&&(s.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?s.name=""+Gt(S):s.removeAttribute("name")}function Pu(s,r,o,c,f,g,_,S){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(s.type=g),r!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||r!=null)){Ze(s);return}o=o!=null?""+Gt(o):"",r=r!=null?""+Gt(r):o,S||r===s.value||(s.value=r),s.defaultValue=r}c=c??f,c=typeof c!="function"&&typeof c!="symbol"&&!!c,s.checked=S?s.checked:!!c,s.defaultChecked=!!c,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(s.name=_),Ze(s)}function Il(s,r,o){r==="number"&&zs(s.ownerDocument)===s||s.defaultValue===""+o||(s.defaultValue=""+o)}function Gi(s,r,o,c){if(s=s.options,r){r={};for(var f=0;f<o.length;f++)r["$"+o[f]]=!0;for(o=0;o<s.length;o++)f=r.hasOwnProperty("$"+s[o].value),s[o].selected!==f&&(s[o].selected=f),f&&c&&(s[o].defaultSelected=!0)}else{for(o=""+Gt(o),r=null,f=0;f<s.length;f++){if(s[f].value===o){s[f].selected=!0,c&&(s[f].defaultSelected=!0);return}r!==null||s[f].disabled||(r=s[f])}r!==null&&(r.selected=!0)}}function Lu(s,r,o){if(r!=null&&(r=""+Gt(r),r!==s.value&&(s.value=r),o==null)){s.defaultValue!==r&&(s.defaultValue=r);return}s.defaultValue=o!=null?""+Gt(o):""}function $i(s,r,o,c){if(r==null){if(c!=null){if(o!=null)throw Error(i(92));if(Pe(c)){if(1<c.length)throw Error(i(93));c=c[0]}o=c}o==null&&(o=""),r=o}o=Gt(r),s.defaultValue=o,c=s.textContent,c===o&&c!==""&&c!==null&&(s.value=c),Ze(s)}function Tn(s,r){if(r){var o=s.firstChild;if(o&&o===s.lastChild&&o.nodeType===3){o.nodeValue=r;return}}s.textContent=r}var Uu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Dl(s,r,o){var c=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?s.setProperty(r,""):r==="float"?s.cssFloat="":s[r]="":c?s.setProperty(r,o):typeof o!="number"||o===0||Uu.has(r)?r==="float"?s.cssFloat=o:s[r]=(""+o).trim():s[r]=o+"px"}function jl(s,r,o){if(r!=null&&typeof r!="object")throw Error(i(62));if(s=s.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||r!=null&&r.hasOwnProperty(c)||(c.indexOf("--")===0?s.setProperty(c,""):c==="float"?s.cssFloat="":s[c]="");for(var f in r)c=r[f],r.hasOwnProperty(f)&&o[f]!==c&&Dl(s,f,c)}else for(var g in r)r.hasOwnProperty(g)&&Dl(s,g,r[g])}function Qa(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ki=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xa(s){return Ki.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function hs(){}var Ml=null;function Hn(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Yi=null,Bs=null;function na(s){var r=Fn(s);if(r&&(s=r.stateNode)){var o=s[qt]||null;e:switch(s=r.stateNode,r.type){case"input":if(Ya(s,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=s;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+_n(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var c=o[r];if(c!==s&&c.form===s.form){var f=c[qt]||null;if(!f)throw Error(i(90));Ya(c,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<o.length;r++)c=o[r],c.form===s.form&&ea(c)}break e;case"textarea":Lu(s,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&Gi(s,!!o.multiple,r,!1)}}}var Wa=!1;function Qi(s,r,o){if(Wa)return s(r,o);Wa=!0;try{var c=s(r);return c}finally{if(Wa=!1,(Yi!==null||Bs!==null)&&(jh(),Yi&&(r=Yi,s=Bs,Bs=Yi=null,na(r),s)))for(r=0;r<s.length;r++)na(s[r])}}function ds(s,r){var o=s.stateNode;if(o===null)return null;var c=o[qt]||null;if(c===null)return null;o=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(s=s.type,c=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!c;break e;default:s=!1}if(s)return null;if(o&&typeof o!="function")throw Error(i(231,r,typeof o));return o}var qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sa=!1;if(qn)try{var nt={};Object.defineProperty(nt,"passive",{get:function(){sa=!0}}),window.addEventListener("test",nt,nt),window.removeEventListener("test",nt,nt)}catch{sa=!1}var Fs=null,Vl=null,ia=null;function Ol(){if(ia)return ia;var s,r=Vl,o=r.length,c,f="value"in Fs?Fs.value:Fs.textContent,g=f.length;for(s=0;s<o&&r[s]===f[s];s++);var _=o-s;for(c=1;c<=_&&r[o-c]===f[g-c];c++);return ia=f.slice(s,1<c?1-c:void 0)}function ra(s){var r=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&r===13&&(s=13)):s=r,s===10&&(s=13),32<=s||s===13?s:0}function hi(){return!0}function fs(){return!1}function Jt(s){function r(o,c,f,g,_){this._reactName=o,this._targetInst=f,this.type=c,this.nativeEvent=g,this.target=_,this.currentTarget=null;for(var S in s)s.hasOwnProperty(S)&&(o=s[S],this[S]=o?o(g):g[S]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?hi:fs,this.isPropagationStopped=fs,this}return x(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=hi)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=hi)},persist:function(){},isPersistent:hi}),r}var di={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hs=Jt(di),Xi=x({},di,{view:0,detail:0}),Pl=Jt(Xi),Wi,Ja,qs,Za=x({},Xi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ji,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==qs&&(qs&&s.type==="mousemove"?(Wi=s.screenX-qs.screenX,Ja=s.screenY-qs.screenY):Ja=Wi=0,qs=s),Wi)},movementY:function(s){return"movementY"in s?s.movementY:Ja}}),Ll=Jt(Za),aa=x({},Za,{dataTransfer:0}),Bu=Jt(aa),Fu=x({},Xi,{relatedTarget:0}),oa=Jt(Fu),Ul=x({},di,{animationName:0,elapsedTime:0,pseudoElement:0}),Hu=Jt(Ul),eo=x({},di,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),qu=Jt(eo),Gu=x({},di,{data:0}),Gs=Jt(Gu),$u={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ku={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qu(s){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(s):(s=Yu[s])?!!r[s]:!1}function Ji(){return Qu}var gn=x({},Xi,{key:function(s){if(s.key){var r=$u[s.key]||s.key;if(r!=="Unidentified")return r}return s.type==="keypress"?(s=ra(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Ku[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ji,charCode:function(s){return s.type==="keypress"?ra(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ra(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Xu=Jt(gn),Wu=x({},Za,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fi=Jt(Wu),h=x({},Xi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ji}),b=Jt(h),w=x({},di,{propertyName:0,elapsedTime:0,pseudoElement:0}),N=Jt(w),G=x({},Za,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),X=Jt(G),ce=x({},di,{newState:0,oldState:0}),je=Jt(ce),_t=[9,13,27,32],Xe=qn&&"CompositionEvent"in window,dt=null;qn&&"documentMode"in document&&(dt=document.documentMode);var Gn=qn&&"TextEvent"in window&&!dt,$s=qn&&(!Xe||dt&&8<dt&&11>=dt),ms=" ",ps=!1;function la(s,r){switch(s){case"keyup":return _t.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function to(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var no=!1;function qC(s,r){switch(s){case"compositionend":return to(r);case"keypress":return r.which!==32?null:(ps=!0,ms);case"textInput":return s=r.data,s===ms&&ps?null:s;default:return null}}function GC(s,r){if(no)return s==="compositionend"||!Xe&&la(s,r)?(s=Ol(),ia=Vl=Fs=null,no=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return $s&&r.locale!=="ko"?null:r.data;default:return null}}var $C={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fv(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r==="input"?!!$C[s.type]:r==="textarea"}function mv(s,r,o,c){Yi?Bs?Bs.push(c):Bs=[c]:Yi=c,r=zh(r,"onChange"),0<r.length&&(o=new Hs("onChange","change",null,o,c),s.push({event:o,listeners:r}))}var zl=null,Bl=null;function KC(s){Xx(s,0)}function Ju(s){var r=kn(s);if(ea(r))return s}function pv(s,r){if(s==="change")return r}var gv=!1;if(qn){var $f;if(qn){var Kf="oninput"in document;if(!Kf){var yv=document.createElement("div");yv.setAttribute("oninput","return;"),Kf=typeof yv.oninput=="function"}$f=Kf}else $f=!1;gv=$f&&(!document.documentMode||9<document.documentMode)}function vv(){zl&&(zl.detachEvent("onpropertychange",bv),Bl=zl=null)}function bv(s){if(s.propertyName==="value"&&Ju(Bl)){var r=[];mv(r,Bl,s,Hn(s)),Qi(KC,r)}}function YC(s,r,o){s==="focusin"?(vv(),zl=r,Bl=o,zl.attachEvent("onpropertychange",bv)):s==="focusout"&&vv()}function QC(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Ju(Bl)}function XC(s,r){if(s==="click")return Ju(r)}function WC(s,r){if(s==="input"||s==="change")return Ju(r)}function JC(s,r){return s===r&&(s!==0||1/s===1/r)||s!==s&&r!==r}var Dn=typeof Object.is=="function"?Object.is:JC;function Fl(s,r){if(Dn(s,r))return!0;if(typeof s!="object"||s===null||typeof r!="object"||r===null)return!1;var o=Object.keys(s),c=Object.keys(r);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var f=o[c];if(!At.call(r,f)||!Dn(s[f],r[f]))return!1}return!0}function xv(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function _v(s,r){var o=xv(s);s=0;for(var c;o;){if(o.nodeType===3){if(c=s+o.textContent.length,s<=r&&c>=r)return{node:o,offset:r-s};s=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=xv(o)}}function Tv(s,r){return s&&r?s===r?!0:s&&s.nodeType===3?!1:r&&r.nodeType===3?Tv(s,r.parentNode):"contains"in s?s.contains(r):s.compareDocumentPosition?!!(s.compareDocumentPosition(r)&16):!1:!1}function wv(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var r=zs(s.document);r instanceof s.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)s=r.contentWindow;else break;r=zs(s.document)}return r}function Yf(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r&&(r==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||r==="textarea"||s.contentEditable==="true")}var ZC=qn&&"documentMode"in document&&11>=document.documentMode,so=null,Qf=null,Hl=null,Xf=!1;function Ev(s,r,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Xf||so==null||so!==zs(c)||(c=so,"selectionStart"in c&&Yf(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Hl&&Fl(Hl,c)||(Hl=c,c=zh(Qf,"onSelect"),0<c.length&&(r=new Hs("onSelect","select",null,r,o),s.push({event:r,listeners:c}),r.target=so)))}function ca(s,r){var o={};return o[s.toLowerCase()]=r.toLowerCase(),o["Webkit"+s]="webkit"+r,o["Moz"+s]="moz"+r,o}var io={animationend:ca("Animation","AnimationEnd"),animationiteration:ca("Animation","AnimationIteration"),animationstart:ca("Animation","AnimationStart"),transitionrun:ca("Transition","TransitionRun"),transitionstart:ca("Transition","TransitionStart"),transitioncancel:ca("Transition","TransitionCancel"),transitionend:ca("Transition","TransitionEnd")},Wf={},Sv={};qn&&(Sv=document.createElement("div").style,"AnimationEvent"in window||(delete io.animationend.animation,delete io.animationiteration.animation,delete io.animationstart.animation),"TransitionEvent"in window||delete io.transitionend.transition);function ua(s){if(Wf[s])return Wf[s];if(!io[s])return s;var r=io[s],o;for(o in r)if(r.hasOwnProperty(o)&&o in Sv)return Wf[s]=r[o];return s}var Av=ua("animationend"),Cv=ua("animationiteration"),Nv=ua("animationstart"),eN=ua("transitionrun"),tN=ua("transitionstart"),nN=ua("transitioncancel"),Rv=ua("transitionend"),kv=new Map,Jf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Jf.push("scrollEnd");function gs(s,r){kv.set(s,r),Ls(r,[s])}var Zu=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},$n=[],ro=0,Zf=0;function eh(){for(var s=ro,r=Zf=ro=0;r<s;){var o=$n[r];$n[r++]=null;var c=$n[r];$n[r++]=null;var f=$n[r];$n[r++]=null;var g=$n[r];if($n[r++]=null,c!==null&&f!==null){var _=c.pending;_===null?f.next=f:(f.next=_.next,_.next=f),c.pending=f}g!==0&&Iv(o,f,g)}}function th(s,r,o,c){$n[ro++]=s,$n[ro++]=r,$n[ro++]=o,$n[ro++]=c,Zf|=c,s.lanes|=c,s=s.alternate,s!==null&&(s.lanes|=c)}function em(s,r,o,c){return th(s,r,o,c),nh(s)}function ha(s,r){return th(s,null,null,r),nh(s)}function Iv(s,r,o){s.lanes|=o;var c=s.alternate;c!==null&&(c.lanes|=o);for(var f=!1,g=s.return;g!==null;)g.childLanes|=o,c=g.alternate,c!==null&&(c.childLanes|=o),g.tag===22&&(s=g.stateNode,s===null||s._visibility&1||(f=!0)),s=g,g=g.return;return s.tag===3?(g=s.stateNode,f&&r!==null&&(f=31-xt(o),s=g.hiddenUpdates,c=s[f],c===null?s[f]=[r]:c.push(r),r.lane=o|536870912),g):null}function nh(s){if(50<hc)throw hc=0,cp=null,Error(i(185));for(var r=s.return;r!==null;)s=r,r=s.return;return s.tag===3?s.stateNode:null}var ao={};function sN(s,r,o,c){this.tag=s,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jn(s,r,o,c){return new sN(s,r,o,c)}function tm(s){return s=s.prototype,!(!s||!s.isReactComponent)}function mi(s,r){var o=s.alternate;return o===null?(o=jn(s.tag,r,s.key,s.mode),o.elementType=s.elementType,o.type=s.type,o.stateNode=s.stateNode,o.alternate=s,s.alternate=o):(o.pendingProps=r,o.type=s.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=s.flags&65011712,o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,r=s.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=s.sibling,o.index=s.index,o.ref=s.ref,o.refCleanup=s.refCleanup,o}function Dv(s,r){s.flags&=65011714;var o=s.alternate;return o===null?(s.childLanes=0,s.lanes=r,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,r=o.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),s}function sh(s,r,o,c,f,g){var _=0;if(c=s,typeof s=="function")tm(s)&&(_=1);else if(typeof s=="string")_=lR(s,o,he.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case C:return s=jn(31,o,r,f),s.elementType=C,s.lanes=g,s;case L:return da(o.children,f,g,r);case P:_=8,f|=24;break;case U:return s=jn(12,o,r,f|2),s.elementType=U,s.lanes=g,s;case Z:return s=jn(13,o,r,f),s.elementType=Z,s.lanes=g,s;case le:return s=jn(19,o,r,f),s.elementType=le,s.lanes=g,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case H:_=10;break e;case F:_=9;break e;case ne:_=11;break e;case I:_=14;break e;case E:_=16,c=null;break e}_=29,o=Error(i(130,s===null?"null":typeof s,"")),c=null}return r=jn(_,o,r,f),r.elementType=s,r.type=c,r.lanes=g,r}function da(s,r,o,c){return s=jn(7,s,c,r),s.lanes=o,s}function nm(s,r,o){return s=jn(6,s,null,r),s.lanes=o,s}function jv(s){var r=jn(18,null,null,0);return r.stateNode=s,r}function sm(s,r,o){return r=jn(4,s.children!==null?s.children:[],s.key,r),r.lanes=o,r.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},r}var Mv=new WeakMap;function Kn(s,r){if(typeof s=="object"&&s!==null){var o=Mv.get(s);return o!==void 0?o:(r={value:s,source:r,stack:xl(r)},Mv.set(s,r),r)}return{value:s,source:r,stack:xl(r)}}var oo=[],lo=0,ih=null,ql=0,Yn=[],Qn=0,Zi=null,Ks=1,Ys="";function pi(s,r){oo[lo++]=ql,oo[lo++]=ih,ih=s,ql=r}function Vv(s,r,o){Yn[Qn++]=Ks,Yn[Qn++]=Ys,Yn[Qn++]=Zi,Zi=s;var c=Ks;s=Ys;var f=32-xt(c)-1;c&=~(1<<f),o+=1;var g=32-xt(r)+f;if(30<g){var _=f-f%5;g=(c&(1<<_)-1).toString(32),c>>=_,f-=_,Ks=1<<32-xt(r)+f|o<<f|c,Ys=g+s}else Ks=1<<g|o<<f|c,Ys=s}function im(s){s.return!==null&&(pi(s,1),Vv(s,1,0))}function rm(s){for(;s===ih;)ih=oo[--lo],oo[lo]=null,ql=oo[--lo],oo[lo]=null;for(;s===Zi;)Zi=Yn[--Qn],Yn[Qn]=null,Ys=Yn[--Qn],Yn[Qn]=null,Ks=Yn[--Qn],Yn[Qn]=null}function Ov(s,r){Yn[Qn++]=Ks,Yn[Qn++]=Ys,Yn[Qn++]=Zi,Ks=r.id,Ys=r.overflow,Zi=s}var Zt=null,ct=null,$e=!1,er=null,Xn=!1,am=Error(i(519));function tr(s){var r=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Gl(Kn(r,s)),am}function Pv(s){var r=s.stateNode,o=s.type,c=s.memoizedProps;switch(r[Nt]=s,r[qt]=c,o){case"dialog":ze("cancel",r),ze("close",r);break;case"iframe":case"object":case"embed":ze("load",r);break;case"video":case"audio":for(o=0;o<fc.length;o++)ze(fc[o],r);break;case"source":ze("error",r);break;case"img":case"image":case"link":ze("error",r),ze("load",r);break;case"details":ze("toggle",r);break;case"input":ze("invalid",r),Pu(r,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":ze("invalid",r);break;case"textarea":ze("invalid",r),$i(r,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||c.suppressHydrationWarning===!0||e1(r.textContent,o)?(c.popover!=null&&(ze("beforetoggle",r),ze("toggle",r)),c.onScroll!=null&&ze("scroll",r),c.onScrollEnd!=null&&ze("scrollend",r),c.onClick!=null&&(r.onclick=hs),r=!0):r=!1,r||tr(s,!0)}function Lv(s){for(Zt=s.return;Zt;)switch(Zt.tag){case 5:case 31:case 13:Xn=!1;return;case 27:case 3:Xn=!0;return;default:Zt=Zt.return}}function co(s){if(s!==Zt)return!1;if(!$e)return Lv(s),$e=!0,!1;var r=s.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=s.type,o=!(o!=="form"&&o!=="button")||Ep(s.type,s.memoizedProps)),o=!o),o&&ct&&tr(s),Lv(s),r===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));ct=c1(s)}else if(r===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));ct=c1(s)}else r===27?(r=ct,pr(s.type)?(s=Rp,Rp=null,ct=s):ct=r):ct=Zt?Jn(s.stateNode.nextSibling):null;return!0}function fa(){ct=Zt=null,$e=!1}function om(){var s=er;return s!==null&&(An===null?An=s:An.push.apply(An,s),er=null),s}function Gl(s){er===null?er=[s]:er.push(s)}var lm=z(null),ma=null,gi=null;function nr(s,r,o){ue(lm,r._currentValue),r._currentValue=o}function yi(s){s._currentValue=lm.current,ee(lm)}function cm(s,r,o){for(;s!==null;){var c=s.alternate;if((s.childLanes&r)!==r?(s.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),s===o)break;s=s.return}}function um(s,r,o,c){var f=s.child;for(f!==null&&(f.return=s);f!==null;){var g=f.dependencies;if(g!==null){var _=f.child;g=g.firstContext;e:for(;g!==null;){var S=g;g=f;for(var V=0;V<r.length;V++)if(S.context===r[V]){g.lanes|=o,S=g.alternate,S!==null&&(S.lanes|=o),cm(g.return,o,s),c||(_=null);break e}g=S.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(i(341));_.lanes|=o,g=_.alternate,g!==null&&(g.lanes|=o),cm(_,o,s),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===s){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function uo(s,r,o,c){s=null;for(var f=r,g=!1;f!==null;){if(!g){if((f.flags&524288)!==0)g=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(i(387));if(_=_.memoizedProps,_!==null){var S=f.type;Dn(f.pendingProps.value,_.value)||(s!==null?s.push(S):s=[S])}}else if(f===oe.current){if(_=f.alternate,_===null)throw Error(i(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(s!==null?s.push(vc):s=[vc])}f=f.return}s!==null&&um(r,s,o,c),r.flags|=262144}function rh(s){for(s=s.firstContext;s!==null;){if(!Dn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function pa(s){ma=s,gi=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function en(s){return Uv(ma,s)}function ah(s,r){return ma===null&&pa(s),Uv(s,r)}function Uv(s,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},gi===null){if(s===null)throw Error(i(308));gi=r,s.dependencies={lanes:0,firstContext:r},s.flags|=524288}else gi=gi.next=r;return o}var iN=typeof AbortController<"u"?AbortController:function(){var s=[],r=this.signal={aborted:!1,addEventListener:function(o,c){s.push(c)}};this.abort=function(){r.aborted=!0,s.forEach(function(o){return o()})}},rN=t.unstable_scheduleCallback,aN=t.unstable_NormalPriority,It={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hm(){return{controller:new iN,data:new Map,refCount:0}}function $l(s){s.refCount--,s.refCount===0&&rN(aN,function(){s.controller.abort()})}var Kl=null,dm=0,ho=0,fo=null;function oN(s,r){if(Kl===null){var o=Kl=[];dm=0,ho=pp(),fo={status:"pending",value:void 0,then:function(c){o.push(c)}}}return dm++,r.then(zv,zv),r}function zv(){if(--dm===0&&Kl!==null){fo!==null&&(fo.status="fulfilled");var s=Kl;Kl=null,ho=0,fo=null;for(var r=0;r<s.length;r++)(0,s[r])()}}function lN(s,r){var o=[],c={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return s.then(function(){c.status="fulfilled",c.value=r;for(var f=0;f<o.length;f++)(0,o[f])(r)},function(f){for(c.status="rejected",c.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),c}var Bv=Q.S;Q.S=function(s,r){Ex=pn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&oN(s,r),Bv!==null&&Bv(s,r)};var ga=z(null);function fm(){var s=ga.current;return s!==null?s:at.pooledCache}function oh(s,r){r===null?ue(ga,ga.current):ue(ga,r.pool)}function Fv(){var s=fm();return s===null?null:{parent:It._currentValue,pool:s}}var mo=Error(i(460)),mm=Error(i(474)),lh=Error(i(542)),ch={then:function(){}};function Hv(s){return s=s.status,s==="fulfilled"||s==="rejected"}function qv(s,r,o){switch(o=s[o],o===void 0?s.push(r):o!==r&&(r.then(hs,hs),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,$v(s),s;default:if(typeof r.status=="string")r.then(hs,hs);else{if(s=at,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=r,s.status="pending",s.then(function(c){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=c}},function(c){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=c}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,$v(s),s}throw va=r,mo}}function ya(s){try{var r=s._init;return r(s._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(va=o,mo):o}}var va=null;function Gv(){if(va===null)throw Error(i(459));var s=va;return va=null,s}function $v(s){if(s===mo||s===lh)throw Error(i(483))}var po=null,Yl=0;function uh(s){var r=Yl;return Yl+=1,po===null&&(po=[]),qv(po,s,r)}function Ql(s,r){r=r.props.ref,s.ref=r!==void 0?r:null}function hh(s,r){throw r.$$typeof===T?Error(i(525)):(s=Object.prototype.toString.call(r),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":s)))}function Kv(s){function r(q,B){if(s){var $=q.deletions;$===null?(q.deletions=[B],q.flags|=16):$.push(B)}}function o(q,B){if(!s)return null;for(;B!==null;)r(q,B),B=B.sibling;return null}function c(q){for(var B=new Map;q!==null;)q.key!==null?B.set(q.key,q):B.set(q.index,q),q=q.sibling;return B}function f(q,B){return q=mi(q,B),q.index=0,q.sibling=null,q}function g(q,B,$){return q.index=$,s?($=q.alternate,$!==null?($=$.index,$<B?(q.flags|=67108866,B):$):(q.flags|=67108866,B)):(q.flags|=1048576,B)}function _(q){return s&&q.alternate===null&&(q.flags|=67108866),q}function S(q,B,$,te){return B===null||B.tag!==6?(B=nm($,q.mode,te),B.return=q,B):(B=f(B,$),B.return=q,B)}function V(q,B,$,te){var be=$.type;return be===L?J(q,B,$.props.children,te,$.key):B!==null&&(B.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===E&&ya(be)===B.type)?(B=f(B,$.props),Ql(B,$),B.return=q,B):(B=sh($.type,$.key,$.props,null,q.mode,te),Ql(B,$),B.return=q,B)}function K(q,B,$,te){return B===null||B.tag!==4||B.stateNode.containerInfo!==$.containerInfo||B.stateNode.implementation!==$.implementation?(B=sm($,q.mode,te),B.return=q,B):(B=f(B,$.children||[]),B.return=q,B)}function J(q,B,$,te,be){return B===null||B.tag!==7?(B=da($,q.mode,te,be),B.return=q,B):(B=f(B,$),B.return=q,B)}function ie(q,B,$){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=nm(""+B,q.mode,$),B.return=q,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case A:return $=sh(B.type,B.key,B.props,null,q.mode,$),Ql($,B),$.return=q,$;case M:return B=sm(B,q.mode,$),B.return=q,B;case E:return B=ya(B),ie(q,B,$)}if(Pe(B)||O(B))return B=da(B,q.mode,$,null),B.return=q,B;if(typeof B.then=="function")return ie(q,uh(B),$);if(B.$$typeof===H)return ie(q,ah(q,B),$);hh(q,B)}return null}function Y(q,B,$,te){var be=B!==null?B.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return be!==null?null:S(q,B,""+$,te);if(typeof $=="object"&&$!==null){switch($.$$typeof){case A:return $.key===be?V(q,B,$,te):null;case M:return $.key===be?K(q,B,$,te):null;case E:return $=ya($),Y(q,B,$,te)}if(Pe($)||O($))return be!==null?null:J(q,B,$,te,null);if(typeof $.then=="function")return Y(q,B,uh($),te);if($.$$typeof===H)return Y(q,B,ah(q,$),te);hh(q,$)}return null}function W(q,B,$,te,be){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return q=q.get($)||null,S(B,q,""+te,be);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case A:return q=q.get(te.key===null?$:te.key)||null,V(B,q,te,be);case M:return q=q.get(te.key===null?$:te.key)||null,K(B,q,te,be);case E:return te=ya(te),W(q,B,$,te,be)}if(Pe(te)||O(te))return q=q.get($)||null,J(B,q,te,be,null);if(typeof te.then=="function")return W(q,B,$,uh(te),be);if(te.$$typeof===H)return W(q,B,$,ah(B,te),be);hh(B,te)}return null}function pe(q,B,$,te){for(var be=null,Ye=null,ye=B,Oe=B=0,Fe=null;ye!==null&&Oe<$.length;Oe++){ye.index>Oe?(Fe=ye,ye=null):Fe=ye.sibling;var Qe=Y(q,ye,$[Oe],te);if(Qe===null){ye===null&&(ye=Fe);break}s&&ye&&Qe.alternate===null&&r(q,ye),B=g(Qe,B,Oe),Ye===null?be=Qe:Ye.sibling=Qe,Ye=Qe,ye=Fe}if(Oe===$.length)return o(q,ye),$e&&pi(q,Oe),be;if(ye===null){for(;Oe<$.length;Oe++)ye=ie(q,$[Oe],te),ye!==null&&(B=g(ye,B,Oe),Ye===null?be=ye:Ye.sibling=ye,Ye=ye);return $e&&pi(q,Oe),be}for(ye=c(ye);Oe<$.length;Oe++)Fe=W(ye,q,Oe,$[Oe],te),Fe!==null&&(s&&Fe.alternate!==null&&ye.delete(Fe.key===null?Oe:Fe.key),B=g(Fe,B,Oe),Ye===null?be=Fe:Ye.sibling=Fe,Ye=Fe);return s&&ye.forEach(function(xr){return r(q,xr)}),$e&&pi(q,Oe),be}function we(q,B,$,te){if($==null)throw Error(i(151));for(var be=null,Ye=null,ye=B,Oe=B=0,Fe=null,Qe=$.next();ye!==null&&!Qe.done;Oe++,Qe=$.next()){ye.index>Oe?(Fe=ye,ye=null):Fe=ye.sibling;var xr=Y(q,ye,Qe.value,te);if(xr===null){ye===null&&(ye=Fe);break}s&&ye&&xr.alternate===null&&r(q,ye),B=g(xr,B,Oe),Ye===null?be=xr:Ye.sibling=xr,Ye=xr,ye=Fe}if(Qe.done)return o(q,ye),$e&&pi(q,Oe),be;if(ye===null){for(;!Qe.done;Oe++,Qe=$.next())Qe=ie(q,Qe.value,te),Qe!==null&&(B=g(Qe,B,Oe),Ye===null?be=Qe:Ye.sibling=Qe,Ye=Qe);return $e&&pi(q,Oe),be}for(ye=c(ye);!Qe.done;Oe++,Qe=$.next())Qe=W(ye,q,Oe,Qe.value,te),Qe!==null&&(s&&Qe.alternate!==null&&ye.delete(Qe.key===null?Oe:Qe.key),B=g(Qe,B,Oe),Ye===null?be=Qe:Ye.sibling=Qe,Ye=Qe);return s&&ye.forEach(function(bR){return r(q,bR)}),$e&&pi(q,Oe),be}function rt(q,B,$,te){if(typeof $=="object"&&$!==null&&$.type===L&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case A:e:{for(var be=$.key;B!==null;){if(B.key===be){if(be=$.type,be===L){if(B.tag===7){o(q,B.sibling),te=f(B,$.props.children),te.return=q,q=te;break e}}else if(B.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===E&&ya(be)===B.type){o(q,B.sibling),te=f(B,$.props),Ql(te,$),te.return=q,q=te;break e}o(q,B);break}else r(q,B);B=B.sibling}$.type===L?(te=da($.props.children,q.mode,te,$.key),te.return=q,q=te):(te=sh($.type,$.key,$.props,null,q.mode,te),Ql(te,$),te.return=q,q=te)}return _(q);case M:e:{for(be=$.key;B!==null;){if(B.key===be)if(B.tag===4&&B.stateNode.containerInfo===$.containerInfo&&B.stateNode.implementation===$.implementation){o(q,B.sibling),te=f(B,$.children||[]),te.return=q,q=te;break e}else{o(q,B);break}else r(q,B);B=B.sibling}te=sm($,q.mode,te),te.return=q,q=te}return _(q);case E:return $=ya($),rt(q,B,$,te)}if(Pe($))return pe(q,B,$,te);if(O($)){if(be=O($),typeof be!="function")throw Error(i(150));return $=be.call($),we(q,B,$,te)}if(typeof $.then=="function")return rt(q,B,uh($),te);if($.$$typeof===H)return rt(q,B,ah(q,$),te);hh(q,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,B!==null&&B.tag===6?(o(q,B.sibling),te=f(B,$),te.return=q,q=te):(o(q,B),te=nm($,q.mode,te),te.return=q,q=te),_(q)):o(q,B)}return function(q,B,$,te){try{Yl=0;var be=rt(q,B,$,te);return po=null,be}catch(ye){if(ye===mo||ye===lh)throw ye;var Ye=jn(29,ye,null,q.mode);return Ye.lanes=te,Ye.return=q,Ye}}}var ba=Kv(!0),Yv=Kv(!1),sr=!1;function pm(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gm(s,r){s=s.updateQueue,r.updateQueue===s&&(r.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function ir(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function rr(s,r,o){var c=s.updateQueue;if(c===null)return null;if(c=c.shared,(We&2)!==0){var f=c.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),c.pending=r,r=nh(s),Iv(s,null,o),r}return th(s,c,r,o),nh(s)}function Xl(s,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var c=r.lanes;c&=s.pendingLanes,o|=c,r.lanes=o,wl(s,o)}}function ym(s,r){var o=s.updateQueue,c=s.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var f=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var _={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?f=g=_:g=g.next=_,o=o.next}while(o!==null);g===null?f=g=r:g=g.next=r}else f=g=r;o={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},s.updateQueue=o;return}s=o.lastBaseUpdate,s===null?o.firstBaseUpdate=r:s.next=r,o.lastBaseUpdate=r}var vm=!1;function Wl(){if(vm){var s=fo;if(s!==null)throw s}}function Jl(s,r,o,c){vm=!1;var f=s.updateQueue;sr=!1;var g=f.firstBaseUpdate,_=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var V=S,K=V.next;V.next=null,_===null?g=K:_.next=K,_=V;var J=s.alternate;J!==null&&(J=J.updateQueue,S=J.lastBaseUpdate,S!==_&&(S===null?J.firstBaseUpdate=K:S.next=K,J.lastBaseUpdate=V))}if(g!==null){var ie=f.baseState;_=0,J=K=V=null,S=g;do{var Y=S.lane&-536870913,W=Y!==S.lane;if(W?(Be&Y)===Y:(c&Y)===Y){Y!==0&&Y===ho&&(vm=!0),J!==null&&(J=J.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var pe=s,we=S;Y=r;var rt=o;switch(we.tag){case 1:if(pe=we.payload,typeof pe=="function"){ie=pe.call(rt,ie,Y);break e}ie=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=we.payload,Y=typeof pe=="function"?pe.call(rt,ie,Y):pe,Y==null)break e;ie=x({},ie,Y);break e;case 2:sr=!0}}Y=S.callback,Y!==null&&(s.flags|=64,W&&(s.flags|=8192),W=f.callbacks,W===null?f.callbacks=[Y]:W.push(Y))}else W={lane:Y,tag:S.tag,payload:S.payload,callback:S.callback,next:null},J===null?(K=J=W,V=ie):J=J.next=W,_|=Y;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;W=S,S=W.next,W.next=null,f.lastBaseUpdate=W,f.shared.pending=null}}while(!0);J===null&&(V=ie),f.baseState=V,f.firstBaseUpdate=K,f.lastBaseUpdate=J,g===null&&(f.shared.lanes=0),ur|=_,s.lanes=_,s.memoizedState=ie}}function Qv(s,r){if(typeof s!="function")throw Error(i(191,s));s.call(r)}function Xv(s,r){var o=s.callbacks;if(o!==null)for(s.callbacks=null,s=0;s<o.length;s++)Qv(o[s],r)}var go=z(null),dh=z(0);function Wv(s,r){s=Ai,ue(dh,s),ue(go,r),Ai=s|r.baseLanes}function bm(){ue(dh,Ai),ue(go,go.current)}function xm(){Ai=dh.current,ee(go),ee(dh)}var Mn=z(null),Wn=null;function ar(s){var r=s.alternate;ue(Tt,Tt.current&1),ue(Mn,s),Wn===null&&(r===null||go.current!==null||r.memoizedState!==null)&&(Wn=s)}function _m(s){ue(Tt,Tt.current),ue(Mn,s),Wn===null&&(Wn=s)}function Jv(s){s.tag===22?(ue(Tt,Tt.current),ue(Mn,s),Wn===null&&(Wn=s)):or()}function or(){ue(Tt,Tt.current),ue(Mn,Mn.current)}function Vn(s){ee(Mn),Wn===s&&(Wn=null),ee(Tt)}var Tt=z(0);function fh(s){for(var r=s;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Cp(o)||Np(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var vi=0,Me=null,st=null,Dt=null,mh=!1,yo=!1,xa=!1,ph=0,Zl=0,vo=null,cN=0;function yt(){throw Error(i(321))}function Tm(s,r){if(r===null)return!1;for(var o=0;o<r.length&&o<s.length;o++)if(!Dn(s[o],r[o]))return!1;return!0}function wm(s,r,o,c,f,g){return vi=g,Me=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Q.H=s===null||s.memoizedState===null?Vb:Lm,xa=!1,g=o(c,f),xa=!1,yo&&(g=eb(r,o,c,f)),Zv(s),g}function Zv(s){Q.H=nc;var r=st!==null&&st.next!==null;if(vi=0,Dt=st=Me=null,mh=!1,Zl=0,vo=null,r)throw Error(i(300));s===null||jt||(s=s.dependencies,s!==null&&rh(s)&&(jt=!0))}function eb(s,r,o,c){Me=s;var f=0;do{if(yo&&(vo=null),Zl=0,yo=!1,25<=f)throw Error(i(301));if(f+=1,Dt=st=null,s.updateQueue!=null){var g=s.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}Q.H=Ob,g=r(o,c)}while(yo);return g}function uN(){var s=Q.H,r=s.useState()[0];return r=typeof r.then=="function"?ec(r):r,s=s.useState()[0],(st!==null?st.memoizedState:null)!==s&&(Me.flags|=1024),r}function Em(){var s=ph!==0;return ph=0,s}function Sm(s,r,o){r.updateQueue=s.updateQueue,r.flags&=-2053,s.lanes&=~o}function Am(s){if(mh){for(s=s.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}mh=!1}vi=0,Dt=st=Me=null,yo=!1,Zl=ph=0,vo=null}function yn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?Me.memoizedState=Dt=s:Dt=Dt.next=s,Dt}function wt(){if(st===null){var s=Me.alternate;s=s!==null?s.memoizedState:null}else s=st.next;var r=Dt===null?Me.memoizedState:Dt.next;if(r!==null)Dt=r,st=s;else{if(s===null)throw Me.alternate===null?Error(i(467)):Error(i(310));st=s,s={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},Dt===null?Me.memoizedState=Dt=s:Dt=Dt.next=s}return Dt}function gh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ec(s){var r=Zl;return Zl+=1,vo===null&&(vo=[]),s=qv(vo,s,r),r=Me,(Dt===null?r.memoizedState:Dt.next)===null&&(r=r.alternate,Q.H=r===null||r.memoizedState===null?Vb:Lm),s}function yh(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return ec(s);if(s.$$typeof===H)return en(s)}throw Error(i(438,String(s)))}function Cm(s){var r=null,o=Me.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var c=Me.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(r={data:c.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=gh(),Me.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(s),c=0;c<s;c++)o[c]=j;return r.index++,o}function bi(s,r){return typeof r=="function"?r(s):r}function vh(s){var r=wt();return Nm(r,st,s)}function Nm(s,r,o){var c=s.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=o;var f=s.baseQueue,g=c.pending;if(g!==null){if(f!==null){var _=f.next;f.next=g.next,g.next=_}r.baseQueue=f=g,c.pending=null}if(g=s.baseState,f===null)s.memoizedState=g;else{r=f.next;var S=_=null,V=null,K=r,J=!1;do{var ie=K.lane&-536870913;if(ie!==K.lane?(Be&ie)===ie:(vi&ie)===ie){var Y=K.revertLane;if(Y===0)V!==null&&(V=V.next={lane:0,revertLane:0,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),ie===ho&&(J=!0);else if((vi&Y)===Y){K=K.next,Y===ho&&(J=!0);continue}else ie={lane:0,revertLane:K.revertLane,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},V===null?(S=V=ie,_=g):V=V.next=ie,Me.lanes|=Y,ur|=Y;ie=K.action,xa&&o(g,ie),g=K.hasEagerState?K.eagerState:o(g,ie)}else Y={lane:ie,revertLane:K.revertLane,gesture:K.gesture,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},V===null?(S=V=Y,_=g):V=V.next=Y,Me.lanes|=ie,ur|=ie;K=K.next}while(K!==null&&K!==r);if(V===null?_=g:V.next=S,!Dn(g,s.memoizedState)&&(jt=!0,J&&(o=fo,o!==null)))throw o;s.memoizedState=g,s.baseState=_,s.baseQueue=V,c.lastRenderedState=g}return f===null&&(c.lanes=0),[s.memoizedState,c.dispatch]}function Rm(s){var r=wt(),o=r.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=s;var c=o.dispatch,f=o.pending,g=r.memoizedState;if(f!==null){o.pending=null;var _=f=f.next;do g=s(g,_.action),_=_.next;while(_!==f);Dn(g,r.memoizedState)||(jt=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),o.lastRenderedState=g}return[g,c]}function tb(s,r,o){var c=Me,f=wt(),g=$e;if(g){if(o===void 0)throw Error(i(407));o=o()}else o=r();var _=!Dn((st||f).memoizedState,o);if(_&&(f.memoizedState=o,jt=!0),f=f.queue,Dm(ib.bind(null,c,f,s),[s]),f.getSnapshot!==r||_||Dt!==null&&Dt.memoizedState.tag&1){if(c.flags|=2048,bo(9,{destroy:void 0},sb.bind(null,c,f,o,r),null),at===null)throw Error(i(349));g||(vi&127)!==0||nb(c,r,o)}return o}function nb(s,r,o){s.flags|=16384,s={getSnapshot:r,value:o},r=Me.updateQueue,r===null?(r=gh(),Me.updateQueue=r,r.stores=[s]):(o=r.stores,o===null?r.stores=[s]:o.push(s))}function sb(s,r,o,c){r.value=o,r.getSnapshot=c,rb(r)&&ab(s)}function ib(s,r,o){return o(function(){rb(r)&&ab(s)})}function rb(s){var r=s.getSnapshot;s=s.value;try{var o=r();return!Dn(s,o)}catch{return!0}}function ab(s){var r=ha(s,2);r!==null&&Cn(r,s,2)}function km(s){var r=yn();if(typeof s=="function"){var o=s;if(s=o(),xa){Bn(!0);try{o()}finally{Bn(!1)}}}return r.memoizedState=r.baseState=s,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:s},r}function ob(s,r,o,c){return s.baseState=o,Nm(s,st,typeof c=="function"?c:bi)}function hN(s,r,o,c,f){if(_h(s))throw Error(i(485));if(s=r.action,s!==null){var g={payload:f,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){g.listeners.push(_)}};Q.T!==null?o(!0):g.isTransition=!1,c(g),o=r.pending,o===null?(g.next=r.pending=g,lb(r,g)):(g.next=o.next,r.pending=o.next=g)}}function lb(s,r){var o=r.action,c=r.payload,f=s.state;if(r.isTransition){var g=Q.T,_={};Q.T=_;try{var S=o(f,c),V=Q.S;V!==null&&V(_,S),cb(s,r,S)}catch(K){Im(s,r,K)}finally{g!==null&&_.types!==null&&(g.types=_.types),Q.T=g}}else try{g=o(f,c),cb(s,r,g)}catch(K){Im(s,r,K)}}function cb(s,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){ub(s,r,c)},function(c){return Im(s,r,c)}):ub(s,r,o)}function ub(s,r,o){r.status="fulfilled",r.value=o,hb(r),s.state=o,r=s.pending,r!==null&&(o=r.next,o===r?s.pending=null:(o=o.next,r.next=o,lb(s,o)))}function Im(s,r,o){var c=s.pending;if(s.pending=null,c!==null){c=c.next;do r.status="rejected",r.reason=o,hb(r),r=r.next;while(r!==c)}s.action=null}function hb(s){s=s.listeners;for(var r=0;r<s.length;r++)(0,s[r])()}function db(s,r){return r}function fb(s,r){if($e){var o=at.formState;if(o!==null){e:{var c=Me;if($e){if(ct){t:{for(var f=ct,g=Xn;f.nodeType!==8;){if(!g){f=null;break t}if(f=Jn(f.nextSibling),f===null){f=null;break t}}g=f.data,f=g==="F!"||g==="F"?f:null}if(f){ct=Jn(f.nextSibling),c=f.data==="F!";break e}}tr(c)}c=!1}c&&(r=o[0])}}return o=yn(),o.memoizedState=o.baseState=r,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:db,lastRenderedState:r},o.queue=c,o=Db.bind(null,Me,c),c.dispatch=o,c=km(!1),g=Pm.bind(null,Me,!1,c.queue),c=yn(),f={state:r,dispatch:null,action:s,pending:null},c.queue=f,o=hN.bind(null,Me,f,g,o),f.dispatch=o,c.memoizedState=s,[r,o,!1]}function mb(s){var r=wt();return pb(r,st,s)}function pb(s,r,o){if(r=Nm(s,r,db)[0],s=vh(bi)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var c=ec(r)}catch(_){throw _===mo?lh:_}else c=r;r=wt();var f=r.queue,g=f.dispatch;return o!==r.memoizedState&&(Me.flags|=2048,bo(9,{destroy:void 0},dN.bind(null,f,o),null)),[c,g,s]}function dN(s,r){s.action=r}function gb(s){var r=wt(),o=st;if(o!==null)return pb(r,o,s);wt(),r=r.memoizedState,o=wt();var c=o.queue.dispatch;return o.memoizedState=s,[r,c,!1]}function bo(s,r,o,c){return s={tag:s,create:o,deps:c,inst:r,next:null},r=Me.updateQueue,r===null&&(r=gh(),Me.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=s.next=s:(c=o.next,o.next=s,s.next=c,r.lastEffect=s),s}function yb(){return wt().memoizedState}function bh(s,r,o,c){var f=yn();Me.flags|=s,f.memoizedState=bo(1|r,{destroy:void 0},o,c===void 0?null:c)}function xh(s,r,o,c){var f=wt();c=c===void 0?null:c;var g=f.memoizedState.inst;st!==null&&c!==null&&Tm(c,st.memoizedState.deps)?f.memoizedState=bo(r,g,o,c):(Me.flags|=s,f.memoizedState=bo(1|r,g,o,c))}function vb(s,r){bh(8390656,8,s,r)}function Dm(s,r){xh(2048,8,s,r)}function fN(s){Me.flags|=4;var r=Me.updateQueue;if(r===null)r=gh(),Me.updateQueue=r,r.events=[s];else{var o=r.events;o===null?r.events=[s]:o.push(s)}}function bb(s){var r=wt().memoizedState;return fN({ref:r,nextImpl:s}),function(){if((We&2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}function xb(s,r){return xh(4,2,s,r)}function _b(s,r){return xh(4,4,s,r)}function Tb(s,r){if(typeof r=="function"){s=s();var o=r(s);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return s=s(),r.current=s,function(){r.current=null}}function wb(s,r,o){o=o!=null?o.concat([s]):null,xh(4,4,Tb.bind(null,r,s),o)}function jm(){}function Eb(s,r){var o=wt();r=r===void 0?null:r;var c=o.memoizedState;return r!==null&&Tm(r,c[1])?c[0]:(o.memoizedState=[s,r],s)}function Sb(s,r){var o=wt();r=r===void 0?null:r;var c=o.memoizedState;if(r!==null&&Tm(r,c[1]))return c[0];if(c=s(),xa){Bn(!0);try{s()}finally{Bn(!1)}}return o.memoizedState=[c,r],c}function Mm(s,r,o){return o===void 0||(vi&1073741824)!==0&&(Be&261930)===0?s.memoizedState=r:(s.memoizedState=o,s=Ax(),Me.lanes|=s,ur|=s,o)}function Ab(s,r,o,c){return Dn(o,r)?o:go.current!==null?(s=Mm(s,o,c),Dn(s,r)||(jt=!0),s):(vi&42)===0||(vi&1073741824)!==0&&(Be&261930)===0?(jt=!0,s.memoizedState=o):(s=Ax(),Me.lanes|=s,ur|=s,r)}function Cb(s,r,o,c,f){var g=ae.p;ae.p=g!==0&&8>g?g:8;var _=Q.T,S={};Q.T=S,Pm(s,!1,r,o);try{var V=f(),K=Q.S;if(K!==null&&K(S,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var J=lN(V,c);tc(s,r,J,Ln(s))}else tc(s,r,c,Ln(s))}catch(ie){tc(s,r,{then:function(){},status:"rejected",reason:ie},Ln())}finally{ae.p=g,_!==null&&S.types!==null&&(_.types=S.types),Q.T=_}}function mN(){}function Vm(s,r,o,c){if(s.tag!==5)throw Error(i(476));var f=Nb(s).queue;Cb(s,f,r,de,o===null?mN:function(){return Rb(s),o(c)})}function Nb(s){var r=s.memoizedState;if(r!==null)return r;r={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:de},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:o},next:null},s.memoizedState=r,s=s.alternate,s!==null&&(s.memoizedState=r),r}function Rb(s){var r=Nb(s);r.next===null&&(r=s.alternate.memoizedState),tc(s,r.next.queue,{},Ln())}function Om(){return en(vc)}function kb(){return wt().memoizedState}function Ib(){return wt().memoizedState}function pN(s){for(var r=s.return;r!==null;){switch(r.tag){case 24:case 3:var o=Ln();s=ir(o);var c=rr(r,s,o);c!==null&&(Cn(c,r,o),Xl(c,r,o)),r={cache:hm()},s.payload=r;return}r=r.return}}function gN(s,r,o){var c=Ln();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},_h(s)?jb(r,o):(o=em(s,r,o,c),o!==null&&(Cn(o,s,c),Mb(o,r,c)))}function Db(s,r,o){var c=Ln();tc(s,r,o,c)}function tc(s,r,o,c){var f={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(_h(s))jb(r,f);else{var g=s.alternate;if(s.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var _=r.lastRenderedState,S=g(_,o);if(f.hasEagerState=!0,f.eagerState=S,Dn(S,_))return th(s,r,f,0),at===null&&eh(),!1}catch{}if(o=em(s,r,f,c),o!==null)return Cn(o,s,c),Mb(o,r,c),!0}return!1}function Pm(s,r,o,c){if(c={lane:2,revertLane:pp(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},_h(s)){if(r)throw Error(i(479))}else r=em(s,o,c,2),r!==null&&Cn(r,s,2)}function _h(s){var r=s.alternate;return s===Me||r!==null&&r===Me}function jb(s,r){yo=mh=!0;var o=s.pending;o===null?r.next=r:(r.next=o.next,o.next=r),s.pending=r}function Mb(s,r,o){if((o&4194048)!==0){var c=r.lanes;c&=s.pendingLanes,o|=c,r.lanes=o,wl(s,o)}}var nc={readContext:en,use:yh,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useLayoutEffect:yt,useInsertionEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useSyncExternalStore:yt,useId:yt,useHostTransitionStatus:yt,useFormState:yt,useActionState:yt,useOptimistic:yt,useMemoCache:yt,useCacheRefresh:yt};nc.useEffectEvent=yt;var Vb={readContext:en,use:yh,useCallback:function(s,r){return yn().memoizedState=[s,r===void 0?null:r],s},useContext:en,useEffect:vb,useImperativeHandle:function(s,r,o){o=o!=null?o.concat([s]):null,bh(4194308,4,Tb.bind(null,r,s),o)},useLayoutEffect:function(s,r){return bh(4194308,4,s,r)},useInsertionEffect:function(s,r){bh(4,2,s,r)},useMemo:function(s,r){var o=yn();r=r===void 0?null:r;var c=s();if(xa){Bn(!0);try{s()}finally{Bn(!1)}}return o.memoizedState=[c,r],c},useReducer:function(s,r,o){var c=yn();if(o!==void 0){var f=o(r);if(xa){Bn(!0);try{o(r)}finally{Bn(!1)}}}else f=r;return c.memoizedState=c.baseState=f,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:f},c.queue=s,s=s.dispatch=gN.bind(null,Me,s),[c.memoizedState,s]},useRef:function(s){var r=yn();return s={current:s},r.memoizedState=s},useState:function(s){s=km(s);var r=s.queue,o=Db.bind(null,Me,r);return r.dispatch=o,[s.memoizedState,o]},useDebugValue:jm,useDeferredValue:function(s,r){var o=yn();return Mm(o,s,r)},useTransition:function(){var s=km(!1);return s=Cb.bind(null,Me,s.queue,!0,!1),yn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,r,o){var c=Me,f=yn();if($e){if(o===void 0)throw Error(i(407));o=o()}else{if(o=r(),at===null)throw Error(i(349));(Be&127)!==0||nb(c,r,o)}f.memoizedState=o;var g={value:o,getSnapshot:r};return f.queue=g,vb(ib.bind(null,c,g,s),[s]),c.flags|=2048,bo(9,{destroy:void 0},sb.bind(null,c,g,o,r),null),o},useId:function(){var s=yn(),r=at.identifierPrefix;if($e){var o=Ys,c=Ks;o=(c&~(1<<32-xt(c)-1)).toString(32)+o,r="_"+r+"R_"+o,o=ph++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=cN++,r="_"+r+"r_"+o.toString(32)+"_";return s.memoizedState=r},useHostTransitionStatus:Om,useFormState:fb,useActionState:fb,useOptimistic:function(s){var r=yn();r.memoizedState=r.baseState=s;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=Pm.bind(null,Me,!0,o),o.dispatch=r,[s,r]},useMemoCache:Cm,useCacheRefresh:function(){return yn().memoizedState=pN.bind(null,Me)},useEffectEvent:function(s){var r=yn(),o={impl:s};return r.memoizedState=o,function(){if((We&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}},Lm={readContext:en,use:yh,useCallback:Eb,useContext:en,useEffect:Dm,useImperativeHandle:wb,useInsertionEffect:xb,useLayoutEffect:_b,useMemo:Sb,useReducer:vh,useRef:yb,useState:function(){return vh(bi)},useDebugValue:jm,useDeferredValue:function(s,r){var o=wt();return Ab(o,st.memoizedState,s,r)},useTransition:function(){var s=vh(bi)[0],r=wt().memoizedState;return[typeof s=="boolean"?s:ec(s),r]},useSyncExternalStore:tb,useId:kb,useHostTransitionStatus:Om,useFormState:mb,useActionState:mb,useOptimistic:function(s,r){var o=wt();return ob(o,st,s,r)},useMemoCache:Cm,useCacheRefresh:Ib};Lm.useEffectEvent=bb;var Ob={readContext:en,use:yh,useCallback:Eb,useContext:en,useEffect:Dm,useImperativeHandle:wb,useInsertionEffect:xb,useLayoutEffect:_b,useMemo:Sb,useReducer:Rm,useRef:yb,useState:function(){return Rm(bi)},useDebugValue:jm,useDeferredValue:function(s,r){var o=wt();return st===null?Mm(o,s,r):Ab(o,st.memoizedState,s,r)},useTransition:function(){var s=Rm(bi)[0],r=wt().memoizedState;return[typeof s=="boolean"?s:ec(s),r]},useSyncExternalStore:tb,useId:kb,useHostTransitionStatus:Om,useFormState:gb,useActionState:gb,useOptimistic:function(s,r){var o=wt();return st!==null?ob(o,st,s,r):(o.baseState=s,[s,o.queue.dispatch])},useMemoCache:Cm,useCacheRefresh:Ib};Ob.useEffectEvent=bb;function Um(s,r,o,c){r=s.memoizedState,o=o(c,r),o=o==null?r:x({},r,o),s.memoizedState=o,s.lanes===0&&(s.updateQueue.baseState=o)}var zm={enqueueSetState:function(s,r,o){s=s._reactInternals;var c=Ln(),f=ir(c);f.payload=r,o!=null&&(f.callback=o),r=rr(s,f,c),r!==null&&(Cn(r,s,c),Xl(r,s,c))},enqueueReplaceState:function(s,r,o){s=s._reactInternals;var c=Ln(),f=ir(c);f.tag=1,f.payload=r,o!=null&&(f.callback=o),r=rr(s,f,c),r!==null&&(Cn(r,s,c),Xl(r,s,c))},enqueueForceUpdate:function(s,r){s=s._reactInternals;var o=Ln(),c=ir(o);c.tag=2,r!=null&&(c.callback=r),r=rr(s,c,o),r!==null&&(Cn(r,s,o),Xl(r,s,o))}};function Pb(s,r,o,c,f,g,_){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(c,g,_):r.prototype&&r.prototype.isPureReactComponent?!Fl(o,c)||!Fl(f,g):!0}function Lb(s,r,o,c){s=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,c),r.state!==s&&zm.enqueueReplaceState(r,r.state,null)}function _a(s,r){var o=r;if("ref"in r){o={};for(var c in r)c!=="ref"&&(o[c]=r[c])}if(s=s.defaultProps){o===r&&(o=x({},o));for(var f in s)o[f]===void 0&&(o[f]=s[f])}return o}function Ub(s){Zu(s)}function zb(s){console.error(s)}function Bb(s){Zu(s)}function Th(s,r){try{var o=s.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(c){setTimeout(function(){throw c})}}function Fb(s,r,o){try{var c=s.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Bm(s,r,o){return o=ir(o),o.tag=3,o.payload={element:null},o.callback=function(){Th(s,r)},o}function Hb(s){return s=ir(s),s.tag=3,s}function qb(s,r,o,c){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var g=c.value;s.payload=function(){return f(g)},s.callback=function(){Fb(r,o,c)}}var _=o.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(s.callback=function(){Fb(r,o,c),typeof f!="function"&&(hr===null?hr=new Set([this]):hr.add(this));var S=c.stack;this.componentDidCatch(c.value,{componentStack:S!==null?S:""})})}function yN(s,r,o,c,f){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(r=o.alternate,r!==null&&uo(r,o,f,!0),o=Mn.current,o!==null){switch(o.tag){case 31:case 13:return Wn===null?Mh():o.alternate===null&&vt===0&&(vt=3),o.flags&=-257,o.flags|=65536,o.lanes=f,c===ch?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([c]):r.add(c),dp(s,c,f)),!1;case 22:return o.flags|=65536,c===ch?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([c]):o.add(c)),dp(s,c,f)),!1}throw Error(i(435,o.tag))}return dp(s,c,f),Mh(),!1}if($e)return r=Mn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,c!==am&&(s=Error(i(422),{cause:c}),Gl(Kn(s,o)))):(c!==am&&(r=Error(i(423),{cause:c}),Gl(Kn(r,o))),s=s.current.alternate,s.flags|=65536,f&=-f,s.lanes|=f,c=Kn(c,o),f=Bm(s.stateNode,c,f),ym(s,f),vt!==4&&(vt=2)),!1;var g=Error(i(520),{cause:c});if(g=Kn(g,o),uc===null?uc=[g]:uc.push(g),vt!==4&&(vt=2),r===null)return!0;c=Kn(c,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,s=f&-f,o.lanes|=s,s=Bm(o.stateNode,c,s),ym(o,s),!1;case 1:if(r=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(hr===null||!hr.has(g))))return o.flags|=65536,f&=-f,o.lanes|=f,f=Hb(f),qb(f,s,o,c),ym(o,f),!1}o=o.return}while(o!==null);return!1}var Fm=Error(i(461)),jt=!1;function tn(s,r,o,c){r.child=s===null?Yv(r,null,o,c):ba(r,s.child,o,c)}function Gb(s,r,o,c,f){o=o.render;var g=r.ref;if("ref"in c){var _={};for(var S in c)S!=="ref"&&(_[S]=c[S])}else _=c;return pa(r),c=wm(s,r,o,_,g,f),S=Em(),s!==null&&!jt?(Sm(s,r,f),xi(s,r,f)):($e&&S&&im(r),r.flags|=1,tn(s,r,c,f),r.child)}function $b(s,r,o,c,f){if(s===null){var g=o.type;return typeof g=="function"&&!tm(g)&&g.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=g,Kb(s,r,g,c,f)):(s=sh(o.type,null,c,r,r.mode,f),s.ref=r.ref,s.return=r,r.child=s)}if(g=s.child,!Xm(s,f)){var _=g.memoizedProps;if(o=o.compare,o=o!==null?o:Fl,o(_,c)&&s.ref===r.ref)return xi(s,r,f)}return r.flags|=1,s=mi(g,c),s.ref=r.ref,s.return=r,r.child=s}function Kb(s,r,o,c,f){if(s!==null){var g=s.memoizedProps;if(Fl(g,c)&&s.ref===r.ref)if(jt=!1,r.pendingProps=c=g,Xm(s,f))(s.flags&131072)!==0&&(jt=!0);else return r.lanes=s.lanes,xi(s,r,f)}return Hm(s,r,o,c,f)}function Yb(s,r,o,c){var f=c.children,g=s!==null?s.memoizedState:null;if(s===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((r.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,s!==null){for(c=r.child=s.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;c=f&~g}else c=0,r.child=null;return Qb(s,r,g,o,c)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},s!==null&&oh(r,g!==null?g.cachePool:null),g!==null?Wv(r,g):bm(),Jv(r);else return c=r.lanes=536870912,Qb(s,r,g!==null?g.baseLanes|o:o,o,c)}else g!==null?(oh(r,g.cachePool),Wv(r,g),or(),r.memoizedState=null):(s!==null&&oh(r,null),bm(),or());return tn(s,r,f,o),r.child}function sc(s,r){return s!==null&&s.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function Qb(s,r,o,c,f){var g=fm();return g=g===null?null:{parent:It._currentValue,pool:g},r.memoizedState={baseLanes:o,cachePool:g},s!==null&&oh(r,null),bm(),Jv(r),s!==null&&uo(s,r,c,!0),r.childLanes=f,null}function wh(s,r){return r=Sh({mode:r.mode,children:r.children},s.mode),r.ref=s.ref,s.child=r,r.return=s,r}function Xb(s,r,o){return ba(r,s.child,null,o),s=wh(r,r.pendingProps),s.flags|=2,Vn(r),r.memoizedState=null,s}function vN(s,r,o){var c=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,s===null){if($e){if(c.mode==="hidden")return s=wh(r,c),r.lanes=536870912,sc(null,s);if(_m(r),(s=ct)?(s=l1(s,Xn),s=s!==null&&s.data==="&"?s:null,s!==null&&(r.memoizedState={dehydrated:s,treeContext:Zi!==null?{id:Ks,overflow:Ys}:null,retryLane:536870912,hydrationErrors:null},o=jv(s),o.return=r,r.child=o,Zt=r,ct=null)):s=null,s===null)throw tr(r);return r.lanes=536870912,null}return wh(r,c)}var g=s.memoizedState;if(g!==null){var _=g.dehydrated;if(_m(r),f)if(r.flags&256)r.flags&=-257,r=Xb(s,r,o);else if(r.memoizedState!==null)r.child=s.child,r.flags|=128,r=null;else throw Error(i(558));else if(jt||uo(s,r,o,!1),f=(o&s.childLanes)!==0,jt||f){if(c=at,c!==null&&(_=El(c,o),_!==0&&_!==g.retryLane))throw g.retryLane=_,ha(s,_),Cn(c,s,_),Fm;Mh(),r=Xb(s,r,o)}else s=g.treeContext,ct=Jn(_.nextSibling),Zt=r,$e=!0,er=null,Xn=!1,s!==null&&Ov(r,s),r=wh(r,c),r.flags|=4096;return r}return s=mi(s.child,{mode:c.mode,children:c.children}),s.ref=r.ref,r.child=s,s.return=r,s}function Eh(s,r){var o=r.ref;if(o===null)s!==null&&s.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(s===null||s.ref!==o)&&(r.flags|=4194816)}}function Hm(s,r,o,c,f){return pa(r),o=wm(s,r,o,c,void 0,f),c=Em(),s!==null&&!jt?(Sm(s,r,f),xi(s,r,f)):($e&&c&&im(r),r.flags|=1,tn(s,r,o,f),r.child)}function Wb(s,r,o,c,f,g){return pa(r),r.updateQueue=null,o=eb(r,c,o,f),Zv(s),c=Em(),s!==null&&!jt?(Sm(s,r,g),xi(s,r,g)):($e&&c&&im(r),r.flags|=1,tn(s,r,o,g),r.child)}function Jb(s,r,o,c,f){if(pa(r),r.stateNode===null){var g=ao,_=o.contextType;typeof _=="object"&&_!==null&&(g=en(_)),g=new o(c,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=zm,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=c,g.state=r.memoizedState,g.refs={},pm(r),_=o.contextType,g.context=typeof _=="object"&&_!==null?en(_):ao,g.state=r.memoizedState,_=o.getDerivedStateFromProps,typeof _=="function"&&(Um(r,o,_,c),g.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(_=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),_!==g.state&&zm.enqueueReplaceState(g,g.state,null),Jl(r,c,g,f),Wl(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),c=!0}else if(s===null){g=r.stateNode;var S=r.memoizedProps,V=_a(o,S);g.props=V;var K=g.context,J=o.contextType;_=ao,typeof J=="object"&&J!==null&&(_=en(J));var ie=o.getDerivedStateFromProps;J=typeof ie=="function"||typeof g.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,J||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S||K!==_)&&Lb(r,g,c,_),sr=!1;var Y=r.memoizedState;g.state=Y,Jl(r,c,g,f),Wl(),K=r.memoizedState,S||Y!==K||sr?(typeof ie=="function"&&(Um(r,o,ie,c),K=r.memoizedState),(V=sr||Pb(r,o,V,c,Y,K,_))?(J||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=K),g.props=c,g.state=K,g.context=_,c=V):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{g=r.stateNode,gm(s,r),_=r.memoizedProps,J=_a(o,_),g.props=J,ie=r.pendingProps,Y=g.context,K=o.contextType,V=ao,typeof K=="object"&&K!==null&&(V=en(K)),S=o.getDerivedStateFromProps,(K=typeof S=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(_!==ie||Y!==V)&&Lb(r,g,c,V),sr=!1,Y=r.memoizedState,g.state=Y,Jl(r,c,g,f),Wl();var W=r.memoizedState;_!==ie||Y!==W||sr||s!==null&&s.dependencies!==null&&rh(s.dependencies)?(typeof S=="function"&&(Um(r,o,S,c),W=r.memoizedState),(J=sr||Pb(r,o,J,c,Y,W,V)||s!==null&&s.dependencies!==null&&rh(s.dependencies))?(K||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,W,V),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,W,V)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||_===s.memoizedProps&&Y===s.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||_===s.memoizedProps&&Y===s.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=W),g.props=c,g.state=W,g.context=V,c=J):(typeof g.componentDidUpdate!="function"||_===s.memoizedProps&&Y===s.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||_===s.memoizedProps&&Y===s.memoizedState||(r.flags|=1024),c=!1)}return g=c,Eh(s,r),c=(r.flags&128)!==0,g||c?(g=r.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,s!==null&&c?(r.child=ba(r,s.child,null,f),r.child=ba(r,null,o,f)):tn(s,r,o,f),r.memoizedState=g.state,s=r.child):s=xi(s,r,f),s}function Zb(s,r,o,c){return fa(),r.flags|=256,tn(s,r,o,c),r.child}var qm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Gm(s){return{baseLanes:s,cachePool:Fv()}}function $m(s,r,o){return s=s!==null?s.childLanes&~o:0,r&&(s|=Pn),s}function ex(s,r,o){var c=r.pendingProps,f=!1,g=(r.flags&128)!==0,_;if((_=g)||(_=s!==null&&s.memoizedState===null?!1:(Tt.current&2)!==0),_&&(f=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,s===null){if($e){if(f?ar(r):or(),(s=ct)?(s=l1(s,Xn),s=s!==null&&s.data!=="&"?s:null,s!==null&&(r.memoizedState={dehydrated:s,treeContext:Zi!==null?{id:Ks,overflow:Ys}:null,retryLane:536870912,hydrationErrors:null},o=jv(s),o.return=r,r.child=o,Zt=r,ct=null)):s=null,s===null)throw tr(r);return Np(s)?r.lanes=32:r.lanes=536870912,null}var S=c.children;return c=c.fallback,f?(or(),f=r.mode,S=Sh({mode:"hidden",children:S},f),c=da(c,f,o,null),S.return=r,c.return=r,S.sibling=c,r.child=S,c=r.child,c.memoizedState=Gm(o),c.childLanes=$m(s,_,o),r.memoizedState=qm,sc(null,c)):(ar(r),Km(r,S))}var V=s.memoizedState;if(V!==null&&(S=V.dehydrated,S!==null)){if(g)r.flags&256?(ar(r),r.flags&=-257,r=Ym(s,r,o)):r.memoizedState!==null?(or(),r.child=s.child,r.flags|=128,r=null):(or(),S=c.fallback,f=r.mode,c=Sh({mode:"visible",children:c.children},f),S=da(S,f,o,null),S.flags|=2,c.return=r,S.return=r,c.sibling=S,r.child=c,ba(r,s.child,null,o),c=r.child,c.memoizedState=Gm(o),c.childLanes=$m(s,_,o),r.memoizedState=qm,r=sc(null,c));else if(ar(r),Np(S)){if(_=S.nextSibling&&S.nextSibling.dataset,_)var K=_.dgst;_=K,c=Error(i(419)),c.stack="",c.digest=_,Gl({value:c,source:null,stack:null}),r=Ym(s,r,o)}else if(jt||uo(s,r,o,!1),_=(o&s.childLanes)!==0,jt||_){if(_=at,_!==null&&(c=El(_,o),c!==0&&c!==V.retryLane))throw V.retryLane=c,ha(s,c),Cn(_,s,c),Fm;Cp(S)||Mh(),r=Ym(s,r,o)}else Cp(S)?(r.flags|=192,r.child=s.child,r=null):(s=V.treeContext,ct=Jn(S.nextSibling),Zt=r,$e=!0,er=null,Xn=!1,s!==null&&Ov(r,s),r=Km(r,c.children),r.flags|=4096);return r}return f?(or(),S=c.fallback,f=r.mode,V=s.child,K=V.sibling,c=mi(V,{mode:"hidden",children:c.children}),c.subtreeFlags=V.subtreeFlags&65011712,K!==null?S=mi(K,S):(S=da(S,f,o,null),S.flags|=2),S.return=r,c.return=r,c.sibling=S,r.child=c,sc(null,c),c=r.child,S=s.child.memoizedState,S===null?S=Gm(o):(f=S.cachePool,f!==null?(V=It._currentValue,f=f.parent!==V?{parent:V,pool:V}:f):f=Fv(),S={baseLanes:S.baseLanes|o,cachePool:f}),c.memoizedState=S,c.childLanes=$m(s,_,o),r.memoizedState=qm,sc(s.child,c)):(ar(r),o=s.child,s=o.sibling,o=mi(o,{mode:"visible",children:c.children}),o.return=r,o.sibling=null,s!==null&&(_=r.deletions,_===null?(r.deletions=[s],r.flags|=16):_.push(s)),r.child=o,r.memoizedState=null,o)}function Km(s,r){return r=Sh({mode:"visible",children:r},s.mode),r.return=s,s.child=r}function Sh(s,r){return s=jn(22,s,null,r),s.lanes=0,s}function Ym(s,r,o){return ba(r,s.child,null,o),s=Km(r,r.pendingProps.children),s.flags|=2,r.memoizedState=null,s}function tx(s,r,o){s.lanes|=r;var c=s.alternate;c!==null&&(c.lanes|=r),cm(s.return,r,o)}function Qm(s,r,o,c,f,g){var _=s.memoizedState;_===null?s.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:f,treeForkCount:g}:(_.isBackwards=r,_.rendering=null,_.renderingStartTime=0,_.last=c,_.tail=o,_.tailMode=f,_.treeForkCount=g)}function nx(s,r,o){var c=r.pendingProps,f=c.revealOrder,g=c.tail;c=c.children;var _=Tt.current,S=(_&2)!==0;if(S?(_=_&1|2,r.flags|=128):_&=1,ue(Tt,_),tn(s,r,c,o),c=$e?ql:0,!S&&s!==null&&(s.flags&128)!==0)e:for(s=r.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&tx(s,o,r);else if(s.tag===19)tx(s,o,r);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(f){case"forwards":for(o=r.child,f=null;o!==null;)s=o.alternate,s!==null&&fh(s)===null&&(f=o),o=o.sibling;o=f,o===null?(f=r.child,r.child=null):(f=o.sibling,o.sibling=null),Qm(r,!1,f,o,g,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,f=r.child,r.child=null;f!==null;){if(s=f.alternate,s!==null&&fh(s)===null){r.child=f;break}s=f.sibling,f.sibling=o,o=f,f=s}Qm(r,!0,o,null,g,c);break;case"together":Qm(r,!1,null,null,void 0,c);break;default:r.memoizedState=null}return r.child}function xi(s,r,o){if(s!==null&&(r.dependencies=s.dependencies),ur|=r.lanes,(o&r.childLanes)===0)if(s!==null){if(uo(s,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(s!==null&&r.child!==s.child)throw Error(i(153));if(r.child!==null){for(s=r.child,o=mi(s,s.pendingProps),r.child=o,o.return=r;s.sibling!==null;)s=s.sibling,o=o.sibling=mi(s,s.pendingProps),o.return=r;o.sibling=null}return r.child}function Xm(s,r){return(s.lanes&r)!==0?!0:(s=s.dependencies,!!(s!==null&&rh(s)))}function bN(s,r,o){switch(r.tag){case 3:Ce(r,r.stateNode.containerInfo),nr(r,It,s.memoizedState.cache),fa();break;case 27:case 5:Qt(r);break;case 4:Ce(r,r.stateNode.containerInfo);break;case 10:nr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,_m(r),null;break;case 13:var c=r.memoizedState;if(c!==null)return c.dehydrated!==null?(ar(r),r.flags|=128,null):(o&r.child.childLanes)!==0?ex(s,r,o):(ar(r),s=xi(s,r,o),s!==null?s.sibling:null);ar(r);break;case 19:var f=(s.flags&128)!==0;if(c=(o&r.childLanes)!==0,c||(uo(s,r,o,!1),c=(o&r.childLanes)!==0),f){if(c)return nx(s,r,o);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ue(Tt,Tt.current),c)break;return null;case 22:return r.lanes=0,Yb(s,r,o,r.pendingProps);case 24:nr(r,It,s.memoizedState.cache)}return xi(s,r,o)}function sx(s,r,o){if(s!==null)if(s.memoizedProps!==r.pendingProps)jt=!0;else{if(!Xm(s,o)&&(r.flags&128)===0)return jt=!1,bN(s,r,o);jt=(s.flags&131072)!==0}else jt=!1,$e&&(r.flags&1048576)!==0&&Vv(r,ql,r.index);switch(r.lanes=0,r.tag){case 16:e:{var c=r.pendingProps;if(s=ya(r.elementType),r.type=s,typeof s=="function")tm(s)?(c=_a(s,c),r.tag=1,r=Jb(null,r,s,c,o)):(r.tag=0,r=Hm(null,r,s,c,o));else{if(s!=null){var f=s.$$typeof;if(f===ne){r.tag=11,r=Gb(null,r,s,c,o);break e}else if(f===I){r.tag=14,r=$b(null,r,s,c,o);break e}}throw r=Ee(s)||s,Error(i(306,r,""))}}return r;case 0:return Hm(s,r,r.type,r.pendingProps,o);case 1:return c=r.type,f=_a(c,r.pendingProps),Jb(s,r,c,f,o);case 3:e:{if(Ce(r,r.stateNode.containerInfo),s===null)throw Error(i(387));c=r.pendingProps;var g=r.memoizedState;f=g.element,gm(s,r),Jl(r,c,null,o);var _=r.memoizedState;if(c=_.cache,nr(r,It,c),c!==g.cache&&um(r,[It],o,!0),Wl(),c=_.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){r=Zb(s,r,c,o);break e}else if(c!==f){f=Kn(Error(i(424)),r),Gl(f),r=Zb(s,r,c,o);break e}else for(s=r.stateNode.containerInfo,s.nodeType===9?s=s.body:s=s.nodeName==="HTML"?s.ownerDocument.body:s,ct=Jn(s.firstChild),Zt=r,$e=!0,er=null,Xn=!0,o=Yv(r,null,c,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(fa(),c===f){r=xi(s,r,o);break e}tn(s,r,c,o)}r=r.child}return r;case 26:return Eh(s,r),s===null?(o=m1(r.type,null,r.pendingProps,null))?r.memoizedState=o:$e||(o=r.type,s=r.pendingProps,c=Bh(Re.current).createElement(o),c[Nt]=r,c[qt]=s,nn(c,o,s),Rt(c),r.stateNode=c):r.memoizedState=m1(r.type,s.memoizedProps,r.pendingProps,s.memoizedState),null;case 27:return Qt(r),s===null&&$e&&(c=r.stateNode=h1(r.type,r.pendingProps,Re.current),Zt=r,Xn=!0,f=ct,pr(r.type)?(Rp=f,ct=Jn(c.firstChild)):ct=f),tn(s,r,r.pendingProps.children,o),Eh(s,r),s===null&&(r.flags|=4194304),r.child;case 5:return s===null&&$e&&((f=c=ct)&&(c=QN(c,r.type,r.pendingProps,Xn),c!==null?(r.stateNode=c,Zt=r,ct=Jn(c.firstChild),Xn=!1,f=!0):f=!1),f||tr(r)),Qt(r),f=r.type,g=r.pendingProps,_=s!==null?s.memoizedProps:null,c=g.children,Ep(f,g)?c=null:_!==null&&Ep(f,_)&&(r.flags|=32),r.memoizedState!==null&&(f=wm(s,r,uN,null,null,o),vc._currentValue=f),Eh(s,r),tn(s,r,c,o),r.child;case 6:return s===null&&$e&&((s=o=ct)&&(o=XN(o,r.pendingProps,Xn),o!==null?(r.stateNode=o,Zt=r,ct=null,s=!0):s=!1),s||tr(r)),null;case 13:return ex(s,r,o);case 4:return Ce(r,r.stateNode.containerInfo),c=r.pendingProps,s===null?r.child=ba(r,null,c,o):tn(s,r,c,o),r.child;case 11:return Gb(s,r,r.type,r.pendingProps,o);case 7:return tn(s,r,r.pendingProps,o),r.child;case 8:return tn(s,r,r.pendingProps.children,o),r.child;case 12:return tn(s,r,r.pendingProps.children,o),r.child;case 10:return c=r.pendingProps,nr(r,r.type,c.value),tn(s,r,c.children,o),r.child;case 9:return f=r.type._context,c=r.pendingProps.children,pa(r),f=en(f),c=c(f),r.flags|=1,tn(s,r,c,o),r.child;case 14:return $b(s,r,r.type,r.pendingProps,o);case 15:return Kb(s,r,r.type,r.pendingProps,o);case 19:return nx(s,r,o);case 31:return vN(s,r,o);case 22:return Yb(s,r,o,r.pendingProps);case 24:return pa(r),c=en(It),s===null?(f=fm(),f===null&&(f=at,g=hm(),f.pooledCache=g,g.refCount++,g!==null&&(f.pooledCacheLanes|=o),f=g),r.memoizedState={parent:c,cache:f},pm(r),nr(r,It,f)):((s.lanes&o)!==0&&(gm(s,r),Jl(r,null,null,o),Wl()),f=s.memoizedState,g=r.memoizedState,f.parent!==c?(f={parent:c,cache:c},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),nr(r,It,c)):(c=g.cache,nr(r,It,c),c!==f.cache&&um(r,[It],o,!0))),tn(s,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function _i(s){s.flags|=4}function Wm(s,r,o,c,f){if((r=(s.mode&32)!==0)&&(r=!1),r){if(s.flags|=16777216,(f&335544128)===f)if(s.stateNode.complete)s.flags|=8192;else if(kx())s.flags|=8192;else throw va=ch,mm}else s.flags&=-16777217}function ix(s,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!b1(r))if(kx())s.flags|=8192;else throw va=ch,mm}function Ah(s,r){r!==null&&(s.flags|=4),s.flags&16384&&(r=s.tag!==22?Du():536870912,s.lanes|=r,wo|=r)}function ic(s,r){if(!$e)switch(s.tailMode){case"hidden":r=s.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?s.tail=null:o.sibling=null;break;case"collapsed":o=s.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r||s.tail===null?s.tail=null:s.tail.sibling=null:c.sibling=null}}function ut(s){var r=s.alternate!==null&&s.alternate.child===s.child,o=0,c=0;if(r)for(var f=s.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags&65011712,c|=f.flags&65011712,f.return=s,f=f.sibling;else for(f=s.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=s,f=f.sibling;return s.subtreeFlags|=c,s.childLanes=o,r}function xN(s,r,o){var c=r.pendingProps;switch(rm(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(r),null;case 1:return ut(r),null;case 3:return o=r.stateNode,c=null,s!==null&&(c=s.memoizedState.cache),r.memoizedState.cache!==c&&(r.flags|=2048),yi(It),Le(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(s===null||s.child===null)&&(co(r)?_i(r):s===null||s.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,om())),ut(r),null;case 26:var f=r.type,g=r.memoizedState;return s===null?(_i(r),g!==null?(ut(r),ix(r,g)):(ut(r),Wm(r,f,null,c,o))):g?g!==s.memoizedState?(_i(r),ut(r),ix(r,g)):(ut(r),r.flags&=-16777217):(s=s.memoizedProps,s!==c&&_i(r),ut(r),Wm(r,f,s,c,o)),null;case 27:if(Rs(r),o=Re.current,f=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==c&&_i(r);else{if(!c){if(r.stateNode===null)throw Error(i(166));return ut(r),null}s=he.current,co(r)?Pv(r):(s=h1(f,c,o),r.stateNode=s,_i(r))}return ut(r),null;case 5:if(Rs(r),f=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==c&&_i(r);else{if(!c){if(r.stateNode===null)throw Error(i(166));return ut(r),null}if(g=he.current,co(r))Pv(r);else{var _=Bh(Re.current);switch(g){case 1:g=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:g=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":g=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":g=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":g=_.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof c.is=="string"?_.createElement("select",{is:c.is}):_.createElement("select"),c.multiple?g.multiple=!0:c.size&&(g.size=c.size);break;default:g=typeof c.is=="string"?_.createElement(f,{is:c.is}):_.createElement(f)}}g[Nt]=r,g[qt]=c;e:for(_=r.child;_!==null;){if(_.tag===5||_.tag===6)g.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===r)break e;for(;_.sibling===null;){if(_.return===null||_.return===r)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}r.stateNode=g;e:switch(nn(g,f,c),f){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&_i(r)}}return ut(r),Wm(r,r.type,s===null?null:s.memoizedProps,r.pendingProps,o),null;case 6:if(s&&r.stateNode!=null)s.memoizedProps!==c&&_i(r);else{if(typeof c!="string"&&r.stateNode===null)throw Error(i(166));if(s=Re.current,co(r)){if(s=r.stateNode,o=r.memoizedProps,c=null,f=Zt,f!==null)switch(f.tag){case 27:case 5:c=f.memoizedProps}s[Nt]=r,s=!!(s.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||e1(s.nodeValue,o)),s||tr(r,!0)}else s=Bh(s).createTextNode(c),s[Nt]=r,r.stateNode=s}return ut(r),null;case 31:if(o=r.memoizedState,s===null||s.memoizedState!==null){if(c=co(r),o!==null){if(s===null){if(!c)throw Error(i(318));if(s=r.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(557));s[Nt]=r}else fa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ut(r),s=!1}else o=om(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=o),s=!0;if(!s)return r.flags&256?(Vn(r),r):(Vn(r),null);if((r.flags&128)!==0)throw Error(i(558))}return ut(r),null;case 13:if(c=r.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(f=co(r),c!==null&&c.dehydrated!==null){if(s===null){if(!f)throw Error(i(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[Nt]=r}else fa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ut(r),f=!1}else f=om(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(Vn(r),r):(Vn(r),null)}return Vn(r),(r.flags&128)!==0?(r.lanes=o,r):(o=c!==null,s=s!==null&&s.memoizedState!==null,o&&(c=r.child,f=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(f=c.alternate.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==f&&(c.flags|=2048)),o!==s&&o&&(r.child.flags|=8192),Ah(r,r.updateQueue),ut(r),null);case 4:return Le(),s===null&&bp(r.stateNode.containerInfo),ut(r),null;case 10:return yi(r.type),ut(r),null;case 19:if(ee(Tt),c=r.memoizedState,c===null)return ut(r),null;if(f=(r.flags&128)!==0,g=c.rendering,g===null)if(f)ic(c,!1);else{if(vt!==0||s!==null&&(s.flags&128)!==0)for(s=r.child;s!==null;){if(g=fh(s),g!==null){for(r.flags|=128,ic(c,!1),s=g.updateQueue,r.updateQueue=s,Ah(r,s),r.subtreeFlags=0,s=o,o=r.child;o!==null;)Dv(o,s),o=o.sibling;return ue(Tt,Tt.current&1|2),$e&&pi(r,c.treeForkCount),r.child}s=s.sibling}c.tail!==null&&pn()>Ih&&(r.flags|=128,f=!0,ic(c,!1),r.lanes=4194304)}else{if(!f)if(s=fh(g),s!==null){if(r.flags|=128,f=!0,s=s.updateQueue,r.updateQueue=s,Ah(r,s),ic(c,!0),c.tail===null&&c.tailMode==="hidden"&&!g.alternate&&!$e)return ut(r),null}else 2*pn()-c.renderingStartTime>Ih&&o!==536870912&&(r.flags|=128,f=!0,ic(c,!1),r.lanes=4194304);c.isBackwards?(g.sibling=r.child,r.child=g):(s=c.last,s!==null?s.sibling=g:r.child=g,c.last=g)}return c.tail!==null?(s=c.tail,c.rendering=s,c.tail=s.sibling,c.renderingStartTime=pn(),s.sibling=null,o=Tt.current,ue(Tt,f?o&1|2:o&1),$e&&pi(r,c.treeForkCount),s):(ut(r),null);case 22:case 23:return Vn(r),xm(),c=r.memoizedState!==null,s!==null?s.memoizedState!==null!==c&&(r.flags|=8192):c&&(r.flags|=8192),c?(o&536870912)!==0&&(r.flags&128)===0&&(ut(r),r.subtreeFlags&6&&(r.flags|=8192)):ut(r),o=r.updateQueue,o!==null&&Ah(r,o.retryQueue),o=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),c=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),c!==o&&(r.flags|=2048),s!==null&&ee(ga),null;case 24:return o=null,s!==null&&(o=s.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),yi(It),ut(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function _N(s,r){switch(rm(r),r.tag){case 1:return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 3:return yi(It),Le(),s=r.flags,(s&65536)!==0&&(s&128)===0?(r.flags=s&-65537|128,r):null;case 26:case 27:case 5:return Rs(r),null;case 31:if(r.memoizedState!==null){if(Vn(r),r.alternate===null)throw Error(i(340));fa()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 13:if(Vn(r),s=r.memoizedState,s!==null&&s.dehydrated!==null){if(r.alternate===null)throw Error(i(340));fa()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 19:return ee(Tt),null;case 4:return Le(),null;case 10:return yi(r.type),null;case 22:case 23:return Vn(r),xm(),s!==null&&ee(ga),s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 24:return yi(It),null;case 25:return null;default:return null}}function rx(s,r){switch(rm(r),r.tag){case 3:yi(It),Le();break;case 26:case 27:case 5:Rs(r);break;case 4:Le();break;case 31:r.memoizedState!==null&&Vn(r);break;case 13:Vn(r);break;case 19:ee(Tt);break;case 10:yi(r.type);break;case 22:case 23:Vn(r),xm(),s!==null&&ee(ga);break;case 24:yi(It)}}function rc(s,r){try{var o=r.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var f=c.next;o=f;do{if((o.tag&s)===s){c=void 0;var g=o.create,_=o.inst;c=g(),_.destroy=c}o=o.next}while(o!==f)}}catch(S){tt(r,r.return,S)}}function lr(s,r,o){try{var c=r.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var g=f.next;c=g;do{if((c.tag&s)===s){var _=c.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,f=r;var V=o,K=S;try{K()}catch(J){tt(f,V,J)}}}c=c.next}while(c!==g)}}catch(J){tt(r,r.return,J)}}function ax(s){var r=s.updateQueue;if(r!==null){var o=s.stateNode;try{Xv(r,o)}catch(c){tt(s,s.return,c)}}}function ox(s,r,o){o.props=_a(s.type,s.memoizedProps),o.state=s.memoizedState;try{o.componentWillUnmount()}catch(c){tt(s,r,c)}}function ac(s,r){try{var o=s.ref;if(o!==null){switch(s.tag){case 26:case 27:case 5:var c=s.stateNode;break;case 30:c=s.stateNode;break;default:c=s.stateNode}typeof o=="function"?s.refCleanup=o(c):o.current=c}}catch(f){tt(s,r,f)}}function Qs(s,r){var o=s.ref,c=s.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(f){tt(s,r,f)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){tt(s,r,f)}else o.current=null}function lx(s){var r=s.type,o=s.memoizedProps,c=s.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(f){tt(s,s.return,f)}}function Jm(s,r,o){try{var c=s.stateNode;HN(c,s.type,o,r),c[qt]=r}catch(f){tt(s,s.return,f)}}function cx(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&pr(s.type)||s.tag===4}function Zm(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||cx(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&pr(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function ep(s,r,o){var c=s.tag;if(c===5||c===6)s=s.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(s,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(s),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=hs));else if(c!==4&&(c===27&&pr(s.type)&&(o=s.stateNode,r=null),s=s.child,s!==null))for(ep(s,r,o),s=s.sibling;s!==null;)ep(s,r,o),s=s.sibling}function Ch(s,r,o){var c=s.tag;if(c===5||c===6)s=s.stateNode,r?o.insertBefore(s,r):o.appendChild(s);else if(c!==4&&(c===27&&pr(s.type)&&(o=s.stateNode),s=s.child,s!==null))for(Ch(s,r,o),s=s.sibling;s!==null;)Ch(s,r,o),s=s.sibling}function ux(s){var r=s.stateNode,o=s.memoizedProps;try{for(var c=s.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);nn(r,c,o),r[Nt]=s,r[qt]=o}catch(g){tt(s,s.return,g)}}var Ti=!1,Mt=!1,tp=!1,hx=typeof WeakSet=="function"?WeakSet:Set,$t=null;function TN(s,r){if(s=s.containerInfo,Tp=Yh,s=wv(s),Yf(s)){if("selectionStart"in s)var o={start:s.selectionStart,end:s.selectionEnd};else e:{o=(o=s.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var f=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var _=0,S=-1,V=-1,K=0,J=0,ie=s,Y=null;t:for(;;){for(var W;ie!==o||f!==0&&ie.nodeType!==3||(S=_+f),ie!==g||c!==0&&ie.nodeType!==3||(V=_+c),ie.nodeType===3&&(_+=ie.nodeValue.length),(W=ie.firstChild)!==null;)Y=ie,ie=W;for(;;){if(ie===s)break t;if(Y===o&&++K===f&&(S=_),Y===g&&++J===c&&(V=_),(W=ie.nextSibling)!==null)break;ie=Y,Y=ie.parentNode}ie=W}o=S===-1||V===-1?null:{start:S,end:V}}else o=null}o=o||{start:0,end:0}}else o=null;for(wp={focusedElem:s,selectionRange:o},Yh=!1,$t=r;$t!==null;)if(r=$t,s=r.child,(r.subtreeFlags&1028)!==0&&s!==null)s.return=r,$t=s;else for(;$t!==null;){switch(r=$t,g=r.alternate,s=r.flags,r.tag){case 0:if((s&4)!==0&&(s=r.updateQueue,s=s!==null?s.events:null,s!==null))for(o=0;o<s.length;o++)f=s[o],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&g!==null){s=void 0,o=r,f=g.memoizedProps,g=g.memoizedState,c=o.stateNode;try{var pe=_a(o.type,f);s=c.getSnapshotBeforeUpdate(pe,g),c.__reactInternalSnapshotBeforeUpdate=s}catch(we){tt(o,o.return,we)}}break;case 3:if((s&1024)!==0){if(s=r.stateNode.containerInfo,o=s.nodeType,o===9)Ap(s);else if(o===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Ap(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=r.sibling,s!==null){s.return=r.return,$t=s;break}$t=r.return}}function dx(s,r,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:Ei(s,o),c&4&&rc(5,o);break;case 1:if(Ei(s,o),c&4)if(s=o.stateNode,r===null)try{s.componentDidMount()}catch(_){tt(o,o.return,_)}else{var f=_a(o.type,r.memoizedProps);r=r.memoizedState;try{s.componentDidUpdate(f,r,s.__reactInternalSnapshotBeforeUpdate)}catch(_){tt(o,o.return,_)}}c&64&&ax(o),c&512&&ac(o,o.return);break;case 3:if(Ei(s,o),c&64&&(s=o.updateQueue,s!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{Xv(s,r)}catch(_){tt(o,o.return,_)}}break;case 27:r===null&&c&4&&ux(o);case 26:case 5:Ei(s,o),r===null&&c&4&&lx(o),c&512&&ac(o,o.return);break;case 12:Ei(s,o);break;case 31:Ei(s,o),c&4&&px(s,o);break;case 13:Ei(s,o),c&4&&gx(s,o),c&64&&(s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(o=IN.bind(null,o),WN(s,o))));break;case 22:if(c=o.memoizedState!==null||Ti,!c){r=r!==null&&r.memoizedState!==null||Mt,f=Ti;var g=Mt;Ti=c,(Mt=r)&&!g?Si(s,o,(o.subtreeFlags&8772)!==0):Ei(s,o),Ti=f,Mt=g}break;case 30:break;default:Ei(s,o)}}function fx(s){var r=s.alternate;r!==null&&(s.alternate=null,fx(r)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(r=s.stateNode,r!==null&&$a(r)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var ft=null,wn=!1;function wi(s,r,o){for(o=o.child;o!==null;)mx(s,r,o),o=o.sibling}function mx(s,r,o){if(Wt&&typeof Wt.onCommitFiberUnmount=="function")try{Wt.onCommitFiberUnmount(os,o)}catch{}switch(o.tag){case 26:Mt||Qs(o,r),wi(s,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Mt||Qs(o,r);var c=ft,f=wn;pr(o.type)&&(ft=o.stateNode,wn=!1),wi(s,r,o),pc(o.stateNode),ft=c,wn=f;break;case 5:Mt||Qs(o,r);case 6:if(c=ft,f=wn,ft=null,wi(s,r,o),ft=c,wn=f,ft!==null)if(wn)try{(ft.nodeType===9?ft.body:ft.nodeName==="HTML"?ft.ownerDocument.body:ft).removeChild(o.stateNode)}catch(g){tt(o,r,g)}else try{ft.removeChild(o.stateNode)}catch(g){tt(o,r,g)}break;case 18:ft!==null&&(wn?(s=ft,a1(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,o.stateNode),Io(s)):a1(ft,o.stateNode));break;case 4:c=ft,f=wn,ft=o.stateNode.containerInfo,wn=!0,wi(s,r,o),ft=c,wn=f;break;case 0:case 11:case 14:case 15:lr(2,o,r),Mt||lr(4,o,r),wi(s,r,o);break;case 1:Mt||(Qs(o,r),c=o.stateNode,typeof c.componentWillUnmount=="function"&&ox(o,r,c)),wi(s,r,o);break;case 21:wi(s,r,o);break;case 22:Mt=(c=Mt)||o.memoizedState!==null,wi(s,r,o),Mt=c;break;default:wi(s,r,o)}}function px(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Io(s)}catch(o){tt(r,r.return,o)}}}function gx(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Io(s)}catch(o){tt(r,r.return,o)}}function wN(s){switch(s.tag){case 31:case 13:case 19:var r=s.stateNode;return r===null&&(r=s.stateNode=new hx),r;case 22:return s=s.stateNode,r=s._retryCache,r===null&&(r=s._retryCache=new hx),r;default:throw Error(i(435,s.tag))}}function Nh(s,r){var o=wN(s);r.forEach(function(c){if(!o.has(c)){o.add(c);var f=DN.bind(null,s,c);c.then(f,f)}})}function En(s,r){var o=r.deletions;if(o!==null)for(var c=0;c<o.length;c++){var f=o[c],g=s,_=r,S=_;e:for(;S!==null;){switch(S.tag){case 27:if(pr(S.type)){ft=S.stateNode,wn=!1;break e}break;case 5:ft=S.stateNode,wn=!1;break e;case 3:case 4:ft=S.stateNode.containerInfo,wn=!0;break e}S=S.return}if(ft===null)throw Error(i(160));mx(g,_,f),ft=null,wn=!1,g=f.alternate,g!==null&&(g.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)yx(r,s),r=r.sibling}var ys=null;function yx(s,r){var o=s.alternate,c=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:En(r,s),Sn(s),c&4&&(lr(3,s,s.return),rc(3,s),lr(5,s,s.return));break;case 1:En(r,s),Sn(s),c&512&&(Mt||o===null||Qs(o,o.return)),c&64&&Ti&&(s=s.updateQueue,s!==null&&(c=s.callbacks,c!==null&&(o=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var f=ys;if(En(r,s),Sn(s),c&512&&(Mt||o===null||Qs(o,o.return)),c&4){var g=o!==null?o.memoizedState:null;if(c=s.memoizedState,o===null)if(c===null)if(s.stateNode===null){e:{c=s.type,o=s.memoizedProps,f=f.ownerDocument||f;t:switch(c){case"title":g=f.getElementsByTagName("title")[0],(!g||g[Vs]||g[Nt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=f.createElement(c),f.head.insertBefore(g,f.querySelector("head > title"))),nn(g,c,o),g[Nt]=s,Rt(g),c=g;break e;case"link":var _=y1("link","href",f).get(c+(o.href||""));if(_){for(var S=0;S<_.length;S++)if(g=_[S],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){_.splice(S,1);break t}}g=f.createElement(c),nn(g,c,o),f.head.appendChild(g);break;case"meta":if(_=y1("meta","content",f).get(c+(o.content||""))){for(S=0;S<_.length;S++)if(g=_[S],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){_.splice(S,1);break t}}g=f.createElement(c),nn(g,c,o),f.head.appendChild(g);break;default:throw Error(i(468,c))}g[Nt]=s,Rt(g),c=g}s.stateNode=c}else v1(f,s.type,s.stateNode);else s.stateNode=g1(f,c,s.memoizedProps);else g!==c?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,c===null?v1(f,s.type,s.stateNode):g1(f,c,s.memoizedProps)):c===null&&s.stateNode!==null&&Jm(s,s.memoizedProps,o.memoizedProps)}break;case 27:En(r,s),Sn(s),c&512&&(Mt||o===null||Qs(o,o.return)),o!==null&&c&4&&Jm(s,s.memoizedProps,o.memoizedProps);break;case 5:if(En(r,s),Sn(s),c&512&&(Mt||o===null||Qs(o,o.return)),s.flags&32){f=s.stateNode;try{Tn(f,"")}catch(pe){tt(s,s.return,pe)}}c&4&&s.stateNode!=null&&(f=s.memoizedProps,Jm(s,f,o!==null?o.memoizedProps:f)),c&1024&&(tp=!0);break;case 6:if(En(r,s),Sn(s),c&4){if(s.stateNode===null)throw Error(i(162));c=s.memoizedProps,o=s.stateNode;try{o.nodeValue=c}catch(pe){tt(s,s.return,pe)}}break;case 3:if(qh=null,f=ys,ys=Fh(r.containerInfo),En(r,s),ys=f,Sn(s),c&4&&o!==null&&o.memoizedState.isDehydrated)try{Io(r.containerInfo)}catch(pe){tt(s,s.return,pe)}tp&&(tp=!1,vx(s));break;case 4:c=ys,ys=Fh(s.stateNode.containerInfo),En(r,s),Sn(s),ys=c;break;case 12:En(r,s),Sn(s);break;case 31:En(r,s),Sn(s),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,Nh(s,c)));break;case 13:En(r,s),Sn(s),s.child.flags&8192&&s.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(kh=pn()),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,Nh(s,c)));break;case 22:f=s.memoizedState!==null;var V=o!==null&&o.memoizedState!==null,K=Ti,J=Mt;if(Ti=K||f,Mt=J||V,En(r,s),Mt=J,Ti=K,Sn(s),c&8192)e:for(r=s.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(o===null||V||Ti||Mt||Ta(s)),o=null,r=s;;){if(r.tag===5||r.tag===26){if(o===null){V=o=r;try{if(g=V.stateNode,f)_=g.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{S=V.stateNode;var ie=V.memoizedProps.style,Y=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;S.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(pe){tt(V,V.return,pe)}}}else if(r.tag===6){if(o===null){V=r;try{V.stateNode.nodeValue=f?"":V.memoizedProps}catch(pe){tt(V,V.return,pe)}}}else if(r.tag===18){if(o===null){V=r;try{var W=V.stateNode;f?o1(W,!0):o1(V.stateNode,!1)}catch(pe){tt(V,V.return,pe)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===s)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}c&4&&(c=s.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Nh(s,o))));break;case 19:En(r,s),Sn(s),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,Nh(s,c)));break;case 30:break;case 21:break;default:En(r,s),Sn(s)}}function Sn(s){var r=s.flags;if(r&2){try{for(var o,c=s.return;c!==null;){if(cx(c)){o=c;break}c=c.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var f=o.stateNode,g=Zm(s);Ch(s,g,f);break;case 5:var _=o.stateNode;o.flags&32&&(Tn(_,""),o.flags&=-33);var S=Zm(s);Ch(s,S,_);break;case 3:case 4:var V=o.stateNode.containerInfo,K=Zm(s);ep(s,K,V);break;default:throw Error(i(161))}}catch(J){tt(s,s.return,J)}s.flags&=-3}r&4096&&(s.flags&=-4097)}function vx(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var r=s;vx(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),s=s.sibling}}function Ei(s,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)dx(s,r.alternate,r),r=r.sibling}function Ta(s){for(s=s.child;s!==null;){var r=s;switch(r.tag){case 0:case 11:case 14:case 15:lr(4,r,r.return),Ta(r);break;case 1:Qs(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&ox(r,r.return,o),Ta(r);break;case 27:pc(r.stateNode);case 26:case 5:Qs(r,r.return),Ta(r);break;case 22:r.memoizedState===null&&Ta(r);break;case 30:Ta(r);break;default:Ta(r)}s=s.sibling}}function Si(s,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var c=r.alternate,f=s,g=r,_=g.flags;switch(g.tag){case 0:case 11:case 15:Si(f,g,o),rc(4,g);break;case 1:if(Si(f,g,o),c=g,f=c.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(K){tt(c,c.return,K)}if(c=g,f=c.updateQueue,f!==null){var S=c.stateNode;try{var V=f.shared.hiddenCallbacks;if(V!==null)for(f.shared.hiddenCallbacks=null,f=0;f<V.length;f++)Qv(V[f],S)}catch(K){tt(c,c.return,K)}}o&&_&64&&ax(g),ac(g,g.return);break;case 27:ux(g);case 26:case 5:Si(f,g,o),o&&c===null&&_&4&&lx(g),ac(g,g.return);break;case 12:Si(f,g,o);break;case 31:Si(f,g,o),o&&_&4&&px(f,g);break;case 13:Si(f,g,o),o&&_&4&&gx(f,g);break;case 22:g.memoizedState===null&&Si(f,g,o),ac(g,g.return);break;case 30:break;default:Si(f,g,o)}r=r.sibling}}function np(s,r){var o=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),s=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==o&&(s!=null&&s.refCount++,o!=null&&$l(o))}function sp(s,r){s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&$l(s))}function vs(s,r,o,c){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)bx(s,r,o,c),r=r.sibling}function bx(s,r,o,c){var f=r.flags;switch(r.tag){case 0:case 11:case 15:vs(s,r,o,c),f&2048&&rc(9,r);break;case 1:vs(s,r,o,c);break;case 3:vs(s,r,o,c),f&2048&&(s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&$l(s)));break;case 12:if(f&2048){vs(s,r,o,c),s=r.stateNode;try{var g=r.memoizedProps,_=g.id,S=g.onPostCommit;typeof S=="function"&&S(_,r.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(V){tt(r,r.return,V)}}else vs(s,r,o,c);break;case 31:vs(s,r,o,c);break;case 13:vs(s,r,o,c);break;case 23:break;case 22:g=r.stateNode,_=r.alternate,r.memoizedState!==null?g._visibility&2?vs(s,r,o,c):oc(s,r):g._visibility&2?vs(s,r,o,c):(g._visibility|=2,xo(s,r,o,c,(r.subtreeFlags&10256)!==0||!1)),f&2048&&np(_,r);break;case 24:vs(s,r,o,c),f&2048&&sp(r.alternate,r);break;default:vs(s,r,o,c)}}function xo(s,r,o,c,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var g=s,_=r,S=o,V=c,K=_.flags;switch(_.tag){case 0:case 11:case 15:xo(g,_,S,V,f),rc(8,_);break;case 23:break;case 22:var J=_.stateNode;_.memoizedState!==null?J._visibility&2?xo(g,_,S,V,f):oc(g,_):(J._visibility|=2,xo(g,_,S,V,f)),f&&K&2048&&np(_.alternate,_);break;case 24:xo(g,_,S,V,f),f&&K&2048&&sp(_.alternate,_);break;default:xo(g,_,S,V,f)}r=r.sibling}}function oc(s,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=s,c=r,f=c.flags;switch(c.tag){case 22:oc(o,c),f&2048&&np(c.alternate,c);break;case 24:oc(o,c),f&2048&&sp(c.alternate,c);break;default:oc(o,c)}r=r.sibling}}var lc=8192;function _o(s,r,o){if(s.subtreeFlags&lc)for(s=s.child;s!==null;)xx(s,r,o),s=s.sibling}function xx(s,r,o){switch(s.tag){case 26:_o(s,r,o),s.flags&lc&&s.memoizedState!==null&&cR(o,ys,s.memoizedState,s.memoizedProps);break;case 5:_o(s,r,o);break;case 3:case 4:var c=ys;ys=Fh(s.stateNode.containerInfo),_o(s,r,o),ys=c;break;case 22:s.memoizedState===null&&(c=s.alternate,c!==null&&c.memoizedState!==null?(c=lc,lc=16777216,_o(s,r,o),lc=c):_o(s,r,o));break;default:_o(s,r,o)}}function _x(s){var r=s.alternate;if(r!==null&&(s=r.child,s!==null)){r.child=null;do r=s.sibling,s.sibling=null,s=r;while(s!==null)}}function cc(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];$t=c,wx(c,s)}_x(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Tx(s),s=s.sibling}function Tx(s){switch(s.tag){case 0:case 11:case 15:cc(s),s.flags&2048&&lr(9,s,s.return);break;case 3:cc(s);break;case 12:cc(s);break;case 22:var r=s.stateNode;s.memoizedState!==null&&r._visibility&2&&(s.return===null||s.return.tag!==13)?(r._visibility&=-3,Rh(s)):cc(s);break;default:cc(s)}}function Rh(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];$t=c,wx(c,s)}_x(s)}for(s=s.child;s!==null;){switch(r=s,r.tag){case 0:case 11:case 15:lr(8,r,r.return),Rh(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,Rh(r));break;default:Rh(r)}s=s.sibling}}function wx(s,r){for(;$t!==null;){var o=$t;switch(o.tag){case 0:case 11:case 15:lr(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:$l(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,$t=c;else e:for(o=s;$t!==null;){c=$t;var f=c.sibling,g=c.return;if(fx(c),c===o){$t=null;break e}if(f!==null){f.return=g,$t=f;break e}$t=g}}}var EN={getCacheForType:function(s){var r=en(It),o=r.data.get(s);return o===void 0&&(o=s(),r.data.set(s,o)),o},cacheSignal:function(){return en(It).controller.signal}},SN=typeof WeakMap=="function"?WeakMap:Map,We=0,at=null,Ue=null,Be=0,et=0,On=null,cr=!1,To=!1,ip=!1,Ai=0,vt=0,ur=0,wa=0,rp=0,Pn=0,wo=0,uc=null,An=null,ap=!1,kh=0,Ex=0,Ih=1/0,Dh=null,hr=null,zt=0,dr=null,Eo=null,Ci=0,op=0,lp=null,Sx=null,hc=0,cp=null;function Ln(){return(We&2)!==0&&Be!==0?Be&-Be:Q.T!==null?pp():ju()}function Ax(){if(Pn===0)if((Be&536870912)===0||$e){var s=Xr;Xr<<=1,(Xr&3932160)===0&&(Xr=262144),Pn=s}else Pn=536870912;return s=Mn.current,s!==null&&(s.flags|=32),Pn}function Cn(s,r,o){(s===at&&(et===2||et===9)||s.cancelPendingCommit!==null)&&(So(s,0),fr(s,Be,Pn,!1)),Wr(s,o),((We&2)===0||s!==at)&&(s===at&&((We&2)===0&&(wa|=o),vt===4&&fr(s,Be,Pn,!1)),Xs(s))}function Cx(s,r,o){if((We&6)!==0)throw Error(i(327));var c=!o&&(r&127)===0&&(r&s.expiredLanes)===0||ls(s,r),f=c?NN(s,r):hp(s,r,!0),g=c;do{if(f===0){To&&!c&&fr(s,r,0,!1);break}else{if(o=s.current.alternate,g&&!AN(o)){f=hp(s,r,!1),g=!1;continue}if(f===2){if(g=r,s.errorRecoveryDisabledLanes&g)var _=0;else _=s.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;e:{var S=s;f=uc;var V=S.current.memoizedState.isDehydrated;if(V&&(So(S,_).flags|=256),_=hp(S,_,!1),_!==2){if(ip&&!V){S.errorRecoveryDisabledLanes|=g,wa|=g,f=4;break e}g=An,An=f,g!==null&&(An===null?An=g:An.push.apply(An,g))}f=_}if(g=!1,f!==2)continue}}if(f===1){So(s,0),fr(s,r,0,!0);break}e:{switch(c=s,g=f,g){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:fr(c,r,Pn,!cr);break e;case 2:An=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(f=kh+300-pn(),10<f)){if(fr(c,r,Pn,!cr),Ds(c,0,!0)!==0)break e;Ci=r,c.timeoutHandle=i1(Nx.bind(null,c,o,An,Dh,ap,r,Pn,wa,wo,cr,g,"Throttled",-0,0),f);break e}Nx(c,o,An,Dh,ap,r,Pn,wa,wo,cr,g,null,-0,0)}}break}while(!0);Xs(s)}function Nx(s,r,o,c,f,g,_,S,V,K,J,ie,Y,W){if(s.timeoutHandle=-1,ie=r.subtreeFlags,ie&8192||(ie&16785408)===16785408){ie={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:hs},xx(r,g,ie);var pe=(g&62914560)===g?kh-pn():(g&4194048)===g?Ex-pn():0;if(pe=uR(ie,pe),pe!==null){Ci=g,s.cancelPendingCommit=pe(Ox.bind(null,s,r,g,o,c,f,_,S,V,J,ie,null,Y,W)),fr(s,g,_,!K);return}}Ox(s,r,g,o,c,f,_,S,V)}function AN(s){for(var r=s;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var f=o[c],g=f.getSnapshot;f=f.value;try{if(!Dn(g(),f))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function fr(s,r,o,c){r&=~rp,r&=~wa,s.suspendedLanes|=r,s.pingedLanes&=~r,c&&(s.warmLanes|=r),c=s.expirationTimes;for(var f=r;0<f;){var g=31-xt(f),_=1<<g;c[g]=-1,f&=~_}o!==0&&Jr(s,o,r)}function jh(){return(We&6)===0?(dc(0),!1):!0}function up(){if(Ue!==null){if(et===0)var s=Ue.return;else s=Ue,gi=ma=null,Am(s),po=null,Yl=0,s=Ue;for(;s!==null;)rx(s.alternate,s),s=s.return;Ue=null}}function So(s,r){var o=s.timeoutHandle;o!==-1&&(s.timeoutHandle=-1,$N(o)),o=s.cancelPendingCommit,o!==null&&(s.cancelPendingCommit=null,o()),Ci=0,up(),at=s,Ue=o=mi(s.current,null),Be=r,et=0,On=null,cr=!1,To=ls(s,r),ip=!1,wo=Pn=rp=wa=ur=vt=0,An=uc=null,ap=!1,(r&8)!==0&&(r|=r&32);var c=s.entangledLanes;if(c!==0)for(s=s.entanglements,c&=r;0<c;){var f=31-xt(c),g=1<<f;r|=s[f],c&=~g}return Ai=r,eh(),o}function Rx(s,r){Me=null,Q.H=nc,r===mo||r===lh?(r=Gv(),et=3):r===mm?(r=Gv(),et=4):et=r===Fm?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,On=r,Ue===null&&(vt=1,Th(s,Kn(r,s.current)))}function kx(){var s=Mn.current;return s===null?!0:(Be&4194048)===Be?Wn===null:(Be&62914560)===Be||(Be&536870912)!==0?s===Wn:!1}function Ix(){var s=Q.H;return Q.H=nc,s===null?nc:s}function Dx(){var s=Q.A;return Q.A=EN,s}function Mh(){vt=4,cr||(Be&4194048)!==Be&&Mn.current!==null||(To=!0),(ur&134217727)===0&&(wa&134217727)===0||at===null||fr(at,Be,Pn,!1)}function hp(s,r,o){var c=We;We|=2;var f=Ix(),g=Dx();(at!==s||Be!==r)&&(Dh=null,So(s,r)),r=!1;var _=vt;e:do try{if(et!==0&&Ue!==null){var S=Ue,V=On;switch(et){case 8:up(),_=6;break e;case 3:case 2:case 9:case 6:Mn.current===null&&(r=!0);var K=et;if(et=0,On=null,Ao(s,S,V,K),o&&To){_=0;break e}break;default:K=et,et=0,On=null,Ao(s,S,V,K)}}CN(),_=vt;break}catch(J){Rx(s,J)}while(!0);return r&&s.shellSuspendCounter++,gi=ma=null,We=c,Q.H=f,Q.A=g,Ue===null&&(at=null,Be=0,eh()),_}function CN(){for(;Ue!==null;)jx(Ue)}function NN(s,r){var o=We;We|=2;var c=Ix(),f=Dx();at!==s||Be!==r?(Dh=null,Ih=pn()+500,So(s,r)):To=ls(s,r);e:do try{if(et!==0&&Ue!==null){r=Ue;var g=On;t:switch(et){case 1:et=0,On=null,Ao(s,r,g,1);break;case 2:case 9:if(Hv(g)){et=0,On=null,Mx(r);break}r=function(){et!==2&&et!==9||at!==s||(et=7),Xs(s)},g.then(r,r);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:Hv(g)?(et=0,On=null,Mx(r)):(et=0,On=null,Ao(s,r,g,7));break;case 5:var _=null;switch(Ue.tag){case 26:_=Ue.memoizedState;case 5:case 27:var S=Ue;if(_?b1(_):S.stateNode.complete){et=0,On=null;var V=S.sibling;if(V!==null)Ue=V;else{var K=S.return;K!==null?(Ue=K,Vh(K)):Ue=null}break t}}et=0,On=null,Ao(s,r,g,5);break;case 6:et=0,On=null,Ao(s,r,g,6);break;case 8:up(),vt=6;break e;default:throw Error(i(462))}}RN();break}catch(J){Rx(s,J)}while(!0);return gi=ma=null,Q.H=c,Q.A=f,We=o,Ue!==null?0:(at=null,Be=0,eh(),vt)}function RN(){for(;Ue!==null&&!Bf();)jx(Ue)}function jx(s){var r=sx(s.alternate,s,Ai);s.memoizedProps=s.pendingProps,r===null?Vh(s):Ue=r}function Mx(s){var r=s,o=r.alternate;switch(r.tag){case 15:case 0:r=Wb(o,r,r.pendingProps,r.type,void 0,Be);break;case 11:r=Wb(o,r,r.pendingProps,r.type.render,r.ref,Be);break;case 5:Am(r);default:rx(o,r),r=Ue=Dv(r,Ai),r=sx(o,r,Ai)}s.memoizedProps=s.pendingProps,r===null?Vh(s):Ue=r}function Ao(s,r,o,c){gi=ma=null,Am(r),po=null,Yl=0;var f=r.return;try{if(yN(s,f,r,o,Be)){vt=1,Th(s,Kn(o,s.current)),Ue=null;return}}catch(g){if(f!==null)throw Ue=f,g;vt=1,Th(s,Kn(o,s.current)),Ue=null;return}r.flags&32768?($e||c===1?s=!0:To||(Be&536870912)!==0?s=!1:(cr=s=!0,(c===2||c===9||c===3||c===6)&&(c=Mn.current,c!==null&&c.tag===13&&(c.flags|=16384))),Vx(r,s)):Vh(r)}function Vh(s){var r=s;do{if((r.flags&32768)!==0){Vx(r,cr);return}s=r.return;var o=xN(r.alternate,r,Ai);if(o!==null){Ue=o;return}if(r=r.sibling,r!==null){Ue=r;return}Ue=r=s}while(r!==null);vt===0&&(vt=5)}function Vx(s,r){do{var o=_N(s.alternate,s);if(o!==null){o.flags&=32767,Ue=o;return}if(o=s.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(s=s.sibling,s!==null)){Ue=s;return}Ue=s=o}while(s!==null);vt=6,Ue=null}function Ox(s,r,o,c,f,g,_,S,V){s.cancelPendingCommit=null;do Oh();while(zt!==0);if((We&6)!==0)throw Error(i(327));if(r!==null){if(r===s.current)throw Error(i(177));if(g=r.lanes|r.childLanes,g|=Zf,qf(s,o,g,_,S,V),s===at&&(Ue=at=null,Be=0),Eo=r,dr=s,Ci=o,op=g,lp=f,Sx=c,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,jN(Hi,function(){return Bx(),null})):(s.callbackNode=null,s.callbackPriority=0),c=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||c){c=Q.T,Q.T=null,f=ae.p,ae.p=2,_=We,We|=4;try{TN(s,r,o)}finally{We=_,ae.p=f,Q.T=c}}zt=1,Px(),Lx(),Ux()}}function Px(){if(zt===1){zt=0;var s=dr,r=Eo,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=Q.T,Q.T=null;var c=ae.p;ae.p=2;var f=We;We|=4;try{yx(r,s);var g=wp,_=wv(s.containerInfo),S=g.focusedElem,V=g.selectionRange;if(_!==S&&S&&S.ownerDocument&&Tv(S.ownerDocument.documentElement,S)){if(V!==null&&Yf(S)){var K=V.start,J=V.end;if(J===void 0&&(J=K),"selectionStart"in S)S.selectionStart=K,S.selectionEnd=Math.min(J,S.value.length);else{var ie=S.ownerDocument||document,Y=ie&&ie.defaultView||window;if(Y.getSelection){var W=Y.getSelection(),pe=S.textContent.length,we=Math.min(V.start,pe),rt=V.end===void 0?we:Math.min(V.end,pe);!W.extend&&we>rt&&(_=rt,rt=we,we=_);var q=_v(S,we),B=_v(S,rt);if(q&&B&&(W.rangeCount!==1||W.anchorNode!==q.node||W.anchorOffset!==q.offset||W.focusNode!==B.node||W.focusOffset!==B.offset)){var $=ie.createRange();$.setStart(q.node,q.offset),W.removeAllRanges(),we>rt?(W.addRange($),W.extend(B.node,B.offset)):($.setEnd(B.node,B.offset),W.addRange($))}}}}for(ie=[],W=S;W=W.parentNode;)W.nodeType===1&&ie.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<ie.length;S++){var te=ie[S];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}Yh=!!Tp,wp=Tp=null}finally{We=f,ae.p=c,Q.T=o}}s.current=r,zt=2}}function Lx(){if(zt===2){zt=0;var s=dr,r=Eo,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=Q.T,Q.T=null;var c=ae.p;ae.p=2;var f=We;We|=4;try{dx(s,r.alternate,r)}finally{We=f,ae.p=c,Q.T=o}}zt=3}}function Ux(){if(zt===4||zt===3){zt=0,Au();var s=dr,r=Eo,o=Ci,c=Sx;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?zt=5:(zt=0,Eo=dr=null,zx(s,s.pendingLanes));var f=s.pendingLanes;if(f===0&&(hr=null),ui(o),r=r.stateNode,Wt&&typeof Wt.onCommitFiberRoot=="function")try{Wt.onCommitFiberRoot(os,r,void 0,(r.current.flags&128)===128)}catch{}if(c!==null){r=Q.T,f=ae.p,ae.p=2,Q.T=null;try{for(var g=s.onRecoverableError,_=0;_<c.length;_++){var S=c[_];g(S.value,{componentStack:S.stack})}}finally{Q.T=r,ae.p=f}}(Ci&3)!==0&&Oh(),Xs(s),f=s.pendingLanes,(o&261930)!==0&&(f&42)!==0?s===cp?hc++:(hc=0,cp=s):hc=0,dc(0)}}function zx(s,r){(s.pooledCacheLanes&=r)===0&&(r=s.pooledCache,r!=null&&(s.pooledCache=null,$l(r)))}function Oh(){return Px(),Lx(),Ux(),Bx()}function Bx(){if(zt!==5)return!1;var s=dr,r=op;op=0;var o=ui(Ci),c=Q.T,f=ae.p;try{ae.p=32>o?32:o,Q.T=null,o=lp,lp=null;var g=dr,_=Ci;if(zt=0,Eo=dr=null,Ci=0,(We&6)!==0)throw Error(i(331));var S=We;if(We|=4,Tx(g.current),bx(g,g.current,_,o),We=S,dc(0,!1),Wt&&typeof Wt.onPostCommitFiberRoot=="function")try{Wt.onPostCommitFiberRoot(os,g)}catch{}return!0}finally{ae.p=f,Q.T=c,zx(s,r)}}function Fx(s,r,o){r=Kn(o,r),r=Bm(s.stateNode,r,2),s=rr(s,r,2),s!==null&&(Wr(s,2),Xs(s))}function tt(s,r,o){if(s.tag===3)Fx(s,s,o);else for(;r!==null;){if(r.tag===3){Fx(r,s,o);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(hr===null||!hr.has(c))){s=Kn(o,s),o=Hb(2),c=rr(r,o,2),c!==null&&(qb(o,c,r,s),Wr(c,2),Xs(c));break}}r=r.return}}function dp(s,r,o){var c=s.pingCache;if(c===null){c=s.pingCache=new SN;var f=new Set;c.set(r,f)}else f=c.get(r),f===void 0&&(f=new Set,c.set(r,f));f.has(o)||(ip=!0,f.add(o),s=kN.bind(null,s,r,o),r.then(s,s))}function kN(s,r,o){var c=s.pingCache;c!==null&&c.delete(r),s.pingedLanes|=s.suspendedLanes&o,s.warmLanes&=~o,at===s&&(Be&o)===o&&(vt===4||vt===3&&(Be&62914560)===Be&&300>pn()-kh?(We&2)===0&&So(s,0):rp|=o,wo===Be&&(wo=0)),Xs(s)}function Hx(s,r){r===0&&(r=Du()),s=ha(s,r),s!==null&&(Wr(s,r),Xs(s))}function IN(s){var r=s.memoizedState,o=0;r!==null&&(o=r.retryLane),Hx(s,o)}function DN(s,r){var o=0;switch(s.tag){case 31:case 13:var c=s.stateNode,f=s.memoizedState;f!==null&&(o=f.retryLane);break;case 19:c=s.stateNode;break;case 22:c=s.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(r),Hx(s,o)}function jN(s,r){return Ut(s,r)}var Ph=null,Co=null,fp=!1,Lh=!1,mp=!1,mr=0;function Xs(s){s!==Co&&s.next===null&&(Co===null?Ph=Co=s:Co=Co.next=s),Lh=!0,fp||(fp=!0,VN())}function dc(s,r){if(!mp&&Lh){mp=!0;do for(var o=!1,c=Ph;c!==null;){if(s!==0){var f=c.pendingLanes;if(f===0)var g=0;else{var _=c.suspendedLanes,S=c.pingedLanes;g=(1<<31-xt(42|s)+1)-1,g&=f&~(_&~S),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,Kx(c,g))}else g=Be,g=Ds(c,c===at?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||ls(c,g)||(o=!0,Kx(c,g));c=c.next}while(o);mp=!1}}function MN(){qx()}function qx(){Lh=fp=!1;var s=0;mr!==0&&GN()&&(s=mr);for(var r=pn(),o=null,c=Ph;c!==null;){var f=c.next,g=Gx(c,r);g===0?(c.next=null,o===null?Ph=f:o.next=f,f===null&&(Co=o)):(o=c,(s!==0||(g&3)!==0)&&(Lh=!0)),c=f}zt!==0&&zt!==5||dc(s),mr!==0&&(mr=0)}function Gx(s,r){for(var o=s.suspendedLanes,c=s.pingedLanes,f=s.expirationTimes,g=s.pendingLanes&-62914561;0<g;){var _=31-xt(g),S=1<<_,V=f[_];V===-1?((S&o)===0||(S&c)!==0)&&(f[_]=Hf(S,r)):V<=r&&(s.expiredLanes|=S),g&=~S}if(r=at,o=Be,o=Ds(s,s===r?o:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c=s.callbackNode,o===0||s===r&&(et===2||et===9)||s.cancelPendingCommit!==null)return c!==null&&c!==null&&Fi(c),s.callbackNode=null,s.callbackPriority=0;if((o&3)===0||ls(s,o)){if(r=o&-o,r===s.callbackPriority)return r;switch(c!==null&&Fi(c),ui(o)){case 2:case 8:o=Tl;break;case 32:o=Hi;break;case 268435456:o=Cu;break;default:o=Hi}return c=$x.bind(null,s),o=Ut(o,c),s.callbackPriority=r,s.callbackNode=o,r}return c!==null&&c!==null&&Fi(c),s.callbackPriority=2,s.callbackNode=null,2}function $x(s,r){if(zt!==0&&zt!==5)return s.callbackNode=null,s.callbackPriority=0,null;var o=s.callbackNode;if(Oh()&&s.callbackNode!==o)return null;var c=Be;return c=Ds(s,s===at?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c===0?null:(Cx(s,c,r),Gx(s,pn()),s.callbackNode!=null&&s.callbackNode===o?$x.bind(null,s):null)}function Kx(s,r){if(Oh())return null;Cx(s,r,!0)}function VN(){KN(function(){(We&6)!==0?Ut(_l,MN):qx()})}function pp(){if(mr===0){var s=ho;s===0&&(s=ks,ks<<=1,(ks&261888)===0&&(ks=256)),mr=s}return mr}function Yx(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Xa(""+s)}function Qx(s,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,s.id&&o.setAttribute("form",s.id),r.parentNode.insertBefore(o,r),s=new FormData(s),o.parentNode.removeChild(o),s}function ON(s,r,o,c,f){if(r==="submit"&&o&&o.stateNode===f){var g=Yx((f[qt]||null).action),_=c.submitter;_&&(r=(r=_[qt]||null)?Yx(r.formAction):_.getAttribute("formAction"),r!==null&&(g=r,_=null));var S=new Hs("action","action",null,c,f);s.push({event:S,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(mr!==0){var V=_?Qx(f,_):new FormData(f);Vm(o,{pending:!0,data:V,method:f.method,action:g},null,V)}}else typeof g=="function"&&(S.preventDefault(),V=_?Qx(f,_):new FormData(f),Vm(o,{pending:!0,data:V,method:f.method,action:g},g,V))},currentTarget:f}]})}}for(var gp=0;gp<Jf.length;gp++){var yp=Jf[gp],PN=yp.toLowerCase(),LN=yp[0].toUpperCase()+yp.slice(1);gs(PN,"on"+LN)}gs(Av,"onAnimationEnd"),gs(Cv,"onAnimationIteration"),gs(Nv,"onAnimationStart"),gs("dblclick","onDoubleClick"),gs("focusin","onFocus"),gs("focusout","onBlur"),gs(eN,"onTransitionRun"),gs(tN,"onTransitionStart"),gs(nN,"onTransitionCancel"),gs(Rv,"onTransitionEnd"),Us("onMouseEnter",["mouseout","mouseover"]),Us("onMouseLeave",["mouseout","mouseover"]),Us("onPointerEnter",["pointerout","pointerover"]),Us("onPointerLeave",["pointerout","pointerover"]),Ls("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ls("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ls("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ls("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ls("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ls("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),UN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(fc));function Xx(s,r){r=(r&4)!==0;for(var o=0;o<s.length;o++){var c=s[o],f=c.event;c=c.listeners;e:{var g=void 0;if(r)for(var _=c.length-1;0<=_;_--){var S=c[_],V=S.instance,K=S.currentTarget;if(S=S.listener,V!==g&&f.isPropagationStopped())break e;g=S,f.currentTarget=K;try{g(f)}catch(J){Zu(J)}f.currentTarget=null,g=V}else for(_=0;_<c.length;_++){if(S=c[_],V=S.instance,K=S.currentTarget,S=S.listener,V!==g&&f.isPropagationStopped())break e;g=S,f.currentTarget=K;try{g(f)}catch(J){Zu(J)}f.currentTarget=null,g=V}}}}function ze(s,r){var o=r[Ga];o===void 0&&(o=r[Ga]=new Set);var c=s+"__bubble";o.has(c)||(Wx(r,s,2,!1),o.add(c))}function vp(s,r,o){var c=0;r&&(c|=4),Wx(o,s,c,r)}var Uh="_reactListening"+Math.random().toString(36).slice(2);function bp(s){if(!s[Uh]){s[Uh]=!0,Sl.forEach(function(o){o!=="selectionchange"&&(UN.has(o)||vp(o,!1,s),vp(o,!0,s))});var r=s.nodeType===9?s:s.ownerDocument;r===null||r[Uh]||(r[Uh]=!0,vp("selectionchange",!1,r))}}function Wx(s,r,o,c){switch(A1(r)){case 2:var f=fR;break;case 8:f=mR;break;default:f=Mp}o=f.bind(null,r,o,s),f=void 0,!sa||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),c?f!==void 0?s.addEventListener(r,o,{capture:!0,passive:f}):s.addEventListener(r,o,!0):f!==void 0?s.addEventListener(r,o,{passive:f}):s.addEventListener(r,o,!1)}function xp(s,r,o,c,f){var g=c;if((r&1)===0&&(r&2)===0&&c!==null)e:for(;;){if(c===null)return;var _=c.tag;if(_===3||_===4){var S=c.stateNode.containerInfo;if(S===f)break;if(_===4)for(_=c.return;_!==null;){var V=_.tag;if((V===3||V===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;S!==null;){if(_=Os(S),_===null)return;if(V=_.tag,V===5||V===6||V===26||V===27){c=g=_;continue e}S=S.parentNode}}c=c.return}Qi(function(){var K=g,J=Hn(o),ie=[];e:{var Y=kv.get(s);if(Y!==void 0){var W=Hs,pe=s;switch(s){case"keypress":if(ra(o)===0)break e;case"keydown":case"keyup":W=Xu;break;case"focusin":pe="focus",W=oa;break;case"focusout":pe="blur",W=oa;break;case"beforeblur":case"afterblur":W=oa;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=Ll;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=Bu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=b;break;case Av:case Cv:case Nv:W=Hu;break;case Rv:W=N;break;case"scroll":case"scrollend":W=Pl;break;case"wheel":W=X;break;case"copy":case"cut":case"paste":W=qu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=fi;break;case"toggle":case"beforetoggle":W=je}var we=(r&4)!==0,rt=!we&&(s==="scroll"||s==="scrollend"),q=we?Y!==null?Y+"Capture":null:Y;we=[];for(var B=K,$;B!==null;){var te=B;if($=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||$===null||q===null||(te=ds(B,q),te!=null&&we.push(mc(B,te,$))),rt)break;B=B.return}0<we.length&&(Y=new W(Y,pe,null,o,J),ie.push({event:Y,listeners:we}))}}if((r&7)===0){e:{if(Y=s==="mouseover"||s==="pointerover",W=s==="mouseout"||s==="pointerout",Y&&o!==Ml&&(pe=o.relatedTarget||o.fromElement)&&(Os(pe)||pe[Ms]))break e;if((W||Y)&&(Y=J.window===J?J:(Y=J.ownerDocument)?Y.defaultView||Y.parentWindow:window,W?(pe=o.relatedTarget||o.toElement,W=K,pe=pe?Os(pe):null,pe!==null&&(rt=l(pe),we=pe.tag,pe!==rt||we!==5&&we!==27&&we!==6)&&(pe=null)):(W=null,pe=K),W!==pe)){if(we=Ll,te="onMouseLeave",q="onMouseEnter",B="mouse",(s==="pointerout"||s==="pointerover")&&(we=fi,te="onPointerLeave",q="onPointerEnter",B="pointer"),rt=W==null?Y:kn(W),$=pe==null?Y:kn(pe),Y=new we(te,B+"leave",W,o,J),Y.target=rt,Y.relatedTarget=$,te=null,Os(J)===K&&(we=new we(q,B+"enter",pe,o,J),we.target=$,we.relatedTarget=rt,te=we),rt=te,W&&pe)t:{for(we=zN,q=W,B=pe,$=0,te=q;te;te=we(te))$++;te=0;for(var be=B;be;be=we(be))te++;for(;0<$-te;)q=we(q),$--;for(;0<te-$;)B=we(B),te--;for(;$--;){if(q===B||B!==null&&q===B.alternate){we=q;break t}q=we(q),B=we(B)}we=null}else we=null;W!==null&&Jx(ie,Y,W,we,!1),pe!==null&&rt!==null&&Jx(ie,rt,pe,we,!0)}}e:{if(Y=K?kn(K):window,W=Y.nodeName&&Y.nodeName.toLowerCase(),W==="select"||W==="input"&&Y.type==="file")var Ye=pv;else if(fv(Y))if(gv)Ye=WC;else{Ye=QC;var ye=YC}else W=Y.nodeName,!W||W.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?K&&Qa(K.elementType)&&(Ye=pv):Ye=XC;if(Ye&&(Ye=Ye(s,K))){mv(ie,Ye,o,J);break e}ye&&ye(s,Y,K),s==="focusout"&&K&&Y.type==="number"&&K.memoizedProps.value!=null&&Il(Y,"number",Y.value)}switch(ye=K?kn(K):window,s){case"focusin":(fv(ye)||ye.contentEditable==="true")&&(so=ye,Qf=K,Hl=null);break;case"focusout":Hl=Qf=so=null;break;case"mousedown":Xf=!0;break;case"contextmenu":case"mouseup":case"dragend":Xf=!1,Ev(ie,o,J);break;case"selectionchange":if(ZC)break;case"keydown":case"keyup":Ev(ie,o,J)}var Oe;if(Xe)e:{switch(s){case"compositionstart":var Fe="onCompositionStart";break e;case"compositionend":Fe="onCompositionEnd";break e;case"compositionupdate":Fe="onCompositionUpdate";break e}Fe=void 0}else no?la(s,o)&&(Fe="onCompositionEnd"):s==="keydown"&&o.keyCode===229&&(Fe="onCompositionStart");Fe&&($s&&o.locale!=="ko"&&(no||Fe!=="onCompositionStart"?Fe==="onCompositionEnd"&&no&&(Oe=Ol()):(Fs=J,Vl="value"in Fs?Fs.value:Fs.textContent,no=!0)),ye=zh(K,Fe),0<ye.length&&(Fe=new Gs(Fe,s,null,o,J),ie.push({event:Fe,listeners:ye}),Oe?Fe.data=Oe:(Oe=to(o),Oe!==null&&(Fe.data=Oe)))),(Oe=Gn?qC(s,o):GC(s,o))&&(Fe=zh(K,"onBeforeInput"),0<Fe.length&&(ye=new Gs("onBeforeInput","beforeinput",null,o,J),ie.push({event:ye,listeners:Fe}),ye.data=Oe)),ON(ie,s,K,o,J)}Xx(ie,r)})}function mc(s,r,o){return{instance:s,listener:r,currentTarget:o}}function zh(s,r){for(var o=r+"Capture",c=[];s!==null;){var f=s,g=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||g===null||(f=ds(s,o),f!=null&&c.unshift(mc(s,f,g)),f=ds(s,r),f!=null&&c.push(mc(s,f,g))),s.tag===3)return c;s=s.return}return[]}function zN(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function Jx(s,r,o,c,f){for(var g=r._reactName,_=[];o!==null&&o!==c;){var S=o,V=S.alternate,K=S.stateNode;if(S=S.tag,V!==null&&V===c)break;S!==5&&S!==26&&S!==27||K===null||(V=K,f?(K=ds(o,g),K!=null&&_.unshift(mc(o,K,V))):f||(K=ds(o,g),K!=null&&_.push(mc(o,K,V)))),o=o.return}_.length!==0&&s.push({event:r,listeners:_})}var BN=/\r\n?/g,FN=/\u0000|\uFFFD/g;function Zx(s){return(typeof s=="string"?s:""+s).replace(BN,`
`).replace(FN,"")}function e1(s,r){return r=Zx(r),Zx(s)===r}function it(s,r,o,c,f,g){switch(o){case"children":typeof c=="string"?r==="body"||r==="textarea"&&c===""||Tn(s,c):(typeof c=="number"||typeof c=="bigint")&&r!=="body"&&Tn(s,""+c);break;case"className":In(s,"class",c);break;case"tabIndex":In(s,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":In(s,o,c);break;case"style":jl(s,c,g);break;case"data":if(r!=="object"){In(s,"data",c);break}case"src":case"href":if(c===""&&(r!=="a"||o!=="href")){s.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(o);break}c=Xa(""+c),s.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){s.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(r!=="input"&&it(s,r,"name",f.name,f,null),it(s,r,"formEncType",f.formEncType,f,null),it(s,r,"formMethod",f.formMethod,f,null),it(s,r,"formTarget",f.formTarget,f,null)):(it(s,r,"encType",f.encType,f,null),it(s,r,"method",f.method,f,null),it(s,r,"target",f.target,f,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(o);break}c=Xa(""+c),s.setAttribute(o,c);break;case"onClick":c!=null&&(s.onclick=hs);break;case"onScroll":c!=null&&ze("scroll",s);break;case"onScrollEnd":c!=null&&ze("scrollend",s);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(o=c.__html,o!=null){if(f.children!=null)throw Error(i(60));s.innerHTML=o}}break;case"multiple":s.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":s.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){s.removeAttribute("xlink:href");break}o=Xa(""+c),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(o,""+c):s.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(o,""):s.removeAttribute(o);break;case"capture":case"download":c===!0?s.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(o,c):s.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?s.setAttribute(o,c):s.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?s.removeAttribute(o):s.setAttribute(o,c);break;case"popover":ze("beforetoggle",s),ze("toggle",s),Ka(s,"popover",c);break;case"xlinkActuate":kt(s,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":kt(s,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":kt(s,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":kt(s,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":kt(s,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":kt(s,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":kt(s,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":kt(s,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":kt(s,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Ka(s,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=zu.get(o)||o,Ka(s,o,c))}}function _p(s,r,o,c,f,g){switch(o){case"style":jl(s,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(o=c.__html,o!=null){if(f.children!=null)throw Error(i(60));s.innerHTML=o}}break;case"children":typeof c=="string"?Tn(s,c):(typeof c=="number"||typeof c=="bigint")&&Tn(s,""+c);break;case"onScroll":c!=null&&ze("scroll",s);break;case"onScrollEnd":c!=null&&ze("scrollend",s);break;case"onClick":c!=null&&(s.onclick=hs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Al.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),r=o.slice(2,f?o.length-7:void 0),g=s[qt]||null,g=g!=null?g[o]:null,typeof g=="function"&&s.removeEventListener(r,g,f),typeof c=="function")){typeof g!="function"&&g!==null&&(o in s?s[o]=null:s.hasAttribute(o)&&s.removeAttribute(o)),s.addEventListener(r,c,f);break e}o in s?s[o]=c:c===!0?s.setAttribute(o,""):Ka(s,o,c)}}}function nn(s,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ze("error",s),ze("load",s);var c=!1,f=!1,g;for(g in o)if(o.hasOwnProperty(g)){var _=o[g];if(_!=null)switch(g){case"src":c=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:it(s,r,g,_,o,null)}}f&&it(s,r,"srcSet",o.srcSet,o,null),c&&it(s,r,"src",o.src,o,null);return;case"input":ze("invalid",s);var S=g=_=f=null,V=null,K=null;for(c in o)if(o.hasOwnProperty(c)){var J=o[c];if(J!=null)switch(c){case"name":f=J;break;case"type":_=J;break;case"checked":V=J;break;case"defaultChecked":K=J;break;case"value":g=J;break;case"defaultValue":S=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,r));break;default:it(s,r,c,J,o,null)}}Pu(s,g,S,V,K,_,f,!1);return;case"select":ze("invalid",s),c=_=g=null;for(f in o)if(o.hasOwnProperty(f)&&(S=o[f],S!=null))switch(f){case"value":g=S;break;case"defaultValue":_=S;break;case"multiple":c=S;default:it(s,r,f,S,o,null)}r=g,o=_,s.multiple=!!c,r!=null?Gi(s,!!c,r,!1):o!=null&&Gi(s,!!c,o,!0);return;case"textarea":ze("invalid",s),g=f=c=null;for(_ in o)if(o.hasOwnProperty(_)&&(S=o[_],S!=null))switch(_){case"value":c=S;break;case"defaultValue":f=S;break;case"children":g=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:it(s,r,_,S,o,null)}$i(s,c,f,g);return;case"option":for(V in o)o.hasOwnProperty(V)&&(c=o[V],c!=null)&&(V==="selected"?s.selected=c&&typeof c!="function"&&typeof c!="symbol":it(s,r,V,c,o,null));return;case"dialog":ze("beforetoggle",s),ze("toggle",s),ze("cancel",s),ze("close",s);break;case"iframe":case"object":ze("load",s);break;case"video":case"audio":for(c=0;c<fc.length;c++)ze(fc[c],s);break;case"image":ze("error",s),ze("load",s);break;case"details":ze("toggle",s);break;case"embed":case"source":case"link":ze("error",s),ze("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in o)if(o.hasOwnProperty(K)&&(c=o[K],c!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:it(s,r,K,c,o,null)}return;default:if(Qa(r)){for(J in o)o.hasOwnProperty(J)&&(c=o[J],c!==void 0&&_p(s,r,J,c,o,void 0));return}}for(S in o)o.hasOwnProperty(S)&&(c=o[S],c!=null&&it(s,r,S,c,o,null))}function HN(s,r,o,c){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,g=null,_=null,S=null,V=null,K=null,J=null;for(W in o){var ie=o[W];if(o.hasOwnProperty(W)&&ie!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":V=ie;default:c.hasOwnProperty(W)||it(s,r,W,null,c,ie)}}for(var Y in c){var W=c[Y];if(ie=o[Y],c.hasOwnProperty(Y)&&(W!=null||ie!=null))switch(Y){case"type":g=W;break;case"name":f=W;break;case"checked":K=W;break;case"defaultChecked":J=W;break;case"value":_=W;break;case"defaultValue":S=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(137,r));break;default:W!==ie&&it(s,r,Y,W,c,ie)}}Ya(s,_,S,V,K,J,g,f);return;case"select":W=_=S=Y=null;for(g in o)if(V=o[g],o.hasOwnProperty(g)&&V!=null)switch(g){case"value":break;case"multiple":W=V;default:c.hasOwnProperty(g)||it(s,r,g,null,c,V)}for(f in c)if(g=c[f],V=o[f],c.hasOwnProperty(f)&&(g!=null||V!=null))switch(f){case"value":Y=g;break;case"defaultValue":S=g;break;case"multiple":_=g;default:g!==V&&it(s,r,f,g,c,V)}r=S,o=_,c=W,Y!=null?Gi(s,!!o,Y,!1):!!c!=!!o&&(r!=null?Gi(s,!!o,r,!0):Gi(s,!!o,o?[]:"",!1));return;case"textarea":W=Y=null;for(S in o)if(f=o[S],o.hasOwnProperty(S)&&f!=null&&!c.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:it(s,r,S,null,c,f)}for(_ in c)if(f=c[_],g=o[_],c.hasOwnProperty(_)&&(f!=null||g!=null))switch(_){case"value":Y=f;break;case"defaultValue":W=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(i(91));break;default:f!==g&&it(s,r,_,f,c,g)}Lu(s,Y,W);return;case"option":for(var pe in o)Y=o[pe],o.hasOwnProperty(pe)&&Y!=null&&!c.hasOwnProperty(pe)&&(pe==="selected"?s.selected=!1:it(s,r,pe,null,c,Y));for(V in c)Y=c[V],W=o[V],c.hasOwnProperty(V)&&Y!==W&&(Y!=null||W!=null)&&(V==="selected"?s.selected=Y&&typeof Y!="function"&&typeof Y!="symbol":it(s,r,V,Y,c,W));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var we in o)Y=o[we],o.hasOwnProperty(we)&&Y!=null&&!c.hasOwnProperty(we)&&it(s,r,we,null,c,Y);for(K in c)if(Y=c[K],W=o[K],c.hasOwnProperty(K)&&Y!==W&&(Y!=null||W!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(i(137,r));break;default:it(s,r,K,Y,c,W)}return;default:if(Qa(r)){for(var rt in o)Y=o[rt],o.hasOwnProperty(rt)&&Y!==void 0&&!c.hasOwnProperty(rt)&&_p(s,r,rt,void 0,c,Y);for(J in c)Y=c[J],W=o[J],!c.hasOwnProperty(J)||Y===W||Y===void 0&&W===void 0||_p(s,r,J,Y,c,W);return}}for(var q in o)Y=o[q],o.hasOwnProperty(q)&&Y!=null&&!c.hasOwnProperty(q)&&it(s,r,q,null,c,Y);for(ie in c)Y=c[ie],W=o[ie],!c.hasOwnProperty(ie)||Y===W||Y==null&&W==null||it(s,r,ie,Y,c,W)}function t1(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function qN(){if(typeof performance.getEntriesByType=="function"){for(var s=0,r=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var f=o[c],g=f.transferSize,_=f.initiatorType,S=f.duration;if(g&&S&&t1(_)){for(_=0,S=f.responseEnd,c+=1;c<o.length;c++){var V=o[c],K=V.startTime;if(K>S)break;var J=V.transferSize,ie=V.initiatorType;J&&t1(ie)&&(V=V.responseEnd,_+=J*(V<S?1:(S-K)/(V-K)))}if(--c,r+=8*(g+_)/(f.duration/1e3),s++,10<s)break}}if(0<s)return r/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var Tp=null,wp=null;function Bh(s){return s.nodeType===9?s:s.ownerDocument}function n1(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function s1(s,r){if(s===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&r==="foreignObject"?0:s}function Ep(s,r){return s==="textarea"||s==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Sp=null;function GN(){var s=window.event;return s&&s.type==="popstate"?s===Sp?!1:(Sp=s,!0):(Sp=null,!1)}var i1=typeof setTimeout=="function"?setTimeout:void 0,$N=typeof clearTimeout=="function"?clearTimeout:void 0,r1=typeof Promise=="function"?Promise:void 0,KN=typeof queueMicrotask=="function"?queueMicrotask:typeof r1<"u"?function(s){return r1.resolve(null).then(s).catch(YN)}:i1;function YN(s){setTimeout(function(){throw s})}function pr(s){return s==="head"}function a1(s,r){var o=r,c=0;do{var f=o.nextSibling;if(s.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"||o==="/&"){if(c===0){s.removeChild(f),Io(r);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")pc(s.ownerDocument.documentElement);else if(o==="head"){o=s.ownerDocument.head,pc(o);for(var g=o.firstChild;g;){var _=g.nextSibling,S=g.nodeName;g[Vs]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=_}}else o==="body"&&pc(s.ownerDocument.body);o=f}while(o);Io(r)}function o1(s,r){var o=s;s=0;do{var c=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(s===0)break;s--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||s++;o=c}while(o)}function Ap(s){var r=s.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Ap(o),$a(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}s.removeChild(o)}}function QN(s,r,o,c){for(;s.nodeType===1;){var f=o;if(s.nodeName.toLowerCase()!==r.toLowerCase()){if(!c&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(c){if(!s[Vs])switch(r){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(g=s.getAttribute("rel"),g==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(g!==f.rel||s.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||s.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||s.getAttribute("title")!==(f.title==null?null:f.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(g=s.getAttribute("src"),(g!==(f.src==null?null:f.src)||s.getAttribute("type")!==(f.type==null?null:f.type)||s.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&g&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(r==="input"&&s.type==="hidden"){var g=f.name==null?null:""+f.name;if(f.type==="hidden"&&s.getAttribute("name")===g)return s}else return s;if(s=Jn(s.nextSibling),s===null)break}return null}function XN(s,r,o){if(r==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!o||(s=Jn(s.nextSibling),s===null))return null;return s}function l1(s,r){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!r||(s=Jn(s.nextSibling),s===null))return null;return s}function Cp(s){return s.data==="$?"||s.data==="$~"}function Np(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function WN(s,r){var o=s.ownerDocument;if(s.data==="$~")s._reactRetry=r;else if(s.data!=="$?"||o.readyState!=="loading")r();else{var c=function(){r(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),s._reactRetry=c}}function Jn(s){for(;s!=null;s=s.nextSibling){var r=s.nodeType;if(r===1||r===3)break;if(r===8){if(r=s.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return s}var Rp=null;function c1(s){s=s.nextSibling;for(var r=0;s;){if(s.nodeType===8){var o=s.data;if(o==="/$"||o==="/&"){if(r===0)return Jn(s.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}s=s.nextSibling}return null}function u1(s){s=s.previousSibling;for(var r=0;s;){if(s.nodeType===8){var o=s.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return s;r--}else o!=="/$"&&o!=="/&"||r++}s=s.previousSibling}return null}function h1(s,r,o){switch(r=Bh(o),s){case"html":if(s=r.documentElement,!s)throw Error(i(452));return s;case"head":if(s=r.head,!s)throw Error(i(453));return s;case"body":if(s=r.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function pc(s){for(var r=s.attributes;r.length;)s.removeAttributeNode(r[0]);$a(s)}var Zn=new Map,d1=new Set;function Fh(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Ni=ae.d;ae.d={f:JN,r:ZN,D:eR,C:tR,L:nR,m:sR,X:rR,S:iR,M:aR};function JN(){var s=Ni.f(),r=jh();return s||r}function ZN(s){var r=Fn(s);r!==null&&r.tag===5&&r.type==="form"?Rb(r):Ni.r(s)}var No=typeof document>"u"?null:document;function f1(s,r,o){var c=No;if(c&&typeof r=="string"&&r){var f=_n(r);f='link[rel="'+s+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),d1.has(f)||(d1.add(f),s={rel:s,crossOrigin:o,href:r},c.querySelector(f)===null&&(r=c.createElement("link"),nn(r,"link",s),Rt(r),c.head.appendChild(r)))}}function eR(s){Ni.D(s),f1("dns-prefetch",s,null)}function tR(s,r){Ni.C(s,r),f1("preconnect",s,r)}function nR(s,r,o){Ni.L(s,r,o);var c=No;if(c&&s&&r){var f='link[rel="preload"][as="'+_n(r)+'"]';r==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+_n(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+_n(o.imageSizes)+'"]')):f+='[href="'+_n(s)+'"]';var g=f;switch(r){case"style":g=Ro(s);break;case"script":g=ko(s)}Zn.has(g)||(s=x({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:s,as:r},o),Zn.set(g,s),c.querySelector(f)!==null||r==="style"&&c.querySelector(gc(g))||r==="script"&&c.querySelector(yc(g))||(r=c.createElement("link"),nn(r,"link",s),Rt(r),c.head.appendChild(r)))}}function sR(s,r){Ni.m(s,r);var o=No;if(o&&s){var c=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+_n(c)+'"][href="'+_n(s)+'"]',g=f;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=ko(s)}if(!Zn.has(g)&&(s=x({rel:"modulepreload",href:s},r),Zn.set(g,s),o.querySelector(f)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(yc(g)))return}c=o.createElement("link"),nn(c,"link",s),Rt(c),o.head.appendChild(c)}}}function iR(s,r,o){Ni.S(s,r,o);var c=No;if(c&&s){var f=Ps(c).hoistableStyles,g=Ro(s);r=r||"default";var _=f.get(g);if(!_){var S={loading:0,preload:null};if(_=c.querySelector(gc(g)))S.loading=5;else{s=x({rel:"stylesheet",href:s,"data-precedence":r},o),(o=Zn.get(g))&&kp(s,o);var V=_=c.createElement("link");Rt(V),nn(V,"link",s),V._p=new Promise(function(K,J){V.onload=K,V.onerror=J}),V.addEventListener("load",function(){S.loading|=1}),V.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Hh(_,r,c)}_={type:"stylesheet",instance:_,count:1,state:S},f.set(g,_)}}}function rR(s,r){Ni.X(s,r);var o=No;if(o&&s){var c=Ps(o).hoistableScripts,f=ko(s),g=c.get(f);g||(g=o.querySelector(yc(f)),g||(s=x({src:s,async:!0},r),(r=Zn.get(f))&&Ip(s,r),g=o.createElement("script"),Rt(g),nn(g,"link",s),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(f,g))}}function aR(s,r){Ni.M(s,r);var o=No;if(o&&s){var c=Ps(o).hoistableScripts,f=ko(s),g=c.get(f);g||(g=o.querySelector(yc(f)),g||(s=x({src:s,async:!0,type:"module"},r),(r=Zn.get(f))&&Ip(s,r),g=o.createElement("script"),Rt(g),nn(g,"link",s),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(f,g))}}function m1(s,r,o,c){var f=(f=Re.current)?Fh(f):null;if(!f)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=Ro(o.href),o=Ps(f).hoistableStyles,c=o.get(r),c||(c={type:"style",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){s=Ro(o.href);var g=Ps(f).hoistableStyles,_=g.get(s);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(s,_),(g=f.querySelector(gc(s)))&&!g._p&&(_.instance=g,_.state.loading=5),Zn.has(s)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Zn.set(s,o),g||oR(f,s,o,_.state))),r&&c===null)throw Error(i(528,""));return _}if(r&&c!==null)throw Error(i(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=ko(o),o=Ps(f).hoistableScripts,c=o.get(r),c||(c={type:"script",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function Ro(s){return'href="'+_n(s)+'"'}function gc(s){return'link[rel="stylesheet"]['+s+"]"}function p1(s){return x({},s,{"data-precedence":s.precedence,precedence:null})}function oR(s,r,o,c){s.querySelector('link[rel="preload"][as="style"]['+r+"]")?c.loading=1:(r=s.createElement("link"),c.preload=r,r.addEventListener("load",function(){return c.loading|=1}),r.addEventListener("error",function(){return c.loading|=2}),nn(r,"link",o),Rt(r),s.head.appendChild(r))}function ko(s){return'[src="'+_n(s)+'"]'}function yc(s){return"script[async]"+s}function g1(s,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var c=s.querySelector('style[data-href~="'+_n(o.href)+'"]');if(c)return r.instance=c,Rt(c),c;var f=x({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(s.ownerDocument||s).createElement("style"),Rt(c),nn(c,"style",f),Hh(c,o.precedence,s),r.instance=c;case"stylesheet":f=Ro(o.href);var g=s.querySelector(gc(f));if(g)return r.state.loading|=4,r.instance=g,Rt(g),g;c=p1(o),(f=Zn.get(f))&&kp(c,f),g=(s.ownerDocument||s).createElement("link"),Rt(g);var _=g;return _._p=new Promise(function(S,V){_.onload=S,_.onerror=V}),nn(g,"link",c),r.state.loading|=4,Hh(g,o.precedence,s),r.instance=g;case"script":return g=ko(o.src),(f=s.querySelector(yc(g)))?(r.instance=f,Rt(f),f):(c=o,(f=Zn.get(g))&&(c=x({},o),Ip(c,f)),s=s.ownerDocument||s,f=s.createElement("script"),Rt(f),nn(f,"link",c),s.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(c=r.instance,r.state.loading|=4,Hh(c,o.precedence,s));return r.instance}function Hh(s,r,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=c.length?c[c.length-1]:null,g=f,_=0;_<c.length;_++){var S=c[_];if(S.dataset.precedence===r)g=S;else if(g!==f)break}g?g.parentNode.insertBefore(s,g.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(s,r.firstChild))}function kp(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.title==null&&(s.title=r.title)}function Ip(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.integrity==null&&(s.integrity=r.integrity)}var qh=null;function y1(s,r,o){if(qh===null){var c=new Map,f=qh=new Map;f.set(o,c)}else f=qh,c=f.get(o),c||(c=new Map,f.set(o,c));if(c.has(s))return c;for(c.set(s,null),o=o.getElementsByTagName(s),f=0;f<o.length;f++){var g=o[f];if(!(g[Vs]||g[Nt]||s==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var _=g.getAttribute(r)||"";_=s+_;var S=c.get(_);S?S.push(g):c.set(_,[g])}}return c}function v1(s,r,o){s=s.ownerDocument||s,s.head.insertBefore(o,r==="title"?s.querySelector("head > title"):null)}function lR(s,r,o){if(o===1||r.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(s=r.disabled,typeof r.precedence=="string"&&s==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function b1(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function cR(s,r,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var f=Ro(c.href),g=r.querySelector(gc(f));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(s.count++,s=Gh.bind(s),r.then(s,s)),o.state.loading|=4,o.instance=g,Rt(g);return}g=r.ownerDocument||r,c=p1(c),(f=Zn.get(f))&&kp(c,f),g=g.createElement("link"),Rt(g);var _=g;_._p=new Promise(function(S,V){_.onload=S,_.onerror=V}),nn(g,"link",c),o.instance=g}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(s.count++,o=Gh.bind(s),r.addEventListener("load",o),r.addEventListener("error",o))}}var Dp=0;function uR(s,r){return s.stylesheets&&s.count===0&&Kh(s,s.stylesheets),0<s.count||0<s.imgCount?function(o){var c=setTimeout(function(){if(s.stylesheets&&Kh(s,s.stylesheets),s.unsuspend){var g=s.unsuspend;s.unsuspend=null,g()}},6e4+r);0<s.imgBytes&&Dp===0&&(Dp=62500*qN());var f=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Kh(s,s.stylesheets),s.unsuspend)){var g=s.unsuspend;s.unsuspend=null,g()}},(s.imgBytes>Dp?50:800)+r);return s.unsuspend=o,function(){s.unsuspend=null,clearTimeout(c),clearTimeout(f)}}:null}function Gh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Kh(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var $h=null;function Kh(s,r){s.stylesheets=null,s.unsuspend!==null&&(s.count++,$h=new Map,r.forEach(hR,s),$h=null,Gh.call(s))}function hR(s,r){if(!(r.state.loading&4)){var o=$h.get(s);if(o)var c=o.get(null);else{o=new Map,$h.set(s,o);for(var f=s.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<f.length;g++){var _=f[g];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(o.set(_.dataset.precedence,_),c=_)}c&&o.set(null,c)}f=r.instance,_=f.getAttribute("data-precedence"),g=o.get(_)||c,g===c&&o.set(null,f),o.set(_,f),this.count++,c=Gh.bind(this),f.addEventListener("load",c),f.addEventListener("error",c),g?g.parentNode.insertBefore(f,g.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(f,s.firstChild)),r.state.loading|=4}}var vc={$$typeof:H,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function dR(s,r,o,c,f,g,_,S,V){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=js(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=js(0),this.hiddenUpdates=js(null),this.identifierPrefix=c,this.onUncaughtError=f,this.onCaughtError=g,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function x1(s,r,o,c,f,g,_,S,V,K,J,ie){return s=new dR(s,r,o,_,V,K,J,ie,S),r=1,g===!0&&(r|=24),g=jn(3,null,null,r),s.current=g,g.stateNode=s,r=hm(),r.refCount++,s.pooledCache=r,r.refCount++,g.memoizedState={element:c,isDehydrated:o,cache:r},pm(g),s}function _1(s){return s?(s=ao,s):ao}function T1(s,r,o,c,f,g){f=_1(f),c.context===null?c.context=f:c.pendingContext=f,c=ir(r),c.payload={element:o},g=g===void 0?null:g,g!==null&&(c.callback=g),o=rr(s,c,r),o!==null&&(Cn(o,s,r),Xl(o,s,r))}function w1(s,r){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var o=s.retryLane;s.retryLane=o!==0&&o<r?o:r}}function jp(s,r){w1(s,r),(s=s.alternate)&&w1(s,r)}function E1(s){if(s.tag===13||s.tag===31){var r=ha(s,67108864);r!==null&&Cn(r,s,67108864),jp(s,67108864)}}function S1(s){if(s.tag===13||s.tag===31){var r=Ln();r=Zr(r);var o=ha(s,r);o!==null&&Cn(o,s,r),jp(s,r)}}var Yh=!0;function fR(s,r,o,c){var f=Q.T;Q.T=null;var g=ae.p;try{ae.p=2,Mp(s,r,o,c)}finally{ae.p=g,Q.T=f}}function mR(s,r,o,c){var f=Q.T;Q.T=null;var g=ae.p;try{ae.p=8,Mp(s,r,o,c)}finally{ae.p=g,Q.T=f}}function Mp(s,r,o,c){if(Yh){var f=Vp(c);if(f===null)xp(s,r,c,Qh,o),C1(s,c);else if(gR(f,s,r,o,c))c.stopPropagation();else if(C1(s,c),r&4&&-1<pR.indexOf(s)){for(;f!==null;){var g=Fn(f);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var _=Is(g.pendingLanes);if(_!==0){var S=g;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var V=1<<31-xt(_);S.entanglements[1]|=V,_&=~V}Xs(g),(We&6)===0&&(Ih=pn()+500,dc(0))}}break;case 31:case 13:S=ha(g,2),S!==null&&Cn(S,g,2),jh(),jp(g,2)}if(g=Vp(c),g===null&&xp(s,r,c,Qh,o),g===f)break;f=g}f!==null&&c.stopPropagation()}else xp(s,r,c,null,o)}}function Vp(s){return s=Hn(s),Op(s)}var Qh=null;function Op(s){if(Qh=null,s=Os(s),s!==null){var r=l(s);if(r===null)s=null;else{var o=r.tag;if(o===13){if(s=u(r),s!==null)return s;s=null}else if(o===31){if(s=d(r),s!==null)return s;s=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;s=null}else r!==s&&(s=null)}}return Qh=s,null}function A1(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Qr()){case _l:return 2;case Tl:return 8;case Hi:case Ff:return 32;case Cu:return 268435456;default:return 32}default:return 32}}var Pp=!1,gr=null,yr=null,vr=null,bc=new Map,xc=new Map,br=[],pR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function C1(s,r){switch(s){case"focusin":case"focusout":gr=null;break;case"dragenter":case"dragleave":yr=null;break;case"mouseover":case"mouseout":vr=null;break;case"pointerover":case"pointerout":bc.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":xc.delete(r.pointerId)}}function _c(s,r,o,c,f,g){return s===null||s.nativeEvent!==g?(s={blockedOn:r,domEventName:o,eventSystemFlags:c,nativeEvent:g,targetContainers:[f]},r!==null&&(r=Fn(r),r!==null&&E1(r)),s):(s.eventSystemFlags|=c,r=s.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),s)}function gR(s,r,o,c,f){switch(r){case"focusin":return gr=_c(gr,s,r,o,c,f),!0;case"dragenter":return yr=_c(yr,s,r,o,c,f),!0;case"mouseover":return vr=_c(vr,s,r,o,c,f),!0;case"pointerover":var g=f.pointerId;return bc.set(g,_c(bc.get(g)||null,s,r,o,c,f)),!0;case"gotpointercapture":return g=f.pointerId,xc.set(g,_c(xc.get(g)||null,s,r,o,c,f)),!0}return!1}function N1(s){var r=Os(s.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=u(o),r!==null){s.blockedOn=r,cs(s.priority,function(){S1(o)});return}}else if(r===31){if(r=d(o),r!==null){s.blockedOn=r,cs(s.priority,function(){S1(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){s.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Xh(s){if(s.blockedOn!==null)return!1;for(var r=s.targetContainers;0<r.length;){var o=Vp(s.nativeEvent);if(o===null){o=s.nativeEvent;var c=new o.constructor(o.type,o);Ml=c,o.target.dispatchEvent(c),Ml=null}else return r=Fn(o),r!==null&&E1(r),s.blockedOn=o,!1;r.shift()}return!0}function R1(s,r,o){Xh(s)&&o.delete(r)}function yR(){Pp=!1,gr!==null&&Xh(gr)&&(gr=null),yr!==null&&Xh(yr)&&(yr=null),vr!==null&&Xh(vr)&&(vr=null),bc.forEach(R1),xc.forEach(R1)}function Wh(s,r){s.blockedOn===r&&(s.blockedOn=null,Pp||(Pp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,yR)))}var Jh=null;function k1(s){Jh!==s&&(Jh=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Jh===s&&(Jh=null);for(var r=0;r<s.length;r+=3){var o=s[r],c=s[r+1],f=s[r+2];if(typeof c!="function"){if(Op(c||o)===null)continue;break}var g=Fn(o);g!==null&&(s.splice(r,3),r-=3,Vm(g,{pending:!0,data:f,method:o.method,action:c},c,f))}}))}function Io(s){function r(V){return Wh(V,s)}gr!==null&&Wh(gr,s),yr!==null&&Wh(yr,s),vr!==null&&Wh(vr,s),bc.forEach(r),xc.forEach(r);for(var o=0;o<br.length;o++){var c=br[o];c.blockedOn===s&&(c.blockedOn=null)}for(;0<br.length&&(o=br[0],o.blockedOn===null);)N1(o),o.blockedOn===null&&br.shift();if(o=(s.ownerDocument||s).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var f=o[c],g=o[c+1],_=f[qt]||null;if(typeof g=="function")_||k1(o);else if(_){var S=null;if(g&&g.hasAttribute("formAction")){if(f=g,_=g[qt]||null)S=_.formAction;else if(Op(f)!==null)continue}else S=_.action;typeof S=="function"?o[c+1]=S:(o.splice(c,3),c-=3),k1(o)}}}function I1(){function s(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,f=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function Lp(s){this._internalRoot=s}Zh.prototype.render=Lp.prototype.render=function(s){var r=this._internalRoot;if(r===null)throw Error(i(409));var o=r.current,c=Ln();T1(o,c,s,r,null,null)},Zh.prototype.unmount=Lp.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var r=s.containerInfo;T1(s.current,2,null,s,null,null),jh(),r[Ms]=null}};function Zh(s){this._internalRoot=s}Zh.prototype.unstable_scheduleHydration=function(s){if(s){var r=ju();s={blockedOn:null,target:s,priority:r};for(var o=0;o<br.length&&r!==0&&r<br[o].priority;o++);br.splice(o,0,s),o===0&&N1(s)}};var D1=e.version;if(D1!=="19.2.4")throw Error(i(527,D1,"19.2.4"));ae.findDOMNode=function(s){var r=s._reactInternals;if(r===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=p(r),s=s!==null?v(s):null,s=s===null?null:s.stateNode,s};var vR={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ed=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ed.isDisabled&&ed.supportsFiber)try{os=ed.inject(vR),Wt=ed}catch{}}return wc.createRoot=function(s,r){if(!a(s))throw Error(i(299));var o=!1,c="",f=Ub,g=zb,_=Bb;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError)),r=x1(s,1,!1,null,null,o,c,null,f,g,_,I1),s[Ms]=r.current,bp(s),new Lp(r)},wc.hydrateRoot=function(s,r,o){if(!a(s))throw Error(i(299));var c=!1,f="",g=Ub,_=zb,S=Bb,V=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(_=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.formState!==void 0&&(V=o.formState)),r=x1(s,1,!0,r,o??null,c,f,V,g,_,S,I1),r.context=_1(null),o=r.current,c=Ln(),c=Zr(c),f=ir(c),f.callback=null,rr(o,f,c),o=c,r.current.lanes=o,Wr(r,o),Xs(r),s[Ms]=r.current,bp(s),new Zh(r)},wc.version="19.2.4",wc}var F1;function NR(){if(F1)return Bp.exports;F1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Bp.exports=CR(),Bp.exports}var RR=NR();const kR=Kw(RR);var H1="popstate";function IR(t={}){function e(i,a){let{pathname:l,search:u,hash:d}=i.location;return Ng("",{pathname:l,search:u,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){return typeof a=="string"?a:Fc(a)}return jR(e,n,null,t)}function mt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function As(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function DR(){return Math.random().toString(36).substring(2,10)}function q1(t,e){return{usr:t.state,key:t.key,idx:e}}function Ng(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?il(e):e,state:n,key:e&&e.key||i||DR()}}function Fc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function il(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function jR(t,e,n,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,u=a.history,d="POP",m=null,p=v();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function v(){return(u.state||{idx:null}).idx}function x(){d="POP";let P=v(),U=P==null?null:P-p;p=P,m&&m({action:d,location:L.location,delta:U})}function T(P,U){d="PUSH";let F=Ng(L.location,P,U);p=v()+1;let H=q1(F,p),ne=L.createHref(F);try{u.pushState(H,"",ne)}catch(Z){if(Z instanceof DOMException&&Z.name==="DataCloneError")throw Z;a.location.assign(ne)}l&&m&&m({action:d,location:L.location,delta:1})}function A(P,U){d="REPLACE";let F=Ng(L.location,P,U);p=v();let H=q1(F,p),ne=L.createHref(F);u.replaceState(H,"",ne),l&&m&&m({action:d,location:L.location,delta:0})}function M(P){return MR(P)}let L={get action(){return d},get location(){return t(a,u)},listen(P){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(H1,x),m=P,()=>{a.removeEventListener(H1,x),m=null}},createHref(P){return e(a,P)},createURL:M,encodeLocation(P){let U=M(P);return{pathname:U.pathname,search:U.search,hash:U.hash}},push:T,replace:A,go(P){return u.go(P)}};return L}function MR(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),mt(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:Fc(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function Qw(t,e,n="/"){return VR(t,e,n,!1)}function VR(t,e,n,i){let a=typeof e=="string"?il(e):e,l=ji(a.pathname||"/",n);if(l==null)return null;let u=Xw(t);OR(u);let d=null;for(let m=0;d==null&&m<u.length;++m){let p=KR(l);d=GR(u[m],p,i)}return d}function Xw(t,e=[],n=[],i="",a=!1){let l=(u,d,m=a,p)=>{let v={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(i)&&m)return;mt(v.relativePath.startsWith(i),`Absolute route path "${v.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(i.length)}let x=Di([i,v.relativePath]),T=n.concat(v);u.children&&u.children.length>0&&(mt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),Xw(u.children,e,T,x,m)),!(u.path==null&&!u.index)&&e.push({path:x,score:HR(x,u.index),routesMeta:T})};return t.forEach((u,d)=>{if(u.path===""||!u.path?.includes("?"))l(u,d);else for(let m of Ww(u.path))l(u,d,!0,m)}),e}function Ww(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let u=Ww(i.join("/")),d=[];return d.push(...u.map(m=>m===""?l:[l,m].join("/"))),a&&d.push(...u),d.map(m=>t.startsWith("/")&&m===""?"/":m)}function OR(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:qR(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var PR=/^:[\w-]+$/,LR=3,UR=2,zR=1,BR=10,FR=-2,G1=t=>t==="*";function HR(t,e){let n=t.split("/"),i=n.length;return n.some(G1)&&(i+=FR),e&&(i+=UR),n.filter(a=>!G1(a)).reduce((a,l)=>a+(PR.test(l)?LR:l===""?zR:BR),i)}function qR(t,e){return t.length===e.length&&t.slice(0,-1).every((i,a)=>i===e[a])?t[t.length-1]-e[e.length-1]:0}function GR(t,e,n=!1){let{routesMeta:i}=t,a={},l="/",u=[];for(let d=0;d<i.length;++d){let m=i[d],p=d===i.length-1,v=l==="/"?e:e.slice(l.length)||"/",x=jd({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},v),T=m.route;if(!x&&p&&n&&!i[i.length-1].route.index&&(x=jd({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},v)),!x)return null;Object.assign(a,x.params),u.push({params:a,pathname:Di([l,x.pathname]),pathnameBase:WR(Di([l,x.pathnameBase])),route:T}),x.pathnameBase!=="/"&&(l=Di([l,x.pathnameBase]))}return u}function jd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=$R(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:i.reduce((p,{paramName:v,isOptional:x},T)=>{if(v==="*"){let M=d[T]||"";u=l.slice(0,l.length-M.length).replace(/(.)\/+$/,"$1")}const A=d[T];return x&&!A?p[v]=void 0:p[v]=(A||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:u,pattern:t}}function $R(t,e=!1,n=!0){As(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,m)=>(i.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function KR(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return As(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ji(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}var YR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function QR(t,e="/"){let{pathname:n,search:i="",hash:a=""}=typeof t=="string"?il(t):t,l;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?l=$1(n.substring(1),"/"):l=$1(n,e)):l=e,{pathname:l,search:JR(i),hash:ZR(a)}}function $1(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Gp(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function XR(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function R0(t){let e=XR(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function k0(t,e,n,i=!1){let a;typeof t=="string"?a=il(t):(a={...t},mt(!a.pathname||!a.pathname.includes("?"),Gp("?","pathname","search",a)),mt(!a.pathname||!a.pathname.includes("#"),Gp("#","pathname","hash",a)),mt(!a.search||!a.search.includes("#"),Gp("#","search","hash",a)));let l=t===""||a.pathname==="",u=l?"/":a.pathname,d;if(u==null)d=n;else{let x=e.length-1;if(!i&&u.startsWith("..")){let T=u.split("/");for(;T[0]==="..";)T.shift(),x-=1;a.pathname=T.join("/")}d=x>=0?e[x]:"/"}let m=QR(a,d),p=u&&u!=="/"&&u.endsWith("/"),v=(l||u===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(p||v)&&(m.pathname+="/"),m}var Di=t=>t.join("/").replace(/\/\/+/g,"/"),WR=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),JR=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,ZR=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,ek=class{constructor(t,e,n,i=!1){this.status=t,this.statusText=e||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function tk(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function nk(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Jw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Zw(t,e){let n=t;if(typeof n!="string"||!YR.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let i=n,a=!1;if(Jw)try{let l=new URL(window.location.href),u=n.startsWith("//")?new URL(l.protocol+n):new URL(n),d=ji(u.pathname,e);u.origin===l.origin&&d!=null?n=d+u.search+u.hash:a=!0}catch{As(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var eE=["POST","PUT","PATCH","DELETE"];new Set(eE);var sk=["GET",...eE];new Set(sk);var rl=R.createContext(null);rl.displayName="DataRouter";var df=R.createContext(null);df.displayName="DataRouterState";var ik=R.createContext(!1),tE=R.createContext({isTransitioning:!1});tE.displayName="ViewTransition";var rk=R.createContext(new Map);rk.displayName="Fetchers";var ak=R.createContext(null);ak.displayName="Await";var zn=R.createContext(null);zn.displayName="Navigation";var ou=R.createContext(null);ou.displayName="Location";var rs=R.createContext({outlet:null,matches:[],isDataRoute:!1});rs.displayName="Route";var I0=R.createContext(null);I0.displayName="RouteError";var nE="REACT_ROUTER_ERROR",ok="REDIRECT",lk="ROUTE_ERROR_RESPONSE";function ck(t){if(t.startsWith(`${nE}:${ok}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function uk(t){if(t.startsWith(`${nE}:${lk}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new ek(e.status,e.statusText,e.data)}catch{}}function hk(t,{relative:e}={}){mt(al(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=R.useContext(zn),{hash:a,pathname:l,search:u}=lu(t,{relative:e}),d=l;return n!=="/"&&(d=l==="/"?n:Di([n,l])),i.createHref({pathname:d,search:u,hash:a})}function al(){return R.useContext(ou)!=null}function Ui(){return mt(al(),"useLocation() may be used only in the context of a <Router> component."),R.useContext(ou).location}var sE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function iE(t){R.useContext(zn).static||R.useLayoutEffect(t)}function ff(){let{isDataRoute:t}=R.useContext(rs);return t?Ck():dk()}function dk(){mt(al(),"useNavigate() may be used only in the context of a <Router> component.");let t=R.useContext(rl),{basename:e,navigator:n}=R.useContext(zn),{matches:i}=R.useContext(rs),{pathname:a}=Ui(),l=JSON.stringify(R0(i)),u=R.useRef(!1);return iE(()=>{u.current=!0}),R.useCallback((m,p={})=>{if(As(u.current,sE),!u.current)return;if(typeof m=="number"){n.go(m);return}let v=k0(m,JSON.parse(l),a,p.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Di([e,v.pathname])),(p.replace?n.replace:n.push)(v,p.state,p)},[e,n,l,a,t])}var fk=R.createContext(null);function mk(t){let e=R.useContext(rs).outlet;return R.useMemo(()=>e&&R.createElement(fk.Provider,{value:t},e),[e,t])}function pk(){let{matches:t}=R.useContext(rs),e=t[t.length-1];return e?e.params:{}}function lu(t,{relative:e}={}){let{matches:n}=R.useContext(rs),{pathname:i}=Ui(),a=JSON.stringify(R0(n));return R.useMemo(()=>k0(t,JSON.parse(a),i,e==="path"),[t,a,i,e])}function gk(t,e){return rE(t,e)}function rE(t,e,n,i,a){mt(al(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=R.useContext(zn),{matches:u}=R.useContext(rs),d=u[u.length-1],m=d?d.params:{},p=d?d.pathname:"/",v=d?d.pathnameBase:"/",x=d&&d.route;{let F=x&&x.path||"";oE(p,!x||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let T=Ui(),A;if(e){let F=typeof e=="string"?il(e):e;mt(v==="/"||F.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${F.pathname}" was given in the \`location\` prop.`),A=F}else A=T;let M=A.pathname||"/",L=M;if(v!=="/"){let F=v.replace(/^\//,"").split("/");L="/"+M.replace(/^\//,"").split("/").slice(F.length).join("/")}let P=Qw(t,{pathname:L});As(x||P!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),As(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let U=_k(P&&P.map(F=>Object.assign({},F,{params:Object.assign({},m,F.params),pathname:Di([v,l.encodeLocation?l.encodeLocation(F.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?v:Di([v,l.encodeLocation?l.encodeLocation(F.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:F.pathnameBase])})),u,n,i,a);return e&&U?R.createElement(ou.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},U):U}function yk(){let t=Ak(),e=tk(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=R.createElement(R.Fragment,null,R.createElement("p",null," Hey developer "),R.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",R.createElement("code",{style:l},"ErrorBoundary")," or"," ",R.createElement("code",{style:l},"errorElement")," prop on your route.")),R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),n?R.createElement("pre",{style:a},n):null,u)}var vk=R.createElement(yk,null),aE=class extends R.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=uk(t.digest);n&&(t=n)}let e=t!==void 0?R.createElement(rs.Provider,{value:this.props.routeContext},R.createElement(I0.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?R.createElement(bk,{error:t},e):e}};aE.contextType=ik;var $p=new WeakMap;function bk({children:t,error:e}){let{basename:n}=R.useContext(zn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=ck(e.digest);if(i){let a=$p.get(e);if(a)throw a;let l=Zw(i.location,n);if(Jw&&!$p.get(e))if(l.isExternal||i.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:i.replace}));throw $p.set(e,u),u}return R.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return t}function xk({routeContext:t,match:e,children:n}){let i=R.useContext(rl);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),R.createElement(rs.Provider,{value:t},n)}function _k(t,e=[],n=null,i=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,u=n?.errors;if(u!=null){let v=l.findIndex(x=>x.route.id&&u?.[x.route.id]!==void 0);mt(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,v+1))}let d=!1,m=-1;if(n)for(let v=0;v<l.length;v++){let x=l[v];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(m=v),x.route.id){let{loaderData:T,errors:A}=n,M=x.route.loader&&!T.hasOwnProperty(x.route.id)&&(!A||A[x.route.id]===void 0);if(x.route.lazy||M){d=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}let p=n&&i?(v,x)=>{i(v,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:nk(n.matches),errorInfo:x})}:void 0;return l.reduceRight((v,x,T)=>{let A,M=!1,L=null,P=null;n&&(A=u&&x.route.id?u[x.route.id]:void 0,L=x.route.errorElement||vk,d&&(m<0&&T===0?(oE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),M=!0,P=null):m===T&&(M=!0,P=x.route.hydrateFallbackElement||null)));let U=e.concat(l.slice(0,T+1)),F=()=>{let H;return A?H=L:M?H=P:x.route.Component?H=R.createElement(x.route.Component,null):x.route.element?H=x.route.element:H=v,R.createElement(xk,{match:x,routeContext:{outlet:v,matches:U,isDataRoute:n!=null},children:H})};return n&&(x.route.ErrorBoundary||x.route.errorElement||T===0)?R.createElement(aE,{location:n.location,revalidation:n.revalidation,component:L,error:A,children:F(),routeContext:{outlet:null,matches:U,isDataRoute:!0},onError:p}):F()},null)}function D0(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Tk(t){let e=R.useContext(rl);return mt(e,D0(t)),e}function wk(t){let e=R.useContext(df);return mt(e,D0(t)),e}function Ek(t){let e=R.useContext(rs);return mt(e,D0(t)),e}function j0(t){let e=Ek(t),n=e.matches[e.matches.length-1];return mt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function Sk(){return j0("useRouteId")}function Ak(){let t=R.useContext(I0),e=wk("useRouteError"),n=j0("useRouteError");return t!==void 0?t:e.errors?.[n]}function Ck(){let{router:t}=Tk("useNavigate"),e=j0("useNavigate"),n=R.useRef(!1);return iE(()=>{n.current=!0}),R.useCallback(async(a,l={})=>{As(n.current,sE),n.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var K1={};function oE(t,e,n){!e&&!K1[t]&&(K1[t]=!0,As(!1,n))}R.memo(Nk);function Nk({routes:t,future:e,state:n,onError:i}){return rE(t,void 0,n,i,e)}function Rk({to:t,replace:e,state:n,relative:i}){mt(al(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=R.useContext(zn);As(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=R.useContext(rs),{pathname:u}=Ui(),d=ff(),m=k0(t,R0(l),u,i==="path"),p=JSON.stringify(m);return R.useEffect(()=>{d(JSON.parse(p),{replace:e,state:n,relative:i})},[d,p,i,e,n]),null}function Ws(t){mt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function kk({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:a,static:l=!1,unstable_useTransitions:u}){mt(!al(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=t.replace(/^\/*/,"/"),m=R.useMemo(()=>({basename:d,navigator:a,static:l,unstable_useTransitions:u,future:{}}),[d,a,l,u]);typeof n=="string"&&(n=il(n));let{pathname:p="/",search:v="",hash:x="",state:T=null,key:A="default"}=n,M=R.useMemo(()=>{let L=ji(p,d);return L==null?null:{location:{pathname:L,search:v,hash:x,state:T,key:A},navigationType:i}},[d,p,v,x,T,A,i]);return As(M!=null,`<Router basename="${d}"> is not able to match the URL "${p}${v}${x}" because it does not start with the basename, so the <Router> won't render anything.`),M==null?null:R.createElement(zn.Provider,{value:m},R.createElement(ou.Provider,{children:e,value:M}))}function Ik({children:t,location:e}){return gk(Rg(t),e)}function Rg(t,e=[]){let n=[];return R.Children.forEach(t,(i,a)=>{if(!R.isValidElement(i))return;let l=[...e,a];if(i.type===R.Fragment){n.push.apply(n,Rg(i.props.children,l));return}mt(i.type===Ws,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),mt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=Rg(i.props.children,l)),n.push(u)}),n}var md="get",pd="application/x-www-form-urlencoded";function mf(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function Dk(t){return mf(t)&&t.tagName.toLowerCase()==="button"}function jk(t){return mf(t)&&t.tagName.toLowerCase()==="form"}function Mk(t){return mf(t)&&t.tagName.toLowerCase()==="input"}function Vk(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Ok(t,e){return t.button===0&&(!e||e==="_self")&&!Vk(t)}var td=null;function Pk(){if(td===null)try{new FormData(document.createElement("form"),0),td=!1}catch{td=!0}return td}var Lk=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Kp(t){return t!=null&&!Lk.has(t)?(As(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${pd}"`),null):t}function Uk(t,e){let n,i,a,l,u;if(jk(t)){let d=t.getAttribute("action");i=d?ji(d,e):null,n=t.getAttribute("method")||md,a=Kp(t.getAttribute("enctype"))||pd,l=new FormData(t)}else if(Dk(t)||Mk(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=t.getAttribute("formaction")||d.getAttribute("action");if(i=m?ji(m,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||md,a=Kp(t.getAttribute("formenctype"))||Kp(d.getAttribute("enctype"))||pd,l=new FormData(d,t),!Pk()){let{name:p,type:v,value:x}=t;if(v==="image"){let T=p?`${p}.`:"";l.append(`${T}x`,"0"),l.append(`${T}y`,"0")}else p&&l.append(p,x)}}else{if(mf(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=md,i=null,a=pd,u=t}return l&&a==="text/plain"&&(u=l,l=void 0),{action:i,method:n.toLowerCase(),encType:a,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function M0(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function zk(t,e,n,i){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${i}`:a.pathname=`${a.pathname}.${i}`:a.pathname==="/"?a.pathname=`_root.${i}`:e&&ji(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${i}`,a}async function Bk(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Fk(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Hk(t,e,n){let i=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let u=await Bk(l,n);return u.links?u.links():[]}return[]}));return Kk(i.flat(1).filter(Fk).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Y1(t,e,n,i,a,l){let u=(m,p)=>n[p]?m.route.id!==n[p].route.id:!0,d=(m,p)=>n[p].pathname!==m.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==m.params["*"];return l==="assets"?e.filter((m,p)=>u(m,p)||d(m,p)):l==="data"?e.filter((m,p)=>{let v=i.routes[m.route.id];if(!v||!v.hasLoader)return!1;if(u(m,p)||d(m,p))return!0;if(m.route.shouldRevalidate){let x=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function qk(t,e,{includeHydrateFallback:n}={}){return Gk(t.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function Gk(t){return[...new Set(t)]}function $k(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function Kk(t,e){let n=new Set;return new Set(e),t.reduce((i,a)=>{let l=JSON.stringify($k(a));return n.has(l)||(n.add(l),i.push({key:l,link:a})),i},[])}function lE(){let t=R.useContext(rl);return M0(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Yk(){let t=R.useContext(df);return M0(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var V0=R.createContext(void 0);V0.displayName="FrameworkContext";function cE(){let t=R.useContext(V0);return M0(t,"You must render this element inside a <HydratedRouter> element"),t}function Qk(t,e){let n=R.useContext(V0),[i,a]=R.useState(!1),[l,u]=R.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:p,onMouseLeave:v,onTouchStart:x}=e,T=R.useRef(null);R.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let L=U=>{U.forEach(F=>{u(F.isIntersecting)})},P=new IntersectionObserver(L,{threshold:.5});return T.current&&P.observe(T.current),()=>{P.disconnect()}}},[t]),R.useEffect(()=>{if(i){let L=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(L)}}},[i]);let A=()=>{a(!0)},M=()=>{a(!1),u(!1)};return n?t!=="intent"?[l,T,{}]:[l,T,{onFocus:Ec(d,A),onBlur:Ec(m,M),onMouseEnter:Ec(p,A),onMouseLeave:Ec(v,M),onTouchStart:Ec(x,A)}]:[!1,T,{}]}function Ec(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function Xk({page:t,...e}){let{router:n}=lE(),i=R.useMemo(()=>Qw(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?R.createElement(Jk,{page:t,matches:i,...e}):null}function Wk(t){let{manifest:e,routeModules:n}=cE(),[i,a]=R.useState([]);return R.useEffect(()=>{let l=!1;return Hk(t,e,n).then(u=>{l||a(u)}),()=>{l=!0}},[t,e,n]),i}function Jk({page:t,matches:e,...n}){let i=Ui(),{future:a,manifest:l,routeModules:u}=cE(),{basename:d}=lE(),{loaderData:m,matches:p}=Yk(),v=R.useMemo(()=>Y1(t,e,p,l,i,"data"),[t,e,p,l,i]),x=R.useMemo(()=>Y1(t,e,p,l,i,"assets"),[t,e,p,l,i]),T=R.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let L=new Set,P=!1;if(e.forEach(F=>{let H=l.routes[F.route.id];!H||!H.hasLoader||(!v.some(ne=>ne.route.id===F.route.id)&&F.route.id in m&&u[F.route.id]?.shouldRevalidate||H.hasClientLoader?P=!0:L.add(F.route.id))}),L.size===0)return[];let U=zk(t,d,a.unstable_trailingSlashAwareDataRequests,"data");return P&&L.size>0&&U.searchParams.set("_routes",e.filter(F=>L.has(F.route.id)).map(F=>F.route.id).join(",")),[U.pathname+U.search]},[d,a.unstable_trailingSlashAwareDataRequests,m,i,l,v,e,t,u]),A=R.useMemo(()=>qk(x,l),[x,l]),M=Wk(x);return R.createElement(R.Fragment,null,T.map(L=>R.createElement("link",{key:L,rel:"prefetch",as:"fetch",href:L,...n})),A.map(L=>R.createElement("link",{key:L,rel:"modulepreload",href:L,...n})),M.map(({key:L,link:P})=>R.createElement("link",{key:L,nonce:n.nonce,...P,crossOrigin:P.crossOrigin??n.crossOrigin})))}function Zk(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var eI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{eI&&(window.__reactRouterVersion="7.13.0")}catch{}function tI({basename:t,children:e,unstable_useTransitions:n,window:i}){let a=R.useRef();a.current==null&&(a.current=IR({window:i,v5Compat:!0}));let l=a.current,[u,d]=R.useState({action:l.action,location:l.location}),m=R.useCallback(p=>{n===!1?d(p):R.startTransition(()=>d(p))},[n]);return R.useLayoutEffect(()=>l.listen(m),[l,m]),R.createElement(kk,{basename:t,children:e,location:u.location,navigationType:u.action,navigator:l,unstable_useTransitions:n})}var uE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ft=R.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:a,reloadDocument:l,replace:u,state:d,target:m,to:p,preventScrollReset:v,viewTransition:x,unstable_defaultShouldRevalidate:T,...A},M){let{basename:L,unstable_useTransitions:P}=R.useContext(zn),U=typeof p=="string"&&uE.test(p),F=Zw(p,L);p=F.to;let H=hk(p,{relative:a}),[ne,Z,le]=Qk(i,A),I=rI(p,{replace:u,state:d,target:m,preventScrollReset:v,relative:a,viewTransition:x,unstable_defaultShouldRevalidate:T,unstable_useTransitions:P});function E(j){e&&e(j),j.defaultPrevented||I(j)}let C=R.createElement("a",{...A,...le,href:F.absoluteURL||H,onClick:F.isExternal||l?e:E,ref:Zk(M,Z),target:m,"data-discover":!U&&n==="render"?"true":void 0});return ne&&!U?R.createElement(R.Fragment,null,C,R.createElement(Xk,{page:H})):C});Ft.displayName="Link";var nI=R.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:a=!1,style:l,to:u,viewTransition:d,children:m,...p},v){let x=lu(u,{relative:p.relative}),T=Ui(),A=R.useContext(df),{navigator:M,basename:L}=R.useContext(zn),P=A!=null&&uI(x)&&d===!0,U=M.encodeLocation?M.encodeLocation(x).pathname:x.pathname,F=T.pathname,H=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;n||(F=F.toLowerCase(),H=H?H.toLowerCase():null,U=U.toLowerCase()),H&&L&&(H=ji(H,L)||H);const ne=U!=="/"&&U.endsWith("/")?U.length-1:U.length;let Z=F===U||!a&&F.startsWith(U)&&F.charAt(ne)==="/",le=H!=null&&(H===U||!a&&H.startsWith(U)&&H.charAt(U.length)==="/"),I={isActive:Z,isPending:le,isTransitioning:P},E=Z?e:void 0,C;typeof i=="function"?C=i(I):C=[i,Z?"active":null,le?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let j=typeof l=="function"?l(I):l;return R.createElement(Ft,{...p,"aria-current":E,className:C,ref:v,style:j,to:u,viewTransition:d},typeof m=="function"?m(I):m)});nI.displayName="NavLink";var sI=R.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:a,state:l,method:u=md,action:d,onSubmit:m,relative:p,preventScrollReset:v,viewTransition:x,unstable_defaultShouldRevalidate:T,...A},M)=>{let{unstable_useTransitions:L}=R.useContext(zn),P=lI(),U=cI(d,{relative:p}),F=u.toLowerCase()==="get"?"get":"post",H=typeof d=="string"&&uE.test(d),ne=Z=>{if(m&&m(Z),Z.defaultPrevented)return;Z.preventDefault();let le=Z.nativeEvent.submitter,I=le?.getAttribute("formmethod")||u,E=()=>P(le||Z.currentTarget,{fetcherKey:e,method:I,navigate:n,replace:a,state:l,relative:p,preventScrollReset:v,viewTransition:x,unstable_defaultShouldRevalidate:T});L&&n!==!1?R.startTransition(()=>E()):E()};return R.createElement("form",{ref:M,method:F,action:U,onSubmit:i?m:ne,...A,"data-discover":!H&&t==="render"?"true":void 0})});sI.displayName="Form";function iI(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hE(t){let e=R.useContext(rl);return mt(e,iI(t)),e}function rI(t,{target:e,replace:n,state:i,preventScrollReset:a,relative:l,viewTransition:u,unstable_defaultShouldRevalidate:d,unstable_useTransitions:m}={}){let p=ff(),v=Ui(),x=lu(t,{relative:l});return R.useCallback(T=>{if(Ok(T,e)){T.preventDefault();let A=n!==void 0?n:Fc(v)===Fc(x),M=()=>p(t,{replace:A,state:i,preventScrollReset:a,relative:l,viewTransition:u,unstable_defaultShouldRevalidate:d});m?R.startTransition(()=>M()):M()}},[v,p,x,n,i,e,t,a,l,u,d,m])}var aI=0,oI=()=>`__${String(++aI)}__`;function lI(){let{router:t}=hE("useSubmit"),{basename:e}=R.useContext(zn),n=Sk(),i=t.fetch,a=t.navigate;return R.useCallback(async(l,u={})=>{let{action:d,method:m,encType:p,formData:v,body:x}=Uk(l,e);if(u.navigate===!1){let T=u.fetcherKey||oI();await i(T,n,u.action||d,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:v,body:x,formMethod:u.method||m,formEncType:u.encType||p,flushSync:u.flushSync})}else await a(u.action||d,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:v,body:x,formMethod:u.method||m,formEncType:u.encType||p,replace:u.replace,state:u.state,fromRouteId:n,flushSync:u.flushSync,viewTransition:u.viewTransition})},[i,a,e,n])}function cI(t,{relative:e}={}){let{basename:n}=R.useContext(zn),i=R.useContext(rs);mt(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...lu(t||".",{relative:e})},u=Ui();if(t==null){l.search=u.search;let d=new URLSearchParams(l.search),m=d.getAll("index");if(m.some(v=>v==="")){d.delete("index"),m.filter(x=>x).forEach(x=>d.append("index",x));let v=d.toString();l.search=v?`?${v}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Di([n,l.pathname])),Fc(l)}function uI(t,{relative:e}={}){let n=R.useContext(tE);mt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=hE("useViewTransitionState"),a=lu(t,{relative:e});if(!n.isTransitioning)return!1;let l=ji(n.currentLocation.pathname,i)||n.currentLocation.pathname,u=ji(n.nextLocation.pathname,i)||n.nextLocation.pathname;return jd(a.pathname,u)!=null||jd(a.pathname,l)!=null}const O0=R.createContext({});function P0(t){const e=R.useRef(null);return e.current===null&&(e.current=t()),e.current}const dE=typeof window<"u",fE=dE?R.useLayoutEffect:R.useEffect,pf=R.createContext(null);function L0(t,e){t.indexOf(e)===-1&&t.push(e)}function Md(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const ri=(t,e,n)=>n>e?e:n<t?t:n;let U0=()=>{};const Mi={},mE=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function pE(t){return typeof t=="object"&&t!==null}const gE=t=>/^0[^.\s]+$/u.test(t);function z0(t){let e;return()=>(e===void 0&&(e=t()),e)}const ns=t=>t,hI=(t,e)=>n=>e(t(n)),cu=(...t)=>t.reduce(hI),Hc=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};class B0{constructor(){this.subscriptions=[]}add(e){return L0(this.subscriptions,e),()=>Md(this.subscriptions,e)}notify(e,n,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,i);else for(let l=0;l<a;l++){const u=this.subscriptions[l];u&&u(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ws=t=>t*1e3,ts=t=>t/1e3;function yE(t,e){return e?t*(1e3/e):0}const vE=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,dI=1e-7,fI=12;function mI(t,e,n,i,a){let l,u,d=0;do u=e+(n-e)/2,l=vE(u,i,a)-t,l>0?n=u:e=u;while(Math.abs(l)>dI&&++d<fI);return u}function uu(t,e,n,i){if(t===e&&n===i)return ns;const a=l=>mI(l,0,1,t,n);return l=>l===0||l===1?l:vE(a(l),e,i)}const bE=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,xE=t=>e=>1-t(1-e),_E=uu(.33,1.53,.69,.99),F0=xE(_E),TE=bE(F0),wE=t=>(t*=2)<1?.5*F0(t):.5*(2-Math.pow(2,-10*(t-1))),H0=t=>1-Math.sin(Math.acos(t)),EE=xE(H0),SE=bE(H0),pI=uu(.42,0,1,1),gI=uu(0,0,.58,1),AE=uu(.42,0,.58,1),yI=t=>Array.isArray(t)&&typeof t[0]!="number",CE=t=>Array.isArray(t)&&typeof t[0]=="number",vI={linear:ns,easeIn:pI,easeInOut:AE,easeOut:gI,circIn:H0,circInOut:SE,circOut:EE,backIn:F0,backInOut:TE,backOut:_E,anticipate:wE},bI=t=>typeof t=="string",Q1=t=>{if(CE(t)){U0(t.length===4);const[e,n,i,a]=t;return uu(e,n,i,a)}else if(bI(t))return vI[t];return t},nd=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function xI(t,e){let n=new Set,i=new Set,a=!1,l=!1;const u=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function m(v){u.has(v)&&(p.schedule(v),t()),v(d)}const p={schedule:(v,x=!1,T=!1)=>{const M=T&&a?n:i;return x&&u.add(v),M.has(v)||M.add(v),v},cancel:v=>{i.delete(v),u.delete(v)},process:v=>{if(d=v,a){l=!0;return}a=!0,[n,i]=[i,n],n.forEach(m),n.clear(),a=!1,l&&(l=!1,p.process(v))}};return p}const _I=40;function NE(t,e){let n=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,u=nd.reduce((H,ne)=>(H[ne]=xI(l),H),{}),{setup:d,read:m,resolveKeyframes:p,preUpdate:v,update:x,preRender:T,render:A,postRender:M}=u,L=()=>{const H=Mi.useManualTiming?a.timestamp:performance.now();n=!1,Mi.useManualTiming||(a.delta=i?1e3/60:Math.max(Math.min(H-a.timestamp,_I),1)),a.timestamp=H,a.isProcessing=!0,d.process(a),m.process(a),p.process(a),v.process(a),x.process(a),T.process(a),A.process(a),M.process(a),a.isProcessing=!1,n&&e&&(i=!1,t(L))},P=()=>{n=!0,i=!0,a.isProcessing||t(L)};return{schedule:nd.reduce((H,ne)=>{const Z=u[ne];return H[ne]=(le,I=!1,E=!1)=>(n||P(),Z.schedule(le,I,E)),H},{}),cancel:H=>{for(let ne=0;ne<nd.length;ne++)u[nd[ne]].cancel(H)},state:a,steps:u}}const{schedule:lt,cancel:Vr,state:sn,steps:Yp}=NE(typeof requestAnimationFrame<"u"?requestAnimationFrame:ns,!0);let gd;function TI(){gd=void 0}const vn={now:()=>(gd===void 0&&vn.set(sn.isProcessing||Mi.useManualTiming?sn.timestamp:performance.now()),gd),set:t=>{gd=t,queueMicrotask(TI)}},RE=t=>e=>typeof e=="string"&&e.startsWith(t),kE=RE("--"),wI=RE("var(--"),q0=t=>wI(t)?EI.test(t.split("/*")[0].trim()):!1,EI=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function X1(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const ol={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},qc={...ol,transform:t=>ri(0,1,t)},sd={...ol,default:1},Dc=t=>Math.round(t*1e5)/1e5,G0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function SI(t){return t==null}const AI=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,$0=(t,e)=>n=>!!(typeof n=="string"&&AI.test(n)&&n.startsWith(t)||e&&!SI(n)&&Object.prototype.hasOwnProperty.call(n,e)),IE=(t,e,n)=>i=>{if(typeof i!="string")return i;const[a,l,u,d]=i.match(G0);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(u),alpha:d!==void 0?parseFloat(d):1}},CI=t=>ri(0,255,t),Qp={...ol,transform:t=>Math.round(CI(t))},Ca={test:$0("rgb","red"),parse:IE("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+Qp.transform(t)+", "+Qp.transform(e)+", "+Qp.transform(n)+", "+Dc(qc.transform(i))+")"};function NI(t){let e="",n="",i="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,i+=i,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const kg={test:$0("#"),parse:NI,transform:Ca.transform},hu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Tr=hu("deg"),ei=hu("%"),ge=hu("px"),RI=hu("vh"),kI=hu("vw"),W1={...ei,parse:t=>ei.parse(t)/100,transform:t=>ei.transform(t*100)},Po={test:$0("hsl","hue"),parse:IE("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+ei.transform(Dc(e))+", "+ei.transform(Dc(n))+", "+Dc(qc.transform(i))+")"},Ot={test:t=>Ca.test(t)||kg.test(t)||Po.test(t),parse:t=>Ca.test(t)?Ca.parse(t):Po.test(t)?Po.parse(t):kg.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ca.transform(t):Po.transform(t),getAnimatableNone:t=>{const e=Ot.parse(t);return e.alpha=0,Ot.transform(e)}},II=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function DI(t){return isNaN(t)&&typeof t=="string"&&(t.match(G0)?.length||0)+(t.match(II)?.length||0)>0}const DE="number",jE="color",jI="var",MI="var(",J1="${}",VI=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Gc(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},a=[];let l=0;const d=e.replace(VI,m=>(Ot.test(m)?(i.color.push(l),a.push(jE),n.push(Ot.parse(m))):m.startsWith(MI)?(i.var.push(l),a.push(jI),n.push(m)):(i.number.push(l),a.push(DE),n.push(parseFloat(m))),++l,J1)).split(J1);return{values:n,split:d,indexes:i,types:a}}function ME(t){return Gc(t).values}function VE(t){const{split:e,types:n}=Gc(t),i=e.length;return a=>{let l="";for(let u=0;u<i;u++)if(l+=e[u],a[u]!==void 0){const d=n[u];d===DE?l+=Dc(a[u]):d===jE?l+=Ot.transform(a[u]):l+=a[u]}return l}}const OI=t=>typeof t=="number"?0:Ot.test(t)?Ot.getAnimatableNone(t):t;function PI(t){const e=ME(t);return VE(t)(e.map(OI))}const Or={test:DI,parse:ME,createTransformer:VE,getAnimatableNone:PI};function Xp(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function LI({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let a=0,l=0,u=0;if(!e)a=l=u=n;else{const d=n<.5?n*(1+e):n+e-n*e,m=2*n-d;a=Xp(m,d,t+1/3),l=Xp(m,d,t),u=Xp(m,d,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:i}}function Vd(t,e){return n=>n>0?e:t}const pt=(t,e,n)=>t+(e-t)*n,Wp=(t,e,n)=>{const i=t*t,a=n*(e*e-i)+i;return a<0?0:Math.sqrt(a)},UI=[kg,Ca,Po],zI=t=>UI.find(e=>e.test(t));function Z1(t){const e=zI(t);if(!e)return!1;let n=e.parse(t);return e===Po&&(n=LI(n)),n}const e_=(t,e)=>{const n=Z1(t),i=Z1(e);if(!n||!i)return Vd(t,e);const a={...n};return l=>(a.red=Wp(n.red,i.red,l),a.green=Wp(n.green,i.green,l),a.blue=Wp(n.blue,i.blue,l),a.alpha=pt(n.alpha,i.alpha,l),Ca.transform(a))},Ig=new Set(["none","hidden"]);function BI(t,e){return Ig.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function FI(t,e){return n=>pt(t,e,n)}function K0(t){return typeof t=="number"?FI:typeof t=="string"?q0(t)?Vd:Ot.test(t)?e_:GI:Array.isArray(t)?OE:typeof t=="object"?Ot.test(t)?e_:HI:Vd}function OE(t,e){const n=[...t],i=n.length,a=t.map((l,u)=>K0(l)(l,e[u]));return l=>{for(let u=0;u<i;u++)n[u]=a[u](l);return n}}function HI(t,e){const n={...t,...e},i={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(i[a]=K0(t[a])(t[a],e[a]));return a=>{for(const l in i)n[l]=i[l](a);return n}}function qI(t,e){const n=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],u=t.indexes[l][i[l]],d=t.values[u]??0;n[a]=d,i[l]++}return n}const GI=(t,e)=>{const n=Or.createTransformer(e),i=Gc(t),a=Gc(e);return i.indexes.var.length===a.indexes.var.length&&i.indexes.color.length===a.indexes.color.length&&i.indexes.number.length>=a.indexes.number.length?Ig.has(t)&&!a.values.length||Ig.has(e)&&!i.values.length?BI(t,e):cu(OE(qI(i,a),a.values),n):Vd(t,e)};function PE(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?pt(t,e,n):K0(t)(t,e)}const $I=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>lt.update(e,n),stop:()=>Vr(e),now:()=>sn.isProcessing?sn.timestamp:vn.now()}},LE=(t,e,n=10)=>{let i="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)i+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},Od=2e4;function Y0(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<Od;)e+=n,i=t.next(e);return e>=Od?1/0:e}function KI(t,e=100,n){const i=n({...t,keyframes:[0,e]}),a=Math.min(Y0(i),Od);return{type:"keyframes",ease:l=>i.next(a*l).value/e,duration:ts(a)}}const YI=5;function UE(t,e,n){const i=Math.max(e-YI,0);return yE(n-t(i),e-i)}const bt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Jp=.001;function QI({duration:t=bt.duration,bounce:e=bt.bounce,velocity:n=bt.velocity,mass:i=bt.mass}){let a,l,u=1-e;u=ri(bt.minDamping,bt.maxDamping,u),t=ri(bt.minDuration,bt.maxDuration,ts(t)),u<1?(a=p=>{const v=p*u,x=v*t,T=v-n,A=Dg(p,u),M=Math.exp(-x);return Jp-T/A*M},l=p=>{const x=p*u*t,T=x*n+n,A=Math.pow(u,2)*Math.pow(p,2)*t,M=Math.exp(-x),L=Dg(Math.pow(p,2),u);return(-a(p)+Jp>0?-1:1)*((T-A)*M)/L}):(a=p=>{const v=Math.exp(-p*t),x=(p-n)*t+1;return-Jp+v*x},l=p=>{const v=Math.exp(-p*t),x=(n-p)*(t*t);return v*x});const d=5/t,m=WI(a,l,d);if(t=ws(t),isNaN(m))return{stiffness:bt.stiffness,damping:bt.damping,duration:t};{const p=Math.pow(m,2)*i;return{stiffness:p,damping:u*2*Math.sqrt(i*p),duration:t}}}const XI=12;function WI(t,e,n){let i=n;for(let a=1;a<XI;a++)i=i-t(i)/e(i);return i}function Dg(t,e){return t*Math.sqrt(1-e*e)}const JI=["duration","bounce"],ZI=["stiffness","damping","mass"];function t_(t,e){return e.some(n=>t[n]!==void 0)}function e4(t){let e={velocity:bt.velocity,stiffness:bt.stiffness,damping:bt.damping,mass:bt.mass,isResolvedFromDuration:!1,...t};if(!t_(t,ZI)&&t_(t,JI))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),a=i*i,l=2*ri(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:bt.mass,stiffness:a,damping:l}}else{const n=QI(t);e={...e,...n,mass:bt.mass},e.isResolvedFromDuration=!0}return e}function Pd(t=bt.visualDuration,e=bt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:a}=n;const l=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],d={done:!1,value:l},{stiffness:m,damping:p,mass:v,duration:x,velocity:T,isResolvedFromDuration:A}=e4({...n,velocity:-ts(n.velocity||0)}),M=T||0,L=p/(2*Math.sqrt(m*v)),P=u-l,U=ts(Math.sqrt(m/v)),F=Math.abs(P)<5;i||(i=F?bt.restSpeed.granular:bt.restSpeed.default),a||(a=F?bt.restDelta.granular:bt.restDelta.default);let H;if(L<1){const Z=Dg(U,L);H=le=>{const I=Math.exp(-L*U*le);return u-I*((M+L*U*P)/Z*Math.sin(Z*le)+P*Math.cos(Z*le))}}else if(L===1)H=Z=>u-Math.exp(-U*Z)*(P+(M+U*P)*Z);else{const Z=U*Math.sqrt(L*L-1);H=le=>{const I=Math.exp(-L*U*le),E=Math.min(Z*le,300);return u-I*((M+L*U*P)*Math.sinh(E)+Z*P*Math.cosh(E))/Z}}const ne={calculatedDuration:A&&x||null,next:Z=>{const le=H(Z);if(A)d.done=Z>=x;else{let I=Z===0?M:0;L<1&&(I=Z===0?ws(M):UE(H,Z,le));const E=Math.abs(I)<=i,C=Math.abs(u-le)<=a;d.done=E&&C}return d.value=d.done?u:le,d},toString:()=>{const Z=Math.min(Y0(ne),Od),le=LE(I=>ne.next(Z*I).value,Z,30);return Z+"ms "+le},toTransition:()=>{}};return ne}Pd.applyToOptions=t=>{const e=KI(t,100,Pd);return t.ease=e.ease,t.duration=ws(e.duration),t.type="keyframes",t};function jg({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:u,min:d,max:m,restDelta:p=.5,restSpeed:v}){const x=t[0],T={done:!1,value:x},A=E=>d!==void 0&&E<d||m!==void 0&&E>m,M=E=>d===void 0?m:m===void 0||Math.abs(d-E)<Math.abs(m-E)?d:m;let L=n*e;const P=x+L,U=u===void 0?P:u(P);U!==P&&(L=U-x);const F=E=>-L*Math.exp(-E/i),H=E=>U+F(E),ne=E=>{const C=F(E),j=H(E);T.done=Math.abs(C)<=p,T.value=T.done?U:j};let Z,le;const I=E=>{A(T.value)&&(Z=E,le=Pd({keyframes:[T.value,M(T.value)],velocity:UE(H,E,T.value),damping:a,stiffness:l,restDelta:p,restSpeed:v}))};return I(0),{calculatedDuration:null,next:E=>{let C=!1;return!le&&Z===void 0&&(C=!0,ne(E),I(E)),Z!==void 0&&E>=Z?le.next(E-Z):(!C&&ne(E),T)}}}function t4(t,e,n){const i=[],a=n||Mi.mix||PE,l=t.length-1;for(let u=0;u<l;u++){let d=a(t[u],t[u+1]);if(e){const m=Array.isArray(e)?e[u]||ns:e;d=cu(m,d)}i.push(d)}return i}function n4(t,e,{clamp:n=!0,ease:i,mixer:a}={}){const l=t.length;if(U0(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=t4(e,i,a),m=d.length,p=v=>{if(u&&v<t[0])return e[0];let x=0;if(m>1)for(;x<t.length-2&&!(v<t[x+1]);x++);const T=Hc(t[x],t[x+1],v);return d[x](T)};return n?v=>p(ri(t[0],t[l-1],v)):p}function s4(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const a=Hc(0,e,i);t.push(pt(n,1,a))}}function i4(t){const e=[0];return s4(e,t.length-1),e}function r4(t,e){return t.map(n=>n*e)}function a4(t,e){return t.map(()=>e||AE).splice(0,t.length-1)}function jc({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const a=yI(i)?i.map(Q1):Q1(i),l={done:!1,value:e[0]},u=r4(n&&n.length===e.length?n:i4(e),t),d=n4(u,e,{ease:Array.isArray(a)?a:a4(e,a)});return{calculatedDuration:t,next:m=>(l.value=d(m),l.done=m>=t,l)}}const o4=t=>t!==null;function Q0(t,{repeat:e,repeatType:n="loop"},i,a=1){const l=t.filter(o4),d=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!d||i===void 0?l[d]:i}const l4={decay:jg,inertia:jg,tween:jc,keyframes:jc,spring:Pd};function zE(t){typeof t.type=="string"&&(t.type=l4[t.type])}class X0{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const c4=t=>t/100;class W0 extends X0{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==vn.now()&&this.tick(vn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;zE(e);const{type:n=jc,repeat:i=0,repeatDelay:a=0,repeatType:l,velocity:u=0}=e;let{keyframes:d}=e;const m=n||jc;m!==jc&&typeof d[0]!="number"&&(this.mixKeyframes=cu(c4,PE(d[0],d[1])),d=[0,100]);const p=m({...e,keyframes:d});l==="mirror"&&(this.mirroredGenerator=m({...e,keyframes:[...d].reverse(),velocity:-u})),p.calculatedDuration===null&&(p.calculatedDuration=Y0(p));const{calculatedDuration:v}=p;this.calculatedDuration=v,this.resolvedDuration=v+a,this.totalDuration=this.resolvedDuration*(i+1)-a,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:i,totalDuration:a,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:d,calculatedDuration:m}=this;if(this.startTime===null)return i.next(0);const{delay:p=0,keyframes:v,repeat:x,repeatType:T,repeatDelay:A,type:M,onUpdate:L,finalKeyframe:P}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const U=this.currentTime-p*(this.playbackSpeed>=0?1:-1),F=this.playbackSpeed>=0?U<0:U>a;this.currentTime=Math.max(U,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let H=this.currentTime,ne=i;if(x){const E=Math.min(this.currentTime,a)/d;let C=Math.floor(E),j=E%1;!j&&E>=1&&(j=1),j===1&&C--,C=Math.min(C,x+1),C%2&&(T==="reverse"?(j=1-j,A&&(j-=A/d)):T==="mirror"&&(ne=u)),H=ri(0,1,j)*d}const Z=F?{done:!1,value:v[0]}:ne.next(H);l&&(Z.value=l(Z.value));let{done:le}=Z;!F&&m!==null&&(le=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&le);return I&&M!==jg&&(Z.value=Q0(v,this.options,P,this.speed)),L&&L(Z.value),I&&this.finish(),Z}then(e,n){return this.finished.then(e,n)}get duration(){return ts(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ts(e)}get time(){return ts(this.currentTime)}set time(e){e=ws(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(vn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ts(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=$I,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(vn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function u4(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Na=t=>t*180/Math.PI,Mg=t=>{const e=Na(Math.atan2(t[1],t[0]));return Vg(e)},h4={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Mg,rotateZ:Mg,skewX:t=>Na(Math.atan(t[1])),skewY:t=>Na(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Vg=t=>(t=t%360,t<0&&(t+=360),t),n_=Mg,s_=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),i_=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),d4={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:s_,scaleY:i_,scale:t=>(s_(t)+i_(t))/2,rotateX:t=>Vg(Na(Math.atan2(t[6],t[5]))),rotateY:t=>Vg(Na(Math.atan2(-t[2],t[0]))),rotateZ:n_,rotate:n_,skewX:t=>Na(Math.atan(t[4])),skewY:t=>Na(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Og(t){return t.includes("scale")?1:0}function Pg(t,e){if(!t||t==="none")return Og(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,a;if(n)i=d4,a=n;else{const d=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=h4,a=d}if(!a)return Og(e);const l=i[e],u=a[1].split(",").map(m4);return typeof l=="function"?l(u):u[l]}const f4=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Pg(n,e)};function m4(t){return parseFloat(t.trim())}const ll=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],cl=new Set(ll),r_=t=>t===ol||t===ge,p4=new Set(["x","y","z"]),g4=ll.filter(t=>!p4.has(t));function y4(t){const e=[];return g4.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const Ar={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Pg(e,"x"),y:(t,{transform:e})=>Pg(e,"y")};Ar.translateX=Ar.x;Ar.translateY=Ar.y;const Ia=new Set;let Lg=!1,Ug=!1,zg=!1;function BE(){if(Ug){const t=Array.from(Ia).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const a=y4(i);a.length&&(n.set(i,a),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const a=n.get(i);a&&a.forEach(([l,u])=>{i.getValue(l)?.set(u)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Ug=!1,Lg=!1,Ia.forEach(t=>t.complete(zg)),Ia.clear()}function FE(){Ia.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Ug=!0)})}function v4(){zg=!0,FE(),BE(),zg=!1}class J0{constructor(e,n,i,a,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=a,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(Ia.add(this),Lg||(Lg=!0,lt.read(FE),lt.resolveKeyframes(BE))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:a}=this;if(e[0]===null){const l=a?.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(i&&n){const d=i.readValue(n,u);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=u),a&&l===void 0&&a.set(e[0])}u4(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ia.delete(this)}cancel(){this.state==="scheduled"&&(Ia.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const b4=t=>t.startsWith("--");function x4(t,e,n){b4(e)?t.style.setProperty(e,n):t.style[e]=n}const _4=z0(()=>window.ScrollTimeline!==void 0),T4={};function w4(t,e){const n=z0(t);return()=>T4[e]??n()}const HE=w4(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Cc=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,a_={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Cc([0,.65,.55,1]),circOut:Cc([.55,0,1,.45]),backIn:Cc([.31,.01,.66,-.59]),backOut:Cc([.33,1.53,.69,.99])};function qE(t,e){if(t)return typeof t=="function"?HE()?LE(t,e):"ease-out":CE(t)?Cc(t):Array.isArray(t)?t.map(n=>qE(n,e)||a_.easeOut):a_[t]}function E4(t,e,n,{delay:i=0,duration:a=300,repeat:l=0,repeatType:u="loop",ease:d="easeOut",times:m}={},p=void 0){const v={[e]:n};m&&(v.offset=m);const x=qE(d,a);Array.isArray(x)&&(v.easing=x);const T={delay:i,duration:a,easing:Array.isArray(x)?"linear":x,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return p&&(T.pseudoElement=p),t.animate(v,T)}function GE(t){return typeof t=="function"&&"applyToOptions"in t}function S4({type:t,...e}){return GE(t)&&HE()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class $E extends X0{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:i,keyframes:a,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:d,onComplete:m}=e;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=e,U0(typeof e.type!="string");const p=S4(e);this.animation=E4(n,i,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const v=Q0(a,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(v):x4(n,i,v),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){const e=this.options?.element;!this.isPseudoElement&&e?.isConnected&&this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return ts(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ts(e)}get time(){return ts(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=ws(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&_4()?(this.animation.timeline=e,ns):n(this)}}const KE={anticipate:wE,backInOut:TE,circInOut:SE};function A4(t){return t in KE}function C4(t){typeof t.ease=="string"&&A4(t.ease)&&(t.ease=KE[t.ease])}const Zp=10;class N4 extends $E{constructor(e){C4(e),zE(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:i,onComplete:a,element:l,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const d=new W0({...u,autoplay:!1}),m=Math.max(Zp,vn.now()-this.startTime),p=ri(0,Zp,m-Zp);n.setWithVelocity(d.sample(Math.max(0,m-p)).value,d.sample(m).value,p),d.stop()}}const o_=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Or.test(t)||t==="0")&&!t.startsWith("url("));function R4(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function k4(t,e,n,i){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],u=o_(a,e),d=o_(l,e);return!u||!d?!1:R4(t)||(n==="spring"||GE(n))&&i}function Bg(t){t.duration=0,t.type="keyframes"}const I4=new Set(["opacity","clipPath","filter","transform"]),D4=z0(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function j4(t){const{motionValue:e,name:n,repeatDelay:i,repeatType:a,damping:l,type:u}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:p}=e.owner.getProps();return D4()&&n&&I4.has(n)&&(n!=="transform"||!p)&&!m&&!i&&a!=="mirror"&&l!==0&&u!=="inertia"}const M4=40;class V4 extends X0{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:u="loop",keyframes:d,name:m,motionValue:p,element:v,...x}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=vn.now();const T={autoplay:e,delay:n,type:i,repeat:a,repeatDelay:l,repeatType:u,name:m,motionValue:p,element:v,...x},A=v?.KeyframeResolver||J0;this.keyframeResolver=new A(d,(M,L,P)=>this.onKeyframesResolved(M,L,T,!P),m,p,v),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,i,a){this.keyframeResolver=void 0;const{name:l,type:u,velocity:d,delay:m,isHandoff:p,onUpdate:v}=i;this.resolvedAt=vn.now(),k4(e,l,u,d)||((Mi.instantAnimations||!m)&&v?.(Q0(e,i,n)),e[0]=e[e.length-1],Bg(i),i.repeat=0);const T={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>M4?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:e},A=!p&&j4(T),M=T.motionValue?.owner?.current,L=A?new N4({...T,element:M}):new W0(T);L.finished.then(()=>{this.notifyFinished()}).catch(ns),this.pendingTimeline&&(this.stopTimeline=L.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=L}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),v4()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function YE(t,e,n,i=0,a=1){const l=Array.from(t).sort((p,v)=>p.sortNodePosition(v)).indexOf(e),u=t.size,d=(u-1)*i;return typeof n=="function"?n(l,u):a===1?l*i:d-l*i}const O4=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function P4(t){const e=O4.exec(t);if(!e)return[,];const[,n,i,a]=e;return[`--${n??i}`,a]}function QE(t,e,n=1){const[i,a]=P4(t);if(!i)return;const l=window.getComputedStyle(e).getPropertyValue(i);if(l){const u=l.trim();return mE(u)?parseFloat(u):u}return q0(a)?QE(a,e,n+1):a}const L4={type:"spring",stiffness:500,damping:25,restSpeed:10},U4=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),z4={type:"keyframes",duration:.8},B4={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},F4=(t,{keyframes:e})=>e.length>2?z4:cl.has(t)?t.startsWith("scale")?U4(e[1]):L4:B4,H4=t=>t!==null;function q4(t,{repeat:e,repeatType:n="loop"},i){const a=t.filter(H4),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}function XE(t,e){if(t?.inherit&&e){const{inherit:n,...i}=t;return{...e,...i}}return t}function Z0(t,e){const n=t?.[e]??t?.default??t;return n!==t?XE(n,t):n}function G4({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:a,repeat:l,repeatType:u,repeatDelay:d,from:m,elapsed:p,...v}){return!!Object.keys(v).length}const ey=(t,e,n,i={},a,l)=>u=>{const d=Z0(i,t)||{},m=d.delay||i.delay||0;let{elapsed:p=0}=i;p=p-ws(m);const v={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-p,onUpdate:T=>{e.set(T),d.onUpdate&&d.onUpdate(T)},onComplete:()=>{u(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:l?void 0:a};G4(d)||Object.assign(v,F4(t,v)),v.duration&&(v.duration=ws(v.duration)),v.repeatDelay&&(v.repeatDelay=ws(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let x=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(Bg(v),v.delay===0&&(x=!0)),(Mi.instantAnimations||Mi.skipAnimations||a?.shouldSkipAnimations)&&(x=!0,Bg(v),v.delay=0),v.allowFlatten=!d.type&&!d.ease,x&&!l&&e.get()!==void 0){const T=q4(v.keyframes,d);if(T!==void 0){lt.update(()=>{v.onUpdate(T),v.onComplete()});return}}return d.isSync?new W0(v):new V4(v)};function l_(t){const e=[{},{}];return t?.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function ty(t,e,n,i){if(typeof e=="function"){const[a,l]=l_(i);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=l_(i);e=e(n!==void 0?n:t.custom,a,l)}return e}function Ho(t,e,n){const i=t.getProps();return ty(i,e,n!==void 0?n:i.custom,t)}const WE=new Set(["width","height","top","left","right","bottom",...ll]),c_=30,$4=t=>!isNaN(parseFloat(t));class K4{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const a=vn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=vn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=$4(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new B0);const i=this.events[e].add(n);return e==="change"?()=>{i(),lt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=vn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>c_)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,c_);return yE(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Qo(t,e){return new K4(t,e)}const Fg=t=>Array.isArray(t);function Y4(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Qo(n))}function Q4(t){return Fg(t)?t[t.length-1]||0:t}function X4(t,e){const n=Ho(t,e);let{transitionEnd:i={},transition:a={},...l}=n||{};l={...l,...i};for(const u in l){const d=Q4(l[u]);Y4(t,u,d)}}const fn=t=>!!(t&&t.getVelocity);function W4(t){return!!(fn(t)&&t.add)}function Hg(t,e){const n=t.getValue("willChange");if(W4(n))return n.add(e);if(!n&&Mi.WillChange){const i=new Mi.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function ny(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const J4="framerAppearId",JE="data-"+ny(J4);function ZE(t){return t.props[JE]}function Z4({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function eS(t,e,{delay:n=0,transitionOverride:i,type:a}={}){let{transition:l,transitionEnd:u,...d}=e;const m=t.getDefaultTransition();l=l?XE(l,m):m;const p=l?.reduceMotion;i&&(l=i);const v=[],x=a&&t.animationState&&t.animationState.getState()[a];for(const T in d){const A=t.getValue(T,t.latestValues[T]??null),M=d[T];if(M===void 0||x&&Z4(x,T))continue;const L={delay:n,...Z0(l||{},T)},P=A.get();if(P!==void 0&&!A.isAnimating&&!Array.isArray(M)&&M===P&&!L.velocity)continue;let U=!1;if(window.MotionHandoffAnimation){const ne=ZE(t);if(ne){const Z=window.MotionHandoffAnimation(ne,T,lt);Z!==null&&(L.startTime=Z,U=!0)}}Hg(t,T);const F=p??t.shouldReduceMotion;A.start(ey(T,A,M,F&&WE.has(T)?{type:!1}:L,t,U));const H=A.animation;H&&v.push(H)}if(u){const T=()=>lt.update(()=>{u&&X4(t,u)});v.length?Promise.all(v).then(T):T()}return v}function qg(t,e,n={}){const i=Ho(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(a=n.transitionOverride);const l=i?()=>Promise.all(eS(t,i,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:p=0,staggerChildren:v,staggerDirection:x}=a;return eD(t,e,m,p,v,x,n)}:()=>Promise.resolve(),{when:d}=a;if(d){const[m,p]=d==="beforeChildren"?[l,u]:[u,l];return m().then(()=>p())}else return Promise.all([l(),u(n.delay)])}function eD(t,e,n=0,i=0,a=0,l=1,u){const d=[];for(const m of t.variantChildren)m.notify("AnimationStart",e),d.push(qg(m,e,{...u,delay:n+(typeof i=="function"?0:i)+YE(t.variantChildren,m,i,a,l)}).then(()=>m.notify("AnimationComplete",e)));return Promise.all(d)}function tD(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const a=e.map(l=>qg(t,l,n));i=Promise.all(a)}else if(typeof e=="string")i=qg(t,e,n);else{const a=typeof e=="function"?Ho(t,e,n.custom):e;i=Promise.all(eS(t,a,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}const nD={test:t=>t==="auto",parse:t=>t},tS=t=>e=>e.test(t),nS=[ol,ge,ei,Tr,kI,RI,nD],u_=t=>nS.find(tS(t));function sD(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||gE(t):!0}const iD=new Set(["brightness","contrast","saturate","opacity"]);function rD(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(G0)||[];if(!i)return t;const a=n.replace(i,"");let l=iD.has(e)?1:0;return i!==n&&(l*=100),e+"("+l+a+")"}const aD=/\b([a-z-]*)\(.*?\)/gu,Gg={...Or,getAnimatableNone:t=>{const e=t.match(aD);return e?e.map(rD).join(" "):t}},h_={...ol,transform:Math.round},oD={rotate:Tr,rotateX:Tr,rotateY:Tr,rotateZ:Tr,scale:sd,scaleX:sd,scaleY:sd,scaleZ:sd,skew:Tr,skewX:Tr,skewY:Tr,distance:ge,translateX:ge,translateY:ge,translateZ:ge,x:ge,y:ge,z:ge,perspective:ge,transformPerspective:ge,opacity:qc,originX:W1,originY:W1,originZ:ge},sy={borderWidth:ge,borderTopWidth:ge,borderRightWidth:ge,borderBottomWidth:ge,borderLeftWidth:ge,borderRadius:ge,borderTopLeftRadius:ge,borderTopRightRadius:ge,borderBottomRightRadius:ge,borderBottomLeftRadius:ge,width:ge,maxWidth:ge,height:ge,maxHeight:ge,top:ge,right:ge,bottom:ge,left:ge,inset:ge,insetBlock:ge,insetBlockStart:ge,insetBlockEnd:ge,insetInline:ge,insetInlineStart:ge,insetInlineEnd:ge,padding:ge,paddingTop:ge,paddingRight:ge,paddingBottom:ge,paddingLeft:ge,paddingBlock:ge,paddingBlockStart:ge,paddingBlockEnd:ge,paddingInline:ge,paddingInlineStart:ge,paddingInlineEnd:ge,margin:ge,marginTop:ge,marginRight:ge,marginBottom:ge,marginLeft:ge,marginBlock:ge,marginBlockStart:ge,marginBlockEnd:ge,marginInline:ge,marginInlineStart:ge,marginInlineEnd:ge,fontSize:ge,backgroundPositionX:ge,backgroundPositionY:ge,...oD,zIndex:h_,fillOpacity:qc,strokeOpacity:qc,numOctaves:h_},lD={...sy,color:Ot,backgroundColor:Ot,outlineColor:Ot,fill:Ot,stroke:Ot,borderColor:Ot,borderTopColor:Ot,borderRightColor:Ot,borderBottomColor:Ot,borderLeftColor:Ot,filter:Gg,WebkitFilter:Gg},sS=t=>lD[t];function iS(t,e){let n=sS(t);return n!==Gg&&(n=Or),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const cD=new Set(["auto","none","0"]);function uD(t,e,n){let i=0,a;for(;i<t.length&&!a;){const l=t[i];typeof l=="string"&&!cD.has(l)&&Gc(l).values.length&&(a=t[i]),i++}if(a&&n)for(const l of e)t[l]=iS(n,a)}class hD extends J0{constructor(e,n,i,a,l){super(e,n,i,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let v=0;v<e.length;v++){let x=e[v];if(typeof x=="string"&&(x=x.trim(),q0(x))){const T=QE(x,n.current);T!==void 0&&(e[v]=T),v===e.length-1&&(this.finalKeyframe=x)}}if(this.resolveNoneKeyframes(),!WE.has(i)||e.length!==2)return;const[a,l]=e,u=u_(a),d=u_(l),m=X1(a),p=X1(l);if(m!==p&&Ar[i]){this.needsMeasurement=!0;return}if(u!==d)if(r_(u)&&r_(d))for(let v=0;v<e.length;v++){const x=e[v];typeof x=="string"&&(e[v]=parseFloat(x))}else Ar[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let a=0;a<e.length;a++)(e[a]===null||sD(e[a]))&&i.push(a);i.length&&uD(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ar[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(i,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=i.length-1,u=i[l];i[l]=Ar[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,m])=>{e.getValue(d).set(m)}),this.resolveNoneKeyframes()}}const dD=new Set(["opacity","clipPath","filter","transform"]);function rS(t,e,n){if(t==null)return[];if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const a=n?.[t]??i.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t).filter(i=>i!=null)}const aS=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function $g(t){return pE(t)&&"offsetHeight"in t}const{schedule:iy}=NE(queueMicrotask,!1),xs={x:!1,y:!1};function oS(){return xs.x||xs.y}function fD(t){return t==="x"||t==="y"?xs[t]?null:(xs[t]=!0,()=>{xs[t]=!1}):xs.x||xs.y?null:(xs.x=xs.y=!0,()=>{xs.x=xs.y=!1})}function lS(t,e){const n=rS(t),i=new AbortController,a={passive:!0,...e,signal:i.signal};return[n,a,()=>i.abort()]}function mD(t){return!(t.pointerType==="touch"||oS())}function pD(t,e,n={}){const[i,a,l]=lS(t,n);return i.forEach(u=>{let d=!1,m=!1,p;const v=()=>{u.removeEventListener("pointerleave",M)},x=P=>{p&&(p(P),p=void 0),v()},T=P=>{d=!1,window.removeEventListener("pointerup",T),window.removeEventListener("pointercancel",T),m&&(m=!1,x(P))},A=()=>{d=!0,window.addEventListener("pointerup",T,a),window.addEventListener("pointercancel",T,a)},M=P=>{if(P.pointerType!=="touch"){if(d){m=!0;return}x(P)}},L=P=>{if(!mD(P))return;m=!1;const U=e(u,P);typeof U=="function"&&(p=U,u.addEventListener("pointerleave",M,a))};u.addEventListener("pointerenter",L,a),u.addEventListener("pointerdown",A,a)}),l}const cS=(t,e)=>e?t===e?!0:cS(t,e.parentElement):!1,ry=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,gD=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function yD(t){return gD.has(t.tagName)||t.isContentEditable===!0}const vD=new Set(["INPUT","SELECT","TEXTAREA"]);function bD(t){return vD.has(t.tagName)||t.isContentEditable===!0}const yd=new WeakSet;function d_(t){return e=>{e.key==="Enter"&&t(e)}}function eg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const xD=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=d_(()=>{if(yd.has(n))return;eg(n,"down");const a=d_(()=>{eg(n,"up")}),l=()=>eg(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function f_(t){return ry(t)&&!oS()}const m_=new WeakSet;function _D(t,e,n={}){const[i,a,l]=lS(t,n),u=d=>{const m=d.currentTarget;if(!f_(d)||m_.has(d))return;yd.add(m),n.stopPropagation&&m_.add(d);const p=e(m,d),v=(A,M)=>{window.removeEventListener("pointerup",x),window.removeEventListener("pointercancel",T),yd.has(m)&&yd.delete(m),f_(A)&&typeof p=="function"&&p(A,{success:M})},x=A=>{v(A,m===window||m===document||n.useGlobalTarget||cS(m,A.target))},T=A=>{v(A,!1)};window.addEventListener("pointerup",x,a),window.addEventListener("pointercancel",T,a)};return i.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",u,a),$g(d)&&(d.addEventListener("focus",p=>xD(p,a)),!yD(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}function ay(t){return pE(t)&&"ownerSVGElement"in t}const vd=new WeakMap;let bd;const uS=(t,e,n)=>(i,a)=>a&&a[0]?a[0][t+"Size"]:ay(i)&&"getBBox"in i?i.getBBox()[e]:i[n],TD=uS("inline","width","offsetWidth"),wD=uS("block","height","offsetHeight");function ED({target:t,borderBoxSize:e}){vd.get(t)?.forEach(n=>{n(t,{get width(){return TD(t,e)},get height(){return wD(t,e)}})})}function SD(t){t.forEach(ED)}function AD(){typeof ResizeObserver>"u"||(bd=new ResizeObserver(SD))}function CD(t,e){bd||AD();const n=rS(t);return n.forEach(i=>{let a=vd.get(i);a||(a=new Set,vd.set(i,a)),a.add(e),bd?.observe(i)}),()=>{n.forEach(i=>{const a=vd.get(i);a?.delete(e),a?.size||bd?.unobserve(i)})}}const xd=new Set;let Lo;function ND(){Lo=()=>{const t={get width(){return window.innerWidth},get height(){return window.innerHeight}};xd.forEach(e=>e(t))},window.addEventListener("resize",Lo)}function RD(t){return xd.add(t),Lo||ND(),()=>{xd.delete(t),!xd.size&&typeof Lo=="function"&&(window.removeEventListener("resize",Lo),Lo=void 0)}}function p_(t,e){return typeof t=="function"?RD(t):CD(t,e)}function kD(t){return ay(t)&&t.tagName==="svg"}const ID=[...nS,Ot,Or],DD=t=>ID.find(tS(t)),g_=()=>({translate:0,scale:1,origin:0,originPoint:0}),Uo=()=>({x:g_(),y:g_()}),y_=()=>({min:0,max:0}),Bt=()=>({x:y_(),y:y_()}),jD=new WeakMap;function gf(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function $c(t){return typeof t=="string"||Array.isArray(t)}const oy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ly=["initial",...oy];function yf(t){return gf(t.animate)||ly.some(e=>$c(t[e]))}function hS(t){return!!(yf(t)||t.variants)}function MD(t,e,n){for(const i in e){const a=e[i],l=n[i];if(fn(a))t.addValue(i,a);else if(fn(l))t.addValue(i,Qo(a,{owner:t}));else if(l!==a)if(t.hasValue(i)){const u=t.getValue(i);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=t.getStaticValue(i);t.addValue(i,Qo(u!==void 0?u:a,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const Kg={current:null},dS={current:!1},VD=typeof window<"u";function OD(){if(dS.current=!0,!!VD)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Kg.current=t.matches;t.addEventListener("change",e),e()}else Kg.current=!1}const v_=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Ld={};function fS(t){Ld=t}function PD(){return Ld}class LD{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:a,skipAnimations:l,blockInitialAnimation:u,visualState:d},m={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=J0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const A=vn.now();this.renderScheduledAt<A&&(this.renderScheduledAt=A,lt.render(this.render,!1,!0))};const{latestValues:p,renderState:v}=d;this.latestValues=p,this.baseTarget={...p},this.initialValues=n.initial?{...p}:{},this.renderState=v,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.skipAnimationsConfig=l,this.options=m,this.blockInitialAnimation=!!u,this.isControllingVariants=yf(n),this.isVariantNode=hS(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:x,...T}=this.scrapeMotionValuesFromProps(n,{},this);for(const A in T){const M=T[A];p[A]!==void 0&&fn(M)&&M.set(p[A])}}mount(e){if(this.hasBeenMounted)for(const n in this.initialValues)this.values.get(n)?.jump(this.initialValues[n]),this.latestValues[n]=this.initialValues[n];this.current=e,jD.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(dS.current||OD(),this.shouldReduceMotion=Kg.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,this.parent?.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){this.projection&&this.projection.unmount(),Vr(this.notifyUpdate),Vr(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){if(this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)(),n.accelerate&&dD.has(e)&&this.current instanceof HTMLElement){const{factory:u,keyframes:d,times:m,ease:p,duration:v}=n.accelerate,x=new $E({element:this.current,name:e,keyframes:d,times:m,ease:p,duration:ws(v)}),T=u(x);this.valueSubscriptions.set(e,()=>{T(),x.cancel()});return}const i=cl.has(e);i&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&lt.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;typeof window<"u"&&window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Ld){const n=Ld[e];if(!n)continue;const{isEnabled:i,Feature:a}=n;if(!this.features[e]&&a&&i(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Bt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<v_.length;i++){const a=v_[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,u=e[l];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=MD(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=Qo(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(mE(i)||gE(i))?i=parseFloat(i):!DD(i)&&Or.test(n)&&(i=iS(e,n)),this.setBaseTarget(e,fn(i)?i.get():i)),fn(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const l=ty(this.props,n,this.presenceContext?.custom);l&&(i=l[e])}if(n&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!fn(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new B0),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){iy.render(this.render)}}class mS extends LD{constructor(){super(...arguments),this.KeyframeResolver=hD}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const i=e.style;return i?i[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;fn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class qr{constructor(e){this.isMounted=!1,this.node=e}update(){}}function pS({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function UD({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function zD(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function tg(t){return t===void 0||t===1}function Yg({scale:t,scaleX:e,scaleY:n}){return!tg(t)||!tg(e)||!tg(n)}function Sa(t){return Yg(t)||gS(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function gS(t){return b_(t.x)||b_(t.y)}function b_(t){return t&&t!=="0%"}function Ud(t,e,n){const i=t-n,a=e*i;return n+a}function x_(t,e,n,i,a){return a!==void 0&&(t=Ud(t,a,i)),Ud(t,n,i)+e}function Qg(t,e=0,n=1,i,a){t.min=x_(t.min,e,n,i,a),t.max=x_(t.max,e,n,i,a)}function yS(t,{x:e,y:n}){Qg(t.x,e.translate,e.scale,e.originPoint),Qg(t.y,n.translate,n.scale,n.originPoint)}const __=.999999999999,T_=1.0000000000001;function BD(t,e,n,i=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,u;for(let d=0;d<a;d++){l=n[d],u=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(i&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Bo(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,yS(t,u)),i&&Sa(l.latestValues)&&Bo(t,l.latestValues))}e.x<T_&&e.x>__&&(e.x=1),e.y<T_&&e.y>__&&(e.y=1)}function zo(t,e){t.min=t.min+e,t.max=t.max+e}function w_(t,e,n,i,a=.5){const l=pt(t.min,t.max,a);Qg(t,e,n,l,i)}function Bo(t,e){w_(t.x,e.x,e.scaleX,e.scale,e.originX),w_(t.y,e.y,e.scaleY,e.scale,e.originY)}function vS(t,e){return pS(zD(t.getBoundingClientRect(),e))}function FD(t,e,n){const i=vS(t,n),{scroll:a}=e;return a&&(zo(i.x,a.offset.x),zo(i.y,a.offset.y)),i}const HD={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},qD=ll.length;function GD(t,e,n){let i="",a=!0;for(let l=0;l<qD;l++){const u=ll[l],d=t[u];if(d===void 0)continue;let m=!0;if(typeof d=="number")m=d===(u.startsWith("scale")?1:0);else{const p=parseFloat(d);m=u.startsWith("scale")?p===1:p===0}if(!m||n){const p=aS(d,sy[u]);if(!m){a=!1;const v=HD[u]||u;i+=`${v}(${p}) `}n&&(e[u]=p)}}return i=i.trim(),n?i=n(e,a?"":i):a&&(i="none"),i}function cy(t,e,n){const{style:i,vars:a,transformOrigin:l}=t;let u=!1,d=!1;for(const m in e){const p=e[m];if(cl.has(m)){u=!0;continue}else if(kE(m)){a[m]=p;continue}else{const v=aS(p,sy[m]);m.startsWith("origin")?(d=!0,l[m]=v):i[m]=v}}if(e.transform||(u||n?i.transform=GD(e,t.transform,n):i.transform&&(i.transform="none")),d){const{originX:m="50%",originY:p="50%",originZ:v=0}=l;i.transformOrigin=`${m} ${p} ${v}`}}function bS(t,{style:e,vars:n},i,a){const l=t.style;let u;for(u in e)l[u]=e[u];a?.applyProjectionStyles(l,i);for(u in n)l.setProperty(u,n[u])}function E_(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Sc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ge.test(t))t=parseFloat(t);else return t;const n=E_(t,e.target.x),i=E_(t,e.target.y);return`${n}% ${i}%`}},$D={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,a=Or.parse(t);if(a.length>5)return i;const l=Or.createTransformer(t),u=typeof a[0]!="number"?1:0,d=n.x.scale*e.x,m=n.y.scale*e.y;a[0+u]/=d,a[1+u]/=m;const p=pt(d,m,.5);return typeof a[2+u]=="number"&&(a[2+u]/=p),typeof a[3+u]=="number"&&(a[3+u]/=p),l(a)}},Xg={borderRadius:{...Sc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Sc,borderTopRightRadius:Sc,borderBottomLeftRadius:Sc,borderBottomRightRadius:Sc,boxShadow:$D};function xS(t,{layout:e,layoutId:n}){return cl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Xg[t]||t==="opacity")}function uy(t,e,n){const i=t.style,a=e?.style,l={};if(!i)return l;for(const u in i)(fn(i[u])||a&&fn(a[u])||xS(u,t)||n?.getValue(u)?.liveStyle!==void 0)&&(l[u]=i[u]);return l}function KD(t){return window.getComputedStyle(t)}class YD extends mS{constructor(){super(...arguments),this.type="html",this.renderInstance=bS}readValueFromInstance(e,n){if(cl.has(n))return this.projection?.isProjecting?Og(n):f4(e,n);{const i=KD(e),a=(kE(n)?i.getPropertyValue(n):i[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return vS(e,n)}build(e,n,i){cy(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return uy(e,n,i)}}const QD={offset:"stroke-dashoffset",array:"stroke-dasharray"},XD={offset:"strokeDashoffset",array:"strokeDasharray"};function WD(t,e,n=1,i=0,a=!0){t.pathLength=1;const l=a?QD:XD;t[l.offset]=`${-i}`,t[l.array]=`${e} ${n}`}const JD=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function _S(t,{attrX:e,attrY:n,attrScale:i,pathLength:a,pathSpacing:l=1,pathOffset:u=0,...d},m,p,v){if(cy(t,d,p),m){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:x,style:T}=t;x.transform&&(T.transform=x.transform,delete x.transform),(T.transform||x.transformOrigin)&&(T.transformOrigin=x.transformOrigin??"50% 50%",delete x.transformOrigin),T.transform&&(T.transformBox=v?.transformBox??"fill-box",delete x.transformBox);for(const A of JD)x[A]!==void 0&&(T[A]=x[A],delete x[A]);e!==void 0&&(x.x=e),n!==void 0&&(x.y=n),i!==void 0&&(x.scale=i),a!==void 0&&WD(x,a,l,u,!1)}const TS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),wS=t=>typeof t=="string"&&t.toLowerCase()==="svg";function ZD(t,e,n,i){bS(t,e,void 0,i);for(const a in e.attrs)t.setAttribute(TS.has(a)?a:ny(a),e.attrs[a])}function ES(t,e,n){const i=uy(t,e,n);for(const a in t)if(fn(t[a])||fn(e[a])){const l=ll.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[l]=t[a]}return i}class e5 extends mS{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Bt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(cl.has(n)){const i=sS(n);return i&&i.default||0}return n=TS.has(n)?n:ny(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return ES(e,n,i)}build(e,n,i){_S(e,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,n,i,a){ZD(e,n,i,a)}mount(e){this.isSVGTag=wS(e.tagName),super.mount(e)}}const t5=ly.length;function SS(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?SS(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<t5;n++){const i=ly[n],a=t.props[i];($c(a)||a===!1)&&(e[i]=a)}return e}function AS(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const n5=[...oy].reverse(),s5=oy.length;function i5(t){return e=>Promise.all(e.map(({animation:n,options:i})=>tD(t,n,i)))}function r5(t){let e=i5(t),n=S_(),i=!0;const a=m=>(p,v)=>{const x=Ho(t,v,m==="exit"?t.presenceContext?.custom:void 0);if(x){const{transition:T,transitionEnd:A,...M}=x;p={...p,...M,...A}}return p};function l(m){e=m(t)}function u(m){const{props:p}=t,v=SS(t.parent)||{},x=[],T=new Set;let A={},M=1/0;for(let P=0;P<s5;P++){const U=n5[P],F=n[U],H=p[U]!==void 0?p[U]:v[U],ne=$c(H),Z=U===m?F.isActive:null;Z===!1&&(M=P);let le=H===v[U]&&H!==p[U]&&ne;if(le&&i&&t.manuallyAnimateOnMount&&(le=!1),F.protectedKeys={...A},!F.isActive&&Z===null||!H&&!F.prevProp||gf(H)||typeof H=="boolean")continue;if(U==="exit"&&F.isActive&&Z!==!0){F.prevResolvedValues&&(A={...A,...F.prevResolvedValues});continue}const I=a5(F.prevProp,H);let E=I||U===m&&F.isActive&&!le&&ne||P>M&&ne,C=!1;const j=Array.isArray(H)?H:[H];let k=j.reduce(a(U),{});Z===!1&&(k={});const{prevResolvedValues:O={}}=F,D={...O,...k},Ee=ae=>{E=!0,T.has(ae)&&(C=!0,T.delete(ae)),F.needsAnimating[ae]=!0;const de=t.getValue(ae);de&&(de.liveStyle=!1)};for(const ae in D){const de=k[ae],Ae=O[ae];if(A.hasOwnProperty(ae))continue;let Ve=!1;Fg(de)&&Fg(Ae)?Ve=!AS(de,Ae):Ve=de!==Ae,Ve?de!=null?Ee(ae):T.add(ae):de!==void 0&&T.has(ae)?Ee(ae):F.protectedKeys[ae]=!0}F.prevProp=H,F.prevResolvedValues=k,F.isActive&&(A={...A,...k}),i&&t.blockInitialAnimation&&(E=!1);const Pe=le&&I;E&&(!Pe||C)&&x.push(...j.map(ae=>{const de={type:U};if(typeof ae=="string"&&i&&!Pe&&t.manuallyAnimateOnMount&&t.parent){const{parent:Ae}=t,Ve=Ho(Ae,ae);if(Ae.enteringChildren&&Ve){const{delayChildren:z}=Ve.transition||{};de.delay=YE(Ae.enteringChildren,t,z)}}return{animation:ae,options:de}}))}if(T.size){const P={};if(typeof p.initial!="boolean"){const U=Ho(t,Array.isArray(p.initial)?p.initial[0]:p.initial);U&&U.transition&&(P.transition=U.transition)}T.forEach(U=>{const F=t.getBaseTarget(U),H=t.getValue(U);H&&(H.liveStyle=!0),P[U]=F??null}),x.push({animation:P})}let L=!!x.length;return i&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(L=!1),i=!1,L?e(x):Promise.resolve()}function d(m,p){if(n[m].isActive===p)return Promise.resolve();t.variantChildren?.forEach(x=>x.animationState?.setActive(m,p)),n[m].isActive=p;const v=u(m);for(const x in n)n[x].protectedKeys={};return v}return{animateChanges:u,setActive:d,setAnimateFunction:l,getState:()=>n,reset:()=>{n=S_()}}}function a5(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!AS(e,t):!1}function Ea(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function S_(){return{animate:Ea(!0),whileInView:Ea(),whileHover:Ea(),whileTap:Ea(),whileDrag:Ea(),whileFocus:Ea(),exit:Ea()}}function A_(t,e){t.min=e.min,t.max=e.max}function bs(t,e){A_(t.x,e.x),A_(t.y,e.y)}function C_(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}const CS=1e-4,o5=1-CS,l5=1+CS,NS=.01,c5=0-NS,u5=0+NS;function bn(t){return t.max-t.min}function h5(t,e,n){return Math.abs(t-e)<=n}function N_(t,e,n,i=.5){t.origin=i,t.originPoint=pt(e.min,e.max,t.origin),t.scale=bn(n)/bn(e),t.translate=pt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=o5&&t.scale<=l5||isNaN(t.scale))&&(t.scale=1),(t.translate>=c5&&t.translate<=u5||isNaN(t.translate))&&(t.translate=0)}function Mc(t,e,n,i){N_(t.x,e.x,n.x,i?i.originX:void 0),N_(t.y,e.y,n.y,i?i.originY:void 0)}function R_(t,e,n){t.min=n.min+e.min,t.max=t.min+bn(e)}function d5(t,e,n){R_(t.x,e.x,n.x),R_(t.y,e.y,n.y)}function k_(t,e,n){t.min=e.min-n.min,t.max=t.min+bn(e)}function zd(t,e,n){k_(t.x,e.x,n.x),k_(t.y,e.y,n.y)}function I_(t,e,n,i,a){return t-=e,t=Ud(t,1/n,i),a!==void 0&&(t=Ud(t,1/a,i)),t}function f5(t,e=0,n=1,i=.5,a,l=t,u=t){if(ei.test(e)&&(e=parseFloat(e),e=pt(u.min,u.max,e/100)-u.min),typeof e!="number")return;let d=pt(l.min,l.max,i);t===l&&(d-=e),t.min=I_(t.min,e,n,d,a),t.max=I_(t.max,e,n,d,a)}function D_(t,e,[n,i,a],l,u){f5(t,e[n],e[i],e[a],e.scale,l,u)}const m5=["x","scaleX","originX"],p5=["y","scaleY","originY"];function j_(t,e,n,i){D_(t.x,e,m5,n?n.x:void 0,i?i.x:void 0),D_(t.y,e,p5,n?n.y:void 0,i?i.y:void 0)}function M_(t){return t.translate===0&&t.scale===1}function RS(t){return M_(t.x)&&M_(t.y)}function V_(t,e){return t.min===e.min&&t.max===e.max}function g5(t,e){return V_(t.x,e.x)&&V_(t.y,e.y)}function O_(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function kS(t,e){return O_(t.x,e.x)&&O_(t.y,e.y)}function P_(t){return bn(t.x)/bn(t.y)}function L_(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function Js(t){return[t("x"),t("y")]}function y5(t,e,n){let i="";const a=t.x.translate/e.x,l=t.y.translate/e.y,u=n?.z||0;if((a||l||u)&&(i=`translate3d(${a}px, ${l}px, ${u}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:v,rotateX:x,rotateY:T,skewX:A,skewY:M}=n;p&&(i=`perspective(${p}px) ${i}`),v&&(i+=`rotate(${v}deg) `),x&&(i+=`rotateX(${x}deg) `),T&&(i+=`rotateY(${T}deg) `),A&&(i+=`skewX(${A}deg) `),M&&(i+=`skewY(${M}deg) `)}const d=t.x.scale*e.x,m=t.y.scale*e.y;return(d!==1||m!==1)&&(i+=`scale(${d}, ${m})`),i||"none"}const IS=["TopLeft","TopRight","BottomLeft","BottomRight"],v5=IS.length,U_=t=>typeof t=="string"?parseFloat(t):t,z_=t=>typeof t=="number"||ge.test(t);function b5(t,e,n,i,a,l){a?(t.opacity=pt(0,n.opacity??1,x5(i)),t.opacityExit=pt(e.opacity??1,0,_5(i))):l&&(t.opacity=pt(e.opacity??1,n.opacity??1,i));for(let u=0;u<v5;u++){const d=`border${IS[u]}Radius`;let m=B_(e,d),p=B_(n,d);if(m===void 0&&p===void 0)continue;m||(m=0),p||(p=0),m===0||p===0||z_(m)===z_(p)?(t[d]=Math.max(pt(U_(m),U_(p),i),0),(ei.test(p)||ei.test(m))&&(t[d]+="%")):t[d]=p}(e.rotate||n.rotate)&&(t.rotate=pt(e.rotate||0,n.rotate||0,i))}function B_(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const x5=DS(0,.5,EE),_5=DS(.5,.95,ns);function DS(t,e,n){return i=>i<t?0:i>e?1:n(Hc(t,e,i))}function T5(t,e,n){const i=fn(t)?t:Qo(t);return i.start(ey("",i,e,n)),i.animation}function Kc(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}const w5=(t,e)=>t.depth-e.depth;class E5{constructor(){this.children=[],this.isDirty=!1}add(e){L0(this.children,e),this.isDirty=!0}remove(e){Md(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(w5),this.isDirty=!1,this.children.forEach(e)}}function S5(t,e){const n=vn.now(),i=({timestamp:a})=>{const l=a-n;l>=e&&(Vr(i),t(l-e))};return lt.setup(i,!0),()=>Vr(i)}function _d(t){return fn(t)?t.get():t}class A5{constructor(){this.members=[]}add(e){L0(this.members,e);for(let n=this.members.length-1;n>=0;n--){const i=this.members[n];if(i===e||i===this.lead||i===this.prevLead)continue;const a=i.instance;a&&a.isConnected===!1&&i.isPresent!==!1&&!i.snapshot&&Md(this.members,i)}e.scheduleRender()}remove(e){if(Md(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let i;for(let a=n;a>=0;a--){const l=this.members[a],u=l.instance;if(l.isPresent!==!1&&(!u||u.isConnected!==!1)){i=l;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender();const a=i.options.layoutDependency,l=e.options.layoutDependency;if(!(a!==void 0&&l!==void 0&&a===l)){const m=i.instance;m&&m.isConnected===!1&&!i.snapshot||(e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0))}const{crossfade:d}=e.options;d===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Td={hasAnimatedSinceResize:!0,hasEverUpdated:!1},ng=["","X","Y","Z"],C5=1e3;let N5=0;function sg(t,e,n,i){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),i&&(i[t]=0))}function jS(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=ZE(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",lt,!(a||l))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&jS(i)}function MS({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(u={},d=e?.()){this.id=N5++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(I5),this.nodes.forEach(V5),this.nodes.forEach(O5),this.nodes.forEach(D5)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new E5)}addEventListener(u,d){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new B0),this.eventHandlers.get(u).add(d)}notifyListeners(u,...d){const m=this.eventHandlers.get(u);m&&m.notify(...d)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=ay(u)&&!kD(u),this.instance=u;const{layoutId:d,layout:m,visualElement:p}=this.options;if(p&&!p.current&&p.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||d)&&(this.isLayoutDirty=!0),t){let v,x=0;const T=()=>this.root.updateBlockedByResize=!1;lt.read(()=>{x=window.innerWidth}),t(u,()=>{const A=window.innerWidth;A!==x&&(x=A,this.root.updateBlockedByResize=!0,v&&v(),v=S5(T,250),Td.hasAnimatedSinceResize&&(Td.hasAnimatedSinceResize=!1,this.nodes.forEach(q_)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&p&&(d||m)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:x,hasRelativeLayoutChanged:T,layout:A})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const M=this.options.transition||p.getDefaultTransition()||B5,{onLayoutAnimationStart:L,onLayoutAnimationComplete:P}=p.getProps(),U=!this.targetLayout||!kS(this.targetLayout,A),F=!x&&T;if(this.options.layoutRoot||this.resumeFrom||F||x&&(U||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const H={...Z0(M,"layout"),onPlay:L,onComplete:P};(p.shouldReduceMotion||this.options.layoutRoot)&&(H.delay=0,H.type=!1),this.startAnimation(H),this.setAnimationOrigin(v,F)}else x||q_(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=A})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Vr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(P5),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&jS(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const x=this.path[v];x.shouldResetTransform=!0,x.updateScroll("snapshot"),x.options.layoutRoot&&x.willUpdate(!1)}const{layoutId:d,layout:m}=this.options;if(d===void 0&&!m)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(F_);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(H_);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(M5),this.nodes.forEach(R5),this.nodes.forEach(k5)):this.nodes.forEach(H_),this.clearAllSnapshots();const d=vn.now();sn.delta=ri(0,1e3/60,d-sn.timestamp),sn.timestamp=d,sn.isProcessing=!0,Yp.update.process(sn),Yp.preRender.process(sn),Yp.render.process(sn),sn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,iy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(j5),this.sharedNodes.forEach(L5)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,lt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){lt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!bn(this.snapshot.measuredBox.x)&&!bn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Bt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(d=!1),d&&this.instance){const m=i(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!RS(this.projectionDelta),m=this.getTransformTemplate(),p=m?m(this.latestValues,""):void 0,v=p!==this.prevTransformTemplateValue;u&&this.instance&&(d||Sa(this.latestValues)||v)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const d=this.measurePageBox();let m=this.removeElementScroll(d);return u&&(m=this.removeTransform(m)),F5(m),{animationId:this.root.animationId,measuredBox:d,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return Bt();const d=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(H5))){const{scroll:p}=this.root;p&&(zo(d.x,p.offset.x),zo(d.y,p.offset.y))}return d}removeElementScroll(u){const d=Bt();if(bs(d,u),this.scroll?.wasRoot)return d;for(let m=0;m<this.path.length;m++){const p=this.path[m],{scroll:v,options:x}=p;p!==this.root&&v&&x.layoutScroll&&(v.wasRoot&&bs(d,u),zo(d.x,v.offset.x),zo(d.y,v.offset.y))}return d}applyTransform(u,d=!1){const m=Bt();bs(m,u);for(let p=0;p<this.path.length;p++){const v=this.path[p];!d&&v.options.layoutScroll&&v.scroll&&v!==v.root&&Bo(m,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),Sa(v.latestValues)&&Bo(m,v.latestValues)}return Sa(this.latestValues)&&Bo(m,this.latestValues),m}removeTransform(u){const d=Bt();bs(d,u);for(let m=0;m<this.path.length;m++){const p=this.path[m];if(!p.instance||!Sa(p.latestValues))continue;Yg(p.latestValues)&&p.updateSnapshot();const v=Bt(),x=p.measurePageBox();bs(v,x),j_(d,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,v)}return Sa(this.latestValues)&&j_(d,this.latestValues),d}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==sn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==d;if(!(u||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:x}=this.options;if(!this.layout||!(v||x))return;this.resolvedRelativeTargetAt=sn.timestamp;const T=this.getClosestProjectingParent();T&&this.linkedParentVersion!==T.layoutVersion&&!T.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(T&&T.layout?this.createRelativeTarget(T,this.layout.layoutBox,T.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Bt(),this.targetWithTransforms=Bt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),d5(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):bs(this.target,this.layout.layoutBox),yS(this.target,this.targetDelta)):bs(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,T&&!!T.resumingFrom==!!this.resumingFrom&&!T.options.layoutScroll&&T.target&&this.animationProgress!==1?this.createRelativeTarget(T,this.target,T.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Yg(this.parent.latestValues)||gS(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(u,d,m){this.relativeParent=u,this.linkedParentVersion=u.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Bt(),this.relativeTargetOrigin=Bt(),zd(this.relativeTargetOrigin,d,m),bs(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const u=this.getLead(),d=!!this.resumingFrom||this!==u;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===sn.timestamp&&(m=!1),m)return;const{layout:p,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||v))return;bs(this.layoutCorrected,this.layout.layoutBox);const x=this.treeScale.x,T=this.treeScale.y;BD(this.layoutCorrected,this.treeScale,this.path,d),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=Bt());const{target:A}=u;if(!A){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(C_(this.prevProjectionDelta.x,this.projectionDelta.x),C_(this.prevProjectionDelta.y,this.projectionDelta.y)),Mc(this.projectionDelta,this.layoutCorrected,A,this.latestValues),(this.treeScale.x!==x||this.treeScale.y!==T||!L_(this.projectionDelta.x,this.prevProjectionDelta.x)||!L_(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",A))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Uo(),this.projectionDelta=Uo(),this.projectionDeltaWithTransform=Uo()}setAnimationOrigin(u,d=!1){const m=this.snapshot,p=m?m.latestValues:{},v={...this.latestValues},x=Uo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const T=Bt(),A=m?m.source:void 0,M=this.layout?this.layout.source:void 0,L=A!==M,P=this.getStack(),U=!P||P.members.length<=1,F=!!(L&&!U&&this.options.crossfade===!0&&!this.path.some(z5));this.animationProgress=0;let H;this.mixTargetDelta=ne=>{const Z=ne/1e3;G_(x.x,u.x,Z),G_(x.y,u.y,Z),this.setTargetDelta(x),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(zd(T,this.layout.layoutBox,this.relativeParent.layout.layoutBox),U5(this.relativeTarget,this.relativeTargetOrigin,T,Z),H&&g5(this.relativeTarget,H)&&(this.isProjectionDirty=!1),H||(H=Bt()),bs(H,this.relativeTarget)),L&&(this.animationValues=v,b5(v,p,this.latestValues,Z,F,U)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=Z},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Vr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=lt.update(()=>{Td.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Qo(0)),this.currentAnimation=T5(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),u.onUpdate&&u.onUpdate(d)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(C5),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:d,target:m,layout:p,latestValues:v}=u;if(!(!d||!m||!p)){if(this!==u&&this.layout&&p&&VS(this.options.animationType,this.layout.layoutBox,p.layoutBox)){m=this.target||Bt();const x=bn(this.layout.layoutBox.x);m.x.min=u.target.x.min,m.x.max=m.x.min+x;const T=bn(this.layout.layoutBox.y);m.y.min=u.target.y.min,m.y.max=m.y.min+T}bs(d,m),Bo(d,v),Mc(this.projectionDeltaWithTransform,this.layoutCorrected,d,v)}}registerSharedNode(u,d){this.sharedNodes.has(u)||this.sharedNodes.set(u,new A5),this.sharedNodes.get(u).add(d);const p=d.options.initialPromotionConfig;d.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(d):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:d,preserveFollowOpacity:m}={}){const p=this.getStack();p&&p.promote(this,m),u&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let d=!1;const{latestValues:m}=u;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(d=!0),!d)return;const p={};m.z&&sg("z",u,p,this.animationValues);for(let v=0;v<ng.length;v++)sg(`rotate${ng[v]}`,u,p,this.animationValues),sg(`skew${ng[v]}`,u,p,this.animationValues);u.render();for(const v in p)u.setStaticValue(v,p[v]),this.animationValues&&(this.animationValues[v]=p[v]);u.scheduleRender()}applyProjectionStyles(u,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=_d(d?.pointerEvents)||"",u.transform=m?m(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=_d(d?.pointerEvents)||""),this.hasProjected&&!Sa(this.latestValues)&&(u.transform=m?m({},""):"none",this.hasProjected=!1);return}u.visibility="";const v=p.animationValues||p.latestValues;this.applyTransformsToTarget();let x=y5(this.projectionDeltaWithTransform,this.treeScale,v);m&&(x=m(v,x)),u.transform=x;const{x:T,y:A}=this.projectionDelta;u.transformOrigin=`${T.origin*100}% ${A.origin*100}% 0`,p.animationValues?u.opacity=p===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:u.opacity=p===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const M in Xg){if(v[M]===void 0)continue;const{correct:L,applyTo:P,isCSSVariable:U}=Xg[M],F=x==="none"?v[M]:L(v[M],p);if(P){const H=P.length;for(let ne=0;ne<H;ne++)u[P[ne]]=F}else U?this.options.visualElement.renderState.vars[M]=F:u[M]=F}this.options.layoutId&&(u.pointerEvents=p===this?_d(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(F_),this.root.sharedNodes.clear()}}}function R5(t){t.updateLayout()}function k5(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?Js(v=>{const x=l?e.measuredBox[v]:e.layoutBox[v],T=bn(x);x.min=n[v].min,x.max=x.min+T}):VS(a,e.layoutBox,n)&&Js(v=>{const x=l?e.measuredBox[v]:e.layoutBox[v],T=bn(n[v]);x.max=x.min+T,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[v].max=t.relativeTarget[v].min+T)});const u=Uo();Mc(u,n,e.layoutBox);const d=Uo();l?Mc(d,t.applyTransform(i,!0),e.measuredBox):Mc(d,n,e.layoutBox);const m=!RS(u);let p=!1;if(!t.resumeFrom){const v=t.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:x,layout:T}=v;if(x&&T){const A=Bt();zd(A,e.layoutBox,x.layoutBox);const M=Bt();zd(M,n,T.layoutBox),kS(A,M)||(p=!0),v.options.layoutRoot&&(t.relativeTarget=M,t.relativeTargetOrigin=A,t.relativeParent=v)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:d,layoutDelta:u,hasLayoutChanged:m,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function I5(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function D5(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function j5(t){t.clearSnapshot()}function F_(t){t.clearMeasurements()}function H_(t){t.isLayoutDirty=!1}function M5(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function q_(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function V5(t){t.resolveTargetDelta()}function O5(t){t.calcProjection()}function P5(t){t.resetSkewAndRotation()}function L5(t){t.removeLeadSnapshot()}function G_(t,e,n){t.translate=pt(e.translate,0,n),t.scale=pt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function $_(t,e,n,i){t.min=pt(e.min,n.min,i),t.max=pt(e.max,n.max,i)}function U5(t,e,n,i){$_(t.x,e.x,n.x,i),$_(t.y,e.y,n.y,i)}function z5(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const B5={duration:.45,ease:[.4,0,.1,1]},K_=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Y_=K_("applewebkit/")&&!K_("chrome/")?Math.round:ns;function Q_(t){t.min=Y_(t.min),t.max=Y_(t.max)}function F5(t){Q_(t.x),Q_(t.y)}function VS(t,e,n){return t==="position"||t==="preserve-aspect"&&!h5(P_(e),P_(n),.2)}function H5(t){return t!==t.root&&t.scroll?.wasRoot}const q5=MS({attachResizeListener:(t,e)=>Kc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),ig={current:void 0},OS=MS({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!ig.current){const t=new q5({});t.mount(window),t.setOptions({layoutScroll:!0}),ig.current=t}return ig.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),hy=R.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function X_(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function G5(...t){return e=>{let n=!1;const i=t.map(a=>{const l=X_(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<i.length;a++){const l=i[a];typeof l=="function"?l():X_(t[a],null)}}}}function $5(...t){return R.useCallback(G5(...t),t)}class K5 extends R.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const i=n.offsetParent,a=$g(i)&&i.offsetWidth||0,l=$g(i)&&i.offsetHeight||0,u=this.props.sizeRef.current;u.height=n.offsetHeight||0,u.width=n.offsetWidth||0,u.top=n.offsetTop,u.left=n.offsetLeft,u.right=a-u.width-u.left,u.bottom=l-u.height-u.top}return null}componentDidUpdate(){}render(){return this.props.children}}function Y5({children:t,isPresent:e,anchorX:n,anchorY:i,root:a,pop:l}){const u=R.useId(),d=R.useRef(null),m=R.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:p}=R.useContext(hy),v=t.props?.ref??t?.ref,x=$5(d,v);return R.useInsertionEffect(()=>{const{width:T,height:A,top:M,left:L,right:P,bottom:U}=m.current;if(e||l===!1||!d.current||!T||!A)return;const F=n==="left"?`left: ${L}`:`right: ${P}`,H=i==="bottom"?`bottom: ${U}`:`top: ${M}`;d.current.dataset.motionPopId=u;const ne=document.createElement("style");p&&(ne.nonce=p);const Z=a??document.head;return Z.appendChild(ne),ne.sheet&&ne.sheet.insertRule(`
          [data-motion-pop-id="${u}"] {
            position: absolute !important;
            width: ${T}px !important;
            height: ${A}px !important;
            ${F}px !important;
            ${H}px !important;
          }
        `),()=>{Z.contains(ne)&&Z.removeChild(ne)}},[e]),y.jsx(K5,{isPresent:e,childRef:d,sizeRef:m,pop:l,children:l===!1?t:R.cloneElement(t,{ref:x})})}const Q5=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:a,presenceAffectsLayout:l,mode:u,anchorX:d,anchorY:m,root:p})=>{const v=P0(X5),x=R.useId();let T=!0,A=R.useMemo(()=>(T=!1,{id:x,initial:e,isPresent:n,custom:a,onExitComplete:M=>{v.set(M,!0);for(const L of v.values())if(!L)return;i&&i()},register:M=>(v.set(M,!1),()=>v.delete(M))}),[n,v,i]);return l&&T&&(A={...A}),R.useMemo(()=>{v.forEach((M,L)=>v.set(L,!1))},[n]),R.useEffect(()=>{!n&&!v.size&&i&&i()},[n]),t=y.jsx(Y5,{pop:u==="popLayout",isPresent:n,anchorX:d,anchorY:m,root:p,children:t}),y.jsx(pf.Provider,{value:A,children:t})};function X5(){return new Map}function PS(t=!0){const e=R.useContext(pf);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:a}=e,l=R.useId();R.useEffect(()=>{if(t)return a(l)},[t]);const u=R.useCallback(()=>t&&i&&i(l),[l,i,t]);return!n&&i?[!1,u]:[!0]}const id=t=>t.key||"";function W_(t){const e=[];return R.Children.forEach(t,n=>{R.isValidElement(n)&&e.push(n)}),e}const Cs=({children:t,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:a=!0,mode:l="sync",propagate:u=!1,anchorX:d="left",anchorY:m="top",root:p})=>{const[v,x]=PS(u),T=R.useMemo(()=>W_(t),[t]),A=u&&!v?[]:T.map(id),M=R.useRef(!0),L=R.useRef(T),P=P0(()=>new Map),U=R.useRef(new Set),[F,H]=R.useState(T),[ne,Z]=R.useState(T);fE(()=>{M.current=!1,L.current=T;for(let E=0;E<ne.length;E++){const C=id(ne[E]);A.includes(C)?(P.delete(C),U.current.delete(C)):P.get(C)!==!0&&P.set(C,!1)}},[ne,A.length,A.join("-")]);const le=[];if(T!==F){let E=[...T];for(let C=0;C<ne.length;C++){const j=ne[C],k=id(j);A.includes(k)||(E.splice(C,0,j),le.push(j))}return l==="wait"&&le.length&&(E=le),Z(W_(E)),H(T),null}const{forceRender:I}=R.useContext(O0);return y.jsx(y.Fragment,{children:ne.map(E=>{const C=id(E),j=u&&!v?!1:T===ne||A.includes(C),k=()=>{if(U.current.has(C))return;if(U.current.add(C),P.has(C))P.set(C,!0);else return;let O=!0;P.forEach(D=>{D||(O=!1)}),O&&(I?.(),Z(L.current),u&&x?.(),i&&i())};return y.jsx(Q5,{isPresent:j,initial:!M.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:p,onExitComplete:j?void 0:k,anchorX:d,anchorY:m,children:E},C)})})},LS=R.createContext({strict:!1}),J_={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let Z_=!1;function W5(){if(Z_)return;const t={};for(const e in J_)t[e]={isEnabled:n=>J_[e].some(i=>!!n[i])};fS(t),Z_=!0}function US(){return W5(),PD()}function J5(t){const e=US();for(const n in t)e[n]={...e[n],...t[n]};fS(e)}const Z5=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function Bd(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Z5.has(t)}let zS=t=>!Bd(t);function ej(t){typeof t=="function"&&(zS=e=>e.startsWith("on")?!Bd(e):t(e))}try{ej(require("@emotion/is-prop-valid").default)}catch{}function tj(t,e,n){const i={};for(const a in t)a==="values"&&typeof t.values=="object"||(zS(a)||n===!0&&Bd(a)||!e&&!Bd(a)||t.draggable&&a.startsWith("onDrag"))&&(i[a]=t[a]);return i}const vf=R.createContext({});function nj(t,e){if(yf(t)){const{initial:n,animate:i}=t;return{initial:n===!1||$c(n)?n:void 0,animate:$c(i)?i:void 0}}return t.inherit!==!1?e:{}}function sj(t){const{initial:e,animate:n}=nj(t,R.useContext(vf));return R.useMemo(()=>({initial:e,animate:n}),[eT(e),eT(n)])}function eT(t){return Array.isArray(t)?t.join(" "):t}const dy=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function BS(t,e,n){for(const i in e)!fn(e[i])&&!xS(i,n)&&(t[i]=e[i])}function ij({transformTemplate:t},e){return R.useMemo(()=>{const n=dy();return cy(n,e,t),Object.assign({},n.vars,n.style)},[e])}function rj(t,e){const n=t.style||{},i={};return BS(i,n,t),Object.assign(i,ij(t,e)),i}function aj(t,e){const n={},i=rj(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const FS=()=>({...dy(),attrs:{}});function oj(t,e,n,i){const a=R.useMemo(()=>{const l=FS();return _S(l,e,wS(i),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};BS(l,t.style,t),a.style={...l,...a.style}}return a}const lj=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function fy(t){return typeof t!="string"||t.includes("-")?!1:!!(lj.indexOf(t)>-1||/[A-Z]/u.test(t))}function cj(t,e,n,{latestValues:i},a,l=!1,u){const m=(u??fy(t)?oj:aj)(e,i,a,t),p=tj(e,typeof t=="string",l),v=t!==R.Fragment?{...p,...m,ref:n}:{},{children:x}=e,T=R.useMemo(()=>fn(x)?x.get():x,[x]);return R.createElement(t,{...v,children:T})}function uj({scrapeMotionValuesFromProps:t,createRenderState:e},n,i,a){return{latestValues:hj(n,i,a,t),renderState:e()}}function hj(t,e,n,i){const a={},l=i(t,{});for(const T in l)a[T]=_d(l[T]);let{initial:u,animate:d}=t;const m=yf(t),p=hS(t);e&&p&&!m&&t.inherit!==!1&&(u===void 0&&(u=e.initial),d===void 0&&(d=e.animate));let v=n?n.initial===!1:!1;v=v||u===!1;const x=v?d:u;if(x&&typeof x!="boolean"&&!gf(x)){const T=Array.isArray(x)?x:[x];for(let A=0;A<T.length;A++){const M=ty(t,T[A]);if(M){const{transitionEnd:L,transition:P,...U}=M;for(const F in U){let H=U[F];if(Array.isArray(H)){const ne=v?H.length-1:0;H=H[ne]}H!==null&&(a[F]=H)}for(const F in L)a[F]=L[F]}}}return a}const HS=t=>(e,n)=>{const i=R.useContext(vf),a=R.useContext(pf),l=()=>uj(t,e,i,a);return n?l():P0(l)},dj=HS({scrapeMotionValuesFromProps:uy,createRenderState:dy}),fj=HS({scrapeMotionValuesFromProps:ES,createRenderState:FS}),mj=Symbol.for("motionComponentSymbol");function pj(t,e,n){const i=R.useRef(n);R.useInsertionEffect(()=>{i.current=n});const a=R.useRef(null);return R.useCallback(l=>{l&&t.onMount?.(l),e&&(l?e.mount(l):e.unmount());const u=i.current;if(typeof u=="function")if(l){const d=u(l);typeof d=="function"&&(a.current=d)}else a.current?(a.current(),a.current=null):u(l);else u&&(u.current=l)},[e])}const qS=R.createContext({});function Do(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function gj(t,e,n,i,a,l){const{visualElement:u}=R.useContext(vf),d=R.useContext(LS),m=R.useContext(pf),p=R.useContext(hy),v=p.reducedMotion,x=p.skipAnimations,T=R.useRef(null),A=R.useRef(!1);i=i||d.renderer,!T.current&&i&&(T.current=i(t,{visualState:e,parent:u,props:n,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:v,skipAnimations:x,isSVG:l}),A.current&&T.current&&(T.current.manuallyAnimateOnMount=!0));const M=T.current,L=R.useContext(qS);M&&!M.projection&&a&&(M.type==="html"||M.type==="svg")&&yj(T.current,n,a,L);const P=R.useRef(!1);R.useInsertionEffect(()=>{M&&P.current&&M.update(n,m)});const U=n[JE],F=R.useRef(!!U&&!window.MotionHandoffIsComplete?.(U)&&window.MotionHasOptimisedAnimation?.(U));return fE(()=>{A.current=!0,M&&(P.current=!0,window.MotionIsMounted=!0,M.updateFeatures(),M.scheduleRenderMicrotask(),F.current&&M.animationState&&M.animationState.animateChanges())}),R.useEffect(()=>{M&&(!F.current&&M.animationState&&M.animationState.animateChanges(),F.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(U)}),F.current=!1),M.enteringChildren=void 0)}),M}function yj(t,e,n,i){const{layoutId:a,layout:l,drag:u,dragConstraints:d,layoutScroll:m,layoutRoot:p,layoutCrossfade:v}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:GS(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!u||d&&Do(d),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:i,crossfade:v,layoutScroll:m,layoutRoot:p})}function GS(t){if(t)return t.options.allowProjection!==!1?t.projection:GS(t.parent)}function rg(t,{forwardMotionProps:e=!1,type:n}={},i,a){i&&J5(i);const l=n?n==="svg":fy(t),u=l?fj:dj;function d(p,v){let x;const T={...R.useContext(hy),...p,layoutId:vj(p)},{isStatic:A}=T,M=sj(p),L=u(p,A);if(!A&&dE){bj();const P=xj(T);x=P.MeasureLayout,M.visualElement=gj(t,L,T,a,P.ProjectionNode,l)}return y.jsxs(vf.Provider,{value:M,children:[x&&M.visualElement?y.jsx(x,{visualElement:M.visualElement,...T}):null,cj(t,p,pj(L,M.visualElement,v),L,A,e,l)]})}d.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const m=R.forwardRef(d);return m[mj]=t,m}function vj({layoutId:t}){const e=R.useContext(O0).id;return e&&t!==void 0?e+"-"+t:t}function bj(t,e){R.useContext(LS).strict}function xj(t){const e=US(),{drag:n,layout:i}=e;if(!n&&!i)return{};const a={...n,...i};return{MeasureLayout:n?.isEnabled(t)||i?.isEnabled(t)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function _j(t,e){if(typeof Proxy>"u")return rg;const n=new Map,i=(l,u)=>rg(l,u,t,e),a=(l,u)=>i(l,u);return new Proxy(a,{get:(l,u)=>u==="create"?i:(n.has(u)||n.set(u,rg(u,void 0,t,e)),n.get(u))})}const Tj=(t,e)=>e.isSVG??fy(t)?new e5(e):new YD(e,{allowProjection:t!==R.Fragment});class wj extends qr{constructor(e){super(e),e.animationState||(e.animationState=r5(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();gf(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let Ej=0;class Sj extends qr{constructor(){super(...arguments),this.id=Ej++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Aj={animation:{Feature:wj},exit:{Feature:Sj}};function du(t){return{point:{x:t.pageX,y:t.pageY}}}const Cj=t=>e=>ry(e)&&t(e,du(e));function Vc(t,e,n,i){return Kc(t,e,Cj(n),i)}const $S=({current:t})=>t?t.ownerDocument.defaultView:null,tT=(t,e)=>Math.abs(t-e);function Nj(t,e){const n=tT(t.x,e.x),i=tT(t.y,e.y);return Math.sqrt(n**2+i**2)}const nT=new Set(["auto","scroll"]);class KS{constructor(e,n,{transformPagePoint:i,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:u=3,element:d}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=A=>{this.handleScroll(A.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=og(this.lastMoveEventInfo,this.history),M=this.startEvent!==null,L=Nj(A.offset,{x:0,y:0})>=this.distanceThreshold;if(!M&&!L)return;const{point:P}=A,{timestamp:U}=sn;this.history.push({...P,timestamp:U});const{onStart:F,onMove:H}=this.handlers;M||(F&&F(this.lastMoveEvent,A),this.startEvent=this.lastMoveEvent),H&&H(this.lastMoveEvent,A)},this.handlePointerMove=(A,M)=>{this.lastMoveEvent=A,this.lastMoveEventInfo=ag(M,this.transformPagePoint),lt.update(this.updatePoint,!0)},this.handlePointerUp=(A,M)=>{this.end();const{onEnd:L,onSessionEnd:P,resumeAnimation:U}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&U&&U(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const F=og(A.type==="pointercancel"?this.lastMoveEventInfo:ag(M,this.transformPagePoint),this.history);this.startEvent&&L&&L(A,F),P&&P(A,F)},!ry(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=u,this.contextWindow=a||window;const m=du(e),p=ag(m,this.transformPagePoint),{point:v}=p,{timestamp:x}=sn;this.history=[{...v,timestamp:x}];const{onSessionStart:T}=n;T&&T(e,og(p,this.history)),this.removeListeners=cu(Vc(this.contextWindow,"pointermove",this.handlePointerMove),Vc(this.contextWindow,"pointerup",this.handlePointerUp),Vc(this.contextWindow,"pointercancel",this.handlePointerUp)),d&&this.startScrollTracking(d)}startScrollTracking(e){let n=e.parentElement;for(;n;){const i=getComputedStyle(n);(nT.has(i.overflowX)||nT.has(i.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const i=e===window,a=i?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},l={x:a.x-n.x,y:a.y-n.y};l.x===0&&l.y===0||(i?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=l.x,this.lastMoveEventInfo.point.y+=l.y):this.history.length>0&&(this.history[0].x-=l.x,this.history[0].y-=l.y),this.scrollPositions.set(e,a),lt.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Vr(this.updatePoint)}}function ag(t,e){return e?{point:e(t.point)}:t}function sT(t,e){return{x:t.x-e.x,y:t.y-e.y}}function og({point:t},e){return{point:t,delta:sT(t,YS(e)),offset:sT(t,Rj(e)),velocity:kj(e,.1)}}function Rj(t){return t[0]}function YS(t){return t[t.length-1]}function kj(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const a=YS(t);for(;n>=0&&(i=t[n],!(a.timestamp-i.timestamp>ws(e)));)n--;if(!i)return{x:0,y:0};i===t[0]&&t.length>2&&a.timestamp-i.timestamp>ws(e)*2&&(i=t[1]);const l=ts(a.timestamp-i.timestamp);if(l===0)return{x:0,y:0};const u={x:(a.x-i.x)/l,y:(a.y-i.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function Ij(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?pt(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?pt(n,t,i.max):Math.min(t,n)),t}function iT(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Dj(t,{top:e,left:n,bottom:i,right:a}){return{x:iT(t.x,n,a),y:iT(t.y,e,i)}}function rT(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function jj(t,e){return{x:rT(t.x,e.x),y:rT(t.y,e.y)}}function Mj(t,e){let n=.5;const i=bn(t),a=bn(e);return a>i?n=Hc(e.min,e.max-i,t.min):i>a&&(n=Hc(t.min,t.max-a,e.min)),ri(0,1,n)}function Vj(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Wg=.35;function Oj(t=Wg){return t===!1?t=0:t===!0&&(t=Wg),{x:aT(t,"left","right"),y:aT(t,"top","bottom")}}function aT(t,e,n){return{min:oT(t,e),max:oT(t,n)}}function oT(t,e){return typeof t=="number"?t:t[e]||0}const Pj=new WeakMap;class Lj{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Bt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=x=>{n&&this.snapToCursor(du(x).point),this.stopAnimation()},u=(x,T)=>{const{drag:A,dragPropagation:M,onDragStart:L}=this.getProps();if(A&&!M&&(this.openDragLock&&this.openDragLock(),this.openDragLock=fD(A),!this.openDragLock))return;this.latestPointerEvent=x,this.latestPanInfo=T,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Js(U=>{let F=this.getAxisMotionValue(U).get()||0;if(ei.test(F)){const{projection:H}=this.visualElement;if(H&&H.layout){const ne=H.layout.layoutBox[U];ne&&(F=bn(ne)*(parseFloat(F)/100))}}this.originPoint[U]=F}),L&&lt.update(()=>L(x,T),!1,!0),Hg(this.visualElement,"transform");const{animationState:P}=this.visualElement;P&&P.setActive("whileDrag",!0)},d=(x,T)=>{this.latestPointerEvent=x,this.latestPanInfo=T;const{dragPropagation:A,dragDirectionLock:M,onDirectionLock:L,onDrag:P}=this.getProps();if(!A&&!this.openDragLock)return;const{offset:U}=T;if(M&&this.currentDirection===null){this.currentDirection=zj(U),this.currentDirection!==null&&L&&L(this.currentDirection);return}this.updateAxis("x",T.point,U),this.updateAxis("y",T.point,U),this.visualElement.render(),P&&lt.update(()=>P(x,T),!1,!0)},m=(x,T)=>{this.latestPointerEvent=x,this.latestPanInfo=T,this.stop(x,T),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>{const{dragSnapToOrigin:x}=this.getProps();(x||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:v}=this.getProps();this.panSession=new KS(e,{onSessionStart:l,onStart:u,onMove:d,onSessionEnd:m,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,distanceThreshold:i,contextWindow:$S(this.visualElement),element:this.visualElement.current})}stop(e,n){const i=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!i)return;const{velocity:u}=a;this.startAnimation(u);const{onDragEnd:d}=this.getProps();d&&lt.postRender(()=>d(i,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,n,i){const{drag:a}=this.getProps();if(!i||!rd(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(u=Ij(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&Do(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=Dj(i.layoutBox,e):this.constraints=!1,this.elastic=Oj(n),a!==this.constraints&&!Do(e)&&i&&this.constraints&&!this.hasMutatedConstraints&&Js(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=Vj(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Do(e))return!1;const i=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=FD(i,a.root,this.visualElement.getTransformPagePoint());let u=jj(a.layout.layoutBox,l);if(n){const d=n(UD(u));this.hasMutatedConstraints=!!d,d&&(u=pS(d))}return u}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:a,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:d}=this.getProps(),m=this.constraints||{},p=Js(v=>{if(!rd(v,n,this.currentDirection))return;let x=m&&m[v]||{};u&&(x={min:0,max:0});const T=a?200:1e6,A=a?40:1e7,M={type:"inertia",velocity:i?e[v]:0,bounceStiffness:T,bounceDamping:A,timeConstant:750,restDelta:1,restSpeed:10,...l,...x};return this.startAxisValueAnimation(v,M)});return Promise.all(p).then(d)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return Hg(this.visualElement,e),i.start(ey(e,i,0,n,this.visualElement,!1))}stopAnimation(){Js(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),a=i[n];return a||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Js(n=>{const{drag:i}=this.getProps();if(!rd(n,i,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:u,max:d}=a.layout.layoutBox[n],m=l.get()||0;l.set(e[n]-pt(u,d,.5)+m)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!Do(n)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Js(u=>{const d=this.getAxisMotionValue(u);if(d&&this.constraints!==!1){const m=d.get();a[u]=Mj({min:m,max:m},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.constraints=!1,this.resolveConstraints(),Js(u=>{if(!rd(u,e,null))return;const d=this.getAxisMotionValue(u),{min:m,max:p}=this.constraints[u];d.set(pt(m,p,a[u]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;Pj.set(this.visualElement,this);const e=this.visualElement.current,n=Vc(e,"pointerdown",p=>{const{drag:v,dragListener:x=!0}=this.getProps(),T=p.target,A=T!==e&&bD(T);v&&x&&!A&&this.start(p)});let i;const a=()=>{const{dragConstraints:p}=this.getProps();Do(p)&&p.current&&(this.constraints=this.resolveRefConstraints(),i||(i=Uj(e,p.current,()=>this.scalePositionWithinConstraints())))},{projection:l}=this.visualElement,u=l.addEventListener("measure",a);l&&!l.layout&&(l.root&&l.root.updateScroll(),l.updateLayout()),lt.read(a);const d=Kc(window,"resize",()=>this.scalePositionWithinConstraints()),m=l.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:v})=>{this.isDragging&&v&&(Js(x=>{const T=this.getAxisMotionValue(x);T&&(this.originPoint[x]+=p[x].translate,T.set(T.get()+p[x].translate))}),this.visualElement.render())}));return()=>{d(),n(),u(),m&&m(),i&&i()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:u=Wg,dragMomentum:d=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:a,dragConstraints:l,dragElastic:u,dragMomentum:d}}}function lT(t){let e=!0;return()=>{if(e){e=!1;return}t()}}function Uj(t,e,n){const i=p_(t,lT(n)),a=p_(e,lT(n));return()=>{i(),a()}}function rd(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function zj(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Bj extends qr{constructor(e){super(e),this.removeGroupControls=ns,this.removeListeners=ns,this.controls=new Lj(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ns}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const lg=t=>(e,n)=>{t&&lt.update(()=>t(e,n),!1,!0)};class Fj extends qr{constructor(){super(...arguments),this.removePointerDownListener=ns}onPointerDown(e){this.session=new KS(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:$S(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:lg(e),onStart:lg(n),onMove:lg(i),onEnd:(l,u)=>{delete this.session,a&&lt.postRender(()=>a(l,u))}}}mount(){this.removePointerDownListener=Vc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let cg=!1;class Hj extends R.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:a}=this.props,{projection:l}=e;l&&(n.group&&n.group.add(l),i&&i.register&&a&&i.register(l),cg&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),Td.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:a,isPresent:l}=this.props,{projection:u}=i;return u&&(u.isPresent=l,e.layoutDependency!==n&&u.setOptions({...u.options,layoutDependency:n}),cg=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||lt.postRender(()=>{const d=u.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),iy.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:a}=e;cg=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function QS(t){const[e,n]=PS(),i=R.useContext(O0);return y.jsx(Hj,{...t,layoutGroup:i,switchLayoutGroup:R.useContext(qS),isPresent:e,safeToRemove:n})}const qj={pan:{Feature:Fj},drag:{Feature:Bj,ProjectionNode:OS,MeasureLayout:QS}};function cT(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=i[a];l&&lt.postRender(()=>l(e,du(e)))}class Gj extends qr{mount(){const{current:e}=this.node;e&&(this.unmount=pD(e,(n,i)=>(cT(this.node,i,"Start"),a=>cT(this.node,a,"End"))))}unmount(){}}class $j extends qr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=cu(Kc(this.node.current,"focus",()=>this.onFocus()),Kc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function uT(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=i[a];l&&lt.postRender(()=>l(e,du(e)))}class Kj extends qr{mount(){const{current:e}=this.node;if(!e)return;const{globalTapTarget:n,propagate:i}=this.node.props;this.unmount=_D(e,(a,l)=>(uT(this.node,l,"Start"),(u,{success:d})=>uT(this.node,u,d?"End":"Cancel")),{useGlobalTarget:n,stopPropagation:i?.tap===!1})}unmount(){}}const Jg=new WeakMap,ug=new WeakMap,Yj=t=>{const e=Jg.get(t.target);e&&e(t)},Qj=t=>{t.forEach(Yj)};function Xj({root:t,...e}){const n=t||document;ug.has(n)||ug.set(n,{});const i=ug.get(n),a=JSON.stringify(e);return i[a]||(i[a]=new IntersectionObserver(Qj,{root:t,...e})),i[a]}function Wj(t,e,n){const i=Xj(e);return Jg.set(t,n),i.observe(t),()=>{Jg.delete(t),i.unobserve(t)}}const Jj={some:0,all:1};class Zj extends qr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:a="some",once:l}=e,u={root:n?n.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:Jj[a]},d=m=>{const{isIntersecting:p}=m;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:v,onViewportLeave:x}=this.node.getProps(),T=p?v:x;T&&T(m)};return Wj(this.node.current,u,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(eM(e,n))&&this.startObserver()}unmount(){}}function eM({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const tM={inView:{Feature:Zj},tap:{Feature:Kj},focus:{Feature:$j},hover:{Feature:Gj}},nM={layout:{ProjectionNode:OS,MeasureLayout:QS}},sM={...Aj,...tM,...qj,...nM},_e=_j(sM,Tj),iM=()=>{};var hT={};const XS=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let a=t.charCodeAt(i);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},rM=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const a=t[n++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],u=t[n++],d=t[n++],m=((a&7)<<18|(l&63)<<12|(u&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(m>>10)),e[i++]=String.fromCharCode(56320+(m&1023))}else{const l=t[n++],u=t[n++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},WS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<t.length;a+=3){const l=t[a],u=a+1<t.length,d=u?t[a+1]:0,m=a+2<t.length,p=m?t[a+2]:0,v=l>>2,x=(l&3)<<4|d>>4;let T=(d&15)<<2|p>>6,A=p&63;m||(A=64,u||(T=64)),i.push(n[v],n[x],n[T],n[A])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(XS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):rM(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],d=a<t.length?n[t.charAt(a)]:0;++a;const p=a<t.length?n[t.charAt(a)]:64;++a;const x=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||d==null||p==null||x==null)throw new aM;const T=l<<2|d>>4;if(i.push(T),p!==64){const A=d<<4&240|p>>2;if(i.push(A),x!==64){const M=p<<6&192|x;i.push(M)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class aM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const oM=function(t){const e=XS(t);return WS.encodeByteArray(e,!0)},Fd=function(t){return oM(t).replace(/\./g,"")},JS=function(t){try{return WS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function lM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const cM=()=>lM().__FIREBASE_DEFAULTS__,uM=()=>{if(typeof process>"u"||typeof hT>"u")return;const t=hT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},hM=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&JS(t[1]);return e&&JSON.parse(e)},bf=()=>{try{return iM()||cM()||uM()||hM()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},ZS=t=>bf()?.emulatorHosts?.[t],dM=t=>{const e=ZS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},eA=()=>bf()?.config,tA=t=>bf()?.[`_${t}`];class fM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}function ul(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function nA(t){return(await fetch(t,{credentials:"include"})).ok}function mM(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Fd(JSON.stringify(n)),Fd(JSON.stringify(u)),""].join(".")}const Oc={};function pM(){const t={prod:[],emulator:[]};for(const e of Object.keys(Oc))Oc[e]?t.emulator.push(e):t.prod.push(e);return t}function gM(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let dT=!1;function sA(t,e){if(typeof window>"u"||typeof document>"u"||!ul(window.location.host)||Oc[t]===e||Oc[t]||dT)return;Oc[t]=e;function n(T){return`__firebase__banner__${T}`}const i="__firebase__banner",l=pM().prod.length>0;function u(){const T=document.getElementById(i);T&&T.remove()}function d(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function m(T,A){T.setAttribute("width","24"),T.setAttribute("id",A),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function p(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{dT=!0,u()},T}function v(T,A){T.setAttribute("id",A),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function x(){const T=gM(i),A=n("text"),M=document.getElementById(A)||document.createElement("span"),L=n("learnmore"),P=document.getElementById(L)||document.createElement("a"),U=n("preprendIcon"),F=document.getElementById(U)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const H=T.element;d(H),v(P,L);const ne=p();m(F,U),H.append(F,M,P,ne),document.body.appendChild(H)}l?(M.innerText="Preview backend disconnected.",F.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(F.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,M.innerText="Preview backend running in this workspace."),M.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}function mn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function yM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mn())}function vM(){const t=bf()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function bM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function xM(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function _M(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function TM(){const t=mn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function wM(){return!vM()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function EM(){try{return typeof indexedDB=="object"}catch{return!1}}function SM(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}const AM="FirebaseError";class zi extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=AM,Object.setPrototypeOf(this,zi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fu.prototype.create)}}class fu{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?CM(l,i):"Error",d=`${this.serviceName}: ${u} (${a}).`;return new zi(a,d,i)}}function CM(t,e){return t.replace(NM,(n,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const NM=/\{\$([^}]+)}/g;function RM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Va(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const a of n){if(!i.includes(a))return!1;const l=t[a],u=e[a];if(fT(l)&&fT(u)){if(!Va(l,u))return!1}else if(l!==u)return!1}for(const a of i)if(!n.includes(a))return!1;return!0}function fT(t){return t!==null&&typeof t=="object"}function mu(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function kM(t,e){const n=new IM(t,e);return n.subscribe.bind(n)}class IM{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let a;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");DM(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:i},a.next===void 0&&(a.next=hg),a.error===void 0&&(a.error=hg),a.complete===void 0&&(a.complete=hg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function DM(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function hg(){}function Yt(t){return t&&t._delegate?t._delegate:t}class Oa{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Aa="[DEFAULT]";class jM{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new fM;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(VM(e))try{this.getOrInitializeService({instanceIdentifier:Aa})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=Aa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Aa){return this.instances.has(e)}getOptions(e=Aa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[l,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&u.resolve(a)}return a}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(i)??new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const a of i)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:MM(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Aa){return this.component?this.component.multipleInstances?e:Aa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function MM(t){return t===Aa?void 0:t}function VM(t){return t.instantiationMode==="EAGER"}class OM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new jM(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var He;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(He||(He={}));const PM={debug:He.DEBUG,verbose:He.VERBOSE,info:He.INFO,warn:He.WARN,error:He.ERROR,silent:He.SILENT},LM=He.INFO,UM={[He.DEBUG]:"log",[He.VERBOSE]:"log",[He.INFO]:"info",[He.WARN]:"warn",[He.ERROR]:"error"},zM=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),a=UM[e];if(a)console[a](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class my{constructor(e){this.name=e,this._logLevel=LM,this._logHandler=zM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in He))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?PM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,He.DEBUG,...e),this._logHandler(this,He.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,He.VERBOSE,...e),this._logHandler(this,He.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,He.INFO,...e),this._logHandler(this,He.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,He.WARN,...e),this._logHandler(this,He.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,He.ERROR,...e),this._logHandler(this,He.ERROR,...e)}}const BM=(t,e)=>e.some(n=>t instanceof n);let mT,pT;function FM(){return mT||(mT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function HM(){return pT||(pT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const iA=new WeakMap,Zg=new WeakMap,rA=new WeakMap,dg=new WeakMap,py=new WeakMap;function qM(t){const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n(Rr(t.result)),a()},u=()=>{i(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&iA.set(n,t)}).catch(()=>{}),py.set(e,t),e}function GM(t){if(Zg.has(t))return;const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),a()},u=()=>{i(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});Zg.set(t,e)}let e0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Zg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||rA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Rr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function $M(t){e0=t(e0)}function KM(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(fg(this),e,...n);return rA.set(i,e.sort?e.sort():[e]),Rr(i)}:HM().includes(t)?function(...e){return t.apply(fg(this),e),Rr(iA.get(this))}:function(...e){return Rr(t.apply(fg(this),e))}}function YM(t){return typeof t=="function"?KM(t):(t instanceof IDBTransaction&&GM(t),BM(t,FM())?new Proxy(t,e0):t)}function Rr(t){if(t instanceof IDBRequest)return qM(t);if(dg.has(t))return dg.get(t);const e=YM(t);return e!==t&&(dg.set(t,e),py.set(e,t)),e}const fg=t=>py.get(t);function QM(t,e,{blocked:n,upgrade:i,blocking:a,terminated:l}={}){const u=indexedDB.open(t,e),d=Rr(u);return i&&u.addEventListener("upgradeneeded",m=>{i(Rr(u.result),m.oldVersion,m.newVersion,Rr(u.transaction),m)}),n&&u.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const XM=["get","getKey","getAll","getAllKeys","count"],WM=["put","add","delete","clear"],mg=new Map;function gT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(mg.get(e))return mg.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,a=WM.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(a||XM.includes(n)))return;const l=async function(u,...d){const m=this.transaction(u,a?"readwrite":"readonly");let p=m.store;return i&&(p=p.index(d.shift())),(await Promise.all([p[n](...d),a&&m.done]))[0]};return mg.set(e,l),l}$M(t=>({...t,get:(e,n,i)=>gT(e,n)||t.get(e,n,i),has:(e,n)=>!!gT(e,n)||t.has(e,n)}));class JM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ZM(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function ZM(t){return t.getComponent()?.type==="VERSION"}const t0="@firebase/app",yT="0.14.8";const Vi=new my("@firebase/app"),e3="@firebase/app-compat",t3="@firebase/analytics-compat",n3="@firebase/analytics",s3="@firebase/app-check-compat",i3="@firebase/app-check",r3="@firebase/auth",a3="@firebase/auth-compat",o3="@firebase/database",l3="@firebase/data-connect",c3="@firebase/database-compat",u3="@firebase/functions",h3="@firebase/functions-compat",d3="@firebase/installations",f3="@firebase/installations-compat",m3="@firebase/messaging",p3="@firebase/messaging-compat",g3="@firebase/performance",y3="@firebase/performance-compat",v3="@firebase/remote-config",b3="@firebase/remote-config-compat",x3="@firebase/storage",_3="@firebase/storage-compat",T3="@firebase/firestore",w3="@firebase/ai",E3="@firebase/firestore-compat",S3="firebase",A3="12.9.0";const n0="[DEFAULT]",C3={[t0]:"fire-core",[e3]:"fire-core-compat",[n3]:"fire-analytics",[t3]:"fire-analytics-compat",[i3]:"fire-app-check",[s3]:"fire-app-check-compat",[r3]:"fire-auth",[a3]:"fire-auth-compat",[o3]:"fire-rtdb",[l3]:"fire-data-connect",[c3]:"fire-rtdb-compat",[u3]:"fire-fn",[h3]:"fire-fn-compat",[d3]:"fire-iid",[f3]:"fire-iid-compat",[m3]:"fire-fcm",[p3]:"fire-fcm-compat",[g3]:"fire-perf",[y3]:"fire-perf-compat",[v3]:"fire-rc",[b3]:"fire-rc-compat",[x3]:"fire-gcs",[_3]:"fire-gcs-compat",[T3]:"fire-fst",[E3]:"fire-fst-compat",[w3]:"fire-vertex","fire-js":"fire-js",[S3]:"fire-js-all"};const Hd=new Map,N3=new Map,s0=new Map;function vT(t,e){try{t.container.addComponent(e)}catch(n){Vi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Xo(t){const e=t.name;if(s0.has(e))return Vi.debug(`There were multiple attempts to register component ${e}.`),!1;s0.set(e,t);for(const n of Hd.values())vT(n,t);for(const n of N3.values())vT(n,t);return!0}function gy(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function _s(t){return t==null?!1:t.settings!==void 0}const R3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},kr=new fu("app","Firebase",R3);class k3{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Oa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw kr.create("app-deleted",{appName:this._name})}}const hl=A3;function aA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:n0,automaticDataCollectionEnabled:!0,...e},a=i.name;if(typeof a!="string"||!a)throw kr.create("bad-app-name",{appName:String(a)});if(n||(n=eA()),!n)throw kr.create("no-options");const l=Hd.get(a);if(l){if(Va(n,l.options)&&Va(i,l.config))return l;throw kr.create("duplicate-app",{appName:a})}const u=new OM(a);for(const m of s0.values())u.addComponent(m);const d=new k3(n,i,u);return Hd.set(a,d),d}function oA(t=n0){const e=Hd.get(t);if(!e&&t===n0&&eA())return aA();if(!e)throw kr.create("no-app",{appName:t});return e}function Ir(t,e,n){let i=C3[t]??t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const u=[`Unable to register library "${i}" with version "${e}":`];a&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vi.warn(u.join(" "));return}Xo(new Oa(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const I3="firebase-heartbeat-database",D3=1,Yc="firebase-heartbeat-store";let pg=null;function lA(){return pg||(pg=QM(I3,D3,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Yc)}catch(n){console.warn(n)}}}}).catch(t=>{throw kr.create("idb-open",{originalErrorMessage:t.message})})),pg}async function j3(t){try{const n=(await lA()).transaction(Yc),i=await n.objectStore(Yc).get(cA(t));return await n.done,i}catch(e){if(e instanceof zi)Vi.warn(e.message);else{const n=kr.create("idb-get",{originalErrorMessage:e?.message});Vi.warn(n.message)}}}async function bT(t,e){try{const i=(await lA()).transaction(Yc,"readwrite");await i.objectStore(Yc).put(e,cA(t)),await i.done}catch(n){if(n instanceof zi)Vi.warn(n.message);else{const i=kr.create("idb-set",{originalErrorMessage:n?.message});Vi.warn(i.message)}}}function cA(t){return`${t.name}!${t.options.appId}`}const M3=1024,V3=30;class O3{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new L3(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=xT();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>V3){const a=U3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Vi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=xT(),{heartbeatsToSend:n,unsentEntries:i}=P3(this._heartbeatsCache.heartbeats),a=Fd(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Vi.warn(e),""}}}function xT(){return new Date().toISOString().substring(0,10)}function P3(t,e=M3){const n=[];let i=t.slice();for(const a of t){const l=n.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),_T(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),_T(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class L3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return EM()?SM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await j3(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return bT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return bT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function _T(t){return Fd(JSON.stringify({version:2,heartbeats:t})).length}function U3(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}function z3(t){Xo(new Oa("platform-logger",e=>new JM(e),"PRIVATE")),Xo(new Oa("heartbeat",e=>new O3(e),"PRIVATE")),Ir(t0,yT,t),Ir(t0,yT,"esm2020"),Ir("fire-js","")}z3("");function uA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const B3=uA,hA=new fu("auth","Firebase",uA());const qd=new my("@firebase/auth");function F3(t,...e){qd.logLevel<=He.WARN&&qd.warn(`Auth (${hl}): ${t}`,...e)}function wd(t,...e){qd.logLevel<=He.ERROR&&qd.error(`Auth (${hl}): ${t}`,...e)}function ai(t,...e){throw vy(t,...e)}function Es(t,...e){return vy(t,...e)}function yy(t,e,n){const i={...B3(),[e]:n};return new fu("auth","Firebase",i).create(e,{appName:t.name})}function Da(t){return yy(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function H3(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&ai(t,"argument-error"),yy(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function vy(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return hA.create(t,...e)}function Ne(t,e,...n){if(!t)throw vy(e,...n)}function ki(t){const e="INTERNAL ASSERTION FAILED: "+t;throw wd(e),new Error(e)}function Oi(t,e){t||ki(e)}function i0(){return typeof self<"u"&&self.location?.href||""}function q3(){return TT()==="http:"||TT()==="https:"}function TT(){return typeof self<"u"&&self.location?.protocol||null}function G3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(q3()||xM()||"connection"in navigator)?navigator.onLine:!0}function $3(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class pu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Oi(n>e,"Short delay should be less than long delay!"),this.isMobile=yM()||_M()}get(){return G3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function by(t,e){Oi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class dA{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ki("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ki("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ki("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const K3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Y3=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Q3=new pu(3e4,6e4);function xy(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function dl(t,e,n,i,a={}){return fA(t,a,async()=>{let l={},u={};i&&(e==="GET"?u=i:l={body:JSON.stringify(i)});const d=mu({key:t.config.apiKey,...u}).slice(1),m=await t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:m,...l};return bM()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&ul(t.emulatorConfig.host)&&(p.credentials="include"),dA.fetch()(await mA(t,t.config.apiHost,n,d),p)})}async function fA(t,e,n){t._canInitEmulator=!1;const i={...K3,...e};try{const a=new W3(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw ad(t,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const d=l.ok?u.errorMessage:u.error.message,[m,p]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw ad(t,"credential-already-in-use",u);if(m==="EMAIL_EXISTS")throw ad(t,"email-already-in-use",u);if(m==="USER_DISABLED")throw ad(t,"user-disabled",u);const v=i[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw yy(t,v,p);ai(t,v)}}catch(a){if(a instanceof zi)throw a;ai(t,"network-request-failed",{message:String(a)})}}async function X3(t,e,n,i,a={}){const l=await dl(t,e,n,i,a);return"mfaPendingCredential"in l&&ai(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function mA(t,e,n,i){const a=`${e}${n}?${i}`,l=t,u=l.config.emulator?by(t.config,a):`${t.config.apiScheme}://${a}`;return Y3.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}class W3{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Es(this.auth,"network-request-failed")),Q3.get())})}}function ad(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const a=Es(t,e,i);return a.customData._tokenResponse=n,a}async function J3(t,e){return dl(t,"POST","/v1/accounts:delete",e)}async function Gd(t,e){return dl(t,"POST","/v1/accounts:lookup",e)}function Pc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Z3(t,e=!1){const n=Yt(t),i=await n.getIdToken(e),a=_y(i);Ne(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l?.sign_in_provider;return{claims:a,token:i,authTime:Pc(gg(a.auth_time)),issuedAtTime:Pc(gg(a.iat)),expirationTime:Pc(gg(a.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function gg(t){return Number(t)*1e3}function _y(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return wd("JWT malformed, contained fewer than 3 sections"),null;try{const a=JS(n);return a?JSON.parse(a):(wd("Failed to decode base64 JWT payload"),null)}catch(a){return wd("Caught error parsing JWT payload as JSON",a?.toString()),null}}function wT(t){const e=_y(t);return Ne(e,"internal-error"),Ne(typeof e.exp<"u","internal-error"),Ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Qc(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof zi&&e6(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function e6({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class t6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class r0{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pc(this.lastLoginAt),this.creationTime=Pc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function $d(t){const e=t.auth,n=await t.getIdToken(),i=await Qc(t,Gd(e,{idToken:n}));Ne(i?.users.length,e,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const l=a.providerUserInfo?.length?pA(a.providerUserInfo):[],u=s6(t.providerData,l),d=t.isAnonymous,m=!(t.email&&a.passwordHash)&&!u?.length,p=d?m:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new r0(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(t,v)}async function n6(t){const e=Yt(t);await $d(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function s6(t,e){return[...t.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function pA(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function i6(t,e){const n=await fA(t,{},async()=>{const i=mu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,u=await mA(t,a,"/v1/token",`key=${l}`),d=await t._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:d,body:i};return t.emulatorConfig&&ul(t.emulatorConfig.host)&&(m.credentials="include"),dA.fetch()(u,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function r6(t,e){return dl(t,"POST","/v2/accounts:revokeToken",xy(t,e))}class qo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ne(e.idToken,"internal-error"),Ne(typeof e.idToken<"u","internal-error"),Ne(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):wT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ne(e.length!==0,"internal-error");const n=wT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:a,expiresIn:l}=await i6(e,n);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:a,expirationTime:l}=n,u=new qo;return i&&(Ne(typeof i=="string","internal-error",{appName:e}),u.refreshToken=i),a&&(Ne(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(Ne(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new qo,this.toJSON())}_performRefresh(){return ki("not implemented")}}function _r(t,e){Ne(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ts{constructor({uid:e,auth:n,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new t6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new r0(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Qc(this,this.stsTokenManager.getToken(this.auth,e));return Ne(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Z3(this,e)}reload(){return n6(this)}_assign(e){this!==e&&(Ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ts({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await $d(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_s(this.auth.app))return Promise.reject(Da(this.auth));const e=await this.getIdToken();return await Qc(this,J3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,u=n.photoURL??void 0,d=n.tenantId??void 0,m=n._redirectEventId??void 0,p=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:x,emailVerified:T,isAnonymous:A,providerData:M,stsTokenManager:L}=n;Ne(x&&L,e,"internal-error");const P=qo.fromJSON(this.name,L);Ne(typeof x=="string",e,"internal-error"),_r(i,e.name),_r(a,e.name),Ne(typeof T=="boolean",e,"internal-error"),Ne(typeof A=="boolean",e,"internal-error"),_r(l,e.name),_r(u,e.name),_r(d,e.name),_r(m,e.name),_r(p,e.name),_r(v,e.name);const U=new Ts({uid:x,auth:e,email:a,emailVerified:T,displayName:i,isAnonymous:A,photoURL:u,phoneNumber:l,tenantId:d,stsTokenManager:P,createdAt:p,lastLoginAt:v});return M&&Array.isArray(M)&&(U.providerData=M.map(F=>({...F}))),m&&(U._redirectEventId=m),U}static async _fromIdTokenResponse(e,n,i=!1){const a=new qo;a.updateFromServerResponse(n);const l=new Ts({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await $d(l),l}static async _fromGetAccountInfoResponse(e,n,i){const a=n.users[0];Ne(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?pA(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!l?.length,d=new qo;d.updateFromIdToken(i);const m=new Ts({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:u}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new r0(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,p),m}}const ET=new Map;function Ii(t){Oi(t instanceof Function,"Expected a class definition");let e=ET.get(t);return e?(Oi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,ET.set(t,e),e)}class gA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}gA.type="NONE";const ST=gA;function Ed(t,e,n){return`firebase:${t}:${e}:${n}`}class Go{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=Ed(this.userKey,a.apiKey,l),this.fullPersistenceKey=Ed("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Gd(this.auth,{idToken:e}).catch(()=>{});return n?Ts._fromGetAccountInfoResponse(this.auth,n,e):null}return Ts._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Go(Ii(ST),e,i);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||Ii(ST);const u=Ed(i,e.config.apiKey,e.name);let d=null;for(const p of n)try{const v=await p._get(u);if(v){let x;if(typeof v=="string"){const T=await Gd(e,{idToken:v}).catch(()=>{});if(!T)break;x=await Ts._fromGetAccountInfoResponse(e,T,v)}else x=Ts._fromJSON(e,v);p!==l&&(d=x),l=p;break}}catch{}const m=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new Go(l,e,i):(l=m[0],d&&await l._set(u,d.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(u)}catch{}})),new Go(l,e,i))}}function AT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(xA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(yA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(TA(e))return"Blackberry";if(wA(e))return"Webos";if(vA(e))return"Safari";if((e.includes("chrome/")||bA(e))&&!e.includes("edge/"))return"Chrome";if(_A(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if(i?.length===2)return i[1]}return"Other"}function yA(t=mn()){return/firefox\//i.test(t)}function vA(t=mn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function bA(t=mn()){return/crios\//i.test(t)}function xA(t=mn()){return/iemobile/i.test(t)}function _A(t=mn()){return/android/i.test(t)}function TA(t=mn()){return/blackberry/i.test(t)}function wA(t=mn()){return/webos/i.test(t)}function Ty(t=mn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function a6(t=mn()){return Ty(t)&&!!window.navigator?.standalone}function o6(){return TM()&&document.documentMode===10}function EA(t=mn()){return Ty(t)||_A(t)||wA(t)||TA(t)||/windows phone/i.test(t)||xA(t)}function SA(t,e=[]){let n;switch(t){case"Browser":n=AT(mn());break;case"Worker":n=`${AT(mn())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${hl}/${i}`}class l6{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=l=>new Promise((u,d)=>{try{const m=e(l);u(m)}catch(m){d(m)}});i.onAbort=n,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function c6(t,e={}){return dl(t,"GET","/v2/passwordPolicy",xy(t,e))}const u6=6;class h6{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??u6,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class d6{constructor(e,n,i,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new CT(this),this.idTokenSubscription=new CT(this),this.beforeStateQueue=new l6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=hA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ii(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Go.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Gd(this,{idToken:e}),i=await Ts._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(_s(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,u=i?._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===u)&&d?.user&&(i=d.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await $d(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=$3()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(_s(this.app))return Promise.reject(Da(this));const n=e?Yt(e):null;return n&&Ne(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return _s(this.app)?Promise.reject(Da(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return _s(this.app)?Promise.reject(Da(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ii(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await c6(this),n=new h6(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new fu("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await r6(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ii(e)||this._popupRedirectResolver;Ne(n,this,"argument-error"),this.redirectPersistenceManager=await Go.create(this,[Ii(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ne(d,this,"internal-error"),d.then(()=>{u||l(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,i,a);return()=>{u=!0,m()}}else{const m=e.addObserver(n);return()=>{u=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=SA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(_s(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&F3(`Error while retrieving App Check token: ${e.error}`),e?.token}}function xf(t){return Yt(t)}class CT{constructor(e){this.auth=e,this.observer=null,this.addObserver=kM(n=>this.observer=n)}get next(){return Ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let wy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function f6(t){wy=t}function m6(t){return wy.loadJS(t)}function p6(){return wy.gapiScript}function g6(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function y6(t,e){const n=gy(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Va(l,e??{}))return a;ai(a,"already-initialized")}return n.initialize({options:e})}function v6(t,e){const n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(Ii);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}function b6(t,e,n){const i=xf(t);Ne(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=AA(e),{host:u,port:d}=x6(e),m=d===null?"":`:${d}`,p={url:`${l}//${u}${m}/`},v=Object.freeze({host:u,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){Ne(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ne(Va(p,i.config.emulator)&&Va(v,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=p,i.emulatorConfig=v,i.settings.appVerificationDisabledForTesting=!0,ul(u)?(nA(`${l}//${u}${m}`),sA("Auth",!0)):_6()}function AA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function x6(t){const e=AA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:NT(i.substr(l.length+1))}}else{const[l,u]=i.split(":");return{host:l,port:NT(u)}}}function NT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function _6(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class CA{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ki("not implemented")}_getIdTokenResponse(e){return ki("not implemented")}_linkToIdToken(e,n){return ki("not implemented")}_getReauthenticationResolver(e){return ki("not implemented")}}async function $o(t,e){return X3(t,"POST","/v1/accounts:signInWithIdp",xy(t,e))}const T6="http://localhost";class Pa extends CA{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Pa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ai("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a,...l}=n;if(!i||!a)return null;const u=new Pa(i,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return $o(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,$o(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,$o(e,n)}buildRequest(){const e={requestUri:T6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=mu(n)}return e}}class Ey{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class gu extends Ey{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class wr extends gu{constructor(){super("facebook.com")}static credential(e){return Pa._fromParams({providerId:wr.PROVIDER_ID,signInMethod:wr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wr.credentialFromTaggedObject(e)}static credentialFromError(e){return wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return wr.credential(e.oauthAccessToken)}catch{return null}}}wr.FACEBOOK_SIGN_IN_METHOD="facebook.com";wr.PROVIDER_ID="facebook.com";class Ri extends gu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Pa._fromParams({providerId:Ri.PROVIDER_ID,signInMethod:Ri.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ri.credentialFromTaggedObject(e)}static credentialFromError(e){return Ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Ri.credential(n,i)}catch{return null}}}Ri.GOOGLE_SIGN_IN_METHOD="google.com";Ri.PROVIDER_ID="google.com";class Er extends gu{constructor(){super("github.com")}static credential(e){return Pa._fromParams({providerId:Er.PROVIDER_ID,signInMethod:Er.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Er.credentialFromTaggedObject(e)}static credentialFromError(e){return Er.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Er.credential(e.oauthAccessToken)}catch{return null}}}Er.GITHUB_SIGN_IN_METHOD="github.com";Er.PROVIDER_ID="github.com";class Sr extends gu{constructor(){super("twitter.com")}static credential(e,n){return Pa._fromParams({providerId:Sr.PROVIDER_ID,signInMethod:Sr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Sr.credentialFromTaggedObject(e)}static credentialFromError(e){return Sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Sr.credential(n,i)}catch{return null}}}Sr.TWITTER_SIGN_IN_METHOD="twitter.com";Sr.PROVIDER_ID="twitter.com";class Wo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,a=!1){const l=await Ts._fromIdTokenResponse(e,i,a),u=RT(i);return new Wo({user:l,providerId:u,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const a=RT(i);return new Wo({user:e,providerId:a,_tokenResponse:i,operationType:n})}}function RT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Kd extends zi{constructor(e,n,i,a){super(n.code,n.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,Kd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,a){return new Kd(e,n,i,a)}}function NA(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Kd._fromErrorAndOperation(t,l,e,i):l})}async function w6(t,e,n=!1){const i=await Qc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Wo._forOperation(t,"link",i)}async function E6(t,e,n=!1){const{auth:i}=t;if(_s(i.app))return Promise.reject(Da(i));const a="reauthenticate";try{const l=await Qc(t,NA(i,a,e,t),n);Ne(l.idToken,i,"internal-error");const u=_y(l.idToken);Ne(u,i,"internal-error");const{sub:d}=u;return Ne(t.uid===d,i,"user-mismatch"),Wo._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&ai(i,"user-mismatch"),l}}async function S6(t,e,n=!1){if(_s(t.app))return Promise.reject(Da(t));const i="signIn",a=await NA(t,i,e),l=await Wo._fromIdTokenResponse(t,i,a);return n||await t._updateCurrentUser(l.user),l}function A6(t,e,n,i){return Yt(t).onIdTokenChanged(e,n,i)}function C6(t,e,n){return Yt(t).beforeAuthStateChanged(e,n)}function N6(t,e,n,i){return Yt(t).onAuthStateChanged(e,n,i)}function R6(t){return Yt(t).signOut()}const Yd="__sak";class RA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Yd,"1"),this.storage.removeItem(Yd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const k6=1e3,I6=10;class kA extends RA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=EA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),a=this.localCache[n];i!==a&&e(n,a,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,d,m)=>{this.notifyListeners(u,m)});return}const i=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(i);!n&&this.localCache[i]===u||this.notifyListeners(i,u)},l=this.storage.getItem(i);o6()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,I6):a()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},k6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}kA.type="LOCAL";const D6=kA;class IA extends RA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}IA.type="SESSION";const DA=IA;function j6(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class _f{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const i=new _f(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:a,data:l}=n.data,u=this.handlersMap[a];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const d=Array.from(u).map(async p=>p(n.origin,l)),m=await j6(d);n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}_f.receivers=[];function Sy(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}class M6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((d,m)=>{const p=Sy("",20);a.port1.start();const v=setTimeout(()=>{m(new Error("unsupported_event"))},i);u={messageChannel:a,onMessage(x){const T=x;if(T.data.eventId===p)switch(T.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(T.data.response);break;default:clearTimeout(v),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function ti(){return window}function V6(t){ti().location.href=t}function jA(){return typeof ti().WorkerGlobalScope<"u"&&typeof ti().importScripts=="function"}async function O6(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function P6(){return navigator?.serviceWorker?.controller||null}function L6(){return jA()?self:null}const MA="firebaseLocalStorageDb",U6=1,Qd="firebaseLocalStorage",VA="fbase_key";class yu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Tf(t,e){return t.transaction([Qd],e?"readwrite":"readonly").objectStore(Qd)}function z6(){const t=indexedDB.deleteDatabase(MA);return new yu(t).toPromise()}function a0(){const t=indexedDB.open(MA,U6);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(Qd,{keyPath:VA})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(Qd)?e(i):(i.close(),await z6(),e(await a0()))})})}async function kT(t,e,n){const i=Tf(t,!0).put({[VA]:e,value:n});return new yu(i).toPromise()}async function B6(t,e){const n=Tf(t,!1).get(e),i=await new yu(n).toPromise();return i===void 0?null:i.value}function IT(t,e){const n=Tf(t,!0).delete(e);return new yu(n).toPromise()}const F6=800,H6=3;class OA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await a0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>H6)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return jA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_f._getInstance(L6()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await O6(),!this.activeServiceWorker)return;this.sender=new M6(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||P6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await a0();return await kT(e,Yd,"1"),await IT(e,Yd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>kT(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>B6(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>IT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Tf(a,!1).getAll();return new yu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),F6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}OA.type="LOCAL";const q6=OA;new pu(3e4,6e4);function PA(t,e){return e?Ii(e):(Ne(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class Ay extends CA{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return $o(e,this._buildIdpRequest())}_linkToIdToken(e,n){return $o(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return $o(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function G6(t){return S6(t.auth,new Ay(t),t.bypassAuthState)}function $6(t){const{auth:e,user:n}=t;return Ne(n,e,"internal-error"),E6(n,new Ay(t),t.bypassAuthState)}async function K6(t){const{auth:e,user:n}=t;return Ne(n,e,"internal-error"),w6(n,new Ay(t),t.bypassAuthState)}class LA{constructor(e,n,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:a,tenantId:l,error:u,type:d}=e;if(u){this.reject(u);return}const m={auth:this.auth,requestUri:n,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return G6;case"linkViaPopup":case"linkViaRedirect":return K6;case"reauthViaPopup":case"reauthViaRedirect":return $6;default:ai(this.auth,"internal-error")}}resolve(e){Oi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Oi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Y6=new pu(2e3,1e4);async function Q6(t,e,n){if(_s(t.app))return Promise.reject(Es(t,"operation-not-supported-in-this-environment"));const i=xf(t);H3(t,e,Ey);const a=PA(i,n);return new Ra(i,"signInViaPopup",e,a).executeNotNull()}class Ra extends LA{constructor(e,n,i,a,l){super(e,n,a,l),this.provider=i,this.authWindow=null,this.pollId=null,Ra.currentPopupAction&&Ra.currentPopupAction.cancel(),Ra.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ne(e,this.auth,"internal-error"),e}async onExecution(){Oi(this.filter.length===1,"Popup operations only handle one event");const e=Sy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Es(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Es(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ra.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Es(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Y6.get())};e()}}Ra.currentPopupAction=null;const X6="pendingRedirect",Sd=new Map;class W6 extends LA{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Sd.get(this.auth._key());if(!e){try{const i=await J6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Sd.set(this.auth._key(),e)}return this.bypassAuthState||Sd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function J6(t,e){const n=tV(e),i=eV(t);if(!await i._isAvailable())return!1;const a=await i._get(n)==="true";return await i._remove(n),a}function Z6(t,e){Sd.set(t._key(),e)}function eV(t){return Ii(t._redirectPersistence)}function tV(t){return Ed(X6,t.config.apiKey,t.name)}async function nV(t,e,n=!1){if(_s(t.app))return Promise.reject(Da(t));const i=xf(t),a=PA(i,e),u=await new W6(i,a,n).execute();return u&&!n&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,e)),u}const sV=600*1e3;class iV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!rV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!UA(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Es(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=sV&&this.cachedEventUids.clear(),this.cachedEventUids.has(DT(e))}saveEventToCache(e){this.cachedEventUids.add(DT(e)),this.lastProcessedEventTime=Date.now()}}function DT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function UA({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function rV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return UA(t);default:return!1}}async function aV(t,e={}){return dl(t,"GET","/v1/projects",e)}const oV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lV=/^https?/;async function cV(t){if(t.config.emulator)return;const{authorizedDomains:e}=await aV(t);for(const n of e)try{if(uV(n))return}catch{}ai(t,"unauthorized-domain")}function uV(t){const e=i0(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===i}if(!lV.test(n))return!1;if(oV.test(t))return i===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}const hV=new pu(3e4,6e4);function jT(){const t=ti().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function dV(t){return new Promise((e,n)=>{function i(){jT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{jT(),n(Es(t,"network-request-failed"))},timeout:hV.get()})}if(ti().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ti().gapi?.load)i();else{const a=g6("iframefcb");return ti()[a]=()=>{gapi.load?i():n(Es(t,"network-request-failed"))},m6(`${p6()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Ad=null,e})}let Ad=null;function fV(t){return Ad=Ad||dV(t),Ad}const mV=new pu(5e3,15e3),pV="__/auth/iframe",gV="emulator/auth/iframe",yV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bV(t){const e=t.config;Ne(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?by(e,gV):`https://${t.config.authDomain}/${pV}`,i={apiKey:e.apiKey,appName:t.name,v:hl},a=vV.get(t.config.apiHost);a&&(i.eid=a);const l=t._getFrameworks();return l.length&&(i.fw=l.join(",")),`${n}?${mu(i).slice(1)}`}async function xV(t){const e=await fV(t),n=ti().gapi;return Ne(n,t,"internal-error"),e.open({where:document.body,url:bV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yV,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const u=Es(t,"network-request-failed"),d=ti().setTimeout(()=>{l(u)},mV.get());function m(){ti().clearTimeout(d),a(i)}i.ping(m).then(m,()=>{l(u)})}))}const _V={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},TV=500,wV=600,EV="_blank",SV="http://localhost";class MT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function AV(t,e,n,i=TV,a=wV){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const m={..._V,width:i.toString(),height:a.toString(),top:l,left:u},p=mn().toLowerCase();n&&(d=bA(p)?EV:n),yA(p)&&(e=e||SV,m.scrollbars="yes");const v=Object.entries(m).reduce((T,[A,M])=>`${T}${A}=${M},`,"");if(a6(p)&&d!=="_self")return CV(e||"",d),new MT(null);const x=window.open(e||"",d,v);Ne(x,t,"popup-blocked");try{x.focus()}catch{}return new MT(x)}function CV(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}const NV="__/auth/handler",RV="emulator/auth/handler",kV=encodeURIComponent("fac");async function VT(t,e,n,i,a,l){Ne(t.config.authDomain,t,"auth-domain-config-required"),Ne(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:hl,eventId:a};if(e instanceof Ey){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",RM(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,x]of Object.entries({}))u[v]=x}if(e instanceof gu){const v=e.getScopes().filter(x=>x!=="");v.length>0&&(u.scopes=v.join(","))}t.tenantId&&(u.tid=t.tenantId);const d=u;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const m=await t._getAppCheckToken(),p=m?`#${kV}=${encodeURIComponent(m)}`:"";return`${IV(t)}?${mu(d).slice(1)}${p}`}function IV({config:t}){return t.emulator?by(t,RV):`https://${t.authDomain}/${NV}`}const yg="webStorageSupport";class DV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=DA,this._completeRedirectFn=nV,this._overrideRedirectResult=Z6}async _openPopup(e,n,i,a){Oi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await VT(e,n,i,i0(),a);return AV(e,l,Sy())}async _openRedirect(e,n,i,a){await this._originValidation(e);const l=await VT(e,n,i,i0(),a);return V6(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Oi(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await xV(e),i=new iV(e);return n.register("authEvent",a=>(Ne(a?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(yg,{type:yg},a=>{const l=a?.[0]?.[yg];l!==void 0&&n(!!l),ai(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=cV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return EA()||vA()||Ty()}}const jV=DV;var OT="@firebase/auth",PT="1.12.0";class MV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function VV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function OV(t){Xo(new Oa("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=i.options;Ne(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const m={apiKey:u,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:SA(t)},p=new d6(i,a,l,m);return v6(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Xo(new Oa("auth-internal",e=>{const n=xf(e.getProvider("auth").getImmediate());return(i=>new MV(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ir(OT,PT,VV(t)),Ir(OT,PT,"esm2020")}const PV=300,LV=tA("authIdTokenMaxAge")||PV;let LT=null;const UV=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>LV)return;const a=n?.token;LT!==a&&(LT=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function zV(t=oA()){const e=gy(t,"auth");if(e.isInitialized())return e.getImmediate();const n=y6(t,{popupRedirectResolver:jV,persistence:[q6,D6,DA]}),i=tA("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const u=UV(l.toString());C6(n,u,()=>u(n.currentUser)),A6(n,d=>u(d))}}const a=ZS("auth");return a&&b6(n,`http://${a}`),n}function BV(){return document.getElementsByTagName("head")?.[0]??document}f6({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=a=>{const l=Es("internal-error");l.customData=a,n(l)},i.type="text/javascript",i.charset="UTF-8",BV().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});OV("Browser");var FV="firebase",HV="12.9.0";Ir(FV,HV,"app");var UT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Dr,zA;(function(){var t;function e(I,E){function C(){}C.prototype=E.prototype,I.F=E.prototype,I.prototype=new C,I.prototype.constructor=I,I.D=function(j,k,O){for(var D=Array(arguments.length-2),Ee=2;Ee<arguments.length;Ee++)D[Ee-2]=arguments[Ee];return E.prototype[k].apply(j,D)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(I,E,C){C||(C=0);const j=Array(16);if(typeof E=="string")for(var k=0;k<16;++k)j[k]=E.charCodeAt(C++)|E.charCodeAt(C++)<<8|E.charCodeAt(C++)<<16|E.charCodeAt(C++)<<24;else for(k=0;k<16;++k)j[k]=E[C++]|E[C++]<<8|E[C++]<<16|E[C++]<<24;E=I.g[0],C=I.g[1],k=I.g[2];let O=I.g[3],D;D=E+(O^C&(k^O))+j[0]+3614090360&4294967295,E=C+(D<<7&4294967295|D>>>25),D=O+(k^E&(C^k))+j[1]+3905402710&4294967295,O=E+(D<<12&4294967295|D>>>20),D=k+(C^O&(E^C))+j[2]+606105819&4294967295,k=O+(D<<17&4294967295|D>>>15),D=C+(E^k&(O^E))+j[3]+3250441966&4294967295,C=k+(D<<22&4294967295|D>>>10),D=E+(O^C&(k^O))+j[4]+4118548399&4294967295,E=C+(D<<7&4294967295|D>>>25),D=O+(k^E&(C^k))+j[5]+1200080426&4294967295,O=E+(D<<12&4294967295|D>>>20),D=k+(C^O&(E^C))+j[6]+2821735955&4294967295,k=O+(D<<17&4294967295|D>>>15),D=C+(E^k&(O^E))+j[7]+4249261313&4294967295,C=k+(D<<22&4294967295|D>>>10),D=E+(O^C&(k^O))+j[8]+1770035416&4294967295,E=C+(D<<7&4294967295|D>>>25),D=O+(k^E&(C^k))+j[9]+2336552879&4294967295,O=E+(D<<12&4294967295|D>>>20),D=k+(C^O&(E^C))+j[10]+4294925233&4294967295,k=O+(D<<17&4294967295|D>>>15),D=C+(E^k&(O^E))+j[11]+2304563134&4294967295,C=k+(D<<22&4294967295|D>>>10),D=E+(O^C&(k^O))+j[12]+1804603682&4294967295,E=C+(D<<7&4294967295|D>>>25),D=O+(k^E&(C^k))+j[13]+4254626195&4294967295,O=E+(D<<12&4294967295|D>>>20),D=k+(C^O&(E^C))+j[14]+2792965006&4294967295,k=O+(D<<17&4294967295|D>>>15),D=C+(E^k&(O^E))+j[15]+1236535329&4294967295,C=k+(D<<22&4294967295|D>>>10),D=E+(k^O&(C^k))+j[1]+4129170786&4294967295,E=C+(D<<5&4294967295|D>>>27),D=O+(C^k&(E^C))+j[6]+3225465664&4294967295,O=E+(D<<9&4294967295|D>>>23),D=k+(E^C&(O^E))+j[11]+643717713&4294967295,k=O+(D<<14&4294967295|D>>>18),D=C+(O^E&(k^O))+j[0]+3921069994&4294967295,C=k+(D<<20&4294967295|D>>>12),D=E+(k^O&(C^k))+j[5]+3593408605&4294967295,E=C+(D<<5&4294967295|D>>>27),D=O+(C^k&(E^C))+j[10]+38016083&4294967295,O=E+(D<<9&4294967295|D>>>23),D=k+(E^C&(O^E))+j[15]+3634488961&4294967295,k=O+(D<<14&4294967295|D>>>18),D=C+(O^E&(k^O))+j[4]+3889429448&4294967295,C=k+(D<<20&4294967295|D>>>12),D=E+(k^O&(C^k))+j[9]+568446438&4294967295,E=C+(D<<5&4294967295|D>>>27),D=O+(C^k&(E^C))+j[14]+3275163606&4294967295,O=E+(D<<9&4294967295|D>>>23),D=k+(E^C&(O^E))+j[3]+4107603335&4294967295,k=O+(D<<14&4294967295|D>>>18),D=C+(O^E&(k^O))+j[8]+1163531501&4294967295,C=k+(D<<20&4294967295|D>>>12),D=E+(k^O&(C^k))+j[13]+2850285829&4294967295,E=C+(D<<5&4294967295|D>>>27),D=O+(C^k&(E^C))+j[2]+4243563512&4294967295,O=E+(D<<9&4294967295|D>>>23),D=k+(E^C&(O^E))+j[7]+1735328473&4294967295,k=O+(D<<14&4294967295|D>>>18),D=C+(O^E&(k^O))+j[12]+2368359562&4294967295,C=k+(D<<20&4294967295|D>>>12),D=E+(C^k^O)+j[5]+4294588738&4294967295,E=C+(D<<4&4294967295|D>>>28),D=O+(E^C^k)+j[8]+2272392833&4294967295,O=E+(D<<11&4294967295|D>>>21),D=k+(O^E^C)+j[11]+1839030562&4294967295,k=O+(D<<16&4294967295|D>>>16),D=C+(k^O^E)+j[14]+4259657740&4294967295,C=k+(D<<23&4294967295|D>>>9),D=E+(C^k^O)+j[1]+2763975236&4294967295,E=C+(D<<4&4294967295|D>>>28),D=O+(E^C^k)+j[4]+1272893353&4294967295,O=E+(D<<11&4294967295|D>>>21),D=k+(O^E^C)+j[7]+4139469664&4294967295,k=O+(D<<16&4294967295|D>>>16),D=C+(k^O^E)+j[10]+3200236656&4294967295,C=k+(D<<23&4294967295|D>>>9),D=E+(C^k^O)+j[13]+681279174&4294967295,E=C+(D<<4&4294967295|D>>>28),D=O+(E^C^k)+j[0]+3936430074&4294967295,O=E+(D<<11&4294967295|D>>>21),D=k+(O^E^C)+j[3]+3572445317&4294967295,k=O+(D<<16&4294967295|D>>>16),D=C+(k^O^E)+j[6]+76029189&4294967295,C=k+(D<<23&4294967295|D>>>9),D=E+(C^k^O)+j[9]+3654602809&4294967295,E=C+(D<<4&4294967295|D>>>28),D=O+(E^C^k)+j[12]+3873151461&4294967295,O=E+(D<<11&4294967295|D>>>21),D=k+(O^E^C)+j[15]+530742520&4294967295,k=O+(D<<16&4294967295|D>>>16),D=C+(k^O^E)+j[2]+3299628645&4294967295,C=k+(D<<23&4294967295|D>>>9),D=E+(k^(C|~O))+j[0]+4096336452&4294967295,E=C+(D<<6&4294967295|D>>>26),D=O+(C^(E|~k))+j[7]+1126891415&4294967295,O=E+(D<<10&4294967295|D>>>22),D=k+(E^(O|~C))+j[14]+2878612391&4294967295,k=O+(D<<15&4294967295|D>>>17),D=C+(O^(k|~E))+j[5]+4237533241&4294967295,C=k+(D<<21&4294967295|D>>>11),D=E+(k^(C|~O))+j[12]+1700485571&4294967295,E=C+(D<<6&4294967295|D>>>26),D=O+(C^(E|~k))+j[3]+2399980690&4294967295,O=E+(D<<10&4294967295|D>>>22),D=k+(E^(O|~C))+j[10]+4293915773&4294967295,k=O+(D<<15&4294967295|D>>>17),D=C+(O^(k|~E))+j[1]+2240044497&4294967295,C=k+(D<<21&4294967295|D>>>11),D=E+(k^(C|~O))+j[8]+1873313359&4294967295,E=C+(D<<6&4294967295|D>>>26),D=O+(C^(E|~k))+j[15]+4264355552&4294967295,O=E+(D<<10&4294967295|D>>>22),D=k+(E^(O|~C))+j[6]+2734768916&4294967295,k=O+(D<<15&4294967295|D>>>17),D=C+(O^(k|~E))+j[13]+1309151649&4294967295,C=k+(D<<21&4294967295|D>>>11),D=E+(k^(C|~O))+j[4]+4149444226&4294967295,E=C+(D<<6&4294967295|D>>>26),D=O+(C^(E|~k))+j[11]+3174756917&4294967295,O=E+(D<<10&4294967295|D>>>22),D=k+(E^(O|~C))+j[2]+718787259&4294967295,k=O+(D<<15&4294967295|D>>>17),D=C+(O^(k|~E))+j[9]+3951481745&4294967295,I.g[0]=I.g[0]+E&4294967295,I.g[1]=I.g[1]+(k+(D<<21&4294967295|D>>>11))&4294967295,I.g[2]=I.g[2]+k&4294967295,I.g[3]=I.g[3]+O&4294967295}i.prototype.v=function(I,E){E===void 0&&(E=I.length);const C=E-this.blockSize,j=this.C;let k=this.h,O=0;for(;O<E;){if(k==0)for(;O<=C;)a(this,I,O),O+=this.blockSize;if(typeof I=="string"){for(;O<E;)if(j[k++]=I.charCodeAt(O++),k==this.blockSize){a(this,j),k=0;break}}else for(;O<E;)if(j[k++]=I[O++],k==this.blockSize){a(this,j),k=0;break}}this.h=k,this.o+=E},i.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var E=1;E<I.length-8;++E)I[E]=0;E=this.o*8;for(var C=I.length-8;C<I.length;++C)I[C]=E&255,E/=256;for(this.v(I),I=Array(16),E=0,C=0;C<4;++C)for(let j=0;j<32;j+=8)I[E++]=this.g[C]>>>j&255;return I};function l(I,E){var C=d;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=E(I)}function u(I,E){this.h=E;const C=[];let j=!0;for(let k=I.length-1;k>=0;k--){const O=I[k]|0;j&&O==E||(C[k]=O,j=!1)}this.g=C}var d={};function m(I){return-128<=I&&I<128?l(I,function(E){return new u([E|0],E<0?-1:0)}):new u([I|0],I<0?-1:0)}function p(I){if(isNaN(I)||!isFinite(I))return x;if(I<0)return P(p(-I));const E=[];let C=1;for(let j=0;I>=C;j++)E[j]=I/C|0,C*=4294967296;return new u(E,0)}function v(I,E){if(I.length==0)throw Error("number format error: empty string");if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(I.charAt(0)=="-")return P(v(I.substring(1),E));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=p(Math.pow(E,8));let j=x;for(let O=0;O<I.length;O+=8){var k=Math.min(8,I.length-O);const D=parseInt(I.substring(O,O+k),E);k<8?(k=p(Math.pow(E,k)),j=j.j(k).add(p(D))):(j=j.j(C),j=j.add(p(D)))}return j}var x=m(0),T=m(1),A=m(16777216);t=u.prototype,t.m=function(){if(L(this))return-P(this).m();let I=0,E=1;for(let C=0;C<this.g.length;C++){const j=this.i(C);I+=(j>=0?j:4294967296+j)*E,E*=4294967296}return I},t.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(M(this))return"0";if(L(this))return"-"+P(this).toString(I);const E=p(Math.pow(I,6));var C=this;let j="";for(;;){const k=ne(C,E).g;C=U(C,k.j(E));let O=((C.g.length>0?C.g[0]:C.h)>>>0).toString(I);if(C=k,M(C))return O+j;for(;O.length<6;)O="0"+O;j=O+j}},t.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function M(I){if(I.h!=0)return!1;for(let E=0;E<I.g.length;E++)if(I.g[E]!=0)return!1;return!0}function L(I){return I.h==-1}t.l=function(I){return I=U(this,I),L(I)?-1:M(I)?0:1};function P(I){const E=I.g.length,C=[];for(let j=0;j<E;j++)C[j]=~I.g[j];return new u(C,~I.h).add(T)}t.abs=function(){return L(this)?P(this):this},t.add=function(I){const E=Math.max(this.g.length,I.g.length),C=[];let j=0;for(let k=0;k<=E;k++){let O=j+(this.i(k)&65535)+(I.i(k)&65535),D=(O>>>16)+(this.i(k)>>>16)+(I.i(k)>>>16);j=D>>>16,O&=65535,D&=65535,C[k]=D<<16|O}return new u(C,C[C.length-1]&-2147483648?-1:0)};function U(I,E){return I.add(P(E))}t.j=function(I){if(M(this)||M(I))return x;if(L(this))return L(I)?P(this).j(P(I)):P(P(this).j(I));if(L(I))return P(this.j(P(I)));if(this.l(A)<0&&I.l(A)<0)return p(this.m()*I.m());const E=this.g.length+I.g.length,C=[];for(var j=0;j<2*E;j++)C[j]=0;for(j=0;j<this.g.length;j++)for(let k=0;k<I.g.length;k++){const O=this.i(j)>>>16,D=this.i(j)&65535,Ee=I.i(k)>>>16,Pe=I.i(k)&65535;C[2*j+2*k]+=D*Pe,F(C,2*j+2*k),C[2*j+2*k+1]+=O*Pe,F(C,2*j+2*k+1),C[2*j+2*k+1]+=D*Ee,F(C,2*j+2*k+1),C[2*j+2*k+2]+=O*Ee,F(C,2*j+2*k+2)}for(I=0;I<E;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=E;I<2*E;I++)C[I]=0;return new u(C,0)};function F(I,E){for(;(I[E]&65535)!=I[E];)I[E+1]+=I[E]>>>16,I[E]&=65535,E++}function H(I,E){this.g=I,this.h=E}function ne(I,E){if(M(E))throw Error("division by zero");if(M(I))return new H(x,x);if(L(I))return E=ne(P(I),E),new H(P(E.g),P(E.h));if(L(E))return E=ne(I,P(E)),new H(P(E.g),E.h);if(I.g.length>30){if(L(I)||L(E))throw Error("slowDivide_ only works with positive integers.");for(var C=T,j=E;j.l(I)<=0;)C=Z(C),j=Z(j);var k=le(C,1),O=le(j,1);for(j=le(j,2),C=le(C,2);!M(j);){var D=O.add(j);D.l(I)<=0&&(k=k.add(C),O=D),j=le(j,1),C=le(C,1)}return E=U(I,k.j(E)),new H(k,E)}for(k=x;I.l(E)>=0;){for(C=Math.max(1,Math.floor(I.m()/E.m())),j=Math.ceil(Math.log(C)/Math.LN2),j=j<=48?1:Math.pow(2,j-48),O=p(C),D=O.j(E);L(D)||D.l(I)>0;)C-=j,O=p(C),D=O.j(E);M(O)&&(O=T),k=k.add(O),I=U(I,D)}return new H(k,I)}t.B=function(I){return ne(this,I).h},t.and=function(I){const E=Math.max(this.g.length,I.g.length),C=[];for(let j=0;j<E;j++)C[j]=this.i(j)&I.i(j);return new u(C,this.h&I.h)},t.or=function(I){const E=Math.max(this.g.length,I.g.length),C=[];for(let j=0;j<E;j++)C[j]=this.i(j)|I.i(j);return new u(C,this.h|I.h)},t.xor=function(I){const E=Math.max(this.g.length,I.g.length),C=[];for(let j=0;j<E;j++)C[j]=this.i(j)^I.i(j);return new u(C,this.h^I.h)};function Z(I){const E=I.g.length+1,C=[];for(let j=0;j<E;j++)C[j]=I.i(j)<<1|I.i(j-1)>>>31;return new u(C,I.h)}function le(I,E){const C=E>>5;E%=32;const j=I.g.length-C,k=[];for(let O=0;O<j;O++)k[O]=E>0?I.i(O+C)>>>E|I.i(O+C+1)<<32-E:I.i(O+C);return new u(k,I.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,zA=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=v,Dr=u}).apply(typeof UT<"u"?UT:typeof self<"u"?self:typeof window<"u"?window:{});var od=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var BA,Nc,FA,Cd,o0,HA,qA,GA;(function(){var t,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof od=="object"&&od];for(var b=0;b<h.length;++b){var w=h[b];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var i=n(this);function a(h,b){if(b)e:{var w=i;h=h.split(".");for(var N=0;N<h.length-1;N++){var G=h[N];if(!(G in w))break e;w=w[G]}h=h[h.length-1],N=w[h],b=b(N),b!=N&&b!=null&&e(w,h,{configurable:!0,writable:!0,value:b})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(b){var w=[],N;for(N in b)Object.prototype.hasOwnProperty.call(b,N)&&w.push([N,b[N]]);return w}});var l=l||{},u=this||self;function d(h){var b=typeof h;return b=="object"&&h!=null||b=="function"}function m(h,b,w){return h.call.apply(h.bind,arguments)}function p(h,b,w){return p=m,p.apply(null,arguments)}function v(h,b){var w=Array.prototype.slice.call(arguments,1);return function(){var N=w.slice();return N.push.apply(N,arguments),h.apply(this,N)}}function x(h,b){function w(){}w.prototype=b.prototype,h.Z=b.prototype,h.prototype=new w,h.prototype.constructor=h,h.Ob=function(N,G,X){for(var ce=Array(arguments.length-2),je=2;je<arguments.length;je++)ce[je-2]=arguments[je];return b.prototype[G].apply(N,ce)}}var T=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function A(h){const b=h.length;if(b>0){const w=Array(b);for(let N=0;N<b;N++)w[N]=h[N];return w}return[]}function M(h,b){for(let N=1;N<arguments.length;N++){const G=arguments[N];var w=typeof G;if(w=w!="object"?w:G?Array.isArray(G)?"array":w:"null",w=="array"||w=="object"&&typeof G.length=="number"){w=h.length||0;const X=G.length||0;h.length=w+X;for(let ce=0;ce<X;ce++)h[w+ce]=G[ce]}else h.push(G)}}class L{constructor(b,w){this.i=b,this.j=w,this.h=0,this.g=null}get(){let b;return this.h>0?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function P(h){u.setTimeout(()=>{throw h},0)}function U(){var h=I;let b=null;return h.g&&(b=h.g,h.g=h.g.next,h.g||(h.h=null),b.next=null),b}class F{constructor(){this.h=this.g=null}add(b,w){const N=H.get();N.set(b,w),this.h?this.h.next=N:this.g=N,this.h=N}}var H=new L(()=>new ne,h=>h.reset());class ne{constructor(){this.next=this.g=this.h=null}set(b,w){this.h=b,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let Z,le=!1,I=new F,E=()=>{const h=Promise.resolve(void 0);Z=()=>{h.then(C)}};function C(){for(var h;h=U();){try{h.h.call(h.g)}catch(w){P(w)}var b=H;b.j(h),b.h<100&&(b.h++,h.next=b.g,b.g=h)}le=!1}function j(){this.u=this.u,this.C=this.C}j.prototype.u=!1,j.prototype.dispose=function(){this.u||(this.u=!0,this.N())},j.prototype[Symbol.dispose]=function(){this.dispose()},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(h,b){this.type=h,this.g=this.target=b,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var O=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var h=!1,b=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const w=()=>{};u.addEventListener("test",w,b),u.removeEventListener("test",w,b)}catch{}return h})();function D(h){return/^[\s\xa0]*$/.test(h)}function Ee(h,b){k.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,b)}x(Ee,k),Ee.prototype.init=function(h,b){const w=this.type=h.type,N=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=b,b=h.relatedTarget,b||(w=="mouseover"?b=h.fromElement:w=="mouseout"&&(b=h.toElement)),this.relatedTarget=b,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&Ee.Z.h.call(this)},Ee.prototype.h=function(){Ee.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Pe="closure_listenable_"+(Math.random()*1e6|0),Q=0;function ae(h,b,w,N,G){this.listener=h,this.proxy=null,this.src=b,this.type=w,this.capture=!!N,this.ha=G,this.key=++Q,this.da=this.fa=!1}function de(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Ae(h,b,w){for(const N in h)b.call(w,h[N],N,h)}function Ve(h,b){for(const w in h)b.call(void 0,h[w],w,h)}function z(h){const b={};for(const w in h)b[w]=h[w];return b}const ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ue(h,b){let w,N;for(let G=1;G<arguments.length;G++){N=arguments[G];for(w in N)h[w]=N[w];for(let X=0;X<ee.length;X++)w=ee[X],Object.prototype.hasOwnProperty.call(N,w)&&(h[w]=N[w])}}function he(h){this.src=h,this.g={},this.h=0}he.prototype.add=function(h,b,w,N,G){const X=h.toString();h=this.g[X],h||(h=this.g[X]=[],this.h++);const ce=Re(h,b,N,G);return ce>-1?(b=h[ce],w||(b.fa=!1)):(b=new ae(b,this.src,X,!!N,G),b.fa=w,h.push(b)),b};function Te(h,b){const w=b.type;if(w in h.g){var N=h.g[w],G=Array.prototype.indexOf.call(N,b,void 0),X;(X=G>=0)&&Array.prototype.splice.call(N,G,1),X&&(de(b),h.g[w].length==0&&(delete h.g[w],h.h--))}}function Re(h,b,w,N){for(let G=0;G<h.length;++G){const X=h[G];if(!X.da&&X.listener==b&&X.capture==!!w&&X.ha==N)return G}return-1}var oe="closure_lm_"+(Math.random()*1e6|0),Ce={};function Le(h,b,w,N,G){if(Array.isArray(b)){for(let X=0;X<b.length;X++)Le(h,b[X],w,N,G);return null}return w=xl(w),h&&h[Pe]?h.J(b,w,d(N)?!!N.capture:!1,G):Qt(h,b,w,!1,N,G)}function Qt(h,b,w,N,G,X){if(!b)throw Error("Invalid event type");const ce=d(G)?!!G.capture:!!G;let je=Yr(h);if(je||(h[oe]=je=new he(h)),w=je.add(b,w,N,ce,X),w.proxy)return w;if(N=Rs(),w.proxy=N,N.src=h,N.listener=w,h.addEventListener)O||(G=ce),G===void 0&&(G=!1),h.addEventListener(b.toString(),N,G);else if(h.attachEvent)h.attachEvent(Xt(b.toString()),N);else if(h.addListener&&h.removeListener)h.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Rs(){function h(w){return b.call(h.src,h.listener,w)}const b=as;return h}function li(h,b,w,N,G){if(Array.isArray(b))for(var X=0;X<b.length;X++)li(h,b[X],w,N,G);else N=d(N)?!!N.capture:!!N,w=xl(w),h&&h[Pe]?(h=h.i,X=String(b).toString(),X in h.g&&(b=h.g[X],w=Re(b,w,N,G),w>-1&&(de(b[w]),Array.prototype.splice.call(b,w,1),b.length==0&&(delete h.g[X],h.h--)))):h&&(h=Yr(h))&&(b=h.g[b.toString()],h=-1,b&&(h=Re(b,w,N,G)),(w=h>-1?b[h]:null)&&ci(w))}function ci(h){if(typeof h!="number"&&h&&!h.da){var b=h.src;if(b&&b[Pe])Te(b.i,h);else{var w=h.type,N=h.proxy;b.removeEventListener?b.removeEventListener(w,N,h.capture):b.detachEvent?b.detachEvent(Xt(w),N):b.addListener&&b.removeListener&&b.removeListener(N),(w=Yr(b))?(Te(w,h),w.h==0&&(w.src=null,b[oe]=null)):de(h)}}}function Xt(h){return h in Ce?Ce[h]:Ce[h]="on"+h}function as(h,b){if(h.da)h=!0;else{b=new Ee(b,this);const w=h.listener,N=h.ha||h.src;h.fa&&ci(h),h=w.call(N,b)}return h}function Yr(h){return h=h[oe],h instanceof he?h:null}var bl="__closure_events_fn_"+(Math.random()*1e9>>>0);function xl(h){return typeof h=="function"?h:(h[bl]||(h[bl]=function(b){return h.handleEvent(b)}),h[bl])}function At(){j.call(this),this.i=new he(this),this.M=this,this.G=null}x(At,j),At.prototype[Pe]=!0,At.prototype.removeEventListener=function(h,b,w,N){li(this,h,b,w,N)};function Ut(h,b){var w,N=h.G;if(N)for(w=[];N;N=N.G)w.push(N);if(h=h.M,N=b.type||b,typeof b=="string")b=new k(b,h);else if(b instanceof k)b.target=b.target||h;else{var G=b;b=new k(N,h),ue(b,G)}G=!0;let X,ce;if(w)for(ce=w.length-1;ce>=0;ce--)X=b.g=w[ce],G=Fi(X,N,!0,b)&&G;if(X=b.g=h,G=Fi(X,N,!0,b)&&G,G=Fi(X,N,!1,b)&&G,w)for(ce=0;ce<w.length;ce++)X=b.g=w[ce],G=Fi(X,N,!1,b)&&G}At.prototype.N=function(){if(At.Z.N.call(this),this.i){var h=this.i;for(const b in h.g){const w=h.g[b];for(let N=0;N<w.length;N++)de(w[N]);delete h.g[b],h.h--}}this.G=null},At.prototype.J=function(h,b,w,N){return this.i.add(String(h),b,!1,w,N)},At.prototype.K=function(h,b,w,N){return this.i.add(String(h),b,!0,w,N)};function Fi(h,b,w,N){if(b=h.i.g[String(b)],!b)return!0;b=b.concat();let G=!0;for(let X=0;X<b.length;++X){const ce=b[X];if(ce&&!ce.da&&ce.capture==w){const je=ce.listener,_t=ce.ha||ce.src;ce.fa&&Te(h.i,ce),G=je.call(_t,N)!==!1&&G}}return G&&!N.defaultPrevented}function Bf(h,b){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=p(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(b)>2147483647?-1:u.setTimeout(h,b||0)}function Au(h){h.g=Bf(()=>{h.g=null,h.i&&(h.i=!1,Au(h))},h.l);const b=h.h;h.h=null,h.m.apply(null,b)}class pn extends j{constructor(b,w){super(),this.m=b,this.l=w,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:Au(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qr(h){j.call(this),this.h=h,this.g={}}x(Qr,j);var _l=[];function Tl(h){Ae(h.g,function(b,w){this.g.hasOwnProperty(w)&&ci(b)},h),h.g={}}Qr.prototype.N=function(){Qr.Z.N.call(this),Tl(this)},Qr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Hi=u.JSON.stringify,Ff=u.JSON.parse,Cu=class{stringify(h){return u.JSON.stringify(h,void 0)}parse(h){return u.JSON.parse(h,void 0)}};function Nu(){}function Ru(){}var os={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Wt(){k.call(this,"d")}x(Wt,k);function Bn(){k.call(this,"c")}x(Bn,k);var xt={},ku=null;function qa(){return ku=ku||new At}xt.Ia="serverreachability";function Iu(h){k.call(this,xt.Ia,h)}x(Iu,k);function ks(h){const b=qa();Ut(b,new Iu(b))}xt.STAT_EVENT="statevent";function Xr(h,b){k.call(this,xt.STAT_EVENT,h),this.stat=b}x(Xr,k);function Ct(h){const b=qa();Ut(b,new Xr(b,h))}xt.Ja="timingevent";function Is(h,b){k.call(this,xt.Ja,h),this.size=b}x(Is,k);function Ds(h,b){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){h()},b)}function ls(){this.g=!0}ls.prototype.ua=function(){this.g=!1};function Hf(h,b,w,N,G,X){h.info(function(){if(h.g)if(X){var ce="",je=X.split("&");for(let Xe=0;Xe<je.length;Xe++){var _t=je[Xe].split("=");if(_t.length>1){const dt=_t[0];_t=_t[1];const Gn=dt.split("_");ce=Gn.length>=2&&Gn[1]=="type"?ce+(dt+"="+_t+"&"):ce+(dt+"=redacted&")}}}else ce=null;else ce=X;return"XMLHTTP REQ ("+N+") [attempt "+G+"]: "+b+`
`+w+`
`+ce})}function Du(h,b,w,N,G,X,ce){h.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+G+"]: "+b+`
`+w+`
`+X+" "+ce})}function js(h,b,w,N){h.info(function(){return"XMLHTTP TEXT ("+b+"): "+qf(h,w)+(N?" "+N:"")})}function Wr(h,b){h.info(function(){return"TIMEOUT: "+b})}ls.prototype.info=function(){};function qf(h,b){if(!h.g)return b;if(!b)return null;try{const X=JSON.parse(b);if(X){for(h=0;h<X.length;h++)if(Array.isArray(X[h])){var w=X[h];if(!(w.length<2)){var N=w[1];if(Array.isArray(N)&&!(N.length<1)){var G=N[0];if(G!="noop"&&G!="stop"&&G!="close")for(let ce=1;ce<N.length;ce++)N[ce]=""}}}}return Hi(X)}catch{return b}}var Jr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},wl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},El;function Zr(){}x(Zr,Nu),Zr.prototype.g=function(){return new XMLHttpRequest},El=new Zr;function ui(h){return encodeURIComponent(String(h))}function ju(h){var b=1;h=h.split(":");const w=[];for(;b>0&&h.length;)w.push(h.shift()),b--;return h.length&&w.push(h.join(":")),w}function cs(h,b,w,N){this.j=h,this.i=b,this.l=w,this.S=N||1,this.V=new Qr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new us}function us(){this.i=null,this.g="",this.h=!1}var Nt={},qt={};function Ms(h,b,w){h.M=1,h.A=ea(kt(b)),h.u=w,h.R=!0,Ga(h,null)}function Ga(h,b){h.F=Date.now(),Vs(h),h.B=kt(h.A);var w=h.B,N=h.S;Array.isArray(N)||(N=[String(N)]),Qa(w.i,"t",N),h.C=0,w=h.j.L,h.h=new us,h.g=Yu(h.j,w?b:null,!h.u),h.P>0&&(h.O=new pn(p(h.Y,h,h.g),h.P)),b=h.V,w=h.g,N=h.ba;var G="readystatechange";Array.isArray(G)||(G&&(_l[0]=G.toString()),G=_l);for(let X=0;X<G.length;X++){const ce=Le(w,G[X],N||b.handleEvent,!1,b.h||b);if(!ce)break;b.g[ce.key]=ce}b=h.J?z(h.J):{},h.u?(h.v||(h.v="POST"),b["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,b)):(h.v="GET",h.g.ea(h.B,h.v,null,b)),ks(),Hf(h.i,h.v,h.B,h.l,h.S,h.u)}cs.prototype.ba=function(h){h=h.target;const b=this.O;b&&fs(h)==3?b.j():this.Y(h)},cs.prototype.Y=function(h){try{if(h==this.g)e:{const je=fs(this.g),_t=this.g.ya(),Xe=this.g.ca();if(!(je<3)&&(je!=3||this.g&&(this.h.h||this.g.la()||Jt(this.g)))){this.K||je!=4||_t==7||(_t==8||Xe<=0?ks(3):ks(2)),Os(this);var b=this.g.ca();this.X=b;var w=Gf(this);if(this.o=b==200,Du(this.i,this.v,this.B,this.l,this.S,je,b),this.o){if(this.U&&!this.L){t:{if(this.g){var N,G=this.g;if((N=G.g?G.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(N)){var X=N;break t}}X=null}if(h=X)js(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ps(this,h);else{this.o=!1,this.m=3,Ct(12),kn(this),Fn(this);break e}}if(this.R){h=!0;let dt;for(;!this.K&&this.C<w.length;)if(dt=Vu(this,w),dt==qt){je==4&&(this.m=4,Ct(14),h=!1),js(this.i,this.l,null,"[Incomplete Response]");break}else if(dt==Nt){this.m=4,Ct(15),js(this.i,this.l,w,"[Invalid Chunk]"),h=!1;break}else js(this.i,this.l,dt,null),Ps(this,dt);if(Mu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),je!=4||w.length!=0||this.h.h||(this.m=1,Ct(16),h=!1),this.o=this.o&&h,!h)js(this.i,this.l,w,"[Invalid Chunked Response]"),kn(this),Fn(this);else if(w.length>0&&!this.W){this.W=!0;var ce=this.j;ce.g==this&&ce.aa&&!ce.P&&(ce.j.info("Great, no buffering proxy detected. Bytes received: "+w.length),Ul(ce),ce.P=!0,Ct(11))}}else js(this.i,this.l,w,null),Ps(this,w);je==4&&kn(this),this.o&&!this.K&&(je==4?qu(this.j,this):(this.o=!1,Vs(this)))}else di(this.g),b==400&&w.indexOf("Unknown SID")>0?(this.m=3,Ct(12)):(this.m=0,Ct(13)),kn(this),Fn(this)}}}catch{}};function Gf(h){if(!Mu(h))return h.g.la();const b=Jt(h.g);if(b==="")return"";let w="";const N=b.length,G=fs(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return kn(h),Fn(h),"";h.h.i=new u.TextDecoder}for(let X=0;X<N;X++)h.h.h=!0,w+=h.h.i.decode(b[X],{stream:!(G&&X==N-1)});return b.length=0,h.h.g+=w,h.C=0,h.h.g}function Mu(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Vu(h,b){var w=h.C,N=b.indexOf(`
`,w);return N==-1?qt:(w=Number(b.substring(w,N)),isNaN(w)?Nt:(N+=1,N+w>b.length?qt:(b=b.slice(N,N+w),h.C=N+w,b)))}cs.prototype.cancel=function(){this.K=!0,kn(this)};function Vs(h){h.T=Date.now()+h.H,$a(h,h.H)}function $a(h,b){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Ds(p(h.aa,h),b)}function Os(h){h.D&&(u.clearTimeout(h.D),h.D=null)}cs.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Wr(this.i,this.B),this.M!=2&&(ks(),Ct(17)),kn(this),this.m=2,Fn(this)):$a(this,this.T-h)};function Fn(h){h.j.I==0||h.K||qu(h.j,h)}function kn(h){Os(h);var b=h.O;b&&typeof b.dispose=="function"&&b.dispose(),h.O=null,Tl(h.V),h.g&&(b=h.g,h.g=null,b.abort(),b.dispose())}function Ps(h,b){try{var w=h.j;if(w.I!=0&&(w.g==h||Us(w.h,h))){if(!h.L&&Us(w.h,h)&&w.I==3){try{var N=w.Ba.g.parse(b)}catch{N=null}if(Array.isArray(N)&&N.length==3){var G=N;if(G[0]==0){e:if(!w.v){if(w.g)if(w.g.F+3e3<h.F)eo(w),Wi(w);else break e;oa(w),Ct(18)}}else w.xa=G[1],0<w.xa-w.K&&G[2]<37500&&w.F&&w.A==0&&!w.C&&(w.C=Ds(p(w.Va,w),6e3));Ls(w.h)<=1&&w.ta&&(w.ta=void 0)}else Gs(w,11)}else if((h.L||w.g==h)&&eo(w),!D(b))for(G=w.Ba.g.parse(b),b=0;b<G.length;b++){let Xe=G[b];const dt=Xe[0];if(!(dt<=w.K))if(w.K=dt,Xe=Xe[1],w.I==2)if(Xe[0]=="c"){w.M=Xe[1],w.ba=Xe[2];const Gn=Xe[3];Gn!=null&&(w.ka=Gn,w.j.info("VER="+w.ka));const $s=Xe[4];$s!=null&&(w.za=$s,w.j.info("SVER="+w.za));const ms=Xe[5];ms!=null&&typeof ms=="number"&&ms>0&&(N=1.5*ms,w.O=N,w.j.info("backChannelRequestTimeoutMs_="+N)),N=w;const ps=h.g;if(ps){const la=ps.g?ps.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(la){var X=N.h;X.g||la.indexOf("spdy")==-1&&la.indexOf("quic")==-1&&la.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(Cl(X,X.h),X.h=null))}if(N.G){const to=ps.g?ps.g.getResponseHeader("X-HTTP-Session-Id"):null;to&&(N.wa=to,Ze(N.J,N.G,to))}}w.I=3,w.l&&w.l.ra(),w.aa&&(w.T=Date.now()-h.F,w.j.info("Handshake RTT: "+w.T+"ms")),N=w;var ce=h;if(N.na=Ku(N,N.L?N.ba:null,N.W),ce.L){Nl(N.h,ce);var je=ce,_t=N.O;_t&&(je.H=_t),je.D&&(Os(je),Vs(je)),N.g=ce}else Fu(N);w.i.length>0&&qs(w)}else Xe[0]!="stop"&&Xe[0]!="close"||Gs(w,7);else w.I==3&&(Xe[0]=="stop"||Xe[0]=="close"?Xe[0]=="stop"?Gs(w,7):Pl(w):Xe[0]!="noop"&&w.l&&w.l.qa(Xe),w.A=0)}}ks(4)}catch{}}var Rt=class{constructor(h,b){this.g=h,this.map=b}};function Sl(h){this.l=h||10,u.PerformanceNavigationTiming?(h=u.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Al(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Ls(h){return h.h?1:h.g?h.g.size:0}function Us(h,b){return h.h?h.h==b:h.g?h.g.has(b):!1}function Cl(h,b){h.g?h.g.add(b):h.h=b}function Nl(h,b){h.h&&h.h==b?h.h=null:h.g&&h.g.has(b)&&h.g.delete(b)}Sl.prototype.cancel=function(){if(this.i=Rl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Rl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let b=h.i;for(const w of h.g.values())b=b.concat(w.G);return b}return A(h.i)}var Ou=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ka(h,b){if(h){h=h.split("&");for(let w=0;w<h.length;w++){const N=h[w].indexOf("=");let G,X=null;N>=0?(G=h[w].substring(0,N),X=h[w].substring(N+1)):G=h[w],b(G,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function In(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let b;h instanceof In?(this.l=h.l,Gt(this,h.j),this.o=h.o,this.g=h.g,qi(this,h.u),this.h=h.h,kl(this,zu(h.i)),this.m=h.m):h&&(b=String(h).match(Ou))?(this.l=!1,Gt(this,b[1]||"",!0),this.o=zs(b[2]||""),this.g=zs(b[3]||"",!0),qi(this,b[4]),this.h=zs(b[5]||"",!0),kl(this,b[6]||"",!0),this.m=zs(b[7]||"")):(this.l=!1,this.i=new $i(null,this.l))}In.prototype.toString=function(){const h=[];var b=this.j;b&&h.push(ta(b,Ya,!0),":");var w=this.g;return(w||b=="file")&&(h.push("//"),(b=this.o)&&h.push(ta(b,Ya,!0),"@"),h.push(ui(w).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.u,w!=null&&h.push(":",String(w))),(w=this.h)&&(this.g&&w.charAt(0)!="/"&&h.push("/"),h.push(ta(w,w.charAt(0)=="/"?Il:Pu,!0))),(w=this.i.toString())&&h.push("?",w),(w=this.m)&&h.push("#",ta(w,Lu)),h.join("")},In.prototype.resolve=function(h){const b=kt(this);let w=!!h.j;w?Gt(b,h.j):w=!!h.o,w?b.o=h.o:w=!!h.g,w?b.g=h.g:w=h.u!=null;var N=h.h;if(w)qi(b,h.u);else if(w=!!h.h){if(N.charAt(0)!="/")if(this.g&&!this.h)N="/"+N;else{var G=b.h.lastIndexOf("/");G!=-1&&(N=b.h.slice(0,G+1)+N)}if(G=N,G==".."||G==".")N="";else if(G.indexOf("./")!=-1||G.indexOf("/.")!=-1){N=G.lastIndexOf("/",0)==0,G=G.split("/");const X=[];for(let ce=0;ce<G.length;){const je=G[ce++];je=="."?N&&ce==G.length&&X.push(""):je==".."?((X.length>1||X.length==1&&X[0]!="")&&X.pop(),N&&ce==G.length&&X.push("")):(X.push(je),N=!0)}N=X.join("/")}else N=G}return w?b.h=N:w=h.i.toString()!=="",w?kl(b,zu(h.i)):w=!!h.m,w&&(b.m=h.m),b};function kt(h){return new In(h)}function Gt(h,b,w){h.j=w?zs(b,!0):b,h.j&&(h.j=h.j.replace(/:$/,""))}function qi(h,b){if(b){if(b=Number(b),isNaN(b)||b<0)throw Error("Bad port number "+b);h.u=b}else h.u=null}function kl(h,b,w){b instanceof $i?(h.i=b,Xa(h.i,h.l)):(w||(b=ta(b,Gi)),h.i=new $i(b,h.l))}function Ze(h,b,w){h.i.set(b,w)}function ea(h){return Ze(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function zs(h,b){return h?b?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function ta(h,b,w){return typeof h=="string"?(h=encodeURI(h).replace(b,_n),w&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function _n(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Ya=/[#\/\?@]/g,Pu=/[#\?:]/g,Il=/[#\?]/g,Gi=/[#\?@]/g,Lu=/#/g;function $i(h,b){this.h=this.g=null,this.i=h||null,this.j=!!b}function Tn(h){h.g||(h.g=new Map,h.h=0,h.i&&Ka(h.i,function(b,w){h.add(decodeURIComponent(b.replace(/\+/g," ")),w)}))}t=$i.prototype,t.add=function(h,b){Tn(this),this.i=null,h=Ki(this,h);let w=this.g.get(h);return w||this.g.set(h,w=[]),w.push(b),this.h+=1,this};function Uu(h,b){Tn(h),b=Ki(h,b),h.g.has(b)&&(h.i=null,h.h-=h.g.get(b).length,h.g.delete(b))}function Dl(h,b){return Tn(h),b=Ki(h,b),h.g.has(b)}t.forEach=function(h,b){Tn(this),this.g.forEach(function(w,N){w.forEach(function(G){h.call(b,G,N,this)},this)},this)};function jl(h,b){Tn(h);let w=[];if(typeof b=="string")Dl(h,b)&&(w=w.concat(h.g.get(Ki(h,b))));else for(h=Array.from(h.g.values()),b=0;b<h.length;b++)w=w.concat(h[b]);return w}t.set=function(h,b){return Tn(this),this.i=null,h=Ki(this,h),Dl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[b]),this.h+=1,this},t.get=function(h,b){return h?(h=jl(this,h),h.length>0?String(h[0]):b):b};function Qa(h,b,w){Uu(h,b),w.length>0&&(h.i=null,h.g.set(Ki(h,b),A(w)),h.h+=w.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],b=Array.from(this.g.keys());for(let N=0;N<b.length;N++){var w=b[N];const G=ui(w);w=jl(this,w);for(let X=0;X<w.length;X++){let ce=G;w[X]!==""&&(ce+="="+ui(w[X])),h.push(ce)}}return this.i=h.join("&")};function zu(h){const b=new $i;return b.i=h.i,h.g&&(b.g=new Map(h.g),b.h=h.h),b}function Ki(h,b){return b=String(b),h.j&&(b=b.toLowerCase()),b}function Xa(h,b){b&&!h.j&&(Tn(h),h.i=null,h.g.forEach(function(w,N){const G=N.toLowerCase();N!=G&&(Uu(this,N),Qa(this,G,w))},h)),h.j=b}function hs(h,b){const w=new ls;if(u.Image){const N=new Image;N.onload=v(Hn,w,"TestLoadImage: loaded",!0,b,N),N.onerror=v(Hn,w,"TestLoadImage: error",!1,b,N),N.onabort=v(Hn,w,"TestLoadImage: abort",!1,b,N),N.ontimeout=v(Hn,w,"TestLoadImage: timeout",!1,b,N),u.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=h}else b(!1)}function Ml(h,b){const w=new ls,N=new AbortController,G=setTimeout(()=>{N.abort(),Hn(w,"TestPingServer: timeout",!1,b)},1e4);fetch(h,{signal:N.signal}).then(X=>{clearTimeout(G),X.ok?Hn(w,"TestPingServer: ok",!0,b):Hn(w,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(G),Hn(w,"TestPingServer: error",!1,b)})}function Hn(h,b,w,N,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),N(w)}catch{}}function Yi(){this.g=new Cu}function Bs(h){this.i=h.Sb||null,this.h=h.ab||!1}x(Bs,Nu),Bs.prototype.g=function(){return new na(this.i,this.h)};function na(h,b){At.call(this),this.H=h,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}x(na,At),t=na.prototype,t.open=function(h,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=b,this.readyState=1,ds(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const b={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(b.body=h),(this.H||u).fetch(new Request(this.D,b)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Qi(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,ds(this)),this.g&&(this.readyState=3,ds(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Wa(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Wa(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var b=h.value?h.value:new Uint8Array(0);(b=this.B.decode(b,{stream:!h.done}))&&(this.response=this.responseText+=b)}h.done?Qi(this):ds(this),this.readyState==3&&Wa(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,Qi(this))},t.Na=function(h){this.g&&(this.response=h,Qi(this))},t.ga=function(){this.g&&Qi(this)};function Qi(h){h.readyState=4,h.l=null,h.j=null,h.B=null,ds(h)}t.setRequestHeader=function(h,b){this.A.append(h,b)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],b=this.h.entries();for(var w=b.next();!w.done;)w=w.value,h.push(w[0]+": "+w[1]),w=b.next();return h.join(`\r
`)};function ds(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(na.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function qn(h){let b="";return Ae(h,function(w,N){b+=N,b+=":",b+=w,b+=`\r
`}),b}function sa(h,b,w){e:{for(N in w){var N=!1;break e}N=!0}N||(w=qn(w),typeof h=="string"?w!=null&&ui(w):Ze(h,b,w))}function nt(h){At.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}x(nt,At);var Fs=/^https?$/i,Vl=["POST","PUT"];t=nt.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,b,w,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);b=b?b.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():El.g(),this.g.onreadystatechange=T(p(this.Ca,this));try{this.B=!0,this.g.open(b,String(h),!0),this.B=!1}catch(X){ia(this,X);return}if(h=w||"",w=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var G in N)w.set(G,N[G]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const X of N.keys())w.set(X,N.get(X));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(w.keys()).find(X=>X.toLowerCase()=="content-type"),G=u.FormData&&h instanceof u.FormData,!(Array.prototype.indexOf.call(Vl,b,void 0)>=0)||N||G||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,ce]of w)this.g.setRequestHeader(X,ce);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(X){ia(this,X)}};function ia(h,b){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=b,h.o=5,Ol(h),hi(h)}function Ol(h){h.A||(h.A=!0,Ut(h,"complete"),Ut(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Ut(this,"complete"),Ut(this,"abort"),hi(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hi(this,!0)),nt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?ra(this):this.Xa())},t.Xa=function(){ra(this)};function ra(h){if(h.h&&typeof l<"u"){if(h.v&&fs(h)==4)setTimeout(h.Ca.bind(h),0);else if(Ut(h,"readystatechange"),fs(h)==4){h.h=!1;try{const X=h.ca();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var w;if(!(w=b)){var N;if(N=X===0){let ce=String(h.D).match(Ou)[1]||null;!ce&&u.self&&u.self.location&&(ce=u.self.location.protocol.slice(0,-1)),N=!Fs.test(ce?ce.toLowerCase():"")}w=N}if(w)Ut(h,"complete"),Ut(h,"success");else{h.o=6;try{var G=fs(h)>2?h.g.statusText:""}catch{G=""}h.l=G+" ["+h.ca()+"]",Ol(h)}}finally{hi(h)}}}}function hi(h,b){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const w=h.g;h.g=null,b||Ut(h,"ready");try{w.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function fs(h){return h.g?h.g.readyState:0}t.ca=function(){try{return fs(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var b=this.g.responseText;return h&&b.indexOf(h)==0&&(b=b.substring(h.length)),Ff(b)}};function Jt(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function di(h){const b={};h=(h.g&&fs(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<h.length;N++){if(D(h[N]))continue;var w=ju(h[N]);const G=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const X=b[G]||[];b[G]=X,X.push(w)}Ve(b,function(N){return N.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Hs(h,b,w){return w&&w.internalChannelParams&&w.internalChannelParams[h]||b}function Xi(h){this.za=0,this.i=[],this.j=new ls,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Hs("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Hs("baseRetryDelayMs",5e3,h),this.Za=Hs("retryDelaySeedMs",1e4,h),this.Ta=Hs("forwardChannelMaxRetries",2,h),this.va=Hs("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Sl(h&&h.concurrentRequestLimit),this.Ba=new Yi,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Xi.prototype,t.ka=8,t.I=1,t.connect=function(h,b,w,N){Ct(0),this.W=h,this.H=b||{},w&&N!==void 0&&(this.H.OSID=w,this.H.OAID=N),this.F=this.X,this.J=Ku(this,null,this.W),qs(this)};function Pl(h){if(Ja(h),h.I==3){var b=h.V++,w=kt(h.J);if(Ze(w,"SID",h.M),Ze(w,"RID",b),Ze(w,"TYPE","terminate"),aa(h,w),b=new cs(h,h.j,b),b.M=2,b.A=ea(kt(w)),w=!1,u.navigator&&u.navigator.sendBeacon)try{w=u.navigator.sendBeacon(b.A.toString(),"")}catch{}!w&&u.Image&&(new Image().src=b.A,w=!0),w||(b.g=Yu(b.j,null),b.g.ea(b.A)),b.F=Date.now(),Vs(b)}$u(h)}function Wi(h){h.g&&(Ul(h),h.g.cancel(),h.g=null)}function Ja(h){Wi(h),h.v&&(u.clearTimeout(h.v),h.v=null),eo(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&u.clearTimeout(h.m),h.m=null)}function qs(h){if(!Al(h.h)&&!h.m){h.m=!0;var b=h.Ea;Z||E(),le||(Z(),le=!0),I.add(b,h),h.D=0}}function Za(h,b){return Ls(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=b.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Ds(p(h.Ea,h,b),Gu(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const G=new cs(this,this.j,h);let X=this.o;if(this.U&&(X?(X=z(X),ue(X,this.U)):X=this.U),this.u!==null||this.R||(G.J=X,X=null),this.S)e:{for(var b=0,w=0;w<this.i.length;w++){t:{var N=this.i[w];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(b+=N,b>4096){b=w;break e}if(b===4096||w===this.i.length-1){b=w+1;break e}}b=1e3}else b=1e3;b=Bu(this,G,b),w=kt(this.J),Ze(w,"RID",h),Ze(w,"CVER",22),this.G&&Ze(w,"X-HTTP-Session-Id",this.G),aa(this,w),X&&(this.R?b="headers="+ui(qn(X))+"&"+b:this.u&&sa(w,this.u,X)),Cl(this.h,G),this.Ra&&Ze(w,"TYPE","init"),this.S?(Ze(w,"$req",b),Ze(w,"SID","null"),G.U=!0,Ms(G,w,null)):Ms(G,w,b),this.I=2}}else this.I==3&&(h?Ll(this,h):this.i.length==0||Al(this.h)||Ll(this))};function Ll(h,b){var w;b?w=b.l:w=h.V++;const N=kt(h.J);Ze(N,"SID",h.M),Ze(N,"RID",w),Ze(N,"AID",h.K),aa(h,N),h.u&&h.o&&sa(N,h.u,h.o),w=new cs(h,h.j,w,h.D+1),h.u===null&&(w.J=h.o),b&&(h.i=b.G.concat(h.i)),b=Bu(h,w,1e3),w.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Cl(h.h,w),Ms(w,N,b)}function aa(h,b){h.H&&Ae(h.H,function(w,N){Ze(b,N,w)}),h.l&&Ae({},function(w,N){Ze(b,N,w)})}function Bu(h,b,w){w=Math.min(h.i.length,w);const N=h.l?p(h.l.Ka,h.l,h):null;e:{var G=h.i;let je=-1;for(;;){const _t=["count="+w];je==-1?w>0?(je=G[0].g,_t.push("ofs="+je)):je=0:_t.push("ofs="+je);let Xe=!0;for(let dt=0;dt<w;dt++){var X=G[dt].g;const Gn=G[dt].map;if(X-=je,X<0)je=Math.max(0,G[dt].g-100),Xe=!1;else try{X="req"+X+"_"||"";try{var ce=Gn instanceof Map?Gn:Object.entries(Gn);for(const[$s,ms]of ce){let ps=ms;d(ms)&&(ps=Hi(ms)),_t.push(X+$s+"="+encodeURIComponent(ps))}}catch($s){throw _t.push(X+"type="+encodeURIComponent("_badmap")),$s}}catch{N&&N(Gn)}}if(Xe){ce=_t.join("&");break e}}ce=void 0}return h=h.i.splice(0,w),b.G=h,ce}function Fu(h){if(!h.g&&!h.v){h.Y=1;var b=h.Da;Z||E(),le||(Z(),le=!0),I.add(b,h),h.A=0}}function oa(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Ds(p(h.Da,h),Gu(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,Hu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Ds(p(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ct(10),Wi(this),Hu(this))};function Ul(h){h.B!=null&&(u.clearTimeout(h.B),h.B=null)}function Hu(h){h.g=new cs(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var b=kt(h.na);Ze(b,"RID","rpc"),Ze(b,"SID",h.M),Ze(b,"AID",h.K),Ze(b,"CI",h.F?"0":"1"),!h.F&&h.ia&&Ze(b,"TO",h.ia),Ze(b,"TYPE","xmlhttp"),aa(h,b),h.u&&h.o&&sa(b,h.u,h.o),h.O&&(h.g.H=h.O);var w=h.g;h=h.ba,w.M=1,w.A=ea(kt(b)),w.u=null,w.R=!0,Ga(w,h)}t.Va=function(){this.C!=null&&(this.C=null,Wi(this),oa(this),Ct(19))};function eo(h){h.C!=null&&(u.clearTimeout(h.C),h.C=null)}function qu(h,b){var w=null;if(h.g==b){eo(h),Ul(h),h.g=null;var N=2}else if(Us(h.h,b))w=b.G,Nl(h.h,b),N=1;else return;if(h.I!=0){if(b.o)if(N==1){w=b.u?b.u.length:0,b=Date.now()-b.F;var G=h.D;N=qa(),Ut(N,new Is(N,w)),qs(h)}else Fu(h);else if(G=b.m,G==3||G==0&&b.X>0||!(N==1&&Za(h,b)||N==2&&oa(h)))switch(w&&w.length>0&&(b=h.h,b.i=b.i.concat(w)),G){case 1:Gs(h,5);break;case 4:Gs(h,10);break;case 3:Gs(h,6);break;default:Gs(h,2)}}}function Gu(h,b){let w=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(w*=2),w*b}function Gs(h,b){if(h.j.info("Error code "+b),b==2){var w=p(h.bb,h),N=h.Ua;const G=!N;N=new In(N||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Gt(N,"https"),ea(N),G?hs(N.toString(),w):Ml(N.toString(),w)}else Ct(2);h.I=0,h.l&&h.l.pa(b),$u(h),Ja(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Ct(2)):(this.j.info("Failed to ping google.com"),Ct(1))};function $u(h){if(h.I=0,h.ja=[],h.l){const b=Rl(h.h);(b.length!=0||h.i.length!=0)&&(M(h.ja,b),M(h.ja,h.i),h.h.i.length=0,A(h.i),h.i.length=0),h.l.oa()}}function Ku(h,b,w){var N=w instanceof In?kt(w):new In(w);if(N.g!="")b&&(N.g=b+"."+N.g),qi(N,N.u);else{var G=u.location;N=G.protocol,b=b?b+"."+G.hostname:G.hostname,G=+G.port;const X=new In(null);N&&Gt(X,N),b&&(X.g=b),G&&qi(X,G),w&&(X.h=w),N=X}return w=h.G,b=h.wa,w&&b&&Ze(N,w,b),Ze(N,"VER",h.ka),aa(h,N),N}function Yu(h,b,w){if(b&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return b=h.Aa&&!h.ma?new nt(new Bs({ab:w})):new nt(h.ma),b.Fa(h.L),b}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Qu(){}t=Qu.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Ji(){}Ji.prototype.g=function(h,b){return new gn(h,b)};function gn(h,b){At.call(this),this.g=new Xi(b),this.l=h,this.h=b&&b.messageUrlParams||null,h=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(h?h["X-WebChannel-Content-Type"]=b.messageContentType:h={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.sa&&(h?h["X-WebChannel-Client-Profile"]=b.sa:h={"X-WebChannel-Client-Profile":b.sa}),this.g.U=h,(h=b&&b.Qb)&&!D(h)&&(this.g.u=h),this.A=b&&b.supportsCrossDomainXhr||!1,this.v=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!D(b)&&(this.g.G=b,h=this.h,h!==null&&b in h&&(h=this.h,b in h&&delete h[b])),this.j=new fi(this)}x(gn,At),gn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Pl(this.g)},gn.prototype.o=function(h){var b=this.g;if(typeof h=="string"){var w={};w.__data__=h,h=w}else this.v&&(w={},w.__data__=Hi(h),h=w);b.i.push(new Rt(b.Ya++,h)),b.I==3&&qs(b)},gn.prototype.N=function(){this.g.l=null,delete this.j,Pl(this.g),delete this.g,gn.Z.N.call(this)};function Xu(h){Wt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var b=h.__sm__;if(b){e:{for(const w in b){h=w;break e}h=void 0}(this.i=h)&&(h=this.i,b=b!==null&&h in b?b[h]:void 0),this.data=b}else this.data=h}x(Xu,Wt);function Wu(){Bn.call(this),this.status=1}x(Wu,Bn);function fi(h){this.g=h}x(fi,Qu),fi.prototype.ra=function(){Ut(this.g,"a")},fi.prototype.qa=function(h){Ut(this.g,new Xu(h))},fi.prototype.pa=function(h){Ut(this.g,new Wu)},fi.prototype.oa=function(){Ut(this.g,"b")},Ji.prototype.createWebChannel=Ji.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,GA=function(){return new Ji},qA=function(){return qa()},HA=xt,o0={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Jr.NO_ERROR=0,Jr.TIMEOUT=8,Jr.HTTP_ERROR=6,Cd=Jr,wl.COMPLETE="complete",FA=wl,Ru.EventType=os,os.OPEN="a",os.CLOSE="b",os.ERROR="c",os.MESSAGE="d",At.prototype.listen=At.prototype.J,Nc=Ru,nt.prototype.listenOnce=nt.prototype.K,nt.prototype.getLastError=nt.prototype.Ha,nt.prototype.getLastErrorCode=nt.prototype.ya,nt.prototype.getStatus=nt.prototype.ca,nt.prototype.getResponseJson=nt.prototype.La,nt.prototype.getResponseText=nt.prototype.la,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Fa,BA=nt}).apply(typeof od<"u"?od:typeof self<"u"?self:typeof window<"u"?window:{});let hn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};hn.UNAUTHENTICATED=new hn(null),hn.GOOGLE_CREDENTIALS=new hn("google-credentials-uid"),hn.FIRST_PARTY=new hn("first-party-uid"),hn.MOCK_USER=new hn("mock-user");let fl="12.9.0";function qV(t){fl=t}const La=new my("@firebase/firestore");function jo(){return La.logLevel}function me(t,...e){if(La.logLevel<=He.DEBUG){const n=e.map(Cy);La.debug(`Firestore (${fl}): ${t}`,...n)}}function Pi(t,...e){if(La.logLevel<=He.ERROR){const n=e.map(Cy);La.error(`Firestore (${fl}): ${t}`,...n)}}function Ua(t,...e){if(La.logLevel<=He.WARN){const n=e.map(Cy);La.warn(`Firestore (${fl}): ${t}`,...n)}}function Cy(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Se(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,$A(t,i,n)}function $A(t,e,n){let i=`FIRESTORE (${fl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw Pi(i),new Error(i)}function Je(t,e,n,i){let a="Unexpected state";typeof n=="string"?a=n:i=n,t||$A(e,a,i)}function De(t,e){return t}const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends zi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class jr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class KA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class GV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(hn.UNAUTHENTICATED)))}shutdown(){}}class $V{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class KV{constructor(e){this.t=e,this.currentUser=hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Je(this.o===void 0,42304);let i=this.i;const a=m=>this.i!==i?(i=this.i,n(m)):Promise.resolve();let l=new jr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new jr,e.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const m=l;e.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},d=m=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((m=>d(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new jr)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Je(typeof i.accessToken=="string",31837,{l:i}),new KA(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Je(e===null||typeof e=="string",2055,{h:e}),new hn(e)}}class YV{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=hn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class QV{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new YV(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(hn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class zT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class XV{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,_s(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Je(this.o===void 0,3512);const i=l=>{l.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,me("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>i(l)))};const a=l=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new zT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Je(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new zT(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function WV(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}class Ny{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=WV(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<n&&(i+=e.charAt(a[l]%62))}return i}}function qe(t,e){return t<e?-1:t>e?1:0}function l0(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const a=t.charAt(i),l=e.charAt(i);if(a!==l)return vg(a)===vg(l)?qe(a,l):vg(a)?1:-1}return qe(t.length,e.length)}const JV=55296,ZV=57343;function vg(t){const e=t.charCodeAt(0);return e>=JV&&e<=ZV}function Jo(t,e,n){return t.length===e.length&&t.every(((i,a)=>n(i,e[a])))}const BT="__name__";class Zs{constructor(e,n,i){n===void 0?n=0:n>e.length&&Se(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&Se(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Zs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Zs?e.forEach((i=>{n.push(i)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let a=0;a<i;a++){const l=Zs.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return qe(e.length,n.length)}static compareSegments(e,n){const i=Zs.isNumericId(e),a=Zs.isNumericId(n);return i&&!a?-1:!i&&a?1:i&&a?Zs.extractNumericId(e).compare(Zs.extractNumericId(n)):l0(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Dr.fromString(e.substring(4,e.length-2))}}class ot extends Zs{construct(e,n,i){return new ot(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new fe(se.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((a=>a.length>0)))}return new ot(n)}static emptyPath(){return new ot([])}}const eO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class an extends Zs{construct(e,n,i){return new an(e,n,i)}static isValidIdentifier(e){return eO.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),an.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===BT}static keyField(){return new an([BT])}static fromServerFormat(e){const n=[];let i="",a=0;const l=()=>{if(i.length===0)throw new fe(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let u=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new fe(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new fe(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=m,a+=2}else d==="`"?(u=!u,a++):d!=="."||u?(i+=d,a++):(l(),a++)}if(l(),u)throw new fe(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new an(n)}static emptyPath(){return new an([])}}class xe{constructor(e){this.path=e}static fromPath(e){return new xe(ot.fromString(e))}static fromName(e){return new xe(ot.fromString(e).popFirst(5))}static empty(){return new xe(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ot.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new xe(new ot(e.slice()))}}function YA(t,e,n){if(!n)throw new fe(se.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function tO(t,e,n,i){if(e===!0&&i===!0)throw new fe(se.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function FT(t){if(!xe.isDocumentKey(t))throw new fe(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function HT(t){if(xe.isDocumentKey(t))throw new fe(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function QA(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function wf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Se(12329,{type:typeof t})}function ss(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new fe(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=wf(t);throw new fe(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function nO(t,e){if(e<=0)throw new fe(se.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}function Lt(t,e){const n={typeString:t};return e&&(n.value=e),n}function vu(t,e){if(!QA(t))throw new fe(se.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const a=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const u=t[i];if(a&&typeof u!==a){n=`JSON field '${i}' must be a ${a}.`;break}if(l!==void 0&&u!==l.value){n=`Expected '${i}' field to equal '${l.value}'`;break}}if(n)throw new fe(se.INVALID_ARGUMENT,n);return!0}const qT=-62135596800,GT=1e6;class ht{static now(){return ht.fromMillis(Date.now())}static fromDate(e){return ht.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*GT);return new ht(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<qT)throw new fe(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/GT}_compareTo(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ht._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(vu(e,ht._jsonSchema))return new ht(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-qT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ht._jsonSchemaVersion="firestore/timestamp/1.0",ht._jsonSchema={type:Lt("string",ht._jsonSchemaVersion),seconds:Lt("number"),nanoseconds:Lt("number")};class ke{static fromTimestamp(e){return new ke(e)}static min(){return new ke(new ht(0,0))}static max(){return new ke(new ht(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Xc=-1;function sO(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,a=ke.fromTimestamp(i===1e9?new ht(n+1,0):new ht(n,i));return new Pr(a,xe.empty(),e)}function iO(t){return new Pr(t.readTime,t.key,Xc)}class Pr{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Pr(ke.min(),xe.empty(),Xc)}static max(){return new Pr(ke.max(),xe.empty(),Xc)}}function rO(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=xe.comparator(t.documentKey,e.documentKey),n!==0?n:qe(t.largestBatchId,e.largestBatchId))}const aO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class oO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function ml(t){if(t.code!==se.FAILED_PRECONDITION||t.message!==aO)throw t;me("LocalStore","Unexpectedly lost primary lease")}class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new re(((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(i,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof re?n:re.resolve(n)}catch(n){return re.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):re.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):re.reject(n)}static resolve(e){return new re(((n,i)=>{n(e)}))}static reject(e){return new re(((n,i)=>{i(e)}))}static waitFor(e){return new re(((n,i)=>{let a=0,l=0,u=!1;e.forEach((d=>{++a,d.next((()=>{++l,u&&l===a&&n()}),(m=>i(m)))})),u=!0,l===a&&n()}))}static or(e){let n=re.resolve(!1);for(const i of e)n=n.next((a=>a?re.resolve(a):i()));return n}static forEach(e,n){const i=[];return e.forEach(((a,l)=>{i.push(n.call(this,a,l))})),this.waitFor(i)}static mapArray(e,n){return new re(((i,a)=>{const l=e.length,u=new Array(l);let d=0;for(let m=0;m<l;m++){const p=m;n(e[p]).next((v=>{u[p]=v,++d,d===l&&i(u)}),(v=>a(v)))}}))}static doWhile(e,n){return new re(((i,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):i()};l()}))}}function lO(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function pl(t){return t.name==="IndexedDbTransactionError"}class Ef{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ef.ce=-1;const Ry=-1;function Sf(t){return t==null}function Xd(t){return t===0&&1/t==-1/0}function cO(t){return typeof t=="number"&&Number.isInteger(t)&&!Xd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const XA="";function uO(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=$T(e)),e=hO(t.get(n),e);return $T(e)}function hO(t,e){let n=e;const i=t.length;for(let a=0;a<i;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case XA:n+="";break;default:n+=l}}return n}function $T(t){return t+XA+""}function KT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Gr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function WA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class gt{constructor(e,n){this.comparator=e,this.root=n||rn.EMPTY}insert(e,n){return new gt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,rn.BLACK,null,null))}remove(e){return new gt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return n+i.left.size;a<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,i)=>(e(n,i),!1)))}toString(){const e=[];return this.inorderTraversal(((n,i)=>(e.push(`${n}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ld(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ld(this.root,e,this.comparator,!1)}getReverseIterator(){return new ld(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ld(this.root,e,this.comparator,!0)}}class ld{constructor(e,n,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?i(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class rn{constructor(e,n,i,a,l){this.key=e,this.value=n,this.color=i??rn.RED,this.left=a??rn.EMPTY,this.right=l??rn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,a,l){return new rn(e??this.key,n??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,i),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return rn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return rn.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,rn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,rn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}rn.EMPTY=null,rn.RED=!0,rn.BLACK=!1;rn.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,n,i,a,l){return this}insert(e,n,i){return new rn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ht{constructor(e){this.comparator=e,this.data=new gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,i)=>(e(n),!1)))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new YT(this.data.getIterator())}getIteratorFrom(e){return new YT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((i=>{n=n.add(i)})),n}isEqual(e){if(!(e instanceof Ht)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Ht(this.comparator);return n.data=e,n}}class YT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Un{constructor(e){this.fields=e,e.sort(an.comparator)}static empty(){return new Un([])}unionWith(e){let n=new Ht(an.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Un(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Jo(this.fields,e.fields,((n,i)=>n.isEqual(i)))}}class JA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class on{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new JA("Invalid base64 string: "+l):l}})(e);return new on(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l})(e);return new on(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}on.EMPTY_BYTE_STRING=new on("");const dO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Lr(t){if(Je(!!t,39018),typeof t=="string"){let e=0;const n=dO.exec(t);if(Je(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Et(t.seconds),nanos:Et(t.nanos)}}function Et(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ur(t){return typeof t=="string"?on.fromBase64String(t):on.fromUint8Array(t)}const ZA="server_timestamp",e2="__type__",t2="__previous_value__",n2="__local_write_time__";function ky(t){return(t?.mapValue?.fields||{})[e2]?.stringValue===ZA}function Af(t){const e=t.mapValue.fields[t2];return ky(e)?Af(e):e}function Wc(t){const e=Lr(t.mapValue.fields[n2].timestampValue);return new ht(e.seconds,e.nanos)}class fO{constructor(e,n,i,a,l,u,d,m,p,v,x){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=v,this.apiKey=x}}const Wd="(default)";class Jc{constructor(e,n){this.projectId=e,this.database=n||Wd}static empty(){return new Jc("","")}get isDefaultDatabase(){return this.database===Wd}isEqual(e){return e instanceof Jc&&e.projectId===this.projectId&&e.database===this.database}}function mO(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new fe(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Jc(t.options.projectId,e)}const s2="__type__",pO="__max__",cd={mapValue:{}},i2="__vector__",Jd="value";function zr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ky(t)?4:yO(t)?9007199254740991:gO(t)?10:11:Se(28295,{value:t})}function oi(t,e){if(t===e)return!0;const n=zr(t);if(n!==zr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Wc(t).isEqual(Wc(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=Lr(a.timestampValue),d=Lr(l.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return Ur(a.bytesValue).isEqual(Ur(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return Et(a.geoPointValue.latitude)===Et(l.geoPointValue.latitude)&&Et(a.geoPointValue.longitude)===Et(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Et(a.integerValue)===Et(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=Et(a.doubleValue),d=Et(l.doubleValue);return u===d?Xd(u)===Xd(d):isNaN(u)&&isNaN(d)}return!1})(t,e);case 9:return Jo(t.arrayValue.values||[],e.arrayValue.values||[],oi);case 10:case 11:return(function(a,l){const u=a.mapValue.fields||{},d=l.mapValue.fields||{};if(KT(u)!==KT(d))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(d[m]===void 0||!oi(u[m],d[m])))return!1;return!0})(t,e);default:return Se(52216,{left:t})}}function Zc(t,e){return(t.values||[]).find((n=>oi(n,e)))!==void 0}function Zo(t,e){if(t===e)return 0;const n=zr(t),i=zr(e);if(n!==i)return qe(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return qe(t.booleanValue,e.booleanValue);case 2:return(function(l,u){const d=Et(l.integerValue||l.doubleValue),m=Et(u.integerValue||u.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1})(t,e);case 3:return QT(t.timestampValue,e.timestampValue);case 4:return QT(Wc(t),Wc(e));case 5:return l0(t.stringValue,e.stringValue);case 6:return(function(l,u){const d=Ur(l),m=Ur(u);return d.compareTo(m)})(t.bytesValue,e.bytesValue);case 7:return(function(l,u){const d=l.split("/"),m=u.split("/");for(let p=0;p<d.length&&p<m.length;p++){const v=qe(d[p],m[p]);if(v!==0)return v}return qe(d.length,m.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,u){const d=qe(Et(l.latitude),Et(u.latitude));return d!==0?d:qe(Et(l.longitude),Et(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return XT(t.arrayValue,e.arrayValue);case 10:return(function(l,u){const d=l.fields||{},m=u.fields||{},p=d[Jd]?.arrayValue,v=m[Jd]?.arrayValue,x=qe(p?.values?.length||0,v?.values?.length||0);return x!==0?x:XT(p,v)})(t.mapValue,e.mapValue);case 11:return(function(l,u){if(l===cd.mapValue&&u===cd.mapValue)return 0;if(l===cd.mapValue)return 1;if(u===cd.mapValue)return-1;const d=l.fields||{},m=Object.keys(d),p=u.fields||{},v=Object.keys(p);m.sort(),v.sort();for(let x=0;x<m.length&&x<v.length;++x){const T=l0(m[x],v[x]);if(T!==0)return T;const A=Zo(d[m[x]],p[v[x]]);if(A!==0)return A}return qe(m.length,v.length)})(t.mapValue,e.mapValue);default:throw Se(23264,{he:n})}}function QT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return qe(t,e);const n=Lr(t),i=Lr(e),a=qe(n.seconds,i.seconds);return a!==0?a:qe(n.nanos,i.nanos)}function XT(t,e){const n=t.values||[],i=e.values||[];for(let a=0;a<n.length&&a<i.length;++a){const l=Zo(n[a],i[a]);if(l)return l}return qe(n.length,i.length)}function el(t){return c0(t)}function c0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const i=Lr(n);return`time(${i.seconds},${i.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Ur(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return xe.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let i="[",a=!0;for(const l of n.values||[])a?a=!1:i+=",",i+=c0(l);return i+"]"})(t.arrayValue):"mapValue"in t?(function(n){const i=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const u of i)l?l=!1:a+=",",a+=`${u}:${c0(n.fields[u])}`;return a+"}"})(t.mapValue):Se(61005,{value:t})}function Nd(t){switch(zr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Af(t);return e?16+Nd(e):16;case 5:return 2*t.stringValue.length;case 6:return Ur(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((a,l)=>a+Nd(l)),0)})(t.arrayValue);case 10:case 11:return(function(i){let a=0;return Gr(i.fields,((l,u)=>{a+=l.length+Nd(u)})),a})(t.mapValue);default:throw Se(13486,{value:t})}}function WT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function u0(t){return!!t&&"integerValue"in t}function Iy(t){return!!t&&"arrayValue"in t}function JT(t){return!!t&&"nullValue"in t}function ZT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Rd(t){return!!t&&"mapValue"in t}function gO(t){return(t?.mapValue?.fields||{})[s2]?.stringValue===i2}function Lc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Gr(t.mapValue.fields,((n,i)=>e.mapValue.fields[n]=Lc(i))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Lc(t.arrayValue.values[n]);return e}return{...t}}function yO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===pO}class Rn{constructor(e){this.value=e}static empty(){return new Rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Rd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Lc(n)}setAll(e){let n=an.emptyPath(),i={},a=[];e.forEach(((u,d)=>{if(!n.isImmediateParentOf(d)){const m=this.getFieldsMap(n);this.applyChanges(m,i,a),i={},a=[],n=d.popLast()}u?i[d.lastSegment()]=Lc(u):a.push(d.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,i,a)}delete(e){const n=this.field(e.popLast());Rd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return oi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=n.mapValue.fields[e.get(i)];Rd(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,i){Gr(n,((a,l)=>e[a]=l));for(const a of i)delete e[a]}clone(){return new Rn(Lc(this.value))}}function r2(t){const e=[];return Gr(t.fields,((n,i)=>{const a=new an([n]);if(Rd(i)){const l=r2(i.mapValue).fields;if(l.length===0)e.push(a);else for(const u of l)e.push(a.child(u))}else e.push(a)})),new Un(e)}class dn{constructor(e,n,i,a,l,u,d){this.key=e,this.documentType=n,this.version=i,this.readTime=a,this.createTime=l,this.data=u,this.documentState=d}static newInvalidDocument(e){return new dn(e,0,ke.min(),ke.min(),ke.min(),Rn.empty(),0)}static newFoundDocument(e,n,i,a){return new dn(e,1,n,ke.min(),i,a,0)}static newNoDocument(e,n){return new dn(e,2,n,ke.min(),ke.min(),Rn.empty(),0)}static newUnknownDocument(e,n){return new dn(e,3,n,ke.min(),ke.min(),Rn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Zd{constructor(e,n){this.position=e,this.inclusive=n}}function ew(t,e,n){let i=0;for(let a=0;a<t.position.length;a++){const l=e[a],u=t.position[a];if(l.field.isKeyField()?i=xe.comparator(xe.fromName(u.referenceValue),n.key):i=Zo(u,n.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function tw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!oi(t.position[n],e.position[n]))return!1;return!0}class eu{constructor(e,n="asc"){this.field=e,this.dir=n}}function vO(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class a2{}class Pt extends a2{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new xO(e,n,i):n==="array-contains"?new wO(e,i):n==="in"?new EO(e,i):n==="not-in"?new SO(e,i):n==="array-contains-any"?new AO(e,i):new Pt(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new _O(e,i):new TO(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Zo(n,this.value)):n!==null&&zr(this.value)===zr(n)&&this.matchesComparison(Zo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ns extends a2{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ns(e,n)}matches(e){return o2(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function o2(t){return t.op==="and"}function l2(t){return bO(t)&&o2(t)}function bO(t){for(const e of t.filters)if(e instanceof Ns)return!1;return!0}function h0(t){if(t instanceof Pt)return t.field.canonicalString()+t.op.toString()+el(t.value);if(l2(t))return t.filters.map((e=>h0(e))).join(",");{const e=t.filters.map((n=>h0(n))).join(",");return`${t.op}(${e})`}}function c2(t,e){return t instanceof Pt?(function(i,a){return a instanceof Pt&&i.op===a.op&&i.field.isEqual(a.field)&&oi(i.value,a.value)})(t,e):t instanceof Ns?(function(i,a){return a instanceof Ns&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce(((l,u,d)=>l&&c2(u,a.filters[d])),!0):!1})(t,e):void Se(19439)}function u2(t){return t instanceof Pt?(function(n){return`${n.field.canonicalString()} ${n.op} ${el(n.value)}`})(t):t instanceof Ns?(function(n){return n.op.toString()+" {"+n.getFilters().map(u2).join(" ,")+"}"})(t):"Filter"}class xO extends Pt{constructor(e,n,i){super(e,n,i),this.key=xe.fromName(i.referenceValue)}matches(e){const n=xe.comparator(e.key,this.key);return this.matchesComparison(n)}}class _O extends Pt{constructor(e,n){super(e,"in",n),this.keys=h2("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class TO extends Pt{constructor(e,n){super(e,"not-in",n),this.keys=h2("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function h2(t,e){return(e.arrayValue?.values||[]).map((n=>xe.fromName(n.referenceValue)))}class wO extends Pt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Iy(n)&&Zc(n.arrayValue,this.value)}}class EO extends Pt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Zc(this.value.arrayValue,n)}}class SO extends Pt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Zc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Zc(this.value.arrayValue,n)}}class AO extends Pt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Iy(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>Zc(this.value.arrayValue,i)))}}class CO{constructor(e,n=null,i=[],a=[],l=null,u=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=u,this.endAt=d,this.Te=null}}function nw(t,e=null,n=[],i=[],a=null,l=null,u=null){return new CO(t,e,n,i,a,l,u)}function Dy(t){const e=De(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((i=>h0(i))).join(","),n+="|ob:",n+=e.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),Sf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((i=>el(i))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((i=>el(i))).join(",")),e.Te=n}return e.Te}function jy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!vO(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!c2(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!tw(t.startAt,e.startAt)&&tw(t.endAt,e.endAt)}function d0(t){return xe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class gl{constructor(e,n=null,i=[],a=[],l=null,u="F",d=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=u,this.startAt=d,this.endAt=m,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function NO(t,e,n,i,a,l,u,d){return new gl(t,e,n,i,a,l,u,d)}function My(t){return new gl(t)}function sw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function RO(t){return xe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function d2(t){return t.collectionGroup!==null}function Uc(t){const e=De(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new Ht(an.comparator);return u.filters.forEach((m=>{m.getFlattenedFilters().forEach((p=>{p.isInequality()&&(d=d.add(p.field))}))})),d})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new eu(l,i))})),n.has(an.keyField().canonicalString())||e.Ie.push(new eu(an.keyField(),i))}return e.Ie}function ni(t){const e=De(t);return e.Ee||(e.Ee=kO(e,Uc(t))),e.Ee}function kO(t,e){if(t.limitType==="F")return nw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new eu(a.field,l)}));const n=t.endAt?new Zd(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Zd(t.startAt.position,t.startAt.inclusive):null;return nw(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function f0(t,e){const n=t.filters.concat([e]);return new gl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function IO(t,e){const n=t.explicitOrderBy.concat([e]);return new gl(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function ef(t,e,n){return new gl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Cf(t,e){return jy(ni(t),ni(e))&&t.limitType===e.limitType}function f2(t){return`${Dy(ni(t))}|lt:${t.limitType}`}function Mo(t){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((a=>u2(a))).join(", ")}]`),Sf(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((a=>el(a))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((a=>el(a))).join(",")),`Target(${i})`})(ni(t))}; limitType=${t.limitType})`}function Nf(t,e){return e.isFoundDocument()&&(function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):xe.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(t,e)&&(function(i,a){for(const l of Uc(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(i,a){return!(i.startAt&&!(function(u,d,m){const p=ew(u,d,m);return u.inclusive?p<=0:p<0})(i.startAt,Uc(i),a)||i.endAt&&!(function(u,d,m){const p=ew(u,d,m);return u.inclusive?p>=0:p>0})(i.endAt,Uc(i),a))})(t,e)}function DO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function m2(t){return(e,n)=>{let i=!1;for(const a of Uc(t)){const l=jO(a,e,n);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function jO(t,e,n){const i=t.field.isKeyField()?xe.comparator(e.key,n.key):(function(l,u,d){const m=u.data.field(l),p=d.data.field(l);return m!==null&&p!==null?Zo(m,p):Se(42886)})(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Se(19790,{direction:t.dir})}}class Ba{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[n]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Gr(this.inner,((n,i)=>{for(const[a,l]of i)e(a,l)}))}isEmpty(){return WA(this.inner)}size(){return this.innerSize}}const MO=new gt(xe.comparator);function Li(){return MO}const p2=new gt(xe.comparator);function Rc(...t){let e=p2;for(const n of t)e=e.insert(n.key,n);return e}function g2(t){let e=p2;return t.forEach(((n,i)=>e=e.insert(n,i.overlayedDocument))),e}function ka(){return zc()}function y2(){return zc()}function zc(){return new Ba((t=>t.toString()),((t,e)=>t.isEqual(e)))}const VO=new gt(xe.comparator),OO=new Ht(xe.comparator);function Ge(...t){let e=OO;for(const n of t)e=e.add(n);return e}const PO=new Ht(qe);function LO(){return PO}function Vy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xd(e)?"-0":e}}function v2(t){return{integerValue:""+t}}function UO(t,e){return cO(e)?v2(e):Vy(t,e)}class Rf{constructor(){this._=void 0}}function zO(t,e,n){return t instanceof tu?(function(a,l){const u={fields:{[e2]:{stringValue:ZA},[n2]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&ky(l)&&(l=Af(l)),l&&(u.fields[t2]=l),{mapValue:u}})(n,e):t instanceof nu?x2(t,e):t instanceof su?_2(t,e):(function(a,l){const u=b2(a,l),d=iw(u)+iw(a.Ae);return u0(u)&&u0(a.Ae)?v2(d):Vy(a.serializer,d)})(t,e)}function BO(t,e,n){return t instanceof nu?x2(t,e):t instanceof su?_2(t,e):n}function b2(t,e){return t instanceof tf?(function(i){return u0(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(e)?e:{integerValue:0}:null}class tu extends Rf{}class nu extends Rf{constructor(e){super(),this.elements=e}}function x2(t,e){const n=T2(e);for(const i of t.elements)n.some((a=>oi(a,i)))||n.push(i);return{arrayValue:{values:n}}}class su extends Rf{constructor(e){super(),this.elements=e}}function _2(t,e){let n=T2(e);for(const i of t.elements)n=n.filter((a=>!oi(a,i)));return{arrayValue:{values:n}}}class tf extends Rf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function iw(t){return Et(t.integerValue||t.doubleValue)}function T2(t){return Iy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class FO{constructor(e,n){this.field=e,this.transform=n}}function HO(t,e){return t.field.isEqual(e.field)&&(function(i,a){return i instanceof nu&&a instanceof nu||i instanceof su&&a instanceof su?Jo(i.elements,a.elements,oi):i instanceof tf&&a instanceof tf?oi(i.Ae,a.Ae):i instanceof tu&&a instanceof tu})(t.transform,e.transform)}class qO{constructor(e,n){this.version=e,this.transformResults=n}}class is{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new is}static exists(e){return new is(void 0,e)}static updateTime(e){return new is(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function kd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class kf{}function w2(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Oy(t.key,is.none()):new bu(t.key,t.data,is.none());{const n=t.data,i=Rn.empty();let a=new Ht(an.comparator);for(let l of e.fields)if(!a.has(l)){let u=n.field(l);u===null&&l.length>1&&(l=l.popLast(),u=n.field(l)),u===null?i.delete(l):i.set(l,u),a=a.add(l)}return new $r(t.key,i,new Un(a.toArray()),is.none())}}function GO(t,e,n){t instanceof bu?(function(a,l,u){const d=a.value.clone(),m=aw(a.fieldTransforms,l,u.transformResults);d.setAll(m),l.convertToFoundDocument(u.version,d).setHasCommittedMutations()})(t,e,n):t instanceof $r?(function(a,l,u){if(!kd(a.precondition,l))return void l.convertToUnknownDocument(u.version);const d=aw(a.fieldTransforms,l,u.transformResults),m=l.data;m.setAll(E2(a)),m.setAll(d),l.convertToFoundDocument(u.version,m).setHasCommittedMutations()})(t,e,n):(function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function Bc(t,e,n,i){return t instanceof bu?(function(l,u,d,m){if(!kd(l.precondition,u))return d;const p=l.value.clone(),v=ow(l.fieldTransforms,m,u);return p.setAll(v),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null})(t,e,n,i):t instanceof $r?(function(l,u,d,m){if(!kd(l.precondition,u))return d;const p=ow(l.fieldTransforms,m,u),v=u.data;return v.setAll(E2(l)),v.setAll(p),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((x=>x.field)))})(t,e,n,i):(function(l,u,d){return kd(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d})(t,e,n)}function $O(t,e){let n=null;for(const i of t.fieldTransforms){const a=e.data.field(i.field),l=b2(i.transform,a||null);l!=null&&(n===null&&(n=Rn.empty()),n.set(i.field,l))}return n||null}function rw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&Jo(i,a,((l,u)=>HO(l,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class bu extends kf{constructor(e,n,i,a=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class $r extends kf{constructor(e,n,i,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function E2(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}})),e}function aw(t,e,n){const i=new Map;Je(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let a=0;a<n.length;a++){const l=t[a],u=l.transform,d=e.data.field(l.field);i.set(l.field,BO(u,d,n[a]))}return i}function ow(t,e,n){const i=new Map;for(const a of t){const l=a.transform,u=n.data.field(a.field);i.set(a.field,zO(l,u,e))}return i}class Oy extends kf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class KO extends kf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class YO{constructor(e,n,i,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&GO(l,e,i[a])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Bc(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Bc(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=y2();return this.mutations.forEach((a=>{const l=e.get(a.key),u=l.overlayedDocument;let d=this.applyToLocalView(u,l.mutatedFields);d=n.has(a.key)?null:d;const m=w2(u,d);m!==null&&i.set(a.key,m),u.isValidDocument()||u.convertToNoDocument(ke.min())})),i}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ge())}isEqual(e){return this.batchId===e.batchId&&Jo(this.mutations,e.mutations,((n,i)=>rw(n,i)))&&Jo(this.baseMutations,e.baseMutations,((n,i)=>rw(n,i)))}}class Py{constructor(e,n,i,a){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=a}static from(e,n,i){Je(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let a=(function(){return VO})();const l=e.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,i[u].version);return new Py(e,n,i,a)}}class QO{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class XO{constructor(e,n){this.count=e,this.unchangedNames=n}}var Vt,Ke;function WO(t){switch(t){case se.OK:return Se(64938);case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return Se(15467,{code:t})}}function S2(t){if(t===void 0)return Pi("GRPC error has no .code"),se.UNKNOWN;switch(t){case Vt.OK:return se.OK;case Vt.CANCELLED:return se.CANCELLED;case Vt.UNKNOWN:return se.UNKNOWN;case Vt.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case Vt.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case Vt.INTERNAL:return se.INTERNAL;case Vt.UNAVAILABLE:return se.UNAVAILABLE;case Vt.UNAUTHENTICATED:return se.UNAUTHENTICATED;case Vt.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case Vt.NOT_FOUND:return se.NOT_FOUND;case Vt.ALREADY_EXISTS:return se.ALREADY_EXISTS;case Vt.PERMISSION_DENIED:return se.PERMISSION_DENIED;case Vt.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case Vt.ABORTED:return se.ABORTED;case Vt.OUT_OF_RANGE:return se.OUT_OF_RANGE;case Vt.UNIMPLEMENTED:return se.UNIMPLEMENTED;case Vt.DATA_LOSS:return se.DATA_LOSS;default:return Se(39323,{code:t})}}(Ke=Vt||(Vt={}))[Ke.OK=0]="OK",Ke[Ke.CANCELLED=1]="CANCELLED",Ke[Ke.UNKNOWN=2]="UNKNOWN",Ke[Ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ke[Ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ke[Ke.NOT_FOUND=5]="NOT_FOUND",Ke[Ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ke[Ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ke[Ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ke[Ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ke[Ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ke[Ke.ABORTED=10]="ABORTED",Ke[Ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ke[Ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ke[Ke.INTERNAL=13]="INTERNAL",Ke[Ke.UNAVAILABLE=14]="UNAVAILABLE",Ke[Ke.DATA_LOSS=15]="DATA_LOSS";function JO(){return new TextEncoder}const ZO=new Dr([4294967295,4294967295],0);function lw(t){const e=JO().encode(t),n=new zA;return n.update(e),new Uint8Array(n.digest())}function cw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Dr([n,i],0),new Dr([a,l],0)]}class Ly{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new kc(`Invalid padding: ${n}`);if(i<0)throw new kc(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new kc(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new kc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Dr.fromNumber(this.ge)}ye(e,n,i){let a=e.add(n.multiply(Dr.fromNumber(i)));return a.compare(ZO)===1&&(a=new Dr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=lw(e),[i,a]=cw(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(i,a,l);if(!this.we(u))return!1}return!0}static create(e,n,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new Ly(l,a,n);return i.forEach((d=>u.insert(d))),u}insert(e){if(this.ge===0)return;const n=lw(e),[i,a]=cw(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(i,a,l);this.be(u)}}be(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class kc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class If{constructor(e,n,i,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const a=new Map;return a.set(e,xu.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new If(ke.min(),a,new gt(qe),Li(),Ge())}}class xu{constructor(e,n,i,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new xu(i,n,Ge(),Ge(),Ge())}}class Id{constructor(e,n,i,a){this.Se=e,this.removedTargetIds=n,this.key=i,this.De=a}}class A2{constructor(e,n){this.targetId=e,this.Ce=n}}class C2{constructor(e,n,i=on.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=a}}class uw{constructor(){this.ve=0,this.Fe=hw(),this.Me=on.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ge(),n=Ge(),i=Ge();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:i=i.add(a);break;default:Se(38017,{changeType:l})}})),new xu(this.Me,this.xe,e,n,i)}Ke(){this.Oe=!1,this.Fe=hw()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Je(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class eP{constructor(e){this.Ge=e,this.ze=new Map,this.je=Li(),this.He=ud(),this.Je=ud(),this.Ze=new gt(qe)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.We(),i.Ne||i.Ke(),i.Le(e.resumeToken);break;case 2:i.We(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.Qe(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:Se(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((i,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,i=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(d0(l))if(i===0){const u=new xe(l.path);this.et(n,u,dn.newNoDocument(u,ke.min()))}else Je(i===1,20013,{expectedCount:i});else{const u=this._t(n);if(u!==i){const d=this.ut(e),m=d?this.ct(d,e,u):1;if(m!==0){this.it(n);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=n;let u,d;try{u=Ur(i).toUint8Array()}catch(m){if(m instanceof JA)return Ua("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new Ly(u,a,l)}catch(m){return Ua(m instanceof kc?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.ge===0?null:d}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let a=0;return i.forEach((l=>{const u=this.Ge.ht(),d=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,u)=>{const d=this.ot(u);if(d){if(l.current&&d0(d.target)){const m=new xe(d.target.path);this.It(m).has(u)||this.Et(u,m)||this.et(u,m,dn.newNoDocument(m,e))}l.Be&&(n.set(u,l.ke()),l.Ke())}}));let i=Ge();this.Je.forEach(((l,u)=>{let d=!0;u.forEachWhile((m=>{const p=this.ot(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(i=i.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(e)));const a=new If(e,n,this.Ze,this.je,i);return this.je=Li(),this.He=ud(),this.Je=ud(),this.Ze=new gt(qe),a}Ye(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,i),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.qe(n,1):a.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new uw,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Ht(qe),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Ht(qe),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||me("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new uw),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function ud(){return new gt(xe.comparator)}function hw(){return new gt(xe.comparator)}const tP={asc:"ASCENDING",desc:"DESCENDING"},nP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sP={and:"AND",or:"OR"};class iP{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function m0(t,e){return t.useProto3Json||Sf(e)?e:{value:e}}function nf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function N2(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function rP(t,e){return nf(t,e.toTimestamp())}function si(t){return Je(!!t,49232),ke.fromTimestamp((function(n){const i=Lr(n);return new ht(i.seconds,i.nanos)})(t))}function Uy(t,e){return p0(t,e).canonicalString()}function p0(t,e){const n=(function(a){return new ot(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function R2(t){const e=ot.fromString(t);return Je(M2(e),10190,{key:e.toString()}),e}function g0(t,e){return Uy(t.databaseId,e.path)}function bg(t,e){const n=R2(e);if(n.get(1)!==t.databaseId.projectId)throw new fe(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new fe(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new xe(I2(n))}function k2(t,e){return Uy(t.databaseId,e)}function aP(t){const e=R2(t);return e.length===4?ot.emptyPath():I2(e)}function y0(t){return new ot(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function I2(t){return Je(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function dw(t,e,n){return{name:g0(t,e),fields:n.value.mapValue.fields}}function oP(t,e){let n;if("targetChange"in e){e.targetChange;const i=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Se(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(p,v){return p.useProto3Json?(Je(v===void 0||typeof v=="string",58123),on.fromBase64String(v||"")):(Je(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),on.fromUint8Array(v||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,d=u&&(function(p){const v=p.code===void 0?se.UNKNOWN:S2(p.code);return new fe(v,p.message||"")})(u);n=new C2(i,a,l,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=bg(t,i.document.name),l=si(i.document.updateTime),u=i.document.createTime?si(i.document.createTime):ke.min(),d=new Rn({mapValue:{fields:i.document.fields}}),m=dn.newFoundDocument(a,l,u,d),p=i.targetIds||[],v=i.removedTargetIds||[];n=new Id(p,v,m.key,m)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=bg(t,i.document),l=i.readTime?si(i.readTime):ke.min(),u=dn.newNoDocument(a,l),d=i.removedTargetIds||[];n=new Id([],d,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=bg(t,i.document),l=i.removedTargetIds||[];n=new Id([],l,a,null)}else{if(!("filter"in e))return Se(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,u=new XO(a,l),d=i.targetId;n=new A2(d,u)}}return n}function lP(t,e){let n;if(e instanceof bu)n={update:dw(t,e.key,e.value)};else if(e instanceof Oy)n={delete:g0(t,e.key)};else if(e instanceof $r)n={update:dw(t,e.key,e.data),updateMask:yP(e.fieldMask)};else{if(!(e instanceof KO))return Se(16599,{dt:e.type});n={verify:g0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((i=>(function(l,u){const d=u.transform;if(d instanceof tu)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof nu)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof su)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof tf)return{fieldPath:u.field.canonicalString(),increment:d.Ae};throw Se(20930,{transform:u.transform})})(0,i)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:rP(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Se(27497)})(t,e.precondition)),n}function cP(t,e){return t&&t.length>0?(Je(e!==void 0,14353),t.map((n=>(function(a,l){let u=a.updateTime?si(a.updateTime):si(l);return u.isEqual(ke.min())&&(u=si(l)),new qO(u,a.transformResults||[])})(n,e)))):[]}function uP(t,e){return{documents:[k2(t,e.path)]}}function hP(t,e){const n={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=k2(t,a);const l=(function(p){if(p.length!==0)return j2(Ns.create(p,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const u=(function(p){if(p.length!==0)return p.map((v=>(function(T){return{field:Vo(T.field),direction:mP(T.dir)}})(v)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const d=m0(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:a}}function dP(t){let e=aP(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let a=null;if(i>0){Je(i===1,65062);const v=n.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let l=[];n.where&&(l=(function(x){const T=D2(x);return T instanceof Ns&&l2(T)?T.getFilters():[T]})(n.where));let u=[];n.orderBy&&(u=(function(x){return x.map((T=>(function(M){return new eu(Oo(M.field),(function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(M.direction))})(T)))})(n.orderBy));let d=null;n.limit&&(d=(function(x){let T;return T=typeof x=="object"?x.value:x,Sf(T)?null:T})(n.limit));let m=null;n.startAt&&(m=(function(x){const T=!!x.before,A=x.values||[];return new Zd(A,T)})(n.startAt));let p=null;return n.endAt&&(p=(function(x){const T=!x.before,A=x.values||[];return new Zd(A,T)})(n.endAt)),NO(e,a,u,l,d,"F",m,p)}function fP(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function D2(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Oo(n.unaryFilter.field);return Pt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=Oo(n.unaryFilter.field);return Pt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Oo(n.unaryFilter.field);return Pt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Oo(n.unaryFilter.field);return Pt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Pt.create(Oo(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Ns.create(n.compositeFilter.filters.map((i=>D2(i))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Se(1026)}})(n.compositeFilter.op))})(t):Se(30097,{filter:t})}function mP(t){return tP[t]}function pP(t){return nP[t]}function gP(t){return sP[t]}function Vo(t){return{fieldPath:t.canonicalString()}}function Oo(t){return an.fromServerFormat(t.fieldPath)}function j2(t){return t instanceof Pt?(function(n){if(n.op==="=="){if(ZT(n.value))return{unaryFilter:{field:Vo(n.field),op:"IS_NAN"}};if(JT(n.value))return{unaryFilter:{field:Vo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ZT(n.value))return{unaryFilter:{field:Vo(n.field),op:"IS_NOT_NAN"}};if(JT(n.value))return{unaryFilter:{field:Vo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vo(n.field),op:pP(n.op),value:n.value}}})(t):t instanceof Ns?(function(n){const i=n.getFilters().map((a=>j2(a)));return i.length===1?i[0]:{compositeFilter:{op:gP(n.op),filters:i}}})(t):Se(54877,{filter:t})}function yP(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function M2(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function V2(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}class Cr{constructor(e,n,i,a,l=ke.min(),u=ke.min(),d=on.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(e){return new Cr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Cr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Cr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Cr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class vP{constructor(e){this.yt=e}}function bP(t){const e=dP({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ef(e,e.limit,"L"):e}class xP{constructor(){this.Sn=new _P}addToCollectionParentIndex(e,n){return this.Sn.add(n),re.resolve()}getCollectionParents(e,n){return re.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return re.resolve()}deleteFieldIndex(e,n){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,n){return re.resolve()}getDocumentsMatchingTarget(e,n){return re.resolve(null)}getIndexType(e,n){return re.resolve(0)}getFieldIndexes(e,n){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,n){return re.resolve(Pr.min())}getMinOffsetFromCollectionGroup(e,n){return re.resolve(Pr.min())}updateCollectionGroup(e,n,i){return re.resolve()}updateIndexEntries(e,n){return re.resolve()}}class _P{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n]||new Ht(ot.comparator),l=!a.has(i);return this.index[n]=a.add(i),l}has(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n];return a&&a.has(i)}getEntries(e){return(this.index[e]||new Ht(ot.comparator)).toArray()}}const fw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},O2=41943040;class Nn{static withCacheSize(e){return new Nn(e,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}Nn.DEFAULT_COLLECTION_PERCENTILE=10,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Nn.DEFAULT=new Nn(O2,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Nn.DISABLED=new Nn(-1,0,0);class tl{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new tl(0)}static ar(){return new tl(-1)}}const mw="LruGarbageCollector",TP=1048576;function pw([t,e],[n,i]){const a=qe(t,n);return a===0?qe(e,i):a}class wP{constructor(e){this.Pr=e,this.buffer=new Ht(pw),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();pw(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class EP{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){me(mw,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){pl(n)?me(mw,"Ignoring IndexedDB error during garbage collection: ",n):await ml(n)}await this.Ar(3e5)}))}}class SP{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(e,n){if(n===0)return re.resolve(Ef.ce);const i=new wP(n);return this.Vr.forEachTarget(e,(a=>i.Er(a.sequenceNumber))).next((()=>this.Vr.mr(e,(a=>i.Er(a))))).next((()=>i.maxValue))}removeTargets(e,n,i){return this.Vr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(fw)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),fw):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let i,a,l,u,d,m,p;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((x=>(x>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),a=this.params.maximumSequenceNumbersToCollect):a=x,u=Date.now(),this.nthSequenceNumber(e,a)))).next((x=>(i=x,d=Date.now(),this.removeTargets(e,i,n)))).next((x=>(l=x,m=Date.now(),this.removeOrphanedDocuments(e,i)))).next((x=>(p=Date.now(),jo()<=He.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${a} in `+(d-u)+`ms
	Removed ${l} targets in `+(m-d)+`ms
	Removed ${x} documents in `+(p-m)+`ms
Total Duration: ${p-v}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:x}))))}}function AP(t,e){return new SP(t,e)}class CP{constructor(){this.changes=new Ba((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,dn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?re.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class NP{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class RP{constructor(e,n,i,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(i=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(i!==null&&Bc(i.mutation,a,Un.empty(),ht.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.getLocalViewOfDocuments(e,i,Ge()).next((()=>i))))}getLocalViewOfDocuments(e,n,i=Ge()){const a=ka();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,i).next((l=>{let u=Rc();return l.forEach(((d,m)=>{u=u.insert(d,m.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const i=ka();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,Ge())))}populateOverlays(e,n,i){const a=[];return i.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((u,d)=>{n.set(u,d)}))}))}computeViews(e,n,i,a){let l=Li();const u=zc(),d=(function(){return zc()})();return n.forEach(((m,p)=>{const v=i.get(p.key);a.has(p.key)&&(v===void 0||v.mutation instanceof $r)?l=l.insert(p.key,p):v!==void 0?(u.set(p.key,v.mutation.getFieldMask()),Bc(v.mutation,p,v.mutation.getFieldMask(),ht.now())):u.set(p.key,Un.empty())})),this.recalculateAndSaveOverlays(e,l).next((m=>(m.forEach(((p,v)=>u.set(p,v))),n.forEach(((p,v)=>d.set(p,new NP(v,u.get(p)??null)))),d)))}recalculateAndSaveOverlays(e,n){const i=zc();let a=new gt(((u,d)=>u-d)),l=Ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const d of u)d.keys().forEach((m=>{const p=n.get(m);if(p===null)return;let v=i.get(m)||Un.empty();v=d.applyToLocalView(p,v),i.set(m,v);const x=(a.get(d.batchId)||Ge()).add(m);a=a.insert(d.batchId,x)}))})).next((()=>{const u=[],d=a.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),p=m.key,v=m.value,x=y2();v.forEach((T=>{if(!l.has(T)){const A=w2(n.get(T),i.get(T));A!==null&&x.set(T,A),l=l.add(T)}})),u.push(this.documentOverlayCache.saveOverlays(e,p,x))}return re.waitFor(u)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,n,i,a){return RO(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):d2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,a):this.getDocumentsMatchingCollectionQuery(e,n,i,a)}getNextDocuments(e,n,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,a).next((l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,a-l.size):re.resolve(ka());let d=Xc,m=l;return u.next((p=>re.forEach(p,((v,x)=>(d<x.largestBatchId&&(d=x.largestBatchId),l.get(v)?re.resolve():this.remoteDocumentCache.getEntry(e,v).next((T=>{m=m.insert(v,T)}))))).next((()=>this.populateOverlays(e,p,l))).next((()=>this.computeViews(e,m,p,Ge()))).next((v=>({batchId:d,changes:g2(v)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new xe(n)).next((i=>{let a=Rc();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,i,a){const l=n.collectionGroup;let u=Rc();return this.indexManager.getCollectionParents(e,l).next((d=>re.forEach(d,(m=>{const p=(function(x,T){return new gl(T,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)})(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,i,a).next((v=>{v.forEach(((x,T)=>{u=u.insert(x,T)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,l,a)))).next((u=>{l.forEach(((m,p)=>{const v=p.getKey();u.get(v)===null&&(u=u.insert(v,dn.newInvalidDocument(v)))}));let d=Rc();return u.forEach(((m,p)=>{const v=l.get(m);v!==void 0&&Bc(v.mutation,p,Un.empty(),ht.now()),Nf(n,p)&&(d=d.insert(m,p))})),d}))}}class kP{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return re.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:si(a.createTime)}})(n)),re.resolve()}getNamedQuery(e,n){return re.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(a){return{name:a.name,query:bP(a.bundledQuery),readTime:si(a.readTime)}})(n)),re.resolve()}}class IP{constructor(){this.overlays=new gt(xe.comparator),this.Lr=new Map}getOverlay(e,n){return re.resolve(this.overlays.get(n))}getOverlays(e,n){const i=ka();return re.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&i.set(a,l)})))).next((()=>i))}saveOverlays(e,n,i){return i.forEach(((a,l)=>{this.bt(e,n,l)})),re.resolve()}removeOverlaysForBatchId(e,n,i){const a=this.Lr.get(i);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(i)),re.resolve()}getOverlaysForCollection(e,n,i){const a=ka(),l=n.length+1,u=new xe(n.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const m=d.getNext().value,p=m.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>i&&a.set(m.getKey(),m)}return re.resolve(a)}getOverlaysForCollectionGroup(e,n,i,a){let l=new gt(((p,v)=>p-v));const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>i){let v=l.get(p.largestBatchId);v===null&&(v=ka(),l=l.insert(p.largestBatchId,v)),v.set(p.getKey(),p)}}const d=ka(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((p,v)=>d.set(p,v))),!(d.size()>=a)););return re.resolve(d)}bt(e,n,i){const a=this.overlays.get(i.key);if(a!==null){const u=this.Lr.get(a.largestBatchId).delete(i.key);this.Lr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new QO(n,i));let l=this.Lr.get(n);l===void 0&&(l=Ge(),this.Lr.set(n,l)),this.Lr.set(n,l.add(i.key))}}class DP{constructor(){this.sessionToken=on.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,re.resolve()}}class zy{constructor(){this.kr=new Ht(Kt.Kr),this.qr=new Ht(Kt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const i=new Kt(e,n);this.kr=this.kr.add(i),this.qr=this.qr.add(i)}$r(e,n){e.forEach((i=>this.addReference(i,n)))}removeReference(e,n){this.Wr(new Kt(e,n))}Qr(e,n){e.forEach((i=>this.removeReference(i,n)))}Gr(e){const n=new xe(new ot([])),i=new Kt(n,e),a=new Kt(n,e+1),l=[];return this.qr.forEachInRange([i,a],(u=>{this.Wr(u),l.push(u.key)})),l}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new xe(new ot([])),i=new Kt(n,e),a=new Kt(n,e+1);let l=Ge();return this.qr.forEachInRange([i,a],(u=>{l=l.add(u.key)})),l}containsKey(e){const n=new Kt(e,0),i=this.kr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class Kt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return xe.comparator(e.key,n.key)||qe(e.Hr,n.Hr)}static Ur(e,n){return qe(e.Hr,n.Hr)||xe.comparator(e.key,n.key)}}class jP{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Ht(Kt.Kr)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,a){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new YO(l,n,i,a);this.mutationQueue.push(u);for(const d of a)this.Jr=this.Jr.add(new Kt(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return re.resolve(u)}lookupMutationBatch(e,n){return re.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,a=this.Xr(i),l=a<0?0:a;return re.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?Ry:this.Yn-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new Kt(n,0),a=new Kt(n,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([i,a],(u=>{const d=this.Zr(u.Hr);l.push(d)})),re.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Ht(qe);return n.forEach((a=>{const l=new Kt(a,0),u=new Kt(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,u],(d=>{i=i.add(d.Hr)}))})),re.resolve(this.Yr(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,a=i.length+1;let l=i;xe.isDocumentKey(l)||(l=l.child(""));const u=new Kt(new xe(l),0);let d=new Ht(qe);return this.Jr.forEachWhile((m=>{const p=m.key.path;return!!i.isPrefixOf(p)&&(p.length===a&&(d=d.add(m.Hr)),!0)}),u),re.resolve(this.Yr(d))}Yr(e){const n=[];return e.forEach((i=>{const a=this.Zr(i);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){Je(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Jr;return re.forEach(n.mutations,(a=>{const l=new Kt(a.key,n.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Jr=i}))}nr(e){}containsKey(e,n){const i=new Kt(n,0),a=this.Jr.firstAfterOrEqual(i);return re.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class MP{constructor(e){this.ti=e,this.docs=(function(){return new gt(xe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,a=this.docs.get(i),l=a?a.size:0,u=this.ti(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return re.resolve(i?i.document.mutableCopy():dn.newInvalidDocument(n))}getEntries(e,n){let i=Li();return n.forEach((a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():dn.newInvalidDocument(a))})),re.resolve(i)}getDocumentsMatchingQuery(e,n,i,a){let l=Li();const u=n.path,d=new xe(u.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:p,value:{document:v}}=m.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||rO(iO(v),i)<=0||(a.has(v.key)||Nf(n,v))&&(l=l.insert(v.key,v.mutableCopy()))}return re.resolve(l)}getAllFromCollectionGroup(e,n,i,a){Se(9500)}ni(e,n){return re.forEach(this.docs,(i=>n(i)))}newChangeBuffer(e){return new VP(this)}getSize(e){return re.resolve(this.size)}}class VP extends CP{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((i,a)=>{a.isValidDocument()?n.push(this.Mr.addEntry(e,a)):this.Mr.removeEntry(i)})),re.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class OP{constructor(e){this.persistence=e,this.ri=new Ba((n=>Dy(n)),jy),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.ii=0,this.si=new zy,this.targetCount=0,this.oi=tl._r()}forEachTarget(e,n){return this.ri.forEach(((i,a)=>n(a))),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.ii&&(this.ii=n),re.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new tl(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,re.resolve()}updateTargetData(e,n){return this.lr(n),re.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,n,i){let a=0;const l=[];return this.ri.forEach(((u,d)=>{d.sequenceNumber<=n&&i.get(d.targetId)===null&&(this.ri.delete(u),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)})),re.waitFor(l).next((()=>a))}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,n){const i=this.ri.get(n)||null;return re.resolve(i)}addMatchingKeys(e,n,i){return this.si.$r(n,i),re.resolve()}removeMatchingKeys(e,n,i){this.si.Qr(n,i);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((u=>{l.push(a.markPotentiallyOrphaned(e,u))})),re.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),re.resolve()}getMatchingKeysForTargetId(e,n){const i=this.si.jr(n);return re.resolve(i)}containsKey(e,n){return re.resolve(this.si.containsKey(n))}}class P2{constructor(e,n){this._i={},this.overlays={},this.ai=new Ef(0),this.ui=!1,this.ui=!0,this.ci=new DP,this.referenceDelegate=e(this),this.li=new OP(this),this.indexManager=new xP,this.remoteDocumentCache=(function(a){return new MP(a)})((i=>this.referenceDelegate.hi(i))),this.serializer=new vP(n),this.Pi=new kP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new IP,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this._i[e.toKey()];return i||(i=new jP(n,this.referenceDelegate),this._i[e.toKey()]=i),i}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,i){me("MemoryPersistence","Starting transaction:",e);const a=new PP(this.ai.next());return this.referenceDelegate.Ti(),i(a).next((l=>this.referenceDelegate.Ii(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ei(e,n){return re.or(Object.values(this._i).map((i=>()=>i.containsKey(e,n))))}}class PP extends oO{constructor(e){super(),this.currentSequenceNumber=e}}class By{constructor(e){this.persistence=e,this.Ri=new zy,this.Ai=null}static Vi(e){return new By(e)}get di(){if(this.Ai)return this.Ai;throw Se(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.di.delete(i.toString()),re.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.di.add(i.toString()),re.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),re.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((a=>this.di.add(a.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.di.add(l.toString())))})).next((()=>i.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.di,(i=>{const a=xe.fromPath(i);return this.mi(e,a).next((l=>{l||n.removeEntry(a,ke.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((i=>{i?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return re.or([()=>re.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class sf{constructor(e,n){this.persistence=e,this.fi=new Ba((i=>uO(i.path)),((i,a)=>i.isEqual(a))),this.garbageCollector=AP(this,n)}static Vi(e,n){return new sf(e,n)}Ti(){}Ii(e){return re.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>n.next((a=>i+a))))}pr(e){let n=0;return this.mr(e,(i=>{n++})).next((()=>n))}mr(e,n){return re.forEach(this.fi,((i,a)=>this.wr(e,i,a).next((l=>l?re.resolve():n(a)))))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ni(e,(u=>this.wr(e,u,n).next((d=>{d||(i++,l.removeEntry(u,ke.min()))})))).next((()=>l.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),re.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.fi.set(i,e.currentSequenceNumber),re.resolve()}removeReference(e,n,i){return this.fi.set(i,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),re.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Nd(e.data.value)),n}wr(e,n,i){return re.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.fi.get(n);return re.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Fy{constructor(e,n,i,a){this.targetId=e,this.fromCache=n,this.Ts=i,this.Is=a}static Es(e,n){let i=Ge(),a=Ge();for(const l of n.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Fy(e,n.fromCache,i,a)}}class LP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class UP{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return wM()?8:lO(mn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,a){const l={result:null};return this.gs(e,n).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ps(e,n,a,i).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new LP;return this.ys(e,n,u).next((d=>{if(l.result=d,this.As)return this.ws(e,n,u,d.size)}))})).next((()=>l.result))}ws(e,n,i,a){return i.documentReadCount<this.Vs?(jo()<=He.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",Mo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),re.resolve()):(jo()<=He.DEBUG&&me("QueryEngine","Query:",Mo(n),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.ds*a?(jo()<=He.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",Mo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ni(n))):re.resolve())}gs(e,n){if(sw(n))return re.resolve(null);let i=ni(n);return this.indexManager.getIndexType(e,i).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=ef(n,null,"F"),i=ni(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next((l=>{const u=Ge(...l);return this.fs.getDocuments(e,u).next((d=>this.indexManager.getMinOffset(e,i).next((m=>{const p=this.bs(n,d);return this.Ss(n,p,u,m.readTime)?this.gs(e,ef(n,null,"F")):this.Ds(e,p,n,m)}))))})))))}ps(e,n,i,a){return sw(n)||a.isEqual(ke.min())?re.resolve(null):this.fs.getDocuments(e,i).next((l=>{const u=this.bs(n,l);return this.Ss(n,u,i,a)?re.resolve(null):(jo()<=He.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Mo(n)),this.Ds(e,u,n,sO(a,Xc)).next((d=>d)))}))}bs(e,n){let i=new Ht(m2(e));return n.forEach(((a,l)=>{Nf(e,l)&&(i=i.add(l))})),i}Ss(e,n,i,a){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}ys(e,n,i){return jo()<=He.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",Mo(n)),this.fs.getDocumentsMatchingQuery(e,n,Pr.min(),i)}Ds(e,n,i,a){return this.fs.getDocumentsMatchingQuery(e,i,a).next((l=>(n.forEach((u=>{l=l.insert(u.key,u)})),l)))}}const Hy="LocalStore",zP=3e8;class BP{constructor(e,n,i,a){this.persistence=e,this.Cs=n,this.serializer=a,this.vs=new gt(qe),this.Fs=new Ba((l=>Dy(l)),jy),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(i)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new RP(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function FP(t,e,n,i){return new BP(t,e,n,i)}async function L2(t,e){const n=De(t);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let a;return n.mutationQueue.getAllMutationBatches(i).next((l=>(a=l,n.Os(e),n.mutationQueue.getAllMutationBatches(i)))).next((l=>{const u=[],d=[];let m=Ge();for(const p of a){u.push(p.batchId);for(const v of p.mutations)m=m.add(v.key)}for(const p of l){d.push(p.batchId);for(const v of p.mutations)m=m.add(v.key)}return n.localDocuments.getDocuments(i,m).next((p=>({Ns:p,removedBatchIds:u,addedBatchIds:d})))}))}))}function HP(t,e){const n=De(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const a=e.batch.keys(),l=n.xs.newChangeBuffer({trackRemovals:!0});return(function(d,m,p,v){const x=p.batch,T=x.keys();let A=re.resolve();return T.forEach((M=>{A=A.next((()=>v.getEntry(m,M))).next((L=>{const P=p.docVersions.get(M);Je(P!==null,48541),L.version.compareTo(P)<0&&(x.applyToRemoteDocument(L,p),L.isValidDocument()&&(L.setReadTime(p.commitVersion),v.addEntry(L)))}))})),A.next((()=>d.mutationQueue.removeMutationBatch(m,x)))})(n,i,e,l).next((()=>l.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(d){let m=Ge();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(m=m.add(d.batch.mutations[p].key));return m})(e)))).next((()=>n.localDocuments.getDocuments(i,a)))}))}function U2(t){const e=De(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function qP(t,e){const n=De(t),i=e.snapshotVersion;let a=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=n.xs.newChangeBuffer({trackRemovals:!0});a=n.vs;const d=[];e.targetChanges.forEach(((v,x)=>{const T=a.get(x);if(!T)return;d.push(n.li.removeMatchingKeys(l,v.removedDocuments,x).next((()=>n.li.addMatchingKeys(l,v.addedDocuments,x))));let A=T.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(x)!==null?A=A.withResumeToken(on.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):v.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(v.resumeToken,i)),a=a.insert(x,A),(function(L,P,U){return L.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=zP?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0})(T,A,v)&&d.push(n.li.updateTargetData(l,A))}));let m=Li(),p=Ge();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(l,v))})),d.push(GP(l,u,e.documentUpdates).next((v=>{m=v.Bs,p=v.Ls}))),!i.isEqual(ke.min())){const v=n.li.getLastRemoteSnapshotVersion(l).next((x=>n.li.setTargetsMetadata(l,l.currentSequenceNumber,i)));d.push(v)}return re.waitFor(d).next((()=>u.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,m,p))).next((()=>m))})).then((l=>(n.vs=a,l)))}function GP(t,e,n){let i=Ge(),a=Ge();return n.forEach((l=>i=i.add(l))),e.getEntries(t,i).next((l=>{let u=Li();return n.forEach(((d,m)=>{const p=l.get(d);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(d)),m.isNoDocument()&&m.version.isEqual(ke.min())?(e.removeEntry(d,m.readTime),u=u.insert(d,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(m),u=u.insert(d,m)):me(Hy,"Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",m.version)})),{Bs:u,Ls:a}}))}function $P(t,e){const n=De(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=Ry),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function KP(t,e){const n=De(t);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let a;return n.li.getTargetData(i,e).next((l=>l?(a=l,re.resolve(a)):n.li.allocateTargetId(i).next((u=>(a=new Cr(e,u,"TargetPurposeListen",i.currentSequenceNumber),n.li.addTargetData(i,a).next((()=>a)))))))})).then((i=>{const a=n.vs.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.vs=n.vs.insert(i.targetId,i),n.Fs.set(e,i.targetId)),i}))}async function v0(t,e,n){const i=De(t),a=i.vs.get(e),l=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",l,(u=>i.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!pl(u))throw u;me(Hy,`Failed to update sequence numbers for target ${e}: ${u}`)}i.vs=i.vs.remove(e),i.Fs.delete(a.target)}function gw(t,e,n){const i=De(t);let a=ke.min(),l=Ge();return i.persistence.runTransaction("Execute query","readwrite",(u=>(function(m,p,v){const x=De(m),T=x.Fs.get(v);return T!==void 0?re.resolve(x.vs.get(T)):x.li.getTargetData(p,v)})(i,u,ni(e)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,i.li.getMatchingKeysForTargetId(u,d.targetId).next((m=>{l=m}))})).next((()=>i.Cs.getDocumentsMatchingQuery(u,e,n?a:ke.min(),n?l:Ge()))).next((d=>(YP(i,DO(e),d),{documents:d,ks:l})))))}function YP(t,e,n){let i=t.Ms.get(e)||ke.min();n.forEach(((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),t.Ms.set(e,i)}class yw{constructor(){this.activeTargetIds=LO()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class QP{constructor(){this.vo=new yw,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,i){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new yw,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class XP{Mo(e){}shutdown(){}}const vw="ConnectivityMonitor";class bw{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){me(vw,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){me(vw,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let hd=null;function b0(){return hd===null?hd=(function(){return 268435456+Math.round(2147483648*Math.random())})():hd++,"0x"+hd.toString(16)}const xg="RestConnection",WP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class JP{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${i}/databases/${a}`,this.$o=this.databaseId.database===Wd?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Wo(e,n,i,a,l){const u=b0(),d=this.Qo(e,n.toUriEncodedString());me(xg,`Sending RPC '${e}' ${u}:`,d,i);const m={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(m,a,l);const{host:p}=new URL(d),v=ul(p);return this.zo(e,d,m,i,v).then((x=>(me(xg,`Received RPC '${e}' ${u}: `,x),x)),(x=>{throw Ua(xg,`RPC '${e}' ${u} failed with error: `,x,"url: ",d,"request:",i),x}))}jo(e,n,i,a,l,u){return this.Wo(e,n,i,a,l)}Go(e,n,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+fl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),i&&i.headers.forEach(((a,l)=>e[l]=a))}Qo(e,n){const i=WP[e];let a=`${this.qo}/v1/${n}:${i}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}class ZP{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const un="WebChannelConnection",Ac=(t,e,n)=>{t.listen(e,(i=>{try{n(i)}catch(a){setTimeout((()=>{throw a}),0)}}))};class Ko extends JP{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Ko.c_){const e=qA();Ac(e,HA.STAT_EVENT,(n=>{n.stat===o0.PROXY?me(un,"STAT_EVENT: detected buffering proxy"):n.stat===o0.NOPROXY&&me(un,"STAT_EVENT: detected no buffering proxy")})),Ko.c_=!0}}zo(e,n,i,a,l){const u=b0();return new Promise(((d,m)=>{const p=new BA;p.setWithCredentials(!0),p.listenOnce(FA.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Cd.NO_ERROR:const x=p.getResponseJson();me(un,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(x)),d(x);break;case Cd.TIMEOUT:me(un,`RPC '${e}' ${u} timed out`),m(new fe(se.DEADLINE_EXCEEDED,"Request time out"));break;case Cd.HTTP_ERROR:const T=p.getStatus();if(me(un,`RPC '${e}' ${u} failed with status:`,T,"response text:",p.getResponseText()),T>0){let A=p.getResponseJson();Array.isArray(A)&&(A=A[0]);const M=A?.error;if(M&&M.status&&M.message){const L=(function(U){const F=U.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(F)>=0?F:se.UNKNOWN})(M.status);m(new fe(L,M.message))}else m(new fe(se.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new fe(se.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{l_:e,streamId:u,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{me(un,`RPC '${e}' ${u} completed.`)}}));const v=JSON.stringify(a);me(un,`RPC '${e}' ${u} sending request:`,a),p.send(n,"POST",v,i,15)}))}T_(e,n,i){const a=b0(),l=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=this.createWebChannelTransport(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(d.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Go(d.initMessageHeaders,n,i),d.encodeInitMessageHeaders=!0;const p=l.join("");me(un,`Creating RPC '${e}' stream ${a}: ${p}`,d);const v=u.createWebChannel(p,d);this.I_(v);let x=!1,T=!1;const A=new ZP({Ho:M=>{T?me(un,`Not sending because RPC '${e}' stream ${a} is closed:`,M):(x||(me(un,`Opening RPC '${e}' stream ${a} transport.`),v.open(),x=!0),me(un,`RPC '${e}' stream ${a} sending:`,M),v.send(M))},Jo:()=>v.close()});return Ac(v,Nc.EventType.OPEN,(()=>{T||(me(un,`RPC '${e}' stream ${a} transport opened.`),A.i_())})),Ac(v,Nc.EventType.CLOSE,(()=>{T||(T=!0,me(un,`RPC '${e}' stream ${a} transport closed`),A.o_(),this.E_(v))})),Ac(v,Nc.EventType.ERROR,(M=>{T||(T=!0,Ua(un,`RPC '${e}' stream ${a} transport errored. Name:`,M.name,"Message:",M.message),A.o_(new fe(se.UNAVAILABLE,"The operation could not be completed")))})),Ac(v,Nc.EventType.MESSAGE,(M=>{if(!T){const L=M.data[0];Je(!!L,16349);const P=L,U=P?.error||P[0]?.error;if(U){me(un,`RPC '${e}' stream ${a} received error:`,U);const F=U.status;let H=(function(le){const I=Vt[le];if(I!==void 0)return S2(I)})(F),ne=U.message;F==="NOT_FOUND"&&ne.includes("database")&&ne.includes("does not exist")&&ne.includes(this.databaseId.database)&&Ua(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),H===void 0&&(H=se.INTERNAL,ne="Unknown error status: "+F+" with message "+U.message),T=!0,A.o_(new fe(H,ne)),v.close()}else me(un,`RPC '${e}' stream ${a} received:`,L),A.__(L)}})),Ko.u_(),setTimeout((()=>{A.s_()}),0),A}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,i){super.Go(e,n,i),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return GA()}}function e9(t){return new Ko(t)}function _g(){return typeof document<"u"?document:null}function Df(t){return new iP(t,!0)}Ko.c_=!1;class z2{constructor(e,n,i=1e3,a=1.5,l=6e4){this.Ci=e,this.timerId=n,this.R_=i,this.A_=a,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-i);a>0&&me("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const xw="PersistentStream";class B2{constructor(e,n,i,a,l,u,d,m){this.Ci=e,this.b_=i,this.S_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new z2(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===se.RESOURCE_EXHAUSTED?(Pi(n.toString()),Pi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,a])=>{this.D_===n&&this.G_(i,a)}),(i=>{e((()=>{const a=new fe(se.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)}))}))}G_(e,n){const i=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{i((()=>this.listener.Zo()))})),this.stream.Yo((()=>{i((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{i((()=>this.z_(a)))})),this.stream.onMessage((a=>{i((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return me(xw,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(me(xw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class t9 extends B2{constructor(e,n,i,a,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,a,u),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=oP(this.serializer,e),i=(function(l){if(!("targetChange"in l))return ke.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?ke.min():u.readTime?si(u.readTime):ke.min()})(e);return this.listener.J_(n,i)}Z_(e){const n={};n.database=y0(this.serializer),n.addTarget=(function(l,u){let d;const m=u.target;if(d=d0(m)?{documents:uP(l,m)}:{query:hP(l,m).ft},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=N2(l,u.resumeToken);const p=m0(l,u.expectedCount);p!==null&&(d.expectedCount=p)}else if(u.snapshotVersion.compareTo(ke.min())>0){d.readTime=nf(l,u.snapshotVersion.toTimestamp());const p=m0(l,u.expectedCount);p!==null&&(d.expectedCount=p)}return d})(this.serializer,e);const i=fP(this.serializer,e);i&&(n.labels=i),this.K_(n)}X_(e){const n={};n.database=y0(this.serializer),n.removeTarget=e,this.K_(n)}}class n9 extends B2{constructor(e,n,i,a,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,a,u),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Je(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Je(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Je(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=cP(e.writeResults,e.commitTime),i=si(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=y0(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((i=>lP(this.serializer,i)))};this.K_(n)}}class s9{}class i9 extends s9{constructor(e,n,i,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new fe(se.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Wo(e,p0(n,i),a,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new fe(se.UNKNOWN,l.toString())}))}jo(e,n,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.jo(e,p0(n,i),a,u,d,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new fe(se.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function r9(t,e,n,i){return new i9(t,e,n,i)}class a9{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Pi(n),this.aa=!1):me("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const za="RemoteStore";class o9{constructor(e,n,i,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((u=>{i.enqueueAndForget((async()=>{Fa(this)&&(me(za,"Restarting streams for network reachability change."),await(async function(m){const p=De(m);p.Ea.add(4),await _u(p),p.Va.set("Unknown"),p.Ea.delete(4),await jf(p)})(this))}))})),this.Va=new a9(i,a)}}async function jf(t){if(Fa(t))for(const e of t.Ra)await e(!0)}async function _u(t){for(const e of t.Ra)await e(!1)}function F2(t,e){const n=De(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Ky(n)?$y(n):yl(n).O_()&&Gy(n,e))}function qy(t,e){const n=De(t),i=yl(n);n.Ia.delete(e),i.O_()&&H2(n,e),n.Ia.size===0&&(i.O_()?i.L_():Fa(n)&&n.Va.set("Unknown"))}function Gy(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}yl(t).Z_(e)}function H2(t,e){t.da.$e(e),yl(t).X_(e)}function $y(t){t.da=new eP({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),yl(t).start(),t.Va.ua()}function Ky(t){return Fa(t)&&!yl(t).x_()&&t.Ia.size>0}function Fa(t){return De(t).Ea.size===0}function q2(t){t.da=void 0}async function l9(t){t.Va.set("Online")}async function c9(t){t.Ia.forEach(((e,n)=>{Gy(t,e)}))}async function u9(t,e){q2(t),Ky(t)?(t.Va.ha(e),$y(t)):t.Va.set("Unknown")}async function h9(t,e,n){if(t.Va.set("Online"),e instanceof C2&&e.state===2&&e.cause)try{await(async function(a,l){const u=l.cause;for(const d of l.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,u),a.Ia.delete(d),a.da.removeTarget(d))})(t,e)}catch(i){me(za,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await rf(t,i)}else if(e instanceof Id?t.da.Xe(e):e instanceof A2?t.da.st(e):t.da.tt(e),!n.isEqual(ke.min()))try{const i=await U2(t.localStore);n.compareTo(i)>=0&&await(function(l,u){const d=l.da.Tt(u);return d.targetChanges.forEach(((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const v=l.Ia.get(p);v&&l.Ia.set(p,v.withResumeToken(m.resumeToken,u))}})),d.targetMismatches.forEach(((m,p)=>{const v=l.Ia.get(m);if(!v)return;l.Ia.set(m,v.withResumeToken(on.EMPTY_BYTE_STRING,v.snapshotVersion)),H2(l,m);const x=new Cr(v.target,m,p,v.sequenceNumber);Gy(l,x)})),l.remoteSyncer.applyRemoteEvent(d)})(t,n)}catch(i){me(za,"Failed to raise snapshot:",i),await rf(t,i)}}async function rf(t,e,n){if(!pl(e))throw e;t.Ea.add(1),await _u(t),t.Va.set("Offline"),n||(n=()=>U2(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{me(za,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await jf(t)}))}function G2(t,e){return e().catch((n=>rf(t,n,e)))}async function Mf(t){const e=De(t),n=Br(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ry;for(;d9(e);)try{const a=await $P(e.localStore,i);if(a===null){e.Ta.length===0&&n.L_();break}i=a.batchId,f9(e,a)}catch(a){await rf(e,a)}$2(e)&&K2(e)}function d9(t){return Fa(t)&&t.Ta.length<10}function f9(t,e){t.Ta.push(e);const n=Br(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function $2(t){return Fa(t)&&!Br(t).x_()&&t.Ta.length>0}function K2(t){Br(t).start()}async function m9(t){Br(t).ra()}async function p9(t){const e=Br(t);for(const n of t.Ta)e.ea(n.mutations)}async function g9(t,e,n){const i=t.Ta.shift(),a=Py.from(i,e,n);await G2(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await Mf(t)}async function y9(t,e){e&&Br(t).Y_&&await(async function(i,a){if((function(u){return WO(u)&&u!==se.ABORTED})(a.code)){const l=i.Ta.shift();Br(i).B_(),await G2(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Mf(i)}})(t,e),$2(t)&&K2(t)}async function _w(t,e){const n=De(t);n.asyncQueue.verifyOperationInProgress(),me(za,"RemoteStore received new credentials");const i=Fa(n);n.Ea.add(3),await _u(n),i&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await jf(n)}async function v9(t,e){const n=De(t);e?(n.Ea.delete(2),await jf(n)):e||(n.Ea.add(2),await _u(n),n.Va.set("Unknown"))}function yl(t){return t.ma||(t.ma=(function(n,i,a){const l=De(n);return l.sa(),new t9(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:l9.bind(null,t),Yo:c9.bind(null,t),t_:u9.bind(null,t),J_:h9.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),Ky(t)?$y(t):t.Va.set("Unknown")):(await t.ma.stop(),q2(t))}))),t.ma}function Br(t){return t.fa||(t.fa=(function(n,i,a){const l=De(n);return l.sa(),new n9(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:m9.bind(null,t),t_:y9.bind(null,t),ta:p9.bind(null,t),na:g9.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await Mf(t)):(await t.fa.stop(),t.Ta.length>0&&(me(za,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class Yy{constructor(e,n,i,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new jr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,a,l){const u=Date.now()+i,d=new Yy(e,n,u,a,l);return d.start(i),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Qy(t,e){if(Pi("AsyncQueue",`${e}: ${t}`),pl(t))return new fe(se.UNAVAILABLE,`${e}: ${t}`);throw t}class Yo{static emptySet(e){return new Yo(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||xe.comparator(n.key,i.key):(n,i)=>xe.comparator(n.key,i.key),this.keyedMap=Rc(),this.sortedSet=new gt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,i)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Yo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new Yo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}class Tw{constructor(){this.ga=new gt(xe.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Se(63341,{Vt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,i)=>{e.push(i)})),e}}class nl{constructor(e,n,i,a,l,u,d,m,p){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(e,n,i,a,l){const u=[];return n.forEach((d=>{u.push({type:0,doc:d})})),new nl(e,n,Yo.emptySet(n),u,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Cf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==i[a].type||!n[a].doc.isEqual(i[a].doc))return!1;return!0}}class b9{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class x9{constructor(){this.queries=ww(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const a=De(n),l=a.queries;a.queries=ww(),l.forEach(((u,d)=>{for(const m of d.ba)m.onError(i)}))})(this,new fe(se.ABORTED,"Firestore shutting down"))}}function ww(){return new Ba((t=>f2(t)),Cf)}async function Y2(t,e){const n=De(t);let i=3;const a=e.query;let l=n.queries.get(a);l?!l.Sa()&&e.Da()&&(i=2):(l=new b9,i=e.Da()?0:1);try{switch(i){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(u){const d=Qy(u,`Initialization of query '${Mo(e.query)}' failed`);return void e.onError(d)}n.queries.set(a,l),l.ba.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&Xy(n)}async function Q2(t,e){const n=De(t),i=e.query;let a=3;const l=n.queries.get(i);if(l){const u=l.ba.indexOf(e);u>=0&&(l.ba.splice(u,1),l.ba.length===0?a=e.Da()?0:1:!l.Sa()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function _9(t,e){const n=De(t);let i=!1;for(const a of e){const l=a.query,u=n.queries.get(l);if(u){for(const d of u.ba)d.Fa(a)&&(i=!0);u.wa=a}}i&&Xy(n)}function T9(t,e,n){const i=De(t),a=i.queries.get(e);if(a)for(const l of a.ba)l.onError(n);i.queries.delete(e)}function Xy(t){t.Ca.forEach((e=>{e.next()}))}var x0,Ew;(Ew=x0||(x0={})).Ma="default",Ew.Cache="cache";class X2{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new nl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.Ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=nl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==x0.Cache}}class W2{constructor(e){this.key=e}}class J2{constructor(e){this.key=e}}class w9{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ge(),this.mutatedKeys=Ge(),this.eu=m2(e),this.tu=new Yo(this.eu)}get nu(){return this.Za}ru(e,n){const i=n?n.iu:new Tw,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,u=a,d=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((v,x)=>{const T=a.get(v),A=Nf(this.query,x)?x:null,M=!!T&&this.mutatedKeys.has(T.key),L=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let P=!1;T&&A?T.data.isEqual(A.data)?M!==L&&(i.track({type:3,doc:A}),P=!0):this.su(T,A)||(i.track({type:2,doc:A}),P=!0,(m&&this.eu(A,m)>0||p&&this.eu(A,p)<0)&&(d=!0)):!T&&A?(i.track({type:0,doc:A}),P=!0):T&&!A&&(i.track({type:1,doc:T}),P=!0,(m||p)&&(d=!0)),P&&(A?(u=u.add(A),l=L?l.add(v):l.delete(v)):(u=u.delete(v),l=l.delete(v)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),l=l.delete(v.key),i.track({type:1,doc:v})}return{tu:u,iu:i,Ss:d,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((v,x)=>(function(A,M){const L=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Vt:P})}};return L(A)-L(M)})(v.type,x.type)||this.eu(v.doc,x.doc))),this.ou(i),a=a??!1;const d=n&&!a?this._u():[],m=this.Ya.size===0&&this.current&&!a?1:0,p=m!==this.Xa;return this.Xa=m,u.length!==0||p?{snapshot:new nl(this.query,e.tu,l,u,e.mutatedKeys,m===0,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Tw,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Ge(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Ya=this.Ya.add(i.key))}));const n=[];return e.forEach((i=>{this.Ya.has(i)||n.push(new J2(i))})),this.Ya.forEach((i=>{e.has(i)||n.push(new W2(i))})),n}cu(e){this.Za=e.ks,this.Ya=Ge();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return nl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Wy="SyncEngine";class E9{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class S9{constructor(e){this.key=e,this.hu=!1}}class A9{constructor(e,n,i,a,l,u){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Ba((d=>f2(d)),Cf),this.Iu=new Map,this.Eu=new Set,this.Ru=new gt(xe.comparator),this.Au=new Map,this.Vu=new zy,this.du={},this.mu=new Map,this.fu=tl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function C9(t,e,n=!0){const i=iC(t);let a;const l=i.Tu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await Z2(i,e,n,!0),a}async function N9(t,e){const n=iC(t);await Z2(n,e,!0,!1)}async function Z2(t,e,n,i){const a=await KP(t.localStore,ni(e)),l=a.targetId,u=t.sharedClientState.addLocalQueryTarget(l,n);let d;return i&&(d=await R9(t,e,l,u==="current",a.resumeToken)),t.isPrimaryClient&&n&&F2(t.remoteStore,a),d}async function R9(t,e,n,i,a){t.pu=(x,T,A)=>(async function(L,P,U,F){let H=P.view.ru(U);H.Ss&&(H=await gw(L.localStore,P.query,!1).then((({documents:I})=>P.view.ru(I,H))));const ne=F&&F.targetChanges.get(P.targetId),Z=F&&F.targetMismatches.get(P.targetId)!=null,le=P.view.applyChanges(H,L.isPrimaryClient,ne,Z);return Aw(L,P.targetId,le.au),le.snapshot})(t,x,T,A);const l=await gw(t.localStore,e,!0),u=new w9(e,l.ks),d=u.ru(l.documents),m=xu.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",a),p=u.applyChanges(d,t.isPrimaryClient,m);Aw(t,n,p.au);const v=new E9(e,n,u);return t.Tu.set(e,v),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function k9(t,e,n){const i=De(t),a=i.Tu.get(e),l=i.Iu.get(a.targetId);if(l.length>1)return i.Iu.set(a.targetId,l.filter((u=>!Cf(u,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await v0(i.localStore,a.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(a.targetId),n&&qy(i.remoteStore,a.targetId),_0(i,a.targetId)})).catch(ml)):(_0(i,a.targetId),await v0(i.localStore,a.targetId,!0))}async function I9(t,e){const n=De(t),i=n.Tu.get(e),a=n.Iu.get(i.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),qy(n.remoteStore,i.targetId))}async function D9(t,e,n){const i=U9(t);try{const a=await(function(u,d){const m=De(u),p=ht.now(),v=d.reduce(((A,M)=>A.add(M.key)),Ge());let x,T;return m.persistence.runTransaction("Locally write mutations","readwrite",(A=>{let M=Li(),L=Ge();return m.xs.getEntries(A,v).next((P=>{M=P,M.forEach(((U,F)=>{F.isValidDocument()||(L=L.add(U))}))})).next((()=>m.localDocuments.getOverlayedDocuments(A,M))).next((P=>{x=P;const U=[];for(const F of d){const H=$O(F,x.get(F.key).overlayedDocument);H!=null&&U.push(new $r(F.key,H,r2(H.value.mapValue),is.exists(!0)))}return m.mutationQueue.addMutationBatch(A,p,U,d)})).next((P=>{T=P;const U=P.applyToLocalDocumentSet(x,L);return m.documentOverlayCache.saveOverlays(A,P.batchId,U)}))})).then((()=>({batchId:T.batchId,changes:g2(x)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),(function(u,d,m){let p=u.du[u.currentUser.toKey()];p||(p=new gt(qe)),p=p.insert(d,m),u.du[u.currentUser.toKey()]=p})(i,a.batchId,n),await Tu(i,a.changes),await Mf(i.remoteStore)}catch(a){const l=Qy(a,"Failed to persist write");n.reject(l)}}async function eC(t,e){const n=De(t);try{const i=await qP(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const u=n.Au.get(l);u&&(Je(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?Je(u.hu,14607):a.removedDocuments.size>0&&(Je(u.hu,42227),u.hu=!1))})),await Tu(n,i,e)}catch(i){await ml(i)}}function Sw(t,e,n){const i=De(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const a=[];i.Tu.forEach(((l,u)=>{const d=u.view.va(e);d.snapshot&&a.push(d.snapshot)})),(function(u,d){const m=De(u);m.onlineState=d;let p=!1;m.queries.forEach(((v,x)=>{for(const T of x.ba)T.va(d)&&(p=!0)})),p&&Xy(m)})(i.eventManager,e),a.length&&i.Pu.J_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function j9(t,e,n){const i=De(t);i.sharedClientState.updateQueryState(e,"rejected",n);const a=i.Au.get(e),l=a&&a.key;if(l){let u=new gt(xe.comparator);u=u.insert(l,dn.newNoDocument(l,ke.min()));const d=Ge().add(l),m=new If(ke.min(),new Map,new gt(qe),u,d);await eC(i,m),i.Ru=i.Ru.remove(l),i.Au.delete(e),Jy(i)}else await v0(i.localStore,e,!1).then((()=>_0(i,e,n))).catch(ml)}async function M9(t,e){const n=De(t),i=e.batch.batchId;try{const a=await HP(n.localStore,e);nC(n,i,null),tC(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Tu(n,a)}catch(a){await ml(a)}}async function V9(t,e,n){const i=De(t);try{const a=await(function(u,d){const m=De(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let v;return m.mutationQueue.lookupMutationBatch(p,d).next((x=>(Je(x!==null,37113),v=x.keys(),m.mutationQueue.removeMutationBatch(p,x)))).next((()=>m.mutationQueue.performConsistencyCheck(p))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(p,v,d))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v))).next((()=>m.localDocuments.getDocuments(p,v)))}))})(i.localStore,e);nC(i,e,n),tC(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Tu(i,a)}catch(a){await ml(a)}}function tC(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function nC(t,e,n){const i=De(t);let a=i.du[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),i.du[i.currentUser.toKey()]=a}}function _0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Iu.get(e))t.Tu.delete(i),n&&t.Pu.yu(i,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((i=>{t.Vu.containsKey(i)||sC(t,i)}))}function sC(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(qy(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),Jy(t))}function Aw(t,e,n){for(const i of n)i instanceof W2?(t.Vu.addReference(i.key,e),O9(t,i)):i instanceof J2?(me(Wy,"Document no longer in limbo: "+i.key),t.Vu.removeReference(i.key,e),t.Vu.containsKey(i.key)||sC(t,i.key)):Se(19791,{wu:i})}function O9(t,e){const n=e.key,i=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(i)||(me(Wy,"New document in limbo: "+n),t.Eu.add(i),Jy(t))}function Jy(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new xe(ot.fromString(e)),i=t.fu.next();t.Au.set(i,new S9(n)),t.Ru=t.Ru.insert(n,i),F2(t.remoteStore,new Cr(ni(My(n.path)),i,"TargetPurposeLimboResolution",Ef.ce))}}async function Tu(t,e,n){const i=De(t),a=[],l=[],u=[];i.Tu.isEmpty()||(i.Tu.forEach(((d,m)=>{u.push(i.pu(m,e,n).then((p=>{if((p||n)&&i.isPrimaryClient){const v=p?!p.fromCache:n?.targetChanges.get(m.targetId)?.current;i.sharedClientState.updateQueryState(m.targetId,v?"current":"not-current")}if(p){a.push(p);const v=Fy.Es(m.targetId,p);l.push(v)}})))})),await Promise.all(u),i.Pu.J_(a),await(async function(m,p){const v=De(m);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(x=>re.forEach(p,(T=>re.forEach(T.Ts,(A=>v.persistence.referenceDelegate.addReference(x,T.targetId,A))).next((()=>re.forEach(T.Is,(A=>v.persistence.referenceDelegate.removeReference(x,T.targetId,A)))))))))}catch(x){if(!pl(x))throw x;me(Hy,"Failed to update sequence numbers: "+x)}for(const x of p){const T=x.targetId;if(!x.fromCache){const A=v.vs.get(T),M=A.snapshotVersion,L=A.withLastLimboFreeSnapshotVersion(M);v.vs=v.vs.insert(T,L)}}})(i.localStore,l))}async function P9(t,e){const n=De(t);if(!n.currentUser.isEqual(e)){me(Wy,"User change. New user:",e.toKey());const i=await L2(n.localStore,e);n.currentUser=e,(function(l,u){l.mu.forEach((d=>{d.forEach((m=>{m.reject(new fe(se.CANCELLED,u))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Tu(n,i.Ns)}}function L9(t,e){const n=De(t),i=n.Au.get(e);if(i&&i.hu)return Ge().add(i.key);{let a=Ge();const l=n.Iu.get(e);if(!l)return a;for(const u of l){const d=n.Tu.get(u);a=a.unionWith(d.view.nu)}return a}}function iC(t){const e=De(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=eC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=L9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=j9.bind(null,e),e.Pu.J_=_9.bind(null,e.eventManager),e.Pu.yu=T9.bind(null,e.eventManager),e}function U9(t){const e=De(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=M9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=V9.bind(null,e),e}class af{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Df(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return FP(this.persistence,new UP,e.initialUser,this.serializer)}Cu(e){return new P2(By.Vi,this.serializer)}Du(e){return new QP}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}af.provider={build:()=>new af};class z9 extends af{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Je(this.persistence.referenceDelegate instanceof sf,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new EP(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Nn.withCacheSize(this.cacheSizeBytes):Nn.DEFAULT;return new P2((i=>sf.Vi(i,n)),this.serializer)}}class T0{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Sw(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=P9.bind(null,this.syncEngine),await v9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new x9})()}createDatastore(e){const n=Df(e.databaseInfo.databaseId),i=e9(e.databaseInfo);return r9(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return(function(i,a,l,u,d){return new o9(i,a,l,u,d)})(this.localStore,this.datastore,e.asyncQueue,(n=>Sw(this.syncEngine,n,0)),(function(){return bw.v()?new bw:new XP})())}createSyncEngine(e,n){return(function(a,l,u,d,m,p,v){const x=new A9(a,l,u,d,m,p);return v&&(x.gu=!0),x})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const i=De(n);me(za,"RemoteStore shutting down."),i.Ea.add(5),await _u(i),i.Aa.shutdown(),i.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}T0.provider={build:()=>new T0};class rC{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Pi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Fr="FirestoreClient";class B9{constructor(e,n,i,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this._databaseInfo=a,this.user=hn.UNAUTHENTICATED,this.clientId=Ny.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async u=>{me(Fr,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(i,(u=>(me(Fr,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new jr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=Qy(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function Tg(t,e){t.asyncQueue.verifyOperationInProgress(),me(Fr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener((async a=>{i.isEqual(a)||(await L2(e.localStore,a),i=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function Cw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await F9(t);me(Fr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((i=>_w(e.remoteStore,i))),t.setAppCheckTokenChangeListener(((i,a)=>_w(e.remoteStore,a))),t._onlineComponents=e}async function F9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){me(Fr,"Using user provided OfflineComponentProvider");try{await Tg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===se.FAILED_PRECONDITION||a.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;Ua("Error using user provided cache. Falling back to memory cache: "+n),await Tg(t,new af)}}else me(Fr,"Using default OfflineComponentProvider"),await Tg(t,new z9(void 0));return t._offlineComponents}async function aC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(me(Fr,"Using user provided OnlineComponentProvider"),await Cw(t,t._uninitializedComponentsProvider._online)):(me(Fr,"Using default OnlineComponentProvider"),await Cw(t,new T0))),t._onlineComponents}function H9(t){return aC(t).then((e=>e.syncEngine))}async function w0(t){const e=await aC(t),n=e.eventManager;return n.onListen=C9.bind(null,e.syncEngine),n.onUnlisten=k9.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=N9.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=I9.bind(null,e.syncEngine),n}function q9(t,e,n,i){const a=new rC(i),l=new X2(e,a,n);return t.asyncQueue.enqueueAndForget((async()=>Y2(await w0(t),l))),()=>{a.Nu(),t.asyncQueue.enqueueAndForget((async()=>Q2(await w0(t),l)))}}function G9(t,e,n={}){const i=new jr;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,d,m,p){const v=new rC({next:T=>{v.Nu(),u.enqueueAndForget((()=>Q2(l,x))),T.fromCache&&m.source==="server"?p.reject(new fe(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(T)},error:T=>p.reject(T)}),x=new X2(d,v,{includeMetadataChanges:!0,Ka:!0});return Y2(l,x)})(await w0(t),t.asyncQueue,e,n,i))),i.promise}function $9(t,e){const n=new jr;return t.asyncQueue.enqueueAndForget((async()=>D9(await H9(t),e,n))),n.promise}function oC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const K9="ComponentProvider",Nw=new Map;function Y9(t,e,n,i,a){return new fO(t,e,n,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,oC(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,i)}const lC="firestore.googleapis.com",Rw=!0;class kw{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new fe(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=lC,this.ssl=Rw}else this.host=e.host,this.ssl=e.ssl??Rw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=O2;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<TP)throw new fe(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}tO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=oC(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new fe(se.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new fe(se.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new fe(se.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,a){return i.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vf{constructor(e,n,i,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new GV;switch(i.type){case"firstParty":return new QV(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new fe(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=Nw.get(n);i&&(me(K9,"Removing Datastore"),Nw.delete(n),i.terminate())})(this),Promise.resolve()}}function Q9(t,e,n,i={}){t=ss(t,Vf);const a=ul(e),l=t._getSettings(),u={...l,emulatorOptions:t._getEmulatorOptions()},d=`${e}:${n}`;a&&(nA(`https://${d}`),sA("Firestore",!0)),l.host!==lC&&l.host!==d&&Ua("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:d,ssl:a,emulatorOptions:i};if(!Va(m,u)&&(t._setSettings(m),i.mockUserToken)){let p,v;if(typeof i.mockUserToken=="string")p=i.mockUserToken,v=hn.MOCK_USER;else{p=mM(i.mockUserToken,t._app?.options.projectId);const x=i.mockUserToken.sub||i.mockUserToken.user_id;if(!x)throw new fe(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new hn(x)}t._authCredentials=new $V(new KA(p,v))}}class Bi{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Bi(this.firestore,e,this._query)}}class St{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Mr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new St(this.firestore,e,this._key)}toJSON(){return{type:St._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(vu(n,St._jsonSchema))return new St(e,i||null,new xe(ot.fromString(n.referencePath)))}}St._jsonSchemaVersion="firestore/documentReference/1.0",St._jsonSchema={type:Lt("string",St._jsonSchemaVersion),referencePath:Lt("string")};class Mr extends Bi{constructor(e,n,i){super(e,n,My(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new St(this.firestore,null,new xe(e))}withConverter(e){return new Mr(this.firestore,e,this._path)}}function of(t,e,...n){if(t=Yt(t),YA("collection","path",e),t instanceof Vf){const i=ot.fromString(e,...n);return HT(i),new Mr(t,null,i)}{if(!(t instanceof St||t instanceof Mr))throw new fe(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(ot.fromString(e,...n));return HT(i),new Mr(t.firestore,null,i)}}function iu(t,e,...n){if(t=Yt(t),arguments.length===1&&(e=Ny.newId()),YA("doc","path",e),t instanceof Vf){const i=ot.fromString(e,...n);return FT(i),new St(t,null,new xe(i))}{if(!(t instanceof St||t instanceof Mr))throw new fe(se.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(ot.fromString(e,...n));return FT(i),new St(t.firestore,t instanceof Mr?t.converter:null,new xe(i))}}const Iw="AsyncQueue";class Dw{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new z2(this,"async_queue_retry"),this._c=()=>{const i=_g();i&&me(Iw,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=_g();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=_g();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new jr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!pl(e))throw e;me(Iw,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,Pi("INTERNAL UNHANDLED ERROR: ",jw(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=Yy.createAndSchedule(this,e,n,i,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Se(47125,{Pc:jw(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function jw(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Hr extends Vf{constructor(e,n,i,a){super(e,n,i,a),this.type="firestore",this._queue=new Dw,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Dw(e),this._firestoreClient=void 0,await e}}}function X9(t,e){const n=typeof t=="object"?t:oA(),i=typeof t=="string"?t:Wd,a=gy(n,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=dM("firestore");l&&Q9(a,...l)}return a}function Zy(t){if(t._terminated)throw new fe(se.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||W9(t),t._firestoreClient}function W9(t){const e=t._freezeSettings(),n=Y9(t._databaseId,t._app?.options.appId||"",t._persistenceKey,t._app?.options.apiKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new B9(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(t._componentsProvider))}class es{constructor(e){this._byteString=e}static fromBase64String(e){try{return new es(on.fromBase64String(e))}catch(n){throw new fe(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new es(on.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:es._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(vu(e,es._jsonSchema))return es.fromBase64String(e.bytes)}}es._jsonSchemaVersion="firestore/bytes/1.0",es._jsonSchema={type:Lt("string",es._jsonSchemaVersion),bytes:Lt("string")};class ev{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new an(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Of{constructor(e){this._methodName=e}}class ii{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return qe(this._lat,e._lat)||qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ii._jsonSchemaVersion}}static fromJSON(e){if(vu(e,ii._jsonSchema))return new ii(e.latitude,e.longitude)}}ii._jsonSchemaVersion="firestore/geoPoint/1.0",ii._jsonSchema={type:Lt("string",ii._jsonSchemaVersion),latitude:Lt("number"),longitude:Lt("number")};class Ss{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ss._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(vu(e,Ss._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ss(e.vectorValues);throw new fe(se.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ss._jsonSchemaVersion="firestore/vectorValue/1.0",Ss._jsonSchema={type:Lt("string",Ss._jsonSchemaVersion),vectorValues:Lt("object")};const J9=/^__.*__$/;class Z9{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new $r(e,this.data,this.fieldMask,n,this.fieldTransforms):new bu(e,this.data,n,this.fieldTransforms)}}class cC{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new $r(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function uC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{dataSource:t})}}class tv{constructor(e,n,i,a,l,u){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new tv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),i=this.contextWith({path:n,arrayElement:!1});return i.validatePathSegment(e),i}childContextForFieldPath(e){const n=this.path?.child(e),i=this.contextWith({path:n,arrayElement:!1});return i.validatePath(),i}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return lf(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(uC(this.dataSource)&&J9.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class eL{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Df(e)}createContext(e,n,i,a=!1){return new tv({dataSource:e,methodName:n,targetDoc:i,path:an.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Pf(t){const e=t._freezeSettings(),n=Df(t._databaseId);return new eL(t._databaseId,!!e.ignoreUndefinedProperties,n)}function hC(t,e,n,i,a,l={}){const u=t.createContext(l.merge||l.mergeFields?2:0,e,n,a);sv("Data must be an object, but it was:",u,i);const d=dC(i,u);let m,p;if(l.merge)m=new Un(u.fieldMask),p=u.fieldTransforms;else if(l.mergeFields){const v=[];for(const x of l.mergeFields){const T=sl(e,x,n);if(!u.contains(T))throw new fe(se.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);pC(v,T)||v.push(T)}m=new Un(v),p=u.fieldTransforms.filter((x=>m.covers(x.field)))}else m=null,p=u.fieldTransforms;return new Z9(new Rn(d),m,p)}class Lf extends Of{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Lf}}class nv extends Of{_toFieldTransform(e){return new FO(e.path,new tu)}isEqual(e){return e instanceof nv}}function tL(t,e,n,i){const a=t.createContext(1,e,n);sv("Data must be an object, but it was:",a,i);const l=[],u=Rn.empty();Gr(i,((m,p)=>{const v=mC(e,m,n);p=Yt(p);const x=a.childContextForFieldPath(v);if(p instanceof Lf)l.push(v);else{const T=wu(p,x);T!=null&&(l.push(v),u.set(v,T))}}));const d=new Un(l);return new cC(u,d,a.fieldTransforms)}function nL(t,e,n,i,a,l){const u=t.createContext(1,e,n),d=[sl(e,i,n)],m=[a];if(l.length%2!=0)throw new fe(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<l.length;T+=2)d.push(sl(e,l[T])),m.push(l[T+1]);const p=[],v=Rn.empty();for(let T=d.length-1;T>=0;--T)if(!pC(p,d[T])){const A=d[T];let M=m[T];M=Yt(M);const L=u.childContextForFieldPath(A);if(M instanceof Lf)p.push(A);else{const P=wu(M,L);P!=null&&(p.push(A),v.set(A,P))}}const x=new Un(p);return new cC(v,x,u.fieldTransforms)}function sL(t,e,n,i=!1){return wu(n,t.createContext(i?4:3,e))}function wu(t,e){if(fC(t=Yt(t)))return sv("Unsupported field value:",e,t),dC(t,e);if(t instanceof Of)return(function(i,a){if(!uC(a.dataSource))throw a.createError(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(i,a){const l=[];let u=0;for(const d of i){let m=wu(d,a.childContextForArray(u));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),u++}return{arrayValue:{values:l}}})(t,e)}return(function(i,a){if((i=Yt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return UO(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=ht.fromDate(i);return{timestampValue:nf(a.serializer,l)}}if(i instanceof ht){const l=new ht(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:nf(a.serializer,l)}}if(i instanceof ii)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof es)return{bytesValue:N2(a.serializer,i._byteString)};if(i instanceof St){const l=a.databaseId,u=i.firestore._databaseId;if(!u.isEqual(l))throw a.createError(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Uy(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof Ss)return(function(u,d){const m=u instanceof Ss?u.toArray():u;return{mapValue:{fields:{[s2]:{stringValue:i2},[Jd]:{arrayValue:{values:m.map((v=>{if(typeof v!="number")throw d.createError("VectorValues must only contain numeric values.");return Vy(d.serializer,v)}))}}}}}})(i,a);if(V2(i))return i._toProto(a.serializer);throw a.createError(`Unsupported field value: ${wf(i)}`)})(t,e)}function dC(t,e){const n={};return WA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Gr(t,((i,a)=>{const l=wu(a,e.childContextForField(i));l!=null&&(n[i]=l)})),{mapValue:{fields:n}}}function fC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ht||t instanceof ii||t instanceof es||t instanceof St||t instanceof Of||t instanceof Ss||V2(t))}function sv(t,e,n){if(!fC(n)||!QA(n)){const i=wf(n);throw i==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+i)}}function sl(t,e,n){if((e=Yt(e))instanceof ev)return e._internalPath;if(typeof e=="string")return mC(t,e);throw lf("Field path arguments must be of type string or ",t,!1,void 0,n)}const iL=new RegExp("[~\\*/\\[\\]]");function mC(t,e,n){if(e.search(iL)>=0)throw lf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ev(...e.split("."))._internalPath}catch{throw lf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function lf(t,e,n,i,a){const l=i&&!i.isEmpty(),u=a!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(l||u)&&(m+=" (found",l&&(m+=` in field ${i}`),u&&(m+=` in document ${a}`),m+=")"),new fe(se.INVALID_ARGUMENT,d+t+m)}function pC(t,e){return t.some((n=>n.isEqual(e)))}class rL{convertValue(e,n="none"){switch(zr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ur(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return Gr(e,((a,l)=>{i[a]=this.convertValue(l,n)})),i}convertVectorValue(e){const n=e.fields?.[Jd].arrayValue?.values?.map((i=>Et(i.doubleValue)));return new Ss(n)}convertGeoPoint(e){return new ii(Et(e.latitude),Et(e.longitude))}convertArray(e,n){return(e.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const i=Af(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Wc(e));default:return null}}convertTimestamp(e){const n=Lr(e);return new ht(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=ot.fromString(e);Je(M2(i),9688,{name:e});const a=new Jc(i.get(1),i.get(3)),l=new xe(i.popFirst(5));return a.isEqual(n)||Pi(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}class iv extends rL{constructor(e){super(),this.firestore=e}convertBytes(e){return new es(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new St(this.firestore,null,n)}}function aL(){return new nv("serverTimestamp")}const Mw="@firebase/firestore",Vw="4.11.0";function Ow(t){return(function(n,i){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of i)if(l in a&&typeof a[l]=="function")return!0;return!1})(t,["next","error","complete"])}class gC{constructor(e,n,i,a,l){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new St(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new oL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(sl("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class oL extends gC{data(){return super.data()}}function yC(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new fe(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class rv{}class av extends rv{}function vC(t,e,...n){let i=[];e instanceof rv&&i.push(e),i=i.concat(n),(function(l){const u=l.filter((m=>m instanceof lv)).length,d=l.filter((m=>m instanceof ov)).length;if(u>1||u>0&&d>0)throw new fe(se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const a of i)t=a._apply(t);return t}class ov extends av{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new ov(e,n,i)}_apply(e){const n=this._parse(e);return _C(e._query,n),new Bi(e.firestore,e.converter,f0(e._query,n))}_parse(e){const n=Pf(e.firestore);return(function(l,u,d,m,p,v,x){let T;if(p.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new fe(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){Lw(x,v);const M=[];for(const L of x)M.push(Pw(m,l,L));T={arrayValue:{values:M}}}else T=Pw(m,l,x)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||Lw(x,v),T=sL(d,u,x,v==="in"||v==="not-in");return Pt.create(p,v,T)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class lv extends rv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new lv(e,n)}_parse(e){const n=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return n.length===1?n[0]:Ns.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let u=a;const d=l.getFlattenedFilters();for(const m of d)_C(u,m),u=f0(u,m)})(e._query,n),new Bi(e.firestore,e.converter,f0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class cv extends av{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new cv(e,n)}_apply(e){const n=(function(a,l,u){if(a.startAt!==null)throw new fe(se.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new fe(se.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new eu(l,u)})(e._query,this._field,this._direction);return new Bi(e.firestore,e.converter,IO(e._query,n))}}function bC(t,e="asc"){const n=e,i=sl("orderBy",t);return cv._create(i,n)}class uv extends av{constructor(e,n,i){super(),this.type=e,this._limit=n,this._limitType=i}static _create(e,n,i){return new uv(e,n,i)}_apply(e){return new Bi(e.firestore,e.converter,ef(e._query,this._limit,this._limitType))}}function xC(t){return nO("limit",t),uv._create("limit",t,"F")}function Pw(t,e,n){if(typeof(n=Yt(n))=="string"){if(n==="")throw new fe(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!d2(e)&&n.indexOf("/")!==-1)throw new fe(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(ot.fromString(n));if(!xe.isDocumentKey(i))throw new fe(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return WT(t,new xe(i))}if(n instanceof St)return WT(t,n._key);throw new fe(se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${wf(n)}.`)}function Lw(t,e){if(!Array.isArray(t)||t.length===0)throw new fe(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function _C(t,e){const n=(function(a,l){for(const u of a)for(const d of u.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new fe(se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function TC(t,e,n){let i;return i=t?t.toFirestore(e):e,i}class Ic{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ja extends gC{constructor(e,n,i,a,l,u){super(e,n,i,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Dd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(sl("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(se.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ja._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ja._jsonSchemaVersion="firestore/documentSnapshot/1.0",ja._jsonSchema={type:Lt("string",ja._jsonSchemaVersion),bundleSource:Lt("string","DocumentSnapshot"),bundleName:Lt("string"),bundle:Lt("string")};class Dd extends ja{data(e={}){return super.data(e)}}class Ma{constructor(e,n,i,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Ic(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((i=>{e.call(n,new Dd(this._firestore,this._userDataWriter,i.key,i,new Ic(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((d=>{const m=new Dd(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Ic(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const m=new Dd(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Ic(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,v=-1;return d.type!==0&&(p=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),v=u.indexOf(d.doc.key)),{type:lL(d.type),doc:m,oldIndex:p,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(se.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ma._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ny.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function lL(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:t})}}Ma._jsonSchemaVersion="firestore/querySnapshot/1.0",Ma._jsonSchema={type:Lt("string",Ma._jsonSchemaVersion),bundleSource:Lt("string","QuerySnapshot"),bundleName:Lt("string"),bundle:Lt("string")};function cL(t){t=ss(t,Bi);const e=ss(t.firestore,Hr),n=Zy(e),i=new iv(e);return yC(t._query),G9(n,t._query).then((a=>new Ma(e,i,t,a)))}function Uw(t,e,n){t=ss(t,St);const i=ss(t.firestore,Hr),a=TC(t.converter,e),l=Pf(i);return Uf(i,[hC(l,"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,is.none())])}function uL(t,e,n,...i){t=ss(t,St);const a=ss(t.firestore,Hr),l=Pf(a);let u;return u=typeof(e=Yt(e))=="string"||e instanceof ev?nL(l,"updateDoc",t._key,e,n,i):tL(l,"updateDoc",t._key,e),Uf(a,[u.toMutation(t._key,is.exists(!0))])}function hL(t){return Uf(ss(t.firestore,Hr),[new Oy(t._key,is.none())])}function wC(t,e){const n=ss(t.firestore,Hr),i=iu(t),a=TC(t.converter,e),l=Pf(t.firestore);return Uf(n,[hC(l,"addDoc",i._key,a,t.converter!==null,{}).toMutation(i._key,is.exists(!1))]).then((()=>i))}function EC(t,...e){t=Yt(t);let n={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||Ow(e[i])||(n=e[i++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Ow(e[i])){const p=e[i];e[i]=p.next?.bind(p),e[i+1]=p.error?.bind(p),e[i+2]=p.complete?.bind(p)}let l,u,d;if(t instanceof St)u=ss(t.firestore,Hr),d=My(t._key.path),l={next:p=>{e[i]&&e[i](dL(u,t,p))},error:e[i+1],complete:e[i+2]};else{const p=ss(t,Bi);u=ss(p.firestore,Hr),d=p._query;const v=new iv(u);l={next:x=>{e[i]&&e[i](new Ma(u,v,p,x))},error:e[i+1],complete:e[i+2]},yC(t._query)}const m=Zy(u);return q9(m,d,a,l)}function Uf(t,e){const n=Zy(t);return $9(n,e)}function dL(t,e,n){const i=n.docs.get(e._key),a=new iv(t);return new ja(t,a,e._key,i,new Ic(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){qV(hl),Xo(new Oa("firestore",((i,{instanceIdentifier:a,options:l})=>{const u=i.getProvider("app").getImmediate(),d=new Hr(new KV(i.getProvider("auth-internal")),new XV(u,i.getProvider("app-check-internal")),mO(u,a),u);return l={useFetchStreams:n,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),Ir(Mw,Vw,e),Ir(Mw,Vw,"esm2020")})();const fL={apiKey:"AIzaSyBxYxsLtsHK1cKKn6IP_wY5FLyG3Gqje5c",authDomain:"study-tracker-9d996.firebaseapp.com",projectId:"study-tracker-9d996",storageBucket:"study-tracker-9d996.firebasestorage.app",messagingSenderId:"896578359034",appId:"1:896578359034:web:730cec1b11329f22960343",measurementId:"G-ZDH3EW4063"},SC=aA(fL),wg=zV(SC),mL=new Ri,Nr=X9(SC),AC=R.createContext(void 0);function pL({children:t}){const[e,n]=R.useState(null),[i,a]=R.useState(!0);R.useEffect(()=>{const d=N6(wg,m=>{n(m),a(!1)});return()=>d()},[]);const l=async()=>{try{await Q6(wg,mL)}catch(d){console.error("Error signing in with Google",d)}},u=async()=>{try{await R6(wg)}catch(d){console.error("Error signing out",d)}};return y.jsx(AC.Provider,{value:{user:e,loading:i,signInWithGoogle:l,logout:u},children:!i&&t})}function Ha(){const t=R.useContext(AC);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}const Eg={name:"Student",grade:"Class 10",language:"en",totalStudyTime:0,earnedBadges:[],currentStreak:0,dailyGoal:7200,todayStudyTime:0,weeklyStudyTime:0,monthlyStudyTime:0},dd="study-tracker-data",CC=R.createContext(void 0);function gL({children:t}){const{user:e}=Ha(),[n,i]=R.useState(()=>{try{const E=localStorage.getItem(dd);if(E){const C=JSON.parse(E);if(C.userProfile)return C.userProfile}}catch(E){console.error("Failed to load user profile:",E)}return Eg}),[a,l]=R.useState(()=>{try{const E=localStorage.getItem(dd);if(E){const C=JSON.parse(E);if(C.subjects)return C.subjects.map(j=>({...j,chapters:j.chapters.map(k=>({...k,topics:k.topics||[]}))}))}}catch(E){console.error("Failed to load subjects:",E)}return[]});R.useEffect(()=>{if(e){const E=iu(Nr,"users",e.uid),C=EC(E,j=>{if(j.exists()){const k=j.data();k.userProfile&&i(k.userProfile),k.subjects&&l(k.subjects)}else{const k={userProfile:Eg,subjects:[]};try{const O=localStorage.getItem(dd);if(O){const D=JSON.parse(O);D.userProfile&&(k.userProfile=D.userProfile),D.subjects&&(k.subjects=D.subjects.map(Ee=>({...Ee,chapters:Ee.chapters.map(Pe=>({...Pe,topics:Pe.topics||[]}))})))}}catch(O){console.error("Error reading local storage for migration:",O)}Uw(E,k).catch(O=>console.error("Migration failed",O))}},j=>{console.error("Firestore sync error:",j)});return()=>C()}},[e]);const u=async(E,C)=>{if(i(E),l(C),e)try{await Uw(iu(Nr,"users",e.uid),{userProfile:E,subjects:C})}catch(j){console.error("Failed to save to cloud:",j)}else localStorage.setItem(dd,JSON.stringify({userProfile:E,subjects:C}))},d=E=>{u({...n,...E},a)},m=E=>{const C=crypto.randomUUID(),j={...E,id:C,chapters:[]};u(n,[...a,j])},p=(E,C)=>{const j=a.map(k=>k.id===E?{...k,...C}:k);u(n,j)},v=E=>{u(n,a.filter(C=>C.id!==E))},x=(E,C)=>{const j=a.map(k=>k.id===E?{...k,chapters:[...k.chapters,{id:crypto.randomUUID(),name:C,isCompleted:!1,topics:[]}]}:k);u(n,j)},T=(E,C,j)=>{const k=a.map(O=>O.id===E?{...O,chapters:O.chapters.map(D=>D.id===C?{...D,name:j}:D)}:O);u(n,k)},A=(E,C)=>{const j=a.map(k=>k.id===E?{...k,chapters:k.chapters.map(O=>O.id===C?{...O,isCompleted:!O.isCompleted,completedAt:O.isCompleted?null:new Date().toISOString()}:O)}:k);u(n,j)},M=(E,C)=>{const j=a.map(k=>k.id===E?{...k,chapters:k.chapters.filter(O=>O.id!==C)}:k);u(n,j)},L=(E,C,j)=>{const k=a.map(O=>O.id===E?{...O,chapters:O.chapters.map(D=>D.id===C?{...D,topics:[...D.topics,{id:crypto.randomUUID(),name:j,isCompleted:!1,completedAt:null}]}:D)}:O);u(n,k)},P=(E,C,j,k)=>{const O=a.map(D=>D.id===E?{...D,chapters:D.chapters.map(Ee=>Ee.id===C?{...Ee,topics:Ee.topics.map(Pe=>Pe.id===j?{...Pe,name:k}:Pe)}:Ee)}:D);u(n,O)},U=(E,C,j)=>{const k=a.map(O=>O.id===E?{...O,chapters:O.chapters.map(D=>{if(D.id===C){const Ee=D.topics.map(Q=>Q.id===j?{...Q,isCompleted:!Q.isCompleted,completedAt:Q.isCompleted?null:new Date().toISOString()}:Q),Pe=Ee.length>0&&Ee.every(Q=>Q.isCompleted);return{...D,topics:Ee,isCompleted:Pe,completedAt:Pe?new Date().toISOString():null}}return D})}:O);u(n,k)},F=(E,C,j)=>{const k=a.map(O=>O.id===E?{...O,chapters:O.chapters.map(D=>D.id===C?{...D,topics:D.topics.filter(Ee=>Ee.id!==j)}:D)}:O);u(n,k)},H=()=>{const E={userProfile:n,subjects:a,timestamp:new Date().toISOString(),version:"1.0"},C=new Blob([JSON.stringify(E,null,2)],{type:"application/json"}),j=URL.createObjectURL(C),k=document.createElement("a");k.href=j,k.download=`study-tracker-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(k),k.click(),document.body.removeChild(k),URL.revokeObjectURL(j)},ne=E=>{try{const C=JSON.parse(E);return C.userProfile&&Array.isArray(C.subjects)?(u(C.userProfile,C.subjects),!0):(alert("Invalid backup file format."),!1)}catch(C){return console.error("Import error:",C),alert("Failed to parse backup file."),!1}},Z=E=>{const C=E.map(j=>({id:crypto.randomUUID(),name:j.name,color:j.color,icon:j.icon,chapters:j.chapters.map(O=>({id:crypto.randomUUID(),name:O.name,isCompleted:!1,completedAt:null,topics:O.topics.map(Ee=>({id:crypto.randomUUID(),name:Ee.name,isCompleted:!1,completedAt:null}))}))}));u(n,[...a,...C])},le=()=>{confirm("Are you sure you want to reset all data?")&&u(Eg,[])},I=async(E,C,j)=>{const k=new Date,O=k.toISOString().split("T")[0],D=(n.totalStudyTime||0)+E;let Ee=n.currentStreak||0,Pe=n.lastStudyDate,Q=n.todayStudyTime||0;if(Pe!==O){const Ce=new Date;Ce.setDate(Ce.getDate()-1);const Le=Ce.toISOString().split("T")[0];Pe===Le?Ee+=1:Ee=1,Pe=O,Q=E}else Q+=E;let ae=n.weeklyStudyTime||0,de=n.monthlyStudyTime||0;const Ae=n.lastStudyDate?new Date(n.lastStudyDate):new Date(0),Ve=Ce=>{const Le=new Date(Ce),Qt=Le.getDay(),Rs=Le.getDate()-Qt+(Qt===0?-6:1);return new Date(Le.setDate(Rs)).toDateString()};Ve(Ae)!==Ve(k)&&(ae=0),(Ae.getMonth()!==k.getMonth()||Ae.getFullYear()!==k.getFullYear())&&(de=0),ae+=E,de+=E;const z=[...n.earnedBadges||[]],ee=[],ue=k.getHours(),he=ue>=22||ue<4,Te=z.some(Ce=>Ce.type==="night_owl");he&&!Te&&ee.push({type:"night_owl",earnedAt:k.toISOString()});const Re=z.some(Ce=>Ce.type==="streak_master");Ee>=3&&!Re&&ee.push({type:"streak_master",earnedAt:k.toISOString()});const oe={...n,totalStudyTime:D,todayStudyTime:Q,currentStreak:Ee,lastStudyDate:Pe,earnedBadges:[...z,...ee],dailyGoal:n.dailyGoal||7200,weeklyStudyTime:ae,monthlyStudyTime:de};if(d(oe),e)try{await wC(of(Nr,"study_sessions"),{userId:e.uid,userName:e.displayName||n.name,startTime:new Date(Date.now()-E*1e3).toISOString(),endTime:new Date().toISOString(),durationInSeconds:E,subjectId:C||null,sessionGoal:j||null,createdAt:new Date().toISOString()})}catch(Ce){console.error("Error saving study session:",Ce)}};return y.jsx(CC.Provider,{value:{userProfile:n,subjects:a,updateProfile:d,addSubject:m,editSubject:p,deleteSubject:v,addChapter:x,editChapter:T,toggleChapter:A,deleteChapter:M,addTopic:L,editTopic:P,toggleTopic:U,deleteTopic:F,resetData:le,exportData:H,importData:ne,importSyllabusData:Z,saveStudySession:I},children:t})}function ln(){const t=R.useContext(CC);if(t===void 0)throw new Error("useStudy must be used within a StudyProvider");return t}const NC=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim();const yL=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const vL=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase());const zw=t=>{const e=vL(t);return e.charAt(0).toUpperCase()+e.slice(1)};var bL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const xL=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const _L=R.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:a="",children:l,iconNode:u,...d},m)=>R.createElement("svg",{ref:m,...bL,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:NC("lucide",a),...!l&&!xL(d)&&{"aria-hidden":"true"},...d},[...u.map(([p,v])=>R.createElement(p,v)),...Array.isArray(l)?l:[l]]));const ve=(t,e)=>{const n=R.forwardRef(({className:i,...a},l)=>R.createElement(_L,{ref:l,iconNode:e,className:NC(`lucide-${yL(zw(t))}`,`lucide-${t}`,i),...a}));return n.displayName=zw(t),n};const TL=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],wL=ve("arrow-left",TL);const EL=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],hv=ve("arrow-right",EL);const SL=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],RC=ve("award",SL);const AL=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M17 17H4a1 1 0 0 1-.74-1.673C4.59 13.956 6 12.499 6 8a6 6 0 0 1 .258-1.742",key:"178tsu"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.668 3.01A6 6 0 0 1 18 8c0 2.687.77 4.653 1.707 6.05",key:"1hqiys"}]],CL=ve("bell-off",AL);const NL=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],RL=ve("bell",NL);const kL=[["path",{d:"M10 2v8l3-3 3 3V2",key:"sqw3rj"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],E0=ve("book-marked",kL);const IL=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],xn=ve("book-open",IL);const DL=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],jL=ve("book",DL);const ML=[["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M14 7a4 4 0 0 1 4 4v3a6 6 0 0 1-12 0v-3a4 4 0 0 1 4-4z",key:"uouzyp"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M21 21a4 4 0 0 0-3.81-4",key:"1b0z45"}],["path",{d:"M21 5a4 4 0 0 1-3.55 3.97",key:"5cxbf6"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M3 21a4 4 0 0 1 3.81-4",key:"1fjd4g"}],["path",{d:"M3 5a4 4 0 0 0 3.55 3.97",key:"1d7oge"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M9 7.13V6a3 3 0 1 1 6 0v1.13",key:"1vgav8"}]],VL=ve("bug",ML);const OL=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],PL=ve("chart-column",OL);const LL=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],UL=ve("chart-pie",LL);const zL=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],kC=ve("check",zL);const BL=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],FL=ve("chevron-down",BL);const HL=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],qL=ve("chevron-left",HL);const GL=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],$L=ve("chevron-right",GL);const KL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],vl=ve("circle-check",KL);const YL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],S0=ve("circle-user",YL);const QL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],XL=ve("circle",QL);const WL=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],IC=ve("download",WL);const JL=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],ZL=ve("flame",JL);const eU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 16s-1.5-2-4-2-4 2-4 2",key:"epbg0q"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],tU=ve("frown",eU);const nU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],sU=ve("globe",nU);const iU=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],DC=ve("graduation-cap",iU);const rU=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],aU=ve("heart",rU);const oU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M18 13a6 6 0 0 1-6 5 6 6 0 0 1-6-5h12Z",key:"b2q4dd"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],lU=ve("laugh",oU);const cU=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Bw=ve("layout-dashboard",cU);const uU=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],Fw=ve("list",uU);const hU=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],jC=ve("log-out",hU);const dU=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],cf=ve("message-circle",dU);const fU=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],mU=ve("monitor",fU);const pU=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],uf=ve("moon",pU);const gU=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],yU=ve("pause",gU);const vU=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],MC=ve("pen-tool",vU);const bU=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],xU=ve("pen",bU);const _U=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],zf=ve("pencil",_U);const TU=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],VC=ve("play",TU);const wU=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ru=ve("plus",wU);const EU=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],SU=ve("quote",EU);const AU=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],CU=ve("refresh-cw",AU);const NU=[["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}],["path",{d:"m9 17-5-5 5-5",key:"nvlc11"}]],RU=ve("reply",NU);const kU=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],OC=ve("rotate-ccw",kU);const IU=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],hf=ve("save",IU);const DU=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],jU=ve("search",DU);const MU=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],VU=ve("send",MU);const OU=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Sg=ve("settings",OU);const PU=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],LU=ve("shield",PU);const UU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],zU=ve("smile",UU);const BU=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Hw=ve("square-pen",BU);const FU=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],A0=ve("sun",FU);const HU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],qU=ve("target",HU);const GU=[["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}],["path",{d:"M7 10v12",key:"1qc93n"}]],$U=ve("thumbs-up",GU);const KU=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],qw=ve("timer",KU);const YU=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Eu=ve("trash-2",YU);const QU=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],C0=ve("trending-up",QU);const XU=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],au=ve("trophy",XU);const WU=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],JU=ve("upload",WU);const ZU=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],e8=ve("user",ZU);const t8=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],PC=ve("volume-2",t8);const n8=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],LC=ve("volume-x",n8);const s8=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Kr=ve("x",s8),i8=["bg-blue-500","bg-indigo-500","bg-violet-500","bg-purple-500","bg-fuchsia-500","bg-pink-500","bg-rose-500","bg-red-500","bg-orange-500","bg-amber-500","bg-yellow-500","bg-lime-500","bg-green-500","bg-emerald-500","bg-teal-500","bg-cyan-500","bg-sky-500","bg-slate-500"];function UC({subject:t,onClose:e}){const{editSubject:n}=ln(),[i,a]=R.useState(t.name),[l,u]=R.useState(t.color);R.useEffect(()=>{a(t.name),u(t.color)},[t]);const d=m=>{m.preventDefault(),i.trim()&&(n(t.id,{name:i.trim(),color:l}),e())};return y.jsx(Cs,{children:y.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:y.jsxs(_e.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white dark:bg-slate-800 rounded-2xl w-full max-w-md shadow-xl border border-slate-100 dark:border-slate-700 overflow-hidden",children:[y.jsxs("div",{className:"p-4 border-b border-slate-100 dark:border-slate-700 flex items-center justify-between bg-slate-50/50 dark:bg-slate-800/50",children:[y.jsx("h2",{className:"text-lg font-bold text-slate-800 dark:text-white",children:"Edit Subject"}),y.jsx("button",{onClick:e,className:"p-1 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 transition-colors rounded-full hover:bg-slate-100 dark:hover:bg-slate-700",children:y.jsx(Kr,{className:"w-5 h-5"})})]}),y.jsxs("form",{onSubmit:d,className:"p-6 space-y-6",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Subject Name"}),y.jsxs("div",{className:"relative",children:[y.jsx(xn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),y.jsx("input",{type:"text",value:i,onChange:m=>a(m.target.value),placeholder:"e.g. Mathematics",className:"w-full bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl py-3 pl-10 pr-4 text-slate-800 dark:text-white placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all",autoFocus:!0})]})]}),y.jsxs("div",{className:"space-y-3",children:[y.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Color Theme"}),y.jsx("div",{className:"flex flex-wrap gap-2",children:i8.map(m=>y.jsx("button",{type:"button",onClick:()=>u(m),className:`w-8 h-8 rounded-full transition-transform ${m} ${l===m?"ring-2 ring-offset-2 ring-slate-400 dark:ring-slate-500 scale-110":"hover:scale-110 opacity-70 hover:opacity-100"}`},m))})]}),y.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-900 rounded-xl border border-slate-100 dark:border-slate-700 flex items-center gap-3",children:[y.jsx("div",{className:`w-10 h-10 rounded-lg ${l} flex items-center justify-center text-white shadow-sm`,children:y.jsx(xn,{className:"w-5 h-5"})}),y.jsxs("div",{children:[y.jsx("p",{className:"font-bold text-slate-800 dark:text-white",children:i||"Subject Name"}),y.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Preview"})]})]}),y.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[y.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-slate-600 dark:text-slate-400 font-medium hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:"Cancel"}),y.jsx("button",{type:"submit",disabled:!i.trim(),className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg shadow-sm shadow-blue-500/20 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:"Save Changes"})]})]})]})})})}const r8=_e(Ft);function a8({subject:t,index:e=0}){const[n,i]=R.useState(!1),a=t.chapters.length,l=t.chapters.filter(m=>m.isCompleted).length;let u=0;t.chapters.forEach(m=>{m.topics&&m.topics.length>0?u+=m.topics.filter(p=>p.isCompleted).length/m.topics.length*100:u+=m.isCompleted?100:0});const d=a===0?0:Math.round(u/a);return y.jsxs(y.Fragment,{children:[y.jsxs(r8,{to:`/subject/${t.id}`,whileHover:{y:-5,transition:{duration:.2}},whileTap:{scale:.98},className:"group relative block bg-white dark:bg-slate-800 rounded-2xl p-4 md:p-5 border border-slate-100 dark:border-slate-700 shadow-sm hover:shadow-lg hover:border-blue-100 dark:hover:border-blue-900 transition-all",children:[y.jsx(_e.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:m=>{m.preventDefault(),m.stopPropagation(),i(!0)},className:"absolute top-4 right-4 p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/30 dark:hover:text-blue-400 rounded-lg transition-colors opacity-0 group-hover:opacity-100 z-10",title:"Edit Subject",children:y.jsx(zf,{className:"w-4 h-4"})}),y.jsxs("div",{className:"flex items-start justify-between mb-4",children:[y.jsx(_e.div,{whileHover:{rotate:15,scale:1.1},className:`w-12 h-12 rounded-xl ${t.color} flex items-center justify-center text-white shadow-sm`,children:y.jsx(xn,{className:"w-6 h-6"})}),y.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700 px-2 py-1 rounded-lg text-xs font-semibold text-slate-600 dark:text-slate-300 transition-colors",children:[d,"%"]})]}),y.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white mb-1 group-hover:text-blue-700 dark:group-hover:text-blue-400 transition-colors",children:t.name}),y.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500 dark:text-slate-400 mb-4 transition-colors",children:[y.jsxs("span",{className:"flex items-center gap-1",children:[y.jsx(xn,{className:"w-3.5 h-3.5"}),a," ",a===1?"Chapter":"Chapters"]}),l>0&&y.jsxs("span",{className:"flex items-center gap-1 text-emerald-600 dark:text-emerald-400",children:[y.jsx(vl,{className:"w-3.5 h-3.5"}),l," Done"]})]}),y.jsx("div",{className:"h-2 w-full bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden transition-colors",children:y.jsx(_e.div,{initial:{width:0},animate:{width:`${d}%`},transition:{duration:1,delay:.5+e*.1,ease:"easeOut"},className:`h-full ${t.color}`})}),y.jsxs("div",{className:"mt-4 flex items-center text-sm font-medium text-slate-400 dark:text-slate-500 group-hover:text-slate-600 dark:group-hover:text-slate-300 transition-colors",children:["View Details ",y.jsx(hv,{className:"w-4 h-4 ml-1 group-hover:translate-x-1 transition-transform"})]})]}),n&&y.jsx(UC,{subject:t,onClose:()=>i(!1)})]})}function Fo({title:t,value:e,icon:n,colorClass:i,bgClass:a,delay:l=0}){return y.jsxs(_e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:l,type:"spring"},className:"bg-white dark:bg-slate-800 rounded-2xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm flex items-center justify-between transition-colors",children:[y.jsxs("div",{children:[y.jsxs("h3",{className:"text-slate-400 dark:text-slate-400 font-medium text-sm flex items-center gap-1.5 mb-2",children:[y.jsx(n,{className:`w-4 h-4 ${i}`})," ",t]}),y.jsx("div",{className:"text-3xl font-bold text-slate-800 dark:text-white transition-colors",children:e})]}),y.jsx("div",{className:`w-12 h-12 ${a} rounded-full flex items-center justify-center transition-colors`,children:y.jsx(n,{className:`w-6 h-6 ${i}`})})]})}const Gw=["bg-blue-500","bg-emerald-500","bg-violet-500","bg-amber-500","bg-rose-500","bg-cyan-500","bg-fuchsia-500","bg-orange-500"];function o8({onClose:t}){const{addSubject:e}=ln(),[n,i]=R.useState(""),[a,l]=R.useState(Gw[0]),u=d=>{d.preventDefault(),n.trim()&&(e({name:n.trim(),color:a,icon:"book"}),t())};return y.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm animate-in fade-in duration-200",children:y.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl w-full max-w-md overflow-hidden animate-in zoom-in-95 duration-200 transition-colors",children:[y.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-slate-100 dark:border-slate-700",children:[y.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white flex items-center gap-2 transition-colors",children:[y.jsx(jL,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),"Add New Subject"]}),y.jsx("button",{onClick:t,className:"p-2 text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full transition-colors",children:y.jsx(Kr,{className:"w-5 h-5"})})]}),y.jsxs("form",{onSubmit:u,className:"p-6 space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1 transition-colors",children:"Subject Name"}),y.jsx("input",{autoFocus:!0,type:"text",value:n,onChange:d=>i(d.target.value),placeholder:"e.g. Physics",className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all font-medium placeholder:font-normal placeholder:text-slate-400 dark:placeholder:text-slate-500"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2 transition-colors",children:"Color Tag"}),y.jsx("div",{className:"flex flex-wrap gap-2",children:Gw.map(d=>y.jsx("button",{type:"button",onClick:()=>l(d),className:`w-8 h-8 rounded-full ${d} transition-all ${a===d?"ring-2 ring-offset-2 ring-slate-400 dark:ring-slate-500 scale-110":"hover:scale-105 opacity-80 hover:opacity-100"}`},d))})]}),y.jsx("div",{className:"pt-2",children:y.jsxs("button",{type:"submit",disabled:!n.trim(),className:"w-full bg-blue-600 hover:bg-blue-700 dark:bg-blue-600 dark:hover:bg-blue-500 disabled:opacity-50 disabled:cursor-not-allowed text-white font-medium py-3 rounded-xl flex items-center justify-center gap-2 transition-all active:scale-[0.98]",children:[y.jsx(hf,{className:"w-5 h-5"}),"Create Subject"]})})]})]})})}const l8={start_strong:{icon:vl,label:"Start Strong",description:"Completed your first topic!",color:"text-emerald-500 bg-emerald-100 dark:bg-emerald-900/30"},streak_master:{icon:ZL,label:"Streak Master",description:"Studied for 3 days in a row.",color:"text-orange-500 bg-orange-100 dark:bg-orange-900/30"},subject_conqueror:{icon:RC,label:"Subject Conqueror",description:"Completed 100% of a subject.",color:"text-purple-500 bg-purple-100 dark:bg-purple-900/30"},night_owl:{icon:uf,label:"Night Owl",description:"Completed a session late at night (10PM - 4AM).",color:"text-blue-500 bg-blue-100 dark:bg-blue-900/30"}};function c8({type:t,isLocked:e=!1,dateEarned:n}){const i=l8[t],a=i.icon,[l,u]=R.useState(!1);return y.jsxs("div",{className:"relative flex flex-col items-center gap-2 group cursor-pointer",onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),onClick:()=>u(!l),children:[y.jsx(_e.div,{whileHover:{scale:1.05},className:`w-16 h-16 rounded-full flex items-center justify-center shadow-sm border-2 transition-colors ${e?"bg-slate-100 dark:bg-slate-800 border-slate-200 dark:border-slate-700 opacity-60 grayscale":`${i.color} border-transparent`}`,children:y.jsx(a,{className:`w-8 h-8 ${e?"text-slate-400":""}`})}),y.jsx("span",{className:`text-xs font-medium text-center max-w-[5rem] ${e?"text-slate-400":"text-slate-700 dark:text-slate-300"}`,children:i.label}),l&&y.jsxs(_e.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"absolute bottom-full mb-2 bg-slate-800 dark:bg-slate-700 text-white text-xs p-2 rounded-lg shadow-xl whitespace-nowrap z-50 pointer-events-none",children:[y.jsx("p",{className:"font-semibold",children:i.label}),y.jsx("p",{className:"text-slate-300",children:i.description}),!e&&n&&y.jsxs("p",{className:"text-slate-400 mt-1 text-[10px]",children:["Earned: ",new Date(n).toLocaleDateString()]})]})]})}function u8(){const{updateProfile:t}=ln(),[e,n]=R.useState(""),[i,a]=R.useState(""),l=u=>{if(u.preventDefault(),!e.trim()){alert("Please enter your name");return}t({name:e.trim(),grade:i.trim()||"Not specified"})};return y.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm",children:y.jsxs(_e.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-md overflow-hidden",children:[y.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-indigo-600 p-6 text-white",children:[y.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Welcome to TrackEd! "}),y.jsx("p",{className:"text-blue-100 text-sm",children:"Let's get started by setting up your profile"})]}),y.jsxs("form",{onSubmit:l,className:"p-6 space-y-5",children:[y.jsxs("div",{children:[y.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:[y.jsx(S0,{className:"w-4 h-4"}),"Your Name ",y.jsx("span",{className:"text-red-500",children:"*"})]}),y.jsx("input",{type:"text",value:e,onChange:u=>n(u.target.value),className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 transition-all placeholder:text-slate-400 dark:placeholder:text-slate-500",placeholder:"Enter your name",autoFocus:!0})]}),y.jsxs("div",{children:[y.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:[y.jsx(DC,{className:"w-4 h-4"}),"Class / Grade"]}),y.jsx("input",{type:"text",value:i,onChange:u=>a(u.target.value),className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 transition-all placeholder:text-slate-400 dark:placeholder:text-slate-500",placeholder:"e.g., HSC 2026, SSC 2024"})]}),y.jsx("div",{className:"pt-2",children:y.jsx("button",{type:"submit",className:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white font-semibold py-3 rounded-xl transition-all shadow-lg shadow-blue-500/25 active:scale-[0.98]",children:"Get Started"})}),y.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 text-center",children:"You can update these details anytime in Settings"})]})]})})}function h8(){const{userProfile:t,updateProfile:e}=ln(),[n,i]=R.useState(!1),[a,l]=R.useState(t.dailyGoal?t.dailyGoal/3600:2),u=t.dailyGoal||7200,d=t.todayStudyTime||0,m=Math.min(100,Math.round(d/u*100)),p=()=>{e({dailyGoal:a*3600}),i(!1)};return y.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm md:h-full flex flex-col relative overflow-hidden",children:[y.jsxs("div",{className:"flex items-center justify-between mb-2 z-10",children:[y.jsxs("h3",{className:"text-slate-500 dark:text-slate-400 font-medium flex items-center gap-2 text-sm",children:[y.jsx(qU,{className:"w-4 h-4"}),"Daily Goal"]}),n?y.jsxs("button",{onClick:p,className:"text-xs text-green-600 dark:text-green-400 hover:underline flex items-center gap-1 font-bold",children:["Save ",y.jsx(kC,{className:"w-3 h-3"})]}):y.jsxs("button",{onClick:()=>i(!0),className:"text-xs text-blue-600 dark:text-blue-400 hover:underline flex items-center gap-1",children:["Edit ",y.jsx(xU,{className:"w-3 h-3"})]})]}),y.jsxs("div",{className:"flex-1 flex items-center justify-between z-10 mt-2",children:[y.jsxs("div",{className:"space-y-1",children:[n?y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("input",{type:"number",min:"0.5",max:"24",step:"0.5",value:a,onChange:v=>l(parseFloat(v.target.value)),className:"w-16 p-1 border rounded text-lg font-bold bg-slate-50 dark:bg-slate-700 dark:text-white",autoFocus:!0}),y.jsx("span",{className:"text-slate-500",children:"hrs"})]}):y.jsxs("div",{className:"text-3xl font-bold text-slate-800 dark:text-white",children:[Math.floor(d/3600),y.jsx("span",{className:"text-lg text-slate-400 font-normal",children:"h"})," ",Math.floor(d%3600/60),y.jsx("span",{className:"text-lg text-slate-400 font-normal",children:"m"})]}),y.jsxs("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:["of ",Math.floor(u/3600),"h goal"]})]}),y.jsxs("div",{className:"relative w-20 h-20 flex-shrink-0",children:[y.jsxs("svg",{className:"w-full h-full transform -rotate-90",children:[y.jsx("circle",{cx:"40",cy:"40",r:"36",stroke:"currentColor",strokeWidth:"8",fill:"transparent",className:"text-slate-100 dark:text-slate-700"}),y.jsx(_e.circle,{initial:{strokeDashoffset:226},animate:{strokeDashoffset:226-226*m/100},transition:{duration:1,ease:"easeOut"},cx:"40",cy:"40",r:"36",stroke:"currentColor",strokeWidth:"8",fill:"transparent",strokeDasharray:"226",strokeLinecap:"round",className:`${m>=100?"text-green-500":"text-blue-500"}`})]}),y.jsxs("div",{className:"absolute inset-0 flex items-center justify-center text-xs font-bold text-slate-700 dark:text-slate-300",children:[m,"%"]})]})]}),m>=100&&y.jsxs(_e.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"absolute inset-0 bg-green-50/90 dark:bg-green-900/90 flex items-center justify-center flex-col z-20 backdrop-blur-sm",children:[y.jsx(au,{className:"w-10 h-10 text-green-600 dark:text-green-400 mb-2"}),y.jsx("span",{className:"text-green-800 dark:text-green-100 font-bold",children:"Goal Reached!"})]})]})}function d8(){const{subjects:t}=ln();let e=null,n=null,i=null;for(const a of t)if(a.chapters.some(u=>!u.isCompleted&&(!u.topics.length||u.topics.some(d=>!d.isCompleted)))){e=a;for(const u of a.chapters)if(!u.isCompleted)if(u.topics.length>0){const d=u.topics.find(m=>!m.isCompleted);if(d){n=u,i=d;break}}else{n=u;break}break}return!e||!n?y.jsxs("div",{className:"bg-gradient-to-r from-emerald-500 to-teal-600 rounded-2xl p-6 text-white shadow-lg shadow-emerald-500/20 flex flex-col items-center justify-center text-center h-full min-h-[160px]",children:[y.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center mb-3 text-2xl",children:""}),y.jsx("h3",{className:"font-bold text-xl mb-1",children:"All Caught Up!"}),y.jsx("p",{className:"text-emerald-100 text-sm",children:"You've completed everything in your syllabus."}),y.jsx("div",{className:"mt-4 px-4 py-2 bg-white/20 rounded-lg text-sm font-medium backdrop-blur-sm",children:"Time to review or rest!"})]}):y.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm relative overflow-hidden h-full flex flex-col justify-between group",children:[y.jsxs("div",{className:"relative z-10",children:[y.jsxs("div",{className:"flex items-center justify-between mb-4",children:[y.jsxs("h3",{className:"text-slate-500 dark:text-slate-400 font-medium flex items-center gap-2 text-sm",children:[y.jsx(VC,{className:"w-4 h-4 text-blue-500 fill-current"}),"Continue Learning"]}),y.jsx("span",{className:`text-xs font-semibold px-2 py-1 rounded-full text-white ${e.color}`,children:e.name})]}),y.jsxs("div",{className:"mb-4",children:[y.jsx("h4",{className:"text-xl font-bold text-slate-800 dark:text-white line-clamp-1 mb-1",children:i?i.name:n.name}),y.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 flex items-center gap-2",children:[y.jsx(xn,{className:"w-3.5 h-3.5"}),n.name]})]})]}),y.jsx("div",{className:"relative z-10",children:y.jsxs(Ft,{to:`/subject/${e.id}`,className:"flex items-center justify-center gap-2 w-full py-2.5 bg-slate-900 hover:bg-slate-800 dark:bg-slate-700 dark:hover:bg-slate-600 text-white rounded-xl font-medium transition-all group-hover:translate-x-1",children:["Resume Study ",y.jsx(hv,{className:"w-4 h-4"})]})}),y.jsx("div",{className:`absolute top-0 right-0 w-32 h-32 opacity-10 rounded-full blur-2xl -translate-y-1/2 translate-x-1/2 ${e.color.replace("text-","bg-")}`})]})}const fd=[{text:"The expert in anything was once a beginner.",author:"Helen Hayes"},{text:"It always seems impossible until it's done.",author:"Nelson Mandela"},{text:"Don't watch the clock; do what it does. Keep going.",author:"Sam Levenson"},{text:"Success is the sum of small efforts, repeated day in and day out.",author:"Robert Collier"},{text:"There is no substitute for hard work.",author:"Thomas Edison"},{text:"The future depends on what you do today.",author:"Mahatma Gandhi"},{text:"Believe you can and you're halfway there.",author:"Theodore Roosevelt"},{text:"Quality is not an act, it is a habit.",author:"Aristotle"},{text:"Your limitationit's only your imagination.",author:"Unknown"},{text:"Push yourself, because no one else is going to do it for you.",author:"Unknown"},{text:"Great things never come from comfort zones.",author:"Unknown"},{text:"Dream it. Wish it. Do it.",author:"Unknown"},{text:"Success doesn't just find you. You have to go out and get it.",author:"Unknown"},{text:"The harder you work for something, the greater you'll feel when you achieve it.",author:"Unknown"},{text:"Dream bigger. Do bigger.",author:"Unknown"},{text:"Don't stop when you're tired. Stop when you're done.",author:"Unknown"},{text:"Wake up with determination. Go to bed with satisfaction.",author:"Unknown"},{text:"Do something today that your future self will thank you for.",author:"Unknown"},{text:"Little things make big days.",author:"Unknown"},{text:"It's going to be hard, but hard does not mean impossible.",author:"Unknown"}];function f8(){const[t,e]=R.useState(()=>Math.floor(Math.random()*fd.length)),n=()=>{e(i=>(i+1)%fd.length)};return y.jsxs("div",{className:"bg-gradient-to-br from-indigo-500 to-purple-600 rounded-2xl p-6 text-white relative overflow-hidden shadow-lg shadow-indigo-500/20 md:h-full flex flex-col justify-between",children:[y.jsxs("div",{className:"flex items-start justify-between mb-4",children:[y.jsx("div",{className:"p-2 bg-white/20 backdrop-blur-sm rounded-lg",children:y.jsx(SU,{className:"w-5 h-5 text-white"})}),y.jsx("button",{onClick:n,className:"p-2 text-white/50 hover:text-white hover:bg-white/10 rounded-full transition-colors",title:"Next Quote",children:y.jsx(CU,{className:"w-4 h-4"})})]}),y.jsx(Cs,{mode:"wait",children:y.jsxs(_e.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},children:[y.jsxs("p",{className:"text-lg md:text-xl font-medium mb-3 leading-relaxed",children:['"',fd[t].text,'"']}),y.jsxs("p",{className:"text-indigo-200 text-sm font-medium",children:[" ",fd[t].author]})]},t)}),y.jsx("div",{className:"absolute -bottom-4 -right-4 w-24 h-24 bg-white/10 rounded-full blur-xl"}),y.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-purple-500/20 rounded-full blur-2xl"})]})}const $w={hidden:{opacity:0,y:10},show:{opacity:1,y:0,transition:{duration:.4,when:"beforeChildren",staggerChildren:.1}},exit:{opacity:0,y:-10}},Ag={hidden:{opacity:0,y:20},show:{opacity:1,y:0,transition:{type:"spring",stiffness:100,damping:12}}};function m8(){const{userProfile:t,subjects:e}=ln(),[n,i]=R.useState(!1),a=t.name==="Student",l=e.reduce((p,v)=>p+v.chapters.length,0),u=e.reduce((p,v)=>p+v.chapters.filter(x=>x.isCompleted).length,0);let d=0;e.forEach(p=>{p.chapters.forEach(v=>{v.topics&&v.topics.length>0?d+=v.topics.filter(x=>x.isCompleted).length/v.topics.length*100:d+=v.isCompleted?100:0})});const m=l===0?0:Math.round(d/l);return y.jsxs(_e.div,{className:"space-y-6 md:space-y-8",variants:$w,initial:"hidden",animate:"show",exit:"exit",children:[y.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[y.jsxs("div",{children:[y.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-slate-800 dark:text-white transition-colors",children:["Welcome, ",y.jsx("span",{className:"bg-gradient-to-r from-blue-700 to-teal-600 dark:from-blue-400 dark:to-teal-400 bg-clip-text text-transparent",children:t.name})]}),y.jsxs("p",{className:"text-sm md:text-base text-slate-500 dark:text-slate-400 mt-1 transition-colors",children:[y.jsx("span",{className:"font-semibold text-slate-700 dark:text-slate-300",children:t.grade}),"  Let's make progress!"]})]}),y.jsxs(_e.button,{id:"add-subject-btn",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>i(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-3 md:px-5 md:py-3 rounded-xl font-medium flex items-center justify-center gap-2 shadow-sm transition-colors text-sm md:text-base w-full md:w-auto",children:[y.jsx(ru,{className:"w-4 h-4 md:w-5 md:h-5"}),"Add Subject"]})]}),y.jsxs("div",{className:"flex overflow-x-auto snap-x snap-mandatory -mx-4 px-4 pb-4 gap-4 md:grid md:grid-cols-2 lg:grid-cols-3 md:mx-0 md:px-0 md:pb-0 md:overflow-visible no-scrollbar",children:[y.jsx("div",{className:"snap-center shrink-0 w-[85vw] md:w-auto lg:col-span-1 h-full",children:y.jsx(d8,{})}),y.jsxs("div",{className:"snap-center shrink-0 w-[85vw] md:w-auto grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-1 gap-4 lg:gap-6 h-full",children:[y.jsx(h8,{}),y.jsx(f8,{})]}),y.jsxs("div",{className:"snap-center shrink-0 w-[85vw] md:w-auto grid grid-cols-2 gap-4 lg:grid-cols-1 lg:gap-6 h-full",children:[y.jsx(_e.div,{className:"col-span-2 lg:col-span-1 bg-gradient-to-br from-blue-600 to-indigo-700 dark:from-blue-700 dark:to-indigo-800 rounded-2xl p-6 text-white relative overflow-hidden shadow-lg shadow-blue-500/20 flex flex-col justify-center min-h-[140px]",children:y.jsxs("div",{className:"relative z-10 flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsxs("h3",{className:"text-blue-100 font-medium mb-1 text-sm flex items-center gap-2",children:[y.jsx(UL,{className:"w-4 h-4"})," Syllabus Completion"]}),y.jsxs("div",{className:"text-4xl font-bold mb-1",children:[m,"%"]}),y.jsxs("p",{className:"text-blue-100/80 text-xs",children:[u," / ",l," Chapters Done"]})]}),y.jsx("div",{className:"w-16 h-16 rounded-full border-4 border-white/20 flex items-center justify-center",children:y.jsxs("span",{className:"font-bold text-lg",children:[m,"%"]})})]})}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsx(Fo,{title:"Done",value:u,icon:au,colorClass:"text-amber-500",bgClass:"bg-amber-50 dark:bg-amber-900/20",delay:.1}),y.jsx(Fo,{title:"Pending",value:l-u,icon:E0,colorClass:"text-violet-500",bgClass:"bg-violet-50 dark:bg-violet-900/20",delay:.2})]})]})]}),t.earnedBadges&&t.earnedBadges.length>0&&y.jsxs(_e.div,{variants:Ag,className:"bg-white dark:bg-slate-800 rounded-2xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm transition-colors",children:[y.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4 flex items-center gap-2",children:[y.jsx(au,{className:"w-5 h-5 text-yellow-500"}),"Recent Achievements"]}),y.jsx("div",{className:"flex flex-wrap gap-4",children:t.earnedBadges.map((p,v)=>y.jsx(c8,{type:p.type,dateEarned:p.earnedAt},`${p.type}-${v}`))})]}),y.jsxs("div",{children:[y.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4 flex items-center gap-2 transition-colors",children:["Your Subjects",y.jsx("span",{className:"text-sm font-normal text-slate-400 dark:text-slate-500 bg-slate-100 dark:bg-slate-800 px-2 py-0.5 rounded-full",children:e.length})]}),e.length>0?y.jsxs(_e.div,{variants:$w,initial:"hidden",animate:"show",className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.map((p,v)=>y.jsx(_e.div,{variants:Ag,children:y.jsx(a8,{subject:p,index:v})},p.id)),y.jsxs(_e.button,{variants:Ag,whileHover:{scale:1.02,backgroundColor:"rgba(239, 246, 255, 0.5)"},whileTap:{scale:.98},onClick:()=>i(!0),className:"group border-2 border-dashed border-slate-200 dark:border-slate-700 rounded-2xl p-6 flex flex-col items-center justify-center text-slate-400 dark:text-slate-500 hover:border-blue-400 dark:hover:border-blue-500 hover:text-blue-600 dark:hover:text-blue-400 transition-all cursor-pointer h-full min-h-[180px] w-full",children:[y.jsx("div",{className:"w-12 h-12 rounded-full bg-slate-100 dark:bg-slate-800 group-hover:bg-blue-100 dark:group-hover:bg-blue-900/20 flex items-center justify-center mb-3 transition-colors",children:y.jsx(ru,{className:"w-6 h-6"})}),y.jsx("span",{className:"font-medium",children:"Add Another Subject"})]})]}):y.jsxs(_e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-16 bg-white dark:bg-slate-800 rounded-2xl border border-dashed border-slate-200 dark:border-slate-700 transition-colors",children:[y.jsx("div",{className:"w-16 h-16 bg-slate-50 dark:bg-slate-700 rounded-full flex items-center justify-center mx-auto mb-4",children:y.jsx(E0,{className:"w-8 h-8 text-slate-300 dark:text-slate-500"})}),y.jsx("h3",{className:"text-lg font-semibold text-slate-700 dark:text-slate-200 mb-2",children:"No subjects yet"}),y.jsx("p",{className:"text-slate-500 dark:text-slate-400 max-w-sm mx-auto mb-6",children:"Start by adding the subjects you want to track to organize your study plan."}),y.jsx("button",{onClick:()=>i(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2.5 rounded-xl font-medium transition-all",children:"Add Your First Subject"})]})]}),n&&y.jsx(o8,{onClose:()=>i(!1)}),a&&y.jsx(u8,{})]})}function p8({subjectId:t,onClose:e}){const{addChapter:n}=ln(),[i,a]=R.useState(""),l=u=>{u.preventDefault(),i.trim()&&(n(t,i.trim()),a(""))};return y.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm animate-in fade-in duration-200",children:y.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl w-full max-w-md overflow-hidden animate-in zoom-in-95 duration-200 transition-colors",children:[y.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-slate-100 dark:border-slate-700",children:[y.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white flex items-center gap-2 transition-colors",children:[y.jsx(E0,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),"Add Chapters"]}),y.jsx("button",{onClick:e,className:"p-2 text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full transition-colors",children:y.jsx(Kr,{className:"w-5 h-5"})})]}),y.jsxs("form",{onSubmit:l,className:"p-6 space-y-4",children:[y.jsxs("div",{children:[y.jsxs("div",{className:"flex justify-between items-center mb-1",children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 transition-colors",children:"Chapter Name / Topic"}),y.jsx("span",{className:"text-xs text-slate-400 dark:text-slate-500 transition-colors",children:"Press Enter to add & continue"})]}),y.jsx("input",{autoFocus:!0,type:"text",value:i,onChange:u=>a(u.target.value),placeholder:"e.g. Newton's Laws",className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all placeholder:text-slate-400 dark:placeholder:text-slate-500"})]}),y.jsxs("div",{className:"flex gap-3 pt-2",children:[y.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-3 border border-slate-200 dark:border-slate-600 text-slate-600 dark:text-slate-300 font-medium rounded-xl hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",children:"Done"}),y.jsxs("button",{type:"submit",disabled:!i.trim(),className:"flex-1 bg-blue-600 hover:bg-blue-700 dark:bg-blue-600 dark:hover:bg-blue-500 disabled:opacity-50 disabled:cursor-not-allowed text-white font-medium py-3 rounded-xl flex items-center justify-center gap-2 transition-all active:scale-[0.98]",children:[y.jsx(ru,{className:"w-5 h-5"}),"Add"]})]})]})]})})}const g8={initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10}};function Su({children:t,className:e=""}){return y.jsx(_e.div,{variants:g8,initial:"initial",animate:"animate",exit:"exit",transition:{duration:.3,ease:"easeOut"},className:e,children:t})}const zC=R.createContext(void 0);function y8({children:t}){const[e,n]=R.useState(()=>typeof window<"u"?localStorage.getItem("sound-muted")==="true":!1),i=R.useRef(null);R.useEffect(()=>{localStorage.setItem("sound-muted",String(e))},[e]);const a=()=>{i.current||(i.current=new(window.AudioContext||window.webkitAudioContext)),i.current.state==="suspended"&&i.current.resume()},l=p=>{if(e)return;i.current||(i.current=new(window.AudioContext||window.webkitAudioContext));const v=i.current,x=v.createOscillator(),T=v.createGain();x.connect(T),T.connect(v.destination);const A=v.currentTime;switch(p){case"pop":x.type="sine",x.frequency.setValueAtTime(800,A),x.frequency.exponentialRampToValueAtTime(1200,A+.1),T.gain.setValueAtTime(.1,A),T.gain.exponentialRampToValueAtTime(.01,A+.1),x.start(A),x.stop(A+.1);break;case"success":u(v,523.25,A,.1,"sine"),u(v,659.25,A+.1,.1,"sine"),u(v,783.99,A+.2,.2,"sine");break;case"complete":x.type="triangle",x.frequency.setValueAtTime(440,A),x.frequency.linearRampToValueAtTime(880,A+.5),T.gain.setValueAtTime(.1,A),T.gain.linearRampToValueAtTime(.3,A+.2),T.gain.linearRampToValueAtTime(0,A+1.5),x.start(A),x.stop(A+1.5);break;case"click":x.type="square",x.frequency.setValueAtTime(200,A),T.gain.setValueAtTime(.05,A),T.gain.exponentialRampToValueAtTime(.01,A+.05),x.start(A),x.stop(A+.05);break;case"error":x.type="sawtooth",x.frequency.setValueAtTime(150,A),x.frequency.linearRampToValueAtTime(100,A+.2),T.gain.setValueAtTime(.1,A),T.gain.linearRampToValueAtTime(0,A+.3),x.start(A),x.stop(A+.3);break}},u=(p,v,x,T,A="sine")=>{const M=p.createOscillator(),L=p.createGain();M.connect(L),L.connect(p.destination),M.type=A,M.frequency.setValueAtTime(v,x),L.gain.setValueAtTime(.1,x),L.gain.exponentialRampToValueAtTime(.01,x+T),M.start(x),M.stop(x+T)},d=p=>{i.current?.state==="suspended"&&i.current.resume().catch(()=>{}),l(p)},m=()=>{n(p=>!p),e&&a()};return y.jsx(zC.Provider,{value:{isMuted:e,toggleMute:m,playSound:d},children:t})}function dv(){const t=R.useContext(zC);if(t===void 0)throw new Error("useSound must be used within a SoundProvider");return t}function v8({subjectId:t,chapterId:e,topicId:n,currentName:i,onClose:a}){const{editTopic:l}=ln(),[u,d]=R.useState(i);R.useEffect(()=>{d(i)},[i]);const m=p=>{p.preventDefault(),u.trim()&&(l(t,e,n,u.trim()),a())};return y.jsx(Cs,{children:y.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:y.jsxs(_e.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white dark:bg-slate-800 rounded-2xl w-full max-w-sm shadow-xl border border-slate-100 dark:border-slate-700 overflow-hidden",children:[y.jsxs("div",{className:"p-4 border-b border-slate-100 dark:border-slate-700 flex items-center justify-between bg-slate-50/50 dark:bg-slate-800/50",children:[y.jsx("h2",{className:"text-lg font-bold text-slate-800 dark:text-white",children:"Edit Topic"}),y.jsx("button",{onClick:a,className:"p-1 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 transition-colors rounded-full hover:bg-slate-100 dark:hover:bg-slate-700",children:y.jsx(Kr,{className:"w-5 h-5"})})]}),y.jsxs("form",{onSubmit:m,className:"p-6 space-y-6",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Topic Name"}),y.jsxs("div",{className:"relative",children:[y.jsx(MC,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),y.jsx("input",{type:"text",value:u,onChange:p=>d(p.target.value),placeholder:"e.g. Algebra Basics",className:"w-full bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl py-3 pl-10 pr-4 text-slate-800 dark:text-white placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all",autoFocus:!0})]})]}),y.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[y.jsx("button",{type:"button",onClick:a,className:"px-4 py-2 text-slate-600 dark:text-slate-400 font-medium hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:"Cancel"}),y.jsx("button",{type:"submit",disabled:!u.trim(),className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg shadow-sm shadow-blue-500/20 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:"Save Changes"})]})]})]})})})}function b8({subjectId:t,chapterId:e,topic:n}){const{toggleTopic:i,deleteTopic:a}=ln(),{playSound:l}=dv(),[u,d]=R.useState(!1);return y.jsxs(y.Fragment,{children:[y.jsxs(_e.div,{layout:!0,initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:-10},className:"flex items-center gap-3 py-2 pl-4 pr-2 group/topic hover:bg-slate-50 dark:hover:bg-slate-700/50 rounded-lg transition-colors ml-8 border-l border-slate-100 dark:border-slate-700",children:[y.jsx(_e.button,{whileTap:{scale:.8},onClick:()=>{i(t,e,n.id),n.isCompleted||l("pop")},className:`flex-shrink-0 w-4 h-4 rounded-full border flex items-center justify-center transition-colors ${n.isCompleted?"border-emerald-500 bg-emerald-500 text-white":"border-slate-300 dark:border-slate-500 text-transparent hover:border-slate-400 dark:hover:border-slate-400"}`,children:y.jsx(vl,{className:"w-3 h-3"})}),y.jsx("span",{className:`flex-1 text-sm font-google-sans transition-all ${n.isCompleted?"text-slate-400 line-through":"text-slate-600 dark:text-slate-300"}`,children:n.name}),y.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover/topic:opacity-100 transition-opacity",children:[y.jsx("button",{onClick:()=>d(!0),className:"p-1.5 text-slate-300 hover:text-amber-500 dark:text-slate-600 dark:hover:text-amber-400 transition-all",title:"Edit Topic",children:y.jsx(zf,{className:"w-3.5 h-3.5"})}),y.jsx("button",{onClick:()=>confirm("Delete this topic?")&&a(t,e,n.id),className:"p-1.5 text-slate-300 hover:text-red-500 dark:text-slate-600 dark:hover:text-red-400 transition-all",title:"Delete Topic",children:y.jsx(Eu,{className:"w-3.5 h-3.5"})})]})]}),u&&y.jsx(v8,{subjectId:t,chapterId:e,topicId:n.id,currentName:n.name,onClose:()=>d(!1)})]})}function x8({subjectId:t,chapterId:e,currentName:n,onClose:i}){const{editChapter:a}=ln(),[l,u]=R.useState(n);R.useEffect(()=>{u(n)},[n]);const d=m=>{m.preventDefault(),l.trim()&&(a(t,e,l.trim()),i())};return y.jsx(Cs,{children:y.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:y.jsxs(_e.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white dark:bg-slate-800 rounded-2xl w-full max-w-md shadow-xl border border-slate-100 dark:border-slate-700 overflow-hidden",children:[y.jsxs("div",{className:"p-4 border-b border-slate-100 dark:border-slate-700 flex items-center justify-between bg-slate-50/50 dark:bg-slate-800/50",children:[y.jsx("h2",{className:"text-lg font-bold text-slate-800 dark:text-white",children:"Edit Chapter"}),y.jsx("button",{onClick:i,className:"p-1 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 transition-colors rounded-full hover:bg-slate-100 dark:hover:bg-slate-700",children:y.jsx(Kr,{className:"w-5 h-5"})})]}),y.jsxs("form",{onSubmit:d,className:"p-6 space-y-6",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Chapter Name"}),y.jsxs("div",{className:"relative",children:[y.jsx(MC,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),y.jsx("input",{type:"text",value:l,onChange:m=>u(m.target.value),placeholder:"e.g. Differentiation",className:"w-full bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl py-3 pl-10 pr-4 text-slate-800 dark:text-white placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all",autoFocus:!0})]})]}),y.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[y.jsx("button",{type:"button",onClick:i,className:"px-4 py-2 text-slate-600 dark:text-slate-400 font-medium hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:"Cancel"}),y.jsx("button",{type:"submit",disabled:!l.trim(),className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg shadow-sm shadow-blue-500/20 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:"Save Changes"})]})]})]})})})}function BC({subjectId:t,chapter:e,isExpanded:n,onToggle:i}){const{deleteChapter:a,addTopic:l}=ln(),[u,d]=R.useState(!1),[m,p]=R.useState(!1),v=x=>{x.preventDefault();const T=x.target.elements.namedItem("topicName");T.value.trim()&&(l(t,e.id,T.value.trim()),T.value="",d(!1))};return y.jsxs("div",{className:"group transition-colors",children:[y.jsxs("div",{className:`flex items-center gap-3 p-4 pr-14 relative hover:bg-slate-50/80 dark:hover:bg-slate-700/50 cursor-pointer transition-colors ${e.isCompleted?"bg-slate-50/30 dark:bg-slate-700/30":""}`,onClick:i,children:[y.jsx("button",{className:"p-1 text-slate-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:y.jsx(_e.div,{animate:{rotate:n?180:0},transition:{duration:.2},children:y.jsx(FL,{className:"w-5 h-5"})})}),y.jsxs("div",{className:"flex-1",children:[y.jsx("span",{className:`block font-bold text-lg transition-all ${e.isCompleted?"text-emerald-700 dark:text-emerald-400":"text-slate-800 dark:text-slate-200"}`,children:e.name}),y.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[y.jsxs("span",{className:"text-xs text-slate-400 dark:text-slate-500 font-medium whitespace-nowrap transition-colors",children:[e.topics?.filter(x=>x.isCompleted).length||0,"/",e.topics?.length||0," Topics",e.isCompleted&&y.jsxs("span",{className:"text-emerald-600 dark:text-emerald-400 ml-2 font-bold inline-flex items-center gap-1",children:[y.jsx(vl,{className:"w-3 h-3"})," Done"]})]}),e.topics&&e.topics.length>0&&y.jsx("div",{className:"h-1.5 w-24 bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden flex-shrink-0 transition-colors",children:y.jsx(_e.div,{initial:{width:0},animate:{width:`${Math.round(e.topics.filter(x=>x.isCompleted).length/e.topics.length*100)}%`},transition:{duration:.5,ease:"easeOut"},className:`h-full ${e.isCompleted?"bg-emerald-500":"bg-blue-500"}`})})]})]}),y.jsxs("div",{className:"flex items-center gap-2 absolute right-4 top-1/2 -translate-y-1/2",children:[y.jsx(_e.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:x=>{x.stopPropagation(),d(!0),n||i()},className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/30 dark:hover:text-blue-400 rounded-lg transition-colors",title:"Add Topic",children:y.jsx(ru,{className:"w-4 h-4"})}),y.jsx(_e.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:x=>{x.stopPropagation(),p(!0)},className:"p-2 text-slate-400 hover:text-amber-500 hover:bg-amber-50 dark:hover:bg-amber-900/30 dark:hover:text-amber-400 rounded-lg transition-colors",title:"Edit Chapter",children:y.jsx(zf,{className:"w-4 h-4"})}),y.jsx(_e.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:x=>{x.stopPropagation(),confirm("Delete this chapter?")&&a(t,e.id)},className:"p-2 text-slate-300 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/30 dark:hover:text-red-400 rounded-lg transition-colors",title:"Delete Chapter",children:y.jsx(Eu,{className:"w-4 h-4"})})]})]}),y.jsx(Cs,{children:n&&y.jsx(_e.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2,ease:"easeInOut"},className:"overflow-hidden bg-slate-50/50 dark:bg-slate-800/50 transition-colors",children:y.jsxs("div",{className:"pb-2",children:[e.topics&&e.topics.length>0?e.topics.map(x=>y.jsx(b8,{subjectId:t,chapterId:e.id,topic:x},x.id)):y.jsx("div",{className:"pl-12 py-3 text-sm text-slate-400 italic",children:"No topics yet. Click + to add one."}),u&&y.jsxs(_e.form,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},onSubmit:v,className:"pl-12 pr-4 py-2 flex items-center gap-2",children:[y.jsx(XL,{className:"w-4 h-4 text-slate-300 dark:text-slate-500"}),y.jsx("input",{autoFocus:!0,name:"topicName",type:"text",placeholder:"Topic name...",className:"flex-1 bg-white dark:bg-slate-700 px-3 py-1.5 rounded-lg border border-slate-200 dark:border-slate-600 text-sm text-slate-800 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-colors",onBlur:()=>setTimeout(()=>d(!1),200)}),y.jsx("button",{type:"submit",className:"hidden",children:"Add"})]})]})})}),m&&y.jsx(x8,{subjectId:t,chapterId:e.id,currentName:e.name,onClose:()=>p(!1)})]})}function _8(){const{id:t}=pk(),e=ff(),{subjects:n,deleteSubject:i}=ln(),[a,l]=R.useState(!1),[u,d]=R.useState(!1),[m,p]=R.useState({}),v=n.find(U=>U.id===t);if(!v)return y.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[50vh] text-center p-8",children:[y.jsx("div",{className:"w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mb-4",children:y.jsx(xn,{className:"w-8 h-8 text-slate-300"})}),y.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Subject Not Found"}),y.jsx(Ft,{to:"/",className:"mt-4 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Go Back Home"})]});const x=()=>{confirm(`Are you sure you want to delete ${v.name}? ALL progress will be lost.`)&&(i(v.id),e("/"))},T=U=>{p(F=>({...F,[U]:!F[U]}))},A=v.chapters.length,M=v.chapters.filter(U=>U.isCompleted).length;let L=0;v.chapters.forEach(U=>{U.topics&&U.topics.length>0?L+=U.topics.filter(F=>F.isCompleted).length/U.topics.length*100:L+=U.isCompleted?100:0});const P=A===0?0:Math.round(L/A);return y.jsxs(Su,{className:"max-w-3xl mx-auto pb-12",children:[y.jsxs("div",{className:"mb-8",children:[y.jsxs(Ft,{to:"/",className:"inline-flex items-center gap-2 text-slate-500 hover:text-slate-800 dark:text-slate-400 dark:hover:text-slate-200 mb-6 transition-colors group",children:[y.jsx(wL,{className:"w-4 h-4 group-hover:-translate-x-1 transition-transform"}),"Back to Dashboard"]}),y.jsxs("div",{className:"flex flex-col md:flex-row md:items-start justify-between gap-4",children:[y.jsxs("div",{children:[y.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1 rounded-full text-xs font-semibold text-white mb-3 ${v.color}`,children:[y.jsx(xn,{className:"w-3 h-3"}),v.name]}),y.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-800 dark:text-white transition-colors",children:v.name}),y.jsxs("p",{className:"text-slate-500 dark:text-slate-400 mt-2 transition-colors",children:[M," of ",A," chapters completed"]})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("button",{onClick:()=>d(!0),className:"text-slate-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/30 dark:hover:text-blue-400 p-2 rounded-lg transition-colors",title:"Edit Subject",children:y.jsx(zf,{className:"w-5 h-5"})}),y.jsx("button",{onClick:x,className:"text-red-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/30 dark:hover:text-red-400 p-2 rounded-lg transition-colors",title:"Delete Subject",children:y.jsx(Eu,{className:"w-5 h-5"})})]})]}),y.jsxs("div",{className:"mt-6",children:[y.jsxs("div",{className:"flex justify-between items-end mb-2",children:[y.jsxs("span",{className:"text-3xl font-bold text-slate-800 dark:text-white transition-colors",children:[P,"%"]}),y.jsx("span",{className:"text-sm font-medium text-slate-400 dark:text-slate-500 transition-colors",children:"Progress"})]}),y.jsx("div",{className:"h-3 w-full bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden transition-colors",children:y.jsx(_e.div,{initial:{width:0},animate:{width:`${P}%`},transition:{duration:1,ease:"easeOut"},className:`h-full ${v.color}`})})]})]}),y.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl border border-slate-100 dark:border-slate-700 shadow-sm overflow-hidden transition-colors",children:[y.jsxs("div",{className:"p-6 border-b border-slate-50 dark:border-slate-700 flex items-center justify-between bg-slate-50/50 dark:bg-slate-700/30 transition-colors",children:[y.jsx("h2",{className:"text-lg font-bold text-slate-800 dark:text-white transition-colors",children:"Syllabus / Chapters"}),y.jsxs(_e.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>l(!0),className:"bg-slate-900 hover:bg-slate-800 dark:bg-slate-700 dark:hover:bg-slate-600 text-white px-4 py-2 rounded-lg text-sm font-medium flex items-center gap-2 transition-colors",children:[y.jsx(ru,{className:"w-4 h-4"}),"Add Chapter"]})]}),y.jsx("div",{className:"divide-y divide-slate-50 dark:divide-slate-700 transition-colors",children:v.chapters.length>0?v.chapters.map(U=>y.jsx(BC,{subjectId:v.id,chapter:U,isExpanded:!!m[U.id],onToggle:()=>T(U.id)},U.id)):y.jsxs("div",{className:"p-12 text-center",children:[y.jsx("div",{className:"w-16 h-16 bg-slate-50 dark:bg-slate-700/50 rounded-full flex items-center justify-center mx-auto mb-3 transition-colors",children:y.jsx(xn,{className:"w-6 h-6 text-slate-300 dark:text-slate-500"})}),y.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-4 transition-colors",children:"No chapters added yet."}),y.jsx("button",{onClick:()=>l(!0),className:"text-blue-600 dark:text-blue-400 font-medium hover:underline transition-colors",children:"Add your first chapter"})]})})]}),a&&y.jsx(p8,{subjectId:v.id,onClose:()=>l(!1)}),u&&y.jsx(UC,{subject:v,onClose:()=>d(!1)})]})}const FC=R.createContext(void 0);function T8({children:t}){const[e,n]=R.useState(()=>typeof window<"u"&&localStorage.getItem("theme")?localStorage.getItem("theme"):typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");R.useEffect(()=>{const a=window.document.documentElement;a.classList.remove("light","dark"),a.classList.add(e),localStorage.setItem("theme",e)},[e]);const i=()=>{n(a=>a==="light"?"dark":"light")};return y.jsx(FC.Provider,{value:{theme:e,toggleTheme:i},children:t})}function HC(){const t=R.useContext(FC);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t}const Cg=[{id:"hsc-science-2026-bn",name:"HSC Science (Bangla Medium)",subjects:[{name:"  ",icon:"Book",color:"text-emerald-500",chapters:[{name:"",topics:[{name:""},{name:""},{name:"-"},{name:" "},{name:""}]},{name:"",topics:[{name:" "},{name:""},{name:""},{name:"  "},{name:" "}]}]},{name:"  ",icon:"Book",color:"text-emerald-500",chapters:[{name:"",topics:[{name:""},{name:""},{name:""}]},{name:"",topics:[{name:" "},{name:""},{name:""},{name:""}]}]},{name:"  ",icon:"Book",color:"text-emerald-500",chapters:[{name:"  -   ",topics:[{name:" "},{name:"  "},{name:"  "},{name:" "},{name:"  "}]},{name:"  - ",topics:[{name:"  "},{name:" "},{name:" "},{name:" "},{name:"  "},{name:" "},{name:"  "},{name:" "},{name:"   "},{name:"   "},{name:"  "},{name:"  "}]},{name:"  - ",topics:[{name:"  "},{name:"  "},{name:" "},{name:"  "},{name:"   "},{name:" "},{name:""},{name:"    "},{name:"   "},{name:"  "},{name:"   "},{name:"   "}]},{name:"  -  ",topics:[{name:" "},{name:"   "},{name:"   "},{name:"   "},{name:"  "},{name:"  "},{name:" "},{name:"    "},{name:"  "},{name:"  "},{name:"   "},{name:"  "}]},{name:"  - ,   ",topics:[{name:"    "},{name:"    "},{name:""},{name:""},{name:"    "},{name:"  "},{name:""}]},{name:"  -   ",topics:[{name:""},{name:" "},{name:"   "},{name:"   "},{name:"  "},{name:"   "},{name:"  "},{name:" "},{name:"  - "}]},{name:"  -   ",topics:[{name:" "},{name:""},{name:" "},{name:" "},{name:"  "},{name:" "},{name:"   "}]},{name:"  -  ",topics:[{name:" "},{name:"  "},{name:"     "},{name:"       "},{name:"   "},{name:"   "},{name:"  "}]},{name:"  - ",topics:[{name:" "},{name:"  "},{name:"  "},{name:"  "},{name:" "},{name:" "},{name:"  "}]},{name:"  -     ",topics:[{name:" "},{name:" "},{name:" "},{name:"   "},{name:"      "},{name:" "},{name:"    "},{name:" "},{name:"  "}]}]},{name:"  ",icon:"Zap",color:"text-violet-500",chapters:[{name:"",topics:[]},{name:" ",topics:[]},{name:" ",topics:[]},{name:"   ",topics:[]},{name:" ",topics:[]},{name:" ",topics:[]},{name:" ",topics:[]},{name:"  ",topics:[]},{name:" ",topics:[]},{name:"  ",topics:[]}]},{name:"  ",icon:"Beaker",color:"text-teal-500",chapters:[{name:"  ",topics:[]},{name:" ",topics:[]},{name:"  ",topics:[]},{name:" ",topics:[]},{name:" ",topics:[]}]},{name:"  ",icon:"Beaker",color:"text-teal-500",chapters:[{name:" ",topics:[]},{name:" ",topics:[]},{name:" ",topics:[]},{name:" ",topics:[]},{name:" ",topics:[]}]},{name:"   ",icon:"Calculator",color:"text-blue-500",chapters:[{name:"  ",topics:[]},{name:"",topics:[]},{name:"",topics:[]},{name:"",topics:[]},{name:"  ",topics:[]},{name:"",topics:[]},{name:"",topics:[]},{name:"",topics:[]},{name:"",topics:[]}]},{name:"   ",icon:"Calculator",color:"text-blue-500",chapters:[{name:" ",topics:[]},{name:" ",topics:[]},{name:" ",topics:[]},{name:"   ",topics:[]},{name:" ",topics:[]},{name:"",topics:[]},{name:"  ",topics:[]},{name:"",topics:[]},{name:"",topics:[]},{name:"   ",topics:[]}]},{name:"  ",icon:"Dna",color:"text-green-500",chapters:[{name:"   ",topics:[]},{name:" ",topics:[]},{name:" ",topics:[]},{name:"",topics:[]},{name:"  ",topics:[]},{name:"  ",topics:[]},{name:"  ",topics:[]},{name:"  ",topics:[]},{name:" ",topics:[]},{name:" ",topics:[]},{name:"",topics:[]}]},{name:"  ",icon:"Dna",color:"text-green-500",chapters:[{name:"   ",topics:[]},{name:" ",topics:[]},{name:"  ",topics:[]},{name:"  ",topics:[]},{name:"  ",topics:[]},{name:"  ",topics:[]},{name:"  ",topics:[]},{name:"  ",topics:[]},{name:"  ",topics:[]},{name:"  ",topics:[]},{name:"  ",topics:[]},{name:" ",topics:[]}]},{name:"   ",icon:"Cpu",color:"text-indigo-500",chapters:[{name:"   ",topics:[]},{name:" ",topics:[]},{name:" ",topics:[]},{name:"  ",topics:[]},{name:" ",topics:[]},{name:" ",topics:[]}]}]},{id:"ssc-science-2026-bn",name:"SSC Science (Bangla Medium)",subjects:[{name:"  ",icon:"Book",color:"text-emerald-500",chapters:[{name:"",topics:[{name:""},{name:" "},{name:" "},{name:"  "},{name:"  (.)"},{name:""},{name:"  "},{name:"  "},{name:" "},{name:""},{name:" "},{name:" "},{name:"   "}]},{name:"",topics:[{name:""},{name:" "},{name:"-"},{name:"-"},{name:" "},{name:""},{name:"  "},{name:""},{name:""},{name:"   "},{name:""},{name:"  ,  "},{name:" "},{name:",     "}]},{name:"",topics:[{name:" ()"},{name:" ()"}]}]},{name:"  ",icon:"Book",color:"text-emerald-500",chapters:[{name:"",topics:[{name:"  "},{name:"   "},{name:"   "},{name:""},{name:" "},{name:"  "},{name:""},{name:""},{name:""},{name:"  "}]},{name:"",topics:[{name:""},{name:" / "},{name:""},{name:""},{name:""},{name:""}]}]},{name:"",icon:"Zap",color:"text-violet-500",chapters:[{name:"   ",topics:[]},{name:"",topics:[]},{name:"",topics:[]},{name:",   ",topics:[]},{name:"   ",topics:[]},{name:"   ",topics:[]},{name:"  ",topics:[]},{name:" ",topics:[]},{name:" ",topics:[]},{name:" ",topics:[]},{name:" ",topics:[]},{name:"   ",topics:[]},{name:" ",topics:[]}]},{name:"",icon:"Beaker",color:"text-teal-500",chapters:[{name:" ",topics:[]},{name:" ",topics:[]},{name:" ",topics:[]},{name:" ",topics:[]},{name:" ",topics:[]},{name:"   ",topics:[]},{name:" ",topics:[]},{name:"  ",topics:[]},{name:"- ",topics:[]},{name:" : -",topics:[]},{name:" : ",topics:[]},{name:"  ",topics:[]}]},{name:" ",icon:"Calculator",color:"text-blue-500",chapters:[{name:"  ",topics:[]},{name:" ",topics:[]},{name:"",topics:[]},{name:" ",topics:[]},{name:"",topics:[]},{name:"",topics:[]},{name:" ",topics:[]},{name:"",topics:[]},{name:"  ",topics:[]},{name:" ",topics:[]},{name:" ",topics:[]},{name:" ",topics:[]},{name:" ",topics:[]},{name:"",topics:[]}]},{name:" ",icon:"Calculator",color:"text-blue-500",chapters:[{name:" ",topics:[]},{name:"  ",topics:[]},{name:" ",topics:[]},{name:"  ",topics:[]},{name:"  ",topics:[]},{name:",   ",topics:[]},{name:" ",topics:[]},{name:"",topics:[]},{name:" ",topics:[]},{name:"  ",topics:[]},{name:"   ",topics:[]},{name:"   ",topics:[]},{name:" ",topics:[]},{name:",   ",topics:[]},{name:"  ",topics:[]},{name:"",topics:[]},{name:"",topics:[]}]},{name:"",icon:"Dna",color:"text-green-500",chapters:[{name:" ",topics:[]},{name:"  ",topics:[]},{name:" ",topics:[]},{name:"",topics:[]},{name:",   ",topics:[]},{name:" ",topics:[]},{name:" ",topics:[]},{name:"",topics:[]},{name:"   ",topics:[]},{name:"",topics:[]},{name:" ",topics:[]},{name:"   ",topics:[]},{name:" ",topics:[]},{name:"",topics:[]}]},{name:"  ",icon:"Globe",color:"text-rose-500",chapters:[{name:"     ",topics:[]},{name:" ",topics:[]},{name:"  ",topics:[]},{name:"   ",topics:[]},{name:" -   ",topics:[]},{name:",   ",topics:[]},{name:"  ",topics:[]},{name:"   ",topics:[]},{name:"  ",topics:[]},{name:"   (SDG)",topics:[]},{name:"    ",topics:[]},{name:"  ",topics:[]},{name:"     ",topics:[]},{name:"    ",topics:[]},{name:"  ",topics:[]},{name:"     ",topics:[]}]},{name:"   ",icon:"Moon",color:"text-teal-600",chapters:[{name:"   ",topics:[]},{name:" ",topics:[]},{name:"",topics:[]},{name:"",topics:[]},{name:" ",topics:[]}]}]}];function w8({onClose:t}){const[e,n]=R.useState(Cg[0].id),[i,a]=R.useState(new Set),l=Cg.find(m=>m.id===e),u=m=>{const p=new Set(i);p.has(m)?p.delete(m):p.add(m),a(p)},d=()=>{if(l)if(i.size===l.subjects.length)a(new Set);else{const m=new Set(l.subjects.map(p=>p.name));a(m)}};return y.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm animate-in fade-in duration-200",children:y.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl w-full max-w-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[y.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-slate-100 dark:border-slate-700",children:[y.jsxs("div",{children:[y.jsxs("h3",{className:"text-xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[y.jsx(xn,{className:"w-6 h-6 text-blue-600"}),"Import Syllabus"]}),y.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:"Select a curriculum to quick-start your study plan."})]}),y.jsx("button",{onClick:t,className:"p-2 text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full transition-colors",children:y.jsx(Kr,{className:"w-5 h-5"})})]}),y.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col md:flex-row",children:[y.jsxs("div",{className:"w-full md:w-48 bg-slate-50 dark:bg-slate-900/50 border-r border-slate-100 dark:border-slate-700 p-4",children:[y.jsx("h4",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider mb-3",children:"Curriculums"}),y.jsx("div",{className:"space-y-2",children:Cg.map(m=>y.jsx("button",{onClick:()=>{n(m.id),a(new Set)},className:`w-full text-left px-3 py-2 rounded-lg text-sm font-medium transition-colors ${e===m.id?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400":"text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800"}`,children:m.name},m.id))})]}),y.jsxs("div",{className:"flex-1 p-6 overflow-y-auto",children:[y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[y.jsxs("h4",{className:"font-semibold text-slate-800 dark:text-white",children:[l?.name," Subjects"]}),y.jsx("button",{onClick:d,className:"text-xs font-medium text-blue-600 dark:text-blue-400 hover:underline",children:i.size===l?.subjects.length?"Deselect All":"Select All"})]}),y.jsx("div",{className:"space-y-3",children:l?.subjects.map(m=>y.jsxs("div",{onClick:()=>u(m.name),className:`relative flex items-start gap-4 p-4 rounded-xl border cursor-pointer transition-all ${i.has(m.name)?"border-blue-500 bg-blue-50/50 dark:bg-blue-900/10":"border-slate-200 dark:border-slate-700 hover:border-slate-300 dark:hover:border-slate-600"}`,children:[y.jsx("div",{className:`mt-1 flex-shrink-0 w-5 h-5 rounded border flex items-center justify-center transition-colors ${i.has(m.name)?"bg-blue-500 border-blue-500":"bg-white dark:bg-slate-800 border-slate-300 dark:border-slate-600"}`,children:i.has(m.name)&&y.jsx(kC,{className:"w-3.5 h-3.5 text-white"})}),y.jsxs("div",{className:"flex-1",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[y.jsx("span",{className:`font-semibold ${i.has(m.name)?"text-blue-700 dark:text-blue-300":"text-slate-700 dark:text-slate-300"}`,children:m.name}),y.jsxs("span",{className:"text-xs px-2 py-0.5 rounded-full bg-slate-100 dark:bg-slate-700 text-slate-500",children:[m.chapters.length," Chapters"]})]}),y.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 line-clamp-1",children:[m.chapters.slice(0,3).map(p=>p.name).join(", "),"..."]})]})]},m.name))})]})]}),y.jsxs("div",{className:"p-6 border-t border-slate-100 dark:border-slate-700 flex justify-end gap-3 bg-slate-50/50 dark:bg-slate-900/50",children:[y.jsx("button",{onClick:t,className:"px-5 py-2.5 rounded-xl font-medium text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors",children:"Cancel"}),y.jsx(E8,{count:i.size,currentTemplate:l,selectedSubjects:i,onClose:t})]})]})})}function E8({count:t,currentTemplate:e,selectedSubjects:n,onClose:i}){const{importSyllabusData:a}=ln(),l=()=>{if(t===0||!e)return;const u=e.subjects.filter(d=>n.has(d.name));a(u),i()};return y.jsxs("button",{onClick:l,disabled:t===0,className:"px-6 py-2.5 rounded-xl font-medium bg-blue-600 hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed text-white shadow-lg shadow-blue-500/20 transition-all active:scale-95 flex items-center gap-2",children:[y.jsx(IC,{className:"w-4 h-4"}),"Import ",t>0?`${t} Subjects`:""]})}function S8(){const{user:t,logout:e}=Ha(),{userProfile:n,updateProfile:i,resetData:a,exportData:l,importData:u}=ln(),{isMuted:d,toggleMute:m}=dv(),{theme:p,toggleTheme:v}=HC(),x=R.useRef(null),T=R.useRef(null),[A,M]=R.useState(!1),[L,P]=R.useState(!1),[U,F]=R.useState("Notification"in window&&Notification.permission==="granted"),H=()=>{const I=x.current?.value.trim()||"",E=T.current?.value.trim()||"";if(!I){alert("Please enter your name");return}i({name:I,grade:E}),P(!1),alert(` Profile updated successfully!

You can update your profile anytime.`)},ne=()=>{const I=document.createElement("input");I.type="file",I.accept=".json",I.onchange=E=>{const C=E.target.files?.[0];if(C){const j=new FileReader;j.onload=k=>{const O=k.target?.result;u(O)&&alert("Data imported successfully!")},j.readAsText(C)}},I.click()},Z=()=>{confirm("Do you want to restart the welcome tour?")&&(localStorage.removeItem("tracked_tour_completed"),window.location.reload())},le=async()=>{if(!("Notification"in window)){alert("This browser does not support desktop notifications");return}if(Notification.permission==="granted")F(!U);else if(Notification.permission!=="denied"){const I=await Notification.requestPermission();F(I==="granted")}else alert("Notifications are blocked. Please enable them in your browser settings.")};return y.jsxs(Su,{className:"max-w-2xl mx-auto space-y-8 pb-10",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[y.jsx(S0,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"}),y.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-white transition-colors",children:"Settings"})]}),y.jsxs(_e.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden transition-colors",children:[y.jsx("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700",children:y.jsxs("h2",{className:"text-lg font-semibold text-slate-800 dark:text-white flex items-center gap-2",children:[y.jsx(S0,{className:"w-5 h-5 text-blue-500"}),"Profile Information"]})}),y.jsxs("div",{className:"p-6 space-y-4",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1 transition-colors",children:"Student Name"}),y.jsx("input",{ref:x,type:"text",defaultValue:n?.name||"",disabled:!L,className:`w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all placeholder:text-slate-400 dark:placeholder:text-slate-500 ${L?"":"opacity-60 cursor-not-allowed bg-slate-50 dark:bg-slate-800/50"}`,placeholder:"Enter your name"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1 transition-colors",children:"Class / Grade"}),y.jsx("input",{ref:T,type:"text",defaultValue:n?.grade||"",disabled:!L,className:`w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all placeholder:text-slate-400 dark:placeholder:text-slate-500 ${L?"":"opacity-60 cursor-not-allowed bg-slate-50 dark:bg-slate-800/50"}`,placeholder:"e.g. HSC 2026"})]})]}),y.jsx("div",{className:"pt-2 flex gap-3",children:L?y.jsxs(y.Fragment,{children:[y.jsx("button",{onClick:()=>P(!1),className:"px-5 py-2.5 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-200 font-medium rounded-lg hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors text-sm",children:"Cancel"}),y.jsxs("button",{onClick:H,className:"px-5 py-2.5 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition-colors flex items-center gap-2 text-sm shadow-sm",children:[y.jsx(hf,{className:"w-4 h-4"}),"Save Changes"]})]}):y.jsxs("button",{onClick:()=>P(!0),className:"px-5 py-2.5 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-200 font-medium rounded-lg hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors flex items-center gap-2 text-sm",children:[y.jsx(Hw,{className:"w-4 h-4"}),"Edit Profile"]})})]})]}),y.jsxs(_e.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden transition-colors",children:[y.jsx("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700",children:y.jsxs("h2",{className:"text-lg font-semibold text-slate-800 dark:text-white flex items-center gap-2",children:[y.jsx(mU,{className:"w-5 h-5 text-purple-500"}),"Appearance & Preferences"]})}),y.jsxs("div",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:[y.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:`p-2 rounded-lg ${p==="dark"?"bg-slate-700 text-slate-300":"bg-orange-100 text-orange-600"}`,children:p==="dark"?y.jsx(uf,{className:"w-5 h-5"}):y.jsx(A0,{className:"w-5 h-5"})}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"App Theme"}),y.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Switch between light and dark mode"})]})]}),y.jsx("button",{onClick:v,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${p==="dark"?"bg-blue-600":"bg-slate-200"}`,children:y.jsx("span",{className:`${p==="dark"?"translate-x-6":"translate-x-1"} inline-block h-4 w-4 transform rounded-full bg-white transition-transform`})})]}),y.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:`p-2 rounded-lg ${d?"bg-slate-100 dark:bg-slate-700 text-slate-400":"bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400"}`,children:d?y.jsx(LC,{className:"w-5 h-5"}):y.jsx(PC,{className:"w-5 h-5"})}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"Sound Effects"}),y.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Play sounds for timer and interactions"})]})]}),y.jsx("button",{onClick:m,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${d?"bg-slate-200 dark:bg-slate-600":"bg-blue-600"}`,children:y.jsx("span",{className:`${d?"translate-x-1":"translate-x-6"} inline-block h-4 w-4 transform rounded-full bg-white transition-transform`})})]}),y.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:`p-2 rounded-lg ${U?"bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400":"bg-slate-100 dark:bg-slate-700 text-slate-400"}`,children:U?y.jsx(RL,{className:"w-5 h-5"}):y.jsx(CL,{className:"w-5 h-5"})}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"Notifications"}),y.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Get reminders for study sessions"})]})]}),y.jsx("button",{onClick:le,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${U?"bg-blue-600":"bg-slate-200 dark:bg-slate-600"}`,children:y.jsx("span",{className:`${U?"translate-x-6":"translate-x-1"} inline-block h-4 w-4 transform rounded-full bg-white transition-transform`})})]}),y.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"p-2 rounded-lg bg-pink-100 dark:bg-pink-900/30 text-pink-600 dark:text-pink-400",children:y.jsx(sU,{className:"w-5 h-5"})}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"Language"}),y.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"App language preference"})]})]}),y.jsxs("select",{className:"bg-transparent border border-slate-200 dark:border-slate-600 rounded-lg text-sm px-2 py-1 text-slate-700 dark:text-slate-300 focus:ring-2 focus:ring-blue-500 outline-none",children:[y.jsx("option",{children:"English"}),y.jsx("option",{disabled:!0,children:"Bengali (Coming Soon)"})]})]})]})]}),y.jsxs(_e.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden transition-colors",children:[y.jsx("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700",children:y.jsxs("h2",{className:"text-lg font-semibold text-slate-800 dark:text-white flex items-center gap-2",children:[y.jsx(hf,{className:"w-5 h-5 text-green-500"}),"Data & Backup"]})}),y.jsxs("div",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:[y.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors cursor-pointer",onClick:()=>M(!0),children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"p-2 rounded-lg bg-indigo-100 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400",children:y.jsx(xn,{className:"w-5 h-5"})}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"Import Syllabus Template"}),y.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Quickly add pre-made subject templates"})]})]}),y.jsx("button",{className:"text-slate-400",children:y.jsx(Hw,{className:"w-4 h-4"})})]}),y.jsxs("div",{className:"p-4 grid grid-cols-2 gap-4",children:[y.jsxs("button",{onClick:l,className:"flex items-center justify-center gap-2 py-2.5 border border-slate-200 dark:border-slate-600 rounded-lg text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors text-sm font-medium",children:[y.jsx(IC,{className:"w-4 h-4"}),"Export Data"]}),y.jsxs("button",{onClick:ne,className:"flex items-center justify-center gap-2 py-2.5 border border-slate-200 dark:border-slate-600 rounded-lg text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors text-sm font-medium",children:[y.jsx(JU,{className:"w-4 h-4"}),"Import Data"]})]}),y.jsx("div",{className:"p-4 bg-red-50/50 dark:bg-red-900/10",children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"p-2 rounded-lg bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400",children:y.jsx(Eu,{className:"w-5 h-5"})}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-red-700 dark:text-red-400 font-medium",children:"Reset Application"}),y.jsx("p",{className:"text-xs text-red-600/70 dark:text-red-400/70",children:"Permanently delete all study data"})]})]}),y.jsx("button",{onClick:()=>{confirm("Are you absolutely sure? This cannot be undone.")&&a()},className:"px-4 py-2 bg-white dark:bg-slate-800 border border-red-200 dark:border-red-800 text-red-600 dark:text-red-400 font-medium rounded-lg hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors text-xs shadow-sm",children:"Reset Data"})]})})]})]}),y.jsxs(_e.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden transition-colors",children:[y.jsx("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700",children:y.jsxs("h2",{className:"text-lg font-semibold text-slate-800 dark:text-white flex items-center gap-2",children:[y.jsx(LU,{className:"w-5 h-5 text-gray-500"}),"Support & Info"]})}),y.jsxs("div",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:[y.jsx("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors cursor-pointer",onClick:Z,children:y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"p-2 rounded-lg bg-cyan-100 dark:bg-cyan-900/30 text-cyan-600 dark:text-cyan-400",children:y.jsx(OC,{className:"w-5 h-5"})}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"Restart Welcome Tour"}),y.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Show the onboarding guide again"})]})]})}),y.jsx("a",{href:"https://github.com/shahnewajsrabon/Study-Mate/issues/new?title=Bug%3A%20&body=%23%23%20Bug%20Description",target:"_blank",rel:"noopener noreferrer",className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors",children:y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"p-2 rounded-lg bg-orange-100 dark:bg-orange-900/30 text-orange-600 dark:text-orange-400",children:y.jsx(VL,{className:"w-5 h-5"})}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"Report a Bug"}),y.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Help us improve by reporting issues"})]})]})}),y.jsx("a",{href:"https://chat.whatsapp.com/K9mUpCp6Moo4poVbW5zgfr",target:"_blank",rel:"noopener noreferrer",className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors",children:y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"p-2 rounded-lg bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400",children:y.jsx(cf,{className:"w-5 h-5"})}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"Join WhatsApp Group"}),y.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Get help & discuss with community"})]})]})}),y.jsx("div",{className:"p-4 bg-slate-50 dark:bg-slate-800/50 flex items-center justify-center",children:y.jsx("p",{className:"text-xs text-slate-400 font-medium",children:"TrackEd v1.0.0  Made with  for Students"})})]})]}),t&&y.jsxs(_e.button,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},onClick:e,className:"w-full p-4 rounded-xl border border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-400 font-medium hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors flex items-center justify-center gap-2",children:[y.jsx(jC,{className:"w-5 h-5"}),"Sign Out"]}),y.jsx(Cs,{children:A&&y.jsx(w8,{onClose:()=>M(!1)})})]})}function A8(t){let e=0,n=0,i=0,a=0;return t.forEach(l=>{e+=l.chapters.length,l.chapters.forEach(u=>{u.isCompleted&&n++,u.topics&&(i+=u.topics.length,u.topics.forEach(d=>{d.isCompleted&&a++}))})}),{totalChapters:e,completedChapters:n,totalTopics:i,completedTopics:a}}function C8(t){const e=new Date,i=Array.from({length:7},(l,u)=>{const d=new Date;return d.setDate(e.getDate()-(6-u)),d.toISOString().split("T")[0]}).map(l=>{let u=0;return t.forEach(d=>{d.chapters.forEach(m=>{m.topics&&m.topics.forEach(p=>{p.isCompleted&&p.completedAt&&p.completedAt.startsWith(l)&&u++})})}),{date:l,count:u}}),a=Math.max(...i.map(l=>l.count),1);return{activityData:i,maxCount:a}}function N8(t){const e=new Set;t.forEach(d=>d.chapters.forEach(m=>m.topics?.forEach(p=>{p.isCompleted&&p.completedAt&&e.add(p.completedAt.split("T")[0])})));const n=Array.from(e).sort((d,m)=>new Date(m).getTime()-new Date(d).getTime());let i=0;const a=new Date().toISOString().split("T")[0],l=new Date;l.setDate(l.getDate()-1);const u=l.toISOString().split("T")[0];if(n.length>0){const d=n[0];if(d===a||d===u){i=1;let m=new Date(d);for(let p=1;p<n.length;p++){const v=new Date(n[p]),x=Math.abs(m.getTime()-v.getTime());if(Math.round(x/(1e3*60*60*24))===1)i++,m=v;else break}}}return i}function R8(){const{subjects:t}=ln(),{totalChapters:e,completedChapters:n,totalTopics:i,completedTopics:a}=A8(t),{activityData:l,maxCount:u}=C8(t),d=N8(t),m=i>0?Math.round(a/i*100):0,p={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}};return y.jsxs(Su,{className:"max-w-4xl mx-auto pb-12",children:[y.jsxs("h1",{className:"text-3xl font-bold text-slate-800 dark:text-white mb-8 flex items-center gap-3 transition-colors",children:[y.jsx(C0,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"}),"Study Analytics"]}),y.jsxs(_e.div,{variants:p,initial:"hidden",animate:"show",className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[y.jsx("div",{className:"sm:col-span-1",children:y.jsx(Fo,{title:"Total Streak",value:`${d} days`,icon:RC,colorClass:"text-orange-500",bgClass:"bg-orange-50 dark:bg-orange-900/20",delay:.1})}),y.jsx("div",{className:"sm:col-span-1",children:y.jsx(Fo,{title:"Topics Done",value:`${a} / ${i}`,icon:xn,colorClass:"text-blue-500",bgClass:"bg-blue-50 dark:bg-blue-900/20",delay:.2})}),y.jsx("div",{className:"sm:col-span-1",children:y.jsx(Fo,{title:"Chapters Done",value:`${n} / ${e}`,icon:au,colorClass:"text-amber-500",bgClass:"bg-amber-50 dark:bg-amber-900/20",delay:.3})}),y.jsx("div",{className:"sm:col-span-1",children:y.jsx(Fo,{title:"Completion",value:`${m}%`,icon:vl,colorClass:"text-emerald-500",bgClass:"bg-emerald-50 dark:bg-emerald-900/20",delay:.4})})]}),y.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[y.jsxs(_e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"md:col-span-2 bg-white dark:bg-slate-800 p-6 rounded-3xl border border-slate-100 dark:border-slate-700 shadow-sm transition-colors",children:[y.jsxs("h2",{className:"text-lg font-bold text-slate-800 dark:text-white mb-6 flex items-center gap-2 transition-colors",children:[y.jsx(PL,{className:"w-5 h-5 text-slate-400"}),"Last 7 Days Activity"]}),y.jsx("div",{className:"flex items-end justify-between gap-2 h-48",children:l.map((v,x)=>y.jsxs("div",{className:"flex-1 flex flex-col items-center gap-2 group",children:[y.jsx("div",{className:"w-full bg-slate-100 dark:bg-slate-700 rounded-t-lg relative h-full flex items-end overflow-hidden transition-colors",children:y.jsx(_e.div,{initial:{height:0},animate:{height:`${v.count/u*100}%`},transition:{duration:1,delay:x*.1,ease:"easeOut"},className:"w-full bg-blue-500 dark:bg-blue-600 rounded-t-lg transition-colors duration-300 group-hover:bg-blue-600 dark:group-hover:bg-blue-500 relative",children:y.jsxs("div",{className:"absolute -top-8 left-1/2 -translate-x-1/2 bg-slate-800 text-white text-xs py-1 px-2 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10",children:[v.count," Topics"]})})}),y.jsx("span",{className:"text-xs text-slate-400 dark:text-slate-500 font-medium transition-colors",children:new Date(v.date).toLocaleDateString("en-US",{weekday:"short"})})]},v.date))})]}),y.jsxs(_e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white dark:bg-slate-800 p-6 rounded-3xl border border-slate-100 dark:border-slate-700 shadow-sm transition-colors",children:[y.jsxs("h2",{className:"text-lg font-bold text-slate-800 dark:text-white mb-6 flex items-center gap-2 transition-colors",children:[y.jsx(xn,{className:"w-5 h-5 text-slate-400"}),"Subject Progress"]}),y.jsxs("div",{className:"space-y-4 max-h-[300px] overflow-y-auto pr-2 custom-scrollbar",children:[t.map(v=>{const x=v.chapters.reduce((M,L)=>M+(L.topics?.length||0),0),T=v.chapters.reduce((M,L)=>M+(L.topics?.filter(P=>P.isCompleted).length||0),0),A=x>0?Math.round(T/x*100):0;return y.jsxs("div",{children:[y.jsxs("div",{className:"flex justify-between items-center mb-1",children:[y.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 transition-colors",children:v.name}),y.jsxs("span",{className:"text-xs text-slate-400 dark:text-slate-500 transition-colors",children:[A,"%"]})]}),y.jsx("div",{className:"h-2 bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden transition-colors",children:y.jsx(_e.div,{initial:{width:0},animate:{width:`${A}%`},transition:{duration:1,ease:"easeOut"},className:`h-full ${v.color}`})})]},v.id)}),t.length===0&&y.jsx("div",{className:"text-center text-slate-400 text-sm py-8",children:"No subjects added."})]})]})]})]})}function k8(){const{subjects:t}=ln(),[e,n]=R.useState(""),[i,a]=R.useState("all"),[l,u]=R.useState("all"),[d,m]=R.useState({}),p=t.flatMap(T=>T.chapters.map(A=>({...A,subjectName:T.name,subjectColor:T.color,subjectId:T.id}))),v=p.filter(T=>{const A=T.name.toLowerCase().includes(e.toLowerCase())||T.subjectName.toLowerCase().includes(e.toLowerCase()),M=i==="all"||T.subjectId===i,L=l==="all"||(l==="completed"?T.isCompleted:!T.isCompleted);return A&&M&&L}),x=T=>{m(A=>({...A,[T]:!A[T]}))};return y.jsxs(Su,{className:"max-w-4xl mx-auto pb-12",children:[y.jsxs("h1",{className:"text-3xl font-bold text-slate-800 dark:text-white mb-8 flex items-center gap-3 transition-colors",children:[y.jsx(xn,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"}),"All Chapters Tracker"]}),y.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm mb-8 transition-colors",children:[y.jsxs("div",{className:"flex justify-between items-end mb-2",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"text-lg font-bold text-slate-800 dark:text-white transition-colors",children:"Overall Progress"}),y.jsxs("p",{className:"text-slate-500 dark:text-slate-400 text-sm transition-colors",children:[p.filter(T=>T.isCompleted).length," of ",p.length," chapters completed"]})]}),y.jsxs("span",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400 transition-colors",children:[p.length>0?Math.round(p.filter(T=>T.isCompleted).length/p.length*100):0,"%"]})]}),y.jsx("div",{className:"h-4 w-full bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden transition-colors",children:y.jsx(_e.div,{initial:{width:0},animate:{width:`${p.length>0?Math.round(p.filter(T=>T.isCompleted).length/p.length*100):0}%`},transition:{duration:1,ease:"easeOut"},className:"h-full bg-blue-600 dark:bg-blue-500"})})]}),y.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm mb-6 flex flex-col md:flex-row gap-4 transition-colors",children:[y.jsxs("div",{className:"relative flex-1",children:[y.jsx(jU,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),y.jsx("input",{type:"text",placeholder:"Search chapters or subjects...",value:e,onChange:T=>n(T.target.value),className:"w-full pl-9 pr-4 py-2 bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg text-slate-800 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/20 placeholder:text-slate-400 dark:placeholder:text-slate-500 transition-colors"})]}),y.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-2 md:pb-0",children:[y.jsxs("select",{value:i,onChange:T=>a(T.target.value),className:"px-3 py-2 bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg text-sm text-slate-600 dark:text-slate-300 focus:outline-none transition-colors",children:[y.jsx("option",{value:"all",children:"All Subjects"}),t.map(T=>y.jsx("option",{value:T.id,children:T.name},T.id))]}),y.jsxs("select",{value:l,onChange:T=>u(T.target.value),className:"px-3 py-2 bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg text-sm text-slate-600 dark:text-slate-300 focus:outline-none transition-colors",children:[y.jsx("option",{value:"all",children:"All Status"}),y.jsx("option",{value:"completed",children:"Completed"}),y.jsx("option",{value:"pending",children:"Pending"})]})]})]}),y.jsx("div",{className:"space-y-4",children:v.length>0?v.map(T=>y.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-100 dark:border-slate-700 shadow-sm overflow-hidden transition-colors",children:[y.jsx("div",{className:"bg-slate-50/50 dark:bg-slate-700/30 px-4 py-1 text-xs font-semibold text-slate-500 dark:text-slate-400 border-b border-slate-50 dark:border-slate-700 flex items-center justify-between transition-colors",children:y.jsx("span",{className:T.subjectColor,children:T.subjectName})}),y.jsx(BC,{subjectId:T.subjectId,chapter:T,isExpanded:!!d[T.id],onToggle:()=>x(T.id)})]},T.id)):y.jsx("div",{className:"text-center py-12 bg-white dark:bg-slate-800 rounded-2xl border border-dashed border-slate-200 dark:border-slate-700 transition-colors",children:y.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"No chapters found matching your filters."})})})]})}function I8(){const{saveStudySession:t,subjects:e}=ln(),{user:n}=Ha(),{playSound:i,isMuted:a,toggleMute:l}=dv(),[u,d]=R.useState("stopwatch"),[m,p]=R.useState(!1),[v,x]=R.useState(0),[T,A]=R.useState(0),[M,L]=R.useState(30),[P,U]=R.useState("timer"),[F,H]=R.useState("today"),[ne,Z]=R.useState(""),[le,I]=R.useState(""),[E,C]=R.useState(""),[j,k]=R.useState(!1),[O,D]=R.useState([]),[Ee,Pe]=R.useState(!0),Q=R.useRef(null);R.useEffect(()=>{Notification.permission==="default"&&Notification.requestPermission()},[]);const ae=(oe,Ce)=>{Notification.permission==="granted"&&new Notification(oe,{body:Ce,icon:"/vite.svg"})};R.useEffect(()=>(m?Q.current=window.setInterval(()=>{x(oe=>u==="stopwatch"?oe+1:oe<=1?(p(!1),i("complete"),ae("Time's Up! ","Your study session is complete. Take a break!"),0):oe-1)},1e3):Q.current&&clearInterval(Q.current),()=>{Q.current&&clearInterval(Q.current)}),[m,u,i]),R.useEffect(()=>{if(p(!1),k(!1),u==="stopwatch")x(0),A(0);else if(u==="pomodoro"||u==="countdown"){const oe=M*60;x(oe),A(oe)}},[u,M]),R.useEffect(()=>{(async()=>{if(n){Pe(!0);try{const Ce=of(Nr,"users");let Le="userProfile.todayStudyTime";F==="week"?Le="userProfile.weeklyStudyTime":F==="month"?Le="userProfile.monthlyStudyTime":F==="all_time"&&(Le="userProfile.totalStudyTime");const Qt=vC(Ce,bC(Le,"desc"),xC(10)),Rs=await cL(Qt),li=[];Rs.forEach(ci=>{const Xt=ci.data();if(Xt.userProfile){let as=0;F==="today"?as=Xt.userProfile.todayStudyTime||0:F==="week"?as=Xt.userProfile.weeklyStudyTime||0:F==="month"?as=Xt.userProfile.monthlyStudyTime||0:as=Xt.userProfile.totalStudyTime||0,li.push({userId:ci.id,userName:Xt.userProfile.name||"Anonymous",displayTime:as})}}),D(li)}catch(Ce){console.error("Error fetching leaderboard:",Ce)}finally{Pe(!1)}}})()},[n,P,F]),R.useEffect(()=>(m?document.title=`${z(v)} - ${E||(u==="pomodoro"?"Focus":"Timer")}`:document.title="Study Tracker",()=>{document.title="Study Tracker"}),[m,v,u,E]);const de=()=>{!m&&u!=="stopwatch"&&v===0&&x(T),p(!m),i("click")},Ae=()=>{p(!1),k(!1),x(u==="stopwatch"?0:T),i("click")},Ve=async()=>{if(!le){alert("Please select a subject to save session.");return}let oe=0;if(u==="stopwatch"?oe=v:oe=T-v,oe<60){alert("Session must be at least 1 minute to save.");return}await t(oe,le,E),k(!0),i("success")},z=oe=>{const Ce=Math.floor(oe/3600),Le=Math.floor(oe%3600/60),Qt=oe%60;return Ce>0?`${Ce}:${Le.toString().padStart(2,"0")}:${Qt.toString().padStart(2,"0")}`:`${Le.toString().padStart(2,"0")}:${Qt.toString().padStart(2,"0")}`},ee=oe=>{const Ce=Math.floor(oe/3600),Le=Math.floor(oe%3600/60),Qt=oe%60;return`${Ce.toString().padStart(2,"0")}:${Le.toString().padStart(2,"0")}:${Qt.toString().padStart(2,"0")}`},ue=u==="stopwatch"?100:Math.max(0,v/T*100),he=120,Te=2*Math.PI*he,Re=Te-ue/100*Te;return y.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[y.jsxs("header",{className:"flex items-center justify-between",children:[y.jsx("div",{children:y.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-slate-900 dark:text-white transition-colors",children:"Focus Timer"})}),y.jsx("button",{onClick:l,className:"p-2 text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 transition-colors",children:a?y.jsx(LC,{className:"w-6 h-6"}):y.jsx(PC,{className:"w-6 h-6"})})]}),y.jsxs("div",{className:"flex p-1 bg-slate-100 dark:bg-slate-800 rounded-xl mb-6 md:hidden",children:[y.jsx("button",{onClick:()=>U("timer"),className:`flex-1 py-2 text-sm font-medium rounded-lg transition-all ${P==="timer"?"bg-white dark:bg-slate-700 text-blue-600 dark:text-blue-400 shadow-sm":"text-slate-500 dark:text-slate-400"}`,children:"Timer"}),y.jsx("button",{onClick:()=>U("leaderboard"),className:`flex-1 py-2 text-sm font-medium rounded-lg transition-all ${P==="leaderboard"?"bg-white dark:bg-slate-700 text-blue-600 dark:text-blue-400 shadow-sm":"text-slate-500 dark:text-slate-400"}`,children:"Leaderboard"})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[y.jsxs("div",{className:`${P==="timer"?"block":"hidden"} md:block flex flex-col space-y-6`,children:[y.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 transition-colors",children:[y.jsx("label",{className:"block text-sm font-medium text-slate-500 mb-2",children:"My Focus Goal"}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("input",{type:"text",placeholder:"What are you working on? (e.g. Physics Chapter 3)",className:"flex-1 bg-slate-50 dark:bg-slate-700 border-none rounded-xl px-4 py-3 text-slate-800 dark:text-white placeholder:text-slate-400 focus:ring-2 focus:ring-blue-500 transition-all font-medium",value:E,onChange:oe=>C(oe.target.value),disabled:m}),y.jsxs("select",{className:"w-1/3 bg-slate-50 dark:bg-slate-700 border-none rounded-xl px-3 py-3 text-slate-600 dark:text-slate-300 font-medium focus:ring-2 focus:ring-blue-500 cursor-pointer text-sm",value:le,onChange:oe=>I(oe.target.value),disabled:m,children:[y.jsx("option",{value:"",children:"Subject"}),e.map(oe=>y.jsx("option",{value:oe.id,children:oe.name},oe.id))]})]})]}),y.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl p-8 shadow-sm border border-slate-100 dark:border-slate-700 flex flex-col items-center justify-center relative overflow-hidden transition-colors min-h-[400px]",children:[y.jsxs("div",{className:"relative w-64 h-64 md:w-72 md:h-72 mb-8 flex items-center justify-center",children:[y.jsxs("svg",{className:"w-full h-full transform -rotate-90",children:[y.jsx("circle",{cx:"50%",cy:"50%",r:he,stroke:"currentColor",strokeWidth:"12",fill:"transparent",className:"text-slate-100 dark:text-slate-700"}),y.jsx("circle",{cx:"50%",cy:"50%",r:he,stroke:"currentColor",strokeWidth:"12",fill:"transparent",strokeDasharray:Te,strokeDashoffset:u==="stopwatch"?0:Re,strokeLinecap:"round",className:`transition-all duration-1000 ease-linear ${m?u==="pomodoro"?"text-rose-500":"text-blue-500":"text-slate-300 dark:text-slate-600"}`})]}),y.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center z-10",children:[y.jsx("div",{className:`text-5xl md:text-6xl font-bold tracking-tight tabular-nums mb-2 ${m?u==="pomodoro"?"text-rose-500":"text-blue-600":"text-slate-800 dark:text-white"}`,children:z(v)}),y.jsx("div",{className:"text-slate-400 dark:text-slate-500 font-medium uppercase tracking-widest text-sm",children:m?"Running":"Paused"})]})]}),y.jsxs("div",{className:"flex items-center gap-6 z-10",children:[!m&&y.jsx("button",{onClick:Ae,className:"p-3 rounded-full bg-slate-100 dark:bg-slate-700 text-slate-500 hover:bg-slate-200 dark:hover:bg-slate-600 transition-all hover:scale-110",title:"Reset",children:y.jsx(OC,{className:"w-5 h-5"})}),y.jsx("button",{onClick:de,className:`p-6 rounded-full shadow-xl transition-all hover:scale-105 active:scale-95 ${m?"bg-amber-100 text-amber-600 hover:bg-amber-200":"bg-blue-600 text-white hover:bg-blue-700"}`,children:m?y.jsx(yU,{className:"w-8 h-8 fill-current"}):y.jsx(VC,{className:"w-8 h-8 ml-1 fill-current"})}),!m&&(u==="stopwatch"&&v>60||u!=="stopwatch"&&v!==T)&&!j&&y.jsx("button",{onClick:Ve,className:"p-3 rounded-full bg-emerald-100 text-emerald-600 hover:bg-emerald-200 transition-all hover:scale-110 animate-pulse",title:"Save Session",children:y.jsx(hf,{className:"w-5 h-5"})})]}),y.jsxs("div",{className:"mt-8 flex gap-2",children:[y.jsx("button",{onClick:()=>{d("stopwatch"),L(0)},className:`px-4 py-2 text-sm font-medium rounded-full transition-all ${u==="stopwatch"?"bg-blue-100 text-blue-700":"text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:"Stopwatch"}),y.jsx("button",{onClick:()=>{d("pomodoro"),L(25)},className:`px-4 py-2 text-sm font-medium rounded-full transition-all ${u==="pomodoro"?"bg-rose-100 text-rose-700":"text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:"Pomodoro"}),y.jsx("button",{onClick:()=>{d("countdown"),L(30)},className:`px-4 py-2 text-sm font-medium rounded-full transition-all ${u==="countdown"?"bg-amber-100 text-amber-700":"text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:"Countdown"})]}),!m&&(u==="pomodoro"||u==="countdown")&&y.jsxs("div",{className:"mt-4 flex items-center gap-2 animate-in fade-in slide-in-from-bottom-2",children:[y.jsx("span",{className:"text-slate-400 text-sm",children:"Duration:"}),y.jsx("input",{type:"range",min:"5",max:"120",step:"5",value:M,onChange:oe=>L(Number(oe.target.value)),className:"w-32 accent-blue-600 cursor-pointer"}),y.jsxs("span",{className:"text-slate-700 dark:text-slate-300 font-bold w-12 text-center",children:[M,"m"]})]})]})]}),y.jsxs("div",{className:`${P==="leaderboard"?"block":"hidden"} md:block bg-white dark:bg-slate-800 rounded-3xl p-6 shadow-xl border border-slate-100 dark:border-slate-700 h-fit transition-colors sticky top-24`,children:[y.jsxs("div",{className:"flex flex-col gap-4 mb-6",children:[y.jsx("div",{className:"flex items-center justify-between",children:y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(au,{className:"w-6 h-6 text-yellow-500"}),y.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Leaderboard"})]})}),y.jsxs("div",{className:"relative",children:[y.jsx("input",{type:"text",placeholder:"Search name...",value:ne,onChange:oe=>Z(oe.target.value),className:"w-full pl-10 pr-4 py-3 bg-slate-50 dark:bg-slate-700/50 border border-slate-200 dark:border-slate-600 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500/50 text-slate-800 dark:text-white placeholder:text-slate-400 transition-all font-medium"}),y.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",children:y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:y.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})})})]}),y.jsx("div",{className:"flex p-1.5 bg-slate-100 dark:bg-slate-700/50 rounded-xl",children:["today","week","month","all_time"].map(oe=>y.jsx("button",{onClick:()=>H(oe),className:`flex-1 py-2 text-xs font-bold rounded-lg transition-all capitalize ${F===oe?"bg-blue-600 text-white shadow-md":"text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-200 hover:bg-white/50 dark:hover:bg-white/5"}`,children:oe==="all_time"?"Lifetime":oe==="today"?"24 Hours":oe==="week"?"7 Days":"1 Month"},oe))})]}),Ee?y.jsxs("div",{className:"text-center py-12 text-slate-400 flex flex-col items-center",children:[y.jsx("div",{className:"w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mb-3"}),y.jsx("p",{className:"text-sm font-medium",children:"Loading rankings..."})]}):y.jsxs("div",{className:"space-y-3",children:[O.filter(oe=>oe.userName.toLowerCase().includes(ne.toLowerCase())).map((oe,Ce)=>y.jsxs("div",{className:`flex items-center justify-between p-3 rounded-2xl transition-all ${oe.userId===n?.uid?"bg-blue-50/50 dark:bg-blue-900/20 border border-blue-100 dark:border-blue-800":"hover:bg-slate-50 dark:hover:bg-slate-700/30 border border-transparent"}`,children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsxs("div",{className:"font-bold text-slate-400 w-6 text-center text-sm",children:[Ce+1,"."]}),y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:`
                                                w-10 h-10 rounded-full flex items-center justify-center font-bold text-lg shadow-sm border-2
                                                ${Ce===0?"bg-yellow-100 text-yellow-600 border-yellow-200":Ce===1?"bg-slate-200 text-slate-600 border-slate-300":Ce===2?"bg-orange-100 text-orange-600 border-orange-200":"bg-slate-100 dark:bg-slate-700 text-slate-500 dark:text-slate-400 border-white dark:border-slate-600"}
                                            `,children:oe.userName.charAt(0).toUpperCase()}),y.jsxs("div",{children:[y.jsx("p",{className:`font-bold text-sm ${oe.userId===n?.uid?"text-blue-700 dark:text-blue-400":"text-slate-800 dark:text-white"}`,children:oe.userName}),y.jsxs("div",{className:"flex items-center gap-1.5 mt-0.5",children:[y.jsx("span",{className:`w-2 h-2 rounded-full ${oe.displayTime>3600?"bg-emerald-400":"bg-slate-300 dark:bg-slate-600"}`}),y.jsx("span",{className:"text-xs text-slate-400 font-medium",children:oe.displayTime>3600?"Studying":"Offline"})]})]})]})]}),y.jsx("div",{className:"text-right",children:y.jsx("div",{className:"font-bold text-blue-600 dark:text-blue-400 text-base md:text-lg tabular-nums tracking-tight",children:ee(oe.displayTime)})})]},oe.userId)),O.length===0&&y.jsxs("div",{className:"text-center py-10 px-6 text-slate-500 bg-slate-50 dark:bg-slate-700/30 rounded-2xl border border-dashed border-slate-200 dark:border-slate-700",children:[y.jsx("p",{className:"text-sm",children:"No records found for this period."}),y.jsx("p",{className:"text-xs mt-1 text-slate-400",children:"Be the first to start studying!"})]})]})]})]}),y.jsx(Cs,{children:j&&y.jsxs(_e.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"fixed bottom-20 left-1/2 -translate-x-1/2 md:bottom-8 bg-slate-900 text-white px-6 py-3 rounded-full shadow-lg flex items-center gap-3 z-50",children:[y.jsx("div",{className:"bg-emerald-500 rounded-full p-1",children:y.jsx(vl,{className:"w-4 h-4 text-white"})}),y.jsx("span",{className:"font-medium",children:"Session Saved! Great Job."})]})})]})}const D8=[{emoji:"",icon:aU},{emoji:"",icon:$U},{emoji:"",icon:lU},{emoji:"",icon:tU}];function j8(){const{user:t}=Ha(),[e,n]=R.useState([]),[i,a]=R.useState(""),[l,u]=R.useState(null),d=R.useRef(null),[m,p]=R.useState(!1),[v,x]=R.useState(null);R.useEffect(()=>{const U=vC(of(Nr,"messages"),bC("createdAt","asc"),xC(100)),F=EC(U,H=>{const ne=[];H.forEach(Z=>{ne.push({id:Z.id,...Z.data()})}),n(ne)});return()=>F()},[]),R.useEffect(()=>{d.current?.scrollIntoView({behavior:"smooth"})},[e.length]);const T=async U=>{if(U.preventDefault(),!(!i.trim()||!t)){p(!0);try{const F={text:i.trim(),uid:t.uid,displayName:t.displayName||"Anonymous",createdAt:aL(),...l&&{replyTo:{id:l.id,displayName:l.displayName,text:l.text}}};await wC(of(Nr,"messages"),F),a(""),u(null)}catch(F){console.error("Error sending message:",F),alert("Failed to send message. Please try again.")}finally{p(!1)}}},A=async(U,F)=>{if(!t)return;x(null);const H=iu(Nr,"messages",U),ne=e.find(E=>E.id===U);if(!ne)return;const Z=ne.reactions||{},le=Z[t.uid]===F,I={...Z};le?delete I[t.uid]:I[t.uid]=F;try{await uL(H,{reactions:I})}catch(E){console.error("Failed to update reaction",E)}},M=U=>U?U.toDate().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"...",L=U=>{if(!U)return"";const F=U.toDate(),H=new Date,ne=new Date;return ne.setDate(ne.getDate()-1),F.toDateString()===H.toDateString()?"Today":F.toDateString()===ne.toDateString()?"Yesterday":F.toLocaleDateString()},P=e.reduce((U,F)=>{const H=L(F.createdAt),ne=U[U.length-1];return ne&&ne.date===H?ne.msgs.push(F):U.push({date:H,msgs:[F]}),U},[]);return y.jsxs(Su,{className:"h-[calc(100vh-8rem)] md:h-[calc(100vh-4rem)] flex flex-col",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-4 flex-shrink-0 px-4 md:px-0",children:[y.jsx("div",{className:"p-2 bg-indigo-100 dark:bg-indigo-900/30 rounded-lg text-indigo-600 dark:text-indigo-400",children:y.jsx(cf,{className:"w-6 h-6"})}),y.jsxs("div",{children:[y.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:"Community Chat"}),y.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Connect with fellow students"})]})]}),y.jsxs("div",{className:"flex-1 bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden flex flex-col relative mx-2 md:mx-0",children:[y.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-6 scrollbar-thin scrollbar-thumb-slate-200 dark:scrollbar-thumb-slate-700",children:[P.map((U,F)=>y.jsxs("div",{className:"space-y-4",children:[y.jsx("div",{className:"flex justify-center sticky top-0 z-10",children:y.jsx("span",{className:"bg-slate-100 dark:bg-slate-700/50 text-slate-500 dark:text-slate-400 text-xs font-medium px-3 py-1 rounded-full backdrop-blur-sm shadow-sm",children:U.date})}),U.msgs.map((H,ne)=>{const Z=H.uid===t?.uid,le=ne===0||U.msgs[ne-1].uid!==H.uid,I=H.reactions&&Object.keys(H.reactions).length>0,E={};return H.reactions&&Object.values(H.reactions).forEach(C=>{E[C]=(E[C]||0)+1}),y.jsx(_e.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`group flex flex-col ${Z?"items-end":"items-start"}`,onMouseLeave:()=>x(null),children:y.jsxs("div",{className:`flex items-end gap-2 max-w-[85%] md:max-w-[70%] ${Z?"flex-row-reverse":"flex-row"}`,children:[y.jsx("div",{className:"w-8 flex-shrink-0 flex flex-col items-center",children:le?y.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold shadow-sm ${Z?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":"bg-slate-100 text-slate-600 dark:bg-slate-700 dark:text-slate-300"}`,children:Z?y.jsx(e8,{className:"w-4 h-4"}):H.displayName.charAt(0).toUpperCase()}):y.jsx("div",{className:"w-8"})}),y.jsxs("div",{className:"relative group/bubble",children:[H.replyTo&&y.jsxs("div",{className:`mb-1 text-xs px-3 py-1 rounded-lg border-l-4 opacity-80 ${Z?"bg-blue-700/20 border-blue-300 text-blue-100":"bg-slate-200 dark:bg-slate-900 border-indigo-400 text-slate-600 dark:text-slate-400"}`,children:[y.jsxs("span",{className:"font-bold mr-1",children:[H.replyTo.displayName,":"]}),y.jsx("span",{className:"line-clamp-1 italic",children:H.replyTo.text})]}),y.jsxs("div",{className:`px-4 py-2 text-sm shadow-sm relative ${Z?"bg-blue-600 text-white rounded-2xl rounded-tr-none":"bg-slate-100 dark:bg-slate-700 text-slate-800 dark:text-slate-200 rounded-2xl rounded-tl-none"}`,children:[!Z&&le&&y.jsx("p",{className:"text-[10px] font-bold opacity-70 mb-0.5 text-indigo-600 dark:text-indigo-400",children:H.displayName}),y.jsx("p",{className:"leading-relaxed whitespace-pre-wrap",children:H.text}),y.jsx("div",{className:`text-[10px] text-right mt-1 opacity-60 ${Z?"text-blue-100":"text-slate-500 dark:text-slate-400"}`,children:M(H.createdAt)}),I&&y.jsx("div",{className:`absolute -bottom-3 ${Z?"right-0":"left-0"} flex gap-1 bg-white dark:bg-slate-800 rounded-full px-1.5 py-0.5 shadow-sm border border-slate-100 dark:border-slate-600 text-xs`,children:Object.entries(E).map(([C,j])=>y.jsxs("span",{className:"flex items-center",children:[C," ",j>1&&y.jsx("span",{className:"ml-0.5 text-[10px] font-bold text-slate-500",children:j})]},C))})]}),y.jsxs("div",{className:`absolute top-0 ${Z?"-left-16":"-right-16"} h-full flex items-center gap-1 opacity-0 group-hover/bubble:opacity-100 transition-opacity`,children:[y.jsxs("div",{className:"relative",children:[y.jsx("button",{onClick:()=>x(v===H.id?null:H.id),className:"p-1.5 rounded-full bg-slate-100 dark:bg-slate-700 text-slate-500 hover:text-indigo-500 hover:bg-indigo-50 dark:hover:bg-indigo-900/50 transition-colors",children:y.jsx(zU,{className:"w-4 h-4"})}),y.jsx(Cs,{children:v===H.id&&y.jsx(_e.div,{initial:{opacity:0,scale:.8,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8},className:`absolute bottom-full ${Z?"right-0":"left-0"} mb-2 bg-white dark:bg-slate-800 rounded-full shadow-lg border border-slate-200 dark:border-slate-600 p-1 flex gap-1 z-20`,children:D8.map(C=>y.jsx("button",{onClick:()=>A(H.id,C.emoji),className:`p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-700 text-lg transition-transform hover:scale-125 ${H.reactions?.[t?.uid||""]===C.emoji?"bg-indigo-50 dark:bg-indigo-900/50":""}`,children:C.emoji},C.emoji))})})]}),y.jsx("button",{onClick:()=>u(H),className:"p-1.5 rounded-full bg-slate-100 dark:bg-slate-700 text-slate-500 hover:text-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/50 transition-colors",title:"Reply",children:y.jsx(RU,{className:"w-4 h-4"})}),Z&&y.jsx("button",{onClick:async()=>{if(confirm("Delete this message?"))try{await hL(iu(Nr,"messages",H.id))}catch(C){console.error("Error deleting message:",C),alert("Failed to delete message.")}},className:"p-1.5 rounded-full bg-slate-100 dark:bg-slate-700 text-slate-500 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/50 transition-colors",title:"Delete",children:y.jsx(Eu,{className:"w-4 h-4"})})]})]})]})},H.id)})]},F)),y.jsx("div",{ref:d,className:"h-2"})]}),y.jsxs("div",{className:"p-4 bg-white dark:bg-slate-800 border-t border-slate-100 dark:border-slate-700",children:[y.jsx(Cs,{children:l&&y.jsxs(_e.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"flex items-center justify-between bg-slate-50 dark:bg-slate-900/50 p-2 rounded-lg mb-2 border-l-4 border-blue-500",children:[y.jsxs("div",{className:"overflow-hidden",children:[y.jsxs("span",{className:"text-xs font-bold text-blue-600 dark:text-blue-400 block",children:["Replying to ",l.uid===t?.uid?"Yourself":l.displayName]}),y.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-300 truncate block",children:l.text})]}),y.jsx("button",{onClick:()=>u(null),className:"p-1 hover:bg-slate-200 dark:hover:bg-slate-700 rounded-full text-slate-500",children:y.jsx(Kr,{className:"w-4 h-4"})})]})}),y.jsxs("form",{onSubmit:T,className:"flex gap-2",children:[y.jsx("input",{type:"text",value:i,onChange:U=>a(U.target.value),placeholder:l?"Type your reply...":"Type a message...",className:"flex-1 px-4 py-3 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500/50 text-slate-900 dark:text-white placeholder:text-slate-400 dark:placeholder:text-slate-500 transition-all"}),y.jsx("button",{type:"submit",disabled:!i.trim()||m,className:"p-3 bg-blue-600 hover:bg-blue-700 text-white rounded-xl transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center shadow-sm",children:y.jsx(VU,{className:"w-5 h-5"})})]})]})]})]})}function M8({steps:t,onComplete:e,onSkip:n}){const[i,a]=R.useState(0),[l,u]=R.useState(null),d=t[i];R.useEffect(()=>{if(d.targetId){const v=document.getElementById(d.targetId);v?(u(v.getBoundingClientRect()),v.scrollIntoView({behavior:"smooth",block:"center"})):u(null)}else u(null)},[i,d,t]);const m=()=>{i<t.length-1?a(v=>v+1):e()},p=()=>{i>0&&a(v=>v-1)};return y.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center pointer-events-none",children:[y.jsx("div",{className:"absolute inset-0 bg-black/60 pointer-events-none"}),l&&y.jsx(_e.div,{layoutId:"highlight-box",className:"absolute border-4 border-blue-500 rounded-xl shadow-[0_0_0_9999px_rgba(0,0,0,0.6)] pointer-events-none transition-all duration-300",style:{top:l.top-4,left:l.left-4,width:l.width+8,height:l.height+8}}),y.jsx(Cs,{mode:"wait",children:y.jsxs(_e.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:`pointer-events-auto absolute bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-2xl border border-slate-100 dark:border-slate-700 max-w-sm w-full mx-4 ${l?"":"static"}`,style:l&&d.position!=="center"?{top:d.position==="bottom"?l.bottom+20:d.position==="top"?l.top-200:void 0,left:d.position==="right"?l.right+20:d.position==="left"?l.left-340:Math.max(16,l.left+l.width/2-160),marginTop:(d.position==="bottom",0)}:{},children:[y.jsxs("div",{className:"flex justify-between items-start mb-2",children:[y.jsxs("span",{className:"text-xs font-bold text-blue-600 dark:text-blue-400 uppercase tracking-wider",children:["Step ",i+1," of ",t.length]}),y.jsx("button",{onClick:n,className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200",children:y.jsx(Kr,{className:"w-4 h-4"})})]}),y.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-2",children:d.title}),y.jsx("p",{className:"text-slate-600 dark:text-slate-300 mb-6 leading-relaxed",children:d.description}),y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("button",{onClick:p,disabled:i===0,className:`flex items-center gap-1 text-sm font-medium ${i===0?"text-slate-300":"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200"}`,children:[y.jsx(qL,{className:"w-4 h-4"})," Back"]}),y.jsxs("button",{onClick:m,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-full font-medium text-sm flex items-center gap-2 shadow-sm transition-transform active:scale-95",children:[i===t.length-1?"Finish":"Next",i<t.length-1&&y.jsx($L,{className:"w-4 h-4"})]})]})]},i)})]})}const V8=[{title:"Welcome to TrackEd! ",description:"Your personal companion for academic success. Let's take a quick tour to get you started.",position:"center"},{targetId:"add-subject-btn",title:"Add Your Subjects ",description:"Start by adding the subjects you want to track. You can organize them by chapters and topics.",position:"bottom"},{targetId:"nav-timer",title:"Focus Timer ",description:"Use the Pomodoro timer or stopwatch to track your study sessions and build streaks.",position:"right"},{targetId:"nav-settings",title:"Customize Experience ",description:"Manage your profile, data, and switch between light/dark modes here.",position:"top"}];function O8(){const{logout:t}=Ha(),{theme:e,toggleTheme:n}=HC(),i=Ui(),a=mk(),[l,u]=R.useState(!1);R.useEffect(()=>{localStorage.setItem("tracked_tour_completed","true")},[]);const d=()=>{u(!1),localStorage.setItem("tracked_tour_completed","true")},m=p=>i.pathname===p;return y.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-slate-100 pb-20 md:pb-0 font-sans transition-colors duration-300",children:[l&&y.jsx(M8,{steps:V8,onComplete:d,onSkip:d}),y.jsxs("header",{className:"bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700 sticky top-0 z-10 px-4 py-3 flex items-center justify-between md:hidden transition-colors duration-300",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("div",{className:"bg-blue-600 p-1.5 rounded-lg",children:y.jsx(xn,{className:"w-5 h-5 text-white"})}),y.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-blue-700 to-teal-600 bg-clip-text text-transparent",children:"TrackEd"})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("button",{onClick:n,className:"p-2 text-slate-500 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full transition-colors","aria-label":"Toggle Theme",children:e==="light"?y.jsx(uf,{className:"w-5 h-5"}):y.jsx(A0,{className:"w-5 h-5"})}),y.jsx(Ft,{to:"/settings",className:"p-2 text-slate-500 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full transition-colors",children:y.jsx(Sg,{className:"w-5 h-5"})})]})]}),y.jsxs("div",{className:"md:flex max-w-5xl mx-auto",children:[y.jsxs("aside",{className:"hidden md:flex flex-col w-64 h-screen sticky top-0 p-6 border-r border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 transition-colors duration-300",children:[y.jsxs("div",{className:"flex items-center justify-between mb-10",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("div",{className:"bg-blue-600 p-2 rounded-lg",children:y.jsx(xn,{className:"w-6 h-6 text-white"})}),y.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:"TrackEd"})]}),y.jsx("button",{onClick:n,className:"p-2 text-slate-500 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors","aria-label":"Toggle Theme",children:e==="light"?y.jsx(uf,{className:"w-5 h-5"}):y.jsx(A0,{className:"w-5 h-5"})})]}),y.jsxs("nav",{className:"space-y-2 flex-1",children:[y.jsxs(Ft,{to:"/",className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${m("/")?"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-400 font-medium":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-700/50"}`,children:[y.jsx(Bw,{className:"w-5 h-5"}),"Dashboard"]}),y.jsxs(Ft,{to:"/analytics",className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${m("/analytics")?"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-400 font-medium":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-700/50"}`,children:[y.jsx(C0,{className:"w-5 h-5"}),"Analytics"]}),y.jsxs(Ft,{to:"/chapters",className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${m("/chapters")?"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-400 font-medium":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-700/50"}`,children:[y.jsx(Fw,{className:"w-5 h-5"}),"Chapters"]}),y.jsxs(Ft,{to:"/timer",id:"nav-timer",className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${i.pathname==="/timer"?"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-400 font-medium":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-700/50 hover:text-slate-900 dark:hover:text-white"}`,children:[y.jsx(qw,{className:"w-5 h-5"}),"Timer"]}),y.jsxs(Ft,{to:"/chat",className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${m("/chat")?"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-400 font-medium":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-700/50"}`,children:[y.jsx(cf,{className:"w-5 h-5"}),"Community"]}),y.jsxs(Ft,{to:"/settings",id:"nav-settings",className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${m("/settings")?"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-400 font-medium":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-700/50"}`,children:[y.jsx(Sg,{className:"w-5 h-5"}),"Settings"]})]}),y.jsxs("div",{className:"mt-auto pt-6 border-t border-slate-100 dark:border-slate-700",children:[y.jsxs("button",{onClick:t,className:"flex items-center gap-3 px-4 py-3 rounded-lg text-slate-600 dark:text-slate-400 hover:bg-red-50 dark:hover:bg-red-900/20 hover:text-red-700 dark:hover:text-red-400 transition-colors w-full text-left mb-4",children:[y.jsx(jC,{className:"w-5 h-5"}),"Sign Out"]}),y.jsxs("div",{className:"text-xs text-slate-400 dark:text-slate-500",children:[y.jsx("p",{children:"Empowering Students"}),y.jsx("p",{className:"mt-1",children:" 2026 TrackEd"})]})]})]}),y.jsx("main",{className:"flex-1 p-4 md:p-8",children:y.jsx(Cs,{mode:"wait",children:a&&R.cloneElement(a,{key:i.pathname})})})]}),y.jsxs("nav",{className:"fixed bottom-0 left-0 right-0 bg-white dark:bg-slate-800 border-t border-slate-200 dark:border-slate-700 flex justify-around pt-3 px-3 pb-[calc(0.75rem+env(safe-area-inset-bottom))] md:hidden z-20 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.05)] transition-colors duration-300",children:[y.jsxs(Ft,{to:"/",className:`flex flex-col items-center gap-1 text-xs ${m("/")?"text-blue-600 dark:text-blue-400 font-medium":"text-slate-400 dark:text-slate-500"}`,children:[y.jsx(Bw,{className:"w-6 h-6"}),y.jsx("span",{children:"Home"})]}),y.jsxs(Ft,{to:"/analytics",className:`flex flex-col items-center gap-1 text-xs ${m("/analytics")?"text-blue-600 dark:text-blue-400 font-medium":"text-slate-400 dark:text-slate-500"}`,children:[y.jsx(C0,{className:"w-6 h-6"}),y.jsx("span",{children:"Stats"})]}),y.jsxs(Ft,{to:"/chapters",className:`flex flex-col items-center gap-1 text-xs ${m("/chapters")?"text-blue-600 dark:text-blue-400 font-medium":"text-slate-400 dark:text-slate-500"}`,children:[y.jsx(Fw,{className:"w-6 h-6"}),y.jsx("span",{children:"Chapters"})]}),y.jsxs(Ft,{to:"/timer",className:`flex flex-col items-center gap-1 text-xs ${m("/timer")?"text-blue-600 dark:text-blue-400 font-medium":"text-slate-400 dark:text-slate-500"}`,children:[y.jsx(qw,{className:"w-6 h-6"}),y.jsx("span",{children:"Timer"})]}),y.jsxs(Ft,{to:"/chat",className:`flex flex-col items-center gap-1 text-xs ${m("/chat")?"text-blue-600 dark:text-blue-400 font-medium":"text-slate-400 dark:text-slate-500"}`,children:[y.jsx(cf,{className:"w-6 h-6"}),y.jsx("span",{children:"Comm.."})]}),y.jsxs(Ft,{to:"/settings",className:`flex flex-col items-center gap-1 text-xs ${m("/settings")?"text-blue-600 dark:text-blue-400 font-medium":"text-slate-400 dark:text-slate-500"}`,children:[y.jsx(Sg,{className:"w-6 h-6"}),y.jsx("span",{children:"Settings"})]})]})]})}function P8(){const{signInWithGoogle:t,user:e}=Ha(),n=ff();return Yw.useEffect(()=>{e&&n("/")},[e,n]),y.jsxs("div",{className:"min-h-screen flex items-center justify-center relative overflow-hidden bg-slate-50 dark:bg-slate-900 transition-colors",children:[y.jsxs("div",{className:"absolute inset-0 z-0",children:[y.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[40%] h-[40%] bg-blue-400/20 dark:bg-blue-600/10 rounded-full blur-3xl animate-pulse"}),y.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[40%] h-[40%] bg-indigo-400/20 dark:bg-indigo-600/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}}),y.jsx("div",{className:"absolute top-[20%] right-[10%] w-[20%] h-[20%] bg-purple-400/20 dark:bg-purple-600/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"2s"}})]}),y.jsxs(_e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,ease:"easeOut"},className:"relative z-10 w-full max-w-md px-6",children:[y.jsxs("div",{className:"bg-white/80 dark:bg-slate-800/80 backdrop-blur-xl rounded-3xl shadow-2xl border border-white/50 dark:border-slate-700/50 p-8 md:p-12 text-center transition-colors",children:[y.jsx("div",{className:"flex justify-center mb-8",children:y.jsx("div",{className:"p-4 bg-indigo-600 rounded-2xl shadow-lg transform rotate-3 hover:rotate-6 transition-transform duration-300",children:y.jsx(DC,{className:"w-10 h-10 text-white"})})}),y.jsxs("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white mb-3 tracking-tight transition-colors",children:["Welcome to ",y.jsx("span",{className:"text-indigo-600 dark:text-indigo-400",children:"TrackEd"})]}),y.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-10 text-lg leading-relaxed transition-colors",children:"Master your study habits and achieve your goals."}),y.jsxs(_e.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:t,className:"group w-full relative flex items-center justify-center gap-3 py-3.5 px-6 border border-transparent rounded-xl shadow-md text-base font-semibold text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-all duration-200",children:[y.jsx("div",{className:"bg-white p-1 rounded-full",children:y.jsx("img",{src:"https://www.google.com/favicon.ico",alt:"G",className:"w-4 h-4"})}),y.jsx("span",{children:"Sign in with Google"}),y.jsx(hv,{className:"w-4 h-4 opacity-0 group-hover:opacity-100 group-hover:translate-x-1 transition-all"})]}),y.jsx("p",{className:"mt-8 text-xs text-slate-400 dark:text-slate-500 transition-colors",children:"By signing in, you agree to our Terms of Service and Privacy Policy."})]}),y.jsx("div",{className:"mt-8 text-center",children:y.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400 transition-colors",children:"Focus. Track. Succeed."})})]})]})}function L8({children:t}){const{user:e,loading:n}=Ha();return n?y.jsx("div",{children:"Loading..."}):e?y.jsx(y.Fragment,{children:t}):y.jsx(Rk,{to:"/login"})}function U8(){return y.jsx(tI,{basename:"/Study-Mate/",children:y.jsxs(Ik,{children:[y.jsx(Ws,{path:"/login",element:y.jsx(P8,{})}),y.jsxs(Ws,{path:"/",element:y.jsx(L8,{children:y.jsx(O8,{})}),children:[y.jsx(Ws,{index:!0,element:y.jsx(m8,{})}),y.jsx(Ws,{path:"subject/:id",element:y.jsx(_8,{})}),y.jsx(Ws,{path:"analytics",element:y.jsx(R8,{})}),y.jsx(Ws,{path:"chapters",element:y.jsx(k8,{})}),y.jsx(Ws,{path:"timer",element:y.jsx(I8,{})}),y.jsx(Ws,{path:"chat",element:y.jsx(j8,{})}),y.jsx(Ws,{path:"settings",element:y.jsx(S8,{})})]})]})})}class z8 extends R.Component{state={hasError:!1,error:null};static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("Uncaught error:",e,n)}render(){return this.state.hasError?y.jsx("div",{className:"min-h-screen flex items-center justify-center bg-red-50 p-4",children:y.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg max-w-lg w-full",children:[y.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Something went wrong"}),y.jsx("p",{className:"text-slate-600 mb-4",children:"We encountered an unexpected error."}),y.jsx("pre",{className:"bg-slate-100 p-4 rounded text-xs text-slate-800 overflow-auto mb-4",children:this.state.error?.message}),y.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Reload Page"})]})}):this.props.children}}console.log("TrackEd v1.1 - Dark Mode Enabled");kR.createRoot(document.getElementById("root")).render(y.jsx(Yw.StrictMode,{children:y.jsx(z8,{children:y.jsx(pL,{children:y.jsx(gL,{children:y.jsx(T8,{children:y.jsx(y8,{children:y.jsx(U8,{})})})})})})}));
