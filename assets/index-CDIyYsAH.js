(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function kw(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Sp={exports:{}},yu={};var pT;function Y2(){if(pT)return yu;pT=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:e,type:s,key:c,ref:a!==void 0?a:null,props:l}}return yu.Fragment=t,yu.jsx=n,yu.jsxs=n,yu}var gT;function Q2(){return gT||(gT=1,Sp.exports=Y2()),Sp.exports}var w=Q2(),xp={exports:{}},At={};var yT;function X2(){if(yT)return At;yT=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),T=Symbol.iterator;function C(j){return j===null||typeof j!="object"?null:(j=T&&j[T]||j["@@iterator"],typeof j=="function"?j:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,L={};function F(j,nt,ct){this.props=j,this.context=nt,this.refs=L,this.updater=ct||D}F.prototype.isReactComponent={},F.prototype.setState=function(j,nt){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,nt,"setState")},F.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function H(){}H.prototype=F.prototype;function $(j,nt,ct){this.props=j,this.context=nt,this.refs=L,this.updater=ct||D}var W=$.prototype=new H;W.constructor=$,O(W,F.prototype),W.isPureReactComponent=!0;var J=Array.isArray;function at(){}var R={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function I(j,nt,ct){var ht=ct.ref;return{$$typeof:e,type:j,key:nt,ref:ht!==void 0?ht:null,props:ct}}function V(j,nt){return I(j.type,nt,j.props)}function P(j){return typeof j=="object"&&j!==null&&j.$$typeof===e}function z(j){var nt={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(ct){return nt[ct]})}var k=/\/+/g;function Qt(j,nt){return typeof j=="object"&&j!==null&&j.key!=null?z(""+j.key):nt.toString(36)}function ue(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(at,at):(j.status="pending",j.then(function(nt){j.status==="pending"&&(j.status="fulfilled",j.value=nt)},function(nt){j.status==="pending"&&(j.status="rejected",j.reason=nt)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function Z(j,nt,ct,ht,Et){var Nt=typeof j;(Nt==="undefined"||Nt==="boolean")&&(j=null);var Ft=!1;if(j===null)Ft=!0;else switch(Nt){case"bigint":case"string":case"number":Ft=!0;break;case"object":switch(j.$$typeof){case e:case t:Ft=!0;break;case y:return Ft=j._init,Z(Ft(j._payload),nt,ct,ht,Et)}}if(Ft)return Et=Et(j),Ft=ht===""?"."+Qt(j,0):ht,J(Et)?(ct="",Ft!=null&&(ct=Ft.replace(k,"$&/")+"/"),Z(Et,nt,ct,"",function(Lr){return Lr})):Et!=null&&(P(Et)&&(Et=V(Et,ct+(Et.key==null||j&&j.key===Et.key?"":(""+Et.key).replace(k,"$&/")+"/")+Ft)),nt.push(Et)),1;Ft=0;var je=ht===""?".":ht+":";if(J(j))for(var ce=0;ce<j.length;ce++)ht=j[ce],Nt=je+Qt(ht,ce),Ft+=Z(ht,nt,ct,Nt,Et);else if(ce=C(j),typeof ce=="function")for(j=ce.call(j),ce=0;!(ht=j.next()).done;)ht=ht.value,Nt=je+Qt(ht,ce++),Ft+=Z(ht,nt,ct,Nt,Et);else if(Nt==="object"){if(typeof j.then=="function")return Z(ue(j),nt,ct,ht,Et);throw nt=String(j),Error("Objects are not valid as a React child (found: "+(nt==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":nt)+"). If you meant to render a collection of children, use an array instead.")}return Ft}function ot(j,nt,ct){if(j==null)return j;var ht=[],Et=0;return Z(j,ht,"","",function(Nt){return nt.call(ct,Nt,Et++)}),ht}function dt(j){if(j._status===-1){var nt=j._result;nt=nt(),nt.then(function(ct){(j._status===0||j._status===-1)&&(j._status=1,j._result=ct)},function(ct){(j._status===0||j._status===-1)&&(j._status=2,j._result=ct)}),j._status===-1&&(j._status=0,j._result=nt)}if(j._status===1)return j._result.default;throw j._result}var lt=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var nt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(nt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},vt={map:ot,forEach:function(j,nt,ct){ot(j,function(){nt.apply(this,arguments)},ct)},count:function(j){var nt=0;return ot(j,function(){nt++}),nt},toArray:function(j){return ot(j,function(nt){return nt})||[]},only:function(j){if(!P(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return At.Activity=_,At.Children=vt,At.Component=F,At.Fragment=n,At.Profiler=a,At.PureComponent=$,At.StrictMode=s,At.Suspense=m,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,At.__COMPILER_RUNTIME={__proto__:null,c:function(j){return R.H.useMemoCache(j)}},At.cache=function(j){return function(){return j.apply(null,arguments)}},At.cacheSignal=function(){return null},At.cloneElement=function(j,nt,ct){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var ht=O({},j.props),Et=j.key;if(nt!=null)for(Nt in nt.key!==void 0&&(Et=""+nt.key),nt)!x.call(nt,Nt)||Nt==="key"||Nt==="__self"||Nt==="__source"||Nt==="ref"&&nt.ref===void 0||(ht[Nt]=nt[Nt]);var Nt=arguments.length-2;if(Nt===1)ht.children=ct;else if(1<Nt){for(var Ft=Array(Nt),je=0;je<Nt;je++)Ft[je]=arguments[je+2];ht.children=Ft}return I(j.type,Et,ht)},At.createContext=function(j){return j={$$typeof:c,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:l,_context:j},j},At.createElement=function(j,nt,ct){var ht,Et={},Nt=null;if(nt!=null)for(ht in nt.key!==void 0&&(Nt=""+nt.key),nt)x.call(nt,ht)&&ht!=="key"&&ht!=="__self"&&ht!=="__source"&&(Et[ht]=nt[ht]);var Ft=arguments.length-2;if(Ft===1)Et.children=ct;else if(1<Ft){for(var je=Array(Ft),ce=0;ce<Ft;ce++)je[ce]=arguments[ce+2];Et.children=je}if(j&&j.defaultProps)for(ht in Ft=j.defaultProps,Ft)Et[ht]===void 0&&(Et[ht]=Ft[ht]);return I(j,Nt,Et)},At.createRef=function(){return{current:null}},At.forwardRef=function(j){return{$$typeof:d,render:j}},At.isValidElement=P,At.lazy=function(j){return{$$typeof:y,_payload:{_status:-1,_result:j},_init:dt}},At.memo=function(j,nt){return{$$typeof:p,type:j,compare:nt===void 0?null:nt}},At.startTransition=function(j){var nt=R.T,ct={};R.T=ct;try{var ht=j(),Et=R.S;Et!==null&&Et(ct,ht),typeof ht=="object"&&ht!==null&&typeof ht.then=="function"&&ht.then(at,lt)}catch(Nt){lt(Nt)}finally{nt!==null&&ct.types!==null&&(nt.types=ct.types),R.T=nt}},At.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},At.use=function(j){return R.H.use(j)},At.useActionState=function(j,nt,ct){return R.H.useActionState(j,nt,ct)},At.useCallback=function(j,nt){return R.H.useCallback(j,nt)},At.useContext=function(j){return R.H.useContext(j)},At.useDebugValue=function(){},At.useDeferredValue=function(j,nt){return R.H.useDeferredValue(j,nt)},At.useEffect=function(j,nt){return R.H.useEffect(j,nt)},At.useEffectEvent=function(j){return R.H.useEffectEvent(j)},At.useId=function(){return R.H.useId()},At.useImperativeHandle=function(j,nt,ct){return R.H.useImperativeHandle(j,nt,ct)},At.useInsertionEffect=function(j,nt){return R.H.useInsertionEffect(j,nt)},At.useLayoutEffect=function(j,nt){return R.H.useLayoutEffect(j,nt)},At.useMemo=function(j,nt){return R.H.useMemo(j,nt)},At.useOptimistic=function(j,nt){return R.H.useOptimistic(j,nt)},At.useReducer=function(j,nt,ct){return R.H.useReducer(j,nt,ct)},At.useRef=function(j){return R.H.useRef(j)},At.useState=function(j){return R.H.useState(j)},At.useSyncExternalStore=function(j,nt,ct){return R.H.useSyncExternalStore(j,nt,ct)},At.useTransition=function(){return R.H.useTransition()},At.version="19.2.4",At}var vT;function fy(){return vT||(vT=1,xp.exports=X2()),xp.exports}var N=fy();const Mw=kw(N);var Ap={exports:{}},vu={},Cp={exports:{}},Rp={};var _T;function W2(){return _T||(_T=1,(function(e){function t(Z,ot){var dt=Z.length;Z.push(ot);t:for(;0<dt;){var lt=dt-1>>>1,vt=Z[lt];if(0<a(vt,ot))Z[lt]=ot,Z[dt]=vt,dt=lt;else break t}}function n(Z){return Z.length===0?null:Z[0]}function s(Z){if(Z.length===0)return null;var ot=Z[0],dt=Z.pop();if(dt!==ot){Z[0]=dt;t:for(var lt=0,vt=Z.length,j=vt>>>1;lt<j;){var nt=2*(lt+1)-1,ct=Z[nt],ht=nt+1,Et=Z[ht];if(0>a(ct,dt))ht<vt&&0>a(Et,ct)?(Z[lt]=Et,Z[ht]=dt,lt=ht):(Z[lt]=ct,Z[nt]=dt,lt=nt);else if(ht<vt&&0>a(Et,dt))Z[lt]=Et,Z[ht]=dt,lt=ht;else break t}}return ot}function a(Z,ot){var dt=Z.sortIndex-ot.sortIndex;return dt!==0?dt:Z.id-ot.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();e.unstable_now=function(){return c.now()-d}}var m=[],p=[],y=1,_=null,T=3,C=!1,D=!1,O=!1,L=!1,F=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function W(Z){for(var ot=n(p);ot!==null;){if(ot.callback===null)s(p);else if(ot.startTime<=Z)s(p),ot.sortIndex=ot.expirationTime,t(m,ot);else break;ot=n(p)}}function J(Z){if(O=!1,W(Z),!D)if(n(m)!==null)D=!0,at||(at=!0,z());else{var ot=n(p);ot!==null&&ue(J,ot.startTime-Z)}}var at=!1,R=-1,x=5,I=-1;function V(){return L?!0:!(e.unstable_now()-I<x)}function P(){if(L=!1,at){var Z=e.unstable_now();I=Z;var ot=!0;try{t:{D=!1,O&&(O=!1,H(R),R=-1),C=!0;var dt=T;try{e:{for(W(Z),_=n(m);_!==null&&!(_.expirationTime>Z&&V());){var lt=_.callback;if(typeof lt=="function"){_.callback=null,T=_.priorityLevel;var vt=lt(_.expirationTime<=Z);if(Z=e.unstable_now(),typeof vt=="function"){_.callback=vt,W(Z),ot=!0;break e}_===n(m)&&s(m),W(Z)}else s(m);_=n(m)}if(_!==null)ot=!0;else{var j=n(p);j!==null&&ue(J,j.startTime-Z),ot=!1}}break t}finally{_=null,T=dt,C=!1}ot=void 0}}finally{ot?z():at=!1}}}var z;if(typeof $=="function")z=function(){$(P)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,Qt=k.port2;k.port1.onmessage=P,z=function(){Qt.postMessage(null)}}else z=function(){F(P,0)};function ue(Z,ot){R=F(function(){Z(e.unstable_now())},ot)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Z){Z.callback=null},e.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<Z?Math.floor(1e3/Z):5},e.unstable_getCurrentPriorityLevel=function(){return T},e.unstable_next=function(Z){switch(T){case 1:case 2:case 3:var ot=3;break;default:ot=T}var dt=T;T=ot;try{return Z()}finally{T=dt}},e.unstable_requestPaint=function(){L=!0},e.unstable_runWithPriority=function(Z,ot){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var dt=T;T=Z;try{return ot()}finally{T=dt}},e.unstable_scheduleCallback=function(Z,ot,dt){var lt=e.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?lt+dt:lt):dt=lt,Z){case 1:var vt=-1;break;case 2:vt=250;break;case 5:vt=1073741823;break;case 4:vt=1e4;break;default:vt=5e3}return vt=dt+vt,Z={id:y++,callback:ot,priorityLevel:Z,startTime:dt,expirationTime:vt,sortIndex:-1},dt>lt?(Z.sortIndex=dt,t(p,Z),n(m)===null&&Z===n(p)&&(O?(H(R),R=-1):O=!0,ue(J,dt-lt))):(Z.sortIndex=vt,t(m,Z),D||C||(D=!0,at||(at=!0,z()))),Z},e.unstable_shouldYield=V,e.unstable_wrapCallback=function(Z){var ot=T;return function(){var dt=T;T=ot;try{return Z.apply(this,arguments)}finally{T=dt}}}})(Rp)),Rp}var bT;function J2(){return bT||(bT=1,Cp.exports=W2()),Cp.exports}var Ip={exports:{}},sn={};var TT;function Z2(){if(TT)return sn;TT=1;var e=fy();function t(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,p,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:m,containerInfo:p,implementation:y}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,sn.createPortal=function(m,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return l(m,p,null,y)},sn.flushSync=function(m){var p=c.T,y=s.p;try{if(c.T=null,s.p=2,m)return m()}finally{c.T=p,s.p=y,s.d.f()}},sn.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(m,p))},sn.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},sn.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var y=p.as,_=d(y,p.crossOrigin),T=typeof p.integrity=="string"?p.integrity:void 0,C=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?s.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:T,fetchPriority:C}):y==="script"&&s.d.X(m,{crossOrigin:_,integrity:T,fetchPriority:C,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},sn.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=d(p.as,p.crossOrigin);s.d.M(m,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(m)},sn.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,_=d(y,p.crossOrigin);s.d.L(m,y,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},sn.preloadModule=function(m,p){if(typeof m=="string")if(p){var y=d(p.as,p.crossOrigin);s.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(m)},sn.requestFormReset=function(m){s.d.r(m)},sn.unstable_batchedUpdates=function(m,p){return m(p)},sn.useFormState=function(m,p,y){return c.H.useFormState(m,p,y)},sn.useFormStatus=function(){return c.H.useHostTransitionStatus()},sn.version="19.2.4",sn}var ET;function tI(){if(ET)return Ip.exports;ET=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Ip.exports=Z2(),Ip.exports}var wT;function eI(){if(wT)return vu;wT=1;var e=J2(),t=fy(),n=tI();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function c(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function d(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function m(i){if(l(i)!==i)throw Error(s(188))}function p(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,u=r;;){var f=o.return;if(f===null)break;var g=f.alternate;if(g===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===o)return m(f),i;if(g===u)return m(f),r;g=g.sibling}throw Error(s(188))}if(o.return!==u.return)o=f,u=g;else{for(var b=!1,S=f.child;S;){if(S===o){b=!0,o=f,u=g;break}if(S===u){b=!0,u=f,o=g;break}S=S.sibling}if(!b){for(S=g.child;S;){if(S===o){b=!0,o=g,u=f;break}if(S===u){b=!0,u=g,o=f;break}S=S.sibling}if(!b)throw Error(s(189))}}if(o.alternate!==u)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function y(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=y(i),r!==null)return r;i=i.sibling}return null}var _=Object.assign,T=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),H=Symbol.for("react.consumer"),$=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),at=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function z(i){return i===null||typeof i!="object"?null:(i=P&&i[P]||i["@@iterator"],typeof i=="function"?i:null)}var k=Symbol.for("react.client.reference");function Qt(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===k?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case O:return"Fragment";case F:return"Profiler";case L:return"StrictMode";case J:return"Suspense";case at:return"SuspenseList";case I:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case D:return"Portal";case $:return i.displayName||"Context";case H:return(i._context.displayName||"Context")+".Consumer";case W:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case R:return r=i.displayName||null,r!==null?r:Qt(i.type)||"Memo";case x:r=i._payload,i=i._init;try{return Qt(i(r))}catch{}}return null}var ue=Array.isArray,Z=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt={pending:!1,data:null,method:null,action:null},lt=[],vt=-1;function j(i){return{current:i}}function nt(i){0>vt||(i.current=lt[vt],lt[vt]=null,vt--)}function ct(i,r){vt++,lt[vt]=i.current,i.current=r}var ht=j(null),Et=j(null),Nt=j(null),Ft=j(null);function je(i,r){switch(ct(Nt,r),ct(Et,i),ct(ht,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?jb(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=jb(r),i=Ub(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}nt(ht),ct(ht,i)}function ce(){nt(ht),nt(Et),nt(Nt)}function Lr(i){i.memoizedState!==null&&ct(Ft,i);var r=ht.current,o=Ub(r,i.type);r!==o&&(ct(Et,i),ct(ht,o))}function Oa(i){Et.current===i&&(nt(ht),nt(Et)),Ft.current===i&&(nt(Ft),du._currentValue=dt)}var Pa,La;function Ti(i){if(Pa===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);Pa=r&&r[1]||"",La=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Pa+i+La}var dl=!1;function jr(i,r){if(!i||dl)return"";dl=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var it=function(){throw Error()};if(Object.defineProperty(it.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(it,[])}catch(X){var Y=X}Reflect.construct(i,[],it)}else{try{it.call()}catch(X){Y=X}i.call(it.prototype)}}else{try{throw Error()}catch(X){Y=X}(it=i())&&typeof it.catch=="function"&&it.catch(function(){})}}catch(X){if(X&&Y&&typeof X.stack=="string")return[X.stack,Y.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),b=g[0],S=g[1];if(b&&S){var M=b.split(`
`),K=S.split(`
`);for(f=u=0;u<M.length&&!M[u].includes("DetermineComponentFrameRoot");)u++;for(;f<K.length&&!K[f].includes("DetermineComponentFrameRoot");)f++;if(u===M.length||f===K.length)for(u=M.length-1,f=K.length-1;1<=u&&0<=f&&M[u]!==K[f];)f--;for(;1<=u&&0<=f;u--,f--)if(M[u]!==K[f]){if(u!==1||f!==1)do if(u--,f--,0>f||M[u]!==K[f]){var tt=`
`+M[u].replace(" at new "," at ");return i.displayName&&tt.includes("<anonymous>")&&(tt=tt.replace("<anonymous>",i.displayName)),tt}while(1<=u&&0<=f);break}}}finally{dl=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Ti(o):""}function ml(i,r){switch(i.tag){case 26:case 27:case 5:return Ti(i.type);case 16:return Ti("Lazy");case 13:return i.child!==r&&r!==null?Ti("Suspense Fallback"):Ti("Suspense");case 19:return Ti("SuspenseList");case 0:case 15:return jr(i.type,!1);case 11:return jr(i.type.render,!1);case 1:return jr(i.type,!0);case 31:return Ti("Activity");default:return""}}function pl(i){try{var r="",o=null;do r+=ml(i,o),o=i,i=i.return;while(i);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Se=Object.prototype.hasOwnProperty,Ue=e.unstable_scheduleCallback,Ps=e.unstable_cancelCallback,Ad=e.unstable_shouldYield,pc=e.unstable_requestPaint,hn=e.unstable_now,Ur=e.unstable_getCurrentPriorityLevel,gl=e.unstable_ImmediatePriority,yl=e.unstable_UserBlockingPriority,Ls=e.unstable_NormalPriority,Cd=e.unstable_LowPriority,gc=e.unstable_IdlePriority,yc=e.log,vc=e.unstable_setDisableYieldValue,Zn=null,$e=null;function On(i){if(typeof yc=="function"&&vc(i),$e&&typeof $e.setStrictMode=="function")try{$e.setStrictMode(Zn,i)}catch{}}var _e=Math.clz32?Math.clz32:bc,_c=Math.log,ja=Math.LN2;function bc(i){return i>>>=0,i===0?32:31-(_c(i)/ja|0)|0}var Ei=256,zr=262144,xe=4194304;function wi(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Si(i,r,o){var u=i.pendingLanes;if(u===0)return 0;var f=0,g=i.suspendedLanes,b=i.pingedLanes;i=i.warmLanes;var S=u&134217727;return S!==0?(u=S&~g,u!==0?f=wi(u):(b&=S,b!==0?f=wi(b):o||(o=S&~i,o!==0&&(f=wi(o))))):(S=u&~g,S!==0?f=wi(S):b!==0?f=wi(b):o||(o=u&~i,o!==0&&(f=wi(o)))),f===0?0:r!==0&&r!==f&&(r&g)===0&&(g=f&-f,o=r&-r,g>=o||g===32&&(o&4194048)!==0)?r:f}function ti(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function Rd(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Tc(){var i=xe;return xe<<=1,(xe&62914560)===0&&(xe=4194304),i}function xi(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function Br(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Id(i,r,o,u,f,g){var b=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var S=i.entanglements,M=i.expirationTimes,K=i.hiddenUpdates;for(o=b&~o;0<o;){var tt=31-_e(o),it=1<<tt;S[tt]=0,M[tt]=-1;var Y=K[tt];if(Y!==null)for(K[tt]=null,tt=0;tt<Y.length;tt++){var X=Y[tt];X!==null&&(X.lane&=-536870913)}o&=~it}u!==0&&Fr(i,u,0),g!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=g&~(b&~r))}function Fr(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var u=31-_e(r);i.entangledLanes|=r,i.entanglements[u]=i.entanglements[u]|1073741824|o&261930}function vl(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var u=31-_e(o),f=1<<u;f&r|i[u]&r&&(i[u]|=r),o&=~f}}function _l(i,r){var o=r&-r;return o=(o&42)!==0?1:Hr(o),(o&(i.suspendedLanes|r))!==0?0:o}function Hr(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function ns(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Ec(){var i=ot.p;return i!==0?i:(i=window.event,i===void 0?32:lT(i.type))}function ei(i,r){var o=ot.p;try{return ot.p=i,r()}finally{ot.p=o}}var ni=Math.random().toString(36).slice(2),Ae="__reactFiber$"+ni,He="__reactProps$"+ni,Ai="__reactContainer$"+ni,Ua="__reactEvents$"+ni,Nd="__reactListeners$"+ni,wc="__reactHandles$"+ni,Sc="__reactResources$"+ni,Ci="__reactMarker$"+ni;function za(i){delete i[Ae],delete i[He],delete i[Ua],delete i[Nd],delete i[wc]}function Ri(i){var r=i[Ae];if(r)return r;for(var o=i.parentNode;o;){if(r=o[Ai]||o[Ae]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=Kb(i);i!==null;){if(o=i[Ae])return o;i=Kb(i)}return r}i=o,o=i.parentNode}return null}function Pn(i){if(i=i[Ae]||i[Ai]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function xn(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function Ii(i){var r=i[Sc];return r||(r=i[Sc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Ce(i){i[Ci]=!0}var bl=new Set,Tl={};function Ni(i,r){Di(i,r),Di(i+"Capture",r)}function Di(i,r){for(Tl[i]=r,i=0;i<r.length;i++)bl.add(r[i])}var El=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wl={},Sl={};function xc(i){return Se.call(Sl,i)?!0:Se.call(wl,i)?!1:El.test(i)?Sl[i]=!0:(wl[i]=!0,!1)}function Ba(i,r,o){if(xc(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function An(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function Re(i,r,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+u)}}function qe(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function js(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function xl(i,r,o){var u=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var f=u.get,g=u.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return f.call(this)},set:function(b){o=""+b,g.call(this,b)}}),Object.defineProperty(i,r,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(b){o=""+b},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function Xt(i){if(!i._valueTracker){var r=js(i)?"checked":"value";i._valueTracker=xl(i,r,""+i[r])}}function qr(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return i&&(u=js(i)?i.checked?"true":"false":i.value),i=u,i!==o?(r.setValue(i),!0):!1}function ki(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Gr=/[\n"\\]/g;function yn(i){return i.replace(Gr,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Fa(i,r,o,u,f,g,b,S){i.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?i.type=b:i.removeAttribute("type"),r!=null?b==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+qe(r)):i.value!==""+qe(r)&&(i.value=""+qe(r)):b!=="submit"&&b!=="reset"||i.removeAttribute("value"),r!=null?Al(i,b,qe(r)):o!=null?Al(i,b,qe(o)):u!=null&&i.removeAttribute("value"),f==null&&g!=null&&(i.defaultChecked=!!g),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.name=""+qe(S):i.removeAttribute("name")}function Ac(i,r,o,u,f,g,b,S){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),r!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||r!=null)){Xt(i);return}o=o!=null?""+qe(o):"",r=r!=null?""+qe(r):o,S||r===i.value||(i.value=r),i.defaultValue=r}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=S?i.checked:!!u,i.defaultChecked=!!u,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.name=b),Xt(i)}function Al(i,r,o){r==="number"&&ki(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function Us(i,r,o,u){if(i=i.options,r){r={};for(var f=0;f<o.length;f++)r["$"+o[f]]=!0;for(o=0;o<i.length;o++)f=r.hasOwnProperty("$"+i[o].value),i[o].selected!==f&&(i[o].selected=f),f&&u&&(i[o].defaultSelected=!0)}else{for(o=""+qe(o),r=null,f=0;f<i.length;f++){if(i[f].value===o){i[f].selected=!0,u&&(i[f].defaultSelected=!0);return}r!==null||i[f].disabled||(r=i[f])}r!==null&&(r.selected=!0)}}function Cc(i,r,o){if(r!=null&&(r=""+qe(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+qe(o):""}function zs(i,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(s(92));if(ue(u)){if(1<u.length)throw Error(s(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=qe(r),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u),Xt(i)}function vn(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var Rc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Cl(i,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":u?i.setProperty(r,o):typeof o!="number"||o===0||Rc.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function Rl(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var f in r)u=r[f],r.hasOwnProperty(f)&&o[f]!==u&&Cl(i,f,u)}else for(var g in r)r.hasOwnProperty(g)&&Cl(i,g,r[g])}function Ha(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ic=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Bs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function qa(i){return Bs.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function ii(){}var Il=null;function Ln(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Fs=null,Mi=null;function Kr(i){var r=Pn(i);if(r&&(i=r.stateNode)){var o=i[He]||null;t:switch(i=r.stateNode,r.type){case"input":if(Fa(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+yn(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==i&&u.form===i.form){var f=u[He]||null;if(!f)throw Error(s(90));Fa(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===i.form&&qr(u)}break t;case"textarea":Cc(i,o.value,o.defaultValue);break t;case"select":r=o.value,r!=null&&Us(i,!!o.multiple,r,!1)}}}var Ga=!1;function Hs(i,r,o){if(Ga)return i(r,o);Ga=!0;try{var u=i(r);return u}finally{if(Ga=!1,(Fs!==null||Mi!==null)&&(Eh(),Fs&&(r=Fs,i=Mi,Mi=Fs=null,Kr(r),i)))for(r=0;r<i.length;r++)Kr(i[r])}}function si(i,r){var o=i.stateNode;if(o===null)return null;var u=o[He]||null;if(u===null)return null;o=u[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break t;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$r=!1;if(jn)try{var Zt={};Object.defineProperty(Zt,"passive",{get:function(){$r=!0}}),window.addEventListener("test",Zt,Zt),window.removeEventListener("test",Zt,Zt)}catch{$r=!1}var Vi=null,Nl=null,Yr=null;function Dl(){if(Yr)return Yr;var i,r=Nl,o=r.length,u,f="value"in Vi?Vi.value:Vi.textContent,g=f.length;for(i=0;i<o&&r[i]===f[i];i++);var b=o-i;for(u=1;u<=b&&r[o-u]===f[g-u];u++);return Yr=f.slice(i,1<u?1-u:void 0)}function Qr(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function is(){return!0}function ri(){return!1}function Ye(i){function r(o,u,f,g,b){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=g,this.target=b,this.currentTarget=null;for(var S in i)i.hasOwnProperty(S)&&(o=i[S],this[S]=o?o(g):g[S]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?is:ri,this.isPropagationStopped=ri,this}return _(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=is)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=is)},persist:function(){},isPersistent:is}),r}var ss={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Oi=Ye(ss),qs=_({},ss,{view:0,detail:0}),kl=Ye(qs),Gs,Ka,Pi,$a=_({},qs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ks,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Pi&&(Pi&&i.type==="mousemove"?(Gs=i.screenX-Pi.screenX,Ka=i.screenY-Pi.screenY):Ka=Gs=0,Pi=i),Gs)},movementY:function(i){return"movementY"in i?i.movementY:Ka}}),Ml=Ye($a),Xr=_({},$a,{dataTransfer:0}),Nc=Ye(Xr),Dc=_({},qs,{relatedTarget:0}),Wr=Ye(Dc),Vl=_({},ss,{animationName:0,elapsedTime:0,pseudoElement:0}),kc=Ye(Vl),Ya=_({},ss,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Mc=Ye(Ya),Vc=_({},ss,{data:0}),Li=Ye(Vc),Oc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jc(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=Lc[i])?!!r[i]:!1}function Ks(){return jc}var fn=_({},qs,{key:function(i){if(i.key){var r=Oc[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=Qr(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Pc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ks,charCode:function(i){return i.type==="keypress"?Qr(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Qr(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Uc=Ye(fn),zc=_({},$a,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rs=Ye(zc),h=_({},qs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ks}),v=Ye(h),E=_({},ss,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Ye(E),q=_({},$a,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Q=Ye(q),ut=_({},ss,{newState:0,oldState:0}),Rt=Ye(ut),be=[9,13,27,32],Kt=jn&&"CompositionEvent"in window,he=null;jn&&"documentMode"in document&&(he=document.documentMode);var Un=jn&&"TextEvent"in window&&!he,ji=jn&&(!Kt||he&&8<he&&11>=he),ai=" ",oi=!1;function Jr(i,r){switch(i){case"keyup":return be.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qa(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Xa=!1;function vR(i,r){switch(i){case"compositionend":return Qa(r);case"keypress":return r.which!==32?null:(oi=!0,ai);case"textInput":return i=r.data,i===ai&&oi?null:i;default:return null}}function _R(i,r){if(Xa)return i==="compositionend"||!Kt&&Jr(i,r)?(i=Dl(),Yr=Nl=Vi=null,Xa=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return ji&&r.locale!=="ko"?null:r.data;default:return null}}var bR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Q0(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!bR[i.type]:r==="textarea"}function X0(i,r,o,u){Fs?Mi?Mi.push(u):Mi=[u]:Fs=u,r=Ih(r,"onChange"),0<r.length&&(o=new Oi("onChange","change",null,o,u),i.push({event:o,listeners:r}))}var Ol=null,Pl=null;function TR(i){kb(i,0)}function Bc(i){var r=xn(i);if(qr(r))return i}function W0(i,r){if(i==="change")return r}var J0=!1;if(jn){var Dd;if(jn){var kd="oninput"in document;if(!kd){var Z0=document.createElement("div");Z0.setAttribute("oninput","return;"),kd=typeof Z0.oninput=="function"}Dd=kd}else Dd=!1;J0=Dd&&(!document.documentMode||9<document.documentMode)}function tv(){Ol&&(Ol.detachEvent("onpropertychange",ev),Pl=Ol=null)}function ev(i){if(i.propertyName==="value"&&Bc(Pl)){var r=[];X0(r,Pl,i,Ln(i)),Hs(TR,r)}}function ER(i,r,o){i==="focusin"?(tv(),Ol=r,Pl=o,Ol.attachEvent("onpropertychange",ev)):i==="focusout"&&tv()}function wR(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Bc(Pl)}function SR(i,r){if(i==="click")return Bc(r)}function xR(i,r){if(i==="input"||i==="change")return Bc(r)}function AR(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var Cn=typeof Object.is=="function"?Object.is:AR;function Ll(i,r){if(Cn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!Se.call(r,f)||!Cn(i[f],r[f]))return!1}return!0}function nv(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function iv(i,r){var o=nv(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=r&&u>=r)return{node:o,offset:r-i};i=u}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=nv(o)}}function sv(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?sv(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function rv(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=ki(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=ki(i.document)}return r}function Md(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var CR=jn&&"documentMode"in document&&11>=document.documentMode,Wa=null,Vd=null,jl=null,Od=!1;function av(i,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Od||Wa==null||Wa!==ki(u)||(u=Wa,"selectionStart"in u&&Md(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),jl&&Ll(jl,u)||(jl=u,u=Ih(Vd,"onSelect"),0<u.length&&(r=new Oi("onSelect","select",null,r,o),i.push({event:r,listeners:u}),r.target=Wa)))}function Zr(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var Ja={animationend:Zr("Animation","AnimationEnd"),animationiteration:Zr("Animation","AnimationIteration"),animationstart:Zr("Animation","AnimationStart"),transitionrun:Zr("Transition","TransitionRun"),transitionstart:Zr("Transition","TransitionStart"),transitioncancel:Zr("Transition","TransitionCancel"),transitionend:Zr("Transition","TransitionEnd")},Pd={},ov={};jn&&(ov=document.createElement("div").style,"AnimationEvent"in window||(delete Ja.animationend.animation,delete Ja.animationiteration.animation,delete Ja.animationstart.animation),"TransitionEvent"in window||delete Ja.transitionend.transition);function ta(i){if(Pd[i])return Pd[i];if(!Ja[i])return i;var r=Ja[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in ov)return Pd[i]=r[o];return i}var lv=ta("animationend"),uv=ta("animationiteration"),cv=ta("animationstart"),RR=ta("transitionrun"),IR=ta("transitionstart"),NR=ta("transitioncancel"),hv=ta("transitionend"),fv=new Map,Ld="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ld.push("scrollEnd");function li(i,r){fv.set(i,r),Ni(r,[i])}var Fc=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},zn=[],Za=0,jd=0;function Hc(){for(var i=Za,r=jd=Za=0;r<i;){var o=zn[r];zn[r++]=null;var u=zn[r];zn[r++]=null;var f=zn[r];zn[r++]=null;var g=zn[r];if(zn[r++]=null,u!==null&&f!==null){var b=u.pending;b===null?f.next=f:(f.next=b.next,b.next=f),u.pending=f}g!==0&&dv(o,f,g)}}function qc(i,r,o,u){zn[Za++]=i,zn[Za++]=r,zn[Za++]=o,zn[Za++]=u,jd|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function Ud(i,r,o,u){return qc(i,r,o,u),Gc(i)}function ea(i,r){return qc(i,null,null,r),Gc(i)}function dv(i,r,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var f=!1,g=i.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(f=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,f&&r!==null&&(f=31-_e(o),i=g.hiddenUpdates,u=i[f],u===null?i[f]=[r]:u.push(r),r.lane=o|536870912),g):null}function Gc(i){if(50<au)throw au=0,Ym=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var to={};function DR(i,r,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(i,r,o,u){return new DR(i,r,o,u)}function zd(i){return i=i.prototype,!(!i||!i.isReactComponent)}function as(i,r){var o=i.alternate;return o===null?(o=Rn(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function mv(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function Kc(i,r,o,u,f,g){var b=0;if(u=i,typeof i=="function")zd(i)&&(b=1);else if(typeof i=="string")b=P2(i,o,ht.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case I:return i=Rn(31,o,r,f),i.elementType=I,i.lanes=g,i;case O:return na(o.children,f,g,r);case L:b=8,f|=24;break;case F:return i=Rn(12,o,r,f|2),i.elementType=F,i.lanes=g,i;case J:return i=Rn(13,o,r,f),i.elementType=J,i.lanes=g,i;case at:return i=Rn(19,o,r,f),i.elementType=at,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case $:b=10;break t;case H:b=9;break t;case W:b=11;break t;case R:b=14;break t;case x:b=16,u=null;break t}b=29,o=Error(s(130,i===null?"null":typeof i,"")),u=null}return r=Rn(b,o,r,f),r.elementType=i,r.type=u,r.lanes=g,r}function na(i,r,o,u){return i=Rn(7,i,u,r),i.lanes=o,i}function Bd(i,r,o){return i=Rn(6,i,null,r),i.lanes=o,i}function pv(i){var r=Rn(18,null,null,0);return r.stateNode=i,r}function Fd(i,r,o){return r=Rn(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var gv=new WeakMap;function Bn(i,r){if(typeof i=="object"&&i!==null){var o=gv.get(i);return o!==void 0?o:(r={value:i,source:r,stack:pl(r)},gv.set(i,r),r)}return{value:i,source:r,stack:pl(r)}}var eo=[],no=0,$c=null,Ul=0,Fn=[],Hn=0,$s=null,Ui=1,zi="";function os(i,r){eo[no++]=Ul,eo[no++]=$c,$c=i,Ul=r}function yv(i,r,o){Fn[Hn++]=Ui,Fn[Hn++]=zi,Fn[Hn++]=$s,$s=i;var u=Ui;i=zi;var f=32-_e(u)-1;u&=~(1<<f),o+=1;var g=32-_e(r)+f;if(30<g){var b=f-f%5;g=(u&(1<<b)-1).toString(32),u>>=b,f-=b,Ui=1<<32-_e(r)+f|o<<f|u,zi=g+i}else Ui=1<<g|o<<f|u,zi=i}function Hd(i){i.return!==null&&(os(i,1),yv(i,1,0))}function qd(i){for(;i===$c;)$c=eo[--no],eo[no]=null,Ul=eo[--no],eo[no]=null;for(;i===$s;)$s=Fn[--Hn],Fn[Hn]=null,zi=Fn[--Hn],Fn[Hn]=null,Ui=Fn[--Hn],Fn[Hn]=null}function vv(i,r){Fn[Hn++]=Ui,Fn[Hn++]=zi,Fn[Hn++]=$s,Ui=r.id,zi=r.overflow,$s=i}var Qe=null,ae=null,Bt=!1,Ys=null,qn=!1,Gd=Error(s(519));function Qs(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw zl(Bn(r,i)),Gd}function _v(i){var r=i.stateNode,o=i.type,u=i.memoizedProps;switch(r[Ae]=i,r[He]=u,o){case"dialog":Mt("cancel",r),Mt("close",r);break;case"iframe":case"object":case"embed":Mt("load",r);break;case"video":case"audio":for(o=0;o<lu.length;o++)Mt(lu[o],r);break;case"source":Mt("error",r);break;case"img":case"image":case"link":Mt("error",r),Mt("load",r);break;case"details":Mt("toggle",r);break;case"input":Mt("invalid",r),Ac(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Mt("invalid",r);break;case"textarea":Mt("invalid",r),zs(r,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||Pb(r.textContent,o)?(u.popover!=null&&(Mt("beforetoggle",r),Mt("toggle",r)),u.onScroll!=null&&Mt("scroll",r),u.onScrollEnd!=null&&Mt("scrollend",r),u.onClick!=null&&(r.onclick=ii),r=!0):r=!1,r||Qs(i,!0)}function bv(i){for(Qe=i.return;Qe;)switch(Qe.tag){case 5:case 31:case 13:qn=!1;return;case 27:case 3:qn=!0;return;default:Qe=Qe.return}}function io(i){if(i!==Qe)return!1;if(!Bt)return bv(i),Bt=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||up(i.type,i.memoizedProps)),o=!o),o&&ae&&Qs(i),bv(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));ae=Gb(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));ae=Gb(i)}else r===27?(r=ae,ur(i.type)?(i=mp,mp=null,ae=i):ae=r):ae=Qe?Kn(i.stateNode.nextSibling):null;return!0}function ia(){ae=Qe=null,Bt=!1}function Kd(){var i=Ys;return i!==null&&(En===null?En=i:En.push.apply(En,i),Ys=null),i}function zl(i){Ys===null?Ys=[i]:Ys.push(i)}var $d=j(null),sa=null,ls=null;function Xs(i,r,o){ct($d,r._currentValue),r._currentValue=o}function us(i){i._currentValue=$d.current,nt($d)}function Yd(i,r,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),i===o)break;i=i.return}}function Qd(i,r,o,u){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var g=f.dependencies;if(g!==null){var b=f.child;g=g.firstContext;t:for(;g!==null;){var S=g;g=f;for(var M=0;M<r.length;M++)if(S.context===r[M]){g.lanes|=o,S=g.alternate,S!==null&&(S.lanes|=o),Yd(g.return,o,i),u||(b=null);break t}g=S.next}}else if(f.tag===18){if(b=f.return,b===null)throw Error(s(341));b.lanes|=o,g=b.alternate,g!==null&&(g.lanes|=o),Yd(b,o,i),b=null}else b=f.child;if(b!==null)b.return=f;else for(b=f;b!==null;){if(b===i){b=null;break}if(f=b.sibling,f!==null){f.return=b.return,b=f;break}b=b.return}f=b}}function so(i,r,o,u){i=null;for(var f=r,g=!1;f!==null;){if(!g){if((f.flags&524288)!==0)g=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var b=f.alternate;if(b===null)throw Error(s(387));if(b=b.memoizedProps,b!==null){var S=f.type;Cn(f.pendingProps.value,b.value)||(i!==null?i.push(S):i=[S])}}else if(f===Ft.current){if(b=f.alternate,b===null)throw Error(s(387));b.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push(du):i=[du])}f=f.return}i!==null&&Qd(r,i,o,u),r.flags|=262144}function Yc(i){for(i=i.firstContext;i!==null;){if(!Cn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function ra(i){sa=i,ls=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Xe(i){return Tv(sa,i)}function Qc(i,r){return sa===null&&ra(i),Tv(i,r)}function Tv(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},ls===null){if(i===null)throw Error(s(308));ls=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else ls=ls.next=r;return o}var kR=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},MR=e.unstable_scheduleCallback,VR=e.unstable_NormalPriority,Ie={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xd(){return{controller:new kR,data:new Map,refCount:0}}function Bl(i){i.refCount--,i.refCount===0&&MR(VR,function(){i.controller.abort()})}var Fl=null,Wd=0,ro=0,ao=null;function OR(i,r){if(Fl===null){var o=Fl=[];Wd=0,ro=tp(),ao={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Wd++,r.then(Ev,Ev),r}function Ev(){if(--Wd===0&&Fl!==null){ao!==null&&(ao.status="fulfilled");var i=Fl;Fl=null,ro=0,ao=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function PR(i,r){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return i.then(function(){u.status="fulfilled",u.value=r;for(var f=0;f<o.length;f++)(0,o[f])(r)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var wv=Z.S;Z.S=function(i,r){ab=hn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&OR(i,r),wv!==null&&wv(i,r)};var aa=j(null);function Jd(){var i=aa.current;return i!==null?i:ie.pooledCache}function Xc(i,r){r===null?ct(aa,aa.current):ct(aa,r.pool)}function Sv(){var i=Jd();return i===null?null:{parent:Ie._currentValue,pool:i}}var oo=Error(s(460)),Zd=Error(s(474)),Wc=Error(s(542)),Jc={then:function(){}};function xv(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Av(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(ii,ii),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Rv(i),i;default:if(typeof r.status=="string")r.then(ii,ii);else{if(i=ie,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(u){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=u}},function(u){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Rv(i),i}throw la=r,oo}}function oa(i){try{var r=i._init;return r(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(la=o,oo):o}}var la=null;function Cv(){if(la===null)throw Error(s(459));var i=la;return la=null,i}function Rv(i){if(i===oo||i===Wc)throw Error(s(483))}var lo=null,Hl=0;function Zc(i){var r=Hl;return Hl+=1,lo===null&&(lo=[]),Av(lo,i,r)}function ql(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function th(i,r){throw r.$$typeof===T?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function Iv(i){function r(B,U){if(i){var G=B.deletions;G===null?(B.deletions=[U],B.flags|=16):G.push(U)}}function o(B,U){if(!i)return null;for(;U!==null;)r(B,U),U=U.sibling;return null}function u(B){for(var U=new Map;B!==null;)B.key!==null?U.set(B.key,B):U.set(B.index,B),B=B.sibling;return U}function f(B,U){return B=as(B,U),B.index=0,B.sibling=null,B}function g(B,U,G){return B.index=G,i?(G=B.alternate,G!==null?(G=G.index,G<U?(B.flags|=67108866,U):G):(B.flags|=67108866,U)):(B.flags|=1048576,U)}function b(B){return i&&B.alternate===null&&(B.flags|=67108866),B}function S(B,U,G,et){return U===null||U.tag!==6?(U=Bd(G,B.mode,et),U.return=B,U):(U=f(U,G),U.return=B,U)}function M(B,U,G,et){var _t=G.type;return _t===O?tt(B,U,G.props.children,et,G.key):U!==null&&(U.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===x&&oa(_t)===U.type)?(U=f(U,G.props),ql(U,G),U.return=B,U):(U=Kc(G.type,G.key,G.props,null,B.mode,et),ql(U,G),U.return=B,U)}function K(B,U,G,et){return U===null||U.tag!==4||U.stateNode.containerInfo!==G.containerInfo||U.stateNode.implementation!==G.implementation?(U=Fd(G,B.mode,et),U.return=B,U):(U=f(U,G.children||[]),U.return=B,U)}function tt(B,U,G,et,_t){return U===null||U.tag!==7?(U=na(G,B.mode,et,_t),U.return=B,U):(U=f(U,G),U.return=B,U)}function it(B,U,G){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=Bd(""+U,B.mode,G),U.return=B,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case C:return G=Kc(U.type,U.key,U.props,null,B.mode,G),ql(G,U),G.return=B,G;case D:return U=Fd(U,B.mode,G),U.return=B,U;case x:return U=oa(U),it(B,U,G)}if(ue(U)||z(U))return U=na(U,B.mode,G,null),U.return=B,U;if(typeof U.then=="function")return it(B,Zc(U),G);if(U.$$typeof===$)return it(B,Qc(B,U),G);th(B,U)}return null}function Y(B,U,G,et){var _t=U!==null?U.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return _t!==null?null:S(B,U,""+G,et);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case C:return G.key===_t?M(B,U,G,et):null;case D:return G.key===_t?K(B,U,G,et):null;case x:return G=oa(G),Y(B,U,G,et)}if(ue(G)||z(G))return _t!==null?null:tt(B,U,G,et,null);if(typeof G.then=="function")return Y(B,U,Zc(G),et);if(G.$$typeof===$)return Y(B,U,Qc(B,G),et);th(B,G)}return null}function X(B,U,G,et,_t){if(typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint")return B=B.get(G)||null,S(U,B,""+et,_t);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case C:return B=B.get(et.key===null?G:et.key)||null,M(U,B,et,_t);case D:return B=B.get(et.key===null?G:et.key)||null,K(U,B,et,_t);case x:return et=oa(et),X(B,U,G,et,_t)}if(ue(et)||z(et))return B=B.get(G)||null,tt(U,B,et,_t,null);if(typeof et.then=="function")return X(B,U,G,Zc(et),_t);if(et.$$typeof===$)return X(B,U,G,Qc(U,et),_t);th(U,et)}return null}function pt(B,U,G,et){for(var _t=null,qt=null,yt=U,Dt=U=0,Lt=null;yt!==null&&Dt<G.length;Dt++){yt.index>Dt?(Lt=yt,yt=null):Lt=yt.sibling;var Gt=Y(B,yt,G[Dt],et);if(Gt===null){yt===null&&(yt=Lt);break}i&&yt&&Gt.alternate===null&&r(B,yt),U=g(Gt,U,Dt),qt===null?_t=Gt:qt.sibling=Gt,qt=Gt,yt=Lt}if(Dt===G.length)return o(B,yt),Bt&&os(B,Dt),_t;if(yt===null){for(;Dt<G.length;Dt++)yt=it(B,G[Dt],et),yt!==null&&(U=g(yt,U,Dt),qt===null?_t=yt:qt.sibling=yt,qt=yt);return Bt&&os(B,Dt),_t}for(yt=u(yt);Dt<G.length;Dt++)Lt=X(yt,B,Dt,G[Dt],et),Lt!==null&&(i&&Lt.alternate!==null&&yt.delete(Lt.key===null?Dt:Lt.key),U=g(Lt,U,Dt),qt===null?_t=Lt:qt.sibling=Lt,qt=Lt);return i&&yt.forEach(function(mr){return r(B,mr)}),Bt&&os(B,Dt),_t}function Tt(B,U,G,et){if(G==null)throw Error(s(151));for(var _t=null,qt=null,yt=U,Dt=U=0,Lt=null,Gt=G.next();yt!==null&&!Gt.done;Dt++,Gt=G.next()){yt.index>Dt?(Lt=yt,yt=null):Lt=yt.sibling;var mr=Y(B,yt,Gt.value,et);if(mr===null){yt===null&&(yt=Lt);break}i&&yt&&mr.alternate===null&&r(B,yt),U=g(mr,U,Dt),qt===null?_t=mr:qt.sibling=mr,qt=mr,yt=Lt}if(Gt.done)return o(B,yt),Bt&&os(B,Dt),_t;if(yt===null){for(;!Gt.done;Dt++,Gt=G.next())Gt=it(B,Gt.value,et),Gt!==null&&(U=g(Gt,U,Dt),qt===null?_t=Gt:qt.sibling=Gt,qt=Gt);return Bt&&os(B,Dt),_t}for(yt=u(yt);!Gt.done;Dt++,Gt=G.next())Gt=X(yt,B,Dt,Gt.value,et),Gt!==null&&(i&&Gt.alternate!==null&&yt.delete(Gt.key===null?Dt:Gt.key),U=g(Gt,U,Dt),qt===null?_t=Gt:qt.sibling=Gt,qt=Gt);return i&&yt.forEach(function($2){return r(B,$2)}),Bt&&os(B,Dt),_t}function ne(B,U,G,et){if(typeof G=="object"&&G!==null&&G.type===O&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case C:t:{for(var _t=G.key;U!==null;){if(U.key===_t){if(_t=G.type,_t===O){if(U.tag===7){o(B,U.sibling),et=f(U,G.props.children),et.return=B,B=et;break t}}else if(U.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===x&&oa(_t)===U.type){o(B,U.sibling),et=f(U,G.props),ql(et,G),et.return=B,B=et;break t}o(B,U);break}else r(B,U);U=U.sibling}G.type===O?(et=na(G.props.children,B.mode,et,G.key),et.return=B,B=et):(et=Kc(G.type,G.key,G.props,null,B.mode,et),ql(et,G),et.return=B,B=et)}return b(B);case D:t:{for(_t=G.key;U!==null;){if(U.key===_t)if(U.tag===4&&U.stateNode.containerInfo===G.containerInfo&&U.stateNode.implementation===G.implementation){o(B,U.sibling),et=f(U,G.children||[]),et.return=B,B=et;break t}else{o(B,U);break}else r(B,U);U=U.sibling}et=Fd(G,B.mode,et),et.return=B,B=et}return b(B);case x:return G=oa(G),ne(B,U,G,et)}if(ue(G))return pt(B,U,G,et);if(z(G)){if(_t=z(G),typeof _t!="function")throw Error(s(150));return G=_t.call(G),Tt(B,U,G,et)}if(typeof G.then=="function")return ne(B,U,Zc(G),et);if(G.$$typeof===$)return ne(B,U,Qc(B,G),et);th(B,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,U!==null&&U.tag===6?(o(B,U.sibling),et=f(U,G),et.return=B,B=et):(o(B,U),et=Bd(G,B.mode,et),et.return=B,B=et),b(B)):o(B,U)}return function(B,U,G,et){try{Hl=0;var _t=ne(B,U,G,et);return lo=null,_t}catch(yt){if(yt===oo||yt===Wc)throw yt;var qt=Rn(29,yt,null,B.mode);return qt.lanes=et,qt.return=B,qt}}}var ua=Iv(!0),Nv=Iv(!1),Ws=!1;function tm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function em(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Js(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Zs(i,r,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,($t&2)!==0){var f=u.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),u.pending=r,r=Gc(i),dv(i,null,o),r}return qc(i,u,r,o),Gc(i)}function Gl(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,vl(i,o)}}function nm(i,r){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var b={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?f=g=b:g=g.next=b,o=o.next}while(o!==null);g===null?f=g=r:g=g.next=r}else f=g=r;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var im=!1;function Kl(){if(im){var i=ao;if(i!==null)throw i}}function $l(i,r,o,u){im=!1;var f=i.updateQueue;Ws=!1;var g=f.firstBaseUpdate,b=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var M=S,K=M.next;M.next=null,b===null?g=K:b.next=K,b=M;var tt=i.alternate;tt!==null&&(tt=tt.updateQueue,S=tt.lastBaseUpdate,S!==b&&(S===null?tt.firstBaseUpdate=K:S.next=K,tt.lastBaseUpdate=M))}if(g!==null){var it=f.baseState;b=0,tt=K=M=null,S=g;do{var Y=S.lane&-536870913,X=Y!==S.lane;if(X?(Pt&Y)===Y:(u&Y)===Y){Y!==0&&Y===ro&&(im=!0),tt!==null&&(tt=tt.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var pt=i,Tt=S;Y=r;var ne=o;switch(Tt.tag){case 1:if(pt=Tt.payload,typeof pt=="function"){it=pt.call(ne,it,Y);break t}it=pt;break t;case 3:pt.flags=pt.flags&-65537|128;case 0:if(pt=Tt.payload,Y=typeof pt=="function"?pt.call(ne,it,Y):pt,Y==null)break t;it=_({},it,Y);break t;case 2:Ws=!0}}Y=S.callback,Y!==null&&(i.flags|=64,X&&(i.flags|=8192),X=f.callbacks,X===null?f.callbacks=[Y]:X.push(Y))}else X={lane:Y,tag:S.tag,payload:S.payload,callback:S.callback,next:null},tt===null?(K=tt=X,M=it):tt=tt.next=X,b|=Y;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;X=S,S=X.next,X.next=null,f.lastBaseUpdate=X,f.shared.pending=null}}while(!0);tt===null&&(M=it),f.baseState=M,f.firstBaseUpdate=K,f.lastBaseUpdate=tt,g===null&&(f.shared.lanes=0),sr|=b,i.lanes=b,i.memoizedState=it}}function Dv(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function kv(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)Dv(o[i],r)}var uo=j(null),eh=j(0);function Mv(i,r){i=vs,ct(eh,i),ct(uo,r),vs=i|r.baseLanes}function sm(){ct(eh,vs),ct(uo,uo.current)}function rm(){vs=eh.current,nt(uo),nt(eh)}var In=j(null),Gn=null;function tr(i){var r=i.alternate;ct(Te,Te.current&1),ct(In,i),Gn===null&&(r===null||uo.current!==null||r.memoizedState!==null)&&(Gn=i)}function am(i){ct(Te,Te.current),ct(In,i),Gn===null&&(Gn=i)}function Vv(i){i.tag===22?(ct(Te,Te.current),ct(In,i),Gn===null&&(Gn=i)):er()}function er(){ct(Te,Te.current),ct(In,In.current)}function Nn(i){nt(In),Gn===i&&(Gn=null),nt(Te)}var Te=j(0);function nh(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||fp(o)||dp(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var cs=0,It=null,te=null,Ne=null,ih=!1,co=!1,ca=!1,sh=0,Yl=0,ho=null,LR=0;function ge(){throw Error(s(321))}function om(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!Cn(i[o],r[o]))return!1;return!0}function lm(i,r,o,u,f,g){return cs=g,It=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Z.H=i===null||i.memoizedState===null?y_:wm,ca=!1,g=o(u,f),ca=!1,co&&(g=Pv(r,o,u,f)),Ov(i),g}function Ov(i){Z.H=Wl;var r=te!==null&&te.next!==null;if(cs=0,Ne=te=It=null,ih=!1,Yl=0,ho=null,r)throw Error(s(300));i===null||De||(i=i.dependencies,i!==null&&Yc(i)&&(De=!0))}function Pv(i,r,o,u){It=i;var f=0;do{if(co&&(ho=null),Yl=0,co=!1,25<=f)throw Error(s(301));if(f+=1,Ne=te=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}Z.H=v_,g=r(o,u)}while(co);return g}function jR(){var i=Z.H,r=i.useState()[0];return r=typeof r.then=="function"?Ql(r):r,i=i.useState()[0],(te!==null?te.memoizedState:null)!==i&&(It.flags|=1024),r}function um(){var i=sh!==0;return sh=0,i}function cm(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function hm(i){if(ih){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}ih=!1}cs=0,Ne=te=It=null,co=!1,Yl=sh=0,ho=null}function dn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ne===null?It.memoizedState=Ne=i:Ne=Ne.next=i,Ne}function Ee(){if(te===null){var i=It.alternate;i=i!==null?i.memoizedState:null}else i=te.next;var r=Ne===null?It.memoizedState:Ne.next;if(r!==null)Ne=r,te=i;else{if(i===null)throw It.alternate===null?Error(s(467)):Error(s(310));te=i,i={memoizedState:te.memoizedState,baseState:te.baseState,baseQueue:te.baseQueue,queue:te.queue,next:null},Ne===null?It.memoizedState=Ne=i:Ne=Ne.next=i}return Ne}function rh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ql(i){var r=Yl;return Yl+=1,ho===null&&(ho=[]),i=Av(ho,i,r),r=It,(Ne===null?r.memoizedState:Ne.next)===null&&(r=r.alternate,Z.H=r===null||r.memoizedState===null?y_:wm),i}function ah(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Ql(i);if(i.$$typeof===$)return Xe(i)}throw Error(s(438,String(i)))}function fm(i){var r=null,o=It.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=It.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=rh(),It.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),u=0;u<i;u++)o[u]=V;return r.index++,o}function hs(i,r){return typeof r=="function"?r(i):r}function oh(i){var r=Ee();return dm(r,te,i)}function dm(i,r,o){var u=i.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=o;var f=i.baseQueue,g=u.pending;if(g!==null){if(f!==null){var b=f.next;f.next=g.next,g.next=b}r.baseQueue=f=g,u.pending=null}if(g=i.baseState,f===null)i.memoizedState=g;else{r=f.next;var S=b=null,M=null,K=r,tt=!1;do{var it=K.lane&-536870913;if(it!==K.lane?(Pt&it)===it:(cs&it)===it){var Y=K.revertLane;if(Y===0)M!==null&&(M=M.next={lane:0,revertLane:0,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),it===ro&&(tt=!0);else if((cs&Y)===Y){K=K.next,Y===ro&&(tt=!0);continue}else it={lane:0,revertLane:K.revertLane,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},M===null?(S=M=it,b=g):M=M.next=it,It.lanes|=Y,sr|=Y;it=K.action,ca&&o(g,it),g=K.hasEagerState?K.eagerState:o(g,it)}else Y={lane:it,revertLane:K.revertLane,gesture:K.gesture,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},M===null?(S=M=Y,b=g):M=M.next=Y,It.lanes|=it,sr|=it;K=K.next}while(K!==null&&K!==r);if(M===null?b=g:M.next=S,!Cn(g,i.memoizedState)&&(De=!0,tt&&(o=ao,o!==null)))throw o;i.memoizedState=g,i.baseState=b,i.baseQueue=M,u.lastRenderedState=g}return f===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function mm(i){var r=Ee(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var u=o.dispatch,f=o.pending,g=r.memoizedState;if(f!==null){o.pending=null;var b=f=f.next;do g=i(g,b.action),b=b.next;while(b!==f);Cn(g,r.memoizedState)||(De=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),o.lastRenderedState=g}return[g,u]}function Lv(i,r,o){var u=It,f=Ee(),g=Bt;if(g){if(o===void 0)throw Error(s(407));o=o()}else o=r();var b=!Cn((te||f).memoizedState,o);if(b&&(f.memoizedState=o,De=!0),f=f.queue,ym(zv.bind(null,u,f,i),[i]),f.getSnapshot!==r||b||Ne!==null&&Ne.memoizedState.tag&1){if(u.flags|=2048,fo(9,{destroy:void 0},Uv.bind(null,u,f,o,r),null),ie===null)throw Error(s(349));g||(cs&127)!==0||jv(u,r,o)}return o}function jv(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=It.updateQueue,r===null?(r=rh(),It.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function Uv(i,r,o,u){r.value=o,r.getSnapshot=u,Bv(r)&&Fv(i)}function zv(i,r,o){return o(function(){Bv(r)&&Fv(i)})}function Bv(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!Cn(i,o)}catch{return!0}}function Fv(i){var r=ea(i,2);r!==null&&wn(r,i,2)}function pm(i){var r=dn();if(typeof i=="function"){var o=i;if(i=o(),ca){On(!0);try{o()}finally{On(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hs,lastRenderedState:i},r}function Hv(i,r,o,u){return i.baseState=o,dm(i,te,typeof u=="function"?u:hs)}function UR(i,r,o,u,f){if(ch(i))throw Error(s(485));if(i=r.action,i!==null){var g={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){g.listeners.push(b)}};Z.T!==null?o(!0):g.isTransition=!1,u(g),o=r.pending,o===null?(g.next=r.pending=g,qv(r,g)):(g.next=o.next,r.pending=o.next=g)}}function qv(i,r){var o=r.action,u=r.payload,f=i.state;if(r.isTransition){var g=Z.T,b={};Z.T=b;try{var S=o(f,u),M=Z.S;M!==null&&M(b,S),Gv(i,r,S)}catch(K){gm(i,r,K)}finally{g!==null&&b.types!==null&&(g.types=b.types),Z.T=g}}else try{g=o(f,u),Gv(i,r,g)}catch(K){gm(i,r,K)}}function Gv(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){Kv(i,r,u)},function(u){return gm(i,r,u)}):Kv(i,r,o)}function Kv(i,r,o){r.status="fulfilled",r.value=o,$v(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,qv(i,o)))}function gm(i,r,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,$v(r),r=r.next;while(r!==u)}i.action=null}function $v(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function Yv(i,r){return r}function Qv(i,r){if(Bt){var o=ie.formState;if(o!==null){t:{var u=It;if(Bt){if(ae){e:{for(var f=ae,g=qn;f.nodeType!==8;){if(!g){f=null;break e}if(f=Kn(f.nextSibling),f===null){f=null;break e}}g=f.data,f=g==="F!"||g==="F"?f:null}if(f){ae=Kn(f.nextSibling),u=f.data==="F!";break t}}Qs(u)}u=!1}u&&(r=o[0])}}return o=dn(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yv,lastRenderedState:r},o.queue=u,o=m_.bind(null,It,u),u.dispatch=o,u=pm(!1),g=Em.bind(null,It,!1,u.queue),u=dn(),f={state:r,dispatch:null,action:i,pending:null},u.queue=f,o=UR.bind(null,It,f,g,o),f.dispatch=o,u.memoizedState=i,[r,o,!1]}function Xv(i){var r=Ee();return Wv(r,te,i)}function Wv(i,r,o){if(r=dm(i,r,Yv)[0],i=oh(hs)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=Ql(r)}catch(b){throw b===oo?Wc:b}else u=r;r=Ee();var f=r.queue,g=f.dispatch;return o!==r.memoizedState&&(It.flags|=2048,fo(9,{destroy:void 0},zR.bind(null,f,o),null)),[u,g,i]}function zR(i,r){i.action=r}function Jv(i){var r=Ee(),o=te;if(o!==null)return Wv(r,o,i);Ee(),r=r.memoizedState,o=Ee();var u=o.queue.dispatch;return o.memoizedState=i,[r,u,!1]}function fo(i,r,o,u){return i={tag:i,create:o,deps:u,inst:r,next:null},r=It.updateQueue,r===null&&(r=rh(),It.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,r.lastEffect=i),i}function Zv(){return Ee().memoizedState}function lh(i,r,o,u){var f=dn();It.flags|=i,f.memoizedState=fo(1|r,{destroy:void 0},o,u===void 0?null:u)}function uh(i,r,o,u){var f=Ee();u=u===void 0?null:u;var g=f.memoizedState.inst;te!==null&&u!==null&&om(u,te.memoizedState.deps)?f.memoizedState=fo(r,g,o,u):(It.flags|=i,f.memoizedState=fo(1|r,g,o,u))}function t_(i,r){lh(8390656,8,i,r)}function ym(i,r){uh(2048,8,i,r)}function BR(i){It.flags|=4;var r=It.updateQueue;if(r===null)r=rh(),It.updateQueue=r,r.events=[i];else{var o=r.events;o===null?r.events=[i]:o.push(i)}}function e_(i){var r=Ee().memoizedState;return BR({ref:r,nextImpl:i}),function(){if(($t&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function n_(i,r){return uh(4,2,i,r)}function i_(i,r){return uh(4,4,i,r)}function s_(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function r_(i,r,o){o=o!=null?o.concat([i]):null,uh(4,4,s_.bind(null,r,i),o)}function vm(){}function a_(i,r){var o=Ee();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&om(r,u[1])?u[0]:(o.memoizedState=[i,r],i)}function o_(i,r){var o=Ee();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&om(r,u[1]))return u[0];if(u=i(),ca){On(!0);try{i()}finally{On(!1)}}return o.memoizedState=[u,r],u}function _m(i,r,o){return o===void 0||(cs&1073741824)!==0&&(Pt&261930)===0?i.memoizedState=r:(i.memoizedState=o,i=lb(),It.lanes|=i,sr|=i,o)}function l_(i,r,o,u){return Cn(o,r)?o:uo.current!==null?(i=_m(i,o,u),Cn(i,r)||(De=!0),i):(cs&42)===0||(cs&1073741824)!==0&&(Pt&261930)===0?(De=!0,i.memoizedState=o):(i=lb(),It.lanes|=i,sr|=i,r)}function u_(i,r,o,u,f){var g=ot.p;ot.p=g!==0&&8>g?g:8;var b=Z.T,S={};Z.T=S,Em(i,!1,r,o);try{var M=f(),K=Z.S;if(K!==null&&K(S,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var tt=PR(M,u);Xl(i,r,tt,Mn(i))}else Xl(i,r,u,Mn(i))}catch(it){Xl(i,r,{then:function(){},status:"rejected",reason:it},Mn())}finally{ot.p=g,b!==null&&S.types!==null&&(b.types=S.types),Z.T=b}}function FR(){}function bm(i,r,o,u){if(i.tag!==5)throw Error(s(476));var f=c_(i).queue;u_(i,f,r,dt,o===null?FR:function(){return h_(i),o(u)})}function c_(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:dt,baseState:dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hs,lastRenderedState:dt},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hs,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function h_(i){var r=c_(i);r.next===null&&(r=i.alternate.memoizedState),Xl(i,r.next.queue,{},Mn())}function Tm(){return Xe(du)}function f_(){return Ee().memoizedState}function d_(){return Ee().memoizedState}function HR(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=Mn();i=Js(o);var u=Zs(r,i,o);u!==null&&(wn(u,r,o),Gl(u,r,o)),r={cache:Xd()},i.payload=r;return}r=r.return}}function qR(i,r,o){var u=Mn();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},ch(i)?p_(r,o):(o=Ud(i,r,o,u),o!==null&&(wn(o,i,u),g_(o,r,u)))}function m_(i,r,o){var u=Mn();Xl(i,r,o,u)}function Xl(i,r,o,u){var f={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(ch(i))p_(r,f);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var b=r.lastRenderedState,S=g(b,o);if(f.hasEagerState=!0,f.eagerState=S,Cn(S,b))return qc(i,r,f,0),ie===null&&Hc(),!1}catch{}if(o=Ud(i,r,f,u),o!==null)return wn(o,i,u),g_(o,r,u),!0}return!1}function Em(i,r,o,u){if(u={lane:2,revertLane:tp(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},ch(i)){if(r)throw Error(s(479))}else r=Ud(i,o,u,2),r!==null&&wn(r,i,2)}function ch(i){var r=i.alternate;return i===It||r!==null&&r===It}function p_(i,r){co=ih=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function g_(i,r,o){if((o&4194048)!==0){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,vl(i,o)}}var Wl={readContext:Xe,use:ah,useCallback:ge,useContext:ge,useEffect:ge,useImperativeHandle:ge,useLayoutEffect:ge,useInsertionEffect:ge,useMemo:ge,useReducer:ge,useRef:ge,useState:ge,useDebugValue:ge,useDeferredValue:ge,useTransition:ge,useSyncExternalStore:ge,useId:ge,useHostTransitionStatus:ge,useFormState:ge,useActionState:ge,useOptimistic:ge,useMemoCache:ge,useCacheRefresh:ge};Wl.useEffectEvent=ge;var y_={readContext:Xe,use:ah,useCallback:function(i,r){return dn().memoizedState=[i,r===void 0?null:r],i},useContext:Xe,useEffect:t_,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,lh(4194308,4,s_.bind(null,r,i),o)},useLayoutEffect:function(i,r){return lh(4194308,4,i,r)},useInsertionEffect:function(i,r){lh(4,2,i,r)},useMemo:function(i,r){var o=dn();r=r===void 0?null:r;var u=i();if(ca){On(!0);try{i()}finally{On(!1)}}return o.memoizedState=[u,r],u},useReducer:function(i,r,o){var u=dn();if(o!==void 0){var f=o(r);if(ca){On(!0);try{o(r)}finally{On(!1)}}}else f=r;return u.memoizedState=u.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},u.queue=i,i=i.dispatch=qR.bind(null,It,i),[u.memoizedState,i]},useRef:function(i){var r=dn();return i={current:i},r.memoizedState=i},useState:function(i){i=pm(i);var r=i.queue,o=m_.bind(null,It,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:vm,useDeferredValue:function(i,r){var o=dn();return _m(o,i,r)},useTransition:function(){var i=pm(!1);return i=u_.bind(null,It,i.queue,!0,!1),dn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var u=It,f=dn();if(Bt){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),ie===null)throw Error(s(349));(Pt&127)!==0||jv(u,r,o)}f.memoizedState=o;var g={value:o,getSnapshot:r};return f.queue=g,t_(zv.bind(null,u,g,i),[i]),u.flags|=2048,fo(9,{destroy:void 0},Uv.bind(null,u,g,o,r),null),o},useId:function(){var i=dn(),r=ie.identifierPrefix;if(Bt){var o=zi,u=Ui;o=(u&~(1<<32-_e(u)-1)).toString(32)+o,r="_"+r+"R_"+o,o=sh++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=LR++,r="_"+r+"r_"+o.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:Tm,useFormState:Qv,useActionState:Qv,useOptimistic:function(i){var r=dn();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=Em.bind(null,It,!0,o),o.dispatch=r,[i,r]},useMemoCache:fm,useCacheRefresh:function(){return dn().memoizedState=HR.bind(null,It)},useEffectEvent:function(i){var r=dn(),o={impl:i};return r.memoizedState=o,function(){if(($t&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},wm={readContext:Xe,use:ah,useCallback:a_,useContext:Xe,useEffect:ym,useImperativeHandle:r_,useInsertionEffect:n_,useLayoutEffect:i_,useMemo:o_,useReducer:oh,useRef:Zv,useState:function(){return oh(hs)},useDebugValue:vm,useDeferredValue:function(i,r){var o=Ee();return l_(o,te.memoizedState,i,r)},useTransition:function(){var i=oh(hs)[0],r=Ee().memoizedState;return[typeof i=="boolean"?i:Ql(i),r]},useSyncExternalStore:Lv,useId:f_,useHostTransitionStatus:Tm,useFormState:Xv,useActionState:Xv,useOptimistic:function(i,r){var o=Ee();return Hv(o,te,i,r)},useMemoCache:fm,useCacheRefresh:d_};wm.useEffectEvent=e_;var v_={readContext:Xe,use:ah,useCallback:a_,useContext:Xe,useEffect:ym,useImperativeHandle:r_,useInsertionEffect:n_,useLayoutEffect:i_,useMemo:o_,useReducer:mm,useRef:Zv,useState:function(){return mm(hs)},useDebugValue:vm,useDeferredValue:function(i,r){var o=Ee();return te===null?_m(o,i,r):l_(o,te.memoizedState,i,r)},useTransition:function(){var i=mm(hs)[0],r=Ee().memoizedState;return[typeof i=="boolean"?i:Ql(i),r]},useSyncExternalStore:Lv,useId:f_,useHostTransitionStatus:Tm,useFormState:Jv,useActionState:Jv,useOptimistic:function(i,r){var o=Ee();return te!==null?Hv(o,te,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:fm,useCacheRefresh:d_};v_.useEffectEvent=e_;function Sm(i,r,o,u){r=i.memoizedState,o=o(u,r),o=o==null?r:_({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var xm={enqueueSetState:function(i,r,o){i=i._reactInternals;var u=Mn(),f=Js(u);f.payload=r,o!=null&&(f.callback=o),r=Zs(i,f,u),r!==null&&(wn(r,i,u),Gl(r,i,u))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var u=Mn(),f=Js(u);f.tag=1,f.payload=r,o!=null&&(f.callback=o),r=Zs(i,f,u),r!==null&&(wn(r,i,u),Gl(r,i,u))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=Mn(),u=Js(o);u.tag=2,r!=null&&(u.callback=r),r=Zs(i,u,o),r!==null&&(wn(r,i,o),Gl(r,i,o))}};function __(i,r,o,u,f,g,b){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,g,b):r.prototype&&r.prototype.isPureReactComponent?!Ll(o,u)||!Ll(f,g):!0}function b_(i,r,o,u){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==i&&xm.enqueueReplaceState(r,r.state,null)}function ha(i,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(i=i.defaultProps){o===r&&(o=_({},o));for(var f in i)o[f]===void 0&&(o[f]=i[f])}return o}function T_(i){Fc(i)}function E_(i){console.error(i)}function w_(i){Fc(i)}function hh(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function S_(i,r,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Am(i,r,o){return o=Js(o),o.tag=3,o.payload={element:null},o.callback=function(){hh(i,r)},o}function x_(i){return i=Js(i),i.tag=3,i}function A_(i,r,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var g=u.value;i.payload=function(){return f(g)},i.callback=function(){S_(r,o,u)}}var b=o.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(i.callback=function(){S_(r,o,u),typeof f!="function"&&(rr===null?rr=new Set([this]):rr.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function GR(i,r,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&so(r,o,f,!0),o=In.current,o!==null){switch(o.tag){case 31:case 13:return Gn===null?wh():o.alternate===null&&ye===0&&(ye=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===Jc?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),Wm(i,u,f)),!1;case 22:return o.flags|=65536,u===Jc?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),Wm(i,u,f)),!1}throw Error(s(435,o.tag))}return Wm(i,u,f),wh(),!1}if(Bt)return r=In.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,u!==Gd&&(i=Error(s(422),{cause:u}),zl(Bn(i,o)))):(u!==Gd&&(r=Error(s(423),{cause:u}),zl(Bn(r,o))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,u=Bn(u,o),f=Am(i.stateNode,u,f),nm(i,f),ye!==4&&(ye=2)),!1;var g=Error(s(520),{cause:u});if(g=Bn(g,o),ru===null?ru=[g]:ru.push(g),ye!==4&&(ye=2),r===null)return!0;u=Bn(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=f&-f,o.lanes|=i,i=Am(o.stateNode,u,i),nm(o,i),!1;case 1:if(r=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(rr===null||!rr.has(g))))return o.flags|=65536,f&=-f,o.lanes|=f,f=x_(f),A_(f,i,o,u),nm(o,f),!1}o=o.return}while(o!==null);return!1}var Cm=Error(s(461)),De=!1;function We(i,r,o,u){r.child=i===null?Nv(r,null,o,u):ua(r,i.child,o,u)}function C_(i,r,o,u,f){o=o.render;var g=r.ref;if("ref"in u){var b={};for(var S in u)S!=="ref"&&(b[S]=u[S])}else b=u;return ra(r),u=lm(i,r,o,b,g,f),S=um(),i!==null&&!De?(cm(i,r,f),fs(i,r,f)):(Bt&&S&&Hd(r),r.flags|=1,We(i,r,u,f),r.child)}function R_(i,r,o,u,f){if(i===null){var g=o.type;return typeof g=="function"&&!zd(g)&&g.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=g,I_(i,r,g,u,f)):(i=Kc(o.type,null,u,r,r.mode,f),i.ref=r.ref,i.return=r,r.child=i)}if(g=i.child,!Om(i,f)){var b=g.memoizedProps;if(o=o.compare,o=o!==null?o:Ll,o(b,u)&&i.ref===r.ref)return fs(i,r,f)}return r.flags|=1,i=as(g,u),i.ref=r.ref,i.return=r,r.child=i}function I_(i,r,o,u,f){if(i!==null){var g=i.memoizedProps;if(Ll(g,u)&&i.ref===r.ref)if(De=!1,r.pendingProps=u=g,Om(i,f))(i.flags&131072)!==0&&(De=!0);else return r.lanes=i.lanes,fs(i,r,f)}return Rm(i,r,o,u,f)}function N_(i,r,o,u){var f=u.children,g=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,i!==null){for(u=r.child=i.child,f=0;u!==null;)f=f|u.lanes|u.childLanes,u=u.sibling;u=f&~g}else u=0,r.child=null;return D_(i,r,g,o,u)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&Xc(r,g!==null?g.cachePool:null),g!==null?Mv(r,g):sm(),Vv(r);else return u=r.lanes=536870912,D_(i,r,g!==null?g.baseLanes|o:o,o,u)}else g!==null?(Xc(r,g.cachePool),Mv(r,g),er(),r.memoizedState=null):(i!==null&&Xc(r,null),sm(),er());return We(i,r,f,o),r.child}function Jl(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function D_(i,r,o,u,f){var g=Jd();return g=g===null?null:{parent:Ie._currentValue,pool:g},r.memoizedState={baseLanes:o,cachePool:g},i!==null&&Xc(r,null),sm(),Vv(r),i!==null&&so(i,r,u,!0),r.childLanes=f,null}function fh(i,r){return r=mh({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function k_(i,r,o){return ua(r,i.child,null,o),i=fh(r,r.pendingProps),i.flags|=2,Nn(r),r.memoizedState=null,i}function KR(i,r,o){var u=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(Bt){if(u.mode==="hidden")return i=fh(r,u),r.lanes=536870912,Jl(null,i);if(am(r),(i=ae)?(i=qb(i,qn),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:$s!==null?{id:Ui,overflow:zi}:null,retryLane:536870912,hydrationErrors:null},o=pv(i),o.return=r,r.child=o,Qe=r,ae=null)):i=null,i===null)throw Qs(r);return r.lanes=536870912,null}return fh(r,u)}var g=i.memoizedState;if(g!==null){var b=g.dehydrated;if(am(r),f)if(r.flags&256)r.flags&=-257,r=k_(i,r,o);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(De||so(i,r,o,!1),f=(o&i.childLanes)!==0,De||f){if(u=ie,u!==null&&(b=_l(u,o),b!==0&&b!==g.retryLane))throw g.retryLane=b,ea(i,b),wn(u,i,b),Cm;wh(),r=k_(i,r,o)}else i=g.treeContext,ae=Kn(b.nextSibling),Qe=r,Bt=!0,Ys=null,qn=!1,i!==null&&vv(r,i),r=fh(r,u),r.flags|=4096;return r}return i=as(i.child,{mode:u.mode,children:u.children}),i.ref=r.ref,r.child=i,i.return=r,i}function dh(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function Rm(i,r,o,u,f){return ra(r),o=lm(i,r,o,u,void 0,f),u=um(),i!==null&&!De?(cm(i,r,f),fs(i,r,f)):(Bt&&u&&Hd(r),r.flags|=1,We(i,r,o,f),r.child)}function M_(i,r,o,u,f,g){return ra(r),r.updateQueue=null,o=Pv(r,u,o,f),Ov(i),u=um(),i!==null&&!De?(cm(i,r,g),fs(i,r,g)):(Bt&&u&&Hd(r),r.flags|=1,We(i,r,o,g),r.child)}function V_(i,r,o,u,f){if(ra(r),r.stateNode===null){var g=to,b=o.contextType;typeof b=="object"&&b!==null&&(g=Xe(b)),g=new o(u,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=xm,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=u,g.state=r.memoizedState,g.refs={},tm(r),b=o.contextType,g.context=typeof b=="object"&&b!==null?Xe(b):to,g.state=r.memoizedState,b=o.getDerivedStateFromProps,typeof b=="function"&&(Sm(r,o,b,u),g.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(b=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),b!==g.state&&xm.enqueueReplaceState(g,g.state,null),$l(r,u,g,f),Kl(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(i===null){g=r.stateNode;var S=r.memoizedProps,M=ha(o,S);g.props=M;var K=g.context,tt=o.contextType;b=to,typeof tt=="object"&&tt!==null&&(b=Xe(tt));var it=o.getDerivedStateFromProps;tt=typeof it=="function"||typeof g.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,tt||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S||K!==b)&&b_(r,g,u,b),Ws=!1;var Y=r.memoizedState;g.state=Y,$l(r,u,g,f),Kl(),K=r.memoizedState,S||Y!==K||Ws?(typeof it=="function"&&(Sm(r,o,it,u),K=r.memoizedState),(M=Ws||__(r,o,M,u,Y,K,b))?(tt||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=K),g.props=u,g.state=K,g.context=b,u=M):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{g=r.stateNode,em(i,r),b=r.memoizedProps,tt=ha(o,b),g.props=tt,it=r.pendingProps,Y=g.context,K=o.contextType,M=to,typeof K=="object"&&K!==null&&(M=Xe(K)),S=o.getDerivedStateFromProps,(K=typeof S=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(b!==it||Y!==M)&&b_(r,g,u,M),Ws=!1,Y=r.memoizedState,g.state=Y,$l(r,u,g,f),Kl();var X=r.memoizedState;b!==it||Y!==X||Ws||i!==null&&i.dependencies!==null&&Yc(i.dependencies)?(typeof S=="function"&&(Sm(r,o,S,u),X=r.memoizedState),(tt=Ws||__(r,o,tt,u,Y,X,M)||i!==null&&i.dependencies!==null&&Yc(i.dependencies))?(K||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,X,M),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,X,M)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||b===i.memoizedProps&&Y===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&Y===i.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=X),g.props=u,g.state=X,g.context=M,u=tt):(typeof g.componentDidUpdate!="function"||b===i.memoizedProps&&Y===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&Y===i.memoizedState||(r.flags|=1024),u=!1)}return g=u,dh(i,r),u=(r.flags&128)!==0,g||u?(g=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,i!==null&&u?(r.child=ua(r,i.child,null,f),r.child=ua(r,null,o,f)):We(i,r,o,f),r.memoizedState=g.state,i=r.child):i=fs(i,r,f),i}function O_(i,r,o,u){return ia(),r.flags|=256,We(i,r,o,u),r.child}var Im={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Nm(i){return{baseLanes:i,cachePool:Sv()}}function Dm(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=kn),i}function P_(i,r,o){var u=r.pendingProps,f=!1,g=(r.flags&128)!==0,b;if((b=g)||(b=i!==null&&i.memoizedState===null?!1:(Te.current&2)!==0),b&&(f=!0,r.flags&=-129),b=(r.flags&32)!==0,r.flags&=-33,i===null){if(Bt){if(f?tr(r):er(),(i=ae)?(i=qb(i,qn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:$s!==null?{id:Ui,overflow:zi}:null,retryLane:536870912,hydrationErrors:null},o=pv(i),o.return=r,r.child=o,Qe=r,ae=null)):i=null,i===null)throw Qs(r);return dp(i)?r.lanes=32:r.lanes=536870912,null}var S=u.children;return u=u.fallback,f?(er(),f=r.mode,S=mh({mode:"hidden",children:S},f),u=na(u,f,o,null),S.return=r,u.return=r,S.sibling=u,r.child=S,u=r.child,u.memoizedState=Nm(o),u.childLanes=Dm(i,b,o),r.memoizedState=Im,Jl(null,u)):(tr(r),km(r,S))}var M=i.memoizedState;if(M!==null&&(S=M.dehydrated,S!==null)){if(g)r.flags&256?(tr(r),r.flags&=-257,r=Mm(i,r,o)):r.memoizedState!==null?(er(),r.child=i.child,r.flags|=128,r=null):(er(),S=u.fallback,f=r.mode,u=mh({mode:"visible",children:u.children},f),S=na(S,f,o,null),S.flags|=2,u.return=r,S.return=r,u.sibling=S,r.child=u,ua(r,i.child,null,o),u=r.child,u.memoizedState=Nm(o),u.childLanes=Dm(i,b,o),r.memoizedState=Im,r=Jl(null,u));else if(tr(r),dp(S)){if(b=S.nextSibling&&S.nextSibling.dataset,b)var K=b.dgst;b=K,u=Error(s(419)),u.stack="",u.digest=b,zl({value:u,source:null,stack:null}),r=Mm(i,r,o)}else if(De||so(i,r,o,!1),b=(o&i.childLanes)!==0,De||b){if(b=ie,b!==null&&(u=_l(b,o),u!==0&&u!==M.retryLane))throw M.retryLane=u,ea(i,u),wn(b,i,u),Cm;fp(S)||wh(),r=Mm(i,r,o)}else fp(S)?(r.flags|=192,r.child=i.child,r=null):(i=M.treeContext,ae=Kn(S.nextSibling),Qe=r,Bt=!0,Ys=null,qn=!1,i!==null&&vv(r,i),r=km(r,u.children),r.flags|=4096);return r}return f?(er(),S=u.fallback,f=r.mode,M=i.child,K=M.sibling,u=as(M,{mode:"hidden",children:u.children}),u.subtreeFlags=M.subtreeFlags&65011712,K!==null?S=as(K,S):(S=na(S,f,o,null),S.flags|=2),S.return=r,u.return=r,u.sibling=S,r.child=u,Jl(null,u),u=r.child,S=i.child.memoizedState,S===null?S=Nm(o):(f=S.cachePool,f!==null?(M=Ie._currentValue,f=f.parent!==M?{parent:M,pool:M}:f):f=Sv(),S={baseLanes:S.baseLanes|o,cachePool:f}),u.memoizedState=S,u.childLanes=Dm(i,b,o),r.memoizedState=Im,Jl(i.child,u)):(tr(r),o=i.child,i=o.sibling,o=as(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,i!==null&&(b=r.deletions,b===null?(r.deletions=[i],r.flags|=16):b.push(i)),r.child=o,r.memoizedState=null,o)}function km(i,r){return r=mh({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function mh(i,r){return i=Rn(22,i,null,r),i.lanes=0,i}function Mm(i,r,o){return ua(r,i.child,null,o),i=km(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function L_(i,r,o){i.lanes|=r;var u=i.alternate;u!==null&&(u.lanes|=r),Yd(i.return,r,o)}function Vm(i,r,o,u,f,g){var b=i.memoizedState;b===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f,treeForkCount:g}:(b.isBackwards=r,b.rendering=null,b.renderingStartTime=0,b.last=u,b.tail=o,b.tailMode=f,b.treeForkCount=g)}function j_(i,r,o){var u=r.pendingProps,f=u.revealOrder,g=u.tail;u=u.children;var b=Te.current,S=(b&2)!==0;if(S?(b=b&1|2,r.flags|=128):b&=1,ct(Te,b),We(i,r,u,o),u=Bt?Ul:0,!S&&i!==null&&(i.flags&128)!==0)t:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&L_(i,o,r);else if(i.tag===19)L_(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break t;for(;i.sibling===null;){if(i.return===null||i.return===r)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(f){case"forwards":for(o=r.child,f=null;o!==null;)i=o.alternate,i!==null&&nh(i)===null&&(f=o),o=o.sibling;o=f,o===null?(f=r.child,r.child=null):(f=o.sibling,o.sibling=null),Vm(r,!1,f,o,g,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,f=r.child,r.child=null;f!==null;){if(i=f.alternate,i!==null&&nh(i)===null){r.child=f;break}i=f.sibling,f.sibling=o,o=f,f=i}Vm(r,!0,o,null,g,u);break;case"together":Vm(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function fs(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),sr|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(so(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=as(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=as(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function Om(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&Yc(i)))}function $R(i,r,o){switch(r.tag){case 3:je(r,r.stateNode.containerInfo),Xs(r,Ie,i.memoizedState.cache),ia();break;case 27:case 5:Lr(r);break;case 4:je(r,r.stateNode.containerInfo);break;case 10:Xs(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,am(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(tr(r),r.flags|=128,null):(o&r.child.childLanes)!==0?P_(i,r,o):(tr(r),i=fs(i,r,o),i!==null?i.sibling:null);tr(r);break;case 19:var f=(i.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(so(i,r,o,!1),u=(o&r.childLanes)!==0),f){if(u)return j_(i,r,o);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ct(Te,Te.current),u)break;return null;case 22:return r.lanes=0,N_(i,r,o,r.pendingProps);case 24:Xs(r,Ie,i.memoizedState.cache)}return fs(i,r,o)}function U_(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)De=!0;else{if(!Om(i,o)&&(r.flags&128)===0)return De=!1,$R(i,r,o);De=(i.flags&131072)!==0}else De=!1,Bt&&(r.flags&1048576)!==0&&yv(r,Ul,r.index);switch(r.lanes=0,r.tag){case 16:t:{var u=r.pendingProps;if(i=oa(r.elementType),r.type=i,typeof i=="function")zd(i)?(u=ha(i,u),r.tag=1,r=V_(null,r,i,u,o)):(r.tag=0,r=Rm(null,r,i,u,o));else{if(i!=null){var f=i.$$typeof;if(f===W){r.tag=11,r=C_(null,r,i,u,o);break t}else if(f===R){r.tag=14,r=R_(null,r,i,u,o);break t}}throw r=Qt(i)||i,Error(s(306,r,""))}}return r;case 0:return Rm(i,r,r.type,r.pendingProps,o);case 1:return u=r.type,f=ha(u,r.pendingProps),V_(i,r,u,f,o);case 3:t:{if(je(r,r.stateNode.containerInfo),i===null)throw Error(s(387));u=r.pendingProps;var g=r.memoizedState;f=g.element,em(i,r),$l(r,u,null,o);var b=r.memoizedState;if(u=b.cache,Xs(r,Ie,u),u!==g.cache&&Qd(r,[Ie],o,!0),Kl(),u=b.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:b.cache},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){r=O_(i,r,u,o);break t}else if(u!==f){f=Bn(Error(s(424)),r),zl(f),r=O_(i,r,u,o);break t}else for(i=r.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,ae=Kn(i.firstChild),Qe=r,Bt=!0,Ys=null,qn=!0,o=Nv(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(ia(),u===f){r=fs(i,r,o);break t}We(i,r,u,o)}r=r.child}return r;case 26:return dh(i,r),i===null?(o=Xb(r.type,null,r.pendingProps,null))?r.memoizedState=o:Bt||(o=r.type,i=r.pendingProps,u=Nh(Nt.current).createElement(o),u[Ae]=r,u[He]=i,Je(u,o,i),Ce(u),r.stateNode=u):r.memoizedState=Xb(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return Lr(r),i===null&&Bt&&(u=r.stateNode=$b(r.type,r.pendingProps,Nt.current),Qe=r,qn=!0,f=ae,ur(r.type)?(mp=f,ae=Kn(u.firstChild)):ae=f),We(i,r,r.pendingProps.children,o),dh(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&Bt&&((f=u=ae)&&(u=w2(u,r.type,r.pendingProps,qn),u!==null?(r.stateNode=u,Qe=r,ae=Kn(u.firstChild),qn=!1,f=!0):f=!1),f||Qs(r)),Lr(r),f=r.type,g=r.pendingProps,b=i!==null?i.memoizedProps:null,u=g.children,up(f,g)?u=null:b!==null&&up(f,b)&&(r.flags|=32),r.memoizedState!==null&&(f=lm(i,r,jR,null,null,o),du._currentValue=f),dh(i,r),We(i,r,u,o),r.child;case 6:return i===null&&Bt&&((i=o=ae)&&(o=S2(o,r.pendingProps,qn),o!==null?(r.stateNode=o,Qe=r,ae=null,i=!0):i=!1),i||Qs(r)),null;case 13:return P_(i,r,o);case 4:return je(r,r.stateNode.containerInfo),u=r.pendingProps,i===null?r.child=ua(r,null,u,o):We(i,r,u,o),r.child;case 11:return C_(i,r,r.type,r.pendingProps,o);case 7:return We(i,r,r.pendingProps,o),r.child;case 8:return We(i,r,r.pendingProps.children,o),r.child;case 12:return We(i,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,Xs(r,r.type,u.value),We(i,r,u.children,o),r.child;case 9:return f=r.type._context,u=r.pendingProps.children,ra(r),f=Xe(f),u=u(f),r.flags|=1,We(i,r,u,o),r.child;case 14:return R_(i,r,r.type,r.pendingProps,o);case 15:return I_(i,r,r.type,r.pendingProps,o);case 19:return j_(i,r,o);case 31:return KR(i,r,o);case 22:return N_(i,r,o,r.pendingProps);case 24:return ra(r),u=Xe(Ie),i===null?(f=Jd(),f===null&&(f=ie,g=Xd(),f.pooledCache=g,g.refCount++,g!==null&&(f.pooledCacheLanes|=o),f=g),r.memoizedState={parent:u,cache:f},tm(r),Xs(r,Ie,f)):((i.lanes&o)!==0&&(em(i,r),$l(r,null,null,o),Kl()),f=i.memoizedState,g=r.memoizedState,f.parent!==u?(f={parent:u,cache:u},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Xs(r,Ie,u)):(u=g.cache,Xs(r,Ie,u),u!==f.cache&&Qd(r,[Ie],o,!0))),We(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function ds(i){i.flags|=4}function Pm(i,r,o,u,f){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(f&335544128)===f)if(i.stateNode.complete)i.flags|=8192;else if(fb())i.flags|=8192;else throw la=Jc,Zd}else i.flags&=-16777217}function z_(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!eT(r))if(fb())i.flags|=8192;else throw la=Jc,Zd}function ph(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?Tc():536870912,i.lanes|=r,yo|=r)}function Zl(i,r){if(!Bt)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function oe(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(r)for(var f=i.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=u,i.childLanes=o,r}function YR(i,r,o){var u=r.pendingProps;switch(qd(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oe(r),null;case 1:return oe(r),null;case 3:return o=r.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),us(Ie),ce(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(io(r)?ds(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Kd())),oe(r),null;case 26:var f=r.type,g=r.memoizedState;return i===null?(ds(r),g!==null?(oe(r),z_(r,g)):(oe(r),Pm(r,f,null,u,o))):g?g!==i.memoizedState?(ds(r),oe(r),z_(r,g)):(oe(r),r.flags&=-16777217):(i=i.memoizedProps,i!==u&&ds(r),oe(r),Pm(r,f,i,u,o)),null;case 27:if(Oa(r),o=Nt.current,f=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&ds(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return oe(r),null}i=ht.current,io(r)?_v(r):(i=$b(f,u,o),r.stateNode=i,ds(r))}return oe(r),null;case 5:if(Oa(r),f=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&ds(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return oe(r),null}if(g=ht.current,io(r))_v(r);else{var b=Nh(Nt.current);switch(g){case 1:g=b.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:g=b.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":g=b.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":g=b.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":g=b.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof u.is=="string"?b.createElement("select",{is:u.is}):b.createElement("select"),u.multiple?g.multiple=!0:u.size&&(g.size=u.size);break;default:g=typeof u.is=="string"?b.createElement(f,{is:u.is}):b.createElement(f)}}g[Ae]=r,g[He]=u;t:for(b=r.child;b!==null;){if(b.tag===5||b.tag===6)g.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===r)break t;for(;b.sibling===null;){if(b.return===null||b.return===r)break t;b=b.return}b.sibling.return=b.return,b=b.sibling}r.stateNode=g;t:switch(Je(g,f,u),f){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break t;case"img":u=!0;break t;default:u=!1}u&&ds(r)}}return oe(r),Pm(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,o),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==u&&ds(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(i=Nt.current,io(r)){if(i=r.stateNode,o=r.memoizedProps,u=null,f=Qe,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}i[Ae]=r,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||Pb(i.nodeValue,o)),i||Qs(r,!0)}else i=Nh(i).createTextNode(u),i[Ae]=r,r.stateNode=i}return oe(r),null;case 31:if(o=r.memoizedState,i===null||i.memoizedState!==null){if(u=io(r),o!==null){if(i===null){if(!u)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[Ae]=r}else ia(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;oe(r),i=!1}else o=Kd(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return r.flags&256?(Nn(r),r):(Nn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return oe(r),null;case 13:if(u=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=io(r),u!==null&&u.dehydrated!==null){if(i===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Ae]=r}else ia(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;oe(r),f=!1}else f=Kd(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(Nn(r),r):(Nn(r),null)}return Nn(r),(r.flags&128)!==0?(r.lanes=o,r):(o=u!==null,i=i!==null&&i.memoizedState!==null,o&&(u=r.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool),g=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==f&&(u.flags|=2048)),o!==i&&o&&(r.child.flags|=8192),ph(r,r.updateQueue),oe(r),null);case 4:return ce(),i===null&&sp(r.stateNode.containerInfo),oe(r),null;case 10:return us(r.type),oe(r),null;case 19:if(nt(Te),u=r.memoizedState,u===null)return oe(r),null;if(f=(r.flags&128)!==0,g=u.rendering,g===null)if(f)Zl(u,!1);else{if(ye!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(g=nh(i),g!==null){for(r.flags|=128,Zl(u,!1),i=g.updateQueue,r.updateQueue=i,ph(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)mv(o,i),o=o.sibling;return ct(Te,Te.current&1|2),Bt&&os(r,u.treeForkCount),r.child}i=i.sibling}u.tail!==null&&hn()>bh&&(r.flags|=128,f=!0,Zl(u,!1),r.lanes=4194304)}else{if(!f)if(i=nh(g),i!==null){if(r.flags|=128,f=!0,i=i.updateQueue,r.updateQueue=i,ph(r,i),Zl(u,!0),u.tail===null&&u.tailMode==="hidden"&&!g.alternate&&!Bt)return oe(r),null}else 2*hn()-u.renderingStartTime>bh&&o!==536870912&&(r.flags|=128,f=!0,Zl(u,!1),r.lanes=4194304);u.isBackwards?(g.sibling=r.child,r.child=g):(i=u.last,i!==null?i.sibling=g:r.child=g,u.last=g)}return u.tail!==null?(i=u.tail,u.rendering=i,u.tail=i.sibling,u.renderingStartTime=hn(),i.sibling=null,o=Te.current,ct(Te,f?o&1|2:o&1),Bt&&os(r,u.treeForkCount),i):(oe(r),null);case 22:case 23:return Nn(r),rm(),u=r.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(oe(r),r.subtreeFlags&6&&(r.flags|=8192)):oe(r),o=r.updateQueue,o!==null&&ph(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),i!==null&&nt(aa),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),us(Ie),oe(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function QR(i,r){switch(qd(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return us(Ie),ce(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Oa(r),null;case 31:if(r.memoizedState!==null){if(Nn(r),r.alternate===null)throw Error(s(340));ia()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(Nn(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));ia()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return nt(Te),null;case 4:return ce(),null;case 10:return us(r.type),null;case 22:case 23:return Nn(r),rm(),i!==null&&nt(aa),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return us(Ie),null;case 25:return null;default:return null}}function B_(i,r){switch(qd(r),r.tag){case 3:us(Ie),ce();break;case 26:case 27:case 5:Oa(r);break;case 4:ce();break;case 31:r.memoizedState!==null&&Nn(r);break;case 13:Nn(r);break;case 19:nt(Te);break;case 10:us(r.type);break;case 22:case 23:Nn(r),rm(),i!==null&&nt(aa);break;case 24:us(Ie)}}function tu(i,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&i)===i){u=void 0;var g=o.create,b=o.inst;u=g(),b.destroy=u}o=o.next}while(o!==f)}}catch(S){Jt(r,r.return,S)}}function nr(i,r,o){try{var u=r.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var g=f.next;u=g;do{if((u.tag&i)===i){var b=u.inst,S=b.destroy;if(S!==void 0){b.destroy=void 0,f=r;var M=o,K=S;try{K()}catch(tt){Jt(f,M,tt)}}}u=u.next}while(u!==g)}}catch(tt){Jt(r,r.return,tt)}}function F_(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{kv(r,o)}catch(u){Jt(i,i.return,u)}}}function H_(i,r,o){o.props=ha(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){Jt(i,r,u)}}function eu(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(f){Jt(i,r,f)}}function Bi(i,r){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){Jt(i,r,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){Jt(i,r,f)}else o.current=null}function q_(i){var r=i.type,o=i.memoizedProps,u=i.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break t;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){Jt(i,i.return,f)}}function Lm(i,r,o){try{var u=i.stateNode;y2(u,i.type,o,r),u[He]=r}catch(f){Jt(i,i.return,f)}}function G_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&ur(i.type)||i.tag===4}function jm(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||G_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&ur(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Um(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=ii));else if(u!==4&&(u===27&&ur(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(Um(i,r,o),i=i.sibling;i!==null;)Um(i,r,o),i=i.sibling}function gh(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(u!==4&&(u===27&&ur(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(gh(i,r,o),i=i.sibling;i!==null;)gh(i,r,o),i=i.sibling}function K_(i){var r=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);Je(r,u,o),r[Ae]=i,r[He]=o}catch(g){Jt(i,i.return,g)}}var ms=!1,ke=!1,zm=!1,$_=typeof WeakSet=="function"?WeakSet:Set,Ge=null;function XR(i,r){if(i=i.containerInfo,op=Lh,i=rv(i),Md(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else t:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break t}var b=0,S=-1,M=-1,K=0,tt=0,it=i,Y=null;e:for(;;){for(var X;it!==o||f!==0&&it.nodeType!==3||(S=b+f),it!==g||u!==0&&it.nodeType!==3||(M=b+u),it.nodeType===3&&(b+=it.nodeValue.length),(X=it.firstChild)!==null;)Y=it,it=X;for(;;){if(it===i)break e;if(Y===o&&++K===f&&(S=b),Y===g&&++tt===u&&(M=b),(X=it.nextSibling)!==null)break;it=Y,Y=it.parentNode}it=X}o=S===-1||M===-1?null:{start:S,end:M}}else o=null}o=o||{start:0,end:0}}else o=null;for(lp={focusedElem:i,selectionRange:o},Lh=!1,Ge=r;Ge!==null;)if(r=Ge,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,Ge=i;else for(;Ge!==null;){switch(r=Ge,g=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)f=i[o],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=r,f=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var pt=ha(o.type,f);i=u.getSnapshotBeforeUpdate(pt,g),u.__reactInternalSnapshotBeforeUpdate=i}catch(Tt){Jt(o,o.return,Tt)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)hp(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":hp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,Ge=i;break}Ge=r.return}}function Y_(i,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:gs(i,o),u&4&&tu(5,o);break;case 1:if(gs(i,o),u&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(b){Jt(o,o.return,b)}else{var f=ha(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(f,r,i.__reactInternalSnapshotBeforeUpdate)}catch(b){Jt(o,o.return,b)}}u&64&&F_(o),u&512&&eu(o,o.return);break;case 3:if(gs(i,o),u&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{kv(i,r)}catch(b){Jt(o,o.return,b)}}break;case 27:r===null&&u&4&&K_(o);case 26:case 5:gs(i,o),r===null&&u&4&&q_(o),u&512&&eu(o,o.return);break;case 12:gs(i,o);break;case 31:gs(i,o),u&4&&W_(i,o);break;case 13:gs(i,o),u&4&&J_(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=r2.bind(null,o),x2(i,o))));break;case 22:if(u=o.memoizedState!==null||ms,!u){r=r!==null&&r.memoizedState!==null||ke,f=ms;var g=ke;ms=u,(ke=r)&&!g?ys(i,o,(o.subtreeFlags&8772)!==0):gs(i,o),ms=f,ke=g}break;case 30:break;default:gs(i,o)}}function Q_(i){var r=i.alternate;r!==null&&(i.alternate=null,Q_(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&za(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var fe=null,_n=!1;function ps(i,r,o){for(o=o.child;o!==null;)X_(i,r,o),o=o.sibling}function X_(i,r,o){if($e&&typeof $e.onCommitFiberUnmount=="function")try{$e.onCommitFiberUnmount(Zn,o)}catch{}switch(o.tag){case 26:ke||Bi(o,r),ps(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:ke||Bi(o,r);var u=fe,f=_n;ur(o.type)&&(fe=o.stateNode,_n=!1),ps(i,r,o),cu(o.stateNode),fe=u,_n=f;break;case 5:ke||Bi(o,r);case 6:if(u=fe,f=_n,fe=null,ps(i,r,o),fe=u,_n=f,fe!==null)if(_n)try{(fe.nodeType===9?fe.body:fe.nodeName==="HTML"?fe.ownerDocument.body:fe).removeChild(o.stateNode)}catch(g){Jt(o,r,g)}else try{fe.removeChild(o.stateNode)}catch(g){Jt(o,r,g)}break;case 18:fe!==null&&(_n?(i=fe,Fb(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),xo(i)):Fb(fe,o.stateNode));break;case 4:u=fe,f=_n,fe=o.stateNode.containerInfo,_n=!0,ps(i,r,o),fe=u,_n=f;break;case 0:case 11:case 14:case 15:nr(2,o,r),ke||nr(4,o,r),ps(i,r,o);break;case 1:ke||(Bi(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&H_(o,r,u)),ps(i,r,o);break;case 21:ps(i,r,o);break;case 22:ke=(u=ke)||o.memoizedState!==null,ps(i,r,o),ke=u;break;default:ps(i,r,o)}}function W_(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{xo(i)}catch(o){Jt(r,r.return,o)}}}function J_(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{xo(i)}catch(o){Jt(r,r.return,o)}}function WR(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new $_),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new $_),r;default:throw Error(s(435,i.tag))}}function yh(i,r){var o=WR(i);r.forEach(function(u){if(!o.has(u)){o.add(u);var f=a2.bind(null,i,u);u.then(f,f)}})}function bn(i,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],g=i,b=r,S=b;t:for(;S!==null;){switch(S.tag){case 27:if(ur(S.type)){fe=S.stateNode,_n=!1;break t}break;case 5:fe=S.stateNode,_n=!1;break t;case 3:case 4:fe=S.stateNode.containerInfo,_n=!0;break t}S=S.return}if(fe===null)throw Error(s(160));X_(g,b,f),fe=null,_n=!1,g=f.alternate,g!==null&&(g.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)Z_(r,i),r=r.sibling}var ui=null;function Z_(i,r){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:bn(r,i),Tn(i),u&4&&(nr(3,i,i.return),tu(3,i),nr(5,i,i.return));break;case 1:bn(r,i),Tn(i),u&512&&(ke||o===null||Bi(o,o.return)),u&64&&ms&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=ui;if(bn(r,i),Tn(i),u&512&&(ke||o===null||Bi(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){t:{u=i.type,o=i.memoizedProps,f=f.ownerDocument||f;e:switch(u){case"title":g=f.getElementsByTagName("title")[0],(!g||g[Ci]||g[Ae]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=f.createElement(u),f.head.insertBefore(g,f.querySelector("head > title"))),Je(g,u,o),g[Ae]=i,Ce(g),u=g;break t;case"link":var b=Zb("link","href",f).get(u+(o.href||""));if(b){for(var S=0;S<b.length;S++)if(g=b[S],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){b.splice(S,1);break e}}g=f.createElement(u),Je(g,u,o),f.head.appendChild(g);break;case"meta":if(b=Zb("meta","content",f).get(u+(o.content||""))){for(S=0;S<b.length;S++)if(g=b[S],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){b.splice(S,1);break e}}g=f.createElement(u),Je(g,u,o),f.head.appendChild(g);break;default:throw Error(s(468,u))}g[Ae]=i,Ce(g),u=g}i.stateNode=u}else tT(f,i.type,i.stateNode);else i.stateNode=Jb(f,u,i.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?tT(f,i.type,i.stateNode):Jb(f,u,i.memoizedProps)):u===null&&i.stateNode!==null&&Lm(i,i.memoizedProps,o.memoizedProps)}break;case 27:bn(r,i),Tn(i),u&512&&(ke||o===null||Bi(o,o.return)),o!==null&&u&4&&Lm(i,i.memoizedProps,o.memoizedProps);break;case 5:if(bn(r,i),Tn(i),u&512&&(ke||o===null||Bi(o,o.return)),i.flags&32){f=i.stateNode;try{vn(f,"")}catch(pt){Jt(i,i.return,pt)}}u&4&&i.stateNode!=null&&(f=i.memoizedProps,Lm(i,f,o!==null?o.memoizedProps:f)),u&1024&&(zm=!0);break;case 6:if(bn(r,i),Tn(i),u&4){if(i.stateNode===null)throw Error(s(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(pt){Jt(i,i.return,pt)}}break;case 3:if(Mh=null,f=ui,ui=Dh(r.containerInfo),bn(r,i),ui=f,Tn(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{xo(r.containerInfo)}catch(pt){Jt(i,i.return,pt)}zm&&(zm=!1,tb(i));break;case 4:u=ui,ui=Dh(i.stateNode.containerInfo),bn(r,i),Tn(i),ui=u;break;case 12:bn(r,i),Tn(i);break;case 31:bn(r,i),Tn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,yh(i,u)));break;case 13:bn(r,i),Tn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(_h=hn()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,yh(i,u)));break;case 22:f=i.memoizedState!==null;var M=o!==null&&o.memoizedState!==null,K=ms,tt=ke;if(ms=K||f,ke=tt||M,bn(r,i),ke=tt,ms=K,Tn(i),u&8192)t:for(r=i.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(o===null||M||ms||ke||fa(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){M=o=r;try{if(g=M.stateNode,f)b=g.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{S=M.stateNode;var it=M.memoizedProps.style,Y=it!=null&&it.hasOwnProperty("display")?it.display:null;S.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(pt){Jt(M,M.return,pt)}}}else if(r.tag===6){if(o===null){M=r;try{M.stateNode.nodeValue=f?"":M.memoizedProps}catch(pt){Jt(M,M.return,pt)}}}else if(r.tag===18){if(o===null){M=r;try{var X=M.stateNode;f?Hb(X,!0):Hb(M.stateNode,!1)}catch(pt){Jt(M,M.return,pt)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break t;for(;r.sibling===null;){if(r.return===null||r.return===i)break t;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,yh(i,o))));break;case 19:bn(r,i),Tn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,yh(i,u)));break;case 30:break;case 21:break;default:bn(r,i),Tn(i)}}function Tn(i){var r=i.flags;if(r&2){try{for(var o,u=i.return;u!==null;){if(G_(u)){o=u;break}u=u.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var f=o.stateNode,g=jm(i);gh(i,g,f);break;case 5:var b=o.stateNode;o.flags&32&&(vn(b,""),o.flags&=-33);var S=jm(i);gh(i,S,b);break;case 3:case 4:var M=o.stateNode.containerInfo,K=jm(i);Um(i,K,M);break;default:throw Error(s(161))}}catch(tt){Jt(i,i.return,tt)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function tb(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;tb(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function gs(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Y_(i,r.alternate,r),r=r.sibling}function fa(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:nr(4,r,r.return),fa(r);break;case 1:Bi(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&H_(r,r.return,o),fa(r);break;case 27:cu(r.stateNode);case 26:case 5:Bi(r,r.return),fa(r);break;case 22:r.memoizedState===null&&fa(r);break;case 30:fa(r);break;default:fa(r)}i=i.sibling}}function ys(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,f=i,g=r,b=g.flags;switch(g.tag){case 0:case 11:case 15:ys(f,g,o),tu(4,g);break;case 1:if(ys(f,g,o),u=g,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(K){Jt(u,u.return,K)}if(u=g,f=u.updateQueue,f!==null){var S=u.stateNode;try{var M=f.shared.hiddenCallbacks;if(M!==null)for(f.shared.hiddenCallbacks=null,f=0;f<M.length;f++)Dv(M[f],S)}catch(K){Jt(u,u.return,K)}}o&&b&64&&F_(g),eu(g,g.return);break;case 27:K_(g);case 26:case 5:ys(f,g,o),o&&u===null&&b&4&&q_(g),eu(g,g.return);break;case 12:ys(f,g,o);break;case 31:ys(f,g,o),o&&b&4&&W_(f,g);break;case 13:ys(f,g,o),o&&b&4&&J_(f,g);break;case 22:g.memoizedState===null&&ys(f,g,o),eu(g,g.return);break;case 30:break;default:ys(f,g,o)}r=r.sibling}}function Bm(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&Bl(o))}function Fm(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Bl(i))}function ci(i,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)eb(i,r,o,u),r=r.sibling}function eb(i,r,o,u){var f=r.flags;switch(r.tag){case 0:case 11:case 15:ci(i,r,o,u),f&2048&&tu(9,r);break;case 1:ci(i,r,o,u);break;case 3:ci(i,r,o,u),f&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Bl(i)));break;case 12:if(f&2048){ci(i,r,o,u),i=r.stateNode;try{var g=r.memoizedProps,b=g.id,S=g.onPostCommit;typeof S=="function"&&S(b,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(M){Jt(r,r.return,M)}}else ci(i,r,o,u);break;case 31:ci(i,r,o,u);break;case 13:ci(i,r,o,u);break;case 23:break;case 22:g=r.stateNode,b=r.alternate,r.memoizedState!==null?g._visibility&2?ci(i,r,o,u):nu(i,r):g._visibility&2?ci(i,r,o,u):(g._visibility|=2,mo(i,r,o,u,(r.subtreeFlags&10256)!==0||!1)),f&2048&&Bm(b,r);break;case 24:ci(i,r,o,u),f&2048&&Fm(r.alternate,r);break;default:ci(i,r,o,u)}}function mo(i,r,o,u,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var g=i,b=r,S=o,M=u,K=b.flags;switch(b.tag){case 0:case 11:case 15:mo(g,b,S,M,f),tu(8,b);break;case 23:break;case 22:var tt=b.stateNode;b.memoizedState!==null?tt._visibility&2?mo(g,b,S,M,f):nu(g,b):(tt._visibility|=2,mo(g,b,S,M,f)),f&&K&2048&&Bm(b.alternate,b);break;case 24:mo(g,b,S,M,f),f&&K&2048&&Fm(b.alternate,b);break;default:mo(g,b,S,M,f)}r=r.sibling}}function nu(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,u=r,f=u.flags;switch(u.tag){case 22:nu(o,u),f&2048&&Bm(u.alternate,u);break;case 24:nu(o,u),f&2048&&Fm(u.alternate,u);break;default:nu(o,u)}r=r.sibling}}var iu=8192;function po(i,r,o){if(i.subtreeFlags&iu)for(i=i.child;i!==null;)nb(i,r,o),i=i.sibling}function nb(i,r,o){switch(i.tag){case 26:po(i,r,o),i.flags&iu&&i.memoizedState!==null&&L2(o,ui,i.memoizedState,i.memoizedProps);break;case 5:po(i,r,o);break;case 3:case 4:var u=ui;ui=Dh(i.stateNode.containerInfo),po(i,r,o),ui=u;break;case 22:i.memoizedState===null&&(u=i.alternate,u!==null&&u.memoizedState!==null?(u=iu,iu=16777216,po(i,r,o),iu=u):po(i,r,o));break;default:po(i,r,o)}}function ib(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function su(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Ge=u,rb(u,i)}ib(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)sb(i),i=i.sibling}function sb(i){switch(i.tag){case 0:case 11:case 15:su(i),i.flags&2048&&nr(9,i,i.return);break;case 3:su(i);break;case 12:su(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,vh(i)):su(i);break;default:su(i)}}function vh(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Ge=u,rb(u,i)}ib(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:nr(8,r,r.return),vh(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,vh(r));break;default:vh(r)}i=i.sibling}}function rb(i,r){for(;Ge!==null;){var o=Ge;switch(o.tag){case 0:case 11:case 15:nr(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Bl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Ge=u;else t:for(o=i;Ge!==null;){u=Ge;var f=u.sibling,g=u.return;if(Q_(u),u===o){Ge=null;break t}if(f!==null){f.return=g,Ge=f;break t}Ge=g}}}var JR={getCacheForType:function(i){var r=Xe(Ie),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o},cacheSignal:function(){return Xe(Ie).controller.signal}},ZR=typeof WeakMap=="function"?WeakMap:Map,$t=0,ie=null,kt=null,Pt=0,Wt=0,Dn=null,ir=!1,go=!1,Hm=!1,vs=0,ye=0,sr=0,da=0,qm=0,kn=0,yo=0,ru=null,En=null,Gm=!1,_h=0,ab=0,bh=1/0,Th=null,rr=null,ze=0,ar=null,vo=null,_s=0,Km=0,$m=null,ob=null,au=0,Ym=null;function Mn(){return($t&2)!==0&&Pt!==0?Pt&-Pt:Z.T!==null?tp():Ec()}function lb(){if(kn===0)if((Pt&536870912)===0||Bt){var i=zr;zr<<=1,(zr&3932160)===0&&(zr=262144),kn=i}else kn=536870912;return i=In.current,i!==null&&(i.flags|=32),kn}function wn(i,r,o){(i===ie&&(Wt===2||Wt===9)||i.cancelPendingCommit!==null)&&(_o(i,0),or(i,Pt,kn,!1)),Br(i,o),(($t&2)===0||i!==ie)&&(i===ie&&(($t&2)===0&&(da|=o),ye===4&&or(i,Pt,kn,!1)),Fi(i))}function ub(i,r,o){if(($t&6)!==0)throw Error(s(327));var u=!o&&(r&127)===0&&(r&i.expiredLanes)===0||ti(i,r),f=u?n2(i,r):Xm(i,r,!0),g=u;do{if(f===0){go&&!u&&or(i,r,0,!1);break}else{if(o=i.current.alternate,g&&!t2(o)){f=Xm(i,r,!1),g=!1;continue}if(f===2){if(g=r,i.errorRecoveryDisabledLanes&g)var b=0;else b=i.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){r=b;t:{var S=i;f=ru;var M=S.current.memoizedState.isDehydrated;if(M&&(_o(S,b).flags|=256),b=Xm(S,b,!1),b!==2){if(Hm&&!M){S.errorRecoveryDisabledLanes|=g,da|=g,f=4;break t}g=En,En=f,g!==null&&(En===null?En=g:En.push.apply(En,g))}f=b}if(g=!1,f!==2)continue}}if(f===1){_o(i,0),or(i,r,0,!0);break}t:{switch(u=i,g=f,g){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:or(u,r,kn,!ir);break t;case 2:En=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=_h+300-hn(),10<f)){if(or(u,r,kn,!ir),Si(u,0,!0)!==0)break t;_s=r,u.timeoutHandle=zb(cb.bind(null,u,o,En,Th,Gm,r,kn,da,yo,ir,g,"Throttled",-0,0),f);break t}cb(u,o,En,Th,Gm,r,kn,da,yo,ir,g,null,-0,0)}}break}while(!0);Fi(i)}function cb(i,r,o,u,f,g,b,S,M,K,tt,it,Y,X){if(i.timeoutHandle=-1,it=r.subtreeFlags,it&8192||(it&16785408)===16785408){it={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ii},nb(r,g,it);var pt=(g&62914560)===g?_h-hn():(g&4194048)===g?ab-hn():0;if(pt=j2(it,pt),pt!==null){_s=g,i.cancelPendingCommit=pt(vb.bind(null,i,r,g,o,u,f,b,S,M,tt,it,null,Y,X)),or(i,g,b,!K);return}}vb(i,r,g,o,u,f,b,S,M)}function t2(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],g=f.getSnapshot;f=f.value;try{if(!Cn(g(),f))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function or(i,r,o,u){r&=~qm,r&=~da,i.suspendedLanes|=r,i.pingedLanes&=~r,u&&(i.warmLanes|=r),u=i.expirationTimes;for(var f=r;0<f;){var g=31-_e(f),b=1<<g;u[g]=-1,f&=~b}o!==0&&Fr(i,o,r)}function Eh(){return($t&6)===0?(ou(0),!1):!0}function Qm(){if(kt!==null){if(Wt===0)var i=kt.return;else i=kt,ls=sa=null,hm(i),lo=null,Hl=0,i=kt;for(;i!==null;)B_(i.alternate,i),i=i.return;kt=null}}function _o(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,b2(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),_s=0,Qm(),ie=i,kt=o=as(i.current,null),Pt=r,Wt=0,Dn=null,ir=!1,go=ti(i,r),Hm=!1,yo=kn=qm=da=sr=ye=0,En=ru=null,Gm=!1,(r&8)!==0&&(r|=r&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=r;0<u;){var f=31-_e(u),g=1<<f;r|=i[f],u&=~g}return vs=r,Hc(),o}function hb(i,r){It=null,Z.H=Wl,r===oo||r===Wc?(r=Cv(),Wt=3):r===Zd?(r=Cv(),Wt=4):Wt=r===Cm?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Dn=r,kt===null&&(ye=1,hh(i,Bn(r,i.current)))}function fb(){var i=In.current;return i===null?!0:(Pt&4194048)===Pt?Gn===null:(Pt&62914560)===Pt||(Pt&536870912)!==0?i===Gn:!1}function db(){var i=Z.H;return Z.H=Wl,i===null?Wl:i}function mb(){var i=Z.A;return Z.A=JR,i}function wh(){ye=4,ir||(Pt&4194048)!==Pt&&In.current!==null||(go=!0),(sr&134217727)===0&&(da&134217727)===0||ie===null||or(ie,Pt,kn,!1)}function Xm(i,r,o){var u=$t;$t|=2;var f=db(),g=mb();(ie!==i||Pt!==r)&&(Th=null,_o(i,r)),r=!1;var b=ye;t:do try{if(Wt!==0&&kt!==null){var S=kt,M=Dn;switch(Wt){case 8:Qm(),b=6;break t;case 3:case 2:case 9:case 6:In.current===null&&(r=!0);var K=Wt;if(Wt=0,Dn=null,bo(i,S,M,K),o&&go){b=0;break t}break;default:K=Wt,Wt=0,Dn=null,bo(i,S,M,K)}}e2(),b=ye;break}catch(tt){hb(i,tt)}while(!0);return r&&i.shellSuspendCounter++,ls=sa=null,$t=u,Z.H=f,Z.A=g,kt===null&&(ie=null,Pt=0,Hc()),b}function e2(){for(;kt!==null;)pb(kt)}function n2(i,r){var o=$t;$t|=2;var u=db(),f=mb();ie!==i||Pt!==r?(Th=null,bh=hn()+500,_o(i,r)):go=ti(i,r);t:do try{if(Wt!==0&&kt!==null){r=kt;var g=Dn;e:switch(Wt){case 1:Wt=0,Dn=null,bo(i,r,g,1);break;case 2:case 9:if(xv(g)){Wt=0,Dn=null,gb(r);break}r=function(){Wt!==2&&Wt!==9||ie!==i||(Wt=7),Fi(i)},g.then(r,r);break t;case 3:Wt=7;break t;case 4:Wt=5;break t;case 7:xv(g)?(Wt=0,Dn=null,gb(r)):(Wt=0,Dn=null,bo(i,r,g,7));break;case 5:var b=null;switch(kt.tag){case 26:b=kt.memoizedState;case 5:case 27:var S=kt;if(b?eT(b):S.stateNode.complete){Wt=0,Dn=null;var M=S.sibling;if(M!==null)kt=M;else{var K=S.return;K!==null?(kt=K,Sh(K)):kt=null}break e}}Wt=0,Dn=null,bo(i,r,g,5);break;case 6:Wt=0,Dn=null,bo(i,r,g,6);break;case 8:Qm(),ye=6;break t;default:throw Error(s(462))}}i2();break}catch(tt){hb(i,tt)}while(!0);return ls=sa=null,Z.H=u,Z.A=f,$t=o,kt!==null?0:(ie=null,Pt=0,Hc(),ye)}function i2(){for(;kt!==null&&!Ad();)pb(kt)}function pb(i){var r=U_(i.alternate,i,vs);i.memoizedProps=i.pendingProps,r===null?Sh(i):kt=r}function gb(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=M_(o,r,r.pendingProps,r.type,void 0,Pt);break;case 11:r=M_(o,r,r.pendingProps,r.type.render,r.ref,Pt);break;case 5:hm(r);default:B_(o,r),r=kt=mv(r,vs),r=U_(o,r,vs)}i.memoizedProps=i.pendingProps,r===null?Sh(i):kt=r}function bo(i,r,o,u){ls=sa=null,hm(r),lo=null,Hl=0;var f=r.return;try{if(GR(i,f,r,o,Pt)){ye=1,hh(i,Bn(o,i.current)),kt=null;return}}catch(g){if(f!==null)throw kt=f,g;ye=1,hh(i,Bn(o,i.current)),kt=null;return}r.flags&32768?(Bt||u===1?i=!0:go||(Pt&536870912)!==0?i=!1:(ir=i=!0,(u===2||u===9||u===3||u===6)&&(u=In.current,u!==null&&u.tag===13&&(u.flags|=16384))),yb(r,i)):Sh(r)}function Sh(i){var r=i;do{if((r.flags&32768)!==0){yb(r,ir);return}i=r.return;var o=YR(r.alternate,r,vs);if(o!==null){kt=o;return}if(r=r.sibling,r!==null){kt=r;return}kt=r=i}while(r!==null);ye===0&&(ye=5)}function yb(i,r){do{var o=QR(i.alternate,i);if(o!==null){o.flags&=32767,kt=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){kt=i;return}kt=i=o}while(i!==null);ye=6,kt=null}function vb(i,r,o,u,f,g,b,S,M){i.cancelPendingCommit=null;do xh();while(ze!==0);if(($t&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(g=r.lanes|r.childLanes,g|=jd,Id(i,o,g,b,S,M),i===ie&&(kt=ie=null,Pt=0),vo=r,ar=i,_s=o,Km=g,$m=f,ob=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,o2(Ls,function(){return wb(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=Z.T,Z.T=null,f=ot.p,ot.p=2,b=$t,$t|=4;try{XR(i,r,o)}finally{$t=b,ot.p=f,Z.T=u}}ze=1,_b(),bb(),Tb()}}function _b(){if(ze===1){ze=0;var i=ar,r=vo,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=Z.T,Z.T=null;var u=ot.p;ot.p=2;var f=$t;$t|=4;try{Z_(r,i);var g=lp,b=rv(i.containerInfo),S=g.focusedElem,M=g.selectionRange;if(b!==S&&S&&S.ownerDocument&&sv(S.ownerDocument.documentElement,S)){if(M!==null&&Md(S)){var K=M.start,tt=M.end;if(tt===void 0&&(tt=K),"selectionStart"in S)S.selectionStart=K,S.selectionEnd=Math.min(tt,S.value.length);else{var it=S.ownerDocument||document,Y=it&&it.defaultView||window;if(Y.getSelection){var X=Y.getSelection(),pt=S.textContent.length,Tt=Math.min(M.start,pt),ne=M.end===void 0?Tt:Math.min(M.end,pt);!X.extend&&Tt>ne&&(b=ne,ne=Tt,Tt=b);var B=iv(S,Tt),U=iv(S,ne);if(B&&U&&(X.rangeCount!==1||X.anchorNode!==B.node||X.anchorOffset!==B.offset||X.focusNode!==U.node||X.focusOffset!==U.offset)){var G=it.createRange();G.setStart(B.node,B.offset),X.removeAllRanges(),Tt>ne?(X.addRange(G),X.extend(U.node,U.offset)):(G.setEnd(U.node,U.offset),X.addRange(G))}}}}for(it=[],X=S;X=X.parentNode;)X.nodeType===1&&it.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<it.length;S++){var et=it[S];et.element.scrollLeft=et.left,et.element.scrollTop=et.top}}Lh=!!op,lp=op=null}finally{$t=f,ot.p=u,Z.T=o}}i.current=r,ze=2}}function bb(){if(ze===2){ze=0;var i=ar,r=vo,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=Z.T,Z.T=null;var u=ot.p;ot.p=2;var f=$t;$t|=4;try{Y_(i,r.alternate,r)}finally{$t=f,ot.p=u,Z.T=o}}ze=3}}function Tb(){if(ze===4||ze===3){ze=0,pc();var i=ar,r=vo,o=_s,u=ob;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?ze=5:(ze=0,vo=ar=null,Eb(i,i.pendingLanes));var f=i.pendingLanes;if(f===0&&(rr=null),ns(o),r=r.stateNode,$e&&typeof $e.onCommitFiberRoot=="function")try{$e.onCommitFiberRoot(Zn,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=Z.T,f=ot.p,ot.p=2,Z.T=null;try{for(var g=i.onRecoverableError,b=0;b<u.length;b++){var S=u[b];g(S.value,{componentStack:S.stack})}}finally{Z.T=r,ot.p=f}}(_s&3)!==0&&xh(),Fi(i),f=i.pendingLanes,(o&261930)!==0&&(f&42)!==0?i===Ym?au++:(au=0,Ym=i):au=0,ou(0)}}function Eb(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,Bl(r)))}function xh(){return _b(),bb(),Tb(),wb()}function wb(){if(ze!==5)return!1;var i=ar,r=Km;Km=0;var o=ns(_s),u=Z.T,f=ot.p;try{ot.p=32>o?32:o,Z.T=null,o=$m,$m=null;var g=ar,b=_s;if(ze=0,vo=ar=null,_s=0,($t&6)!==0)throw Error(s(331));var S=$t;if($t|=4,sb(g.current),eb(g,g.current,b,o),$t=S,ou(0,!1),$e&&typeof $e.onPostCommitFiberRoot=="function")try{$e.onPostCommitFiberRoot(Zn,g)}catch{}return!0}finally{ot.p=f,Z.T=u,Eb(i,r)}}function Sb(i,r,o){r=Bn(o,r),r=Am(i.stateNode,r,2),i=Zs(i,r,2),i!==null&&(Br(i,2),Fi(i))}function Jt(i,r,o){if(i.tag===3)Sb(i,i,o);else for(;r!==null;){if(r.tag===3){Sb(r,i,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(rr===null||!rr.has(u))){i=Bn(o,i),o=x_(2),u=Zs(r,o,2),u!==null&&(A_(o,u,r,i),Br(u,2),Fi(u));break}}r=r.return}}function Wm(i,r,o){var u=i.pingCache;if(u===null){u=i.pingCache=new ZR;var f=new Set;u.set(r,f)}else f=u.get(r),f===void 0&&(f=new Set,u.set(r,f));f.has(o)||(Hm=!0,f.add(o),i=s2.bind(null,i,r,o),r.then(i,i))}function s2(i,r,o){var u=i.pingCache;u!==null&&u.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,ie===i&&(Pt&o)===o&&(ye===4||ye===3&&(Pt&62914560)===Pt&&300>hn()-_h?($t&2)===0&&_o(i,0):qm|=o,yo===Pt&&(yo=0)),Fi(i)}function xb(i,r){r===0&&(r=Tc()),i=ea(i,r),i!==null&&(Br(i,r),Fi(i))}function r2(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),xb(i,o)}function a2(i,r){var o=0;switch(i.tag){case 31:case 13:var u=i.stateNode,f=i.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),xb(i,o)}function o2(i,r){return Ue(i,r)}var Ah=null,To=null,Jm=!1,Ch=!1,Zm=!1,lr=0;function Fi(i){i!==To&&i.next===null&&(To===null?Ah=To=i:To=To.next=i),Ch=!0,Jm||(Jm=!0,u2())}function ou(i,r){if(!Zm&&Ch){Zm=!0;do for(var o=!1,u=Ah;u!==null;){if(i!==0){var f=u.pendingLanes;if(f===0)var g=0;else{var b=u.suspendedLanes,S=u.pingedLanes;g=(1<<31-_e(42|i)+1)-1,g&=f&~(b&~S),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,Ib(u,g))}else g=Pt,g=Si(u,u===ie?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||ti(u,g)||(o=!0,Ib(u,g));u=u.next}while(o);Zm=!1}}function l2(){Ab()}function Ab(){Ch=Jm=!1;var i=0;lr!==0&&_2()&&(i=lr);for(var r=hn(),o=null,u=Ah;u!==null;){var f=u.next,g=Cb(u,r);g===0?(u.next=null,o===null?Ah=f:o.next=f,f===null&&(To=o)):(o=u,(i!==0||(g&3)!==0)&&(Ch=!0)),u=f}ze!==0&&ze!==5||ou(i),lr!==0&&(lr=0)}function Cb(i,r){for(var o=i.suspendedLanes,u=i.pingedLanes,f=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var b=31-_e(g),S=1<<b,M=f[b];M===-1?((S&o)===0||(S&u)!==0)&&(f[b]=Rd(S,r)):M<=r&&(i.expiredLanes|=S),g&=~S}if(r=ie,o=Pt,o=Si(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===r&&(Wt===2||Wt===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&Ps(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||ti(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(u!==null&&Ps(u),ns(o)){case 2:case 8:o=yl;break;case 32:o=Ls;break;case 268435456:o=gc;break;default:o=Ls}return u=Rb.bind(null,i),o=Ue(o,u),i.callbackPriority=r,i.callbackNode=o,r}return u!==null&&u!==null&&Ps(u),i.callbackPriority=2,i.callbackNode=null,2}function Rb(i,r){if(ze!==0&&ze!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(xh()&&i.callbackNode!==o)return null;var u=Pt;return u=Si(i,i===ie?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(ub(i,u,r),Cb(i,hn()),i.callbackNode!=null&&i.callbackNode===o?Rb.bind(null,i):null)}function Ib(i,r){if(xh())return null;ub(i,r,!0)}function u2(){T2(function(){($t&6)!==0?Ue(gl,l2):Ab()})}function tp(){if(lr===0){var i=ro;i===0&&(i=Ei,Ei<<=1,(Ei&261888)===0&&(Ei=256)),lr=i}return lr}function Nb(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:qa(""+i)}function Db(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function c2(i,r,o,u,f){if(r==="submit"&&o&&o.stateNode===f){var g=Nb((f[He]||null).action),b=u.submitter;b&&(r=(r=b[He]||null)?Nb(r.formAction):b.getAttribute("formAction"),r!==null&&(g=r,b=null));var S=new Oi("action","action",null,u,f);i.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(lr!==0){var M=b?Db(f,b):new FormData(f);bm(o,{pending:!0,data:M,method:f.method,action:g},null,M)}}else typeof g=="function"&&(S.preventDefault(),M=b?Db(f,b):new FormData(f),bm(o,{pending:!0,data:M,method:f.method,action:g},g,M))},currentTarget:f}]})}}for(var ep=0;ep<Ld.length;ep++){var np=Ld[ep],h2=np.toLowerCase(),f2=np[0].toUpperCase()+np.slice(1);li(h2,"on"+f2)}li(lv,"onAnimationEnd"),li(uv,"onAnimationIteration"),li(cv,"onAnimationStart"),li("dblclick","onDoubleClick"),li("focusin","onFocus"),li("focusout","onBlur"),li(RR,"onTransitionRun"),li(IR,"onTransitionStart"),li(NR,"onTransitionCancel"),li(hv,"onTransitionEnd"),Di("onMouseEnter",["mouseout","mouseover"]),Di("onMouseLeave",["mouseout","mouseover"]),Di("onPointerEnter",["pointerout","pointerover"]),Di("onPointerLeave",["pointerout","pointerover"]),Ni("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ni("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ni("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ni("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ni("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ni("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),d2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(lu));function kb(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],f=u.event;u=u.listeners;t:{var g=void 0;if(r)for(var b=u.length-1;0<=b;b--){var S=u[b],M=S.instance,K=S.currentTarget;if(S=S.listener,M!==g&&f.isPropagationStopped())break t;g=S,f.currentTarget=K;try{g(f)}catch(tt){Fc(tt)}f.currentTarget=null,g=M}else for(b=0;b<u.length;b++){if(S=u[b],M=S.instance,K=S.currentTarget,S=S.listener,M!==g&&f.isPropagationStopped())break t;g=S,f.currentTarget=K;try{g(f)}catch(tt){Fc(tt)}f.currentTarget=null,g=M}}}}function Mt(i,r){var o=r[Ua];o===void 0&&(o=r[Ua]=new Set);var u=i+"__bubble";o.has(u)||(Mb(r,i,2,!1),o.add(u))}function ip(i,r,o){var u=0;r&&(u|=4),Mb(o,i,u,r)}var Rh="_reactListening"+Math.random().toString(36).slice(2);function sp(i){if(!i[Rh]){i[Rh]=!0,bl.forEach(function(o){o!=="selectionchange"&&(d2.has(o)||ip(o,!1,i),ip(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[Rh]||(r[Rh]=!0,ip("selectionchange",!1,r))}}function Mb(i,r,o,u){switch(lT(r)){case 2:var f=B2;break;case 8:f=F2;break;default:f=_p}o=f.bind(null,r,o,i),f=void 0,!$r||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),u?f!==void 0?i.addEventListener(r,o,{capture:!0,passive:f}):i.addEventListener(r,o,!0):f!==void 0?i.addEventListener(r,o,{passive:f}):i.addEventListener(r,o,!1)}function rp(i,r,o,u,f){var g=u;if((r&1)===0&&(r&2)===0&&u!==null)t:for(;;){if(u===null)return;var b=u.tag;if(b===3||b===4){var S=u.stateNode.containerInfo;if(S===f)break;if(b===4)for(b=u.return;b!==null;){var M=b.tag;if((M===3||M===4)&&b.stateNode.containerInfo===f)return;b=b.return}for(;S!==null;){if(b=Ri(S),b===null)return;if(M=b.tag,M===5||M===6||M===26||M===27){u=g=b;continue t}S=S.parentNode}}u=u.return}Hs(function(){var K=g,tt=Ln(o),it=[];t:{var Y=fv.get(i);if(Y!==void 0){var X=Oi,pt=i;switch(i){case"keypress":if(Qr(o)===0)break t;case"keydown":case"keyup":X=Uc;break;case"focusin":pt="focus",X=Wr;break;case"focusout":pt="blur",X=Wr;break;case"beforeblur":case"afterblur":X=Wr;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=Ml;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=Nc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=v;break;case lv:case uv:case cv:X=kc;break;case hv:X=A;break;case"scroll":case"scrollend":X=kl;break;case"wheel":X=Q;break;case"copy":case"cut":case"paste":X=Mc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=rs;break;case"toggle":case"beforetoggle":X=Rt}var Tt=(r&4)!==0,ne=!Tt&&(i==="scroll"||i==="scrollend"),B=Tt?Y!==null?Y+"Capture":null:Y;Tt=[];for(var U=K,G;U!==null;){var et=U;if(G=et.stateNode,et=et.tag,et!==5&&et!==26&&et!==27||G===null||B===null||(et=si(U,B),et!=null&&Tt.push(uu(U,et,G))),ne)break;U=U.return}0<Tt.length&&(Y=new X(Y,pt,null,o,tt),it.push({event:Y,listeners:Tt}))}}if((r&7)===0){t:{if(Y=i==="mouseover"||i==="pointerover",X=i==="mouseout"||i==="pointerout",Y&&o!==Il&&(pt=o.relatedTarget||o.fromElement)&&(Ri(pt)||pt[Ai]))break t;if((X||Y)&&(Y=tt.window===tt?tt:(Y=tt.ownerDocument)?Y.defaultView||Y.parentWindow:window,X?(pt=o.relatedTarget||o.toElement,X=K,pt=pt?Ri(pt):null,pt!==null&&(ne=l(pt),Tt=pt.tag,pt!==ne||Tt!==5&&Tt!==27&&Tt!==6)&&(pt=null)):(X=null,pt=K),X!==pt)){if(Tt=Ml,et="onMouseLeave",B="onMouseEnter",U="mouse",(i==="pointerout"||i==="pointerover")&&(Tt=rs,et="onPointerLeave",B="onPointerEnter",U="pointer"),ne=X==null?Y:xn(X),G=pt==null?Y:xn(pt),Y=new Tt(et,U+"leave",X,o,tt),Y.target=ne,Y.relatedTarget=G,et=null,Ri(tt)===K&&(Tt=new Tt(B,U+"enter",pt,o,tt),Tt.target=G,Tt.relatedTarget=ne,et=Tt),ne=et,X&&pt)e:{for(Tt=m2,B=X,U=pt,G=0,et=B;et;et=Tt(et))G++;et=0;for(var _t=U;_t;_t=Tt(_t))et++;for(;0<G-et;)B=Tt(B),G--;for(;0<et-G;)U=Tt(U),et--;for(;G--;){if(B===U||U!==null&&B===U.alternate){Tt=B;break e}B=Tt(B),U=Tt(U)}Tt=null}else Tt=null;X!==null&&Vb(it,Y,X,Tt,!1),pt!==null&&ne!==null&&Vb(it,ne,pt,Tt,!0)}}t:{if(Y=K?xn(K):window,X=Y.nodeName&&Y.nodeName.toLowerCase(),X==="select"||X==="input"&&Y.type==="file")var qt=W0;else if(Q0(Y))if(J0)qt=xR;else{qt=wR;var yt=ER}else X=Y.nodeName,!X||X.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?K&&Ha(K.elementType)&&(qt=W0):qt=SR;if(qt&&(qt=qt(i,K))){X0(it,qt,o,tt);break t}yt&&yt(i,Y,K),i==="focusout"&&K&&Y.type==="number"&&K.memoizedProps.value!=null&&Al(Y,"number",Y.value)}switch(yt=K?xn(K):window,i){case"focusin":(Q0(yt)||yt.contentEditable==="true")&&(Wa=yt,Vd=K,jl=null);break;case"focusout":jl=Vd=Wa=null;break;case"mousedown":Od=!0;break;case"contextmenu":case"mouseup":case"dragend":Od=!1,av(it,o,tt);break;case"selectionchange":if(CR)break;case"keydown":case"keyup":av(it,o,tt)}var Dt;if(Kt)t:{switch(i){case"compositionstart":var Lt="onCompositionStart";break t;case"compositionend":Lt="onCompositionEnd";break t;case"compositionupdate":Lt="onCompositionUpdate";break t}Lt=void 0}else Xa?Jr(i,o)&&(Lt="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Lt="onCompositionStart");Lt&&(ji&&o.locale!=="ko"&&(Xa||Lt!=="onCompositionStart"?Lt==="onCompositionEnd"&&Xa&&(Dt=Dl()):(Vi=tt,Nl="value"in Vi?Vi.value:Vi.textContent,Xa=!0)),yt=Ih(K,Lt),0<yt.length&&(Lt=new Li(Lt,i,null,o,tt),it.push({event:Lt,listeners:yt}),Dt?Lt.data=Dt:(Dt=Qa(o),Dt!==null&&(Lt.data=Dt)))),(Dt=Un?vR(i,o):_R(i,o))&&(Lt=Ih(K,"onBeforeInput"),0<Lt.length&&(yt=new Li("onBeforeInput","beforeinput",null,o,tt),it.push({event:yt,listeners:Lt}),yt.data=Dt)),c2(it,i,K,o,tt)}kb(it,r)})}function uu(i,r,o){return{instance:i,listener:r,currentTarget:o}}function Ih(i,r){for(var o=r+"Capture",u=[];i!==null;){var f=i,g=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||g===null||(f=si(i,o),f!=null&&u.unshift(uu(i,f,g)),f=si(i,r),f!=null&&u.push(uu(i,f,g))),i.tag===3)return u;i=i.return}return[]}function m2(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Vb(i,r,o,u,f){for(var g=r._reactName,b=[];o!==null&&o!==u;){var S=o,M=S.alternate,K=S.stateNode;if(S=S.tag,M!==null&&M===u)break;S!==5&&S!==26&&S!==27||K===null||(M=K,f?(K=si(o,g),K!=null&&b.unshift(uu(o,K,M))):f||(K=si(o,g),K!=null&&b.push(uu(o,K,M)))),o=o.return}b.length!==0&&i.push({event:r,listeners:b})}var p2=/\r\n?/g,g2=/\u0000|\uFFFD/g;function Ob(i){return(typeof i=="string"?i:""+i).replace(p2,`
`).replace(g2,"")}function Pb(i,r){return r=Ob(r),Ob(i)===r}function ee(i,r,o,u,f,g){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||vn(i,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&vn(i,""+u);break;case"className":An(i,"class",u);break;case"tabIndex":An(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":An(i,o,u);break;case"style":Rl(i,u,g);break;case"data":if(r!=="object"){An(i,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=qa(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(r!=="input"&&ee(i,r,"name",f.name,f,null),ee(i,r,"formEncType",f.formEncType,f,null),ee(i,r,"formMethod",f.formMethod,f,null),ee(i,r,"formTarget",f.formTarget,f,null)):(ee(i,r,"encType",f.encType,f,null),ee(i,r,"method",f.method,f,null),ee(i,r,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=qa(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=ii);break;case"onScroll":u!=null&&Mt("scroll",i);break;case"onScrollEnd":u!=null&&Mt("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=qa(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":Mt("beforetoggle",i),Mt("toggle",i),Ba(i,"popover",u);break;case"xlinkActuate":Re(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Re(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Re(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Re(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Re(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Re(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Re(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Re(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Re(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Ba(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Ic.get(o)||o,Ba(i,o,u))}}function ap(i,r,o,u,f,g){switch(o){case"style":Rl(i,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof u=="string"?vn(i,u):(typeof u=="number"||typeof u=="bigint")&&vn(i,""+u);break;case"onScroll":u!=null&&Mt("scroll",i);break;case"onScrollEnd":u!=null&&Mt("scrollend",i);break;case"onClick":u!=null&&(i.onclick=ii);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Tl.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),r=o.slice(2,f?o.length-7:void 0),g=i[He]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(r,g,f),typeof u=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,u,f);break t}o in i?i[o]=u:u===!0?i.setAttribute(o,""):Ba(i,o,u)}}}function Je(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",i),Mt("load",i);var u=!1,f=!1,g;for(g in o)if(o.hasOwnProperty(g)){var b=o[g];if(b!=null)switch(g){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:ee(i,r,g,b,o,null)}}f&&ee(i,r,"srcSet",o.srcSet,o,null),u&&ee(i,r,"src",o.src,o,null);return;case"input":Mt("invalid",i);var S=g=b=f=null,M=null,K=null;for(u in o)if(o.hasOwnProperty(u)){var tt=o[u];if(tt!=null)switch(u){case"name":f=tt;break;case"type":b=tt;break;case"checked":M=tt;break;case"defaultChecked":K=tt;break;case"value":g=tt;break;case"defaultValue":S=tt;break;case"children":case"dangerouslySetInnerHTML":if(tt!=null)throw Error(s(137,r));break;default:ee(i,r,u,tt,o,null)}}Ac(i,g,S,M,K,b,f,!1);return;case"select":Mt("invalid",i),u=b=g=null;for(f in o)if(o.hasOwnProperty(f)&&(S=o[f],S!=null))switch(f){case"value":g=S;break;case"defaultValue":b=S;break;case"multiple":u=S;default:ee(i,r,f,S,o,null)}r=g,o=b,i.multiple=!!u,r!=null?Us(i,!!u,r,!1):o!=null&&Us(i,!!u,o,!0);return;case"textarea":Mt("invalid",i),g=f=u=null;for(b in o)if(o.hasOwnProperty(b)&&(S=o[b],S!=null))switch(b){case"value":u=S;break;case"defaultValue":f=S;break;case"children":g=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:ee(i,r,b,S,o,null)}zs(i,u,f,g);return;case"option":for(M in o)o.hasOwnProperty(M)&&(u=o[M],u!=null)&&(M==="selected"?i.selected=u&&typeof u!="function"&&typeof u!="symbol":ee(i,r,M,u,o,null));return;case"dialog":Mt("beforetoggle",i),Mt("toggle",i),Mt("cancel",i),Mt("close",i);break;case"iframe":case"object":Mt("load",i);break;case"video":case"audio":for(u=0;u<lu.length;u++)Mt(lu[u],i);break;case"image":Mt("error",i),Mt("load",i);break;case"details":Mt("toggle",i);break;case"embed":case"source":case"link":Mt("error",i),Mt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in o)if(o.hasOwnProperty(K)&&(u=o[K],u!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:ee(i,r,K,u,o,null)}return;default:if(Ha(r)){for(tt in o)o.hasOwnProperty(tt)&&(u=o[tt],u!==void 0&&ap(i,r,tt,u,o,void 0));return}}for(S in o)o.hasOwnProperty(S)&&(u=o[S],u!=null&&ee(i,r,S,u,o,null))}function y2(i,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,g=null,b=null,S=null,M=null,K=null,tt=null;for(X in o){var it=o[X];if(o.hasOwnProperty(X)&&it!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":M=it;default:u.hasOwnProperty(X)||ee(i,r,X,null,u,it)}}for(var Y in u){var X=u[Y];if(it=o[Y],u.hasOwnProperty(Y)&&(X!=null||it!=null))switch(Y){case"type":g=X;break;case"name":f=X;break;case"checked":K=X;break;case"defaultChecked":tt=X;break;case"value":b=X;break;case"defaultValue":S=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:X!==it&&ee(i,r,Y,X,u,it)}}Fa(i,b,S,M,K,tt,g,f);return;case"select":X=b=S=Y=null;for(g in o)if(M=o[g],o.hasOwnProperty(g)&&M!=null)switch(g){case"value":break;case"multiple":X=M;default:u.hasOwnProperty(g)||ee(i,r,g,null,u,M)}for(f in u)if(g=u[f],M=o[f],u.hasOwnProperty(f)&&(g!=null||M!=null))switch(f){case"value":Y=g;break;case"defaultValue":S=g;break;case"multiple":b=g;default:g!==M&&ee(i,r,f,g,u,M)}r=S,o=b,u=X,Y!=null?Us(i,!!o,Y,!1):!!u!=!!o&&(r!=null?Us(i,!!o,r,!0):Us(i,!!o,o?[]:"",!1));return;case"textarea":X=Y=null;for(S in o)if(f=o[S],o.hasOwnProperty(S)&&f!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:ee(i,r,S,null,u,f)}for(b in u)if(f=u[b],g=o[b],u.hasOwnProperty(b)&&(f!=null||g!=null))switch(b){case"value":Y=f;break;case"defaultValue":X=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==g&&ee(i,r,b,f,u,g)}Cc(i,Y,X);return;case"option":for(var pt in o)Y=o[pt],o.hasOwnProperty(pt)&&Y!=null&&!u.hasOwnProperty(pt)&&(pt==="selected"?i.selected=!1:ee(i,r,pt,null,u,Y));for(M in u)Y=u[M],X=o[M],u.hasOwnProperty(M)&&Y!==X&&(Y!=null||X!=null)&&(M==="selected"?i.selected=Y&&typeof Y!="function"&&typeof Y!="symbol":ee(i,r,M,Y,u,X));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Tt in o)Y=o[Tt],o.hasOwnProperty(Tt)&&Y!=null&&!u.hasOwnProperty(Tt)&&ee(i,r,Tt,null,u,Y);for(K in u)if(Y=u[K],X=o[K],u.hasOwnProperty(K)&&Y!==X&&(Y!=null||X!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,r));break;default:ee(i,r,K,Y,u,X)}return;default:if(Ha(r)){for(var ne in o)Y=o[ne],o.hasOwnProperty(ne)&&Y!==void 0&&!u.hasOwnProperty(ne)&&ap(i,r,ne,void 0,u,Y);for(tt in u)Y=u[tt],X=o[tt],!u.hasOwnProperty(tt)||Y===X||Y===void 0&&X===void 0||ap(i,r,tt,Y,u,X);return}}for(var B in o)Y=o[B],o.hasOwnProperty(B)&&Y!=null&&!u.hasOwnProperty(B)&&ee(i,r,B,null,u,Y);for(it in u)Y=u[it],X=o[it],!u.hasOwnProperty(it)||Y===X||Y==null&&X==null||ee(i,r,it,Y,u,X)}function Lb(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function v2(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var f=o[u],g=f.transferSize,b=f.initiatorType,S=f.duration;if(g&&S&&Lb(b)){for(b=0,S=f.responseEnd,u+=1;u<o.length;u++){var M=o[u],K=M.startTime;if(K>S)break;var tt=M.transferSize,it=M.initiatorType;tt&&Lb(it)&&(M=M.responseEnd,b+=tt*(M<S?1:(S-K)/(M-K)))}if(--u,r+=8*(g+b)/(f.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var op=null,lp=null;function Nh(i){return i.nodeType===9?i:i.ownerDocument}function jb(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ub(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function up(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var cp=null;function _2(){var i=window.event;return i&&i.type==="popstate"?i===cp?!1:(cp=i,!0):(cp=null,!1)}var zb=typeof setTimeout=="function"?setTimeout:void 0,b2=typeof clearTimeout=="function"?clearTimeout:void 0,Bb=typeof Promise=="function"?Promise:void 0,T2=typeof queueMicrotask=="function"?queueMicrotask:typeof Bb<"u"?function(i){return Bb.resolve(null).then(i).catch(E2)}:zb;function E2(i){setTimeout(function(){throw i})}function ur(i){return i==="head"}function Fb(i,r){var o=r,u=0;do{var f=o.nextSibling;if(i.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"||o==="/&"){if(u===0){i.removeChild(f),xo(r);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")cu(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,cu(o);for(var g=o.firstChild;g;){var b=g.nextSibling,S=g.nodeName;g[Ci]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=b}}else o==="body"&&cu(i.ownerDocument.body);o=f}while(o);xo(r)}function Hb(i,r){var o=i;i=0;do{var u=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=u}while(o)}function hp(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":hp(o),za(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function w2(i,r,o,u){for(;i.nodeType===1;){var f=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[Ci])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==f.rel||i.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var g=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=Kn(i.nextSibling),i===null)break}return null}function S2(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Kn(i.nextSibling),i===null))return null;return i}function qb(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=Kn(i.nextSibling),i===null))return null;return i}function fp(i){return i.data==="$?"||i.data==="$~"}function dp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function x2(i,r){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||o.readyState!=="loading")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function Kn(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var mp=null;function Gb(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(r===0)return Kn(i.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}i=i.nextSibling}return null}function Kb(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return i;r--}else o!=="/$"&&o!=="/&"||r++}i=i.previousSibling}return null}function $b(i,r,o){switch(r=Nh(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function cu(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);za(i)}var $n=new Map,Yb=new Set;function Dh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var bs=ot.d;ot.d={f:A2,r:C2,D:R2,C:I2,L:N2,m:D2,X:M2,S:k2,M:V2};function A2(){var i=bs.f(),r=Eh();return i||r}function C2(i){var r=Pn(i);r!==null&&r.tag===5&&r.type==="form"?h_(r):bs.r(i)}var Eo=typeof document>"u"?null:document;function Qb(i,r,o){var u=Eo;if(u&&typeof r=="string"&&r){var f=yn(r);f='link[rel="'+i+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),Yb.has(f)||(Yb.add(f),i={rel:i,crossOrigin:o,href:r},u.querySelector(f)===null&&(r=u.createElement("link"),Je(r,"link",i),Ce(r),u.head.appendChild(r)))}}function R2(i){bs.D(i),Qb("dns-prefetch",i,null)}function I2(i,r){bs.C(i,r),Qb("preconnect",i,r)}function N2(i,r,o){bs.L(i,r,o);var u=Eo;if(u&&i&&r){var f='link[rel="preload"][as="'+yn(r)+'"]';r==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+yn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+yn(o.imageSizes)+'"]')):f+='[href="'+yn(i)+'"]';var g=f;switch(r){case"style":g=wo(i);break;case"script":g=So(i)}$n.has(g)||(i=_({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),$n.set(g,i),u.querySelector(f)!==null||r==="style"&&u.querySelector(hu(g))||r==="script"&&u.querySelector(fu(g))||(r=u.createElement("link"),Je(r,"link",i),Ce(r),u.head.appendChild(r)))}}function D2(i,r){bs.m(i,r);var o=Eo;if(o&&i){var u=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+yn(u)+'"][href="'+yn(i)+'"]',g=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=So(i)}if(!$n.has(g)&&(i=_({rel:"modulepreload",href:i},r),$n.set(g,i),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(fu(g)))return}u=o.createElement("link"),Je(u,"link",i),Ce(u),o.head.appendChild(u)}}}function k2(i,r,o){bs.S(i,r,o);var u=Eo;if(u&&i){var f=Ii(u).hoistableStyles,g=wo(i);r=r||"default";var b=f.get(g);if(!b){var S={loading:0,preload:null};if(b=u.querySelector(hu(g)))S.loading=5;else{i=_({rel:"stylesheet",href:i,"data-precedence":r},o),(o=$n.get(g))&&pp(i,o);var M=b=u.createElement("link");Ce(M),Je(M,"link",i),M._p=new Promise(function(K,tt){M.onload=K,M.onerror=tt}),M.addEventListener("load",function(){S.loading|=1}),M.addEventListener("error",function(){S.loading|=2}),S.loading|=4,kh(b,r,u)}b={type:"stylesheet",instance:b,count:1,state:S},f.set(g,b)}}}function M2(i,r){bs.X(i,r);var o=Eo;if(o&&i){var u=Ii(o).hoistableScripts,f=So(i),g=u.get(f);g||(g=o.querySelector(fu(f)),g||(i=_({src:i,async:!0},r),(r=$n.get(f))&&gp(i,r),g=o.createElement("script"),Ce(g),Je(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function V2(i,r){bs.M(i,r);var o=Eo;if(o&&i){var u=Ii(o).hoistableScripts,f=So(i),g=u.get(f);g||(g=o.querySelector(fu(f)),g||(i=_({src:i,async:!0,type:"module"},r),(r=$n.get(f))&&gp(i,r),g=o.createElement("script"),Ce(g),Je(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function Xb(i,r,o,u){var f=(f=Nt.current)?Dh(f):null;if(!f)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=wo(o.href),o=Ii(f).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=wo(o.href);var g=Ii(f).hoistableStyles,b=g.get(i);if(b||(f=f.ownerDocument||f,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,b),(g=f.querySelector(hu(i)))&&!g._p&&(b.instance=g,b.state.loading=5),$n.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},$n.set(i,o),g||O2(f,i,o,b.state))),r&&u===null)throw Error(s(528,""));return b}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=So(o),o=Ii(f).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function wo(i){return'href="'+yn(i)+'"'}function hu(i){return'link[rel="stylesheet"]['+i+"]"}function Wb(i){return _({},i,{"data-precedence":i.precedence,precedence:null})}function O2(i,r,o,u){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=i.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),Je(r,"link",o),Ce(r),i.head.appendChild(r))}function So(i){return'[src="'+yn(i)+'"]'}function fu(i){return"script[async]"+i}function Jb(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=i.querySelector('style[data-href~="'+yn(o.href)+'"]');if(u)return r.instance=u,Ce(u),u;var f=_({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),Ce(u),Je(u,"style",f),kh(u,o.precedence,i),r.instance=u;case"stylesheet":f=wo(o.href);var g=i.querySelector(hu(f));if(g)return r.state.loading|=4,r.instance=g,Ce(g),g;u=Wb(o),(f=$n.get(f))&&pp(u,f),g=(i.ownerDocument||i).createElement("link"),Ce(g);var b=g;return b._p=new Promise(function(S,M){b.onload=S,b.onerror=M}),Je(g,"link",u),r.state.loading|=4,kh(g,o.precedence,i),r.instance=g;case"script":return g=So(o.src),(f=i.querySelector(fu(g)))?(r.instance=f,Ce(f),f):(u=o,(f=$n.get(g))&&(u=_({},o),gp(u,f)),i=i.ownerDocument||i,f=i.createElement("script"),Ce(f),Je(f,"link",u),i.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,kh(u,o.precedence,i));return r.instance}function kh(i,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,g=f,b=0;b<u.length;b++){var S=u[b];if(S.dataset.precedence===r)g=S;else if(g!==f)break}g?g.parentNode.insertBefore(i,g.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function pp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function gp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var Mh=null;function Zb(i,r,o){if(Mh===null){var u=new Map,f=Mh=new Map;f.set(o,u)}else f=Mh,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),f=0;f<o.length;f++){var g=o[f];if(!(g[Ci]||g[Ae]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var b=g.getAttribute(r)||"";b=i+b;var S=u.get(b);S?S.push(g):u.set(b,[g])}}return u}function tT(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function P2(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(i=r.disabled,typeof r.precedence=="string"&&i==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function eT(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function L2(i,r,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var f=wo(u.href),g=r.querySelector(hu(f));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=Vh.bind(i),r.then(i,i)),o.state.loading|=4,o.instance=g,Ce(g);return}g=r.ownerDocument||r,u=Wb(u),(f=$n.get(f))&&pp(u,f),g=g.createElement("link"),Ce(g);var b=g;b._p=new Promise(function(S,M){b.onload=S,b.onerror=M}),Je(g,"link",u),o.instance=g}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=Vh.bind(i),r.addEventListener("load",o),r.addEventListener("error",o))}}var yp=0;function j2(i,r){return i.stylesheets&&i.count===0&&Ph(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var u=setTimeout(function(){if(i.stylesheets&&Ph(i,i.stylesheets),i.unsuspend){var g=i.unsuspend;i.unsuspend=null,g()}},6e4+r);0<i.imgBytes&&yp===0&&(yp=62500*v2());var f=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Ph(i,i.stylesheets),i.unsuspend)){var g=i.unsuspend;i.unsuspend=null,g()}},(i.imgBytes>yp?50:800)+r);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(u),clearTimeout(f)}}:null}function Vh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ph(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Oh=null;function Ph(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Oh=new Map,r.forEach(U2,i),Oh=null,Vh.call(i))}function U2(i,r){if(!(r.state.loading&4)){var o=Oh.get(i);if(o)var u=o.get(null);else{o=new Map,Oh.set(i,o);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<f.length;g++){var b=f[g];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(o.set(b.dataset.precedence,b),u=b)}u&&o.set(null,u)}f=r.instance,b=f.getAttribute("data-precedence"),g=o.get(b)||u,g===u&&o.set(null,f),o.set(b,f),this.count++,u=Vh.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),g?g.parentNode.insertBefore(f,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),r.state.loading|=4}}var du={$$typeof:$,Provider:null,Consumer:null,_currentValue:dt,_currentValue2:dt,_threadCount:0};function z2(i,r,o,u,f,g,b,S,M){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xi(0),this.hiddenUpdates=xi(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=g,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function nT(i,r,o,u,f,g,b,S,M,K,tt,it){return i=new z2(i,r,o,b,M,K,tt,it,S),r=1,g===!0&&(r|=24),g=Rn(3,null,null,r),i.current=g,g.stateNode=i,r=Xd(),r.refCount++,i.pooledCache=r,r.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:r},tm(g),i}function iT(i){return i?(i=to,i):to}function sT(i,r,o,u,f,g){f=iT(f),u.context===null?u.context=f:u.pendingContext=f,u=Js(r),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=Zs(i,u,r),o!==null&&(wn(o,i,r),Gl(o,i,r))}function rT(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function vp(i,r){rT(i,r),(i=i.alternate)&&rT(i,r)}function aT(i){if(i.tag===13||i.tag===31){var r=ea(i,67108864);r!==null&&wn(r,i,67108864),vp(i,67108864)}}function oT(i){if(i.tag===13||i.tag===31){var r=Mn();r=Hr(r);var o=ea(i,r);o!==null&&wn(o,i,r),vp(i,r)}}var Lh=!0;function B2(i,r,o,u){var f=Z.T;Z.T=null;var g=ot.p;try{ot.p=2,_p(i,r,o,u)}finally{ot.p=g,Z.T=f}}function F2(i,r,o,u){var f=Z.T;Z.T=null;var g=ot.p;try{ot.p=8,_p(i,r,o,u)}finally{ot.p=g,Z.T=f}}function _p(i,r,o,u){if(Lh){var f=bp(u);if(f===null)rp(i,r,u,jh,o),uT(i,u);else if(q2(f,i,r,o,u))u.stopPropagation();else if(uT(i,u),r&4&&-1<H2.indexOf(i)){for(;f!==null;){var g=Pn(f);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var b=wi(g.pendingLanes);if(b!==0){var S=g;for(S.pendingLanes|=2,S.entangledLanes|=2;b;){var M=1<<31-_e(b);S.entanglements[1]|=M,b&=~M}Fi(g),($t&6)===0&&(bh=hn()+500,ou(0))}}break;case 31:case 13:S=ea(g,2),S!==null&&wn(S,g,2),Eh(),vp(g,2)}if(g=bp(u),g===null&&rp(i,r,u,jh,o),g===f)break;f=g}f!==null&&u.stopPropagation()}else rp(i,r,u,null,o)}}function bp(i){return i=Ln(i),Tp(i)}var jh=null;function Tp(i){if(jh=null,i=Ri(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=c(r),i!==null)return i;i=null}else if(o===31){if(i=d(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return jh=i,null}function lT(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ur()){case gl:return 2;case yl:return 8;case Ls:case Cd:return 32;case gc:return 268435456;default:return 32}default:return 32}}var Ep=!1,cr=null,hr=null,fr=null,mu=new Map,pu=new Map,dr=[],H2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function uT(i,r){switch(i){case"focusin":case"focusout":cr=null;break;case"dragenter":case"dragleave":hr=null;break;case"mouseover":case"mouseout":fr=null;break;case"pointerover":case"pointerout":mu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":pu.delete(r.pointerId)}}function gu(i,r,o,u,f,g){return i===null||i.nativeEvent!==g?(i={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[f]},r!==null&&(r=Pn(r),r!==null&&aT(r)),i):(i.eventSystemFlags|=u,r=i.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),i)}function q2(i,r,o,u,f){switch(r){case"focusin":return cr=gu(cr,i,r,o,u,f),!0;case"dragenter":return hr=gu(hr,i,r,o,u,f),!0;case"mouseover":return fr=gu(fr,i,r,o,u,f),!0;case"pointerover":var g=f.pointerId;return mu.set(g,gu(mu.get(g)||null,i,r,o,u,f)),!0;case"gotpointercapture":return g=f.pointerId,pu.set(g,gu(pu.get(g)||null,i,r,o,u,f)),!0}return!1}function cT(i){var r=Ri(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){i.blockedOn=r,ei(i.priority,function(){oT(o)});return}}else if(r===31){if(r=d(o),r!==null){i.blockedOn=r,ei(i.priority,function(){oT(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Uh(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=bp(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);Il=u,o.target.dispatchEvent(u),Il=null}else return r=Pn(o),r!==null&&aT(r),i.blockedOn=o,!1;r.shift()}return!0}function hT(i,r,o){Uh(i)&&o.delete(r)}function G2(){Ep=!1,cr!==null&&Uh(cr)&&(cr=null),hr!==null&&Uh(hr)&&(hr=null),fr!==null&&Uh(fr)&&(fr=null),mu.forEach(hT),pu.forEach(hT)}function zh(i,r){i.blockedOn===r&&(i.blockedOn=null,Ep||(Ep=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,G2)))}var Bh=null;function fT(i){Bh!==i&&(Bh=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Bh===i&&(Bh=null);for(var r=0;r<i.length;r+=3){var o=i[r],u=i[r+1],f=i[r+2];if(typeof u!="function"){if(Tp(u||o)===null)continue;break}var g=Pn(o);g!==null&&(i.splice(r,3),r-=3,bm(g,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function xo(i){function r(M){return zh(M,i)}cr!==null&&zh(cr,i),hr!==null&&zh(hr,i),fr!==null&&zh(fr,i),mu.forEach(r),pu.forEach(r);for(var o=0;o<dr.length;o++){var u=dr[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<dr.length&&(o=dr[0],o.blockedOn===null);)cT(o),o.blockedOn===null&&dr.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],g=o[u+1],b=f[He]||null;if(typeof g=="function")b||fT(o);else if(b){var S=null;if(g&&g.hasAttribute("formAction")){if(f=g,b=g[He]||null)S=b.formAction;else if(Tp(f)!==null)continue}else S=b.action;typeof S=="function"?o[u+1]=S:(o.splice(u,3),u-=3),fT(o)}}}function dT(){function i(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(b){return f=b})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,f=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function wp(i){this._internalRoot=i}Fh.prototype.render=wp.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,u=Mn();sT(o,u,i,r,null,null)},Fh.prototype.unmount=wp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;sT(i.current,2,null,i,null,null),Eh(),r[Ai]=null}};function Fh(i){this._internalRoot=i}Fh.prototype.unstable_scheduleHydration=function(i){if(i){var r=Ec();i={blockedOn:null,target:i,priority:r};for(var o=0;o<dr.length&&r!==0&&r<dr[o].priority;o++);dr.splice(o,0,i),o===0&&cT(i)}};var mT=t.version;if(mT!=="19.2.4")throw Error(s(527,mT,"19.2.4"));ot.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=p(r),i=i!==null?y(i):null,i=i===null?null:i.stateNode,i};var K2={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hh.isDisabled&&Hh.supportsFiber)try{Zn=Hh.inject(K2),$e=Hh}catch{}}return vu.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,u="",f=T_,g=E_,b=w_;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(b=r.onRecoverableError)),r=nT(i,1,!1,null,null,o,u,null,f,g,b,dT),i[Ai]=r.current,sp(i),new wp(r)},vu.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var u=!1,f="",g=T_,b=E_,S=w_,M=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.formState!==void 0&&(M=o.formState)),r=nT(i,1,!0,r,o??null,u,f,M,g,b,S,dT),r.context=iT(null),o=r.current,u=Mn(),u=Hr(u),f=Js(u),f.callback=null,Zs(o,f,u),o=u,r.current.lanes=o,Br(r,o),Fi(r),i[Ai]=r.current,sp(i),new Fh(r)},vu.version="19.2.4",vu}var ST;function nI(){if(ST)return Ap.exports;ST=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Ap.exports=eI(),Ap.exports}var iI=nI();const sI=kw(iI);var xT="popstate";function rI(e={}){function t(s,a){let{pathname:l,search:c,hash:d}=s.location;return fg("",{pathname:l,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:Lu(a)}return oI(t,n,null,e)}function de(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function _i(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function aI(){return Math.random().toString(36).substring(2,10)}function AT(e,t){return{usr:e.state,key:e.key,idx:t}}function fg(e,t,n=null,s){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Jo(t):t,state:n,key:t&&t.key||s||aI()}}function Lu({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Jo(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substring(s),e=e.substring(0,s)),e&&(t.pathname=e)}return t}function oI(e,t,n,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,c=a.history,d="POP",m=null,p=y();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function y(){return(c.state||{idx:null}).idx}function _(){d="POP";let L=y(),F=L==null?null:L-p;p=L,m&&m({action:d,location:O.location,delta:F})}function T(L,F){d="PUSH";let H=fg(O.location,L,F);p=y()+1;let $=AT(H,p),W=O.createHref(H);try{c.pushState($,"",W)}catch(J){if(J instanceof DOMException&&J.name==="DataCloneError")throw J;a.location.assign(W)}l&&m&&m({action:d,location:O.location,delta:1})}function C(L,F){d="REPLACE";let H=fg(O.location,L,F);p=y();let $=AT(H,p),W=O.createHref(H);c.replaceState($,"",W),l&&m&&m({action:d,location:O.location,delta:0})}function D(L){return lI(L)}let O={get action(){return d},get location(){return e(a,c)},listen(L){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(xT,_),m=L,()=>{a.removeEventListener(xT,_),m=null}},createHref(L){return t(a,L)},createURL:D,encodeLocation(L){let F=D(L);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:T,replace:C,go(L){return c.go(L)}};return O}function lI(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),de(n,"No window.location.(origin|href) available to create URL");let s=typeof e=="string"?e:Lu(e);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function Vw(e,t,n="/"){return uI(e,t,n,!1)}function uI(e,t,n,s){let a=typeof t=="string"?Jo(t):t,l=Cs(a.pathname||"/",n);if(l==null)return null;let c=Ow(e);cI(c);let d=null;for(let m=0;d==null&&m<c.length;++m){let p=TI(l);d=_I(c[m],p,s)}return d}function Ow(e,t=[],n=[],s="",a=!1){let l=(c,d,m=a,p)=>{let y={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(s)&&m)return;de(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length)}let _=xs([s,y.relativePath]),T=n.concat(y);c.children&&c.children.length>0&&(de(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),Ow(c.children,t,T,_,m)),!(c.path==null&&!c.index)&&t.push({path:_,score:yI(_,c.index),routesMeta:T})};return e.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))l(c,d);else for(let m of Pw(c.path))l(c,d,!0,m)}),t}function Pw(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let c=Pw(s.join("/")),d=[];return d.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&d.push(...c),d.map(m=>e.startsWith("/")&&m===""?"/":m)}function cI(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:vI(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var hI=/^:[\w-]+$/,fI=3,dI=2,mI=1,pI=10,gI=-2,CT=e=>e==="*";function yI(e,t){let n=e.split("/"),s=n.length;return n.some(CT)&&(s+=gI),t&&(s+=dI),n.filter(a=>!CT(a)).reduce((a,l)=>a+(hI.test(l)?fI:l===""?mI:pI),s)}function vI(e,t){return e.length===t.length&&e.slice(0,-1).every((s,a)=>s===t[a])?e[e.length-1]-t[t.length-1]:0}function _I(e,t,n=!1){let{routesMeta:s}=e,a={},l="/",c=[];for(let d=0;d<s.length;++d){let m=s[d],p=d===s.length-1,y=l==="/"?t:t.slice(l.length)||"/",_=wf({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},y),T=m.route;if(!_&&p&&n&&!s[s.length-1].route.index&&(_=wf({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!_)return null;Object.assign(a,_.params),c.push({params:a,pathname:xs([l,_.pathname]),pathnameBase:xI(xs([l,_.pathnameBase])),route:T}),_.pathnameBase!=="/"&&(l=xs([l,_.pathnameBase]))}return c}function wf(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=bI(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:s.reduce((p,{paramName:y,isOptional:_},T)=>{if(y==="*"){let D=d[T]||"";c=l.slice(0,l.length-D.length).replace(/(.)\/+$/,"$1")}const C=d[T];return _&&!C?p[y]=void 0:p[y]=(C||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:e}}function bI(e,t=!1,n=!0){_i(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let s=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,m)=>(s.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(s.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),s]}function TI(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return _i(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Cs(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}var EI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function wI(e,t="/"){let{pathname:n,search:s="",hash:a=""}=typeof e=="string"?Jo(e):e,l;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?l=RT(n.substring(1),"/"):l=RT(n,t)):l=t,{pathname:l,search:AI(s),hash:CI(a)}}function RT(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Np(e,t,n,s){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function SI(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function dy(e){let t=SI(e);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function my(e,t,n,s=!1){let a;typeof e=="string"?a=Jo(e):(a={...e},de(!a.pathname||!a.pathname.includes("?"),Np("?","pathname","search",a)),de(!a.pathname||!a.pathname.includes("#"),Np("#","pathname","hash",a)),de(!a.search||!a.search.includes("#"),Np("#","search","hash",a)));let l=e===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=n;else{let _=t.length-1;if(!s&&c.startsWith("..")){let T=c.split("/");for(;T[0]==="..";)T.shift(),_-=1;a.pathname=T.join("/")}d=_>=0?t[_]:"/"}let m=wI(a,d),p=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(p||y)&&(m.pathname+="/"),m}var xs=e=>e.join("/").replace(/\/\/+/g,"/"),xI=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),AI=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,CI=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,RI=class{constructor(e,t,n,s=!1){this.status=e,this.statusText=t||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function II(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function NI(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Lw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function jw(e,t){let n=e;if(typeof n!="string"||!EI.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,a=!1;if(Lw)try{let l=new URL(window.location.href),c=n.startsWith("//")?new URL(l.protocol+n):new URL(n),d=Cs(c.pathname,t);c.origin===l.origin&&d!=null?n=d+c.search+c.hash:a=!0}catch{_i(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Uw=["POST","PUT","PATCH","DELETE"];new Set(Uw);var DI=["GET",...Uw];new Set(DI);var Zo=N.createContext(null);Zo.displayName="DataRouter";var Jf=N.createContext(null);Jf.displayName="DataRouterState";var kI=N.createContext(!1),zw=N.createContext({isTransitioning:!1});zw.displayName="ViewTransition";var MI=N.createContext(new Map);MI.displayName="Fetchers";var VI=N.createContext(null);VI.displayName="Await";var Vn=N.createContext(null);Vn.displayName="Navigation";var Zu=N.createContext(null);Zu.displayName="Location";var Jn=N.createContext({outlet:null,matches:[],isDataRoute:!1});Jn.displayName="Route";var py=N.createContext(null);py.displayName="RouteError";var Bw="REACT_ROUTER_ERROR",OI="REDIRECT",PI="ROUTE_ERROR_RESPONSE";function LI(e){if(e.startsWith(`${Bw}:${OI}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function jI(e){if(e.startsWith(`${Bw}:${PI}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new RI(t.status,t.statusText,t.data)}catch{}}function UI(e,{relative:t}={}){de(tl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=N.useContext(Vn),{hash:a,pathname:l,search:c}=tc(e,{relative:t}),d=l;return n!=="/"&&(d=l==="/"?n:xs([n,l])),s.createHref({pathname:d,search:c,hash:a})}function tl(){return N.useContext(Zu)!=null}function Ms(){return de(tl(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(Zu).location}var Fw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Hw(e){N.useContext(Vn).static||N.useLayoutEffect(e)}function Zf(){let{isDataRoute:e}=N.useContext(Jn);return e?eN():zI()}function zI(){de(tl(),"useNavigate() may be used only in the context of a <Router> component.");let e=N.useContext(Zo),{basename:t,navigator:n}=N.useContext(Vn),{matches:s}=N.useContext(Jn),{pathname:a}=Ms(),l=JSON.stringify(dy(s)),c=N.useRef(!1);return Hw(()=>{c.current=!0}),N.useCallback((m,p={})=>{if(_i(c.current,Fw),!c.current)return;if(typeof m=="number"){n.go(m);return}let y=my(m,JSON.parse(l),a,p.relative==="path");e==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:xs([t,y.pathname])),(p.replace?n.replace:n.push)(y,p.state,p)},[t,n,l,a,e])}var BI=N.createContext(null);function FI(e){let t=N.useContext(Jn).outlet;return N.useMemo(()=>t&&N.createElement(BI.Provider,{value:e},t),[t,e])}function HI(){let{matches:e}=N.useContext(Jn),t=e[e.length-1];return t?t.params:{}}function tc(e,{relative:t}={}){let{matches:n}=N.useContext(Jn),{pathname:s}=Ms(),a=JSON.stringify(dy(n));return N.useMemo(()=>my(e,JSON.parse(a),s,t==="path"),[e,a,s,t])}function qI(e,t){return qw(e,t)}function qw(e,t,n,s,a){de(tl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=N.useContext(Vn),{matches:c}=N.useContext(Jn),d=c[c.length-1],m=d?d.params:{},p=d?d.pathname:"/",y=d?d.pathnameBase:"/",_=d&&d.route;{let H=_&&_.path||"";Kw(p,!_||H.endsWith("*")||H.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${H}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${H}"> to <Route path="${H==="/"?"*":`${H}/*`}">.`)}let T=Ms(),C;if(t){let H=typeof t=="string"?Jo(t):t;de(y==="/"||H.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${H.pathname}" was given in the \`location\` prop.`),C=H}else C=T;let D=C.pathname||"/",O=D;if(y!=="/"){let H=y.replace(/^\//,"").split("/");O="/"+D.replace(/^\//,"").split("/").slice(H.length).join("/")}let L=Vw(e,{pathname:O});_i(_||L!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),_i(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let F=QI(L&&L.map(H=>Object.assign({},H,{params:Object.assign({},m,H.params),pathname:xs([y,l.encodeLocation?l.encodeLocation(H.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:H.pathname]),pathnameBase:H.pathnameBase==="/"?y:xs([y,l.encodeLocation?l.encodeLocation(H.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:H.pathnameBase])})),c,n,s,a);return t&&F?N.createElement(Zu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...C},navigationType:"POP"}},F):F}function GI(){let e=tN(),t=II(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=N.createElement(N.Fragment,null,N.createElement("p",null," Hey developer "),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:l},"ErrorBoundary")," or"," ",N.createElement("code",{style:l},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},t),n?N.createElement("pre",{style:a},n):null,c)}var KI=N.createElement(GI,null),Gw=class extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const n=jI(e.digest);n&&(e=n)}let t=e!==void 0?N.createElement(Jn.Provider,{value:this.props.routeContext},N.createElement(py.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?N.createElement($I,{error:e},t):t}};Gw.contextType=kI;var Dp=new WeakMap;function $I({children:e,error:t}){let{basename:n}=N.useContext(Vn);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let s=LI(t.digest);if(s){let a=Dp.get(t);if(a)throw a;let l=jw(s.location,n);if(Lw&&!Dp.get(t))if(l.isExternal||s.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:s.replace}));throw Dp.set(t,c),c}return N.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return e}function YI({routeContext:e,match:t,children:n}){let s=N.useContext(Zo);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),N.createElement(Jn.Provider,{value:e},n)}function QI(e,t=[],n=null,s=null,a=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let l=e,c=n?.errors;if(c!=null){let y=l.findIndex(_=>_.route.id&&c?.[_.route.id]!==void 0);de(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,y+1))}let d=!1,m=-1;if(n)for(let y=0;y<l.length;y++){let _=l[y];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(m=y),_.route.id){let{loaderData:T,errors:C}=n,D=_.route.loader&&!T.hasOwnProperty(_.route.id)&&(!C||C[_.route.id]===void 0);if(_.route.lazy||D){d=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}let p=n&&s?(y,_)=>{s(y,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:NI(n.matches),errorInfo:_})}:void 0;return l.reduceRight((y,_,T)=>{let C,D=!1,O=null,L=null;n&&(C=c&&_.route.id?c[_.route.id]:void 0,O=_.route.errorElement||KI,d&&(m<0&&T===0?(Kw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),D=!0,L=null):m===T&&(D=!0,L=_.route.hydrateFallbackElement||null)));let F=t.concat(l.slice(0,T+1)),H=()=>{let $;return C?$=O:D?$=L:_.route.Component?$=N.createElement(_.route.Component,null):_.route.element?$=_.route.element:$=y,N.createElement(YI,{match:_,routeContext:{outlet:y,matches:F,isDataRoute:n!=null},children:$})};return n&&(_.route.ErrorBoundary||_.route.errorElement||T===0)?N.createElement(Gw,{location:n.location,revalidation:n.revalidation,component:O,error:C,children:H(),routeContext:{outlet:null,matches:F,isDataRoute:!0},onError:p}):H()},null)}function gy(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function XI(e){let t=N.useContext(Zo);return de(t,gy(e)),t}function WI(e){let t=N.useContext(Jf);return de(t,gy(e)),t}function JI(e){let t=N.useContext(Jn);return de(t,gy(e)),t}function yy(e){let t=JI(e),n=t.matches[t.matches.length-1];return de(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function ZI(){return yy("useRouteId")}function tN(){let e=N.useContext(py),t=WI("useRouteError"),n=yy("useRouteError");return e!==void 0?e:t.errors?.[n]}function eN(){let{router:e}=XI("useNavigate"),t=yy("useNavigate"),n=N.useRef(!1);return Hw(()=>{n.current=!0}),N.useCallback(async(a,l={})=>{_i(n.current,Fw),n.current&&(typeof a=="number"?await e.navigate(a):await e.navigate(a,{fromRouteId:t,...l}))},[e,t])}var IT={};function Kw(e,t,n){!t&&!IT[e]&&(IT[e]=!0,_i(!1,n))}N.memo(nN);function nN({routes:e,future:t,state:n,onError:s}){return qw(e,void 0,n,s,t)}function iN({to:e,replace:t,state:n,relative:s}){de(tl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=N.useContext(Vn);_i(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=N.useContext(Jn),{pathname:c}=Ms(),d=Zf(),m=my(e,dy(l),c,s==="path"),p=JSON.stringify(m);return N.useEffect(()=>{d(JSON.parse(p),{replace:t,state:n,relative:s})},[d,p,s,t,n]),null}function Ts(e){de(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function sN({basename:e="/",children:t=null,location:n,navigationType:s="POP",navigator:a,static:l=!1,unstable_useTransitions:c}){de(!tl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=e.replace(/^\/*/,"/"),m=N.useMemo(()=>({basename:d,navigator:a,static:l,unstable_useTransitions:c,future:{}}),[d,a,l,c]);typeof n=="string"&&(n=Jo(n));let{pathname:p="/",search:y="",hash:_="",state:T=null,key:C="default"}=n,D=N.useMemo(()=>{let O=Cs(p,d);return O==null?null:{location:{pathname:O,search:y,hash:_,state:T,key:C},navigationType:s}},[d,p,y,_,T,C,s]);return _i(D!=null,`<Router basename="${d}"> is not able to match the URL "${p}${y}${_}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:N.createElement(Vn.Provider,{value:m},N.createElement(Zu.Provider,{children:t,value:D}))}function rN({children:e,location:t}){return qI(dg(e),t)}function dg(e,t=[]){let n=[];return N.Children.forEach(e,(s,a)=>{if(!N.isValidElement(s))return;let l=[...t,a];if(s.type===N.Fragment){n.push.apply(n,dg(s.props.children,l));return}de(s.type===Ts,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),de(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=dg(s.props.children,l)),n.push(c)}),n}var nf="get",sf="application/x-www-form-urlencoded";function td(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function aN(e){return td(e)&&e.tagName.toLowerCase()==="button"}function oN(e){return td(e)&&e.tagName.toLowerCase()==="form"}function lN(e){return td(e)&&e.tagName.toLowerCase()==="input"}function uN(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function cN(e,t){return e.button===0&&(!t||t==="_self")&&!uN(e)}var qh=null;function hN(){if(qh===null)try{new FormData(document.createElement("form"),0),qh=!1}catch{qh=!0}return qh}var fN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function kp(e){return e!=null&&!fN.has(e)?(_i(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${sf}"`),null):e}function dN(e,t){let n,s,a,l,c;if(oN(e)){let d=e.getAttribute("action");s=d?Cs(d,t):null,n=e.getAttribute("method")||nf,a=kp(e.getAttribute("enctype"))||sf,l=new FormData(e)}else if(aN(e)||lN(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=e.getAttribute("formaction")||d.getAttribute("action");if(s=m?Cs(m,t):null,n=e.getAttribute("formmethod")||d.getAttribute("method")||nf,a=kp(e.getAttribute("formenctype"))||kp(d.getAttribute("enctype"))||sf,l=new FormData(d,e),!hN()){let{name:p,type:y,value:_}=e;if(y==="image"){let T=p?`${p}.`:"";l.append(`${T}x`,"0"),l.append(`${T}y`,"0")}else p&&l.append(p,_)}}else{if(td(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=nf,s=null,a=sf,c=e}return l&&a==="text/plain"&&(c=l,l=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function vy(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function mN(e,t,n,s){let a=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${s}`:a.pathname=`${a.pathname}.${s}`:a.pathname==="/"?a.pathname=`_root.${s}`:t&&Cs(a.pathname,t)==="/"?a.pathname=`${t.replace(/\/$/,"")}/_root.${s}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${s}`,a}async function pN(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function gN(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function yN(e,t,n){let s=await Promise.all(e.map(async a=>{let l=t.routes[a.route.id];if(l){let c=await pN(l,n);return c.links?c.links():[]}return[]}));return TN(s.flat(1).filter(gN).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function NT(e,t,n,s,a,l){let c=(m,p)=>n[p]?m.route.id!==n[p].route.id:!0,d=(m,p)=>n[p].pathname!==m.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==m.params["*"];return l==="assets"?t.filter((m,p)=>c(m,p)||d(m,p)):l==="data"?t.filter((m,p)=>{let y=s.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(c(m,p)||d(m,p))return!0;if(m.route.shouldRevalidate){let _=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function vN(e,t,{includeHydrateFallback:n}={}){return _N(e.map(s=>{let a=t.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function _N(e){return[...new Set(e)]}function bN(e){let t={},n=Object.keys(e).sort();for(let s of n)t[s]=e[s];return t}function TN(e,t){let n=new Set;return new Set(t),e.reduce((s,a)=>{let l=JSON.stringify(bN(a));return n.has(l)||(n.add(l),s.push({key:l,link:a})),s},[])}function $w(){let e=N.useContext(Zo);return vy(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function EN(){let e=N.useContext(Jf);return vy(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var _y=N.createContext(void 0);_y.displayName="FrameworkContext";function Yw(){let e=N.useContext(_y);return vy(e,"You must render this element inside a <HydratedRouter> element"),e}function wN(e,t){let n=N.useContext(_y),[s,a]=N.useState(!1),[l,c]=N.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:p,onMouseLeave:y,onTouchStart:_}=t,T=N.useRef(null);N.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let O=F=>{F.forEach(H=>{c(H.isIntersecting)})},L=new IntersectionObserver(O,{threshold:.5});return T.current&&L.observe(T.current),()=>{L.disconnect()}}},[e]),N.useEffect(()=>{if(s){let O=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(O)}}},[s]);let C=()=>{a(!0)},D=()=>{a(!1),c(!1)};return n?e!=="intent"?[l,T,{}]:[l,T,{onFocus:_u(d,C),onBlur:_u(m,D),onMouseEnter:_u(p,C),onMouseLeave:_u(y,D),onTouchStart:_u(_,C)}]:[!1,T,{}]}function _u(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function SN({page:e,...t}){let{router:n}=$w(),s=N.useMemo(()=>Vw(n.routes,e,n.basename),[n.routes,e,n.basename]);return s?N.createElement(AN,{page:e,matches:s,...t}):null}function xN(e){let{manifest:t,routeModules:n}=Yw(),[s,a]=N.useState([]);return N.useEffect(()=>{let l=!1;return yN(e,t,n).then(c=>{l||a(c)}),()=>{l=!0}},[e,t,n]),s}function AN({page:e,matches:t,...n}){let s=Ms(),{future:a,manifest:l,routeModules:c}=Yw(),{basename:d}=$w(),{loaderData:m,matches:p}=EN(),y=N.useMemo(()=>NT(e,t,p,l,s,"data"),[e,t,p,l,s]),_=N.useMemo(()=>NT(e,t,p,l,s,"assets"),[e,t,p,l,s]),T=N.useMemo(()=>{if(e===s.pathname+s.search+s.hash)return[];let O=new Set,L=!1;if(t.forEach(H=>{let $=l.routes[H.route.id];!$||!$.hasLoader||(!y.some(W=>W.route.id===H.route.id)&&H.route.id in m&&c[H.route.id]?.shouldRevalidate||$.hasClientLoader?L=!0:O.add(H.route.id))}),O.size===0)return[];let F=mN(e,d,a.unstable_trailingSlashAwareDataRequests,"data");return L&&O.size>0&&F.searchParams.set("_routes",t.filter(H=>O.has(H.route.id)).map(H=>H.route.id).join(",")),[F.pathname+F.search]},[d,a.unstable_trailingSlashAwareDataRequests,m,s,l,y,t,e,c]),C=N.useMemo(()=>vN(_,l),[_,l]),D=xN(_);return N.createElement(N.Fragment,null,T.map(O=>N.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...n})),C.map(O=>N.createElement("link",{key:O,rel:"modulepreload",href:O,...n})),D.map(({key:O,link:L})=>N.createElement("link",{key:O,nonce:n.nonce,...L,crossOrigin:L.crossOrigin??n.crossOrigin})))}function CN(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var RN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{RN&&(window.__reactRouterVersion="7.13.0")}catch{}function IN({basename:e,children:t,unstable_useTransitions:n,window:s}){let a=N.useRef();a.current==null&&(a.current=rI({window:s,v5Compat:!0}));let l=a.current,[c,d]=N.useState({action:l.action,location:l.location}),m=N.useCallback(p=>{n===!1?d(p):N.startTransition(()=>d(p))},[n]);return N.useLayoutEffect(()=>l.listen(m),[l,m]),N.createElement(sN,{basename:e,children:t,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:n})}var Qw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,an=N.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:a,reloadDocument:l,replace:c,state:d,target:m,to:p,preventScrollReset:y,viewTransition:_,unstable_defaultShouldRevalidate:T,...C},D){let{basename:O,unstable_useTransitions:L}=N.useContext(Vn),F=typeof p=="string"&&Qw.test(p),H=jw(p,O);p=H.to;let $=UI(p,{relative:a}),[W,J,at]=wN(s,C),R=MN(p,{replace:c,state:d,target:m,preventScrollReset:y,relative:a,viewTransition:_,unstable_defaultShouldRevalidate:T,unstable_useTransitions:L});function x(V){t&&t(V),V.defaultPrevented||R(V)}let I=N.createElement("a",{...C,...at,href:H.absoluteURL||$,onClick:H.isExternal||l?t:x,ref:CN(D,J),target:m,"data-discover":!F&&n==="render"?"true":void 0});return W&&!F?N.createElement(N.Fragment,null,I,N.createElement(SN,{page:$})):I});an.displayName="Link";var NN=N.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:a=!1,style:l,to:c,viewTransition:d,children:m,...p},y){let _=tc(c,{relative:p.relative}),T=Ms(),C=N.useContext(Jf),{navigator:D,basename:O}=N.useContext(Vn),L=C!=null&&jN(_)&&d===!0,F=D.encodeLocation?D.encodeLocation(_).pathname:_.pathname,H=T.pathname,$=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;n||(H=H.toLowerCase(),$=$?$.toLowerCase():null,F=F.toLowerCase()),$&&O&&($=Cs($,O)||$);const W=F!=="/"&&F.endsWith("/")?F.length-1:F.length;let J=H===F||!a&&H.startsWith(F)&&H.charAt(W)==="/",at=$!=null&&($===F||!a&&$.startsWith(F)&&$.charAt(F.length)==="/"),R={isActive:J,isPending:at,isTransitioning:L},x=J?t:void 0,I;typeof s=="function"?I=s(R):I=[s,J?"active":null,at?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let V=typeof l=="function"?l(R):l;return N.createElement(an,{...p,"aria-current":x,className:I,ref:y,style:V,to:c,viewTransition:d},typeof m=="function"?m(R):m)});NN.displayName="NavLink";var DN=N.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:a,state:l,method:c=nf,action:d,onSubmit:m,relative:p,preventScrollReset:y,viewTransition:_,unstable_defaultShouldRevalidate:T,...C},D)=>{let{unstable_useTransitions:O}=N.useContext(Vn),L=PN(),F=LN(d,{relative:p}),H=c.toLowerCase()==="get"?"get":"post",$=typeof d=="string"&&Qw.test(d),W=J=>{if(m&&m(J),J.defaultPrevented)return;J.preventDefault();let at=J.nativeEvent.submitter,R=at?.getAttribute("formmethod")||c,x=()=>L(at||J.currentTarget,{fetcherKey:t,method:R,navigate:n,replace:a,state:l,relative:p,preventScrollReset:y,viewTransition:_,unstable_defaultShouldRevalidate:T});O&&n!==!1?N.startTransition(()=>x()):x()};return N.createElement("form",{ref:D,method:H,action:F,onSubmit:s?m:W,...C,"data-discover":!$&&e==="render"?"true":void 0})});DN.displayName="Form";function kN(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Xw(e){let t=N.useContext(Zo);return de(t,kN(e)),t}function MN(e,{target:t,replace:n,state:s,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:d,unstable_useTransitions:m}={}){let p=Zf(),y=Ms(),_=tc(e,{relative:l});return N.useCallback(T=>{if(cN(T,t)){T.preventDefault();let C=n!==void 0?n:Lu(y)===Lu(_),D=()=>p(e,{replace:C,state:s,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:d});m?N.startTransition(()=>D()):D()}},[y,p,_,n,s,t,e,a,l,c,d,m])}var VN=0,ON=()=>`__${String(++VN)}__`;function PN(){let{router:e}=Xw("useSubmit"),{basename:t}=N.useContext(Vn),n=ZI(),s=e.fetch,a=e.navigate;return N.useCallback(async(l,c={})=>{let{action:d,method:m,encType:p,formData:y,body:_}=dN(l,t);if(c.navigate===!1){let T=c.fetcherKey||ON();await s(T,n,c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:y,body:_,formMethod:c.method||m,formEncType:c.encType||p,flushSync:c.flushSync})}else await a(c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:y,body:_,formMethod:c.method||m,formEncType:c.encType||p,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[s,a,t,n])}function LN(e,{relative:t}={}){let{basename:n}=N.useContext(Vn),s=N.useContext(Jn);de(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...tc(e||".",{relative:t})},c=Ms();if(e==null){l.search=c.search;let d=new URLSearchParams(l.search),m=d.getAll("index");if(m.some(y=>y==="")){d.delete("index"),m.filter(_=>_).forEach(_=>d.append("index",_));let y=d.toString();l.search=y?`?${y}`:""}}return(!e||e===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:xs([n,l.pathname])),Lu(l)}function jN(e,{relative:t}={}){let n=N.useContext(zw);de(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Xw("useViewTransitionState"),a=tc(e,{relative:t});if(!n.isTransitioning)return!1;let l=Cs(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=Cs(n.nextLocation.pathname,s)||n.nextLocation.pathname;return wf(a.pathname,c)!=null||wf(a.pathname,l)!=null}const by=N.createContext({});function Ty(e){const t=N.useRef(null);return t.current===null&&(t.current=e()),t.current}const Ww=typeof window<"u",Jw=Ww?N.useLayoutEffect:N.useEffect,ed=N.createContext(null);function Ey(e,t){e.indexOf(t)===-1&&e.push(t)}function Sf(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Ji=(e,t,n)=>n>t?t:n<e?e:n;let wy=()=>{};const Rs={},Zw=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function tS(e){return typeof e=="object"&&e!==null}const eS=e=>/^0[^.\s]+$/u.test(e);function Sy(e){let t;return()=>(t===void 0&&(t=e()),t)}const Wn=e=>e,UN=(e,t)=>n=>t(e(n)),ec=(...e)=>e.reduce(UN),ju=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s};class xy{constructor(){this.subscriptions=[]}add(t){return Ey(this.subscriptions,t),()=>Sf(this.subscriptions,t)}notify(t,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,n,s);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(t,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const gi=e=>e*1e3,Xn=e=>e/1e3;function nS(e,t){return t?e*(1e3/t):0}const iS=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,zN=1e-7,BN=12;function FN(e,t,n,s,a){let l,c,d=0;do c=t+(n-t)/2,l=iS(c,s,a)-e,l>0?n=c:t=c;while(Math.abs(l)>zN&&++d<BN);return c}function nc(e,t,n,s){if(e===t&&n===s)return Wn;const a=l=>FN(l,0,1,e,n);return l=>l===0||l===1?l:iS(a(l),t,s)}const sS=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,rS=e=>t=>1-e(1-t),aS=nc(.33,1.53,.69,.99),Ay=rS(aS),oS=sS(Ay),lS=e=>(e*=2)<1?.5*Ay(e):.5*(2-Math.pow(2,-10*(e-1))),Cy=e=>1-Math.sin(Math.acos(e)),uS=rS(Cy),cS=sS(Cy),HN=nc(.42,0,1,1),qN=nc(0,0,.58,1),hS=nc(.42,0,.58,1),GN=e=>Array.isArray(e)&&typeof e[0]!="number",fS=e=>Array.isArray(e)&&typeof e[0]=="number",KN={linear:Wn,easeIn:HN,easeInOut:hS,easeOut:qN,circIn:Cy,circInOut:cS,circOut:uS,backIn:Ay,backInOut:oS,backOut:aS,anticipate:lS},$N=e=>typeof e=="string",DT=e=>{if(fS(e)){wy(e.length===4);const[t,n,s,a]=e;return nc(t,n,s,a)}else if($N(e))return KN[e];return e},Gh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function YN(e,t){let n=new Set,s=new Set,a=!1,l=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function m(y){c.has(y)&&(p.schedule(y),e()),y(d)}const p={schedule:(y,_=!1,T=!1)=>{const D=T&&a?n:s;return _&&c.add(y),D.has(y)||D.add(y),y},cancel:y=>{s.delete(y),c.delete(y)},process:y=>{if(d=y,a){l=!0;return}a=!0,[n,s]=[s,n],n.forEach(m),n.clear(),a=!1,l&&(l=!1,p.process(y))}};return p}const QN=40;function dS(e,t){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=Gh.reduce(($,W)=>($[W]=YN(l),$),{}),{setup:d,read:m,resolveKeyframes:p,preUpdate:y,update:_,preRender:T,render:C,postRender:D}=c,O=()=>{const $=Rs.useManualTiming?a.timestamp:performance.now();n=!1,Rs.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min($-a.timestamp,QN),1)),a.timestamp=$,a.isProcessing=!0,d.process(a),m.process(a),p.process(a),y.process(a),_.process(a),T.process(a),C.process(a),D.process(a),a.isProcessing=!1,n&&t&&(s=!1,e(O))},L=()=>{n=!0,s=!0,a.isProcessing||e(O)};return{schedule:Gh.reduce(($,W)=>{const J=c[W];return $[W]=(at,R=!1,x=!1)=>(n||L(),J.schedule(at,R,x)),$},{}),cancel:$=>{for(let W=0;W<Gh.length;W++)c[Gh[W]].cancel($)},state:a,steps:c}}const{schedule:re,cancel:Rr,state:Ze,steps:Mp}=dS(typeof requestAnimationFrame<"u"?requestAnimationFrame:Wn,!0);let rf;function XN(){rf=void 0}const mn={now:()=>(rf===void 0&&mn.set(Ze.isProcessing||Rs.useManualTiming?Ze.timestamp:performance.now()),rf),set:e=>{rf=e,queueMicrotask(XN)}},mS=e=>t=>typeof t=="string"&&t.startsWith(e),pS=mS("--"),WN=mS("var(--"),Ry=e=>WN(e)?JN.test(e.split("/*")[0].trim()):!1,JN=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function kT(e){return typeof e!="string"?!1:e.split("/*")[0].includes("var(--")}const el={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Uu={...el,transform:e=>Ji(0,1,e)},Kh={...el,default:1},Cu=e=>Math.round(e*1e5)/1e5,Iy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function ZN(e){return e==null}const tD=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Ny=(e,t)=>n=>!!(typeof n=="string"&&tD.test(n)&&n.startsWith(e)||t&&!ZN(n)&&Object.prototype.hasOwnProperty.call(n,t)),gS=(e,t,n)=>s=>{if(typeof s!="string")return s;const[a,l,c,d]=s.match(Iy);return{[e]:parseFloat(a),[t]:parseFloat(l),[n]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},eD=e=>Ji(0,255,e),Vp={...el,transform:e=>Math.round(eD(e))},ya={test:Ny("rgb","red"),parse:gS("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+Vp.transform(e)+", "+Vp.transform(t)+", "+Vp.transform(n)+", "+Cu(Uu.transform(s))+")"};function nD(e){let t="",n="",s="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,s+=s,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const mg={test:Ny("#"),parse:nD,transform:ya.transform},ic=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),gr=ic("deg"),Gi=ic("%"),gt=ic("px"),iD=ic("vh"),sD=ic("vw"),MT={...Gi,parse:e=>Gi.parse(e)/100,transform:e=>Gi.transform(e*100)},Do={test:Ny("hsl","hue"),parse:gS("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+Gi.transform(Cu(t))+", "+Gi.transform(Cu(n))+", "+Cu(Uu.transform(s))+")"},Ve={test:e=>ya.test(e)||mg.test(e)||Do.test(e),parse:e=>ya.test(e)?ya.parse(e):Do.test(e)?Do.parse(e):mg.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?ya.transform(e):Do.transform(e),getAnimatableNone:e=>{const t=Ve.parse(e);return t.alpha=0,Ve.transform(t)}},rD=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function aD(e){return isNaN(e)&&typeof e=="string"&&(e.match(Iy)?.length||0)+(e.match(rD)?.length||0)>0}const yS="number",vS="color",oD="var",lD="var(",VT="${}",uD=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function zu(e){const t=e.toString(),n=[],s={color:[],number:[],var:[]},a=[];let l=0;const d=t.replace(uD,m=>(Ve.test(m)?(s.color.push(l),a.push(vS),n.push(Ve.parse(m))):m.startsWith(lD)?(s.var.push(l),a.push(oD),n.push(m)):(s.number.push(l),a.push(yS),n.push(parseFloat(m))),++l,VT)).split(VT);return{values:n,split:d,indexes:s,types:a}}function _S(e){return zu(e).values}function bS(e){const{split:t,types:n}=zu(e),s=t.length;return a=>{let l="";for(let c=0;c<s;c++)if(l+=t[c],a[c]!==void 0){const d=n[c];d===yS?l+=Cu(a[c]):d===vS?l+=Ve.transform(a[c]):l+=a[c]}return l}}const cD=e=>typeof e=="number"?0:Ve.test(e)?Ve.getAnimatableNone(e):e;function hD(e){const t=_S(e);return bS(e)(t.map(cD))}const Ir={test:aD,parse:_S,createTransformer:bS,getAnimatableNone:hD};function Op(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function fD({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let a=0,l=0,c=0;if(!t)a=l=c=n;else{const d=n<.5?n*(1+t):n+t-n*t,m=2*n-d;a=Op(m,d,e+1/3),l=Op(m,d,e),c=Op(m,d,e-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:s}}function xf(e,t){return n=>n>0?t:e}const me=(e,t,n)=>e+(t-e)*n,Pp=(e,t,n)=>{const s=e*e,a=n*(t*t-s)+s;return a<0?0:Math.sqrt(a)},dD=[mg,ya,Do],mD=e=>dD.find(t=>t.test(e));function OT(e){const t=mD(e);if(!t)return!1;let n=t.parse(e);return t===Do&&(n=fD(n)),n}const PT=(e,t)=>{const n=OT(e),s=OT(t);if(!n||!s)return xf(e,t);const a={...n};return l=>(a.red=Pp(n.red,s.red,l),a.green=Pp(n.green,s.green,l),a.blue=Pp(n.blue,s.blue,l),a.alpha=me(n.alpha,s.alpha,l),ya.transform(a))},pg=new Set(["none","hidden"]);function pD(e,t){return pg.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function gD(e,t){return n=>me(e,t,n)}function Dy(e){return typeof e=="number"?gD:typeof e=="string"?Ry(e)?xf:Ve.test(e)?PT:_D:Array.isArray(e)?TS:typeof e=="object"?Ve.test(e)?PT:yD:xf}function TS(e,t){const n=[...e],s=n.length,a=e.map((l,c)=>Dy(l)(l,t[c]));return l=>{for(let c=0;c<s;c++)n[c]=a[c](l);return n}}function yD(e,t){const n={...e,...t},s={};for(const a in n)e[a]!==void 0&&t[a]!==void 0&&(s[a]=Dy(e[a])(e[a],t[a]));return a=>{for(const l in s)n[l]=s[l](a);return n}}function vD(e,t){const n=[],s={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const l=t.types[a],c=e.indexes[l][s[l]],d=e.values[c]??0;n[a]=d,s[l]++}return n}const _D=(e,t)=>{const n=Ir.createTransformer(t),s=zu(e),a=zu(t);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?pg.has(e)&&!a.values.length||pg.has(t)&&!s.values.length?pD(e,t):ec(TS(vD(s,a),a.values),n):xf(e,t)};function ES(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?me(e,t,n):Dy(e)(e,t)}const bD=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>re.update(t,n),stop:()=>Rr(t),now:()=>Ze.isProcessing?Ze.timestamp:mn.now()}},wS=(e,t,n=10)=>{let s="";const a=Math.max(Math.round(t/n),2);for(let l=0;l<a;l++)s+=Math.round(e(l/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Af=2e4;function ky(e){let t=0;const n=50;let s=e.next(t);for(;!s.done&&t<Af;)t+=n,s=e.next(t);return t>=Af?1/0:t}function TD(e,t=100,n){const s=n({...e,keyframes:[0,t]}),a=Math.min(ky(s),Af);return{type:"keyframes",ease:l=>s.next(a*l).value/t,duration:Xn(a)}}const ED=5;function SS(e,t,n){const s=Math.max(t-ED,0);return nS(n-e(s),t-s)}const ve={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Lp=.001;function wD({duration:e=ve.duration,bounce:t=ve.bounce,velocity:n=ve.velocity,mass:s=ve.mass}){let a,l,c=1-t;c=Ji(ve.minDamping,ve.maxDamping,c),e=Ji(ve.minDuration,ve.maxDuration,Xn(e)),c<1?(a=p=>{const y=p*c,_=y*e,T=y-n,C=gg(p,c),D=Math.exp(-_);return Lp-T/C*D},l=p=>{const _=p*c*e,T=_*n+n,C=Math.pow(c,2)*Math.pow(p,2)*e,D=Math.exp(-_),O=gg(Math.pow(p,2),c);return(-a(p)+Lp>0?-1:1)*((T-C)*D)/O}):(a=p=>{const y=Math.exp(-p*e),_=(p-n)*e+1;return-Lp+y*_},l=p=>{const y=Math.exp(-p*e),_=(n-p)*(e*e);return y*_});const d=5/e,m=xD(a,l,d);if(e=gi(e),isNaN(m))return{stiffness:ve.stiffness,damping:ve.damping,duration:e};{const p=Math.pow(m,2)*s;return{stiffness:p,damping:c*2*Math.sqrt(s*p),duration:e}}}const SD=12;function xD(e,t,n){let s=n;for(let a=1;a<SD;a++)s=s-e(s)/t(s);return s}function gg(e,t){return e*Math.sqrt(1-t*t)}const AD=["duration","bounce"],CD=["stiffness","damping","mass"];function LT(e,t){return t.some(n=>e[n]!==void 0)}function RD(e){let t={velocity:ve.velocity,stiffness:ve.stiffness,damping:ve.damping,mass:ve.mass,isResolvedFromDuration:!1,...e};if(!LT(e,CD)&&LT(e,AD))if(e.visualDuration){const n=e.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,l=2*Ji(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:ve.mass,stiffness:a,damping:l}}else{const n=wD(e);t={...t,...n,mass:ve.mass},t.isResolvedFromDuration=!0}return t}function Cf(e=ve.visualDuration,t=ve.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],d={done:!1,value:l},{stiffness:m,damping:p,mass:y,duration:_,velocity:T,isResolvedFromDuration:C}=RD({...n,velocity:-Xn(n.velocity||0)}),D=T||0,O=p/(2*Math.sqrt(m*y)),L=c-l,F=Xn(Math.sqrt(m/y)),H=Math.abs(L)<5;s||(s=H?ve.restSpeed.granular:ve.restSpeed.default),a||(a=H?ve.restDelta.granular:ve.restDelta.default);let $;if(O<1){const J=gg(F,O);$=at=>{const R=Math.exp(-O*F*at);return c-R*((D+O*F*L)/J*Math.sin(J*at)+L*Math.cos(J*at))}}else if(O===1)$=J=>c-Math.exp(-F*J)*(L+(D+F*L)*J);else{const J=F*Math.sqrt(O*O-1);$=at=>{const R=Math.exp(-O*F*at),x=Math.min(J*at,300);return c-R*((D+O*F*L)*Math.sinh(x)+J*L*Math.cosh(x))/J}}const W={calculatedDuration:C&&_||null,next:J=>{const at=$(J);if(C)d.done=J>=_;else{let R=J===0?D:0;O<1&&(R=J===0?gi(D):SS($,J,at));const x=Math.abs(R)<=s,I=Math.abs(c-at)<=a;d.done=x&&I}return d.value=d.done?c:at,d},toString:()=>{const J=Math.min(ky(W),Af),at=wS(R=>W.next(J*R).value,J,30);return J+"ms "+at},toTransition:()=>{}};return W}Cf.applyToOptions=e=>{const t=TD(e,100,Cf);return e.ease=t.ease,e.duration=gi(t.duration),e.type="keyframes",e};function yg({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:d,max:m,restDelta:p=.5,restSpeed:y}){const _=e[0],T={done:!1,value:_},C=x=>d!==void 0&&x<d||m!==void 0&&x>m,D=x=>d===void 0?m:m===void 0||Math.abs(d-x)<Math.abs(m-x)?d:m;let O=n*t;const L=_+O,F=c===void 0?L:c(L);F!==L&&(O=F-_);const H=x=>-O*Math.exp(-x/s),$=x=>F+H(x),W=x=>{const I=H(x),V=$(x);T.done=Math.abs(I)<=p,T.value=T.done?F:V};let J,at;const R=x=>{C(T.value)&&(J=x,at=Cf({keyframes:[T.value,D(T.value)],velocity:SS($,x,T.value),damping:a,stiffness:l,restDelta:p,restSpeed:y}))};return R(0),{calculatedDuration:null,next:x=>{let I=!1;return!at&&J===void 0&&(I=!0,W(x),R(x)),J!==void 0&&x>=J?at.next(x-J):(!I&&W(x),T)}}}function ID(e,t,n){const s=[],a=n||Rs.mix||ES,l=e.length-1;for(let c=0;c<l;c++){let d=a(e[c],e[c+1]);if(t){const m=Array.isArray(t)?t[c]||Wn:t;d=ec(m,d)}s.push(d)}return s}function ND(e,t,{clamp:n=!0,ease:s,mixer:a}={}){const l=e.length;if(wy(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const c=e[0]===e[1];e[0]>e[l-1]&&(e=[...e].reverse(),t=[...t].reverse());const d=ID(t,s,a),m=d.length,p=y=>{if(c&&y<e[0])return t[0];let _=0;if(m>1)for(;_<e.length-2&&!(y<e[_+1]);_++);const T=ju(e[_],e[_+1],y);return d[_](T)};return n?y=>p(Ji(e[0],e[l-1],y)):p}function DD(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const a=ju(0,t,s);e.push(me(n,1,a))}}function kD(e){const t=[0];return DD(t,e.length-1),t}function MD(e,t){return e.map(n=>n*t)}function VD(e,t){return e.map(()=>t||hS).splice(0,e.length-1)}function Ru({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const a=GN(s)?s.map(DT):DT(s),l={done:!1,value:t[0]},c=MD(n&&n.length===t.length?n:kD(t),e),d=ND(c,t,{ease:Array.isArray(a)?a:VD(t,a)});return{calculatedDuration:e,next:m=>(l.value=d(m),l.done=m>=e,l)}}const OD=e=>e!==null;function My(e,{repeat:t,repeatType:n="loop"},s,a=1){const l=e.filter(OD),d=a<0||t&&n!=="loop"&&t%2===1?0:l.length-1;return!d||s===void 0?l[d]:s}const PD={decay:yg,inertia:yg,tween:Ru,keyframes:Ru,spring:Cf};function xS(e){typeof e.type=="string"&&(e.type=PD[e.type])}class Vy{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const LD=e=>e/100;class Oy extends Vy{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==mn.now()&&this.tick(mn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;xS(t);const{type:n=Ru,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=t;let{keyframes:d}=t;const m=n||Ru;m!==Ru&&typeof d[0]!="number"&&(this.mixKeyframes=ec(LD,ES(d[0],d[1])),d=[0,100]);const p=m({...t,keyframes:d});l==="mirror"&&(this.mirroredGenerator=m({...t,keyframes:[...d].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=ky(p));const{calculatedDuration:y}=p;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=p}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:m}=this;if(this.startTime===null)return s.next(0);const{delay:p=0,keyframes:y,repeat:_,repeatType:T,repeatDelay:C,type:D,onUpdate:O,finalKeyframe:L}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const F=this.currentTime-p*(this.playbackSpeed>=0?1:-1),H=this.playbackSpeed>=0?F<0:F>a;this.currentTime=Math.max(F,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let $=this.currentTime,W=s;if(_){const x=Math.min(this.currentTime,a)/d;let I=Math.floor(x),V=x%1;!V&&x>=1&&(V=1),V===1&&I--,I=Math.min(I,_+1),I%2&&(T==="reverse"?(V=1-V,C&&(V-=C/d)):T==="mirror"&&(W=c)),$=Ji(0,1,V)*d}const J=H?{done:!1,value:y[0]}:W.next($);l&&(J.value=l(J.value));let{done:at}=J;!H&&m!==null&&(at=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&at);return R&&D!==yg&&(J.value=My(y,this.options,L,this.speed)),O&&O(J.value),R&&this.finish(),J}then(t,n){return this.finished.then(t,n)}get duration(){return Xn(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Xn(t)}get time(){return Xn(this.currentTime)}set time(t){t=gi(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(mn.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Xn(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=bD,startTime:n}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(mn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function jD(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const va=e=>e*180/Math.PI,vg=e=>{const t=va(Math.atan2(e[1],e[0]));return _g(t)},UD={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:vg,rotateZ:vg,skewX:e=>va(Math.atan(e[1])),skewY:e=>va(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},_g=e=>(e=e%360,e<0&&(e+=360),e),jT=vg,UT=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),zT=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),zD={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:UT,scaleY:zT,scale:e=>(UT(e)+zT(e))/2,rotateX:e=>_g(va(Math.atan2(e[6],e[5]))),rotateY:e=>_g(va(Math.atan2(-e[2],e[0]))),rotateZ:jT,rotate:jT,skewX:e=>va(Math.atan(e[4])),skewY:e=>va(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function bg(e){return e.includes("scale")?1:0}function Tg(e,t){if(!e||e==="none")return bg(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=zD,a=n;else{const d=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=UD,a=d}if(!a)return bg(t);const l=s[t],c=a[1].split(",").map(FD);return typeof l=="function"?l(c):c[l]}const BD=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Tg(n,t)};function FD(e){return parseFloat(e.trim())}const nl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],il=new Set(nl),BT=e=>e===el||e===gt,HD=new Set(["x","y","z"]),qD=nl.filter(e=>!HD.has(e));function GD(e){const t=[];return qD.forEach(n=>{const s=e.getValue(n);s!==void 0&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t}const br={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Tg(t,"x"),y:(e,{transform:t})=>Tg(t,"y")};br.translateX=br.x;br.translateY=br.y;const Ta=new Set;let Eg=!1,wg=!1,Sg=!1;function AS(){if(wg){const e=Array.from(Ta).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),n=new Map;t.forEach(s=>{const a=GD(s);a.length&&(n.set(s,a),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([l,c])=>{s.getValue(l)?.set(c)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}wg=!1,Eg=!1,Ta.forEach(e=>e.complete(Sg)),Ta.clear()}function CS(){Ta.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(wg=!0)})}function KD(){Sg=!0,CS(),AS(),Sg=!1}class Py{constructor(t,n,s,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=s,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Ta.add(this),Eg||(Eg=!0,re.read(CS),re.resolveKeyframes(AS))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:s,motionValue:a}=this;if(t[0]===null){const l=a?.get(),c=t[t.length-1];if(l!==void 0)t[0]=l;else if(s&&n){const d=s.readValue(n,c);d!=null&&(t[0]=d)}t[0]===void 0&&(t[0]=c),a&&l===void 0&&a.set(t[0])}jD(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Ta.delete(this)}cancel(){this.state==="scheduled"&&(Ta.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const $D=e=>e.startsWith("--");function YD(e,t,n){$D(t)?e.style.setProperty(t,n):e.style[t]=n}const QD=Sy(()=>window.ScrollTimeline!==void 0),XD={};function WD(e,t){const n=Sy(e);return()=>XD[t]??n()}const RS=WD(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Eu=([e,t,n,s])=>`cubic-bezier(${e}, ${t}, ${n}, ${s})`,FT={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Eu([0,.65,.55,1]),circOut:Eu([.55,0,1,.45]),backIn:Eu([.31,.01,.66,-.59]),backOut:Eu([.33,1.53,.69,.99])};function IS(e,t){if(e)return typeof e=="function"?RS()?wS(e,t):"ease-out":fS(e)?Eu(e):Array.isArray(e)?e.map(n=>IS(n,t)||FT.easeOut):FT[e]}function JD(e,t,n,{delay:s=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:d="easeOut",times:m}={},p=void 0){const y={[t]:n};m&&(y.offset=m);const _=IS(d,a);Array.isArray(_)&&(y.easing=_);const T={delay:s,duration:a,easing:Array.isArray(_)?"linear":_,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return p&&(T.pseudoElement=p),e.animate(y,T)}function NS(e){return typeof e=="function"&&"applyToOptions"in e}function ZD({type:e,...t}){return NS(e)&&RS()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class DS extends Vy{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:n,name:s,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:d,onComplete:m}=t;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=t,wy(typeof t.type!="string");const p=ZD(t);this.animation=JD(n,s,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=My(a,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(y):YD(n,s,y),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){const t=this.options?.element;!this.isPseudoElement&&t?.isConnected&&this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Xn(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Xn(t)}get time(){return Xn(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=gi(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&QD()?(this.animation.timeline=t,Wn):n(this)}}const kS={anticipate:lS,backInOut:oS,circInOut:cS};function tk(e){return e in kS}function ek(e){typeof e.ease=="string"&&tk(e.ease)&&(e.ease=kS[e.ease])}const jp=10;class nk extends DS{constructor(t){ek(t),xS(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:s,onComplete:a,element:l,...c}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const d=new Oy({...c,autoplay:!1}),m=Math.max(jp,mn.now()-this.startTime),p=Ji(0,jp,m-jp);n.setWithVelocity(d.sample(Math.max(0,m-p)).value,d.sample(m).value,p),d.stop()}}const HT=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ir.test(e)||e==="0")&&!e.startsWith("url("));function ik(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function sk(e,t,n,s){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const l=e[e.length-1],c=HT(a,t),d=HT(l,t);return!c||!d?!1:ik(e)||(n==="spring"||NS(n))&&s}function xg(e){e.duration=0,e.type="keyframes"}const rk=new Set(["opacity","clipPath","filter","transform"]),ak=Sy(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function ok(e){const{motionValue:t,name:n,repeatDelay:s,repeatType:a,damping:l,type:c}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:p}=t.owner.getProps();return ak()&&n&&rk.has(n)&&(n!=="transform"||!p)&&!m&&!s&&a!=="mirror"&&l!==0&&c!=="inertia"}const lk=40;class uk extends Vy{constructor({autoplay:t=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:d,name:m,motionValue:p,element:y,..._}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=mn.now();const T={autoplay:t,delay:n,type:s,repeat:a,repeatDelay:l,repeatType:c,name:m,motionValue:p,element:y,..._},C=y?.KeyframeResolver||Py;this.keyframeResolver=new C(d,(D,O,L)=>this.onKeyframesResolved(D,O,T,!L),m,p,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,s,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:d,delay:m,isHandoff:p,onUpdate:y}=s;this.resolvedAt=mn.now(),sk(t,l,c,d)||((Rs.instantAnimations||!m)&&y?.(My(t,s,n)),t[0]=t[t.length-1],xg(s),s.repeat=0);const T={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>lk?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:t},C=!p&&ok(T),D=T.motionValue?.owner?.current,O=C?new nk({...T,element:D}):new Oy(T);O.finished.then(()=>{this.notifyFinished()}).catch(Wn),this.pendingTimeline&&(this.stopTimeline=O.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=O}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),KD()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function MS(e,t,n,s=0,a=1){const l=Array.from(e).sort((p,y)=>p.sortNodePosition(y)).indexOf(t),c=e.size,d=(c-1)*s;return typeof n=="function"?n(l,c):a===1?l*s:d-l*s}const ck=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function hk(e){const t=ck.exec(e);if(!t)return[,];const[,n,s,a]=t;return[`--${n??s}`,a]}function VS(e,t,n=1){const[s,a]=hk(e);if(!s)return;const l=window.getComputedStyle(t).getPropertyValue(s);if(l){const c=l.trim();return Zw(c)?parseFloat(c):c}return Ry(a)?VS(a,t,n+1):a}const fk={type:"spring",stiffness:500,damping:25,restSpeed:10},dk=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),mk={type:"keyframes",duration:.8},pk={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},gk=(e,{keyframes:t})=>t.length>2?mk:il.has(e)?e.startsWith("scale")?dk(t[1]):fk:pk,yk=e=>e!==null;function vk(e,{repeat:t,repeatType:n="loop"},s){const a=e.filter(yk),l=t&&n!=="loop"&&t%2===1?0:a.length-1;return a[l]}function OS(e,t){if(e?.inherit&&t){const{inherit:n,...s}=e;return{...t,...s}}return e}function Ly(e,t){const n=e?.[t]??e?.default??e;return n!==e?OS(n,e):n}function _k({when:e,delay:t,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:d,from:m,elapsed:p,...y}){return!!Object.keys(y).length}const jy=(e,t,n,s={},a,l)=>c=>{const d=Ly(s,e)||{},m=d.delay||s.delay||0;let{elapsed:p=0}=s;p=p-gi(m);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...d,delay:-p,onUpdate:T=>{t.set(T),d.onUpdate&&d.onUpdate(T)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:e,motionValue:t,element:l?void 0:a};_k(d)||Object.assign(y,gk(e,y)),y.duration&&(y.duration=gi(y.duration)),y.repeatDelay&&(y.repeatDelay=gi(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let _=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(xg(y),y.delay===0&&(_=!0)),(Rs.instantAnimations||Rs.skipAnimations||a?.shouldSkipAnimations)&&(_=!0,xg(y),y.delay=0),y.allowFlatten=!d.type&&!d.ease,_&&!l&&t.get()!==void 0){const T=vk(y.keyframes,d);if(T!==void 0){re.update(()=>{y.onUpdate(T),y.onComplete()});return}}return d.isSync?new Oy(y):new uk(y)};function qT(e){const t=[{},{}];return e?.values.forEach((n,s)=>{t[0][s]=n.get(),t[1][s]=n.getVelocity()}),t}function Uy(e,t,n,s){if(typeof t=="function"){const[a,l]=qT(s);t=t(n!==void 0?n:e.custom,a,l)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,l]=qT(s);t=t(n!==void 0?n:e.custom,a,l)}return t}function Lo(e,t,n){const s=e.getProps();return Uy(s,t,n!==void 0?n:s.custom,e)}const PS=new Set(["width","height","top","left","right","bottom",...nl]),GT=30,bk=e=>!isNaN(parseFloat(e));class Tk{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const a=mn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=mn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=bk(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new xy);const s=this.events[t].add(n);return t==="change"?()=>{s(),re.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=mn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>GT)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,GT);return nS(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ho(e,t){return new Tk(e,t)}const Ag=e=>Array.isArray(e);function Ek(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Ho(n))}function wk(e){return Ag(e)?e[e.length-1]||0:e}function Sk(e,t){const n=Lo(e,t);let{transitionEnd:s={},transition:a={},...l}=n||{};l={...l,...s};for(const c in l){const d=wk(l[c]);Ek(e,c,d)}}const un=e=>!!(e&&e.getVelocity);function xk(e){return!!(un(e)&&e.add)}function Cg(e,t){const n=e.getValue("willChange");if(xk(n))return n.add(t);if(!n&&Rs.WillChange){const s=new Rs.WillChange("auto");e.addValue("willChange",s),s.add(t)}}function zy(e){return e.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const Ak="framerAppearId",LS="data-"+zy(Ak);function jS(e){return e.props[LS]}function Ck({protectedKeys:e,needsAnimating:t},n){const s=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,s}function US(e,t,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:l,transitionEnd:c,...d}=t;const m=e.getDefaultTransition();l=l?OS(l,m):m;const p=l?.reduceMotion;s&&(l=s);const y=[],_=a&&e.animationState&&e.animationState.getState()[a];for(const T in d){const C=e.getValue(T,e.latestValues[T]??null),D=d[T];if(D===void 0||_&&Ck(_,T))continue;const O={delay:n,...Ly(l||{},T)},L=C.get();if(L!==void 0&&!C.isAnimating&&!Array.isArray(D)&&D===L&&!O.velocity)continue;let F=!1;if(window.MotionHandoffAnimation){const W=jS(e);if(W){const J=window.MotionHandoffAnimation(W,T,re);J!==null&&(O.startTime=J,F=!0)}}Cg(e,T);const H=p??e.shouldReduceMotion;C.start(jy(T,C,D,H&&PS.has(T)?{type:!1}:O,e,F));const $=C.animation;$&&y.push($)}if(c){const T=()=>re.update(()=>{c&&Sk(e,c)});y.length?Promise.all(y).then(T):T()}return y}function Rg(e,t,n={}){const s=Lo(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(US(e,s,n)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?(m=0)=>{const{delayChildren:p=0,staggerChildren:y,staggerDirection:_}=a;return Rk(e,t,m,p,y,_,n)}:()=>Promise.resolve(),{when:d}=a;if(d){const[m,p]=d==="beforeChildren"?[l,c]:[c,l];return m().then(()=>p())}else return Promise.all([l(),c(n.delay)])}function Rk(e,t,n=0,s=0,a=0,l=1,c){const d=[];for(const m of e.variantChildren)m.notify("AnimationStart",t),d.push(Rg(m,t,{...c,delay:n+(typeof s=="function"?0:s)+MS(e.variantChildren,m,s,a,l)}).then(()=>m.notify("AnimationComplete",t)));return Promise.all(d)}function Ik(e,t,n={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const a=t.map(l=>Rg(e,l,n));s=Promise.all(a)}else if(typeof t=="string")s=Rg(e,t,n);else{const a=typeof t=="function"?Lo(e,t,n.custom):t;s=Promise.all(US(e,a,n))}return s.then(()=>{e.notify("AnimationComplete",t)})}const Nk={test:e=>e==="auto",parse:e=>e},zS=e=>t=>t.test(e),BS=[el,gt,Gi,gr,sD,iD,Nk],KT=e=>BS.find(zS(e));function Dk(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||eS(e):!0}const kk=new Set(["brightness","contrast","saturate","opacity"]);function Mk(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=n.match(Iy)||[];if(!s)return e;const a=n.replace(s,"");let l=kk.has(t)?1:0;return s!==n&&(l*=100),t+"("+l+a+")"}const Vk=/\b([a-z-]*)\(.*?\)/gu,Ig={...Ir,getAnimatableNone:e=>{const t=e.match(Vk);return t?t.map(Mk).join(" "):e}},$T={...el,transform:Math.round},Ok={rotate:gr,rotateX:gr,rotateY:gr,rotateZ:gr,scale:Kh,scaleX:Kh,scaleY:Kh,scaleZ:Kh,skew:gr,skewX:gr,skewY:gr,distance:gt,translateX:gt,translateY:gt,translateZ:gt,x:gt,y:gt,z:gt,perspective:gt,transformPerspective:gt,opacity:Uu,originX:MT,originY:MT,originZ:gt},By={borderWidth:gt,borderTopWidth:gt,borderRightWidth:gt,borderBottomWidth:gt,borderLeftWidth:gt,borderRadius:gt,borderTopLeftRadius:gt,borderTopRightRadius:gt,borderBottomRightRadius:gt,borderBottomLeftRadius:gt,width:gt,maxWidth:gt,height:gt,maxHeight:gt,top:gt,right:gt,bottom:gt,left:gt,inset:gt,insetBlock:gt,insetBlockStart:gt,insetBlockEnd:gt,insetInline:gt,insetInlineStart:gt,insetInlineEnd:gt,padding:gt,paddingTop:gt,paddingRight:gt,paddingBottom:gt,paddingLeft:gt,paddingBlock:gt,paddingBlockStart:gt,paddingBlockEnd:gt,paddingInline:gt,paddingInlineStart:gt,paddingInlineEnd:gt,margin:gt,marginTop:gt,marginRight:gt,marginBottom:gt,marginLeft:gt,marginBlock:gt,marginBlockStart:gt,marginBlockEnd:gt,marginInline:gt,marginInlineStart:gt,marginInlineEnd:gt,fontSize:gt,backgroundPositionX:gt,backgroundPositionY:gt,...Ok,zIndex:$T,fillOpacity:Uu,strokeOpacity:Uu,numOctaves:$T},Pk={...By,color:Ve,backgroundColor:Ve,outlineColor:Ve,fill:Ve,stroke:Ve,borderColor:Ve,borderTopColor:Ve,borderRightColor:Ve,borderBottomColor:Ve,borderLeftColor:Ve,filter:Ig,WebkitFilter:Ig},FS=e=>Pk[e];function HS(e,t){let n=FS(e);return n!==Ig&&(n=Ir),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Lk=new Set(["auto","none","0"]);function jk(e,t,n){let s=0,a;for(;s<e.length&&!a;){const l=e[s];typeof l=="string"&&!Lk.has(l)&&zu(l).values.length&&(a=e[s]),s++}if(a&&n)for(const l of t)e[l]=HS(n,a)}class Uk extends Py{constructor(t,n,s,a,l){super(t,n,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let y=0;y<t.length;y++){let _=t[y];if(typeof _=="string"&&(_=_.trim(),Ry(_))){const T=VS(_,n.current);T!==void 0&&(t[y]=T),y===t.length-1&&(this.finalKeyframe=_)}}if(this.resolveNoneKeyframes(),!PS.has(s)||t.length!==2)return;const[a,l]=t,c=KT(a),d=KT(l),m=kT(a),p=kT(l);if(m!==p&&br[s]){this.needsMeasurement=!0;return}if(c!==d)if(BT(c)&&BT(d))for(let y=0;y<t.length;y++){const _=t[y];typeof _=="string"&&(t[y]=parseFloat(_))}else br[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,s=[];for(let a=0;a<t.length;a++)(t[a]===null||Dk(t[a]))&&s.push(a);s.length&&jk(t,s,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=br[s](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&t.getValue(s,a).jump(a,!1)}measureEndState(){const{element:t,name:n,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const a=t.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,c=s[l];s[l]=br[n](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,m])=>{t.getValue(d).set(m)}),this.resolveNoneKeyframes()}}const zk=new Set(["opacity","clipPath","filter","transform"]);function qS(e,t,n){if(e==null)return[];if(e instanceof EventTarget)return[e];if(typeof e=="string"){let s=document;const a=n?.[e]??s.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e).filter(s=>s!=null)}const GS=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function Ng(e){return tS(e)&&"offsetHeight"in e}const{schedule:Fy}=dS(queueMicrotask,!1),fi={x:!1,y:!1};function KS(){return fi.x||fi.y}function Bk(e){return e==="x"||e==="y"?fi[e]?null:(fi[e]=!0,()=>{fi[e]=!1}):fi.x||fi.y?null:(fi.x=fi.y=!0,()=>{fi.x=fi.y=!1})}function $S(e,t){const n=qS(e),s=new AbortController,a={passive:!0,...t,signal:s.signal};return[n,a,()=>s.abort()]}function Fk(e){return!(e.pointerType==="touch"||KS())}function Hk(e,t,n={}){const[s,a,l]=$S(e,n);return s.forEach(c=>{let d=!1,m=!1,p;const y=()=>{c.removeEventListener("pointerleave",D)},_=L=>{p&&(p(L),p=void 0),y()},T=L=>{d=!1,window.removeEventListener("pointerup",T),window.removeEventListener("pointercancel",T),m&&(m=!1,_(L))},C=()=>{d=!0,window.addEventListener("pointerup",T,a),window.addEventListener("pointercancel",T,a)},D=L=>{if(L.pointerType!=="touch"){if(d){m=!0;return}_(L)}},O=L=>{if(!Fk(L))return;m=!1;const F=t(c,L);typeof F=="function"&&(p=F,c.addEventListener("pointerleave",D,a))};c.addEventListener("pointerenter",O,a),c.addEventListener("pointerdown",C,a)}),l}const YS=(e,t)=>t?e===t?!0:YS(e,t.parentElement):!1,Hy=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,qk=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Gk(e){return qk.has(e.tagName)||e.isContentEditable===!0}const Kk=new Set(["INPUT","SELECT","TEXTAREA"]);function $k(e){return Kk.has(e.tagName)||e.isContentEditable===!0}const af=new WeakSet;function YT(e){return t=>{t.key==="Enter"&&e(t)}}function Up(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Yk=(e,t)=>{const n=e.currentTarget;if(!n)return;const s=YT(()=>{if(af.has(n))return;Up(n,"down");const a=YT(()=>{Up(n,"up")}),l=()=>Up(n,"cancel");n.addEventListener("keyup",a,t),n.addEventListener("blur",l,t)});n.addEventListener("keydown",s,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),t)};function QT(e){return Hy(e)&&!KS()}const XT=new WeakSet;function Qk(e,t,n={}){const[s,a,l]=$S(e,n),c=d=>{const m=d.currentTarget;if(!QT(d)||XT.has(d))return;af.add(m),n.stopPropagation&&XT.add(d);const p=t(m,d),y=(C,D)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",T),af.has(m)&&af.delete(m),QT(C)&&typeof p=="function"&&p(C,{success:D})},_=C=>{y(C,m===window||m===document||n.useGlobalTarget||YS(m,C.target))},T=C=>{y(C,!1)};window.addEventListener("pointerup",_,a),window.addEventListener("pointercancel",T,a)};return s.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",c,a),Ng(d)&&(d.addEventListener("focus",p=>Yk(p,a)),!Gk(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}function qy(e){return tS(e)&&"ownerSVGElement"in e}const of=new WeakMap;let lf;const QS=(e,t,n)=>(s,a)=>a&&a[0]?a[0][e+"Size"]:qy(s)&&"getBBox"in s?s.getBBox()[t]:s[n],Xk=QS("inline","width","offsetWidth"),Wk=QS("block","height","offsetHeight");function Jk({target:e,borderBoxSize:t}){of.get(e)?.forEach(n=>{n(e,{get width(){return Xk(e,t)},get height(){return Wk(e,t)}})})}function Zk(e){e.forEach(Jk)}function tM(){typeof ResizeObserver>"u"||(lf=new ResizeObserver(Zk))}function eM(e,t){lf||tM();const n=qS(e);return n.forEach(s=>{let a=of.get(s);a||(a=new Set,of.set(s,a)),a.add(t),lf?.observe(s)}),()=>{n.forEach(s=>{const a=of.get(s);a?.delete(t),a?.size||lf?.unobserve(s)})}}const uf=new Set;let ko;function nM(){ko=()=>{const e={get width(){return window.innerWidth},get height(){return window.innerHeight}};uf.forEach(t=>t(e))},window.addEventListener("resize",ko)}function iM(e){return uf.add(e),ko||nM(),()=>{uf.delete(e),!uf.size&&typeof ko=="function"&&(window.removeEventListener("resize",ko),ko=void 0)}}function WT(e,t){return typeof e=="function"?iM(e):eM(e,t)}function sM(e){return qy(e)&&e.tagName==="svg"}const rM=[...BS,Ve,Ir],aM=e=>rM.find(zS(e)),JT=()=>({translate:0,scale:1,origin:0,originPoint:0}),Mo=()=>({x:JT(),y:JT()}),ZT=()=>({min:0,max:0}),Be=()=>({x:ZT(),y:ZT()}),oM=new WeakMap;function nd(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Bu(e){return typeof e=="string"||Array.isArray(e)}const Gy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ky=["initial",...Gy];function id(e){return nd(e.animate)||Ky.some(t=>Bu(e[t]))}function XS(e){return!!(id(e)||e.variants)}function lM(e,t,n){for(const s in t){const a=t[s],l=n[s];if(un(a))e.addValue(s,a);else if(un(l))e.addValue(s,Ho(a,{owner:e}));else if(l!==a)if(e.hasValue(s)){const c=e.getValue(s);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=e.getStaticValue(s);e.addValue(s,Ho(c!==void 0?c:a,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const Dg={current:null},WS={current:!1},uM=typeof window<"u";function cM(){if(WS.current=!0,!!uM)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Dg.current=e.matches;e.addEventListener("change",t),t()}else Dg.current=!1}const tE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Rf={};function JS(e){Rf=e}function hM(){return Rf}class fM{scrapeMotionValuesFromProps(t,n,s){return{}}constructor({parent:t,props:n,presenceContext:s,reducedMotionConfig:a,skipAnimations:l,blockInitialAnimation:c,visualState:d},m={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=Py,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const C=mn.now();this.renderScheduledAt<C&&(this.renderScheduledAt=C,re.render(this.render,!1,!0))};const{latestValues:p,renderState:y}=d;this.latestValues=p,this.baseTarget={...p},this.initialValues=n.initial?{...p}:{},this.renderState=y,this.parent=t,this.props=n,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.skipAnimationsConfig=l,this.options=m,this.blockInitialAnimation=!!c,this.isControllingVariants=id(n),this.isVariantNode=XS(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:_,...T}=this.scrapeMotionValuesFromProps(n,{},this);for(const C in T){const D=T[C];p[C]!==void 0&&un(D)&&D.set(p[C])}}mount(t){if(this.hasBeenMounted)for(const n in this.initialValues)this.values.get(n)?.jump(this.initialValues[n]),this.latestValues[n]=this.initialValues[n];this.current=t,oM.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(WS.current||cM(),this.shouldReduceMotion=Dg.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,this.parent?.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){this.projection&&this.projection.unmount(),Rr(this.notifyUpdate),Rr(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){if(this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)(),n.accelerate&&zk.has(t)&&this.current instanceof HTMLElement){const{factory:c,keyframes:d,times:m,ease:p,duration:y}=n.accelerate,_=new DS({element:this.current,name:t,keyframes:d,times:m,ease:p,duration:gi(y)}),T=c(_);this.valueSubscriptions.set(t,()=>{T(),_.cancel()});return}const s=il.has(t);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&re.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;typeof window<"u"&&window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Rf){const n=Rf[t];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[t]&&a&&s(this.props)&&(this.features[t]=new a(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Be()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<tE.length;s++){const a=tE[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=t[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=lM(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const s=this.values.get(t);n!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&n!==void 0&&(s=Ho(n===null?void 0:n,{owner:this}),this.addValue(t,s)),s}readValue(t,n){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(Zw(s)||eS(s))?s=parseFloat(s):!aM(s)&&Ir.test(n)&&(s=HS(t,n)),this.setBaseTarget(t,un(s)?s.get():s)),un(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const l=Uy(this.props,n,this.presenceContext?.custom);l&&(s=l[t])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!un(a)?a:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new xy),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){Fy.render(this.render)}}class ZS extends fM{constructor(){super(...arguments),this.KeyframeResolver=Uk}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){const s=t.style;return s?s[n]:void 0}removeValueFromRenderState(t,{vars:n,style:s}){delete n[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;un(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class Pr{constructor(t){this.isMounted=!1,this.node=t}update(){}}function tx({top:e,left:t,right:n,bottom:s}){return{x:{min:t,max:n},y:{min:e,max:s}}}function dM({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function mM(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function zp(e){return e===void 0||e===1}function kg({scale:e,scaleX:t,scaleY:n}){return!zp(e)||!zp(t)||!zp(n)}function pa(e){return kg(e)||ex(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function ex(e){return eE(e.x)||eE(e.y)}function eE(e){return e&&e!=="0%"}function If(e,t,n){const s=e-n,a=t*s;return n+a}function nE(e,t,n,s,a){return a!==void 0&&(e=If(e,a,s)),If(e,n,s)+t}function Mg(e,t=0,n=1,s,a){e.min=nE(e.min,t,n,s,a),e.max=nE(e.max,t,n,s,a)}function nx(e,{x:t,y:n}){Mg(e.x,t.translate,t.scale,t.originPoint),Mg(e.y,n.translate,n.scale,n.originPoint)}const iE=.999999999999,sE=1.0000000000001;function pM(e,t,n,s=!1){const a=n.length;if(!a)return;t.x=t.y=1;let l,c;for(let d=0;d<a;d++){l=n[d],c=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Oo(e,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,nx(e,c)),s&&pa(l.latestValues)&&Oo(e,l.latestValues))}t.x<sE&&t.x>iE&&(t.x=1),t.y<sE&&t.y>iE&&(t.y=1)}function Vo(e,t){e.min=e.min+t,e.max=e.max+t}function rE(e,t,n,s,a=.5){const l=me(e.min,e.max,a);Mg(e,t,n,l,s)}function Oo(e,t){rE(e.x,t.x,t.scaleX,t.scale,t.originX),rE(e.y,t.y,t.scaleY,t.scale,t.originY)}function ix(e,t){return tx(mM(e.getBoundingClientRect(),t))}function gM(e,t,n){const s=ix(e,n),{scroll:a}=t;return a&&(Vo(s.x,a.offset.x),Vo(s.y,a.offset.y)),s}const yM={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},vM=nl.length;function _M(e,t,n){let s="",a=!0;for(let l=0;l<vM;l++){const c=nl[l],d=e[c];if(d===void 0)continue;let m=!0;if(typeof d=="number")m=d===(c.startsWith("scale")?1:0);else{const p=parseFloat(d);m=c.startsWith("scale")?p===1:p===0}if(!m||n){const p=GS(d,By[c]);if(!m){a=!1;const y=yM[c]||c;s+=`${y}(${p}) `}n&&(t[c]=p)}}return s=s.trim(),n?s=n(t,a?"":s):a&&(s="none"),s}function $y(e,t,n){const{style:s,vars:a,transformOrigin:l}=e;let c=!1,d=!1;for(const m in t){const p=t[m];if(il.has(m)){c=!0;continue}else if(pS(m)){a[m]=p;continue}else{const y=GS(p,By[m]);m.startsWith("origin")?(d=!0,l[m]=y):s[m]=y}}if(t.transform||(c||n?s.transform=_M(t,e.transform,n):s.transform&&(s.transform="none")),d){const{originX:m="50%",originY:p="50%",originZ:y=0}=l;s.transformOrigin=`${m} ${p} ${y}`}}function sx(e,{style:t,vars:n},s,a){const l=e.style;let c;for(c in t)l[c]=t[c];a?.applyProjectionStyles(l,s);for(c in n)l.setProperty(c,n[c])}function aE(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const bu={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(gt.test(e))e=parseFloat(e);else return e;const n=aE(e,t.target.x),s=aE(e,t.target.y);return`${n}% ${s}%`}},bM={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,a=Ir.parse(e);if(a.length>5)return s;const l=Ir.createTransformer(e),c=typeof a[0]!="number"?1:0,d=n.x.scale*t.x,m=n.y.scale*t.y;a[0+c]/=d,a[1+c]/=m;const p=me(d,m,.5);return typeof a[2+c]=="number"&&(a[2+c]/=p),typeof a[3+c]=="number"&&(a[3+c]/=p),l(a)}},Vg={borderRadius:{...bu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:bu,borderTopRightRadius:bu,borderBottomLeftRadius:bu,borderBottomRightRadius:bu,boxShadow:bM};function rx(e,{layout:t,layoutId:n}){return il.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Vg[e]||e==="opacity")}function Yy(e,t,n){const s=e.style,a=t?.style,l={};if(!s)return l;for(const c in s)(un(s[c])||a&&un(a[c])||rx(c,e)||n?.getValue(c)?.liveStyle!==void 0)&&(l[c]=s[c]);return l}function TM(e){return window.getComputedStyle(e)}class EM extends ZS{constructor(){super(...arguments),this.type="html",this.renderInstance=sx}readValueFromInstance(t,n){if(il.has(n))return this.projection?.isProjecting?bg(n):BD(t,n);{const s=TM(t),a=(pS(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:n}){return ix(t,n)}build(t,n,s){$y(t,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,n,s){return Yy(t,n,s)}}const wM={offset:"stroke-dashoffset",array:"stroke-dasharray"},SM={offset:"strokeDashoffset",array:"strokeDasharray"};function xM(e,t,n=1,s=0,a=!0){e.pathLength=1;const l=a?wM:SM;e[l.offset]=`${-s}`,e[l.array]=`${t} ${n}`}const AM=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function ax(e,{attrX:t,attrY:n,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...d},m,p,y){if($y(e,d,p),m){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:_,style:T}=e;_.transform&&(T.transform=_.transform,delete _.transform),(T.transform||_.transformOrigin)&&(T.transformOrigin=_.transformOrigin??"50% 50%",delete _.transformOrigin),T.transform&&(T.transformBox=y?.transformBox??"fill-box",delete _.transformBox);for(const C of AM)_[C]!==void 0&&(T[C]=_[C],delete _[C]);t!==void 0&&(_.x=t),n!==void 0&&(_.y=n),s!==void 0&&(_.scale=s),a!==void 0&&xM(_,a,l,c,!1)}const ox=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),lx=e=>typeof e=="string"&&e.toLowerCase()==="svg";function CM(e,t,n,s){sx(e,t,void 0,s);for(const a in t.attrs)e.setAttribute(ox.has(a)?a:zy(a),t.attrs[a])}function ux(e,t,n){const s=Yy(e,t,n);for(const a in e)if(un(e[a])||un(t[a])){const l=nl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=e[a]}return s}class RM extends ZS{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Be}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(il.has(n)){const s=FS(n);return s&&s.default||0}return n=ox.has(n)?n:zy(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,s){return ux(t,n,s)}build(t,n,s){ax(t,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,n,s,a){CM(t,n,s,a)}mount(t){this.isSVGTag=lx(t.tagName),super.mount(t)}}const IM=Ky.length;function cx(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?cx(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<IM;n++){const s=Ky[n],a=e.props[s];(Bu(a)||a===!1)&&(t[s]=a)}return t}function hx(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}const NM=[...Gy].reverse(),DM=Gy.length;function kM(e){return t=>Promise.all(t.map(({animation:n,options:s})=>Ik(e,n,s)))}function MM(e){let t=kM(e),n=oE(),s=!0;const a=m=>(p,y)=>{const _=Lo(e,y,m==="exit"?e.presenceContext?.custom:void 0);if(_){const{transition:T,transitionEnd:C,...D}=_;p={...p,...D,...C}}return p};function l(m){t=m(e)}function c(m){const{props:p}=e,y=cx(e.parent)||{},_=[],T=new Set;let C={},D=1/0;for(let L=0;L<DM;L++){const F=NM[L],H=n[F],$=p[F]!==void 0?p[F]:y[F],W=Bu($),J=F===m?H.isActive:null;J===!1&&(D=L);let at=$===y[F]&&$!==p[F]&&W;if(at&&s&&e.manuallyAnimateOnMount&&(at=!1),H.protectedKeys={...C},!H.isActive&&J===null||!$&&!H.prevProp||nd($)||typeof $=="boolean")continue;if(F==="exit"&&H.isActive&&J!==!0){H.prevResolvedValues&&(C={...C,...H.prevResolvedValues});continue}const R=VM(H.prevProp,$);let x=R||F===m&&H.isActive&&!at&&W||L>D&&W,I=!1;const V=Array.isArray($)?$:[$];let P=V.reduce(a(F),{});J===!1&&(P={});const{prevResolvedValues:z={}}=H,k={...z,...P},Qt=ot=>{x=!0,T.has(ot)&&(I=!0,T.delete(ot)),H.needsAnimating[ot]=!0;const dt=e.getValue(ot);dt&&(dt.liveStyle=!1)};for(const ot in k){const dt=P[ot],lt=z[ot];if(C.hasOwnProperty(ot))continue;let vt=!1;Ag(dt)&&Ag(lt)?vt=!hx(dt,lt):vt=dt!==lt,vt?dt!=null?Qt(ot):T.add(ot):dt!==void 0&&T.has(ot)?Qt(ot):H.protectedKeys[ot]=!0}H.prevProp=$,H.prevResolvedValues=P,H.isActive&&(C={...C,...P}),s&&e.blockInitialAnimation&&(x=!1);const ue=at&&R;x&&(!ue||I)&&_.push(...V.map(ot=>{const dt={type:F};if(typeof ot=="string"&&s&&!ue&&e.manuallyAnimateOnMount&&e.parent){const{parent:lt}=e,vt=Lo(lt,ot);if(lt.enteringChildren&&vt){const{delayChildren:j}=vt.transition||{};dt.delay=MS(lt.enteringChildren,e,j)}}return{animation:ot,options:dt}}))}if(T.size){const L={};if(typeof p.initial!="boolean"){const F=Lo(e,Array.isArray(p.initial)?p.initial[0]:p.initial);F&&F.transition&&(L.transition=F.transition)}T.forEach(F=>{const H=e.getBaseTarget(F),$=e.getValue(F);$&&($.liveStyle=!0),L[F]=H??null}),_.push({animation:L})}let O=!!_.length;return s&&(p.initial===!1||p.initial===p.animate)&&!e.manuallyAnimateOnMount&&(O=!1),s=!1,O?t(_):Promise.resolve()}function d(m,p){if(n[m].isActive===p)return Promise.resolve();e.variantChildren?.forEach(_=>_.animationState?.setActive(m,p)),n[m].isActive=p;const y=c(m);for(const _ in n)n[_].protectedKeys={};return y}return{animateChanges:c,setActive:d,setAnimateFunction:l,getState:()=>n,reset:()=>{n=oE()}}}function VM(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!hx(t,e):!1}function ma(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function oE(){return{animate:ma(!0),whileInView:ma(),whileHover:ma(),whileTap:ma(),whileDrag:ma(),whileFocus:ma(),exit:ma()}}function lE(e,t){e.min=t.min,e.max=t.max}function hi(e,t){lE(e.x,t.x),lE(e.y,t.y)}function uE(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}const fx=1e-4,OM=1-fx,PM=1+fx,dx=.01,LM=0-dx,jM=0+dx;function pn(e){return e.max-e.min}function UM(e,t,n){return Math.abs(e-t)<=n}function cE(e,t,n,s=.5){e.origin=s,e.originPoint=me(t.min,t.max,e.origin),e.scale=pn(n)/pn(t),e.translate=me(n.min,n.max,e.origin)-e.originPoint,(e.scale>=OM&&e.scale<=PM||isNaN(e.scale))&&(e.scale=1),(e.translate>=LM&&e.translate<=jM||isNaN(e.translate))&&(e.translate=0)}function Iu(e,t,n,s){cE(e.x,t.x,n.x,s?s.originX:void 0),cE(e.y,t.y,n.y,s?s.originY:void 0)}function hE(e,t,n){e.min=n.min+t.min,e.max=e.min+pn(t)}function zM(e,t,n){hE(e.x,t.x,n.x),hE(e.y,t.y,n.y)}function fE(e,t,n){e.min=t.min-n.min,e.max=e.min+pn(t)}function Nf(e,t,n){fE(e.x,t.x,n.x),fE(e.y,t.y,n.y)}function dE(e,t,n,s,a){return e-=t,e=If(e,1/n,s),a!==void 0&&(e=If(e,1/a,s)),e}function BM(e,t=0,n=1,s=.5,a,l=e,c=e){if(Gi.test(t)&&(t=parseFloat(t),t=me(c.min,c.max,t/100)-c.min),typeof t!="number")return;let d=me(l.min,l.max,s);e===l&&(d-=t),e.min=dE(e.min,t,n,d,a),e.max=dE(e.max,t,n,d,a)}function mE(e,t,[n,s,a],l,c){BM(e,t[n],t[s],t[a],t.scale,l,c)}const FM=["x","scaleX","originX"],HM=["y","scaleY","originY"];function pE(e,t,n,s){mE(e.x,t,FM,n?n.x:void 0,s?s.x:void 0),mE(e.y,t,HM,n?n.y:void 0,s?s.y:void 0)}function gE(e){return e.translate===0&&e.scale===1}function mx(e){return gE(e.x)&&gE(e.y)}function yE(e,t){return e.min===t.min&&e.max===t.max}function qM(e,t){return yE(e.x,t.x)&&yE(e.y,t.y)}function vE(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function px(e,t){return vE(e.x,t.x)&&vE(e.y,t.y)}function _E(e){return pn(e.x)/pn(e.y)}function bE(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}function Hi(e){return[e("x"),e("y")]}function GM(e,t,n){let s="";const a=e.x.translate/t.x,l=e.y.translate/t.y,c=n?.z||0;if((a||l||c)&&(s=`translate3d(${a}px, ${l}px, ${c}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:p,rotate:y,rotateX:_,rotateY:T,skewX:C,skewY:D}=n;p&&(s=`perspective(${p}px) ${s}`),y&&(s+=`rotate(${y}deg) `),_&&(s+=`rotateX(${_}deg) `),T&&(s+=`rotateY(${T}deg) `),C&&(s+=`skewX(${C}deg) `),D&&(s+=`skewY(${D}deg) `)}const d=e.x.scale*t.x,m=e.y.scale*t.y;return(d!==1||m!==1)&&(s+=`scale(${d}, ${m})`),s||"none"}const gx=["TopLeft","TopRight","BottomLeft","BottomRight"],KM=gx.length,TE=e=>typeof e=="string"?parseFloat(e):e,EE=e=>typeof e=="number"||gt.test(e);function $M(e,t,n,s,a,l){a?(e.opacity=me(0,n.opacity??1,YM(s)),e.opacityExit=me(t.opacity??1,0,QM(s))):l&&(e.opacity=me(t.opacity??1,n.opacity??1,s));for(let c=0;c<KM;c++){const d=`border${gx[c]}Radius`;let m=wE(t,d),p=wE(n,d);if(m===void 0&&p===void 0)continue;m||(m=0),p||(p=0),m===0||p===0||EE(m)===EE(p)?(e[d]=Math.max(me(TE(m),TE(p),s),0),(Gi.test(p)||Gi.test(m))&&(e[d]+="%")):e[d]=p}(t.rotate||n.rotate)&&(e.rotate=me(t.rotate||0,n.rotate||0,s))}function wE(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const YM=yx(0,.5,uS),QM=yx(.5,.95,Wn);function yx(e,t,n){return s=>s<e?0:s>t?1:n(ju(e,t,s))}function XM(e,t,n){const s=un(e)?e:Ho(e);return s.start(jy("",s,t,n)),s.animation}function Fu(e,t,n,s={passive:!0}){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}const WM=(e,t)=>e.depth-t.depth;class JM{constructor(){this.children=[],this.isDirty=!1}add(t){Ey(this.children,t),this.isDirty=!0}remove(t){Sf(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(WM),this.isDirty=!1,this.children.forEach(t)}}function ZM(e,t){const n=mn.now(),s=({timestamp:a})=>{const l=a-n;l>=t&&(Rr(s),e(l-t))};return re.setup(s,!0),()=>Rr(s)}function cf(e){return un(e)?e.get():e}class tV{constructor(){this.members=[]}add(t){Ey(this.members,t);for(let n=this.members.length-1;n>=0;n--){const s=this.members[n];if(s===t||s===this.lead||s===this.prevLead)continue;const a=s.instance;a&&a.isConnected===!1&&s.isPresent!==!1&&!s.snapshot&&Sf(this.members,s)}t.scheduleRender()}remove(t){if(Sf(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(a=>t===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const l=this.members[a],c=l.instance;if(l.isPresent!==!1&&(!c||c.isConnected!==!1)){s=l;break}}return s?(this.promote(s),!0):!1}promote(t,n){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender();const a=s.options.layoutDependency,l=t.options.layoutDependency;if(!(a!==void 0&&l!==void 0&&a===l)){const m=s.instance;m&&m.isConnected===!1&&!s.snapshot||(t.resumeFrom=s,n&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0))}const{crossfade:d}=t.options;d===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:s}=t;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const hf={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Bp=["","X","Y","Z"],eV=1e3;let nV=0;function Fp(e,t,n,s){const{latestValues:a}=t;a[e]&&(n[e]=a[e],t.setStaticValue(e,0),s&&(s[e]=0))}function vx(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=jS(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",re,!(a||l))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&vx(s)}function _x({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(c={},d=t?.()){this.id=nV++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(rV),this.nodes.forEach(uV),this.nodes.forEach(cV),this.nodes.forEach(aV)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new JM)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new xy),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const m=this.eventHandlers.get(c);m&&m.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=qy(c)&&!sM(c),this.instance=c;const{layoutId:d,layout:m,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||d)&&(this.isLayoutDirty=!0),e){let y,_=0;const T=()=>this.root.updateBlockedByResize=!1;re.read(()=>{_=window.innerWidth}),e(c,()=>{const C=window.innerWidth;C!==_&&(_=C,this.root.updateBlockedByResize=!0,y&&y(),y=ZM(T,250),hf.hasAnimatedSinceResize&&(hf.hasAnimatedSinceResize=!1,this.nodes.forEach(AE)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&p&&(d||m)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:_,hasRelativeLayoutChanged:T,layout:C})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const D=this.options.transition||p.getDefaultTransition()||pV,{onLayoutAnimationStart:O,onLayoutAnimationComplete:L}=p.getProps(),F=!this.targetLayout||!px(this.targetLayout,C),H=!_&&T;if(this.options.layoutRoot||this.resumeFrom||H||_&&(F||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const $={...Ly(D,"layout"),onPlay:O,onComplete:L};(p.shouldReduceMotion||this.options.layoutRoot)&&($.delay=0,$.type=!1),this.startAnimation($),this.setAnimationOrigin(y,H)}else _||AE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=C})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Rr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(hV),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&vx(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const _=this.path[y];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:d,layout:m}=this.options;if(d===void 0&&!m)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(SE);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(xE);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(lV),this.nodes.forEach(iV),this.nodes.forEach(sV)):this.nodes.forEach(xE),this.clearAllSnapshots();const d=mn.now();Ze.delta=Ji(0,1e3/60,d-Ze.timestamp),Ze.timestamp=d,Ze.isProcessing=!0,Mp.update.process(Ze),Mp.preRender.process(Ze),Mp.render.process(Ze),Ze.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Fy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(oV),this.sharedNodes.forEach(fV)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,re.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){re.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!pn(this.snapshot.measuredBox.x)&&!pn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Be(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d&&this.instance){const m=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!mx(this.projectionDelta),m=this.getTransformTemplate(),p=m?m(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;c&&this.instance&&(d||pa(this.latestValues)||y)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let m=this.removeElementScroll(d);return c&&(m=this.removeTransform(m)),gV(m),{animationId:this.root.animationId,measuredBox:d,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return Be();const d=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(yV))){const{scroll:p}=this.root;p&&(Vo(d.x,p.offset.x),Vo(d.y,p.offset.y))}return d}removeElementScroll(c){const d=Be();if(hi(d,c),this.scroll?.wasRoot)return d;for(let m=0;m<this.path.length;m++){const p=this.path[m],{scroll:y,options:_}=p;p!==this.root&&y&&_.layoutScroll&&(y.wasRoot&&hi(d,c),Vo(d.x,y.offset.x),Vo(d.y,y.offset.y))}return d}applyTransform(c,d=!1){const m=Be();hi(m,c);for(let p=0;p<this.path.length;p++){const y=this.path[p];!d&&y.options.layoutScroll&&y.scroll&&y!==y.root&&Oo(m,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),pa(y.latestValues)&&Oo(m,y.latestValues)}return pa(this.latestValues)&&Oo(m,this.latestValues),m}removeTransform(c){const d=Be();hi(d,c);for(let m=0;m<this.path.length;m++){const p=this.path[m];if(!p.instance||!pa(p.latestValues))continue;kg(p.latestValues)&&p.updateSnapshot();const y=Be(),_=p.measurePageBox();hi(y,_),pE(d,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return pa(this.latestValues)&&pE(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ze.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==d;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:_}=this.options;if(!this.layout||!(y||_))return;this.resolvedRelativeTargetAt=Ze.timestamp;const T=this.getClosestProjectingParent();T&&this.linkedParentVersion!==T.layoutVersion&&!T.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(T&&T.layout?this.createRelativeTarget(T,this.layout.layoutBox,T.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Be(),this.targetWithTransforms=Be()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),zM(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):hi(this.target,this.layout.layoutBox),nx(this.target,this.targetDelta)):hi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,T&&!!T.resumingFrom==!!this.resumingFrom&&!T.options.layoutScroll&&T.target&&this.animationProgress!==1?this.createRelativeTarget(T,this.target,T.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||kg(this.parent.latestValues)||ex(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,d,m){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Be(),this.relativeTargetOrigin=Be(),Nf(this.relativeTargetOrigin,d,m),hi(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const c=this.getLead(),d=!!this.resumingFrom||this!==c;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===Ze.timestamp&&(m=!1),m)return;const{layout:p,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||y))return;hi(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,T=this.treeScale.y;pM(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Be());const{target:C}=c;if(!C){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(uE(this.prevProjectionDelta.x,this.projectionDelta.x),uE(this.prevProjectionDelta.y,this.projectionDelta.y)),Iu(this.projectionDelta,this.layoutCorrected,C,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==T||!bE(this.projectionDelta.x,this.prevProjectionDelta.x)||!bE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",C))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Mo(),this.projectionDelta=Mo(),this.projectionDeltaWithTransform=Mo()}setAnimationOrigin(c,d=!1){const m=this.snapshot,p=m?m.latestValues:{},y={...this.latestValues},_=Mo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const T=Be(),C=m?m.source:void 0,D=this.layout?this.layout.source:void 0,O=C!==D,L=this.getStack(),F=!L||L.members.length<=1,H=!!(O&&!F&&this.options.crossfade===!0&&!this.path.some(mV));this.animationProgress=0;let $;this.mixTargetDelta=W=>{const J=W/1e3;CE(_.x,c.x,J),CE(_.y,c.y,J),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Nf(T,this.layout.layoutBox,this.relativeParent.layout.layoutBox),dV(this.relativeTarget,this.relativeTargetOrigin,T,J),$&&qM(this.relativeTarget,$)&&(this.isProjectionDirty=!1),$||($=Be()),hi($,this.relativeTarget)),O&&(this.animationValues=y,$M(y,p,this.latestValues,J,H,F)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=J},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Rr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=re.update(()=>{hf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ho(0)),this.currentAnimation=XM(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),c.onUpdate&&c.onUpdate(d)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(eV),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:m,layout:p,latestValues:y}=c;if(!(!d||!m||!p)){if(this!==c&&this.layout&&p&&bx(this.options.animationType,this.layout.layoutBox,p.layoutBox)){m=this.target||Be();const _=pn(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+_;const T=pn(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+T}hi(d,m),Oo(d,y),Iu(this.projectionDeltaWithTransform,this.layoutCorrected,d,y)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new tV),this.sharedNodes.get(c).add(d);const p=d.options.initialPromotionConfig;d.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:m}={}){const p=this.getStack();p&&p.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(d=!0),!d)return;const p={};m.z&&Fp("z",c,p,this.animationValues);for(let y=0;y<Bp.length;y++)Fp(`rotate${Bp[y]}`,c,p,this.animationValues),Fp(`skew${Bp[y]}`,c,p,this.animationValues);c.render();for(const y in p)c.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);c.scheduleRender()}applyProjectionStyles(c,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=cf(d?.pointerEvents)||"",c.transform=m?m(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=cf(d?.pointerEvents)||""),this.hasProjected&&!pa(this.latestValues)&&(c.transform=m?m({},""):"none",this.hasProjected=!1);return}c.visibility="";const y=p.animationValues||p.latestValues;this.applyTransformsToTarget();let _=GM(this.projectionDeltaWithTransform,this.treeScale,y);m&&(_=m(y,_)),c.transform=_;const{x:T,y:C}=this.projectionDelta;c.transformOrigin=`${T.origin*100}% ${C.origin*100}% 0`,p.animationValues?c.opacity=p===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:c.opacity=p===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const D in Vg){if(y[D]===void 0)continue;const{correct:O,applyTo:L,isCSSVariable:F}=Vg[D],H=_==="none"?y[D]:O(y[D],p);if(L){const $=L.length;for(let W=0;W<$;W++)c[L[W]]=H}else F?this.options.visualElement.renderState.vars[D]=H:c[D]=H}this.options.layoutId&&(c.pointerEvents=p===this?cf(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(SE),this.root.sharedNodes.clear()}}}function iV(e){e.updateLayout()}function sV(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=e.layout,{animationType:a}=e.options,l=t.source!==e.layout.source;a==="size"?Hi(y=>{const _=l?t.measuredBox[y]:t.layoutBox[y],T=pn(_);_.min=n[y].min,_.max=_.min+T}):bx(a,t.layoutBox,n)&&Hi(y=>{const _=l?t.measuredBox[y]:t.layoutBox[y],T=pn(n[y]);_.max=_.min+T,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[y].max=e.relativeTarget[y].min+T)});const c=Mo();Iu(c,n,t.layoutBox);const d=Mo();l?Iu(d,e.applyTransform(s,!0),t.measuredBox):Iu(d,n,t.layoutBox);const m=!mx(c);let p=!1;if(!e.resumeFrom){const y=e.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:_,layout:T}=y;if(_&&T){const C=Be();Nf(C,t.layoutBox,_.layoutBox);const D=Be();Nf(D,n,T.layoutBox),px(C,D)||(p=!0),y.options.layoutRoot&&(e.relativeTarget=D,e.relativeTargetOrigin=C,e.relativeParent=y)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:d,layoutDelta:c,hasLayoutChanged:m,hasRelativeLayoutChanged:p})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function rV(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function aV(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function oV(e){e.clearSnapshot()}function SE(e){e.clearMeasurements()}function xE(e){e.isLayoutDirty=!1}function lV(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function AE(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function uV(e){e.resolveTargetDelta()}function cV(e){e.calcProjection()}function hV(e){e.resetSkewAndRotation()}function fV(e){e.removeLeadSnapshot()}function CE(e,t,n){e.translate=me(t.translate,0,n),e.scale=me(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function RE(e,t,n,s){e.min=me(t.min,n.min,s),e.max=me(t.max,n.max,s)}function dV(e,t,n,s){RE(e.x,t.x,n.x,s),RE(e.y,t.y,n.y,s)}function mV(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const pV={duration:.45,ease:[.4,0,.1,1]},IE=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),NE=IE("applewebkit/")&&!IE("chrome/")?Math.round:Wn;function DE(e){e.min=NE(e.min),e.max=NE(e.max)}function gV(e){DE(e.x),DE(e.y)}function bx(e,t,n){return e==="position"||e==="preserve-aspect"&&!UM(_E(t),_E(n),.2)}function yV(e){return e!==e.root&&e.scroll?.wasRoot}const vV=_x({attachResizeListener:(e,t)=>Fu(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),Hp={current:void 0},Tx=_x({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Hp.current){const e=new vV({});e.mount(window),e.setOptions({layoutScroll:!0}),Hp.current=e}return Hp.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Qy=N.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function kE(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function _V(...e){return t=>{let n=!1;const s=e.map(a=>{const l=kE(a,t);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<s.length;a++){const l=s[a];typeof l=="function"?l():kE(e[a],null)}}}}function bV(...e){return N.useCallback(_V(...e),e)}class TV extends N.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const s=n.offsetParent,a=Ng(s)&&s.offsetWidth||0,l=Ng(s)&&s.offsetHeight||0,c=this.props.sizeRef.current;c.height=n.offsetHeight||0,c.width=n.offsetWidth||0,c.top=n.offsetTop,c.left=n.offsetLeft,c.right=a-c.width-c.left,c.bottom=l-c.height-c.top}return null}componentDidUpdate(){}render(){return this.props.children}}function EV({children:e,isPresent:t,anchorX:n,anchorY:s,root:a,pop:l}){const c=N.useId(),d=N.useRef(null),m=N.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:p}=N.useContext(Qy),y=e.props?.ref??e?.ref,_=bV(d,y);return N.useInsertionEffect(()=>{const{width:T,height:C,top:D,left:O,right:L,bottom:F}=m.current;if(t||l===!1||!d.current||!T||!C)return;const H=n==="left"?`left: ${O}`:`right: ${L}`,$=s==="bottom"?`bottom: ${F}`:`top: ${D}`;d.current.dataset.motionPopId=c;const W=document.createElement("style");p&&(W.nonce=p);const J=a??document.head;return J.appendChild(W),W.sheet&&W.sheet.insertRule(`
          [data-motion-pop-id="${c}"] {
            position: absolute !important;
            width: ${T}px !important;
            height: ${C}px !important;
            ${H}px !important;
            ${$}px !important;
          }
        `),()=>{J.contains(W)&&J.removeChild(W)}},[t]),w.jsx(TV,{isPresent:t,childRef:d,sizeRef:m,pop:l,children:l===!1?e:N.cloneElement(e,{ref:_})})}const wV=({children:e,initial:t,isPresent:n,onExitComplete:s,custom:a,presenceAffectsLayout:l,mode:c,anchorX:d,anchorY:m,root:p})=>{const y=Ty(SV),_=N.useId();let T=!0,C=N.useMemo(()=>(T=!1,{id:_,initial:t,isPresent:n,custom:a,onExitComplete:D=>{y.set(D,!0);for(const O of y.values())if(!O)return;s&&s()},register:D=>(y.set(D,!1),()=>y.delete(D))}),[n,y,s]);return l&&T&&(C={...C}),N.useMemo(()=>{y.forEach((D,O)=>y.set(O,!1))},[n]),N.useEffect(()=>{!n&&!y.size&&s&&s()},[n]),e=w.jsx(EV,{pop:c==="popLayout",isPresent:n,anchorX:d,anchorY:m,root:p,children:e}),w.jsx(ed.Provider,{value:C,children:e})};function SV(){return new Map}function Ex(e=!0){const t=N.useContext(ed);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=t,l=N.useId();N.useEffect(()=>{if(e)return a(l)},[e]);const c=N.useCallback(()=>e&&s&&s(l),[l,s,e]);return!n&&s?[!1,c]:[!0]}const $h=e=>e.key||"";function ME(e){const t=[];return N.Children.forEach(e,n=>{N.isValidElement(n)&&t.push(n)}),t}const wx=({children:e,custom:t,initial:n=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:l="sync",propagate:c=!1,anchorX:d="left",anchorY:m="top",root:p})=>{const[y,_]=Ex(c),T=N.useMemo(()=>ME(e),[e]),C=c&&!y?[]:T.map($h),D=N.useRef(!0),O=N.useRef(T),L=Ty(()=>new Map),F=N.useRef(new Set),[H,$]=N.useState(T),[W,J]=N.useState(T);Jw(()=>{D.current=!1,O.current=T;for(let x=0;x<W.length;x++){const I=$h(W[x]);C.includes(I)?(L.delete(I),F.current.delete(I)):L.get(I)!==!0&&L.set(I,!1)}},[W,C.length,C.join("-")]);const at=[];if(T!==H){let x=[...T];for(let I=0;I<W.length;I++){const V=W[I],P=$h(V);C.includes(P)||(x.splice(I,0,V),at.push(V))}return l==="wait"&&at.length&&(x=at),J(ME(x)),$(T),null}const{forceRender:R}=N.useContext(by);return w.jsx(w.Fragment,{children:W.map(x=>{const I=$h(x),V=c&&!y?!1:T===W||C.includes(I),P=()=>{if(F.current.has(I))return;if(F.current.add(I),L.has(I))L.set(I,!0);else return;let z=!0;L.forEach(k=>{k||(z=!1)}),z&&(R?.(),J(O.current),c&&_?.(),s&&s())};return w.jsx(wV,{isPresent:V,initial:!D.current||n?void 0:!1,custom:t,presenceAffectsLayout:a,mode:l,root:p,onExitComplete:V?void 0:P,anchorX:d,anchorY:m,children:x},I)})})},Sx=N.createContext({strict:!1}),VE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let OE=!1;function xV(){if(OE)return;const e={};for(const t in VE)e[t]={isEnabled:n=>VE[t].some(s=>!!n[s])};JS(e),OE=!0}function xx(){return xV(),hM()}function AV(e){const t=xx();for(const n in e)t[n]={...t[n],...e[n]};JS(t)}const CV=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function Df(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||CV.has(e)}let Ax=e=>!Df(e);function RV(e){typeof e=="function"&&(Ax=t=>t.startsWith("on")?!Df(t):e(t))}try{RV(require("@emotion/is-prop-valid").default)}catch{}function IV(e,t,n){const s={};for(const a in e)a==="values"&&typeof e.values=="object"||(Ax(a)||n===!0&&Df(a)||!t&&!Df(a)||e.draggable&&a.startsWith("onDrag"))&&(s[a]=e[a]);return s}const sd=N.createContext({});function NV(e,t){if(id(e)){const{initial:n,animate:s}=e;return{initial:n===!1||Bu(n)?n:void 0,animate:Bu(s)?s:void 0}}return e.inherit!==!1?t:{}}function DV(e){const{initial:t,animate:n}=NV(e,N.useContext(sd));return N.useMemo(()=>({initial:t,animate:n}),[PE(t),PE(n)])}function PE(e){return Array.isArray(e)?e.join(" "):e}const Xy=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Cx(e,t,n){for(const s in t)!un(t[s])&&!rx(s,n)&&(e[s]=t[s])}function kV({transformTemplate:e},t){return N.useMemo(()=>{const n=Xy();return $y(n,t,e),Object.assign({},n.vars,n.style)},[t])}function MV(e,t){const n=e.style||{},s={};return Cx(s,n,e),Object.assign(s,kV(e,t)),s}function VV(e,t){const n={},s=MV(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const Rx=()=>({...Xy(),attrs:{}});function OV(e,t,n,s){const a=N.useMemo(()=>{const l=Rx();return ax(l,t,lx(s),e.transformTemplate,e.style),{...l.attrs,style:{...l.style}}},[t]);if(e.style){const l={};Cx(l,e.style,e),a.style={...l,...a.style}}return a}const PV=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Wy(e){return typeof e!="string"||e.includes("-")?!1:!!(PV.indexOf(e)>-1||/[A-Z]/u.test(e))}function LV(e,t,n,{latestValues:s},a,l=!1,c){const m=(c??Wy(e)?OV:VV)(t,s,a,e),p=IV(t,typeof e=="string",l),y=e!==N.Fragment?{...p,...m,ref:n}:{},{children:_}=t,T=N.useMemo(()=>un(_)?_.get():_,[_]);return N.createElement(e,{...y,children:T})}function jV({scrapeMotionValuesFromProps:e,createRenderState:t},n,s,a){return{latestValues:UV(n,s,a,e),renderState:t()}}function UV(e,t,n,s){const a={},l=s(e,{});for(const T in l)a[T]=cf(l[T]);let{initial:c,animate:d}=e;const m=id(e),p=XS(e);t&&p&&!m&&e.inherit!==!1&&(c===void 0&&(c=t.initial),d===void 0&&(d=t.animate));let y=n?n.initial===!1:!1;y=y||c===!1;const _=y?d:c;if(_&&typeof _!="boolean"&&!nd(_)){const T=Array.isArray(_)?_:[_];for(let C=0;C<T.length;C++){const D=Uy(e,T[C]);if(D){const{transitionEnd:O,transition:L,...F}=D;for(const H in F){let $=F[H];if(Array.isArray($)){const W=y?$.length-1:0;$=$[W]}$!==null&&(a[H]=$)}for(const H in O)a[H]=O[H]}}}return a}const Ix=e=>(t,n)=>{const s=N.useContext(sd),a=N.useContext(ed),l=()=>jV(e,t,s,a);return n?l():Ty(l)},zV=Ix({scrapeMotionValuesFromProps:Yy,createRenderState:Xy}),BV=Ix({scrapeMotionValuesFromProps:ux,createRenderState:Rx}),FV=Symbol.for("motionComponentSymbol");function HV(e,t,n){const s=N.useRef(n);N.useInsertionEffect(()=>{s.current=n});const a=N.useRef(null);return N.useCallback(l=>{l&&e.onMount?.(l),t&&(l?t.mount(l):t.unmount());const c=s.current;if(typeof c=="function")if(l){const d=c(l);typeof d=="function"&&(a.current=d)}else a.current?(a.current(),a.current=null):c(l);else c&&(c.current=l)},[t])}const Nx=N.createContext({});function Ao(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function qV(e,t,n,s,a,l){const{visualElement:c}=N.useContext(sd),d=N.useContext(Sx),m=N.useContext(ed),p=N.useContext(Qy),y=p.reducedMotion,_=p.skipAnimations,T=N.useRef(null),C=N.useRef(!1);s=s||d.renderer,!T.current&&s&&(T.current=s(e,{visualState:t,parent:c,props:n,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:y,skipAnimations:_,isSVG:l}),C.current&&T.current&&(T.current.manuallyAnimateOnMount=!0));const D=T.current,O=N.useContext(Nx);D&&!D.projection&&a&&(D.type==="html"||D.type==="svg")&&GV(T.current,n,a,O);const L=N.useRef(!1);N.useInsertionEffect(()=>{D&&L.current&&D.update(n,m)});const F=n[LS],H=N.useRef(!!F&&!window.MotionHandoffIsComplete?.(F)&&window.MotionHasOptimisedAnimation?.(F));return Jw(()=>{C.current=!0,D&&(L.current=!0,window.MotionIsMounted=!0,D.updateFeatures(),D.scheduleRenderMicrotask(),H.current&&D.animationState&&D.animationState.animateChanges())}),N.useEffect(()=>{D&&(!H.current&&D.animationState&&D.animationState.animateChanges(),H.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(F)}),H.current=!1),D.enteringChildren=void 0)}),D}function GV(e,t,n,s){const{layoutId:a,layout:l,drag:c,dragConstraints:d,layoutScroll:m,layoutRoot:p,layoutCrossfade:y}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:Dx(e.parent)),e.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||d&&Ao(d),visualElement:e,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:y,layoutScroll:m,layoutRoot:p})}function Dx(e){if(e)return e.options.allowProjection!==!1?e.projection:Dx(e.parent)}function qp(e,{forwardMotionProps:t=!1,type:n}={},s,a){s&&AV(s);const l=n?n==="svg":Wy(e),c=l?BV:zV;function d(p,y){let _;const T={...N.useContext(Qy),...p,layoutId:KV(p)},{isStatic:C}=T,D=DV(p),O=c(p,C);if(!C&&Ww){$V();const L=YV(T);_=L.MeasureLayout,D.visualElement=qV(e,O,T,a,L.ProjectionNode,l)}return w.jsxs(sd.Provider,{value:D,children:[_&&D.visualElement?w.jsx(_,{visualElement:D.visualElement,...T}):null,LV(e,p,HV(O,D.visualElement,y),O,C,t,l)]})}d.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const m=N.forwardRef(d);return m[FV]=e,m}function KV({layoutId:e}){const t=N.useContext(by).id;return t&&e!==void 0?t+"-"+e:e}function $V(e,t){N.useContext(Sx).strict}function YV(e){const t=xx(),{drag:n,layout:s}=t;if(!n&&!s)return{};const a={...n,...s};return{MeasureLayout:n?.isEnabled(e)||s?.isEnabled(e)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function QV(e,t){if(typeof Proxy>"u")return qp;const n=new Map,s=(l,c)=>qp(l,c,e,t),a=(l,c)=>s(l,c);return new Proxy(a,{get:(l,c)=>c==="create"?s:(n.has(c)||n.set(c,qp(c,void 0,e,t)),n.get(c))})}const XV=(e,t)=>t.isSVG??Wy(e)?new RM(t):new EM(t,{allowProjection:e!==N.Fragment});class WV extends Pr{constructor(t){super(t),t.animationState||(t.animationState=MM(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();nd(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let JV=0;class ZV extends Pr{constructor(){super(...arguments),this.id=JV++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const a=this.node.animationState.setActive("exit",!t);n&&!t&&a.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const t4={animation:{Feature:WV},exit:{Feature:ZV}};function sc(e){return{point:{x:e.pageX,y:e.pageY}}}const e4=e=>t=>Hy(t)&&e(t,sc(t));function Nu(e,t,n,s){return Fu(e,t,e4(n),s)}const kx=({current:e})=>e?e.ownerDocument.defaultView:null,LE=(e,t)=>Math.abs(e-t);function n4(e,t){const n=LE(e.x,t.x),s=LE(e.y,t.y);return Math.sqrt(n**2+s**2)}const jE=new Set(["auto","scroll"]);class Mx{constructor(t,n,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3,element:d}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=C=>{this.handleScroll(C.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=Kp(this.lastMoveEventInfo,this.history),D=this.startEvent!==null,O=n4(C.offset,{x:0,y:0})>=this.distanceThreshold;if(!D&&!O)return;const{point:L}=C,{timestamp:F}=Ze;this.history.push({...L,timestamp:F});const{onStart:H,onMove:$}=this.handlers;D||(H&&H(this.lastMoveEvent,C),this.startEvent=this.lastMoveEvent),$&&$(this.lastMoveEvent,C)},this.handlePointerMove=(C,D)=>{this.lastMoveEvent=C,this.lastMoveEventInfo=Gp(D,this.transformPagePoint),re.update(this.updatePoint,!0)},this.handlePointerUp=(C,D)=>{this.end();const{onEnd:O,onSessionEnd:L,resumeAnimation:F}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&F&&F(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const H=Kp(C.type==="pointercancel"?this.lastMoveEventInfo:Gp(D,this.transformPagePoint),this.history);this.startEvent&&O&&O(C,H),L&&L(C,H)},!Hy(t))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=a||window;const m=sc(t),p=Gp(m,this.transformPagePoint),{point:y}=p,{timestamp:_}=Ze;this.history=[{...y,timestamp:_}];const{onSessionStart:T}=n;T&&T(t,Kp(p,this.history)),this.removeListeners=ec(Nu(this.contextWindow,"pointermove",this.handlePointerMove),Nu(this.contextWindow,"pointerup",this.handlePointerUp),Nu(this.contextWindow,"pointercancel",this.handlePointerUp)),d&&this.startScrollTracking(d)}startScrollTracking(t){let n=t.parentElement;for(;n;){const s=getComputedStyle(n);(jE.has(s.overflowX)||jE.has(s.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const n=this.scrollPositions.get(t);if(!n)return;const s=t===window,a=s?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},l={x:a.x-n.x,y:a.y-n.y};l.x===0&&l.y===0||(s?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=l.x,this.lastMoveEventInfo.point.y+=l.y):this.history.length>0&&(this.history[0].x-=l.x,this.history[0].y-=l.y),this.scrollPositions.set(t,a),re.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Rr(this.updatePoint)}}function Gp(e,t){return t?{point:t(e.point)}:e}function UE(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Kp({point:e},t){return{point:e,delta:UE(e,Vx(t)),offset:UE(e,i4(t)),velocity:s4(t,.1)}}function i4(e){return e[0]}function Vx(e){return e[e.length-1]}function s4(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const a=Vx(e);for(;n>=0&&(s=e[n],!(a.timestamp-s.timestamp>gi(t)));)n--;if(!s)return{x:0,y:0};s===e[0]&&e.length>2&&a.timestamp-s.timestamp>gi(t)*2&&(s=e[1]);const l=Xn(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function r4(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?me(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?me(n,e,s.max):Math.min(e,n)),e}function zE(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function a4(e,{top:t,left:n,bottom:s,right:a}){return{x:zE(e.x,n,a),y:zE(e.y,t,s)}}function BE(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function o4(e,t){return{x:BE(e.x,t.x),y:BE(e.y,t.y)}}function l4(e,t){let n=.5;const s=pn(e),a=pn(t);return a>s?n=ju(t.min,t.max-s,e.min):s>a&&(n=ju(e.min,e.max-a,t.min)),Ji(0,1,n)}function u4(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Og=.35;function c4(e=Og){return e===!1?e=0:e===!0&&(e=Og),{x:FE(e,"left","right"),y:FE(e,"top","bottom")}}function FE(e,t,n){return{min:HE(e,t),max:HE(e,n)}}function HE(e,t){return typeof e=="number"?e:e[t]||0}const h4=new WeakMap;class f4{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Be(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=_=>{n&&this.snapToCursor(sc(_).point),this.stopAnimation()},c=(_,T)=>{const{drag:C,dragPropagation:D,onDragStart:O}=this.getProps();if(C&&!D&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Bk(C),!this.openDragLock))return;this.latestPointerEvent=_,this.latestPanInfo=T,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Hi(F=>{let H=this.getAxisMotionValue(F).get()||0;if(Gi.test(H)){const{projection:$}=this.visualElement;if($&&$.layout){const W=$.layout.layoutBox[F];W&&(H=pn(W)*(parseFloat(H)/100))}}this.originPoint[F]=H}),O&&re.update(()=>O(_,T),!1,!0),Cg(this.visualElement,"transform");const{animationState:L}=this.visualElement;L&&L.setActive("whileDrag",!0)},d=(_,T)=>{this.latestPointerEvent=_,this.latestPanInfo=T;const{dragPropagation:C,dragDirectionLock:D,onDirectionLock:O,onDrag:L}=this.getProps();if(!C&&!this.openDragLock)return;const{offset:F}=T;if(D&&this.currentDirection===null){this.currentDirection=m4(F),this.currentDirection!==null&&O&&O(this.currentDirection);return}this.updateAxis("x",T.point,F),this.updateAxis("y",T.point,F),this.visualElement.render(),L&&re.update(()=>L(_,T),!1,!0)},m=(_,T)=>{this.latestPointerEvent=_,this.latestPanInfo=T,this.stop(_,T),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>{const{dragSnapToOrigin:_}=this.getProps();(_||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:y}=this.getProps();this.panSession=new Mx(t,{onSessionStart:l,onStart:c,onMove:d,onSessionEnd:m,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:s,contextWindow:kx(this.visualElement),element:this.visualElement.current})}stop(t,n){const s=t||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!s)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:d}=this.getProps();d&&re.postRender(()=>d(s,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(t,n,s){const{drag:a}=this.getProps();if(!s||!Yh(t,a,this.currentDirection))return;const l=this.getAxisMotionValue(t);let c=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(c=r4(c,this.constraints[t],this.elastic[t])),l.set(c)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;t&&Ao(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=a4(s.layoutBox,t):this.constraints=!1,this.elastic=c4(n),a!==this.constraints&&!Ao(t)&&s&&this.constraints&&!this.hasMutatedConstraints&&Hi(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=u4(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Ao(t))return!1;const s=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=gM(s,a.root,this.visualElement.getTransformPagePoint());let c=o4(a.layout.layoutBox,l);if(n){const d=n(dM(c));this.hasMutatedConstraints=!!d,d&&(c=tx(d))}return c}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),m=this.constraints||{},p=Hi(y=>{if(!Yh(y,n,this.currentDirection))return;let _=m&&m[y]||{};c&&(_={min:0,max:0});const T=a?200:1e6,C=a?40:1e7,D={type:"inertia",velocity:s?t[y]:0,bounceStiffness:T,bounceDamping:C,timeConstant:750,restDelta:1,restSpeed:10,...l,..._};return this.startAxisValueAnimation(y,D)});return Promise.all(p).then(d)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return Cg(this.visualElement,t),s.start(jy(t,s,0,n,this.visualElement,!1))}stopAnimation(){Hi(t=>this.getAxisMotionValue(t).stop())}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){Hi(n=>{const{drag:s}=this.getProps();if(!Yh(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:d}=a.layout.layoutBox[n],m=l.get()||0;l.set(t[n]-me(c,d,.5)+m)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Ao(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Hi(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const m=d.get();a[c]=l4({min:m,max:m},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.constraints=!1,this.resolveConstraints(),Hi(c=>{if(!Yh(c,t,null))return;const d=this.getAxisMotionValue(c),{min:m,max:p}=this.constraints[c];d.set(me(m,p,a[c]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;h4.set(this.visualElement,this);const t=this.visualElement.current,n=Nu(t,"pointerdown",p=>{const{drag:y,dragListener:_=!0}=this.getProps(),T=p.target,C=T!==t&&$k(T);y&&_&&!C&&this.start(p)});let s;const a=()=>{const{dragConstraints:p}=this.getProps();Ao(p)&&p.current&&(this.constraints=this.resolveRefConstraints(),s||(s=d4(t,p.current,()=>this.scalePositionWithinConstraints())))},{projection:l}=this.visualElement,c=l.addEventListener("measure",a);l&&!l.layout&&(l.root&&l.root.updateScroll(),l.updateLayout()),re.read(a);const d=Fu(window,"resize",()=>this.scalePositionWithinConstraints()),m=l.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:y})=>{this.isDragging&&y&&(Hi(_=>{const T=this.getAxisMotionValue(_);T&&(this.originPoint[_]+=p[_].translate,T.set(T.get()+p[_].translate))}),this.visualElement.render())}));return()=>{d(),n(),c(),m&&m(),s&&s()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=Og,dragMomentum:d=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:d}}}function qE(e){let t=!0;return()=>{if(t){t=!1;return}e()}}function d4(e,t,n){const s=WT(e,qE(n)),a=WT(t,qE(n));return()=>{s(),a()}}function Yh(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function m4(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class p4 extends Pr{constructor(t){super(t),this.removeGroupControls=Wn,this.removeListeners=Wn,this.controls=new f4(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Wn}update(){const{dragControls:t}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};t!==n&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const $p=e=>(t,n)=>{e&&re.update(()=>e(t,n),!1,!0)};class g4 extends Pr{constructor(){super(...arguments),this.removePointerDownListener=Wn}onPointerDown(t){this.session=new Mx(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:kx(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:$p(t),onStart:$p(n),onMove:$p(s),onEnd:(l,c)=>{delete this.session,a&&re.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=Nu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Yp=!1;class y4 extends N.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=t;l&&(n.group&&n.group.add(l),s&&s.register&&a&&s.register(l),Yp&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),hf.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:a,isPresent:l}=this.props,{projection:c}=s;return c&&(c.isPresent=l,t.layoutDependency!==n&&c.setOptions({...c.options,layoutDependency:n}),Yp=!0,a||t.layoutDependency!==n||n===void 0||t.isPresent!==l?c.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?c.promote():c.relegate()||re.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Fy.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=t;Yp=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Ox(e){const[t,n]=Ex(),s=N.useContext(by);return w.jsx(y4,{...e,layoutGroup:s,switchLayoutGroup:N.useContext(Nx),isPresent:t,safeToRemove:n})}const v4={pan:{Feature:g4},drag:{Feature:p4,ProjectionNode:Tx,MeasureLayout:Ox}};function GE(e,t,n){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=s[a];l&&re.postRender(()=>l(t,sc(t)))}class _4 extends Pr{mount(){const{current:t}=this.node;t&&(this.unmount=Hk(t,(n,s)=>(GE(this.node,s,"Start"),a=>GE(this.node,a,"End"))))}unmount(){}}class b4 extends Pr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ec(Fu(this.node.current,"focus",()=>this.onFocus()),Fu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function KE(e,t,n){const{props:s}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=s[a];l&&re.postRender(()=>l(t,sc(t)))}class T4 extends Pr{mount(){const{current:t}=this.node;if(!t)return;const{globalTapTarget:n,propagate:s}=this.node.props;this.unmount=Qk(t,(a,l)=>(KE(this.node,l,"Start"),(c,{success:d})=>KE(this.node,c,d?"End":"Cancel")),{useGlobalTarget:n,stopPropagation:s?.tap===!1})}unmount(){}}const Pg=new WeakMap,Qp=new WeakMap,E4=e=>{const t=Pg.get(e.target);t&&t(e)},w4=e=>{e.forEach(E4)};function S4({root:e,...t}){const n=e||document;Qp.has(n)||Qp.set(n,{});const s=Qp.get(n),a=JSON.stringify(t);return s[a]||(s[a]=new IntersectionObserver(w4,{root:e,...t})),s[a]}function x4(e,t,n){const s=S4(t);return Pg.set(e,n),s.observe(e),()=>{Pg.delete(e),s.unobserve(e)}}const A4={some:0,all:1};class C4 extends Pr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:l}=t,c={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:A4[a]},d=m=>{const{isIntersecting:p}=m;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:_}=this.node.getProps(),T=p?y:_;T&&T(m)};return x4(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(R4(t,n))&&this.startObserver()}unmount(){}}function R4({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const I4={inView:{Feature:C4},tap:{Feature:T4},focus:{Feature:b4},hover:{Feature:_4}},N4={layout:{ProjectionNode:Tx,MeasureLayout:Ox}},D4={...t4,...I4,...v4,...N4},Vt=QV(D4,XV),k4=()=>{};var $E={};const Px=function(e){const t=[];let n=0;for(let s=0;s<e.length;s++){let a=e.charCodeAt(s);a<128?t[n++]=a:a<2048?(t[n++]=a>>6|192,t[n++]=a&63|128):(a&64512)===55296&&s+1<e.length&&(e.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(e.charCodeAt(++s)&1023),t[n++]=a>>18|240,t[n++]=a>>12&63|128,t[n++]=a>>6&63|128,t[n++]=a&63|128):(t[n++]=a>>12|224,t[n++]=a>>6&63|128,t[n++]=a&63|128)}return t},M4=function(e){const t=[];let n=0,s=0;for(;n<e.length;){const a=e[n++];if(a<128)t[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=e[n++];t[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=e[n++],c=e[n++],d=e[n++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;t[s++]=String.fromCharCode(55296+(m>>10)),t[s++]=String.fromCharCode(56320+(m&1023))}else{const l=e[n++],c=e[n++];t[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return t.join("")},Lx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<e.length;a+=3){const l=e[a],c=a+1<e.length,d=c?e[a+1]:0,m=a+2<e.length,p=m?e[a+2]:0,y=l>>2,_=(l&3)<<4|d>>4;let T=(d&15)<<2|p>>6,C=p&63;m||(C=64,c||(T=64)),s.push(n[y],n[_],n[T],n[C])}return s.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Px(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):M4(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<e.length;){const l=n[e.charAt(a++)],d=a<e.length?n[e.charAt(a)]:0;++a;const p=a<e.length?n[e.charAt(a)]:64;++a;const _=a<e.length?n[e.charAt(a)]:64;if(++a,l==null||d==null||p==null||_==null)throw new V4;const T=l<<2|d>>4;if(s.push(T),p!==64){const C=d<<4&240|p>>2;if(s.push(C),_!==64){const D=p<<6&192|_;s.push(D)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class V4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const O4=function(e){const t=Px(e);return Lx.encodeByteArray(t,!0)},kf=function(e){return O4(e).replace(/\./g,"")},jx=function(e){try{return Lx.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function P4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const L4=()=>P4().__FIREBASE_DEFAULTS__,j4=()=>{if(typeof process>"u"||typeof $E>"u")return;const e=$E.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},U4=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&jx(e[1]);return t&&JSON.parse(t)},rd=()=>{try{return k4()||L4()||j4()||U4()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Ux=e=>rd()?.emulatorHosts?.[e],z4=e=>{const t=Ux(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},zx=()=>rd()?.config,Bx=e=>rd()?.[`_${e}`];class B4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}function sl(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Fx(e){return(await fetch(e,{credentials:"include"})).ok}function F4(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",a=e.iat||0,l=e.sub||e.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...e};return[kf(JSON.stringify(n)),kf(JSON.stringify(c)),""].join(".")}const Du={};function H4(){const e={prod:[],emulator:[]};for(const t of Object.keys(Du))Du[t]?e.emulator.push(t):e.prod.push(t);return e}function q4(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let YE=!1;function Hx(e,t){if(typeof window>"u"||typeof document>"u"||!sl(window.location.host)||Du[e]===t||Du[e]||YE)return;Du[e]=t;function n(T){return`__firebase__banner__${T}`}const s="__firebase__banner",l=H4().prod.length>0;function c(){const T=document.getElementById(s);T&&T.remove()}function d(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function m(T,C){T.setAttribute("width","24"),T.setAttribute("id",C),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function p(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{YE=!0,c()},T}function y(T,C){T.setAttribute("id",C),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function _(){const T=q4(s),C=n("text"),D=document.getElementById(C)||document.createElement("span"),O=n("learnmore"),L=document.getElementById(O)||document.createElement("a"),F=n("preprendIcon"),H=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const $=T.element;d($),y(L,O);const W=p();m(H,F),$.append(H,D,L,W),document.body.appendChild($)}l?(D.innerText="Preview backend disconnected.",H.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(H.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}function cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function G4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cn())}function K4(){const e=rd()?.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $4(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Y4(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function Q4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function X4(){const e=cn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function W4(){return!K4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function J4(){try{return typeof indexedDB=="object"}catch{return!1}}function Z4(){return new Promise((e,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),e(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{t(a.error?.message||"")}}catch(n){t(n)}})}const tO="FirebaseError";class Vs extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=tO,Object.setPrototypeOf(this,Vs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,rc.prototype.create)}}class rc{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},a=`${this.service}/${t}`,l=this.errors[t],c=l?eO(l,s):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new Vs(a,d,s)}}function eO(e,t){return e.replace(nO,(n,s)=>{const a=t[s];return a!=null?String(a):`<${s}?>`})}const nO=/\{\$([^}]+)}/g;function iO(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function xa(e,t){if(e===t)return!0;const n=Object.keys(e),s=Object.keys(t);for(const a of n){if(!s.includes(a))return!1;const l=e[a],c=t[a];if(QE(l)&&QE(c)){if(!xa(l,c))return!1}else if(l!==c)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function QE(e){return e!==null&&typeof e=="object"}function ac(e){const t=[];for(const[n,s]of Object.entries(e))Array.isArray(s)?s.forEach(a=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function sO(e,t){const n=new rO(e,t);return n.subscribe.bind(n)}class rO{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let a;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");aO(t,["next","error","complete"])?a=t:a={next:t,error:n,complete:s},a.next===void 0&&(a.next=Xp),a.error===void 0&&(a.error=Xp),a.complete===void 0&&(a.complete=Xp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function aO(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function Xp(){}function gn(e){return e&&e._delegate?e._delegate:e}class Aa{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const ga="[DEFAULT]";class oO{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new B4;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(uO(t))try{this.getOrInitializeService({instanceIdentifier:ga})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(t=ga){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ga){return this.instances.has(t)}getOptions(t=ga){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);s===d&&c.resolve(a)}return a}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(t),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&t(l,s),()=>{a.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:lO(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=ga){return this.component?this.component.multipleInstances?t:ga:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function lO(e){return e===ga?void 0:e}function uO(e){return e.instantiationMode==="EAGER"}class cO{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new oO(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var jt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(jt||(jt={}));const hO={debug:jt.DEBUG,verbose:jt.VERBOSE,info:jt.INFO,warn:jt.WARN,error:jt.ERROR,silent:jt.SILENT},fO=jt.INFO,dO={[jt.DEBUG]:"log",[jt.VERBOSE]:"log",[jt.INFO]:"info",[jt.WARN]:"warn",[jt.ERROR]:"error"},mO=(e,t,...n)=>{if(t<e.logLevel)return;const s=new Date().toISOString(),a=dO[t];if(a)console[a](`[${s}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Jy{constructor(t){this.name=t,this._logLevel=fO,this._logHandler=mO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in jt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?hO[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,jt.DEBUG,...t),this._logHandler(this,jt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,jt.VERBOSE,...t),this._logHandler(this,jt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,jt.INFO,...t),this._logHandler(this,jt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,jt.WARN,...t),this._logHandler(this,jt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,jt.ERROR,...t),this._logHandler(this,jt.ERROR,...t)}}const pO=(e,t)=>t.some(n=>e instanceof n);let XE,WE;function gO(){return XE||(XE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yO(){return WE||(WE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qx=new WeakMap,Lg=new WeakMap,Gx=new WeakMap,Wp=new WeakMap,Zy=new WeakMap;function vO(e){const t=new Promise((n,s)=>{const a=()=>{e.removeEventListener("success",l),e.removeEventListener("error",c)},l=()=>{n(Er(e.result)),a()},c=()=>{s(e.error),a()};e.addEventListener("success",l),e.addEventListener("error",c)});return t.then(n=>{n instanceof IDBCursor&&qx.set(n,e)}).catch(()=>{}),Zy.set(t,e),t}function _O(e){if(Lg.has(e))return;const t=new Promise((n,s)=>{const a=()=>{e.removeEventListener("complete",l),e.removeEventListener("error",c),e.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{s(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",l),e.addEventListener("error",c),e.addEventListener("abort",c)});Lg.set(e,t)}let jg={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Lg.get(e);if(t==="objectStoreNames")return e.objectStoreNames||Gx.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Er(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function bO(e){jg=e(jg)}function TO(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=e.call(Jp(this),t,...n);return Gx.set(s,t.sort?t.sort():[t]),Er(s)}:yO().includes(e)?function(...t){return e.apply(Jp(this),t),Er(qx.get(this))}:function(...t){return Er(e.apply(Jp(this),t))}}function EO(e){return typeof e=="function"?TO(e):(e instanceof IDBTransaction&&_O(e),pO(e,gO())?new Proxy(e,jg):e)}function Er(e){if(e instanceof IDBRequest)return vO(e);if(Wp.has(e))return Wp.get(e);const t=EO(e);return t!==e&&(Wp.set(e,t),Zy.set(t,e)),t}const Jp=e=>Zy.get(e);function wO(e,t,{blocked:n,upgrade:s,blocking:a,terminated:l}={}){const c=indexedDB.open(e,t),d=Er(c);return s&&c.addEventListener("upgradeneeded",m=>{s(Er(c.result),m.oldVersion,m.newVersion,Er(c.transaction),m)}),n&&c.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const SO=["get","getKey","getAll","getAllKeys","count"],xO=["put","add","delete","clear"],Zp=new Map;function JE(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Zp.get(t))return Zp.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,a=xO.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||SO.includes(n)))return;const l=async function(c,...d){const m=this.transaction(c,a?"readwrite":"readonly");let p=m.store;return s&&(p=p.index(d.shift())),(await Promise.all([p[n](...d),a&&m.done]))[0]};return Zp.set(t,l),l}bO(e=>({...e,get:(t,n,s)=>JE(t,n)||e.get(t,n,s),has:(t,n)=>!!JE(t,n)||e.has(t,n)}));class AO{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(CO(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function CO(e){return e.getComponent()?.type==="VERSION"}const Ug="@firebase/app",ZE="0.14.8";const Is=new Jy("@firebase/app"),RO="@firebase/app-compat",IO="@firebase/analytics-compat",NO="@firebase/analytics",DO="@firebase/app-check-compat",kO="@firebase/app-check",MO="@firebase/auth",VO="@firebase/auth-compat",OO="@firebase/database",PO="@firebase/data-connect",LO="@firebase/database-compat",jO="@firebase/functions",UO="@firebase/functions-compat",zO="@firebase/installations",BO="@firebase/installations-compat",FO="@firebase/messaging",HO="@firebase/messaging-compat",qO="@firebase/performance",GO="@firebase/performance-compat",KO="@firebase/remote-config",$O="@firebase/remote-config-compat",YO="@firebase/storage",QO="@firebase/storage-compat",XO="@firebase/firestore",WO="@firebase/ai",JO="@firebase/firestore-compat",ZO="firebase",tP="12.9.0";const zg="[DEFAULT]",eP={[Ug]:"fire-core",[RO]:"fire-core-compat",[NO]:"fire-analytics",[IO]:"fire-analytics-compat",[kO]:"fire-app-check",[DO]:"fire-app-check-compat",[MO]:"fire-auth",[VO]:"fire-auth-compat",[OO]:"fire-rtdb",[PO]:"fire-data-connect",[LO]:"fire-rtdb-compat",[jO]:"fire-fn",[UO]:"fire-fn-compat",[zO]:"fire-iid",[BO]:"fire-iid-compat",[FO]:"fire-fcm",[HO]:"fire-fcm-compat",[qO]:"fire-perf",[GO]:"fire-perf-compat",[KO]:"fire-rc",[$O]:"fire-rc-compat",[YO]:"fire-gcs",[QO]:"fire-gcs-compat",[XO]:"fire-fst",[JO]:"fire-fst-compat",[WO]:"fire-vertex","fire-js":"fire-js",[ZO]:"fire-js-all"};const Mf=new Map,nP=new Map,Bg=new Map;function t1(e,t){try{e.container.addComponent(t)}catch(n){Is.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function qo(e){const t=e.name;if(Bg.has(t))return Is.debug(`There were multiple attempts to register component ${t}.`),!1;Bg.set(t,e);for(const n of Mf.values())t1(n,e);for(const n of nP.values())t1(n,e);return!0}function t0(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function di(e){return e==null?!1:e.settings!==void 0}const iP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},wr=new rc("app","Firebase",iP);class sP{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Aa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw wr.create("app-deleted",{appName:this._name})}}const rl=tP;function Kx(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const s={name:zg,automaticDataCollectionEnabled:!0,...t},a=s.name;if(typeof a!="string"||!a)throw wr.create("bad-app-name",{appName:String(a)});if(n||(n=zx()),!n)throw wr.create("no-options");const l=Mf.get(a);if(l){if(xa(n,l.options)&&xa(s,l.config))return l;throw wr.create("duplicate-app",{appName:a})}const c=new cO(a);for(const m of Bg.values())c.addComponent(m);const d=new sP(n,s,c);return Mf.set(a,d),d}function $x(e=zg){const t=Mf.get(e);if(!t&&e===zg&&zx())return Kx();if(!t)throw wr.create("no-app",{appName:e});return t}function Sr(e,t,n){let s=eP[e]??e;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=t.match(/\s|\//);if(a||l){const c=[`Unable to register library "${s}" with version "${t}":`];a&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Is.warn(c.join(" "));return}qo(new Aa(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}const rP="firebase-heartbeat-database",aP=1,Hu="firebase-heartbeat-store";let tg=null;function Yx(){return tg||(tg=wO(rP,aP,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Hu)}catch(n){console.warn(n)}}}}).catch(e=>{throw wr.create("idb-open",{originalErrorMessage:e.message})})),tg}async function oP(e){try{const n=(await Yx()).transaction(Hu),s=await n.objectStore(Hu).get(Qx(e));return await n.done,s}catch(t){if(t instanceof Vs)Is.warn(t.message);else{const n=wr.create("idb-get",{originalErrorMessage:t?.message});Is.warn(n.message)}}}async function e1(e,t){try{const s=(await Yx()).transaction(Hu,"readwrite");await s.objectStore(Hu).put(t,Qx(e)),await s.done}catch(n){if(n instanceof Vs)Is.warn(n.message);else{const s=wr.create("idb-set",{originalErrorMessage:n?.message});Is.warn(s.message)}}}function Qx(e){return`${e.name}!${e.options.appId}`}const lP=1024,uP=30;class cP{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new fP(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=n1();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>uP){const a=dP(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Is.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=n1(),{heartbeatsToSend:n,unsentEntries:s}=hP(this._heartbeatsCache.heartbeats),a=kf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Is.warn(t),""}}}function n1(){return new Date().toISOString().substring(0,10)}function hP(e,t=lP){const n=[];let s=e.slice();for(const a of e){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),i1(n)>t){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),i1(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class fP{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return J4()?Z4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await oP(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return e1(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return e1(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function i1(e){return kf(JSON.stringify({version:2,heartbeats:e})).length}function dP(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let s=1;s<e.length;s++)e[s].date<n&&(n=e[s].date,t=s);return t}function mP(e){qo(new Aa("platform-logger",t=>new AO(t),"PRIVATE")),qo(new Aa("heartbeat",t=>new cP(t),"PRIVATE")),Sr(Ug,ZE,e),Sr(Ug,ZE,"esm2020"),Sr("fire-js","")}mP("");function Xx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const pP=Xx,Wx=new rc("auth","Firebase",Xx());const Vf=new Jy("@firebase/auth");function gP(e,...t){Vf.logLevel<=jt.WARN&&Vf.warn(`Auth (${rl}): ${e}`,...t)}function ff(e,...t){Vf.logLevel<=jt.ERROR&&Vf.error(`Auth (${rl}): ${e}`,...t)}function Zi(e,...t){throw n0(e,...t)}function yi(e,...t){return n0(e,...t)}function e0(e,t,n){const s={...pP(),[t]:n};return new rc("auth","Firebase",s).create(t,{appName:e.name})}function Ea(e){return e0(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function yP(e,t,n){const s=n;if(!(t instanceof s))throw s.name!==t.constructor.name&&Zi(e,"argument-error"),e0(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function n0(e,...t){if(typeof e!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=e.name),e._errorFactory.create(n,...s)}return Wx.create(e,...t)}function St(e,t,...n){if(!e)throw n0(t,...n)}function ws(e){const t="INTERNAL ASSERTION FAILED: "+e;throw ff(t),new Error(t)}function Ns(e,t){e||ws(t)}function Fg(){return typeof self<"u"&&self.location?.href||""}function vP(){return s1()==="http:"||s1()==="https:"}function s1(){return typeof self<"u"&&self.location?.protocol||null}function _P(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(vP()||Y4()||"connection"in navigator)?navigator.onLine:!0}function bP(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}class oc{constructor(t,n){this.shortDelay=t,this.longDelay=n,Ns(n>t,"Short delay should be less than long delay!"),this.isMobile=G4()||Q4()}get(){return _P()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function i0(e,t){Ns(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class Jx{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ws("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ws("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ws("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const TP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const EP=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],wP=new oc(3e4,6e4);function s0(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function al(e,t,n,s,a={}){return Zx(e,a,async()=>{let l={},c={};s&&(t==="GET"?c=s:l={body:JSON.stringify(s)});const d=ac({key:e.config.apiKey,...c}).slice(1),m=await e._getAdditionalHeaders();m["Content-Type"]="application/json",e.languageCode&&(m["X-Firebase-Locale"]=e.languageCode);const p={method:t,headers:m,...l};return $4()||(p.referrerPolicy="no-referrer"),e.emulatorConfig&&sl(e.emulatorConfig.host)&&(p.credentials="include"),Jx.fetch()(await tA(e,e.config.apiHost,n,d),p)})}async function Zx(e,t,n){e._canInitEmulator=!1;const s={...TP,...t};try{const a=new xP(e),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Qh(e,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[m,p]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Qh(e,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw Qh(e,"email-already-in-use",c);if(m==="USER_DISABLED")throw Qh(e,"user-disabled",c);const y=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw e0(e,y,p);Zi(e,y)}}catch(a){if(a instanceof Vs)throw a;Zi(e,"network-request-failed",{message:String(a)})}}async function SP(e,t,n,s,a={}){const l=await al(e,t,n,s,a);return"mfaPendingCredential"in l&&Zi(e,"multi-factor-auth-required",{_serverResponse:l}),l}async function tA(e,t,n,s){const a=`${t}${n}?${s}`,l=e,c=l.config.emulator?i0(e.config,a):`${e.config.apiScheme}://${a}`;return EP.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}class xP{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(yi(this.auth,"network-request-failed")),wP.get())})}}function Qh(e,t,n){const s={appName:e.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const a=yi(e,t,s);return a.customData._tokenResponse=n,a}async function AP(e,t){return al(e,"POST","/v1/accounts:delete",t)}async function Of(e,t){return al(e,"POST","/v1/accounts:lookup",t)}function ku(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function CP(e,t=!1){const n=gn(e),s=await n.getIdToken(t),a=r0(s);St(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:s,authTime:ku(eg(a.auth_time)),issuedAtTime:ku(eg(a.iat)),expirationTime:ku(eg(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function eg(e){return Number(e)*1e3}function r0(e){const[t,n,s]=e.split(".");if(t===void 0||n===void 0||s===void 0)return ff("JWT malformed, contained fewer than 3 sections"),null;try{const a=jx(n);return a?JSON.parse(a):(ff("Failed to decode base64 JWT payload"),null)}catch(a){return ff("Caught error parsing JWT payload as JSON",a?.toString()),null}}function r1(e){const t=r0(e);return St(t,"internal-error"),St(typeof t.exp<"u","internal-error"),St(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function qu(e,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof Vs&&RP(s)&&e.auth.currentUser===e&&await e.auth.signOut(),s}}function RP({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}class IP{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Hg{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ku(this.lastLoginAt),this.creationTime=ku(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Pf(e){const t=e.auth,n=await e.getIdToken(),s=await qu(e,Of(t,{idToken:n}));St(s?.users.length,t,"internal-error");const a=s.users[0];e._notifyReloadListener(a);const l=a.providerUserInfo?.length?eA(a.providerUserInfo):[],c=DP(e.providerData,l),d=e.isAnonymous,m=!(e.email&&a.passwordHash)&&!c?.length,p=d?m:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Hg(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(e,y)}async function NP(e){const t=gn(e);await Pf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function DP(e,t){return[...e.filter(s=>!t.some(a=>a.providerId===s.providerId)),...t]}function eA(e){return e.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function kP(e,t){const n=await Zx(e,{},async()=>{const s=ac({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:a,apiKey:l}=e.config,c=await tA(e,a,"/v1/token",`key=${l}`),d=await e._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:d,body:s};return e.emulatorConfig&&sl(e.emulatorConfig.host)&&(m.credentials="include"),Jx.fetch()(c,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function MP(e,t){return al(e,"POST","/v2/accounts:revokeToken",s0(e,t))}class jo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){St(t.idToken,"internal-error"),St(typeof t.idToken<"u","internal-error"),St(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):r1(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){St(t.length!==0,"internal-error");const n=r1(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(St(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:a,expiresIn:l}=await kP(t,n);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:a,expirationTime:l}=n,c=new jo;return s&&(St(typeof s=="string","internal-error",{appName:t}),c.refreshToken=s),a&&(St(typeof a=="string","internal-error",{appName:t}),c.accessToken=a),l&&(St(typeof l=="number","internal-error",{appName:t}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new jo,this.toJSON())}_performRefresh(){return ws("not implemented")}}function pr(e,t){St(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class mi{constructor({uid:t,auth:n,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new IP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Hg(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(t){const n=await qu(this,this.stsTokenManager.getToken(this.auth,t));return St(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return CP(this,t)}reload(){return NP(this)}_assign(t){this!==t&&(St(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new mi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){St(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await Pf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(di(this.auth.app))return Promise.reject(Ea(this.auth));const t=await this.getIdToken();return await qu(this,AP(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const s=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,d=n.tenantId??void 0,m=n._redirectEventId??void 0,p=n.createdAt??void 0,y=n.lastLoginAt??void 0,{uid:_,emailVerified:T,isAnonymous:C,providerData:D,stsTokenManager:O}=n;St(_&&O,t,"internal-error");const L=jo.fromJSON(this.name,O);St(typeof _=="string",t,"internal-error"),pr(s,t.name),pr(a,t.name),St(typeof T=="boolean",t,"internal-error"),St(typeof C=="boolean",t,"internal-error"),pr(l,t.name),pr(c,t.name),pr(d,t.name),pr(m,t.name),pr(p,t.name),pr(y,t.name);const F=new mi({uid:_,auth:t,email:a,emailVerified:T,displayName:s,isAnonymous:C,photoURL:c,phoneNumber:l,tenantId:d,stsTokenManager:L,createdAt:p,lastLoginAt:y});return D&&Array.isArray(D)&&(F.providerData=D.map(H=>({...H}))),m&&(F._redirectEventId=m),F}static async _fromIdTokenResponse(t,n,s=!1){const a=new jo;a.updateFromServerResponse(n);const l=new mi({uid:n.localId,auth:t,stsTokenManager:a,isAnonymous:s});return await Pf(l),l}static async _fromGetAccountInfoResponse(t,n,s){const a=n.users[0];St(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?eA(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,d=new jo;d.updateFromIdToken(s);const m=new mi({uid:a.localId,auth:t,stsTokenManager:d,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Hg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,p),m}}const a1=new Map;function Ss(e){Ns(e instanceof Function,"Expected a class definition");let t=a1.get(e);return t?(Ns(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,a1.set(e,t),t)}class nA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}nA.type="NONE";const o1=nA;function df(e,t,n){return`firebase:${e}:${t}:${n}`}class Uo{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=df(this.userKey,a.apiKey,l),this.fullPersistenceKey=df("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Of(this.auth,{idToken:t}).catch(()=>{});return n?mi._fromGetAccountInfoResponse(this.auth,n,t):null}return mi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new Uo(Ss(o1),t,s);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||Ss(o1);const c=df(s,t.config.apiKey,t.name);let d=null;for(const p of n)try{const y=await p._get(c);if(y){let _;if(typeof y=="string"){const T=await Of(t,{idToken:y}).catch(()=>{});if(!T)break;_=await mi._fromGetAccountInfoResponse(t,T,y)}else _=mi._fromJSON(t,y);p!==l&&(d=_),l=p;break}}catch{}const m=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new Uo(l,t,s):(l=m[0],d&&await l._set(c,d.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new Uo(l,t,s))}}function l1(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(aA(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(iA(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(lA(t))return"Blackberry";if(uA(t))return"Webos";if(sA(t))return"Safari";if((t.includes("chrome/")||rA(t))&&!t.includes("edge/"))return"Chrome";if(oA(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=e.match(n);if(s?.length===2)return s[1]}return"Other"}function iA(e=cn()){return/firefox\//i.test(e)}function sA(e=cn()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function rA(e=cn()){return/crios\//i.test(e)}function aA(e=cn()){return/iemobile/i.test(e)}function oA(e=cn()){return/android/i.test(e)}function lA(e=cn()){return/blackberry/i.test(e)}function uA(e=cn()){return/webos/i.test(e)}function a0(e=cn()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function VP(e=cn()){return a0(e)&&!!window.navigator?.standalone}function OP(){return X4()&&document.documentMode===10}function cA(e=cn()){return a0(e)||oA(e)||uA(e)||lA(e)||/windows phone/i.test(e)||aA(e)}function hA(e,t=[]){let n;switch(e){case"Browser":n=l1(cn());break;case"Worker":n=`${l1(cn())}-${e}`;break;default:n=e}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${rl}/${s}`}class PP{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=l=>new Promise((c,d)=>{try{const m=t(l);c(m)}catch(m){d(m)}});s.onAbort=n,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function LP(e,t={}){return al(e,"GET","/v2/passwordPolicy",s0(e,t))}const jP=6;class UP{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??jP,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),a&&(n.meetsMaxPasswordLength=t.length<=a)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let a=0;a<t.length;a++)s=t.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=l))}}class zP{constructor(t,n,s,a){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new u1(this),this.idTokenSubscription=new u1(this),this.beforeStateQueue=new PP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Wx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Ss(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Uo.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Of(this,{idToken:t}),s=await mi._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(di(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,a=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=s?._redirectEventId,d=await this.tryRedirectSignIn(t);(!l||l===c)&&d?.user&&(s=d.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return St(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Pf(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=bP()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(di(this.app))return Promise.reject(Ea(this));const n=t?gn(t):null;return n&&St(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&St(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return di(this.app)?Promise.reject(Ea(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return di(this.app)?Promise.reject(Ea(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ss(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await LP(this),n=new UP(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new rc("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await MP(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Ss(t)||this._popupRedirectResolver;St(n,this,"argument-error"),this.redirectPersistenceManager=await Uo.create(this,[Ss(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(St(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const m=t.addObserver(n,s,a);return()=>{c=!0,m()}}else{const m=t.addObserver(n);return()=>{c=!0,m()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return St(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=hA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(di(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&gP(`Error while retrieving App Check token: ${t.error}`),t?.token}}function ad(e){return gn(e)}class u1{constructor(t){this.auth=t,this.observer=null,this.addObserver=sO(n=>this.observer=n)}get next(){return St(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let o0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function BP(e){o0=e}function FP(e){return o0.loadJS(e)}function HP(){return o0.gapiScript}function qP(e){return`__${e}${Math.floor(Math.random()*1e6)}`}function GP(e,t){const n=t0(e,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(xa(l,t??{}))return a;Zi(a,"already-initialized")}return n.initialize({options:t})}function KP(e,t){const n=t?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Ss);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(s,t?.popupRedirectResolver)}function $P(e,t,n){const s=ad(e);St(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const a=!1,l=fA(t),{host:c,port:d}=YP(t),m=d===null?"":`:${d}`,p={url:`${l}//${c}${m}/`},y=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){St(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),St(xa(p,s.config.emulator)&&xa(y,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=y,s.settings.appVerificationDisabledForTesting=!0,sl(c)?(Fx(`${l}//${c}${m}`),Hx("Auth",!0)):QP()}function fA(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function YP(e){const t=fA(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:c1(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:c1(c)}}}function c1(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function QP(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}class dA{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return ws("not implemented")}_getIdTokenResponse(t){return ws("not implemented")}_linkToIdToken(t,n){return ws("not implemented")}_getReauthenticationResolver(t){return ws("not implemented")}}async function zo(e,t){return SP(e,"POST","/v1/accounts:signInWithIdp",s0(e,t))}const XP="http://localhost";class Ca extends dA{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Ca(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Zi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:a,...l}=n;if(!s||!a)return null;const c=new Ca(s,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(t){const n=this.buildRequest();return zo(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,zo(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,zo(t,n)}buildRequest(){const t={requestUri:XP,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=ac(n)}return t}}class l0{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class lc extends l0{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class yr extends lc{constructor(){super("facebook.com")}static credential(t){return Ca._fromParams({providerId:yr.PROVIDER_ID,signInMethod:yr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return yr.credentialFromTaggedObject(t)}static credentialFromError(t){return yr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return yr.credential(t.oauthAccessToken)}catch{return null}}}yr.FACEBOOK_SIGN_IN_METHOD="facebook.com";yr.PROVIDER_ID="facebook.com";class Es extends lc{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Ca._fromParams({providerId:Es.PROVIDER_ID,signInMethod:Es.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Es.credentialFromTaggedObject(t)}static credentialFromError(t){return Es.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return Es.credential(n,s)}catch{return null}}}Es.GOOGLE_SIGN_IN_METHOD="google.com";Es.PROVIDER_ID="google.com";class vr extends lc{constructor(){super("github.com")}static credential(t){return Ca._fromParams({providerId:vr.PROVIDER_ID,signInMethod:vr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return vr.credentialFromTaggedObject(t)}static credentialFromError(t){return vr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return vr.credential(t.oauthAccessToken)}catch{return null}}}vr.GITHUB_SIGN_IN_METHOD="github.com";vr.PROVIDER_ID="github.com";class _r extends lc{constructor(){super("twitter.com")}static credential(t,n){return Ca._fromParams({providerId:_r.PROVIDER_ID,signInMethod:_r.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return _r.credentialFromTaggedObject(t)}static credentialFromError(t){return _r.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return _r.credential(n,s)}catch{return null}}}_r.TWITTER_SIGN_IN_METHOD="twitter.com";_r.PROVIDER_ID="twitter.com";class Go{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,a=!1){const l=await mi._fromIdTokenResponse(t,s,a),c=h1(s);return new Go({user:l,providerId:c,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const a=h1(s);return new Go({user:t,providerId:a,_tokenResponse:s,operationType:n})}}function h1(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Lf extends Vs{constructor(t,n,s,a){super(n.code,n.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,Lf.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,a){return new Lf(t,n,s,a)}}function mA(e,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Lf._fromErrorAndOperation(e,l,t,s):l})}async function WP(e,t,n=!1){const s=await qu(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Go._forOperation(e,"link",s)}async function JP(e,t,n=!1){const{auth:s}=e;if(di(s.app))return Promise.reject(Ea(s));const a="reauthenticate";try{const l=await qu(e,mA(s,a,t,e),n);St(l.idToken,s,"internal-error");const c=r0(l.idToken);St(c,s,"internal-error");const{sub:d}=c;return St(e.uid===d,s,"user-mismatch"),Go._forOperation(e,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&Zi(s,"user-mismatch"),l}}async function ZP(e,t,n=!1){if(di(e.app))return Promise.reject(Ea(e));const s="signIn",a=await mA(e,s,t),l=await Go._fromIdTokenResponse(e,s,a);return n||await e._updateCurrentUser(l.user),l}function t3(e,t,n,s){return gn(e).onIdTokenChanged(t,n,s)}function e3(e,t,n){return gn(e).beforeAuthStateChanged(t,n)}function n3(e,t,n,s){return gn(e).onAuthStateChanged(t,n,s)}function i3(e){return gn(e).signOut()}const jf="__sak";class pA{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(jf,"1"),this.storage.removeItem(jf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const s3=1e3,r3=10;class gA extends pA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=cA(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),a=this.localCache[n];s!==a&&t(n,a,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((c,d,m)=>{this.notifyListeners(c,m)});return}const s=t.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(s);!n&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);OP()&&l!==t.newValue&&t.newValue!==t.oldValue?setTimeout(a,r3):a()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const a of Array.from(s))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},s3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}gA.type="LOCAL";const a3=gA;class yA extends pA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}yA.type="SESSION";const vA=yA;function o3(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}class od{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(a=>a.isListeningto(t));if(n)return n;const s=new od(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const d=Array.from(c).map(async p=>p(n.origin,l)),m=await o3(d);n.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:m})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}od.receivers=[];function u0(e="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return e+n}class l3{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,m)=>{const p=u0("",20);a.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},s);c={messageChannel:a,onMessage(_){const T=_;if(T.data.eventId===p)switch(T.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(T.data.response);break;default:clearTimeout(y),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:p,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function Ki(){return window}function u3(e){Ki().location.href=e}function _A(){return typeof Ki().WorkerGlobalScope<"u"&&typeof Ki().importScripts=="function"}async function c3(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function h3(){return navigator?.serviceWorker?.controller||null}function f3(){return _A()?self:null}const bA="firebaseLocalStorageDb",d3=1,Uf="firebaseLocalStorage",TA="fbase_key";class uc{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ld(e,t){return e.transaction([Uf],t?"readwrite":"readonly").objectStore(Uf)}function m3(){const e=indexedDB.deleteDatabase(bA);return new uc(e).toPromise()}function qg(){const e=indexedDB.open(bA,d3);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const s=e.result;try{s.createObjectStore(Uf,{keyPath:TA})}catch(a){n(a)}}),e.addEventListener("success",async()=>{const s=e.result;s.objectStoreNames.contains(Uf)?t(s):(s.close(),await m3(),t(await qg()))})})}async function f1(e,t,n){const s=ld(e,!0).put({[TA]:t,value:n});return new uc(s).toPromise()}async function p3(e,t){const n=ld(e,!1).get(t),s=await new uc(n).toPromise();return s===void 0?null:s.value}function d1(e,t){const n=ld(e,!0).delete(t);return new uc(n).toPromise()}const g3=800,y3=3;class EA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await qg(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>y3)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _A()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=od._getInstance(f3()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await c3(),!this.activeServiceWorker)return;this.sender=new l3(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||h3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await qg();return await f1(t,jf,"1"),await d1(t,jf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>f1(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>p3(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>d1(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(a=>{const l=ld(a,!1).getAll();return new uc(l).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:a,value:l}of t)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const a of Array.from(s))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),g3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}EA.type="LOCAL";const v3=EA;new oc(3e4,6e4);function wA(e,t){return t?Ss(t):(St(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}class c0 extends dA{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return zo(t,this._buildIdpRequest())}_linkToIdToken(t,n){return zo(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return zo(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function _3(e){return ZP(e.auth,new c0(e),e.bypassAuthState)}function b3(e){const{auth:t,user:n}=e;return St(n,t,"internal-error"),JP(n,new c0(e),e.bypassAuthState)}async function T3(e){const{auth:t,user:n}=e;return St(n,t,"internal-error"),WP(n,new c0(e),e.bypassAuthState)}class SA{constructor(t,n,s,a,l=!1){this.auth=t,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:a,tenantId:l,error:c,type:d}=t;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(p){this.reject(p)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return _3;case"linkViaPopup":case"linkViaRedirect":return T3;case"reauthViaPopup":case"reauthViaRedirect":return b3;default:Zi(this.auth,"internal-error")}}resolve(t){Ns(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Ns(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const E3=new oc(2e3,1e4);async function w3(e,t,n){if(di(e.app))return Promise.reject(yi(e,"operation-not-supported-in-this-environment"));const s=ad(e);yP(e,t,l0);const a=wA(s,n);return new _a(s,"signInViaPopup",t,a).executeNotNull()}class _a extends SA{constructor(t,n,s,a,l){super(t,n,a,l),this.provider=s,this.authWindow=null,this.pollId=null,_a.currentPopupAction&&_a.currentPopupAction.cancel(),_a.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return St(t,this.auth,"internal-error"),t}async onExecution(){Ns(this.filter.length===1,"Popup operations only handle one event");const t=u0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(yi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(yi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_a.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,E3.get())};t()}}_a.currentPopupAction=null;const S3="pendingRedirect",mf=new Map;class x3 extends SA{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=mf.get(this.auth._key());if(!t){try{const s=await A3(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}mf.set(this.auth._key(),t)}return this.bypassAuthState||mf.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function A3(e,t){const n=I3(t),s=R3(e);if(!await s._isAvailable())return!1;const a=await s._get(n)==="true";return await s._remove(n),a}function C3(e,t){mf.set(e._key(),t)}function R3(e){return Ss(e._redirectPersistence)}function I3(e){return df(S3,e.config.apiKey,e.name)}async function N3(e,t,n=!1){if(di(e.app))return Promise.reject(Ea(e));const s=ad(e),a=wA(s,t),c=await new x3(s,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,t)),c}const D3=600*1e3;class k3{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!M3(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!xA(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";n.onError(yi(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=D3&&this.cachedEventUids.clear(),this.cachedEventUids.has(m1(t))}saveEventToCache(t){this.cachedEventUids.add(m1(t)),this.lastProcessedEventTime=Date.now()}}function m1(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function xA({type:e,error:t}){return e==="unknown"&&t?.code==="auth/no-auth-event"}function M3(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xA(e);default:return!1}}async function V3(e,t={}){return al(e,"GET","/v1/projects",t)}const O3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,P3=/^https?/;async function L3(e){if(e.config.emulator)return;const{authorizedDomains:t}=await V3(e);for(const n of t)try{if(j3(n))return}catch{}Zi(e,"unauthorized-domain")}function j3(e){const t=Fg(),{protocol:n,hostname:s}=new URL(t);if(e.startsWith("chrome-extension://")){const c=new URL(e);return c.hostname===""&&s===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===s}if(!P3.test(n))return!1;if(O3.test(e))return s===e;const a=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}const U3=new oc(3e4,6e4);function p1(){const e=Ki().___jsl;if(e?.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function z3(e){return new Promise((t,n)=>{function s(){p1(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{p1(),n(yi(e,"network-request-failed"))},timeout:U3.get()})}if(Ki().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ki().gapi?.load)s();else{const a=qP("iframefcb");return Ki()[a]=()=>{gapi.load?s():n(yi(e,"network-request-failed"))},FP(`${HP()}?onload=${a}`).catch(l=>n(l))}}).catch(t=>{throw pf=null,t})}let pf=null;function B3(e){return pf=pf||z3(e),pf}const F3=new oc(5e3,15e3),H3="__/auth/iframe",q3="emulator/auth/iframe",G3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},K3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $3(e){const t=e.config;St(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?i0(t,q3):`https://${e.config.authDomain}/${H3}`,s={apiKey:t.apiKey,appName:e.name,v:rl},a=K3.get(e.config.apiHost);a&&(s.eid=a);const l=e._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${ac(s).slice(1)}`}async function Y3(e){const t=await B3(e),n=Ki().gapi;return St(n,e,"internal-error"),t.open({where:document.body,url:$3(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:G3,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const c=yi(e,"network-request-failed"),d=Ki().setTimeout(()=>{l(c)},F3.get());function m(){Ki().clearTimeout(d),a(s)}s.ping(m).then(m,()=>{l(c)})}))}const Q3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},X3=500,W3=600,J3="_blank",Z3="http://localhost";class g1{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function t6(e,t,n,s=X3,a=W3){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const m={...Q3,width:s.toString(),height:a.toString(),top:l,left:c},p=cn().toLowerCase();n&&(d=rA(p)?J3:n),iA(p)&&(t=t||Z3,m.scrollbars="yes");const y=Object.entries(m).reduce((T,[C,D])=>`${T}${C}=${D},`,"");if(VP(p)&&d!=="_self")return e6(t||"",d),new g1(null);const _=window.open(t||"",d,y);St(_,e,"popup-blocked");try{_.focus()}catch{}return new g1(_)}function e6(e,t){const n=document.createElement("a");n.href=e,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const n6="__/auth/handler",i6="emulator/auth/handler",s6=encodeURIComponent("fac");async function y1(e,t,n,s,a,l){St(e.config.authDomain,e,"auth-domain-config-required"),St(e.config.apiKey,e,"invalid-api-key");const c={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:s,v:rl,eventId:a};if(t instanceof l0){t.setDefaultLanguage(e.languageCode),c.providerId=t.providerId||"",iO(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[y,_]of Object.entries({}))c[y]=_}if(t instanceof lc){const y=t.getScopes().filter(_=>_!=="");y.length>0&&(c.scopes=y.join(","))}e.tenantId&&(c.tid=e.tenantId);const d=c;for(const y of Object.keys(d))d[y]===void 0&&delete d[y];const m=await e._getAppCheckToken(),p=m?`#${s6}=${encodeURIComponent(m)}`:"";return`${r6(e)}?${ac(d).slice(1)}${p}`}function r6({config:e}){return e.emulator?i0(e,i6):`https://${e.authDomain}/${n6}`}const ng="webStorageSupport";class a6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vA,this._completeRedirectFn=N3,this._overrideRedirectResult=C3}async _openPopup(t,n,s,a){Ns(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const l=await y1(t,n,s,Fg(),a);return t6(t,l,u0())}async _openRedirect(t,n,s,a){await this._originValidation(t);const l=await y1(t,n,s,Fg(),a);return u3(l),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Ns(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await Y3(t),s=new k3(t);return n.register("authEvent",a=>(St(a?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(ng,{type:ng},a=>{const l=a?.[0]?.[ng];l!==void 0&&n(!!l),Zi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=L3(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return cA()||sA()||a0()}}const o6=a6;var v1="@firebase/auth",_1="1.12.0";class l6{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){St(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function u6(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function c6(e){qo(new Aa("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),l=t.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=s.options;St(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:c,authDomain:d,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hA(e)},p=new zP(s,a,l,m);return KP(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),qo(new Aa("auth-internal",t=>{const n=ad(t.getProvider("auth").getImmediate());return(s=>new l6(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Sr(v1,_1,u6(e)),Sr(v1,_1,"esm2020")}const h6=300,f6=Bx("authIdTokenMaxAge")||h6;let b1=null;const d6=e=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>f6)return;const a=n?.token;b1!==a&&(b1=a,await fetch(e,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function m6(e=$x()){const t=t0(e,"auth");if(t.isInitialized())return t.getImmediate();const n=GP(e,{popupRedirectResolver:o6,persistence:[v3,a3,vA]}),s=Bx("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const c=d6(l.toString());e3(n,c,()=>c(n.currentUser)),t3(n,d=>c(d))}}const a=Ux("auth");return a&&$P(n,`http://${a}`),n}function p6(){return document.getElementsByTagName("head")?.[0]??document}BP({loadJS(e){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",e),s.onload=t,s.onerror=a=>{const l=yi("internal-error");l.customData=a,n(l)},s.type="text/javascript",s.charset="UTF-8",p6().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});c6("Browser");var g6="firebase",y6="12.9.0";Sr(g6,y6,"app");var T1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var xr,AA;(function(){var e;function t(R,x){function I(){}I.prototype=x.prototype,R.F=x.prototype,R.prototype=new I,R.prototype.constructor=R,R.D=function(V,P,z){for(var k=Array(arguments.length-2),Qt=2;Qt<arguments.length;Qt++)k[Qt-2]=arguments[Qt];return x.prototype[P].apply(V,k)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(R,x,I){I||(I=0);const V=Array(16);if(typeof x=="string")for(var P=0;P<16;++P)V[P]=x.charCodeAt(I++)|x.charCodeAt(I++)<<8|x.charCodeAt(I++)<<16|x.charCodeAt(I++)<<24;else for(P=0;P<16;++P)V[P]=x[I++]|x[I++]<<8|x[I++]<<16|x[I++]<<24;x=R.g[0],I=R.g[1],P=R.g[2];let z=R.g[3],k;k=x+(z^I&(P^z))+V[0]+3614090360&4294967295,x=I+(k<<7&4294967295|k>>>25),k=z+(P^x&(I^P))+V[1]+3905402710&4294967295,z=x+(k<<12&4294967295|k>>>20),k=P+(I^z&(x^I))+V[2]+606105819&4294967295,P=z+(k<<17&4294967295|k>>>15),k=I+(x^P&(z^x))+V[3]+3250441966&4294967295,I=P+(k<<22&4294967295|k>>>10),k=x+(z^I&(P^z))+V[4]+4118548399&4294967295,x=I+(k<<7&4294967295|k>>>25),k=z+(P^x&(I^P))+V[5]+1200080426&4294967295,z=x+(k<<12&4294967295|k>>>20),k=P+(I^z&(x^I))+V[6]+2821735955&4294967295,P=z+(k<<17&4294967295|k>>>15),k=I+(x^P&(z^x))+V[7]+4249261313&4294967295,I=P+(k<<22&4294967295|k>>>10),k=x+(z^I&(P^z))+V[8]+1770035416&4294967295,x=I+(k<<7&4294967295|k>>>25),k=z+(P^x&(I^P))+V[9]+2336552879&4294967295,z=x+(k<<12&4294967295|k>>>20),k=P+(I^z&(x^I))+V[10]+4294925233&4294967295,P=z+(k<<17&4294967295|k>>>15),k=I+(x^P&(z^x))+V[11]+2304563134&4294967295,I=P+(k<<22&4294967295|k>>>10),k=x+(z^I&(P^z))+V[12]+1804603682&4294967295,x=I+(k<<7&4294967295|k>>>25),k=z+(P^x&(I^P))+V[13]+4254626195&4294967295,z=x+(k<<12&4294967295|k>>>20),k=P+(I^z&(x^I))+V[14]+2792965006&4294967295,P=z+(k<<17&4294967295|k>>>15),k=I+(x^P&(z^x))+V[15]+1236535329&4294967295,I=P+(k<<22&4294967295|k>>>10),k=x+(P^z&(I^P))+V[1]+4129170786&4294967295,x=I+(k<<5&4294967295|k>>>27),k=z+(I^P&(x^I))+V[6]+3225465664&4294967295,z=x+(k<<9&4294967295|k>>>23),k=P+(x^I&(z^x))+V[11]+643717713&4294967295,P=z+(k<<14&4294967295|k>>>18),k=I+(z^x&(P^z))+V[0]+3921069994&4294967295,I=P+(k<<20&4294967295|k>>>12),k=x+(P^z&(I^P))+V[5]+3593408605&4294967295,x=I+(k<<5&4294967295|k>>>27),k=z+(I^P&(x^I))+V[10]+38016083&4294967295,z=x+(k<<9&4294967295|k>>>23),k=P+(x^I&(z^x))+V[15]+3634488961&4294967295,P=z+(k<<14&4294967295|k>>>18),k=I+(z^x&(P^z))+V[4]+3889429448&4294967295,I=P+(k<<20&4294967295|k>>>12),k=x+(P^z&(I^P))+V[9]+568446438&4294967295,x=I+(k<<5&4294967295|k>>>27),k=z+(I^P&(x^I))+V[14]+3275163606&4294967295,z=x+(k<<9&4294967295|k>>>23),k=P+(x^I&(z^x))+V[3]+4107603335&4294967295,P=z+(k<<14&4294967295|k>>>18),k=I+(z^x&(P^z))+V[8]+1163531501&4294967295,I=P+(k<<20&4294967295|k>>>12),k=x+(P^z&(I^P))+V[13]+2850285829&4294967295,x=I+(k<<5&4294967295|k>>>27),k=z+(I^P&(x^I))+V[2]+4243563512&4294967295,z=x+(k<<9&4294967295|k>>>23),k=P+(x^I&(z^x))+V[7]+1735328473&4294967295,P=z+(k<<14&4294967295|k>>>18),k=I+(z^x&(P^z))+V[12]+2368359562&4294967295,I=P+(k<<20&4294967295|k>>>12),k=x+(I^P^z)+V[5]+4294588738&4294967295,x=I+(k<<4&4294967295|k>>>28),k=z+(x^I^P)+V[8]+2272392833&4294967295,z=x+(k<<11&4294967295|k>>>21),k=P+(z^x^I)+V[11]+1839030562&4294967295,P=z+(k<<16&4294967295|k>>>16),k=I+(P^z^x)+V[14]+4259657740&4294967295,I=P+(k<<23&4294967295|k>>>9),k=x+(I^P^z)+V[1]+2763975236&4294967295,x=I+(k<<4&4294967295|k>>>28),k=z+(x^I^P)+V[4]+1272893353&4294967295,z=x+(k<<11&4294967295|k>>>21),k=P+(z^x^I)+V[7]+4139469664&4294967295,P=z+(k<<16&4294967295|k>>>16),k=I+(P^z^x)+V[10]+3200236656&4294967295,I=P+(k<<23&4294967295|k>>>9),k=x+(I^P^z)+V[13]+681279174&4294967295,x=I+(k<<4&4294967295|k>>>28),k=z+(x^I^P)+V[0]+3936430074&4294967295,z=x+(k<<11&4294967295|k>>>21),k=P+(z^x^I)+V[3]+3572445317&4294967295,P=z+(k<<16&4294967295|k>>>16),k=I+(P^z^x)+V[6]+76029189&4294967295,I=P+(k<<23&4294967295|k>>>9),k=x+(I^P^z)+V[9]+3654602809&4294967295,x=I+(k<<4&4294967295|k>>>28),k=z+(x^I^P)+V[12]+3873151461&4294967295,z=x+(k<<11&4294967295|k>>>21),k=P+(z^x^I)+V[15]+530742520&4294967295,P=z+(k<<16&4294967295|k>>>16),k=I+(P^z^x)+V[2]+3299628645&4294967295,I=P+(k<<23&4294967295|k>>>9),k=x+(P^(I|~z))+V[0]+4096336452&4294967295,x=I+(k<<6&4294967295|k>>>26),k=z+(I^(x|~P))+V[7]+1126891415&4294967295,z=x+(k<<10&4294967295|k>>>22),k=P+(x^(z|~I))+V[14]+2878612391&4294967295,P=z+(k<<15&4294967295|k>>>17),k=I+(z^(P|~x))+V[5]+4237533241&4294967295,I=P+(k<<21&4294967295|k>>>11),k=x+(P^(I|~z))+V[12]+1700485571&4294967295,x=I+(k<<6&4294967295|k>>>26),k=z+(I^(x|~P))+V[3]+2399980690&4294967295,z=x+(k<<10&4294967295|k>>>22),k=P+(x^(z|~I))+V[10]+4293915773&4294967295,P=z+(k<<15&4294967295|k>>>17),k=I+(z^(P|~x))+V[1]+2240044497&4294967295,I=P+(k<<21&4294967295|k>>>11),k=x+(P^(I|~z))+V[8]+1873313359&4294967295,x=I+(k<<6&4294967295|k>>>26),k=z+(I^(x|~P))+V[15]+4264355552&4294967295,z=x+(k<<10&4294967295|k>>>22),k=P+(x^(z|~I))+V[6]+2734768916&4294967295,P=z+(k<<15&4294967295|k>>>17),k=I+(z^(P|~x))+V[13]+1309151649&4294967295,I=P+(k<<21&4294967295|k>>>11),k=x+(P^(I|~z))+V[4]+4149444226&4294967295,x=I+(k<<6&4294967295|k>>>26),k=z+(I^(x|~P))+V[11]+3174756917&4294967295,z=x+(k<<10&4294967295|k>>>22),k=P+(x^(z|~I))+V[2]+718787259&4294967295,P=z+(k<<15&4294967295|k>>>17),k=I+(z^(P|~x))+V[9]+3951481745&4294967295,R.g[0]=R.g[0]+x&4294967295,R.g[1]=R.g[1]+(P+(k<<21&4294967295|k>>>11))&4294967295,R.g[2]=R.g[2]+P&4294967295,R.g[3]=R.g[3]+z&4294967295}s.prototype.v=function(R,x){x===void 0&&(x=R.length);const I=x-this.blockSize,V=this.C;let P=this.h,z=0;for(;z<x;){if(P==0)for(;z<=I;)a(this,R,z),z+=this.blockSize;if(typeof R=="string"){for(;z<x;)if(V[P++]=R.charCodeAt(z++),P==this.blockSize){a(this,V),P=0;break}}else for(;z<x;)if(V[P++]=R[z++],P==this.blockSize){a(this,V),P=0;break}}this.h=P,this.o+=x},s.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var x=1;x<R.length-8;++x)R[x]=0;x=this.o*8;for(var I=R.length-8;I<R.length;++I)R[I]=x&255,x/=256;for(this.v(R),R=Array(16),x=0,I=0;I<4;++I)for(let V=0;V<32;V+=8)R[x++]=this.g[I]>>>V&255;return R};function l(R,x){var I=d;return Object.prototype.hasOwnProperty.call(I,R)?I[R]:I[R]=x(R)}function c(R,x){this.h=x;const I=[];let V=!0;for(let P=R.length-1;P>=0;P--){const z=R[P]|0;V&&z==x||(I[P]=z,V=!1)}this.g=I}var d={};function m(R){return-128<=R&&R<128?l(R,function(x){return new c([x|0],x<0?-1:0)}):new c([R|0],R<0?-1:0)}function p(R){if(isNaN(R)||!isFinite(R))return _;if(R<0)return L(p(-R));const x=[];let I=1;for(let V=0;R>=I;V++)x[V]=R/I|0,I*=4294967296;return new c(x,0)}function y(R,x){if(R.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(R.charAt(0)=="-")return L(y(R.substring(1),x));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=p(Math.pow(x,8));let V=_;for(let z=0;z<R.length;z+=8){var P=Math.min(8,R.length-z);const k=parseInt(R.substring(z,z+P),x);P<8?(P=p(Math.pow(x,P)),V=V.j(P).add(p(k))):(V=V.j(I),V=V.add(p(k)))}return V}var _=m(0),T=m(1),C=m(16777216);e=c.prototype,e.m=function(){if(O(this))return-L(this).m();let R=0,x=1;for(let I=0;I<this.g.length;I++){const V=this.i(I);R+=(V>=0?V:4294967296+V)*x,x*=4294967296}return R},e.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(D(this))return"0";if(O(this))return"-"+L(this).toString(R);const x=p(Math.pow(R,6));var I=this;let V="";for(;;){const P=W(I,x).g;I=F(I,P.j(x));let z=((I.g.length>0?I.g[0]:I.h)>>>0).toString(R);if(I=P,D(I))return z+V;for(;z.length<6;)z="0"+z;V=z+V}},e.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function D(R){if(R.h!=0)return!1;for(let x=0;x<R.g.length;x++)if(R.g[x]!=0)return!1;return!0}function O(R){return R.h==-1}e.l=function(R){return R=F(this,R),O(R)?-1:D(R)?0:1};function L(R){const x=R.g.length,I=[];for(let V=0;V<x;V++)I[V]=~R.g[V];return new c(I,~R.h).add(T)}e.abs=function(){return O(this)?L(this):this},e.add=function(R){const x=Math.max(this.g.length,R.g.length),I=[];let V=0;for(let P=0;P<=x;P++){let z=V+(this.i(P)&65535)+(R.i(P)&65535),k=(z>>>16)+(this.i(P)>>>16)+(R.i(P)>>>16);V=k>>>16,z&=65535,k&=65535,I[P]=k<<16|z}return new c(I,I[I.length-1]&-2147483648?-1:0)};function F(R,x){return R.add(L(x))}e.j=function(R){if(D(this)||D(R))return _;if(O(this))return O(R)?L(this).j(L(R)):L(L(this).j(R));if(O(R))return L(this.j(L(R)));if(this.l(C)<0&&R.l(C)<0)return p(this.m()*R.m());const x=this.g.length+R.g.length,I=[];for(var V=0;V<2*x;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(let P=0;P<R.g.length;P++){const z=this.i(V)>>>16,k=this.i(V)&65535,Qt=R.i(P)>>>16,ue=R.i(P)&65535;I[2*V+2*P]+=k*ue,H(I,2*V+2*P),I[2*V+2*P+1]+=z*ue,H(I,2*V+2*P+1),I[2*V+2*P+1]+=k*Qt,H(I,2*V+2*P+1),I[2*V+2*P+2]+=z*Qt,H(I,2*V+2*P+2)}for(R=0;R<x;R++)I[R]=I[2*R+1]<<16|I[2*R];for(R=x;R<2*x;R++)I[R]=0;return new c(I,0)};function H(R,x){for(;(R[x]&65535)!=R[x];)R[x+1]+=R[x]>>>16,R[x]&=65535,x++}function $(R,x){this.g=R,this.h=x}function W(R,x){if(D(x))throw Error("division by zero");if(D(R))return new $(_,_);if(O(R))return x=W(L(R),x),new $(L(x.g),L(x.h));if(O(x))return x=W(R,L(x)),new $(L(x.g),x.h);if(R.g.length>30){if(O(R)||O(x))throw Error("slowDivide_ only works with positive integers.");for(var I=T,V=x;V.l(R)<=0;)I=J(I),V=J(V);var P=at(I,1),z=at(V,1);for(V=at(V,2),I=at(I,2);!D(V);){var k=z.add(V);k.l(R)<=0&&(P=P.add(I),z=k),V=at(V,1),I=at(I,1)}return x=F(R,P.j(x)),new $(P,x)}for(P=_;R.l(x)>=0;){for(I=Math.max(1,Math.floor(R.m()/x.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),z=p(I),k=z.j(x);O(k)||k.l(R)>0;)I-=V,z=p(I),k=z.j(x);D(z)&&(z=T),P=P.add(z),R=F(R,k)}return new $(P,R)}e.B=function(R){return W(this,R).h},e.and=function(R){const x=Math.max(this.g.length,R.g.length),I=[];for(let V=0;V<x;V++)I[V]=this.i(V)&R.i(V);return new c(I,this.h&R.h)},e.or=function(R){const x=Math.max(this.g.length,R.g.length),I=[];for(let V=0;V<x;V++)I[V]=this.i(V)|R.i(V);return new c(I,this.h|R.h)},e.xor=function(R){const x=Math.max(this.g.length,R.g.length),I=[];for(let V=0;V<x;V++)I[V]=this.i(V)^R.i(V);return new c(I,this.h^R.h)};function J(R){const x=R.g.length+1,I=[];for(let V=0;V<x;V++)I[V]=R.i(V)<<1|R.i(V-1)>>>31;return new c(I,R.h)}function at(R,x){const I=x>>5;x%=32;const V=R.g.length-I,P=[];for(let z=0;z<V;z++)P[z]=x>0?R.i(z+I)>>>x|R.i(z+I+1)<<32-x:R.i(z+I);return new c(P,R.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,AA=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=y,xr=c}).apply(typeof T1<"u"?T1:typeof self<"u"?self:typeof window<"u"?window:{});var Xh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var CA,wu,RA,gf,Gg,IA,NA,DA;(function(){var e,t=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xh=="object"&&Xh];for(var v=0;v<h.length;++v){var E=h[v];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=n(this);function a(h,v){if(v)t:{var E=s;h=h.split(".");for(var A=0;A<h.length-1;A++){var q=h[A];if(!(q in E))break t;E=E[q]}h=h[h.length-1],A=E[h],v=v(A),v!=A&&v!=null&&t(E,h,{configurable:!0,writable:!0,value:v})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(v){var E=[],A;for(A in v)Object.prototype.hasOwnProperty.call(v,A)&&E.push([A,v[A]]);return E}});var l=l||{},c=this||self;function d(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function m(h,v,E){return h.call.apply(h.bind,arguments)}function p(h,v,E){return p=m,p.apply(null,arguments)}function y(h,v){var E=Array.prototype.slice.call(arguments,1);return function(){var A=E.slice();return A.push.apply(A,arguments),h.apply(this,A)}}function _(h,v){function E(){}E.prototype=v.prototype,h.Z=v.prototype,h.prototype=new E,h.prototype.constructor=h,h.Ob=function(A,q,Q){for(var ut=Array(arguments.length-2),Rt=2;Rt<arguments.length;Rt++)ut[Rt-2]=arguments[Rt];return v.prototype[q].apply(A,ut)}}var T=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function C(h){const v=h.length;if(v>0){const E=Array(v);for(let A=0;A<v;A++)E[A]=h[A];return E}return[]}function D(h,v){for(let A=1;A<arguments.length;A++){const q=arguments[A];var E=typeof q;if(E=E!="object"?E:q?Array.isArray(q)?"array":E:"null",E=="array"||E=="object"&&typeof q.length=="number"){E=h.length||0;const Q=q.length||0;h.length=E+Q;for(let ut=0;ut<Q;ut++)h[E+ut]=q[ut]}else h.push(q)}}class O{constructor(v,E){this.i=v,this.j=E,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function L(h){c.setTimeout(()=>{throw h},0)}function F(){var h=R;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class H{constructor(){this.h=this.g=null}add(v,E){const A=$.get();A.set(v,E),this.h?this.h.next=A:this.g=A,this.h=A}}var $=new O(()=>new W,h=>h.reset());class W{constructor(){this.next=this.g=this.h=null}set(v,E){this.h=v,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let J,at=!1,R=new H,x=()=>{const h=Promise.resolve(void 0);J=()=>{h.then(I)}};function I(){for(var h;h=F();){try{h.h.call(h.g)}catch(E){L(E)}var v=$;v.j(h),v.h<100&&(v.h++,h.next=v.g,v.g=h)}at=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function P(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}P.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};c.addEventListener("test",E,v),c.removeEventListener("test",E,v)}catch{}return h})();function k(h){return/^[\s\xa0]*$/.test(h)}function Qt(h,v){P.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,v)}_(Qt,P),Qt.prototype.init=function(h,v){const E=this.type=h.type,A=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget,v||(E=="mouseover"?v=h.fromElement:E=="mouseout"&&(v=h.toElement)),this.relatedTarget=v,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&Qt.Z.h.call(this)},Qt.prototype.h=function(){Qt.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var ue="closure_listenable_"+(Math.random()*1e6|0),Z=0;function ot(h,v,E,A,q){this.listener=h,this.proxy=null,this.src=v,this.type=E,this.capture=!!A,this.ha=q,this.key=++Z,this.da=this.fa=!1}function dt(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function lt(h,v,E){for(const A in h)v.call(E,h[A],A,h)}function vt(h,v){for(const E in h)v.call(void 0,h[E],E,h)}function j(h){const v={};for(const E in h)v[E]=h[E];return v}const nt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ct(h,v){let E,A;for(let q=1;q<arguments.length;q++){A=arguments[q];for(E in A)h[E]=A[E];for(let Q=0;Q<nt.length;Q++)E=nt[Q],Object.prototype.hasOwnProperty.call(A,E)&&(h[E]=A[E])}}function ht(h){this.src=h,this.g={},this.h=0}ht.prototype.add=function(h,v,E,A,q){const Q=h.toString();h=this.g[Q],h||(h=this.g[Q]=[],this.h++);const ut=Nt(h,v,A,q);return ut>-1?(v=h[ut],E||(v.fa=!1)):(v=new ot(v,this.src,Q,!!A,q),v.fa=E,h.push(v)),v};function Et(h,v){const E=v.type;if(E in h.g){var A=h.g[E],q=Array.prototype.indexOf.call(A,v,void 0),Q;(Q=q>=0)&&Array.prototype.splice.call(A,q,1),Q&&(dt(v),h.g[E].length==0&&(delete h.g[E],h.h--))}}function Nt(h,v,E,A){for(let q=0;q<h.length;++q){const Q=h[q];if(!Q.da&&Q.listener==v&&Q.capture==!!E&&Q.ha==A)return q}return-1}var Ft="closure_lm_"+(Math.random()*1e6|0),je={};function ce(h,v,E,A,q){if(Array.isArray(v)){for(let Q=0;Q<v.length;Q++)ce(h,v[Q],E,A,q);return null}return E=pl(E),h&&h[ue]?h.J(v,E,d(A)?!!A.capture:!1,q):Lr(h,v,E,!1,A,q)}function Lr(h,v,E,A,q,Q){if(!v)throw Error("Invalid event type");const ut=d(q)?!!q.capture:!!q;let Rt=jr(h);if(Rt||(h[Ft]=Rt=new ht(h)),E=Rt.add(v,E,A,ut,Q),E.proxy)return E;if(A=Oa(),E.proxy=A,A.src=h,A.listener=E,h.addEventListener)z||(q=ut),q===void 0&&(q=!1),h.addEventListener(v.toString(),A,q);else if(h.attachEvent)h.attachEvent(Ti(v.toString()),A);else if(h.addListener&&h.removeListener)h.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Oa(){function h(E){return v.call(h.src,h.listener,E)}const v=dl;return h}function Pa(h,v,E,A,q){if(Array.isArray(v))for(var Q=0;Q<v.length;Q++)Pa(h,v[Q],E,A,q);else A=d(A)?!!A.capture:!!A,E=pl(E),h&&h[ue]?(h=h.i,Q=String(v).toString(),Q in h.g&&(v=h.g[Q],E=Nt(v,E,A,q),E>-1&&(dt(v[E]),Array.prototype.splice.call(v,E,1),v.length==0&&(delete h.g[Q],h.h--)))):h&&(h=jr(h))&&(v=h.g[v.toString()],h=-1,v&&(h=Nt(v,E,A,q)),(E=h>-1?v[h]:null)&&La(E))}function La(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[ue])Et(v.i,h);else{var E=h.type,A=h.proxy;v.removeEventListener?v.removeEventListener(E,A,h.capture):v.detachEvent?v.detachEvent(Ti(E),A):v.addListener&&v.removeListener&&v.removeListener(A),(E=jr(v))?(Et(E,h),E.h==0&&(E.src=null,v[Ft]=null)):dt(h)}}}function Ti(h){return h in je?je[h]:je[h]="on"+h}function dl(h,v){if(h.da)h=!0;else{v=new Qt(v,this);const E=h.listener,A=h.ha||h.src;h.fa&&La(h),h=E.call(A,v)}return h}function jr(h){return h=h[Ft],h instanceof ht?h:null}var ml="__closure_events_fn_"+(Math.random()*1e9>>>0);function pl(h){return typeof h=="function"?h:(h[ml]||(h[ml]=function(v){return h.handleEvent(v)}),h[ml])}function Se(){V.call(this),this.i=new ht(this),this.M=this,this.G=null}_(Se,V),Se.prototype[ue]=!0,Se.prototype.removeEventListener=function(h,v,E,A){Pa(this,h,v,E,A)};function Ue(h,v){var E,A=h.G;if(A)for(E=[];A;A=A.G)E.push(A);if(h=h.M,A=v.type||v,typeof v=="string")v=new P(v,h);else if(v instanceof P)v.target=v.target||h;else{var q=v;v=new P(A,h),ct(v,q)}q=!0;let Q,ut;if(E)for(ut=E.length-1;ut>=0;ut--)Q=v.g=E[ut],q=Ps(Q,A,!0,v)&&q;if(Q=v.g=h,q=Ps(Q,A,!0,v)&&q,q=Ps(Q,A,!1,v)&&q,E)for(ut=0;ut<E.length;ut++)Q=v.g=E[ut],q=Ps(Q,A,!1,v)&&q}Se.prototype.N=function(){if(Se.Z.N.call(this),this.i){var h=this.i;for(const v in h.g){const E=h.g[v];for(let A=0;A<E.length;A++)dt(E[A]);delete h.g[v],h.h--}}this.G=null},Se.prototype.J=function(h,v,E,A){return this.i.add(String(h),v,!1,E,A)},Se.prototype.K=function(h,v,E,A){return this.i.add(String(h),v,!0,E,A)};function Ps(h,v,E,A){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();let q=!0;for(let Q=0;Q<v.length;++Q){const ut=v[Q];if(ut&&!ut.da&&ut.capture==E){const Rt=ut.listener,be=ut.ha||ut.src;ut.fa&&Et(h.i,ut),q=Rt.call(be,A)!==!1&&q}}return q&&!A.defaultPrevented}function Ad(h,v){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=p(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:c.setTimeout(h,v||0)}function pc(h){h.g=Ad(()=>{h.g=null,h.i&&(h.i=!1,pc(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class hn extends V{constructor(v,E){super(),this.m=v,this.l=E,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:pc(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ur(h){V.call(this),this.h=h,this.g={}}_(Ur,V);var gl=[];function yl(h){lt(h.g,function(v,E){this.g.hasOwnProperty(E)&&La(v)},h),h.g={}}Ur.prototype.N=function(){Ur.Z.N.call(this),yl(this)},Ur.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ls=c.JSON.stringify,Cd=c.JSON.parse,gc=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function yc(){}function vc(){}var Zn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function $e(){P.call(this,"d")}_($e,P);function On(){P.call(this,"c")}_(On,P);var _e={},_c=null;function ja(){return _c=_c||new Se}_e.Ia="serverreachability";function bc(h){P.call(this,_e.Ia,h)}_(bc,P);function Ei(h){const v=ja();Ue(v,new bc(v))}_e.STAT_EVENT="statevent";function zr(h,v){P.call(this,_e.STAT_EVENT,h),this.stat=v}_(zr,P);function xe(h){const v=ja();Ue(v,new zr(v,h))}_e.Ja="timingevent";function wi(h,v){P.call(this,_e.Ja,h),this.size=v}_(wi,P);function Si(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},v)}function ti(){this.g=!0}ti.prototype.ua=function(){this.g=!1};function Rd(h,v,E,A,q,Q){h.info(function(){if(h.g)if(Q){var ut="",Rt=Q.split("&");for(let Kt=0;Kt<Rt.length;Kt++){var be=Rt[Kt].split("=");if(be.length>1){const he=be[0];be=be[1];const Un=he.split("_");ut=Un.length>=2&&Un[1]=="type"?ut+(he+"="+be+"&"):ut+(he+"=redacted&")}}}else ut=null;else ut=Q;return"XMLHTTP REQ ("+A+") [attempt "+q+"]: "+v+`
`+E+`
`+ut})}function Tc(h,v,E,A,q,Q,ut){h.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+q+"]: "+v+`
`+E+`
`+Q+" "+ut})}function xi(h,v,E,A){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+Id(h,E)+(A?" "+A:"")})}function Br(h,v){h.info(function(){return"TIMEOUT: "+v})}ti.prototype.info=function(){};function Id(h,v){if(!h.g)return v;if(!v)return null;try{const Q=JSON.parse(v);if(Q){for(h=0;h<Q.length;h++)if(Array.isArray(Q[h])){var E=Q[h];if(!(E.length<2)){var A=E[1];if(Array.isArray(A)&&!(A.length<1)){var q=A[0];if(q!="noop"&&q!="stop"&&q!="close")for(let ut=1;ut<A.length;ut++)A[ut]=""}}}}return Ls(Q)}catch{return v}}var Fr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},vl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},_l;function Hr(){}_(Hr,yc),Hr.prototype.g=function(){return new XMLHttpRequest},_l=new Hr;function ns(h){return encodeURIComponent(String(h))}function Ec(h){var v=1;h=h.split(":");const E=[];for(;v>0&&h.length;)E.push(h.shift()),v--;return h.length&&E.push(h.join(":")),E}function ei(h,v,E,A){this.j=h,this.i=v,this.l=E,this.S=A||1,this.V=new Ur(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ni}function ni(){this.i=null,this.g="",this.h=!1}var Ae={},He={};function Ai(h,v,E){h.M=1,h.A=qr(Re(v)),h.u=E,h.R=!0,Ua(h,null)}function Ua(h,v){h.F=Date.now(),Ci(h),h.B=Re(h.A);var E=h.B,A=h.S;Array.isArray(A)||(A=[String(A)]),Ha(E.i,"t",A),h.C=0,E=h.j.L,h.h=new ni,h.g=Lc(h.j,E?v:null,!h.u),h.P>0&&(h.O=new hn(p(h.Y,h,h.g),h.P)),v=h.V,E=h.g,A=h.ba;var q="readystatechange";Array.isArray(q)||(q&&(gl[0]=q.toString()),q=gl);for(let Q=0;Q<q.length;Q++){const ut=ce(E,q[Q],A||v.handleEvent,!1,v.h||v);if(!ut)break;v.g[ut.key]=ut}v=h.J?j(h.J):{},h.u?(h.v||(h.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,v)):(h.v="GET",h.g.ea(h.B,h.v,null,v)),Ei(),Rd(h.i,h.v,h.B,h.l,h.S,h.u)}ei.prototype.ba=function(h){h=h.target;const v=this.O;v&&ri(h)==3?v.j():this.Y(h)},ei.prototype.Y=function(h){try{if(h==this.g)t:{const Rt=ri(this.g),be=this.g.ya(),Kt=this.g.ca();if(!(Rt<3)&&(Rt!=3||this.g&&(this.h.h||this.g.la()||Ye(this.g)))){this.K||Rt!=4||be==7||(be==8||Kt<=0?Ei(3):Ei(2)),Ri(this);var v=this.g.ca();this.X=v;var E=Nd(this);if(this.o=v==200,Tc(this.i,this.v,this.B,this.l,this.S,Rt,v),this.o){if(this.U&&!this.L){e:{if(this.g){var A,q=this.g;if((A=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(A)){var Q=A;break e}}Q=null}if(h=Q)xi(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ii(this,h);else{this.o=!1,this.m=3,xe(12),xn(this),Pn(this);break t}}if(this.R){h=!0;let he;for(;!this.K&&this.C<E.length;)if(he=Sc(this,E),he==He){Rt==4&&(this.m=4,xe(14),h=!1),xi(this.i,this.l,null,"[Incomplete Response]");break}else if(he==Ae){this.m=4,xe(15),xi(this.i,this.l,E,"[Invalid Chunk]"),h=!1;break}else xi(this.i,this.l,he,null),Ii(this,he);if(wc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||E.length!=0||this.h.h||(this.m=1,xe(16),h=!1),this.o=this.o&&h,!h)xi(this.i,this.l,E,"[Invalid Chunked Response]"),xn(this),Pn(this);else if(E.length>0&&!this.W){this.W=!0;var ut=this.j;ut.g==this&&ut.aa&&!ut.P&&(ut.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Vl(ut),ut.P=!0,xe(11))}}else xi(this.i,this.l,E,null),Ii(this,E);Rt==4&&xn(this),this.o&&!this.K&&(Rt==4?Mc(this.j,this):(this.o=!1,Ci(this)))}else ss(this.g),v==400&&E.indexOf("Unknown SID")>0?(this.m=3,xe(12)):(this.m=0,xe(13)),xn(this),Pn(this)}}}catch{}};function Nd(h){if(!wc(h))return h.g.la();const v=Ye(h.g);if(v==="")return"";let E="";const A=v.length,q=ri(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return xn(h),Pn(h),"";h.h.i=new c.TextDecoder}for(let Q=0;Q<A;Q++)h.h.h=!0,E+=h.h.i.decode(v[Q],{stream:!(q&&Q==A-1)});return v.length=0,h.h.g+=E,h.C=0,h.h.g}function wc(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Sc(h,v){var E=h.C,A=v.indexOf(`
`,E);return A==-1?He:(E=Number(v.substring(E,A)),isNaN(E)?Ae:(A+=1,A+E>v.length?He:(v=v.slice(A,A+E),h.C=A+E,v)))}ei.prototype.cancel=function(){this.K=!0,xn(this)};function Ci(h){h.T=Date.now()+h.H,za(h,h.H)}function za(h,v){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Si(p(h.aa,h),v)}function Ri(h){h.D&&(c.clearTimeout(h.D),h.D=null)}ei.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Br(this.i,this.B),this.M!=2&&(Ei(),xe(17)),xn(this),this.m=2,Pn(this)):za(this,this.T-h)};function Pn(h){h.j.I==0||h.K||Mc(h.j,h)}function xn(h){Ri(h);var v=h.O;v&&typeof v.dispose=="function"&&v.dispose(),h.O=null,yl(h.V),h.g&&(v=h.g,h.g=null,v.abort(),v.dispose())}function Ii(h,v){try{var E=h.j;if(E.I!=0&&(E.g==h||Di(E.h,h))){if(!h.L&&Di(E.h,h)&&E.I==3){try{var A=E.Ba.g.parse(v)}catch{A=null}if(Array.isArray(A)&&A.length==3){var q=A;if(q[0]==0){t:if(!E.v){if(E.g)if(E.g.F+3e3<h.F)Ya(E),Gs(E);else break t;Wr(E),xe(18)}}else E.xa=q[1],0<E.xa-E.K&&q[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=Si(p(E.Va,E),6e3));Ni(E.h)<=1&&E.ta&&(E.ta=void 0)}else Li(E,11)}else if((h.L||E.g==h)&&Ya(E),!k(v))for(q=E.Ba.g.parse(v),v=0;v<q.length;v++){let Kt=q[v];const he=Kt[0];if(!(he<=E.K))if(E.K=he,Kt=Kt[1],E.I==2)if(Kt[0]=="c"){E.M=Kt[1],E.ba=Kt[2];const Un=Kt[3];Un!=null&&(E.ka=Un,E.j.info("VER="+E.ka));const ji=Kt[4];ji!=null&&(E.za=ji,E.j.info("SVER="+E.za));const ai=Kt[5];ai!=null&&typeof ai=="number"&&ai>0&&(A=1.5*ai,E.O=A,E.j.info("backChannelRequestTimeoutMs_="+A)),A=E;const oi=h.g;if(oi){const Jr=oi.g?oi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Jr){var Q=A.h;Q.g||Jr.indexOf("spdy")==-1&&Jr.indexOf("quic")==-1&&Jr.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(El(Q,Q.h),Q.h=null))}if(A.G){const Qa=oi.g?oi.g.getResponseHeader("X-HTTP-Session-Id"):null;Qa&&(A.wa=Qa,Xt(A.J,A.G,Qa))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-h.F,E.j.info("Handshake RTT: "+E.T+"ms")),A=E;var ut=h;if(A.na=Pc(A,A.L?A.ba:null,A.W),ut.L){wl(A.h,ut);var Rt=ut,be=A.O;be&&(Rt.H=be),Rt.D&&(Ri(Rt),Ci(Rt)),A.g=ut}else Dc(A);E.i.length>0&&Pi(E)}else Kt[0]!="stop"&&Kt[0]!="close"||Li(E,7);else E.I==3&&(Kt[0]=="stop"||Kt[0]=="close"?Kt[0]=="stop"?Li(E,7):kl(E):Kt[0]!="noop"&&E.l&&E.l.qa(Kt),E.A=0)}}Ei(4)}catch{}}var Ce=class{constructor(h,v){this.g=h,this.map=v}};function bl(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Tl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Ni(h){return h.h?1:h.g?h.g.size:0}function Di(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function El(h,v){h.g?h.g.add(v):h.h=v}function wl(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}bl.prototype.cancel=function(){if(this.i=Sl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Sl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const E of h.g.values())v=v.concat(E.G);return v}return C(h.i)}var xc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ba(h,v){if(h){h=h.split("&");for(let E=0;E<h.length;E++){const A=h[E].indexOf("=");let q,Q=null;A>=0?(q=h[E].substring(0,A),Q=h[E].substring(A+1)):q=h[E],v(q,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function An(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;h instanceof An?(this.l=h.l,qe(this,h.j),this.o=h.o,this.g=h.g,js(this,h.u),this.h=h.h,xl(this,Ic(h.i)),this.m=h.m):h&&(v=String(h).match(xc))?(this.l=!1,qe(this,v[1]||"",!0),this.o=ki(v[2]||""),this.g=ki(v[3]||"",!0),js(this,v[4]),this.h=ki(v[5]||"",!0),xl(this,v[6]||"",!0),this.m=ki(v[7]||"")):(this.l=!1,this.i=new zs(null,this.l))}An.prototype.toString=function(){const h=[];var v=this.j;v&&h.push(Gr(v,Fa,!0),":");var E=this.g;return(E||v=="file")&&(h.push("//"),(v=this.o)&&h.push(Gr(v,Fa,!0),"@"),h.push(ns(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&h.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(Gr(E,E.charAt(0)=="/"?Al:Ac,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",Gr(E,Cc)),h.join("")},An.prototype.resolve=function(h){const v=Re(this);let E=!!h.j;E?qe(v,h.j):E=!!h.o,E?v.o=h.o:E=!!h.g,E?v.g=h.g:E=h.u!=null;var A=h.h;if(E)js(v,h.u);else if(E=!!h.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var q=v.h.lastIndexOf("/");q!=-1&&(A=v.h.slice(0,q+1)+A)}if(q=A,q==".."||q==".")A="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){A=q.lastIndexOf("/",0)==0,q=q.split("/");const Q=[];for(let ut=0;ut<q.length;){const Rt=q[ut++];Rt=="."?A&&ut==q.length&&Q.push(""):Rt==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),A&&ut==q.length&&Q.push("")):(Q.push(Rt),A=!0)}A=Q.join("/")}else A=q}return E?v.h=A:E=h.i.toString()!=="",E?xl(v,Ic(h.i)):E=!!h.m,E&&(v.m=h.m),v};function Re(h){return new An(h)}function qe(h,v,E){h.j=E?ki(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function js(h,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);h.u=v}else h.u=null}function xl(h,v,E){v instanceof zs?(h.i=v,qa(h.i,h.l)):(E||(v=Gr(v,Us)),h.i=new zs(v,h.l))}function Xt(h,v,E){h.i.set(v,E)}function qr(h){return Xt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function ki(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Gr(h,v,E){return typeof h=="string"?(h=encodeURI(h).replace(v,yn),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function yn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Fa=/[#\/\?@]/g,Ac=/[#\?:]/g,Al=/[#\?]/g,Us=/[#\?@]/g,Cc=/#/g;function zs(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function vn(h){h.g||(h.g=new Map,h.h=0,h.i&&Ba(h.i,function(v,E){h.add(decodeURIComponent(v.replace(/\+/g," ")),E)}))}e=zs.prototype,e.add=function(h,v){vn(this),this.i=null,h=Bs(this,h);let E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(v),this.h+=1,this};function Rc(h,v){vn(h),v=Bs(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function Cl(h,v){return vn(h),v=Bs(h,v),h.g.has(v)}e.forEach=function(h,v){vn(this),this.g.forEach(function(E,A){E.forEach(function(q){h.call(v,q,A,this)},this)},this)};function Rl(h,v){vn(h);let E=[];if(typeof v=="string")Cl(h,v)&&(E=E.concat(h.g.get(Bs(h,v))));else for(h=Array.from(h.g.values()),v=0;v<h.length;v++)E=E.concat(h[v]);return E}e.set=function(h,v){return vn(this),this.i=null,h=Bs(this,h),Cl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},e.get=function(h,v){return h?(h=Rl(this,h),h.length>0?String(h[0]):v):v};function Ha(h,v,E){Rc(h,v),E.length>0&&(h.i=null,h.g.set(Bs(h,v),C(E)),h.h+=E.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(let A=0;A<v.length;A++){var E=v[A];const q=ns(E);E=Rl(this,E);for(let Q=0;Q<E.length;Q++){let ut=q;E[Q]!==""&&(ut+="="+ns(E[Q])),h.push(ut)}}return this.i=h.join("&")};function Ic(h){const v=new zs;return v.i=h.i,h.g&&(v.g=new Map(h.g),v.h=h.h),v}function Bs(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function qa(h,v){v&&!h.j&&(vn(h),h.i=null,h.g.forEach(function(E,A){const q=A.toLowerCase();A!=q&&(Rc(this,A),Ha(this,q,E))},h)),h.j=v}function ii(h,v){const E=new ti;if(c.Image){const A=new Image;A.onload=y(Ln,E,"TestLoadImage: loaded",!0,v,A),A.onerror=y(Ln,E,"TestLoadImage: error",!1,v,A),A.onabort=y(Ln,E,"TestLoadImage: abort",!1,v,A),A.ontimeout=y(Ln,E,"TestLoadImage: timeout",!1,v,A),c.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=h}else v(!1)}function Il(h,v){const E=new ti,A=new AbortController,q=setTimeout(()=>{A.abort(),Ln(E,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:A.signal}).then(Q=>{clearTimeout(q),Q.ok?Ln(E,"TestPingServer: ok",!0,v):Ln(E,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(q),Ln(E,"TestPingServer: error",!1,v)})}function Ln(h,v,E,A,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),A(E)}catch{}}function Fs(){this.g=new gc}function Mi(h){this.i=h.Sb||null,this.h=h.ab||!1}_(Mi,yc),Mi.prototype.g=function(){return new Kr(this.i,this.h)};function Kr(h,v){Se.call(this),this.H=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(Kr,Se),e=Kr.prototype,e.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=v,this.readyState=1,si(this)},e.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(v.body=h),(this.H||c).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Hs(this)),this.readyState=0},e.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,si(this)),this.g&&(this.readyState=3,si(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ga(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ga(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}e.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?Hs(this):si(this),this.readyState==3&&Ga(this)}},e.Oa=function(h){this.g&&(this.response=this.responseText=h,Hs(this))},e.Na=function(h){this.g&&(this.response=h,Hs(this))},e.ga=function(){this.g&&Hs(this)};function Hs(h){h.readyState=4,h.l=null,h.j=null,h.B=null,si(h)}e.setRequestHeader=function(h,v){this.A.append(h,v)},e.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var E=v.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=v.next();return h.join(`\r
`)};function si(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Kr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function jn(h){let v="";return lt(h,function(E,A){v+=A,v+=":",v+=E,v+=`\r
`}),v}function $r(h,v,E){t:{for(A in E){var A=!1;break t}A=!0}A||(E=jn(E),typeof h=="string"?E!=null&&ns(E):Xt(h,v,E))}function Zt(h){Se.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(Zt,Se);var Vi=/^https?$/i,Nl=["POST","PUT"];e=Zt.prototype,e.Fa=function(h){this.H=h},e.ea=function(h,v,E,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():_l.g(),this.g.onreadystatechange=T(p(this.Ca,this));try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(Q){Yr(this,Q);return}if(h=E||"",E=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var q in A)E.set(q,A[q]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Q of A.keys())E.set(Q,A.get(Q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(E.keys()).find(Q=>Q.toLowerCase()=="content-type"),q=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(Nl,v,void 0)>=0)||A||q||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ut]of E)this.g.setRequestHeader(Q,ut);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(Q){Yr(this,Q)}};function Yr(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.o=5,Dl(h),is(h)}function Dl(h){h.A||(h.A=!0,Ue(h,"complete"),Ue(h,"error"))}e.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Ue(this,"complete"),Ue(this,"abort"),is(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),is(this,!0)),Zt.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?Qr(this):this.Xa())},e.Xa=function(){Qr(this)};function Qr(h){if(h.h&&typeof l<"u"){if(h.v&&ri(h)==4)setTimeout(h.Ca.bind(h),0);else if(Ue(h,"readystatechange"),ri(h)==4){h.h=!1;try{const Q=h.ca();t:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break t;default:v=!1}var E;if(!(E=v)){var A;if(A=Q===0){let ut=String(h.D).match(xc)[1]||null;!ut&&c.self&&c.self.location&&(ut=c.self.location.protocol.slice(0,-1)),A=!Vi.test(ut?ut.toLowerCase():"")}E=A}if(E)Ue(h,"complete"),Ue(h,"success");else{h.o=6;try{var q=ri(h)>2?h.g.statusText:""}catch{q=""}h.l=q+" ["+h.ca()+"]",Dl(h)}}finally{is(h)}}}}function is(h,v){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const E=h.g;h.g=null,v||Ue(h,"ready");try{E.onreadystatechange=null}catch{}}}e.isActive=function(){return!!this.g};function ri(h){return h.g?h.g.readyState:0}e.ca=function(){try{return ri(this)>2?this.g.status:-1}catch{return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.La=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),Cd(v)}};function Ye(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function ss(h){const v={};h=(h.g&&ri(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<h.length;A++){if(k(h[A]))continue;var E=Ec(h[A]);const q=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Q=v[q]||[];v[q]=Q,Q.push(E)}vt(v,function(A){return A.join(", ")})}e.ya=function(){return this.o},e.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Oi(h,v,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||v}function qs(h){this.za=0,this.i=[],this.j=new ti,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Oi("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Oi("baseRetryDelayMs",5e3,h),this.Za=Oi("retryDelaySeedMs",1e4,h),this.Ta=Oi("forwardChannelMaxRetries",2,h),this.va=Oi("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new bl(h&&h.concurrentRequestLimit),this.Ba=new Fs,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}e=qs.prototype,e.ka=8,e.I=1,e.connect=function(h,v,E,A){xe(0),this.W=h,this.H=v||{},E&&A!==void 0&&(this.H.OSID=E,this.H.OAID=A),this.F=this.X,this.J=Pc(this,null,this.W),Pi(this)};function kl(h){if(Ka(h),h.I==3){var v=h.V++,E=Re(h.J);if(Xt(E,"SID",h.M),Xt(E,"RID",v),Xt(E,"TYPE","terminate"),Xr(h,E),v=new ei(h,h.j,v),v.M=2,v.A=qr(Re(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(v.A.toString(),"")}catch{}!E&&c.Image&&(new Image().src=v.A,E=!0),E||(v.g=Lc(v.j,null),v.g.ea(v.A)),v.F=Date.now(),Ci(v)}Oc(h)}function Gs(h){h.g&&(Vl(h),h.g.cancel(),h.g=null)}function Ka(h){Gs(h),h.v&&(c.clearTimeout(h.v),h.v=null),Ya(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function Pi(h){if(!Tl(h.h)&&!h.m){h.m=!0;var v=h.Ea;J||x(),at||(J(),at=!0),R.add(v,h),h.D=0}}function $a(h,v){return Ni(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=v.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Si(p(h.Ea,h,v),Vc(h,h.D)),h.D++,!0)}e.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const q=new ei(this,this.j,h);let Q=this.o;if(this.U&&(Q?(Q=j(Q),ct(Q,this.U)):Q=this.U),this.u!==null||this.R||(q.J=Q,Q=null),this.S)t:{for(var v=0,E=0;E<this.i.length;E++){e:{var A=this.i[E];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(v+=A,v>4096){v=E;break t}if(v===4096||E===this.i.length-1){v=E+1;break t}}v=1e3}else v=1e3;v=Nc(this,q,v),E=Re(this.J),Xt(E,"RID",h),Xt(E,"CVER",22),this.G&&Xt(E,"X-HTTP-Session-Id",this.G),Xr(this,E),Q&&(this.R?v="headers="+ns(jn(Q))+"&"+v:this.u&&$r(E,this.u,Q)),El(this.h,q),this.Ra&&Xt(E,"TYPE","init"),this.S?(Xt(E,"$req",v),Xt(E,"SID","null"),q.U=!0,Ai(q,E,null)):Ai(q,E,v),this.I=2}}else this.I==3&&(h?Ml(this,h):this.i.length==0||Tl(this.h)||Ml(this))};function Ml(h,v){var E;v?E=v.l:E=h.V++;const A=Re(h.J);Xt(A,"SID",h.M),Xt(A,"RID",E),Xt(A,"AID",h.K),Xr(h,A),h.u&&h.o&&$r(A,h.u,h.o),E=new ei(h,h.j,E,h.D+1),h.u===null&&(E.J=h.o),v&&(h.i=v.G.concat(h.i)),v=Nc(h,E,1e3),E.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),El(h.h,E),Ai(E,A,v)}function Xr(h,v){h.H&&lt(h.H,function(E,A){Xt(v,A,E)}),h.l&&lt({},function(E,A){Xt(v,A,E)})}function Nc(h,v,E){E=Math.min(h.i.length,E);const A=h.l?p(h.l.Ka,h.l,h):null;t:{var q=h.i;let Rt=-1;for(;;){const be=["count="+E];Rt==-1?E>0?(Rt=q[0].g,be.push("ofs="+Rt)):Rt=0:be.push("ofs="+Rt);let Kt=!0;for(let he=0;he<E;he++){var Q=q[he].g;const Un=q[he].map;if(Q-=Rt,Q<0)Rt=Math.max(0,q[he].g-100),Kt=!1;else try{Q="req"+Q+"_"||"";try{var ut=Un instanceof Map?Un:Object.entries(Un);for(const[ji,ai]of ut){let oi=ai;d(ai)&&(oi=Ls(ai)),be.push(Q+ji+"="+encodeURIComponent(oi))}}catch(ji){throw be.push(Q+"type="+encodeURIComponent("_badmap")),ji}}catch{A&&A(Un)}}if(Kt){ut=be.join("&");break t}}ut=void 0}return h=h.i.splice(0,E),v.G=h,ut}function Dc(h){if(!h.g&&!h.v){h.Y=1;var v=h.Da;J||x(),at||(J(),at=!0),R.add(v,h),h.A=0}}function Wr(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Si(p(h.Da,h),Vc(h,h.A)),h.A++,!0)}e.Da=function(){if(this.v=null,kc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Si(p(this.Wa,this),h)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,xe(10),Gs(this),kc(this))};function Vl(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function kc(h){h.g=new ei(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var v=Re(h.na);Xt(v,"RID","rpc"),Xt(v,"SID",h.M),Xt(v,"AID",h.K),Xt(v,"CI",h.F?"0":"1"),!h.F&&h.ia&&Xt(v,"TO",h.ia),Xt(v,"TYPE","xmlhttp"),Xr(h,v),h.u&&h.o&&$r(v,h.u,h.o),h.O&&(h.g.H=h.O);var E=h.g;h=h.ba,E.M=1,E.A=qr(Re(v)),E.u=null,E.R=!0,Ua(E,h)}e.Va=function(){this.C!=null&&(this.C=null,Gs(this),Wr(this),xe(19))};function Ya(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function Mc(h,v){var E=null;if(h.g==v){Ya(h),Vl(h),h.g=null;var A=2}else if(Di(h.h,v))E=v.G,wl(h.h,v),A=1;else return;if(h.I!=0){if(v.o)if(A==1){E=v.u?v.u.length:0,v=Date.now()-v.F;var q=h.D;A=ja(),Ue(A,new wi(A,E)),Pi(h)}else Dc(h);else if(q=v.m,q==3||q==0&&v.X>0||!(A==1&&$a(h,v)||A==2&&Wr(h)))switch(E&&E.length>0&&(v=h.h,v.i=v.i.concat(E)),q){case 1:Li(h,5);break;case 4:Li(h,10);break;case 3:Li(h,6);break;default:Li(h,2)}}}function Vc(h,v){let E=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(E*=2),E*v}function Li(h,v){if(h.j.info("Error code "+v),v==2){var E=p(h.bb,h),A=h.Ua;const q=!A;A=new An(A||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||qe(A,"https"),qr(A),q?ii(A.toString(),E):Il(A.toString(),E)}else xe(2);h.I=0,h.l&&h.l.pa(v),Oc(h),Ka(h)}e.bb=function(h){h?(this.j.info("Successfully pinged google.com"),xe(2)):(this.j.info("Failed to ping google.com"),xe(1))};function Oc(h){if(h.I=0,h.ja=[],h.l){const v=Sl(h.h);(v.length!=0||h.i.length!=0)&&(D(h.ja,v),D(h.ja,h.i),h.h.i.length=0,C(h.i),h.i.length=0),h.l.oa()}}function Pc(h,v,E){var A=E instanceof An?Re(E):new An(E);if(A.g!="")v&&(A.g=v+"."+A.g),js(A,A.u);else{var q=c.location;A=q.protocol,v=v?v+"."+q.hostname:q.hostname,q=+q.port;const Q=new An(null);A&&qe(Q,A),v&&(Q.g=v),q&&js(Q,q),E&&(Q.h=E),A=Q}return E=h.G,v=h.wa,E&&v&&Xt(A,E,v),Xt(A,"VER",h.ka),Xr(h,A),A}function Lc(h,v,E){if(v&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Aa&&!h.ma?new Zt(new Mi({ab:E})):new Zt(h.ma),v.Fa(h.L),v}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function jc(){}e=jc.prototype,e.ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){};function Ks(){}Ks.prototype.g=function(h,v){return new fn(h,v)};function fn(h,v){Se.call(this),this.g=new qs(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(h?h["X-WebChannel-Client-Profile"]=v.sa:h={"X-WebChannel-Client-Profile":v.sa}),this.g.U=h,(h=v&&v.Qb)&&!k(h)&&(this.g.u=h),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!k(v)&&(this.g.G=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new rs(this)}_(fn,Se),fn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},fn.prototype.close=function(){kl(this.g)},fn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.v&&(E={},E.__data__=Ls(h),h=E);v.i.push(new Ce(v.Ya++,h)),v.I==3&&Pi(v)},fn.prototype.N=function(){this.g.l=null,delete this.j,kl(this.g),delete this.g,fn.Z.N.call(this)};function Uc(h){$e.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){t:{for(const E in v){h=E;break t}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}_(Uc,$e);function zc(){On.call(this),this.status=1}_(zc,On);function rs(h){this.g=h}_(rs,jc),rs.prototype.ra=function(){Ue(this.g,"a")},rs.prototype.qa=function(h){Ue(this.g,new Uc(h))},rs.prototype.pa=function(h){Ue(this.g,new zc)},rs.prototype.oa=function(){Ue(this.g,"b")},Ks.prototype.createWebChannel=Ks.prototype.g,fn.prototype.send=fn.prototype.o,fn.prototype.open=fn.prototype.m,fn.prototype.close=fn.prototype.close,DA=function(){return new Ks},NA=function(){return ja()},IA=_e,Gg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Fr.NO_ERROR=0,Fr.TIMEOUT=8,Fr.HTTP_ERROR=6,gf=Fr,vl.COMPLETE="complete",RA=vl,vc.EventType=Zn,Zn.OPEN="a",Zn.CLOSE="b",Zn.ERROR="c",Zn.MESSAGE="d",Se.prototype.listen=Se.prototype.J,wu=vc,Zt.prototype.listenOnce=Zt.prototype.K,Zt.prototype.getLastError=Zt.prototype.Ha,Zt.prototype.getLastErrorCode=Zt.prototype.ya,Zt.prototype.getStatus=Zt.prototype.ca,Zt.prototype.getResponseJson=Zt.prototype.La,Zt.prototype.getResponseText=Zt.prototype.la,Zt.prototype.send=Zt.prototype.ea,Zt.prototype.setWithCredentials=Zt.prototype.Fa,CA=Zt}).apply(typeof Xh<"u"?Xh:typeof self<"u"?self:typeof window<"u"?window:{});class on{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}on.UNAUTHENTICATED=new on(null),on.GOOGLE_CREDENTIALS=new on("google-credentials-uid"),on.FIRST_PARTY=new on("first-party-uid"),on.MOCK_USER=new on("mock-user");let ol="12.9.0";function v6(e){ol=e}const Ra=new Jy("@firebase/firestore");function Co(){return Ra.logLevel}function mt(e,...t){if(Ra.logLevel<=jt.DEBUG){const n=t.map(h0);Ra.debug(`Firestore (${ol}): ${e}`,...n)}}function Ds(e,...t){if(Ra.logLevel<=jt.ERROR){const n=t.map(h0);Ra.error(`Firestore (${ol}): ${e}`,...n)}}function Ia(e,...t){if(Ra.logLevel<=jt.WARN){const n=t.map(h0);Ra.warn(`Firestore (${ol}): ${e}`,...n)}}function h0(e){if(typeof e=="string")return e;try{return(function(n){return JSON.stringify(n)})(e)}catch{return e}}function wt(e,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,kA(e,s,n)}function kA(e,t,n){let s=`FIRESTORE (${ol}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Ds(s),new Error(s)}function Yt(e,t,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,e||kA(t,a,s)}function Ct(e,t){return e}const st={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ft extends Vs{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ar{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class MA{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class _6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(on.UNAUTHENTICATED)))}shutdown(){}}class b6{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class T6{constructor(t){this.t=t,this.currentUser=on.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Yt(this.o===void 0,42304);let s=this.i;const a=m=>this.i!==s?(s=this.i,n(m)):Promise.resolve();let l=new Ar;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Ar,t.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const m=l;t.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},d=m=>{mt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((m=>d(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(mt("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Ar)}}),0),c()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==t?(mt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Yt(typeof s.accessToken=="string",31837,{l:s}),new MA(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Yt(t===null||typeof t=="string",2055,{h:t}),new on(t)}}class E6{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=on.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class w6{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new E6(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(on.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class E1{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class S6{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,di(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Yt(this.o===void 0,3512);const s=l=>{l.error!=null&&mt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,mt("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{t.enqueueRetryable((()=>s(l)))};const a=l=>{mt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):mt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new E1(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Yt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new E1(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function x6(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<e;s++)n[s]=Math.floor(256*Math.random());return n}class f0{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=x6(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<n&&(s+=t.charAt(a[l]%62))}return s}}function Ut(e,t){return e<t?-1:e>t?1:0}function Kg(e,t){const n=Math.min(e.length,t.length);for(let s=0;s<n;s++){const a=e.charAt(s),l=t.charAt(s);if(a!==l)return ig(a)===ig(l)?Ut(a,l):ig(a)?1:-1}return Ut(e.length,t.length)}const A6=55296,C6=57343;function ig(e){const t=e.charCodeAt(0);return t>=A6&&t<=C6}function Ko(e,t,n){return e.length===t.length&&e.every(((s,a)=>n(s,t[a])))}const w1="__name__";class qi{constructor(t,n,s){n===void 0?n=0:n>t.length&&wt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&wt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return qi.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof qi?t.forEach((s=>{n.push(s)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let a=0;a<s;a++){const l=qi.compareSegments(t.get(a),n.get(a));if(l!==0)return l}return Ut(t.length,n.length)}static compareSegments(t,n){const s=qi.isNumericId(t),a=qi.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?qi.extractNumericId(t).compare(qi.extractNumericId(n)):Kg(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return xr.fromString(t.substring(4,t.length-2))}}class se extends qi{construct(t,n,s){return new se(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new ft(st.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((a=>a.length>0)))}return new se(n)}static emptyPath(){return new se([])}}const R6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends qi{construct(t,n,s){return new en(t,n,s)}static isValidIdentifier(t){return R6.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===w1}static keyField(){return new en([w1])}static fromServerFormat(t){const n=[];let s="",a=0;const l=()=>{if(s.length===0)throw new ft(st.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;a<t.length;){const d=t[a];if(d==="\\"){if(a+1===t.length)throw new ft(st.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new ft(st.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=m,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(s+=d,a++):(l(),a++)}if(l(),c)throw new ft(st.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new en(n)}static emptyPath(){return new en([])}}class bt{constructor(t){this.path=t}static fromPath(t){return new bt(se.fromString(t))}static fromName(t){return new bt(se.fromString(t).popFirst(5))}static empty(){return new bt(se.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&se.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return se.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new bt(new se(t.slice()))}}function VA(e,t,n){if(!n)throw new ft(st.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function I6(e,t,n,s){if(t===!0&&s===!0)throw new ft(st.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function S1(e){if(!bt.isDocumentKey(e))throw new ft(st.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function x1(e){if(bt.isDocumentKey(e))throw new ft(st.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function OA(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function ud(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":wt(12329,{type:typeof e})}function As(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ft(st.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ud(e);throw new ft(st.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function Pe(e,t){const n={typeString:e};return t&&(n.value=t),n}function cc(e,t){if(!OA(e))throw new ft(st.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const a=t[s].typeString,l="value"in t[s]?{value:t[s].value}:void 0;if(!(s in e)){n=`JSON missing required field: '${s}'`;break}const c=e[s];if(a&&typeof c!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${s}' field to equal '${l.value}'`;break}}if(n)throw new ft(st.INVALID_ARGUMENT,n);return!0}const A1=-62135596800,C1=1e6;class le{static now(){return le.fromMillis(Date.now())}static fromDate(t){return le.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*C1);return new le(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ft(st.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ft(st.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<A1)throw new ft(st.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ft(st.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/C1}_compareTo(t){return this.seconds===t.seconds?Ut(this.nanoseconds,t.nanoseconds):Ut(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:le._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(cc(t,le._jsonSchema))return new le(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-A1;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}le._jsonSchemaVersion="firestore/timestamp/1.0",le._jsonSchema={type:Pe("string",le._jsonSchemaVersion),seconds:Pe("number"),nanoseconds:Pe("number")};class xt{static fromTimestamp(t){return new xt(t)}static min(){return new xt(new le(0,0))}static max(){return new xt(new le(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Gu=-1;function N6(e,t){const n=e.toTimestamp().seconds,s=e.toTimestamp().nanoseconds+1,a=xt.fromTimestamp(s===1e9?new le(n+1,0):new le(n,s));return new Nr(a,bt.empty(),t)}function D6(e){return new Nr(e.readTime,e.key,Gu)}class Nr{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new Nr(xt.min(),bt.empty(),Gu)}static max(){return new Nr(xt.max(),bt.empty(),Gu)}}function k6(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=bt.comparator(e.documentKey,t.documentKey),n!==0?n:Ut(e.largestBatchId,t.largestBatchId))}const M6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class V6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function ll(e){if(e.code!==st.FAILED_PRECONDITION||e.message!==M6)throw e;mt("LocalStore","Unexpectedly lost primary lease")}class rt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&wt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new rt(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,a)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof rt?n:rt.resolve(n)}catch(n){return rt.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):rt.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):rt.reject(n)}static resolve(t){return new rt(((n,s)=>{n(t)}))}static reject(t){return new rt(((n,s)=>{s(t)}))}static waitFor(t){return new rt(((n,s)=>{let a=0,l=0,c=!1;t.forEach((d=>{++a,d.next((()=>{++l,c&&l===a&&n()}),(m=>s(m)))})),c=!0,l===a&&n()}))}static or(t){let n=rt.resolve(!1);for(const s of t)n=n.next((a=>a?rt.resolve(a):s()));return n}static forEach(t,n){const s=[];return t.forEach(((a,l)=>{s.push(n.call(this,a,l))})),this.waitFor(s)}static mapArray(t,n){return new rt(((s,a)=>{const l=t.length,c=new Array(l);let d=0;for(let m=0;m<l;m++){const p=m;n(t[p]).next((y=>{c[p]=y,++d,d===l&&s(c)}),(y=>a(y)))}}))}static doWhile(t,n){return new rt(((s,a)=>{const l=()=>{t()===!0?n().next((()=>{l()}),a):s()};l()}))}}function O6(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ul(e){return e.name==="IndexedDbTransactionError"}class cd{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}cd.ce=-1;const d0=-1;function hd(e){return e==null}function zf(e){return e===0&&1/e==-1/0}function P6(e){return typeof e=="number"&&Number.isInteger(e)&&!zf(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const PA="";function L6(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=R1(t)),t=j6(e.get(n),t);return R1(t)}function j6(e,t){let n=t;const s=e.length;for(let a=0;a<s;a++){const l=e.charAt(a);switch(l){case"\0":n+="";break;case PA:n+="";break;default:n+=l}}return n}function R1(e){return e+PA+""}function I1(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Da(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function LA(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class pe{constructor(t,n){this.comparator=t,this.root=n||tn.EMPTY}insert(t,n){return new pe(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,tn.BLACK,null,null))}remove(t){return new pe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,tn.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(t,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,s)=>(t(n,s),!1)))}toString(){const t=[];return this.inorderTraversal(((n,s)=>(t.push(`${n}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Wh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Wh(this.root,t,this.comparator,!1)}getReverseIterator(){return new Wh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Wh(this.root,t,this.comparator,!0)}}class Wh{constructor(t,n,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=n?s(t.key,n):1,n&&a&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(l===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class tn{constructor(t,n,s,a,l){this.key=t,this.value=n,this.color=s??tn.RED,this.left=a??tn.EMPTY,this.right=l??tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,a,l){return new tn(t??this.key,n??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let a=this;const l=s(t,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(t,n,s),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(t,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return tn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,a=this;if(n(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(t,a.key)===0){if(a.right.isEmpty())return tn.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw wt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw wt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw wt(27949);return t+(this.isRed()?0:1)}}tn.EMPTY=null,tn.RED=!0,tn.BLACK=!1;tn.EMPTY=new class{constructor(){this.size=0}get key(){throw wt(57766)}get value(){throw wt(16141)}get color(){throw wt(16727)}get left(){throw wt(29726)}get right(){throw wt(36894)}copy(t,n,s,a,l){return this}insert(t,n,s){return new tn(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Fe{constructor(t){this.comparator=t,this.data=new pe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,s)=>(t(n),!1)))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,t[1])>=0)return;n(a.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new N1(this.data.getIterator())}getIteratorFrom(t){return new N1(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((s=>{n=n.add(s)})),n}isEqual(t){if(!(t instanceof Fe)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new Fe(this.comparator);return n.data=t,n}}class N1{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class pi{constructor(t){this.fields=t,t.sort(en.comparator)}static empty(){return new pi([])}unionWith(t){let n=new Fe(en.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new pi(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Ko(this.fields,t.fields,((n,s)=>n.isEqual(s)))}}class jA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class nn{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new jA("Invalid base64 string: "+l):l}})(t);return new nn(n)}static fromUint8Array(t){const n=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(t);return new nn(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ut(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const U6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Dr(e){if(Yt(!!e,39018),typeof e=="string"){let t=0;const n=U6.exec(e);if(Yt(!!n,46558,{timestamp:e}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),t=Number(a)}const s=new Date(e);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:we(e.seconds),nanos:we(e.nanos)}}function we(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function kr(e){return typeof e=="string"?nn.fromBase64String(e):nn.fromUint8Array(e)}const UA="server_timestamp",zA="__type__",BA="__previous_value__",FA="__local_write_time__";function m0(e){return(e?.mapValue?.fields||{})[zA]?.stringValue===UA}function fd(e){const t=e.mapValue.fields[BA];return m0(t)?fd(t):t}function Ku(e){const t=Dr(e.mapValue.fields[FA].timestampValue);return new le(t.seconds,t.nanos)}class z6{constructor(t,n,s,a,l,c,d,m,p,y,_){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=y,this.apiKey=_}}const Bf="(default)";class $u{constructor(t,n){this.projectId=t,this.database=n||Bf}static empty(){return new $u("","")}get isDefaultDatabase(){return this.database===Bf}isEqual(t){return t instanceof $u&&t.projectId===this.projectId&&t.database===this.database}}function B6(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new ft(st.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $u(e.options.projectId,t)}const HA="__type__",F6="__max__",Jh={mapValue:{}},qA="__vector__",Ff="value";function Mr(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?m0(e)?4:q6(e)?9007199254740991:H6(e)?10:11:wt(28295,{value:e})}function ts(e,t){if(e===t)return!0;const n=Mr(e);if(n!==Mr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ku(e).isEqual(Ku(t));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Dr(a.timestampValue),d=Dr(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(e,t);case 5:return e.stringValue===t.stringValue;case 6:return(function(a,l){return kr(a.bytesValue).isEqual(kr(l.bytesValue))})(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return(function(a,l){return we(a.geoPointValue.latitude)===we(l.geoPointValue.latitude)&&we(a.geoPointValue.longitude)===we(l.geoPointValue.longitude)})(e,t);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return we(a.integerValue)===we(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=we(a.doubleValue),d=we(l.doubleValue);return c===d?zf(c)===zf(d):isNaN(c)&&isNaN(d)}return!1})(e,t);case 9:return Ko(e.arrayValue.values||[],t.arrayValue.values||[],ts);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(I1(c)!==I1(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(d[m]===void 0||!ts(c[m],d[m])))return!1;return!0})(e,t);default:return wt(52216,{left:e})}}function Yu(e,t){return(e.values||[]).find((n=>ts(n,t)))!==void 0}function $o(e,t){if(e===t)return 0;const n=Mr(e),s=Mr(t);if(n!==s)return Ut(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ut(e.booleanValue,t.booleanValue);case 2:return(function(l,c){const d=we(l.integerValue||l.doubleValue),m=we(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1})(e,t);case 3:return D1(e.timestampValue,t.timestampValue);case 4:return D1(Ku(e),Ku(t));case 5:return Kg(e.stringValue,t.stringValue);case 6:return(function(l,c){const d=kr(l),m=kr(c);return d.compareTo(m)})(e.bytesValue,t.bytesValue);case 7:return(function(l,c){const d=l.split("/"),m=c.split("/");for(let p=0;p<d.length&&p<m.length;p++){const y=Ut(d[p],m[p]);if(y!==0)return y}return Ut(d.length,m.length)})(e.referenceValue,t.referenceValue);case 8:return(function(l,c){const d=Ut(we(l.latitude),we(c.latitude));return d!==0?d:Ut(we(l.longitude),we(c.longitude))})(e.geoPointValue,t.geoPointValue);case 9:return k1(e.arrayValue,t.arrayValue);case 10:return(function(l,c){const d=l.fields||{},m=c.fields||{},p=d[Ff]?.arrayValue,y=m[Ff]?.arrayValue,_=Ut(p?.values?.length||0,y?.values?.length||0);return _!==0?_:k1(p,y)})(e.mapValue,t.mapValue);case 11:return(function(l,c){if(l===Jh.mapValue&&c===Jh.mapValue)return 0;if(l===Jh.mapValue)return 1;if(c===Jh.mapValue)return-1;const d=l.fields||{},m=Object.keys(d),p=c.fields||{},y=Object.keys(p);m.sort(),y.sort();for(let _=0;_<m.length&&_<y.length;++_){const T=Kg(m[_],y[_]);if(T!==0)return T;const C=$o(d[m[_]],p[y[_]]);if(C!==0)return C}return Ut(m.length,y.length)})(e.mapValue,t.mapValue);default:throw wt(23264,{he:n})}}function D1(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Ut(e,t);const n=Dr(e),s=Dr(t),a=Ut(n.seconds,s.seconds);return a!==0?a:Ut(n.nanos,s.nanos)}function k1(e,t){const n=e.values||[],s=t.values||[];for(let a=0;a<n.length&&a<s.length;++a){const l=$o(n[a],s[a]);if(l)return l}return Ut(n.length,s.length)}function Yo(e){return $g(e)}function $g(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?(function(n){const s=Dr(n);return`time(${s.seconds},${s.nanos})`})(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?(function(n){return kr(n).toBase64()})(e.bytesValue):"referenceValue"in e?(function(n){return bt.fromName(n).toString()})(e.referenceValue):"geoPointValue"in e?(function(n){return`geo(${n.latitude},${n.longitude})`})(e.geoPointValue):"arrayValue"in e?(function(n){let s="[",a=!0;for(const l of n.values||[])a?a=!1:s+=",",s+=$g(l);return s+"]"})(e.arrayValue):"mapValue"in e?(function(n){const s=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of s)l?l=!1:a+=",",a+=`${c}:${$g(n.fields[c])}`;return a+"}"})(e.mapValue):wt(61005,{value:e})}function yf(e){switch(Mr(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=fd(e);return t?16+yf(t):16;case 5:return 2*e.stringValue.length;case 6:return kr(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,l)=>a+yf(l)),0)})(e.arrayValue);case 10:case 11:return(function(s){let a=0;return Da(s.fields,((l,c)=>{a+=l.length+yf(c)})),a})(e.mapValue);default:throw wt(13486,{value:e})}}function M1(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Yg(e){return!!e&&"integerValue"in e}function p0(e){return!!e&&"arrayValue"in e}function V1(e){return!!e&&"nullValue"in e}function O1(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function vf(e){return!!e&&"mapValue"in e}function H6(e){return(e?.mapValue?.fields||{})[HA]?.stringValue===qA}function Mu(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return Da(e.mapValue.fields,((n,s)=>t.mapValue.fields[n]=Mu(s))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Mu(e.arrayValue.values[n]);return t}return{...e}}function q6(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===F6}class Yn{constructor(t){this.value=t}static empty(){return new Yn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!vf(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Mu(n)}setAll(t){let n=en.emptyPath(),s={},a=[];t.forEach(((c,d)=>{if(!n.isImmediateParentOf(d)){const m=this.getFieldsMap(n);this.applyChanges(m,s,a),s={},a=[],n=d.popLast()}c?s[d.lastSegment()]=Mu(c):a.push(d.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,s,a)}delete(t){const n=this.field(t.popLast());vf(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return ts(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let a=n.mapValue.fields[t.get(s)];vf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(t,n,s){Da(n,((a,l)=>t[a]=l));for(const a of s)delete t[a]}clone(){return new Yn(Mu(this.value))}}function GA(e){const t=[];return Da(e.fields,((n,s)=>{const a=new en([n]);if(vf(s)){const l=GA(s.mapValue).fields;if(l.length===0)t.push(a);else for(const c of l)t.push(a.child(c))}else t.push(a)})),new pi(t)}class ln{constructor(t,n,s,a,l,c,d){this.key=t,this.documentType=n,this.version=s,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(t){return new ln(t,0,xt.min(),xt.min(),xt.min(),Yn.empty(),0)}static newFoundDocument(t,n,s,a){return new ln(t,1,n,xt.min(),s,a,0)}static newNoDocument(t,n){return new ln(t,2,n,xt.min(),xt.min(),Yn.empty(),0)}static newUnknownDocument(t,n){return new ln(t,3,n,xt.min(),xt.min(),Yn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(xt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Yn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ln&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Hf{constructor(t,n){this.position=t,this.inclusive=n}}function P1(e,t,n){let s=0;for(let a=0;a<e.position.length;a++){const l=t[a],c=e.position[a];if(l.field.isKeyField()?s=bt.comparator(bt.fromName(c.referenceValue),n.key):s=$o(c,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function L1(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!ts(e.position[n],t.position[n]))return!1;return!0}class Qu{constructor(t,n="asc"){this.field=t,this.dir=n}}function G6(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class KA{}class Oe extends KA{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new $6(t,n,s):n==="array-contains"?new X6(t,s):n==="in"?new W6(t,s):n==="not-in"?new J6(t,s):n==="array-contains-any"?new Z6(t,s):new Oe(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new Y6(t,s):new Q6(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison($o(n,this.value)):n!==null&&Mr(this.value)===Mr(n)&&this.matchesComparison($o(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return wt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class bi extends KA{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new bi(t,n)}matches(t){return $A(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function $A(e){return e.op==="and"}function YA(e){return K6(e)&&$A(e)}function K6(e){for(const t of e.filters)if(t instanceof bi)return!1;return!0}function Qg(e){if(e instanceof Oe)return e.field.canonicalString()+e.op.toString()+Yo(e.value);if(YA(e))return e.filters.map((t=>Qg(t))).join(",");{const t=e.filters.map((n=>Qg(n))).join(",");return`${e.op}(${t})`}}function QA(e,t){return e instanceof Oe?(function(s,a){return a instanceof Oe&&s.op===a.op&&s.field.isEqual(a.field)&&ts(s.value,a.value)})(e,t):e instanceof bi?(function(s,a){return a instanceof bi&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,c,d)=>l&&QA(c,a.filters[d])),!0):!1})(e,t):void wt(19439)}function XA(e){return e instanceof Oe?(function(n){return`${n.field.canonicalString()} ${n.op} ${Yo(n.value)}`})(e):e instanceof bi?(function(n){return n.op.toString()+" {"+n.getFilters().map(XA).join(" ,")+"}"})(e):"Filter"}class $6 extends Oe{constructor(t,n,s){super(t,n,s),this.key=bt.fromName(s.referenceValue)}matches(t){const n=bt.comparator(t.key,this.key);return this.matchesComparison(n)}}class Y6 extends Oe{constructor(t,n){super(t,"in",n),this.keys=WA("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class Q6 extends Oe{constructor(t,n){super(t,"not-in",n),this.keys=WA("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function WA(e,t){return(t.arrayValue?.values||[]).map((n=>bt.fromName(n.referenceValue)))}class X6 extends Oe{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return p0(n)&&Yu(n.arrayValue,this.value)}}class W6 extends Oe{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Yu(this.value.arrayValue,n)}}class J6 extends Oe{constructor(t,n){super(t,"not-in",n)}matches(t){if(Yu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Yu(this.value.arrayValue,n)}}class Z6 extends Oe{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!p0(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Yu(this.value.arrayValue,s)))}}class t5{constructor(t,n=null,s=[],a=[],l=null,c=null,d=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.Te=null}}function j1(e,t=null,n=[],s=[],a=null,l=null,c=null){return new t5(e,t,n,s,a,l,c)}function g0(e){const t=Ct(e);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((s=>Qg(s))).join(","),n+="|ob:",n+=t.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),hd(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>Yo(s))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>Yo(s))).join(",")),t.Te=n}return t.Te}function y0(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!G6(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!QA(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!L1(e.startAt,t.startAt)&&L1(e.endAt,t.endAt)}function Xg(e){return bt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}class cl{constructor(t,n=null,s=[],a=[],l=null,c="F",d=null,m=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=m,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function e5(e,t,n,s,a,l,c,d){return new cl(e,t,n,s,a,l,c,d)}function v0(e){return new cl(e)}function U1(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function n5(e){return bt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}function JA(e){return e.collectionGroup!==null}function Vu(e){const t=Ct(e);if(t.Ie===null){t.Ie=[];const n=new Set;for(const l of t.explicitOrderBy)t.Ie.push(l),n.add(l.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Fe(en.comparator);return c.filters.forEach((m=>{m.getFlattenedFilters().forEach((p=>{p.isInequality()&&(d=d.add(p.field))}))})),d})(t).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||t.Ie.push(new Qu(l,s))})),n.has(en.keyField().canonicalString())||t.Ie.push(new Qu(en.keyField(),s))}return t.Ie}function $i(e){const t=Ct(e);return t.Ee||(t.Ee=i5(t,Vu(e))),t.Ee}function i5(e,t){if(e.limitType==="F")return j1(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Qu(a.field,l)}));const n=e.endAt?new Hf(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new Hf(e.startAt.position,e.startAt.inclusive):null;return j1(e.path,e.collectionGroup,t,e.filters,e.limit,n,s)}}function Wg(e,t){const n=e.filters.concat([t]);return new cl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function s5(e,t){const n=e.explicitOrderBy.concat([t]);return new cl(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}function qf(e,t,n){return new cl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function dd(e,t){return y0($i(e),$i(t))&&e.limitType===t.limitType}function ZA(e){return`${g0($i(e))}|lt:${e.limitType}`}function Ro(e){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((a=>XA(a))).join(", ")}]`),hd(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((a=>Yo(a))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((a=>Yo(a))).join(",")),`Target(${s})`})($i(e))}; limitType=${e.limitType})`}function md(e,t){return t.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):bt.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(e,t)&&(function(s,a){for(const l of Vu(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(e,t)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(e,t)&&(function(s,a){return!(s.startAt&&!(function(c,d,m){const p=P1(c,d,m);return c.inclusive?p<=0:p<0})(s.startAt,Vu(s),a)||s.endAt&&!(function(c,d,m){const p=P1(c,d,m);return c.inclusive?p>=0:p>0})(s.endAt,Vu(s),a))})(e,t)}function r5(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function tC(e){return(t,n)=>{let s=!1;for(const a of Vu(e)){const l=a5(a,t,n);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function a5(e,t,n){const s=e.field.isKeyField()?bt.comparator(t.key,n.key):(function(l,c,d){const m=c.data.field(l),p=d.data.field(l);return m!==null&&p!==null?$o(m,p):wt(42886)})(e.field,t,n);switch(e.dir){case"asc":return s;case"desc":return-1*s;default:return wt(19790,{direction:e.dir})}}class ka{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,t))return l}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),a=this.inner[s];if(a===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return void(a[l]=[t,n]);a.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],t))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(t){Da(this.inner,((n,s)=>{for(const[a,l]of s)t(a,l)}))}isEmpty(){return LA(this.inner)}size(){return this.innerSize}}const o5=new pe(bt.comparator);function ks(){return o5}const eC=new pe(bt.comparator);function Su(...e){let t=eC;for(const n of e)t=t.insert(n.key,n);return t}function nC(e){let t=eC;return e.forEach(((n,s)=>t=t.insert(n,s.overlayedDocument))),t}function ba(){return Ou()}function iC(){return Ou()}function Ou(){return new ka((e=>e.toString()),((e,t)=>e.isEqual(t)))}const l5=new pe(bt.comparator),u5=new Fe(bt.comparator);function zt(...e){let t=u5;for(const n of e)t=t.add(n);return t}const c5=new Fe(Ut);function h5(){return c5}function _0(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zf(t)?"-0":t}}function sC(e){return{integerValue:""+e}}function f5(e,t){return P6(t)?sC(t):_0(e,t)}class pd{constructor(){this._=void 0}}function d5(e,t,n){return e instanceof Gf?(function(a,l){const c={fields:{[zA]:{stringValue:UA},[FA]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&m0(l)&&(l=fd(l)),l&&(c.fields[BA]=l),{mapValue:c}})(n,t):e instanceof Xu?aC(e,t):e instanceof Wu?oC(e,t):(function(a,l){const c=rC(a,l),d=z1(c)+z1(a.Ae);return Yg(c)&&Yg(a.Ae)?sC(d):_0(a.serializer,d)})(e,t)}function m5(e,t,n){return e instanceof Xu?aC(e,t):e instanceof Wu?oC(e,t):n}function rC(e,t){return e instanceof Kf?(function(s){return Yg(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(t)?t:{integerValue:0}:null}class Gf extends pd{}class Xu extends pd{constructor(t){super(),this.elements=t}}function aC(e,t){const n=lC(t);for(const s of e.elements)n.some((a=>ts(a,s)))||n.push(s);return{arrayValue:{values:n}}}class Wu extends pd{constructor(t){super(),this.elements=t}}function oC(e,t){let n=lC(t);for(const s of e.elements)n=n.filter((a=>!ts(a,s)));return{arrayValue:{values:n}}}class Kf extends pd{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function z1(e){return we(e.integerValue||e.doubleValue)}function lC(e){return p0(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function p5(e,t){return e.field.isEqual(t.field)&&(function(s,a){return s instanceof Xu&&a instanceof Xu||s instanceof Wu&&a instanceof Wu?Ko(s.elements,a.elements,ts):s instanceof Kf&&a instanceof Kf?ts(s.Ae,a.Ae):s instanceof Gf&&a instanceof Gf})(e.transform,t.transform)}class g5{constructor(t,n){this.version=t,this.transformResults=n}}class Yi{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Yi}static exists(t){return new Yi(void 0,t)}static updateTime(t){return new Yi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function _f(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class gd{}function uC(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new hC(e.key,Yi.none()):new hc(e.key,e.data,Yi.none());{const n=e.data,s=Yn.empty();let a=new Fe(en.comparator);for(let l of t.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?s.delete(l):s.set(l,c),a=a.add(l)}return new Ma(e.key,s,new pi(a.toArray()),Yi.none())}}function y5(e,t,n){e instanceof hc?(function(a,l,c){const d=a.value.clone(),m=F1(a.fieldTransforms,l,c.transformResults);d.setAll(m),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(e,t,n):e instanceof Ma?(function(a,l,c){if(!_f(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=F1(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(cC(a)),m.setAll(d),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(e,t,n):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,n)}function Pu(e,t,n,s){return e instanceof hc?(function(l,c,d,m){if(!_f(l.precondition,c))return d;const p=l.value.clone(),y=H1(l.fieldTransforms,m,c);return p.setAll(y),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null})(e,t,n,s):e instanceof Ma?(function(l,c,d,m){if(!_f(l.precondition,c))return d;const p=H1(l.fieldTransforms,m,c),y=c.data;return y.setAll(cC(l)),y.setAll(p),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((_=>_.field)))})(e,t,n,s):(function(l,c,d){return _f(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(e,t,n)}function v5(e,t){let n=null;for(const s of e.fieldTransforms){const a=t.data.field(s.field),l=rC(s.transform,a||null);l!=null&&(n===null&&(n=Yn.empty()),n.set(s.field,l))}return n||null}function B1(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Ko(s,a,((l,c)=>p5(l,c)))})(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class hc extends gd{constructor(t,n,s,a=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ma extends gd{constructor(t,n,s,a,l=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function cC(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=e.data.field(n);t.set(n,s)}})),t}function F1(e,t,n){const s=new Map;Yt(e.length===n.length,32656,{Ve:n.length,de:e.length});for(let a=0;a<n.length;a++){const l=e[a],c=l.transform,d=t.data.field(l.field);s.set(l.field,m5(c,d,n[a]))}return s}function H1(e,t,n){const s=new Map;for(const a of e){const l=a.transform,c=n.data.field(a.field);s.set(a.field,d5(l,c,t))}return s}class hC extends gd{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _5 extends gd{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class b5{constructor(t,n,s,a){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(t.key)&&y5(l,t,s[a])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=Pu(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=Pu(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=iC();return this.mutations.forEach((a=>{const l=t.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=n.has(a.key)?null:d;const m=uC(c,d);m!==null&&s.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(xt.min())})),s}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),zt())}isEqual(t){return this.batchId===t.batchId&&Ko(this.mutations,t.mutations,((n,s)=>B1(n,s)))&&Ko(this.baseMutations,t.baseMutations,((n,s)=>B1(n,s)))}}class b0{constructor(t,n,s,a){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(t,n,s){Yt(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let a=(function(){return l5})();const l=t.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,s[c].version);return new b0(t,n,s,a)}}class T5{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class E5{constructor(t,n){this.count=t,this.unchangedNames=n}}var Me,Ht;function w5(e){switch(e){case st.OK:return wt(64938);case st.CANCELLED:case st.UNKNOWN:case st.DEADLINE_EXCEEDED:case st.RESOURCE_EXHAUSTED:case st.INTERNAL:case st.UNAVAILABLE:case st.UNAUTHENTICATED:return!1;case st.INVALID_ARGUMENT:case st.NOT_FOUND:case st.ALREADY_EXISTS:case st.PERMISSION_DENIED:case st.FAILED_PRECONDITION:case st.ABORTED:case st.OUT_OF_RANGE:case st.UNIMPLEMENTED:case st.DATA_LOSS:return!0;default:return wt(15467,{code:e})}}function fC(e){if(e===void 0)return Ds("GRPC error has no .code"),st.UNKNOWN;switch(e){case Me.OK:return st.OK;case Me.CANCELLED:return st.CANCELLED;case Me.UNKNOWN:return st.UNKNOWN;case Me.DEADLINE_EXCEEDED:return st.DEADLINE_EXCEEDED;case Me.RESOURCE_EXHAUSTED:return st.RESOURCE_EXHAUSTED;case Me.INTERNAL:return st.INTERNAL;case Me.UNAVAILABLE:return st.UNAVAILABLE;case Me.UNAUTHENTICATED:return st.UNAUTHENTICATED;case Me.INVALID_ARGUMENT:return st.INVALID_ARGUMENT;case Me.NOT_FOUND:return st.NOT_FOUND;case Me.ALREADY_EXISTS:return st.ALREADY_EXISTS;case Me.PERMISSION_DENIED:return st.PERMISSION_DENIED;case Me.FAILED_PRECONDITION:return st.FAILED_PRECONDITION;case Me.ABORTED:return st.ABORTED;case Me.OUT_OF_RANGE:return st.OUT_OF_RANGE;case Me.UNIMPLEMENTED:return st.UNIMPLEMENTED;case Me.DATA_LOSS:return st.DATA_LOSS;default:return wt(39323,{code:e})}}(Ht=Me||(Me={}))[Ht.OK=0]="OK",Ht[Ht.CANCELLED=1]="CANCELLED",Ht[Ht.UNKNOWN=2]="UNKNOWN",Ht[Ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ht[Ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ht[Ht.NOT_FOUND=5]="NOT_FOUND",Ht[Ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ht[Ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ht[Ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ht[Ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ht[Ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ht[Ht.ABORTED=10]="ABORTED",Ht[Ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ht[Ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ht[Ht.INTERNAL=13]="INTERNAL",Ht[Ht.UNAVAILABLE=14]="UNAVAILABLE",Ht[Ht.DATA_LOSS=15]="DATA_LOSS";function S5(){return new TextEncoder}const x5=new xr([4294967295,4294967295],0);function q1(e){const t=S5().encode(e),n=new AA;return n.update(t),new Uint8Array(n.digest())}function G1(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),a=t.getUint32(8,!0),l=t.getUint32(12,!0);return[new xr([n,s],0),new xr([a,l],0)]}class T0{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new xu(`Invalid padding: ${n}`);if(s<0)throw new xu(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new xu(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new xu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=xr.fromNumber(this.ge)}ye(t,n,s){let a=t.add(n.multiply(xr.fromNumber(s)));return a.compare(x5)===1&&(a=new xr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=q1(t),[s,a]=G1(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);if(!this.we(c))return!1}return!0}static create(t,n,s){const a=t%8==0?0:8-t%8,l=new Uint8Array(Math.ceil(t/8)),c=new T0(l,a,n);return s.forEach((d=>c.insert(d))),c}insert(t){if(this.ge===0)return;const n=q1(t),[s,a]=G1(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);this.be(c)}}be(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class xu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class yd{constructor(t,n,s,a,l){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const a=new Map;return a.set(t,fc.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new yd(xt.min(),a,new pe(Ut),ks(),zt())}}class fc{constructor(t,n,s,a,l){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new fc(s,n,zt(),zt(),zt())}}class bf{constructor(t,n,s,a){this.Se=t,this.removedTargetIds=n,this.key=s,this.De=a}}class dC{constructor(t,n){this.targetId=t,this.Ce=n}}class mC{constructor(t,n,s=nn.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=a}}class K1{constructor(){this.ve=0,this.Fe=$1(),this.Me=nn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=zt(),n=zt(),s=zt();return this.Fe.forEach(((a,l)=>{switch(l){case 0:t=t.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:wt(38017,{changeType:l})}})),new fc(this.Me,this.xe,t,n,s)}Ke(){this.Oe=!1,this.Fe=$1()}qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Yt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class A5{constructor(t){this.Ge=t,this.ze=new Map,this.je=ks(),this.He=Zh(),this.Je=Zh(),this.Ze=new pe(Ut)}Xe(t){for(const n of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(t.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:wt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((s,a)=>{this.rt(a)&&n(a)}))}st(t){const n=t.targetId,s=t.Ce.count,a=this.ot(n);if(a){const l=a.target;if(Xg(l))if(s===0){const c=new bt(l.path);this.et(n,c,ln.newNoDocument(c,xt.min()))}else Yt(s===1,20013,{expectedCount:s});else{const c=this._t(n);if(c!==s){const d=this.ut(t),m=d?this.ct(d,t,c):1;if(m!==0){this.it(n);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=n;let c,d;try{c=kr(s).toUint8Array()}catch(m){if(m instanceof jA)return Ia("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new T0(c,a,l)}catch(m){return Ia(m instanceof xu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.ge===0?null:d}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let a=0;return s.forEach((l=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;t.mightContain(d)||(this.et(n,l,null),a++)})),a}Tt(t){const n=new Map;this.ze.forEach(((l,c)=>{const d=this.ot(c);if(d){if(l.current&&Xg(d.target)){const m=new bt(d.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,ln.newNoDocument(m,t))}l.Be&&(n.set(c,l.ke()),l.Ke())}}));let s=zt();this.Je.forEach(((l,c)=>{let d=!0;c.forEachWhile((m=>{const p=this.ot(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(s=s.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(t)));const a=new yd(t,n,this.Ze,this.je,s);return this.je=ks(),this.He=Zh(),this.Je=Zh(),this.Ze=new pe(Ut),a}Ye(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(t)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const a=this.nt(t);this.Et(t,n)?a.qe(n,1):a.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(t)),this.Je=this.Je.insert(n,this.Rt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let n=this.ze.get(t);return n||(n=new K1,this.ze.set(t,n)),n}Rt(t){let n=this.Je.get(t);return n||(n=new Fe(Ut),this.Je=this.Je.insert(t,n)),n}It(t){let n=this.He.get(t);return n||(n=new Fe(Ut),this.He=this.He.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||mt("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new K1),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Zh(){return new pe(bt.comparator)}function $1(){return new pe(bt.comparator)}const C5={asc:"ASCENDING",desc:"DESCENDING"},R5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},I5={and:"AND",or:"OR"};class N5{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Jg(e,t){return e.useProto3Json||hd(t)?t:{value:t}}function $f(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function pC(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function D5(e,t){return $f(e,t.toTimestamp())}function Qi(e){return Yt(!!e,49232),xt.fromTimestamp((function(n){const s=Dr(n);return new le(s.seconds,s.nanos)})(e))}function E0(e,t){return Zg(e,t).canonicalString()}function Zg(e,t){const n=(function(a){return new se(["projects",a.projectId,"databases",a.database])})(e).child("documents");return t===void 0?n:n.child(t)}function gC(e){const t=se.fromString(e);return Yt(TC(t),10190,{key:t.toString()}),t}function ty(e,t){return E0(e.databaseId,t.path)}function sg(e,t){const n=gC(t);if(n.get(1)!==e.databaseId.projectId)throw new ft(st.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ft(st.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new bt(vC(n))}function yC(e,t){return E0(e.databaseId,t)}function k5(e){const t=gC(e);return t.length===4?se.emptyPath():vC(t)}function ey(e){return new se(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function vC(e){return Yt(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function Y1(e,t,n){return{name:ty(e,t),fields:n.value.mapValue.fields}}function M5(e,t){let n;if("targetChange"in t){t.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:wt(39313,{state:p})})(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],l=(function(p,y){return p.useProto3Json?(Yt(y===void 0||typeof y=="string",58123),nn.fromBase64String(y||"")):(Yt(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),nn.fromUint8Array(y||new Uint8Array))})(e,t.targetChange.resumeToken),c=t.targetChange.cause,d=c&&(function(p){const y=p.code===void 0?st.UNKNOWN:fC(p.code);return new ft(y,p.message||"")})(c);n=new mC(s,a,l,d||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const a=sg(e,s.document.name),l=Qi(s.document.updateTime),c=s.document.createTime?Qi(s.document.createTime):xt.min(),d=new Yn({mapValue:{fields:s.document.fields}}),m=ln.newFoundDocument(a,l,c,d),p=s.targetIds||[],y=s.removedTargetIds||[];n=new bf(p,y,m.key,m)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const a=sg(e,s.document),l=s.readTime?Qi(s.readTime):xt.min(),c=ln.newNoDocument(a,l),d=s.removedTargetIds||[];n=new bf([],d,c.key,c)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const a=sg(e,s.document),l=s.removedTargetIds||[];n=new bf([],l,a,null)}else{if(!("filter"in t))return wt(11601,{Vt:t});{t.filter;const s=t.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,c=new E5(a,l),d=s.targetId;n=new dC(d,c)}}return n}function V5(e,t){let n;if(t instanceof hc)n={update:Y1(e,t.key,t.value)};else if(t instanceof hC)n={delete:ty(e,t.key)};else if(t instanceof Ma)n={update:Y1(e,t.key,t.data),updateMask:H5(t.fieldMask)};else{if(!(t instanceof _5))return wt(16599,{dt:t.type});n={verify:ty(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((s=>(function(l,c){const d=c.transform;if(d instanceof Gf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Xu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Wu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Kf)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw wt(20930,{transform:c.transform})})(0,s)))),t.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:D5(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:wt(27497)})(e,t.precondition)),n}function O5(e,t){return e&&e.length>0?(Yt(t!==void 0,14353),e.map((n=>(function(a,l){let c=a.updateTime?Qi(a.updateTime):Qi(l);return c.isEqual(xt.min())&&(c=Qi(l)),new g5(c,a.transformResults||[])})(n,t)))):[]}function P5(e,t){return{documents:[yC(e,t.path)]}}function L5(e,t){const n={structuredQuery:{}},s=t.path;let a;t.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=yC(e,a);const l=(function(p){if(p.length!==0)return bC(bi.create(p,"and"))})(t.filters);l&&(n.structuredQuery.where=l);const c=(function(p){if(p.length!==0)return p.map((y=>(function(T){return{field:Io(T.field),direction:z5(T.dir)}})(y)))})(t.orderBy);c&&(n.structuredQuery.orderBy=c);const d=Jg(e,t.limit);return d!==null&&(n.structuredQuery.limit=d),t.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(t.endAt)),{ft:n,parent:a}}function j5(e){let t=k5(e.parent);const n=e.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){Yt(s===1,65062);const y=n.from[0];y.allDescendants?a=y.collectionId:t=t.child(y.collectionId)}let l=[];n.where&&(l=(function(_){const T=_C(_);return T instanceof bi&&YA(T)?T.getFilters():[T]})(n.where));let c=[];n.orderBy&&(c=(function(_){return _.map((T=>(function(D){return new Qu(No(D.field),(function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(D.direction))})(T)))})(n.orderBy));let d=null;n.limit&&(d=(function(_){let T;return T=typeof _=="object"?_.value:_,hd(T)?null:T})(n.limit));let m=null;n.startAt&&(m=(function(_){const T=!!_.before,C=_.values||[];return new Hf(C,T)})(n.startAt));let p=null;return n.endAt&&(p=(function(_){const T=!_.before,C=_.values||[];return new Hf(C,T)})(n.endAt)),e5(t,a,c,l,d,"F",m,p)}function U5(e,t){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return wt(28987,{purpose:a})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function _C(e){return e.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=No(n.unaryFilter.field);return Oe.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=No(n.unaryFilter.field);return Oe.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=No(n.unaryFilter.field);return Oe.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=No(n.unaryFilter.field);return Oe.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return wt(61313);default:return wt(60726)}})(e):e.fieldFilter!==void 0?(function(n){return Oe.create(No(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return wt(58110);default:return wt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(e):e.compositeFilter!==void 0?(function(n){return bi.create(n.compositeFilter.filters.map((s=>_C(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return wt(1026)}})(n.compositeFilter.op))})(e):wt(30097,{filter:e})}function z5(e){return C5[e]}function B5(e){return R5[e]}function F5(e){return I5[e]}function Io(e){return{fieldPath:e.canonicalString()}}function No(e){return en.fromServerFormat(e.fieldPath)}function bC(e){return e instanceof Oe?(function(n){if(n.op==="=="){if(O1(n.value))return{unaryFilter:{field:Io(n.field),op:"IS_NAN"}};if(V1(n.value))return{unaryFilter:{field:Io(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(O1(n.value))return{unaryFilter:{field:Io(n.field),op:"IS_NOT_NAN"}};if(V1(n.value))return{unaryFilter:{field:Io(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Io(n.field),op:B5(n.op),value:n.value}}})(e):e instanceof bi?(function(n){const s=n.getFilters().map((a=>bC(a)));return s.length===1?s[0]:{compositeFilter:{op:F5(n.op),filters:s}}})(e):wt(54877,{filter:e})}function H5(e){const t=[];return e.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function TC(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}function EC(e){return!!e&&typeof e._toProto=="function"&&e._protoValueType==="ProtoValue"}class Tr{constructor(t,n,s,a,l=xt.min(),c=xt.min(),d=nn.EMPTY_BYTE_STRING,m=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(t){return new Tr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Tr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Tr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Tr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class q5{constructor(t){this.yt=t}}function G5(e){const t=j5({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?qf(t,t.limit,"L"):t}class K5{constructor(){this.Sn=new $5}addToCollectionParentIndex(t,n){return this.Sn.add(n),rt.resolve()}getCollectionParents(t,n){return rt.resolve(this.Sn.getEntries(n))}addFieldIndex(t,n){return rt.resolve()}deleteFieldIndex(t,n){return rt.resolve()}deleteAllFieldIndexes(t){return rt.resolve()}createTargetIndexes(t,n){return rt.resolve()}getDocumentsMatchingTarget(t,n){return rt.resolve(null)}getIndexType(t,n){return rt.resolve(0)}getFieldIndexes(t,n){return rt.resolve([])}getNextCollectionGroupToUpdate(t){return rt.resolve(null)}getMinOffset(t,n){return rt.resolve(Nr.min())}getMinOffsetFromCollectionGroup(t,n){return rt.resolve(Nr.min())}updateCollectionGroup(t,n,s){return rt.resolve()}updateIndexEntries(t,n){return rt.resolve()}}class $5{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),a=this.index[n]||new Fe(se.comparator),l=!a.has(s);return this.index[n]=a.add(s),l}has(t){const n=t.lastSegment(),s=t.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(t){return(this.index[t]||new Fe(se.comparator)).toArray()}}const Q1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},wC=41943040;class Sn{static withCacheSize(t){return new Sn(t,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}Sn.DEFAULT_COLLECTION_PERCENTILE=10,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sn.DEFAULT=new Sn(wC,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sn.DISABLED=new Sn(-1,0,0);class Qo{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new Qo(0)}static ar(){return new Qo(-1)}}const X1="LruGarbageCollector",Y5=1048576;function W1([e,t],[n,s]){const a=Ut(e,n);return a===0?Ut(t,s):a}class Q5{constructor(t){this.Pr=t,this.buffer=new Fe(W1),this.Tr=0}Ir(){return++this.Tr}Er(t){const n=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();W1(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class X5{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){mt(X1,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ul(n)?mt(X1,"Ignoring IndexedDB error during garbage collection: ",n):await ll(n)}await this.Ar(3e5)}))}}class W5{constructor(t,n){this.Vr=t,this.params=n}calculateTargetCount(t,n){return this.Vr.dr(t).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(t,n){if(n===0)return rt.resolve(cd.ce);const s=new Q5(n);return this.Vr.forEachTarget(t,(a=>s.Er(a.sequenceNumber))).next((()=>this.Vr.mr(t,(a=>s.Er(a))))).next((()=>s.maxValue))}removeTargets(t,n,s){return this.Vr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.Vr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(mt("LruGarbageCollector","Garbage collection skipped; disabled"),rt.resolve(Q1)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(mt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Q1):this.gr(t,n)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,n){let s,a,l,c,d,m,p;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(mt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,c=Date.now(),this.nthSequenceNumber(t,a)))).next((_=>(s=_,d=Date.now(),this.removeTargets(t,s,n)))).next((_=>(l=_,m=Date.now(),this.removeOrphanedDocuments(t,s)))).next((_=>(p=Date.now(),Co()<=jt.DEBUG&&mt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(m-d)+`ms
	Removed ${_} documents in `+(p-m)+`ms
Total Duration: ${p-y}ms`),rt.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:_}))))}}function J5(e,t){return new W5(e,t)}class Z5{constructor(){this.changes=new ka((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,ln.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?rt.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class tL{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class eL{constructor(t,n,s,a){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next((a=>(s=a,this.remoteDocumentCache.getEntry(t,n)))).next((a=>(s!==null&&Pu(s.mutation,a,pi.empty(),le.now()),a)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.getLocalViewOfDocuments(t,s,zt()).next((()=>s))))}getLocalViewOfDocuments(t,n,s=zt()){const a=ba();return this.populateOverlays(t,a,n).next((()=>this.computeViews(t,n,a,s).next((l=>{let c=Su();return l.forEach(((d,m)=>{c=c.insert(d,m.overlayedDocument)})),c}))))}getOverlayedDocuments(t,n){const s=ba();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,zt())))}populateOverlays(t,n,s){const a=[];return s.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(t,a).next((l=>{l.forEach(((c,d)=>{n.set(c,d)}))}))}computeViews(t,n,s,a){let l=ks();const c=Ou(),d=(function(){return Ou()})();return n.forEach(((m,p)=>{const y=s.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof Ma)?l=l.insert(p.key,p):y!==void 0?(c.set(p.key,y.mutation.getFieldMask()),Pu(y.mutation,p,y.mutation.getFieldMask(),le.now())):c.set(p.key,pi.empty())})),this.recalculateAndSaveOverlays(t,l).next((m=>(m.forEach(((p,y)=>c.set(p,y))),n.forEach(((p,y)=>d.set(p,new tL(y,c.get(p)??null)))),d)))}recalculateAndSaveOverlays(t,n){const s=Ou();let a=new pe(((c,d)=>c-d)),l=zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((c=>{for(const d of c)d.keys().forEach((m=>{const p=n.get(m);if(p===null)return;let y=s.get(m)||pi.empty();y=d.applyToLocalView(p,y),s.set(m,y);const _=(a.get(d.batchId)||zt()).add(m);a=a.insert(d.batchId,_)}))})).next((()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),p=m.key,y=m.value,_=iC();y.forEach((T=>{if(!l.has(T)){const C=uC(n.get(T),s.get(T));C!==null&&_.set(T,C),l=l.add(T)}})),c.push(this.documentOverlayCache.saveOverlays(t,p,_))}return rt.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,n,s,a){return n5(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):JA(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,a):this.getDocumentsMatchingCollectionQuery(t,n,s,a)}getNextDocuments(t,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,a-l.size):rt.resolve(ba());let d=Gu,m=l;return c.next((p=>rt.forEach(p,((y,_)=>(d<_.largestBatchId&&(d=_.largestBatchId),l.get(y)?rt.resolve():this.remoteDocumentCache.getEntry(t,y).next((T=>{m=m.insert(y,T)}))))).next((()=>this.populateOverlays(t,p,l))).next((()=>this.computeViews(t,m,p,zt()))).next((y=>({batchId:d,changes:nC(y)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new bt(n)).next((s=>{let a=Su();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(t,n,s,a){const l=n.collectionGroup;let c=Su();return this.indexManager.getCollectionParents(t,l).next((d=>rt.forEach(d,(m=>{const p=(function(_,T){return new cl(T,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(t,p,s,a).next((y=>{y.forEach(((_,T)=>{c=c.insert(_,T)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,n,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,l,a)))).next((c=>{l.forEach(((m,p)=>{const y=p.getKey();c.get(y)===null&&(c=c.insert(y,ln.newInvalidDocument(y)))}));let d=Su();return c.forEach(((m,p)=>{const y=l.get(m);y!==void 0&&Pu(y.mutation,p,pi.empty(),le.now()),md(n,p)&&(d=d.insert(m,p))})),d}))}}class nL{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,n){return rt.resolve(this.Nr.get(n))}saveBundleMetadata(t,n){return this.Nr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:Qi(a.createTime)}})(n)),rt.resolve()}getNamedQuery(t,n){return rt.resolve(this.Br.get(n))}saveNamedQuery(t,n){return this.Br.set(n.name,(function(a){return{name:a.name,query:G5(a.bundledQuery),readTime:Qi(a.readTime)}})(n)),rt.resolve()}}class iL{constructor(){this.overlays=new pe(bt.comparator),this.Lr=new Map}getOverlay(t,n){return rt.resolve(this.overlays.get(n))}getOverlays(t,n){const s=ba();return rt.forEach(n,(a=>this.getOverlay(t,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(t,n,s){return s.forEach(((a,l)=>{this.bt(t,n,l)})),rt.resolve()}removeOverlaysForBatchId(t,n,s){const a=this.Lr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(s)),rt.resolve()}getOverlaysForCollection(t,n,s){const a=ba(),l=n.length+1,c=new bt(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const m=d.getNext().value,p=m.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>s&&a.set(m.getKey(),m)}return rt.resolve(a)}getOverlaysForCollectionGroup(t,n,s,a){let l=new pe(((p,y)=>p-y));const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let y=l.get(p.largestBatchId);y===null&&(y=ba(),l=l.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const d=ba(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((p,y)=>d.set(p,y))),!(d.size()>=a)););return rt.resolve(d)}bt(t,n,s){const a=this.overlays.get(s.key);if(a!==null){const c=this.Lr.get(a.largestBatchId).delete(s.key);this.Lr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new T5(n,s));let l=this.Lr.get(n);l===void 0&&(l=zt(),this.Lr.set(n,l)),this.Lr.set(n,l.add(s.key))}}class sL{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(t){return rt.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,rt.resolve()}}class w0{constructor(){this.kr=new Fe(Ke.Kr),this.qr=new Fe(Ke.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,n){const s=new Ke(t,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(t,n){t.forEach((s=>this.addReference(s,n)))}removeReference(t,n){this.Wr(new Ke(t,n))}Qr(t,n){t.forEach((s=>this.removeReference(s,n)))}Gr(t){const n=new bt(new se([])),s=new Ke(n,t),a=new Ke(n,t+1),l=[];return this.qr.forEachInRange([s,a],(c=>{this.Wr(c),l.push(c.key)})),l}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const n=new bt(new se([])),s=new Ke(n,t),a=new Ke(n,t+1);let l=zt();return this.qr.forEachInRange([s,a],(c=>{l=l.add(c.key)})),l}containsKey(t){const n=new Ke(t,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Ke{constructor(t,n){this.key=t,this.Hr=n}static Kr(t,n){return bt.comparator(t.key,n.key)||Ut(t.Hr,n.Hr)}static Ur(t,n){return Ut(t.Hr,n.Hr)||bt.comparator(t.key,n.key)}}class rL{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Fe(Ke.Kr)}checkEmpty(t){return rt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,a){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new b5(l,n,s,a);this.mutationQueue.push(c);for(const d of a)this.Jr=this.Jr.add(new Ke(d.key,l)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return rt.resolve(c)}lookupMutationBatch(t,n){return rt.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,a=this.Xr(s),l=a<0?0:a;return rt.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return rt.resolve(this.mutationQueue.length===0?d0:this.Yn-1)}getAllMutationBatches(t){return rt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Ke(n,0),a=new Ke(n,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([s,a],(c=>{const d=this.Zr(c.Hr);l.push(d)})),rt.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Fe(Ut);return n.forEach((a=>{const l=new Ke(a,0),c=new Ke(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,c],(d=>{s=s.add(d.Hr)}))})),rt.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,a=s.length+1;let l=s;bt.isDocumentKey(l)||(l=l.child(""));const c=new Ke(new bt(l),0);let d=new Fe(Ut);return this.Jr.forEachWhile((m=>{const p=m.key.path;return!!s.isPrefixOf(p)&&(p.length===a&&(d=d.add(m.Hr)),!0)}),c),rt.resolve(this.Yr(d))}Yr(t){const n=[];return t.forEach((s=>{const a=this.Zr(s);a!==null&&n.push(a)})),n}removeMutationBatch(t,n){Yt(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return rt.forEach(n.mutations,(a=>{const l=new Ke(a.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)})).next((()=>{this.Jr=s}))}nr(t){}containsKey(t,n){const s=new Ke(n,0),a=this.Jr.firstAfterOrEqual(s);return rt.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,rt.resolve()}ei(t,n){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const n=this.Xr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class aL{constructor(t){this.ti=t,this.docs=(function(){return new pe(bt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,a=this.docs.get(s),l=a?a.size:0,c=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return rt.resolve(s?s.document.mutableCopy():ln.newInvalidDocument(n))}getEntries(t,n){let s=ks();return n.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():ln.newInvalidDocument(a))})),rt.resolve(s)}getDocumentsMatchingQuery(t,n,s,a){let l=ks();const c=n.path,d=new bt(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:p,value:{document:y}}=m.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||k6(D6(y),s)<=0||(a.has(y.key)||md(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return rt.resolve(l)}getAllFromCollectionGroup(t,n,s,a){wt(9500)}ni(t,n){return rt.forEach(this.docs,(s=>n(s)))}newChangeBuffer(t){return new oL(this)}getSize(t){return rt.resolve(this.size)}}class oL extends Z5{constructor(t){super(),this.Mr=t}applyChanges(t){const n=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?n.push(this.Mr.addEntry(t,a)):this.Mr.removeEntry(s)})),rt.waitFor(n)}getFromCache(t,n){return this.Mr.getEntry(t,n)}getAllFromCache(t,n){return this.Mr.getEntries(t,n)}}class lL{constructor(t){this.persistence=t,this.ri=new ka((n=>g0(n)),y0),this.lastRemoteSnapshotVersion=xt.min(),this.highestTargetId=0,this.ii=0,this.si=new w0,this.targetCount=0,this.oi=Qo._r()}forEachTarget(t,n){return this.ri.forEach(((s,a)=>n(a))),rt.resolve()}getLastRemoteSnapshotVersion(t){return rt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return rt.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),rt.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),rt.resolve()}lr(t){this.ri.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.oi=new Qo(n),this.highestTargetId=n),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,n){return this.lr(n),this.targetCount+=1,rt.resolve()}updateTargetData(t,n){return this.lr(n),rt.resolve()}removeTargetData(t,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,rt.resolve()}removeTargets(t,n,s){let a=0;const l=[];return this.ri.forEach(((c,d)=>{d.sequenceNumber<=n&&s.get(d.targetId)===null&&(this.ri.delete(c),l.push(this.removeMatchingKeysForTargetId(t,d.targetId)),a++)})),rt.waitFor(l).next((()=>a))}getTargetCount(t){return rt.resolve(this.targetCount)}getTargetData(t,n){const s=this.ri.get(n)||null;return rt.resolve(s)}addMatchingKeys(t,n,s){return this.si.$r(n,s),rt.resolve()}removeMatchingKeys(t,n,s){this.si.Qr(n,s);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((c=>{l.push(a.markPotentiallyOrphaned(t,c))})),rt.waitFor(l)}removeMatchingKeysForTargetId(t,n){return this.si.Gr(n),rt.resolve()}getMatchingKeysForTargetId(t,n){const s=this.si.jr(n);return rt.resolve(s)}containsKey(t,n){return rt.resolve(this.si.containsKey(n))}}class SC{constructor(t,n){this._i={},this.overlays={},this.ai=new cd(0),this.ui=!1,this.ui=!0,this.ci=new sL,this.referenceDelegate=t(this),this.li=new lL(this),this.indexManager=new K5,this.remoteDocumentCache=(function(a){return new aL(a)})((s=>this.referenceDelegate.hi(s))),this.serializer=new q5(n),this.Pi=new nL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new iL,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this._i[t.toKey()];return s||(s=new rL(n,this.referenceDelegate),this._i[t.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,n,s){mt("MemoryPersistence","Starting transaction:",t);const a=new uL(this.ai.next());return this.referenceDelegate.Ti(),s(a).next((l=>this.referenceDelegate.Ii(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ei(t,n){return rt.or(Object.values(this._i).map((s=>()=>s.containsKey(t,n))))}}class uL extends V6{constructor(t){super(),this.currentSequenceNumber=t}}class S0{constructor(t){this.persistence=t,this.Ri=new w0,this.Ai=null}static Vi(t){return new S0(t)}get di(){if(this.Ai)return this.Ai;throw wt(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),rt.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),rt.resolve()}markPotentiallyOrphaned(t,n){return this.di.add(n.toString()),rt.resolve()}removeTarget(t,n){this.Ri.Gr(n.targetId).forEach((a=>this.di.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next((a=>{a.forEach((l=>this.di.add(l.toString())))})).next((()=>s.removeTargetData(t,n)))}Ti(){this.Ai=new Set}Ii(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return rt.forEach(this.di,(s=>{const a=bt.fromPath(s);return this.mi(t,a).next((l=>{l||n.removeEntry(a,xt.min())}))})).next((()=>(this.Ai=null,n.apply(t))))}updateLimboDocument(t,n){return this.mi(t,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(t){return 0}mi(t,n){return rt.or([()=>rt.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ei(t,n)])}}class Yf{constructor(t,n){this.persistence=t,this.fi=new ka((s=>L6(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=J5(this,n)}static Vi(t,n){return new Yf(t,n)}Ti(){}Ii(t){return rt.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}dr(t){const n=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>n.next((a=>s+a))))}pr(t){let n=0;return this.mr(t,(s=>{n++})).next((()=>n))}mr(t,n){return rt.forEach(this.fi,((s,a)=>this.wr(t,s,a).next((l=>l?rt.resolve():n(a)))))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ni(t,(c=>this.wr(t,c,n).next((d=>{d||(s++,l.removeEntry(c,xt.min()))})))).next((()=>l.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,n){return this.fi.set(n,t.currentSequenceNumber),rt.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.fi.set(s,t.currentSequenceNumber),rt.resolve()}removeReference(t,n,s){return this.fi.set(s,t.currentSequenceNumber),rt.resolve()}updateLimboDocument(t,n){return this.fi.set(n,t.currentSequenceNumber),rt.resolve()}hi(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=yf(t.data.value)),n}wr(t,n,s){return rt.or([()=>this.persistence.Ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const a=this.fi.get(n);return rt.resolve(a!==void 0&&a>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class x0{constructor(t,n,s,a){this.targetId=t,this.fromCache=n,this.Ts=s,this.Is=a}static Es(t,n){let s=zt(),a=zt();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new x0(t,n.fromCache,s,a)}}class cL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class hL{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return W4()?8:O6(cn())>0?6:4})()}initialize(t,n){this.fs=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,a){const l={result:null};return this.gs(t,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ps(t,n,a,s).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new cL;return this.ys(t,n,c).next((d=>{if(l.result=d,this.As)return this.ws(t,n,c,d.size)}))})).next((()=>l.result))}ws(t,n,s,a){return s.documentReadCount<this.Vs?(Co()<=jt.DEBUG&&mt("QueryEngine","SDK will not create cache indexes for query:",Ro(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),rt.resolve()):(Co()<=jt.DEBUG&&mt("QueryEngine","Query:",Ro(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.ds*a?(Co()<=jt.DEBUG&&mt("QueryEngine","The SDK decides to create cache indexes for query:",Ro(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,$i(n))):rt.resolve())}gs(t,n){if(U1(n))return rt.resolve(null);let s=$i(n);return this.indexManager.getIndexType(t,s).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=qf(n,null,"F"),s=$i(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next((l=>{const c=zt(...l);return this.fs.getDocuments(t,c).next((d=>this.indexManager.getMinOffset(t,s).next((m=>{const p=this.bs(n,d);return this.Ss(n,p,c,m.readTime)?this.gs(t,qf(n,null,"F")):this.Ds(t,p,n,m)}))))})))))}ps(t,n,s,a){return U1(n)||a.isEqual(xt.min())?rt.resolve(null):this.fs.getDocuments(t,s).next((l=>{const c=this.bs(n,l);return this.Ss(n,c,s,a)?rt.resolve(null):(Co()<=jt.DEBUG&&mt("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Ro(n)),this.Ds(t,c,n,N6(a,Gu)).next((d=>d)))}))}bs(t,n){let s=new Fe(tC(t));return n.forEach(((a,l)=>{md(t,l)&&(s=s.add(l))})),s}Ss(t,n,s,a){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const l=t.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}ys(t,n,s){return Co()<=jt.DEBUG&&mt("QueryEngine","Using full collection scan to execute query:",Ro(n)),this.fs.getDocumentsMatchingQuery(t,n,Nr.min(),s)}Ds(t,n,s,a){return this.fs.getDocumentsMatchingQuery(t,s,a).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}const A0="LocalStore",fL=3e8;class dL{constructor(t,n,s,a){this.persistence=t,this.Cs=n,this.serializer=a,this.vs=new pe(Ut),this.Fs=new ka((l=>g0(l)),y0),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(s)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new eL(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.vs)))}}function mL(e,t,n,s){return new dL(e,t,n,s)}async function xC(e,t){const n=Ct(e);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,n.Os(t),n.mutationQueue.getAllMutationBatches(s)))).next((l=>{const c=[],d=[];let m=zt();for(const p of a){c.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}for(const p of l){d.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}return n.localDocuments.getDocuments(s,m).next((p=>({Ns:p,removedBatchIds:c,addedBatchIds:d})))}))}))}function pL(e,t){const n=Ct(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=t.batch.keys(),l=n.xs.newChangeBuffer({trackRemovals:!0});return(function(d,m,p,y){const _=p.batch,T=_.keys();let C=rt.resolve();return T.forEach((D=>{C=C.next((()=>y.getEntry(m,D))).next((O=>{const L=p.docVersions.get(D);Yt(L!==null,48541),O.version.compareTo(L)<0&&(_.applyToRemoteDocument(O,p),O.isValidDocument()&&(O.setReadTime(p.commitVersion),y.addEntry(O)))}))})),C.next((()=>d.mutationQueue.removeMutationBatch(m,_)))})(n,s,t,l).next((()=>l.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(d){let m=zt();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(m=m.add(d.batch.mutations[p].key));return m})(t)))).next((()=>n.localDocuments.getDocuments(s,a)))}))}function AC(e){const t=Ct(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.li.getLastRemoteSnapshotVersion(n)))}function gL(e,t){const n=Ct(e),s=t.snapshotVersion;let a=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.xs.newChangeBuffer({trackRemovals:!0});a=n.vs;const d=[];t.targetChanges.forEach(((y,_)=>{const T=a.get(_);if(!T)return;d.push(n.li.removeMatchingKeys(l,y.removedDocuments,_).next((()=>n.li.addMatchingKeys(l,y.addedDocuments,_))));let C=T.withSequenceNumber(l.currentSequenceNumber);t.targetMismatches.get(_)!==null?C=C.withResumeToken(nn.EMPTY_BYTE_STRING,xt.min()).withLastLimboFreeSnapshotVersion(xt.min()):y.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(y.resumeToken,s)),a=a.insert(_,C),(function(O,L,F){return O.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=fL?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0})(T,C,y)&&d.push(n.li.updateTargetData(l,C))}));let m=ks(),p=zt();if(t.documentUpdates.forEach((y=>{t.resolvedLimboDocuments.has(y)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))})),d.push(yL(l,c,t.documentUpdates).next((y=>{m=y.Bs,p=y.Ls}))),!s.isEqual(xt.min())){const y=n.li.getLastRemoteSnapshotVersion(l).next((_=>n.li.setTargetsMetadata(l,l.currentSequenceNumber,s)));d.push(y)}return rt.waitFor(d).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,m,p))).next((()=>m))})).then((l=>(n.vs=a,l)))}function yL(e,t,n){let s=zt(),a=zt();return n.forEach((l=>s=s.add(l))),t.getEntries(e,s).next((l=>{let c=ks();return n.forEach(((d,m)=>{const p=l.get(d);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(d)),m.isNoDocument()&&m.version.isEqual(xt.min())?(t.removeEntry(d,m.readTime),c=c.insert(d,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(m),c=c.insert(d,m)):mt(A0,"Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",m.version)})),{Bs:c,Ls:a}}))}function vL(e,t){const n=Ct(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=d0),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function _L(e,t){const n=Ct(e);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return n.li.getTargetData(s,t).next((l=>l?(a=l,rt.resolve(a)):n.li.allocateTargetId(s).next((c=>(a=new Tr(t,c,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=n.vs.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(t,s.targetId)),s}))}async function ny(e,t,n){const s=Ct(e),a=s.vs.get(t),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,(c=>s.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!ul(c))throw c;mt(A0,`Failed to update sequence numbers for target ${t}: ${c}`)}s.vs=s.vs.remove(t),s.Fs.delete(a.target)}function J1(e,t,n){const s=Ct(e);let a=xt.min(),l=zt();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(m,p,y){const _=Ct(m),T=_.Fs.get(y);return T!==void 0?rt.resolve(_.vs.get(T)):_.li.getTargetData(p,y)})(s,c,$i(t)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(c,d.targetId).next((m=>{l=m}))})).next((()=>s.Cs.getDocumentsMatchingQuery(c,t,n?a:xt.min(),n?l:zt()))).next((d=>(bL(s,r5(t),d),{documents:d,ks:l})))))}function bL(e,t,n){let s=e.Ms.get(t)||xt.min();n.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),e.Ms.set(t,s)}class Z1{constructor(){this.activeTargetIds=h5()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class TL{constructor(){this.vo=new Z1,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,n,s){this.Fo[t]=n}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new Z1,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class EL{Mo(t){}shutdown(){}}const tw="ConnectivityMonitor";class ew{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){mt(tw,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){mt(tw,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let tf=null;function iy(){return tf===null?tf=(function(){return 268435456+Math.round(2147483648*Math.random())})():tf++,"0x"+tf.toString(16)}const rg="RestConnection",wL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class SL{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+t.host,this.Uo=`projects/${s}/databases/${a}`,this.$o=this.databaseId.database===Bf?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Wo(t,n,s,a,l){const c=iy(),d=this.Qo(t,n.toUriEncodedString());mt(rg,`Sending RPC '${t}' ${c}:`,d,s);const m={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(m,a,l);const{host:p}=new URL(d),y=sl(p);return this.zo(t,d,m,s,y).then((_=>(mt(rg,`Received RPC '${t}' ${c}: `,_),_)),(_=>{throw Ia(rg,`RPC '${t}' ${c} failed with error: `,_,"url: ",d,"request:",s),_}))}jo(t,n,s,a,l,c){return this.Wo(t,n,s,a,l)}Go(t,n,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ol})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>t[l]=a)),s&&s.headers.forEach(((a,l)=>t[l]=a))}Qo(t,n){const s=wL[t];let a=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}class xL{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const rn="WebChannelConnection",Tu=(e,t,n)=>{e.listen(t,(s=>{try{n(s)}catch(a){setTimeout((()=>{throw a}),0)}}))};class Bo extends SL{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!Bo.c_){const t=NA();Tu(t,IA.STAT_EVENT,(n=>{n.stat===Gg.PROXY?mt(rn,"STAT_EVENT: detected buffering proxy"):n.stat===Gg.NOPROXY&&mt(rn,"STAT_EVENT: detected no buffering proxy")})),Bo.c_=!0}}zo(t,n,s,a,l){const c=iy();return new Promise(((d,m)=>{const p=new CA;p.setWithCredentials(!0),p.listenOnce(RA.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case gf.NO_ERROR:const _=p.getResponseJson();mt(rn,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(_)),d(_);break;case gf.TIMEOUT:mt(rn,`RPC '${t}' ${c} timed out`),m(new ft(st.DEADLINE_EXCEEDED,"Request time out"));break;case gf.HTTP_ERROR:const T=p.getStatus();if(mt(rn,`RPC '${t}' ${c} failed with status:`,T,"response text:",p.getResponseText()),T>0){let C=p.getResponseJson();Array.isArray(C)&&(C=C[0]);const D=C?.error;if(D&&D.status&&D.message){const O=(function(F){const H=F.toLowerCase().replace(/_/g,"-");return Object.values(st).indexOf(H)>=0?H:st.UNKNOWN})(D.status);m(new ft(O,D.message))}else m(new ft(st.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new ft(st.UNAVAILABLE,"Connection failed."));break;default:wt(9055,{l_:t,streamId:c,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{mt(rn,`RPC '${t}' ${c} completed.`)}}));const y=JSON.stringify(a);mt(rn,`RPC '${t}' ${c} sending request:`,a),p.send(n,"POST",y,s,15)}))}T_(t,n,s){const a=iy(),l=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=this.createWebChannelTransport(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(d.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Go(d.initMessageHeaders,n,s),d.encodeInitMessageHeaders=!0;const p=l.join("");mt(rn,`Creating RPC '${t}' stream ${a}: ${p}`,d);const y=c.createWebChannel(p,d);this.I_(y);let _=!1,T=!1;const C=new xL({Ho:D=>{T?mt(rn,`Not sending because RPC '${t}' stream ${a} is closed:`,D):(_||(mt(rn,`Opening RPC '${t}' stream ${a} transport.`),y.open(),_=!0),mt(rn,`RPC '${t}' stream ${a} sending:`,D),y.send(D))},Jo:()=>y.close()});return Tu(y,wu.EventType.OPEN,(()=>{T||(mt(rn,`RPC '${t}' stream ${a} transport opened.`),C.i_())})),Tu(y,wu.EventType.CLOSE,(()=>{T||(T=!0,mt(rn,`RPC '${t}' stream ${a} transport closed`),C.o_(),this.E_(y))})),Tu(y,wu.EventType.ERROR,(D=>{T||(T=!0,Ia(rn,`RPC '${t}' stream ${a} transport errored. Name:`,D.name,"Message:",D.message),C.o_(new ft(st.UNAVAILABLE,"The operation could not be completed")))})),Tu(y,wu.EventType.MESSAGE,(D=>{if(!T){const O=D.data[0];Yt(!!O,16349);const L=O,F=L?.error||L[0]?.error;if(F){mt(rn,`RPC '${t}' stream ${a} received error:`,F);const H=F.status;let $=(function(at){const R=Me[at];if(R!==void 0)return fC(R)})(H),W=F.message;H==="NOT_FOUND"&&W.includes("database")&&W.includes("does not exist")&&W.includes(this.databaseId.database)&&Ia(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),$===void 0&&($=st.INTERNAL,W="Unknown error status: "+H+" with message "+F.message),T=!0,C.o_(new ft($,W)),y.close()}else mt(rn,`RPC '${t}' stream ${a} received:`,O),C.__(O)}})),Bo.u_(),setTimeout((()=>{C.s_()}),0),C}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((n=>n===t))}Go(t,n,s){super.Go(t,n,s),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return DA()}}function AL(e){return new Bo(e)}function ag(){return typeof document<"u"?document:null}function vd(e){return new N5(e,!0)}Bo.c_=!1;class CC{constructor(t,n,s=1e3,a=1.5,l=6e4){this.Ci=t,this.timerId=n,this.R_=s,this.A_=a,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&mt("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const nw="PersistentStream";class RC{constructor(t,n,s,a,l,c,d,m){this.Ci=t,this.b_=s,this.S_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new CC(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===st.RESOURCE_EXHAUSTED?(Ds(n.toString()),Ds("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===st.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(n)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===n&&this.G_(s,a)}),(s=>{t((()=>{const a=new ft(st.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(t,n){const s=this.Q_(this.D_);this.stream=this.j_(t,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return mt(nw,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return n=>{this.Ci.enqueueAndForget((()=>this.D_===t?n():(mt(nw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class CL extends RC{constructor(t,n,s,a,l,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}j_(t,n){return this.connection.T_("Listen",t,n)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=M5(this.serializer,t),s=(function(l){if(!("targetChange"in l))return xt.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?xt.min():c.readTime?Qi(c.readTime):xt.min()})(t);return this.listener.J_(n,s)}Z_(t){const n={};n.database=ey(this.serializer),n.addTarget=(function(l,c){let d;const m=c.target;if(d=Xg(m)?{documents:P5(l,m)}:{query:L5(l,m).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=pC(l,c.resumeToken);const p=Jg(l,c.expectedCount);p!==null&&(d.expectedCount=p)}else if(c.snapshotVersion.compareTo(xt.min())>0){d.readTime=$f(l,c.snapshotVersion.toTimestamp());const p=Jg(l,c.expectedCount);p!==null&&(d.expectedCount=p)}return d})(this.serializer,t);const s=U5(this.serializer,t);s&&(n.labels=s),this.K_(n)}X_(t){const n={};n.database=ey(this.serializer),n.removeTarget=t,this.K_(n)}}class RL extends RC{constructor(t,n,s,a,l,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}H_(t){return Yt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Yt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Yt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=O5(t.writeResults,t.commitTime),s=Qi(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=ey(this.serializer),this.K_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((s=>V5(this.serializer,s)))};this.K_(n)}}class IL{}class NL extends IL{constructor(t,n,s,a){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ft(st.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Wo(t,Zg(n,s),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===st.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ft(st.UNKNOWN,l.toString())}))}jo(t,n,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.jo(t,Zg(n,s),a,c,d,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===st.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ft(st.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function DL(e,t,n,s){return new NL(e,t,n,s)}class kL{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ds(n),this.aa=!1):mt("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Na="RemoteStore";class ML{constructor(t,n,s,a,l){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((c=>{s.enqueueAndForget((async()=>{Va(this)&&(mt(Na,"Restarting streams for network reachability change."),await(async function(m){const p=Ct(m);p.Ea.add(4),await dc(p),p.Va.set("Unknown"),p.Ea.delete(4),await _d(p)})(this))}))})),this.Va=new kL(s,a)}}async function _d(e){if(Va(e))for(const t of e.Ra)await t(!0)}async function dc(e){for(const t of e.Ra)await t(!1)}function IC(e,t){const n=Ct(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),N0(n)?I0(n):hl(n).O_()&&R0(n,t))}function C0(e,t){const n=Ct(e),s=hl(n);n.Ia.delete(t),s.O_()&&NC(n,t),n.Ia.size===0&&(s.O_()?s.L_():Va(n)&&n.Va.set("Unknown"))}function R0(e,t){if(e.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(xt.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}hl(e).Z_(t)}function NC(e,t){e.da.$e(t),hl(e).X_(t)}function I0(e){e.da=new A5({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),hl(e).start(),e.Va.ua()}function N0(e){return Va(e)&&!hl(e).x_()&&e.Ia.size>0}function Va(e){return Ct(e).Ea.size===0}function DC(e){e.da=void 0}async function VL(e){e.Va.set("Online")}async function OL(e){e.Ia.forEach(((t,n)=>{R0(e,t)}))}async function PL(e,t){DC(e),N0(e)?(e.Va.ha(t),I0(e)):e.Va.set("Unknown")}async function LL(e,t,n){if(e.Va.set("Online"),t instanceof mC&&t.state===2&&t.cause)try{await(async function(a,l){const c=l.cause;for(const d of l.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Ia.delete(d),a.da.removeTarget(d))})(e,t)}catch(s){mt(Na,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Qf(e,s)}else if(t instanceof bf?e.da.Xe(t):t instanceof dC?e.da.st(t):e.da.tt(t),!n.isEqual(xt.min()))try{const s=await AC(e.localStore);n.compareTo(s)>=0&&await(function(l,c){const d=l.da.Tt(c);return d.targetChanges.forEach(((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const y=l.Ia.get(p);y&&l.Ia.set(p,y.withResumeToken(m.resumeToken,c))}})),d.targetMismatches.forEach(((m,p)=>{const y=l.Ia.get(m);if(!y)return;l.Ia.set(m,y.withResumeToken(nn.EMPTY_BYTE_STRING,y.snapshotVersion)),NC(l,m);const _=new Tr(y.target,m,p,y.sequenceNumber);R0(l,_)})),l.remoteSyncer.applyRemoteEvent(d)})(e,n)}catch(s){mt(Na,"Failed to raise snapshot:",s),await Qf(e,s)}}async function Qf(e,t,n){if(!ul(t))throw t;e.Ea.add(1),await dc(e),e.Va.set("Offline"),n||(n=()=>AC(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{mt(Na,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await _d(e)}))}function kC(e,t){return t().catch((n=>Qf(e,n,t)))}async function bd(e){const t=Ct(e),n=Vr(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:d0;for(;jL(t);)try{const a=await vL(t.localStore,s);if(a===null){t.Ta.length===0&&n.L_();break}s=a.batchId,UL(t,a)}catch(a){await Qf(t,a)}MC(t)&&VC(t)}function jL(e){return Va(e)&&e.Ta.length<10}function UL(e,t){e.Ta.push(t);const n=Vr(e);n.O_()&&n.Y_&&n.ea(t.mutations)}function MC(e){return Va(e)&&!Vr(e).x_()&&e.Ta.length>0}function VC(e){Vr(e).start()}async function zL(e){Vr(e).ra()}async function BL(e){const t=Vr(e);for(const n of e.Ta)t.ea(n.mutations)}async function FL(e,t,n){const s=e.Ta.shift(),a=b0.from(s,t,n);await kC(e,(()=>e.remoteSyncer.applySuccessfulWrite(a))),await bd(e)}async function HL(e,t){t&&Vr(e).Y_&&await(async function(s,a){if((function(c){return w5(c)&&c!==st.ABORTED})(a.code)){const l=s.Ta.shift();Vr(s).B_(),await kC(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a))),await bd(s)}})(e,t),MC(e)&&VC(e)}async function iw(e,t){const n=Ct(e);n.asyncQueue.verifyOperationInProgress(),mt(Na,"RemoteStore received new credentials");const s=Va(n);n.Ea.add(3),await dc(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await _d(n)}async function qL(e,t){const n=Ct(e);t?(n.Ea.delete(2),await _d(n)):t||(n.Ea.add(2),await dc(n),n.Va.set("Unknown"))}function hl(e){return e.ma||(e.ma=(function(n,s,a){const l=Ct(n);return l.sa(),new CL(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(e.datastore,e.asyncQueue,{Zo:VL.bind(null,e),Yo:OL.bind(null,e),t_:PL.bind(null,e),J_:LL.bind(null,e)}),e.Ra.push((async t=>{t?(e.ma.B_(),N0(e)?I0(e):e.Va.set("Unknown")):(await e.ma.stop(),DC(e))}))),e.ma}function Vr(e){return e.fa||(e.fa=(function(n,s,a){const l=Ct(n);return l.sa(),new RL(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(e.datastore,e.asyncQueue,{Zo:()=>Promise.resolve(),Yo:zL.bind(null,e),t_:HL.bind(null,e),ta:BL.bind(null,e),na:FL.bind(null,e)}),e.Ra.push((async t=>{t?(e.fa.B_(),await bd(e)):(await e.fa.stop(),e.Ta.length>0&&(mt(Na,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))}))),e.fa}class D0{constructor(t,n,s,a,l){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new Ar,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,a,l){const c=Date.now()+s,d=new D0(t,n,c,a,l);return d.start(s),d}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ft(st.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function k0(e,t){if(Ds("AsyncQueue",`${t}: ${e}`),ul(e))return new ft(st.UNAVAILABLE,`${t}: ${e}`);throw e}class Fo{static emptySet(t){return new Fo(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||bt.comparator(n.key,s.key):(n,s)=>bt.comparator(n.key,s.key),this.keyedMap=Su(),this.sortedSet=new pe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,s)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Fo)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new Fo;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}class sw{constructor(){this.ga=new pe(bt.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):wt(63341,{Vt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,s)=>{t.push(s)})),t}}class Xo{constructor(t,n,s,a,l,c,d,m,p){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(t,n,s,a,l){const c=[];return n.forEach((d=>{c.push({type:0,doc:d})})),new Xo(t,n,Fo.emptySet(n),c,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&dd(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}class GL{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class KL{constructor(){this.queries=rw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=Ct(n),l=a.queries;a.queries=rw(),l.forEach(((c,d)=>{for(const m of d.ba)m.onError(s)}))})(this,new ft(st.ABORTED,"Firestore shutting down"))}}function rw(){return new ka((e=>ZA(e)),dd)}async function OC(e,t){const n=Ct(e);let s=3;const a=t.query;let l=n.queries.get(a);l?!l.Sa()&&t.Da()&&(s=2):(l=new GL,s=t.Da()?0:1);try{switch(s){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const d=k0(c,`Initialization of query '${Ro(t.query)}' failed`);return void t.onError(d)}n.queries.set(a,l),l.ba.push(t),t.va(n.onlineState),l.wa&&t.Fa(l.wa)&&M0(n)}async function PC(e,t){const n=Ct(e),s=t.query;let a=3;const l=n.queries.get(s);if(l){const c=l.ba.indexOf(t);c>=0&&(l.ba.splice(c,1),l.ba.length===0?a=t.Da()?0:1:!l.Sa()&&t.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function $L(e,t){const n=Ct(e);let s=!1;for(const a of t){const l=a.query,c=n.queries.get(l);if(c){for(const d of c.ba)d.Fa(a)&&(s=!0);c.wa=a}}s&&M0(n)}function YL(e,t,n){const s=Ct(e),a=s.queries.get(t);if(a)for(const l of a.ba)l.onError(n);s.queries.delete(t)}function M0(e){e.Ca.forEach((t=>{t.next()}))}var sy,aw;(aw=sy||(sy={})).Ma="default",aw.Cache="cache";class LC{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const a of t.docChanges)a.type!==3&&s.push(a);t=new Xo(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=Xo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==sy.Cache}}class jC{constructor(t){this.key=t}}class UC{constructor(t){this.key=t}}class QL{constructor(t,n){this.query=t,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=zt(),this.mutatedKeys=zt(),this.eu=tC(t),this.tu=new Fo(this.eu)}get nu(){return this.Za}ru(t,n){const s=n?n.iu:new sw,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,d=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal(((y,_)=>{const T=a.get(y),C=md(this.query,_)?_:null,D=!!T&&this.mutatedKeys.has(T.key),O=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let L=!1;T&&C?T.data.isEqual(C.data)?D!==O&&(s.track({type:3,doc:C}),L=!0):this.su(T,C)||(s.track({type:2,doc:C}),L=!0,(m&&this.eu(C,m)>0||p&&this.eu(C,p)<0)&&(d=!0)):!T&&C?(s.track({type:0,doc:C}),L=!0):T&&!C&&(s.track({type:1,doc:T}),L=!0,(m||p)&&(d=!0)),L&&(C?(c=c.add(C),l=O?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),s.track({type:1,doc:y})}return{tu:c,iu:s,Ss:d,mutatedKeys:l}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,a){const l=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((y,_)=>(function(C,D){const O=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return wt(20277,{Vt:L})}};return O(C)-O(D)})(y.type,_.type)||this.eu(y.doc,_.doc))),this.ou(s),a=a??!1;const d=n&&!a?this._u():[],m=this.Ya.size===0&&this.current&&!a?1:0,p=m!==this.Xa;return this.Xa=m,c.length!==0||p?{snapshot:new Xo(this.query,t.tu,l,c,t.mutatedKeys,m===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new sw,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=zt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return t.forEach((s=>{this.Ya.has(s)||n.push(new UC(s))})),this.Ya.forEach((s=>{t.has(s)||n.push(new jC(s))})),n}cu(t){this.Za=t.ks,this.Ya=zt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return Xo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const V0="SyncEngine";class XL{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class WL{constructor(t){this.key=t,this.hu=!1}}class JL{constructor(t,n,s,a,l,c){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new ka((d=>ZA(d)),dd),this.Iu=new Map,this.Eu=new Set,this.Ru=new pe(bt.comparator),this.Au=new Map,this.Vu=new w0,this.du={},this.mu=new Map,this.fu=Qo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function ZL(e,t,n=!0){const s=GC(e);let a;const l=s.Tu.get(t);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await zC(s,t,n,!0),a}async function tj(e,t){const n=GC(e);await zC(n,t,!0,!1)}async function zC(e,t,n,s){const a=await _L(e.localStore,$i(t)),l=a.targetId,c=e.sharedClientState.addLocalQueryTarget(l,n);let d;return s&&(d=await ej(e,t,l,c==="current",a.resumeToken)),e.isPrimaryClient&&n&&IC(e.remoteStore,a),d}async function ej(e,t,n,s,a){e.pu=(_,T,C)=>(async function(O,L,F,H){let $=L.view.ru(F);$.Ss&&($=await J1(O.localStore,L.query,!1).then((({documents:R})=>L.view.ru(R,$))));const W=H&&H.targetChanges.get(L.targetId),J=H&&H.targetMismatches.get(L.targetId)!=null,at=L.view.applyChanges($,O.isPrimaryClient,W,J);return lw(O,L.targetId,at.au),at.snapshot})(e,_,T,C);const l=await J1(e.localStore,t,!0),c=new QL(t,l.ks),d=c.ru(l.documents),m=fc.createSynthesizedTargetChangeForCurrentChange(n,s&&e.onlineState!=="Offline",a),p=c.applyChanges(d,e.isPrimaryClient,m);lw(e,n,p.au);const y=new XL(t,n,c);return e.Tu.set(t,y),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),p.snapshot}async function nj(e,t,n){const s=Ct(e),a=s.Tu.get(t),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter((c=>!dd(c,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await ny(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),n&&C0(s.remoteStore,a.targetId),ry(s,a.targetId)})).catch(ll)):(ry(s,a.targetId),await ny(s.localStore,a.targetId,!0))}async function ij(e,t){const n=Ct(e),s=n.Tu.get(t),a=n.Iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),C0(n.remoteStore,s.targetId))}async function sj(e,t,n){const s=hj(e);try{const a=await(function(c,d){const m=Ct(c),p=le.now(),y=d.reduce(((C,D)=>C.add(D.key)),zt());let _,T;return m.persistence.runTransaction("Locally write mutations","readwrite",(C=>{let D=ks(),O=zt();return m.xs.getEntries(C,y).next((L=>{D=L,D.forEach(((F,H)=>{H.isValidDocument()||(O=O.add(F))}))})).next((()=>m.localDocuments.getOverlayedDocuments(C,D))).next((L=>{_=L;const F=[];for(const H of d){const $=v5(H,_.get(H.key).overlayedDocument);$!=null&&F.push(new Ma(H.key,$,GA($.value.mapValue),Yi.exists(!0)))}return m.mutationQueue.addMutationBatch(C,p,F,d)})).next((L=>{T=L;const F=L.applyToLocalDocumentSet(_,O);return m.documentOverlayCache.saveOverlays(C,L.batchId,F)}))})).then((()=>({batchId:T.batchId,changes:nC(_)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(a.batchId),(function(c,d,m){let p=c.du[c.currentUser.toKey()];p||(p=new pe(Ut)),p=p.insert(d,m),c.du[c.currentUser.toKey()]=p})(s,a.batchId,n),await mc(s,a.changes),await bd(s.remoteStore)}catch(a){const l=k0(a,"Failed to persist write");n.reject(l)}}async function BC(e,t){const n=Ct(e);try{const s=await gL(n.localStore,t);t.targetChanges.forEach(((a,l)=>{const c=n.Au.get(l);c&&(Yt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?Yt(c.hu,14607):a.removedDocuments.size>0&&(Yt(c.hu,42227),c.hu=!1))})),await mc(n,s,t)}catch(s){await ll(s)}}function ow(e,t,n){const s=Ct(e);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Tu.forEach(((l,c)=>{const d=c.view.va(t);d.snapshot&&a.push(d.snapshot)})),(function(c,d){const m=Ct(c);m.onlineState=d;let p=!1;m.queries.forEach(((y,_)=>{for(const T of _.ba)T.va(d)&&(p=!0)})),p&&M0(m)})(s.eventManager,t),a.length&&s.Pu.J_(a),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function rj(e,t,n){const s=Ct(e);s.sharedClientState.updateQueryState(t,"rejected",n);const a=s.Au.get(t),l=a&&a.key;if(l){let c=new pe(bt.comparator);c=c.insert(l,ln.newNoDocument(l,xt.min()));const d=zt().add(l),m=new yd(xt.min(),new Map,new pe(Ut),c,d);await BC(s,m),s.Ru=s.Ru.remove(l),s.Au.delete(t),O0(s)}else await ny(s.localStore,t,!1).then((()=>ry(s,t,n))).catch(ll)}async function aj(e,t){const n=Ct(e),s=t.batch.batchId;try{const a=await pL(n.localStore,t);HC(n,s,null),FC(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await mc(n,a)}catch(a){await ll(a)}}async function oj(e,t,n){const s=Ct(e);try{const a=await(function(c,d){const m=Ct(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let y;return m.mutationQueue.lookupMutationBatch(p,d).next((_=>(Yt(_!==null,37113),y=_.keys(),m.mutationQueue.removeMutationBatch(p,_)))).next((()=>m.mutationQueue.performConsistencyCheck(p))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(p,y,d))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y))).next((()=>m.localDocuments.getDocuments(p,y)))}))})(s.localStore,t);HC(s,t,n),FC(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await mc(s,a)}catch(a){await ll(a)}}function FC(e,t){(e.mu.get(t)||[]).forEach((n=>{n.resolve()})),e.mu.delete(t)}function HC(e,t,n){const s=Ct(e);let a=s.du[s.currentUser.toKey()];if(a){const l=a.get(t);l&&(n?l.reject(n):l.resolve(),a=a.remove(t)),s.du[s.currentUser.toKey()]=a}}function ry(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const s of e.Iu.get(t))e.Tu.delete(s),n&&e.Pu.yu(s,n);e.Iu.delete(t),e.isPrimaryClient&&e.Vu.Gr(t).forEach((s=>{e.Vu.containsKey(s)||qC(e,s)}))}function qC(e,t){e.Eu.delete(t.path.canonicalString());const n=e.Ru.get(t);n!==null&&(C0(e.remoteStore,n),e.Ru=e.Ru.remove(t),e.Au.delete(n),O0(e))}function lw(e,t,n){for(const s of n)s instanceof jC?(e.Vu.addReference(s.key,t),lj(e,s)):s instanceof UC?(mt(V0,"Document no longer in limbo: "+s.key),e.Vu.removeReference(s.key,t),e.Vu.containsKey(s.key)||qC(e,s.key)):wt(19791,{wu:s})}function lj(e,t){const n=t.key,s=n.path.canonicalString();e.Ru.get(n)||e.Eu.has(s)||(mt(V0,"New document in limbo: "+n),e.Eu.add(s),O0(e))}function O0(e){for(;e.Eu.size>0&&e.Ru.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new bt(se.fromString(t)),s=e.fu.next();e.Au.set(s,new WL(n)),e.Ru=e.Ru.insert(n,s),IC(e.remoteStore,new Tr($i(v0(n.path)),s,"TargetPurposeLimboResolution",cd.ce))}}async function mc(e,t,n){const s=Ct(e),a=[],l=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((d,m)=>{c.push(s.pu(m,t,n).then((p=>{if((p||n)&&s.isPrimaryClient){const y=p?!p.fromCache:n?.targetChanges.get(m.targetId)?.current;s.sharedClientState.updateQueryState(m.targetId,y?"current":"not-current")}if(p){a.push(p);const y=x0.Es(m.targetId,p);l.push(y)}})))})),await Promise.all(c),s.Pu.J_(a),await(async function(m,p){const y=Ct(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>rt.forEach(p,(T=>rt.forEach(T.Ts,(C=>y.persistence.referenceDelegate.addReference(_,T.targetId,C))).next((()=>rt.forEach(T.Is,(C=>y.persistence.referenceDelegate.removeReference(_,T.targetId,C)))))))))}catch(_){if(!ul(_))throw _;mt(A0,"Failed to update sequence numbers: "+_)}for(const _ of p){const T=_.targetId;if(!_.fromCache){const C=y.vs.get(T),D=C.snapshotVersion,O=C.withLastLimboFreeSnapshotVersion(D);y.vs=y.vs.insert(T,O)}}})(s.localStore,l))}async function uj(e,t){const n=Ct(e);if(!n.currentUser.isEqual(t)){mt(V0,"User change. New user:",t.toKey());const s=await xC(n.localStore,t);n.currentUser=t,(function(l,c){l.mu.forEach((d=>{d.forEach((m=>{m.reject(new ft(st.CANCELLED,c))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await mc(n,s.Ns)}}function cj(e,t){const n=Ct(e),s=n.Au.get(t);if(s&&s.hu)return zt().add(s.key);{let a=zt();const l=n.Iu.get(t);if(!l)return a;for(const c of l){const d=n.Tu.get(c);a=a.unionWith(d.view.nu)}return a}}function GC(e){const t=Ct(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=BC.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=cj.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=rj.bind(null,t),t.Pu.J_=$L.bind(null,t.eventManager),t.Pu.yu=YL.bind(null,t.eventManager),t}function hj(e){const t=Ct(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=aj.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=oj.bind(null,t),t}class Xf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=vd(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return mL(this.persistence,new hL,t.initialUser,this.serializer)}Cu(t){return new SC(S0.Vi,this.serializer)}Du(t){return new TL}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Xf.provider={build:()=>new Xf};class fj extends Xf{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Yt(this.persistence.referenceDelegate instanceof Yf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new X5(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?Sn.withCacheSize(this.cacheSizeBytes):Sn.DEFAULT;return new SC((s=>Yf.Vi(s,n)),this.serializer)}}class ay{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>ow(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=uj.bind(null,this.syncEngine),await qL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new KL})()}createDatastore(t){const n=vd(t.databaseInfo.databaseId),s=AL(t.databaseInfo);return DL(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return(function(s,a,l,c,d){return new ML(s,a,l,c,d)})(this.localStore,this.datastore,t.asyncQueue,(n=>ow(this.syncEngine,n,0)),(function(){return ew.v()?new ew:new EL})())}createSyncEngine(t,n){return(function(a,l,c,d,m,p,y){const _=new JL(a,l,c,d,m,p);return y&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ct(n);mt(Na,"RemoteStore shutting down."),s.Ea.add(5),await dc(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ay.provider={build:()=>new ay};class KC{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Ds("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}const Or="FirestoreClient";class dj{constructor(t,n,s,a,l){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=a,this.user=on.UNAUTHENTICATED,this.clientId=f0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async c=>{mt(Or,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(mt(Or,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ar;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=k0(n,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function og(e,t){e.asyncQueue.verifyOperationInProgress(),mt(Or,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let s=n.initialUser;e.setCredentialChangeListener((async a=>{s.isEqual(a)||(await xC(t.localStore,a),s=a)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function uw(e,t){e.asyncQueue.verifyOperationInProgress();const n=await mj(e);mt(Or,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((s=>iw(t.remoteStore,s))),e.setAppCheckTokenChangeListener(((s,a)=>iw(t.remoteStore,a))),e._onlineComponents=t}async function mj(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){mt(Or,"Using user provided OfflineComponentProvider");try{await og(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(a){return a.name==="FirebaseError"?a.code===st.FAILED_PRECONDITION||a.code===st.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;Ia("Error using user provided cache. Falling back to memory cache: "+n),await og(e,new Xf)}}else mt(Or,"Using default OfflineComponentProvider"),await og(e,new fj(void 0));return e._offlineComponents}async function $C(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(mt(Or,"Using user provided OnlineComponentProvider"),await uw(e,e._uninitializedComponentsProvider._online)):(mt(Or,"Using default OnlineComponentProvider"),await uw(e,new ay))),e._onlineComponents}function pj(e){return $C(e).then((t=>t.syncEngine))}async function oy(e){const t=await $C(e),n=t.eventManager;return n.onListen=ZL.bind(null,t.syncEngine),n.onUnlisten=nj.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=tj.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=ij.bind(null,t.syncEngine),n}function gj(e,t,n,s){const a=new KC(s),l=new LC(t,a,n);return e.asyncQueue.enqueueAndForget((async()=>OC(await oy(e),l))),()=>{a.Nu(),e.asyncQueue.enqueueAndForget((async()=>PC(await oy(e),l)))}}function yj(e,t,n={}){const s=new Ar;return e.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,m,p){const y=new KC({next:T=>{y.Nu(),c.enqueueAndForget((()=>PC(l,_))),T.fromCache&&m.source==="server"?p.reject(new ft(st.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(T)},error:T=>p.reject(T)}),_=new LC(d,y,{includeMetadataChanges:!0,Ka:!0});return OC(l,_)})(await oy(e),e.asyncQueue,t,n,s))),s.promise}function vj(e,t){const n=new Ar;return e.asyncQueue.enqueueAndForget((async()=>sj(await pj(e),t,n))),n.promise}function YC(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}const _j="ComponentProvider",cw=new Map;function bj(e,t,n,s,a){return new z6(e,t,n,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,YC(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,s)}const QC="firestore.googleapis.com",hw=!0;class fw{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ft(st.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=QC,this.ssl=hw}else this.host=t.host,this.ssl=t.ssl??hw;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=wC;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Y5)throw new ft(st.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}I6("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=YC(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ft(st.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ft(st.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ft(st.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Td{constructor(t,n,s,a){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ft(st.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ft(st.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fw(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new _6;switch(s.type){case"firstParty":return new w6(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ft(st.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=cw.get(n);s&&(mt(_j,"Removing Datastore"),cw.delete(n),s.terminate())})(this),Promise.resolve()}}function Tj(e,t,n,s={}){e=As(e,Td);const a=sl(t),l=e._getSettings(),c={...l,emulatorOptions:e._getEmulatorOptions()},d=`${t}:${n}`;a&&(Fx(`https://${d}`),Hx("Firestore",!0)),l.host!==QC&&l.host!==d&&Ia("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:d,ssl:a,emulatorOptions:s};if(!xa(m,c)&&(e._setSettings(m),s.mockUserToken)){let p,y;if(typeof s.mockUserToken=="string")p=s.mockUserToken,y=on.MOCK_USER;else{p=F4(s.mockUserToken,e._app?.options.projectId);const _=s.mockUserToken.sub||s.mockUserToken.user_id;if(!_)throw new ft(st.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new on(_)}e._authCredentials=new b6(new MA(p,y))}}class Os{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Os(this.firestore,t,this._query)}}class Le{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Cr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Le(this.firestore,t,this._key)}toJSON(){return{type:Le._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(cc(n,Le._jsonSchema))return new Le(t,s||null,new bt(se.fromString(n.referencePath)))}}Le._jsonSchemaVersion="firestore/documentReference/1.0",Le._jsonSchema={type:Pe("string",Le._jsonSchemaVersion),referencePath:Pe("string")};class Cr extends Os{constructor(t,n,s){super(t,n,v0(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Le(this.firestore,null,new bt(t))}withConverter(t){return new Cr(this.firestore,t,this._path)}}function XC(e,t,...n){if(e=gn(e),VA("collection","path",t),e instanceof Td){const s=se.fromString(t,...n);return x1(s),new Cr(e,null,s)}{if(!(e instanceof Le||e instanceof Cr))throw new ft(st.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=e._path.child(se.fromString(t,...n));return x1(s),new Cr(e.firestore,null,s)}}function ly(e,t,...n){if(e=gn(e),arguments.length===1&&(t=f0.newId()),VA("doc","path",t),e instanceof Td){const s=se.fromString(t,...n);return S1(s),new Le(e,null,new bt(s))}{if(!(e instanceof Le||e instanceof Cr))throw new ft(st.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=e._path.child(se.fromString(t,...n));return S1(s),new Le(e.firestore,e instanceof Cr?e.converter:null,new bt(s))}}const dw="AsyncQueue";class mw{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new CC(this,"async_queue_retry"),this._c=()=>{const s=ag();s&&mt(dw,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=ag();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=ag();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ar;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!ul(t))throw t;mt(dw,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,Ds("INTERNAL UNHANDLED ERROR: ",pw(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const a=D0.createAndSchedule(this,t,n,s,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&wt(47125,{Pc:pw(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function pw(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class Wo extends Td{constructor(t,n,s,a){super(t,n,s,a),this.type="firestore",this._queue=new mw,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new mw(t),this._firestoreClient=void 0,await t}}}function Ej(e,t){const n=typeof e=="object"?e:$x(),s=typeof e=="string"?e:Bf,a=t0(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=z4("firestore");l&&Tj(a,...l)}return a}function P0(e){if(e._terminated)throw new ft(st.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||wj(e),e._firestoreClient}function wj(e){const t=e._freezeSettings(),n=bj(e._databaseId,e._app?.options.appId||"",e._persistenceKey,e._app?.options.apiKey,t);e._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new dj(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(e._componentsProvider))}class Qn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Qn(nn.fromBase64String(t))}catch(n){throw new ft(st.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Qn(nn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(cc(t,Qn._jsonSchema))return Qn.fromBase64String(t.bytes)}}Qn._jsonSchemaVersion="firestore/bytes/1.0",Qn._jsonSchema={type:Pe("string",Qn._jsonSchemaVersion),bytes:Pe("string")};class WC{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ft(st.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class JC{constructor(t){this._methodName=t}}class Xi{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ft(st.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ft(st.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ut(this._lat,t._lat)||Ut(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Xi._jsonSchemaVersion}}static fromJSON(t){if(cc(t,Xi._jsonSchema))return new Xi(t.latitude,t.longitude)}}Xi._jsonSchemaVersion="firestore/geoPoint/1.0",Xi._jsonSchema={type:Pe("string",Xi._jsonSchemaVersion),latitude:Pe("number"),longitude:Pe("number")};class vi{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,t._values)}toJSON(){return{type:vi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(cc(t,vi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new vi(t.vectorValues);throw new ft(st.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}vi._jsonSchemaVersion="firestore/vectorValue/1.0",vi._jsonSchema={type:Pe("string",vi._jsonSchemaVersion),vectorValues:Pe("object")};const Sj=/^__.*__$/;class xj{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new Ma(t,this.data,this.fieldMask,n,this.fieldTransforms):new hc(t,this.data,n,this.fieldTransforms)}}function ZC(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw wt(40011,{dataSource:e})}}class L0{constructor(t,n,s,a,l,c){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new L0({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const n=this.path?.child(t),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(t),s}childContextForFieldPath(t){const n=this.path?.child(t),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return Wf(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(ZC(this.dataSource)&&Sj.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class Aj{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||vd(t)}createContext(t,n,s,a=!1){return new L0({dataSource:t,methodName:n,targetDoc:s,path:en.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function j0(e){const t=e._freezeSettings(),n=vd(e._databaseId);return new Aj(e._databaseId,!!t.ignoreUndefinedProperties,n)}function tR(e,t,n,s,a,l={}){const c=e.createContext(l.merge||l.mergeFields?2:0,t,n,a);iR("Data must be an object, but it was:",c,s);const d=eR(s,c);let m,p;if(l.merge)m=new pi(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const _ of l.mergeFields){const T=Ed(t,_,n);if(!c.contains(T))throw new ft(st.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);Nj(y,T)||y.push(T)}m=new pi(y),p=c.fieldTransforms.filter((_=>m.covers(_.field)))}else m=null,p=c.fieldTransforms;return new xj(new Yn(d),m,p)}function Cj(e,t,n,s=!1){return U0(n,e.createContext(s?4:3,t))}function U0(e,t){if(nR(e=gn(e)))return iR("Unsupported field value:",t,e),eR(e,t);if(e instanceof JC)return(function(s,a){if(!ZC(a.dataSource))throw a.createError(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(s,a){const l=[];let c=0;for(const d of s){let m=U0(d,a.childContextForArray(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}})(e,t)}return(function(s,a){if((s=gn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return f5(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=le.fromDate(s);return{timestampValue:$f(a.serializer,l)}}if(s instanceof le){const l=new le(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:$f(a.serializer,l)}}if(s instanceof Xi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Qn)return{bytesValue:pC(a.serializer,s._byteString)};if(s instanceof Le){const l=a.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw a.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:E0(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof vi)return(function(c,d){const m=c instanceof vi?c.toArray():c;return{mapValue:{fields:{[HA]:{stringValue:qA},[Ff]:{arrayValue:{values:m.map((y=>{if(typeof y!="number")throw d.createError("VectorValues must only contain numeric values.");return _0(d.serializer,y)}))}}}}}})(s,a);if(EC(s))return s._toProto(a.serializer);throw a.createError(`Unsupported field value: ${ud(s)}`)})(e,t)}function eR(e,t){const n={};return LA(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Da(e,((s,a)=>{const l=U0(a,t.childContextForField(s));l!=null&&(n[s]=l)})),{mapValue:{fields:n}}}function nR(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof le||e instanceof Xi||e instanceof Qn||e instanceof Le||e instanceof JC||e instanceof vi||EC(e))}function iR(e,t,n){if(!nR(n)||!OA(n)){const s=ud(n);throw s==="an object"?t.createError(e+" a custom object"):t.createError(e+" "+s)}}function Ed(e,t,n){if((t=gn(t))instanceof WC)return t._internalPath;if(typeof t=="string")return Ij(e,t);throw Wf("Field path arguments must be of type string or ",e,!1,void 0,n)}const Rj=new RegExp("[~\\*/\\[\\]]");function Ij(e,t,n){if(t.search(Rj)>=0)throw Wf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new WC(...t.split("."))._internalPath}catch{throw Wf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Wf(e,t,n,s,a){const l=s&&!s.isEmpty(),c=a!==void 0;let d=`Function ${t}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${s}`),c&&(m+=` in document ${a}`),m+=")"),new ft(st.INVALID_ARGUMENT,d+e+m)}function Nj(e,t){return e.some((n=>n.isEqual(t)))}class Dj{convertValue(t,n="none"){switch(Mr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return we(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(kr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw wt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return Da(t,((a,l)=>{s[a]=this.convertValue(l,n)})),s}convertVectorValue(t){const n=t.fields?.[Ff].arrayValue?.values?.map((s=>we(s.doubleValue)));return new vi(n)}convertGeoPoint(t){return new Xi(we(t.latitude),we(t.longitude))}convertArray(t,n){return(t.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const s=fd(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Ku(t));default:return null}}convertTimestamp(t){const n=Dr(t);return new le(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=se.fromString(t);Yt(TC(s),9688,{name:t});const a=new $u(s.get(1),s.get(3)),l=new bt(s.popFirst(5));return a.isEqual(n)||Ds(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}class z0 extends Dj{constructor(t){super(),this.firestore=t}convertBytes(t){return new Qn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Le(this.firestore,null,n)}}const gw="@firebase/firestore",yw="4.11.0";function vw(e){return(function(n,s){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of s)if(l in a&&typeof a[l]=="function")return!0;return!1})(e,["next","error","complete"])}class sR{constructor(t,n,s,a,l){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Le(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new kj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const n=this._document.data.field(Ed("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class kj extends sR{data(){return super.data()}}function rR(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new ft(st.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class B0{}class F0 extends B0{}function Mj(e,t,...n){let s=[];t instanceof B0&&s.push(t),s=s.concat(n),(function(l){const c=l.filter((m=>m instanceof q0)).length,d=l.filter((m=>m instanceof H0)).length;if(c>1||c>0&&d>0)throw new ft(st.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const a of s)e=a._apply(e);return e}class H0 extends F0{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new H0(t,n,s)}_apply(t){const n=this._parse(t);return aR(t._query,n),new Os(t.firestore,t.converter,Wg(t._query,n))}_parse(t){const n=j0(t.firestore);return(function(l,c,d,m,p,y,_){let T;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new ft(st.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){bw(_,y);const D=[];for(const O of _)D.push(_w(m,l,O));T={arrayValue:{values:D}}}else T=_w(m,l,_)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||bw(_,y),T=Cj(d,c,_,y==="in"||y==="not-in");return Oe.create(p,y,T)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class q0 extends B0{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new q0(t,n)}_parse(t){const n=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:bi.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(a,l){let c=a;const d=l.getFlattenedFilters();for(const m of d)aR(c,m),c=Wg(c,m)})(t._query,n),new Os(t.firestore,t.converter,Wg(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class G0 extends F0{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new G0(t,n)}_apply(t){const n=(function(a,l,c){if(a.startAt!==null)throw new ft(st.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ft(st.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Qu(l,c)})(t._query,this._field,this._direction);return new Os(t.firestore,t.converter,s5(t._query,n))}}function Vj(e,t="asc"){const n=t,s=Ed("orderBy",e);return G0._create(s,n)}class K0 extends F0{constructor(t,n,s){super(),this.type=t,this._limit=n,this._limitType=s}static _create(t,n,s){return new K0(t,n,s)}_apply(t){return new Os(t.firestore,t.converter,qf(t._query,this._limit,this._limitType))}}function Oj(e){return K0._create("limit",e,"F")}function _w(e,t,n){if(typeof(n=gn(n))=="string"){if(n==="")throw new ft(st.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!JA(t)&&n.indexOf("/")!==-1)throw new ft(st.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(se.fromString(n));if(!bt.isDocumentKey(s))throw new ft(st.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return M1(e,new bt(s))}if(n instanceof Le)return M1(e,n._key);throw new ft(st.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ud(n)}.`)}function bw(e,t){if(!Array.isArray(e)||e.length===0)throw new ft(st.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function aR(e,t){const n=(function(a,l){for(const c of a)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null})(e.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new ft(st.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ft(st.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}function oR(e,t,n){let s;return s=e?e.toFirestore(t):t,s}class Au{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class wa extends sR{constructor(t,n,s,a,l,c){super(t,n,s,a,c),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Tf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(Ed("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ft(st.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=wa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}wa._jsonSchemaVersion="firestore/documentSnapshot/1.0",wa._jsonSchema={type:Pe("string",wa._jsonSchemaVersion),bundleSource:Pe("string","DocumentSnapshot"),bundleName:Pe("string"),bundle:Pe("string")};class Tf extends wa{data(t={}){return super.data(t)}}class Sa{constructor(t,n,s,a){this._firestore=t,this._userDataWriter=n,this._snapshot=a,this.metadata=new Au(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((s=>{t.call(n,new Tf(this._firestore,this._userDataWriter,s.key,s,new Au(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ft(st.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((d=>{const m=new Tf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Au(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const m=new Tf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Au(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,y=-1;return d.type!==0&&(p=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),y=c.indexOf(d.doc.key)),{type:Pj(d.type),doc:m,oldIndex:p,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ft(st.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Sa._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=f0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function Pj(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return wt(61501,{type:e})}}Sa._jsonSchemaVersion="firestore/querySnapshot/1.0",Sa._jsonSchema={type:Pe("string",Sa._jsonSchemaVersion),bundleSource:Pe("string","QuerySnapshot"),bundleName:Pe("string"),bundle:Pe("string")};function Lj(e){e=As(e,Os);const t=As(e.firestore,Wo),n=P0(t),s=new z0(t);return rR(e._query),yj(n,e._query).then((a=>new Sa(t,s,e,a)))}function Tw(e,t,n){e=As(e,Le);const s=As(e.firestore,Wo),a=oR(e.converter,t),l=j0(s);return lR(s,[tR(l,"setDoc",e._key,a,e.converter!==null,n).toMutation(e._key,Yi.none())])}function jj(e,t){const n=As(e.firestore,Wo),s=ly(e),a=oR(e.converter,t),l=j0(e.firestore);return lR(n,[tR(l,"addDoc",s._key,a,e.converter!==null,{}).toMutation(s._key,Yi.exists(!1))]).then((()=>s))}function Uj(e,...t){e=gn(e);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||vw(t[s])||(n=t[s++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(vw(t[s])){const p=t[s];t[s]=p.next?.bind(p),t[s+1]=p.error?.bind(p),t[s+2]=p.complete?.bind(p)}let l,c,d;if(e instanceof Le)c=As(e.firestore,Wo),d=v0(e._key.path),l={next:p=>{t[s]&&t[s](zj(c,e,p))},error:t[s+1],complete:t[s+2]};else{const p=As(e,Os);c=As(p.firestore,Wo),d=p._query;const y=new z0(c);l={next:_=>{t[s]&&t[s](new Sa(c,y,p,_))},error:t[s+1],complete:t[s+2]},rR(e._query)}const m=P0(c);return gj(m,d,a,l)}function lR(e,t){const n=P0(e);return vj(n,t)}function zj(e,t,n){const s=n.docs.get(t._key),a=new z0(e);return new wa(e,a,t._key,s,new Au(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){v6(rl),qo(new Aa("firestore",((s,{instanceIdentifier:a,options:l})=>{const c=s.getProvider("app").getImmediate(),d=new Wo(new T6(s.getProvider("auth-internal")),new S6(c,s.getProvider("app-check-internal")),B6(c,a),c);return l={useFetchStreams:n,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),Sr(gw,yw,t),Sr(gw,yw,"esm2020")})();const Bj={apiKey:"AIzaSyBxYxsLtsHK1cKKn6IP_wY5FLyG3Gqje5c",authDomain:"study-tracker-9d996.firebaseapp.com",projectId:"study-tracker-9d996",storageBucket:"study-tracker-9d996.firebasestorage.app",messagingSenderId:"896578359034",appId:"1:896578359034:web:730cec1b11329f22960343",measurementId:"G-ZDH3EW4063"},uR=Kx(Bj),lg=m6(uR),Fj=new Es,Ef=Ej(uR),cR=N.createContext(void 0);function Hj({children:e}){const[t,n]=N.useState(null),[s,a]=N.useState(!0);N.useEffect(()=>{const d=n3(lg,m=>{n(m),a(!1)});return()=>d()},[]);const l=async()=>{try{await w3(lg,Fj)}catch(d){console.error("Error signing in with Google",d)}},c=async()=>{try{await i3(lg)}catch(d){console.error("Error signing out",d)}};return w.jsx(cR.Provider,{value:{user:t,loading:s,signInWithGoogle:l,logout:c},children:!s&&e})}function fl(){const e=N.useContext(cR);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}const ug={name:"Student",grade:"Class 10",language:"en",totalStudyTime:0},ef="study-tracker-data",hR=N.createContext(void 0);function qj({children:e}){const{user:t}=fl(),[n,s]=N.useState(()=>{try{const W=localStorage.getItem(ef);if(W){const J=JSON.parse(W);if(J.userProfile)return J.userProfile}}catch(W){console.error("Failed to load user profile:",W)}return ug}),[a,l]=N.useState(()=>{try{const W=localStorage.getItem(ef);if(W){const J=JSON.parse(W);if(J.subjects)return J.subjects.map(at=>({...at,chapters:at.chapters.map(R=>({...R,topics:R.topics||[]}))}))}}catch(W){console.error("Failed to load subjects:",W)}return[]});N.useEffect(()=>{if(t){const W=ly(Ef,"users",t.uid),J=Uj(W,at=>{if(at.exists()){const R=at.data();R.userProfile&&s(R.userProfile),R.subjects&&l(R.subjects)}else{const R={userProfile:ug,subjects:[]};try{const x=localStorage.getItem(ef);if(x){const I=JSON.parse(x);I.userProfile&&(R.userProfile=I.userProfile),I.subjects&&(R.subjects=I.subjects.map(V=>({...V,chapters:V.chapters.map(P=>({...P,topics:P.topics||[]}))})))}}catch(x){console.error("Error reading local storage for migration:",x)}Tw(W,R).catch(x=>console.error("Migration failed",x))}},at=>{console.error("Firestore sync error:",at)});return()=>J()}},[t]);const c=async(W,J)=>{if(s(W),l(J),t)try{await Tw(ly(Ef,"users",t.uid),{userProfile:W,subjects:J})}catch(at){console.error("Failed to save to cloud:",at)}else localStorage.setItem(ef,JSON.stringify({userProfile:W,subjects:J}))},d=W=>{c({...n,...W},a)},m=W=>{const J=crypto.randomUUID(),at={...W,id:J,chapters:[]};c(n,[...a,at])},p=W=>{c(n,a.filter(J=>J.id!==W))},y=(W,J)=>{const at=a.map(R=>R.id===W?{...R,chapters:[...R.chapters,{id:crypto.randomUUID(),name:J,isCompleted:!1,topics:[]}]}:R);c(n,at)},_=(W,J)=>{const at=a.map(R=>R.id===W?{...R,chapters:R.chapters.map(x=>x.id===J?{...x,isCompleted:!x.isCompleted,completedAt:x.isCompleted?null:new Date().toISOString()}:x)}:R);c(n,at)},T=(W,J)=>{const at=a.map(R=>R.id===W?{...R,chapters:R.chapters.filter(x=>x.id!==J)}:R);c(n,at)},C=(W,J,at)=>{const R=a.map(x=>x.id===W?{...x,chapters:x.chapters.map(I=>I.id===J?{...I,topics:[...I.topics,{id:crypto.randomUUID(),name:at,isCompleted:!1,completedAt:null}]}:I)}:x);c(n,R)},D=(W,J,at)=>{const R=a.map(x=>x.id===W?{...x,chapters:x.chapters.map(I=>{if(I.id===J){const V=I.topics.map(z=>z.id===at?{...z,isCompleted:!z.isCompleted,completedAt:z.isCompleted?null:new Date().toISOString()}:z),P=V.length>0&&V.every(z=>z.isCompleted);return{...I,topics:V,isCompleted:P,completedAt:P?new Date().toISOString():null}}return I})}:x);c(n,R)},O=(W,J,at)=>{const R=a.map(x=>x.id===W?{...x,chapters:x.chapters.map(I=>I.id===J?{...I,topics:I.topics.filter(V=>V.id!==at)}:I)}:x);c(n,R)},L=()=>{const W={userProfile:n,subjects:a,timestamp:new Date().toISOString(),version:"1.0"},J=new Blob([JSON.stringify(W,null,2)],{type:"application/json"}),at=URL.createObjectURL(J),R=document.createElement("a");R.href=at,R.download=`study-tracker-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(R),R.click(),document.body.removeChild(R),URL.revokeObjectURL(at)},F=W=>{try{const J=JSON.parse(W);return J.userProfile&&Array.isArray(J.subjects)?(c(J.userProfile,J.subjects),!0):(alert("Invalid backup file format."),!1)}catch(J){return console.error("Import error:",J),alert("Failed to parse backup file."),!1}},H=()=>{confirm("Are you sure you want to reset all data?")&&c(ug,[])},$=async(W,J)=>{const at=(n.totalStudyTime||0)+W,R={...n,totalStudyTime:at};if(d(R),t)try{await jj(XC(Ef,"study_sessions"),{userId:t.uid,userName:t.displayName||n.name,startTime:new Date(Date.now()-W*1e3).toISOString(),endTime:new Date().toISOString(),durationInSeconds:W,subjectId:J||null,createdAt:new Date().toISOString()})}catch(x){console.error("Error saving study session:",x)}};return w.jsx(hR.Provider,{value:{userProfile:n,subjects:a,updateProfile:d,addSubject:m,deleteSubject:p,addChapter:y,toggleChapter:_,deleteChapter:T,addTopic:C,toggleTopic:D,deleteTopic:O,resetData:H,exportData:L,importData:F,saveStudySession:$},children:e})}function es(){const e=N.useContext(hR);if(e===void 0)throw new Error("useStudy must be used within a StudyProvider");return e}const fR=(...e)=>e.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim();const Gj=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const Kj=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,s)=>s?s.toUpperCase():n.toLowerCase());const Ew=e=>{const t=Kj(e);return t.charAt(0).toUpperCase()+t.slice(1)};var $j={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Yj=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const Qj=N.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:c,...d},m)=>N.createElement("svg",{ref:m,...$j,width:t,height:t,stroke:e,strokeWidth:s?Number(n)*24/Number(t):n,className:fR("lucide",a),...!l&&!Yj(d)&&{"aria-hidden":"true"},...d},[...c.map(([p,y])=>N.createElement(p,y)),...Array.isArray(l)?l:[l]]));const Ot=(e,t)=>{const n=N.forwardRef(({className:s,...a},l)=>N.createElement(Qj,{ref:l,iconNode:t,className:fR(`lucide-${Gj(Ew(e))}`,`lucide-${e}`,s),...a}));return n.displayName=Ew(e),n};const Xj=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Wj=Ot("arrow-left",Xj);const Jj=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],dR=Ot("arrow-right",Jj);const Zj=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],t9=Ot("award",Zj);const e9=[["path",{d:"M10 2v8l3-3 3 3V2",key:"sqw3rj"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],uy=Ot("book-marked",e9);const n9=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Wi=Ot("book-open",n9);const i9=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],s9=Ot("book",i9);const r9=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],a9=Ot("chart-column",r9);const o9=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],l9=Ot("chart-pie",o9);const u9=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],c9=Ot("chevron-down",u9);const h9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],wd=Ot("circle-check",h9);const f9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],ww=Ot("circle-user",f9);const d9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],m9=Ot("circle",d9);const p9=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],g9=Ot("clock",p9);const y9=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Sw=Ot("download",y9);const v9=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],_9=Ot("graduation-cap",v9);const b9=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],xw=Ot("layout-dashboard",b9);const T9=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],Aw=Ot("list",T9);const E9=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],mR=Ot("log-out",E9);const w9=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Cw=Ot("moon",w9);const S9=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],x9=Ot("pause",S9);const A9=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],C9=Ot("play",A9);const R9=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ju=Ot("plus",R9);const I9=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],N9=Ot("rotate-ccw",I9);const D9=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],$0=Ot("save",D9);const k9=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],M9=Ot("search",k9);const V9=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],cg=Ot("settings",V9);const O9=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Rw=Ot("sun",O9);const P9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],L9=Ot("target",P9);const j9=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],cy=Ot("timer",j9);const U9=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Sd=Ot("trash-2",U9);const z9=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],hy=Ot("trending-up",z9);const B9=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Y0=Ot("trophy",B9);const F9=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],H9=Ot("upload",F9);const q9=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],G9=Ot("volume-2",q9);const K9=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],$9=Ot("volume-x",K9);const Y9=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],pR=Ot("x",Y9);const Q9=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],X9=Ot("zap",Q9),W9=Vt(an);function J9({subject:e,index:t=0}){const n=e.chapters.length,s=e.chapters.filter(c=>c.isCompleted).length;let a=0;e.chapters.forEach(c=>{c.topics&&c.topics.length>0?a+=c.topics.filter(d=>d.isCompleted).length/c.topics.length*100:a+=c.isCompleted?100:0});const l=n===0?0:Math.round(a/n);return w.jsxs(W9,{to:`/subject/${e.id}`,whileHover:{y:-5,transition:{duration:.2}},whileTap:{scale:.98},className:"group block bg-white dark:bg-slate-800 rounded-2xl p-5 border border-slate-100 dark:border-slate-700 shadow-sm hover:shadow-lg hover:border-blue-100 dark:hover:border-blue-900 transition-all",children:[w.jsxs("div",{className:"flex items-start justify-between mb-4",children:[w.jsx(Vt.div,{whileHover:{rotate:15,scale:1.1},className:`w-12 h-12 rounded-xl ${e.color} flex items-center justify-center text-white shadow-sm`,children:w.jsx(Wi,{className:"w-6 h-6"})}),w.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700 px-2 py-1 rounded-lg text-xs font-semibold text-slate-600 dark:text-slate-300 transition-colors",children:[l,"%"]})]}),w.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white mb-1 group-hover:text-blue-700 dark:group-hover:text-blue-400 transition-colors",children:e.name}),w.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500 dark:text-slate-400 mb-4 transition-colors",children:[w.jsxs("span",{className:"flex items-center gap-1",children:[w.jsx(Wi,{className:"w-3.5 h-3.5"}),n," ",n===1?"Chapter":"Chapters"]}),s>0&&w.jsxs("span",{className:"flex items-center gap-1 text-emerald-600 dark:text-emerald-400",children:[w.jsx(wd,{className:"w-3.5 h-3.5"}),s," Done"]})]}),w.jsx("div",{className:"h-2 w-full bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden transition-colors",children:w.jsx(Vt.div,{initial:{width:0},animate:{width:`${l}%`},transition:{duration:1,delay:.5+t*.1,ease:"easeOut"},className:`h-full ${e.color}`})}),w.jsxs("div",{className:"mt-4 flex items-center text-sm font-medium text-slate-400 dark:text-slate-500 group-hover:text-slate-600 dark:group-hover:text-slate-300 transition-colors",children:["View Details ",w.jsx(dR,{className:"w-4 h-4 ml-1 group-hover:translate-x-1 transition-transform"})]})]})}function Po({title:e,value:t,icon:n,colorClass:s,bgClass:a,delay:l=0}){return w.jsxs(Vt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:l,type:"spring"},className:"bg-white dark:bg-slate-800 rounded-2xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm flex items-center justify-between transition-colors",children:[w.jsxs("div",{children:[w.jsxs("h3",{className:"text-slate-400 dark:text-slate-400 font-medium text-sm flex items-center gap-1.5 mb-2",children:[w.jsx(n,{className:`w-4 h-4 ${s}`})," ",e]}),w.jsx("div",{className:"text-3xl font-bold text-slate-800 dark:text-white transition-colors",children:t})]}),w.jsx("div",{className:`w-12 h-12 ${a} rounded-full flex items-center justify-center transition-colors`,children:w.jsx(n,{className:`w-6 h-6 ${s}`})})]})}const Iw=["bg-blue-500","bg-emerald-500","bg-violet-500","bg-amber-500","bg-rose-500","bg-cyan-500","bg-fuchsia-500","bg-orange-500"];function Z9({onClose:e}){const{addSubject:t}=es(),[n,s]=N.useState(""),[a,l]=N.useState(Iw[0]),c=d=>{d.preventDefault(),n.trim()&&(t({name:n.trim(),color:a,icon:"book"}),e())};return w.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm animate-in fade-in duration-200",children:w.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl w-full max-w-md overflow-hidden animate-in zoom-in-95 duration-200 transition-colors",children:[w.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-slate-100 dark:border-slate-700",children:[w.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white flex items-center gap-2 transition-colors",children:[w.jsx(s9,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),"Add New Subject"]}),w.jsx("button",{onClick:e,className:"p-2 text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full transition-colors",children:w.jsx(pR,{className:"w-5 h-5"})})]}),w.jsxs("form",{onSubmit:c,className:"p-6 space-y-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1 transition-colors",children:"Subject Name"}),w.jsx("input",{autoFocus:!0,type:"text",value:n,onChange:d=>s(d.target.value),placeholder:"e.g. Physics",className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all font-medium placeholder:font-normal placeholder:text-slate-400 dark:placeholder:text-slate-500"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2 transition-colors",children:"Color Tag"}),w.jsx("div",{className:"flex flex-wrap gap-2",children:Iw.map(d=>w.jsx("button",{type:"button",onClick:()=>l(d),className:`w-8 h-8 rounded-full ${d} transition-all ${a===d?"ring-2 ring-offset-2 ring-slate-400 dark:ring-slate-500 scale-110":"hover:scale-105 opacity-80 hover:opacity-100"}`},d))})]}),w.jsx("div",{className:"pt-2",children:w.jsxs("button",{type:"submit",disabled:!n.trim(),className:"w-full bg-blue-600 hover:bg-blue-700 dark:bg-blue-600 dark:hover:bg-blue-500 disabled:opacity-50 disabled:cursor-not-allowed text-white font-medium py-3 rounded-xl flex items-center justify-center gap-2 transition-all active:scale-[0.98]",children:[w.jsx($0,{className:"w-5 h-5"}),"Create Subject"]})})]})]})})}const Nw={hidden:{opacity:0,y:10},show:{opacity:1,y:0,transition:{duration:.4,when:"beforeChildren",staggerChildren:.1}},exit:{opacity:0,y:-10}},Dw={hidden:{opacity:0,y:20},show:{opacity:1,y:0,transition:{type:"spring",stiffness:100,damping:12}}};function tU(){const{userProfile:e,subjects:t}=es(),[n,s]=N.useState(!1),a=t.reduce((m,p)=>m+p.chapters.length,0),l=t.reduce((m,p)=>m+p.chapters.filter(y=>y.isCompleted).length,0);let c=0;t.forEach(m=>{m.chapters.forEach(p=>{p.topics&&p.topics.length>0?c+=p.topics.filter(y=>y.isCompleted).length/p.topics.length*100:c+=p.isCompleted?100:0})});const d=a===0?0:Math.round(c/a);return w.jsxs(Vt.div,{className:"space-y-8",variants:Nw,initial:"hidden",animate:"show",exit:"exit",children:[w.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[w.jsxs("div",{children:[w.jsxs("h1",{className:"text-3xl font-bold text-slate-800 dark:text-white transition-colors",children:["Welcome back, ",w.jsx("span",{className:"bg-gradient-to-r from-blue-700 to-teal-600 dark:from-blue-400 dark:to-teal-400 bg-clip-text text-transparent",children:e.name}),"!"]}),w.jsxs("p",{className:"text-slate-500 dark:text-slate-400 mt-1 transition-colors",children:["You're currently in ",w.jsx("span",{className:"font-semibold text-slate-700 dark:text-slate-300",children:e.grade}),". Let's make progress!"]})]}),w.jsxs(Vt.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>s(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-5 py-3 rounded-xl font-medium flex items-center justify-center gap-2 shadow-sm transition-colors",children:[w.jsx(Ju,{className:"w-5 h-5"}),"Add Subject"]})]}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[w.jsxs(Vt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5,type:"spring"},className:"md:col-span-1 bg-gradient-to-br from-blue-600 to-blue-700 dark:from-blue-700 dark:to-blue-800 rounded-2xl p-6 text-white text-center md:text-left relative overflow-hidden shadow-lg shadow-blue-500/20",children:[w.jsxs("div",{className:"relative z-10",children:[w.jsxs("h3",{className:"text-blue-100 font-medium mb-1 flex items-center justify-center md:justify-start gap-2",children:[w.jsx(l9,{className:"w-4 h-4"})," Overall Syllabus"]}),w.jsxs("div",{className:"text-4xl font-bold mb-2",children:[d,"%"]}),w.jsxs("p",{className:"text-blue-100 text-sm",children:["Completed across ",t.length," subjects"]})]}),w.jsx("div",{className:"absolute -right-6 -bottom-6 w-32 h-32 bg-white/10 rounded-full blur-2xl"})]}),w.jsx(Po,{title:"Chapters Completed",value:l,icon:Y0,colorClass:"text-amber-500",bgClass:"bg-amber-50 dark:bg-amber-900/20",delay:.1}),w.jsx(Po,{title:"Chapters Pending",value:a-l,icon:uy,colorClass:"text-violet-500",bgClass:"bg-violet-50 dark:bg-violet-900/20",delay:.2})]}),w.jsxs("div",{children:[w.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4 flex items-center gap-2 transition-colors",children:["Your Subjects",w.jsx("span",{className:"text-sm font-normal text-slate-400 dark:text-slate-500 bg-slate-100 dark:bg-slate-800 px-2 py-0.5 rounded-full",children:t.length})]}),t.length>0?w.jsxs(Vt.div,{variants:Nw,initial:"hidden",animate:"show",className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[t.map((m,p)=>w.jsx(Vt.div,{variants:Dw,children:w.jsx(J9,{subject:m,index:p})},m.id)),w.jsxs(Vt.button,{variants:Dw,whileHover:{scale:1.02,backgroundColor:"rgba(239, 246, 255, 0.5)"},whileTap:{scale:.98},onClick:()=>s(!0),className:"group border-2 border-dashed border-slate-200 dark:border-slate-700 rounded-2xl p-6 flex flex-col items-center justify-center text-slate-400 dark:text-slate-500 hover:border-blue-400 dark:hover:border-blue-500 hover:text-blue-600 dark:hover:text-blue-400 transition-all cursor-pointer h-full min-h-[180px] w-full",children:[w.jsx("div",{className:"w-12 h-12 rounded-full bg-slate-100 dark:bg-slate-800 group-hover:bg-blue-100 dark:group-hover:bg-blue-900/20 flex items-center justify-center mb-3 transition-colors",children:w.jsx(Ju,{className:"w-6 h-6"})}),w.jsx("span",{className:"font-medium",children:"Add Another Subject"})]})]}):w.jsxs(Vt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-16 bg-white dark:bg-slate-800 rounded-2xl border border-dashed border-slate-200 dark:border-slate-700 transition-colors",children:[w.jsx("div",{className:"w-16 h-16 bg-slate-50 dark:bg-slate-700 rounded-full flex items-center justify-center mx-auto mb-4",children:w.jsx(uy,{className:"w-8 h-8 text-slate-300 dark:text-slate-500"})}),w.jsx("h3",{className:"text-lg font-semibold text-slate-700 dark:text-slate-200 mb-2",children:"No subjects yet"}),w.jsx("p",{className:"text-slate-500 dark:text-slate-400 max-w-sm mx-auto mb-6",children:"Start by adding the subjects you want to track to organize your study plan."}),w.jsx("button",{onClick:()=>s(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2.5 rounded-xl font-medium transition-all",children:"Add Your First Subject"})]})]}),n&&w.jsx(Z9,{onClose:()=>s(!1)})]})}function eU({subjectId:e,onClose:t}){const{addChapter:n}=es(),[s,a]=N.useState(""),l=c=>{c.preventDefault(),s.trim()&&(n(e,s.trim()),a(""))};return w.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm animate-in fade-in duration-200",children:w.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl w-full max-w-md overflow-hidden animate-in zoom-in-95 duration-200 transition-colors",children:[w.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-slate-100 dark:border-slate-700",children:[w.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white flex items-center gap-2 transition-colors",children:[w.jsx(uy,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),"Add Chapters"]}),w.jsx("button",{onClick:t,className:"p-2 text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full transition-colors",children:w.jsx(pR,{className:"w-5 h-5"})})]}),w.jsxs("form",{onSubmit:l,className:"p-6 space-y-4",children:[w.jsxs("div",{children:[w.jsxs("div",{className:"flex justify-between items-center mb-1",children:[w.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 transition-colors",children:"Chapter Name / Topic"}),w.jsx("span",{className:"text-xs text-slate-400 dark:text-slate-500 transition-colors",children:"Press Enter to add & continue"})]}),w.jsx("input",{autoFocus:!0,type:"text",value:s,onChange:c=>a(c.target.value),placeholder:"e.g. Newton's Laws",className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all placeholder:text-slate-400 dark:placeholder:text-slate-500"})]}),w.jsxs("div",{className:"flex gap-3 pt-2",children:[w.jsx("button",{type:"button",onClick:t,className:"flex-1 px-4 py-3 border border-slate-200 dark:border-slate-600 text-slate-600 dark:text-slate-300 font-medium rounded-xl hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",children:"Done"}),w.jsxs("button",{type:"submit",disabled:!s.trim(),className:"flex-1 bg-blue-600 hover:bg-blue-700 dark:bg-blue-600 dark:hover:bg-blue-500 disabled:opacity-50 disabled:cursor-not-allowed text-white font-medium py-3 rounded-xl flex items-center justify-center gap-2 transition-all active:scale-[0.98]",children:[w.jsx(Ju,{className:"w-5 h-5"}),"Add"]})]})]})]})})}const nU={initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10}};function xd({children:e,className:t=""}){return w.jsx(Vt.div,{variants:nU,initial:"initial",animate:"animate",exit:"exit",transition:{duration:.3,ease:"easeOut"},className:t,children:e})}function iU({subjectId:e,chapterId:t,topic:n}){const{toggleTopic:s,deleteTopic:a}=es();return w.jsxs(Vt.div,{layout:!0,initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:-10},className:"flex items-center gap-3 py-2 pl-4 pr-2 group/topic hover:bg-slate-50 dark:hover:bg-slate-700/50 rounded-lg transition-colors ml-8 border-l border-slate-100 dark:border-slate-700",children:[w.jsx(Vt.button,{whileTap:{scale:.8},onClick:()=>s(e,t,n.id),className:`flex-shrink-0 w-4 h-4 rounded-full border flex items-center justify-center transition-colors ${n.isCompleted?"border-emerald-500 bg-emerald-500 text-white":"border-slate-300 dark:border-slate-500 text-transparent hover:border-slate-400 dark:hover:border-slate-400"}`,children:w.jsx(wd,{className:"w-3 h-3"})}),w.jsx("span",{className:`flex-1 text-sm font-google-sans transition-all ${n.isCompleted?"text-slate-400 line-through":"text-slate-600 dark:text-slate-300"}`,children:n.name}),w.jsx("button",{onClick:()=>confirm("Delete this topic?")&&a(e,t,n.id),className:"opacity-0 group-hover/topic:opacity-100 p-1.5 text-slate-300 hover:text-red-500 dark:text-slate-600 dark:hover:text-red-400 transition-all",children:w.jsx(Sd,{className:"w-3.5 h-3.5"})})]})}function gR({subjectId:e,chapter:t,isExpanded:n,onToggle:s}){const{deleteChapter:a,addTopic:l}=es(),[c,d]=N.useState(!1),m=p=>{p.preventDefault();const y=p.target.elements.namedItem("topicName");y.value.trim()&&(l(e,t.id,y.value.trim()),y.value="",d(!1))};return w.jsxs("div",{className:"group transition-colors",children:[w.jsxs("div",{className:`flex items-center gap-3 p-4 pr-14 relative hover:bg-slate-50/80 dark:hover:bg-slate-700/50 cursor-pointer transition-colors ${t.isCompleted?"bg-slate-50/30 dark:bg-slate-700/30":""}`,onClick:s,children:[w.jsx("button",{className:"p-1 text-slate-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:w.jsx(Vt.div,{animate:{rotate:n?180:0},transition:{duration:.2},children:w.jsx(c9,{className:"w-5 h-5"})})}),w.jsxs("div",{className:"flex-1",children:[w.jsx("span",{className:`block font-bold text-lg transition-all ${t.isCompleted?"text-emerald-700 dark:text-emerald-400":"text-slate-800 dark:text-slate-200"}`,children:t.name}),w.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[w.jsxs("span",{className:"text-xs text-slate-400 dark:text-slate-500 font-medium whitespace-nowrap transition-colors",children:[t.topics?.filter(p=>p.isCompleted).length||0,"/",t.topics?.length||0," Topics",t.isCompleted&&w.jsxs("span",{className:"text-emerald-600 dark:text-emerald-400 ml-2 font-bold inline-flex items-center gap-1",children:[w.jsx(wd,{className:"w-3 h-3"})," Done"]})]}),t.topics&&t.topics.length>0&&w.jsx("div",{className:"h-1.5 w-24 bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden flex-shrink-0 transition-colors",children:w.jsx(Vt.div,{initial:{width:0},animate:{width:`${Math.round(t.topics.filter(p=>p.isCompleted).length/t.topics.length*100)}%`},transition:{duration:.5,ease:"easeOut"},className:`h-full ${t.isCompleted?"bg-emerald-500":"bg-blue-500"}`})})]})]}),w.jsxs("div",{className:"flex items-center gap-2 absolute right-4 top-1/2 -translate-y-1/2",children:[w.jsx(Vt.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:p=>{p.stopPropagation(),d(!0),n||s()},className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/30 dark:hover:text-blue-400 rounded-lg transition-colors",title:"Add Topic",children:w.jsx(Ju,{className:"w-4 h-4"})}),w.jsx(Vt.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:p=>{p.stopPropagation(),confirm("Delete this chapter?")&&a(e,t.id)},className:"p-2 text-slate-300 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/30 dark:hover:text-red-400 rounded-lg transition-colors",title:"Delete Chapter",children:w.jsx(Sd,{className:"w-4 h-4"})})]})]}),w.jsx(wx,{children:n&&w.jsx(Vt.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2,ease:"easeInOut"},className:"overflow-hidden bg-slate-50/50 dark:bg-slate-800/50 transition-colors",children:w.jsxs("div",{className:"pb-2",children:[t.topics&&t.topics.length>0?t.topics.map(p=>w.jsx(iU,{subjectId:e,chapterId:t.id,topic:p},p.id)):w.jsx("div",{className:"pl-12 py-3 text-sm text-slate-400 italic",children:"No topics yet. Click + to add one."}),c&&w.jsxs(Vt.form,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},onSubmit:m,className:"pl-12 pr-4 py-2 flex items-center gap-2",children:[w.jsx(m9,{className:"w-4 h-4 text-slate-300 dark:text-slate-500"}),w.jsx("input",{autoFocus:!0,name:"topicName",type:"text",placeholder:"Topic name...",className:"flex-1 bg-white dark:bg-slate-700 px-3 py-1.5 rounded-lg border border-slate-200 dark:border-slate-600 text-sm text-slate-800 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-colors",onBlur:()=>setTimeout(()=>d(!1),200)}),w.jsx("button",{type:"submit",className:"hidden",children:"Add"})]})]})})})]})}function sU(){const{id:e}=HI(),t=Zf(),{subjects:n,deleteSubject:s}=es(),[a,l]=N.useState(!1),[c,d]=N.useState({}),m=n.find(O=>O.id===e);if(!m)return w.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[50vh] text-center p-8",children:[w.jsx("div",{className:"w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mb-4",children:w.jsx(Wi,{className:"w-8 h-8 text-slate-300"})}),w.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Subject Not Found"}),w.jsx(an,{to:"/",className:"mt-4 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Go Back Home"})]});const p=()=>{confirm(`Are you sure you want to delete ${m.name}? ALL progress will be lost.`)&&(s(m.id),t("/"))},y=O=>{d(L=>({...L,[O]:!L[O]}))},_=m.chapters.length,T=m.chapters.filter(O=>O.isCompleted).length;let C=0;m.chapters.forEach(O=>{O.topics&&O.topics.length>0?C+=O.topics.filter(L=>L.isCompleted).length/O.topics.length*100:C+=O.isCompleted?100:0});const D=_===0?0:Math.round(C/_);return w.jsxs(xd,{className:"max-w-3xl mx-auto pb-12",children:[w.jsxs("div",{className:"mb-8",children:[w.jsxs(an,{to:"/",className:"inline-flex items-center gap-2 text-slate-500 hover:text-slate-800 dark:text-slate-400 dark:hover:text-slate-200 mb-6 transition-colors group",children:[w.jsx(Wj,{className:"w-4 h-4 group-hover:-translate-x-1 transition-transform"}),"Back to Dashboard"]}),w.jsxs("div",{className:"flex flex-col md:flex-row md:items-start justify-between gap-4",children:[w.jsxs("div",{children:[w.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1 rounded-full text-xs font-semibold text-white mb-3 ${m.color}`,children:[w.jsx(Wi,{className:"w-3 h-3"}),m.name]}),w.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-800 dark:text-white transition-colors",children:m.name}),w.jsxs("p",{className:"text-slate-500 dark:text-slate-400 mt-2 transition-colors",children:[T," of ",_," chapters completed"]})]}),w.jsx("button",{onClick:p,className:"self-start text-red-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/30 dark:hover:text-red-400 p-2 rounded-lg transition-colors",title:"Delete Subject",children:w.jsx(Sd,{className:"w-5 h-5"})})]}),w.jsxs("div",{className:"mt-6",children:[w.jsxs("div",{className:"flex justify-between items-end mb-2",children:[w.jsxs("span",{className:"text-3xl font-bold text-slate-800 dark:text-white transition-colors",children:[D,"%"]}),w.jsx("span",{className:"text-sm font-medium text-slate-400 dark:text-slate-500 transition-colors",children:"Progress"})]}),w.jsx("div",{className:"h-3 w-full bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden transition-colors",children:w.jsx(Vt.div,{initial:{width:0},animate:{width:`${D}%`},transition:{duration:1,ease:"easeOut"},className:`h-full ${m.color}`})})]})]}),w.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl border border-slate-100 dark:border-slate-700 shadow-sm overflow-hidden transition-colors",children:[w.jsxs("div",{className:"p-6 border-b border-slate-50 dark:border-slate-700 flex items-center justify-between bg-slate-50/50 dark:bg-slate-700/30 transition-colors",children:[w.jsx("h2",{className:"text-lg font-bold text-slate-800 dark:text-white transition-colors",children:"Syllabus / Chapters"}),w.jsxs(Vt.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>l(!0),className:"bg-slate-900 hover:bg-slate-800 dark:bg-slate-700 dark:hover:bg-slate-600 text-white px-4 py-2 rounded-lg text-sm font-medium flex items-center gap-2 transition-colors",children:[w.jsx(Ju,{className:"w-4 h-4"}),"Add Chapter"]})]}),w.jsx("div",{className:"divide-y divide-slate-50 dark:divide-slate-700 transition-colors",children:m.chapters.length>0?m.chapters.map(O=>w.jsx(gR,{subjectId:m.id,chapter:O,isExpanded:!!c[O.id],onToggle:()=>y(O.id)},O.id)):w.jsxs("div",{className:"p-12 text-center",children:[w.jsx("div",{className:"w-16 h-16 bg-slate-50 dark:bg-slate-700/50 rounded-full flex items-center justify-center mx-auto mb-3 transition-colors",children:w.jsx(Wi,{className:"w-6 h-6 text-slate-300 dark:text-slate-500"})}),w.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-4 transition-colors",children:"No chapters added yet."}),w.jsx("button",{onClick:()=>l(!0),className:"text-blue-600 dark:text-blue-400 font-medium hover:underline transition-colors",children:"Add your first chapter"})]})})]}),a&&w.jsx(eU,{subjectId:m.id,onClose:()=>l(!1)})]})}function rU(){const{user:e,logout:t}=fl(),{userProfile:n,updateProfile:s,resetData:a,exportData:l,importData:c}=es(),[d,m]=N.useState(n.name),[p,y]=N.useState(n.grade),_=()=>{s({name:d,grade:p}),alert("Profile updated successfully!")};return w.jsxs(xd,{className:"max-w-xl mx-auto space-y-6",children:[w.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[w.jsx(ww,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"}),w.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-white transition-colors",children:"My Profile Settings"})]}),w.jsxs(Vt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 p-6 space-y-4 transition-colors",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1 transition-colors",children:"Student Name"}),w.jsx("input",{type:"text",value:d,onChange:T=>m(T.target.value),className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all placeholder:text-slate-400 dark:placeholder:text-slate-500",placeholder:"Enter your name"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1 transition-colors",children:"Class / Grade"}),w.jsx("input",{type:"text",value:p,onChange:T=>y(T.target.value),className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all placeholder:text-slate-400 dark:placeholder:text-slate-500",placeholder:"e.g. HSC 2026"})]}),w.jsx("div",{className:"pt-4",children:w.jsxs("button",{onClick:_,className:"w-full bg-blue-600 hover:bg-blue-700 dark:bg-blue-600 dark:hover:bg-blue-500 text-white font-medium py-3 rounded-xl flex items-center justify-center gap-2 transition-all active:scale-[0.98]",children:[w.jsx($0,{className:"w-5 h-5"}),"Save Profile"]})})]}),w.jsxs(Vt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.15},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 p-6 space-y-4 transition-colors",children:[w.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white flex items-center gap-2 transition-colors",children:[w.jsx(Sw,{className:"w-5 h-5 text-slate-500 dark:text-slate-400"}),"Data Management"]}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[w.jsxs("button",{onClick:l,className:"flex items-center justify-center gap-2 px-4 py-3 bg-slate-50 dark:bg-slate-700 text-slate-700 dark:text-slate-200 font-medium rounded-xl border border-slate-200 dark:border-slate-600 hover:bg-slate-100 dark:hover:bg-slate-600 hover:border-slate-300 dark:hover:border-slate-500 transition-all",children:[w.jsx(Sw,{className:"w-4 h-4"}),"Export Backup"]}),w.jsxs("label",{className:"flex items-center justify-center gap-2 px-4 py-3 bg-slate-50 dark:bg-slate-700 text-slate-700 dark:text-slate-200 font-medium rounded-xl border border-slate-200 dark:border-slate-600 hover:bg-slate-100 dark:hover:bg-slate-600 hover:border-slate-300 dark:hover:border-slate-500 transition-all cursor-pointer",children:[w.jsx(H9,{className:"w-4 h-4"}),"Import Backup",w.jsx("input",{type:"file",accept:".json",className:"hidden",onChange:T=>{const C=T.target.files?.[0];if(C){const D=new FileReader;D.onload=O=>{const L=O.target?.result;c(L)&&alert("Data imported successfully!")},D.readAsText(C)}}})]})]})]}),w.jsxs(Vt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white dark:bg-slate-800 rounded-2xl border border-slate-100 dark:border-slate-700 p-6 mt-8 space-y-4 transition-colors",children:[w.jsxs("h3",{className:"text-slate-800 dark:text-white font-semibold mb-2 flex items-center gap-2 transition-colors",children:[w.jsx(ww,{className:"w-5 h-5"}),"Account"]}),w.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e?.photoURL?w.jsx("img",{src:e.photoURL,alt:e.displayName||"User",className:"w-12 h-12 rounded-full"}):w.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-100 dark:bg-blue-900/50 flex items-center justify-center text-blue-600 dark:text-blue-400 font-bold text-xl",children:e?.displayName?e.displayName[0]:e?.email?e.email[0].toUpperCase():"U"}),w.jsxs("div",{children:[w.jsx("p",{className:"font-medium text-slate-900 dark:text-white transition-colors",children:e?.displayName||"User"}),w.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 transition-colors",children:e?.email})]})]}),w.jsxs("button",{onClick:t,className:"w-full px-4 py-2 bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 text-slate-700 dark:text-slate-200 font-medium rounded-lg hover:bg-slate-100 dark:hover:bg-slate-600 hover:text-slate-900 dark:hover:text-white transition-colors text-sm flex items-center justify-center gap-2",children:[w.jsx(mR,{className:"w-4 h-4"}),"Sign Out"]})]}),w.jsxs(Vt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.25},className:"bg-red-50 dark:bg-red-900/10 rounded-2xl border border-red-100 dark:border-red-900/30 p-6 transition-colors",children:[w.jsxs("h3",{className:"text-red-700 dark:text-red-400 font-semibold mb-2 flex items-center gap-2 transition-colors",children:[w.jsx(Sd,{className:"w-5 h-5"}),"Danger Zone"]}),w.jsx("p",{className:"text-red-600/80 dark:text-red-400/80 text-sm mb-4 transition-colors",children:"This will permanently delete all your subjects, chapters, and progress data. This action cannot be undone."}),w.jsx("button",{onClick:()=>{confirm("Are you absolutely sure? This cannot be undone.")&&a()},className:"w-full px-4 py-2 bg-white dark:bg-slate-800 border border-red-200 dark:border-red-800 text-red-600 dark:text-red-400 font-medium rounded-lg hover:bg-red-50 dark:hover:bg-red-900/20 hover:text-red-700 dark:hover:text-red-300 transition-colors text-sm",children:"Reset All Data"})]})]})}function aU(e){let t=0,n=0,s=0,a=0;return e.forEach(l=>{t+=l.chapters.length,l.chapters.forEach(c=>{c.isCompleted&&n++,c.topics&&(s+=c.topics.length,c.topics.forEach(d=>{d.isCompleted&&a++}))})}),{totalChapters:t,completedChapters:n,totalTopics:s,completedTopics:a}}function oU(e){const t=new Date,s=Array.from({length:7},(l,c)=>{const d=new Date;return d.setDate(t.getDate()-(6-c)),d.toISOString().split("T")[0]}).map(l=>{let c=0;return e.forEach(d=>{d.chapters.forEach(m=>{m.topics&&m.topics.forEach(p=>{p.isCompleted&&p.completedAt&&p.completedAt.startsWith(l)&&c++})})}),{date:l,count:c}}),a=Math.max(...s.map(l=>l.count),1);return{activityData:s,maxCount:a}}function lU(e){const t=new Set;e.forEach(d=>d.chapters.forEach(m=>m.topics?.forEach(p=>{p.isCompleted&&p.completedAt&&t.add(p.completedAt.split("T")[0])})));const n=Array.from(t).sort((d,m)=>new Date(m).getTime()-new Date(d).getTime());let s=0;const a=new Date().toISOString().split("T")[0],l=new Date;l.setDate(l.getDate()-1);const c=l.toISOString().split("T")[0];if(n.length>0){const d=n[0];if(d===a||d===c){s=1;let m=new Date(d);for(let p=1;p<n.length;p++){const y=new Date(n[p]),_=Math.abs(m.getTime()-y.getTime());if(Math.round(_/(1e3*60*60*24))===1)s++,m=y;else break}}}return s}function uU(){const{subjects:e}=es(),{totalChapters:t,completedChapters:n,totalTopics:s,completedTopics:a}=aU(e),{activityData:l,maxCount:c}=oU(e),d=lU(e),m=s>0?Math.round(a/s*100):0,p={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}};return w.jsxs(xd,{className:"max-w-4xl mx-auto pb-12",children:[w.jsxs("h1",{className:"text-3xl font-bold text-slate-800 dark:text-white mb-8 flex items-center gap-3 transition-colors",children:[w.jsx(hy,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"}),"Study Analytics"]}),w.jsxs(Vt.div,{variants:p,initial:"hidden",animate:"show",className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[w.jsx("div",{className:"sm:col-span-1",children:w.jsx(Po,{title:"Total Streak",value:`${d} days`,icon:t9,colorClass:"text-orange-500",bgClass:"bg-orange-50 dark:bg-orange-900/20",delay:.1})}),w.jsx("div",{className:"sm:col-span-1",children:w.jsx(Po,{title:"Topics Done",value:`${a} / ${s}`,icon:Wi,colorClass:"text-blue-500",bgClass:"bg-blue-50 dark:bg-blue-900/20",delay:.2})}),w.jsx("div",{className:"sm:col-span-1",children:w.jsx(Po,{title:"Chapters Done",value:`${n} / ${t}`,icon:Y0,colorClass:"text-amber-500",bgClass:"bg-amber-50 dark:bg-amber-900/20",delay:.3})}),w.jsx("div",{className:"sm:col-span-1",children:w.jsx(Po,{title:"Completion",value:`${m}%`,icon:wd,colorClass:"text-emerald-500",bgClass:"bg-emerald-50 dark:bg-emerald-900/20",delay:.4})})]}),w.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[w.jsxs(Vt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"md:col-span-2 bg-white dark:bg-slate-800 p-6 rounded-3xl border border-slate-100 dark:border-slate-700 shadow-sm transition-colors",children:[w.jsxs("h2",{className:"text-lg font-bold text-slate-800 dark:text-white mb-6 flex items-center gap-2 transition-colors",children:[w.jsx(a9,{className:"w-5 h-5 text-slate-400"}),"Last 7 Days Activity"]}),w.jsx("div",{className:"flex items-end justify-between gap-2 h-48",children:l.map((y,_)=>w.jsxs("div",{className:"flex-1 flex flex-col items-center gap-2 group",children:[w.jsx("div",{className:"w-full bg-slate-100 dark:bg-slate-700 rounded-t-lg relative h-full flex items-end overflow-hidden transition-colors",children:w.jsx(Vt.div,{initial:{height:0},animate:{height:`${y.count/c*100}%`},transition:{duration:1,delay:_*.1,ease:"easeOut"},className:"w-full bg-blue-500 dark:bg-blue-600 rounded-t-lg transition-colors duration-300 group-hover:bg-blue-600 dark:group-hover:bg-blue-500 relative",children:w.jsxs("div",{className:"absolute -top-8 left-1/2 -translate-x-1/2 bg-slate-800 text-white text-xs py-1 px-2 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10",children:[y.count," Topics"]})})}),w.jsx("span",{className:"text-xs text-slate-400 dark:text-slate-500 font-medium transition-colors",children:new Date(y.date).toLocaleDateString("en-US",{weekday:"short"})})]},y.date))})]}),w.jsxs(Vt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white dark:bg-slate-800 p-6 rounded-3xl border border-slate-100 dark:border-slate-700 shadow-sm transition-colors",children:[w.jsxs("h2",{className:"text-lg font-bold text-slate-800 dark:text-white mb-6 flex items-center gap-2 transition-colors",children:[w.jsx(Wi,{className:"w-5 h-5 text-slate-400"}),"Subject Progress"]}),w.jsxs("div",{className:"space-y-4 max-h-[300px] overflow-y-auto pr-2 custom-scrollbar",children:[e.map(y=>{const _=y.chapters.reduce((D,O)=>D+(O.topics?.length||0),0),T=y.chapters.reduce((D,O)=>D+(O.topics?.filter(L=>L.isCompleted).length||0),0),C=_>0?Math.round(T/_*100):0;return w.jsxs("div",{children:[w.jsxs("div",{className:"flex justify-between items-center mb-1",children:[w.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 transition-colors",children:y.name}),w.jsxs("span",{className:"text-xs text-slate-400 dark:text-slate-500 transition-colors",children:[C,"%"]})]}),w.jsx("div",{className:"h-2 bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden transition-colors",children:w.jsx(Vt.div,{initial:{width:0},animate:{width:`${C}%`},transition:{duration:1,ease:"easeOut"},className:`h-full ${y.color}`})})]},y.id)}),e.length===0&&w.jsx("div",{className:"text-center text-slate-400 text-sm py-8",children:"No subjects added."})]})]})]})]})}function cU(){const{subjects:e}=es(),[t,n]=N.useState(""),[s,a]=N.useState("all"),[l,c]=N.useState("all"),[d,m]=N.useState({}),p=e.flatMap(T=>T.chapters.map(C=>({...C,subjectName:T.name,subjectColor:T.color,subjectId:T.id}))),y=p.filter(T=>{const C=T.name.toLowerCase().includes(t.toLowerCase())||T.subjectName.toLowerCase().includes(t.toLowerCase()),D=s==="all"||T.subjectId===s,O=l==="all"||(l==="completed"?T.isCompleted:!T.isCompleted);return C&&D&&O}),_=T=>{m(C=>({...C,[T]:!C[T]}))};return w.jsxs(xd,{className:"max-w-4xl mx-auto pb-12",children:[w.jsxs("h1",{className:"text-3xl font-bold text-slate-800 dark:text-white mb-8 flex items-center gap-3 transition-colors",children:[w.jsx(Wi,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"}),"All Chapters Tracker"]}),w.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm mb-8 transition-colors",children:[w.jsxs("div",{className:"flex justify-between items-end mb-2",children:[w.jsxs("div",{children:[w.jsx("h2",{className:"text-lg font-bold text-slate-800 dark:text-white transition-colors",children:"Overall Progress"}),w.jsxs("p",{className:"text-slate-500 dark:text-slate-400 text-sm transition-colors",children:[p.filter(T=>T.isCompleted).length," of ",p.length," chapters completed"]})]}),w.jsxs("span",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400 transition-colors",children:[p.length>0?Math.round(p.filter(T=>T.isCompleted).length/p.length*100):0,"%"]})]}),w.jsx("div",{className:"h-4 w-full bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden transition-colors",children:w.jsx(Vt.div,{initial:{width:0},animate:{width:`${p.length>0?Math.round(p.filter(T=>T.isCompleted).length/p.length*100):0}%`},transition:{duration:1,ease:"easeOut"},className:"h-full bg-blue-600 dark:bg-blue-500"})})]}),w.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm mb-6 flex flex-col md:flex-row gap-4 transition-colors",children:[w.jsxs("div",{className:"relative flex-1",children:[w.jsx(M9,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),w.jsx("input",{type:"text",placeholder:"Search chapters or subjects...",value:t,onChange:T=>n(T.target.value),className:"w-full pl-9 pr-4 py-2 bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg text-slate-800 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/20 placeholder:text-slate-400 dark:placeholder:text-slate-500 transition-colors"})]}),w.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-2 md:pb-0",children:[w.jsxs("select",{value:s,onChange:T=>a(T.target.value),className:"px-3 py-2 bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg text-sm text-slate-600 dark:text-slate-300 focus:outline-none transition-colors",children:[w.jsx("option",{value:"all",children:"All Subjects"}),e.map(T=>w.jsx("option",{value:T.id,children:T.name},T.id))]}),w.jsxs("select",{value:l,onChange:T=>c(T.target.value),className:"px-3 py-2 bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg text-sm text-slate-600 dark:text-slate-300 focus:outline-none transition-colors",children:[w.jsx("option",{value:"all",children:"All Status"}),w.jsx("option",{value:"completed",children:"Completed"}),w.jsx("option",{value:"pending",children:"Pending"})]})]})]}),w.jsx("div",{className:"space-y-4",children:y.length>0?y.map(T=>w.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-100 dark:border-slate-700 shadow-sm overflow-hidden transition-colors",children:[w.jsx("div",{className:"bg-slate-50/50 dark:bg-slate-700/30 px-4 py-1 text-xs font-semibold text-slate-500 dark:text-slate-400 border-b border-slate-50 dark:border-slate-700 flex items-center justify-between transition-colors",children:w.jsx("span",{className:T.subjectColor,children:T.subjectName})}),w.jsx(gR,{subjectId:T.subjectId,chapter:T,isExpanded:!!d[T.id],onToggle:()=>_(T.id)})]},T.id)):w.jsx("div",{className:"text-center py-12 bg-white dark:bg-slate-800 rounded-2xl border border-dashed border-slate-200 dark:border-slate-700 transition-colors",children:w.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"No chapters found matching your filters."})})})]})}const hg=1500;function hU(){const{saveStudySession:e,subjects:t}=es(),{user:n}=fl(),[s,a]=N.useState("stopwatch"),[l,c]=N.useState(!1),[d,m]=N.useState(0),[p,y]=N.useState(0),[_,T]=N.useState(30),[C,D]=N.useState(""),[O,L]=N.useState(!1),[F,H]=N.useState(!0),[$,W]=N.useState([]),[J,at]=N.useState(!0),R=N.useRef(null),x=N.useRef(null),I=N.useCallback(()=>{if(F)try{x.current||(x.current=new(window.AudioContext||window.webkitAudioContext));const lt=x.current,vt=lt.createOscillator(),j=lt.createGain();vt.connect(j),j.connect(lt.destination),vt.type="sine",vt.frequency.setValueAtTime(880,lt.currentTime),j.gain.setValueAtTime(.1,lt.currentTime),vt.start(),j.gain.exponentialRampToValueAtTime(1e-5,lt.currentTime+.5),vt.stop(lt.currentTime+.5)}catch(lt){console.error("Audio play failed",lt)}},[F]);N.useEffect(()=>(l?R.current=window.setInterval(()=>{m(lt=>s==="stopwatch"?lt+1:lt<=1?(c(!1),I(),0):lt-1)},1e3):R.current&&clearInterval(R.current),()=>{R.current&&clearInterval(R.current)}),[l,s,I]),N.useEffect(()=>{if(c(!1),L(!1),s==="stopwatch")m(0),y(0);else if(s==="pomodoro")m(hg),y(hg);else if(s==="countdown"){const lt=_*60;m(lt),y(lt)}},[s,_]),N.useEffect(()=>{(async()=>{if(n)try{const vt=XC(Ef,"users"),j=Mj(vt,Vj("userProfile.totalStudyTime","desc"),Oj(10)),nt=await Lj(j),ct=[];nt.forEach(ht=>{const Et=ht.data();Et.userProfile&&ct.push({userId:ht.id,userName:Et.userProfile.name,totalStudyTime:Et.userProfile.totalStudyTime||0})}),W(ct)}catch(vt){console.error("Error fetching leaderboard:",vt)}finally{at(!1)}})()},[n,O]);const V=()=>{c(!l),L(!1)},P=()=>{c(!1),L(!1),s==="stopwatch"?m(0):s==="pomodoro"?m(hg):s==="countdown"&&m(_*60)},z=async()=>{let lt=0;if(s==="stopwatch"?lt=d:lt=p-d,lt<60){alert("Session must be at least 1 minute to save.");return}await e(lt,C||void 0),L(!0),s==="stopwatch"&&m(0),alert("Session saved successfully!")},k=lt=>{const vt=Math.floor(lt/3600),j=Math.floor(lt%3600/60),nt=lt%60;return`${vt.toString().padStart(2,"0")}:${j.toString().padStart(2,"0")}:${nt.toString().padStart(2,"0")}`},Qt=lt=>{const vt=Math.floor(lt/3600),j=Math.floor(lt%3600/60);return vt>0?`${vt}h ${j}m`:`${j}m`},ue=s==="stopwatch"?100:(p-d)/p*100,Z=120,ot=2*Math.PI*Z,dt=ot-ue/100*ot;return w.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[w.jsxs("header",{className:"flex items-center justify-between mb-8",children:[w.jsxs("div",{children:[w.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white transition-colors",children:"Study Timer"}),w.jsx("p",{className:"text-slate-500 dark:text-slate-400 transition-colors",children:"Focus, track, and compete."})]}),w.jsx("button",{onClick:()=>H(!F),className:"p-2 text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 transition-colors",children:F?w.jsx(G9,{className:"w-6 h-6"}):w.jsx($9,{className:"w-6 h-6"})})]}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[w.jsxs("div",{className:"flex flex-col space-y-6",children:[w.jsxs("div",{className:"bg-white dark:bg-slate-800 p-1 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 flex transition-colors",children:[w.jsxs("button",{onClick:()=>a("stopwatch"),className:`flex-1 flex items-center justify-center gap-2 py-2 text-sm font-medium rounded-lg transition-all ${s==="stopwatch"?"bg-blue-600 text-white shadow-sm":"text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700"}`,children:[w.jsx(cy,{className:"w-4 h-4"}),"Stopwatch"]}),w.jsxs("button",{onClick:()=>a("pomodoro"),className:`flex-1 flex items-center justify-center gap-2 py-2 text-sm font-medium rounded-lg transition-all ${s==="pomodoro"?"bg-rose-500 text-white shadow-sm":"text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700"}`,children:[w.jsx(L9,{className:"w-4 h-4"}),"Pomodoro"]}),w.jsxs("button",{onClick:()=>a("countdown"),className:`flex-1 flex items-center justify-center gap-2 py-2 text-sm font-medium rounded-lg transition-all ${s==="countdown"?"bg-amber-500 text-white shadow-sm":"text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700"}`,children:[w.jsx(X9,{className:"w-4 h-4"}),"Countdown"]})]}),w.jsxs(Vt.div,{layout:!0,className:"bg-white dark:bg-slate-800 rounded-3xl p-8 shadow-sm border border-slate-100 dark:border-slate-700 flex flex-col items-center justify-center text-center relative overflow-hidden transition-colors",children:[w.jsx("div",{className:"w-full absolute top-6 left-0 px-8 z-10",children:w.jsxs("select",{className:"w-full p-2 bg-transparent text-center font-medium text-slate-600 dark:text-slate-300 border-none focus:ring-0 cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-700 rounded-lg transition-colors",value:C,onChange:lt=>D(lt.target.value),disabled:l,children:[w.jsx("option",{value:"",className:"dark:bg-slate-800",children:"Select Subject (Optional)"}),t.map(lt=>w.jsx("option",{value:lt.id,className:"dark:bg-slate-800",children:lt.name},lt.id))]})}),w.jsxs("div",{className:"relative mt-12 mb-8",children:[w.jsxs("svg",{className:"w-full max-w-[18rem] aspect-square transform -rotate-90",viewBox:"0 0 288 288",children:[w.jsx("circle",{cx:"144",cy:"144",r:Z,strokeWidth:"12",fill:"transparent",className:"stroke-slate-100 dark:stroke-slate-700 transition-colors"}),w.jsx("circle",{cx:"144",cy:"144",r:Z,stroke:s==="pomodoro"?"#f43f5e":"#3b82f6",strokeWidth:"12",fill:"transparent",strokeDasharray:ot,strokeDashoffset:s==="stopwatch"?0:dt,strokeLinecap:"round",className:"transition-all duration-1000 ease-linear"})]}),w.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center z-20",children:[w.jsx("div",{className:`text-6xl font-mono font-bold tracking-wider ${l?s==="pomodoro"?"text-rose-500":"text-blue-600":"text-slate-800 dark:text-white"}`,children:k(d)}),w.jsx("div",{className:"text-slate-400 dark:text-slate-500 font-medium mt-2 capitalize",children:s})]})]}),s==="countdown"&&!l&&d===0&&w.jsxs("div",{className:"mb-6 flex items-center gap-2",children:[w.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Minutes:"}),w.jsx("input",{type:"number",min:"1",max:"180",value:_,onChange:lt=>T(Number(lt.target.value)),className:"w-20 p-2 border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-800 dark:text-white rounded-lg text-center"})]}),w.jsxs("div",{className:"flex items-center gap-4 z-10",children:[w.jsx("button",{onClick:V,className:`p-4 rounded-full transition-all shadow-lg transform active:scale-95 ${l?"bg-amber-100 text-amber-600 hover:bg-amber-200":"bg-blue-600 text-white hover:bg-blue-700"}`,children:l?w.jsx(x9,{className:"w-8 h-8 font-fill"}):w.jsx(C9,{className:"w-8 h-8 pl-1"})}),(d>0||s!=="stopwatch"&&d!==p)&&w.jsx("button",{onClick:P,className:"p-4 rounded-full bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600 transition-all active:scale-95",children:w.jsx(N9,{className:"w-6 h-6"})})]}),!l&&(s==="stopwatch"&&d>0||s!=="stopwatch"&&d!==p)&&!O&&w.jsxs(Vt.button,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},onClick:z,className:"absolute bottom-6 flex items-center gap-2 px-6 py-2 bg-emerald-500 text-white rounded-full hover:bg-emerald-600 transition-colors shadow-md",children:[w.jsx($0,{className:"w-4 h-4"}),"Save Session"]})]})]}),w.jsxs(Vt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white dark:bg-slate-800 rounded-2xl p-6 shadow-sm border border-slate-100 dark:border-slate-700 h-fit transition-colors",children:[w.jsxs("div",{className:"flex items-center gap-2 mb-6 pb-4 border-b border-slate-100 dark:border-slate-700",children:[w.jsx(Y0,{className:"w-6 h-6 text-yellow-500"}),w.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Leaderboard"})]}),J?w.jsx("div",{className:"text-center py-8 text-slate-400",children:"Loading rankings..."}):w.jsxs("div",{className:"space-y-4",children:[$.map((lt,vt)=>w.jsxs("div",{className:`flex items-center justify-between p-3 rounded-xl ${lt.userId===n?.uid?"bg-blue-50 dark:bg-blue-900/30 border border-blue-100 dark:border-blue-800":"hover:bg-slate-50 dark:hover:bg-slate-700/50"}`,children:[w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsx("div",{className:`
                                            w-8 h-8 rounded-full flex items-center justify-center font-bold text-sm
                                            ${vt===0?"bg-yellow-100 text-yellow-700":vt===1?"bg-slate-200 text-slate-700":vt===2?"bg-orange-100 text-orange-700":"bg-slate-50 dark:bg-slate-700 text-slate-500 dark:text-slate-400"}
                                        `,children:vt+1}),w.jsx("div",{children:w.jsxs("p",{className:`font-medium ${lt.userId===n?.uid?"text-blue-700 dark:text-blue-400":"text-slate-800 dark:text-slate-200"}`,children:[lt.userName," ",lt.userId===n?.uid&&"(You)"]})})]}),w.jsxs("div",{className:"flex items-center gap-1 text-slate-500 dark:text-slate-400 text-sm font-medium",children:[w.jsx(g9,{className:"w-4 h-4"}),Qt(lt.totalStudyTime)]})]},lt.userId)),$.length===0&&w.jsx("div",{className:"text-center py-8 text-slate-500 bg-slate-50 dark:bg-slate-700 rounded-xl",children:"No records yet. Be the first!"})]})]})]})]})}const yR=N.createContext(void 0);function fU({children:e}){const[t,n]=N.useState(()=>typeof window<"u"&&localStorage.getItem("theme")?localStorage.getItem("theme"):typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");N.useEffect(()=>{const a=window.document.documentElement;a.classList.remove("light","dark"),a.classList.add(t),localStorage.setItem("theme",t)},[t]);const s=()=>{n(a=>a==="light"?"dark":"light")};return w.jsx(yR.Provider,{value:{theme:t,toggleTheme:s},children:e})}function dU(){const e=N.useContext(yR);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e}function mU(){const{logout:e}=fl(),{theme:t,toggleTheme:n}=dU(),s=Ms(),a=FI(),l=c=>s.pathname===c;return w.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-slate-100 pb-20 md:pb-0 font-sans transition-colors duration-300",children:[w.jsxs("header",{className:"bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700 sticky top-0 z-10 px-4 py-3 flex items-center justify-between md:hidden transition-colors duration-300",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("div",{className:"bg-blue-600 p-1.5 rounded-lg",children:w.jsx(Wi,{className:"w-5 h-5 text-white"})}),w.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-blue-700 to-teal-600 bg-clip-text text-transparent",children:"TrackEd"})]}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("button",{onClick:n,className:"p-2 text-slate-500 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full transition-colors","aria-label":"Toggle Theme",children:t==="light"?w.jsx(Cw,{className:"w-5 h-5"}):w.jsx(Rw,{className:"w-5 h-5"})}),w.jsx(an,{to:"/settings",className:"p-2 text-slate-500 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full transition-colors",children:w.jsx(cg,{className:"w-5 h-5"})})]})]}),w.jsxs("div",{className:"md:flex max-w-5xl mx-auto",children:[w.jsxs("aside",{className:"hidden md:flex flex-col w-64 h-screen sticky top-0 p-6 border-r border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 transition-colors duration-300",children:[w.jsxs("div",{className:"flex items-center justify-between mb-10",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("div",{className:"bg-blue-600 p-2 rounded-lg",children:w.jsx(Wi,{className:"w-6 h-6 text-white"})}),w.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:"TrackEd"})]}),w.jsx("button",{onClick:n,className:"p-2 text-slate-500 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors","aria-label":"Toggle Theme",children:t==="light"?w.jsx(Cw,{className:"w-5 h-5"}):w.jsx(Rw,{className:"w-5 h-5"})})]}),w.jsxs("nav",{className:"space-y-2 flex-1",children:[w.jsxs(an,{to:"/",className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${l("/")?"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-400 font-medium":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-700/50"}`,children:[w.jsx(xw,{className:"w-5 h-5"}),"Dashboard"]}),w.jsxs(an,{to:"/analytics",className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${l("/analytics")?"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-400 font-medium":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-700/50"}`,children:[w.jsx(hy,{className:"w-5 h-5"}),"Analytics"]}),w.jsxs(an,{to:"/chapters",className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${l("/chapters")?"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-400 font-medium":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-700/50"}`,children:[w.jsx(Aw,{className:"w-5 h-5"}),"Chapters"]}),w.jsxs(an,{to:"/timer",className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${s.pathname==="/timer"?"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-400 font-medium":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-700/50 hover:text-slate-900 dark:hover:text-white"}`,children:[w.jsx(cy,{className:"w-5 h-5"}),"Timer"]}),w.jsxs(an,{to:"/settings",className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${l("/settings")?"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-400 font-medium":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-700/50"}`,children:[w.jsx(cg,{className:"w-5 h-5"}),"Settings"]})]}),w.jsxs("div",{className:"mt-auto pt-6 border-t border-slate-100 dark:border-slate-700",children:[w.jsxs("button",{onClick:e,className:"flex items-center gap-3 px-4 py-3 rounded-lg text-slate-600 dark:text-slate-400 hover:bg-red-50 dark:hover:bg-red-900/20 hover:text-red-700 dark:hover:text-red-400 transition-colors w-full text-left mb-4",children:[w.jsx(mR,{className:"w-5 h-5"}),"Sign Out"]}),w.jsxs("div",{className:"text-xs text-slate-400 dark:text-slate-500",children:[w.jsx("p",{children:"Empowering Students"}),w.jsx("p",{className:"mt-1",children:" 2026 TrackEd"})]})]})]}),w.jsx("main",{className:"flex-1 p-4 md:p-8",children:w.jsx(wx,{mode:"wait",children:a&&N.cloneElement(a,{key:s.pathname})})})]}),w.jsxs("nav",{className:"fixed bottom-0 left-0 right-0 bg-white dark:bg-slate-800 border-t border-slate-200 dark:border-slate-700 flex justify-around pt-3 px-3 pb-[calc(0.75rem+env(safe-area-inset-bottom))] md:hidden z-20 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.05)] transition-colors duration-300",children:[w.jsxs(an,{to:"/",className:`flex flex-col items-center gap-1 text-xs ${l("/")?"text-blue-600 dark:text-blue-400 font-medium":"text-slate-400 dark:text-slate-500"}`,children:[w.jsx(xw,{className:"w-6 h-6"}),w.jsx("span",{children:"Home"})]}),w.jsxs(an,{to:"/analytics",className:`flex flex-col items-center gap-1 text-xs ${l("/analytics")?"text-blue-600 dark:text-blue-400 font-medium":"text-slate-400 dark:text-slate-500"}`,children:[w.jsx(hy,{className:"w-6 h-6"}),w.jsx("span",{children:"Stats"})]}),w.jsxs(an,{to:"/chapters",className:`flex flex-col items-center gap-1 text-xs ${l("/chapters")?"text-blue-600 dark:text-blue-400 font-medium":"text-slate-400 dark:text-slate-500"}`,children:[w.jsx(Aw,{className:"w-6 h-6"}),w.jsx("span",{children:"Chapters"})]}),w.jsxs(an,{to:"/timer",className:`flex flex-col items-center gap-1 text-xs ${l("/timer")?"text-blue-600 dark:text-blue-400 font-medium":"text-slate-400 dark:text-slate-500"}`,children:[w.jsx(cy,{className:"w-6 h-6"}),w.jsx("span",{children:"Timer"})]}),w.jsxs(an,{to:"/settings",className:`flex flex-col items-center gap-1 text-xs ${l("/settings")?"text-blue-600 dark:text-blue-400 font-medium":"text-slate-400 dark:text-slate-500"}`,children:[w.jsx(cg,{className:"w-6 h-6"}),w.jsx("span",{children:"Settings"})]})]})]})}function pU(){const{signInWithGoogle:e,user:t}=fl(),n=Zf();return Mw.useEffect(()=>{t&&n("/")},[t,n]),w.jsxs("div",{className:"min-h-screen flex items-center justify-center relative overflow-hidden bg-slate-50 dark:bg-slate-900 transition-colors",children:[w.jsxs("div",{className:"absolute inset-0 z-0",children:[w.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[40%] h-[40%] bg-blue-400/20 dark:bg-blue-600/10 rounded-full blur-3xl animate-pulse"}),w.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[40%] h-[40%] bg-indigo-400/20 dark:bg-indigo-600/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}}),w.jsx("div",{className:"absolute top-[20%] right-[10%] w-[20%] h-[20%] bg-purple-400/20 dark:bg-purple-600/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"2s"}})]}),w.jsxs(Vt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,ease:"easeOut"},className:"relative z-10 w-full max-w-md px-6",children:[w.jsxs("div",{className:"bg-white/80 dark:bg-slate-800/80 backdrop-blur-xl rounded-3xl shadow-2xl border border-white/50 dark:border-slate-700/50 p-8 md:p-12 text-center transition-colors",children:[w.jsx("div",{className:"flex justify-center mb-8",children:w.jsx("div",{className:"p-4 bg-indigo-600 rounded-2xl shadow-lg transform rotate-3 hover:rotate-6 transition-transform duration-300",children:w.jsx(_9,{className:"w-10 h-10 text-white"})})}),w.jsxs("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white mb-3 tracking-tight transition-colors",children:["Welcome to ",w.jsx("span",{className:"text-indigo-600 dark:text-indigo-400",children:"TrackEd"})]}),w.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-10 text-lg leading-relaxed transition-colors",children:"Master your study habits and achieve your goals."}),w.jsxs(Vt.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:e,className:"group w-full relative flex items-center justify-center gap-3 py-3.5 px-6 border border-transparent rounded-xl shadow-md text-base font-semibold text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-all duration-200",children:[w.jsx("div",{className:"bg-white p-1 rounded-full",children:w.jsx("img",{src:"https://www.google.com/favicon.ico",alt:"G",className:"w-4 h-4"})}),w.jsx("span",{children:"Sign in with Google"}),w.jsx(dR,{className:"w-4 h-4 opacity-0 group-hover:opacity-100 group-hover:translate-x-1 transition-all"})]}),w.jsx("p",{className:"mt-8 text-xs text-slate-400 dark:text-slate-500 transition-colors",children:"By signing in, you agree to our Terms of Service and Privacy Policy."})]}),w.jsx("div",{className:"mt-8 text-center",children:w.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400 transition-colors",children:"Focus. Track. Succeed."})})]})]})}function gU({children:e}){const{user:t,loading:n}=fl();return n?w.jsx("div",{children:"Loading..."}):t?w.jsx(w.Fragment,{children:e}):w.jsx(iN,{to:"/login"})}function yU(){return w.jsx(IN,{basename:"/Study-Mate/",children:w.jsxs(rN,{children:[w.jsx(Ts,{path:"/login",element:w.jsx(pU,{})}),w.jsxs(Ts,{path:"/",element:w.jsx(gU,{children:w.jsx(mU,{})}),children:[w.jsx(Ts,{index:!0,element:w.jsx(tU,{})}),w.jsx(Ts,{path:"subject/:id",element:w.jsx(sU,{})}),w.jsx(Ts,{path:"analytics",element:w.jsx(uU,{})}),w.jsx(Ts,{path:"chapters",element:w.jsx(cU,{})}),w.jsx(Ts,{path:"timer",element:w.jsx(hU,{})}),w.jsx(Ts,{path:"settings",element:w.jsx(rU,{})})]})]})})}class vU extends N.Component{state={hasError:!1,error:null};static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){console.error("Uncaught error:",t,n)}render(){return this.state.hasError?w.jsx("div",{className:"min-h-screen flex items-center justify-center bg-red-50 p-4",children:w.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg max-w-lg w-full",children:[w.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Something went wrong"}),w.jsx("p",{className:"text-slate-600 mb-4",children:"We encountered an unexpected error."}),w.jsx("pre",{className:"bg-slate-100 p-4 rounded text-xs text-slate-800 overflow-auto mb-4",children:this.state.error?.message}),w.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Reload Page"})]})}):this.props.children}}sI.createRoot(document.getElementById("root")).render(w.jsx(Mw.StrictMode,{children:w.jsx(vU,{children:w.jsx(Hj,{children:w.jsx(qj,{children:w.jsx(fU,{children:w.jsx(yU,{})})})})})}));
