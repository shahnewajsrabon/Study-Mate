(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function BE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ag={exports:{}},Pc={};var y_;function NR(){if(y_)return Pc;y_=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:t,type:i,key:c,ref:a!==void 0?a:null,props:l}}return Pc.Fragment=e,Pc.jsx=n,Pc.jsxs=n,Pc}var v_;function CR(){return v_||(v_=1,ag.exports=NR()),ag.exports}var f=CR(),og={exports:{}},Oe={};var x_;function RR(){if(x_)return Oe;x_=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),_=Symbol.iterator;function E(z){return z===null||typeof z!="object"?null:(z=_&&z[_]||z["@@iterator"],typeof z=="function"?z:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,j={};function L(z,se,ce){this.props=z,this.context=se,this.refs=j,this.updater=ce||R}L.prototype.isReactComponent={},L.prototype.setState=function(z,se){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,se,"setState")},L.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function q(){}q.prototype=L.prototype;function $(z,se,ce){this.props=z,this.context=se,this.refs=j,this.updater=ce||R}var Z=$.prototype=new q;Z.constructor=$,D(Z,L.prototype),Z.isPureReactComponent=!0;var ne=Array.isArray;function de(){}var I={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function C(z,se,ce){var fe=ce.ref;return{$$typeof:t,type:z,key:se,ref:fe!==void 0?fe:null,props:ce}}function U(z,se){return C(z.type,se,z.props)}function P(z){return typeof z=="object"&&z!==null&&z.$$typeof===t}function H(z){var se={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(ce){return se[ce]})}var M=/\/+/g;function ue(z,se){return typeof z=="object"&&z!==null&&z.key!=null?H(""+z.key):se.toString(36)}function Y(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(de,de):(z.status="pending",z.then(function(se){z.status==="pending"&&(z.status="fulfilled",z.value=se)},function(se){z.status==="pending"&&(z.status="rejected",z.reason=se)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function V(z,se,ce,fe,Ae){var je=typeof z;(je==="undefined"||je==="boolean")&&(z=null);var ke=!1;if(z===null)ke=!0;else switch(je){case"bigint":case"string":case"number":ke=!0;break;case"object":switch(z.$$typeof){case t:case e:ke=!0;break;case v:return ke=z._init,V(ke(z._payload),se,ce,fe,Ae)}}if(ke)return Ae=Ae(z),ke=fe===""?"."+ue(z,0):fe,ne(Ae)?(ce="",ke!=null&&(ce=ke.replace(M,"$&/")+"/"),V(Ae,se,ce,"",function(bt){return bt})):Ae!=null&&(P(Ae)&&(Ae=U(Ae,ce+(Ae.key==null||z&&z.key===Ae.key?"":(""+Ae.key).replace(M,"$&/")+"/")+ke)),se.push(Ae)),1;ke=0;var ge=fe===""?".":fe+":";if(ne(z))for(var Me=0;Me<z.length;Me++)fe=z[Me],je=ge+ue(fe,Me),ke+=V(fe,se,ce,je,Ae);else if(Me=E(z),typeof Me=="function")for(z=Me.call(z),Me=0;!(fe=z.next()).done;)fe=fe.value,je=ge+ue(fe,Me++),ke+=V(fe,se,ce,je,Ae);else if(je==="object"){if(typeof z.then=="function")return V(Y(z),se,ce,fe,Ae);throw se=String(z),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.")}return ke}function F(z,se,ce){if(z==null)return z;var fe=[],Ae=0;return V(z,fe,"","",function(je){return se.call(ce,je,Ae++)}),fe}function G(z){if(z._status===-1){var se=z._result;se=se(),se.then(function(ce){(z._status===0||z._status===-1)&&(z._status=1,z._result=ce)},function(ce){(z._status===0||z._status===-1)&&(z._status=2,z._result=ce)}),z._status===-1&&(z._status=0,z._result=se)}if(z._status===1)return z._result.default;throw z._result}var he=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var se=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(se))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},pe={map:F,forEach:function(z,se,ce){F(z,function(){se.apply(this,arguments)},ce)},count:function(z){var se=0;return F(z,function(){se++}),se},toArray:function(z){return F(z,function(se){return se})||[]},only:function(z){if(!P(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return Oe.Activity=x,Oe.Children=pe,Oe.Component=L,Oe.Fragment=n,Oe.Profiler=a,Oe.PureComponent=$,Oe.StrictMode=i,Oe.Suspense=m,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Oe.__COMPILER_RUNTIME={__proto__:null,c:function(z){return I.H.useMemoCache(z)}},Oe.cache=function(z){return function(){return z.apply(null,arguments)}},Oe.cacheSignal=function(){return null},Oe.cloneElement=function(z,se,ce){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var fe=D({},z.props),Ae=z.key;if(se!=null)for(je in se.key!==void 0&&(Ae=""+se.key),se)!S.call(se,je)||je==="key"||je==="__self"||je==="__source"||je==="ref"&&se.ref===void 0||(fe[je]=se[je]);var je=arguments.length-2;if(je===1)fe.children=ce;else if(1<je){for(var ke=Array(je),ge=0;ge<je;ge++)ke[ge]=arguments[ge+2];fe.children=ke}return C(z.type,Ae,fe)},Oe.createContext=function(z){return z={$$typeof:c,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:l,_context:z},z},Oe.createElement=function(z,se,ce){var fe,Ae={},je=null;if(se!=null)for(fe in se.key!==void 0&&(je=""+se.key),se)S.call(se,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(Ae[fe]=se[fe]);var ke=arguments.length-2;if(ke===1)Ae.children=ce;else if(1<ke){for(var ge=Array(ke),Me=0;Me<ke;Me++)ge[Me]=arguments[Me+2];Ae.children=ge}if(z&&z.defaultProps)for(fe in ke=z.defaultProps,ke)Ae[fe]===void 0&&(Ae[fe]=ke[fe]);return C(z,je,Ae)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(z){return{$$typeof:d,render:z}},Oe.isValidElement=P,Oe.lazy=function(z){return{$$typeof:v,_payload:{_status:-1,_result:z},_init:G}},Oe.memo=function(z,se){return{$$typeof:g,type:z,compare:se===void 0?null:se}},Oe.startTransition=function(z){var se=I.T,ce={};I.T=ce;try{var fe=z(),Ae=I.S;Ae!==null&&Ae(ce,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(de,he)}catch(je){he(je)}finally{se!==null&&ce.types!==null&&(se.types=ce.types),I.T=se}},Oe.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Oe.use=function(z){return I.H.use(z)},Oe.useActionState=function(z,se,ce){return I.H.useActionState(z,se,ce)},Oe.useCallback=function(z,se){return I.H.useCallback(z,se)},Oe.useContext=function(z){return I.H.useContext(z)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(z,se){return I.H.useDeferredValue(z,se)},Oe.useEffect=function(z,se){return I.H.useEffect(z,se)},Oe.useEffectEvent=function(z){return I.H.useEffectEvent(z)},Oe.useId=function(){return I.H.useId()},Oe.useImperativeHandle=function(z,se,ce){return I.H.useImperativeHandle(z,se,ce)},Oe.useInsertionEffect=function(z,se){return I.H.useInsertionEffect(z,se)},Oe.useLayoutEffect=function(z,se){return I.H.useLayoutEffect(z,se)},Oe.useMemo=function(z,se){return I.H.useMemo(z,se)},Oe.useOptimistic=function(z,se){return I.H.useOptimistic(z,se)},Oe.useReducer=function(z,se,ce){return I.H.useReducer(z,se,ce)},Oe.useRef=function(z){return I.H.useRef(z)},Oe.useState=function(z){return I.H.useState(z)},Oe.useSyncExternalStore=function(z,se,ce){return I.H.useSyncExternalStore(z,se,ce)},Oe.useTransition=function(){return I.H.useTransition()},Oe.version="19.2.4",Oe}var b_;function ny(){return b_||(b_=1,og.exports=RR()),og.exports}var N=ny();const FE=BE(N);var lg={exports:{}},Lc={},cg={exports:{}},ug={};var __;function IR(){return __||(__=1,(function(t){function e(V,F){var G=V.length;V.push(F);e:for(;0<G;){var he=G-1>>>1,pe=V[he];if(0<a(pe,F))V[he]=F,V[G]=pe,G=he;else break e}}function n(V){return V.length===0?null:V[0]}function i(V){if(V.length===0)return null;var F=V[0],G=V.pop();if(G!==F){V[0]=G;e:for(var he=0,pe=V.length,z=pe>>>1;he<z;){var se=2*(he+1)-1,ce=V[se],fe=se+1,Ae=V[fe];if(0>a(ce,G))fe<pe&&0>a(Ae,ce)?(V[he]=Ae,V[fe]=G,he=fe):(V[he]=ce,V[se]=G,he=se);else if(fe<pe&&0>a(Ae,G))V[he]=Ae,V[fe]=G,he=fe;else break e}}return F}function a(V,F){var G=V.sortIndex-F.sortIndex;return G!==0?G:V.id-F.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var m=[],g=[],v=1,x=null,_=3,E=!1,R=!1,D=!1,j=!1,L=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function Z(V){for(var F=n(g);F!==null;){if(F.callback===null)i(g);else if(F.startTime<=V)i(g),F.sortIndex=F.expirationTime,e(m,F);else break;F=n(g)}}function ne(V){if(D=!1,Z(V),!R)if(n(m)!==null)R=!0,de||(de=!0,H());else{var F=n(g);F!==null&&Y(ne,F.startTime-V)}}var de=!1,I=-1,S=5,C=-1;function U(){return j?!0:!(t.unstable_now()-C<S)}function P(){if(j=!1,de){var V=t.unstable_now();C=V;var F=!0;try{e:{R=!1,D&&(D=!1,q(I),I=-1),E=!0;var G=_;try{t:{for(Z(V),x=n(m);x!==null&&!(x.expirationTime>V&&U());){var he=x.callback;if(typeof he=="function"){x.callback=null,_=x.priorityLevel;var pe=he(x.expirationTime<=V);if(V=t.unstable_now(),typeof pe=="function"){x.callback=pe,Z(V),F=!0;break t}x===n(m)&&i(m),Z(V)}else i(m);x=n(m)}if(x!==null)F=!0;else{var z=n(g);z!==null&&Y(ne,z.startTime-V),F=!1}}break e}finally{x=null,_=G,E=!1}F=void 0}}finally{F?H():de=!1}}}var H;if(typeof $=="function")H=function(){$(P)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,ue=M.port2;M.port1.onmessage=P,H=function(){ue.postMessage(null)}}else H=function(){L(P,0)};function Y(V,F){I=L(function(){V(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_next=function(V){switch(_){case 1:case 2:case 3:var F=3;break;default:F=_}var G=_;_=F;try{return V()}finally{_=G}},t.unstable_requestPaint=function(){j=!0},t.unstable_runWithPriority=function(V,F){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var G=_;_=V;try{return F()}finally{_=G}},t.unstable_scheduleCallback=function(V,F,G){var he=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?he+G:he):G=he,V){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=G+pe,V={id:v++,callback:F,priorityLevel:V,startTime:G,expirationTime:pe,sortIndex:-1},G>he?(V.sortIndex=G,e(g,V),n(m)===null&&V===n(g)&&(D?(q(I),I=-1):D=!0,Y(ne,G-he))):(V.sortIndex=pe,e(m,V),R||E||(R=!0,de||(de=!0,H()))),V},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(V){var F=_;return function(){var G=_;_=F;try{return V.apply(this,arguments)}finally{_=G}}}})(ug)),ug}var w_;function jR(){return w_||(w_=1,cg.exports=IR()),cg.exports}var dg={exports:{}},hn={};var T_;function DR(){if(T_)return hn;T_=1;var t=ny();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,g,v){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:x==null?null:""+x,children:m,containerInfo:g,implementation:v}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return hn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,hn.createPortal=function(m,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(m,g,null,v)},hn.flushSync=function(m){var g=c.T,v=i.p;try{if(c.T=null,i.p=2,m)return m()}finally{c.T=g,i.p=v,i.d.f()}},hn.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(m,g))},hn.prefetchDNS=function(m){typeof m=="string"&&i.d.D(m)},hn.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var v=g.as,x=d(v,g.crossOrigin),_=typeof g.integrity=="string"?g.integrity:void 0,E=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?i.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:x,integrity:_,fetchPriority:E}):v==="script"&&i.d.X(m,{crossOrigin:x,integrity:_,fetchPriority:E,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},hn.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=d(g.as,g.crossOrigin);i.d.M(m,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(m)},hn.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,x=d(v,g.crossOrigin);i.d.L(m,v,{crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},hn.preloadModule=function(m,g){if(typeof m=="string")if(g){var v=d(g.as,g.crossOrigin);i.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(m)},hn.requestFormReset=function(m){i.d.r(m)},hn.unstable_batchedUpdates=function(m,g){return m(g)},hn.useFormState=function(m,g,v){return c.H.useFormState(m,g,v)},hn.useFormStatus=function(){return c.H.useHostTransitionStatus()},hn.version="19.2.4",hn}var E_;function HE(){if(E_)return dg.exports;E_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),dg.exports=DR(),dg.exports}var S_;function MR(){if(S_)return Lc;S_=1;var t=jR(),e=ny(),n=HE();function i(s){var r="https://react.dev/errors/"+s;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+s+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function l(s){var r=s,o=s;if(s.alternate)for(;r.return;)r=r.return;else{s=r;do r=s,(r.flags&4098)!==0&&(o=r.return),s=r.return;while(s)}return r.tag===3?o:null}function c(s){if(s.tag===13){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function d(s){if(s.tag===31){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function m(s){if(l(s)!==s)throw Error(i(188))}function g(s){var r=s.alternate;if(!r){if(r=l(s),r===null)throw Error(i(188));return r!==s?null:s}for(var o=s,u=r;;){var p=o.return;if(p===null)break;var y=p.alternate;if(y===null){if(u=p.return,u!==null){o=u;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===o)return m(p),s;if(y===u)return m(p),r;y=y.sibling}throw Error(i(188))}if(o.return!==u.return)o=p,u=y;else{for(var w=!1,A=p.child;A;){if(A===o){w=!0,o=p,u=y;break}if(A===u){w=!0,u=p,o=y;break}A=A.sibling}if(!w){for(A=y.child;A;){if(A===o){w=!0,o=y,u=p;break}if(A===u){w=!0,u=y,o=p;break}A=A.sibling}if(!w)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?s:r}function v(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s;for(s=s.child;s!==null;){if(r=v(s),r!==null)return r;s=s.sibling}return null}var x=Object.assign,_=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),q=Symbol.for("react.consumer"),$=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),ne=Symbol.for("react.suspense"),de=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function H(s){return s===null||typeof s!="object"?null:(s=P&&s[P]||s["@@iterator"],typeof s=="function"?s:null)}var M=Symbol.for("react.client.reference");function ue(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===M?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case D:return"Fragment";case L:return"Profiler";case j:return"StrictMode";case ne:return"Suspense";case de:return"SuspenseList";case C:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case R:return"Portal";case $:return s.displayName||"Context";case q:return(s._context.displayName||"Context")+".Consumer";case Z:var r=s.render;return s=s.displayName,s||(s=r.displayName||r.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case I:return r=s.displayName||null,r!==null?r:ue(s.type)||"Memo";case S:r=s._payload,s=s._init;try{return ue(s(r))}catch{}}return null}var Y=Array.isArray,V=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G={pending:!1,data:null,method:null,action:null},he=[],pe=-1;function z(s){return{current:s}}function se(s){0>pe||(s.current=he[pe],he[pe]=null,pe--)}function ce(s,r){pe++,he[pe]=s.current,s.current=r}var fe=z(null),Ae=z(null),je=z(null),ke=z(null);function ge(s,r){switch(ce(je,r),ce(Ae,s),ce(fe,null),r.nodeType){case 9:case 11:s=(s=r.documentElement)&&(s=s.namespaceURI)?z1(s):0;break;default:if(s=r.tagName,r=r.namespaceURI)r=z1(r),s=B1(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}se(fe),ce(fe,s)}function Me(){se(fe),se(Ae),se(je)}function bt(s){s.memoizedState!==null&&ce(ke,s);var r=fe.current,o=B1(r,s.type);r!==o&&(ce(Ae,s),ce(fe,o))}function en(s){Ae.current===s&&(se(fe),se(Ae)),ke.current===s&&(se(ke),Dc._currentValue=G)}var jn,xi;function Dn(s){if(jn===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);jn=r&&r[1]||"",xi=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+jn+s+xi}var $n=!1;function Mn(s,r){if(!s||$n)return"";$n=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(te){var J=te}Reflect.construct(s,[],ae)}else{try{ae.call()}catch(te){J=te}s.call(ae.prototype)}}else{try{throw Error()}catch(te){J=te}(ae=s())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(te){if(te&&J&&typeof te.stack=="string")return[te.stack,J.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=u.DetermineComponentFrameRoot(),w=y[0],A=y[1];if(w&&A){var O=w.split(`
`),W=A.split(`
`);for(p=u=0;u<O.length&&!O[u].includes("DetermineComponentFrameRoot");)u++;for(;p<W.length&&!W[p].includes("DetermineComponentFrameRoot");)p++;if(u===O.length||p===W.length)for(u=O.length-1,p=W.length-1;1<=u&&0<=p&&O[u]!==W[p];)p--;for(;1<=u&&0<=p;u--,p--)if(O[u]!==W[p]){if(u!==1||p!==1)do if(u--,p--,0>p||O[u]!==W[p]){var ie=`
`+O[u].replace(" at new "," at ");return s.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",s.displayName)),ie}while(1<=u&&0<=p);break}}}finally{$n=!1,Error.prepareStackTrace=o}return(o=s?s.displayName||s.name:"")?Dn(o):""}function Ml(s,r){switch(s.tag){case 26:case 27:case 5:return Dn(s.type);case 16:return Dn("Lazy");case 13:return s.child!==r&&r!==null?Dn("Suspense Fallback"):Dn("Suspense");case 19:return Dn("SuspenseList");case 0:case 15:return Mn(s.type,!1);case 11:return Mn(s.type.render,!1);case 1:return Mn(s.type,!0);case 31:return Dn("Activity");default:return""}}function Vl(s){try{var r="",o=null;do r+=Ml(s,o),o=s,s=s.return;while(s);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Ct=Object.prototype.hasOwnProperty,qt=t.unstable_scheduleCallback,nr=t.unstable_cancelCallback,lm=t.unstable_shouldYield,Bu=t.unstable_requestPaint,xn=t.unstable_now,ia=t.unstable_getCurrentPriorityLevel,Ol=t.unstable_ImmediatePriority,Pl=t.unstable_UserBlockingPriority,sr=t.unstable_NormalPriority,cm=t.unstable_LowPriority,Fu=t.unstable_IdlePriority,Hu=t.log,qu=t.unstable_setDisableYieldValue,fs=null,tn=null;function Kn(s){if(typeof Hu=="function"&&qu(s),tn&&typeof tn.setStrictMode=="function")try{tn.setStrictMode(fs,s)}catch{}}var Et=Math.clz32?Math.clz32:$u,Gu=Math.log,ao=Math.LN2;function $u(s){return s>>>=0,s===0?32:31-(Gu(s)/ao|0)|0}var Vs=256,ra=262144,Rt=4194304;function Os(s){var r=s&42;if(r!==0)return r;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Ps(s,r,o){var u=s.pendingLanes;if(u===0)return 0;var p=0,y=s.suspendedLanes,w=s.pingedLanes;s=s.warmLanes;var A=u&134217727;return A!==0?(u=A&~y,u!==0?p=Os(u):(w&=A,w!==0?p=Os(w):o||(o=A&~s,o!==0&&(p=Os(o))))):(A=u&~y,A!==0?p=Os(A):w!==0?p=Os(w):o||(o=u&~s,o!==0&&(p=Os(o)))),p===0?0:r!==0&&r!==p&&(r&y)===0&&(y=p&-p,o=r&-r,y>=o||y===32&&(o&4194048)!==0)?r:p}function ms(s,r){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&r)===0}function um(s,r){switch(s){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ku(){var s=Rt;return Rt<<=1,(Rt&62914560)===0&&(Rt=4194304),s}function Ls(s){for(var r=[],o=0;31>o;o++)r.push(s);return r}function aa(s,r){s.pendingLanes|=r,r!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function dm(s,r,o,u,p,y){var w=s.pendingLanes;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=o,s.entangledLanes&=o,s.errorRecoveryDisabledLanes&=o,s.shellSuspendCounter=0;var A=s.entanglements,O=s.expirationTimes,W=s.hiddenUpdates;for(o=w&~o;0<o;){var ie=31-Et(o),ae=1<<ie;A[ie]=0,O[ie]=-1;var J=W[ie];if(J!==null)for(W[ie]=null,ie=0;ie<J.length;ie++){var te=J[ie];te!==null&&(te.lane&=-536870913)}o&=~ae}u!==0&&oa(s,u,0),y!==0&&p===0&&s.tag!==0&&(s.suspendedLanes|=y&~(w&~r))}function oa(s,r,o){s.pendingLanes|=r,s.suspendedLanes&=~r;var u=31-Et(r);s.entangledLanes|=r,s.entanglements[u]=s.entanglements[u]|1073741824|o&261930}function Ll(s,r){var o=s.entangledLanes|=r;for(s=s.entanglements;o;){var u=31-Et(o),p=1<<u;p&r|s[u]&r&&(s[u]|=r),o&=~p}}function Ul(s,r){var o=r&-r;return o=(o&42)!==0?1:la(o),(o&(s.suspendedLanes|r))!==0?0:o}function la(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function bi(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Yu(){var s=F.p;return s!==0?s:(s=window.event,s===void 0?32:u_(s.type))}function ps(s,r){var o=F.p;try{return F.p=s,r()}finally{F.p=o}}var gs=Math.random().toString(36).slice(2),It="__reactFiber$"+gs,Qt="__reactProps$"+gs,Us="__reactContainer$"+gs,oo="__reactEvents$"+gs,hm="__reactListeners$"+gs,Qu="__reactHandles$"+gs,Xu="__reactResources$"+gs,zs="__reactMarker$"+gs;function lo(s){delete s[It],delete s[Qt],delete s[oo],delete s[hm],delete s[Qu]}function Bs(s){var r=s[It];if(r)return r;for(var o=s.parentNode;o;){if(r=o[Us]||o[It]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(s=Y1(s);s!==null;){if(o=s[It])return o;s=Y1(s)}return r}s=o,o=s.parentNode}return null}function Yn(s){if(s=s[It]||s[Us]){var r=s.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return s}return null}function Vn(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s.stateNode;throw Error(i(33))}function Fs(s){var r=s[Xu];return r||(r=s[Xu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function jt(s){s[zs]=!0}var zl=new Set,Bl={};function Hs(s,r){qs(s,r),qs(s+"Capture",r)}function qs(s,r){for(Bl[s]=r,s=0;s<r.length;s++)zl.add(r[s])}var Fl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Hl={},ql={};function Wu(s){return Ct.call(ql,s)?!0:Ct.call(Hl,s)?!1:Fl.test(s)?ql[s]=!0:(Hl[s]=!0,!1)}function co(s,r,o){if(Wu(r))if(o===null)s.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":s.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){s.removeAttribute(r);return}}s.setAttribute(r,""+o)}}function On(s,r,o){if(o===null)s.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(r);return}s.setAttribute(r,""+o)}}function Dt(s,r,o,u){if(u===null)s.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttributeNS(r,o,""+u)}}function Xt(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function ir(s){var r=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Gl(s,r,o){var u=Object.getOwnPropertyDescriptor(s.constructor.prototype,r);if(!s.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var p=u.get,y=u.set;return Object.defineProperty(s,r,{configurable:!0,get:function(){return p.call(this)},set:function(w){o=""+w,y.call(this,w)}}),Object.defineProperty(s,r,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(w){o=""+w},stopTracking:function(){s._valueTracker=null,delete s[r]}}}}function nt(s){if(!s._valueTracker){var r=ir(s)?"checked":"value";s._valueTracker=Gl(s,r,""+s[r])}}function ca(s){if(!s)return!1;var r=s._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return s&&(u=ir(s)?s.checked?"true":"false":s.value),s=u,s!==o?(r.setValue(s),!0):!1}function Gs(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var ua=/[\n"\\]/g;function En(s){return s.replace(ua,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function uo(s,r,o,u,p,y,w,A){s.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?s.type=w:s.removeAttribute("type"),r!=null?w==="number"?(r===0&&s.value===""||s.value!=r)&&(s.value=""+Xt(r)):s.value!==""+Xt(r)&&(s.value=""+Xt(r)):w!=="submit"&&w!=="reset"||s.removeAttribute("value"),r!=null?$l(s,w,Xt(r)):o!=null?$l(s,w,Xt(o)):u!=null&&s.removeAttribute("value"),p==null&&y!=null&&(s.defaultChecked=!!y),p!=null&&(s.checked=p&&typeof p!="function"&&typeof p!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?s.name=""+Xt(A):s.removeAttribute("name")}function Ju(s,r,o,u,p,y,w,A){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(s.type=y),r!=null||o!=null){if(!(y!=="submit"&&y!=="reset"||r!=null)){nt(s);return}o=o!=null?""+Xt(o):"",r=r!=null?""+Xt(r):o,A||r===s.value||(s.value=r),s.defaultValue=r}u=u??p,u=typeof u!="function"&&typeof u!="symbol"&&!!u,s.checked=A?s.checked:!!u,s.defaultChecked=!!u,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(s.name=w),nt(s)}function $l(s,r,o){r==="number"&&Gs(s.ownerDocument)===s||s.defaultValue===""+o||(s.defaultValue=""+o)}function rr(s,r,o,u){if(s=s.options,r){r={};for(var p=0;p<o.length;p++)r["$"+o[p]]=!0;for(o=0;o<s.length;o++)p=r.hasOwnProperty("$"+s[o].value),s[o].selected!==p&&(s[o].selected=p),p&&u&&(s[o].defaultSelected=!0)}else{for(o=""+Xt(o),r=null,p=0;p<s.length;p++){if(s[p].value===o){s[p].selected=!0,u&&(s[p].defaultSelected=!0);return}r!==null||s[p].disabled||(r=s[p])}r!==null&&(r.selected=!0)}}function Zu(s,r,o){if(r!=null&&(r=""+Xt(r),r!==s.value&&(s.value=r),o==null)){s.defaultValue!==r&&(s.defaultValue=r);return}s.defaultValue=o!=null?""+Xt(o):""}function ar(s,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(i(92));if(Y(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=Xt(r),s.defaultValue=o,u=s.textContent,u===o&&u!==""&&u!==null&&(s.value=u),nt(s)}function Sn(s,r){if(r){var o=s.firstChild;if(o&&o===s.lastChild&&o.nodeType===3){o.nodeValue=r;return}}s.textContent=r}var ed=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Kl(s,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?s.setProperty(r,""):r==="float"?s.cssFloat="":s[r]="":u?s.setProperty(r,o):typeof o!="number"||o===0||ed.has(r)?r==="float"?s.cssFloat=o:s[r]=(""+o).trim():s[r]=o+"px"}function Yl(s,r,o){if(r!=null&&typeof r!="object")throw Error(i(62));if(s=s.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?s.setProperty(u,""):u==="float"?s.cssFloat="":s[u]="");for(var p in r)u=r[p],r.hasOwnProperty(p)&&o[p]!==u&&Kl(s,p,u)}else for(var y in r)r.hasOwnProperty(y)&&Kl(s,y,r[y])}function ho(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var td=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),or=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function fo(s){return or.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function ys(){}var Ql=null;function Qn(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var lr=null,$s=null;function da(s){var r=Yn(s);if(r&&(s=r.stateNode)){var o=s[Qt]||null;e:switch(s=r.stateNode,r.type){case"input":if(uo(s,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=s;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+En(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==s&&u.form===s.form){var p=u[Qt]||null;if(!p)throw Error(i(90));uo(u,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===s.form&&ca(u)}break e;case"textarea":Zu(s,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&rr(s,!!o.multiple,r,!1)}}}var mo=!1;function cr(s,r,o){if(mo)return s(r,o);mo=!0;try{var u=s(r);return u}finally{if(mo=!1,(lr!==null||$s!==null)&&(Yd(),lr&&(r=lr,s=$s,$s=lr=null,da(r),s)))for(r=0;r<s.length;r++)da(s[r])}}function vs(s,r){var o=s.stateNode;if(o===null)return null;var u=o[Qt]||null;if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(s=s.type,u=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!u;break e;default:s=!1}if(s)return null;if(o&&typeof o!="function")throw Error(i(231,r,typeof o));return o}var Xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ha=!1;if(Xn)try{var rt={};Object.defineProperty(rt,"passive",{get:function(){ha=!0}}),window.addEventListener("test",rt,rt),window.removeEventListener("test",rt,rt)}catch{ha=!1}var Ks=null,Xl=null,fa=null;function Wl(){if(fa)return fa;var s,r=Xl,o=r.length,u,p="value"in Ks?Ks.value:Ks.textContent,y=p.length;for(s=0;s<o&&r[s]===p[s];s++);var w=o-s;for(u=1;u<=w&&r[o-u]===p[y-u];u++);return fa=p.slice(s,1<u?1-u:void 0)}function ma(s){var r=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&r===13&&(s=13)):s=r,s===10&&(s=13),32<=s||s===13?s:0}function _i(){return!0}function xs(){return!1}function nn(s){function r(o,u,p,y,w){this._reactName=o,this._targetInst=p,this.type=u,this.nativeEvent=y,this.target=w,this.currentTarget=null;for(var A in s)s.hasOwnProperty(A)&&(o=s[A],this[A]=o?o(y):y[A]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?_i:xs,this.isPropagationStopped=xs,this}return x(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=_i)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=_i)},persist:function(){},isPersistent:_i}),r}var wi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ys=nn(wi),ur=x({},wi,{view:0,detail:0}),Jl=nn(ur),dr,po,Qs,go=x({},ur,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Qs&&(Qs&&s.type==="mousemove"?(dr=s.screenX-Qs.screenX,po=s.screenY-Qs.screenY):po=dr=0,Qs=s),dr)},movementY:function(s){return"movementY"in s?s.movementY:po}}),Zl=nn(go),pa=x({},go,{dataTransfer:0}),nd=nn(pa),sd=x({},ur,{relatedTarget:0}),ga=nn(sd),ec=x({},wi,{animationName:0,elapsedTime:0,pseudoElement:0}),id=nn(ec),yo=x({},wi,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),rd=nn(yo),ad=x({},wi,{data:0}),Xs=nn(ad),od={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ld={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ud(s){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(s):(s=cd[s])?!!r[s]:!1}function hr(){return ud}var bn=x({},ur,{key:function(s){if(s.key){var r=od[s.key]||s.key;if(r!=="Unidentified")return r}return s.type==="keypress"?(s=ma(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?ld[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hr,charCode:function(s){return s.type==="keypress"?ma(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ma(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),dd=nn(bn),hd=x({},go,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ti=nn(hd),h=x({},ur,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hr}),b=nn(h),T=x({},wi,{propertyName:0,elapsedTime:0,pseudoElement:0}),k=nn(T),Q=x({},go,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),ee=nn(Q),me=x({},wi,{newState:0,oldState:0}),Le=nn(me),St=[9,13,27,32],Ze=Xn&&"CompositionEvent"in window,pt=null;Xn&&"documentMode"in document&&(pt=document.documentMode);var Wn=Xn&&"TextEvent"in window&&!pt,Ws=Xn&&(!Ze||pt&&8<pt&&11>=pt),bs=" ",_s=!1;function ya(s,r){switch(s){case"keyup":return St.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vo(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var xo=!1;function JN(s,r){switch(s){case"compositionend":return vo(r);case"keypress":return r.which!==32?null:(_s=!0,bs);case"textInput":return s=r.data,s===bs&&_s?null:s;default:return null}}function ZN(s,r){if(xo)return s==="compositionend"||!Ze&&ya(s,r)?(s=Wl(),fa=Xl=Ks=null,xo=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Ws&&r.locale!=="ko"?null:r.data;default:return null}}var eC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wv(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r==="input"?!!eC[s.type]:r==="textarea"}function Jv(s,r,o,u){lr?$s?$s.push(u):$s=[u]:lr=u,r=th(r,"onChange"),0<r.length&&(o=new Ys("onChange","change",null,o,u),s.push({event:o,listeners:r}))}var tc=null,nc=null;function tC(s){M1(s,0)}function fd(s){var r=Vn(s);if(ca(r))return s}function Zv(s,r){if(s==="change")return r}var ex=!1;if(Xn){var fm;if(Xn){var mm="oninput"in document;if(!mm){var tx=document.createElement("div");tx.setAttribute("oninput","return;"),mm=typeof tx.oninput=="function"}fm=mm}else fm=!1;ex=fm&&(!document.documentMode||9<document.documentMode)}function nx(){tc&&(tc.detachEvent("onpropertychange",sx),nc=tc=null)}function sx(s){if(s.propertyName==="value"&&fd(nc)){var r=[];Jv(r,nc,s,Qn(s)),cr(tC,r)}}function nC(s,r,o){s==="focusin"?(nx(),tc=r,nc=o,tc.attachEvent("onpropertychange",sx)):s==="focusout"&&nx()}function sC(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return fd(nc)}function iC(s,r){if(s==="click")return fd(r)}function rC(s,r){if(s==="input"||s==="change")return fd(r)}function aC(s,r){return s===r&&(s!==0||1/s===1/r)||s!==s&&r!==r}var Pn=typeof Object.is=="function"?Object.is:aC;function sc(s,r){if(Pn(s,r))return!0;if(typeof s!="object"||s===null||typeof r!="object"||r===null)return!1;var o=Object.keys(s),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var p=o[u];if(!Ct.call(r,p)||!Pn(s[p],r[p]))return!1}return!0}function ix(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function rx(s,r){var o=ix(s);s=0;for(var u;o;){if(o.nodeType===3){if(u=s+o.textContent.length,s<=r&&u>=r)return{node:o,offset:r-s};s=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=ix(o)}}function ax(s,r){return s&&r?s===r?!0:s&&s.nodeType===3?!1:r&&r.nodeType===3?ax(s,r.parentNode):"contains"in s?s.contains(r):s.compareDocumentPosition?!!(s.compareDocumentPosition(r)&16):!1:!1}function ox(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var r=Gs(s.document);r instanceof s.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)s=r.contentWindow;else break;r=Gs(s.document)}return r}function pm(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r&&(r==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||r==="textarea"||s.contentEditable==="true")}var oC=Xn&&"documentMode"in document&&11>=document.documentMode,bo=null,gm=null,ic=null,ym=!1;function lx(s,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;ym||bo==null||bo!==Gs(u)||(u=bo,"selectionStart"in u&&pm(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),ic&&sc(ic,u)||(ic=u,u=th(gm,"onSelect"),0<u.length&&(r=new Ys("onSelect","select",null,r,o),s.push({event:r,listeners:u}),r.target=bo)))}function va(s,r){var o={};return o[s.toLowerCase()]=r.toLowerCase(),o["Webkit"+s]="webkit"+r,o["Moz"+s]="moz"+r,o}var _o={animationend:va("Animation","AnimationEnd"),animationiteration:va("Animation","AnimationIteration"),animationstart:va("Animation","AnimationStart"),transitionrun:va("Transition","TransitionRun"),transitionstart:va("Transition","TransitionStart"),transitioncancel:va("Transition","TransitionCancel"),transitionend:va("Transition","TransitionEnd")},vm={},cx={};Xn&&(cx=document.createElement("div").style,"AnimationEvent"in window||(delete _o.animationend.animation,delete _o.animationiteration.animation,delete _o.animationstart.animation),"TransitionEvent"in window||delete _o.transitionend.transition);function xa(s){if(vm[s])return vm[s];if(!_o[s])return s;var r=_o[s],o;for(o in r)if(r.hasOwnProperty(o)&&o in cx)return vm[s]=r[o];return s}var ux=xa("animationend"),dx=xa("animationiteration"),hx=xa("animationstart"),lC=xa("transitionrun"),cC=xa("transitionstart"),uC=xa("transitioncancel"),fx=xa("transitionend"),mx=new Map,xm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xm.push("scrollEnd");function ws(s,r){mx.set(s,r),Hs(r,[s])}var md=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Jn=[],wo=0,bm=0;function pd(){for(var s=wo,r=bm=wo=0;r<s;){var o=Jn[r];Jn[r++]=null;var u=Jn[r];Jn[r++]=null;var p=Jn[r];Jn[r++]=null;var y=Jn[r];if(Jn[r++]=null,u!==null&&p!==null){var w=u.pending;w===null?p.next=p:(p.next=w.next,w.next=p),u.pending=p}y!==0&&px(o,p,y)}}function gd(s,r,o,u){Jn[wo++]=s,Jn[wo++]=r,Jn[wo++]=o,Jn[wo++]=u,bm|=u,s.lanes|=u,s=s.alternate,s!==null&&(s.lanes|=u)}function _m(s,r,o,u){return gd(s,r,o,u),yd(s)}function ba(s,r){return gd(s,null,null,r),yd(s)}function px(s,r,o){s.lanes|=o;var u=s.alternate;u!==null&&(u.lanes|=o);for(var p=!1,y=s.return;y!==null;)y.childLanes|=o,u=y.alternate,u!==null&&(u.childLanes|=o),y.tag===22&&(s=y.stateNode,s===null||s._visibility&1||(p=!0)),s=y,y=y.return;return s.tag===3?(y=s.stateNode,p&&r!==null&&(p=31-Et(o),s=y.hiddenUpdates,u=s[p],u===null?s[p]=[r]:u.push(r),r.lane=o|536870912),y):null}function yd(s){if(50<Ac)throw Ac=0,Rp=null,Error(i(185));for(var r=s.return;r!==null;)s=r,r=s.return;return s.tag===3?s.stateNode:null}var To={};function dC(s,r,o,u){this.tag=s,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ln(s,r,o,u){return new dC(s,r,o,u)}function wm(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Ei(s,r){var o=s.alternate;return o===null?(o=Ln(s.tag,r,s.key,s.mode),o.elementType=s.elementType,o.type=s.type,o.stateNode=s.stateNode,o.alternate=s,s.alternate=o):(o.pendingProps=r,o.type=s.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=s.flags&65011712,o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,r=s.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=s.sibling,o.index=s.index,o.ref=s.ref,o.refCleanup=s.refCleanup,o}function gx(s,r){s.flags&=65011714;var o=s.alternate;return o===null?(s.childLanes=0,s.lanes=r,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,r=o.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),s}function vd(s,r,o,u,p,y){var w=0;if(u=s,typeof s=="function")wm(s)&&(w=1);else if(typeof s=="string")w=gR(s,o,fe.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case C:return s=Ln(31,o,r,p),s.elementType=C,s.lanes=y,s;case D:return _a(o.children,p,y,r);case j:w=8,p|=24;break;case L:return s=Ln(12,o,r,p|2),s.elementType=L,s.lanes=y,s;case ne:return s=Ln(13,o,r,p),s.elementType=ne,s.lanes=y,s;case de:return s=Ln(19,o,r,p),s.elementType=de,s.lanes=y,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case $:w=10;break e;case q:w=9;break e;case Z:w=11;break e;case I:w=14;break e;case S:w=16,u=null;break e}w=29,o=Error(i(130,s===null?"null":typeof s,"")),u=null}return r=Ln(w,o,r,p),r.elementType=s,r.type=u,r.lanes=y,r}function _a(s,r,o,u){return s=Ln(7,s,u,r),s.lanes=o,s}function Tm(s,r,o){return s=Ln(6,s,null,r),s.lanes=o,s}function yx(s){var r=Ln(18,null,null,0);return r.stateNode=s,r}function Em(s,r,o){return r=Ln(4,s.children!==null?s.children:[],s.key,r),r.lanes=o,r.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},r}var vx=new WeakMap;function Zn(s,r){if(typeof s=="object"&&s!==null){var o=vx.get(s);return o!==void 0?o:(r={value:s,source:r,stack:Vl(r)},vx.set(s,r),r)}return{value:s,source:r,stack:Vl(r)}}var Eo=[],So=0,xd=null,rc=0,es=[],ts=0,fr=null,Js=1,Zs="";function Si(s,r){Eo[So++]=rc,Eo[So++]=xd,xd=s,rc=r}function xx(s,r,o){es[ts++]=Js,es[ts++]=Zs,es[ts++]=fr,fr=s;var u=Js;s=Zs;var p=32-Et(u)-1;u&=~(1<<p),o+=1;var y=32-Et(r)+p;if(30<y){var w=p-p%5;y=(u&(1<<w)-1).toString(32),u>>=w,p-=w,Js=1<<32-Et(r)+p|o<<p|u,Zs=y+s}else Js=1<<y|o<<p|u,Zs=s}function Sm(s){s.return!==null&&(Si(s,1),xx(s,1,0))}function Am(s){for(;s===xd;)xd=Eo[--So],Eo[So]=null,rc=Eo[--So],Eo[So]=null;for(;s===fr;)fr=es[--ts],es[ts]=null,Zs=es[--ts],es[ts]=null,Js=es[--ts],es[ts]=null}function bx(s,r){es[ts++]=Js,es[ts++]=Zs,es[ts++]=fr,Js=r.id,Zs=r.overflow,fr=s}var sn=null,ht=null,Qe=!1,mr=null,ns=!1,km=Error(i(519));function pr(s){var r=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ac(Zn(r,s)),km}function _x(s){var r=s.stateNode,o=s.type,u=s.memoizedProps;switch(r[It]=s,r[Qt]=u,o){case"dialog":He("cancel",r),He("close",r);break;case"iframe":case"object":case"embed":He("load",r);break;case"video":case"audio":for(o=0;o<Nc.length;o++)He(Nc[o],r);break;case"source":He("error",r);break;case"img":case"image":case"link":He("error",r),He("load",r);break;case"details":He("toggle",r);break;case"input":He("invalid",r),Ju(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":He("invalid",r);break;case"textarea":He("invalid",r),ar(r,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||L1(r.textContent,o)?(u.popover!=null&&(He("beforetoggle",r),He("toggle",r)),u.onScroll!=null&&He("scroll",r),u.onScrollEnd!=null&&He("scrollend",r),u.onClick!=null&&(r.onclick=ys),r=!0):r=!1,r||pr(s,!0)}function wx(s){for(sn=s.return;sn;)switch(sn.tag){case 5:case 31:case 13:ns=!1;return;case 27:case 3:ns=!0;return;default:sn=sn.return}}function Ao(s){if(s!==sn)return!1;if(!Qe)return wx(s),Qe=!0,!1;var r=s.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=s.type,o=!(o!=="form"&&o!=="button")||Gp(s.type,s.memoizedProps)),o=!o),o&&ht&&pr(s),wx(s),r===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));ht=K1(s)}else if(r===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));ht=K1(s)}else r===27?(r=ht,Cr(s.type)?(s=Xp,Xp=null,ht=s):ht=r):ht=sn?is(s.stateNode.nextSibling):null;return!0}function wa(){ht=sn=null,Qe=!1}function Nm(){var s=mr;return s!==null&&(Cn===null?Cn=s:Cn.push.apply(Cn,s),mr=null),s}function ac(s){mr===null?mr=[s]:mr.push(s)}var Cm=z(null),Ta=null,Ai=null;function gr(s,r,o){ce(Cm,r._currentValue),r._currentValue=o}function ki(s){s._currentValue=Cm.current,se(Cm)}function Rm(s,r,o){for(;s!==null;){var u=s.alternate;if((s.childLanes&r)!==r?(s.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),s===o)break;s=s.return}}function Im(s,r,o,u){var p=s.child;for(p!==null&&(p.return=s);p!==null;){var y=p.dependencies;if(y!==null){var w=p.child;y=y.firstContext;e:for(;y!==null;){var A=y;y=p;for(var O=0;O<r.length;O++)if(A.context===r[O]){y.lanes|=o,A=y.alternate,A!==null&&(A.lanes|=o),Rm(y.return,o,s),u||(w=null);break e}y=A.next}}else if(p.tag===18){if(w=p.return,w===null)throw Error(i(341));w.lanes|=o,y=w.alternate,y!==null&&(y.lanes|=o),Rm(w,o,s),w=null}else w=p.child;if(w!==null)w.return=p;else for(w=p;w!==null;){if(w===s){w=null;break}if(p=w.sibling,p!==null){p.return=w.return,w=p;break}w=w.return}p=w}}function ko(s,r,o,u){s=null;for(var p=r,y=!1;p!==null;){if(!y){if((p.flags&524288)!==0)y=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var w=p.alternate;if(w===null)throw Error(i(387));if(w=w.memoizedProps,w!==null){var A=p.type;Pn(p.pendingProps.value,w.value)||(s!==null?s.push(A):s=[A])}}else if(p===ke.current){if(w=p.alternate,w===null)throw Error(i(387));w.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(s!==null?s.push(Dc):s=[Dc])}p=p.return}s!==null&&Im(r,s,o,u),r.flags|=262144}function bd(s){for(s=s.firstContext;s!==null;){if(!Pn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Ea(s){Ta=s,Ai=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function rn(s){return Tx(Ta,s)}function _d(s,r){return Ta===null&&Ea(s),Tx(s,r)}function Tx(s,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},Ai===null){if(s===null)throw Error(i(308));Ai=r,s.dependencies={lanes:0,firstContext:r},s.flags|=524288}else Ai=Ai.next=r;return o}var hC=typeof AbortController<"u"?AbortController:function(){var s=[],r=this.signal={aborted:!1,addEventListener:function(o,u){s.push(u)}};this.abort=function(){r.aborted=!0,s.forEach(function(o){return o()})}},fC=t.unstable_scheduleCallback,mC=t.unstable_NormalPriority,Mt={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jm(){return{controller:new hC,data:new Map,refCount:0}}function oc(s){s.refCount--,s.refCount===0&&fC(mC,function(){s.controller.abort()})}var lc=null,Dm=0,No=0,Co=null;function pC(s,r){if(lc===null){var o=lc=[];Dm=0,No=Op(),Co={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Dm++,r.then(Ex,Ex),r}function Ex(){if(--Dm===0&&lc!==null){Co!==null&&(Co.status="fulfilled");var s=lc;lc=null,No=0,Co=null;for(var r=0;r<s.length;r++)(0,s[r])()}}function gC(s,r){var o=[],u={status:"pending",value:null,reason:null,then:function(p){o.push(p)}};return s.then(function(){u.status="fulfilled",u.value=r;for(var p=0;p<o.length;p++)(0,o[p])(r)},function(p){for(u.status="rejected",u.reason=p,p=0;p<o.length;p++)(0,o[p])(void 0)}),u}var Sx=V.S;V.S=function(s,r){l1=xn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&pC(s,r),Sx!==null&&Sx(s,r)};var Sa=z(null);function Mm(){var s=Sa.current;return s!==null?s:ct.pooledCache}function wd(s,r){r===null?ce(Sa,Sa.current):ce(Sa,r.pool)}function Ax(){var s=Mm();return s===null?null:{parent:Mt._currentValue,pool:s}}var Ro=Error(i(460)),Vm=Error(i(474)),Td=Error(i(542)),Ed={then:function(){}};function kx(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Nx(s,r,o){switch(o=s[o],o===void 0?s.push(r):o!==r&&(r.then(ys,ys),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,Rx(s),s;default:if(typeof r.status=="string")r.then(ys,ys);else{if(s=ct,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=r,s.status="pending",s.then(function(u){if(r.status==="pending"){var p=r;p.status="fulfilled",p.value=u}},function(u){if(r.status==="pending"){var p=r;p.status="rejected",p.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,Rx(s),s}throw ka=r,Ro}}function Aa(s){try{var r=s._init;return r(s._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(ka=o,Ro):o}}var ka=null;function Cx(){if(ka===null)throw Error(i(459));var s=ka;return ka=null,s}function Rx(s){if(s===Ro||s===Td)throw Error(i(483))}var Io=null,cc=0;function Sd(s){var r=cc;return cc+=1,Io===null&&(Io=[]),Nx(Io,s,r)}function uc(s,r){r=r.props.ref,s.ref=r!==void 0?r:null}function Ad(s,r){throw r.$$typeof===_?Error(i(525)):(s=Object.prototype.toString.call(r),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":s)))}function Ix(s){function r(K,B){if(s){var X=K.deletions;X===null?(K.deletions=[B],K.flags|=16):X.push(B)}}function o(K,B){if(!s)return null;for(;B!==null;)r(K,B),B=B.sibling;return null}function u(K){for(var B=new Map;K!==null;)K.key!==null?B.set(K.key,K):B.set(K.index,K),K=K.sibling;return B}function p(K,B){return K=Ei(K,B),K.index=0,K.sibling=null,K}function y(K,B,X){return K.index=X,s?(X=K.alternate,X!==null?(X=X.index,X<B?(K.flags|=67108866,B):X):(K.flags|=67108866,B)):(K.flags|=1048576,B)}function w(K){return s&&K.alternate===null&&(K.flags|=67108866),K}function A(K,B,X,re){return B===null||B.tag!==6?(B=Tm(X,K.mode,re),B.return=K,B):(B=p(B,X),B.return=K,B)}function O(K,B,X,re){var Ne=X.type;return Ne===D?ie(K,B,X.props.children,re,X.key):B!==null&&(B.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===S&&Aa(Ne)===B.type)?(B=p(B,X.props),uc(B,X),B.return=K,B):(B=vd(X.type,X.key,X.props,null,K.mode,re),uc(B,X),B.return=K,B)}function W(K,B,X,re){return B===null||B.tag!==4||B.stateNode.containerInfo!==X.containerInfo||B.stateNode.implementation!==X.implementation?(B=Em(X,K.mode,re),B.return=K,B):(B=p(B,X.children||[]),B.return=K,B)}function ie(K,B,X,re,Ne){return B===null||B.tag!==7?(B=_a(X,K.mode,re,Ne),B.return=K,B):(B=p(B,X),B.return=K,B)}function ae(K,B,X){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=Tm(""+B,K.mode,X),B.return=K,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case E:return X=vd(B.type,B.key,B.props,null,K.mode,X),uc(X,B),X.return=K,X;case R:return B=Em(B,K.mode,X),B.return=K,B;case S:return B=Aa(B),ae(K,B,X)}if(Y(B)||H(B))return B=_a(B,K.mode,X,null),B.return=K,B;if(typeof B.then=="function")return ae(K,Sd(B),X);if(B.$$typeof===$)return ae(K,_d(K,B),X);Ad(K,B)}return null}function J(K,B,X,re){var Ne=B!==null?B.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return Ne!==null?null:A(K,B,""+X,re);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case E:return X.key===Ne?O(K,B,X,re):null;case R:return X.key===Ne?W(K,B,X,re):null;case S:return X=Aa(X),J(K,B,X,re)}if(Y(X)||H(X))return Ne!==null?null:ie(K,B,X,re,null);if(typeof X.then=="function")return J(K,B,Sd(X),re);if(X.$$typeof===$)return J(K,B,_d(K,X),re);Ad(K,X)}return null}function te(K,B,X,re,Ne){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return K=K.get(X)||null,A(B,K,""+re,Ne);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case E:return K=K.get(re.key===null?X:re.key)||null,O(B,K,re,Ne);case R:return K=K.get(re.key===null?X:re.key)||null,W(B,K,re,Ne);case S:return re=Aa(re),te(K,B,X,re,Ne)}if(Y(re)||H(re))return K=K.get(X)||null,ie(B,K,re,Ne,null);if(typeof re.then=="function")return te(K,B,X,Sd(re),Ne);if(re.$$typeof===$)return te(K,B,X,_d(B,re),Ne);Ad(B,re)}return null}function xe(K,B,X,re){for(var Ne=null,We=null,Se=B,ze=B=0,Ge=null;Se!==null&&ze<X.length;ze++){Se.index>ze?(Ge=Se,Se=null):Ge=Se.sibling;var Je=J(K,Se,X[ze],re);if(Je===null){Se===null&&(Se=Ge);break}s&&Se&&Je.alternate===null&&r(K,Se),B=y(Je,B,ze),We===null?Ne=Je:We.sibling=Je,We=Je,Se=Ge}if(ze===X.length)return o(K,Se),Qe&&Si(K,ze),Ne;if(Se===null){for(;ze<X.length;ze++)Se=ae(K,X[ze],re),Se!==null&&(B=y(Se,B,ze),We===null?Ne=Se:We.sibling=Se,We=Se);return Qe&&Si(K,ze),Ne}for(Se=u(Se);ze<X.length;ze++)Ge=te(Se,K,ze,X[ze],re),Ge!==null&&(s&&Ge.alternate!==null&&Se.delete(Ge.key===null?ze:Ge.key),B=y(Ge,B,ze),We===null?Ne=Ge:We.sibling=Ge,We=Ge);return s&&Se.forEach(function(Mr){return r(K,Mr)}),Qe&&Si(K,ze),Ne}function Re(K,B,X,re){if(X==null)throw Error(i(151));for(var Ne=null,We=null,Se=B,ze=B=0,Ge=null,Je=X.next();Se!==null&&!Je.done;ze++,Je=X.next()){Se.index>ze?(Ge=Se,Se=null):Ge=Se.sibling;var Mr=J(K,Se,Je.value,re);if(Mr===null){Se===null&&(Se=Ge);break}s&&Se&&Mr.alternate===null&&r(K,Se),B=y(Mr,B,ze),We===null?Ne=Mr:We.sibling=Mr,We=Mr,Se=Ge}if(Je.done)return o(K,Se),Qe&&Si(K,ze),Ne;if(Se===null){for(;!Je.done;ze++,Je=X.next())Je=ae(K,Je.value,re),Je!==null&&(B=y(Je,B,ze),We===null?Ne=Je:We.sibling=Je,We=Je);return Qe&&Si(K,ze),Ne}for(Se=u(Se);!Je.done;ze++,Je=X.next())Je=te(Se,K,ze,Je.value,re),Je!==null&&(s&&Je.alternate!==null&&Se.delete(Je.key===null?ze:Je.key),B=y(Je,B,ze),We===null?Ne=Je:We.sibling=Je,We=Je);return s&&Se.forEach(function(kR){return r(K,kR)}),Qe&&Si(K,ze),Ne}function lt(K,B,X,re){if(typeof X=="object"&&X!==null&&X.type===D&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case E:e:{for(var Ne=X.key;B!==null;){if(B.key===Ne){if(Ne=X.type,Ne===D){if(B.tag===7){o(K,B.sibling),re=p(B,X.props.children),re.return=K,K=re;break e}}else if(B.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===S&&Aa(Ne)===B.type){o(K,B.sibling),re=p(B,X.props),uc(re,X),re.return=K,K=re;break e}o(K,B);break}else r(K,B);B=B.sibling}X.type===D?(re=_a(X.props.children,K.mode,re,X.key),re.return=K,K=re):(re=vd(X.type,X.key,X.props,null,K.mode,re),uc(re,X),re.return=K,K=re)}return w(K);case R:e:{for(Ne=X.key;B!==null;){if(B.key===Ne)if(B.tag===4&&B.stateNode.containerInfo===X.containerInfo&&B.stateNode.implementation===X.implementation){o(K,B.sibling),re=p(B,X.children||[]),re.return=K,K=re;break e}else{o(K,B);break}else r(K,B);B=B.sibling}re=Em(X,K.mode,re),re.return=K,K=re}return w(K);case S:return X=Aa(X),lt(K,B,X,re)}if(Y(X))return xe(K,B,X,re);if(H(X)){if(Ne=H(X),typeof Ne!="function")throw Error(i(150));return X=Ne.call(X),Re(K,B,X,re)}if(typeof X.then=="function")return lt(K,B,Sd(X),re);if(X.$$typeof===$)return lt(K,B,_d(K,X),re);Ad(K,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,B!==null&&B.tag===6?(o(K,B.sibling),re=p(B,X),re.return=K,K=re):(o(K,B),re=Tm(X,K.mode,re),re.return=K,K=re),w(K)):o(K,B)}return function(K,B,X,re){try{cc=0;var Ne=lt(K,B,X,re);return Io=null,Ne}catch(Se){if(Se===Ro||Se===Td)throw Se;var We=Ln(29,Se,null,K.mode);return We.lanes=re,We.return=K,We}}}var Na=Ix(!0),jx=Ix(!1),yr=!1;function Om(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Pm(s,r){s=s.updateQueue,r.updateQueue===s&&(r.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function vr(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function xr(s,r,o){var u=s.updateQueue;if(u===null)return null;if(u=u.shared,(et&2)!==0){var p=u.pending;return p===null?r.next=r:(r.next=p.next,p.next=r),u.pending=r,r=yd(s),px(s,null,o),r}return gd(s,u,r,o),yd(s)}function dc(s,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=s.pendingLanes,o|=u,r.lanes=o,Ll(s,o)}}function Lm(s,r){var o=s.updateQueue,u=s.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var p=null,y=null;if(o=o.firstBaseUpdate,o!==null){do{var w={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};y===null?p=y=w:y=y.next=w,o=o.next}while(o!==null);y===null?p=y=r:y=y.next=r}else p=y=r;o={baseState:u.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:u.shared,callbacks:u.callbacks},s.updateQueue=o;return}s=o.lastBaseUpdate,s===null?o.firstBaseUpdate=r:s.next=r,o.lastBaseUpdate=r}var Um=!1;function hc(){if(Um){var s=Co;if(s!==null)throw s}}function fc(s,r,o,u){Um=!1;var p=s.updateQueue;yr=!1;var y=p.firstBaseUpdate,w=p.lastBaseUpdate,A=p.shared.pending;if(A!==null){p.shared.pending=null;var O=A,W=O.next;O.next=null,w===null?y=W:w.next=W,w=O;var ie=s.alternate;ie!==null&&(ie=ie.updateQueue,A=ie.lastBaseUpdate,A!==w&&(A===null?ie.firstBaseUpdate=W:A.next=W,ie.lastBaseUpdate=O))}if(y!==null){var ae=p.baseState;w=0,ie=W=O=null,A=y;do{var J=A.lane&-536870913,te=J!==A.lane;if(te?(qe&J)===J:(u&J)===J){J!==0&&J===No&&(Um=!0),ie!==null&&(ie=ie.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var xe=s,Re=A;J=r;var lt=o;switch(Re.tag){case 1:if(xe=Re.payload,typeof xe=="function"){ae=xe.call(lt,ae,J);break e}ae=xe;break e;case 3:xe.flags=xe.flags&-65537|128;case 0:if(xe=Re.payload,J=typeof xe=="function"?xe.call(lt,ae,J):xe,J==null)break e;ae=x({},ae,J);break e;case 2:yr=!0}}J=A.callback,J!==null&&(s.flags|=64,te&&(s.flags|=8192),te=p.callbacks,te===null?p.callbacks=[J]:te.push(J))}else te={lane:J,tag:A.tag,payload:A.payload,callback:A.callback,next:null},ie===null?(W=ie=te,O=ae):ie=ie.next=te,w|=J;if(A=A.next,A===null){if(A=p.shared.pending,A===null)break;te=A,A=te.next,te.next=null,p.lastBaseUpdate=te,p.shared.pending=null}}while(!0);ie===null&&(O=ae),p.baseState=O,p.firstBaseUpdate=W,p.lastBaseUpdate=ie,y===null&&(p.shared.lanes=0),Er|=w,s.lanes=w,s.memoizedState=ae}}function Dx(s,r){if(typeof s!="function")throw Error(i(191,s));s.call(r)}function Mx(s,r){var o=s.callbacks;if(o!==null)for(s.callbacks=null,s=0;s<o.length;s++)Dx(o[s],r)}var jo=z(null),kd=z(0);function Vx(s,r){s=Oi,ce(kd,s),ce(jo,r),Oi=s|r.baseLanes}function zm(){ce(kd,Oi),ce(jo,jo.current)}function Bm(){Oi=kd.current,se(jo),se(kd)}var Un=z(null),ss=null;function br(s){var r=s.alternate;ce(At,At.current&1),ce(Un,s),ss===null&&(r===null||jo.current!==null||r.memoizedState!==null)&&(ss=s)}function Fm(s){ce(At,At.current),ce(Un,s),ss===null&&(ss=s)}function Ox(s){s.tag===22?(ce(At,At.current),ce(Un,s),ss===null&&(ss=s)):_r()}function _r(){ce(At,At.current),ce(Un,Un.current)}function zn(s){se(Un),ss===s&&(ss=null),se(At)}var At=z(0);function Nd(s){for(var r=s;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Yp(o)||Qp(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Ni=0,Ue=null,at=null,Vt=null,Cd=!1,Do=!1,Ca=!1,Rd=0,mc=0,Mo=null,yC=0;function _t(){throw Error(i(321))}function Hm(s,r){if(r===null)return!1;for(var o=0;o<r.length&&o<s.length;o++)if(!Pn(s[o],r[o]))return!1;return!0}function qm(s,r,o,u,p,y){return Ni=y,Ue=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,V.H=s===null||s.memoizedState===null?xb:rp,Ca=!1,y=o(u,p),Ca=!1,Do&&(y=Lx(r,o,u,p)),Px(s),y}function Px(s){V.H=yc;var r=at!==null&&at.next!==null;if(Ni=0,Vt=at=Ue=null,Cd=!1,mc=0,Mo=null,r)throw Error(i(300));s===null||Ot||(s=s.dependencies,s!==null&&bd(s)&&(Ot=!0))}function Lx(s,r,o,u){Ue=s;var p=0;do{if(Do&&(Mo=null),mc=0,Do=!1,25<=p)throw Error(i(301));if(p+=1,Vt=at=null,s.updateQueue!=null){var y=s.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}V.H=bb,y=r(o,u)}while(Do);return y}function vC(){var s=V.H,r=s.useState()[0];return r=typeof r.then=="function"?pc(r):r,s=s.useState()[0],(at!==null?at.memoizedState:null)!==s&&(Ue.flags|=1024),r}function Gm(){var s=Rd!==0;return Rd=0,s}function $m(s,r,o){r.updateQueue=s.updateQueue,r.flags&=-2053,s.lanes&=~o}function Km(s){if(Cd){for(s=s.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}Cd=!1}Ni=0,Vt=at=Ue=null,Do=!1,mc=Rd=0,Mo=null}function _n(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?Ue.memoizedState=Vt=s:Vt=Vt.next=s,Vt}function kt(){if(at===null){var s=Ue.alternate;s=s!==null?s.memoizedState:null}else s=at.next;var r=Vt===null?Ue.memoizedState:Vt.next;if(r!==null)Vt=r,at=s;else{if(s===null)throw Ue.alternate===null?Error(i(467)):Error(i(310));at=s,s={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},Vt===null?Ue.memoizedState=Vt=s:Vt=Vt.next=s}return Vt}function Id(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function pc(s){var r=mc;return mc+=1,Mo===null&&(Mo=[]),s=Nx(Mo,s,r),r=Ue,(Vt===null?r.memoizedState:Vt.next)===null&&(r=r.alternate,V.H=r===null||r.memoizedState===null?xb:rp),s}function jd(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return pc(s);if(s.$$typeof===$)return rn(s)}throw Error(i(438,String(s)))}function Ym(s){var r=null,o=Ue.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=Ue.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(p){return p.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=Id(),Ue.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(s),u=0;u<s;u++)o[u]=U;return r.index++,o}function Ci(s,r){return typeof r=="function"?r(s):r}function Dd(s){var r=kt();return Qm(r,at,s)}function Qm(s,r,o){var u=s.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var p=s.baseQueue,y=u.pending;if(y!==null){if(p!==null){var w=p.next;p.next=y.next,y.next=w}r.baseQueue=p=y,u.pending=null}if(y=s.baseState,p===null)s.memoizedState=y;else{r=p.next;var A=w=null,O=null,W=r,ie=!1;do{var ae=W.lane&-536870913;if(ae!==W.lane?(qe&ae)===ae:(Ni&ae)===ae){var J=W.revertLane;if(J===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),ae===No&&(ie=!0);else if((Ni&J)===J){W=W.next,J===No&&(ie=!0);continue}else ae={lane:0,revertLane:W.revertLane,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},O===null?(A=O=ae,w=y):O=O.next=ae,Ue.lanes|=J,Er|=J;ae=W.action,Ca&&o(y,ae),y=W.hasEagerState?W.eagerState:o(y,ae)}else J={lane:ae,revertLane:W.revertLane,gesture:W.gesture,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},O===null?(A=O=J,w=y):O=O.next=J,Ue.lanes|=ae,Er|=ae;W=W.next}while(W!==null&&W!==r);if(O===null?w=y:O.next=A,!Pn(y,s.memoizedState)&&(Ot=!0,ie&&(o=Co,o!==null)))throw o;s.memoizedState=y,s.baseState=w,s.baseQueue=O,u.lastRenderedState=y}return p===null&&(u.lanes=0),[s.memoizedState,u.dispatch]}function Xm(s){var r=kt(),o=r.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=s;var u=o.dispatch,p=o.pending,y=r.memoizedState;if(p!==null){o.pending=null;var w=p=p.next;do y=s(y,w.action),w=w.next;while(w!==p);Pn(y,r.memoizedState)||(Ot=!0),r.memoizedState=y,r.baseQueue===null&&(r.baseState=y),o.lastRenderedState=y}return[y,u]}function Ux(s,r,o){var u=Ue,p=kt(),y=Qe;if(y){if(o===void 0)throw Error(i(407));o=o()}else o=r();var w=!Pn((at||p).memoizedState,o);if(w&&(p.memoizedState=o,Ot=!0),p=p.queue,Zm(Fx.bind(null,u,p,s),[s]),p.getSnapshot!==r||w||Vt!==null&&Vt.memoizedState.tag&1){if(u.flags|=2048,Vo(9,{destroy:void 0},Bx.bind(null,u,p,o,r),null),ct===null)throw Error(i(349));y||(Ni&127)!==0||zx(u,r,o)}return o}function zx(s,r,o){s.flags|=16384,s={getSnapshot:r,value:o},r=Ue.updateQueue,r===null?(r=Id(),Ue.updateQueue=r,r.stores=[s]):(o=r.stores,o===null?r.stores=[s]:o.push(s))}function Bx(s,r,o,u){r.value=o,r.getSnapshot=u,Hx(r)&&qx(s)}function Fx(s,r,o){return o(function(){Hx(r)&&qx(s)})}function Hx(s){var r=s.getSnapshot;s=s.value;try{var o=r();return!Pn(s,o)}catch{return!0}}function qx(s){var r=ba(s,2);r!==null&&Rn(r,s,2)}function Wm(s){var r=_n();if(typeof s=="function"){var o=s;if(s=o(),Ca){Kn(!0);try{o()}finally{Kn(!1)}}}return r.memoizedState=r.baseState=s,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:s},r}function Gx(s,r,o,u){return s.baseState=o,Qm(s,at,typeof u=="function"?u:Ci)}function xC(s,r,o,u,p){if(Od(s))throw Error(i(485));if(s=r.action,s!==null){var y={payload:p,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){y.listeners.push(w)}};V.T!==null?o(!0):y.isTransition=!1,u(y),o=r.pending,o===null?(y.next=r.pending=y,$x(r,y)):(y.next=o.next,r.pending=o.next=y)}}function $x(s,r){var o=r.action,u=r.payload,p=s.state;if(r.isTransition){var y=V.T,w={};V.T=w;try{var A=o(p,u),O=V.S;O!==null&&O(w,A),Kx(s,r,A)}catch(W){Jm(s,r,W)}finally{y!==null&&w.types!==null&&(y.types=w.types),V.T=y}}else try{y=o(p,u),Kx(s,r,y)}catch(W){Jm(s,r,W)}}function Kx(s,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){Yx(s,r,u)},function(u){return Jm(s,r,u)}):Yx(s,r,o)}function Yx(s,r,o){r.status="fulfilled",r.value=o,Qx(r),s.state=o,r=s.pending,r!==null&&(o=r.next,o===r?s.pending=null:(o=o.next,r.next=o,$x(s,o)))}function Jm(s,r,o){var u=s.pending;if(s.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,Qx(r),r=r.next;while(r!==u)}s.action=null}function Qx(s){s=s.listeners;for(var r=0;r<s.length;r++)(0,s[r])()}function Xx(s,r){return r}function Wx(s,r){if(Qe){var o=ct.formState;if(o!==null){e:{var u=Ue;if(Qe){if(ht){t:{for(var p=ht,y=ns;p.nodeType!==8;){if(!y){p=null;break t}if(p=is(p.nextSibling),p===null){p=null;break t}}y=p.data,p=y==="F!"||y==="F"?p:null}if(p){ht=is(p.nextSibling),u=p.data==="F!";break e}}pr(u)}u=!1}u&&(r=o[0])}}return o=_n(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xx,lastRenderedState:r},o.queue=u,o=gb.bind(null,Ue,u),u.dispatch=o,u=Wm(!1),y=ip.bind(null,Ue,!1,u.queue),u=_n(),p={state:r,dispatch:null,action:s,pending:null},u.queue=p,o=xC.bind(null,Ue,p,y,o),p.dispatch=o,u.memoizedState=s,[r,o,!1]}function Jx(s){var r=kt();return Zx(r,at,s)}function Zx(s,r,o){if(r=Qm(s,r,Xx)[0],s=Dd(Ci)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=pc(r)}catch(w){throw w===Ro?Td:w}else u=r;r=kt();var p=r.queue,y=p.dispatch;return o!==r.memoizedState&&(Ue.flags|=2048,Vo(9,{destroy:void 0},bC.bind(null,p,o),null)),[u,y,s]}function bC(s,r){s.action=r}function eb(s){var r=kt(),o=at;if(o!==null)return Zx(r,o,s);kt(),r=r.memoizedState,o=kt();var u=o.queue.dispatch;return o.memoizedState=s,[r,u,!1]}function Vo(s,r,o,u){return s={tag:s,create:o,deps:u,inst:r,next:null},r=Ue.updateQueue,r===null&&(r=Id(),Ue.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=s.next=s:(u=o.next,o.next=s,s.next=u,r.lastEffect=s),s}function tb(){return kt().memoizedState}function Md(s,r,o,u){var p=_n();Ue.flags|=s,p.memoizedState=Vo(1|r,{destroy:void 0},o,u===void 0?null:u)}function Vd(s,r,o,u){var p=kt();u=u===void 0?null:u;var y=p.memoizedState.inst;at!==null&&u!==null&&Hm(u,at.memoizedState.deps)?p.memoizedState=Vo(r,y,o,u):(Ue.flags|=s,p.memoizedState=Vo(1|r,y,o,u))}function nb(s,r){Md(8390656,8,s,r)}function Zm(s,r){Vd(2048,8,s,r)}function _C(s){Ue.flags|=4;var r=Ue.updateQueue;if(r===null)r=Id(),Ue.updateQueue=r,r.events=[s];else{var o=r.events;o===null?r.events=[s]:o.push(s)}}function sb(s){var r=kt().memoizedState;return _C({ref:r,nextImpl:s}),function(){if((et&2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}function ib(s,r){return Vd(4,2,s,r)}function rb(s,r){return Vd(4,4,s,r)}function ab(s,r){if(typeof r=="function"){s=s();var o=r(s);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return s=s(),r.current=s,function(){r.current=null}}function ob(s,r,o){o=o!=null?o.concat([s]):null,Vd(4,4,ab.bind(null,r,s),o)}function ep(){}function lb(s,r){var o=kt();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&Hm(r,u[1])?u[0]:(o.memoizedState=[s,r],s)}function cb(s,r){var o=kt();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&Hm(r,u[1]))return u[0];if(u=s(),Ca){Kn(!0);try{s()}finally{Kn(!1)}}return o.memoizedState=[u,r],u}function tp(s,r,o){return o===void 0||(Ni&1073741824)!==0&&(qe&261930)===0?s.memoizedState=r:(s.memoizedState=o,s=u1(),Ue.lanes|=s,Er|=s,o)}function ub(s,r,o,u){return Pn(o,r)?o:jo.current!==null?(s=tp(s,o,u),Pn(s,r)||(Ot=!0),s):(Ni&42)===0||(Ni&1073741824)!==0&&(qe&261930)===0?(Ot=!0,s.memoizedState=o):(s=u1(),Ue.lanes|=s,Er|=s,r)}function db(s,r,o,u,p){var y=F.p;F.p=y!==0&&8>y?y:8;var w=V.T,A={};V.T=A,ip(s,!1,r,o);try{var O=p(),W=V.S;if(W!==null&&W(A,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var ie=gC(O,u);gc(s,r,ie,Hn(s))}else gc(s,r,u,Hn(s))}catch(ae){gc(s,r,{then:function(){},status:"rejected",reason:ae},Hn())}finally{F.p=y,w!==null&&A.types!==null&&(w.types=A.types),V.T=w}}function wC(){}function np(s,r,o,u){if(s.tag!==5)throw Error(i(476));var p=hb(s).queue;db(s,p,r,G,o===null?wC:function(){return fb(s),o(u)})}function hb(s){var r=s.memoizedState;if(r!==null)return r;r={memoizedState:G,baseState:G,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:G},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:o},next:null},s.memoizedState=r,s=s.alternate,s!==null&&(s.memoizedState=r),r}function fb(s){var r=hb(s);r.next===null&&(r=s.alternate.memoizedState),gc(s,r.next.queue,{},Hn())}function sp(){return rn(Dc)}function mb(){return kt().memoizedState}function pb(){return kt().memoizedState}function TC(s){for(var r=s.return;r!==null;){switch(r.tag){case 24:case 3:var o=Hn();s=vr(o);var u=xr(r,s,o);u!==null&&(Rn(u,r,o),dc(u,r,o)),r={cache:jm()},s.payload=r;return}r=r.return}}function EC(s,r,o){var u=Hn();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Od(s)?yb(r,o):(o=_m(s,r,o,u),o!==null&&(Rn(o,s,u),vb(o,r,u)))}function gb(s,r,o){var u=Hn();gc(s,r,o,u)}function gc(s,r,o,u){var p={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Od(s))yb(r,p);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=r.lastRenderedReducer,y!==null))try{var w=r.lastRenderedState,A=y(w,o);if(p.hasEagerState=!0,p.eagerState=A,Pn(A,w))return gd(s,r,p,0),ct===null&&pd(),!1}catch{}if(o=_m(s,r,p,u),o!==null)return Rn(o,s,u),vb(o,r,u),!0}return!1}function ip(s,r,o,u){if(u={lane:2,revertLane:Op(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Od(s)){if(r)throw Error(i(479))}else r=_m(s,o,u,2),r!==null&&Rn(r,s,2)}function Od(s){var r=s.alternate;return s===Ue||r!==null&&r===Ue}function yb(s,r){Do=Cd=!0;var o=s.pending;o===null?r.next=r:(r.next=o.next,o.next=r),s.pending=r}function vb(s,r,o){if((o&4194048)!==0){var u=r.lanes;u&=s.pendingLanes,o|=u,r.lanes=o,Ll(s,o)}}var yc={readContext:rn,use:jd,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useLayoutEffect:_t,useInsertionEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useSyncExternalStore:_t,useId:_t,useHostTransitionStatus:_t,useFormState:_t,useActionState:_t,useOptimistic:_t,useMemoCache:_t,useCacheRefresh:_t};yc.useEffectEvent=_t;var xb={readContext:rn,use:jd,useCallback:function(s,r){return _n().memoizedState=[s,r===void 0?null:r],s},useContext:rn,useEffect:nb,useImperativeHandle:function(s,r,o){o=o!=null?o.concat([s]):null,Md(4194308,4,ab.bind(null,r,s),o)},useLayoutEffect:function(s,r){return Md(4194308,4,s,r)},useInsertionEffect:function(s,r){Md(4,2,s,r)},useMemo:function(s,r){var o=_n();r=r===void 0?null:r;var u=s();if(Ca){Kn(!0);try{s()}finally{Kn(!1)}}return o.memoizedState=[u,r],u},useReducer:function(s,r,o){var u=_n();if(o!==void 0){var p=o(r);if(Ca){Kn(!0);try{o(r)}finally{Kn(!1)}}}else p=r;return u.memoizedState=u.baseState=p,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:p},u.queue=s,s=s.dispatch=EC.bind(null,Ue,s),[u.memoizedState,s]},useRef:function(s){var r=_n();return s={current:s},r.memoizedState=s},useState:function(s){s=Wm(s);var r=s.queue,o=gb.bind(null,Ue,r);return r.dispatch=o,[s.memoizedState,o]},useDebugValue:ep,useDeferredValue:function(s,r){var o=_n();return tp(o,s,r)},useTransition:function(){var s=Wm(!1);return s=db.bind(null,Ue,s.queue,!0,!1),_n().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,r,o){var u=Ue,p=_n();if(Qe){if(o===void 0)throw Error(i(407));o=o()}else{if(o=r(),ct===null)throw Error(i(349));(qe&127)!==0||zx(u,r,o)}p.memoizedState=o;var y={value:o,getSnapshot:r};return p.queue=y,nb(Fx.bind(null,u,y,s),[s]),u.flags|=2048,Vo(9,{destroy:void 0},Bx.bind(null,u,y,o,r),null),o},useId:function(){var s=_n(),r=ct.identifierPrefix;if(Qe){var o=Zs,u=Js;o=(u&~(1<<32-Et(u)-1)).toString(32)+o,r="_"+r+"R_"+o,o=Rd++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=yC++,r="_"+r+"r_"+o.toString(32)+"_";return s.memoizedState=r},useHostTransitionStatus:sp,useFormState:Wx,useActionState:Wx,useOptimistic:function(s){var r=_n();r.memoizedState=r.baseState=s;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=ip.bind(null,Ue,!0,o),o.dispatch=r,[s,r]},useMemoCache:Ym,useCacheRefresh:function(){return _n().memoizedState=TC.bind(null,Ue)},useEffectEvent:function(s){var r=_n(),o={impl:s};return r.memoizedState=o,function(){if((et&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}},rp={readContext:rn,use:jd,useCallback:lb,useContext:rn,useEffect:Zm,useImperativeHandle:ob,useInsertionEffect:ib,useLayoutEffect:rb,useMemo:cb,useReducer:Dd,useRef:tb,useState:function(){return Dd(Ci)},useDebugValue:ep,useDeferredValue:function(s,r){var o=kt();return ub(o,at.memoizedState,s,r)},useTransition:function(){var s=Dd(Ci)[0],r=kt().memoizedState;return[typeof s=="boolean"?s:pc(s),r]},useSyncExternalStore:Ux,useId:mb,useHostTransitionStatus:sp,useFormState:Jx,useActionState:Jx,useOptimistic:function(s,r){var o=kt();return Gx(o,at,s,r)},useMemoCache:Ym,useCacheRefresh:pb};rp.useEffectEvent=sb;var bb={readContext:rn,use:jd,useCallback:lb,useContext:rn,useEffect:Zm,useImperativeHandle:ob,useInsertionEffect:ib,useLayoutEffect:rb,useMemo:cb,useReducer:Xm,useRef:tb,useState:function(){return Xm(Ci)},useDebugValue:ep,useDeferredValue:function(s,r){var o=kt();return at===null?tp(o,s,r):ub(o,at.memoizedState,s,r)},useTransition:function(){var s=Xm(Ci)[0],r=kt().memoizedState;return[typeof s=="boolean"?s:pc(s),r]},useSyncExternalStore:Ux,useId:mb,useHostTransitionStatus:sp,useFormState:eb,useActionState:eb,useOptimistic:function(s,r){var o=kt();return at!==null?Gx(o,at,s,r):(o.baseState=s,[s,o.queue.dispatch])},useMemoCache:Ym,useCacheRefresh:pb};bb.useEffectEvent=sb;function ap(s,r,o,u){r=s.memoizedState,o=o(u,r),o=o==null?r:x({},r,o),s.memoizedState=o,s.lanes===0&&(s.updateQueue.baseState=o)}var op={enqueueSetState:function(s,r,o){s=s._reactInternals;var u=Hn(),p=vr(u);p.payload=r,o!=null&&(p.callback=o),r=xr(s,p,u),r!==null&&(Rn(r,s,u),dc(r,s,u))},enqueueReplaceState:function(s,r,o){s=s._reactInternals;var u=Hn(),p=vr(u);p.tag=1,p.payload=r,o!=null&&(p.callback=o),r=xr(s,p,u),r!==null&&(Rn(r,s,u),dc(r,s,u))},enqueueForceUpdate:function(s,r){s=s._reactInternals;var o=Hn(),u=vr(o);u.tag=2,r!=null&&(u.callback=r),r=xr(s,u,o),r!==null&&(Rn(r,s,o),dc(r,s,o))}};function _b(s,r,o,u,p,y,w){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(u,y,w):r.prototype&&r.prototype.isPureReactComponent?!sc(o,u)||!sc(p,y):!0}function wb(s,r,o,u){s=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==s&&op.enqueueReplaceState(r,r.state,null)}function Ra(s,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(s=s.defaultProps){o===r&&(o=x({},o));for(var p in s)o[p]===void 0&&(o[p]=s[p])}return o}function Tb(s){md(s)}function Eb(s){console.error(s)}function Sb(s){md(s)}function Pd(s,r){try{var o=s.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function Ab(s,r,o){try{var u=s.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function lp(s,r,o){return o=vr(o),o.tag=3,o.payload={element:null},o.callback=function(){Pd(s,r)},o}function kb(s){return s=vr(s),s.tag=3,s}function Nb(s,r,o,u){var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var y=u.value;s.payload=function(){return p(y)},s.callback=function(){Ab(r,o,u)}}var w=o.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(s.callback=function(){Ab(r,o,u),typeof p!="function"&&(Sr===null?Sr=new Set([this]):Sr.add(this));var A=u.stack;this.componentDidCatch(u.value,{componentStack:A!==null?A:""})})}function SC(s,r,o,u,p){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&ko(r,o,p,!0),o=Un.current,o!==null){switch(o.tag){case 31:case 13:return ss===null?Qd():o.alternate===null&&wt===0&&(wt=3),o.flags&=-257,o.flags|=65536,o.lanes=p,u===Ed?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),Dp(s,u,p)),!1;case 22:return o.flags|=65536,u===Ed?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),Dp(s,u,p)),!1}throw Error(i(435,o.tag))}return Dp(s,u,p),Qd(),!1}if(Qe)return r=Un.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=p,u!==km&&(s=Error(i(422),{cause:u}),ac(Zn(s,o)))):(u!==km&&(r=Error(i(423),{cause:u}),ac(Zn(r,o))),s=s.current.alternate,s.flags|=65536,p&=-p,s.lanes|=p,u=Zn(u,o),p=lp(s.stateNode,u,p),Lm(s,p),wt!==4&&(wt=2)),!1;var y=Error(i(520),{cause:u});if(y=Zn(y,o),Sc===null?Sc=[y]:Sc.push(y),wt!==4&&(wt=2),r===null)return!0;u=Zn(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,s=p&-p,o.lanes|=s,s=lp(o.stateNode,u,s),Lm(o,s),!1;case 1:if(r=o.type,y=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Sr===null||!Sr.has(y))))return o.flags|=65536,p&=-p,o.lanes|=p,p=kb(p),Nb(p,s,o,u),Lm(o,p),!1}o=o.return}while(o!==null);return!1}var cp=Error(i(461)),Ot=!1;function an(s,r,o,u){r.child=s===null?jx(r,null,o,u):Na(r,s.child,o,u)}function Cb(s,r,o,u,p){o=o.render;var y=r.ref;if("ref"in u){var w={};for(var A in u)A!=="ref"&&(w[A]=u[A])}else w=u;return Ea(r),u=qm(s,r,o,w,y,p),A=Gm(),s!==null&&!Ot?($m(s,r,p),Ri(s,r,p)):(Qe&&A&&Sm(r),r.flags|=1,an(s,r,u,p),r.child)}function Rb(s,r,o,u,p){if(s===null){var y=o.type;return typeof y=="function"&&!wm(y)&&y.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=y,Ib(s,r,y,u,p)):(s=vd(o.type,null,u,r,r.mode,p),s.ref=r.ref,s.return=r,r.child=s)}if(y=s.child,!yp(s,p)){var w=y.memoizedProps;if(o=o.compare,o=o!==null?o:sc,o(w,u)&&s.ref===r.ref)return Ri(s,r,p)}return r.flags|=1,s=Ei(y,u),s.ref=r.ref,s.return=r,r.child=s}function Ib(s,r,o,u,p){if(s!==null){var y=s.memoizedProps;if(sc(y,u)&&s.ref===r.ref)if(Ot=!1,r.pendingProps=u=y,yp(s,p))(s.flags&131072)!==0&&(Ot=!0);else return r.lanes=s.lanes,Ri(s,r,p)}return up(s,r,o,u,p)}function jb(s,r,o,u){var p=u.children,y=s!==null?s.memoizedState:null;if(s===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(y=y!==null?y.baseLanes|o:o,s!==null){for(u=r.child=s.child,p=0;u!==null;)p=p|u.lanes|u.childLanes,u=u.sibling;u=p&~y}else u=0,r.child=null;return Db(s,r,y,o,u)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},s!==null&&wd(r,y!==null?y.cachePool:null),y!==null?Vx(r,y):zm(),Ox(r);else return u=r.lanes=536870912,Db(s,r,y!==null?y.baseLanes|o:o,o,u)}else y!==null?(wd(r,y.cachePool),Vx(r,y),_r(),r.memoizedState=null):(s!==null&&wd(r,null),zm(),_r());return an(s,r,p,o),r.child}function vc(s,r){return s!==null&&s.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function Db(s,r,o,u,p){var y=Mm();return y=y===null?null:{parent:Mt._currentValue,pool:y},r.memoizedState={baseLanes:o,cachePool:y},s!==null&&wd(r,null),zm(),Ox(r),s!==null&&ko(s,r,u,!0),r.childLanes=p,null}function Ld(s,r){return r=zd({mode:r.mode,children:r.children},s.mode),r.ref=s.ref,s.child=r,r.return=s,r}function Mb(s,r,o){return Na(r,s.child,null,o),s=Ld(r,r.pendingProps),s.flags|=2,zn(r),r.memoizedState=null,s}function AC(s,r,o){var u=r.pendingProps,p=(r.flags&128)!==0;if(r.flags&=-129,s===null){if(Qe){if(u.mode==="hidden")return s=Ld(r,u),r.lanes=536870912,vc(null,s);if(Fm(r),(s=ht)?(s=$1(s,ns),s=s!==null&&s.data==="&"?s:null,s!==null&&(r.memoizedState={dehydrated:s,treeContext:fr!==null?{id:Js,overflow:Zs}:null,retryLane:536870912,hydrationErrors:null},o=yx(s),o.return=r,r.child=o,sn=r,ht=null)):s=null,s===null)throw pr(r);return r.lanes=536870912,null}return Ld(r,u)}var y=s.memoizedState;if(y!==null){var w=y.dehydrated;if(Fm(r),p)if(r.flags&256)r.flags&=-257,r=Mb(s,r,o);else if(r.memoizedState!==null)r.child=s.child,r.flags|=128,r=null;else throw Error(i(558));else if(Ot||ko(s,r,o,!1),p=(o&s.childLanes)!==0,Ot||p){if(u=ct,u!==null&&(w=Ul(u,o),w!==0&&w!==y.retryLane))throw y.retryLane=w,ba(s,w),Rn(u,s,w),cp;Qd(),r=Mb(s,r,o)}else s=y.treeContext,ht=is(w.nextSibling),sn=r,Qe=!0,mr=null,ns=!1,s!==null&&bx(r,s),r=Ld(r,u),r.flags|=4096;return r}return s=Ei(s.child,{mode:u.mode,children:u.children}),s.ref=r.ref,r.child=s,s.return=r,s}function Ud(s,r){var o=r.ref;if(o===null)s!==null&&s.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(s===null||s.ref!==o)&&(r.flags|=4194816)}}function up(s,r,o,u,p){return Ea(r),o=qm(s,r,o,u,void 0,p),u=Gm(),s!==null&&!Ot?($m(s,r,p),Ri(s,r,p)):(Qe&&u&&Sm(r),r.flags|=1,an(s,r,o,p),r.child)}function Vb(s,r,o,u,p,y){return Ea(r),r.updateQueue=null,o=Lx(r,u,o,p),Px(s),u=Gm(),s!==null&&!Ot?($m(s,r,y),Ri(s,r,y)):(Qe&&u&&Sm(r),r.flags|=1,an(s,r,o,y),r.child)}function Ob(s,r,o,u,p){if(Ea(r),r.stateNode===null){var y=To,w=o.contextType;typeof w=="object"&&w!==null&&(y=rn(w)),y=new o(u,y),r.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=op,r.stateNode=y,y._reactInternals=r,y=r.stateNode,y.props=u,y.state=r.memoizedState,y.refs={},Om(r),w=o.contextType,y.context=typeof w=="object"&&w!==null?rn(w):To,y.state=r.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(ap(r,o,w,u),y.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(w=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),w!==y.state&&op.enqueueReplaceState(y,y.state,null),fc(r,u,y,p),hc(),y.state=r.memoizedState),typeof y.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(s===null){y=r.stateNode;var A=r.memoizedProps,O=Ra(o,A);y.props=O;var W=y.context,ie=o.contextType;w=To,typeof ie=="object"&&ie!==null&&(w=rn(ie));var ae=o.getDerivedStateFromProps;ie=typeof ae=="function"||typeof y.getSnapshotBeforeUpdate=="function",A=r.pendingProps!==A,ie||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(A||W!==w)&&wb(r,y,u,w),yr=!1;var J=r.memoizedState;y.state=J,fc(r,u,y,p),hc(),W=r.memoizedState,A||J!==W||yr?(typeof ae=="function"&&(ap(r,o,ae,u),W=r.memoizedState),(O=yr||_b(r,o,O,u,J,W,w))?(ie||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(r.flags|=4194308)):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=W),y.props=u,y.state=W,y.context=w,u=O):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{y=r.stateNode,Pm(s,r),w=r.memoizedProps,ie=Ra(o,w),y.props=ie,ae=r.pendingProps,J=y.context,W=o.contextType,O=To,typeof W=="object"&&W!==null&&(O=rn(W)),A=o.getDerivedStateFromProps,(W=typeof A=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(w!==ae||J!==O)&&wb(r,y,u,O),yr=!1,J=r.memoizedState,y.state=J,fc(r,u,y,p),hc();var te=r.memoizedState;w!==ae||J!==te||yr||s!==null&&s.dependencies!==null&&bd(s.dependencies)?(typeof A=="function"&&(ap(r,o,A,u),te=r.memoizedState),(ie=yr||_b(r,o,ie,u,J,te,O)||s!==null&&s.dependencies!==null&&bd(s.dependencies))?(W||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,te,O),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,te,O)),typeof y.componentDidUpdate=="function"&&(r.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof y.componentDidUpdate!="function"||w===s.memoizedProps&&J===s.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===s.memoizedProps&&J===s.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=te),y.props=u,y.state=te,y.context=O,u=ie):(typeof y.componentDidUpdate!="function"||w===s.memoizedProps&&J===s.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===s.memoizedProps&&J===s.memoizedState||(r.flags|=1024),u=!1)}return y=u,Ud(s,r),u=(r.flags&128)!==0,y||u?(y=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:y.render(),r.flags|=1,s!==null&&u?(r.child=Na(r,s.child,null,p),r.child=Na(r,null,o,p)):an(s,r,o,p),r.memoizedState=y.state,s=r.child):s=Ri(s,r,p),s}function Pb(s,r,o,u){return wa(),r.flags|=256,an(s,r,o,u),r.child}var dp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function hp(s){return{baseLanes:s,cachePool:Ax()}}function fp(s,r,o){return s=s!==null?s.childLanes&~o:0,r&&(s|=Fn),s}function Lb(s,r,o){var u=r.pendingProps,p=!1,y=(r.flags&128)!==0,w;if((w=y)||(w=s!==null&&s.memoizedState===null?!1:(At.current&2)!==0),w&&(p=!0,r.flags&=-129),w=(r.flags&32)!==0,r.flags&=-33,s===null){if(Qe){if(p?br(r):_r(),(s=ht)?(s=$1(s,ns),s=s!==null&&s.data!=="&"?s:null,s!==null&&(r.memoizedState={dehydrated:s,treeContext:fr!==null?{id:Js,overflow:Zs}:null,retryLane:536870912,hydrationErrors:null},o=yx(s),o.return=r,r.child=o,sn=r,ht=null)):s=null,s===null)throw pr(r);return Qp(s)?r.lanes=32:r.lanes=536870912,null}var A=u.children;return u=u.fallback,p?(_r(),p=r.mode,A=zd({mode:"hidden",children:A},p),u=_a(u,p,o,null),A.return=r,u.return=r,A.sibling=u,r.child=A,u=r.child,u.memoizedState=hp(o),u.childLanes=fp(s,w,o),r.memoizedState=dp,vc(null,u)):(br(r),mp(r,A))}var O=s.memoizedState;if(O!==null&&(A=O.dehydrated,A!==null)){if(y)r.flags&256?(br(r),r.flags&=-257,r=pp(s,r,o)):r.memoizedState!==null?(_r(),r.child=s.child,r.flags|=128,r=null):(_r(),A=u.fallback,p=r.mode,u=zd({mode:"visible",children:u.children},p),A=_a(A,p,o,null),A.flags|=2,u.return=r,A.return=r,u.sibling=A,r.child=u,Na(r,s.child,null,o),u=r.child,u.memoizedState=hp(o),u.childLanes=fp(s,w,o),r.memoizedState=dp,r=vc(null,u));else if(br(r),Qp(A)){if(w=A.nextSibling&&A.nextSibling.dataset,w)var W=w.dgst;w=W,u=Error(i(419)),u.stack="",u.digest=w,ac({value:u,source:null,stack:null}),r=pp(s,r,o)}else if(Ot||ko(s,r,o,!1),w=(o&s.childLanes)!==0,Ot||w){if(w=ct,w!==null&&(u=Ul(w,o),u!==0&&u!==O.retryLane))throw O.retryLane=u,ba(s,u),Rn(w,s,u),cp;Yp(A)||Qd(),r=pp(s,r,o)}else Yp(A)?(r.flags|=192,r.child=s.child,r=null):(s=O.treeContext,ht=is(A.nextSibling),sn=r,Qe=!0,mr=null,ns=!1,s!==null&&bx(r,s),r=mp(r,u.children),r.flags|=4096);return r}return p?(_r(),A=u.fallback,p=r.mode,O=s.child,W=O.sibling,u=Ei(O,{mode:"hidden",children:u.children}),u.subtreeFlags=O.subtreeFlags&65011712,W!==null?A=Ei(W,A):(A=_a(A,p,o,null),A.flags|=2),A.return=r,u.return=r,u.sibling=A,r.child=u,vc(null,u),u=r.child,A=s.child.memoizedState,A===null?A=hp(o):(p=A.cachePool,p!==null?(O=Mt._currentValue,p=p.parent!==O?{parent:O,pool:O}:p):p=Ax(),A={baseLanes:A.baseLanes|o,cachePool:p}),u.memoizedState=A,u.childLanes=fp(s,w,o),r.memoizedState=dp,vc(s.child,u)):(br(r),o=s.child,s=o.sibling,o=Ei(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,s!==null&&(w=r.deletions,w===null?(r.deletions=[s],r.flags|=16):w.push(s)),r.child=o,r.memoizedState=null,o)}function mp(s,r){return r=zd({mode:"visible",children:r},s.mode),r.return=s,s.child=r}function zd(s,r){return s=Ln(22,s,null,r),s.lanes=0,s}function pp(s,r,o){return Na(r,s.child,null,o),s=mp(r,r.pendingProps.children),s.flags|=2,r.memoizedState=null,s}function Ub(s,r,o){s.lanes|=r;var u=s.alternate;u!==null&&(u.lanes|=r),Rm(s.return,r,o)}function gp(s,r,o,u,p,y){var w=s.memoizedState;w===null?s.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:p,treeForkCount:y}:(w.isBackwards=r,w.rendering=null,w.renderingStartTime=0,w.last=u,w.tail=o,w.tailMode=p,w.treeForkCount=y)}function zb(s,r,o){var u=r.pendingProps,p=u.revealOrder,y=u.tail;u=u.children;var w=At.current,A=(w&2)!==0;if(A?(w=w&1|2,r.flags|=128):w&=1,ce(At,w),an(s,r,u,o),u=Qe?rc:0,!A&&s!==null&&(s.flags&128)!==0)e:for(s=r.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Ub(s,o,r);else if(s.tag===19)Ub(s,o,r);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(p){case"forwards":for(o=r.child,p=null;o!==null;)s=o.alternate,s!==null&&Nd(s)===null&&(p=o),o=o.sibling;o=p,o===null?(p=r.child,r.child=null):(p=o.sibling,o.sibling=null),gp(r,!1,p,o,y,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,p=r.child,r.child=null;p!==null;){if(s=p.alternate,s!==null&&Nd(s)===null){r.child=p;break}s=p.sibling,p.sibling=o,o=p,p=s}gp(r,!0,o,null,y,u);break;case"together":gp(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function Ri(s,r,o){if(s!==null&&(r.dependencies=s.dependencies),Er|=r.lanes,(o&r.childLanes)===0)if(s!==null){if(ko(s,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(s!==null&&r.child!==s.child)throw Error(i(153));if(r.child!==null){for(s=r.child,o=Ei(s,s.pendingProps),r.child=o,o.return=r;s.sibling!==null;)s=s.sibling,o=o.sibling=Ei(s,s.pendingProps),o.return=r;o.sibling=null}return r.child}function yp(s,r){return(s.lanes&r)!==0?!0:(s=s.dependencies,!!(s!==null&&bd(s)))}function kC(s,r,o){switch(r.tag){case 3:ge(r,r.stateNode.containerInfo),gr(r,Mt,s.memoizedState.cache),wa();break;case 27:case 5:bt(r);break;case 4:ge(r,r.stateNode.containerInfo);break;case 10:gr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Fm(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(br(r),r.flags|=128,null):(o&r.child.childLanes)!==0?Lb(s,r,o):(br(r),s=Ri(s,r,o),s!==null?s.sibling:null);br(r);break;case 19:var p=(s.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(ko(s,r,o,!1),u=(o&r.childLanes)!==0),p){if(u)return zb(s,r,o);r.flags|=128}if(p=r.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),ce(At,At.current),u)break;return null;case 22:return r.lanes=0,jb(s,r,o,r.pendingProps);case 24:gr(r,Mt,s.memoizedState.cache)}return Ri(s,r,o)}function Bb(s,r,o){if(s!==null)if(s.memoizedProps!==r.pendingProps)Ot=!0;else{if(!yp(s,o)&&(r.flags&128)===0)return Ot=!1,kC(s,r,o);Ot=(s.flags&131072)!==0}else Ot=!1,Qe&&(r.flags&1048576)!==0&&xx(r,rc,r.index);switch(r.lanes=0,r.tag){case 16:e:{var u=r.pendingProps;if(s=Aa(r.elementType),r.type=s,typeof s=="function")wm(s)?(u=Ra(s,u),r.tag=1,r=Ob(null,r,s,u,o)):(r.tag=0,r=up(null,r,s,u,o));else{if(s!=null){var p=s.$$typeof;if(p===Z){r.tag=11,r=Cb(null,r,s,u,o);break e}else if(p===I){r.tag=14,r=Rb(null,r,s,u,o);break e}}throw r=ue(s)||s,Error(i(306,r,""))}}return r;case 0:return up(s,r,r.type,r.pendingProps,o);case 1:return u=r.type,p=Ra(u,r.pendingProps),Ob(s,r,u,p,o);case 3:e:{if(ge(r,r.stateNode.containerInfo),s===null)throw Error(i(387));u=r.pendingProps;var y=r.memoizedState;p=y.element,Pm(s,r),fc(r,u,null,o);var w=r.memoizedState;if(u=w.cache,gr(r,Mt,u),u!==y.cache&&Im(r,[Mt],o,!0),hc(),u=w.element,y.isDehydrated)if(y={element:u,isDehydrated:!1,cache:w.cache},r.updateQueue.baseState=y,r.memoizedState=y,r.flags&256){r=Pb(s,r,u,o);break e}else if(u!==p){p=Zn(Error(i(424)),r),ac(p),r=Pb(s,r,u,o);break e}else for(s=r.stateNode.containerInfo,s.nodeType===9?s=s.body:s=s.nodeName==="HTML"?s.ownerDocument.body:s,ht=is(s.firstChild),sn=r,Qe=!0,mr=null,ns=!0,o=jx(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(wa(),u===p){r=Ri(s,r,o);break e}an(s,r,u,o)}r=r.child}return r;case 26:return Ud(s,r),s===null?(o=J1(r.type,null,r.pendingProps,null))?r.memoizedState=o:Qe||(o=r.type,s=r.pendingProps,u=nh(je.current).createElement(o),u[It]=r,u[Qt]=s,on(u,o,s),jt(u),r.stateNode=u):r.memoizedState=J1(r.type,s.memoizedProps,r.pendingProps,s.memoizedState),null;case 27:return bt(r),s===null&&Qe&&(u=r.stateNode=Q1(r.type,r.pendingProps,je.current),sn=r,ns=!0,p=ht,Cr(r.type)?(Xp=p,ht=is(u.firstChild)):ht=p),an(s,r,r.pendingProps.children,o),Ud(s,r),s===null&&(r.flags|=4194304),r.child;case 5:return s===null&&Qe&&((p=u=ht)&&(u=sR(u,r.type,r.pendingProps,ns),u!==null?(r.stateNode=u,sn=r,ht=is(u.firstChild),ns=!1,p=!0):p=!1),p||pr(r)),bt(r),p=r.type,y=r.pendingProps,w=s!==null?s.memoizedProps:null,u=y.children,Gp(p,y)?u=null:w!==null&&Gp(p,w)&&(r.flags|=32),r.memoizedState!==null&&(p=qm(s,r,vC,null,null,o),Dc._currentValue=p),Ud(s,r),an(s,r,u,o),r.child;case 6:return s===null&&Qe&&((s=o=ht)&&(o=iR(o,r.pendingProps,ns),o!==null?(r.stateNode=o,sn=r,ht=null,s=!0):s=!1),s||pr(r)),null;case 13:return Lb(s,r,o);case 4:return ge(r,r.stateNode.containerInfo),u=r.pendingProps,s===null?r.child=Na(r,null,u,o):an(s,r,u,o),r.child;case 11:return Cb(s,r,r.type,r.pendingProps,o);case 7:return an(s,r,r.pendingProps,o),r.child;case 8:return an(s,r,r.pendingProps.children,o),r.child;case 12:return an(s,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,gr(r,r.type,u.value),an(s,r,u.children,o),r.child;case 9:return p=r.type._context,u=r.pendingProps.children,Ea(r),p=rn(p),u=u(p),r.flags|=1,an(s,r,u,o),r.child;case 14:return Rb(s,r,r.type,r.pendingProps,o);case 15:return Ib(s,r,r.type,r.pendingProps,o);case 19:return zb(s,r,o);case 31:return AC(s,r,o);case 22:return jb(s,r,o,r.pendingProps);case 24:return Ea(r),u=rn(Mt),s===null?(p=Mm(),p===null&&(p=ct,y=jm(),p.pooledCache=y,y.refCount++,y!==null&&(p.pooledCacheLanes|=o),p=y),r.memoizedState={parent:u,cache:p},Om(r),gr(r,Mt,p)):((s.lanes&o)!==0&&(Pm(s,r),fc(r,null,null,o),hc()),p=s.memoizedState,y=r.memoizedState,p.parent!==u?(p={parent:u,cache:u},r.memoizedState=p,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=p),gr(r,Mt,u)):(u=y.cache,gr(r,Mt,u),u!==p.cache&&Im(r,[Mt],o,!0))),an(s,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function Ii(s){s.flags|=4}function vp(s,r,o,u,p){if((r=(s.mode&32)!==0)&&(r=!1),r){if(s.flags|=16777216,(p&335544128)===p)if(s.stateNode.complete)s.flags|=8192;else if(m1())s.flags|=8192;else throw ka=Ed,Vm}else s.flags&=-16777217}function Fb(s,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!s_(r))if(m1())s.flags|=8192;else throw ka=Ed,Vm}function Bd(s,r){r!==null&&(s.flags|=4),s.flags&16384&&(r=s.tag!==22?Ku():536870912,s.lanes|=r,Uo|=r)}function xc(s,r){if(!Qe)switch(s.tailMode){case"hidden":r=s.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?s.tail=null:o.sibling=null;break;case"collapsed":o=s.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||s.tail===null?s.tail=null:s.tail.sibling=null:u.sibling=null}}function ft(s){var r=s.alternate!==null&&s.alternate.child===s.child,o=0,u=0;if(r)for(var p=s.child;p!==null;)o|=p.lanes|p.childLanes,u|=p.subtreeFlags&65011712,u|=p.flags&65011712,p.return=s,p=p.sibling;else for(p=s.child;p!==null;)o|=p.lanes|p.childLanes,u|=p.subtreeFlags,u|=p.flags,p.return=s,p=p.sibling;return s.subtreeFlags|=u,s.childLanes=o,r}function NC(s,r,o){var u=r.pendingProps;switch(Am(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(r),null;case 1:return ft(r),null;case 3:return o=r.stateNode,u=null,s!==null&&(u=s.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),ki(Mt),Me(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(s===null||s.child===null)&&(Ao(r)?Ii(r):s===null||s.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Nm())),ft(r),null;case 26:var p=r.type,y=r.memoizedState;return s===null?(Ii(r),y!==null?(ft(r),Fb(r,y)):(ft(r),vp(r,p,null,u,o))):y?y!==s.memoizedState?(Ii(r),ft(r),Fb(r,y)):(ft(r),r.flags&=-16777217):(s=s.memoizedProps,s!==u&&Ii(r),ft(r),vp(r,p,s,u,o)),null;case 27:if(en(r),o=je.current,p=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==u&&Ii(r);else{if(!u){if(r.stateNode===null)throw Error(i(166));return ft(r),null}s=fe.current,Ao(r)?_x(r):(s=Q1(p,u,o),r.stateNode=s,Ii(r))}return ft(r),null;case 5:if(en(r),p=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==u&&Ii(r);else{if(!u){if(r.stateNode===null)throw Error(i(166));return ft(r),null}if(y=fe.current,Ao(r))_x(r);else{var w=nh(je.current);switch(y){case 1:y=w.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:y=w.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":y=w.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":y=w.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":y=w.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof u.is=="string"?w.createElement("select",{is:u.is}):w.createElement("select"),u.multiple?y.multiple=!0:u.size&&(y.size=u.size);break;default:y=typeof u.is=="string"?w.createElement(p,{is:u.is}):w.createElement(p)}}y[It]=r,y[Qt]=u;e:for(w=r.child;w!==null;){if(w.tag===5||w.tag===6)y.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===r)break e;for(;w.sibling===null;){if(w.return===null||w.return===r)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}r.stateNode=y;e:switch(on(y,p,u),p){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Ii(r)}}return ft(r),vp(r,r.type,s===null?null:s.memoizedProps,r.pendingProps,o),null;case 6:if(s&&r.stateNode!=null)s.memoizedProps!==u&&Ii(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(i(166));if(s=je.current,Ao(r)){if(s=r.stateNode,o=r.memoizedProps,u=null,p=sn,p!==null)switch(p.tag){case 27:case 5:u=p.memoizedProps}s[It]=r,s=!!(s.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||L1(s.nodeValue,o)),s||pr(r,!0)}else s=nh(s).createTextNode(u),s[It]=r,r.stateNode=s}return ft(r),null;case 31:if(o=r.memoizedState,s===null||s.memoizedState!==null){if(u=Ao(r),o!==null){if(s===null){if(!u)throw Error(i(318));if(s=r.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(557));s[It]=r}else wa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ft(r),s=!1}else o=Nm(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=o),s=!0;if(!s)return r.flags&256?(zn(r),r):(zn(r),null);if((r.flags&128)!==0)throw Error(i(558))}return ft(r),null;case 13:if(u=r.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(p=Ao(r),u!==null&&u.dehydrated!==null){if(s===null){if(!p)throw Error(i(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(317));p[It]=r}else wa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ft(r),p=!1}else p=Nm(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=p),p=!0;if(!p)return r.flags&256?(zn(r),r):(zn(r),null)}return zn(r),(r.flags&128)!==0?(r.lanes=o,r):(o=u!==null,s=s!==null&&s.memoizedState!==null,o&&(u=r.child,p=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(p=u.alternate.memoizedState.cachePool.pool),y=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==p&&(u.flags|=2048)),o!==s&&o&&(r.child.flags|=8192),Bd(r,r.updateQueue),ft(r),null);case 4:return Me(),s===null&&zp(r.stateNode.containerInfo),ft(r),null;case 10:return ki(r.type),ft(r),null;case 19:if(se(At),u=r.memoizedState,u===null)return ft(r),null;if(p=(r.flags&128)!==0,y=u.rendering,y===null)if(p)xc(u,!1);else{if(wt!==0||s!==null&&(s.flags&128)!==0)for(s=r.child;s!==null;){if(y=Nd(s),y!==null){for(r.flags|=128,xc(u,!1),s=y.updateQueue,r.updateQueue=s,Bd(r,s),r.subtreeFlags=0,s=o,o=r.child;o!==null;)gx(o,s),o=o.sibling;return ce(At,At.current&1|2),Qe&&Si(r,u.treeForkCount),r.child}s=s.sibling}u.tail!==null&&xn()>$d&&(r.flags|=128,p=!0,xc(u,!1),r.lanes=4194304)}else{if(!p)if(s=Nd(y),s!==null){if(r.flags|=128,p=!0,s=s.updateQueue,r.updateQueue=s,Bd(r,s),xc(u,!0),u.tail===null&&u.tailMode==="hidden"&&!y.alternate&&!Qe)return ft(r),null}else 2*xn()-u.renderingStartTime>$d&&o!==536870912&&(r.flags|=128,p=!0,xc(u,!1),r.lanes=4194304);u.isBackwards?(y.sibling=r.child,r.child=y):(s=u.last,s!==null?s.sibling=y:r.child=y,u.last=y)}return u.tail!==null?(s=u.tail,u.rendering=s,u.tail=s.sibling,u.renderingStartTime=xn(),s.sibling=null,o=At.current,ce(At,p?o&1|2:o&1),Qe&&Si(r,u.treeForkCount),s):(ft(r),null);case 22:case 23:return zn(r),Bm(),u=r.memoizedState!==null,s!==null?s.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(ft(r),r.subtreeFlags&6&&(r.flags|=8192)):ft(r),o=r.updateQueue,o!==null&&Bd(r,o.retryQueue),o=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),s!==null&&se(Sa),null;case 24:return o=null,s!==null&&(o=s.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),ki(Mt),ft(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function CC(s,r){switch(Am(r),r.tag){case 1:return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 3:return ki(Mt),Me(),s=r.flags,(s&65536)!==0&&(s&128)===0?(r.flags=s&-65537|128,r):null;case 26:case 27:case 5:return en(r),null;case 31:if(r.memoizedState!==null){if(zn(r),r.alternate===null)throw Error(i(340));wa()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 13:if(zn(r),s=r.memoizedState,s!==null&&s.dehydrated!==null){if(r.alternate===null)throw Error(i(340));wa()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 19:return se(At),null;case 4:return Me(),null;case 10:return ki(r.type),null;case 22:case 23:return zn(r),Bm(),s!==null&&se(Sa),s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 24:return ki(Mt),null;case 25:return null;default:return null}}function Hb(s,r){switch(Am(r),r.tag){case 3:ki(Mt),Me();break;case 26:case 27:case 5:en(r);break;case 4:Me();break;case 31:r.memoizedState!==null&&zn(r);break;case 13:zn(r);break;case 19:se(At);break;case 10:ki(r.type);break;case 22:case 23:zn(r),Bm(),s!==null&&se(Sa);break;case 24:ki(Mt)}}function bc(s,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var p=u.next;o=p;do{if((o.tag&s)===s){u=void 0;var y=o.create,w=o.inst;u=y(),w.destroy=u}o=o.next}while(o!==p)}}catch(A){it(r,r.return,A)}}function wr(s,r,o){try{var u=r.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var y=p.next;u=y;do{if((u.tag&s)===s){var w=u.inst,A=w.destroy;if(A!==void 0){w.destroy=void 0,p=r;var O=o,W=A;try{W()}catch(ie){it(p,O,ie)}}}u=u.next}while(u!==y)}}catch(ie){it(r,r.return,ie)}}function qb(s){var r=s.updateQueue;if(r!==null){var o=s.stateNode;try{Mx(r,o)}catch(u){it(s,s.return,u)}}}function Gb(s,r,o){o.props=Ra(s.type,s.memoizedProps),o.state=s.memoizedState;try{o.componentWillUnmount()}catch(u){it(s,r,u)}}function _c(s,r){try{var o=s.ref;if(o!==null){switch(s.tag){case 26:case 27:case 5:var u=s.stateNode;break;case 30:u=s.stateNode;break;default:u=s.stateNode}typeof o=="function"?s.refCleanup=o(u):o.current=u}}catch(p){it(s,r,p)}}function ei(s,r){var o=s.ref,u=s.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(p){it(s,r,p)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(p){it(s,r,p)}else o.current=null}function $b(s){var r=s.type,o=s.memoizedProps,u=s.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(p){it(s,s.return,p)}}function xp(s,r,o){try{var u=s.stateNode;WC(u,s.type,o,r),u[Qt]=r}catch(p){it(s,s.return,p)}}function Kb(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Cr(s.type)||s.tag===4}function bp(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Kb(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Cr(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function _p(s,r,o){var u=s.tag;if(u===5||u===6)s=s.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(s,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(s),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=ys));else if(u!==4&&(u===27&&Cr(s.type)&&(o=s.stateNode,r=null),s=s.child,s!==null))for(_p(s,r,o),s=s.sibling;s!==null;)_p(s,r,o),s=s.sibling}function Fd(s,r,o){var u=s.tag;if(u===5||u===6)s=s.stateNode,r?o.insertBefore(s,r):o.appendChild(s);else if(u!==4&&(u===27&&Cr(s.type)&&(o=s.stateNode),s=s.child,s!==null))for(Fd(s,r,o),s=s.sibling;s!==null;)Fd(s,r,o),s=s.sibling}function Yb(s){var r=s.stateNode,o=s.memoizedProps;try{for(var u=s.type,p=r.attributes;p.length;)r.removeAttributeNode(p[0]);on(r,u,o),r[It]=s,r[Qt]=o}catch(y){it(s,s.return,y)}}var ji=!1,Pt=!1,wp=!1,Qb=typeof WeakSet=="function"?WeakSet:Set,Wt=null;function RC(s,r){if(s=s.containerInfo,Hp=ch,s=ox(s),pm(s)){if("selectionStart"in s)var o={start:s.selectionStart,end:s.selectionEnd};else e:{o=(o=s.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var p=u.anchorOffset,y=u.focusNode;u=u.focusOffset;try{o.nodeType,y.nodeType}catch{o=null;break e}var w=0,A=-1,O=-1,W=0,ie=0,ae=s,J=null;t:for(;;){for(var te;ae!==o||p!==0&&ae.nodeType!==3||(A=w+p),ae!==y||u!==0&&ae.nodeType!==3||(O=w+u),ae.nodeType===3&&(w+=ae.nodeValue.length),(te=ae.firstChild)!==null;)J=ae,ae=te;for(;;){if(ae===s)break t;if(J===o&&++W===p&&(A=w),J===y&&++ie===u&&(O=w),(te=ae.nextSibling)!==null)break;ae=J,J=ae.parentNode}ae=te}o=A===-1||O===-1?null:{start:A,end:O}}else o=null}o=o||{start:0,end:0}}else o=null;for(qp={focusedElem:s,selectionRange:o},ch=!1,Wt=r;Wt!==null;)if(r=Wt,s=r.child,(r.subtreeFlags&1028)!==0&&s!==null)s.return=r,Wt=s;else for(;Wt!==null;){switch(r=Wt,y=r.alternate,s=r.flags,r.tag){case 0:if((s&4)!==0&&(s=r.updateQueue,s=s!==null?s.events:null,s!==null))for(o=0;o<s.length;o++)p=s[o],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&y!==null){s=void 0,o=r,p=y.memoizedProps,y=y.memoizedState,u=o.stateNode;try{var xe=Ra(o.type,p);s=u.getSnapshotBeforeUpdate(xe,y),u.__reactInternalSnapshotBeforeUpdate=s}catch(Re){it(o,o.return,Re)}}break;case 3:if((s&1024)!==0){if(s=r.stateNode.containerInfo,o=s.nodeType,o===9)Kp(s);else if(o===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Kp(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=r.sibling,s!==null){s.return=r.return,Wt=s;break}Wt=r.return}}function Xb(s,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Mi(s,o),u&4&&bc(5,o);break;case 1:if(Mi(s,o),u&4)if(s=o.stateNode,r===null)try{s.componentDidMount()}catch(w){it(o,o.return,w)}else{var p=Ra(o.type,r.memoizedProps);r=r.memoizedState;try{s.componentDidUpdate(p,r,s.__reactInternalSnapshotBeforeUpdate)}catch(w){it(o,o.return,w)}}u&64&&qb(o),u&512&&_c(o,o.return);break;case 3:if(Mi(s,o),u&64&&(s=o.updateQueue,s!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{Mx(s,r)}catch(w){it(o,o.return,w)}}break;case 27:r===null&&u&4&&Yb(o);case 26:case 5:Mi(s,o),r===null&&u&4&&$b(o),u&512&&_c(o,o.return);break;case 12:Mi(s,o);break;case 31:Mi(s,o),u&4&&Zb(s,o);break;case 13:Mi(s,o),u&4&&e1(s,o),u&64&&(s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(o=UC.bind(null,o),rR(s,o))));break;case 22:if(u=o.memoizedState!==null||ji,!u){r=r!==null&&r.memoizedState!==null||Pt,p=ji;var y=Pt;ji=u,(Pt=r)&&!y?Vi(s,o,(o.subtreeFlags&8772)!==0):Mi(s,o),ji=p,Pt=y}break;case 30:break;default:Mi(s,o)}}function Wb(s){var r=s.alternate;r!==null&&(s.alternate=null,Wb(r)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(r=s.stateNode,r!==null&&lo(r)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var gt=null,An=!1;function Di(s,r,o){for(o=o.child;o!==null;)Jb(s,r,o),o=o.sibling}function Jb(s,r,o){if(tn&&typeof tn.onCommitFiberUnmount=="function")try{tn.onCommitFiberUnmount(fs,o)}catch{}switch(o.tag){case 26:Pt||ei(o,r),Di(s,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Pt||ei(o,r);var u=gt,p=An;Cr(o.type)&&(gt=o.stateNode,An=!1),Di(s,r,o),Rc(o.stateNode),gt=u,An=p;break;case 5:Pt||ei(o,r);case 6:if(u=gt,p=An,gt=null,Di(s,r,o),gt=u,An=p,gt!==null)if(An)try{(gt.nodeType===9?gt.body:gt.nodeName==="HTML"?gt.ownerDocument.body:gt).removeChild(o.stateNode)}catch(y){it(o,r,y)}else try{gt.removeChild(o.stateNode)}catch(y){it(o,r,y)}break;case 18:gt!==null&&(An?(s=gt,q1(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,o.stateNode),Ko(s)):q1(gt,o.stateNode));break;case 4:u=gt,p=An,gt=o.stateNode.containerInfo,An=!0,Di(s,r,o),gt=u,An=p;break;case 0:case 11:case 14:case 15:wr(2,o,r),Pt||wr(4,o,r),Di(s,r,o);break;case 1:Pt||(ei(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&Gb(o,r,u)),Di(s,r,o);break;case 21:Di(s,r,o);break;case 22:Pt=(u=Pt)||o.memoizedState!==null,Di(s,r,o),Pt=u;break;default:Di(s,r,o)}}function Zb(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Ko(s)}catch(o){it(r,r.return,o)}}}function e1(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Ko(s)}catch(o){it(r,r.return,o)}}function IC(s){switch(s.tag){case 31:case 13:case 19:var r=s.stateNode;return r===null&&(r=s.stateNode=new Qb),r;case 22:return s=s.stateNode,r=s._retryCache,r===null&&(r=s._retryCache=new Qb),r;default:throw Error(i(435,s.tag))}}function Hd(s,r){var o=IC(s);r.forEach(function(u){if(!o.has(u)){o.add(u);var p=zC.bind(null,s,u);u.then(p,p)}})}function kn(s,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var p=o[u],y=s,w=r,A=w;e:for(;A!==null;){switch(A.tag){case 27:if(Cr(A.type)){gt=A.stateNode,An=!1;break e}break;case 5:gt=A.stateNode,An=!1;break e;case 3:case 4:gt=A.stateNode.containerInfo,An=!0;break e}A=A.return}if(gt===null)throw Error(i(160));Jb(y,w,p),gt=null,An=!1,y=p.alternate,y!==null&&(y.return=null),p.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)t1(r,s),r=r.sibling}var Ts=null;function t1(s,r){var o=s.alternate,u=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:kn(r,s),Nn(s),u&4&&(wr(3,s,s.return),bc(3,s),wr(5,s,s.return));break;case 1:kn(r,s),Nn(s),u&512&&(Pt||o===null||ei(o,o.return)),u&64&&ji&&(s=s.updateQueue,s!==null&&(u=s.callbacks,u!==null&&(o=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var p=Ts;if(kn(r,s),Nn(s),u&512&&(Pt||o===null||ei(o,o.return)),u&4){var y=o!==null?o.memoizedState:null;if(u=s.memoizedState,o===null)if(u===null)if(s.stateNode===null){e:{u=s.type,o=s.memoizedProps,p=p.ownerDocument||p;t:switch(u){case"title":y=p.getElementsByTagName("title")[0],(!y||y[zs]||y[It]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=p.createElement(u),p.head.insertBefore(y,p.querySelector("head > title"))),on(y,u,o),y[It]=s,jt(y),u=y;break e;case"link":var w=t_("link","href",p).get(u+(o.href||""));if(w){for(var A=0;A<w.length;A++)if(y=w[A],y.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&y.getAttribute("rel")===(o.rel==null?null:o.rel)&&y.getAttribute("title")===(o.title==null?null:o.title)&&y.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){w.splice(A,1);break t}}y=p.createElement(u),on(y,u,o),p.head.appendChild(y);break;case"meta":if(w=t_("meta","content",p).get(u+(o.content||""))){for(A=0;A<w.length;A++)if(y=w[A],y.getAttribute("content")===(o.content==null?null:""+o.content)&&y.getAttribute("name")===(o.name==null?null:o.name)&&y.getAttribute("property")===(o.property==null?null:o.property)&&y.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&y.getAttribute("charset")===(o.charSet==null?null:o.charSet)){w.splice(A,1);break t}}y=p.createElement(u),on(y,u,o),p.head.appendChild(y);break;default:throw Error(i(468,u))}y[It]=s,jt(y),u=y}s.stateNode=u}else n_(p,s.type,s.stateNode);else s.stateNode=e_(p,u,s.memoizedProps);else y!==u?(y===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):y.count--,u===null?n_(p,s.type,s.stateNode):e_(p,u,s.memoizedProps)):u===null&&s.stateNode!==null&&xp(s,s.memoizedProps,o.memoizedProps)}break;case 27:kn(r,s),Nn(s),u&512&&(Pt||o===null||ei(o,o.return)),o!==null&&u&4&&xp(s,s.memoizedProps,o.memoizedProps);break;case 5:if(kn(r,s),Nn(s),u&512&&(Pt||o===null||ei(o,o.return)),s.flags&32){p=s.stateNode;try{Sn(p,"")}catch(xe){it(s,s.return,xe)}}u&4&&s.stateNode!=null&&(p=s.memoizedProps,xp(s,p,o!==null?o.memoizedProps:p)),u&1024&&(wp=!0);break;case 6:if(kn(r,s),Nn(s),u&4){if(s.stateNode===null)throw Error(i(162));u=s.memoizedProps,o=s.stateNode;try{o.nodeValue=u}catch(xe){it(s,s.return,xe)}}break;case 3:if(rh=null,p=Ts,Ts=sh(r.containerInfo),kn(r,s),Ts=p,Nn(s),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Ko(r.containerInfo)}catch(xe){it(s,s.return,xe)}wp&&(wp=!1,n1(s));break;case 4:u=Ts,Ts=sh(s.stateNode.containerInfo),kn(r,s),Nn(s),Ts=u;break;case 12:kn(r,s),Nn(s);break;case 31:kn(r,s),Nn(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Hd(s,u)));break;case 13:kn(r,s),Nn(s),s.child.flags&8192&&s.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Gd=xn()),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Hd(s,u)));break;case 22:p=s.memoizedState!==null;var O=o!==null&&o.memoizedState!==null,W=ji,ie=Pt;if(ji=W||p,Pt=ie||O,kn(r,s),Pt=ie,ji=W,Nn(s),u&8192)e:for(r=s.stateNode,r._visibility=p?r._visibility&-2:r._visibility|1,p&&(o===null||O||ji||Pt||Ia(s)),o=null,r=s;;){if(r.tag===5||r.tag===26){if(o===null){O=o=r;try{if(y=O.stateNode,p)w=y.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{A=O.stateNode;var ae=O.memoizedProps.style,J=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;A.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(xe){it(O,O.return,xe)}}}else if(r.tag===6){if(o===null){O=r;try{O.stateNode.nodeValue=p?"":O.memoizedProps}catch(xe){it(O,O.return,xe)}}}else if(r.tag===18){if(o===null){O=r;try{var te=O.stateNode;p?G1(te,!0):G1(O.stateNode,!1)}catch(xe){it(O,O.return,xe)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===s)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=s.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Hd(s,o))));break;case 19:kn(r,s),Nn(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Hd(s,u)));break;case 30:break;case 21:break;default:kn(r,s),Nn(s)}}function Nn(s){var r=s.flags;if(r&2){try{for(var o,u=s.return;u!==null;){if(Kb(u)){o=u;break}u=u.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var p=o.stateNode,y=bp(s);Fd(s,y,p);break;case 5:var w=o.stateNode;o.flags&32&&(Sn(w,""),o.flags&=-33);var A=bp(s);Fd(s,A,w);break;case 3:case 4:var O=o.stateNode.containerInfo,W=bp(s);_p(s,W,O);break;default:throw Error(i(161))}}catch(ie){it(s,s.return,ie)}s.flags&=-3}r&4096&&(s.flags&=-4097)}function n1(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var r=s;n1(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),s=s.sibling}}function Mi(s,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Xb(s,r.alternate,r),r=r.sibling}function Ia(s){for(s=s.child;s!==null;){var r=s;switch(r.tag){case 0:case 11:case 14:case 15:wr(4,r,r.return),Ia(r);break;case 1:ei(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&Gb(r,r.return,o),Ia(r);break;case 27:Rc(r.stateNode);case 26:case 5:ei(r,r.return),Ia(r);break;case 22:r.memoizedState===null&&Ia(r);break;case 30:Ia(r);break;default:Ia(r)}s=s.sibling}}function Vi(s,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,p=s,y=r,w=y.flags;switch(y.tag){case 0:case 11:case 15:Vi(p,y,o),bc(4,y);break;case 1:if(Vi(p,y,o),u=y,p=u.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(W){it(u,u.return,W)}if(u=y,p=u.updateQueue,p!==null){var A=u.stateNode;try{var O=p.shared.hiddenCallbacks;if(O!==null)for(p.shared.hiddenCallbacks=null,p=0;p<O.length;p++)Dx(O[p],A)}catch(W){it(u,u.return,W)}}o&&w&64&&qb(y),_c(y,y.return);break;case 27:Yb(y);case 26:case 5:Vi(p,y,o),o&&u===null&&w&4&&$b(y),_c(y,y.return);break;case 12:Vi(p,y,o);break;case 31:Vi(p,y,o),o&&w&4&&Zb(p,y);break;case 13:Vi(p,y,o),o&&w&4&&e1(p,y);break;case 22:y.memoizedState===null&&Vi(p,y,o),_c(y,y.return);break;case 30:break;default:Vi(p,y,o)}r=r.sibling}}function Tp(s,r){var o=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),s=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==o&&(s!=null&&s.refCount++,o!=null&&oc(o))}function Ep(s,r){s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&oc(s))}function Es(s,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)s1(s,r,o,u),r=r.sibling}function s1(s,r,o,u){var p=r.flags;switch(r.tag){case 0:case 11:case 15:Es(s,r,o,u),p&2048&&bc(9,r);break;case 1:Es(s,r,o,u);break;case 3:Es(s,r,o,u),p&2048&&(s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&oc(s)));break;case 12:if(p&2048){Es(s,r,o,u),s=r.stateNode;try{var y=r.memoizedProps,w=y.id,A=y.onPostCommit;typeof A=="function"&&A(w,r.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(O){it(r,r.return,O)}}else Es(s,r,o,u);break;case 31:Es(s,r,o,u);break;case 13:Es(s,r,o,u);break;case 23:break;case 22:y=r.stateNode,w=r.alternate,r.memoizedState!==null?y._visibility&2?Es(s,r,o,u):wc(s,r):y._visibility&2?Es(s,r,o,u):(y._visibility|=2,Oo(s,r,o,u,(r.subtreeFlags&10256)!==0||!1)),p&2048&&Tp(w,r);break;case 24:Es(s,r,o,u),p&2048&&Ep(r.alternate,r);break;default:Es(s,r,o,u)}}function Oo(s,r,o,u,p){for(p=p&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var y=s,w=r,A=o,O=u,W=w.flags;switch(w.tag){case 0:case 11:case 15:Oo(y,w,A,O,p),bc(8,w);break;case 23:break;case 22:var ie=w.stateNode;w.memoizedState!==null?ie._visibility&2?Oo(y,w,A,O,p):wc(y,w):(ie._visibility|=2,Oo(y,w,A,O,p)),p&&W&2048&&Tp(w.alternate,w);break;case 24:Oo(y,w,A,O,p),p&&W&2048&&Ep(w.alternate,w);break;default:Oo(y,w,A,O,p)}r=r.sibling}}function wc(s,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=s,u=r,p=u.flags;switch(u.tag){case 22:wc(o,u),p&2048&&Tp(u.alternate,u);break;case 24:wc(o,u),p&2048&&Ep(u.alternate,u);break;default:wc(o,u)}r=r.sibling}}var Tc=8192;function Po(s,r,o){if(s.subtreeFlags&Tc)for(s=s.child;s!==null;)i1(s,r,o),s=s.sibling}function i1(s,r,o){switch(s.tag){case 26:Po(s,r,o),s.flags&Tc&&s.memoizedState!==null&&yR(o,Ts,s.memoizedState,s.memoizedProps);break;case 5:Po(s,r,o);break;case 3:case 4:var u=Ts;Ts=sh(s.stateNode.containerInfo),Po(s,r,o),Ts=u;break;case 22:s.memoizedState===null&&(u=s.alternate,u!==null&&u.memoizedState!==null?(u=Tc,Tc=16777216,Po(s,r,o),Tc=u):Po(s,r,o));break;default:Po(s,r,o)}}function r1(s){var r=s.alternate;if(r!==null&&(s=r.child,s!==null)){r.child=null;do r=s.sibling,s.sibling=null,s=r;while(s!==null)}}function Ec(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Wt=u,o1(u,s)}r1(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)a1(s),s=s.sibling}function a1(s){switch(s.tag){case 0:case 11:case 15:Ec(s),s.flags&2048&&wr(9,s,s.return);break;case 3:Ec(s);break;case 12:Ec(s);break;case 22:var r=s.stateNode;s.memoizedState!==null&&r._visibility&2&&(s.return===null||s.return.tag!==13)?(r._visibility&=-3,qd(s)):Ec(s);break;default:Ec(s)}}function qd(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Wt=u,o1(u,s)}r1(s)}for(s=s.child;s!==null;){switch(r=s,r.tag){case 0:case 11:case 15:wr(8,r,r.return),qd(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,qd(r));break;default:qd(r)}s=s.sibling}}function o1(s,r){for(;Wt!==null;){var o=Wt;switch(o.tag){case 0:case 11:case 15:wr(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:oc(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Wt=u;else e:for(o=s;Wt!==null;){u=Wt;var p=u.sibling,y=u.return;if(Wb(u),u===o){Wt=null;break e}if(p!==null){p.return=y,Wt=p;break e}Wt=y}}}var jC={getCacheForType:function(s){var r=rn(Mt),o=r.data.get(s);return o===void 0&&(o=s(),r.data.set(s,o)),o},cacheSignal:function(){return rn(Mt).controller.signal}},DC=typeof WeakMap=="function"?WeakMap:Map,et=0,ct=null,Fe=null,qe=0,st=0,Bn=null,Tr=!1,Lo=!1,Sp=!1,Oi=0,wt=0,Er=0,ja=0,Ap=0,Fn=0,Uo=0,Sc=null,Cn=null,kp=!1,Gd=0,l1=0,$d=1/0,Kd=null,Sr=null,Gt=0,Ar=null,zo=null,Pi=0,Np=0,Cp=null,c1=null,Ac=0,Rp=null;function Hn(){return(et&2)!==0&&qe!==0?qe&-qe:V.T!==null?Op():Yu()}function u1(){if(Fn===0)if((qe&536870912)===0||Qe){var s=ra;ra<<=1,(ra&3932160)===0&&(ra=262144),Fn=s}else Fn=536870912;return s=Un.current,s!==null&&(s.flags|=32),Fn}function Rn(s,r,o){(s===ct&&(st===2||st===9)||s.cancelPendingCommit!==null)&&(Bo(s,0),kr(s,qe,Fn,!1)),aa(s,o),((et&2)===0||s!==ct)&&(s===ct&&((et&2)===0&&(ja|=o),wt===4&&kr(s,qe,Fn,!1)),ti(s))}function d1(s,r,o){if((et&6)!==0)throw Error(i(327));var u=!o&&(r&127)===0&&(r&s.expiredLanes)===0||ms(s,r),p=u?OC(s,r):jp(s,r,!0),y=u;do{if(p===0){Lo&&!u&&kr(s,r,0,!1);break}else{if(o=s.current.alternate,y&&!MC(o)){p=jp(s,r,!1),y=!1;continue}if(p===2){if(y=r,s.errorRecoveryDisabledLanes&y)var w=0;else w=s.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){r=w;e:{var A=s;p=Sc;var O=A.current.memoizedState.isDehydrated;if(O&&(Bo(A,w).flags|=256),w=jp(A,w,!1),w!==2){if(Sp&&!O){A.errorRecoveryDisabledLanes|=y,ja|=y,p=4;break e}y=Cn,Cn=p,y!==null&&(Cn===null?Cn=y:Cn.push.apply(Cn,y))}p=w}if(y=!1,p!==2)continue}}if(p===1){Bo(s,0),kr(s,r,0,!0);break}e:{switch(u=s,y=p,y){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:kr(u,r,Fn,!Tr);break e;case 2:Cn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(p=Gd+300-xn(),10<p)){if(kr(u,r,Fn,!Tr),Ps(u,0,!0)!==0)break e;Pi=r,u.timeoutHandle=F1(h1.bind(null,u,o,Cn,Kd,kp,r,Fn,ja,Uo,Tr,y,"Throttled",-0,0),p);break e}h1(u,o,Cn,Kd,kp,r,Fn,ja,Uo,Tr,y,null,-0,0)}}break}while(!0);ti(s)}function h1(s,r,o,u,p,y,w,A,O,W,ie,ae,J,te){if(s.timeoutHandle=-1,ae=r.subtreeFlags,ae&8192||(ae&16785408)===16785408){ae={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ys},i1(r,y,ae);var xe=(y&62914560)===y?Gd-xn():(y&4194048)===y?l1-xn():0;if(xe=vR(ae,xe),xe!==null){Pi=y,s.cancelPendingCommit=xe(b1.bind(null,s,r,y,o,u,p,w,A,O,ie,ae,null,J,te)),kr(s,y,w,!W);return}}b1(s,r,y,o,u,p,w,A,O)}function MC(s){for(var r=s;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var p=o[u],y=p.getSnapshot;p=p.value;try{if(!Pn(y(),p))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function kr(s,r,o,u){r&=~Ap,r&=~ja,s.suspendedLanes|=r,s.pingedLanes&=~r,u&&(s.warmLanes|=r),u=s.expirationTimes;for(var p=r;0<p;){var y=31-Et(p),w=1<<y;u[y]=-1,p&=~w}o!==0&&oa(s,o,r)}function Yd(){return(et&6)===0?(kc(0),!1):!0}function Ip(){if(Fe!==null){if(st===0)var s=Fe.return;else s=Fe,Ai=Ta=null,Km(s),Io=null,cc=0,s=Fe;for(;s!==null;)Hb(s.alternate,s),s=s.return;Fe=null}}function Bo(s,r){var o=s.timeoutHandle;o!==-1&&(s.timeoutHandle=-1,eR(o)),o=s.cancelPendingCommit,o!==null&&(s.cancelPendingCommit=null,o()),Pi=0,Ip(),ct=s,Fe=o=Ei(s.current,null),qe=r,st=0,Bn=null,Tr=!1,Lo=ms(s,r),Sp=!1,Uo=Fn=Ap=ja=Er=wt=0,Cn=Sc=null,kp=!1,(r&8)!==0&&(r|=r&32);var u=s.entangledLanes;if(u!==0)for(s=s.entanglements,u&=r;0<u;){var p=31-Et(u),y=1<<p;r|=s[p],u&=~y}return Oi=r,pd(),o}function f1(s,r){Ue=null,V.H=yc,r===Ro||r===Td?(r=Cx(),st=3):r===Vm?(r=Cx(),st=4):st=r===cp?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Bn=r,Fe===null&&(wt=1,Pd(s,Zn(r,s.current)))}function m1(){var s=Un.current;return s===null?!0:(qe&4194048)===qe?ss===null:(qe&62914560)===qe||(qe&536870912)!==0?s===ss:!1}function p1(){var s=V.H;return V.H=yc,s===null?yc:s}function g1(){var s=V.A;return V.A=jC,s}function Qd(){wt=4,Tr||(qe&4194048)!==qe&&Un.current!==null||(Lo=!0),(Er&134217727)===0&&(ja&134217727)===0||ct===null||kr(ct,qe,Fn,!1)}function jp(s,r,o){var u=et;et|=2;var p=p1(),y=g1();(ct!==s||qe!==r)&&(Kd=null,Bo(s,r)),r=!1;var w=wt;e:do try{if(st!==0&&Fe!==null){var A=Fe,O=Bn;switch(st){case 8:Ip(),w=6;break e;case 3:case 2:case 9:case 6:Un.current===null&&(r=!0);var W=st;if(st=0,Bn=null,Fo(s,A,O,W),o&&Lo){w=0;break e}break;default:W=st,st=0,Bn=null,Fo(s,A,O,W)}}VC(),w=wt;break}catch(ie){f1(s,ie)}while(!0);return r&&s.shellSuspendCounter++,Ai=Ta=null,et=u,V.H=p,V.A=y,Fe===null&&(ct=null,qe=0,pd()),w}function VC(){for(;Fe!==null;)y1(Fe)}function OC(s,r){var o=et;et|=2;var u=p1(),p=g1();ct!==s||qe!==r?(Kd=null,$d=xn()+500,Bo(s,r)):Lo=ms(s,r);e:do try{if(st!==0&&Fe!==null){r=Fe;var y=Bn;t:switch(st){case 1:st=0,Bn=null,Fo(s,r,y,1);break;case 2:case 9:if(kx(y)){st=0,Bn=null,v1(r);break}r=function(){st!==2&&st!==9||ct!==s||(st=7),ti(s)},y.then(r,r);break e;case 3:st=7;break e;case 4:st=5;break e;case 7:kx(y)?(st=0,Bn=null,v1(r)):(st=0,Bn=null,Fo(s,r,y,7));break;case 5:var w=null;switch(Fe.tag){case 26:w=Fe.memoizedState;case 5:case 27:var A=Fe;if(w?s_(w):A.stateNode.complete){st=0,Bn=null;var O=A.sibling;if(O!==null)Fe=O;else{var W=A.return;W!==null?(Fe=W,Xd(W)):Fe=null}break t}}st=0,Bn=null,Fo(s,r,y,5);break;case 6:st=0,Bn=null,Fo(s,r,y,6);break;case 8:Ip(),wt=6;break e;default:throw Error(i(462))}}PC();break}catch(ie){f1(s,ie)}while(!0);return Ai=Ta=null,V.H=u,V.A=p,et=o,Fe!==null?0:(ct=null,qe=0,pd(),wt)}function PC(){for(;Fe!==null&&!lm();)y1(Fe)}function y1(s){var r=Bb(s.alternate,s,Oi);s.memoizedProps=s.pendingProps,r===null?Xd(s):Fe=r}function v1(s){var r=s,o=r.alternate;switch(r.tag){case 15:case 0:r=Vb(o,r,r.pendingProps,r.type,void 0,qe);break;case 11:r=Vb(o,r,r.pendingProps,r.type.render,r.ref,qe);break;case 5:Km(r);default:Hb(o,r),r=Fe=gx(r,Oi),r=Bb(o,r,Oi)}s.memoizedProps=s.pendingProps,r===null?Xd(s):Fe=r}function Fo(s,r,o,u){Ai=Ta=null,Km(r),Io=null,cc=0;var p=r.return;try{if(SC(s,p,r,o,qe)){wt=1,Pd(s,Zn(o,s.current)),Fe=null;return}}catch(y){if(p!==null)throw Fe=p,y;wt=1,Pd(s,Zn(o,s.current)),Fe=null;return}r.flags&32768?(Qe||u===1?s=!0:Lo||(qe&536870912)!==0?s=!1:(Tr=s=!0,(u===2||u===9||u===3||u===6)&&(u=Un.current,u!==null&&u.tag===13&&(u.flags|=16384))),x1(r,s)):Xd(r)}function Xd(s){var r=s;do{if((r.flags&32768)!==0){x1(r,Tr);return}s=r.return;var o=NC(r.alternate,r,Oi);if(o!==null){Fe=o;return}if(r=r.sibling,r!==null){Fe=r;return}Fe=r=s}while(r!==null);wt===0&&(wt=5)}function x1(s,r){do{var o=CC(s.alternate,s);if(o!==null){o.flags&=32767,Fe=o;return}if(o=s.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(s=s.sibling,s!==null)){Fe=s;return}Fe=s=o}while(s!==null);wt=6,Fe=null}function b1(s,r,o,u,p,y,w,A,O){s.cancelPendingCommit=null;do Wd();while(Gt!==0);if((et&6)!==0)throw Error(i(327));if(r!==null){if(r===s.current)throw Error(i(177));if(y=r.lanes|r.childLanes,y|=bm,dm(s,o,y,w,A,O),s===ct&&(Fe=ct=null,qe=0),zo=r,Ar=s,Pi=o,Np=y,Cp=p,c1=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,BC(sr,function(){return S1(),null})):(s.callbackNode=null,s.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=V.T,V.T=null,p=F.p,F.p=2,w=et,et|=4;try{RC(s,r,o)}finally{et=w,F.p=p,V.T=u}}Gt=1,_1(),w1(),T1()}}function _1(){if(Gt===1){Gt=0;var s=Ar,r=zo,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=V.T,V.T=null;var u=F.p;F.p=2;var p=et;et|=4;try{t1(r,s);var y=qp,w=ox(s.containerInfo),A=y.focusedElem,O=y.selectionRange;if(w!==A&&A&&A.ownerDocument&&ax(A.ownerDocument.documentElement,A)){if(O!==null&&pm(A)){var W=O.start,ie=O.end;if(ie===void 0&&(ie=W),"selectionStart"in A)A.selectionStart=W,A.selectionEnd=Math.min(ie,A.value.length);else{var ae=A.ownerDocument||document,J=ae&&ae.defaultView||window;if(J.getSelection){var te=J.getSelection(),xe=A.textContent.length,Re=Math.min(O.start,xe),lt=O.end===void 0?Re:Math.min(O.end,xe);!te.extend&&Re>lt&&(w=lt,lt=Re,Re=w);var K=rx(A,Re),B=rx(A,lt);if(K&&B&&(te.rangeCount!==1||te.anchorNode!==K.node||te.anchorOffset!==K.offset||te.focusNode!==B.node||te.focusOffset!==B.offset)){var X=ae.createRange();X.setStart(K.node,K.offset),te.removeAllRanges(),Re>lt?(te.addRange(X),te.extend(B.node,B.offset)):(X.setEnd(B.node,B.offset),te.addRange(X))}}}}for(ae=[],te=A;te=te.parentNode;)te.nodeType===1&&ae.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<ae.length;A++){var re=ae[A];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}ch=!!Hp,qp=Hp=null}finally{et=p,F.p=u,V.T=o}}s.current=r,Gt=2}}function w1(){if(Gt===2){Gt=0;var s=Ar,r=zo,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=V.T,V.T=null;var u=F.p;F.p=2;var p=et;et|=4;try{Xb(s,r.alternate,r)}finally{et=p,F.p=u,V.T=o}}Gt=3}}function T1(){if(Gt===4||Gt===3){Gt=0,Bu();var s=Ar,r=zo,o=Pi,u=c1;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Gt=5:(Gt=0,zo=Ar=null,E1(s,s.pendingLanes));var p=s.pendingLanes;if(p===0&&(Sr=null),bi(o),r=r.stateNode,tn&&typeof tn.onCommitFiberRoot=="function")try{tn.onCommitFiberRoot(fs,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=V.T,p=F.p,F.p=2,V.T=null;try{for(var y=s.onRecoverableError,w=0;w<u.length;w++){var A=u[w];y(A.value,{componentStack:A.stack})}}finally{V.T=r,F.p=p}}(Pi&3)!==0&&Wd(),ti(s),p=s.pendingLanes,(o&261930)!==0&&(p&42)!==0?s===Rp?Ac++:(Ac=0,Rp=s):Ac=0,kc(0)}}function E1(s,r){(s.pooledCacheLanes&=r)===0&&(r=s.pooledCache,r!=null&&(s.pooledCache=null,oc(r)))}function Wd(){return _1(),w1(),T1(),S1()}function S1(){if(Gt!==5)return!1;var s=Ar,r=Np;Np=0;var o=bi(Pi),u=V.T,p=F.p;try{F.p=32>o?32:o,V.T=null,o=Cp,Cp=null;var y=Ar,w=Pi;if(Gt=0,zo=Ar=null,Pi=0,(et&6)!==0)throw Error(i(331));var A=et;if(et|=4,a1(y.current),s1(y,y.current,w,o),et=A,kc(0,!1),tn&&typeof tn.onPostCommitFiberRoot=="function")try{tn.onPostCommitFiberRoot(fs,y)}catch{}return!0}finally{F.p=p,V.T=u,E1(s,r)}}function A1(s,r,o){r=Zn(o,r),r=lp(s.stateNode,r,2),s=xr(s,r,2),s!==null&&(aa(s,2),ti(s))}function it(s,r,o){if(s.tag===3)A1(s,s,o);else for(;r!==null;){if(r.tag===3){A1(r,s,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Sr===null||!Sr.has(u))){s=Zn(o,s),o=kb(2),u=xr(r,o,2),u!==null&&(Nb(o,u,r,s),aa(u,2),ti(u));break}}r=r.return}}function Dp(s,r,o){var u=s.pingCache;if(u===null){u=s.pingCache=new DC;var p=new Set;u.set(r,p)}else p=u.get(r),p===void 0&&(p=new Set,u.set(r,p));p.has(o)||(Sp=!0,p.add(o),s=LC.bind(null,s,r,o),r.then(s,s))}function LC(s,r,o){var u=s.pingCache;u!==null&&u.delete(r),s.pingedLanes|=s.suspendedLanes&o,s.warmLanes&=~o,ct===s&&(qe&o)===o&&(wt===4||wt===3&&(qe&62914560)===qe&&300>xn()-Gd?(et&2)===0&&Bo(s,0):Ap|=o,Uo===qe&&(Uo=0)),ti(s)}function k1(s,r){r===0&&(r=Ku()),s=ba(s,r),s!==null&&(aa(s,r),ti(s))}function UC(s){var r=s.memoizedState,o=0;r!==null&&(o=r.retryLane),k1(s,o)}function zC(s,r){var o=0;switch(s.tag){case 31:case 13:var u=s.stateNode,p=s.memoizedState;p!==null&&(o=p.retryLane);break;case 19:u=s.stateNode;break;case 22:u=s.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(r),k1(s,o)}function BC(s,r){return qt(s,r)}var Jd=null,Ho=null,Mp=!1,Zd=!1,Vp=!1,Nr=0;function ti(s){s!==Ho&&s.next===null&&(Ho===null?Jd=Ho=s:Ho=Ho.next=s),Zd=!0,Mp||(Mp=!0,HC())}function kc(s,r){if(!Vp&&Zd){Vp=!0;do for(var o=!1,u=Jd;u!==null;){if(s!==0){var p=u.pendingLanes;if(p===0)var y=0;else{var w=u.suspendedLanes,A=u.pingedLanes;y=(1<<31-Et(42|s)+1)-1,y&=p&~(w&~A),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(o=!0,I1(u,y))}else y=qe,y=Ps(u,u===ct?y:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(y&3)===0||ms(u,y)||(o=!0,I1(u,y));u=u.next}while(o);Vp=!1}}function FC(){N1()}function N1(){Zd=Mp=!1;var s=0;Nr!==0&&ZC()&&(s=Nr);for(var r=xn(),o=null,u=Jd;u!==null;){var p=u.next,y=C1(u,r);y===0?(u.next=null,o===null?Jd=p:o.next=p,p===null&&(Ho=o)):(o=u,(s!==0||(y&3)!==0)&&(Zd=!0)),u=p}Gt!==0&&Gt!==5||kc(s),Nr!==0&&(Nr=0)}function C1(s,r){for(var o=s.suspendedLanes,u=s.pingedLanes,p=s.expirationTimes,y=s.pendingLanes&-62914561;0<y;){var w=31-Et(y),A=1<<w,O=p[w];O===-1?((A&o)===0||(A&u)!==0)&&(p[w]=um(A,r)):O<=r&&(s.expiredLanes|=A),y&=~A}if(r=ct,o=qe,o=Ps(s,s===r?o:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u=s.callbackNode,o===0||s===r&&(st===2||st===9)||s.cancelPendingCommit!==null)return u!==null&&u!==null&&nr(u),s.callbackNode=null,s.callbackPriority=0;if((o&3)===0||ms(s,o)){if(r=o&-o,r===s.callbackPriority)return r;switch(u!==null&&nr(u),bi(o)){case 2:case 8:o=Pl;break;case 32:o=sr;break;case 268435456:o=Fu;break;default:o=sr}return u=R1.bind(null,s),o=qt(o,u),s.callbackPriority=r,s.callbackNode=o,r}return u!==null&&u!==null&&nr(u),s.callbackPriority=2,s.callbackNode=null,2}function R1(s,r){if(Gt!==0&&Gt!==5)return s.callbackNode=null,s.callbackPriority=0,null;var o=s.callbackNode;if(Wd()&&s.callbackNode!==o)return null;var u=qe;return u=Ps(s,s===ct?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u===0?null:(d1(s,u,r),C1(s,xn()),s.callbackNode!=null&&s.callbackNode===o?R1.bind(null,s):null)}function I1(s,r){if(Wd())return null;d1(s,r,!0)}function HC(){tR(function(){(et&6)!==0?qt(Ol,FC):N1()})}function Op(){if(Nr===0){var s=No;s===0&&(s=Vs,Vs<<=1,(Vs&261888)===0&&(Vs=256)),Nr=s}return Nr}function j1(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:fo(""+s)}function D1(s,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,s.id&&o.setAttribute("form",s.id),r.parentNode.insertBefore(o,r),s=new FormData(s),o.parentNode.removeChild(o),s}function qC(s,r,o,u,p){if(r==="submit"&&o&&o.stateNode===p){var y=j1((p[Qt]||null).action),w=u.submitter;w&&(r=(r=w[Qt]||null)?j1(r.formAction):w.getAttribute("formAction"),r!==null&&(y=r,w=null));var A=new Ys("action","action",null,u,p);s.push({event:A,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Nr!==0){var O=w?D1(p,w):new FormData(p);np(o,{pending:!0,data:O,method:p.method,action:y},null,O)}}else typeof y=="function"&&(A.preventDefault(),O=w?D1(p,w):new FormData(p),np(o,{pending:!0,data:O,method:p.method,action:y},y,O))},currentTarget:p}]})}}for(var Pp=0;Pp<xm.length;Pp++){var Lp=xm[Pp],GC=Lp.toLowerCase(),$C=Lp[0].toUpperCase()+Lp.slice(1);ws(GC,"on"+$C)}ws(ux,"onAnimationEnd"),ws(dx,"onAnimationIteration"),ws(hx,"onAnimationStart"),ws("dblclick","onDoubleClick"),ws("focusin","onFocus"),ws("focusout","onBlur"),ws(lC,"onTransitionRun"),ws(cC,"onTransitionStart"),ws(uC,"onTransitionCancel"),ws(fx,"onTransitionEnd"),qs("onMouseEnter",["mouseout","mouseover"]),qs("onMouseLeave",["mouseout","mouseover"]),qs("onPointerEnter",["pointerout","pointerover"]),qs("onPointerLeave",["pointerout","pointerover"]),Hs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Hs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Hs("onBeforeInput",["compositionend","keypress","textInput","paste"]),Hs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Hs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Hs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nc));function M1(s,r){r=(r&4)!==0;for(var o=0;o<s.length;o++){var u=s[o],p=u.event;u=u.listeners;e:{var y=void 0;if(r)for(var w=u.length-1;0<=w;w--){var A=u[w],O=A.instance,W=A.currentTarget;if(A=A.listener,O!==y&&p.isPropagationStopped())break e;y=A,p.currentTarget=W;try{y(p)}catch(ie){md(ie)}p.currentTarget=null,y=O}else for(w=0;w<u.length;w++){if(A=u[w],O=A.instance,W=A.currentTarget,A=A.listener,O!==y&&p.isPropagationStopped())break e;y=A,p.currentTarget=W;try{y(p)}catch(ie){md(ie)}p.currentTarget=null,y=O}}}}function He(s,r){var o=r[oo];o===void 0&&(o=r[oo]=new Set);var u=s+"__bubble";o.has(u)||(V1(r,s,2,!1),o.add(u))}function Up(s,r,o){var u=0;r&&(u|=4),V1(o,s,u,r)}var eh="_reactListening"+Math.random().toString(36).slice(2);function zp(s){if(!s[eh]){s[eh]=!0,zl.forEach(function(o){o!=="selectionchange"&&(KC.has(o)||Up(o,!1,s),Up(o,!0,s))});var r=s.nodeType===9?s:s.ownerDocument;r===null||r[eh]||(r[eh]=!0,Up("selectionchange",!1,r))}}function V1(s,r,o,u){switch(u_(r)){case 2:var p=_R;break;case 8:p=wR;break;default:p=tg}o=p.bind(null,r,o,s),p=void 0,!ha||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(p=!0),u?p!==void 0?s.addEventListener(r,o,{capture:!0,passive:p}):s.addEventListener(r,o,!0):p!==void 0?s.addEventListener(r,o,{passive:p}):s.addEventListener(r,o,!1)}function Bp(s,r,o,u,p){var y=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var w=u.tag;if(w===3||w===4){var A=u.stateNode.containerInfo;if(A===p)break;if(w===4)for(w=u.return;w!==null;){var O=w.tag;if((O===3||O===4)&&w.stateNode.containerInfo===p)return;w=w.return}for(;A!==null;){if(w=Bs(A),w===null)return;if(O=w.tag,O===5||O===6||O===26||O===27){u=y=w;continue e}A=A.parentNode}}u=u.return}cr(function(){var W=y,ie=Qn(o),ae=[];e:{var J=mx.get(s);if(J!==void 0){var te=Ys,xe=s;switch(s){case"keypress":if(ma(o)===0)break e;case"keydown":case"keyup":te=dd;break;case"focusin":xe="focus",te=ga;break;case"focusout":xe="blur",te=ga;break;case"beforeblur":case"afterblur":te=ga;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=Zl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=nd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=b;break;case ux:case dx:case hx:te=id;break;case fx:te=k;break;case"scroll":case"scrollend":te=Jl;break;case"wheel":te=ee;break;case"copy":case"cut":case"paste":te=rd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=Ti;break;case"toggle":case"beforetoggle":te=Le}var Re=(r&4)!==0,lt=!Re&&(s==="scroll"||s==="scrollend"),K=Re?J!==null?J+"Capture":null:J;Re=[];for(var B=W,X;B!==null;){var re=B;if(X=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||X===null||K===null||(re=vs(B,K),re!=null&&Re.push(Cc(B,re,X))),lt)break;B=B.return}0<Re.length&&(J=new te(J,xe,null,o,ie),ae.push({event:J,listeners:Re}))}}if((r&7)===0){e:{if(J=s==="mouseover"||s==="pointerover",te=s==="mouseout"||s==="pointerout",J&&o!==Ql&&(xe=o.relatedTarget||o.fromElement)&&(Bs(xe)||xe[Us]))break e;if((te||J)&&(J=ie.window===ie?ie:(J=ie.ownerDocument)?J.defaultView||J.parentWindow:window,te?(xe=o.relatedTarget||o.toElement,te=W,xe=xe?Bs(xe):null,xe!==null&&(lt=l(xe),Re=xe.tag,xe!==lt||Re!==5&&Re!==27&&Re!==6)&&(xe=null)):(te=null,xe=W),te!==xe)){if(Re=Zl,re="onMouseLeave",K="onMouseEnter",B="mouse",(s==="pointerout"||s==="pointerover")&&(Re=Ti,re="onPointerLeave",K="onPointerEnter",B="pointer"),lt=te==null?J:Vn(te),X=xe==null?J:Vn(xe),J=new Re(re,B+"leave",te,o,ie),J.target=lt,J.relatedTarget=X,re=null,Bs(ie)===W&&(Re=new Re(K,B+"enter",xe,o,ie),Re.target=X,Re.relatedTarget=lt,re=Re),lt=re,te&&xe)t:{for(Re=YC,K=te,B=xe,X=0,re=K;re;re=Re(re))X++;re=0;for(var Ne=B;Ne;Ne=Re(Ne))re++;for(;0<X-re;)K=Re(K),X--;for(;0<re-X;)B=Re(B),re--;for(;X--;){if(K===B||B!==null&&K===B.alternate){Re=K;break t}K=Re(K),B=Re(B)}Re=null}else Re=null;te!==null&&O1(ae,J,te,Re,!1),xe!==null&&lt!==null&&O1(ae,lt,xe,Re,!0)}}e:{if(J=W?Vn(W):window,te=J.nodeName&&J.nodeName.toLowerCase(),te==="select"||te==="input"&&J.type==="file")var We=Zv;else if(Wv(J))if(ex)We=rC;else{We=sC;var Se=nC}else te=J.nodeName,!te||te.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?W&&ho(W.elementType)&&(We=Zv):We=iC;if(We&&(We=We(s,W))){Jv(ae,We,o,ie);break e}Se&&Se(s,J,W),s==="focusout"&&W&&J.type==="number"&&W.memoizedProps.value!=null&&$l(J,"number",J.value)}switch(Se=W?Vn(W):window,s){case"focusin":(Wv(Se)||Se.contentEditable==="true")&&(bo=Se,gm=W,ic=null);break;case"focusout":ic=gm=bo=null;break;case"mousedown":ym=!0;break;case"contextmenu":case"mouseup":case"dragend":ym=!1,lx(ae,o,ie);break;case"selectionchange":if(oC)break;case"keydown":case"keyup":lx(ae,o,ie)}var ze;if(Ze)e:{switch(s){case"compositionstart":var Ge="onCompositionStart";break e;case"compositionend":Ge="onCompositionEnd";break e;case"compositionupdate":Ge="onCompositionUpdate";break e}Ge=void 0}else xo?ya(s,o)&&(Ge="onCompositionEnd"):s==="keydown"&&o.keyCode===229&&(Ge="onCompositionStart");Ge&&(Ws&&o.locale!=="ko"&&(xo||Ge!=="onCompositionStart"?Ge==="onCompositionEnd"&&xo&&(ze=Wl()):(Ks=ie,Xl="value"in Ks?Ks.value:Ks.textContent,xo=!0)),Se=th(W,Ge),0<Se.length&&(Ge=new Xs(Ge,s,null,o,ie),ae.push({event:Ge,listeners:Se}),ze?Ge.data=ze:(ze=vo(o),ze!==null&&(Ge.data=ze)))),(ze=Wn?JN(s,o):ZN(s,o))&&(Ge=th(W,"onBeforeInput"),0<Ge.length&&(Se=new Xs("onBeforeInput","beforeinput",null,o,ie),ae.push({event:Se,listeners:Ge}),Se.data=ze)),qC(ae,s,W,o,ie)}M1(ae,r)})}function Cc(s,r,o){return{instance:s,listener:r,currentTarget:o}}function th(s,r){for(var o=r+"Capture",u=[];s!==null;){var p=s,y=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||y===null||(p=vs(s,o),p!=null&&u.unshift(Cc(s,p,y)),p=vs(s,r),p!=null&&u.push(Cc(s,p,y))),s.tag===3)return u;s=s.return}return[]}function YC(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function O1(s,r,o,u,p){for(var y=r._reactName,w=[];o!==null&&o!==u;){var A=o,O=A.alternate,W=A.stateNode;if(A=A.tag,O!==null&&O===u)break;A!==5&&A!==26&&A!==27||W===null||(O=W,p?(W=vs(o,y),W!=null&&w.unshift(Cc(o,W,O))):p||(W=vs(o,y),W!=null&&w.push(Cc(o,W,O)))),o=o.return}w.length!==0&&s.push({event:r,listeners:w})}var QC=/\r\n?/g,XC=/\u0000|\uFFFD/g;function P1(s){return(typeof s=="string"?s:""+s).replace(QC,`
`).replace(XC,"")}function L1(s,r){return r=P1(r),P1(s)===r}function ot(s,r,o,u,p,y){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||Sn(s,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&Sn(s,""+u);break;case"className":On(s,"class",u);break;case"tabIndex":On(s,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":On(s,o,u);break;case"style":Yl(s,u,y);break;case"data":if(r!=="object"){On(s,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){s.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(o);break}u=fo(""+u),s.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){s.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(o==="formAction"?(r!=="input"&&ot(s,r,"name",p.name,p,null),ot(s,r,"formEncType",p.formEncType,p,null),ot(s,r,"formMethod",p.formMethod,p,null),ot(s,r,"formTarget",p.formTarget,p,null)):(ot(s,r,"encType",p.encType,p,null),ot(s,r,"method",p.method,p,null),ot(s,r,"target",p.target,p,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(o);break}u=fo(""+u),s.setAttribute(o,u);break;case"onClick":u!=null&&(s.onclick=ys);break;case"onScroll":u!=null&&He("scroll",s);break;case"onScrollEnd":u!=null&&He("scrollend",s);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(p.children!=null)throw Error(i(60));s.innerHTML=o}}break;case"multiple":s.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":s.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){s.removeAttribute("xlink:href");break}o=fo(""+u),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(o,""+u):s.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(o,""):s.removeAttribute(o);break;case"capture":case"download":u===!0?s.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(o,u):s.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?s.setAttribute(o,u):s.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?s.removeAttribute(o):s.setAttribute(o,u);break;case"popover":He("beforetoggle",s),He("toggle",s),co(s,"popover",u);break;case"xlinkActuate":Dt(s,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Dt(s,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Dt(s,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Dt(s,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Dt(s,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Dt(s,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Dt(s,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Dt(s,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Dt(s,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":co(s,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=td.get(o)||o,co(s,o,u))}}function Fp(s,r,o,u,p,y){switch(o){case"style":Yl(s,u,y);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(p.children!=null)throw Error(i(60));s.innerHTML=o}}break;case"children":typeof u=="string"?Sn(s,u):(typeof u=="number"||typeof u=="bigint")&&Sn(s,""+u);break;case"onScroll":u!=null&&He("scroll",s);break;case"onScrollEnd":u!=null&&He("scrollend",s);break;case"onClick":u!=null&&(s.onclick=ys);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Bl.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(p=o.endsWith("Capture"),r=o.slice(2,p?o.length-7:void 0),y=s[Qt]||null,y=y!=null?y[o]:null,typeof y=="function"&&s.removeEventListener(r,y,p),typeof u=="function")){typeof y!="function"&&y!==null&&(o in s?s[o]=null:s.hasAttribute(o)&&s.removeAttribute(o)),s.addEventListener(r,u,p);break e}o in s?s[o]=u:u===!0?s.setAttribute(o,""):co(s,o,u)}}}function on(s,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":He("error",s),He("load",s);var u=!1,p=!1,y;for(y in o)if(o.hasOwnProperty(y)){var w=o[y];if(w!=null)switch(y){case"src":u=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:ot(s,r,y,w,o,null)}}p&&ot(s,r,"srcSet",o.srcSet,o,null),u&&ot(s,r,"src",o.src,o,null);return;case"input":He("invalid",s);var A=y=w=p=null,O=null,W=null;for(u in o)if(o.hasOwnProperty(u)){var ie=o[u];if(ie!=null)switch(u){case"name":p=ie;break;case"type":w=ie;break;case"checked":O=ie;break;case"defaultChecked":W=ie;break;case"value":y=ie;break;case"defaultValue":A=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(i(137,r));break;default:ot(s,r,u,ie,o,null)}}Ju(s,y,A,O,W,w,p,!1);return;case"select":He("invalid",s),u=w=y=null;for(p in o)if(o.hasOwnProperty(p)&&(A=o[p],A!=null))switch(p){case"value":y=A;break;case"defaultValue":w=A;break;case"multiple":u=A;default:ot(s,r,p,A,o,null)}r=y,o=w,s.multiple=!!u,r!=null?rr(s,!!u,r,!1):o!=null&&rr(s,!!u,o,!0);return;case"textarea":He("invalid",s),y=p=u=null;for(w in o)if(o.hasOwnProperty(w)&&(A=o[w],A!=null))switch(w){case"value":u=A;break;case"defaultValue":p=A;break;case"children":y=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(i(91));break;default:ot(s,r,w,A,o,null)}ar(s,u,p,y);return;case"option":for(O in o)o.hasOwnProperty(O)&&(u=o[O],u!=null)&&(O==="selected"?s.selected=u&&typeof u!="function"&&typeof u!="symbol":ot(s,r,O,u,o,null));return;case"dialog":He("beforetoggle",s),He("toggle",s),He("cancel",s),He("close",s);break;case"iframe":case"object":He("load",s);break;case"video":case"audio":for(u=0;u<Nc.length;u++)He(Nc[u],s);break;case"image":He("error",s),He("load",s);break;case"details":He("toggle",s);break;case"embed":case"source":case"link":He("error",s),He("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(W in o)if(o.hasOwnProperty(W)&&(u=o[W],u!=null))switch(W){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:ot(s,r,W,u,o,null)}return;default:if(ho(r)){for(ie in o)o.hasOwnProperty(ie)&&(u=o[ie],u!==void 0&&Fp(s,r,ie,u,o,void 0));return}}for(A in o)o.hasOwnProperty(A)&&(u=o[A],u!=null&&ot(s,r,A,u,o,null))}function WC(s,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,y=null,w=null,A=null,O=null,W=null,ie=null;for(te in o){var ae=o[te];if(o.hasOwnProperty(te)&&ae!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":O=ae;default:u.hasOwnProperty(te)||ot(s,r,te,null,u,ae)}}for(var J in u){var te=u[J];if(ae=o[J],u.hasOwnProperty(J)&&(te!=null||ae!=null))switch(J){case"type":y=te;break;case"name":p=te;break;case"checked":W=te;break;case"defaultChecked":ie=te;break;case"value":w=te;break;case"defaultValue":A=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(i(137,r));break;default:te!==ae&&ot(s,r,J,te,u,ae)}}uo(s,w,A,O,W,ie,y,p);return;case"select":te=w=A=J=null;for(y in o)if(O=o[y],o.hasOwnProperty(y)&&O!=null)switch(y){case"value":break;case"multiple":te=O;default:u.hasOwnProperty(y)||ot(s,r,y,null,u,O)}for(p in u)if(y=u[p],O=o[p],u.hasOwnProperty(p)&&(y!=null||O!=null))switch(p){case"value":J=y;break;case"defaultValue":A=y;break;case"multiple":w=y;default:y!==O&&ot(s,r,p,y,u,O)}r=A,o=w,u=te,J!=null?rr(s,!!o,J,!1):!!u!=!!o&&(r!=null?rr(s,!!o,r,!0):rr(s,!!o,o?[]:"",!1));return;case"textarea":te=J=null;for(A in o)if(p=o[A],o.hasOwnProperty(A)&&p!=null&&!u.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:ot(s,r,A,null,u,p)}for(w in u)if(p=u[w],y=o[w],u.hasOwnProperty(w)&&(p!=null||y!=null))switch(w){case"value":J=p;break;case"defaultValue":te=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(i(91));break;default:p!==y&&ot(s,r,w,p,u,y)}Zu(s,J,te);return;case"option":for(var xe in o)J=o[xe],o.hasOwnProperty(xe)&&J!=null&&!u.hasOwnProperty(xe)&&(xe==="selected"?s.selected=!1:ot(s,r,xe,null,u,J));for(O in u)J=u[O],te=o[O],u.hasOwnProperty(O)&&J!==te&&(J!=null||te!=null)&&(O==="selected"?s.selected=J&&typeof J!="function"&&typeof J!="symbol":ot(s,r,O,J,u,te));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Re in o)J=o[Re],o.hasOwnProperty(Re)&&J!=null&&!u.hasOwnProperty(Re)&&ot(s,r,Re,null,u,J);for(W in u)if(J=u[W],te=o[W],u.hasOwnProperty(W)&&J!==te&&(J!=null||te!=null))switch(W){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,r));break;default:ot(s,r,W,J,u,te)}return;default:if(ho(r)){for(var lt in o)J=o[lt],o.hasOwnProperty(lt)&&J!==void 0&&!u.hasOwnProperty(lt)&&Fp(s,r,lt,void 0,u,J);for(ie in u)J=u[ie],te=o[ie],!u.hasOwnProperty(ie)||J===te||J===void 0&&te===void 0||Fp(s,r,ie,J,u,te);return}}for(var K in o)J=o[K],o.hasOwnProperty(K)&&J!=null&&!u.hasOwnProperty(K)&&ot(s,r,K,null,u,J);for(ae in u)J=u[ae],te=o[ae],!u.hasOwnProperty(ae)||J===te||J==null&&te==null||ot(s,r,ae,J,u,te)}function U1(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function JC(){if(typeof performance.getEntriesByType=="function"){for(var s=0,r=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var p=o[u],y=p.transferSize,w=p.initiatorType,A=p.duration;if(y&&A&&U1(w)){for(w=0,A=p.responseEnd,u+=1;u<o.length;u++){var O=o[u],W=O.startTime;if(W>A)break;var ie=O.transferSize,ae=O.initiatorType;ie&&U1(ae)&&(O=O.responseEnd,w+=ie*(O<A?1:(A-W)/(O-W)))}if(--u,r+=8*(y+w)/(p.duration/1e3),s++,10<s)break}}if(0<s)return r/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var Hp=null,qp=null;function nh(s){return s.nodeType===9?s:s.ownerDocument}function z1(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function B1(s,r){if(s===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&r==="foreignObject"?0:s}function Gp(s,r){return s==="textarea"||s==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var $p=null;function ZC(){var s=window.event;return s&&s.type==="popstate"?s===$p?!1:($p=s,!0):($p=null,!1)}var F1=typeof setTimeout=="function"?setTimeout:void 0,eR=typeof clearTimeout=="function"?clearTimeout:void 0,H1=typeof Promise=="function"?Promise:void 0,tR=typeof queueMicrotask=="function"?queueMicrotask:typeof H1<"u"?function(s){return H1.resolve(null).then(s).catch(nR)}:F1;function nR(s){setTimeout(function(){throw s})}function Cr(s){return s==="head"}function q1(s,r){var o=r,u=0;do{var p=o.nextSibling;if(s.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"||o==="/&"){if(u===0){s.removeChild(p),Ko(r);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")Rc(s.ownerDocument.documentElement);else if(o==="head"){o=s.ownerDocument.head,Rc(o);for(var y=o.firstChild;y;){var w=y.nextSibling,A=y.nodeName;y[zs]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&y.rel.toLowerCase()==="stylesheet"||o.removeChild(y),y=w}}else o==="body"&&Rc(s.ownerDocument.body);o=p}while(o);Ko(r)}function G1(s,r){var o=s;s=0;do{var u=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(s===0)break;s--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||s++;o=u}while(o)}function Kp(s){var r=s.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Kp(o),lo(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}s.removeChild(o)}}function sR(s,r,o,u){for(;s.nodeType===1;){var p=o;if(s.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(u){if(!s[zs])switch(r){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(y=s.getAttribute("rel"),y==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(y!==p.rel||s.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||s.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||s.getAttribute("title")!==(p.title==null?null:p.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(y=s.getAttribute("src"),(y!==(p.src==null?null:p.src)||s.getAttribute("type")!==(p.type==null?null:p.type)||s.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&y&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(r==="input"&&s.type==="hidden"){var y=p.name==null?null:""+p.name;if(p.type==="hidden"&&s.getAttribute("name")===y)return s}else return s;if(s=is(s.nextSibling),s===null)break}return null}function iR(s,r,o){if(r==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!o||(s=is(s.nextSibling),s===null))return null;return s}function $1(s,r){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!r||(s=is(s.nextSibling),s===null))return null;return s}function Yp(s){return s.data==="$?"||s.data==="$~"}function Qp(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function rR(s,r){var o=s.ownerDocument;if(s.data==="$~")s._reactRetry=r;else if(s.data!=="$?"||o.readyState!=="loading")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),s._reactRetry=u}}function is(s){for(;s!=null;s=s.nextSibling){var r=s.nodeType;if(r===1||r===3)break;if(r===8){if(r=s.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return s}var Xp=null;function K1(s){s=s.nextSibling;for(var r=0;s;){if(s.nodeType===8){var o=s.data;if(o==="/$"||o==="/&"){if(r===0)return is(s.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}s=s.nextSibling}return null}function Y1(s){s=s.previousSibling;for(var r=0;s;){if(s.nodeType===8){var o=s.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return s;r--}else o!=="/$"&&o!=="/&"||r++}s=s.previousSibling}return null}function Q1(s,r,o){switch(r=nh(o),s){case"html":if(s=r.documentElement,!s)throw Error(i(452));return s;case"head":if(s=r.head,!s)throw Error(i(453));return s;case"body":if(s=r.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function Rc(s){for(var r=s.attributes;r.length;)s.removeAttributeNode(r[0]);lo(s)}var rs=new Map,X1=new Set;function sh(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Li=F.d;F.d={f:aR,r:oR,D:lR,C:cR,L:uR,m:dR,X:fR,S:hR,M:mR};function aR(){var s=Li.f(),r=Yd();return s||r}function oR(s){var r=Yn(s);r!==null&&r.tag===5&&r.type==="form"?fb(r):Li.r(s)}var qo=typeof document>"u"?null:document;function W1(s,r,o){var u=qo;if(u&&typeof r=="string"&&r){var p=En(r);p='link[rel="'+s+'"][href="'+p+'"]',typeof o=="string"&&(p+='[crossorigin="'+o+'"]'),X1.has(p)||(X1.add(p),s={rel:s,crossOrigin:o,href:r},u.querySelector(p)===null&&(r=u.createElement("link"),on(r,"link",s),jt(r),u.head.appendChild(r)))}}function lR(s){Li.D(s),W1("dns-prefetch",s,null)}function cR(s,r){Li.C(s,r),W1("preconnect",s,r)}function uR(s,r,o){Li.L(s,r,o);var u=qo;if(u&&s&&r){var p='link[rel="preload"][as="'+En(r)+'"]';r==="image"&&o&&o.imageSrcSet?(p+='[imagesrcset="'+En(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(p+='[imagesizes="'+En(o.imageSizes)+'"]')):p+='[href="'+En(s)+'"]';var y=p;switch(r){case"style":y=Go(s);break;case"script":y=$o(s)}rs.has(y)||(s=x({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:s,as:r},o),rs.set(y,s),u.querySelector(p)!==null||r==="style"&&u.querySelector(Ic(y))||r==="script"&&u.querySelector(jc(y))||(r=u.createElement("link"),on(r,"link",s),jt(r),u.head.appendChild(r)))}}function dR(s,r){Li.m(s,r);var o=qo;if(o&&s){var u=r&&typeof r.as=="string"?r.as:"script",p='link[rel="modulepreload"][as="'+En(u)+'"][href="'+En(s)+'"]',y=p;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=$o(s)}if(!rs.has(y)&&(s=x({rel:"modulepreload",href:s},r),rs.set(y,s),o.querySelector(p)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(jc(y)))return}u=o.createElement("link"),on(u,"link",s),jt(u),o.head.appendChild(u)}}}function hR(s,r,o){Li.S(s,r,o);var u=qo;if(u&&s){var p=Fs(u).hoistableStyles,y=Go(s);r=r||"default";var w=p.get(y);if(!w){var A={loading:0,preload:null};if(w=u.querySelector(Ic(y)))A.loading=5;else{s=x({rel:"stylesheet",href:s,"data-precedence":r},o),(o=rs.get(y))&&Wp(s,o);var O=w=u.createElement("link");jt(O),on(O,"link",s),O._p=new Promise(function(W,ie){O.onload=W,O.onerror=ie}),O.addEventListener("load",function(){A.loading|=1}),O.addEventListener("error",function(){A.loading|=2}),A.loading|=4,ih(w,r,u)}w={type:"stylesheet",instance:w,count:1,state:A},p.set(y,w)}}}function fR(s,r){Li.X(s,r);var o=qo;if(o&&s){var u=Fs(o).hoistableScripts,p=$o(s),y=u.get(p);y||(y=o.querySelector(jc(p)),y||(s=x({src:s,async:!0},r),(r=rs.get(p))&&Jp(s,r),y=o.createElement("script"),jt(y),on(y,"link",s),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(p,y))}}function mR(s,r){Li.M(s,r);var o=qo;if(o&&s){var u=Fs(o).hoistableScripts,p=$o(s),y=u.get(p);y||(y=o.querySelector(jc(p)),y||(s=x({src:s,async:!0,type:"module"},r),(r=rs.get(p))&&Jp(s,r),y=o.createElement("script"),jt(y),on(y,"link",s),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(p,y))}}function J1(s,r,o,u){var p=(p=je.current)?sh(p):null;if(!p)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=Go(o.href),o=Fs(p).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){s=Go(o.href);var y=Fs(p).hoistableStyles,w=y.get(s);if(w||(p=p.ownerDocument||p,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(s,w),(y=p.querySelector(Ic(s)))&&!y._p&&(w.instance=y,w.state.loading=5),rs.has(s)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},rs.set(s,o),y||pR(p,s,o,w.state))),r&&u===null)throw Error(i(528,""));return w}if(r&&u!==null)throw Error(i(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=$o(o),o=Fs(p).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function Go(s){return'href="'+En(s)+'"'}function Ic(s){return'link[rel="stylesheet"]['+s+"]"}function Z1(s){return x({},s,{"data-precedence":s.precedence,precedence:null})}function pR(s,r,o,u){s.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=s.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),on(r,"link",o),jt(r),s.head.appendChild(r))}function $o(s){return'[src="'+En(s)+'"]'}function jc(s){return"script[async]"+s}function e_(s,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=s.querySelector('style[data-href~="'+En(o.href)+'"]');if(u)return r.instance=u,jt(u),u;var p=x({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(s.ownerDocument||s).createElement("style"),jt(u),on(u,"style",p),ih(u,o.precedence,s),r.instance=u;case"stylesheet":p=Go(o.href);var y=s.querySelector(Ic(p));if(y)return r.state.loading|=4,r.instance=y,jt(y),y;u=Z1(o),(p=rs.get(p))&&Wp(u,p),y=(s.ownerDocument||s).createElement("link"),jt(y);var w=y;return w._p=new Promise(function(A,O){w.onload=A,w.onerror=O}),on(y,"link",u),r.state.loading|=4,ih(y,o.precedence,s),r.instance=y;case"script":return y=$o(o.src),(p=s.querySelector(jc(y)))?(r.instance=p,jt(p),p):(u=o,(p=rs.get(y))&&(u=x({},o),Jp(u,p)),s=s.ownerDocument||s,p=s.createElement("script"),jt(p),on(p,"link",u),s.head.appendChild(p),r.instance=p);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,ih(u,o.precedence,s));return r.instance}function ih(s,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=u.length?u[u.length-1]:null,y=p,w=0;w<u.length;w++){var A=u[w];if(A.dataset.precedence===r)y=A;else if(y!==p)break}y?y.parentNode.insertBefore(s,y.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(s,r.firstChild))}function Wp(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.title==null&&(s.title=r.title)}function Jp(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.integrity==null&&(s.integrity=r.integrity)}var rh=null;function t_(s,r,o){if(rh===null){var u=new Map,p=rh=new Map;p.set(o,u)}else p=rh,u=p.get(o),u||(u=new Map,p.set(o,u));if(u.has(s))return u;for(u.set(s,null),o=o.getElementsByTagName(s),p=0;p<o.length;p++){var y=o[p];if(!(y[zs]||y[It]||s==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var w=y.getAttribute(r)||"";w=s+w;var A=u.get(w);A?A.push(y):u.set(w,[y])}}return u}function n_(s,r,o){s=s.ownerDocument||s,s.head.insertBefore(o,r==="title"?s.querySelector("head > title"):null)}function gR(s,r,o){if(o===1||r.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(s=r.disabled,typeof r.precedence=="string"&&s==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function s_(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function yR(s,r,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var p=Go(u.href),y=r.querySelector(Ic(p));if(y){r=y._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(s.count++,s=ah.bind(s),r.then(s,s)),o.state.loading|=4,o.instance=y,jt(y);return}y=r.ownerDocument||r,u=Z1(u),(p=rs.get(p))&&Wp(u,p),y=y.createElement("link"),jt(y);var w=y;w._p=new Promise(function(A,O){w.onload=A,w.onerror=O}),on(y,"link",u),o.instance=y}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(s.count++,o=ah.bind(s),r.addEventListener("load",o),r.addEventListener("error",o))}}var Zp=0;function vR(s,r){return s.stylesheets&&s.count===0&&lh(s,s.stylesheets),0<s.count||0<s.imgCount?function(o){var u=setTimeout(function(){if(s.stylesheets&&lh(s,s.stylesheets),s.unsuspend){var y=s.unsuspend;s.unsuspend=null,y()}},6e4+r);0<s.imgBytes&&Zp===0&&(Zp=62500*JC());var p=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&lh(s,s.stylesheets),s.unsuspend)){var y=s.unsuspend;s.unsuspend=null,y()}},(s.imgBytes>Zp?50:800)+r);return s.unsuspend=o,function(){s.unsuspend=null,clearTimeout(u),clearTimeout(p)}}:null}function ah(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)lh(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var oh=null;function lh(s,r){s.stylesheets=null,s.unsuspend!==null&&(s.count++,oh=new Map,r.forEach(xR,s),oh=null,ah.call(s))}function xR(s,r){if(!(r.state.loading&4)){var o=oh.get(s);if(o)var u=o.get(null);else{o=new Map,oh.set(s,o);for(var p=s.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<p.length;y++){var w=p[y];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(o.set(w.dataset.precedence,w),u=w)}u&&o.set(null,u)}p=r.instance,w=p.getAttribute("data-precedence"),y=o.get(w)||u,y===u&&o.set(null,p),o.set(w,p),this.count++,u=ah.bind(this),p.addEventListener("load",u),p.addEventListener("error",u),y?y.parentNode.insertBefore(p,y.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(p,s.firstChild)),r.state.loading|=4}}var Dc={$$typeof:$,Provider:null,Consumer:null,_currentValue:G,_currentValue2:G,_threadCount:0};function bR(s,r,o,u,p,y,w,A,O){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ls(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ls(0),this.hiddenUpdates=Ls(null),this.identifierPrefix=u,this.onUncaughtError=p,this.onCaughtError=y,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function i_(s,r,o,u,p,y,w,A,O,W,ie,ae){return s=new bR(s,r,o,w,O,W,ie,ae,A),r=1,y===!0&&(r|=24),y=Ln(3,null,null,r),s.current=y,y.stateNode=s,r=jm(),r.refCount++,s.pooledCache=r,r.refCount++,y.memoizedState={element:u,isDehydrated:o,cache:r},Om(y),s}function r_(s){return s?(s=To,s):To}function a_(s,r,o,u,p,y){p=r_(p),u.context===null?u.context=p:u.pendingContext=p,u=vr(r),u.payload={element:o},y=y===void 0?null:y,y!==null&&(u.callback=y),o=xr(s,u,r),o!==null&&(Rn(o,s,r),dc(o,s,r))}function o_(s,r){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var o=s.retryLane;s.retryLane=o!==0&&o<r?o:r}}function eg(s,r){o_(s,r),(s=s.alternate)&&o_(s,r)}function l_(s){if(s.tag===13||s.tag===31){var r=ba(s,67108864);r!==null&&Rn(r,s,67108864),eg(s,67108864)}}function c_(s){if(s.tag===13||s.tag===31){var r=Hn();r=la(r);var o=ba(s,r);o!==null&&Rn(o,s,r),eg(s,r)}}var ch=!0;function _R(s,r,o,u){var p=V.T;V.T=null;var y=F.p;try{F.p=2,tg(s,r,o,u)}finally{F.p=y,V.T=p}}function wR(s,r,o,u){var p=V.T;V.T=null;var y=F.p;try{F.p=8,tg(s,r,o,u)}finally{F.p=y,V.T=p}}function tg(s,r,o,u){if(ch){var p=ng(u);if(p===null)Bp(s,r,u,uh,o),d_(s,u);else if(ER(p,s,r,o,u))u.stopPropagation();else if(d_(s,u),r&4&&-1<TR.indexOf(s)){for(;p!==null;){var y=Yn(p);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var w=Os(y.pendingLanes);if(w!==0){var A=y;for(A.pendingLanes|=2,A.entangledLanes|=2;w;){var O=1<<31-Et(w);A.entanglements[1]|=O,w&=~O}ti(y),(et&6)===0&&($d=xn()+500,kc(0))}}break;case 31:case 13:A=ba(y,2),A!==null&&Rn(A,y,2),Yd(),eg(y,2)}if(y=ng(u),y===null&&Bp(s,r,u,uh,o),y===p)break;p=y}p!==null&&u.stopPropagation()}else Bp(s,r,u,null,o)}}function ng(s){return s=Qn(s),sg(s)}var uh=null;function sg(s){if(uh=null,s=Bs(s),s!==null){var r=l(s);if(r===null)s=null;else{var o=r.tag;if(o===13){if(s=c(r),s!==null)return s;s=null}else if(o===31){if(s=d(r),s!==null)return s;s=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;s=null}else r!==s&&(s=null)}}return uh=s,null}function u_(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ia()){case Ol:return 2;case Pl:return 8;case sr:case cm:return 32;case Fu:return 268435456;default:return 32}default:return 32}}var ig=!1,Rr=null,Ir=null,jr=null,Mc=new Map,Vc=new Map,Dr=[],TR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function d_(s,r){switch(s){case"focusin":case"focusout":Rr=null;break;case"dragenter":case"dragleave":Ir=null;break;case"mouseover":case"mouseout":jr=null;break;case"pointerover":case"pointerout":Mc.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vc.delete(r.pointerId)}}function Oc(s,r,o,u,p,y){return s===null||s.nativeEvent!==y?(s={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:y,targetContainers:[p]},r!==null&&(r=Yn(r),r!==null&&l_(r)),s):(s.eventSystemFlags|=u,r=s.targetContainers,p!==null&&r.indexOf(p)===-1&&r.push(p),s)}function ER(s,r,o,u,p){switch(r){case"focusin":return Rr=Oc(Rr,s,r,o,u,p),!0;case"dragenter":return Ir=Oc(Ir,s,r,o,u,p),!0;case"mouseover":return jr=Oc(jr,s,r,o,u,p),!0;case"pointerover":var y=p.pointerId;return Mc.set(y,Oc(Mc.get(y)||null,s,r,o,u,p)),!0;case"gotpointercapture":return y=p.pointerId,Vc.set(y,Oc(Vc.get(y)||null,s,r,o,u,p)),!0}return!1}function h_(s){var r=Bs(s.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){s.blockedOn=r,ps(s.priority,function(){c_(o)});return}}else if(r===31){if(r=d(o),r!==null){s.blockedOn=r,ps(s.priority,function(){c_(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){s.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}s.blockedOn=null}function dh(s){if(s.blockedOn!==null)return!1;for(var r=s.targetContainers;0<r.length;){var o=ng(s.nativeEvent);if(o===null){o=s.nativeEvent;var u=new o.constructor(o.type,o);Ql=u,o.target.dispatchEvent(u),Ql=null}else return r=Yn(o),r!==null&&l_(r),s.blockedOn=o,!1;r.shift()}return!0}function f_(s,r,o){dh(s)&&o.delete(r)}function SR(){ig=!1,Rr!==null&&dh(Rr)&&(Rr=null),Ir!==null&&dh(Ir)&&(Ir=null),jr!==null&&dh(jr)&&(jr=null),Mc.forEach(f_),Vc.forEach(f_)}function hh(s,r){s.blockedOn===r&&(s.blockedOn=null,ig||(ig=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,SR)))}var fh=null;function m_(s){fh!==s&&(fh=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){fh===s&&(fh=null);for(var r=0;r<s.length;r+=3){var o=s[r],u=s[r+1],p=s[r+2];if(typeof u!="function"){if(sg(u||o)===null)continue;break}var y=Yn(o);y!==null&&(s.splice(r,3),r-=3,np(y,{pending:!0,data:p,method:o.method,action:u},u,p))}}))}function Ko(s){function r(O){return hh(O,s)}Rr!==null&&hh(Rr,s),Ir!==null&&hh(Ir,s),jr!==null&&hh(jr,s),Mc.forEach(r),Vc.forEach(r);for(var o=0;o<Dr.length;o++){var u=Dr[o];u.blockedOn===s&&(u.blockedOn=null)}for(;0<Dr.length&&(o=Dr[0],o.blockedOn===null);)h_(o),o.blockedOn===null&&Dr.shift();if(o=(s.ownerDocument||s).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var p=o[u],y=o[u+1],w=p[Qt]||null;if(typeof y=="function")w||m_(o);else if(w){var A=null;if(y&&y.hasAttribute("formAction")){if(p=y,w=y[Qt]||null)A=w.formAction;else if(sg(p)!==null)continue}else A=w.action;typeof A=="function"?o[u+1]=A:(o.splice(u,3),u-=3),m_(o)}}}function p_(){function s(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(w){return p=w})},focusReset:"manual",scroll:"manual"})}function r(){p!==null&&(p(),p=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,p=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),p!==null&&(p(),p=null)}}}function rg(s){this._internalRoot=s}mh.prototype.render=rg.prototype.render=function(s){var r=this._internalRoot;if(r===null)throw Error(i(409));var o=r.current,u=Hn();a_(o,u,s,r,null,null)},mh.prototype.unmount=rg.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var r=s.containerInfo;a_(s.current,2,null,s,null,null),Yd(),r[Us]=null}};function mh(s){this._internalRoot=s}mh.prototype.unstable_scheduleHydration=function(s){if(s){var r=Yu();s={blockedOn:null,target:s,priority:r};for(var o=0;o<Dr.length&&r!==0&&r<Dr[o].priority;o++);Dr.splice(o,0,s),o===0&&h_(s)}};var g_=e.version;if(g_!=="19.2.4")throw Error(i(527,g_,"19.2.4"));F.findDOMNode=function(s){var r=s._reactInternals;if(r===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=g(r),s=s!==null?v(s):null,s=s===null?null:s.stateNode,s};var AR={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:V,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ph=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ph.isDisabled&&ph.supportsFiber)try{fs=ph.inject(AR),tn=ph}catch{}}return Lc.createRoot=function(s,r){if(!a(s))throw Error(i(299));var o=!1,u="",p=Tb,y=Eb,w=Sb;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(p=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(w=r.onRecoverableError)),r=i_(s,1,!1,null,null,o,u,null,p,y,w,p_),s[Us]=r.current,zp(s),new rg(r)},Lc.hydrateRoot=function(s,r,o){if(!a(s))throw Error(i(299));var u=!1,p="",y=Tb,w=Eb,A=Sb,O=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.formState!==void 0&&(O=o.formState)),r=i_(s,1,!0,r,o??null,u,p,O,y,w,A,p_),r.context=r_(null),o=r.current,u=Hn(),u=la(u),p=vr(u),p.callback=null,xr(o,p,u),o=u,r.current.lanes=o,aa(r,o),ti(r),s[Us]=r.current,zp(s),new mh(r)},Lc.version="19.2.4",Lc}var A_;function VR(){if(A_)return lg.exports;A_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),lg.exports=MR(),lg.exports}var OR=VR();const PR=BE(OR);var k_="popstate";function LR(t={}){function e(i,a){let{pathname:l,search:c,hash:d}=i.location;return Jg("",{pathname:l,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){return typeof a=="string"?a:ou(a)}return zR(e,n,null,t)}function yt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ds(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function UR(){return Math.random().toString(36).substring(2,10)}function N_(t,e){return{usr:t.state,key:t.key,idx:e}}function Jg(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?bl(e):e,state:n,key:e&&e.key||i||UR()}}function ou({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function bl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function zR(t,e,n,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,c=a.history,d="POP",m=null,g=v();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function v(){return(c.state||{idx:null}).idx}function x(){d="POP";let j=v(),L=j==null?null:j-g;g=j,m&&m({action:d,location:D.location,delta:L})}function _(j,L){d="PUSH";let q=Jg(D.location,j,L);g=v()+1;let $=N_(q,g),Z=D.createHref(q);try{c.pushState($,"",Z)}catch(ne){if(ne instanceof DOMException&&ne.name==="DataCloneError")throw ne;a.location.assign(Z)}l&&m&&m({action:d,location:D.location,delta:1})}function E(j,L){d="REPLACE";let q=Jg(D.location,j,L);g=v();let $=N_(q,g),Z=D.createHref(q);c.replaceState($,"",Z),l&&m&&m({action:d,location:D.location,delta:0})}function R(j){return BR(j)}let D={get action(){return d},get location(){return t(a,c)},listen(j){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(k_,x),m=j,()=>{a.removeEventListener(k_,x),m=null}},createHref(j){return e(a,j)},createURL:R,encodeLocation(j){let L=R(j);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:_,replace:E,go(j){return c.go(j)}};return D}function BR(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),yt(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:ou(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function qE(t,e,n="/"){return FR(t,e,n,!1)}function FR(t,e,n,i){let a=typeof e=="string"?bl(e):e,l=Ki(a.pathname||"/",n);if(l==null)return null;let c=GE(t);HR(c);let d=null;for(let m=0;d==null&&m<c.length;++m){let g=eI(l);d=JR(c[m],g,i)}return d}function GE(t,e=[],n=[],i="",a=!1){let l=(c,d,m=a,g)=>{let v={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(i)&&m)return;yt(v.relativePath.startsWith(i),`Absolute route path "${v.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(i.length)}let x=Hi([i,v.relativePath]),_=n.concat(v);c.children&&c.children.length>0&&(yt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),GE(c.children,e,_,x,m)),!(c.path==null&&!c.index)&&e.push({path:x,score:XR(x,c.index),routesMeta:_})};return t.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))l(c,d);else for(let m of $E(c.path))l(c,d,!0,m)}),e}function $E(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let c=$E(i.join("/")),d=[];return d.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&d.push(...c),d.map(m=>t.startsWith("/")&&m===""?"/":m)}function HR(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:WR(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var qR=/^:[\w-]+$/,GR=3,$R=2,KR=1,YR=10,QR=-2,C_=t=>t==="*";function XR(t,e){let n=t.split("/"),i=n.length;return n.some(C_)&&(i+=QR),e&&(i+=$R),n.filter(a=>!C_(a)).reduce((a,l)=>a+(qR.test(l)?GR:l===""?KR:YR),i)}function WR(t,e){return t.length===e.length&&t.slice(0,-1).every((i,a)=>i===e[a])?t[t.length-1]-e[e.length-1]:0}function JR(t,e,n=!1){let{routesMeta:i}=t,a={},l="/",c=[];for(let d=0;d<i.length;++d){let m=i[d],g=d===i.length-1,v=l==="/"?e:e.slice(l.length)||"/",x=Wh({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},v),_=m.route;if(!x&&g&&n&&!i[i.length-1].route.index&&(x=Wh({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},v)),!x)return null;Object.assign(a,x.params),c.push({params:a,pathname:Hi([l,x.pathname]),pathnameBase:iI(Hi([l,x.pathnameBase])),route:_}),x.pathnameBase!=="/"&&(l=Hi([l,x.pathnameBase]))}return c}function Wh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=ZR(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:i.reduce((g,{paramName:v,isOptional:x},_)=>{if(v==="*"){let R=d[_]||"";c=l.slice(0,l.length-R.length).replace(/(.)\/+$/,"$1")}const E=d[_];return x&&!E?g[v]=void 0:g[v]=(E||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:t}}function ZR(t,e=!1,n=!0){Ds(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,m)=>(i.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function eI(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ds(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ki(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}var tI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function nI(t,e="/"){let{pathname:n,search:i="",hash:a=""}=typeof t=="string"?bl(t):t,l;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?l=R_(n.substring(1),"/"):l=R_(n,e)):l=e,{pathname:l,search:rI(i),hash:aI(a)}}function R_(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function hg(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function sI(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function sy(t){let e=sI(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function iy(t,e,n,i=!1){let a;typeof t=="string"?a=bl(t):(a={...t},yt(!a.pathname||!a.pathname.includes("?"),hg("?","pathname","search",a)),yt(!a.pathname||!a.pathname.includes("#"),hg("#","pathname","hash",a)),yt(!a.search||!a.search.includes("#"),hg("#","search","hash",a)));let l=t===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=n;else{let x=e.length-1;if(!i&&c.startsWith("..")){let _=c.split("/");for(;_[0]==="..";)_.shift(),x-=1;a.pathname=_.join("/")}d=x>=0?e[x]:"/"}let m=nI(a,d),g=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(g||v)&&(m.pathname+="/"),m}var Hi=t=>t.join("/").replace(/\/\/+/g,"/"),iI=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),rI=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,aI=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,oI=class{constructor(t,e,n,i=!1){this.status=t,this.statusText=e||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function lI(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function cI(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var KE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function YE(t,e){let n=t;if(typeof n!="string"||!tI.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let i=n,a=!1;if(KE)try{let l=new URL(window.location.href),c=n.startsWith("//")?new URL(l.protocol+n):new URL(n),d=Ki(c.pathname,e);c.origin===l.origin&&d!=null?n=d+c.search+c.hash:a=!0}catch{Ds(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var QE=["POST","PUT","PATCH","DELETE"];new Set(QE);var uI=["GET",...QE];new Set(uI);var _l=N.createContext(null);_l.displayName="DataRouter";var jf=N.createContext(null);jf.displayName="DataRouterState";var dI=N.createContext(!1),XE=N.createContext({isTransitioning:!1});XE.displayName="ViewTransition";var hI=N.createContext(new Map);hI.displayName="Fetchers";var fI=N.createContext(null);fI.displayName="Await";var Gn=N.createContext(null);Gn.displayName="Navigation";var Tu=N.createContext(null);Tu.displayName="Location";var ds=N.createContext({outlet:null,matches:[],isDataRoute:!1});ds.displayName="Route";var ry=N.createContext(null);ry.displayName="RouteError";var WE="REACT_ROUTER_ERROR",mI="REDIRECT",pI="ROUTE_ERROR_RESPONSE";function gI(t){if(t.startsWith(`${WE}:${mI}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function yI(t){if(t.startsWith(`${WE}:${pI}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new oI(e.status,e.statusText,e.data)}catch{}}function vI(t,{relative:e}={}){yt(wl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=N.useContext(Gn),{hash:a,pathname:l,search:c}=Eu(t,{relative:e}),d=l;return n!=="/"&&(d=l==="/"?n:Hi([n,l])),i.createHref({pathname:d,search:c,hash:a})}function wl(){return N.useContext(Tu)!=null}function Zi(){return yt(wl(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(Tu).location}var JE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ZE(t){N.useContext(Gn).static||N.useLayoutEffect(t)}function Df(){let{isDataRoute:t}=N.useContext(ds);return t?MI():xI()}function xI(){yt(wl(),"useNavigate() may be used only in the context of a <Router> component.");let t=N.useContext(_l),{basename:e,navigator:n}=N.useContext(Gn),{matches:i}=N.useContext(ds),{pathname:a}=Zi(),l=JSON.stringify(sy(i)),c=N.useRef(!1);return ZE(()=>{c.current=!0}),N.useCallback((m,g={})=>{if(Ds(c.current,JE),!c.current)return;if(typeof m=="number"){n.go(m);return}let v=iy(m,JSON.parse(l),a,g.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Hi([e,v.pathname])),(g.replace?n.replace:n.push)(v,g.state,g)},[e,n,l,a,t])}var bI=N.createContext(null);function _I(t){let e=N.useContext(ds).outlet;return N.useMemo(()=>e&&N.createElement(bI.Provider,{value:t},e),[e,t])}function wI(){let{matches:t}=N.useContext(ds),e=t[t.length-1];return e?e.params:{}}function Eu(t,{relative:e}={}){let{matches:n}=N.useContext(ds),{pathname:i}=Zi(),a=JSON.stringify(sy(n));return N.useMemo(()=>iy(t,JSON.parse(a),i,e==="path"),[t,a,i,e])}function TI(t,e){return eS(t,e)}function eS(t,e,n,i,a){yt(wl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=N.useContext(Gn),{matches:c}=N.useContext(ds),d=c[c.length-1],m=d?d.params:{},g=d?d.pathname:"/",v=d?d.pathnameBase:"/",x=d&&d.route;{let q=x&&x.path||"";nS(g,!x||q.endsWith("*")||q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${q}"> to <Route path="${q==="/"?"*":`${q}/*`}">.`)}let _=Zi(),E;if(e){let q=typeof e=="string"?bl(e):e;yt(v==="/"||q.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${q.pathname}" was given in the \`location\` prop.`),E=q}else E=_;let R=E.pathname||"/",D=R;if(v!=="/"){let q=v.replace(/^\//,"").split("/");D="/"+R.replace(/^\//,"").split("/").slice(q.length).join("/")}let j=qE(t,{pathname:D});Ds(x||j!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),Ds(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let L=NI(j&&j.map(q=>Object.assign({},q,{params:Object.assign({},m,q.params),pathname:Hi([v,l.encodeLocation?l.encodeLocation(q.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?v:Hi([v,l.encodeLocation?l.encodeLocation(q.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:q.pathnameBase])})),c,n,i,a);return e&&L?N.createElement(Tu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},L):L}function EI(){let t=DI(),e=lI(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=N.createElement(N.Fragment,null,N.createElement("p",null," Hey developer "),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:l},"ErrorBoundary")," or"," ",N.createElement("code",{style:l},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),n?N.createElement("pre",{style:a},n):null,c)}var SI=N.createElement(EI,null),tS=class extends N.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=yI(t.digest);n&&(t=n)}let e=t!==void 0?N.createElement(ds.Provider,{value:this.props.routeContext},N.createElement(ry.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?N.createElement(AI,{error:t},e):e}};tS.contextType=dI;var fg=new WeakMap;function AI({children:t,error:e}){let{basename:n}=N.useContext(Gn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=gI(e.digest);if(i){let a=fg.get(e);if(a)throw a;let l=YE(i.location,n);if(KE&&!fg.get(e))if(l.isExternal||i.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:i.replace}));throw fg.set(e,c),c}return N.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return t}function kI({routeContext:t,match:e,children:n}){let i=N.useContext(_l);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),N.createElement(ds.Provider,{value:t},n)}function NI(t,e=[],n=null,i=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,c=n?.errors;if(c!=null){let v=l.findIndex(x=>x.route.id&&c?.[x.route.id]!==void 0);yt(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,v+1))}let d=!1,m=-1;if(n)for(let v=0;v<l.length;v++){let x=l[v];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(m=v),x.route.id){let{loaderData:_,errors:E}=n,R=x.route.loader&&!_.hasOwnProperty(x.route.id)&&(!E||E[x.route.id]===void 0);if(x.route.lazy||R){d=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}let g=n&&i?(v,x)=>{i(v,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:cI(n.matches),errorInfo:x})}:void 0;return l.reduceRight((v,x,_)=>{let E,R=!1,D=null,j=null;n&&(E=c&&x.route.id?c[x.route.id]:void 0,D=x.route.errorElement||SI,d&&(m<0&&_===0?(nS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),R=!0,j=null):m===_&&(R=!0,j=x.route.hydrateFallbackElement||null)));let L=e.concat(l.slice(0,_+1)),q=()=>{let $;return E?$=D:R?$=j:x.route.Component?$=N.createElement(x.route.Component,null):x.route.element?$=x.route.element:$=v,N.createElement(kI,{match:x,routeContext:{outlet:v,matches:L,isDataRoute:n!=null},children:$})};return n&&(x.route.ErrorBoundary||x.route.errorElement||_===0)?N.createElement(tS,{location:n.location,revalidation:n.revalidation,component:D,error:E,children:q(),routeContext:{outlet:null,matches:L,isDataRoute:!0},onError:g}):q()},null)}function ay(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function CI(t){let e=N.useContext(_l);return yt(e,ay(t)),e}function RI(t){let e=N.useContext(jf);return yt(e,ay(t)),e}function II(t){let e=N.useContext(ds);return yt(e,ay(t)),e}function oy(t){let e=II(t),n=e.matches[e.matches.length-1];return yt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function jI(){return oy("useRouteId")}function DI(){let t=N.useContext(ry),e=RI("useRouteError"),n=oy("useRouteError");return t!==void 0?t:e.errors?.[n]}function MI(){let{router:t}=CI("useNavigate"),e=oy("useNavigate"),n=N.useRef(!1);return ZE(()=>{n.current=!0}),N.useCallback(async(a,l={})=>{Ds(n.current,JE),n.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var I_={};function nS(t,e,n){!e&&!I_[t]&&(I_[t]=!0,Ds(!1,n))}N.memo(VI);function VI({routes:t,future:e,state:n,onError:i}){return eS(t,void 0,n,i,e)}function OI({to:t,replace:e,state:n,relative:i}){yt(wl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=N.useContext(Gn);Ds(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=N.useContext(ds),{pathname:c}=Zi(),d=Df(),m=iy(t,sy(l),c,i==="path"),g=JSON.stringify(m);return N.useEffect(()=>{d(JSON.parse(g),{replace:e,state:n,relative:i})},[d,g,i,e,n]),null}function ni(t){yt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function PI({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:a,static:l=!1,unstable_useTransitions:c}){yt(!wl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=t.replace(/^\/*/,"/"),m=N.useMemo(()=>({basename:d,navigator:a,static:l,unstable_useTransitions:c,future:{}}),[d,a,l,c]);typeof n=="string"&&(n=bl(n));let{pathname:g="/",search:v="",hash:x="",state:_=null,key:E="default"}=n,R=N.useMemo(()=>{let D=Ki(g,d);return D==null?null:{location:{pathname:D,search:v,hash:x,state:_,key:E},navigationType:i}},[d,g,v,x,_,E,i]);return Ds(R!=null,`<Router basename="${d}"> is not able to match the URL "${g}${v}${x}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:N.createElement(Gn.Provider,{value:m},N.createElement(Tu.Provider,{children:e,value:R}))}function LI({children:t,location:e}){return TI(Zg(t),e)}function Zg(t,e=[]){let n=[];return N.Children.forEach(t,(i,a)=>{if(!N.isValidElement(i))return;let l=[...e,a];if(i.type===N.Fragment){n.push.apply(n,Zg(i.props.children,l));return}yt(i.type===ni,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),yt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=Zg(i.props.children,l)),n.push(c)}),n}var jh="get",Dh="application/x-www-form-urlencoded";function Mf(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function UI(t){return Mf(t)&&t.tagName.toLowerCase()==="button"}function zI(t){return Mf(t)&&t.tagName.toLowerCase()==="form"}function BI(t){return Mf(t)&&t.tagName.toLowerCase()==="input"}function FI(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function HI(t,e){return t.button===0&&(!e||e==="_self")&&!FI(t)}var gh=null;function qI(){if(gh===null)try{new FormData(document.createElement("form"),0),gh=!1}catch{gh=!0}return gh}var GI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function mg(t){return t!=null&&!GI.has(t)?(Ds(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Dh}"`),null):t}function $I(t,e){let n,i,a,l,c;if(zI(t)){let d=t.getAttribute("action");i=d?Ki(d,e):null,n=t.getAttribute("method")||jh,a=mg(t.getAttribute("enctype"))||Dh,l=new FormData(t)}else if(UI(t)||BI(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=t.getAttribute("formaction")||d.getAttribute("action");if(i=m?Ki(m,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||jh,a=mg(t.getAttribute("formenctype"))||mg(d.getAttribute("enctype"))||Dh,l=new FormData(d,t),!qI()){let{name:g,type:v,value:x}=t;if(v==="image"){let _=g?`${g}.`:"";l.append(`${_}x`,"0"),l.append(`${_}y`,"0")}else g&&l.append(g,x)}}else{if(Mf(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=jh,i=null,a=Dh,c=t}return l&&a==="text/plain"&&(c=l,l=void 0),{action:i,method:n.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ly(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function KI(t,e,n,i){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${i}`:a.pathname=`${a.pathname}.${i}`:a.pathname==="/"?a.pathname=`_root.${i}`:e&&Ki(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${i}`,a}async function YI(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function QI(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function XI(t,e,n){let i=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await YI(l,n);return c.links?c.links():[]}return[]}));return e4(i.flat(1).filter(QI).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function j_(t,e,n,i,a,l){let c=(m,g)=>n[g]?m.route.id!==n[g].route.id:!0,d=(m,g)=>n[g].pathname!==m.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==m.params["*"];return l==="assets"?e.filter((m,g)=>c(m,g)||d(m,g)):l==="data"?e.filter((m,g)=>{let v=i.routes[m.route.id];if(!v||!v.hasLoader)return!1;if(c(m,g)||d(m,g))return!0;if(m.route.shouldRevalidate){let x=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function WI(t,e,{includeHydrateFallback:n}={}){return JI(t.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function JI(t){return[...new Set(t)]}function ZI(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function e4(t,e){let n=new Set;return new Set(e),t.reduce((i,a)=>{let l=JSON.stringify(ZI(a));return n.has(l)||(n.add(l),i.push({key:l,link:a})),i},[])}function sS(){let t=N.useContext(_l);return ly(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function t4(){let t=N.useContext(jf);return ly(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var cy=N.createContext(void 0);cy.displayName="FrameworkContext";function iS(){let t=N.useContext(cy);return ly(t,"You must render this element inside a <HydratedRouter> element"),t}function n4(t,e){let n=N.useContext(cy),[i,a]=N.useState(!1),[l,c]=N.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:g,onMouseLeave:v,onTouchStart:x}=e,_=N.useRef(null);N.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let D=L=>{L.forEach(q=>{c(q.isIntersecting)})},j=new IntersectionObserver(D,{threshold:.5});return _.current&&j.observe(_.current),()=>{j.disconnect()}}},[t]),N.useEffect(()=>{if(i){let D=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(D)}}},[i]);let E=()=>{a(!0)},R=()=>{a(!1),c(!1)};return n?t!=="intent"?[l,_,{}]:[l,_,{onFocus:Uc(d,E),onBlur:Uc(m,R),onMouseEnter:Uc(g,E),onMouseLeave:Uc(v,R),onTouchStart:Uc(x,E)}]:[!1,_,{}]}function Uc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function s4({page:t,...e}){let{router:n}=sS(),i=N.useMemo(()=>qE(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?N.createElement(r4,{page:t,matches:i,...e}):null}function i4(t){let{manifest:e,routeModules:n}=iS(),[i,a]=N.useState([]);return N.useEffect(()=>{let l=!1;return XI(t,e,n).then(c=>{l||a(c)}),()=>{l=!0}},[t,e,n]),i}function r4({page:t,matches:e,...n}){let i=Zi(),{future:a,manifest:l,routeModules:c}=iS(),{basename:d}=sS(),{loaderData:m,matches:g}=t4(),v=N.useMemo(()=>j_(t,e,g,l,i,"data"),[t,e,g,l,i]),x=N.useMemo(()=>j_(t,e,g,l,i,"assets"),[t,e,g,l,i]),_=N.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let D=new Set,j=!1;if(e.forEach(q=>{let $=l.routes[q.route.id];!$||!$.hasLoader||(!v.some(Z=>Z.route.id===q.route.id)&&q.route.id in m&&c[q.route.id]?.shouldRevalidate||$.hasClientLoader?j=!0:D.add(q.route.id))}),D.size===0)return[];let L=KI(t,d,a.unstable_trailingSlashAwareDataRequests,"data");return j&&D.size>0&&L.searchParams.set("_routes",e.filter(q=>D.has(q.route.id)).map(q=>q.route.id).join(",")),[L.pathname+L.search]},[d,a.unstable_trailingSlashAwareDataRequests,m,i,l,v,e,t,c]),E=N.useMemo(()=>WI(x,l),[x,l]),R=i4(x);return N.createElement(N.Fragment,null,_.map(D=>N.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...n})),E.map(D=>N.createElement("link",{key:D,rel:"modulepreload",href:D,...n})),R.map(({key:D,link:j})=>N.createElement("link",{key:D,nonce:n.nonce,...j,crossOrigin:j.crossOrigin??n.crossOrigin})))}function a4(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var o4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{o4&&(window.__reactRouterVersion="7.13.0")}catch{}function l4({basename:t,children:e,unstable_useTransitions:n,window:i}){let a=N.useRef();a.current==null&&(a.current=LR({window:i,v5Compat:!0}));let l=a.current,[c,d]=N.useState({action:l.action,location:l.location}),m=N.useCallback(g=>{n===!1?d(g):N.startTransition(()=>d(g))},[n]);return N.useLayoutEffect(()=>l.listen(m),[l,m]),N.createElement(PI,{basename:t,children:e,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:n})}var rS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Jt=N.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:a,reloadDocument:l,replace:c,state:d,target:m,to:g,preventScrollReset:v,viewTransition:x,unstable_defaultShouldRevalidate:_,...E},R){let{basename:D,unstable_useTransitions:j}=N.useContext(Gn),L=typeof g=="string"&&rS.test(g),q=YE(g,D);g=q.to;let $=vI(g,{relative:a}),[Z,ne,de]=n4(i,E),I=h4(g,{replace:c,state:d,target:m,preventScrollReset:v,relative:a,viewTransition:x,unstable_defaultShouldRevalidate:_,unstable_useTransitions:j});function S(U){e&&e(U),U.defaultPrevented||I(U)}let C=N.createElement("a",{...E,...de,href:q.absoluteURL||$,onClick:q.isExternal||l?e:S,ref:a4(R,ne),target:m,"data-discover":!L&&n==="render"?"true":void 0});return Z&&!L?N.createElement(N.Fragment,null,C,N.createElement(s4,{page:$})):C});Jt.displayName="Link";var c4=N.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:a=!1,style:l,to:c,viewTransition:d,children:m,...g},v){let x=Eu(c,{relative:g.relative}),_=Zi(),E=N.useContext(jf),{navigator:R,basename:D}=N.useContext(Gn),j=E!=null&&y4(x)&&d===!0,L=R.encodeLocation?R.encodeLocation(x).pathname:x.pathname,q=_.pathname,$=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;n||(q=q.toLowerCase(),$=$?$.toLowerCase():null,L=L.toLowerCase()),$&&D&&($=Ki($,D)||$);const Z=L!=="/"&&L.endsWith("/")?L.length-1:L.length;let ne=q===L||!a&&q.startsWith(L)&&q.charAt(Z)==="/",de=$!=null&&($===L||!a&&$.startsWith(L)&&$.charAt(L.length)==="/"),I={isActive:ne,isPending:de,isTransitioning:j},S=ne?e:void 0,C;typeof i=="function"?C=i(I):C=[i,ne?"active":null,de?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let U=typeof l=="function"?l(I):l;return N.createElement(Jt,{...g,"aria-current":S,className:C,ref:v,style:U,to:c,viewTransition:d},typeof m=="function"?m(I):m)});c4.displayName="NavLink";var u4=N.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:a,state:l,method:c=jh,action:d,onSubmit:m,relative:g,preventScrollReset:v,viewTransition:x,unstable_defaultShouldRevalidate:_,...E},R)=>{let{unstable_useTransitions:D}=N.useContext(Gn),j=p4(),L=g4(d,{relative:g}),q=c.toLowerCase()==="get"?"get":"post",$=typeof d=="string"&&rS.test(d),Z=ne=>{if(m&&m(ne),ne.defaultPrevented)return;ne.preventDefault();let de=ne.nativeEvent.submitter,I=de?.getAttribute("formmethod")||c,S=()=>j(de||ne.currentTarget,{fetcherKey:e,method:I,navigate:n,replace:a,state:l,relative:g,preventScrollReset:v,viewTransition:x,unstable_defaultShouldRevalidate:_});D&&n!==!1?N.startTransition(()=>S()):S()};return N.createElement("form",{ref:R,method:q,action:L,onSubmit:i?m:Z,...E,"data-discover":!$&&t==="render"?"true":void 0})});u4.displayName="Form";function d4(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function aS(t){let e=N.useContext(_l);return yt(e,d4(t)),e}function h4(t,{target:e,replace:n,state:i,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:d,unstable_useTransitions:m}={}){let g=Df(),v=Zi(),x=Eu(t,{relative:l});return N.useCallback(_=>{if(HI(_,e)){_.preventDefault();let E=n!==void 0?n:ou(v)===ou(x),R=()=>g(t,{replace:E,state:i,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:d});m?N.startTransition(()=>R()):R()}},[v,g,x,n,i,e,t,a,l,c,d,m])}var f4=0,m4=()=>`__${String(++f4)}__`;function p4(){let{router:t}=aS("useSubmit"),{basename:e}=N.useContext(Gn),n=jI(),i=t.fetch,a=t.navigate;return N.useCallback(async(l,c={})=>{let{action:d,method:m,encType:g,formData:v,body:x}=$I(l,e);if(c.navigate===!1){let _=c.fetcherKey||m4();await i(_,n,c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:x,formMethod:c.method||m,formEncType:c.encType||g,flushSync:c.flushSync})}else await a(c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:x,formMethod:c.method||m,formEncType:c.encType||g,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[i,a,e,n])}function g4(t,{relative:e}={}){let{basename:n}=N.useContext(Gn),i=N.useContext(ds);yt(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...Eu(t||".",{relative:e})},c=Zi();if(t==null){l.search=c.search;let d=new URLSearchParams(l.search),m=d.getAll("index");if(m.some(v=>v==="")){d.delete("index"),m.filter(x=>x).forEach(x=>d.append("index",x));let v=d.toString();l.search=v?`?${v}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Hi([n,l.pathname])),ou(l)}function y4(t,{relative:e}={}){let n=N.useContext(XE);yt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=aS("useViewTransitionState"),a=Eu(t,{relative:e});if(!n.isTransitioning)return!1;let l=Ki(n.currentLocation.pathname,i)||n.currentLocation.pathname,c=Ki(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Wh(a.pathname,c)!=null||Wh(a.pathname,l)!=null}var v4=HE();const uy=N.createContext({});function dy(t){const e=N.useRef(null);return e.current===null&&(e.current=t()),e.current}const oS=typeof window<"u",lS=oS?N.useLayoutEffect:N.useEffect,Vf=N.createContext(null);function hy(t,e){t.indexOf(e)===-1&&t.push(e)}function Jh(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const hi=(t,e,n)=>n>e?e:n<t?t:n;let fy=()=>{};const Yi={},cS=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function uS(t){return typeof t=="object"&&t!==null}const dS=t=>/^0[^.\s]+$/u.test(t);function my(t){let e;return()=>(e===void 0&&(e=t()),e)}const us=t=>t,x4=(t,e)=>n=>e(t(n)),Su=(...t)=>t.reduce(x4),lu=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};class py{constructor(){this.subscriptions=[]}add(e){return hy(this.subscriptions,e),()=>Jh(this.subscriptions,e)}notify(e,n,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,i);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Rs=t=>t*1e3,cs=t=>t/1e3;function hS(t,e){return e?t*(1e3/e):0}const fS=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,b4=1e-7,_4=12;function w4(t,e,n,i,a){let l,c,d=0;do c=e+(n-e)/2,l=fS(c,i,a)-t,l>0?n=c:e=c;while(Math.abs(l)>b4&&++d<_4);return c}function Au(t,e,n,i){if(t===e&&n===i)return us;const a=l=>w4(l,0,1,t,n);return l=>l===0||l===1?l:fS(a(l),e,i)}const mS=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,pS=t=>e=>1-t(1-e),gS=Au(.33,1.53,.69,.99),gy=pS(gS),yS=mS(gy),vS=t=>(t*=2)<1?.5*gy(t):.5*(2-Math.pow(2,-10*(t-1))),yy=t=>1-Math.sin(Math.acos(t)),xS=pS(yy),bS=mS(yy),T4=Au(.42,0,1,1),E4=Au(0,0,.58,1),_S=Au(.42,0,.58,1),S4=t=>Array.isArray(t)&&typeof t[0]!="number",wS=t=>Array.isArray(t)&&typeof t[0]=="number",A4={linear:us,easeIn:T4,easeInOut:_S,easeOut:E4,circIn:yy,circInOut:bS,circOut:xS,backIn:gy,backInOut:yS,backOut:gS,anticipate:vS},k4=t=>typeof t=="string",D_=t=>{if(wS(t)){fy(t.length===4);const[e,n,i,a]=t;return Au(e,n,i,a)}else if(k4(t))return A4[t];return t},yh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function N4(t,e){let n=new Set,i=new Set,a=!1,l=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function m(v){c.has(v)&&(g.schedule(v),t()),v(d)}const g={schedule:(v,x=!1,_=!1)=>{const R=_&&a?n:i;return x&&c.add(v),R.has(v)||R.add(v),v},cancel:v=>{i.delete(v),c.delete(v)},process:v=>{if(d=v,a){l=!0;return}a=!0,[n,i]=[i,n],n.forEach(m),n.clear(),a=!1,l&&(l=!1,g.process(v))}};return g}const C4=40;function TS(t,e){let n=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=yh.reduce(($,Z)=>($[Z]=N4(l),$),{}),{setup:d,read:m,resolveKeyframes:g,preUpdate:v,update:x,preRender:_,render:E,postRender:R}=c,D=()=>{const $=Yi.useManualTiming?a.timestamp:performance.now();n=!1,Yi.useManualTiming||(a.delta=i?1e3/60:Math.max(Math.min($-a.timestamp,C4),1)),a.timestamp=$,a.isProcessing=!0,d.process(a),m.process(a),g.process(a),v.process(a),x.process(a),_.process(a),E.process(a),R.process(a),a.isProcessing=!1,n&&e&&(i=!1,t(D))},j=()=>{n=!0,i=!0,a.isProcessing||t(D)};return{schedule:yh.reduce(($,Z)=>{const ne=c[Z];return $[Z]=(de,I=!1,S=!1)=>(n||j(),ne.schedule(de,I,S)),$},{}),cancel:$=>{for(let Z=0;Z<yh.length;Z++)c[yh[Z]].cancel($)},state:a,steps:c}}const{schedule:dt,cancel:Yr,state:ln,steps:pg}=TS(typeof requestAnimationFrame<"u"?requestAnimationFrame:us,!0);let Mh;function R4(){Mh=void 0}const wn={now:()=>(Mh===void 0&&wn.set(ln.isProcessing||Yi.useManualTiming?ln.timestamp:performance.now()),Mh),set:t=>{Mh=t,queueMicrotask(R4)}},ES=t=>e=>typeof e=="string"&&e.startsWith(t),SS=ES("--"),I4=ES("var(--"),vy=t=>I4(t)?j4.test(t.split("/*")[0].trim()):!1,j4=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function M_(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const Tl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},cu={...Tl,transform:t=>hi(0,1,t)},vh={...Tl,default:1},Qc=t=>Math.round(t*1e5)/1e5,xy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function D4(t){return t==null}const M4=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,by=(t,e)=>n=>!!(typeof n=="string"&&M4.test(n)&&n.startsWith(t)||e&&!D4(n)&&Object.prototype.hasOwnProperty.call(n,e)),AS=(t,e,n)=>i=>{if(typeof i!="string")return i;const[a,l,c,d]=i.match(xy);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},V4=t=>hi(0,255,t),gg={...Tl,transform:t=>Math.round(V4(t))},Pa={test:by("rgb","red"),parse:AS("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+gg.transform(t)+", "+gg.transform(e)+", "+gg.transform(n)+", "+Qc(cu.transform(i))+")"};function O4(t){let e="",n="",i="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,i+=i,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const e0={test:by("#"),parse:O4,transform:Pa.transform},ku=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Pr=ku("deg"),ri=ku("%"),we=ku("px"),P4=ku("vh"),L4=ku("vw"),V_={...ri,parse:t=>ri.parse(t)/100,transform:t=>ri.transform(t*100)},tl={test:by("hsl","hue"),parse:AS("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+ri.transform(Qc(e))+", "+ri.transform(Qc(n))+", "+Qc(cu.transform(i))+")"},Ut={test:t=>Pa.test(t)||e0.test(t)||tl.test(t),parse:t=>Pa.test(t)?Pa.parse(t):tl.test(t)?tl.parse(t):e0.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Pa.transform(t):tl.transform(t),getAnimatableNone:t=>{const e=Ut.parse(t);return e.alpha=0,Ut.transform(e)}},U4=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function z4(t){return isNaN(t)&&typeof t=="string"&&(t.match(xy)?.length||0)+(t.match(U4)?.length||0)>0}const kS="number",NS="color",B4="var",F4="var(",O_="${}",H4=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function uu(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},a=[];let l=0;const d=e.replace(H4,m=>(Ut.test(m)?(i.color.push(l),a.push(NS),n.push(Ut.parse(m))):m.startsWith(F4)?(i.var.push(l),a.push(B4),n.push(m)):(i.number.push(l),a.push(kS),n.push(parseFloat(m))),++l,O_)).split(O_);return{values:n,split:d,indexes:i,types:a}}function CS(t){return uu(t).values}function RS(t){const{split:e,types:n}=uu(t),i=e.length;return a=>{let l="";for(let c=0;c<i;c++)if(l+=e[c],a[c]!==void 0){const d=n[c];d===kS?l+=Qc(a[c]):d===NS?l+=Ut.transform(a[c]):l+=a[c]}return l}}const q4=t=>typeof t=="number"?0:Ut.test(t)?Ut.getAnimatableNone(t):t;function G4(t){const e=CS(t);return RS(t)(e.map(q4))}const Qr={test:z4,parse:CS,createTransformer:RS,getAnimatableNone:G4};function yg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function $4({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let a=0,l=0,c=0;if(!e)a=l=c=n;else{const d=n<.5?n*(1+e):n+e-n*e,m=2*n-d;a=yg(m,d,t+1/3),l=yg(m,d,t),c=yg(m,d,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:i}}function Zh(t,e){return n=>n>0?e:t}const vt=(t,e,n)=>t+(e-t)*n,vg=(t,e,n)=>{const i=t*t,a=n*(e*e-i)+i;return a<0?0:Math.sqrt(a)},K4=[e0,Pa,tl],Y4=t=>K4.find(e=>e.test(t));function P_(t){const e=Y4(t);if(!e)return!1;let n=e.parse(t);return e===tl&&(n=$4(n)),n}const L_=(t,e)=>{const n=P_(t),i=P_(e);if(!n||!i)return Zh(t,e);const a={...n};return l=>(a.red=vg(n.red,i.red,l),a.green=vg(n.green,i.green,l),a.blue=vg(n.blue,i.blue,l),a.alpha=vt(n.alpha,i.alpha,l),Pa.transform(a))},t0=new Set(["none","hidden"]);function Q4(t,e){return t0.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function X4(t,e){return n=>vt(t,e,n)}function _y(t){return typeof t=="number"?X4:typeof t=="string"?vy(t)?Zh:Ut.test(t)?L_:Z4:Array.isArray(t)?IS:typeof t=="object"?Ut.test(t)?L_:W4:Zh}function IS(t,e){const n=[...t],i=n.length,a=t.map((l,c)=>_y(l)(l,e[c]));return l=>{for(let c=0;c<i;c++)n[c]=a[c](l);return n}}function W4(t,e){const n={...t,...e},i={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(i[a]=_y(t[a])(t[a],e[a]));return a=>{for(const l in i)n[l]=i[l](a);return n}}function J4(t,e){const n=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],c=t.indexes[l][i[l]],d=t.values[c]??0;n[a]=d,i[l]++}return n}const Z4=(t,e)=>{const n=Qr.createTransformer(e),i=uu(t),a=uu(e);return i.indexes.var.length===a.indexes.var.length&&i.indexes.color.length===a.indexes.color.length&&i.indexes.number.length>=a.indexes.number.length?t0.has(t)&&!a.values.length||t0.has(e)&&!i.values.length?Q4(t,e):Su(IS(J4(i,a),a.values),n):Zh(t,e)};function jS(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?vt(t,e,n):_y(t)(t,e)}const ej=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>dt.update(e,n),stop:()=>Yr(e),now:()=>ln.isProcessing?ln.timestamp:wn.now()}},DS=(t,e,n=10)=>{let i="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)i+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},ef=2e4;function wy(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<ef;)e+=n,i=t.next(e);return e>=ef?1/0:e}function tj(t,e=100,n){const i=n({...t,keyframes:[0,e]}),a=Math.min(wy(i),ef);return{type:"keyframes",ease:l=>i.next(a*l).value/e,duration:cs(a)}}const nj=5;function MS(t,e,n){const i=Math.max(e-nj,0);return hS(n-t(i),e-i)}const Tt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},xg=.001;function sj({duration:t=Tt.duration,bounce:e=Tt.bounce,velocity:n=Tt.velocity,mass:i=Tt.mass}){let a,l,c=1-e;c=hi(Tt.minDamping,Tt.maxDamping,c),t=hi(Tt.minDuration,Tt.maxDuration,cs(t)),c<1?(a=g=>{const v=g*c,x=v*t,_=v-n,E=n0(g,c),R=Math.exp(-x);return xg-_/E*R},l=g=>{const x=g*c*t,_=x*n+n,E=Math.pow(c,2)*Math.pow(g,2)*t,R=Math.exp(-x),D=n0(Math.pow(g,2),c);return(-a(g)+xg>0?-1:1)*((_-E)*R)/D}):(a=g=>{const v=Math.exp(-g*t),x=(g-n)*t+1;return-xg+v*x},l=g=>{const v=Math.exp(-g*t),x=(n-g)*(t*t);return v*x});const d=5/t,m=rj(a,l,d);if(t=Rs(t),isNaN(m))return{stiffness:Tt.stiffness,damping:Tt.damping,duration:t};{const g=Math.pow(m,2)*i;return{stiffness:g,damping:c*2*Math.sqrt(i*g),duration:t}}}const ij=12;function rj(t,e,n){let i=n;for(let a=1;a<ij;a++)i=i-t(i)/e(i);return i}function n0(t,e){return t*Math.sqrt(1-e*e)}const aj=["duration","bounce"],oj=["stiffness","damping","mass"];function U_(t,e){return e.some(n=>t[n]!==void 0)}function lj(t){let e={velocity:Tt.velocity,stiffness:Tt.stiffness,damping:Tt.damping,mass:Tt.mass,isResolvedFromDuration:!1,...t};if(!U_(t,oj)&&U_(t,aj))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),a=i*i,l=2*hi(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:Tt.mass,stiffness:a,damping:l}}else{const n=sj(t);e={...e,...n,mass:Tt.mass},e.isResolvedFromDuration=!0}return e}function tf(t=Tt.visualDuration,e=Tt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],d={done:!1,value:l},{stiffness:m,damping:g,mass:v,duration:x,velocity:_,isResolvedFromDuration:E}=lj({...n,velocity:-cs(n.velocity||0)}),R=_||0,D=g/(2*Math.sqrt(m*v)),j=c-l,L=cs(Math.sqrt(m/v)),q=Math.abs(j)<5;i||(i=q?Tt.restSpeed.granular:Tt.restSpeed.default),a||(a=q?Tt.restDelta.granular:Tt.restDelta.default);let $;if(D<1){const ne=n0(L,D);$=de=>{const I=Math.exp(-D*L*de);return c-I*((R+D*L*j)/ne*Math.sin(ne*de)+j*Math.cos(ne*de))}}else if(D===1)$=ne=>c-Math.exp(-L*ne)*(j+(R+L*j)*ne);else{const ne=L*Math.sqrt(D*D-1);$=de=>{const I=Math.exp(-D*L*de),S=Math.min(ne*de,300);return c-I*((R+D*L*j)*Math.sinh(S)+ne*j*Math.cosh(S))/ne}}const Z={calculatedDuration:E&&x||null,next:ne=>{const de=$(ne);if(E)d.done=ne>=x;else{let I=ne===0?R:0;D<1&&(I=ne===0?Rs(R):MS($,ne,de));const S=Math.abs(I)<=i,C=Math.abs(c-de)<=a;d.done=S&&C}return d.value=d.done?c:de,d},toString:()=>{const ne=Math.min(wy(Z),ef),de=DS(I=>Z.next(ne*I).value,ne,30);return ne+"ms "+de},toTransition:()=>{}};return Z}tf.applyToOptions=t=>{const e=tj(t,100,tf);return t.ease=e.ease,t.duration=Rs(e.duration),t.type="keyframes",t};function s0({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:d,max:m,restDelta:g=.5,restSpeed:v}){const x=t[0],_={done:!1,value:x},E=S=>d!==void 0&&S<d||m!==void 0&&S>m,R=S=>d===void 0?m:m===void 0||Math.abs(d-S)<Math.abs(m-S)?d:m;let D=n*e;const j=x+D,L=c===void 0?j:c(j);L!==j&&(D=L-x);const q=S=>-D*Math.exp(-S/i),$=S=>L+q(S),Z=S=>{const C=q(S),U=$(S);_.done=Math.abs(C)<=g,_.value=_.done?L:U};let ne,de;const I=S=>{E(_.value)&&(ne=S,de=tf({keyframes:[_.value,R(_.value)],velocity:MS($,S,_.value),damping:a,stiffness:l,restDelta:g,restSpeed:v}))};return I(0),{calculatedDuration:null,next:S=>{let C=!1;return!de&&ne===void 0&&(C=!0,Z(S),I(S)),ne!==void 0&&S>=ne?de.next(S-ne):(!C&&Z(S),_)}}}function cj(t,e,n){const i=[],a=n||Yi.mix||jS,l=t.length-1;for(let c=0;c<l;c++){let d=a(t[c],t[c+1]);if(e){const m=Array.isArray(e)?e[c]||us:e;d=Su(m,d)}i.push(d)}return i}function uj(t,e,{clamp:n=!0,ease:i,mixer:a}={}){const l=t.length;if(fy(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=cj(e,i,a),m=d.length,g=v=>{if(c&&v<t[0])return e[0];let x=0;if(m>1)for(;x<t.length-2&&!(v<t[x+1]);x++);const _=lu(t[x],t[x+1],v);return d[x](_)};return n?v=>g(hi(t[0],t[l-1],v)):g}function dj(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const a=lu(0,e,i);t.push(vt(n,1,a))}}function hj(t){const e=[0];return dj(e,t.length-1),e}function fj(t,e){return t.map(n=>n*e)}function mj(t,e){return t.map(()=>e||_S).splice(0,t.length-1)}function Xc({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const a=S4(i)?i.map(D_):D_(i),l={done:!1,value:e[0]},c=fj(n&&n.length===e.length?n:hj(e),t),d=uj(c,e,{ease:Array.isArray(a)?a:mj(e,a)});return{calculatedDuration:t,next:m=>(l.value=d(m),l.done=m>=t,l)}}const pj=t=>t!==null;function Ty(t,{repeat:e,repeatType:n="loop"},i,a=1){const l=t.filter(pj),d=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!d||i===void 0?l[d]:i}const gj={decay:s0,inertia:s0,tween:Xc,keyframes:Xc,spring:tf};function VS(t){typeof t.type=="string"&&(t.type=gj[t.type])}class Ey{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const yj=t=>t/100;class Sy extends Ey{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==wn.now()&&this.tick(wn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;VS(e);const{type:n=Xc,repeat:i=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=e;let{keyframes:d}=e;const m=n||Xc;m!==Xc&&typeof d[0]!="number"&&(this.mixKeyframes=Su(yj,jS(d[0],d[1])),d=[0,100]);const g=m({...e,keyframes:d});l==="mirror"&&(this.mirroredGenerator=m({...e,keyframes:[...d].reverse(),velocity:-c})),g.calculatedDuration===null&&(g.calculatedDuration=wy(g));const{calculatedDuration:v}=g;this.calculatedDuration=v,this.resolvedDuration=v+a,this.totalDuration=this.resolvedDuration*(i+1)-a,this.generator=g}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:i,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:m}=this;if(this.startTime===null)return i.next(0);const{delay:g=0,keyframes:v,repeat:x,repeatType:_,repeatDelay:E,type:R,onUpdate:D,finalKeyframe:j}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const L=this.currentTime-g*(this.playbackSpeed>=0?1:-1),q=this.playbackSpeed>=0?L<0:L>a;this.currentTime=Math.max(L,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let $=this.currentTime,Z=i;if(x){const S=Math.min(this.currentTime,a)/d;let C=Math.floor(S),U=S%1;!U&&S>=1&&(U=1),U===1&&C--,C=Math.min(C,x+1),C%2&&(_==="reverse"?(U=1-U,E&&(U-=E/d)):_==="mirror"&&(Z=c)),$=hi(0,1,U)*d}const ne=q?{done:!1,value:v[0]}:Z.next($);l&&(ne.value=l(ne.value));let{done:de}=ne;!q&&m!==null&&(de=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&de);return I&&R!==s0&&(ne.value=Ty(v,this.options,j,this.speed)),D&&D(ne.value),I&&this.finish(),ne}then(e,n){return this.finished.then(e,n)}get duration(){return cs(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+cs(e)}get time(){return cs(this.currentTime)}set time(e){e=Rs(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(wn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=cs(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=ej,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(wn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function vj(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const La=t=>t*180/Math.PI,i0=t=>{const e=La(Math.atan2(t[1],t[0]));return r0(e)},xj={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:i0,rotateZ:i0,skewX:t=>La(Math.atan(t[1])),skewY:t=>La(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},r0=t=>(t=t%360,t<0&&(t+=360),t),z_=i0,B_=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),F_=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),bj={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:B_,scaleY:F_,scale:t=>(B_(t)+F_(t))/2,rotateX:t=>r0(La(Math.atan2(t[6],t[5]))),rotateY:t=>r0(La(Math.atan2(-t[2],t[0]))),rotateZ:z_,rotate:z_,skewX:t=>La(Math.atan(t[4])),skewY:t=>La(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function a0(t){return t.includes("scale")?1:0}function o0(t,e){if(!t||t==="none")return a0(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,a;if(n)i=bj,a=n;else{const d=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=xj,a=d}if(!a)return a0(e);const l=i[e],c=a[1].split(",").map(wj);return typeof l=="function"?l(c):c[l]}const _j=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return o0(n,e)};function wj(t){return parseFloat(t.trim())}const El=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Sl=new Set(El),H_=t=>t===Tl||t===we,Tj=new Set(["x","y","z"]),Ej=El.filter(t=>!Tj.has(t));function Sj(t){const e=[];return Ej.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const Br={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>o0(e,"x"),y:(t,{transform:e})=>o0(e,"y")};Br.translateX=Br.x;Br.translateY=Br.y;const Ba=new Set;let l0=!1,c0=!1,u0=!1;function OS(){if(c0){const t=Array.from(Ba).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const a=Sj(i);a.length&&(n.set(i,a),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const a=n.get(i);a&&a.forEach(([l,c])=>{i.getValue(l)?.set(c)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}c0=!1,l0=!1,Ba.forEach(t=>t.complete(u0)),Ba.clear()}function PS(){Ba.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(c0=!0)})}function Aj(){u0=!0,PS(),OS(),u0=!1}class Ay{constructor(e,n,i,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Ba.add(this),l0||(l0=!0,dt.read(PS),dt.resolveKeyframes(OS))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:a}=this;if(e[0]===null){const l=a?.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(i&&n){const d=i.readValue(n,c);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=c),a&&l===void 0&&a.set(e[0])}vj(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ba.delete(this)}cancel(){this.state==="scheduled"&&(Ba.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const kj=t=>t.startsWith("--");function Nj(t,e,n){kj(e)?t.style.setProperty(e,n):t.style[e]=n}const Cj=my(()=>window.ScrollTimeline!==void 0),Rj={};function Ij(t,e){const n=my(t);return()=>Rj[e]??n()}const LS=Ij(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Hc=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,q_={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Hc([0,.65,.55,1]),circOut:Hc([.55,0,1,.45]),backIn:Hc([.31,.01,.66,-.59]),backOut:Hc([.33,1.53,.69,.99])};function US(t,e){if(t)return typeof t=="function"?LS()?DS(t,e):"ease-out":wS(t)?Hc(t):Array.isArray(t)?t.map(n=>US(n,e)||q_.easeOut):q_[t]}function jj(t,e,n,{delay:i=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:d="easeOut",times:m}={},g=void 0){const v={[e]:n};m&&(v.offset=m);const x=US(d,a);Array.isArray(x)&&(v.easing=x);const _={delay:i,duration:a,easing:Array.isArray(x)?"linear":x,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return g&&(_.pseudoElement=g),t.animate(v,_)}function zS(t){return typeof t=="function"&&"applyToOptions"in t}function Dj({type:t,...e}){return zS(t)&&LS()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class BS extends Ey{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:i,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:d,onComplete:m}=e;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=e,fy(typeof e.type!="string");const g=Dj(e);this.animation=jj(n,i,a,g,l),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const v=Ty(a,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(v):Nj(n,i,v),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){const e=this.options?.element;!this.isPseudoElement&&e?.isConnected&&this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return cs(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+cs(e)}get time(){return cs(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Rs(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&Cj()?(this.animation.timeline=e,us):n(this)}}const FS={anticipate:vS,backInOut:yS,circInOut:bS};function Mj(t){return t in FS}function Vj(t){typeof t.ease=="string"&&Mj(t.ease)&&(t.ease=FS[t.ease])}const bg=10;class Oj extends BS{constructor(e){Vj(e),VS(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:i,onComplete:a,element:l,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const d=new Sy({...c,autoplay:!1}),m=Math.max(bg,wn.now()-this.startTime),g=hi(0,bg,m-bg);n.setWithVelocity(d.sample(Math.max(0,m-g)).value,d.sample(m).value,g),d.stop()}}const G_=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Qr.test(t)||t==="0")&&!t.startsWith("url("));function Pj(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function Lj(t,e,n,i){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=G_(a,e),d=G_(l,e);return!c||!d?!1:Pj(t)||(n==="spring"||zS(n))&&i}function d0(t){t.duration=0,t.type="keyframes"}const Uj=new Set(["opacity","clipPath","filter","transform"]),zj=my(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Bj(t){const{motionValue:e,name:n,repeatDelay:i,repeatType:a,damping:l,type:c}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:g}=e.owner.getProps();return zj()&&n&&Uj.has(n)&&(n!=="transform"||!g)&&!m&&!i&&a!=="mirror"&&l!==0&&c!=="inertia"}const Fj=40;class Hj extends Ey{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:d,name:m,motionValue:g,element:v,...x}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=wn.now();const _={autoplay:e,delay:n,type:i,repeat:a,repeatDelay:l,repeatType:c,name:m,motionValue:g,element:v,...x},E=v?.KeyframeResolver||Ay;this.keyframeResolver=new E(d,(R,D,j)=>this.onKeyframesResolved(R,D,_,!j),m,g,v),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,i,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:d,delay:m,isHandoff:g,onUpdate:v}=i;this.resolvedAt=wn.now(),Lj(e,l,c,d)||((Yi.instantAnimations||!m)&&v?.(Ty(e,i,n)),e[0]=e[e.length-1],d0(i),i.repeat=0);const _={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>Fj?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:e},E=!g&&Bj(_),R=_.motionValue?.owner?.current,D=E?new Oj({..._,element:R}):new Sy(_);D.finished.then(()=>{this.notifyFinished()}).catch(us),this.pendingTimeline&&(this.stopTimeline=D.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=D}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),Aj()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function HS(t,e,n,i=0,a=1){const l=Array.from(t).sort((g,v)=>g.sortNodePosition(v)).indexOf(e),c=t.size,d=(c-1)*i;return typeof n=="function"?n(l,c):a===1?l*i:d-l*i}const qj=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Gj(t){const e=qj.exec(t);if(!e)return[,];const[,n,i,a]=e;return[`--${n??i}`,a]}function qS(t,e,n=1){const[i,a]=Gj(t);if(!i)return;const l=window.getComputedStyle(e).getPropertyValue(i);if(l){const c=l.trim();return cS(c)?parseFloat(c):c}return vy(a)?qS(a,e,n+1):a}const $j={type:"spring",stiffness:500,damping:25,restSpeed:10},Kj=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Yj={type:"keyframes",duration:.8},Qj={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Xj=(t,{keyframes:e})=>e.length>2?Yj:Sl.has(t)?t.startsWith("scale")?Kj(e[1]):$j:Qj,Wj=t=>t!==null;function Jj(t,{repeat:e,repeatType:n="loop"},i){const a=t.filter(Wj),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}function GS(t,e){if(t?.inherit&&e){const{inherit:n,...i}=t;return{...e,...i}}return t}function ky(t,e){const n=t?.[e]??t?.default??t;return n!==t?GS(n,t):n}function Zj({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:d,from:m,elapsed:g,...v}){return!!Object.keys(v).length}const Ny=(t,e,n,i={},a,l)=>c=>{const d=ky(i,t)||{},m=d.delay||i.delay||0;let{elapsed:g=0}=i;g=g-Rs(m);const v={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-g,onUpdate:_=>{e.set(_),d.onUpdate&&d.onUpdate(_)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:l?void 0:a};Zj(d)||Object.assign(v,Xj(t,v)),v.duration&&(v.duration=Rs(v.duration)),v.repeatDelay&&(v.repeatDelay=Rs(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let x=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(d0(v),v.delay===0&&(x=!0)),(Yi.instantAnimations||Yi.skipAnimations||a?.shouldSkipAnimations)&&(x=!0,d0(v),v.delay=0),v.allowFlatten=!d.type&&!d.ease,x&&!l&&e.get()!==void 0){const _=Jj(v.keyframes,d);if(_!==void 0){dt.update(()=>{v.onUpdate(_),v.onComplete()});return}}return d.isSync?new Sy(v):new Hj(v)};function $_(t){const e=[{},{}];return t?.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function Cy(t,e,n,i){if(typeof e=="function"){const[a,l]=$_(i);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=$_(i);e=e(n!==void 0?n:t.custom,a,l)}return e}function al(t,e,n){const i=t.getProps();return Cy(i,e,n!==void 0?n:i.custom,t)}const $S=new Set(["width","height","top","left","right","bottom",...El]),K_=30,eD=t=>!isNaN(parseFloat(t));class tD{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const a=wn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=wn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=eD(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new py);const i=this.events[e].add(n);return e==="change"?()=>{i(),dt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=wn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>K_)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,K_);return hS(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function hl(t,e){return new tD(t,e)}const h0=t=>Array.isArray(t);function nD(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,hl(n))}function sD(t){return h0(t)?t[t.length-1]||0:t}function iD(t,e){const n=al(t,e);let{transitionEnd:i={},transition:a={},...l}=n||{};l={...l,...i};for(const c in l){const d=sD(l[c]);nD(t,c,d)}}const gn=t=>!!(t&&t.getVelocity);function rD(t){return!!(gn(t)&&t.add)}function f0(t,e){const n=t.getValue("willChange");if(rD(n))return n.add(e);if(!n&&Yi.WillChange){const i=new Yi.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function Ry(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const aD="framerAppearId",KS="data-"+Ry(aD);function YS(t){return t.props[KS]}function oD({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function QS(t,e,{delay:n=0,transitionOverride:i,type:a}={}){let{transition:l,transitionEnd:c,...d}=e;const m=t.getDefaultTransition();l=l?GS(l,m):m;const g=l?.reduceMotion;i&&(l=i);const v=[],x=a&&t.animationState&&t.animationState.getState()[a];for(const _ in d){const E=t.getValue(_,t.latestValues[_]??null),R=d[_];if(R===void 0||x&&oD(x,_))continue;const D={delay:n,...ky(l||{},_)},j=E.get();if(j!==void 0&&!E.isAnimating&&!Array.isArray(R)&&R===j&&!D.velocity)continue;let L=!1;if(window.MotionHandoffAnimation){const Z=YS(t);if(Z){const ne=window.MotionHandoffAnimation(Z,_,dt);ne!==null&&(D.startTime=ne,L=!0)}}f0(t,_);const q=g??t.shouldReduceMotion;E.start(Ny(_,E,R,q&&$S.has(_)?{type:!1}:D,t,L));const $=E.animation;$&&v.push($)}if(c){const _=()=>dt.update(()=>{c&&iD(t,c)});v.length?Promise.all(v).then(_):_()}return v}function m0(t,e,n={}){const i=al(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(a=n.transitionOverride);const l=i?()=>Promise.all(QS(t,i,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:g=0,staggerChildren:v,staggerDirection:x}=a;return lD(t,e,m,g,v,x,n)}:()=>Promise.resolve(),{when:d}=a;if(d){const[m,g]=d==="beforeChildren"?[l,c]:[c,l];return m().then(()=>g())}else return Promise.all([l(),c(n.delay)])}function lD(t,e,n=0,i=0,a=0,l=1,c){const d=[];for(const m of t.variantChildren)m.notify("AnimationStart",e),d.push(m0(m,e,{...c,delay:n+(typeof i=="function"?0:i)+HS(t.variantChildren,m,i,a,l)}).then(()=>m.notify("AnimationComplete",e)));return Promise.all(d)}function cD(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const a=e.map(l=>m0(t,l,n));i=Promise.all(a)}else if(typeof e=="string")i=m0(t,e,n);else{const a=typeof e=="function"?al(t,e,n.custom):e;i=Promise.all(QS(t,a,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}const uD={test:t=>t==="auto",parse:t=>t},XS=t=>e=>e.test(t),WS=[Tl,we,ri,Pr,L4,P4,uD],Y_=t=>WS.find(XS(t));function dD(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||dS(t):!0}const hD=new Set(["brightness","contrast","saturate","opacity"]);function fD(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(xy)||[];if(!i)return t;const a=n.replace(i,"");let l=hD.has(e)?1:0;return i!==n&&(l*=100),e+"("+l+a+")"}const mD=/\b([a-z-]*)\(.*?\)/gu,p0={...Qr,getAnimatableNone:t=>{const e=t.match(mD);return e?e.map(fD).join(" "):t}},Q_={...Tl,transform:Math.round},pD={rotate:Pr,rotateX:Pr,rotateY:Pr,rotateZ:Pr,scale:vh,scaleX:vh,scaleY:vh,scaleZ:vh,skew:Pr,skewX:Pr,skewY:Pr,distance:we,translateX:we,translateY:we,translateZ:we,x:we,y:we,z:we,perspective:we,transformPerspective:we,opacity:cu,originX:V_,originY:V_,originZ:we},Iy={borderWidth:we,borderTopWidth:we,borderRightWidth:we,borderBottomWidth:we,borderLeftWidth:we,borderRadius:we,borderTopLeftRadius:we,borderTopRightRadius:we,borderBottomRightRadius:we,borderBottomLeftRadius:we,width:we,maxWidth:we,height:we,maxHeight:we,top:we,right:we,bottom:we,left:we,inset:we,insetBlock:we,insetBlockStart:we,insetBlockEnd:we,insetInline:we,insetInlineStart:we,insetInlineEnd:we,padding:we,paddingTop:we,paddingRight:we,paddingBottom:we,paddingLeft:we,paddingBlock:we,paddingBlockStart:we,paddingBlockEnd:we,paddingInline:we,paddingInlineStart:we,paddingInlineEnd:we,margin:we,marginTop:we,marginRight:we,marginBottom:we,marginLeft:we,marginBlock:we,marginBlockStart:we,marginBlockEnd:we,marginInline:we,marginInlineStart:we,marginInlineEnd:we,fontSize:we,backgroundPositionX:we,backgroundPositionY:we,...pD,zIndex:Q_,fillOpacity:cu,strokeOpacity:cu,numOctaves:Q_},gD={...Iy,color:Ut,backgroundColor:Ut,outlineColor:Ut,fill:Ut,stroke:Ut,borderColor:Ut,borderTopColor:Ut,borderRightColor:Ut,borderBottomColor:Ut,borderLeftColor:Ut,filter:p0,WebkitFilter:p0},JS=t=>gD[t];function ZS(t,e){let n=JS(t);return n!==p0&&(n=Qr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const yD=new Set(["auto","none","0"]);function vD(t,e,n){let i=0,a;for(;i<t.length&&!a;){const l=t[i];typeof l=="string"&&!yD.has(l)&&uu(l).values.length&&(a=t[i]),i++}if(a&&n)for(const l of e)t[l]=ZS(n,a)}class xD extends Ay{constructor(e,n,i,a,l){super(e,n,i,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let v=0;v<e.length;v++){let x=e[v];if(typeof x=="string"&&(x=x.trim(),vy(x))){const _=qS(x,n.current);_!==void 0&&(e[v]=_),v===e.length-1&&(this.finalKeyframe=x)}}if(this.resolveNoneKeyframes(),!$S.has(i)||e.length!==2)return;const[a,l]=e,c=Y_(a),d=Y_(l),m=M_(a),g=M_(l);if(m!==g&&Br[i]){this.needsMeasurement=!0;return}if(c!==d)if(H_(c)&&H_(d))for(let v=0;v<e.length;v++){const x=e[v];typeof x=="string"&&(e[v]=parseFloat(x))}else Br[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let a=0;a<e.length;a++)(e[a]===null||dD(e[a]))&&i.push(a);i.length&&vD(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Br[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(i,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=i.length-1,c=i[l];i[l]=Br[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,m])=>{e.getValue(d).set(m)}),this.resolveNoneKeyframes()}}const bD=new Set(["opacity","clipPath","filter","transform"]);function e2(t,e,n){if(t==null)return[];if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const a=n?.[t]??i.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t).filter(i=>i!=null)}const t2=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function g0(t){return uS(t)&&"offsetHeight"in t}const{schedule:jy}=TS(queueMicrotask,!1),As={x:!1,y:!1};function n2(){return As.x||As.y}function _D(t){return t==="x"||t==="y"?As[t]?null:(As[t]=!0,()=>{As[t]=!1}):As.x||As.y?null:(As.x=As.y=!0,()=>{As.x=As.y=!1})}function s2(t,e){const n=e2(t),i=new AbortController,a={passive:!0,...e,signal:i.signal};return[n,a,()=>i.abort()]}function wD(t){return!(t.pointerType==="touch"||n2())}function TD(t,e,n={}){const[i,a,l]=s2(t,n);return i.forEach(c=>{let d=!1,m=!1,g;const v=()=>{c.removeEventListener("pointerleave",R)},x=j=>{g&&(g(j),g=void 0),v()},_=j=>{d=!1,window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",_),m&&(m=!1,x(j))},E=()=>{d=!0,window.addEventListener("pointerup",_,a),window.addEventListener("pointercancel",_,a)},R=j=>{if(j.pointerType!=="touch"){if(d){m=!0;return}x(j)}},D=j=>{if(!wD(j))return;m=!1;const L=e(c,j);typeof L=="function"&&(g=L,c.addEventListener("pointerleave",R,a))};c.addEventListener("pointerenter",D,a),c.addEventListener("pointerdown",E,a)}),l}const i2=(t,e)=>e?t===e?!0:i2(t,e.parentElement):!1,Dy=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,ED=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function SD(t){return ED.has(t.tagName)||t.isContentEditable===!0}const AD=new Set(["INPUT","SELECT","TEXTAREA"]);function kD(t){return AD.has(t.tagName)||t.isContentEditable===!0}const Vh=new WeakSet;function X_(t){return e=>{e.key==="Enter"&&t(e)}}function _g(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const ND=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=X_(()=>{if(Vh.has(n))return;_g(n,"down");const a=X_(()=>{_g(n,"up")}),l=()=>_g(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function W_(t){return Dy(t)&&!n2()}const J_=new WeakSet;function CD(t,e,n={}){const[i,a,l]=s2(t,n),c=d=>{const m=d.currentTarget;if(!W_(d)||J_.has(d))return;Vh.add(m),n.stopPropagation&&J_.add(d);const g=e(m,d),v=(E,R)=>{window.removeEventListener("pointerup",x),window.removeEventListener("pointercancel",_),Vh.has(m)&&Vh.delete(m),W_(E)&&typeof g=="function"&&g(E,{success:R})},x=E=>{v(E,m===window||m===document||n.useGlobalTarget||i2(m,E.target))},_=E=>{v(E,!1)};window.addEventListener("pointerup",x,a),window.addEventListener("pointercancel",_,a)};return i.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",c,a),g0(d)&&(d.addEventListener("focus",g=>ND(g,a)),!SD(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}function My(t){return uS(t)&&"ownerSVGElement"in t}const Oh=new WeakMap;let Ph;const r2=(t,e,n)=>(i,a)=>a&&a[0]?a[0][t+"Size"]:My(i)&&"getBBox"in i?i.getBBox()[e]:i[n],RD=r2("inline","width","offsetWidth"),ID=r2("block","height","offsetHeight");function jD({target:t,borderBoxSize:e}){Oh.get(t)?.forEach(n=>{n(t,{get width(){return RD(t,e)},get height(){return ID(t,e)}})})}function DD(t){t.forEach(jD)}function MD(){typeof ResizeObserver>"u"||(Ph=new ResizeObserver(DD))}function VD(t,e){Ph||MD();const n=e2(t);return n.forEach(i=>{let a=Oh.get(i);a||(a=new Set,Oh.set(i,a)),a.add(e),Ph?.observe(i)}),()=>{n.forEach(i=>{const a=Oh.get(i);a?.delete(e),a?.size||Ph?.unobserve(i)})}}const Lh=new Set;let nl;function OD(){nl=()=>{const t={get width(){return window.innerWidth},get height(){return window.innerHeight}};Lh.forEach(e=>e(t))},window.addEventListener("resize",nl)}function PD(t){return Lh.add(t),nl||OD(),()=>{Lh.delete(t),!Lh.size&&typeof nl=="function"&&(window.removeEventListener("resize",nl),nl=void 0)}}function Z_(t,e){return typeof t=="function"?PD(t):VD(t,e)}function LD(t){return My(t)&&t.tagName==="svg"}const UD=[...WS,Ut,Qr],zD=t=>UD.find(XS(t)),ew=()=>({translate:0,scale:1,origin:0,originPoint:0}),sl=()=>({x:ew(),y:ew()}),tw=()=>({min:0,max:0}),Kt=()=>({x:tw(),y:tw()}),BD=new WeakMap;function Of(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function du(t){return typeof t=="string"||Array.isArray(t)}const Vy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Oy=["initial",...Vy];function Pf(t){return Of(t.animate)||Oy.some(e=>du(t[e]))}function a2(t){return!!(Pf(t)||t.variants)}function FD(t,e,n){for(const i in e){const a=e[i],l=n[i];if(gn(a))t.addValue(i,a);else if(gn(l))t.addValue(i,hl(a,{owner:t}));else if(l!==a)if(t.hasValue(i)){const c=t.getValue(i);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=t.getStaticValue(i);t.addValue(i,hl(c!==void 0?c:a,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const y0={current:null},o2={current:!1},HD=typeof window<"u";function qD(){if(o2.current=!0,!!HD)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>y0.current=t.matches;t.addEventListener("change",e),e()}else y0.current=!1}const nw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let nf={};function l2(t){nf=t}function GD(){return nf}class $D{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:a,skipAnimations:l,blockInitialAnimation:c,visualState:d},m={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=Ay,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const E=wn.now();this.renderScheduledAt<E&&(this.renderScheduledAt=E,dt.render(this.render,!1,!0))};const{latestValues:g,renderState:v}=d;this.latestValues=g,this.baseTarget={...g},this.initialValues=n.initial?{...g}:{},this.renderState=v,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.skipAnimationsConfig=l,this.options=m,this.blockInitialAnimation=!!c,this.isControllingVariants=Pf(n),this.isVariantNode=a2(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:x,..._}=this.scrapeMotionValuesFromProps(n,{},this);for(const E in _){const R=_[E];g[E]!==void 0&&gn(R)&&R.set(g[E])}}mount(e){if(this.hasBeenMounted)for(const n in this.initialValues)this.values.get(n)?.jump(this.initialValues[n]),this.latestValues[n]=this.initialValues[n];this.current=e,BD.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(o2.current||qD(),this.shouldReduceMotion=y0.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,this.parent?.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){this.projection&&this.projection.unmount(),Yr(this.notifyUpdate),Yr(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){if(this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)(),n.accelerate&&bD.has(e)&&this.current instanceof HTMLElement){const{factory:c,keyframes:d,times:m,ease:g,duration:v}=n.accelerate,x=new BS({element:this.current,name:e,keyframes:d,times:m,ease:g,duration:Rs(v)}),_=c(x);this.valueSubscriptions.set(e,()=>{_(),x.cancel()});return}const i=Sl.has(e);i&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&dt.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;typeof window<"u"&&window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in nf){const n=nf[e];if(!n)continue;const{isEnabled:i,Feature:a}=n;if(!this.features[e]&&a&&i(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Kt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<nw.length;i++){const a=nw[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=e[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=FD(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=hl(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(cS(i)||dS(i))?i=parseFloat(i):!zD(i)&&Qr.test(n)&&(i=ZS(e,n)),this.setBaseTarget(e,gn(i)?i.get():i)),gn(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const l=Cy(this.props,n,this.presenceContext?.custom);l&&(i=l[e])}if(n&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!gn(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new py),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){jy.render(this.render)}}class c2 extends $D{constructor(){super(...arguments),this.KeyframeResolver=xD}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const i=e.style;return i?i[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;gn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class sa{constructor(e){this.isMounted=!1,this.node=e}update(){}}function u2({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function KD({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function YD(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function wg(t){return t===void 0||t===1}function v0({scale:t,scaleX:e,scaleY:n}){return!wg(t)||!wg(e)||!wg(n)}function Va(t){return v0(t)||d2(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function d2(t){return sw(t.x)||sw(t.y)}function sw(t){return t&&t!=="0%"}function sf(t,e,n){const i=t-n,a=e*i;return n+a}function iw(t,e,n,i,a){return a!==void 0&&(t=sf(t,a,i)),sf(t,n,i)+e}function x0(t,e=0,n=1,i,a){t.min=iw(t.min,e,n,i,a),t.max=iw(t.max,e,n,i,a)}function h2(t,{x:e,y:n}){x0(t.x,e.translate,e.scale,e.originPoint),x0(t.y,n.translate,n.scale,n.originPoint)}const rw=.999999999999,aw=1.0000000000001;function QD(t,e,n,i=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,c;for(let d=0;d<a;d++){l=n[d],c=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(i&&l.options.layoutScroll&&l.scroll&&l!==l.root&&rl(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,h2(t,c)),i&&Va(l.latestValues)&&rl(t,l.latestValues))}e.x<aw&&e.x>rw&&(e.x=1),e.y<aw&&e.y>rw&&(e.y=1)}function il(t,e){t.min=t.min+e,t.max=t.max+e}function ow(t,e,n,i,a=.5){const l=vt(t.min,t.max,a);x0(t,e,n,l,i)}function rl(t,e){ow(t.x,e.x,e.scaleX,e.scale,e.originX),ow(t.y,e.y,e.scaleY,e.scale,e.originY)}function f2(t,e){return u2(YD(t.getBoundingClientRect(),e))}function XD(t,e,n){const i=f2(t,n),{scroll:a}=e;return a&&(il(i.x,a.offset.x),il(i.y,a.offset.y)),i}const WD={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},JD=El.length;function ZD(t,e,n){let i="",a=!0;for(let l=0;l<JD;l++){const c=El[l],d=t[c];if(d===void 0)continue;let m=!0;if(typeof d=="number")m=d===(c.startsWith("scale")?1:0);else{const g=parseFloat(d);m=c.startsWith("scale")?g===1:g===0}if(!m||n){const g=t2(d,Iy[c]);if(!m){a=!1;const v=WD[c]||c;i+=`${v}(${g}) `}n&&(e[c]=g)}}return i=i.trim(),n?i=n(e,a?"":i):a&&(i="none"),i}function Py(t,e,n){const{style:i,vars:a,transformOrigin:l}=t;let c=!1,d=!1;for(const m in e){const g=e[m];if(Sl.has(m)){c=!0;continue}else if(SS(m)){a[m]=g;continue}else{const v=t2(g,Iy[m]);m.startsWith("origin")?(d=!0,l[m]=v):i[m]=v}}if(e.transform||(c||n?i.transform=ZD(e,t.transform,n):i.transform&&(i.transform="none")),d){const{originX:m="50%",originY:g="50%",originZ:v=0}=l;i.transformOrigin=`${m} ${g} ${v}`}}function m2(t,{style:e,vars:n},i,a){const l=t.style;let c;for(c in e)l[c]=e[c];a?.applyProjectionStyles(l,i);for(c in n)l.setProperty(c,n[c])}function lw(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const zc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(we.test(t))t=parseFloat(t);else return t;const n=lw(t,e.target.x),i=lw(t,e.target.y);return`${n}% ${i}%`}},e5={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,a=Qr.parse(t);if(a.length>5)return i;const l=Qr.createTransformer(t),c=typeof a[0]!="number"?1:0,d=n.x.scale*e.x,m=n.y.scale*e.y;a[0+c]/=d,a[1+c]/=m;const g=vt(d,m,.5);return typeof a[2+c]=="number"&&(a[2+c]/=g),typeof a[3+c]=="number"&&(a[3+c]/=g),l(a)}},b0={borderRadius:{...zc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:zc,borderTopRightRadius:zc,borderBottomLeftRadius:zc,borderBottomRightRadius:zc,boxShadow:e5};function p2(t,{layout:e,layoutId:n}){return Sl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!b0[t]||t==="opacity")}function Ly(t,e,n){const i=t.style,a=e?.style,l={};if(!i)return l;for(const c in i)(gn(i[c])||a&&gn(a[c])||p2(c,t)||n?.getValue(c)?.liveStyle!==void 0)&&(l[c]=i[c]);return l}function t5(t){return window.getComputedStyle(t)}class n5 extends c2{constructor(){super(...arguments),this.type="html",this.renderInstance=m2}readValueFromInstance(e,n){if(Sl.has(n))return this.projection?.isProjecting?a0(n):_j(e,n);{const i=t5(e),a=(SS(n)?i.getPropertyValue(n):i[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return f2(e,n)}build(e,n,i){Py(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return Ly(e,n,i)}}const s5={offset:"stroke-dashoffset",array:"stroke-dasharray"},i5={offset:"strokeDashoffset",array:"strokeDasharray"};function r5(t,e,n=1,i=0,a=!0){t.pathLength=1;const l=a?s5:i5;t[l.offset]=`${-i}`,t[l.array]=`${e} ${n}`}const a5=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function g2(t,{attrX:e,attrY:n,attrScale:i,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...d},m,g,v){if(Py(t,d,g),m){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:x,style:_}=t;x.transform&&(_.transform=x.transform,delete x.transform),(_.transform||x.transformOrigin)&&(_.transformOrigin=x.transformOrigin??"50% 50%",delete x.transformOrigin),_.transform&&(_.transformBox=v?.transformBox??"fill-box",delete x.transformBox);for(const E of a5)x[E]!==void 0&&(_[E]=x[E],delete x[E]);e!==void 0&&(x.x=e),n!==void 0&&(x.y=n),i!==void 0&&(x.scale=i),a!==void 0&&r5(x,a,l,c,!1)}const y2=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),v2=t=>typeof t=="string"&&t.toLowerCase()==="svg";function o5(t,e,n,i){m2(t,e,void 0,i);for(const a in e.attrs)t.setAttribute(y2.has(a)?a:Ry(a),e.attrs[a])}function x2(t,e,n){const i=Ly(t,e,n);for(const a in t)if(gn(t[a])||gn(e[a])){const l=El.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[l]=t[a]}return i}class l5 extends c2{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Kt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Sl.has(n)){const i=JS(n);return i&&i.default||0}return n=y2.has(n)?n:Ry(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return x2(e,n,i)}build(e,n,i){g2(e,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,n,i,a){o5(e,n,i,a)}mount(e){this.isSVGTag=v2(e.tagName),super.mount(e)}}const c5=Oy.length;function b2(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?b2(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<c5;n++){const i=Oy[n],a=t.props[i];(du(a)||a===!1)&&(e[i]=a)}return e}function _2(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const u5=[...Vy].reverse(),d5=Vy.length;function h5(t){return e=>Promise.all(e.map(({animation:n,options:i})=>cD(t,n,i)))}function f5(t){let e=h5(t),n=cw(),i=!0;const a=m=>(g,v)=>{const x=al(t,v,m==="exit"?t.presenceContext?.custom:void 0);if(x){const{transition:_,transitionEnd:E,...R}=x;g={...g,...R,...E}}return g};function l(m){e=m(t)}function c(m){const{props:g}=t,v=b2(t.parent)||{},x=[],_=new Set;let E={},R=1/0;for(let j=0;j<d5;j++){const L=u5[j],q=n[L],$=g[L]!==void 0?g[L]:v[L],Z=du($),ne=L===m?q.isActive:null;ne===!1&&(R=j);let de=$===v[L]&&$!==g[L]&&Z;if(de&&i&&t.manuallyAnimateOnMount&&(de=!1),q.protectedKeys={...E},!q.isActive&&ne===null||!$&&!q.prevProp||Of($)||typeof $=="boolean")continue;if(L==="exit"&&q.isActive&&ne!==!0){q.prevResolvedValues&&(E={...E,...q.prevResolvedValues});continue}const I=m5(q.prevProp,$);let S=I||L===m&&q.isActive&&!de&&Z||j>R&&Z,C=!1;const U=Array.isArray($)?$:[$];let P=U.reduce(a(L),{});ne===!1&&(P={});const{prevResolvedValues:H={}}=q,M={...H,...P},ue=F=>{S=!0,_.has(F)&&(C=!0,_.delete(F)),q.needsAnimating[F]=!0;const G=t.getValue(F);G&&(G.liveStyle=!1)};for(const F in M){const G=P[F],he=H[F];if(E.hasOwnProperty(F))continue;let pe=!1;h0(G)&&h0(he)?pe=!_2(G,he):pe=G!==he,pe?G!=null?ue(F):_.add(F):G!==void 0&&_.has(F)?ue(F):q.protectedKeys[F]=!0}q.prevProp=$,q.prevResolvedValues=P,q.isActive&&(E={...E,...P}),i&&t.blockInitialAnimation&&(S=!1);const Y=de&&I;S&&(!Y||C)&&x.push(...U.map(F=>{const G={type:L};if(typeof F=="string"&&i&&!Y&&t.manuallyAnimateOnMount&&t.parent){const{parent:he}=t,pe=al(he,F);if(he.enteringChildren&&pe){const{delayChildren:z}=pe.transition||{};G.delay=HS(he.enteringChildren,t,z)}}return{animation:F,options:G}}))}if(_.size){const j={};if(typeof g.initial!="boolean"){const L=al(t,Array.isArray(g.initial)?g.initial[0]:g.initial);L&&L.transition&&(j.transition=L.transition)}_.forEach(L=>{const q=t.getBaseTarget(L),$=t.getValue(L);$&&($.liveStyle=!0),j[L]=q??null}),x.push({animation:j})}let D=!!x.length;return i&&(g.initial===!1||g.initial===g.animate)&&!t.manuallyAnimateOnMount&&(D=!1),i=!1,D?e(x):Promise.resolve()}function d(m,g){if(n[m].isActive===g)return Promise.resolve();t.variantChildren?.forEach(x=>x.animationState?.setActive(m,g)),n[m].isActive=g;const v=c(m);for(const x in n)n[x].protectedKeys={};return v}return{animateChanges:c,setActive:d,setAnimateFunction:l,getState:()=>n,reset:()=>{n=cw()}}}function m5(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!_2(e,t):!1}function Da(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function cw(){return{animate:Da(!0),whileInView:Da(),whileHover:Da(),whileTap:Da(),whileDrag:Da(),whileFocus:Da(),exit:Da()}}function uw(t,e){t.min=e.min,t.max=e.max}function Ss(t,e){uw(t.x,e.x),uw(t.y,e.y)}function dw(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}const w2=1e-4,p5=1-w2,g5=1+w2,T2=.01,y5=0-T2,v5=0+T2;function Tn(t){return t.max-t.min}function x5(t,e,n){return Math.abs(t-e)<=n}function hw(t,e,n,i=.5){t.origin=i,t.originPoint=vt(e.min,e.max,t.origin),t.scale=Tn(n)/Tn(e),t.translate=vt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=p5&&t.scale<=g5||isNaN(t.scale))&&(t.scale=1),(t.translate>=y5&&t.translate<=v5||isNaN(t.translate))&&(t.translate=0)}function Wc(t,e,n,i){hw(t.x,e.x,n.x,i?i.originX:void 0),hw(t.y,e.y,n.y,i?i.originY:void 0)}function fw(t,e,n){t.min=n.min+e.min,t.max=t.min+Tn(e)}function b5(t,e,n){fw(t.x,e.x,n.x),fw(t.y,e.y,n.y)}function mw(t,e,n){t.min=e.min-n.min,t.max=t.min+Tn(e)}function rf(t,e,n){mw(t.x,e.x,n.x),mw(t.y,e.y,n.y)}function pw(t,e,n,i,a){return t-=e,t=sf(t,1/n,i),a!==void 0&&(t=sf(t,1/a,i)),t}function _5(t,e=0,n=1,i=.5,a,l=t,c=t){if(ri.test(e)&&(e=parseFloat(e),e=vt(c.min,c.max,e/100)-c.min),typeof e!="number")return;let d=vt(l.min,l.max,i);t===l&&(d-=e),t.min=pw(t.min,e,n,d,a),t.max=pw(t.max,e,n,d,a)}function gw(t,e,[n,i,a],l,c){_5(t,e[n],e[i],e[a],e.scale,l,c)}const w5=["x","scaleX","originX"],T5=["y","scaleY","originY"];function yw(t,e,n,i){gw(t.x,e,w5,n?n.x:void 0,i?i.x:void 0),gw(t.y,e,T5,n?n.y:void 0,i?i.y:void 0)}function vw(t){return t.translate===0&&t.scale===1}function E2(t){return vw(t.x)&&vw(t.y)}function xw(t,e){return t.min===e.min&&t.max===e.max}function E5(t,e){return xw(t.x,e.x)&&xw(t.y,e.y)}function bw(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function S2(t,e){return bw(t.x,e.x)&&bw(t.y,e.y)}function _w(t){return Tn(t.x)/Tn(t.y)}function ww(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function si(t){return[t("x"),t("y")]}function S5(t,e,n){let i="";const a=t.x.translate/e.x,l=t.y.translate/e.y,c=n?.z||0;if((a||l||c)&&(i=`translate3d(${a}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:g,rotate:v,rotateX:x,rotateY:_,skewX:E,skewY:R}=n;g&&(i=`perspective(${g}px) ${i}`),v&&(i+=`rotate(${v}deg) `),x&&(i+=`rotateX(${x}deg) `),_&&(i+=`rotateY(${_}deg) `),E&&(i+=`skewX(${E}deg) `),R&&(i+=`skewY(${R}deg) `)}const d=t.x.scale*e.x,m=t.y.scale*e.y;return(d!==1||m!==1)&&(i+=`scale(${d}, ${m})`),i||"none"}const A2=["TopLeft","TopRight","BottomLeft","BottomRight"],A5=A2.length,Tw=t=>typeof t=="string"?parseFloat(t):t,Ew=t=>typeof t=="number"||we.test(t);function k5(t,e,n,i,a,l){a?(t.opacity=vt(0,n.opacity??1,N5(i)),t.opacityExit=vt(e.opacity??1,0,C5(i))):l&&(t.opacity=vt(e.opacity??1,n.opacity??1,i));for(let c=0;c<A5;c++){const d=`border${A2[c]}Radius`;let m=Sw(e,d),g=Sw(n,d);if(m===void 0&&g===void 0)continue;m||(m=0),g||(g=0),m===0||g===0||Ew(m)===Ew(g)?(t[d]=Math.max(vt(Tw(m),Tw(g),i),0),(ri.test(g)||ri.test(m))&&(t[d]+="%")):t[d]=g}(e.rotate||n.rotate)&&(t.rotate=vt(e.rotate||0,n.rotate||0,i))}function Sw(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const N5=k2(0,.5,xS),C5=k2(.5,.95,us);function k2(t,e,n){return i=>i<t?0:i>e?1:n(lu(t,e,i))}function R5(t,e,n){const i=gn(t)?t:hl(t);return i.start(Ny("",i,e,n)),i.animation}function hu(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}const I5=(t,e)=>t.depth-e.depth;class j5{constructor(){this.children=[],this.isDirty=!1}add(e){hy(this.children,e),this.isDirty=!0}remove(e){Jh(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(I5),this.isDirty=!1,this.children.forEach(e)}}function D5(t,e){const n=wn.now(),i=({timestamp:a})=>{const l=a-n;l>=e&&(Yr(i),t(l-e))};return dt.setup(i,!0),()=>Yr(i)}function Uh(t){return gn(t)?t.get():t}class M5{constructor(){this.members=[]}add(e){hy(this.members,e);for(let n=this.members.length-1;n>=0;n--){const i=this.members[n];if(i===e||i===this.lead||i===this.prevLead)continue;const a=i.instance;a&&a.isConnected===!1&&i.isPresent!==!1&&!i.snapshot&&Jh(this.members,i)}e.scheduleRender()}remove(e){if(Jh(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let i;for(let a=n;a>=0;a--){const l=this.members[a],c=l.instance;if(l.isPresent!==!1&&(!c||c.isConnected!==!1)){i=l;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender();const a=i.options.layoutDependency,l=e.options.layoutDependency;if(!(a!==void 0&&l!==void 0&&a===l)){const m=i.instance;m&&m.isConnected===!1&&!i.snapshot||(e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0))}const{crossfade:d}=e.options;d===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const zh={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Tg=["","X","Y","Z"],V5=1e3;let O5=0;function Eg(t,e,n,i){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),i&&(i[t]=0))}function N2(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=YS(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",dt,!(a||l))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&N2(i)}function C2({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(c={},d=e?.()){this.id=O5++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(U5),this.nodes.forEach(H5),this.nodes.forEach(q5),this.nodes.forEach(z5)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new j5)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new py),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const m=this.eventHandlers.get(c);m&&m.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=My(c)&&!LD(c),this.instance=c;const{layoutId:d,layout:m,visualElement:g}=this.options;if(g&&!g.current&&g.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||d)&&(this.isLayoutDirty=!0),t){let v,x=0;const _=()=>this.root.updateBlockedByResize=!1;dt.read(()=>{x=window.innerWidth}),t(c,()=>{const E=window.innerWidth;E!==x&&(x=E,this.root.updateBlockedByResize=!0,v&&v(),v=D5(_,250),zh.hasAnimatedSinceResize&&(zh.hasAnimatedSinceResize=!1,this.nodes.forEach(Nw)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&g&&(d||m)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:x,hasRelativeLayoutChanged:_,layout:E})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const R=this.options.transition||g.getDefaultTransition()||Q5,{onLayoutAnimationStart:D,onLayoutAnimationComplete:j}=g.getProps(),L=!this.targetLayout||!S2(this.targetLayout,E),q=!x&&_;if(this.options.layoutRoot||this.resumeFrom||q||x&&(L||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const $={...ky(R,"layout"),onPlay:D,onComplete:j};(g.shouldReduceMotion||this.options.layoutRoot)&&($.delay=0,$.type=!1),this.startAnimation($),this.setAnimationOrigin(v,q)}else x||Nw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=E})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Yr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(G5),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&N2(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const x=this.path[v];x.shouldResetTransform=!0,x.updateScroll("snapshot"),x.options.layoutRoot&&x.willUpdate(!1)}const{layoutId:d,layout:m}=this.options;if(d===void 0&&!m)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Aw);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(kw);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(F5),this.nodes.forEach(P5),this.nodes.forEach(L5)):this.nodes.forEach(kw),this.clearAllSnapshots();const d=wn.now();ln.delta=hi(0,1e3/60,d-ln.timestamp),ln.timestamp=d,ln.isProcessing=!0,pg.update.process(ln),pg.preRender.process(ln),pg.render.process(ln),ln.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,jy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(B5),this.sharedNodes.forEach($5)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,dt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){dt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Tn(this.snapshot.measuredBox.x)&&!Tn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Kt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d&&this.instance){const m=i(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!E2(this.projectionDelta),m=this.getTransformTemplate(),g=m?m(this.latestValues,""):void 0,v=g!==this.prevTransformTemplateValue;c&&this.instance&&(d||Va(this.latestValues)||v)&&(a(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let m=this.removeElementScroll(d);return c&&(m=this.removeTransform(m)),X5(m),{animationId:this.root.animationId,measuredBox:d,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return Kt();const d=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(W5))){const{scroll:g}=this.root;g&&(il(d.x,g.offset.x),il(d.y,g.offset.y))}return d}removeElementScroll(c){const d=Kt();if(Ss(d,c),this.scroll?.wasRoot)return d;for(let m=0;m<this.path.length;m++){const g=this.path[m],{scroll:v,options:x}=g;g!==this.root&&v&&x.layoutScroll&&(v.wasRoot&&Ss(d,c),il(d.x,v.offset.x),il(d.y,v.offset.y))}return d}applyTransform(c,d=!1){const m=Kt();Ss(m,c);for(let g=0;g<this.path.length;g++){const v=this.path[g];!d&&v.options.layoutScroll&&v.scroll&&v!==v.root&&rl(m,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),Va(v.latestValues)&&rl(m,v.latestValues)}return Va(this.latestValues)&&rl(m,this.latestValues),m}removeTransform(c){const d=Kt();Ss(d,c);for(let m=0;m<this.path.length;m++){const g=this.path[m];if(!g.instance||!Va(g.latestValues))continue;v0(g.latestValues)&&g.updateSnapshot();const v=Kt(),x=g.measurePageBox();Ss(v,x),yw(d,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,v)}return Va(this.latestValues)&&yw(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ln.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==d;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:x}=this.options;if(!this.layout||!(v||x))return;this.resolvedRelativeTargetAt=ln.timestamp;const _=this.getClosestProjectingParent();_&&this.linkedParentVersion!==_.layoutVersion&&!_.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(_&&_.layout?this.createRelativeTarget(_,this.layout.layoutBox,_.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Kt(),this.targetWithTransforms=Kt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),b5(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ss(this.target,this.layout.layoutBox),h2(this.target,this.targetDelta)):Ss(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,_&&!!_.resumingFrom==!!this.resumingFrom&&!_.options.layoutScroll&&_.target&&this.animationProgress!==1?this.createRelativeTarget(_,this.target,_.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||v0(this.parent.latestValues)||d2(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,d,m){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Kt(),this.relativeTargetOrigin=Kt(),rf(this.relativeTargetOrigin,d,m),Ss(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const c=this.getLead(),d=!!this.resumingFrom||this!==c;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===ln.timestamp&&(m=!1),m)return;const{layout:g,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||v))return;Ss(this.layoutCorrected,this.layout.layoutBox);const x=this.treeScale.x,_=this.treeScale.y;QD(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Kt());const{target:E}=c;if(!E){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(dw(this.prevProjectionDelta.x,this.projectionDelta.x),dw(this.prevProjectionDelta.y,this.projectionDelta.y)),Wc(this.projectionDelta,this.layoutCorrected,E,this.latestValues),(this.treeScale.x!==x||this.treeScale.y!==_||!ww(this.projectionDelta.x,this.prevProjectionDelta.x)||!ww(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",E))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=sl(),this.projectionDelta=sl(),this.projectionDeltaWithTransform=sl()}setAnimationOrigin(c,d=!1){const m=this.snapshot,g=m?m.latestValues:{},v={...this.latestValues},x=sl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const _=Kt(),E=m?m.source:void 0,R=this.layout?this.layout.source:void 0,D=E!==R,j=this.getStack(),L=!j||j.members.length<=1,q=!!(D&&!L&&this.options.crossfade===!0&&!this.path.some(Y5));this.animationProgress=0;let $;this.mixTargetDelta=Z=>{const ne=Z/1e3;Cw(x.x,c.x,ne),Cw(x.y,c.y,ne),this.setTargetDelta(x),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(rf(_,this.layout.layoutBox,this.relativeParent.layout.layoutBox),K5(this.relativeTarget,this.relativeTargetOrigin,_,ne),$&&E5(this.relativeTarget,$)&&(this.isProjectionDirty=!1),$||($=Kt()),Ss($,this.relativeTarget)),D&&(this.animationValues=v,k5(v,g,this.latestValues,ne,q,L)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ne},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Yr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=dt.update(()=>{zh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=hl(0)),this.currentAnimation=R5(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),c.onUpdate&&c.onUpdate(d)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(V5),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:m,layout:g,latestValues:v}=c;if(!(!d||!m||!g)){if(this!==c&&this.layout&&g&&R2(this.options.animationType,this.layout.layoutBox,g.layoutBox)){m=this.target||Kt();const x=Tn(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+x;const _=Tn(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+_}Ss(d,m),rl(d,v),Wc(this.projectionDeltaWithTransform,this.layoutCorrected,d,v)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new M5),this.sharedNodes.get(c).add(d);const g=d.options.initialPromotionConfig;d.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:m}={}){const g=this.getStack();g&&g.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(d=!0),!d)return;const g={};m.z&&Eg("z",c,g,this.animationValues);for(let v=0;v<Tg.length;v++)Eg(`rotate${Tg[v]}`,c,g,this.animationValues),Eg(`skew${Tg[v]}`,c,g,this.animationValues);c.render();for(const v in g)c.setStaticValue(v,g[v]),this.animationValues&&(this.animationValues[v]=g[v]);c.scheduleRender()}applyProjectionStyles(c,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Uh(d?.pointerEvents)||"",c.transform=m?m(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Uh(d?.pointerEvents)||""),this.hasProjected&&!Va(this.latestValues)&&(c.transform=m?m({},""):"none",this.hasProjected=!1);return}c.visibility="";const v=g.animationValues||g.latestValues;this.applyTransformsToTarget();let x=S5(this.projectionDeltaWithTransform,this.treeScale,v);m&&(x=m(v,x)),c.transform=x;const{x:_,y:E}=this.projectionDelta;c.transformOrigin=`${_.origin*100}% ${E.origin*100}% 0`,g.animationValues?c.opacity=g===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:c.opacity=g===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const R in b0){if(v[R]===void 0)continue;const{correct:D,applyTo:j,isCSSVariable:L}=b0[R],q=x==="none"?v[R]:D(v[R],g);if(j){const $=j.length;for(let Z=0;Z<$;Z++)c[j[Z]]=q}else L?this.options.visualElement.renderState.vars[R]=q:c[R]=q}this.options.layoutId&&(c.pointerEvents=g===this?Uh(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(Aw),this.root.sharedNodes.clear()}}}function P5(t){t.updateLayout()}function L5(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?si(v=>{const x=l?e.measuredBox[v]:e.layoutBox[v],_=Tn(x);x.min=n[v].min,x.max=x.min+_}):R2(a,e.layoutBox,n)&&si(v=>{const x=l?e.measuredBox[v]:e.layoutBox[v],_=Tn(n[v]);x.max=x.min+_,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[v].max=t.relativeTarget[v].min+_)});const c=sl();Wc(c,n,e.layoutBox);const d=sl();l?Wc(d,t.applyTransform(i,!0),e.measuredBox):Wc(d,n,e.layoutBox);const m=!E2(c);let g=!1;if(!t.resumeFrom){const v=t.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:x,layout:_}=v;if(x&&_){const E=Kt();rf(E,e.layoutBox,x.layoutBox);const R=Kt();rf(R,n,_.layoutBox),S2(E,R)||(g=!0),v.options.layoutRoot&&(t.relativeTarget=R,t.relativeTargetOrigin=E,t.relativeParent=v)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:d,layoutDelta:c,hasLayoutChanged:m,hasRelativeLayoutChanged:g})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function U5(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function z5(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function B5(t){t.clearSnapshot()}function Aw(t){t.clearMeasurements()}function kw(t){t.isLayoutDirty=!1}function F5(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Nw(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function H5(t){t.resolveTargetDelta()}function q5(t){t.calcProjection()}function G5(t){t.resetSkewAndRotation()}function $5(t){t.removeLeadSnapshot()}function Cw(t,e,n){t.translate=vt(e.translate,0,n),t.scale=vt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Rw(t,e,n,i){t.min=vt(e.min,n.min,i),t.max=vt(e.max,n.max,i)}function K5(t,e,n,i){Rw(t.x,e.x,n.x,i),Rw(t.y,e.y,n.y,i)}function Y5(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Q5={duration:.45,ease:[.4,0,.1,1]},Iw=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),jw=Iw("applewebkit/")&&!Iw("chrome/")?Math.round:us;function Dw(t){t.min=jw(t.min),t.max=jw(t.max)}function X5(t){Dw(t.x),Dw(t.y)}function R2(t,e,n){return t==="position"||t==="preserve-aspect"&&!x5(_w(e),_w(n),.2)}function W5(t){return t!==t.root&&t.scroll?.wasRoot}const J5=C2({attachResizeListener:(t,e)=>hu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),Sg={current:void 0},I2=C2({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Sg.current){const t=new J5({});t.mount(window),t.setOptions({layoutScroll:!0}),Sg.current=t}return Sg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Uy=N.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function Mw(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Z5(...t){return e=>{let n=!1;const i=t.map(a=>{const l=Mw(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<i.length;a++){const l=i[a];typeof l=="function"?l():Mw(t[a],null)}}}}function eM(...t){return N.useCallback(Z5(...t),t)}class tM extends N.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const i=n.offsetParent,a=g0(i)&&i.offsetWidth||0,l=g0(i)&&i.offsetHeight||0,c=this.props.sizeRef.current;c.height=n.offsetHeight||0,c.width=n.offsetWidth||0,c.top=n.offsetTop,c.left=n.offsetLeft,c.right=a-c.width-c.left,c.bottom=l-c.height-c.top}return null}componentDidUpdate(){}render(){return this.props.children}}function nM({children:t,isPresent:e,anchorX:n,anchorY:i,root:a,pop:l}){const c=N.useId(),d=N.useRef(null),m=N.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:g}=N.useContext(Uy),v=t.props?.ref??t?.ref,x=eM(d,v);return N.useInsertionEffect(()=>{const{width:_,height:E,top:R,left:D,right:j,bottom:L}=m.current;if(e||l===!1||!d.current||!_||!E)return;const q=n==="left"?`left: ${D}`:`right: ${j}`,$=i==="bottom"?`bottom: ${L}`:`top: ${R}`;d.current.dataset.motionPopId=c;const Z=document.createElement("style");g&&(Z.nonce=g);const ne=a??document.head;return ne.appendChild(Z),Z.sheet&&Z.sheet.insertRule(`
          [data-motion-pop-id="${c}"] {
            position: absolute !important;
            width: ${_}px !important;
            height: ${E}px !important;
            ${q}px !important;
            ${$}px !important;
          }
        `),()=>{ne.contains(Z)&&ne.removeChild(Z)}},[e]),f.jsx(tM,{isPresent:e,childRef:d,sizeRef:m,pop:l,children:l===!1?t:N.cloneElement(t,{ref:x})})}const sM=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:a,presenceAffectsLayout:l,mode:c,anchorX:d,anchorY:m,root:g})=>{const v=dy(iM),x=N.useId();let _=!0,E=N.useMemo(()=>(_=!1,{id:x,initial:e,isPresent:n,custom:a,onExitComplete:R=>{v.set(R,!0);for(const D of v.values())if(!D)return;i&&i()},register:R=>(v.set(R,!1),()=>v.delete(R))}),[n,v,i]);return l&&_&&(E={...E}),N.useMemo(()=>{v.forEach((R,D)=>v.set(D,!1))},[n]),N.useEffect(()=>{!n&&!v.size&&i&&i()},[n]),t=f.jsx(nM,{pop:c==="popLayout",isPresent:n,anchorX:d,anchorY:m,root:g,children:t}),f.jsx(Vf.Provider,{value:E,children:t})};function iM(){return new Map}function j2(t=!0){const e=N.useContext(Vf);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:a}=e,l=N.useId();N.useEffect(()=>{if(t)return a(l)},[t]);const c=N.useCallback(()=>t&&i&&i(l),[l,i,t]);return!n&&i?[!1,c]:[!0]}const xh=t=>t.key||"";function Vw(t){const e=[];return N.Children.forEach(t,n=>{N.isValidElement(n)&&e.push(n)}),e}const hs=({children:t,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:a=!0,mode:l="sync",propagate:c=!1,anchorX:d="left",anchorY:m="top",root:g})=>{const[v,x]=j2(c),_=N.useMemo(()=>Vw(t),[t]),E=c&&!v?[]:_.map(xh),R=N.useRef(!0),D=N.useRef(_),j=dy(()=>new Map),L=N.useRef(new Set),[q,$]=N.useState(_),[Z,ne]=N.useState(_);lS(()=>{R.current=!1,D.current=_;for(let S=0;S<Z.length;S++){const C=xh(Z[S]);E.includes(C)?(j.delete(C),L.current.delete(C)):j.get(C)!==!0&&j.set(C,!1)}},[Z,E.length,E.join("-")]);const de=[];if(_!==q){let S=[..._];for(let C=0;C<Z.length;C++){const U=Z[C],P=xh(U);E.includes(P)||(S.splice(C,0,U),de.push(U))}return l==="wait"&&de.length&&(S=de),ne(Vw(S)),$(_),null}const{forceRender:I}=N.useContext(uy);return f.jsx(f.Fragment,{children:Z.map(S=>{const C=xh(S),U=c&&!v?!1:_===Z||E.includes(C),P=()=>{if(L.current.has(C))return;if(L.current.add(C),j.has(C))j.set(C,!0);else return;let H=!0;j.forEach(M=>{M||(H=!1)}),H&&(I?.(),ne(D.current),c&&x?.(),i&&i())};return f.jsx(sM,{isPresent:U,initial:!R.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:g,onExitComplete:U?void 0:P,anchorX:d,anchorY:m,children:S},C)})})},D2=N.createContext({strict:!1}),Ow={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let Pw=!1;function rM(){if(Pw)return;const t={};for(const e in Ow)t[e]={isEnabled:n=>Ow[e].some(i=>!!n[i])};l2(t),Pw=!0}function M2(){return rM(),GD()}function aM(t){const e=M2();for(const n in t)e[n]={...e[n],...t[n]};l2(e)}const oM=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function af(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||oM.has(t)}let V2=t=>!af(t);function lM(t){typeof t=="function"&&(V2=e=>e.startsWith("on")?!af(e):t(e))}try{lM(require("@emotion/is-prop-valid").default)}catch{}function cM(t,e,n){const i={};for(const a in t)a==="values"&&typeof t.values=="object"||(V2(a)||n===!0&&af(a)||!e&&!af(a)||t.draggable&&a.startsWith("onDrag"))&&(i[a]=t[a]);return i}const Lf=N.createContext({});function uM(t,e){if(Pf(t)){const{initial:n,animate:i}=t;return{initial:n===!1||du(n)?n:void 0,animate:du(i)?i:void 0}}return t.inherit!==!1?e:{}}function dM(t){const{initial:e,animate:n}=uM(t,N.useContext(Lf));return N.useMemo(()=>({initial:e,animate:n}),[Lw(e),Lw(n)])}function Lw(t){return Array.isArray(t)?t.join(" "):t}const zy=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function O2(t,e,n){for(const i in e)!gn(e[i])&&!p2(i,n)&&(t[i]=e[i])}function hM({transformTemplate:t},e){return N.useMemo(()=>{const n=zy();return Py(n,e,t),Object.assign({},n.vars,n.style)},[e])}function fM(t,e){const n=t.style||{},i={};return O2(i,n,t),Object.assign(i,hM(t,e)),i}function mM(t,e){const n={},i=fM(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const P2=()=>({...zy(),attrs:{}});function pM(t,e,n,i){const a=N.useMemo(()=>{const l=P2();return g2(l,e,v2(i),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};O2(l,t.style,t),a.style={...l,...a.style}}return a}const gM=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function By(t){return typeof t!="string"||t.includes("-")?!1:!!(gM.indexOf(t)>-1||/[A-Z]/u.test(t))}function yM(t,e,n,{latestValues:i},a,l=!1,c){const m=(c??By(t)?pM:mM)(e,i,a,t),g=cM(e,typeof t=="string",l),v=t!==N.Fragment?{...g,...m,ref:n}:{},{children:x}=e,_=N.useMemo(()=>gn(x)?x.get():x,[x]);return N.createElement(t,{...v,children:_})}function vM({scrapeMotionValuesFromProps:t,createRenderState:e},n,i,a){return{latestValues:xM(n,i,a,t),renderState:e()}}function xM(t,e,n,i){const a={},l=i(t,{});for(const _ in l)a[_]=Uh(l[_]);let{initial:c,animate:d}=t;const m=Pf(t),g=a2(t);e&&g&&!m&&t.inherit!==!1&&(c===void 0&&(c=e.initial),d===void 0&&(d=e.animate));let v=n?n.initial===!1:!1;v=v||c===!1;const x=v?d:c;if(x&&typeof x!="boolean"&&!Of(x)){const _=Array.isArray(x)?x:[x];for(let E=0;E<_.length;E++){const R=Cy(t,_[E]);if(R){const{transitionEnd:D,transition:j,...L}=R;for(const q in L){let $=L[q];if(Array.isArray($)){const Z=v?$.length-1:0;$=$[Z]}$!==null&&(a[q]=$)}for(const q in D)a[q]=D[q]}}}return a}const L2=t=>(e,n)=>{const i=N.useContext(Lf),a=N.useContext(Vf),l=()=>vM(t,e,i,a);return n?l():dy(l)},bM=L2({scrapeMotionValuesFromProps:Ly,createRenderState:zy}),_M=L2({scrapeMotionValuesFromProps:x2,createRenderState:P2}),wM=Symbol.for("motionComponentSymbol");function TM(t,e,n){const i=N.useRef(n);N.useInsertionEffect(()=>{i.current=n});const a=N.useRef(null);return N.useCallback(l=>{l&&t.onMount?.(l),e&&(l?e.mount(l):e.unmount());const c=i.current;if(typeof c=="function")if(l){const d=c(l);typeof d=="function"&&(a.current=d)}else a.current?(a.current(),a.current=null):c(l);else c&&(c.current=l)},[e])}const U2=N.createContext({});function Xo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function EM(t,e,n,i,a,l){const{visualElement:c}=N.useContext(Lf),d=N.useContext(D2),m=N.useContext(Vf),g=N.useContext(Uy),v=g.reducedMotion,x=g.skipAnimations,_=N.useRef(null),E=N.useRef(!1);i=i||d.renderer,!_.current&&i&&(_.current=i(t,{visualState:e,parent:c,props:n,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:v,skipAnimations:x,isSVG:l}),E.current&&_.current&&(_.current.manuallyAnimateOnMount=!0));const R=_.current,D=N.useContext(U2);R&&!R.projection&&a&&(R.type==="html"||R.type==="svg")&&SM(_.current,n,a,D);const j=N.useRef(!1);N.useInsertionEffect(()=>{R&&j.current&&R.update(n,m)});const L=n[KS],q=N.useRef(!!L&&!window.MotionHandoffIsComplete?.(L)&&window.MotionHasOptimisedAnimation?.(L));return lS(()=>{E.current=!0,R&&(j.current=!0,window.MotionIsMounted=!0,R.updateFeatures(),R.scheduleRenderMicrotask(),q.current&&R.animationState&&R.animationState.animateChanges())}),N.useEffect(()=>{R&&(!q.current&&R.animationState&&R.animationState.animateChanges(),q.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(L)}),q.current=!1),R.enteringChildren=void 0)}),R}function SM(t,e,n,i){const{layoutId:a,layout:l,drag:c,dragConstraints:d,layoutScroll:m,layoutRoot:g,layoutCrossfade:v}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:z2(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||d&&Xo(d),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:i,crossfade:v,layoutScroll:m,layoutRoot:g})}function z2(t){if(t)return t.options.allowProjection!==!1?t.projection:z2(t.parent)}function Ag(t,{forwardMotionProps:e=!1,type:n}={},i,a){i&&aM(i);const l=n?n==="svg":By(t),c=l?_M:bM;function d(g,v){let x;const _={...N.useContext(Uy),...g,layoutId:AM(g)},{isStatic:E}=_,R=dM(g),D=c(g,E);if(!E&&oS){kM();const j=NM(_);x=j.MeasureLayout,R.visualElement=EM(t,D,_,a,j.ProjectionNode,l)}return f.jsxs(Lf.Provider,{value:R,children:[x&&R.visualElement?f.jsx(x,{visualElement:R.visualElement,..._}):null,yM(t,g,TM(D,R.visualElement,v),D,E,e,l)]})}d.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const m=N.forwardRef(d);return m[wM]=t,m}function AM({layoutId:t}){const e=N.useContext(uy).id;return e&&t!==void 0?e+"-"+t:t}function kM(t,e){N.useContext(D2).strict}function NM(t){const e=M2(),{drag:n,layout:i}=e;if(!n&&!i)return{};const a={...n,...i};return{MeasureLayout:n?.isEnabled(t)||i?.isEnabled(t)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function CM(t,e){if(typeof Proxy>"u")return Ag;const n=new Map,i=(l,c)=>Ag(l,c,t,e),a=(l,c)=>i(l,c);return new Proxy(a,{get:(l,c)=>c==="create"?i:(n.has(c)||n.set(c,Ag(c,void 0,t,e)),n.get(c))})}const RM=(t,e)=>e.isSVG??By(t)?new l5(e):new n5(e,{allowProjection:t!==N.Fragment});class IM extends sa{constructor(e){super(e),e.animationState||(e.animationState=f5(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Of(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let jM=0;class DM extends sa{constructor(){super(...arguments),this.id=jM++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const MM={animation:{Feature:IM},exit:{Feature:DM}};function Nu(t){return{point:{x:t.pageX,y:t.pageY}}}const VM=t=>e=>Dy(e)&&t(e,Nu(e));function Jc(t,e,n,i){return hu(t,e,VM(n),i)}const B2=({current:t})=>t?t.ownerDocument.defaultView:null,Uw=(t,e)=>Math.abs(t-e);function OM(t,e){const n=Uw(t.x,e.x),i=Uw(t.y,e.y);return Math.sqrt(n**2+i**2)}const zw=new Set(["auto","scroll"]);class F2{constructor(e,n,{transformPagePoint:i,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3,element:d}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=E=>{this.handleScroll(E.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=Ng(this.lastMoveEventInfo,this.history),R=this.startEvent!==null,D=OM(E.offset,{x:0,y:0})>=this.distanceThreshold;if(!R&&!D)return;const{point:j}=E,{timestamp:L}=ln;this.history.push({...j,timestamp:L});const{onStart:q,onMove:$}=this.handlers;R||(q&&q(this.lastMoveEvent,E),this.startEvent=this.lastMoveEvent),$&&$(this.lastMoveEvent,E)},this.handlePointerMove=(E,R)=>{this.lastMoveEvent=E,this.lastMoveEventInfo=kg(R,this.transformPagePoint),dt.update(this.updatePoint,!0)},this.handlePointerUp=(E,R)=>{this.end();const{onEnd:D,onSessionEnd:j,resumeAnimation:L}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&L&&L(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const q=Ng(E.type==="pointercancel"?this.lastMoveEventInfo:kg(R,this.transformPagePoint),this.history);this.startEvent&&D&&D(E,q),j&&j(E,q)},!Dy(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=c,this.contextWindow=a||window;const m=Nu(e),g=kg(m,this.transformPagePoint),{point:v}=g,{timestamp:x}=ln;this.history=[{...v,timestamp:x}];const{onSessionStart:_}=n;_&&_(e,Ng(g,this.history)),this.removeListeners=Su(Jc(this.contextWindow,"pointermove",this.handlePointerMove),Jc(this.contextWindow,"pointerup",this.handlePointerUp),Jc(this.contextWindow,"pointercancel",this.handlePointerUp)),d&&this.startScrollTracking(d)}startScrollTracking(e){let n=e.parentElement;for(;n;){const i=getComputedStyle(n);(zw.has(i.overflowX)||zw.has(i.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const i=e===window,a=i?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},l={x:a.x-n.x,y:a.y-n.y};l.x===0&&l.y===0||(i?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=l.x,this.lastMoveEventInfo.point.y+=l.y):this.history.length>0&&(this.history[0].x-=l.x,this.history[0].y-=l.y),this.scrollPositions.set(e,a),dt.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Yr(this.updatePoint)}}function kg(t,e){return e?{point:e(t.point)}:t}function Bw(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Ng({point:t},e){return{point:t,delta:Bw(t,H2(e)),offset:Bw(t,PM(e)),velocity:LM(e,.1)}}function PM(t){return t[0]}function H2(t){return t[t.length-1]}function LM(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const a=H2(t);for(;n>=0&&(i=t[n],!(a.timestamp-i.timestamp>Rs(e)));)n--;if(!i)return{x:0,y:0};i===t[0]&&t.length>2&&a.timestamp-i.timestamp>Rs(e)*2&&(i=t[1]);const l=cs(a.timestamp-i.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-i.x)/l,y:(a.y-i.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function UM(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?vt(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?vt(n,t,i.max):Math.min(t,n)),t}function Fw(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function zM(t,{top:e,left:n,bottom:i,right:a}){return{x:Fw(t.x,n,a),y:Fw(t.y,e,i)}}function Hw(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function BM(t,e){return{x:Hw(t.x,e.x),y:Hw(t.y,e.y)}}function FM(t,e){let n=.5;const i=Tn(t),a=Tn(e);return a>i?n=lu(e.min,e.max-i,t.min):i>a&&(n=lu(t.min,t.max-a,e.min)),hi(0,1,n)}function HM(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const _0=.35;function qM(t=_0){return t===!1?t=0:t===!0&&(t=_0),{x:qw(t,"left","right"),y:qw(t,"top","bottom")}}function qw(t,e,n){return{min:Gw(t,e),max:Gw(t,n)}}function Gw(t,e){return typeof t=="number"?t:t[e]||0}const GM=new WeakMap;class $M{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Kt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=x=>{n&&this.snapToCursor(Nu(x).point),this.stopAnimation()},c=(x,_)=>{const{drag:E,dragPropagation:R,onDragStart:D}=this.getProps();if(E&&!R&&(this.openDragLock&&this.openDragLock(),this.openDragLock=_D(E),!this.openDragLock))return;this.latestPointerEvent=x,this.latestPanInfo=_,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),si(L=>{let q=this.getAxisMotionValue(L).get()||0;if(ri.test(q)){const{projection:$}=this.visualElement;if($&&$.layout){const Z=$.layout.layoutBox[L];Z&&(q=Tn(Z)*(parseFloat(q)/100))}}this.originPoint[L]=q}),D&&dt.update(()=>D(x,_),!1,!0),f0(this.visualElement,"transform");const{animationState:j}=this.visualElement;j&&j.setActive("whileDrag",!0)},d=(x,_)=>{this.latestPointerEvent=x,this.latestPanInfo=_;const{dragPropagation:E,dragDirectionLock:R,onDirectionLock:D,onDrag:j}=this.getProps();if(!E&&!this.openDragLock)return;const{offset:L}=_;if(R&&this.currentDirection===null){this.currentDirection=YM(L),this.currentDirection!==null&&D&&D(this.currentDirection);return}this.updateAxis("x",_.point,L),this.updateAxis("y",_.point,L),this.visualElement.render(),j&&dt.update(()=>j(x,_),!1,!0)},m=(x,_)=>{this.latestPointerEvent=x,this.latestPanInfo=_,this.stop(x,_),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>{const{dragSnapToOrigin:x}=this.getProps();(x||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:v}=this.getProps();this.panSession=new F2(e,{onSessionStart:l,onStart:c,onMove:d,onSessionEnd:m,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,distanceThreshold:i,contextWindow:B2(this.visualElement),element:this.visualElement.current})}stop(e,n){const i=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!i)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:d}=this.getProps();d&&dt.postRender(()=>d(i,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,n,i){const{drag:a}=this.getProps();if(!i||!bh(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(c=UM(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&Xo(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=zM(i.layoutBox,e):this.constraints=!1,this.elastic=qM(n),a!==this.constraints&&!Xo(e)&&i&&this.constraints&&!this.hasMutatedConstraints&&si(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=HM(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Xo(e))return!1;const i=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=XD(i,a.root,this.visualElement.getTransformPagePoint());let c=BM(a.layout.layoutBox,l);if(n){const d=n(KD(c));this.hasMutatedConstraints=!!d,d&&(c=u2(d))}return c}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),m=this.constraints||{},g=si(v=>{if(!bh(v,n,this.currentDirection))return;let x=m&&m[v]||{};c&&(x={min:0,max:0});const _=a?200:1e6,E=a?40:1e7,R={type:"inertia",velocity:i?e[v]:0,bounceStiffness:_,bounceDamping:E,timeConstant:750,restDelta:1,restSpeed:10,...l,...x};return this.startAxisValueAnimation(v,R)});return Promise.all(g).then(d)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return f0(this.visualElement,e),i.start(Ny(e,i,0,n,this.visualElement,!1))}stopAnimation(){si(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),a=i[n];return a||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){si(n=>{const{drag:i}=this.getProps();if(!bh(n,i,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:d}=a.layout.layoutBox[n],m=l.get()||0;l.set(e[n]-vt(c,d,.5)+m)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!Xo(n)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};si(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const m=d.get();a[c]=FM({min:m,max:m},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.constraints=!1,this.resolveConstraints(),si(c=>{if(!bh(c,e,null))return;const d=this.getAxisMotionValue(c),{min:m,max:g}=this.constraints[c];d.set(vt(m,g,a[c]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;GM.set(this.visualElement,this);const e=this.visualElement.current,n=Jc(e,"pointerdown",g=>{const{drag:v,dragListener:x=!0}=this.getProps(),_=g.target,E=_!==e&&kD(_);v&&x&&!E&&this.start(g)});let i;const a=()=>{const{dragConstraints:g}=this.getProps();Xo(g)&&g.current&&(this.constraints=this.resolveRefConstraints(),i||(i=KM(e,g.current,()=>this.scalePositionWithinConstraints())))},{projection:l}=this.visualElement,c=l.addEventListener("measure",a);l&&!l.layout&&(l.root&&l.root.updateScroll(),l.updateLayout()),dt.read(a);const d=hu(window,"resize",()=>this.scalePositionWithinConstraints()),m=l.addEventListener("didUpdate",(({delta:g,hasLayoutChanged:v})=>{this.isDragging&&v&&(si(x=>{const _=this.getAxisMotionValue(x);_&&(this.originPoint[x]+=g[x].translate,_.set(_.get()+g[x].translate))}),this.visualElement.render())}));return()=>{d(),n(),c(),m&&m(),i&&i()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=_0,dragMomentum:d=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:d}}}function $w(t){let e=!0;return()=>{if(e){e=!1;return}t()}}function KM(t,e,n){const i=Z_(t,$w(n)),a=Z_(e,$w(n));return()=>{i(),a()}}function bh(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function YM(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class QM extends sa{constructor(e){super(e),this.removeGroupControls=us,this.removeListeners=us,this.controls=new $M(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||us}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const Cg=t=>(e,n)=>{t&&dt.update(()=>t(e,n),!1,!0)};class XM extends sa{constructor(){super(...arguments),this.removePointerDownListener=us}onPointerDown(e){this.session=new F2(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:B2(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:Cg(e),onStart:Cg(n),onMove:Cg(i),onEnd:(l,c)=>{delete this.session,a&&dt.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=Jc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Rg=!1;class WM extends N.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:a}=this.props,{projection:l}=e;l&&(n.group&&n.group.add(l),i&&i.register&&a&&i.register(l),Rg&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),zh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:a,isPresent:l}=this.props,{projection:c}=i;return c&&(c.isPresent=l,e.layoutDependency!==n&&c.setOptions({...c.options,layoutDependency:n}),Rg=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||dt.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),jy.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:a}=e;Rg=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function q2(t){const[e,n]=j2(),i=N.useContext(uy);return f.jsx(WM,{...t,layoutGroup:i,switchLayoutGroup:N.useContext(U2),isPresent:e,safeToRemove:n})}const JM={pan:{Feature:XM},drag:{Feature:QM,ProjectionNode:I2,MeasureLayout:q2}};function Kw(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=i[a];l&&dt.postRender(()=>l(e,Nu(e)))}class ZM extends sa{mount(){const{current:e}=this.node;e&&(this.unmount=TD(e,(n,i)=>(Kw(this.node,i,"Start"),a=>Kw(this.node,a,"End"))))}unmount(){}}class e3 extends sa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Su(hu(this.node.current,"focus",()=>this.onFocus()),hu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Yw(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=i[a];l&&dt.postRender(()=>l(e,Nu(e)))}class t3 extends sa{mount(){const{current:e}=this.node;if(!e)return;const{globalTapTarget:n,propagate:i}=this.node.props;this.unmount=CD(e,(a,l)=>(Yw(this.node,l,"Start"),(c,{success:d})=>Yw(this.node,c,d?"End":"Cancel")),{useGlobalTarget:n,stopPropagation:i?.tap===!1})}unmount(){}}const w0=new WeakMap,Ig=new WeakMap,n3=t=>{const e=w0.get(t.target);e&&e(t)},s3=t=>{t.forEach(n3)};function i3({root:t,...e}){const n=t||document;Ig.has(n)||Ig.set(n,{});const i=Ig.get(n),a=JSON.stringify(e);return i[a]||(i[a]=new IntersectionObserver(s3,{root:t,...e})),i[a]}function r3(t,e,n){const i=i3(e);return w0.set(t,n),i.observe(t),()=>{w0.delete(t),i.unobserve(t)}}const a3={some:0,all:1};class o3 extends sa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:a="some",once:l}=e,c={root:n?n.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:a3[a]},d=m=>{const{isIntersecting:g}=m;if(this.isInView===g||(this.isInView=g,l&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:v,onViewportLeave:x}=this.node.getProps(),_=g?v:x;_&&_(m)};return r3(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(l3(e,n))&&this.startObserver()}unmount(){}}function l3({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const c3={inView:{Feature:o3},tap:{Feature:t3},focus:{Feature:e3},hover:{Feature:ZM}},u3={layout:{ProjectionNode:I2,MeasureLayout:q2}},d3={...MM,...c3,...JM,...u3},Te=CM(d3,RM),h3=()=>{};var Qw={};const G2=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let a=t.charCodeAt(i);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},f3=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const a=t[n++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],c=t[n++],d=t[n++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(m>>10)),e[i++]=String.fromCharCode(56320+(m&1023))}else{const l=t[n++],c=t[n++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},$2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<t.length;a+=3){const l=t[a],c=a+1<t.length,d=c?t[a+1]:0,m=a+2<t.length,g=m?t[a+2]:0,v=l>>2,x=(l&3)<<4|d>>4;let _=(d&15)<<2|g>>6,E=g&63;m||(E=64,c||(_=64)),i.push(n[v],n[x],n[_],n[E])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(G2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):f3(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],d=a<t.length?n[t.charAt(a)]:0;++a;const g=a<t.length?n[t.charAt(a)]:64;++a;const x=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||d==null||g==null||x==null)throw new m3;const _=l<<2|d>>4;if(i.push(_),g!==64){const E=d<<4&240|g>>2;if(i.push(E),x!==64){const R=g<<6&192|x;i.push(R)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class m3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const p3=function(t){const e=G2(t);return $2.encodeByteArray(e,!0)},of=function(t){return p3(t).replace(/\./g,"")},K2=function(t){try{return $2.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function g3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const y3=()=>g3().__FIREBASE_DEFAULTS__,v3=()=>{if(typeof process>"u"||typeof Qw>"u")return;const t=Qw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},x3=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&K2(t[1]);return e&&JSON.parse(e)},Uf=()=>{try{return h3()||y3()||v3()||x3()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Y2=t=>Uf()?.emulatorHosts?.[t],Q2=t=>{const e=Y2(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},X2=()=>Uf()?.config,W2=t=>Uf()?.[`_${t}`];class b3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}function Za(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Fy(t){return(await fetch(t,{credentials:"include"})).ok}function J2(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[of(JSON.stringify(n)),of(JSON.stringify(c)),""].join(".")}const Zc={};function _3(){const t={prod:[],emulator:[]};for(const e of Object.keys(Zc))Zc[e]?t.emulator.push(e):t.prod.push(e);return t}function w3(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Xw=!1;function Hy(t,e){if(typeof window>"u"||typeof document>"u"||!Za(window.location.host)||Zc[t]===e||Zc[t]||Xw)return;Zc[t]=e;function n(_){return`__firebase__banner__${_}`}const i="__firebase__banner",l=_3().prod.length>0;function c(){const _=document.getElementById(i);_&&_.remove()}function d(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function m(_,E){_.setAttribute("width","24"),_.setAttribute("id",E),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function g(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{Xw=!0,c()},_}function v(_,E){_.setAttribute("id",E),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function x(){const _=w3(i),E=n("text"),R=document.getElementById(E)||document.createElement("span"),D=n("learnmore"),j=document.getElementById(D)||document.createElement("a"),L=n("preprendIcon"),q=document.getElementById(L)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const $=_.element;d($),v(j,D);const Z=g();m(q,L),$.append(q,R,j,Z),document.body.appendChild($)}l?(R.innerText="Preview backend disconnected.",q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,R.innerText="Preview backend running in this workspace."),R.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}function yn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function T3(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yn())}function E3(){const t=Uf()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function S3(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function A3(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function k3(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function N3(){const t=yn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function C3(){return!E3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function R3(){try{return typeof indexedDB=="object"}catch{return!1}}function I3(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}const j3="FirebaseError";class gi extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=j3,Object.setPrototypeOf(this,gi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Cu.prototype.create)}}class Cu{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?D3(l,i):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new gi(a,d,i)}}function D3(t,e){return t.replace(M3,(n,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const M3=/\{\$([^}]+)}/g;function V3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function $a(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const a of n){if(!i.includes(a))return!1;const l=t[a],c=e[a];if(Ww(l)&&Ww(c)){if(!$a(l,c))return!1}else if(l!==c)return!1}for(const a of i)if(!n.includes(a))return!1;return!0}function Ww(t){return t!==null&&typeof t=="object"}function Ru(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function O3(t,e){const n=new P3(t,e);return n.subscribe.bind(n)}class P3{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let a;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");L3(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:i},a.next===void 0&&(a.next=jg),a.error===void 0&&(a.error=jg),a.complete===void 0&&(a.complete=jg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function L3(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function jg(){}function vn(t){return t&&t._delegate?t._delegate:t}class Xr{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Oa="[DEFAULT]";class U3{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new b3;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(B3(e))try{this.getOrInitializeService({instanceIdentifier:Oa})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=Oa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Oa){return this.instances.has(e)}getOptions(e=Oa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&c.resolve(a)}return a}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(i)??new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const a of i)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:z3(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Oa){return this.component?this.component.multipleInstances?e:Oa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function z3(t){return t===Oa?void 0:t}function B3(t){return t.instantiationMode==="EAGER"}class F3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new U3(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var $e;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})($e||($e={}));const H3={debug:$e.DEBUG,verbose:$e.VERBOSE,info:$e.INFO,warn:$e.WARN,error:$e.ERROR,silent:$e.SILENT},q3=$e.INFO,G3={[$e.DEBUG]:"log",[$e.VERBOSE]:"log",[$e.INFO]:"info",[$e.WARN]:"warn",[$e.ERROR]:"error"},$3=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),a=G3[e];if(a)console[a](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class qy{constructor(e){this.name=e,this._logLevel=q3,this._logHandler=$3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in $e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?H3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,$e.DEBUG,...e),this._logHandler(this,$e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,$e.VERBOSE,...e),this._logHandler(this,$e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,$e.INFO,...e),this._logHandler(this,$e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,$e.WARN,...e),this._logHandler(this,$e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,$e.ERROR,...e),this._logHandler(this,$e.ERROR,...e)}}const K3=(t,e)=>e.some(n=>t instanceof n);let Jw,Zw;function Y3(){return Jw||(Jw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Q3(){return Zw||(Zw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Z2=new WeakMap,T0=new WeakMap,eA=new WeakMap,Dg=new WeakMap,Gy=new WeakMap;function X3(t){const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(Hr(t.result)),a()},c=()=>{i(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&Z2.set(n,t)}).catch(()=>{}),Gy.set(e,t),e}function W3(t){if(T0.has(t))return;const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{i(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});T0.set(t,e)}let E0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return T0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||eA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Hr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function J3(t){E0=t(E0)}function Z3(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Mg(this),e,...n);return eA.set(i,e.sort?e.sort():[e]),Hr(i)}:Q3().includes(t)?function(...e){return t.apply(Mg(this),e),Hr(Z2.get(this))}:function(...e){return Hr(t.apply(Mg(this),e))}}function e6(t){return typeof t=="function"?Z3(t):(t instanceof IDBTransaction&&W3(t),K3(t,Y3())?new Proxy(t,E0):t)}function Hr(t){if(t instanceof IDBRequest)return X3(t);if(Dg.has(t))return Dg.get(t);const e=e6(t);return e!==t&&(Dg.set(t,e),Gy.set(e,t)),e}const Mg=t=>Gy.get(t);function t6(t,e,{blocked:n,upgrade:i,blocking:a,terminated:l}={}){const c=indexedDB.open(t,e),d=Hr(c);return i&&c.addEventListener("upgradeneeded",m=>{i(Hr(c.result),m.oldVersion,m.newVersion,Hr(c.transaction),m)}),n&&c.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const n6=["get","getKey","getAll","getAllKeys","count"],s6=["put","add","delete","clear"],Vg=new Map;function eT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Vg.get(e))return Vg.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,a=s6.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(a||n6.includes(n)))return;const l=async function(c,...d){const m=this.transaction(c,a?"readwrite":"readonly");let g=m.store;return i&&(g=g.index(d.shift())),(await Promise.all([g[n](...d),a&&m.done]))[0]};return Vg.set(e,l),l}J3(t=>({...t,get:(e,n,i)=>eT(e,n)||t.get(e,n,i),has:(e,n)=>!!eT(e,n)||t.has(e,n)}));class i6{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(r6(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function r6(t){return t.getComponent()?.type==="VERSION"}const S0="@firebase/app",tT="0.14.8";const Qi=new qy("@firebase/app"),a6="@firebase/app-compat",o6="@firebase/analytics-compat",l6="@firebase/analytics",c6="@firebase/app-check-compat",u6="@firebase/app-check",d6="@firebase/auth",h6="@firebase/auth-compat",f6="@firebase/database",m6="@firebase/data-connect",p6="@firebase/database-compat",g6="@firebase/functions",y6="@firebase/functions-compat",v6="@firebase/installations",x6="@firebase/installations-compat",b6="@firebase/messaging",_6="@firebase/messaging-compat",w6="@firebase/performance",T6="@firebase/performance-compat",E6="@firebase/remote-config",S6="@firebase/remote-config-compat",A6="@firebase/storage",k6="@firebase/storage-compat",N6="@firebase/firestore",C6="@firebase/ai",R6="@firebase/firestore-compat",I6="firebase",j6="12.9.0";const A0="[DEFAULT]",D6={[S0]:"fire-core",[a6]:"fire-core-compat",[l6]:"fire-analytics",[o6]:"fire-analytics-compat",[u6]:"fire-app-check",[c6]:"fire-app-check-compat",[d6]:"fire-auth",[h6]:"fire-auth-compat",[f6]:"fire-rtdb",[m6]:"fire-data-connect",[p6]:"fire-rtdb-compat",[g6]:"fire-fn",[y6]:"fire-fn-compat",[v6]:"fire-iid",[x6]:"fire-iid-compat",[b6]:"fire-fcm",[_6]:"fire-fcm-compat",[w6]:"fire-perf",[T6]:"fire-perf-compat",[E6]:"fire-rc",[S6]:"fire-rc-compat",[A6]:"fire-gcs",[k6]:"fire-gcs-compat",[N6]:"fire-fst",[R6]:"fire-fst-compat",[C6]:"fire-vertex","fire-js":"fire-js",[I6]:"fire-js-all"};const lf=new Map,M6=new Map,k0=new Map;function nT(t,e){try{t.container.addComponent(e)}catch(n){Qi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ka(t){const e=t.name;if(k0.has(e))return Qi.debug(`There were multiple attempts to register component ${e}.`),!1;k0.set(e,t);for(const n of lf.values())nT(n,t);for(const n of M6.values())nT(n,t);return!0}function zf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function as(t){return t==null?!1:t.settings!==void 0}const V6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qr=new Cu("app","Firebase",V6);class O6{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Xr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qr.create("app-deleted",{appName:this._name})}}const eo=j6;function tA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:A0,automaticDataCollectionEnabled:!0,...e},a=i.name;if(typeof a!="string"||!a)throw qr.create("bad-app-name",{appName:String(a)});if(n||(n=X2()),!n)throw qr.create("no-options");const l=lf.get(a);if(l){if($a(n,l.options)&&$a(i,l.config))return l;throw qr.create("duplicate-app",{appName:a})}const c=new F3(a);for(const m of k0.values())c.addComponent(m);const d=new O6(n,i,c);return lf.set(a,d),d}function $y(t=A0){const e=lf.get(t);if(!e&&t===A0&&X2())return tA();if(!e)throw qr.create("no-app",{appName:t});return e}function ai(t,e,n){let i=D6[t]??t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${i}" with version "${e}":`];a&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qi.warn(c.join(" "));return}Ka(new Xr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const P6="firebase-heartbeat-database",L6=1,fu="firebase-heartbeat-store";let Og=null;function nA(){return Og||(Og=t6(P6,L6,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(fu)}catch(n){console.warn(n)}}}}).catch(t=>{throw qr.create("idb-open",{originalErrorMessage:t.message})})),Og}async function U6(t){try{const n=(await nA()).transaction(fu),i=await n.objectStore(fu).get(sA(t));return await n.done,i}catch(e){if(e instanceof gi)Qi.warn(e.message);else{const n=qr.create("idb-get",{originalErrorMessage:e?.message});Qi.warn(n.message)}}}async function sT(t,e){try{const i=(await nA()).transaction(fu,"readwrite");await i.objectStore(fu).put(e,sA(t)),await i.done}catch(n){if(n instanceof gi)Qi.warn(n.message);else{const i=qr.create("idb-set",{originalErrorMessage:n?.message});Qi.warn(i.message)}}}function sA(t){return`${t.name}!${t.options.appId}`}const z6=1024,B6=30;class F6{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new q6(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=iT();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>B6){const a=G6(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Qi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=iT(),{heartbeatsToSend:n,unsentEntries:i}=H6(this._heartbeatsCache.heartbeats),a=of(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Qi.warn(e),""}}}function iT(){return new Date().toISOString().substring(0,10)}function H6(t,e=z6){const n=[];let i=t.slice();for(const a of t){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),rT(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),rT(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class q6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return R3()?I3().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await U6(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return sT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return sT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function rT(t){return of(JSON.stringify({version:2,heartbeats:t})).length}function G6(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}function $6(t){Ka(new Xr("platform-logger",e=>new i6(e),"PRIVATE")),Ka(new Xr("heartbeat",e=>new F6(e),"PRIVATE")),ai(S0,tT,t),ai(S0,tT,"esm2020"),ai("fire-js","")}$6("");function iA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const K6=iA,rA=new Cu("auth","Firebase",iA());const cf=new qy("@firebase/auth");function Y6(t,...e){cf.logLevel<=$e.WARN&&cf.warn(`Auth (${eo}): ${t}`,...e)}function Bh(t,...e){cf.logLevel<=$e.ERROR&&cf.error(`Auth (${eo}): ${t}`,...e)}function fi(t,...e){throw Yy(t,...e)}function Is(t,...e){return Yy(t,...e)}function Ky(t,e,n){const i={...K6(),[e]:n};return new Cu("auth","Firebase",i).create(e,{appName:t.name})}function Fa(t){return Ky(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Q6(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&fi(t,"argument-error"),Ky(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Yy(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return rA.create(t,...e)}function De(t,e,...n){if(!t)throw Yy(e,...n)}function Bi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Bh(e),new Error(e)}function Xi(t,e){t||Bi(e)}function N0(){return typeof self<"u"&&self.location?.href||""}function X6(){return aT()==="http:"||aT()==="https:"}function aT(){return typeof self<"u"&&self.location?.protocol||null}function W6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(X6()||A3()||"connection"in navigator)?navigator.onLine:!0}function J6(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class Iu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Xi(n>e,"Short delay should be less than long delay!"),this.isMobile=T3()||k3()}get(){return W6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Qy(t,e){Xi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class aA{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Bi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Bi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Bi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Z6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const eV=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],tV=new Iu(3e4,6e4);function Xy(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Al(t,e,n,i,a={}){return oA(t,a,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const d=Ru({key:t.config.apiKey,...c}).slice(1),m=await t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);const g={method:e,headers:m,...l};return S3()||(g.referrerPolicy="no-referrer"),t.emulatorConfig&&Za(t.emulatorConfig.host)&&(g.credentials="include"),aA.fetch()(await lA(t,t.config.apiHost,n,d),g)})}async function oA(t,e,n){t._canInitEmulator=!1;const i={...Z6,...e};try{const a=new sV(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw _h(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[m,g]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw _h(t,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw _h(t,"email-already-in-use",c);if(m==="USER_DISABLED")throw _h(t,"user-disabled",c);const v=i[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Ky(t,v,g);fi(t,v)}}catch(a){if(a instanceof gi)throw a;fi(t,"network-request-failed",{message:String(a)})}}async function nV(t,e,n,i,a={}){const l=await Al(t,e,n,i,a);return"mfaPendingCredential"in l&&fi(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function lA(t,e,n,i){const a=`${e}${n}?${i}`,l=t,c=l.config.emulator?Qy(t.config,a):`${t.config.apiScheme}://${a}`;return eV.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}class sV{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Is(this.auth,"network-request-failed")),tV.get())})}}function _h(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const a=Is(t,e,i);return a.customData._tokenResponse=n,a}async function iV(t,e){return Al(t,"POST","/v1/accounts:delete",e)}async function uf(t,e){return Al(t,"POST","/v1/accounts:lookup",e)}function eu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function rV(t,e=!1){const n=vn(t),i=await n.getIdToken(e),a=Wy(i);De(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:i,authTime:eu(Pg(a.auth_time)),issuedAtTime:eu(Pg(a.iat)),expirationTime:eu(Pg(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Pg(t){return Number(t)*1e3}function Wy(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Bh("JWT malformed, contained fewer than 3 sections"),null;try{const a=K2(n);return a?JSON.parse(a):(Bh("Failed to decode base64 JWT payload"),null)}catch(a){return Bh("Caught error parsing JWT payload as JSON",a?.toString()),null}}function oT(t){const e=Wy(t);return De(e,"internal-error"),De(typeof e.exp<"u","internal-error"),De(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function mu(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof gi&&aV(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function aV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class oV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class C0{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=eu(this.lastLoginAt),this.creationTime=eu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function df(t){const e=t.auth,n=await t.getIdToken(),i=await mu(t,uf(e,{idToken:n}));De(i?.users.length,e,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const l=a.providerUserInfo?.length?cA(a.providerUserInfo):[],c=cV(t.providerData,l),d=t.isAnonymous,m=!(t.email&&a.passwordHash)&&!c?.length,g=d?m:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new C0(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(t,v)}async function lV(t){const e=vn(t);await df(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function cV(t,e){return[...t.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function cA(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function uV(t,e){const n=await oA(t,{},async()=>{const i=Ru({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,c=await lA(t,a,"/v1/token",`key=${l}`),d=await t._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:d,body:i};return t.emulatorConfig&&Za(t.emulatorConfig.host)&&(m.credentials="include"),aA.fetch()(c,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function dV(t,e){return Al(t,"POST","/v2/accounts:revokeToken",Xy(t,e))}class ol{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){De(e.idToken,"internal-error"),De(typeof e.idToken<"u","internal-error"),De(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):oT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){De(e.length!==0,"internal-error");const n=oT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(De(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:a,expiresIn:l}=await uV(e,n);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:a,expirationTime:l}=n,c=new ol;return i&&(De(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),a&&(De(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(De(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ol,this.toJSON())}_performRefresh(){return Bi("not implemented")}}function Vr(t,e){De(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ks{constructor({uid:e,auth:n,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new oV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new C0(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await mu(this,this.stsTokenManager.getToken(this.auth,e));return De(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return rV(this,e)}reload(){return lV(this)}_assign(e){this!==e&&(De(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ks({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){De(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await df(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(as(this.auth.app))return Promise.reject(Fa(this.auth));const e=await this.getIdToken();return await mu(this,iV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,d=n.tenantId??void 0,m=n._redirectEventId??void 0,g=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:x,emailVerified:_,isAnonymous:E,providerData:R,stsTokenManager:D}=n;De(x&&D,e,"internal-error");const j=ol.fromJSON(this.name,D);De(typeof x=="string",e,"internal-error"),Vr(i,e.name),Vr(a,e.name),De(typeof _=="boolean",e,"internal-error"),De(typeof E=="boolean",e,"internal-error"),Vr(l,e.name),Vr(c,e.name),Vr(d,e.name),Vr(m,e.name),Vr(g,e.name),Vr(v,e.name);const L=new ks({uid:x,auth:e,email:a,emailVerified:_,displayName:i,isAnonymous:E,photoURL:c,phoneNumber:l,tenantId:d,stsTokenManager:j,createdAt:g,lastLoginAt:v});return R&&Array.isArray(R)&&(L.providerData=R.map(q=>({...q}))),m&&(L._redirectEventId=m),L}static async _fromIdTokenResponse(e,n,i=!1){const a=new ol;a.updateFromServerResponse(n);const l=new ks({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await df(l),l}static async _fromGetAccountInfoResponse(e,n,i){const a=n.users[0];De(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?cA(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,d=new ol;d.updateFromIdToken(i);const m=new ks({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:c}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new C0(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,g),m}}const lT=new Map;function Fi(t){Xi(t instanceof Function,"Expected a class definition");let e=lT.get(t);return e?(Xi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,lT.set(t,e),e)}class uA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}uA.type="NONE";const cT=uA;function Fh(t,e,n){return`firebase:${t}:${e}:${n}`}class ll{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=Fh(this.userKey,a.apiKey,l),this.fullPersistenceKey=Fh("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await uf(this.auth,{idToken:e}).catch(()=>{});return n?ks._fromGetAccountInfoResponse(this.auth,n,e):null}return ks._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new ll(Fi(cT),e,i);const a=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=a[0]||Fi(cT);const c=Fh(i,e.config.apiKey,e.name);let d=null;for(const g of n)try{const v=await g._get(c);if(v){let x;if(typeof v=="string"){const _=await uf(e,{idToken:v}).catch(()=>{});if(!_)break;x=await ks._fromGetAccountInfoResponse(e,_,v)}else x=ks._fromJSON(e,v);g!==l&&(d=x),l=g;break}}catch{}const m=a.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new ll(l,e,i):(l=m[0],d&&await l._set(c,d.toJSON()),await Promise.all(n.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new ll(l,e,i))}}function uT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(mA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(dA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(gA(e))return"Blackberry";if(yA(e))return"Webos";if(hA(e))return"Safari";if((e.includes("chrome/")||fA(e))&&!e.includes("edge/"))return"Chrome";if(pA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if(i?.length===2)return i[1]}return"Other"}function dA(t=yn()){return/firefox\//i.test(t)}function hA(t=yn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function fA(t=yn()){return/crios\//i.test(t)}function mA(t=yn()){return/iemobile/i.test(t)}function pA(t=yn()){return/android/i.test(t)}function gA(t=yn()){return/blackberry/i.test(t)}function yA(t=yn()){return/webos/i.test(t)}function Jy(t=yn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function hV(t=yn()){return Jy(t)&&!!window.navigator?.standalone}function fV(){return N3()&&document.documentMode===10}function vA(t=yn()){return Jy(t)||pA(t)||yA(t)||gA(t)||/windows phone/i.test(t)||mA(t)}function xA(t,e=[]){let n;switch(t){case"Browser":n=uT(yn());break;case"Worker":n=`${uT(yn())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${eo}/${i}`}class mV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=l=>new Promise((c,d)=>{try{const m=e(l);c(m)}catch(m){d(m)}});i.onAbort=n,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function pV(t,e={}){return Al(t,"GET","/v2/passwordPolicy",Xy(t,e))}const gV=6;class yV{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??gV,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class vV{constructor(e,n,i,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new dT(this),this.idTokenSubscription=new dT(this),this.beforeStateQueue=new mV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Fi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ll.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await uf(this,{idToken:e}),i=await ks._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(as(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=i?._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===c)&&d?.user&&(i=d.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return De(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await df(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=J6()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(as(this.app))return Promise.reject(Fa(this));const n=e?vn(e):null;return n&&De(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&De(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return as(this.app)?Promise.reject(Fa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return as(this.app)?Promise.reject(Fa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Fi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await pV(this),n=new yV(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Cu("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await dV(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Fi(e)||this._popupRedirectResolver;De(n,this,"argument-error"),this.redirectPersistenceManager=await ll.create(this,[Fi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(De(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,i,a);return()=>{c=!0,m()}}else{const m=e.addObserver(n);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return De(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=xA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(as(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Y6(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Bf(t){return vn(t)}class dT{constructor(e){this.auth=e,this.observer=null,this.addObserver=O3(n=>this.observer=n)}get next(){return De(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Zy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function xV(t){Zy=t}function bV(t){return Zy.loadJS(t)}function _V(){return Zy.gapiScript}function wV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function TV(t,e){const n=zf(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if($a(l,e??{}))return a;fi(a,"already-initialized")}return n.initialize({options:e})}function EV(t,e){const n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(Fi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}function SV(t,e,n){const i=Bf(t);De(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=bA(e),{host:c,port:d}=AV(e),m=d===null?"":`:${d}`,g={url:`${l}//${c}${m}/`},v=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){De(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),De($a(g,i.config.emulator)&&$a(v,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=g,i.emulatorConfig=v,i.settings.appVerificationDisabledForTesting=!0,Za(c)?(Fy(`${l}//${c}${m}`),Hy("Auth",!0)):kV()}function bA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function AV(t){const e=bA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:hT(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:hT(c)}}}function hT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function kV(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class _A{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Bi("not implemented")}_getIdTokenResponse(e){return Bi("not implemented")}_linkToIdToken(e,n){return Bi("not implemented")}_getReauthenticationResolver(e){return Bi("not implemented")}}async function cl(t,e){return nV(t,"POST","/v1/accounts:signInWithIdp",Xy(t,e))}const NV="http://localhost";class Ya extends _A{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ya(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):fi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a,...l}=n;if(!i||!a)return null;const c=new Ya(i,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return cl(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,cl(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,cl(e,n)}buildRequest(){const e={requestUri:NV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ru(n)}return e}}class ev{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ju extends ev{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Lr extends ju{constructor(){super("facebook.com")}static credential(e){return Ya._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Lr.credentialFromTaggedObject(e)}static credentialFromError(e){return Lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Lr.credential(e.oauthAccessToken)}catch{return null}}}Lr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Lr.PROVIDER_ID="facebook.com";class zi extends ju{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ya._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return zi.credentialFromTaggedObject(e)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return zi.credential(n,i)}catch{return null}}}zi.GOOGLE_SIGN_IN_METHOD="google.com";zi.PROVIDER_ID="google.com";class Ur extends ju{constructor(){super("github.com")}static credential(e){return Ya._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ur.credentialFromTaggedObject(e)}static credentialFromError(e){return Ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ur.credential(e.oauthAccessToken)}catch{return null}}}Ur.GITHUB_SIGN_IN_METHOD="github.com";Ur.PROVIDER_ID="github.com";class zr extends ju{constructor(){super("twitter.com")}static credential(e,n){return Ya._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return zr.credentialFromTaggedObject(e)}static credentialFromError(e){return zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return zr.credential(n,i)}catch{return null}}}zr.TWITTER_SIGN_IN_METHOD="twitter.com";zr.PROVIDER_ID="twitter.com";class fl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,a=!1){const l=await ks._fromIdTokenResponse(e,i,a),c=fT(i);return new fl({user:l,providerId:c,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const a=fT(i);return new fl({user:e,providerId:a,_tokenResponse:i,operationType:n})}}function fT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class hf extends gi{constructor(e,n,i,a){super(n.code,n.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,hf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,a){return new hf(e,n,i,a)}}function wA(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?hf._fromErrorAndOperation(t,l,e,i):l})}async function CV(t,e,n=!1){const i=await mu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return fl._forOperation(t,"link",i)}async function RV(t,e,n=!1){const{auth:i}=t;if(as(i.app))return Promise.reject(Fa(i));const a="reauthenticate";try{const l=await mu(t,wA(i,a,e,t),n);De(l.idToken,i,"internal-error");const c=Wy(l.idToken);De(c,i,"internal-error");const{sub:d}=c;return De(t.uid===d,i,"user-mismatch"),fl._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&fi(i,"user-mismatch"),l}}async function IV(t,e,n=!1){if(as(t.app))return Promise.reject(Fa(t));const i="signIn",a=await wA(t,i,e),l=await fl._fromIdTokenResponse(t,i,a);return n||await t._updateCurrentUser(l.user),l}function jV(t,e,n,i){return vn(t).onIdTokenChanged(e,n,i)}function DV(t,e,n){return vn(t).beforeAuthStateChanged(e,n)}function MV(t,e,n,i){return vn(t).onAuthStateChanged(e,n,i)}function VV(t){return vn(t).signOut()}const ff="__sak";class TA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ff,"1"),this.storage.removeItem(ff),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const OV=1e3,PV=10;class EA extends TA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=vA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),a=this.localCache[n];i!==a&&e(n,a,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,d,m)=>{this.notifyListeners(c,m)});return}const i=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!n&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);fV()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,PV):a()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},OV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}EA.type="LOCAL";const LV=EA;class SA extends TA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}SA.type="SESSION";const AA=SA;function UV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Ff{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const i=new Ff(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const d=Array.from(c).map(async g=>g(n.origin,l)),m=await UV(d);n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ff.receivers=[];function tv(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}class zV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,m)=>{const g=tv("",20);a.port1.start();const v=setTimeout(()=>{m(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(x){const _=x;if(_.data.eventId===g)switch(_.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(_.data.response);break;default:clearTimeout(v),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function oi(){return window}function BV(t){oi().location.href=t}function kA(){return typeof oi().WorkerGlobalScope<"u"&&typeof oi().importScripts=="function"}async function FV(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function HV(){return navigator?.serviceWorker?.controller||null}function qV(){return kA()?self:null}const NA="firebaseLocalStorageDb",GV=1,mf="firebaseLocalStorage",CA="fbase_key";class Du{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Hf(t,e){return t.transaction([mf],e?"readwrite":"readonly").objectStore(mf)}function $V(){const t=indexedDB.deleteDatabase(NA);return new Du(t).toPromise()}function R0(){const t=indexedDB.open(NA,GV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(mf,{keyPath:CA})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(mf)?e(i):(i.close(),await $V(),e(await R0()))})})}async function mT(t,e,n){const i=Hf(t,!0).put({[CA]:e,value:n});return new Du(i).toPromise()}async function KV(t,e){const n=Hf(t,!1).get(e),i=await new Du(n).toPromise();return i===void 0?null:i.value}function pT(t,e){const n=Hf(t,!0).delete(e);return new Du(n).toPromise()}const YV=800,QV=3;class RA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await R0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>QV)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return kA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ff._getInstance(qV()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await FV(),!this.activeServiceWorker)return;this.sender=new zV(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||HV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await R0();return await mT(e,ff,"1"),await pT(e,ff),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>mT(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>KV(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>pT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Hf(a,!1).getAll();return new Du(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),YV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}RA.type="LOCAL";const XV=RA;new Iu(3e4,6e4);function IA(t,e){return e?Fi(e):(De(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class nv extends _A{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return cl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return cl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return cl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function WV(t){return IV(t.auth,new nv(t),t.bypassAuthState)}function JV(t){const{auth:e,user:n}=t;return De(n,e,"internal-error"),RV(n,new nv(t),t.bypassAuthState)}async function ZV(t){const{auth:e,user:n}=t;return De(n,e,"internal-error"),CV(n,new nv(t),t.bypassAuthState)}class jA{constructor(e,n,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:a,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:n,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return WV;case"linkViaPopup":case"linkViaRedirect":return ZV;case"reauthViaPopup":case"reauthViaRedirect":return JV;default:fi(this.auth,"internal-error")}}resolve(e){Xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const eO=new Iu(2e3,1e4);async function tO(t,e,n){if(as(t.app))return Promise.reject(Is(t,"operation-not-supported-in-this-environment"));const i=Bf(t);Q6(t,e,ev);const a=IA(i,n);return new Ua(i,"signInViaPopup",e,a).executeNotNull()}class Ua extends jA{constructor(e,n,i,a,l){super(e,n,a,l),this.provider=i,this.authWindow=null,this.pollId=null,Ua.currentPopupAction&&Ua.currentPopupAction.cancel(),Ua.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return De(e,this.auth,"internal-error"),e}async onExecution(){Xi(this.filter.length===1,"Popup operations only handle one event");const e=tv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Is(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Is(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ua.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Is(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,eO.get())};e()}}Ua.currentPopupAction=null;const nO="pendingRedirect",Hh=new Map;class sO extends jA{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Hh.get(this.auth._key());if(!e){try{const i=await iO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Hh.set(this.auth._key(),e)}return this.bypassAuthState||Hh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function iO(t,e){const n=oO(e),i=aO(t);if(!await i._isAvailable())return!1;const a=await i._get(n)==="true";return await i._remove(n),a}function rO(t,e){Hh.set(t._key(),e)}function aO(t){return Fi(t._redirectPersistence)}function oO(t){return Fh(nO,t.config.apiKey,t.name)}async function lO(t,e,n=!1){if(as(t.app))return Promise.reject(Fa(t));const i=Bf(t),a=IA(i,e),c=await new sO(i,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}const cO=600*1e3;class uO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!dO(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!DA(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Is(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=cO&&this.cachedEventUids.clear(),this.cachedEventUids.has(gT(e))}saveEventToCache(e){this.cachedEventUids.add(gT(e)),this.lastProcessedEventTime=Date.now()}}function gT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function DA({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function dO(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return DA(t);default:return!1}}async function hO(t,e={}){return Al(t,"GET","/v1/projects",e)}const fO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mO=/^https?/;async function pO(t){if(t.config.emulator)return;const{authorizedDomains:e}=await hO(t);for(const n of e)try{if(gO(n))return}catch{}fi(t,"unauthorized-domain")}function gO(t){const e=N0(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===i}if(!mO.test(n))return!1;if(fO.test(t))return i===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}const yO=new Iu(3e4,6e4);function yT(){const t=oi().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function vO(t){return new Promise((e,n)=>{function i(){yT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{yT(),n(Is(t,"network-request-failed"))},timeout:yO.get()})}if(oi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(oi().gapi?.load)i();else{const a=wV("iframefcb");return oi()[a]=()=>{gapi.load?i():n(Is(t,"network-request-failed"))},bV(`${_V()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw qh=null,e})}let qh=null;function xO(t){return qh=qh||vO(t),qh}const bO=new Iu(5e3,15e3),_O="__/auth/iframe",wO="emulator/auth/iframe",TO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},EO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function SO(t){const e=t.config;De(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Qy(e,wO):`https://${t.config.authDomain}/${_O}`,i={apiKey:e.apiKey,appName:t.name,v:eo},a=EO.get(t.config.apiHost);a&&(i.eid=a);const l=t._getFrameworks();return l.length&&(i.fw=l.join(",")),`${n}?${Ru(i).slice(1)}`}async function AO(t){const e=await xO(t),n=oi().gapi;return De(n,t,"internal-error"),e.open({where:document.body,url:SO(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:TO,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const c=Is(t,"network-request-failed"),d=oi().setTimeout(()=>{l(c)},bO.get());function m(){oi().clearTimeout(d),a(i)}i.ping(m).then(m,()=>{l(c)})}))}const kO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},NO=500,CO=600,RO="_blank",IO="http://localhost";class vT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function jO(t,e,n,i=NO,a=CO){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const m={...kO,width:i.toString(),height:a.toString(),top:l,left:c},g=yn().toLowerCase();n&&(d=fA(g)?RO:n),dA(g)&&(e=e||IO,m.scrollbars="yes");const v=Object.entries(m).reduce((_,[E,R])=>`${_}${E}=${R},`,"");if(hV(g)&&d!=="_self")return DO(e||"",d),new vT(null);const x=window.open(e||"",d,v);De(x,t,"popup-blocked");try{x.focus()}catch{}return new vT(x)}function DO(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}const MO="__/auth/handler",VO="emulator/auth/handler",OO=encodeURIComponent("fac");async function xT(t,e,n,i,a,l){De(t.config.authDomain,t,"auth-domain-config-required"),De(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:eo,eventId:a};if(e instanceof ev){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",V3(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,x]of Object.entries({}))c[v]=x}if(e instanceof ju){const v=e.getScopes().filter(x=>x!=="");v.length>0&&(c.scopes=v.join(","))}t.tenantId&&(c.tid=t.tenantId);const d=c;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const m=await t._getAppCheckToken(),g=m?`#${OO}=${encodeURIComponent(m)}`:"";return`${PO(t)}?${Ru(d).slice(1)}${g}`}function PO({config:t}){return t.emulator?Qy(t,VO):`https://${t.authDomain}/${MO}`}const Lg="webStorageSupport";class LO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=AA,this._completeRedirectFn=lO,this._overrideRedirectResult=rO}async _openPopup(e,n,i,a){Xi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await xT(e,n,i,N0(),a);return jO(e,l,tv())}async _openRedirect(e,n,i,a){await this._originValidation(e);const l=await xT(e,n,i,N0(),a);return BV(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Xi(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await AO(e),i=new uO(e);return n.register("authEvent",a=>(De(a?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Lg,{type:Lg},a=>{const l=a?.[0]?.[Lg];l!==void 0&&n(!!l),fi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=pO(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return vA()||hA()||Jy()}}const UO=LO;var bT="@firebase/auth",_T="1.12.0";class zO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){De(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function BO(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function FO(t){Ka(new Xr("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=i.options;De(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const m={apiKey:c,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xA(t)},g=new vV(i,a,l,m);return EV(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Ka(new Xr("auth-internal",e=>{const n=Bf(e.getProvider("auth").getImmediate());return(i=>new zO(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ai(bT,_T,BO(t)),ai(bT,_T,"esm2020")}const HO=300,qO=W2("authIdTokenMaxAge")||HO;let wT=null;const GO=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>qO)return;const a=n?.token;wT!==a&&(wT=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function $O(t=$y()){const e=zf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=TV(t,{popupRedirectResolver:UO,persistence:[XV,LV,AA]}),i=W2("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=GO(l.toString());DV(n,c,()=>c(n.currentUser)),jV(n,d=>c(d))}}const a=Y2("auth");return a&&SV(n,`http://${a}`),n}function KO(){return document.getElementsByTagName("head")?.[0]??document}xV({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=a=>{const l=Is("internal-error");l.customData=a,n(l)},i.type="text/javascript",i.charset="UTF-8",KO().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});FO("Browser");var YO="firebase",QO="12.9.0";ai(YO,QO,"app");var TT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Gr,MA;(function(){var t;function e(I,S){function C(){}C.prototype=S.prototype,I.F=S.prototype,I.prototype=new C,I.prototype.constructor=I,I.D=function(U,P,H){for(var M=Array(arguments.length-2),ue=2;ue<arguments.length;ue++)M[ue-2]=arguments[ue];return S.prototype[P].apply(U,M)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(I,S,C){C||(C=0);const U=Array(16);if(typeof S=="string")for(var P=0;P<16;++P)U[P]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(P=0;P<16;++P)U[P]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=I.g[0],C=I.g[1],P=I.g[2];let H=I.g[3],M;M=S+(H^C&(P^H))+U[0]+3614090360&4294967295,S=C+(M<<7&4294967295|M>>>25),M=H+(P^S&(C^P))+U[1]+3905402710&4294967295,H=S+(M<<12&4294967295|M>>>20),M=P+(C^H&(S^C))+U[2]+606105819&4294967295,P=H+(M<<17&4294967295|M>>>15),M=C+(S^P&(H^S))+U[3]+3250441966&4294967295,C=P+(M<<22&4294967295|M>>>10),M=S+(H^C&(P^H))+U[4]+4118548399&4294967295,S=C+(M<<7&4294967295|M>>>25),M=H+(P^S&(C^P))+U[5]+1200080426&4294967295,H=S+(M<<12&4294967295|M>>>20),M=P+(C^H&(S^C))+U[6]+2821735955&4294967295,P=H+(M<<17&4294967295|M>>>15),M=C+(S^P&(H^S))+U[7]+4249261313&4294967295,C=P+(M<<22&4294967295|M>>>10),M=S+(H^C&(P^H))+U[8]+1770035416&4294967295,S=C+(M<<7&4294967295|M>>>25),M=H+(P^S&(C^P))+U[9]+2336552879&4294967295,H=S+(M<<12&4294967295|M>>>20),M=P+(C^H&(S^C))+U[10]+4294925233&4294967295,P=H+(M<<17&4294967295|M>>>15),M=C+(S^P&(H^S))+U[11]+2304563134&4294967295,C=P+(M<<22&4294967295|M>>>10),M=S+(H^C&(P^H))+U[12]+1804603682&4294967295,S=C+(M<<7&4294967295|M>>>25),M=H+(P^S&(C^P))+U[13]+4254626195&4294967295,H=S+(M<<12&4294967295|M>>>20),M=P+(C^H&(S^C))+U[14]+2792965006&4294967295,P=H+(M<<17&4294967295|M>>>15),M=C+(S^P&(H^S))+U[15]+1236535329&4294967295,C=P+(M<<22&4294967295|M>>>10),M=S+(P^H&(C^P))+U[1]+4129170786&4294967295,S=C+(M<<5&4294967295|M>>>27),M=H+(C^P&(S^C))+U[6]+3225465664&4294967295,H=S+(M<<9&4294967295|M>>>23),M=P+(S^C&(H^S))+U[11]+643717713&4294967295,P=H+(M<<14&4294967295|M>>>18),M=C+(H^S&(P^H))+U[0]+3921069994&4294967295,C=P+(M<<20&4294967295|M>>>12),M=S+(P^H&(C^P))+U[5]+3593408605&4294967295,S=C+(M<<5&4294967295|M>>>27),M=H+(C^P&(S^C))+U[10]+38016083&4294967295,H=S+(M<<9&4294967295|M>>>23),M=P+(S^C&(H^S))+U[15]+3634488961&4294967295,P=H+(M<<14&4294967295|M>>>18),M=C+(H^S&(P^H))+U[4]+3889429448&4294967295,C=P+(M<<20&4294967295|M>>>12),M=S+(P^H&(C^P))+U[9]+568446438&4294967295,S=C+(M<<5&4294967295|M>>>27),M=H+(C^P&(S^C))+U[14]+3275163606&4294967295,H=S+(M<<9&4294967295|M>>>23),M=P+(S^C&(H^S))+U[3]+4107603335&4294967295,P=H+(M<<14&4294967295|M>>>18),M=C+(H^S&(P^H))+U[8]+1163531501&4294967295,C=P+(M<<20&4294967295|M>>>12),M=S+(P^H&(C^P))+U[13]+2850285829&4294967295,S=C+(M<<5&4294967295|M>>>27),M=H+(C^P&(S^C))+U[2]+4243563512&4294967295,H=S+(M<<9&4294967295|M>>>23),M=P+(S^C&(H^S))+U[7]+1735328473&4294967295,P=H+(M<<14&4294967295|M>>>18),M=C+(H^S&(P^H))+U[12]+2368359562&4294967295,C=P+(M<<20&4294967295|M>>>12),M=S+(C^P^H)+U[5]+4294588738&4294967295,S=C+(M<<4&4294967295|M>>>28),M=H+(S^C^P)+U[8]+2272392833&4294967295,H=S+(M<<11&4294967295|M>>>21),M=P+(H^S^C)+U[11]+1839030562&4294967295,P=H+(M<<16&4294967295|M>>>16),M=C+(P^H^S)+U[14]+4259657740&4294967295,C=P+(M<<23&4294967295|M>>>9),M=S+(C^P^H)+U[1]+2763975236&4294967295,S=C+(M<<4&4294967295|M>>>28),M=H+(S^C^P)+U[4]+1272893353&4294967295,H=S+(M<<11&4294967295|M>>>21),M=P+(H^S^C)+U[7]+4139469664&4294967295,P=H+(M<<16&4294967295|M>>>16),M=C+(P^H^S)+U[10]+3200236656&4294967295,C=P+(M<<23&4294967295|M>>>9),M=S+(C^P^H)+U[13]+681279174&4294967295,S=C+(M<<4&4294967295|M>>>28),M=H+(S^C^P)+U[0]+3936430074&4294967295,H=S+(M<<11&4294967295|M>>>21),M=P+(H^S^C)+U[3]+3572445317&4294967295,P=H+(M<<16&4294967295|M>>>16),M=C+(P^H^S)+U[6]+76029189&4294967295,C=P+(M<<23&4294967295|M>>>9),M=S+(C^P^H)+U[9]+3654602809&4294967295,S=C+(M<<4&4294967295|M>>>28),M=H+(S^C^P)+U[12]+3873151461&4294967295,H=S+(M<<11&4294967295|M>>>21),M=P+(H^S^C)+U[15]+530742520&4294967295,P=H+(M<<16&4294967295|M>>>16),M=C+(P^H^S)+U[2]+3299628645&4294967295,C=P+(M<<23&4294967295|M>>>9),M=S+(P^(C|~H))+U[0]+4096336452&4294967295,S=C+(M<<6&4294967295|M>>>26),M=H+(C^(S|~P))+U[7]+1126891415&4294967295,H=S+(M<<10&4294967295|M>>>22),M=P+(S^(H|~C))+U[14]+2878612391&4294967295,P=H+(M<<15&4294967295|M>>>17),M=C+(H^(P|~S))+U[5]+4237533241&4294967295,C=P+(M<<21&4294967295|M>>>11),M=S+(P^(C|~H))+U[12]+1700485571&4294967295,S=C+(M<<6&4294967295|M>>>26),M=H+(C^(S|~P))+U[3]+2399980690&4294967295,H=S+(M<<10&4294967295|M>>>22),M=P+(S^(H|~C))+U[10]+4293915773&4294967295,P=H+(M<<15&4294967295|M>>>17),M=C+(H^(P|~S))+U[1]+2240044497&4294967295,C=P+(M<<21&4294967295|M>>>11),M=S+(P^(C|~H))+U[8]+1873313359&4294967295,S=C+(M<<6&4294967295|M>>>26),M=H+(C^(S|~P))+U[15]+4264355552&4294967295,H=S+(M<<10&4294967295|M>>>22),M=P+(S^(H|~C))+U[6]+2734768916&4294967295,P=H+(M<<15&4294967295|M>>>17),M=C+(H^(P|~S))+U[13]+1309151649&4294967295,C=P+(M<<21&4294967295|M>>>11),M=S+(P^(C|~H))+U[4]+4149444226&4294967295,S=C+(M<<6&4294967295|M>>>26),M=H+(C^(S|~P))+U[11]+3174756917&4294967295,H=S+(M<<10&4294967295|M>>>22),M=P+(S^(H|~C))+U[2]+718787259&4294967295,P=H+(M<<15&4294967295|M>>>17),M=C+(H^(P|~S))+U[9]+3951481745&4294967295,I.g[0]=I.g[0]+S&4294967295,I.g[1]=I.g[1]+(P+(M<<21&4294967295|M>>>11))&4294967295,I.g[2]=I.g[2]+P&4294967295,I.g[3]=I.g[3]+H&4294967295}i.prototype.v=function(I,S){S===void 0&&(S=I.length);const C=S-this.blockSize,U=this.C;let P=this.h,H=0;for(;H<S;){if(P==0)for(;H<=C;)a(this,I,H),H+=this.blockSize;if(typeof I=="string"){for(;H<S;)if(U[P++]=I.charCodeAt(H++),P==this.blockSize){a(this,U),P=0;break}}else for(;H<S;)if(U[P++]=I[H++],P==this.blockSize){a(this,U),P=0;break}}this.h=P,this.o+=S},i.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var S=1;S<I.length-8;++S)I[S]=0;S=this.o*8;for(var C=I.length-8;C<I.length;++C)I[C]=S&255,S/=256;for(this.v(I),I=Array(16),S=0,C=0;C<4;++C)for(let U=0;U<32;U+=8)I[S++]=this.g[C]>>>U&255;return I};function l(I,S){var C=d;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=S(I)}function c(I,S){this.h=S;const C=[];let U=!0;for(let P=I.length-1;P>=0;P--){const H=I[P]|0;U&&H==S||(C[P]=H,U=!1)}this.g=C}var d={};function m(I){return-128<=I&&I<128?l(I,function(S){return new c([S|0],S<0?-1:0)}):new c([I|0],I<0?-1:0)}function g(I){if(isNaN(I)||!isFinite(I))return x;if(I<0)return j(g(-I));const S=[];let C=1;for(let U=0;I>=C;U++)S[U]=I/C|0,C*=4294967296;return new c(S,0)}function v(I,S){if(I.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(I.charAt(0)=="-")return j(v(I.substring(1),S));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=g(Math.pow(S,8));let U=x;for(let H=0;H<I.length;H+=8){var P=Math.min(8,I.length-H);const M=parseInt(I.substring(H,H+P),S);P<8?(P=g(Math.pow(S,P)),U=U.j(P).add(g(M))):(U=U.j(C),U=U.add(g(M)))}return U}var x=m(0),_=m(1),E=m(16777216);t=c.prototype,t.m=function(){if(D(this))return-j(this).m();let I=0,S=1;for(let C=0;C<this.g.length;C++){const U=this.i(C);I+=(U>=0?U:4294967296+U)*S,S*=4294967296}return I},t.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(R(this))return"0";if(D(this))return"-"+j(this).toString(I);const S=g(Math.pow(I,6));var C=this;let U="";for(;;){const P=Z(C,S).g;C=L(C,P.j(S));let H=((C.g.length>0?C.g[0]:C.h)>>>0).toString(I);if(C=P,R(C))return H+U;for(;H.length<6;)H="0"+H;U=H+U}},t.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function R(I){if(I.h!=0)return!1;for(let S=0;S<I.g.length;S++)if(I.g[S]!=0)return!1;return!0}function D(I){return I.h==-1}t.l=function(I){return I=L(this,I),D(I)?-1:R(I)?0:1};function j(I){const S=I.g.length,C=[];for(let U=0;U<S;U++)C[U]=~I.g[U];return new c(C,~I.h).add(_)}t.abs=function(){return D(this)?j(this):this},t.add=function(I){const S=Math.max(this.g.length,I.g.length),C=[];let U=0;for(let P=0;P<=S;P++){let H=U+(this.i(P)&65535)+(I.i(P)&65535),M=(H>>>16)+(this.i(P)>>>16)+(I.i(P)>>>16);U=M>>>16,H&=65535,M&=65535,C[P]=M<<16|H}return new c(C,C[C.length-1]&-2147483648?-1:0)};function L(I,S){return I.add(j(S))}t.j=function(I){if(R(this)||R(I))return x;if(D(this))return D(I)?j(this).j(j(I)):j(j(this).j(I));if(D(I))return j(this.j(j(I)));if(this.l(E)<0&&I.l(E)<0)return g(this.m()*I.m());const S=this.g.length+I.g.length,C=[];for(var U=0;U<2*S;U++)C[U]=0;for(U=0;U<this.g.length;U++)for(let P=0;P<I.g.length;P++){const H=this.i(U)>>>16,M=this.i(U)&65535,ue=I.i(P)>>>16,Y=I.i(P)&65535;C[2*U+2*P]+=M*Y,q(C,2*U+2*P),C[2*U+2*P+1]+=H*Y,q(C,2*U+2*P+1),C[2*U+2*P+1]+=M*ue,q(C,2*U+2*P+1),C[2*U+2*P+2]+=H*ue,q(C,2*U+2*P+2)}for(I=0;I<S;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=S;I<2*S;I++)C[I]=0;return new c(C,0)};function q(I,S){for(;(I[S]&65535)!=I[S];)I[S+1]+=I[S]>>>16,I[S]&=65535,S++}function $(I,S){this.g=I,this.h=S}function Z(I,S){if(R(S))throw Error("division by zero");if(R(I))return new $(x,x);if(D(I))return S=Z(j(I),S),new $(j(S.g),j(S.h));if(D(S))return S=Z(I,j(S)),new $(j(S.g),S.h);if(I.g.length>30){if(D(I)||D(S))throw Error("slowDivide_ only works with positive integers.");for(var C=_,U=S;U.l(I)<=0;)C=ne(C),U=ne(U);var P=de(C,1),H=de(U,1);for(U=de(U,2),C=de(C,2);!R(U);){var M=H.add(U);M.l(I)<=0&&(P=P.add(C),H=M),U=de(U,1),C=de(C,1)}return S=L(I,P.j(S)),new $(P,S)}for(P=x;I.l(S)>=0;){for(C=Math.max(1,Math.floor(I.m()/S.m())),U=Math.ceil(Math.log(C)/Math.LN2),U=U<=48?1:Math.pow(2,U-48),H=g(C),M=H.j(S);D(M)||M.l(I)>0;)C-=U,H=g(C),M=H.j(S);R(H)&&(H=_),P=P.add(H),I=L(I,M)}return new $(P,I)}t.B=function(I){return Z(this,I).h},t.and=function(I){const S=Math.max(this.g.length,I.g.length),C=[];for(let U=0;U<S;U++)C[U]=this.i(U)&I.i(U);return new c(C,this.h&I.h)},t.or=function(I){const S=Math.max(this.g.length,I.g.length),C=[];for(let U=0;U<S;U++)C[U]=this.i(U)|I.i(U);return new c(C,this.h|I.h)},t.xor=function(I){const S=Math.max(this.g.length,I.g.length),C=[];for(let U=0;U<S;U++)C[U]=this.i(U)^I.i(U);return new c(C,this.h^I.h)};function ne(I){const S=I.g.length+1,C=[];for(let U=0;U<S;U++)C[U]=I.i(U)<<1|I.i(U-1)>>>31;return new c(C,I.h)}function de(I,S){const C=S>>5;S%=32;const U=I.g.length-C,P=[];for(let H=0;H<U;H++)P[H]=S>0?I.i(H+C)>>>S|I.i(H+C+1)<<32-S:I.i(H+C);return new c(P,I.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,MA=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=v,Gr=c}).apply(typeof TT<"u"?TT:typeof self<"u"?self:typeof window<"u"?window:{});var wh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var VA,qc,OA,Gh,I0,PA,LA,UA;(function(){var t,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof wh=="object"&&wh];for(var b=0;b<h.length;++b){var T=h[b];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var i=n(this);function a(h,b){if(b)e:{var T=i;h=h.split(".");for(var k=0;k<h.length-1;k++){var Q=h[k];if(!(Q in T))break e;T=T[Q]}h=h[h.length-1],k=T[h],b=b(k),b!=k&&b!=null&&e(T,h,{configurable:!0,writable:!0,value:b})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(b){var T=[],k;for(k in b)Object.prototype.hasOwnProperty.call(b,k)&&T.push([k,b[k]]);return T}});var l=l||{},c=this||self;function d(h){var b=typeof h;return b=="object"&&h!=null||b=="function"}function m(h,b,T){return h.call.apply(h.bind,arguments)}function g(h,b,T){return g=m,g.apply(null,arguments)}function v(h,b){var T=Array.prototype.slice.call(arguments,1);return function(){var k=T.slice();return k.push.apply(k,arguments),h.apply(this,k)}}function x(h,b){function T(){}T.prototype=b.prototype,h.Z=b.prototype,h.prototype=new T,h.prototype.constructor=h,h.Ob=function(k,Q,ee){for(var me=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)me[Le-2]=arguments[Le];return b.prototype[Q].apply(k,me)}}var _=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function E(h){const b=h.length;if(b>0){const T=Array(b);for(let k=0;k<b;k++)T[k]=h[k];return T}return[]}function R(h,b){for(let k=1;k<arguments.length;k++){const Q=arguments[k];var T=typeof Q;if(T=T!="object"?T:Q?Array.isArray(Q)?"array":T:"null",T=="array"||T=="object"&&typeof Q.length=="number"){T=h.length||0;const ee=Q.length||0;h.length=T+ee;for(let me=0;me<ee;me++)h[T+me]=Q[me]}else h.push(Q)}}class D{constructor(b,T){this.i=b,this.j=T,this.h=0,this.g=null}get(){let b;return this.h>0?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function j(h){c.setTimeout(()=>{throw h},0)}function L(){var h=I;let b=null;return h.g&&(b=h.g,h.g=h.g.next,h.g||(h.h=null),b.next=null),b}class q{constructor(){this.h=this.g=null}add(b,T){const k=$.get();k.set(b,T),this.h?this.h.next=k:this.g=k,this.h=k}}var $=new D(()=>new Z,h=>h.reset());class Z{constructor(){this.next=this.g=this.h=null}set(b,T){this.h=b,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let ne,de=!1,I=new q,S=()=>{const h=Promise.resolve(void 0);ne=()=>{h.then(C)}};function C(){for(var h;h=L();){try{h.h.call(h.g)}catch(T){j(T)}var b=$;b.j(h),b.h<100&&(b.h++,h.next=b.g,b.g=h)}de=!1}function U(){this.u=this.u,this.C=this.C}U.prototype.u=!1,U.prototype.dispose=function(){this.u||(this.u=!0,this.N())},U.prototype[Symbol.dispose]=function(){this.dispose()},U.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function P(h,b){this.type=h,this.g=this.target=b,this.defaultPrevented=!1}P.prototype.h=function(){this.defaultPrevented=!0};var H=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,b=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};c.addEventListener("test",T,b),c.removeEventListener("test",T,b)}catch{}return h})();function M(h){return/^[\s\xa0]*$/.test(h)}function ue(h,b){P.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,b)}x(ue,P),ue.prototype.init=function(h,b){const T=this.type=h.type,k=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=b,b=h.relatedTarget,b||(T=="mouseover"?b=h.fromElement:T=="mouseout"&&(b=h.toElement)),this.relatedTarget=b,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&ue.Z.h.call(this)},ue.prototype.h=function(){ue.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Y="closure_listenable_"+(Math.random()*1e6|0),V=0;function F(h,b,T,k,Q){this.listener=h,this.proxy=null,this.src=b,this.type=T,this.capture=!!k,this.ha=Q,this.key=++V,this.da=this.fa=!1}function G(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function he(h,b,T){for(const k in h)b.call(T,h[k],k,h)}function pe(h,b){for(const T in h)b.call(void 0,h[T],T,h)}function z(h){const b={};for(const T in h)b[T]=h[T];return b}const se="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ce(h,b){let T,k;for(let Q=1;Q<arguments.length;Q++){k=arguments[Q];for(T in k)h[T]=k[T];for(let ee=0;ee<se.length;ee++)T=se[ee],Object.prototype.hasOwnProperty.call(k,T)&&(h[T]=k[T])}}function fe(h){this.src=h,this.g={},this.h=0}fe.prototype.add=function(h,b,T,k,Q){const ee=h.toString();h=this.g[ee],h||(h=this.g[ee]=[],this.h++);const me=je(h,b,k,Q);return me>-1?(b=h[me],T||(b.fa=!1)):(b=new F(b,this.src,ee,!!k,Q),b.fa=T,h.push(b)),b};function Ae(h,b){const T=b.type;if(T in h.g){var k=h.g[T],Q=Array.prototype.indexOf.call(k,b,void 0),ee;(ee=Q>=0)&&Array.prototype.splice.call(k,Q,1),ee&&(G(b),h.g[T].length==0&&(delete h.g[T],h.h--))}}function je(h,b,T,k){for(let Q=0;Q<h.length;++Q){const ee=h[Q];if(!ee.da&&ee.listener==b&&ee.capture==!!T&&ee.ha==k)return Q}return-1}var ke="closure_lm_"+(Math.random()*1e6|0),ge={};function Me(h,b,T,k,Q){if(Array.isArray(b)){for(let ee=0;ee<b.length;ee++)Me(h,b[ee],T,k,Q);return null}return T=Vl(T),h&&h[Y]?h.J(b,T,d(k)?!!k.capture:!1,Q):bt(h,b,T,!1,k,Q)}function bt(h,b,T,k,Q,ee){if(!b)throw Error("Invalid event type");const me=d(Q)?!!Q.capture:!!Q;let Le=Mn(h);if(Le||(h[ke]=Le=new fe(h)),T=Le.add(b,T,k,me,ee),T.proxy)return T;if(k=en(),T.proxy=k,k.src=h,k.listener=T,h.addEventListener)H||(Q=me),Q===void 0&&(Q=!1),h.addEventListener(b.toString(),k,Q);else if(h.attachEvent)h.attachEvent(Dn(b.toString()),k);else if(h.addListener&&h.removeListener)h.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return T}function en(){function h(T){return b.call(h.src,h.listener,T)}const b=$n;return h}function jn(h,b,T,k,Q){if(Array.isArray(b))for(var ee=0;ee<b.length;ee++)jn(h,b[ee],T,k,Q);else k=d(k)?!!k.capture:!!k,T=Vl(T),h&&h[Y]?(h=h.i,ee=String(b).toString(),ee in h.g&&(b=h.g[ee],T=je(b,T,k,Q),T>-1&&(G(b[T]),Array.prototype.splice.call(b,T,1),b.length==0&&(delete h.g[ee],h.h--)))):h&&(h=Mn(h))&&(b=h.g[b.toString()],h=-1,b&&(h=je(b,T,k,Q)),(T=h>-1?b[h]:null)&&xi(T))}function xi(h){if(typeof h!="number"&&h&&!h.da){var b=h.src;if(b&&b[Y])Ae(b.i,h);else{var T=h.type,k=h.proxy;b.removeEventListener?b.removeEventListener(T,k,h.capture):b.detachEvent?b.detachEvent(Dn(T),k):b.addListener&&b.removeListener&&b.removeListener(k),(T=Mn(b))?(Ae(T,h),T.h==0&&(T.src=null,b[ke]=null)):G(h)}}}function Dn(h){return h in ge?ge[h]:ge[h]="on"+h}function $n(h,b){if(h.da)h=!0;else{b=new ue(b,this);const T=h.listener,k=h.ha||h.src;h.fa&&xi(h),h=T.call(k,b)}return h}function Mn(h){return h=h[ke],h instanceof fe?h:null}var Ml="__closure_events_fn_"+(Math.random()*1e9>>>0);function Vl(h){return typeof h=="function"?h:(h[Ml]||(h[Ml]=function(b){return h.handleEvent(b)}),h[Ml])}function Ct(){U.call(this),this.i=new fe(this),this.M=this,this.G=null}x(Ct,U),Ct.prototype[Y]=!0,Ct.prototype.removeEventListener=function(h,b,T,k){jn(this,h,b,T,k)};function qt(h,b){var T,k=h.G;if(k)for(T=[];k;k=k.G)T.push(k);if(h=h.M,k=b.type||b,typeof b=="string")b=new P(b,h);else if(b instanceof P)b.target=b.target||h;else{var Q=b;b=new P(k,h),ce(b,Q)}Q=!0;let ee,me;if(T)for(me=T.length-1;me>=0;me--)ee=b.g=T[me],Q=nr(ee,k,!0,b)&&Q;if(ee=b.g=h,Q=nr(ee,k,!0,b)&&Q,Q=nr(ee,k,!1,b)&&Q,T)for(me=0;me<T.length;me++)ee=b.g=T[me],Q=nr(ee,k,!1,b)&&Q}Ct.prototype.N=function(){if(Ct.Z.N.call(this),this.i){var h=this.i;for(const b in h.g){const T=h.g[b];for(let k=0;k<T.length;k++)G(T[k]);delete h.g[b],h.h--}}this.G=null},Ct.prototype.J=function(h,b,T,k){return this.i.add(String(h),b,!1,T,k)},Ct.prototype.K=function(h,b,T,k){return this.i.add(String(h),b,!0,T,k)};function nr(h,b,T,k){if(b=h.i.g[String(b)],!b)return!0;b=b.concat();let Q=!0;for(let ee=0;ee<b.length;++ee){const me=b[ee];if(me&&!me.da&&me.capture==T){const Le=me.listener,St=me.ha||me.src;me.fa&&Ae(h.i,me),Q=Le.call(St,k)!==!1&&Q}}return Q&&!k.defaultPrevented}function lm(h,b){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(b)>2147483647?-1:c.setTimeout(h,b||0)}function Bu(h){h.g=lm(()=>{h.g=null,h.i&&(h.i=!1,Bu(h))},h.l);const b=h.h;h.h=null,h.m.apply(null,b)}class xn extends U{constructor(b,T){super(),this.m=b,this.l=T,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:Bu(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ia(h){U.call(this),this.h=h,this.g={}}x(ia,U);var Ol=[];function Pl(h){he(h.g,function(b,T){this.g.hasOwnProperty(T)&&xi(b)},h),h.g={}}ia.prototype.N=function(){ia.Z.N.call(this),Pl(this)},ia.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var sr=c.JSON.stringify,cm=c.JSON.parse,Fu=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function Hu(){}function qu(){}var fs={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function tn(){P.call(this,"d")}x(tn,P);function Kn(){P.call(this,"c")}x(Kn,P);var Et={},Gu=null;function ao(){return Gu=Gu||new Ct}Et.Ia="serverreachability";function $u(h){P.call(this,Et.Ia,h)}x($u,P);function Vs(h){const b=ao();qt(b,new $u(b))}Et.STAT_EVENT="statevent";function ra(h,b){P.call(this,Et.STAT_EVENT,h),this.stat=b}x(ra,P);function Rt(h){const b=ao();qt(b,new ra(b,h))}Et.Ja="timingevent";function Os(h,b){P.call(this,Et.Ja,h),this.size=b}x(Os,P);function Ps(h,b){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},b)}function ms(){this.g=!0}ms.prototype.ua=function(){this.g=!1};function um(h,b,T,k,Q,ee){h.info(function(){if(h.g)if(ee){var me="",Le=ee.split("&");for(let Ze=0;Ze<Le.length;Ze++){var St=Le[Ze].split("=");if(St.length>1){const pt=St[0];St=St[1];const Wn=pt.split("_");me=Wn.length>=2&&Wn[1]=="type"?me+(pt+"="+St+"&"):me+(pt+"=redacted&")}}}else me=null;else me=ee;return"XMLHTTP REQ ("+k+") [attempt "+Q+"]: "+b+`
`+T+`
`+me})}function Ku(h,b,T,k,Q,ee,me){h.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+Q+"]: "+b+`
`+T+`
`+ee+" "+me})}function Ls(h,b,T,k){h.info(function(){return"XMLHTTP TEXT ("+b+"): "+dm(h,T)+(k?" "+k:"")})}function aa(h,b){h.info(function(){return"TIMEOUT: "+b})}ms.prototype.info=function(){};function dm(h,b){if(!h.g)return b;if(!b)return null;try{const ee=JSON.parse(b);if(ee){for(h=0;h<ee.length;h++)if(Array.isArray(ee[h])){var T=ee[h];if(!(T.length<2)){var k=T[1];if(Array.isArray(k)&&!(k.length<1)){var Q=k[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(let me=1;me<k.length;me++)k[me]=""}}}}return sr(ee)}catch{return b}}var oa={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ll={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ul;function la(){}x(la,Hu),la.prototype.g=function(){return new XMLHttpRequest},Ul=new la;function bi(h){return encodeURIComponent(String(h))}function Yu(h){var b=1;h=h.split(":");const T=[];for(;b>0&&h.length;)T.push(h.shift()),b--;return h.length&&T.push(h.join(":")),T}function ps(h,b,T,k){this.j=h,this.i=b,this.l=T,this.S=k||1,this.V=new ia(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new gs}function gs(){this.i=null,this.g="",this.h=!1}var It={},Qt={};function Us(h,b,T){h.M=1,h.A=ca(Dt(b)),h.u=T,h.R=!0,oo(h,null)}function oo(h,b){h.F=Date.now(),zs(h),h.B=Dt(h.A);var T=h.B,k=h.S;Array.isArray(k)||(k=[String(k)]),ho(T.i,"t",k),h.C=0,T=h.j.L,h.h=new gs,h.g=cd(h.j,T?b:null,!h.u),h.P>0&&(h.O=new xn(g(h.Y,h,h.g),h.P)),b=h.V,T=h.g,k=h.ba;var Q="readystatechange";Array.isArray(Q)||(Q&&(Ol[0]=Q.toString()),Q=Ol);for(let ee=0;ee<Q.length;ee++){const me=Me(T,Q[ee],k||b.handleEvent,!1,b.h||b);if(!me)break;b.g[me.key]=me}b=h.J?z(h.J):{},h.u?(h.v||(h.v="POST"),b["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,b)):(h.v="GET",h.g.ea(h.B,h.v,null,b)),Vs(),um(h.i,h.v,h.B,h.l,h.S,h.u)}ps.prototype.ba=function(h){h=h.target;const b=this.O;b&&xs(h)==3?b.j():this.Y(h)},ps.prototype.Y=function(h){try{if(h==this.g)e:{const Le=xs(this.g),St=this.g.ya(),Ze=this.g.ca();if(!(Le<3)&&(Le!=3||this.g&&(this.h.h||this.g.la()||nn(this.g)))){this.K||Le!=4||St==7||(St==8||Ze<=0?Vs(3):Vs(2)),Bs(this);var b=this.g.ca();this.X=b;var T=hm(this);if(this.o=b==200,Ku(this.i,this.v,this.B,this.l,this.S,Le,b),this.o){if(this.U&&!this.L){t:{if(this.g){var k,Q=this.g;if((k=Q.g?Q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(k)){var ee=k;break t}}ee=null}if(h=ee)Ls(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Fs(this,h);else{this.o=!1,this.m=3,Rt(12),Vn(this),Yn(this);break e}}if(this.R){h=!0;let pt;for(;!this.K&&this.C<T.length;)if(pt=Xu(this,T),pt==Qt){Le==4&&(this.m=4,Rt(14),h=!1),Ls(this.i,this.l,null,"[Incomplete Response]");break}else if(pt==It){this.m=4,Rt(15),Ls(this.i,this.l,T,"[Invalid Chunk]"),h=!1;break}else Ls(this.i,this.l,pt,null),Fs(this,pt);if(Qu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Le!=4||T.length!=0||this.h.h||(this.m=1,Rt(16),h=!1),this.o=this.o&&h,!h)Ls(this.i,this.l,T,"[Invalid Chunked Response]"),Vn(this),Yn(this);else if(T.length>0&&!this.W){this.W=!0;var me=this.j;me.g==this&&me.aa&&!me.P&&(me.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),ec(me),me.P=!0,Rt(11))}}else Ls(this.i,this.l,T,null),Fs(this,T);Le==4&&Vn(this),this.o&&!this.K&&(Le==4?rd(this.j,this):(this.o=!1,zs(this)))}else wi(this.g),b==400&&T.indexOf("Unknown SID")>0?(this.m=3,Rt(12)):(this.m=0,Rt(13)),Vn(this),Yn(this)}}}catch{}};function hm(h){if(!Qu(h))return h.g.la();const b=nn(h.g);if(b==="")return"";let T="";const k=b.length,Q=xs(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Vn(h),Yn(h),"";h.h.i=new c.TextDecoder}for(let ee=0;ee<k;ee++)h.h.h=!0,T+=h.h.i.decode(b[ee],{stream:!(Q&&ee==k-1)});return b.length=0,h.h.g+=T,h.C=0,h.h.g}function Qu(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Xu(h,b){var T=h.C,k=b.indexOf(`
`,T);return k==-1?Qt:(T=Number(b.substring(T,k)),isNaN(T)?It:(k+=1,k+T>b.length?Qt:(b=b.slice(k,k+T),h.C=k+T,b)))}ps.prototype.cancel=function(){this.K=!0,Vn(this)};function zs(h){h.T=Date.now()+h.H,lo(h,h.H)}function lo(h,b){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Ps(g(h.aa,h),b)}function Bs(h){h.D&&(c.clearTimeout(h.D),h.D=null)}ps.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(aa(this.i,this.B),this.M!=2&&(Vs(),Rt(17)),Vn(this),this.m=2,Yn(this)):lo(this,this.T-h)};function Yn(h){h.j.I==0||h.K||rd(h.j,h)}function Vn(h){Bs(h);var b=h.O;b&&typeof b.dispose=="function"&&b.dispose(),h.O=null,Pl(h.V),h.g&&(b=h.g,h.g=null,b.abort(),b.dispose())}function Fs(h,b){try{var T=h.j;if(T.I!=0&&(T.g==h||qs(T.h,h))){if(!h.L&&qs(T.h,h)&&T.I==3){try{var k=T.Ba.g.parse(b)}catch{k=null}if(Array.isArray(k)&&k.length==3){var Q=k;if(Q[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<h.F)yo(T),dr(T);else break e;ga(T),Rt(18)}}else T.xa=Q[1],0<T.xa-T.K&&Q[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=Ps(g(T.Va,T),6e3));Hs(T.h)<=1&&T.ta&&(T.ta=void 0)}else Xs(T,11)}else if((h.L||T.g==h)&&yo(T),!M(b))for(Q=T.Ba.g.parse(b),b=0;b<Q.length;b++){let Ze=Q[b];const pt=Ze[0];if(!(pt<=T.K))if(T.K=pt,Ze=Ze[1],T.I==2)if(Ze[0]=="c"){T.M=Ze[1],T.ba=Ze[2];const Wn=Ze[3];Wn!=null&&(T.ka=Wn,T.j.info("VER="+T.ka));const Ws=Ze[4];Ws!=null&&(T.za=Ws,T.j.info("SVER="+T.za));const bs=Ze[5];bs!=null&&typeof bs=="number"&&bs>0&&(k=1.5*bs,T.O=k,T.j.info("backChannelRequestTimeoutMs_="+k)),k=T;const _s=h.g;if(_s){const ya=_s.g?_s.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ya){var ee=k.h;ee.g||ya.indexOf("spdy")==-1&&ya.indexOf("quic")==-1&&ya.indexOf("h2")==-1||(ee.j=ee.l,ee.g=new Set,ee.h&&(Fl(ee,ee.h),ee.h=null))}if(k.G){const vo=_s.g?_s.g.getResponseHeader("X-HTTP-Session-Id"):null;vo&&(k.wa=vo,nt(k.J,k.G,vo))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-h.F,T.j.info("Handshake RTT: "+T.T+"ms")),k=T;var me=h;if(k.na=ld(k,k.L?k.ba:null,k.W),me.L){Hl(k.h,me);var Le=me,St=k.O;St&&(Le.H=St),Le.D&&(Bs(Le),zs(Le)),k.g=me}else sd(k);T.i.length>0&&Qs(T)}else Ze[0]!="stop"&&Ze[0]!="close"||Xs(T,7);else T.I==3&&(Ze[0]=="stop"||Ze[0]=="close"?Ze[0]=="stop"?Xs(T,7):Jl(T):Ze[0]!="noop"&&T.l&&T.l.qa(Ze),T.A=0)}}Vs(4)}catch{}}var jt=class{constructor(h,b){this.g=h,this.map=b}};function zl(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Bl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Hs(h){return h.h?1:h.g?h.g.size:0}function qs(h,b){return h.h?h.h==b:h.g?h.g.has(b):!1}function Fl(h,b){h.g?h.g.add(b):h.h=b}function Hl(h,b){h.h&&h.h==b?h.h=null:h.g&&h.g.has(b)&&h.g.delete(b)}zl.prototype.cancel=function(){if(this.i=ql(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function ql(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let b=h.i;for(const T of h.g.values())b=b.concat(T.G);return b}return E(h.i)}var Wu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function co(h,b){if(h){h=h.split("&");for(let T=0;T<h.length;T++){const k=h[T].indexOf("=");let Q,ee=null;k>=0?(Q=h[T].substring(0,k),ee=h[T].substring(k+1)):Q=h[T],b(Q,ee?decodeURIComponent(ee.replace(/\+/g," ")):"")}}}function On(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let b;h instanceof On?(this.l=h.l,Xt(this,h.j),this.o=h.o,this.g=h.g,ir(this,h.u),this.h=h.h,Gl(this,td(h.i)),this.m=h.m):h&&(b=String(h).match(Wu))?(this.l=!1,Xt(this,b[1]||"",!0),this.o=Gs(b[2]||""),this.g=Gs(b[3]||"",!0),ir(this,b[4]),this.h=Gs(b[5]||"",!0),Gl(this,b[6]||"",!0),this.m=Gs(b[7]||"")):(this.l=!1,this.i=new ar(null,this.l))}On.prototype.toString=function(){const h=[];var b=this.j;b&&h.push(ua(b,uo,!0),":");var T=this.g;return(T||b=="file")&&(h.push("//"),(b=this.o)&&h.push(ua(b,uo,!0),"@"),h.push(bi(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&h.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(ua(T,T.charAt(0)=="/"?$l:Ju,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",ua(T,Zu)),h.join("")},On.prototype.resolve=function(h){const b=Dt(this);let T=!!h.j;T?Xt(b,h.j):T=!!h.o,T?b.o=h.o:T=!!h.g,T?b.g=h.g:T=h.u!=null;var k=h.h;if(T)ir(b,h.u);else if(T=!!h.h){if(k.charAt(0)!="/")if(this.g&&!this.h)k="/"+k;else{var Q=b.h.lastIndexOf("/");Q!=-1&&(k=b.h.slice(0,Q+1)+k)}if(Q=k,Q==".."||Q==".")k="";else if(Q.indexOf("./")!=-1||Q.indexOf("/.")!=-1){k=Q.lastIndexOf("/",0)==0,Q=Q.split("/");const ee=[];for(let me=0;me<Q.length;){const Le=Q[me++];Le=="."?k&&me==Q.length&&ee.push(""):Le==".."?((ee.length>1||ee.length==1&&ee[0]!="")&&ee.pop(),k&&me==Q.length&&ee.push("")):(ee.push(Le),k=!0)}k=ee.join("/")}else k=Q}return T?b.h=k:T=h.i.toString()!=="",T?Gl(b,td(h.i)):T=!!h.m,T&&(b.m=h.m),b};function Dt(h){return new On(h)}function Xt(h,b,T){h.j=T?Gs(b,!0):b,h.j&&(h.j=h.j.replace(/:$/,""))}function ir(h,b){if(b){if(b=Number(b),isNaN(b)||b<0)throw Error("Bad port number "+b);h.u=b}else h.u=null}function Gl(h,b,T){b instanceof ar?(h.i=b,fo(h.i,h.l)):(T||(b=ua(b,rr)),h.i=new ar(b,h.l))}function nt(h,b,T){h.i.set(b,T)}function ca(h){return nt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Gs(h,b){return h?b?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function ua(h,b,T){return typeof h=="string"?(h=encodeURI(h).replace(b,En),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function En(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var uo=/[#\/\?@]/g,Ju=/[#\?:]/g,$l=/[#\?]/g,rr=/[#\?@]/g,Zu=/#/g;function ar(h,b){this.h=this.g=null,this.i=h||null,this.j=!!b}function Sn(h){h.g||(h.g=new Map,h.h=0,h.i&&co(h.i,function(b,T){h.add(decodeURIComponent(b.replace(/\+/g," ")),T)}))}t=ar.prototype,t.add=function(h,b){Sn(this),this.i=null,h=or(this,h);let T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(b),this.h+=1,this};function ed(h,b){Sn(h),b=or(h,b),h.g.has(b)&&(h.i=null,h.h-=h.g.get(b).length,h.g.delete(b))}function Kl(h,b){return Sn(h),b=or(h,b),h.g.has(b)}t.forEach=function(h,b){Sn(this),this.g.forEach(function(T,k){T.forEach(function(Q){h.call(b,Q,k,this)},this)},this)};function Yl(h,b){Sn(h);let T=[];if(typeof b=="string")Kl(h,b)&&(T=T.concat(h.g.get(or(h,b))));else for(h=Array.from(h.g.values()),b=0;b<h.length;b++)T=T.concat(h[b]);return T}t.set=function(h,b){return Sn(this),this.i=null,h=or(this,h),Kl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[b]),this.h+=1,this},t.get=function(h,b){return h?(h=Yl(this,h),h.length>0?String(h[0]):b):b};function ho(h,b,T){ed(h,b),T.length>0&&(h.i=null,h.g.set(or(h,b),E(T)),h.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],b=Array.from(this.g.keys());for(let k=0;k<b.length;k++){var T=b[k];const Q=bi(T);T=Yl(this,T);for(let ee=0;ee<T.length;ee++){let me=Q;T[ee]!==""&&(me+="="+bi(T[ee])),h.push(me)}}return this.i=h.join("&")};function td(h){const b=new ar;return b.i=h.i,h.g&&(b.g=new Map(h.g),b.h=h.h),b}function or(h,b){return b=String(b),h.j&&(b=b.toLowerCase()),b}function fo(h,b){b&&!h.j&&(Sn(h),h.i=null,h.g.forEach(function(T,k){const Q=k.toLowerCase();k!=Q&&(ed(this,k),ho(this,Q,T))},h)),h.j=b}function ys(h,b){const T=new ms;if(c.Image){const k=new Image;k.onload=v(Qn,T,"TestLoadImage: loaded",!0,b,k),k.onerror=v(Qn,T,"TestLoadImage: error",!1,b,k),k.onabort=v(Qn,T,"TestLoadImage: abort",!1,b,k),k.ontimeout=v(Qn,T,"TestLoadImage: timeout",!1,b,k),c.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=h}else b(!1)}function Ql(h,b){const T=new ms,k=new AbortController,Q=setTimeout(()=>{k.abort(),Qn(T,"TestPingServer: timeout",!1,b)},1e4);fetch(h,{signal:k.signal}).then(ee=>{clearTimeout(Q),ee.ok?Qn(T,"TestPingServer: ok",!0,b):Qn(T,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(Q),Qn(T,"TestPingServer: error",!1,b)})}function Qn(h,b,T,k,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),k(T)}catch{}}function lr(){this.g=new Fu}function $s(h){this.i=h.Sb||null,this.h=h.ab||!1}x($s,Hu),$s.prototype.g=function(){return new da(this.i,this.h)};function da(h,b){Ct.call(this),this.H=h,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}x(da,Ct),t=da.prototype,t.open=function(h,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=b,this.readyState=1,vs(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const b={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(b.body=h),(this.H||c).fetch(new Request(this.D,b)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,cr(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,vs(this)),this.g&&(this.readyState=3,vs(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;mo(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function mo(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var b=h.value?h.value:new Uint8Array(0);(b=this.B.decode(b,{stream:!h.done}))&&(this.response=this.responseText+=b)}h.done?cr(this):vs(this),this.readyState==3&&mo(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,cr(this))},t.Na=function(h){this.g&&(this.response=h,cr(this))},t.ga=function(){this.g&&cr(this)};function cr(h){h.readyState=4,h.l=null,h.j=null,h.B=null,vs(h)}t.setRequestHeader=function(h,b){this.A.append(h,b)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],b=this.h.entries();for(var T=b.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=b.next();return h.join(`\r
`)};function vs(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(da.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Xn(h){let b="";return he(h,function(T,k){b+=k,b+=":",b+=T,b+=`\r
`}),b}function ha(h,b,T){e:{for(k in T){var k=!1;break e}k=!0}k||(T=Xn(T),typeof h=="string"?T!=null&&bi(T):nt(h,b,T))}function rt(h){Ct.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}x(rt,Ct);var Ks=/^https?$/i,Xl=["POST","PUT"];t=rt.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,b,T,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);b=b?b.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ul.g(),this.g.onreadystatechange=_(g(this.Ca,this));try{this.B=!0,this.g.open(b,String(h),!0),this.B=!1}catch(ee){fa(this,ee);return}if(h=T||"",T=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var Q in k)T.set(Q,k[Q]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const ee of k.keys())T.set(ee,k.get(ee));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(T.keys()).find(ee=>ee.toLowerCase()=="content-type"),Q=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(Xl,b,void 0)>=0)||k||Q||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ee,me]of T)this.g.setRequestHeader(ee,me);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(ee){fa(this,ee)}};function fa(h,b){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=b,h.o=5,Wl(h),_i(h)}function Wl(h){h.A||(h.A=!0,qt(h,"complete"),qt(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,qt(this,"complete"),qt(this,"abort"),_i(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),_i(this,!0)),rt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?ma(this):this.Xa())},t.Xa=function(){ma(this)};function ma(h){if(h.h&&typeof l<"u"){if(h.v&&xs(h)==4)setTimeout(h.Ca.bind(h),0);else if(qt(h,"readystatechange"),xs(h)==4){h.h=!1;try{const ee=h.ca();e:switch(ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var T;if(!(T=b)){var k;if(k=ee===0){let me=String(h.D).match(Wu)[1]||null;!me&&c.self&&c.self.location&&(me=c.self.location.protocol.slice(0,-1)),k=!Ks.test(me?me.toLowerCase():"")}T=k}if(T)qt(h,"complete"),qt(h,"success");else{h.o=6;try{var Q=xs(h)>2?h.g.statusText:""}catch{Q=""}h.l=Q+" ["+h.ca()+"]",Wl(h)}}finally{_i(h)}}}}function _i(h,b){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const T=h.g;h.g=null,b||qt(h,"ready");try{T.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function xs(h){return h.g?h.g.readyState:0}t.ca=function(){try{return xs(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var b=this.g.responseText;return h&&b.indexOf(h)==0&&(b=b.substring(h.length)),cm(b)}};function nn(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function wi(h){const b={};h=(h.g&&xs(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<h.length;k++){if(M(h[k]))continue;var T=Yu(h[k]);const Q=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const ee=b[Q]||[];b[Q]=ee,ee.push(T)}pe(b,function(k){return k.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ys(h,b,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||b}function ur(h){this.za=0,this.i=[],this.j=new ms,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ys("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ys("baseRetryDelayMs",5e3,h),this.Za=Ys("retryDelaySeedMs",1e4,h),this.Ta=Ys("forwardChannelMaxRetries",2,h),this.va=Ys("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new zl(h&&h.concurrentRequestLimit),this.Ba=new lr,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=ur.prototype,t.ka=8,t.I=1,t.connect=function(h,b,T,k){Rt(0),this.W=h,this.H=b||{},T&&k!==void 0&&(this.H.OSID=T,this.H.OAID=k),this.F=this.X,this.J=ld(this,null,this.W),Qs(this)};function Jl(h){if(po(h),h.I==3){var b=h.V++,T=Dt(h.J);if(nt(T,"SID",h.M),nt(T,"RID",b),nt(T,"TYPE","terminate"),pa(h,T),b=new ps(h,h.j,b),b.M=2,b.A=ca(Dt(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(b.A.toString(),"")}catch{}!T&&c.Image&&(new Image().src=b.A,T=!0),T||(b.g=cd(b.j,null),b.g.ea(b.A)),b.F=Date.now(),zs(b)}od(h)}function dr(h){h.g&&(ec(h),h.g.cancel(),h.g=null)}function po(h){dr(h),h.v&&(c.clearTimeout(h.v),h.v=null),yo(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function Qs(h){if(!Bl(h.h)&&!h.m){h.m=!0;var b=h.Ea;ne||S(),de||(ne(),de=!0),I.add(b,h),h.D=0}}function go(h,b){return Hs(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=b.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Ps(g(h.Ea,h,b),ad(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const Q=new ps(this,this.j,h);let ee=this.o;if(this.U&&(ee?(ee=z(ee),ce(ee,this.U)):ee=this.U),this.u!==null||this.R||(Q.J=ee,ee=null),this.S)e:{for(var b=0,T=0;T<this.i.length;T++){t:{var k=this.i[T];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(b+=k,b>4096){b=T;break e}if(b===4096||T===this.i.length-1){b=T+1;break e}}b=1e3}else b=1e3;b=nd(this,Q,b),T=Dt(this.J),nt(T,"RID",h),nt(T,"CVER",22),this.G&&nt(T,"X-HTTP-Session-Id",this.G),pa(this,T),ee&&(this.R?b="headers="+bi(Xn(ee))+"&"+b:this.u&&ha(T,this.u,ee)),Fl(this.h,Q),this.Ra&&nt(T,"TYPE","init"),this.S?(nt(T,"$req",b),nt(T,"SID","null"),Q.U=!0,Us(Q,T,null)):Us(Q,T,b),this.I=2}}else this.I==3&&(h?Zl(this,h):this.i.length==0||Bl(this.h)||Zl(this))};function Zl(h,b){var T;b?T=b.l:T=h.V++;const k=Dt(h.J);nt(k,"SID",h.M),nt(k,"RID",T),nt(k,"AID",h.K),pa(h,k),h.u&&h.o&&ha(k,h.u,h.o),T=new ps(h,h.j,T,h.D+1),h.u===null&&(T.J=h.o),b&&(h.i=b.G.concat(h.i)),b=nd(h,T,1e3),T.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Fl(h.h,T),Us(T,k,b)}function pa(h,b){h.H&&he(h.H,function(T,k){nt(b,k,T)}),h.l&&he({},function(T,k){nt(b,k,T)})}function nd(h,b,T){T=Math.min(h.i.length,T);const k=h.l?g(h.l.Ka,h.l,h):null;e:{var Q=h.i;let Le=-1;for(;;){const St=["count="+T];Le==-1?T>0?(Le=Q[0].g,St.push("ofs="+Le)):Le=0:St.push("ofs="+Le);let Ze=!0;for(let pt=0;pt<T;pt++){var ee=Q[pt].g;const Wn=Q[pt].map;if(ee-=Le,ee<0)Le=Math.max(0,Q[pt].g-100),Ze=!1;else try{ee="req"+ee+"_"||"";try{var me=Wn instanceof Map?Wn:Object.entries(Wn);for(const[Ws,bs]of me){let _s=bs;d(bs)&&(_s=sr(bs)),St.push(ee+Ws+"="+encodeURIComponent(_s))}}catch(Ws){throw St.push(ee+"type="+encodeURIComponent("_badmap")),Ws}}catch{k&&k(Wn)}}if(Ze){me=St.join("&");break e}}me=void 0}return h=h.i.splice(0,T),b.G=h,me}function sd(h){if(!h.g&&!h.v){h.Y=1;var b=h.Da;ne||S(),de||(ne(),de=!0),I.add(b,h),h.A=0}}function ga(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Ps(g(h.Da,h),ad(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,id(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Ps(g(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Rt(10),dr(this),id(this))};function ec(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function id(h){h.g=new ps(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var b=Dt(h.na);nt(b,"RID","rpc"),nt(b,"SID",h.M),nt(b,"AID",h.K),nt(b,"CI",h.F?"0":"1"),!h.F&&h.ia&&nt(b,"TO",h.ia),nt(b,"TYPE","xmlhttp"),pa(h,b),h.u&&h.o&&ha(b,h.u,h.o),h.O&&(h.g.H=h.O);var T=h.g;h=h.ba,T.M=1,T.A=ca(Dt(b)),T.u=null,T.R=!0,oo(T,h)}t.Va=function(){this.C!=null&&(this.C=null,dr(this),ga(this),Rt(19))};function yo(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function rd(h,b){var T=null;if(h.g==b){yo(h),ec(h),h.g=null;var k=2}else if(qs(h.h,b))T=b.G,Hl(h.h,b),k=1;else return;if(h.I!=0){if(b.o)if(k==1){T=b.u?b.u.length:0,b=Date.now()-b.F;var Q=h.D;k=ao(),qt(k,new Os(k,T)),Qs(h)}else sd(h);else if(Q=b.m,Q==3||Q==0&&b.X>0||!(k==1&&go(h,b)||k==2&&ga(h)))switch(T&&T.length>0&&(b=h.h,b.i=b.i.concat(T)),Q){case 1:Xs(h,5);break;case 4:Xs(h,10);break;case 3:Xs(h,6);break;default:Xs(h,2)}}}function ad(h,b){let T=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(T*=2),T*b}function Xs(h,b){if(h.j.info("Error code "+b),b==2){var T=g(h.bb,h),k=h.Ua;const Q=!k;k=new On(k||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Xt(k,"https"),ca(k),Q?ys(k.toString(),T):Ql(k.toString(),T)}else Rt(2);h.I=0,h.l&&h.l.pa(b),od(h),po(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Rt(2)):(this.j.info("Failed to ping google.com"),Rt(1))};function od(h){if(h.I=0,h.ja=[],h.l){const b=ql(h.h);(b.length!=0||h.i.length!=0)&&(R(h.ja,b),R(h.ja,h.i),h.h.i.length=0,E(h.i),h.i.length=0),h.l.oa()}}function ld(h,b,T){var k=T instanceof On?Dt(T):new On(T);if(k.g!="")b&&(k.g=b+"."+k.g),ir(k,k.u);else{var Q=c.location;k=Q.protocol,b=b?b+"."+Q.hostname:Q.hostname,Q=+Q.port;const ee=new On(null);k&&Xt(ee,k),b&&(ee.g=b),Q&&ir(ee,Q),T&&(ee.h=T),k=ee}return T=h.G,b=h.wa,T&&b&&nt(k,T,b),nt(k,"VER",h.ka),pa(h,k),k}function cd(h,b,T){if(b&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return b=h.Aa&&!h.ma?new rt(new $s({ab:T})):new rt(h.ma),b.Fa(h.L),b}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ud(){}t=ud.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function hr(){}hr.prototype.g=function(h,b){return new bn(h,b)};function bn(h,b){Ct.call(this),this.g=new ur(b),this.l=h,this.h=b&&b.messageUrlParams||null,h=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(h?h["X-WebChannel-Content-Type"]=b.messageContentType:h={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.sa&&(h?h["X-WebChannel-Client-Profile"]=b.sa:h={"X-WebChannel-Client-Profile":b.sa}),this.g.U=h,(h=b&&b.Qb)&&!M(h)&&(this.g.u=h),this.A=b&&b.supportsCrossDomainXhr||!1,this.v=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!M(b)&&(this.g.G=b,h=this.h,h!==null&&b in h&&(h=this.h,b in h&&delete h[b])),this.j=new Ti(this)}x(bn,Ct),bn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},bn.prototype.close=function(){Jl(this.g)},bn.prototype.o=function(h){var b=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.v&&(T={},T.__data__=sr(h),h=T);b.i.push(new jt(b.Ya++,h)),b.I==3&&Qs(b)},bn.prototype.N=function(){this.g.l=null,delete this.j,Jl(this.g),delete this.g,bn.Z.N.call(this)};function dd(h){tn.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var b=h.__sm__;if(b){e:{for(const T in b){h=T;break e}h=void 0}(this.i=h)&&(h=this.i,b=b!==null&&h in b?b[h]:void 0),this.data=b}else this.data=h}x(dd,tn);function hd(){Kn.call(this),this.status=1}x(hd,Kn);function Ti(h){this.g=h}x(Ti,ud),Ti.prototype.ra=function(){qt(this.g,"a")},Ti.prototype.qa=function(h){qt(this.g,new dd(h))},Ti.prototype.pa=function(h){qt(this.g,new hd)},Ti.prototype.oa=function(){qt(this.g,"b")},hr.prototype.createWebChannel=hr.prototype.g,bn.prototype.send=bn.prototype.o,bn.prototype.open=bn.prototype.m,bn.prototype.close=bn.prototype.close,UA=function(){return new hr},LA=function(){return ao()},PA=Et,I0={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},oa.NO_ERROR=0,oa.TIMEOUT=8,oa.HTTP_ERROR=6,Gh=oa,Ll.COMPLETE="complete",OA=Ll,qu.EventType=fs,fs.OPEN="a",fs.CLOSE="b",fs.ERROR="c",fs.MESSAGE="d",Ct.prototype.listen=Ct.prototype.J,qc=qu,rt.prototype.listenOnce=rt.prototype.K,rt.prototype.getLastError=rt.prototype.Ha,rt.prototype.getLastErrorCode=rt.prototype.ya,rt.prototype.getStatus=rt.prototype.ca,rt.prototype.getResponseJson=rt.prototype.La,rt.prototype.getResponseText=rt.prototype.la,rt.prototype.send=rt.prototype.ea,rt.prototype.setWithCredentials=rt.prototype.Fa,VA=rt}).apply(typeof wh<"u"?wh:typeof self<"u"?self:typeof window<"u"?window:{});class mn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}mn.UNAUTHENTICATED=new mn(null),mn.GOOGLE_CREDENTIALS=new mn("google-credentials-uid"),mn.FIRST_PARTY=new mn("first-party-uid"),mn.MOCK_USER=new mn("mock-user");let kl="12.9.0";function XO(t){kl=t}const Qa=new qy("@firebase/firestore");function Wo(){return Qa.logLevel}function ve(t,...e){if(Qa.logLevel<=$e.DEBUG){const n=e.map(sv);Qa.debug(`Firestore (${kl}): ${t}`,...n)}}function Wi(t,...e){if(Qa.logLevel<=$e.ERROR){const n=e.map(sv);Qa.error(`Firestore (${kl}): ${t}`,...n)}}function Xa(t,...e){if(Qa.logLevel<=$e.WARN){const n=e.map(sv);Qa.warn(`Firestore (${kl}): ${t}`,...n)}}function sv(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Ie(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,zA(t,i,n)}function zA(t,e,n){let i=`FIRESTORE (${kl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw Wi(i),new Error(i)}function tt(t,e,n,i){let a="Unexpected state";typeof n=="string"?a=n:i=n,t||zA(e,a,i)}function Pe(t,e){return t}const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends gi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class $r{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class BA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class WO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(mn.UNAUTHENTICATED)))}shutdown(){}}class JO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class ZO{constructor(e){this.t=e,this.currentUser=mn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){tt(this.o===void 0,42304);let i=this.i;const a=m=>this.i!==i?(i=this.i,n(m)):Promise.resolve();let l=new $r;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new $r,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const m=l;e.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},d=m=>{ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((m=>d(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new $r)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==e?(ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(tt(typeof i.accessToken=="string",31837,{l:i}),new BA(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return tt(e===null||typeof e=="string",2055,{h:e}),new mn(e)}}class eP{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=mn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class tP{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new eP(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(mn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class ET{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nP{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,as(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){tt(this.o===void 0,3512);const i=l=>{l.error!=null&&ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,ve("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>i(l)))};const a=l=>{ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new ET(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(tt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new ET(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function sP(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}class iv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=sP(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<n&&(i+=e.charAt(a[l]%62))}return i}}function Ke(t,e){return t<e?-1:t>e?1:0}function j0(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const a=t.charAt(i),l=e.charAt(i);if(a!==l)return Ug(a)===Ug(l)?Ke(a,l):Ug(a)?1:-1}return Ke(t.length,e.length)}const iP=55296,rP=57343;function Ug(t){const e=t.charCodeAt(0);return e>=iP&&e<=rP}function ml(t,e,n){return t.length===e.length&&t.every(((i,a)=>n(i,e[a])))}const ST="__name__";class ii{constructor(e,n,i){n===void 0?n=0:n>e.length&&Ie(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&Ie(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return ii.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ii?e.forEach((i=>{n.push(i)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let a=0;a<i;a++){const l=ii.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return Ke(e.length,n.length)}static compareSegments(e,n){const i=ii.isNumericId(e),a=ii.isNumericId(n);return i&&!a?-1:!i&&a?1:i&&a?ii.extractNumericId(e).compare(ii.extractNumericId(n)):j0(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Gr.fromString(e.substring(4,e.length-2))}}class ut extends ii{construct(e,n,i){return new ut(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new ye(oe.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((a=>a.length>0)))}return new ut(n)}static emptyPath(){return new ut([])}}const aP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class un extends ii{construct(e,n,i){return new un(e,n,i)}static isValidIdentifier(e){return aP.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),un.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ST}static keyField(){return new un([ST])}static fromServerFormat(e){const n=[];let i="",a=0;const l=()=>{if(i.length===0)throw new ye(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new ye(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new ye(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=m,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(i+=d,a++):(l(),a++)}if(l(),c)throw new ye(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new un(n)}static emptyPath(){return new un([])}}class Ce{constructor(e){this.path=e}static fromPath(e){return new Ce(ut.fromString(e))}static fromName(e){return new Ce(ut.fromString(e).popFirst(5))}static empty(){return new Ce(ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ut.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ut.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ce(new ut(e.slice()))}}function FA(t,e,n){if(!n)throw new ye(oe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function oP(t,e,n,i){if(e===!0&&i===!0)throw new ye(oe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function AT(t){if(!Ce.isDocumentKey(t))throw new ye(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function kT(t){if(Ce.isDocumentKey(t))throw new ye(oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function HA(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function qf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ie(12329,{type:typeof t})}function qi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ye(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=qf(t);throw new ye(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function lP(t,e){if(e<=0)throw new ye(oe.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}function Bt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Mu(t,e){if(!HA(t))throw new ye(oe.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const a=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const c=t[i];if(a&&typeof c!==a){n=`JSON field '${i}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${i}' field to equal '${l.value}'`;break}}if(n)throw new ye(oe.INVALID_ARGUMENT,n);return!0}const NT=-62135596800,CT=1e6;class mt{static now(){return mt.fromMillis(Date.now())}static fromDate(e){return mt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*CT);return new mt(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ye(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ye(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<NT)throw new ye(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/CT}_compareTo(e){return this.seconds===e.seconds?Ke(this.nanoseconds,e.nanoseconds):Ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:mt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Mu(e,mt._jsonSchema))return new mt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-NT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}mt._jsonSchemaVersion="firestore/timestamp/1.0",mt._jsonSchema={type:Bt("string",mt._jsonSchemaVersion),seconds:Bt("number"),nanoseconds:Bt("number")};class Ve{static fromTimestamp(e){return new Ve(e)}static min(){return new Ve(new mt(0,0))}static max(){return new Ve(new mt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const pu=-1;function cP(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,a=Ve.fromTimestamp(i===1e9?new mt(n+1,0):new mt(n,i));return new Wr(a,Ce.empty(),e)}function uP(t){return new Wr(t.readTime,t.key,pu)}class Wr{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Wr(Ve.min(),Ce.empty(),pu)}static max(){return new Wr(Ve.max(),Ce.empty(),pu)}}function dP(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ce.comparator(t.documentKey,e.documentKey),n!==0?n:Ke(t.largestBatchId,e.largestBatchId))}const hP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Nl(t){if(t.code!==oe.FAILED_PRECONDITION||t.message!==hP)throw t;ve("LocalStore","Unexpectedly lost primary lease")}class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ie(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new le(((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(i,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof le?n:le.resolve(n)}catch(n){return le.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):le.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):le.reject(n)}static resolve(e){return new le(((n,i)=>{n(e)}))}static reject(e){return new le(((n,i)=>{i(e)}))}static waitFor(e){return new le(((n,i)=>{let a=0,l=0,c=!1;e.forEach((d=>{++a,d.next((()=>{++l,c&&l===a&&n()}),(m=>i(m)))})),c=!0,l===a&&n()}))}static or(e){let n=le.resolve(!1);for(const i of e)n=n.next((a=>a?le.resolve(a):i()));return n}static forEach(e,n){const i=[];return e.forEach(((a,l)=>{i.push(n.call(this,a,l))})),this.waitFor(i)}static mapArray(e,n){return new le(((i,a)=>{const l=e.length,c=new Array(l);let d=0;for(let m=0;m<l;m++){const g=m;n(e[g]).next((v=>{c[g]=v,++d,d===l&&i(c)}),(v=>a(v)))}}))}static doWhile(e,n){return new le(((i,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):i()};l()}))}}function mP(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Cl(t){return t.name==="IndexedDbTransactionError"}class Gf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Gf.ce=-1;const rv=-1;function $f(t){return t==null}function pf(t){return t===0&&1/t==-1/0}function pP(t){return typeof t=="number"&&Number.isInteger(t)&&!pf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const qA="";function gP(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=RT(e)),e=yP(t.get(n),e);return RT(e)}function yP(t,e){let n=e;const i=t.length;for(let a=0;a<i;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case qA:n+="";break;default:n+=l}}return n}function RT(t){return t+qA+""}function IT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function to(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function GA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class xt{constructor(e,n){this.comparator=e,this.root=n||cn.EMPTY}insert(e,n){return new xt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,cn.BLACK,null,null))}remove(e){return new xt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,cn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return n+i.left.size;a<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,i)=>(e(n,i),!1)))}toString(){const e=[];return this.inorderTraversal(((n,i)=>(e.push(`${n}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Th(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Th(this.root,e,this.comparator,!1)}getReverseIterator(){return new Th(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Th(this.root,e,this.comparator,!0)}}class Th{constructor(e,n,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?i(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class cn{constructor(e,n,i,a,l){this.key=e,this.value=n,this.color=i??cn.RED,this.left=a??cn.EMPTY,this.right=l??cn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,a,l){return new cn(e??this.key,n??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,i),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return cn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return cn.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,cn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,cn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ie(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ie(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ie(27949);return e+(this.isRed()?0:1)}}cn.EMPTY=null,cn.RED=!0,cn.BLACK=!1;cn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ie(57766)}get value(){throw Ie(16141)}get color(){throw Ie(16727)}get left(){throw Ie(29726)}get right(){throw Ie(36894)}copy(e,n,i,a,l){return this}insert(e,n,i){return new cn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Yt{constructor(e){this.comparator=e,this.data=new xt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,i)=>(e(n),!1)))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new jT(this.data.getIterator())}getIteratorFrom(e){return new jT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((i=>{n=n.add(i)})),n}isEqual(e){if(!(e instanceof Yt)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Yt(this.comparator);return n.data=e,n}}class jT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ns{constructor(e){this.fields=e,e.sort(un.comparator)}static empty(){return new Ns([])}unionWith(e){let n=new Yt(un.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Ns(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ml(this.fields,e.fields,((n,i)=>n.isEqual(i)))}}class $A extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class dn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new $A("Invalid base64 string: "+l):l}})(e);return new dn(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(e);return new dn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}dn.EMPTY_BYTE_STRING=new dn("");const vP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Jr(t){if(tt(!!t,39018),typeof t=="string"){let e=0;const n=vP.exec(t);if(tt(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Nt(t.seconds),nanos:Nt(t.nanos)}}function Nt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Zr(t){return typeof t=="string"?dn.fromBase64String(t):dn.fromUint8Array(t)}const KA="server_timestamp",YA="__type__",QA="__previous_value__",XA="__local_write_time__";function av(t){return(t?.mapValue?.fields||{})[YA]?.stringValue===KA}function Kf(t){const e=t.mapValue.fields[QA];return av(e)?Kf(e):e}function gu(t){const e=Jr(t.mapValue.fields[XA].timestampValue);return new mt(e.seconds,e.nanos)}class xP{constructor(e,n,i,a,l,c,d,m,g,v,x){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=v,this.apiKey=x}}const gf="(default)";class yu{constructor(e,n){this.projectId=e,this.database=n||gf}static empty(){return new yu("","")}get isDefaultDatabase(){return this.database===gf}isEqual(e){return e instanceof yu&&e.projectId===this.projectId&&e.database===this.database}}function bP(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new ye(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yu(t.options.projectId,e)}const WA="__type__",_P="__max__",Eh={mapValue:{}},JA="__vector__",yf="value";function ea(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?av(t)?4:TP(t)?9007199254740991:wP(t)?10:11:Ie(28295,{value:t})}function mi(t,e){if(t===e)return!0;const n=ea(t);if(n!==ea(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return gu(t).isEqual(gu(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Jr(a.timestampValue),d=Jr(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return Zr(a.bytesValue).isEqual(Zr(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return Nt(a.geoPointValue.latitude)===Nt(l.geoPointValue.latitude)&&Nt(a.geoPointValue.longitude)===Nt(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Nt(a.integerValue)===Nt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Nt(a.doubleValue),d=Nt(l.doubleValue);return c===d?pf(c)===pf(d):isNaN(c)&&isNaN(d)}return!1})(t,e);case 9:return ml(t.arrayValue.values||[],e.arrayValue.values||[],mi);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(IT(c)!==IT(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(d[m]===void 0||!mi(c[m],d[m])))return!1;return!0})(t,e);default:return Ie(52216,{left:t})}}function vu(t,e){return(t.values||[]).find((n=>mi(n,e)))!==void 0}function pl(t,e){if(t===e)return 0;const n=ea(t),i=ea(e);if(n!==i)return Ke(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ke(t.booleanValue,e.booleanValue);case 2:return(function(l,c){const d=Nt(l.integerValue||l.doubleValue),m=Nt(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1})(t,e);case 3:return DT(t.timestampValue,e.timestampValue);case 4:return DT(gu(t),gu(e));case 5:return j0(t.stringValue,e.stringValue);case 6:return(function(l,c){const d=Zr(l),m=Zr(c);return d.compareTo(m)})(t.bytesValue,e.bytesValue);case 7:return(function(l,c){const d=l.split("/"),m=c.split("/");for(let g=0;g<d.length&&g<m.length;g++){const v=Ke(d[g],m[g]);if(v!==0)return v}return Ke(d.length,m.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,c){const d=Ke(Nt(l.latitude),Nt(c.latitude));return d!==0?d:Ke(Nt(l.longitude),Nt(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return MT(t.arrayValue,e.arrayValue);case 10:return(function(l,c){const d=l.fields||{},m=c.fields||{},g=d[yf]?.arrayValue,v=m[yf]?.arrayValue,x=Ke(g?.values?.length||0,v?.values?.length||0);return x!==0?x:MT(g,v)})(t.mapValue,e.mapValue);case 11:return(function(l,c){if(l===Eh.mapValue&&c===Eh.mapValue)return 0;if(l===Eh.mapValue)return 1;if(c===Eh.mapValue)return-1;const d=l.fields||{},m=Object.keys(d),g=c.fields||{},v=Object.keys(g);m.sort(),v.sort();for(let x=0;x<m.length&&x<v.length;++x){const _=j0(m[x],v[x]);if(_!==0)return _;const E=pl(d[m[x]],g[v[x]]);if(E!==0)return E}return Ke(m.length,v.length)})(t.mapValue,e.mapValue);default:throw Ie(23264,{he:n})}}function DT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ke(t,e);const n=Jr(t),i=Jr(e),a=Ke(n.seconds,i.seconds);return a!==0?a:Ke(n.nanos,i.nanos)}function MT(t,e){const n=t.values||[],i=e.values||[];for(let a=0;a<n.length&&a<i.length;++a){const l=pl(n[a],i[a]);if(l)return l}return Ke(n.length,i.length)}function gl(t){return D0(t)}function D0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const i=Jr(n);return`time(${i.seconds},${i.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Zr(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ce.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let i="[",a=!0;for(const l of n.values||[])a?a=!1:i+=",",i+=D0(l);return i+"]"})(t.arrayValue):"mapValue"in t?(function(n){const i=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of i)l?l=!1:a+=",",a+=`${c}:${D0(n.fields[c])}`;return a+"}"})(t.mapValue):Ie(61005,{value:t})}function $h(t){switch(ea(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Kf(t);return e?16+$h(e):16;case 5:return 2*t.stringValue.length;case 6:return Zr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((a,l)=>a+$h(l)),0)})(t.arrayValue);case 10:case 11:return(function(i){let a=0;return to(i.fields,((l,c)=>{a+=l.length+$h(c)})),a})(t.mapValue);default:throw Ie(13486,{value:t})}}function VT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function M0(t){return!!t&&"integerValue"in t}function ov(t){return!!t&&"arrayValue"in t}function OT(t){return!!t&&"nullValue"in t}function PT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Kh(t){return!!t&&"mapValue"in t}function wP(t){return(t?.mapValue?.fields||{})[WA]?.stringValue===JA}function tu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return to(t.mapValue.fields,((n,i)=>e.mapValue.fields[n]=tu(i))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=tu(t.arrayValue.values[n]);return e}return{...t}}function TP(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===_P}class os{constructor(e){this.value=e}static empty(){return new os({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Kh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=tu(n)}setAll(e){let n=un.emptyPath(),i={},a=[];e.forEach(((c,d)=>{if(!n.isImmediateParentOf(d)){const m=this.getFieldsMap(n);this.applyChanges(m,i,a),i={},a=[],n=d.popLast()}c?i[d.lastSegment()]=tu(c):a.push(d.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,i,a)}delete(e){const n=this.field(e.popLast());Kh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return mi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=n.mapValue.fields[e.get(i)];Kh(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,i){to(n,((a,l)=>e[a]=l));for(const a of i)delete e[a]}clone(){return new os(tu(this.value))}}function ZA(t){const e=[];return to(t.fields,((n,i)=>{const a=new un([n]);if(Kh(i)){const l=ZA(i.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)})),new Ns(e)}class pn{constructor(e,n,i,a,l,c,d){this.key=e,this.documentType=n,this.version=i,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new pn(e,0,Ve.min(),Ve.min(),Ve.min(),os.empty(),0)}static newFoundDocument(e,n,i,a){return new pn(e,1,n,Ve.min(),i,a,0)}static newNoDocument(e,n){return new pn(e,2,n,Ve.min(),Ve.min(),os.empty(),0)}static newUnknownDocument(e,n){return new pn(e,3,n,Ve.min(),Ve.min(),os.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=os.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=os.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof pn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class vf{constructor(e,n){this.position=e,this.inclusive=n}}function LT(t,e,n){let i=0;for(let a=0;a<t.position.length;a++){const l=e[a],c=t.position[a];if(l.field.isKeyField()?i=Ce.comparator(Ce.fromName(c.referenceValue),n.key):i=pl(c,n.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function UT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!mi(t.position[n],e.position[n]))return!1;return!0}class xu{constructor(e,n="asc"){this.field=e,this.dir=n}}function EP(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class ek{}class zt extends ek{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new AP(e,n,i):n==="array-contains"?new CP(e,i):n==="in"?new RP(e,i):n==="not-in"?new IP(e,i):n==="array-contains-any"?new jP(e,i):new zt(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new kP(e,i):new NP(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(pl(n,this.value)):n!==null&&ea(this.value)===ea(n)&&this.matchesComparison(pl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ie(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ms extends ek{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ms(e,n)}matches(e){return tk(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function tk(t){return t.op==="and"}function nk(t){return SP(t)&&tk(t)}function SP(t){for(const e of t.filters)if(e instanceof Ms)return!1;return!0}function V0(t){if(t instanceof zt)return t.field.canonicalString()+t.op.toString()+gl(t.value);if(nk(t))return t.filters.map((e=>V0(e))).join(",");{const e=t.filters.map((n=>V0(n))).join(",");return`${t.op}(${e})`}}function sk(t,e){return t instanceof zt?(function(i,a){return a instanceof zt&&i.op===a.op&&i.field.isEqual(a.field)&&mi(i.value,a.value)})(t,e):t instanceof Ms?(function(i,a){return a instanceof Ms&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce(((l,c,d)=>l&&sk(c,a.filters[d])),!0):!1})(t,e):void Ie(19439)}function ik(t){return t instanceof zt?(function(n){return`${n.field.canonicalString()} ${n.op} ${gl(n.value)}`})(t):t instanceof Ms?(function(n){return n.op.toString()+" {"+n.getFilters().map(ik).join(" ,")+"}"})(t):"Filter"}class AP extends zt{constructor(e,n,i){super(e,n,i),this.key=Ce.fromName(i.referenceValue)}matches(e){const n=Ce.comparator(e.key,this.key);return this.matchesComparison(n)}}class kP extends zt{constructor(e,n){super(e,"in",n),this.keys=rk("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class NP extends zt{constructor(e,n){super(e,"not-in",n),this.keys=rk("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function rk(t,e){return(e.arrayValue?.values||[]).map((n=>Ce.fromName(n.referenceValue)))}class CP extends zt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ov(n)&&vu(n.arrayValue,this.value)}}class RP extends zt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&vu(this.value.arrayValue,n)}}class IP extends zt{constructor(e,n){super(e,"not-in",n)}matches(e){if(vu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!vu(this.value.arrayValue,n)}}class jP extends zt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ov(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>vu(this.value.arrayValue,i)))}}class DP{constructor(e,n=null,i=[],a=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.Te=null}}function zT(t,e=null,n=[],i=[],a=null,l=null,c=null){return new DP(t,e,n,i,a,l,c)}function lv(t){const e=Pe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((i=>V0(i))).join(","),n+="|ob:",n+=e.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),$f(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((i=>gl(i))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((i=>gl(i))).join(",")),e.Te=n}return e.Te}function cv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!EP(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!sk(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!UT(t.startAt,e.startAt)&&UT(t.endAt,e.endAt)}function O0(t){return Ce.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class Rl{constructor(e,n=null,i=[],a=[],l=null,c="F",d=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=m,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function MP(t,e,n,i,a,l,c,d){return new Rl(t,e,n,i,a,l,c,d)}function uv(t){return new Rl(t)}function BT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function VP(t){return Ce.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function ak(t){return t.collectionGroup!==null}function nu(t){const e=Pe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Yt(un.comparator);return c.filters.forEach((m=>{m.getFlattenedFilters().forEach((g=>{g.isInequality()&&(d=d.add(g.field))}))})),d})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new xu(l,i))})),n.has(un.keyField().canonicalString())||e.Ie.push(new xu(un.keyField(),i))}return e.Ie}function li(t){const e=Pe(t);return e.Ee||(e.Ee=OP(e,nu(t))),e.Ee}function OP(t,e){if(t.limitType==="F")return zT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new xu(a.field,l)}));const n=t.endAt?new vf(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new vf(t.startAt.position,t.startAt.inclusive):null;return zT(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function P0(t,e){const n=t.filters.concat([e]);return new Rl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function PP(t,e){const n=t.explicitOrderBy.concat([e]);return new Rl(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function xf(t,e,n){return new Rl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Yf(t,e){return cv(li(t),li(e))&&t.limitType===e.limitType}function ok(t){return`${lv(li(t))}|lt:${t.limitType}`}function Jo(t){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((a=>ik(a))).join(", ")}]`),$f(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((a=>gl(a))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((a=>gl(a))).join(",")),`Target(${i})`})(li(t))}; limitType=${t.limitType})`}function Qf(t,e){return e.isFoundDocument()&&(function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Ce.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(t,e)&&(function(i,a){for(const l of nu(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(i,a){return!(i.startAt&&!(function(c,d,m){const g=LT(c,d,m);return c.inclusive?g<=0:g<0})(i.startAt,nu(i),a)||i.endAt&&!(function(c,d,m){const g=LT(c,d,m);return c.inclusive?g>=0:g>0})(i.endAt,nu(i),a))})(t,e)}function LP(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function lk(t){return(e,n)=>{let i=!1;for(const a of nu(t)){const l=UP(a,e,n);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function UP(t,e,n){const i=t.field.isKeyField()?Ce.comparator(e.key,n.key):(function(l,c,d){const m=c.data.field(l),g=d.data.field(l);return m!==null&&g!==null?pl(m,g):Ie(42886)})(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Ie(19790,{direction:t.dir})}}class no{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[n]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){to(this.inner,((n,i)=>{for(const[a,l]of i)e(a,l)}))}isEmpty(){return GA(this.inner)}size(){return this.innerSize}}const zP=new xt(Ce.comparator);function Ji(){return zP}const ck=new xt(Ce.comparator);function Gc(...t){let e=ck;for(const n of t)e=e.insert(n.key,n);return e}function uk(t){let e=ck;return t.forEach(((n,i)=>e=e.insert(n,i.overlayedDocument))),e}function za(){return su()}function dk(){return su()}function su(){return new no((t=>t.toString()),((t,e)=>t.isEqual(e)))}const BP=new xt(Ce.comparator),FP=new Yt(Ce.comparator);function Ye(...t){let e=FP;for(const n of t)e=e.add(n);return e}const HP=new Yt(Ke);function qP(){return HP}function dv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pf(e)?"-0":e}}function hk(t){return{integerValue:""+t}}function GP(t,e){return pP(e)?hk(e):dv(t,e)}class Xf{constructor(){this._=void 0}}function $P(t,e,n){return t instanceof bu?(function(a,l){const c={fields:{[YA]:{stringValue:KA},[XA]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&av(l)&&(l=Kf(l)),l&&(c.fields[QA]=l),{mapValue:c}})(n,e):t instanceof _u?mk(t,e):t instanceof wu?pk(t,e):(function(a,l){const c=fk(a,l),d=FT(c)+FT(a.Ae);return M0(c)&&M0(a.Ae)?hk(d):dv(a.serializer,d)})(t,e)}function KP(t,e,n){return t instanceof _u?mk(t,e):t instanceof wu?pk(t,e):n}function fk(t,e){return t instanceof bf?(function(i){return M0(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(e)?e:{integerValue:0}:null}class bu extends Xf{}class _u extends Xf{constructor(e){super(),this.elements=e}}function mk(t,e){const n=gk(e);for(const i of t.elements)n.some((a=>mi(a,i)))||n.push(i);return{arrayValue:{values:n}}}class wu extends Xf{constructor(e){super(),this.elements=e}}function pk(t,e){let n=gk(e);for(const i of t.elements)n=n.filter((a=>!mi(a,i)));return{arrayValue:{values:n}}}class bf extends Xf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function FT(t){return Nt(t.integerValue||t.doubleValue)}function gk(t){return ov(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class YP{constructor(e,n){this.field=e,this.transform=n}}function QP(t,e){return t.field.isEqual(e.field)&&(function(i,a){return i instanceof _u&&a instanceof _u||i instanceof wu&&a instanceof wu?ml(i.elements,a.elements,mi):i instanceof bf&&a instanceof bf?mi(i.Ae,a.Ae):i instanceof bu&&a instanceof bu})(t.transform,e.transform)}class XP{constructor(e,n){this.version=e,this.transformResults=n}}class ci{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ci}static exists(e){return new ci(void 0,e)}static updateTime(e){return new ci(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Yh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Wf{}function yk(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new xk(t.key,ci.none()):new Vu(t.key,t.data,ci.none());{const n=t.data,i=os.empty();let a=new Yt(un.comparator);for(let l of e.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?i.delete(l):i.set(l,c),a=a.add(l)}return new so(t.key,i,new Ns(a.toArray()),ci.none())}}function WP(t,e,n){t instanceof Vu?(function(a,l,c){const d=a.value.clone(),m=qT(a.fieldTransforms,l,c.transformResults);d.setAll(m),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(t,e,n):t instanceof so?(function(a,l,c){if(!Yh(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=qT(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(vk(a)),m.setAll(d),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(t,e,n):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function iu(t,e,n,i){return t instanceof Vu?(function(l,c,d,m){if(!Yh(l.precondition,c))return d;const g=l.value.clone(),v=GT(l.fieldTransforms,m,c);return g.setAll(v),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(t,e,n,i):t instanceof so?(function(l,c,d,m){if(!Yh(l.precondition,c))return d;const g=GT(l.fieldTransforms,m,c),v=c.data;return v.setAll(vk(l)),v.setAll(g),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((x=>x.field)))})(t,e,n,i):(function(l,c,d){return Yh(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(t,e,n)}function JP(t,e){let n=null;for(const i of t.fieldTransforms){const a=e.data.field(i.field),l=fk(i.transform,a||null);l!=null&&(n===null&&(n=os.empty()),n.set(i.field,l))}return n||null}function HT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&ml(i,a,((l,c)=>QP(l,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Vu extends Wf{constructor(e,n,i,a=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class so extends Wf{constructor(e,n,i,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function vk(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}})),e}function qT(t,e,n){const i=new Map;tt(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let a=0;a<n.length;a++){const l=t[a],c=l.transform,d=e.data.field(l.field);i.set(l.field,KP(c,d,n[a]))}return i}function GT(t,e,n){const i=new Map;for(const a of t){const l=a.transform,c=n.data.field(a.field);i.set(a.field,$P(l,c,e))}return i}class xk extends Wf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ZP extends Wf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class eL{constructor(e,n,i,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&WP(l,e,i[a])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=iu(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=iu(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=dk();return this.mutations.forEach((a=>{const l=e.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=n.has(a.key)?null:d;const m=yk(c,d);m!==null&&i.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(Ve.min())})),i}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ye())}isEqual(e){return this.batchId===e.batchId&&ml(this.mutations,e.mutations,((n,i)=>HT(n,i)))&&ml(this.baseMutations,e.baseMutations,((n,i)=>HT(n,i)))}}class hv{constructor(e,n,i,a){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=a}static from(e,n,i){tt(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let a=(function(){return BP})();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,i[c].version);return new hv(e,n,i,a)}}class tL{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class nL{constructor(e,n){this.count=e,this.unchangedNames=n}}var Lt,Xe;function sL(t){switch(t){case oe.OK:return Ie(64938);case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0;default:return Ie(15467,{code:t})}}function bk(t){if(t===void 0)return Wi("GRPC error has no .code"),oe.UNKNOWN;switch(t){case Lt.OK:return oe.OK;case Lt.CANCELLED:return oe.CANCELLED;case Lt.UNKNOWN:return oe.UNKNOWN;case Lt.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case Lt.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case Lt.INTERNAL:return oe.INTERNAL;case Lt.UNAVAILABLE:return oe.UNAVAILABLE;case Lt.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case Lt.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case Lt.NOT_FOUND:return oe.NOT_FOUND;case Lt.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case Lt.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case Lt.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case Lt.ABORTED:return oe.ABORTED;case Lt.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case Lt.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case Lt.DATA_LOSS:return oe.DATA_LOSS;default:return Ie(39323,{code:t})}}(Xe=Lt||(Lt={}))[Xe.OK=0]="OK",Xe[Xe.CANCELLED=1]="CANCELLED",Xe[Xe.UNKNOWN=2]="UNKNOWN",Xe[Xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xe[Xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xe[Xe.NOT_FOUND=5]="NOT_FOUND",Xe[Xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xe[Xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xe[Xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xe[Xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xe[Xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xe[Xe.ABORTED=10]="ABORTED",Xe[Xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xe[Xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xe[Xe.INTERNAL=13]="INTERNAL",Xe[Xe.UNAVAILABLE=14]="UNAVAILABLE",Xe[Xe.DATA_LOSS=15]="DATA_LOSS";function iL(){return new TextEncoder}const rL=new Gr([4294967295,4294967295],0);function $T(t){const e=iL().encode(t),n=new MA;return n.update(e),new Uint8Array(n.digest())}function KT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Gr([n,i],0),new Gr([a,l],0)]}class fv{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new $c(`Invalid padding: ${n}`);if(i<0)throw new $c(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new $c(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new $c(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Gr.fromNumber(this.ge)}ye(e,n,i){let a=e.add(n.multiply(Gr.fromNumber(i)));return a.compare(rL)===1&&(a=new Gr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=$T(e),[i,a]=KT(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,a,l);if(!this.we(c))return!1}return!0}static create(e,n,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new fv(l,a,n);return i.forEach((d=>c.insert(d))),c}insert(e){if(this.ge===0)return;const n=$T(e),[i,a]=KT(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,a,l);this.be(c)}}be(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class $c extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Jf{constructor(e,n,i,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const a=new Map;return a.set(e,Ou.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Jf(Ve.min(),a,new xt(Ke),Ji(),Ye())}}class Ou{constructor(e,n,i,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Ou(i,n,Ye(),Ye(),Ye())}}class Qh{constructor(e,n,i,a){this.Se=e,this.removedTargetIds=n,this.key=i,this.De=a}}class _k{constructor(e,n){this.targetId=e,this.Ce=n}}class wk{constructor(e,n,i=dn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=a}}class YT{constructor(){this.ve=0,this.Fe=QT(),this.Me=dn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ye(),n=Ye(),i=Ye();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:i=i.add(a);break;default:Ie(38017,{changeType:l})}})),new Ou(this.Me,this.xe,e,n,i)}Ke(){this.Oe=!1,this.Fe=QT()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,tt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class aL{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ji(),this.He=Sh(),this.Je=Sh(),this.Ze=new xt(Ke)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.We(),i.Ne||i.Ke(),i.Le(e.resumeToken);break;case 2:i.We(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.Qe(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:Ie(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((i,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,i=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(O0(l))if(i===0){const c=new Ce(l.path);this.et(n,c,pn.newNoDocument(c,Ve.min()))}else tt(i===1,20013,{expectedCount:i});else{const c=this._t(n);if(c!==i){const d=this.ut(e),m=d?this.ct(d,e,c):1;if(m!==0){this.it(n);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=n;let c,d;try{c=Zr(i).toUint8Array()}catch(m){if(m instanceof $A)return Xa("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new fv(c,a,l)}catch(m){return Xa(m instanceof $c?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.ge===0?null:d}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let a=0;return i.forEach((l=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,c)=>{const d=this.ot(c);if(d){if(l.current&&O0(d.target)){const m=new Ce(d.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,pn.newNoDocument(m,e))}l.Be&&(n.set(c,l.ke()),l.Ke())}}));let i=Ye();this.Je.forEach(((l,c)=>{let d=!0;c.forEachWhile((m=>{const g=this.ot(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(i=i.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const a=new Jf(e,n,this.Ze,this.je,i);return this.je=Ji(),this.He=Sh(),this.Je=Sh(),this.Ze=new xt(Ke),a}Ye(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,i),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.qe(n,1):a.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new YT,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Yt(Ke),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Yt(Ke),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ve("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new YT),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Sh(){return new xt(Ce.comparator)}function QT(){return new xt(Ce.comparator)}const oL={asc:"ASCENDING",desc:"DESCENDING"},lL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},cL={and:"AND",or:"OR"};class uL{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function L0(t,e){return t.useProto3Json||$f(e)?e:{value:e}}function _f(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Tk(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function dL(t,e){return _f(t,e.toTimestamp())}function ui(t){return tt(!!t,49232),Ve.fromTimestamp((function(n){const i=Jr(n);return new mt(i.seconds,i.nanos)})(t))}function mv(t,e){return U0(t,e).canonicalString()}function U0(t,e){const n=(function(a){return new ut(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function Ek(t){const e=ut.fromString(t);return tt(Ck(e),10190,{key:e.toString()}),e}function z0(t,e){return mv(t.databaseId,e.path)}function zg(t,e){const n=Ek(e);if(n.get(1)!==t.databaseId.projectId)throw new ye(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ye(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ce(Ak(n))}function Sk(t,e){return mv(t.databaseId,e)}function hL(t){const e=Ek(t);return e.length===4?ut.emptyPath():Ak(e)}function B0(t){return new ut(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Ak(t){return tt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function XT(t,e,n){return{name:z0(t,e),fields:n.value.mapValue.fields}}function fL(t,e){let n;if("targetChange"in e){e.targetChange;const i=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ie(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(g,v){return g.useProto3Json?(tt(v===void 0||typeof v=="string",58123),dn.fromBase64String(v||"")):(tt(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),dn.fromUint8Array(v||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(g){const v=g.code===void 0?oe.UNKNOWN:bk(g.code);return new ye(v,g.message||"")})(c);n=new wk(i,a,l,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=zg(t,i.document.name),l=ui(i.document.updateTime),c=i.document.createTime?ui(i.document.createTime):Ve.min(),d=new os({mapValue:{fields:i.document.fields}}),m=pn.newFoundDocument(a,l,c,d),g=i.targetIds||[],v=i.removedTargetIds||[];n=new Qh(g,v,m.key,m)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=zg(t,i.document),l=i.readTime?ui(i.readTime):Ve.min(),c=pn.newNoDocument(a,l),d=i.removedTargetIds||[];n=new Qh([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=zg(t,i.document),l=i.removedTargetIds||[];n=new Qh([],l,a,null)}else{if(!("filter"in e))return Ie(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,c=new nL(a,l),d=i.targetId;n=new _k(d,c)}}return n}function mL(t,e){let n;if(e instanceof Vu)n={update:XT(t,e.key,e.value)};else if(e instanceof xk)n={delete:z0(t,e.key)};else if(e instanceof so)n={update:XT(t,e.key,e.data),updateMask:TL(e.fieldMask)};else{if(!(e instanceof ZP))return Ie(16599,{dt:e.type});n={verify:z0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((i=>(function(l,c){const d=c.transform;if(d instanceof bu)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof _u)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof wu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof bf)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw Ie(20930,{transform:c.transform})})(0,i)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:dL(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ie(27497)})(t,e.precondition)),n}function pL(t,e){return t&&t.length>0?(tt(e!==void 0,14353),t.map((n=>(function(a,l){let c=a.updateTime?ui(a.updateTime):ui(l);return c.isEqual(Ve.min())&&(c=ui(l)),new XP(c,a.transformResults||[])})(n,e)))):[]}function gL(t,e){return{documents:[Sk(t,e.path)]}}function yL(t,e){const n={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=Sk(t,a);const l=(function(g){if(g.length!==0)return Nk(Ms.create(g,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const c=(function(g){if(g.length!==0)return g.map((v=>(function(_){return{field:Zo(_.field),direction:bL(_.dir)}})(v)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const d=L0(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:a}}function vL(t){let e=hL(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let a=null;if(i>0){tt(i===1,65062);const v=n.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let l=[];n.where&&(l=(function(x){const _=kk(x);return _ instanceof Ms&&nk(_)?_.getFilters():[_]})(n.where));let c=[];n.orderBy&&(c=(function(x){return x.map((_=>(function(R){return new xu(el(R.field),(function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(R.direction))})(_)))})(n.orderBy));let d=null;n.limit&&(d=(function(x){let _;return _=typeof x=="object"?x.value:x,$f(_)?null:_})(n.limit));let m=null;n.startAt&&(m=(function(x){const _=!!x.before,E=x.values||[];return new vf(E,_)})(n.startAt));let g=null;return n.endAt&&(g=(function(x){const _=!x.before,E=x.values||[];return new vf(E,_)})(n.endAt)),MP(e,a,c,l,d,"F",m,g)}function xL(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ie(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function kk(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=el(n.unaryFilter.field);return zt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=el(n.unaryFilter.field);return zt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=el(n.unaryFilter.field);return zt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=el(n.unaryFilter.field);return zt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ie(61313);default:return Ie(60726)}})(t):t.fieldFilter!==void 0?(function(n){return zt.create(el(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ie(58110);default:return Ie(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Ms.create(n.compositeFilter.filters.map((i=>kk(i))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ie(1026)}})(n.compositeFilter.op))})(t):Ie(30097,{filter:t})}function bL(t){return oL[t]}function _L(t){return lL[t]}function wL(t){return cL[t]}function Zo(t){return{fieldPath:t.canonicalString()}}function el(t){return un.fromServerFormat(t.fieldPath)}function Nk(t){return t instanceof zt?(function(n){if(n.op==="=="){if(PT(n.value))return{unaryFilter:{field:Zo(n.field),op:"IS_NAN"}};if(OT(n.value))return{unaryFilter:{field:Zo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(PT(n.value))return{unaryFilter:{field:Zo(n.field),op:"IS_NOT_NAN"}};if(OT(n.value))return{unaryFilter:{field:Zo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Zo(n.field),op:_L(n.op),value:n.value}}})(t):t instanceof Ms?(function(n){const i=n.getFilters().map((a=>Nk(a)));return i.length===1?i[0]:{compositeFilter:{op:wL(n.op),filters:i}}})(t):Ie(54877,{filter:t})}function TL(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Ck(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function Rk(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}class Fr{constructor(e,n,i,a,l=Ve.min(),c=Ve.min(),d=dn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(e){return new Fr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Fr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class EL{constructor(e){this.yt=e}}function SL(t){const e=vL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?xf(e,e.limit,"L"):e}class AL{constructor(){this.Sn=new kL}addToCollectionParentIndex(e,n){return this.Sn.add(n),le.resolve()}getCollectionParents(e,n){return le.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return le.resolve()}deleteFieldIndex(e,n){return le.resolve()}deleteAllFieldIndexes(e){return le.resolve()}createTargetIndexes(e,n){return le.resolve()}getDocumentsMatchingTarget(e,n){return le.resolve(null)}getIndexType(e,n){return le.resolve(0)}getFieldIndexes(e,n){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,n){return le.resolve(Wr.min())}getMinOffsetFromCollectionGroup(e,n){return le.resolve(Wr.min())}updateCollectionGroup(e,n,i){return le.resolve()}updateIndexEntries(e,n){return le.resolve()}}class kL{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n]||new Yt(ut.comparator),l=!a.has(i);return this.index[n]=a.add(i),l}has(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n];return a&&a.has(i)}getEntries(e){return(this.index[e]||new Yt(ut.comparator)).toArray()}}const WT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ik=41943040;class In{static withCacheSize(e){return new In(e,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}In.DEFAULT_COLLECTION_PERCENTILE=10,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,In.DEFAULT=new In(Ik,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),In.DISABLED=new In(-1,0,0);class yl{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new yl(0)}static ar(){return new yl(-1)}}const JT="LruGarbageCollector",NL=1048576;function ZT([t,e],[n,i]){const a=Ke(t,n);return a===0?Ke(e,i):a}class CL{constructor(e){this.Pr=e,this.buffer=new Yt(ZT),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();ZT(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class RL{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ve(JT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Cl(n)?ve(JT,"Ignoring IndexedDB error during garbage collection: ",n):await Nl(n)}await this.Ar(3e5)}))}}class IL{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(e,n){if(n===0)return le.resolve(Gf.ce);const i=new CL(n);return this.Vr.forEachTarget(e,(a=>i.Er(a.sequenceNumber))).next((()=>this.Vr.mr(e,(a=>i.Er(a))))).next((()=>i.maxValue))}removeTargets(e,n,i){return this.Vr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ve("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(WT)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),WT):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let i,a,l,c,d,m,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((x=>(x>this.params.maximumSequenceNumbersToCollect?(ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),a=this.params.maximumSequenceNumbersToCollect):a=x,c=Date.now(),this.nthSequenceNumber(e,a)))).next((x=>(i=x,d=Date.now(),this.removeTargets(e,i,n)))).next((x=>(l=x,m=Date.now(),this.removeOrphanedDocuments(e,i)))).next((x=>(g=Date.now(),Wo()<=$e.DEBUG&&ve("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(m-d)+`ms
	Removed ${x} documents in `+(g-m)+`ms
Total Duration: ${g-v}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:x}))))}}function jL(t,e){return new IL(t,e)}class DL{constructor(){this.changes=new no((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,pn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?le.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ML{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class VL{constructor(e,n,i,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(i=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(i!==null&&iu(i.mutation,a,Ns.empty(),mt.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.getLocalViewOfDocuments(e,i,Ye()).next((()=>i))))}getLocalViewOfDocuments(e,n,i=Ye()){const a=za();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,i).next((l=>{let c=Gc();return l.forEach(((d,m)=>{c=c.insert(d,m.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const i=za();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,Ye())))}populateOverlays(e,n,i){const a=[];return i.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((c,d)=>{n.set(c,d)}))}))}computeViews(e,n,i,a){let l=Ji();const c=su(),d=(function(){return su()})();return n.forEach(((m,g)=>{const v=i.get(g.key);a.has(g.key)&&(v===void 0||v.mutation instanceof so)?l=l.insert(g.key,g):v!==void 0?(c.set(g.key,v.mutation.getFieldMask()),iu(v.mutation,g,v.mutation.getFieldMask(),mt.now())):c.set(g.key,Ns.empty())})),this.recalculateAndSaveOverlays(e,l).next((m=>(m.forEach(((g,v)=>c.set(g,v))),n.forEach(((g,v)=>d.set(g,new ML(v,c.get(g)??null)))),d)))}recalculateAndSaveOverlays(e,n){const i=su();let a=new xt(((c,d)=>c-d)),l=Ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const d of c)d.keys().forEach((m=>{const g=n.get(m);if(g===null)return;let v=i.get(m)||Ns.empty();v=d.applyToLocalView(g,v),i.set(m,v);const x=(a.get(d.batchId)||Ye()).add(m);a=a.insert(d.batchId,x)}))})).next((()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),g=m.key,v=m.value,x=dk();v.forEach((_=>{if(!l.has(_)){const E=yk(n.get(_),i.get(_));E!==null&&x.set(_,E),l=l.add(_)}})),c.push(this.documentOverlayCache.saveOverlays(e,g,x))}return le.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,n,i,a){return VP(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):ak(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,a):this.getDocumentsMatchingCollectionQuery(e,n,i,a)}getNextDocuments(e,n,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,a-l.size):le.resolve(za());let d=pu,m=l;return c.next((g=>le.forEach(g,((v,x)=>(d<x.largestBatchId&&(d=x.largestBatchId),l.get(v)?le.resolve():this.remoteDocumentCache.getEntry(e,v).next((_=>{m=m.insert(v,_)}))))).next((()=>this.populateOverlays(e,g,l))).next((()=>this.computeViews(e,m,g,Ye()))).next((v=>({batchId:d,changes:uk(v)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ce(n)).next((i=>{let a=Gc();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,i,a){const l=n.collectionGroup;let c=Gc();return this.indexManager.getCollectionParents(e,l).next((d=>le.forEach(d,(m=>{const g=(function(x,_){return new Rl(_,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)})(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,i,a).next((v=>{v.forEach(((x,_)=>{c=c.insert(x,_)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,l,a)))).next((c=>{l.forEach(((m,g)=>{const v=g.getKey();c.get(v)===null&&(c=c.insert(v,pn.newInvalidDocument(v)))}));let d=Gc();return c.forEach(((m,g)=>{const v=l.get(m);v!==void 0&&iu(v.mutation,g,Ns.empty(),mt.now()),Qf(n,g)&&(d=d.insert(m,g))})),d}))}}class OL{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return le.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:ui(a.createTime)}})(n)),le.resolve()}getNamedQuery(e,n){return le.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(a){return{name:a.name,query:SL(a.bundledQuery),readTime:ui(a.readTime)}})(n)),le.resolve()}}class PL{constructor(){this.overlays=new xt(Ce.comparator),this.Lr=new Map}getOverlay(e,n){return le.resolve(this.overlays.get(n))}getOverlays(e,n){const i=za();return le.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&i.set(a,l)})))).next((()=>i))}saveOverlays(e,n,i){return i.forEach(((a,l)=>{this.bt(e,n,l)})),le.resolve()}removeOverlaysForBatchId(e,n,i){const a=this.Lr.get(i);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(i)),le.resolve()}getOverlaysForCollection(e,n,i){const a=za(),l=n.length+1,c=new Ce(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const m=d.getNext().value,g=m.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===l&&m.largestBatchId>i&&a.set(m.getKey(),m)}return le.resolve(a)}getOverlaysForCollectionGroup(e,n,i,a){let l=new xt(((g,v)=>g-v));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>i){let v=l.get(g.largestBatchId);v===null&&(v=za(),l=l.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const d=za(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((g,v)=>d.set(g,v))),!(d.size()>=a)););return le.resolve(d)}bt(e,n,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.Lr.get(a.largestBatchId).delete(i.key);this.Lr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new tL(n,i));let l=this.Lr.get(n);l===void 0&&(l=Ye(),this.Lr.set(n,l)),this.Lr.set(n,l.add(i.key))}}class LL{constructor(){this.sessionToken=dn.EMPTY_BYTE_STRING}getSessionToken(e){return le.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,le.resolve()}}class pv{constructor(){this.kr=new Yt(Zt.Kr),this.qr=new Yt(Zt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const i=new Zt(e,n);this.kr=this.kr.add(i),this.qr=this.qr.add(i)}$r(e,n){e.forEach((i=>this.addReference(i,n)))}removeReference(e,n){this.Wr(new Zt(e,n))}Qr(e,n){e.forEach((i=>this.removeReference(i,n)))}Gr(e){const n=new Ce(new ut([])),i=new Zt(n,e),a=new Zt(n,e+1),l=[];return this.qr.forEachInRange([i,a],(c=>{this.Wr(c),l.push(c.key)})),l}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new Ce(new ut([])),i=new Zt(n,e),a=new Zt(n,e+1);let l=Ye();return this.qr.forEachInRange([i,a],(c=>{l=l.add(c.key)})),l}containsKey(e){const n=new Zt(e,0),i=this.kr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class Zt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return Ce.comparator(e.key,n.key)||Ke(e.Hr,n.Hr)}static Ur(e,n){return Ke(e.Hr,n.Hr)||Ce.comparator(e.key,n.key)}}class UL{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Yt(Zt.Kr)}checkEmpty(e){return le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,a){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new eL(l,n,i,a);this.mutationQueue.push(c);for(const d of a)this.Jr=this.Jr.add(new Zt(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return le.resolve(c)}lookupMutationBatch(e,n){return le.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,a=this.Xr(i),l=a<0?0:a;return le.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(this.mutationQueue.length===0?rv:this.Yn-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new Zt(n,0),a=new Zt(n,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([i,a],(c=>{const d=this.Zr(c.Hr);l.push(d)})),le.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Yt(Ke);return n.forEach((a=>{const l=new Zt(a,0),c=new Zt(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,c],(d=>{i=i.add(d.Hr)}))})),le.resolve(this.Yr(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,a=i.length+1;let l=i;Ce.isDocumentKey(l)||(l=l.child(""));const c=new Zt(new Ce(l),0);let d=new Yt(Ke);return this.Jr.forEachWhile((m=>{const g=m.key.path;return!!i.isPrefixOf(g)&&(g.length===a&&(d=d.add(m.Hr)),!0)}),c),le.resolve(this.Yr(d))}Yr(e){const n=[];return e.forEach((i=>{const a=this.Zr(i);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){tt(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Jr;return le.forEach(n.mutations,(a=>{const l=new Zt(a.key,n.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Jr=i}))}nr(e){}containsKey(e,n){const i=new Zt(n,0),a=this.Jr.firstAfterOrEqual(i);return le.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,le.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class zL{constructor(e){this.ti=e,this.docs=(function(){return new xt(Ce.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,a=this.docs.get(i),l=a?a.size:0,c=this.ti(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return le.resolve(i?i.document.mutableCopy():pn.newInvalidDocument(n))}getEntries(e,n){let i=Ji();return n.forEach((a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():pn.newInvalidDocument(a))})),le.resolve(i)}getDocumentsMatchingQuery(e,n,i,a){let l=Ji();const c=n.path,d=new Ce(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:g,value:{document:v}}=m.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||dP(uP(v),i)<=0||(a.has(v.key)||Qf(n,v))&&(l=l.insert(v.key,v.mutableCopy()))}return le.resolve(l)}getAllFromCollectionGroup(e,n,i,a){Ie(9500)}ni(e,n){return le.forEach(this.docs,(i=>n(i)))}newChangeBuffer(e){return new BL(this)}getSize(e){return le.resolve(this.size)}}class BL extends DL{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((i,a)=>{a.isValidDocument()?n.push(this.Mr.addEntry(e,a)):this.Mr.removeEntry(i)})),le.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class FL{constructor(e){this.persistence=e,this.ri=new no((n=>lv(n)),cv),this.lastRemoteSnapshotVersion=Ve.min(),this.highestTargetId=0,this.ii=0,this.si=new pv,this.targetCount=0,this.oi=yl._r()}forEachTarget(e,n){return this.ri.forEach(((i,a)=>n(a))),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.ii&&(this.ii=n),le.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new yl(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,le.resolve()}updateTargetData(e,n){return this.lr(n),le.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,n,i){let a=0;const l=[];return this.ri.forEach(((c,d)=>{d.sequenceNumber<=n&&i.get(d.targetId)===null&&(this.ri.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)})),le.waitFor(l).next((()=>a))}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,n){const i=this.ri.get(n)||null;return le.resolve(i)}addMatchingKeys(e,n,i){return this.si.$r(n,i),le.resolve()}removeMatchingKeys(e,n,i){this.si.Qr(n,i);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((c=>{l.push(a.markPotentiallyOrphaned(e,c))})),le.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),le.resolve()}getMatchingKeysForTargetId(e,n){const i=this.si.jr(n);return le.resolve(i)}containsKey(e,n){return le.resolve(this.si.containsKey(n))}}class jk{constructor(e,n){this._i={},this.overlays={},this.ai=new Gf(0),this.ui=!1,this.ui=!0,this.ci=new LL,this.referenceDelegate=e(this),this.li=new FL(this),this.indexManager=new AL,this.remoteDocumentCache=(function(a){return new zL(a)})((i=>this.referenceDelegate.hi(i))),this.serializer=new EL(n),this.Pi=new OL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new PL,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this._i[e.toKey()];return i||(i=new UL(n,this.referenceDelegate),this._i[e.toKey()]=i),i}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,i){ve("MemoryPersistence","Starting transaction:",e);const a=new HL(this.ai.next());return this.referenceDelegate.Ti(),i(a).next((l=>this.referenceDelegate.Ii(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ei(e,n){return le.or(Object.values(this._i).map((i=>()=>i.containsKey(e,n))))}}class HL extends fP{constructor(e){super(),this.currentSequenceNumber=e}}class gv{constructor(e){this.persistence=e,this.Ri=new pv,this.Ai=null}static Vi(e){return new gv(e)}get di(){if(this.Ai)return this.Ai;throw Ie(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.di.delete(i.toString()),le.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.di.add(i.toString()),le.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),le.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((a=>this.di.add(a.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.di.add(l.toString())))})).next((()=>i.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.di,(i=>{const a=Ce.fromPath(i);return this.mi(e,a).next((l=>{l||n.removeEntry(a,Ve.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((i=>{i?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return le.or([()=>le.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class wf{constructor(e,n){this.persistence=e,this.fi=new no((i=>gP(i.path)),((i,a)=>i.isEqual(a))),this.garbageCollector=jL(this,n)}static Vi(e,n){return new wf(e,n)}Ti(){}Ii(e){return le.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>n.next((a=>i+a))))}pr(e){let n=0;return this.mr(e,(i=>{n++})).next((()=>n))}mr(e,n){return le.forEach(this.fi,((i,a)=>this.wr(e,i,a).next((l=>l?le.resolve():n(a)))))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ni(e,(c=>this.wr(e,c,n).next((d=>{d||(i++,l.removeEntry(c,Ve.min()))})))).next((()=>l.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),le.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.fi.set(i,e.currentSequenceNumber),le.resolve()}removeReference(e,n,i){return this.fi.set(i,e.currentSequenceNumber),le.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),le.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=$h(e.data.value)),n}wr(e,n,i){return le.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.fi.get(n);return le.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class yv{constructor(e,n,i,a){this.targetId=e,this.fromCache=n,this.Ts=i,this.Is=a}static Es(e,n){let i=Ye(),a=Ye();for(const l of n.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new yv(e,n.fromCache,i,a)}}class qL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class GL{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return C3()?8:mP(yn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,a){const l={result:null};return this.gs(e,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ps(e,n,a,i).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new qL;return this.ys(e,n,c).next((d=>{if(l.result=d,this.As)return this.ws(e,n,c,d.size)}))})).next((()=>l.result))}ws(e,n,i,a){return i.documentReadCount<this.Vs?(Wo()<=$e.DEBUG&&ve("QueryEngine","SDK will not create cache indexes for query:",Jo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),le.resolve()):(Wo()<=$e.DEBUG&&ve("QueryEngine","Query:",Jo(n),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.ds*a?(Wo()<=$e.DEBUG&&ve("QueryEngine","The SDK decides to create cache indexes for query:",Jo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,li(n))):le.resolve())}gs(e,n){if(BT(n))return le.resolve(null);let i=li(n);return this.indexManager.getIndexType(e,i).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=xf(n,null,"F"),i=li(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next((l=>{const c=Ye(...l);return this.fs.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,i).next((m=>{const g=this.bs(n,d);return this.Ss(n,g,c,m.readTime)?this.gs(e,xf(n,null,"F")):this.Ds(e,g,n,m)}))))})))))}ps(e,n,i,a){return BT(n)||a.isEqual(Ve.min())?le.resolve(null):this.fs.getDocuments(e,i).next((l=>{const c=this.bs(n,l);return this.Ss(n,c,i,a)?le.resolve(null):(Wo()<=$e.DEBUG&&ve("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Jo(n)),this.Ds(e,c,n,cP(a,pu)).next((d=>d)))}))}bs(e,n){let i=new Yt(lk(e));return n.forEach(((a,l)=>{Qf(e,l)&&(i=i.add(l))})),i}Ss(e,n,i,a){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}ys(e,n,i){return Wo()<=$e.DEBUG&&ve("QueryEngine","Using full collection scan to execute query:",Jo(n)),this.fs.getDocumentsMatchingQuery(e,n,Wr.min(),i)}Ds(e,n,i,a){return this.fs.getDocumentsMatchingQuery(e,i,a).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}const vv="LocalStore",$L=3e8;class KL{constructor(e,n,i,a){this.persistence=e,this.Cs=n,this.serializer=a,this.vs=new xt(Ke),this.Fs=new no((l=>lv(l)),cv),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(i)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new VL(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function YL(t,e,n,i){return new KL(t,e,n,i)}async function Dk(t,e){const n=Pe(t);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let a;return n.mutationQueue.getAllMutationBatches(i).next((l=>(a=l,n.Os(e),n.mutationQueue.getAllMutationBatches(i)))).next((l=>{const c=[],d=[];let m=Ye();for(const g of a){c.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}for(const g of l){d.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}return n.localDocuments.getDocuments(i,m).next((g=>({Ns:g,removedBatchIds:c,addedBatchIds:d})))}))}))}function QL(t,e){const n=Pe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const a=e.batch.keys(),l=n.xs.newChangeBuffer({trackRemovals:!0});return(function(d,m,g,v){const x=g.batch,_=x.keys();let E=le.resolve();return _.forEach((R=>{E=E.next((()=>v.getEntry(m,R))).next((D=>{const j=g.docVersions.get(R);tt(j!==null,48541),D.version.compareTo(j)<0&&(x.applyToRemoteDocument(D,g),D.isValidDocument()&&(D.setReadTime(g.commitVersion),v.addEntry(D)))}))})),E.next((()=>d.mutationQueue.removeMutationBatch(m,x)))})(n,i,e,l).next((()=>l.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(d){let m=Ye();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(m=m.add(d.batch.mutations[g].key));return m})(e)))).next((()=>n.localDocuments.getDocuments(i,a)))}))}function Mk(t){const e=Pe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function XL(t,e){const n=Pe(t),i=e.snapshotVersion;let a=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.xs.newChangeBuffer({trackRemovals:!0});a=n.vs;const d=[];e.targetChanges.forEach(((v,x)=>{const _=a.get(x);if(!_)return;d.push(n.li.removeMatchingKeys(l,v.removedDocuments,x).next((()=>n.li.addMatchingKeys(l,v.addedDocuments,x))));let E=_.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(x)!==null?E=E.withResumeToken(dn.EMPTY_BYTE_STRING,Ve.min()).withLastLimboFreeSnapshotVersion(Ve.min()):v.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(v.resumeToken,i)),a=a.insert(x,E),(function(D,j,L){return D.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=$L?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0})(_,E,v)&&d.push(n.li.updateTargetData(l,E))}));let m=Ji(),g=Ye();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(l,v))})),d.push(WL(l,c,e.documentUpdates).next((v=>{m=v.Bs,g=v.Ls}))),!i.isEqual(Ve.min())){const v=n.li.getLastRemoteSnapshotVersion(l).next((x=>n.li.setTargetsMetadata(l,l.currentSequenceNumber,i)));d.push(v)}return le.waitFor(d).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,m,g))).next((()=>m))})).then((l=>(n.vs=a,l)))}function WL(t,e,n){let i=Ye(),a=Ye();return n.forEach((l=>i=i.add(l))),e.getEntries(t,i).next((l=>{let c=Ji();return n.forEach(((d,m)=>{const g=l.get(d);m.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(d)),m.isNoDocument()&&m.version.isEqual(Ve.min())?(e.removeEntry(d,m.readTime),c=c.insert(d,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),c=c.insert(d,m)):ve(vv,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",m.version)})),{Bs:c,Ls:a}}))}function JL(t,e){const n=Pe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=rv),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function ZL(t,e){const n=Pe(t);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let a;return n.li.getTargetData(i,e).next((l=>l?(a=l,le.resolve(a)):n.li.allocateTargetId(i).next((c=>(a=new Fr(e,c,"TargetPurposeListen",i.currentSequenceNumber),n.li.addTargetData(i,a).next((()=>a)))))))})).then((i=>{const a=n.vs.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.vs=n.vs.insert(i.targetId,i),n.Fs.set(e,i.targetId)),i}))}async function F0(t,e,n){const i=Pe(t),a=i.vs.get(e),l=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",l,(c=>i.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!Cl(c))throw c;ve(vv,`Failed to update sequence numbers for target ${e}: ${c}`)}i.vs=i.vs.remove(e),i.Fs.delete(a.target)}function eE(t,e,n){const i=Pe(t);let a=Ve.min(),l=Ye();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(m,g,v){const x=Pe(m),_=x.Fs.get(v);return _!==void 0?le.resolve(x.vs.get(_)):x.li.getTargetData(g,v)})(i,c,li(e)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,i.li.getMatchingKeysForTargetId(c,d.targetId).next((m=>{l=m}))})).next((()=>i.Cs.getDocumentsMatchingQuery(c,e,n?a:Ve.min(),n?l:Ye()))).next((d=>(e9(i,LP(e),d),{documents:d,ks:l})))))}function e9(t,e,n){let i=t.Ms.get(e)||Ve.min();n.forEach(((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),t.Ms.set(e,i)}class tE{constructor(){this.activeTargetIds=qP()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class t9{constructor(){this.vo=new tE,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,i){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new tE,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class n9{Mo(e){}shutdown(){}}const nE="ConnectivityMonitor";class sE{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ve(nE,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ve(nE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Ah=null;function H0(){return Ah===null?Ah=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ah++,"0x"+Ah.toString(16)}const Bg="RestConnection",s9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class i9{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${i}/databases/${a}`,this.$o=this.databaseId.database===gf?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Wo(e,n,i,a,l){const c=H0(),d=this.Qo(e,n.toUriEncodedString());ve(Bg,`Sending RPC '${e}' ${c}:`,d,i);const m={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(m,a,l);const{host:g}=new URL(d),v=Za(g);return this.zo(e,d,m,i,v).then((x=>(ve(Bg,`Received RPC '${e}' ${c}: `,x),x)),(x=>{throw Xa(Bg,`RPC '${e}' ${c} failed with error: `,x,"url: ",d,"request:",i),x}))}jo(e,n,i,a,l,c){return this.Wo(e,n,i,a,l)}Go(e,n,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+kl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),i&&i.headers.forEach(((a,l)=>e[l]=a))}Qo(e,n){const i=s9[e];let a=`${this.qo}/v1/${n}:${i}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}class r9{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const fn="WebChannelConnection",Bc=(t,e,n)=>{t.listen(e,(i=>{try{n(i)}catch(a){setTimeout((()=>{throw a}),0)}}))};class ul extends i9{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!ul.c_){const e=LA();Bc(e,PA.STAT_EVENT,(n=>{n.stat===I0.PROXY?ve(fn,"STAT_EVENT: detected buffering proxy"):n.stat===I0.NOPROXY&&ve(fn,"STAT_EVENT: detected no buffering proxy")})),ul.c_=!0}}zo(e,n,i,a,l){const c=H0();return new Promise(((d,m)=>{const g=new VA;g.setWithCredentials(!0),g.listenOnce(OA.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Gh.NO_ERROR:const x=g.getResponseJson();ve(fn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(x)),d(x);break;case Gh.TIMEOUT:ve(fn,`RPC '${e}' ${c} timed out`),m(new ye(oe.DEADLINE_EXCEEDED,"Request time out"));break;case Gh.HTTP_ERROR:const _=g.getStatus();if(ve(fn,`RPC '${e}' ${c} failed with status:`,_,"response text:",g.getResponseText()),_>0){let E=g.getResponseJson();Array.isArray(E)&&(E=E[0]);const R=E?.error;if(R&&R.status&&R.message){const D=(function(L){const q=L.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(q)>=0?q:oe.UNKNOWN})(R.status);m(new ye(D,R.message))}else m(new ye(oe.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new ye(oe.UNAVAILABLE,"Connection failed."));break;default:Ie(9055,{l_:e,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ve(fn,`RPC '${e}' ${c} completed.`)}}));const v=JSON.stringify(a);ve(fn,`RPC '${e}' ${c} sending request:`,a),g.send(n,"POST",v,i,15)}))}T_(e,n,i){const a=H0(),l=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=this.createWebChannelTransport(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(d.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Go(d.initMessageHeaders,n,i),d.encodeInitMessageHeaders=!0;const g=l.join("");ve(fn,`Creating RPC '${e}' stream ${a}: ${g}`,d);const v=c.createWebChannel(g,d);this.I_(v);let x=!1,_=!1;const E=new r9({Ho:R=>{_?ve(fn,`Not sending because RPC '${e}' stream ${a} is closed:`,R):(x||(ve(fn,`Opening RPC '${e}' stream ${a} transport.`),v.open(),x=!0),ve(fn,`RPC '${e}' stream ${a} sending:`,R),v.send(R))},Jo:()=>v.close()});return Bc(v,qc.EventType.OPEN,(()=>{_||(ve(fn,`RPC '${e}' stream ${a} transport opened.`),E.i_())})),Bc(v,qc.EventType.CLOSE,(()=>{_||(_=!0,ve(fn,`RPC '${e}' stream ${a} transport closed`),E.o_(),this.E_(v))})),Bc(v,qc.EventType.ERROR,(R=>{_||(_=!0,Xa(fn,`RPC '${e}' stream ${a} transport errored. Name:`,R.name,"Message:",R.message),E.o_(new ye(oe.UNAVAILABLE,"The operation could not be completed")))})),Bc(v,qc.EventType.MESSAGE,(R=>{if(!_){const D=R.data[0];tt(!!D,16349);const j=D,L=j?.error||j[0]?.error;if(L){ve(fn,`RPC '${e}' stream ${a} received error:`,L);const q=L.status;let $=(function(de){const I=Lt[de];if(I!==void 0)return bk(I)})(q),Z=L.message;q==="NOT_FOUND"&&Z.includes("database")&&Z.includes("does not exist")&&Z.includes(this.databaseId.database)&&Xa(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),$===void 0&&($=oe.INTERNAL,Z="Unknown error status: "+q+" with message "+L.message),_=!0,E.o_(new ye($,Z)),v.close()}else ve(fn,`RPC '${e}' stream ${a} received:`,D),E.__(D)}})),ul.u_(),setTimeout((()=>{E.s_()}),0),E}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,i){super.Go(e,n,i),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return UA()}}function a9(t){return new ul(t)}function Fg(){return typeof document<"u"?document:null}function Zf(t){return new uL(t,!0)}ul.c_=!1;class Vk{constructor(e,n,i=1e3,a=1.5,l=6e4){this.Ci=e,this.timerId=n,this.R_=i,this.A_=a,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-i);a>0&&ve("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const iE="PersistentStream";class Ok{constructor(e,n,i,a,l,c,d,m){this.Ci=e,this.b_=i,this.S_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Vk(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===oe.RESOURCE_EXHAUSTED?(Wi(n.toString()),Wi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,a])=>{this.D_===n&&this.G_(i,a)}),(i=>{e((()=>{const a=new ye(oe.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)}))}))}G_(e,n){const i=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{i((()=>this.listener.Zo()))})),this.stream.Yo((()=>{i((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{i((()=>this.z_(a)))})),this.stream.onMessage((a=>{i((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ve(iE,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(ve(iE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class o9 extends Ok{constructor(e,n,i,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,a,c),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=fL(this.serializer,e),i=(function(l){if(!("targetChange"in l))return Ve.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Ve.min():c.readTime?ui(c.readTime):Ve.min()})(e);return this.listener.J_(n,i)}Z_(e){const n={};n.database=B0(this.serializer),n.addTarget=(function(l,c){let d;const m=c.target;if(d=O0(m)?{documents:gL(l,m)}:{query:yL(l,m).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=Tk(l,c.resumeToken);const g=L0(l,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(Ve.min())>0){d.readTime=_f(l,c.snapshotVersion.toTimestamp());const g=L0(l,c.expectedCount);g!==null&&(d.expectedCount=g)}return d})(this.serializer,e);const i=xL(this.serializer,e);i&&(n.labels=i),this.K_(n)}X_(e){const n={};n.database=B0(this.serializer),n.removeTarget=e,this.K_(n)}}class l9 extends Ok{constructor(e,n,i,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,a,c),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return tt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,tt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){tt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=pL(e.writeResults,e.commitTime),i=ui(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=B0(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((i=>mL(this.serializer,i)))};this.K_(n)}}class c9{}class u9 extends c9{constructor(e,n,i,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ye(oe.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Wo(e,U0(n,i),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ye(oe.UNKNOWN,l.toString())}))}jo(e,n,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.jo(e,U0(n,i),a,c,d,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ye(oe.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function d9(t,e,n,i){return new u9(t,e,n,i)}class h9{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Wi(n),this.aa=!1):ve("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Wa="RemoteStore";class f9{constructor(e,n,i,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((c=>{i.enqueueAndForget((async()=>{io(this)&&(ve(Wa,"Restarting streams for network reachability change."),await(async function(m){const g=Pe(m);g.Ea.add(4),await Pu(g),g.Va.set("Unknown"),g.Ea.delete(4),await em(g)})(this))}))})),this.Va=new h9(i,a)}}async function em(t){if(io(t))for(const e of t.Ra)await e(!0)}async function Pu(t){for(const e of t.Ra)await e(!1)}function Pk(t,e){const n=Pe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),wv(n)?_v(n):Il(n).O_()&&bv(n,e))}function xv(t,e){const n=Pe(t),i=Il(n);n.Ia.delete(e),i.O_()&&Lk(n,e),n.Ia.size===0&&(i.O_()?i.L_():io(n)&&n.Va.set("Unknown"))}function bv(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ve.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Il(t).Z_(e)}function Lk(t,e){t.da.$e(e),Il(t).X_(e)}function _v(t){t.da=new aL({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Il(t).start(),t.Va.ua()}function wv(t){return io(t)&&!Il(t).x_()&&t.Ia.size>0}function io(t){return Pe(t).Ea.size===0}function Uk(t){t.da=void 0}async function m9(t){t.Va.set("Online")}async function p9(t){t.Ia.forEach(((e,n)=>{bv(t,e)}))}async function g9(t,e){Uk(t),wv(t)?(t.Va.ha(e),_v(t)):t.Va.set("Unknown")}async function y9(t,e,n){if(t.Va.set("Online"),e instanceof wk&&e.state===2&&e.cause)try{await(async function(a,l){const c=l.cause;for(const d of l.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Ia.delete(d),a.da.removeTarget(d))})(t,e)}catch(i){ve(Wa,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Tf(t,i)}else if(e instanceof Qh?t.da.Xe(e):e instanceof _k?t.da.st(e):t.da.tt(e),!n.isEqual(Ve.min()))try{const i=await Mk(t.localStore);n.compareTo(i)>=0&&await(function(l,c){const d=l.da.Tt(c);return d.targetChanges.forEach(((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const v=l.Ia.get(g);v&&l.Ia.set(g,v.withResumeToken(m.resumeToken,c))}})),d.targetMismatches.forEach(((m,g)=>{const v=l.Ia.get(m);if(!v)return;l.Ia.set(m,v.withResumeToken(dn.EMPTY_BYTE_STRING,v.snapshotVersion)),Lk(l,m);const x=new Fr(v.target,m,g,v.sequenceNumber);bv(l,x)})),l.remoteSyncer.applyRemoteEvent(d)})(t,n)}catch(i){ve(Wa,"Failed to raise snapshot:",i),await Tf(t,i)}}async function Tf(t,e,n){if(!Cl(e))throw e;t.Ea.add(1),await Pu(t),t.Va.set("Offline"),n||(n=()=>Mk(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ve(Wa,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await em(t)}))}function zk(t,e){return e().catch((n=>Tf(t,n,e)))}async function tm(t){const e=Pe(t),n=ta(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:rv;for(;v9(e);)try{const a=await JL(e.localStore,i);if(a===null){e.Ta.length===0&&n.L_();break}i=a.batchId,x9(e,a)}catch(a){await Tf(e,a)}Bk(e)&&Fk(e)}function v9(t){return io(t)&&t.Ta.length<10}function x9(t,e){t.Ta.push(e);const n=ta(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function Bk(t){return io(t)&&!ta(t).x_()&&t.Ta.length>0}function Fk(t){ta(t).start()}async function b9(t){ta(t).ra()}async function _9(t){const e=ta(t);for(const n of t.Ta)e.ea(n.mutations)}async function w9(t,e,n){const i=t.Ta.shift(),a=hv.from(i,e,n);await zk(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await tm(t)}async function T9(t,e){e&&ta(t).Y_&&await(async function(i,a){if((function(c){return sL(c)&&c!==oe.ABORTED})(a.code)){const l=i.Ta.shift();ta(i).B_(),await zk(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a))),await tm(i)}})(t,e),Bk(t)&&Fk(t)}async function rE(t,e){const n=Pe(t);n.asyncQueue.verifyOperationInProgress(),ve(Wa,"RemoteStore received new credentials");const i=io(n);n.Ea.add(3),await Pu(n),i&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await em(n)}async function E9(t,e){const n=Pe(t);e?(n.Ea.delete(2),await em(n)):e||(n.Ea.add(2),await Pu(n),n.Va.set("Unknown"))}function Il(t){return t.ma||(t.ma=(function(n,i,a){const l=Pe(n);return l.sa(),new o9(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:m9.bind(null,t),Yo:p9.bind(null,t),t_:g9.bind(null,t),J_:y9.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),wv(t)?_v(t):t.Va.set("Unknown")):(await t.ma.stop(),Uk(t))}))),t.ma}function ta(t){return t.fa||(t.fa=(function(n,i,a){const l=Pe(n);return l.sa(),new l9(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:b9.bind(null,t),t_:T9.bind(null,t),ta:_9.bind(null,t),na:w9.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await tm(t)):(await t.fa.stop(),t.Ta.length>0&&(ve(Wa,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class Tv{constructor(e,n,i,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new $r,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,a,l){const c=Date.now()+i,d=new Tv(e,n,c,a,l);return d.start(i),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ev(t,e){if(Wi("AsyncQueue",`${e}: ${t}`),Cl(t))return new ye(oe.UNAVAILABLE,`${e}: ${t}`);throw t}class dl{static emptySet(e){return new dl(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||Ce.comparator(n.key,i.key):(n,i)=>Ce.comparator(n.key,i.key),this.keyedMap=Gc(),this.sortedSet=new xt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,i)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof dl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new dl;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}class aE{constructor(){this.ga=new xt(Ce.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ie(63341,{Vt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,i)=>{e.push(i)})),e}}class vl{constructor(e,n,i,a,l,c,d,m,g){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,n,i,a,l){const c=[];return n.forEach((d=>{c.push({type:0,doc:d})})),new vl(e,n,dl.emptySet(n),c,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==i[a].type||!n[a].doc.isEqual(i[a].doc))return!1;return!0}}class S9{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class A9{constructor(){this.queries=oE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const a=Pe(n),l=a.queries;a.queries=oE(),l.forEach(((c,d)=>{for(const m of d.ba)m.onError(i)}))})(this,new ye(oe.ABORTED,"Firestore shutting down"))}}function oE(){return new no((t=>ok(t)),Yf)}async function Hk(t,e){const n=Pe(t);let i=3;const a=e.query;let l=n.queries.get(a);l?!l.Sa()&&e.Da()&&(i=2):(l=new S9,i=e.Da()?0:1);try{switch(i){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const d=Ev(c,`Initialization of query '${Jo(e.query)}' failed`);return void e.onError(d)}n.queries.set(a,l),l.ba.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&Sv(n)}async function qk(t,e){const n=Pe(t),i=e.query;let a=3;const l=n.queries.get(i);if(l){const c=l.ba.indexOf(e);c>=0&&(l.ba.splice(c,1),l.ba.length===0?a=e.Da()?0:1:!l.Sa()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function k9(t,e){const n=Pe(t);let i=!1;for(const a of e){const l=a.query,c=n.queries.get(l);if(c){for(const d of c.ba)d.Fa(a)&&(i=!0);c.wa=a}}i&&Sv(n)}function N9(t,e,n){const i=Pe(t),a=i.queries.get(e);if(a)for(const l of a.ba)l.onError(n);i.queries.delete(e)}function Sv(t){t.Ca.forEach((e=>{e.next()}))}var q0,lE;(lE=q0||(q0={})).Ma="default",lE.Cache="cache";class Gk{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new vl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.Ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=vl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==q0.Cache}}class $k{constructor(e){this.key=e}}class Kk{constructor(e){this.key=e}}class C9{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ye(),this.mutatedKeys=Ye(),this.eu=lk(e),this.tu=new dl(this.eu)}get nu(){return this.Za}ru(e,n){const i=n?n.iu:new aE,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,d=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((v,x)=>{const _=a.get(v),E=Qf(this.query,x)?x:null,R=!!_&&this.mutatedKeys.has(_.key),D=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let j=!1;_&&E?_.data.isEqual(E.data)?R!==D&&(i.track({type:3,doc:E}),j=!0):this.su(_,E)||(i.track({type:2,doc:E}),j=!0,(m&&this.eu(E,m)>0||g&&this.eu(E,g)<0)&&(d=!0)):!_&&E?(i.track({type:0,doc:E}),j=!0):_&&!E&&(i.track({type:1,doc:_}),j=!0,(m||g)&&(d=!0)),j&&(E?(c=c.add(E),l=D?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),i.track({type:1,doc:v})}return{tu:c,iu:i,Ss:d,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((v,x)=>(function(E,R){const D=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ie(20277,{Vt:j})}};return D(E)-D(R)})(v.type,x.type)||this.eu(v.doc,x.doc))),this.ou(i),a=a??!1;const d=n&&!a?this._u():[],m=this.Ya.size===0&&this.current&&!a?1:0,g=m!==this.Xa;return this.Xa=m,c.length!==0||g?{snapshot:new vl(this.query,e.tu,l,c,e.mutatedKeys,m===0,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new aE,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Ye(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Ya=this.Ya.add(i.key))}));const n=[];return e.forEach((i=>{this.Ya.has(i)||n.push(new Kk(i))})),this.Ya.forEach((i=>{e.has(i)||n.push(new $k(i))})),n}cu(e){this.Za=e.ks,this.Ya=Ye();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return vl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Av="SyncEngine";class R9{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class I9{constructor(e){this.key=e,this.hu=!1}}class j9{constructor(e,n,i,a,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new no((d=>ok(d)),Yf),this.Iu=new Map,this.Eu=new Set,this.Ru=new xt(Ce.comparator),this.Au=new Map,this.Vu=new pv,this.du={},this.mu=new Map,this.fu=yl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function D9(t,e,n=!0){const i=Zk(t);let a;const l=i.Tu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await Yk(i,e,n,!0),a}async function M9(t,e){const n=Zk(t);await Yk(n,e,!0,!1)}async function Yk(t,e,n,i){const a=await ZL(t.localStore,li(e)),l=a.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let d;return i&&(d=await V9(t,e,l,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&Pk(t.remoteStore,a),d}async function V9(t,e,n,i,a){t.pu=(x,_,E)=>(async function(D,j,L,q){let $=j.view.ru(L);$.Ss&&($=await eE(D.localStore,j.query,!1).then((({documents:I})=>j.view.ru(I,$))));const Z=q&&q.targetChanges.get(j.targetId),ne=q&&q.targetMismatches.get(j.targetId)!=null,de=j.view.applyChanges($,D.isPrimaryClient,Z,ne);return uE(D,j.targetId,de.au),de.snapshot})(t,x,_,E);const l=await eE(t.localStore,e,!0),c=new C9(e,l.ks),d=c.ru(l.documents),m=Ou.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",a),g=c.applyChanges(d,t.isPrimaryClient,m);uE(t,n,g.au);const v=new R9(e,n,c);return t.Tu.set(e,v),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),g.snapshot}async function O9(t,e,n){const i=Pe(t),a=i.Tu.get(e),l=i.Iu.get(a.targetId);if(l.length>1)return i.Iu.set(a.targetId,l.filter((c=>!Yf(c,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await F0(i.localStore,a.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(a.targetId),n&&xv(i.remoteStore,a.targetId),G0(i,a.targetId)})).catch(Nl)):(G0(i,a.targetId),await F0(i.localStore,a.targetId,!0))}async function P9(t,e){const n=Pe(t),i=n.Tu.get(e),a=n.Iu.get(i.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),xv(n.remoteStore,i.targetId))}async function L9(t,e,n){const i=G9(t);try{const a=await(function(c,d){const m=Pe(c),g=mt.now(),v=d.reduce(((E,R)=>E.add(R.key)),Ye());let x,_;return m.persistence.runTransaction("Locally write mutations","readwrite",(E=>{let R=Ji(),D=Ye();return m.xs.getEntries(E,v).next((j=>{R=j,R.forEach(((L,q)=>{q.isValidDocument()||(D=D.add(L))}))})).next((()=>m.localDocuments.getOverlayedDocuments(E,R))).next((j=>{x=j;const L=[];for(const q of d){const $=JP(q,x.get(q.key).overlayedDocument);$!=null&&L.push(new so(q.key,$,ZA($.value.mapValue),ci.exists(!0)))}return m.mutationQueue.addMutationBatch(E,g,L,d)})).next((j=>{_=j;const L=j.applyToLocalDocumentSet(x,D);return m.documentOverlayCache.saveOverlays(E,j.batchId,L)}))})).then((()=>({batchId:_.batchId,changes:uk(x)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),(function(c,d,m){let g=c.du[c.currentUser.toKey()];g||(g=new xt(Ke)),g=g.insert(d,m),c.du[c.currentUser.toKey()]=g})(i,a.batchId,n),await Lu(i,a.changes),await tm(i.remoteStore)}catch(a){const l=Ev(a,"Failed to persist write");n.reject(l)}}async function Qk(t,e){const n=Pe(t);try{const i=await XL(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const c=n.Au.get(l);c&&(tt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?tt(c.hu,14607):a.removedDocuments.size>0&&(tt(c.hu,42227),c.hu=!1))})),await Lu(n,i,e)}catch(i){await Nl(i)}}function cE(t,e,n){const i=Pe(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const a=[];i.Tu.forEach(((l,c)=>{const d=c.view.va(e);d.snapshot&&a.push(d.snapshot)})),(function(c,d){const m=Pe(c);m.onlineState=d;let g=!1;m.queries.forEach(((v,x)=>{for(const _ of x.ba)_.va(d)&&(g=!0)})),g&&Sv(m)})(i.eventManager,e),a.length&&i.Pu.J_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function U9(t,e,n){const i=Pe(t);i.sharedClientState.updateQueryState(e,"rejected",n);const a=i.Au.get(e),l=a&&a.key;if(l){let c=new xt(Ce.comparator);c=c.insert(l,pn.newNoDocument(l,Ve.min()));const d=Ye().add(l),m=new Jf(Ve.min(),new Map,new xt(Ke),c,d);await Qk(i,m),i.Ru=i.Ru.remove(l),i.Au.delete(e),kv(i)}else await F0(i.localStore,e,!1).then((()=>G0(i,e,n))).catch(Nl)}async function z9(t,e){const n=Pe(t),i=e.batch.batchId;try{const a=await QL(n.localStore,e);Wk(n,i,null),Xk(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Lu(n,a)}catch(a){await Nl(a)}}async function B9(t,e,n){const i=Pe(t);try{const a=await(function(c,d){const m=Pe(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return m.mutationQueue.lookupMutationBatch(g,d).next((x=>(tt(x!==null,37113),v=x.keys(),m.mutationQueue.removeMutationBatch(g,x)))).next((()=>m.mutationQueue.performConsistencyCheck(g))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(g,v,d))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>m.localDocuments.getDocuments(g,v)))}))})(i.localStore,e);Wk(i,e,n),Xk(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Lu(i,a)}catch(a){await Nl(a)}}function Xk(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function Wk(t,e,n){const i=Pe(t);let a=i.du[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),i.du[i.currentUser.toKey()]=a}}function G0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Iu.get(e))t.Tu.delete(i),n&&t.Pu.yu(i,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((i=>{t.Vu.containsKey(i)||Jk(t,i)}))}function Jk(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(xv(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),kv(t))}function uE(t,e,n){for(const i of n)i instanceof $k?(t.Vu.addReference(i.key,e),F9(t,i)):i instanceof Kk?(ve(Av,"Document no longer in limbo: "+i.key),t.Vu.removeReference(i.key,e),t.Vu.containsKey(i.key)||Jk(t,i.key)):Ie(19791,{wu:i})}function F9(t,e){const n=e.key,i=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(i)||(ve(Av,"New document in limbo: "+n),t.Eu.add(i),kv(t))}function kv(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ce(ut.fromString(e)),i=t.fu.next();t.Au.set(i,new I9(n)),t.Ru=t.Ru.insert(n,i),Pk(t.remoteStore,new Fr(li(uv(n.path)),i,"TargetPurposeLimboResolution",Gf.ce))}}async function Lu(t,e,n){const i=Pe(t),a=[],l=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach(((d,m)=>{c.push(i.pu(m,e,n).then((g=>{if((g||n)&&i.isPrimaryClient){const v=g?!g.fromCache:n?.targetChanges.get(m.targetId)?.current;i.sharedClientState.updateQueryState(m.targetId,v?"current":"not-current")}if(g){a.push(g);const v=yv.Es(m.targetId,g);l.push(v)}})))})),await Promise.all(c),i.Pu.J_(a),await(async function(m,g){const v=Pe(m);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(x=>le.forEach(g,(_=>le.forEach(_.Ts,(E=>v.persistence.referenceDelegate.addReference(x,_.targetId,E))).next((()=>le.forEach(_.Is,(E=>v.persistence.referenceDelegate.removeReference(x,_.targetId,E)))))))))}catch(x){if(!Cl(x))throw x;ve(vv,"Failed to update sequence numbers: "+x)}for(const x of g){const _=x.targetId;if(!x.fromCache){const E=v.vs.get(_),R=E.snapshotVersion,D=E.withLastLimboFreeSnapshotVersion(R);v.vs=v.vs.insert(_,D)}}})(i.localStore,l))}async function H9(t,e){const n=Pe(t);if(!n.currentUser.isEqual(e)){ve(Av,"User change. New user:",e.toKey());const i=await Dk(n.localStore,e);n.currentUser=e,(function(l,c){l.mu.forEach((d=>{d.forEach((m=>{m.reject(new ye(oe.CANCELLED,c))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Lu(n,i.Ns)}}function q9(t,e){const n=Pe(t),i=n.Au.get(e);if(i&&i.hu)return Ye().add(i.key);{let a=Ye();const l=n.Iu.get(e);if(!l)return a;for(const c of l){const d=n.Tu.get(c);a=a.unionWith(d.view.nu)}return a}}function Zk(t){const e=Pe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Qk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=q9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=U9.bind(null,e),e.Pu.J_=k9.bind(null,e.eventManager),e.Pu.yu=N9.bind(null,e.eventManager),e}function G9(t){const e=Pe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=z9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=B9.bind(null,e),e}class Ef{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Zf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return YL(this.persistence,new GL,e.initialUser,this.serializer)}Cu(e){return new jk(gv.Vi,this.serializer)}Du(e){return new t9}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ef.provider={build:()=>new Ef};class $9 extends Ef{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){tt(this.persistence.referenceDelegate instanceof wf,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new RL(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?In.withCacheSize(this.cacheSizeBytes):In.DEFAULT;return new jk((i=>wf.Vi(i,n)),this.serializer)}}class $0{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>cE(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=H9.bind(null,this.syncEngine),await E9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new A9})()}createDatastore(e){const n=Zf(e.databaseInfo.databaseId),i=a9(e.databaseInfo);return d9(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return(function(i,a,l,c,d){return new f9(i,a,l,c,d)})(this.localStore,this.datastore,e.asyncQueue,(n=>cE(this.syncEngine,n,0)),(function(){return sE.v()?new sE:new n9})())}createSyncEngine(e,n){return(function(a,l,c,d,m,g,v){const x=new j9(a,l,c,d,m,g);return v&&(x.gu=!0),x})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const i=Pe(n);ve(Wa,"RemoteStore shutting down."),i.Ea.add(5),await Pu(i),i.Aa.shutdown(),i.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}$0.provider={build:()=>new $0};class eN{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Wi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const na="FirestoreClient";class K9{constructor(e,n,i,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this._databaseInfo=a,this.user=mn.UNAUTHENTICATED,this.clientId=iv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async c=>{ve(na,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(ve(na,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new $r;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=Ev(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function Hg(t,e){t.asyncQueue.verifyOperationInProgress(),ve(na,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener((async a=>{i.isEqual(a)||(await Dk(e.localStore,a),i=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function dE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Y9(t);ve(na,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((i=>rE(e.remoteStore,i))),t.setAppCheckTokenChangeListener(((i,a)=>rE(e.remoteStore,a))),t._onlineComponents=e}async function Y9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ve(na,"Using user provided OfflineComponentProvider");try{await Hg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===oe.FAILED_PRECONDITION||a.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;Xa("Error using user provided cache. Falling back to memory cache: "+n),await Hg(t,new Ef)}}else ve(na,"Using default OfflineComponentProvider"),await Hg(t,new $9(void 0));return t._offlineComponents}async function tN(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ve(na,"Using user provided OnlineComponentProvider"),await dE(t,t._uninitializedComponentsProvider._online)):(ve(na,"Using default OnlineComponentProvider"),await dE(t,new $0))),t._onlineComponents}function Q9(t){return tN(t).then((e=>e.syncEngine))}async function K0(t){const e=await tN(t),n=e.eventManager;return n.onListen=D9.bind(null,e.syncEngine),n.onUnlisten=O9.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=M9.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=P9.bind(null,e.syncEngine),n}function X9(t,e,n,i){const a=new eN(i),l=new Gk(e,a,n);return t.asyncQueue.enqueueAndForget((async()=>Hk(await K0(t),l))),()=>{a.Nu(),t.asyncQueue.enqueueAndForget((async()=>qk(await K0(t),l)))}}function W9(t,e,n={}){const i=new $r;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,m,g){const v=new eN({next:_=>{v.Nu(),c.enqueueAndForget((()=>qk(l,x))),_.fromCache&&m.source==="server"?g.reject(new ye(oe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(_)},error:_=>g.reject(_)}),x=new Gk(d,v,{includeMetadataChanges:!0,Ka:!0});return Hk(l,x)})(await K0(t),t.asyncQueue,e,n,i))),i.promise}function J9(t,e){const n=new $r;return t.asyncQueue.enqueueAndForget((async()=>L9(await Q9(t),e,n))),n.promise}function nN(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const Z9="ComponentProvider",hE=new Map;function eU(t,e,n,i,a){return new xP(t,e,n,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,nN(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,i)}const sN="firestore.googleapis.com",fE=!0;class mE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ye(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=sN,this.ssl=fE}else this.host=e.host,this.ssl=e.ssl??fE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Ik;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<NL)throw new ye(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}oP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=nN(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ye(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ye(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ye(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,a){return i.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class nm{constructor(e,n,i,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ye(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new WO;switch(i.type){case"firstParty":return new tP(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ye(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=hE.get(n);i&&(ve(Z9,"Removing Datastore"),hE.delete(n),i.terminate())})(this),Promise.resolve()}}function tU(t,e,n,i={}){t=qi(t,nm);const a=Za(e),l=t._getSettings(),c={...l,emulatorOptions:t._getEmulatorOptions()},d=`${e}:${n}`;a&&(Fy(`https://${d}`),Hy("Firestore",!0)),l.host!==sN&&l.host!==d&&Xa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:d,ssl:a,emulatorOptions:i};if(!$a(m,c)&&(t._setSettings(m),i.mockUserToken)){let g,v;if(typeof i.mockUserToken=="string")g=i.mockUserToken,v=mn.MOCK_USER;else{g=J2(i.mockUserToken,t._app?.options.projectId);const x=i.mockUserToken.sub||i.mockUserToken.user_id;if(!x)throw new ye(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new mn(x)}t._authCredentials=new JO(new BA(g,v))}}class er{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new er(this.firestore,e,this._query)}}class Ft{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Kr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ft(this.firestore,e,this._key)}toJSON(){return{type:Ft._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(Mu(n,Ft._jsonSchema))return new Ft(e,i||null,new Ce(ut.fromString(n.referencePath)))}}Ft._jsonSchemaVersion="firestore/documentReference/1.0",Ft._jsonSchema={type:Bt("string",Ft._jsonSchemaVersion),referencePath:Bt("string")};class Kr extends er{constructor(e,n,i){super(e,n,uv(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ft(this.firestore,null,new Ce(e))}withConverter(e){return new Kr(this.firestore,e,this._path)}}function Ha(t,e,...n){if(t=vn(t),FA("collection","path",e),t instanceof nm){const i=ut.fromString(e,...n);return kT(i),new Kr(t,null,i)}{if(!(t instanceof Ft||t instanceof Kr))throw new ye(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(ut.fromString(e,...n));return kT(i),new Kr(t.firestore,null,i)}}function Y0(t,e,...n){if(t=vn(t),arguments.length===1&&(e=iv.newId()),FA("doc","path",e),t instanceof nm){const i=ut.fromString(e,...n);return AT(i),new Ft(t,null,new Ce(i))}{if(!(t instanceof Ft||t instanceof Kr))throw new ye(oe.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(ut.fromString(e,...n));return AT(i),new Ft(t.firestore,t instanceof Kr?t.converter:null,new Ce(i))}}const pE="AsyncQueue";class gE{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Vk(this,"async_queue_retry"),this._c=()=>{const i=Fg();i&&ve(pE,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=Fg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Fg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new $r;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Cl(e))throw e;ve(pE,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,Wi("INTERNAL UNHANDLED ERROR: ",yE(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=Tv.createAndSchedule(this,e,n,i,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Ie(47125,{Pc:yE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function yE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class xl extends nm{constructor(e,n,i,a){super(e,n,i,a),this.type="firestore",this._queue=new gE,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new gE(e),this._firestoreClient=void 0,await e}}}function nU(t,e){const n=typeof t=="object"?t:$y(),i=typeof t=="string"?t:gf,a=zf(n,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=Q2("firestore");l&&tU(a,...l)}return a}function Nv(t){if(t._terminated)throw new ye(oe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||sU(t),t._firestoreClient}function sU(t){const e=t._freezeSettings(),n=eU(t._databaseId,t._app?.options.appId||"",t._persistenceKey,t._app?.options.apiKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new K9(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(t._componentsProvider))}class ls{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ls(dn.fromBase64String(e))}catch(n){throw new ye(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ls(dn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ls._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Mu(e,ls._jsonSchema))return ls.fromBase64String(e.bytes)}}ls._jsonSchemaVersion="firestore/bytes/1.0",ls._jsonSchema={type:Bt("string",ls._jsonSchemaVersion),bytes:Bt("string")};class iN{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ye(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new un(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Cv{constructor(e){this._methodName=e}}class di{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ye(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ye(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ke(this._lat,e._lat)||Ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:di._jsonSchemaVersion}}static fromJSON(e){if(Mu(e,di._jsonSchema))return new di(e.latitude,e.longitude)}}di._jsonSchemaVersion="firestore/geoPoint/1.0",di._jsonSchema={type:Bt("string",di._jsonSchemaVersion),latitude:Bt("number"),longitude:Bt("number")};class js{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:js._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Mu(e,js._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new js(e.vectorValues);throw new ye(oe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}js._jsonSchemaVersion="firestore/vectorValue/1.0",js._jsonSchema={type:Bt("string",js._jsonSchemaVersion),vectorValues:Bt("object")};const iU=/^__.*__$/;class rU{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new so(e,this.data,this.fieldMask,n,this.fieldTransforms):new Vu(e,this.data,n,this.fieldTransforms)}}function rN(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie(40011,{dataSource:t})}}class Rv{constructor(e,n,i,a,l,c){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Rv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),i=this.contextWith({path:n,arrayElement:!1});return i.validatePathSegment(e),i}childContextForFieldPath(e){const n=this.path?.child(e),i=this.contextWith({path:n,arrayElement:!1});return i.validatePath(),i}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Sf(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(rN(this.dataSource)&&iU.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class aU{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Zf(e)}createContext(e,n,i,a=!1){return new Rv({dataSource:e,methodName:n,targetDoc:i,path:un.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Iv(t){const e=t._freezeSettings(),n=Zf(t._databaseId);return new aU(t._databaseId,!!e.ignoreUndefinedProperties,n)}function aN(t,e,n,i,a,l={}){const c=t.createContext(l.merge||l.mergeFields?2:0,e,n,a);cN("Data must be an object, but it was:",c,i);const d=oN(i,c);let m,g;if(l.merge)m=new Ns(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const x of l.mergeFields){const _=Uu(e,x,n);if(!c.contains(_))throw new ye(oe.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);uU(v,_)||v.push(_)}m=new Ns(v),g=c.fieldTransforms.filter((x=>m.covers(x.field)))}else m=null,g=c.fieldTransforms;return new rU(new os(d),m,g)}class jv extends Cv{_toFieldTransform(e){return new YP(e.path,new bu)}isEqual(e){return e instanceof jv}}function oU(t,e,n,i=!1){return Dv(n,t.createContext(i?4:3,e))}function Dv(t,e){if(lN(t=vn(t)))return cN("Unsupported field value:",e,t),oN(t,e);if(t instanceof Cv)return(function(i,a){if(!rN(a.dataSource))throw a.createError(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(i,a){const l=[];let c=0;for(const d of i){let m=Dv(d,a.childContextForArray(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}})(t,e)}return(function(i,a){if((i=vn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return GP(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=mt.fromDate(i);return{timestampValue:_f(a.serializer,l)}}if(i instanceof mt){const l=new mt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:_f(a.serializer,l)}}if(i instanceof di)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ls)return{bytesValue:Tk(a.serializer,i._byteString)};if(i instanceof Ft){const l=a.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw a.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:mv(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof js)return(function(c,d){const m=c instanceof js?c.toArray():c;return{mapValue:{fields:{[WA]:{stringValue:JA},[yf]:{arrayValue:{values:m.map((v=>{if(typeof v!="number")throw d.createError("VectorValues must only contain numeric values.");return dv(d.serializer,v)}))}}}}}})(i,a);if(Rk(i))return i._toProto(a.serializer);throw a.createError(`Unsupported field value: ${qf(i)}`)})(t,e)}function oN(t,e){const n={};return GA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):to(t,((i,a)=>{const l=Dv(a,e.childContextForField(i));l!=null&&(n[i]=l)})),{mapValue:{fields:n}}}function lN(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof mt||t instanceof di||t instanceof ls||t instanceof Ft||t instanceof Cv||t instanceof js||Rk(t))}function cN(t,e,n){if(!lN(n)||!HA(n)){const i=qf(n);throw i==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+i)}}function Uu(t,e,n){if((e=vn(e))instanceof iN)return e._internalPath;if(typeof e=="string")return cU(t,e);throw Sf("Field path arguments must be of type string or ",t,!1,void 0,n)}const lU=new RegExp("[~\\*/\\[\\]]");function cU(t,e,n){if(e.search(lU)>=0)throw Sf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new iN(...e.split("."))._internalPath}catch{throw Sf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Sf(t,e,n,i,a){const l=i&&!i.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${i}`),c&&(m+=` in document ${a}`),m+=")"),new ye(oe.INVALID_ARGUMENT,d+t+m)}function uU(t,e){return t.some((n=>n.isEqual(e)))}class dU{convertValue(e,n="none"){switch(ea(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Zr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ie(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return to(e,((a,l)=>{i[a]=this.convertValue(l,n)})),i}convertVectorValue(e){const n=e.fields?.[yf].arrayValue?.values?.map((i=>Nt(i.doubleValue)));return new js(n)}convertGeoPoint(e){return new di(Nt(e.latitude),Nt(e.longitude))}convertArray(e,n){return(e.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const i=Kf(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(gu(e));default:return null}}convertTimestamp(e){const n=Jr(e);return new mt(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=ut.fromString(e);tt(Ck(i),9688,{name:e});const a=new yu(i.get(1),i.get(3)),l=new Ce(i.popFirst(5));return a.isEqual(n)||Wi(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}class Mv extends dU{constructor(e){super(),this.firestore=e}convertBytes(e){return new ls(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ft(this.firestore,null,n)}}function hU(){return new jv("serverTimestamp")}const vE="@firebase/firestore",xE="4.11.0";function bE(t){return(function(n,i){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of i)if(l in a&&typeof a[l]=="function")return!0;return!1})(t,["next","error","complete"])}class uN{constructor(e,n,i,a,l){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Ft(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new fU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(Uu("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class fU extends uN{data(){return super.data()}}function dN(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ye(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Vv{}class Ov extends Vv{}function sm(t,e,...n){let i=[];e instanceof Vv&&i.push(e),i=i.concat(n),(function(l){const c=l.filter((m=>m instanceof Pv)).length,d=l.filter((m=>m instanceof im)).length;if(c>1||c>0&&d>0)throw new ye(oe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const a of i)t=a._apply(t);return t}class im extends Ov{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new im(e,n,i)}_apply(e){const n=this._parse(e);return hN(e._query,n),new er(e.firestore,e.converter,P0(e._query,n))}_parse(e){const n=Iv(e.firestore);return(function(l,c,d,m,g,v,x){let _;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new ye(oe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){wE(x,v);const R=[];for(const D of x)R.push(_E(m,l,D));_={arrayValue:{values:R}}}else _=_E(m,l,x)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||wE(x,v),_=oU(d,c,x,v==="in"||v==="not-in");return zt.create(g,v,_)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function mU(t,e,n){const i=e,a=Uu("where",t);return im._create(a,i,n)}class Pv extends Vv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Pv(e,n)}_parse(e){const n=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return n.length===1?n[0]:Ms.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let c=a;const d=l.getFlattenedFilters();for(const m of d)hN(c,m),c=P0(c,m)})(e._query,n),new er(e.firestore,e.converter,P0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Lv extends Ov{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Lv(e,n)}_apply(e){const n=(function(a,l,c){if(a.startAt!==null)throw new ye(oe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ye(oe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new xu(l,c)})(e._query,this._field,this._direction);return new er(e.firestore,e.converter,PP(e._query,n))}}function Uv(t,e="asc"){const n=e,i=Uu("orderBy",t);return Lv._create(i,n)}class zv extends Ov{constructor(e,n,i){super(),this.type=e,this._limit=n,this._limitType=i}static _create(e,n,i){return new zv(e,n,i)}_apply(e){return new er(e.firestore,e.converter,xf(e._query,this._limit,this._limitType))}}function Bv(t){return lP("limit",t),zv._create("limit",t,"F")}function _E(t,e,n){if(typeof(n=vn(n))=="string"){if(n==="")throw new ye(oe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ak(e)&&n.indexOf("/")!==-1)throw new ye(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(ut.fromString(n));if(!Ce.isDocumentKey(i))throw new ye(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return VT(t,new Ce(i))}if(n instanceof Ft)return VT(t,n._key);throw new ye(oe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${qf(n)}.`)}function wE(t,e){if(!Array.isArray(t)||t.length===0)throw new ye(oe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function hN(t,e){const n=(function(a,l){for(const c of a)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ye(oe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ye(oe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function fN(t,e,n){let i;return i=t?t.toFirestore(e):e,i}class Kc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class qa extends uN{constructor(e,n,i,a,l,c){super(e,n,i,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Xh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(Uu("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(oe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=qa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}qa._jsonSchemaVersion="firestore/documentSnapshot/1.0",qa._jsonSchema={type:Bt("string",qa._jsonSchemaVersion),bundleSource:Bt("string","DocumentSnapshot"),bundleName:Bt("string"),bundle:Bt("string")};class Xh extends qa{data(e={}){return super.data(e)}}class Ga{constructor(e,n,i,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Kc(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((i=>{e.call(n,new Xh(this._firestore,this._userDataWriter,i.key,i,new Kc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ye(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((d=>{const m=new Xh(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Kc(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const m=new Xh(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Kc(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,v=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),v=c.indexOf(d.doc.key)),{type:pU(d.type),doc:m,oldIndex:g,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(oe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ga._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=iv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function pU(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ie(61501,{type:t})}}Ga._jsonSchemaVersion="firestore/querySnapshot/1.0",Ga._jsonSchema={type:Bt("string",Ga._jsonSchemaVersion),bundleSource:Bt("string","QuerySnapshot"),bundleName:Bt("string"),bundle:Bt("string")};function mN(t){t=qi(t,er);const e=qi(t.firestore,xl),n=Nv(e),i=new Mv(e);return dN(t._query),W9(n,t._query).then((a=>new Ga(e,i,t,a)))}function gU(t,e,n){t=qi(t,Ft);const i=qi(t.firestore,xl),a=fN(t.converter,e),l=Iv(i);return pN(i,[aN(l,"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,ci.none())])}function Q0(t,e){const n=qi(t.firestore,xl),i=Y0(t),a=fN(t.converter,e),l=Iv(t.firestore);return pN(n,[aN(l,"addDoc",i._key,a,t.converter!==null,{}).toMutation(i._key,ci.exists(!1))]).then((()=>i))}function Fv(t,...e){t=vn(t);let n={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||bE(e[i])||(n=e[i++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(bE(e[i])){const g=e[i];e[i]=g.next?.bind(g),e[i+1]=g.error?.bind(g),e[i+2]=g.complete?.bind(g)}let l,c,d;if(t instanceof Ft)c=qi(t.firestore,xl),d=uv(t._key.path),l={next:g=>{e[i]&&e[i](yU(c,t,g))},error:e[i+1],complete:e[i+2]};else{const g=qi(t,er);c=qi(g.firestore,xl),d=g._query;const v=new Mv(c);l={next:x=>{e[i]&&e[i](new Ga(c,v,g,x))},error:e[i+1],complete:e[i+2]},dN(t._query)}const m=Nv(c);return X9(m,d,a,l)}function pN(t,e){const n=Nv(t);return J9(n,e)}function yU(t,e,n){const i=n.docs.get(e._key),a=new Mv(t);return new qa(t,a,e._key,i,new Kc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){XO(eo),Ka(new Xr("firestore",((i,{instanceIdentifier:a,options:l})=>{const c=i.getProvider("app").getImmediate(),d=new xl(new ZO(i.getProvider("auth-internal")),new nP(c,i.getProvider("app-check-internal")),bP(c,a),c);return l={useFetchStreams:n,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),ai(vE,xE,e),ai(vE,xE,"esm2020")})();const gN="firebasestorage.googleapis.com",vU="storageBucket",xU=120*1e3,bU=600*1e3;class yi extends gi{constructor(e,n,i=0){super(qg(e),`Firebase Storage: ${n} (${qg(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,yi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return qg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var pi;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(pi||(pi={}));function qg(t){return"storage/"+t}function _U(){const t="An unknown error occurred, please check the error payload for server response.";return new yi(pi.UNKNOWN,t)}function wU(){return new yi(pi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function TU(){return new yi(pi.CANCELED,"User canceled the upload/download.")}function EU(t){return new yi(pi.INVALID_URL,"Invalid URL '"+t+"'.")}function SU(t){return new yi(pi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function TE(t){return new yi(pi.INVALID_ARGUMENT,t)}function yN(){return new yi(pi.APP_DELETED,"The Firebase app was deleted.")}function AU(t){return new yi(pi.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class Cs{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=Cs.makeFromUrl(e,n)}catch{return new Cs(e,"")}if(i.path==="")return i;throw SU(e)}static makeFromUrl(e,n){let i=null;const a="([A-Za-z0-9.\\-_]+)";function l(Z){Z.path.charAt(Z.path.length-1)==="/"&&(Z.path_=Z.path_.slice(0,-1))}const c="(/(.*))?$",d=new RegExp("^gs://"+a+c,"i"),m={bucket:1,path:3};function g(Z){Z.path_=decodeURIComponent(Z.path)}const v="v[A-Za-z0-9_]+",x=n.replace(/[.]/g,"\\."),_="(/([^?#]*).*)?$",E=new RegExp(`^https?://${x}/${v}/b/${a}/o${_}`,"i"),R={bucket:1,path:3},D=n===gN?"(?:storage.googleapis.com|storage.cloud.google.com)":n,j="([^?#]*)",L=new RegExp(`^https?://${D}/${a}/${j}`,"i"),$=[{regex:d,indices:m,postModify:l},{regex:E,indices:R,postModify:g},{regex:L,indices:{bucket:1,path:2},postModify:g}];for(let Z=0;Z<$.length;Z++){const ne=$[Z],de=ne.regex.exec(e);if(de){const I=de[ne.indices.bucket];let S=de[ne.indices.path];S||(S=""),i=new Cs(I,S),ne.postModify(i);break}}if(i==null)throw EU(e);return i}}class kU{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function NU(t,e,n){let i=1,a=null,l=null,c=!1,d=0;function m(){return d===2}let g=!1;function v(...j){g||(g=!0,e.apply(null,j))}function x(j){a=setTimeout(()=>{a=null,t(E,m())},j)}function _(){l&&clearTimeout(l)}function E(j,...L){if(g){_();return}if(j){_(),v.call(null,j,...L);return}if(m()||c){_(),v.call(null,j,...L);return}i<64&&(i*=2);let $;d===1?(d=2,$=0):$=(i+Math.random())*1e3,x($)}let R=!1;function D(j){R||(R=!0,_(),!g&&(a!==null?(j||(d=2),clearTimeout(a),x(0)):j||(d=1)))}return x(0),l=setTimeout(()=>{c=!0,D(!0)},n),D}function CU(t){t(!1)}function RU(t){return t!==void 0}function EE(t,e,n,i){if(i<e)throw TE(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw TE(`Invalid value for '${t}'. Expected ${n} or less.`)}function IU(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const a=e(i)+"="+e(t[i]);n=n+a+"&"}return n=n.slice(0,-1),n}var Af;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Af||(Af={}));function jU(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,l=e.indexOf(t)!==-1;return n||a||l}class DU{constructor(e,n,i,a,l,c,d,m,g,v,x,_=!0,E=!1){this.url_=e,this.method_=n,this.headers_=i,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=m,this.timeout_=g,this.progressCallback_=v,this.connectionFactory_=x,this.retry=_,this.isUsingEmulator=E,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((R,D)=>{this.resolve_=R,this.reject_=D,this.start_()})}start_(){const e=(i,a)=>{if(a){i(!1,new kh(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=d=>{const m=d.loaded,g=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,g)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const d=l.getErrorCode()===Af.NO_ERROR,m=l.getStatus();if(!d||jU(m,this.additionalRetryCodes_)&&this.retry){const v=l.getErrorCode()===Af.ABORT;i(!1,new kh(!1,null,v));return}const g=this.successCodes_.indexOf(m)!==-1;i(!0,new kh(g,l))})},n=(i,a)=>{const l=this.resolve_,c=this.reject_,d=a.connection;if(a.wasSuccessCode)try{const m=this.callback_(d,d.getResponse());RU(m)?l(m):l()}catch(m){c(m)}else if(d!==null){const m=_U();m.serverResponse=d.getErrorText(),this.errorCallback_?c(this.errorCallback_(d,m)):c(m)}else if(a.canceled){const m=this.appDelete_?yN():TU();c(m)}else{const m=wU();c(m)}};this.canceled_?n(!1,new kh(!1,null,!0)):this.backoffId_=NU(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&CU(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class kh{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function MU(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function VU(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function OU(t,e){e&&(t["X-Firebase-GMPID"]=e)}function PU(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function LU(t,e,n,i,a,l,c=!0,d=!1){const m=IU(t.urlParams),g=t.url+m,v=Object.assign({},t.headers);return OU(v,e),MU(v,n),VU(v,l),PU(v,i),new DU(g,t.method,v,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,c,d)}function UU(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function zU(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}class kf{constructor(e,n){this._service=e,n instanceof Cs?this._location=n:this._location=Cs.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new kf(e,n)}get root(){const e=new Cs(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return zU(this._location.path)}get storage(){return this._service}get parent(){const e=UU(this._location.path);if(e===null)return null;const n=new Cs(this._location.bucket,e);return new kf(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw AU(e)}}function SE(t,e){const n=e?.[vU];return n==null?null:Cs.makeFromBucketSpec(n,t)}function BU(t,e,n,i={}){t.host=`${e}:${n}`;const a=Za(e);a&&(Fy(`https://${t.host}/b`),Hy("Storage",!0)),t._isUsingEmulator=!0,t._protocol=a?"https":"http";const{mockUserToken:l}=i;l&&(t._overrideAuthToken=typeof l=="string"?l:J2(l,t.app.options.projectId))}class FU{constructor(e,n,i,a,l,c=!1){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=c,this._bucket=null,this._host=gN,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=xU,this._maxUploadRetryTime=bU,this._requests=new Set,a!=null?this._bucket=Cs.makeFromBucketSpec(a,this._host):this._bucket=SE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Cs.makeFromBucketSpec(this._url,e):this._bucket=SE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){EE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){EE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(as(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new kf(this,e)}_makeRequest(e,n,i,a,l=!0){if(this._deleted)return new kU(yN());{const c=LU(e,this._appId,i,a,n,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,n){const[i,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,a).getPromise()}}const AE="@firebase/storage",kE="0.14.0";const vN="storage";function HU(t=$y(),e){t=vn(t);const i=zf(t,vN).getImmediate({identifier:e}),a=Q2("storage");return a&&qU(i,...a),i}function qU(t,e,n,i={}){BU(t,e,n,i)}function GU(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new FU(n,i,a,e,eo)}function $U(){Ka(new Xr(vN,GU,"PUBLIC").setMultipleInstances(!0)),ai(AE,kE,""),ai(AE,kE,"esm2020")}$U();const KU={apiKey:"AIzaSyBxYxsLtsHK1cKKn6IP_wY5FLyG3Gqje5c",authDomain:"study-tracker-9d996.firebaseapp.com",projectId:"study-tracker-9d996",storageBucket:"study-tracker-9d996.firebasestorage.app",messagingSenderId:"896578359034",appId:"1:896578359034:web:730cec1b11329f22960343",measurementId:"G-ZDH3EW4063"},Hv=tA(KU),Gg=$O(Hv),YU=new zi,Gi=nU(Hv);HU(Hv);const xN=N.createContext(void 0);function QU({children:t}){const[e,n]=N.useState(null),[i,a]=N.useState(!0);N.useEffect(()=>{const d=MV(Gg,m=>{n(m),a(!1)});return()=>d()},[]);const l=async()=>{try{await tO(Gg,YU)}catch(d){console.error("Error signing in with Google",d)}},c=async()=>{try{await VV(Gg)}catch(d){console.error("Error signing out",d)}};return f.jsx(xN.Provider,{value:{user:e,loading:i,signInWithGoogle:l,logout:c},children:!i&&t})}function tr(){const t=N.useContext(xN);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}const bN=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim();const XU=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const WU=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase());const NE=t=>{const e=WU(t);return e.charAt(0).toUpperCase()+e.slice(1)};var JU={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const ZU=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const e8=N.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:a="",children:l,iconNode:c,...d},m)=>N.createElement("svg",{ref:m,...JU,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:bN("lucide",a),...!l&&!ZU(d)&&{"aria-hidden":"true"},...d},[...c.map(([g,v])=>N.createElement(g,v)),...Array.isArray(l)?l:[l]]));const Ee=(t,e)=>{const n=N.forwardRef(({className:i,...a},l)=>N.createElement(e8,{ref:l,iconNode:e,className:bN(`lucide-${XU(NE(t))}`,`lucide-${t}`,i),...a}));return n.displayName=NE(t),n};const t8=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],n8=Ee("arrow-left",t8);const s8=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],qv=Ee("arrow-right",s8);const i8=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],_N=Ee("award",i8);const r8=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M17 17H4a1 1 0 0 1-.74-1.673C4.59 13.956 6 12.499 6 8a6 6 0 0 1 .258-1.742",key:"178tsu"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.668 3.01A6 6 0 0 1 18 8c0 2.687.77 4.653 1.707 6.05",key:"1hqiys"}]],a8=Ee("bell-off",r8);const o8=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],l8=Ee("bell",o8);const c8=[["path",{d:"M10 2v8l3-3 3 3V2",key:"sqw3rj"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],wN=Ee("book-marked",c8);const u8=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],qn=Ee("book-open",u8);const d8=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],h8=Ee("book",d8);const f8=[["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M14 7a4 4 0 0 1 4 4v3a6 6 0 0 1-12 0v-3a4 4 0 0 1 4-4z",key:"uouzyp"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M21 21a4 4 0 0 0-3.81-4",key:"1b0z45"}],["path",{d:"M21 5a4 4 0 0 1-3.55 3.97",key:"5cxbf6"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M3 21a4 4 0 0 1 3.81-4",key:"1fjd4g"}],["path",{d:"M3 5a4 4 0 0 0 3.55 3.97",key:"1d7oge"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M9 7.13V6a3 3 0 1 1 6 0v1.13",key:"1vgav8"}]],m8=Ee("bug",f8);const p8=[["path",{d:"M16 14v2.2l1.6 1",key:"fo4ql5"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],Yc=Ee("calendar-clock",p8);const g8=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],X0=Ee("calendar",g8);const y8=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],v8=Ee("chart-column",y8);const x8=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],b8=Ee("chart-pie",x8);const _8=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],TN=Ee("check",_8);const w8=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],T8=Ee("chevron-down",w8);const E8=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Gv=Ee("chevron-left",E8);const S8=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],EN=Ee("chevron-right",S8);const A8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],$v=Ee("circle-alert",A8);const k8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],ro=Ee("circle-check",k8);const N8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],W0=Ee("circle-user",N8);const C8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],R8=Ee("circle",C8);const I8=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],j8=Ee("clock",I8);const D8=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],M8=Ee("copy",D8);const V8=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Kv=Ee("download",V8);const O8=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],P8=Ee("flame",O8);const L8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],U8=Ee("globe",L8);const z8=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],SN=Ee("graduation-cap",z8);const B8=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],F8=Ee("hash",B8);const H8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],q8=Ee("info",H8);const G8=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],CE=Ee("layout-dashboard",G8);const $8=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],K8=Ee("loader-circle",$8);const Y8=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Nf=Ee("log-out",Y8);const Q8=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],$g=Ee("medal",Q8);const X8=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],AN=Ee("message-circle",X8);const W8=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],J8=Ee("monitor",W8);const Z8=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Cf=Ee("moon",Z8);const e7=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],t7=Ee("pause",e7);const n7=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],kN=Ee("pen-tool",n7);const s7=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],i7=Ee("pen",s7);const r7=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],zu=Ee("pencil",r7);const a7=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],NN=Ee("play",a7);const o7=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],$i=Ee("plus",o7);const l7=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],c7=Ee("quote",l7);const u7=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],d7=Ee("refresh-cw",u7);const h7=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],CN=Ee("rotate-ccw",h7);const f7=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Rf=Ee("save",f7);const m7=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],p7=Ee("send",m7);const g7=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],RE=Ee("settings",g7);const y7=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],v7=Ee("shield",y7);const x7=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],IE=Ee("square-pen",x7);const b7=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],J0=Ee("sun",b7);const _7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],w7=Ee("target",_7);const T7=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],jE=Ee("timer",T7);const E7=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],rm=Ee("trash-2",E7);const S7=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Z0=Ee("trending-up",S7);const A7=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],k7=Ee("triangle-alert",A7);const N7=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Ja=Ee("trophy",N7);const C7=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],R7=Ee("upload",C7);const I7=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ru=Ee("users",I7);const j7=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],RN=Ee("volume-2",j7);const D7=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],IN=Ee("volume-x",D7);const M7=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],vi=Ee("x",M7),jN=N.createContext(void 0);function am(){const t=N.useContext(jN);if(!t)throw new Error("useToast must be used within a ToastProvider");return t.toast}function V7({children:t}){const[e,n]=N.useState([]),i=N.useCallback((c,d)=>{const m=Math.random().toString(36).substring(2,9);n(g=>[...g,{id:m,message:c,type:d}]),setTimeout(()=>{n(g=>g.filter(v=>v.id!==m))},3e3)},[]),a=N.useCallback(c=>{n(d=>d.filter(m=>m.id!==c))},[]),l={success:c=>i(c,"success"),error:c=>i(c,"error"),info:c=>i(c,"info"),warning:c=>i(c,"warning")};return f.jsxs(jN.Provider,{value:{toast:l,removeToast:a},children:[t,v4.createPortal(f.jsx("div",{className:"fixed top-4 right-4 z-[9999] flex flex-col gap-2 pointer-events-none",children:f.jsx(hs,{children:e.map(c=>f.jsx(O7,{toast:c,onRemove:a},c.id))})}),document.body)]})}function O7({toast:t,onRemove:e}){const n={success:f.jsx(ro,{className:"w-5 h-5 text-emerald-500"}),error:f.jsx($v,{className:"w-5 h-5 text-red-500"}),info:f.jsx(q8,{className:"w-5 h-5 text-blue-500"}),warning:f.jsx(k7,{className:"w-5 h-5 text-amber-500"})},i={success:"bg-white dark:bg-slate-800 border-emerald-100 dark:border-emerald-900/30",error:"bg-white dark:bg-slate-800 border-red-100 dark:border-red-900/30",info:"bg-white dark:bg-slate-800 border-blue-100 dark:border-blue-900/30",warning:"bg-white dark:bg-slate-800 border-amber-100 dark:border-amber-900/30"};return f.jsxs(Te.div,{layout:!0,initial:{opacity:0,y:-20,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.9,transition:{duration:.2}},className:`pointer-events-auto flex items-center gap-3 px-4 py-3 rounded-xl shadow-lg border ${i[t.type]} min-w-[300px] max-w-sm backdrop-blur-sm`,children:[f.jsx("div",{className:"shrink-0",children:n[t.type]}),f.jsx("p",{className:"text-sm font-medium text-slate-700 dark:text-slate-200 flex-1",children:t.message}),f.jsx("button",{onClick:()=>e(t.id),className:"p-1 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg text-slate-400 dark:text-slate-500 transition-colors",children:f.jsx(vi,{className:"w-4 h-4"})})]})}const au=[{id:"hsc-science-2026-bn",name:"HSC Science",subjects:[{name:"  ",icon:"Book",color:"bg-emerald-500",chapters:[{name:"",topics:[{name:""},{name:""},{name:"-"},{name:""},{name:"    "},{name:" "},{name:""},{name:" "},{name:"  "},{name:" "},{name:"   "},{name:""}]},{name:"",topics:[{name:" "},{name:""},{name:""},{name:"  "},{name:" "},{name:"-"},{name:"  "},{name:""},{name:""},{name:"  "},{name:"   "},{name:" "}]},{name:"",topics:[{name:""}]},{name:"",topics:[{name:""}]}]},{name:"  ",icon:"Book",color:"bg-emerald-500",chapters:[{name:"",topics:[{name:""},{name:""},{name:""}]},{name:"",topics:[{name:" "},{name:""},{name:""},{name:""}]}]},{name:"  ",icon:"Book",color:"bg-teal-500",chapters:[{name:"  -   ",topics:[{name:" "},{name:"  "},{name:"  "},{name:" "},{name:"  "}]},{name:"  - ",topics:[{name:"  "},{name:" "},{name:" "},{name:" "},{name:"  "},{name:" "},{name:"  "},{name:" "},{name:"   "},{name:"   "},{name:"  "},{name:"  "}]},{name:"  - ",topics:[{name:"  "},{name:"  "},{name:" "},{name:"  "},{name:"   "},{name:" "},{name:""},{name:"    "},{name:"   "},{name:"  "},{name:"   "},{name:"   "}]},{name:"  -  ",topics:[{name:" "},{name:"   "},{name:"   "},{name:"   "},{name:"  "},{name:"  "},{name:" "},{name:"    "},{name:"  "},{name:"  "},{name:"   "},{name:"  "}]},{name:"  - ,   ",topics:[{name:"    "},{name:"    "},{name:""},{name:""},{name:"    "},{name:"  "},{name:""}]},{name:"  -   ",topics:[{name:""},{name:" "},{name:"   "},{name:"   "},{name:"  "},{name:"   "},{name:"  "},{name:" "},{name:"  - "}]},{name:"  -   ",topics:[{name:" "},{name:""},{name:" "},{name:" "},{name:"  "},{name:" "},{name:"   "}]},{name:"  -  ",topics:[{name:" "},{name:"  "},{name:"     "},{name:"       "},{name:"   "},{name:"   "},{name:"  "}]},{name:"  - ",topics:[{name:" "},{name:"  "},{name:"  "},{name:"  "},{name:" "},{name:" "},{name:"  "}]},{name:"  -     ",topics:[{name:" "},{name:" "},{name:" "},{name:"   "},{name:"      "},{name:" "},{name:"    "},{name:" "},{name:"  "}]}]},{name:"  ",icon:"Zap",color:"bg-violet-500",chapters:[{name:"",topics:[{name:" "},{name:"  "},{name:"   "},{name:"   "},{name:""},{name:"  "}]},{name:" ",topics:[{name:" "},{name:"   "},{name:" "},{name:" "},{name:"  "},{name:" "}]},{name:" ",topics:[{name:"   "},{name:" "},{name:" "},{name:" "},{name:""},{name:"   "}]},{name:"   ",topics:[{name:"- "},{name:" "},{name:" "},{name:" "}]},{name:" ",topics:[{name:" "},{name:" "},{name:"    "},{name:""}]},{name:" ",topics:[{name:""},{name:"   "},{name:"   "},{name:" "}]},{name:" ",topics:[{name:" "},{name:""},{name:""},{name:""}]},{name:"  ",topics:[{name:"  "},{name:"- "},{name:" "},{name:"- "},{name:"-"}]},{name:" ",topics:[{name:"   "},{name:" "},{name:""},{name:"   "},{name:"   "}]},{name:"  ",topics:[{name:" "},{name:"- "},{name:""},{name:" "},{name:""}]}]},{name:"  ",icon:"Beaker",color:"bg-rose-500",chapters:[{name:"  ",topics:[{name:"  "},{name:"  "},{name:"   "},{name:" "},{name:" "}]},{name:" ",topics:[{name:"  (  )"},{name:" "},{name:",    "},{name:" "},{name:"  "},{name:" "},{name:"   "},{name:" "},{name:""}]},{name:"  ",topics:[{name:"  (s, p, d, f )"},{name:"  ( ,  )"},{name:" "},{name:" "},{name:" (Hybridization)"},{name:"VSEPR    "},{name:" "},{name:"  "}]},{name:" ",topics:[{name:"   "},{name:" "},{name:"- "},{name:"   Kc, Kp"},{name:"- "},{name:"pH   "},{name:"    "}]},{name:" ",topics:[{name:"   "},{name:"  (, )"},{name:"  "},{name:"   "}]}]},{name:"  ",icon:"Beaker",color:"bg-rose-500",chapters:[{name:" ",topics:[{name:"  (, )"},{name:"   "},{name:"   "},{name:"  "},{name:"   "},{name:"    "},{name:"    (BOD, COD)"}]},{name:" ",topics:[{name:"     "},{name:""},{name:" (IUPAC)"},{name:" (, , )"},{name:"   "},{name:" "},{name:"  "},{name:"  "},{name:"    "},{name:""},{name:"  "}]},{name:" ",topics:[{name:"    "},{name:"  (, )"},{name:"- "},{name:"- "},{name:""},{name:"- "}]},{name:" ",topics:[{name:"   "},{name:" "},{name:"  "},{name:"    "},{name:"   "},{name:"pH "}]},{name:" ",topics:[{name:"   "},{name:"  "},{name:"   "},{name:"   "},{name:"   "}]}]},{name:"   ",icon:"Calculator",color:"bg-blue-500",chapters:[{name:"  ",topics:[{name:" "},{name:" ,   "},{name:"   "},{name:" "},{name:" "}]},{name:"",topics:[{name:" "},{name:"   "},{name:"   "},{name:" "}]},{name:"",topics:[{name:"   "},{name:"   "},{name:"  "},{name:"   "}]},{name:"",topics:[{name:" "},{name:"  "},{name:"  "}]},{name:"  ",topics:[{name:"    "},{name:""},{name:""},{name:"   "}]},{name:"",topics:[{name:"   "},{name:" "},{name:" "},{name:""}]},{name:"   ",topics:[{name:"  -"},{name:"-   "},{name:" "},{name:" "}]},{name:"",topics:[{name:"  "},{name:""},{name:"  "},{name:" "},{name:"  "}]},{name:"",topics:[{name:" "},{name:" "},{name:" "},{name:" "},{name:" "}]}]},{name:"   ",icon:"Calculator",color:"bg-blue-500",chapters:[{name:"   ",topics:[{name:"  "},{name:"  "},{name:" "}]},{name:" ",topics:[{name:"  "},{name:" "},{name:"  "}]},{name:" ",topics:[{name:"   "},{name:"  "},{name:" "},{name:" "}]},{name:"   ",topics:[{name:" "},{name:"   "},{name:"   "},{name:"  "}]},{name:" ",topics:[{name:" "},{name:"  "},{name:""},{name:"  "}]},{name:"",topics:[{name:" (Parabola)"},{name:" (Ellipse)"},{name:" (Hyperbola)"},{name:" "}]},{name:"  ",topics:[{name:"   "},{name:"  "},{name:"  "}]},{name:"",topics:[{name:"   "},{name:" "},{name:" "},{name:"    "}]},{name:"",topics:[{name:" "},{name:""},{name:" "},{name:" "}]},{name:"   ",topics:[{name:", , "},{name:"   "},{name:" "},{name:"   "},{name:" "}]}]},{name:"  ",icon:"Dna",color:"bg-green-500",chapters:[{name:"   ",topics:[{name:"    "},{name:"  "},{name:"  "},{name:""},{name:""},{name:"DNA  RNA  "},{name:"DNA "},{name:"  "}]},{name:" ",topics:[{name:"  "},{name:" "},{name:"   "},{name:" "}]},{name:"",topics:[{name:"   "},{name:""},{name:"   "},{name:" "}]},{name:"  ",topics:[{name:" (Riccia)"},{name:" (Pteris)"}]},{name:"  ",topics:[{name:" (Cycas)"},{name:" (Poaceae) "},{name:" (Malvaceae) "}]},{name:"  ",topics:[{name:" "},{name:" "},{name:" "},{name:"   /"}]},{name:" ",topics:[{name:"  "},{name:""},{name:" (   )"},{name:"C3  C4 "},{name:" (  )"},{name:"   "}]},{name:" ",topics:[{name:" "},{name:"   "},{name:""}]},{name:"",topics:[{name:"  "},{name:" DNA "},{name:" "},{name:" "}]}]},{name:"  ",icon:"Dna",color:"bg-green-500",chapters:[{name:"   ",topics:[{name:" "},{name:"-  (Major Phyla)"},{name:"   "}]},{name:" ",topics:[{name:" (, , )"},{name:" (, ,  )"},{name:"  (,  , )"}]},{name:"  ",topics:[{name:"   "},{name:"   (, , )"},{name:"   "},{name:""}]},{name:"  ",topics:[{name:"   "},{name:" "},{name:"   "},{name:" "},{name:"  "}]},{name:"  ",topics:[{name:" "},{name:" "},{name:" "}]},{name:"  ",topics:[{name:" "},{name:" "},{name:"  "},{name:"   "}]},{name:"  ",topics:[{name:"   "},{name:"  "},{name:" "},{name:""}]}]},{name:"   ",icon:"Cpu",color:"bg-indigo-500",chapters:[{name:"  -    ",topics:[{name:" "},{name:" "},{name:""},{name:""},{name:" "},{name:""},{name:""},{name:" "},{name:""}]},{name:"  -  ",topics:[{name:"    "},{name:""},{name:"  ( )"},{name:"  (Bluetooth, WiFi, WiMax)"},{name:" "},{name:"   "},{name:" "}]},{name:"  -     ",topics:[{name:"  "},{name:"  "},{name:" (BCD, ASCII)"},{name:" "},{name:"  (  )"},{name:"  "},{name:" (  )"},{name:"  "}]},{name:"  -   ",topics:[{name:" "},{name:"HTML  "},{name:"   "},{name:"  "},{name:" "},{name:" "}]},{name:"  -   (C)",topics:[{name:"  "},{name:"  "},{name:"   "},{name:"  "},{name:"  (if-else)"},{name:" (for, while)"},{name:""},{name:""}]}]}]}],Kg=[{level:1,minXP:0,title:"Novice"},{level:2,minXP:500,title:"Apprentice"},{level:3,minXP:1200,title:"Scholar"},{level:4,minXP:2500,title:"Sage"},{level:5,minXP:5e3,title:"Master"},{level:6,minXP:1e4,title:"Grandmaster"},{level:7,minXP:2e4,title:"Legend"}],ey=t=>{const e=[...Kg].reverse().find(i=>t>=i.minXP)||Kg[0],n=Kg.find(i=>i.level===e.level+1);return{currentLevel:e.level,currentTitle:e.title,nextLevelXP:n?n.minXP:null,progress:n?(t-e.minXP)/(n.minXP-e.minXP)*100:100}},DE={name:"Student",grade:"Class 10",language:"en",totalStudyTime:0,earnedBadges:[],currentStreak:0,dailyGoal:7200,todayStudyTime:0,weeklyStudyTime:0,monthlyStudyTime:0,xp:0,level:1,scheduledSessions:[]},Yg="study-tracker-data",P7=()=>{const t=au[0];return t?t.subjects.map(e=>({id:crypto.randomUUID(),name:e.name,color:e.color,icon:e.icon,chapters:e.chapters.map(n=>({id:crypto.randomUUID(),name:n.name,isCompleted:!1,completedAt:null,topics:n.topics.map(i=>({id:crypto.randomUUID(),name:i.name,isCompleted:!1,completedAt:null}))}))})):[]},DN=N.createContext(void 0);function L7({children:t}){const{user:e}=tr(),n=am(),[i,a]=N.useState(()=>{try{const ue=localStorage.getItem(Yg);if(ue){const Y=JSON.parse(ue);if(Y.userProfile)return Y.userProfile}}catch(ue){console.error("Failed to load profile:",ue)}return DE}),[l,c]=N.useState(()=>{try{const ue=localStorage.getItem(Yg);if(ue){const Y=JSON.parse(ue);if(Y.subjects&&Y.subjects.length>0)return Y.subjects.map(V=>({...V,chapters:V.chapters.map(F=>({...F,topics:F.topics||[]}))}))}}catch(ue){console.error("Failed to load subjects:",ue)}return P7()}),d=N.useCallback(async(ue,Y)=>{if(e)try{await gU(Y0(Gi,"users",e.uid),{userProfile:ue,subjects:Y})}catch(V){console.error("Cloud save failed:",V)}else localStorage.setItem(Yg,JSON.stringify({userProfile:ue,subjects:Y}))},[e]),m=N.useRef(!0);N.useEffect(()=>{if(m.current){m.current=!1;return}const ue=l.reduce((F,G)=>F+G.chapters.length,0);let Y=0;l.forEach(F=>{F.chapters.forEach(G=>{G.topics?.length>0?G.topics.every(he=>he.isCompleted)&&Y++:G.isCompleted&&Y++})});const V=ue===0?0:Math.round(Y/ue*100);i.syllabusCompletionPercentage!==V&&a(F=>({...F,syllabusCompletionPercentage:V})),d({...i,syllabusCompletionPercentage:V},l)},[l,i,d]),N.useEffect(()=>{if(!e)return;const ue=Fv(Y0(Gi,"users",e.uid),Y=>{if(Y.exists()){const V=Y.data();V.userProfile&&a(V.userProfile),V.subjects&&c(V.subjects)}});return()=>ue()},[e]),N.useEffect(()=>{const ue=au[0];if(!ue)return;let Y=!1;const V=[...l];ue.subjects.forEach(F=>{V.some(he=>he.name===F.name)||(V.push({id:crypto.randomUUID(),name:F.name,color:F.color,icon:F.icon,chapters:F.chapters.map(he=>({id:crypto.randomUUID(),name:he.name,isCompleted:!1,completedAt:null,topics:he.topics.map(pe=>({id:crypto.randomUUID(),name:pe.name,isCompleted:!1,completedAt:null}))}))}),Y=!0)}),Y&&c(V)},[l]);const g=N.useCallback(ue=>{a(Y=>({...Y,...ue}))},[]),v=N.useCallback((ue,Y)=>{a(V=>{const F=V.xp+ue,{currentLevel:G}=ey(V.xp),{currentLevel:he,currentTitle:pe}=ey(F);return he>G&&n.success(` Level Up! You are now a ${pe}!`),{...V,xp:F,level:he}})},[n]),x=ue=>{c(Y=>[...Y,{...ue,id:crypto.randomUUID(),chapters:[]}])},_=(ue,Y)=>{c(V=>V.map(F=>F.id===ue?{...F,...Y}:F))},E=ue=>{c(Y=>Y.filter(V=>V.id!==ue))},R=(ue,Y)=>{c(V=>V.map(F=>F.id===ue?{...F,chapters:[...F.chapters,{id:crypto.randomUUID(),name:Y,isCompleted:!1,topics:[]}]}:F))},D=(ue,Y,V)=>{c(F=>F.map(G=>G.id===ue?{...G,chapters:G.chapters.map(he=>he.id===Y?{...he,name:V}:he)}:G))},j=(ue,Y)=>{c(V=>V.map(F=>F.id===ue?{...F,chapters:F.chapters.map(G=>G.id===Y?{...G,isCompleted:!G.isCompleted,completedAt:G.isCompleted?null:new Date().toISOString()}:G)}:F))},L=(ue,Y)=>{c(V=>V.map(F=>F.id===ue?{...F,chapters:F.chapters.filter(G=>G.id!==Y)}:F))},q=(ue,Y,V)=>{c(F=>F.map(G=>G.id===ue?{...G,chapters:G.chapters.map(he=>he.id===Y?{...he,topics:[...he.topics,{id:crypto.randomUUID(),name:V,isCompleted:!1,completedAt:null}]}:he)}:G))},$=(ue,Y,V,F)=>{c(G=>G.map(he=>he.id===ue?{...he,chapters:he.chapters.map(pe=>pe.id===Y?{...pe,topics:pe.topics.map(z=>z.id===V?{...z,name:F}:z)}:pe)}:he))},Z=(ue,Y,V)=>{let F=0;c(G=>G.map(he=>he.id===ue?{...he,chapters:he.chapters.map(pe=>{if(pe.id===Y){const z=pe.topics.map(ce=>ce.id===V?(ce.isCompleted||(F=50),{...ce,isCompleted:!ce.isCompleted,completedAt:ce.isCompleted?null:new Date().toISOString()}):ce),se=z.length>0&&z.every(ce=>ce.isCompleted);return{...pe,topics:z,isCompleted:se,completedAt:se?new Date().toISOString():null}}return pe})}:he)),F>0&&(v(F,"Topic Completed"),n.success("+50 XP: Topic Completed!"))},ne=(ue,Y,V)=>{c(F=>F.map(G=>G.id===ue?{...G,chapters:G.chapters.map(he=>he.id===Y?{...he,topics:he.topics.filter(pe=>pe.id!==V)}:he)}:G))},de=()=>{const ue={userProfile:i,subjects:l,timestamp:new Date().toISOString()},Y=new Blob([JSON.stringify(ue,null,2)],{type:"application/json"}),V=URL.createObjectURL(Y),F=document.createElement("a");F.href=V,F.download="study-tracker-backup.json",F.click(),URL.revokeObjectURL(V)},I=ue=>{try{const Y=JSON.parse(ue);if(Y.userProfile&&Array.isArray(Y.subjects))return a(Y.userProfile),c(Y.subjects),!0}catch(Y){console.error("Import failed:",Y)}return!1},S=ue=>{const Y=ue.map(V=>({id:crypto.randomUUID(),name:V.name,color:V.color,icon:V.icon,chapters:V.chapters.map(F=>({id:crypto.randomUUID(),name:F.name,isCompleted:!1,completedAt:null,topics:F.topics.map(G=>({id:crypto.randomUUID(),name:G.name,isCompleted:!1,completedAt:null}))}))}));c(V=>[...V,...Y])},C=()=>{window.confirm("Reset all progress?")&&(a(DE),c([]))},U=async(ue,Y,V)=>{const F=new Date,G=F.toISOString().split("T")[0];if(a(pe=>{const z=pe.totalStudyTime+ue;let se=pe.currentStreak||0,ce=pe.todayStudyTime||0;if(pe.lastStudyDate!==G){const fe=new Date;fe.setDate(fe.getDate()-1),pe.lastStudyDate===fe.toISOString().split("T")[0]?se+=1:se=1,ce=ue}else ce+=ue;return{...pe,totalStudyTime:z,todayStudyTime:ce,currentStreak:se,lastStudyDate:G,weeklyStudyTime:(pe.weeklyStudyTime||0)+ue,monthlyStudyTime:(pe.monthlyStudyTime||0)+ue}}),e)try{await Q0(Ha(Gi,"study_sessions"),{userId:e.uid,userName:e.displayName||i.name,durationInSeconds:ue,subjectId:Y||null,sessionGoal:V||null,createdAt:F.toISOString()})}catch(pe){console.error("Session log failed:",pe)}const he=Math.floor(ue/300)*10;he>0&&(v(he,"Study Session"),n.success(`+${he} XP earned!`))},P=ue=>{const Y={...ue,id:crypto.randomUUID(),isCompleted:!1};g({scheduledSessions:[...i.scheduledSessions||[],Y]}),n.success("Study session scheduled!")},H=ue=>{const Y=(i.scheduledSessions||[]).map(V=>V.id===ue?{...V,isCompleted:!V.isCompleted}:V);g({scheduledSessions:Y})},M=ue=>{const Y=(i.scheduledSessions||[]).filter(V=>V.id!==ue);g({scheduledSessions:Y})};return N.useEffect(()=>{"Notification"in window&&Notification.permission==="default"&&Notification.requestPermission();const ue=setInterval(()=>{const Y=new Date;a(V=>{const F=(V.scheduledSessions||[]).map(G=>{if(G.isCompleted||G.reminderSent||!G.time)return G;const pe=(new Date(`${G.date}T${G.time}`).getTime()-Y.getTime())/6e4;if(pe<=10&&pe>-5){if(Notification.permission==="granted"){const z=l.find(se=>se.id===G.subjectId);new Notification(`Study Session: ${z?.name||"Upcoming"}`,{body:`Starting in ${Math.round(Math.max(0,pe))} minutes!`,icon:"/pwa-192x192.png"})}return{...G,reminderSent:!0}}return G});return{...V,scheduledSessions:F}})},6e4);return()=>clearInterval(ue)},[l]),f.jsx(DN.Provider,{value:{userProfile:i,subjects:l,updateProfile:g,addSubject:x,editSubject:_,deleteSubject:E,addChapter:R,editChapter:D,toggleChapter:j,deleteChapter:L,addTopic:q,editTopic:$,toggleTopic:Z,deleteTopic:ne,resetData:C,exportData:de,importData:I,importSyllabusData:S,saveStudySession:U,addScheduledSession:P,toggleScheduledSession:H,deleteScheduledSession:M},children:t})}function Ht(){const t=N.useContext(DN);if(!t)throw new Error("useStudy must be used within StudyProvider");return t}const U7=["bg-blue-500","bg-indigo-500","bg-violet-500","bg-purple-500","bg-fuchsia-500","bg-pink-500","bg-rose-500","bg-red-500","bg-orange-500","bg-amber-500","bg-yellow-500","bg-lime-500","bg-green-500","bg-emerald-500","bg-teal-500","bg-cyan-500","bg-sky-500","bg-slate-500"];function Yv({subject:t,onClose:e}){const{editSubject:n}=Ht(),[i,a]=N.useState(t.name),[l,c]=N.useState(t.color),[d,m]=N.useState(t.examDate||""),g=v=>{v.preventDefault(),i.trim()&&(n(t.id,{name:i.trim(),color:l,examDate:d||void 0}),e())};return f.jsx(hs,{children:f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:f.jsxs(Te.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white dark:bg-slate-800 rounded-2xl w-full max-w-md shadow-xl border border-slate-100 dark:border-slate-700 overflow-hidden",children:[f.jsxs("div",{className:"p-4 border-b border-slate-100 dark:border-slate-700 flex items-center justify-between bg-slate-50/50 dark:bg-slate-800/50",children:[f.jsx("h2",{className:"text-lg font-bold text-slate-800 dark:text-white",children:"Edit Subject"}),f.jsx("button",{onClick:e,className:"p-1 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 transition-colors rounded-full hover:bg-slate-100 dark:hover:bg-slate-700",children:f.jsx(vi,{className:"w-5 h-5"})})]}),f.jsxs("form",{onSubmit:g,className:"p-6 space-y-6",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Subject Name"}),f.jsxs("div",{className:"relative",children:[f.jsx(qn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),f.jsx("input",{type:"text",value:i,onChange:v=>a(v.target.value),placeholder:"e.g. Mathematics",className:"w-full bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl py-3 pl-10 pr-4 text-slate-800 dark:text-white placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all",autoFocus:!0})]})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Color Theme"}),f.jsx("div",{className:"grid grid-cols-4 gap-2",children:U7.map(v=>f.jsx("button",{type:"button",onClick:()=>c(v),className:`w-full h-8 rounded-lg ${v} ${l===v?"ring-2 ring-offset-2 ring-indigo-500":""}`},v))})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Exam Date (Optional)"}),f.jsx("input",{type:"date",value:d,onChange:v=>m(v.target.value),className:"w-full px-4 py-2 rounded-xl border border-slate-200 dark:border-slate-600 bg-slate-50 dark:bg-slate-700 text-slate-800 dark:text-slate-200 focus:ring-2 focus:ring-indigo-500 outline-none"})]}),f.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-900 rounded-xl border border-slate-100 dark:border-slate-700 flex items-center gap-3",children:[f.jsx("div",{className:`w-10 h-10 rounded-lg ${l} flex items-center justify-center text-white shadow-sm`,children:f.jsx(qn,{className:"w-5 h-5"})}),f.jsxs("div",{children:[f.jsx("p",{className:"font-bold text-slate-800 dark:text-white",children:i||"Subject Name"}),f.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Preview"})]})]}),f.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[f.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-slate-600 dark:text-slate-400 font-medium hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:"Cancel"}),f.jsx("button",{type:"submit",disabled:!i.trim(),className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg shadow-sm shadow-blue-500/20 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:"Save Changes"})]})]})]})})})}const z7=Te(Jt);function B7({subject:t,index:e=0}){const[n,i]=N.useState(!1),a=t.chapters.length,l=t.chapters.filter(v=>v.isCompleted).length;let c=0;t.chapters.forEach(v=>{v.topics&&v.topics.length>0?c+=v.topics.filter(x=>x.isCompleted).length/v.topics.length*100:c+=v.isCompleted?100:0});const d=a===0?0:Math.round(c/a),m=t.examDate?Math.ceil((new Date(t.examDate).getTime()-new Date().getTime())/(1e3*60*60*24)):null,g=m!==null&&m<=7&&m>=0;return f.jsxs(f.Fragment,{children:[f.jsxs(z7,{to:`/subject/${t.id}`,whileHover:{y:-8,transition:{duration:.3,ease:[.25,1,.5,1]}},whileTap:{scale:.98},className:"group relative block bg-white dark:bg-slate-800 rounded-2xl md:rounded-3xl p-4 md:p-5 border border-slate-100 dark:border-slate-700 shadow-sm hover:shadow-2xl hover:shadow-blue-500/15 dark:hover:shadow-blue-900/20 transition-all overflow-hidden h-full flex flex-col",children:[f.jsx("div",{className:`absolute top-0 right-0 w-24 h-24 md:w-32 md:h-32 bg-gradient-to-br ${t.color.replace("bg-","from-").replace("-500","-500/10")} to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500 rounded-bl-full pointer-events-none`}),f.jsx(Te.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:v=>{v.preventDefault(),v.stopPropagation(),i(!0)},className:"absolute top-2 right-2 md:top-4 md:right-4 p-1.5 md:p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/30 dark:hover:text-blue-400 rounded-xl transition-colors opacity-100 md:opacity-0 md:group-hover:opacity-100 z-10",title:"Edit Subject",children:f.jsx(zu,{className:"w-3.5 h-3.5 md:w-4 md:h-4"})}),f.jsxs("div",{className:"flex items-start justify-between mb-4 md:mb-6 relative z-10",children:[f.jsx(Te.div,{whileHover:{rotate:15,scale:1.1},className:`w-10 h-10 md:w-14 md:h-14 rounded-xl md:rounded-2xl ${t.color} flex items-center justify-center text-white shadow-lg shadow-blue-500/20`,children:f.jsx(qn,{className:"w-5 h-5 md:w-7 md:h-7"})}),f.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700/50 backdrop-blur-sm px-2 py-1 md:px-3 md:py-1.5 rounded-lg md:rounded-xl text-[10px] md:text-xs font-bold text-slate-700 dark:text-slate-200 border border-slate-100 dark:border-slate-600",children:[d,"%"]})]}),t.examDate&&m!==null&&m>=0&&f.jsxs("div",{className:`absolute top-16 right-4 text-xs font-bold px-2 py-1 rounded-lg flex items-center gap-1 ${g?"bg-red-100 text-red-600 animate-pulse":"bg-indigo-50 text-indigo-600"}`,children:[f.jsx(Yc,{className:"w-3 h-3"}),f.jsxs("span",{children:[m," days left"]})]}),f.jsx("h3",{className:"text-sm md:text-xl font-bold text-slate-800 dark:text-white mb-2 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors line-clamp-1",children:t.name}),f.jsxs("div",{className:"flex items-center gap-2 md:gap-3 text-xs md:text-sm text-slate-500 dark:text-slate-400 mb-4 md:mb-6 mt-auto",children:[f.jsxs("div",{className:"flex items-center gap-1 md:gap-1.5 bg-slate-50 dark:bg-slate-700/50 px-1.5 py-0.5 md:px-2 md:py-1 rounded-md md:rounded-lg",children:[f.jsx(qn,{className:"w-3 h-3 md:w-3.5 md:h-3.5"}),f.jsx("span",{children:a})]}),l>0&&f.jsxs("div",{className:"flex items-center gap-1 md:gap-1.5 bg-emerald-50 dark:bg-emerald-900/20 text-emerald-600 dark:text-emerald-400 px-1.5 py-0.5 md:px-2 md:py-1 rounded-md md:rounded-lg",children:[f.jsx(ro,{className:"w-3 h-3 md:w-3.5 md:h-3.5"}),f.jsx("span",{children:l})]})]}),f.jsxs("div",{className:"space-y-1.5 md:space-y-2",children:[f.jsxs("div",{className:"hidden md:flex justify-between text-xs text-slate-400 dark:text-slate-500 font-medium",children:[f.jsx("span",{children:"Progress"}),f.jsxs("span",{children:[d,"%"]})]}),f.jsx("div",{className:"h-1.5 md:h-2.5 w-full bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden",children:f.jsx(Te.div,{initial:{width:0},animate:{width:`${d}%`},transition:{duration:1,delay:.5+e*.1,ease:"easeOut"},className:`h-full ${t.color} rounded-full`})})]}),f.jsxs("div",{className:"mt-4 md:mt-5 pt-3 md:pt-4 border-t border-slate-100 dark:border-slate-700 flex items-center justify-between text-xs md:text-sm",children:[f.jsx("span",{className:"text-slate-400 dark:text-slate-500 group-hover:text-slate-600 dark:group-hover:text-slate-300 transition-colors",children:"Details"}),f.jsx("div",{className:"w-6 h-6 md:w-8 md:h-8 rounded-full bg-slate-50 dark:bg-slate-700 flex items-center justify-center group-hover:bg-blue-600 group-hover:text-white transition-all duration-300",children:f.jsx(qv,{className:"w-3 h-3 md:w-4 md:h-4"})})]})]}),n&&f.jsx(Yv,{subject:t,onClose:()=>i(!1)})]})}const ME=["bg-blue-500","bg-emerald-500","bg-violet-500","bg-amber-500","bg-rose-500","bg-cyan-500","bg-fuchsia-500","bg-orange-500"];function F7({onClose:t}){const{addSubject:e}=Ht(),[n,i]=N.useState(""),[a,l]=N.useState(ME[0]),c=d=>{d.preventDefault(),n.trim()&&(e({name:n.trim(),color:a,icon:"book"}),t())};return f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm animate-in fade-in duration-200",children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl w-full max-w-md overflow-hidden animate-in zoom-in-95 duration-200 transition-colors",children:[f.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-slate-100 dark:border-slate-700",children:[f.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white flex items-center gap-2 transition-colors",children:[f.jsx(h8,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),"Add New Subject"]}),f.jsx("button",{onClick:t,className:"p-2 text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full transition-colors",children:f.jsx(vi,{className:"w-5 h-5"})})]}),f.jsxs("form",{onSubmit:c,className:"p-6 space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1 transition-colors",children:"Subject Name"}),f.jsx("input",{autoFocus:!0,type:"text",value:n,onChange:d=>i(d.target.value),placeholder:"e.g. Physics",className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all font-medium placeholder:font-normal placeholder:text-slate-400 dark:placeholder:text-slate-500"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2 transition-colors",children:"Color Tag"}),f.jsx("div",{className:"flex flex-wrap gap-2",children:ME.map(d=>f.jsx("button",{type:"button",onClick:()=>l(d),className:`w-8 h-8 rounded-full ${d} transition-all ${a===d?"ring-2 ring-offset-2 ring-slate-400 dark:ring-slate-500 scale-110":"hover:scale-105 opacity-80 hover:opacity-100"}`},d))})]}),f.jsx("div",{className:"pt-2",children:f.jsxs("button",{type:"submit",disabled:!n.trim(),className:"w-full bg-blue-600 hover:bg-blue-700 dark:bg-blue-600 dark:hover:bg-blue-500 disabled:opacity-50 disabled:cursor-not-allowed text-white font-medium py-3 rounded-xl flex items-center justify-center gap-2 transition-all active:scale-[0.98]",children:[f.jsx(Rf,{className:"w-5 h-5"}),"Create Subject"]})})]})]})})}const H7={start_strong:{icon:ro,label:"Start Strong",description:"Completed your first topic!",color:"text-emerald-500 bg-emerald-100 dark:bg-emerald-900/30"},streak_master:{icon:P8,label:"Streak Master",description:"Studied for 3 days in a row.",color:"text-orange-500 bg-orange-100 dark:bg-orange-900/30"},subject_conqueror:{icon:_N,label:"Subject Conqueror",description:"Completed 100% of a subject.",color:"text-purple-500 bg-purple-100 dark:bg-purple-900/30"},night_owl:{icon:Cf,label:"Night Owl",description:"Completed a session late at night (10PM - 4AM).",color:"text-blue-500 bg-blue-100 dark:bg-blue-900/30"}};function q7({type:t,isLocked:e=!1,dateEarned:n}){const i=H7[t],a=i.icon,[l,c]=N.useState(!1);return f.jsxs("div",{className:"relative flex flex-col items-center gap-2 group cursor-pointer",onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),onClick:()=>c(!l),children:[f.jsx(Te.div,{whileHover:{scale:1.05},className:`w-16 h-16 rounded-full flex items-center justify-center shadow-sm border-2 transition-colors ${e?"bg-slate-100 dark:bg-slate-800 border-slate-200 dark:border-slate-700 opacity-60 grayscale":`${i.color} border-transparent`}`,children:f.jsx(a,{className:`w-8 h-8 ${e?"text-slate-400":""}`})}),f.jsx("span",{className:`text-xs font-medium text-center max-w-[5rem] ${e?"text-slate-400":"text-slate-700 dark:text-slate-300"}`,children:i.label}),l&&f.jsxs(Te.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"absolute bottom-full mb-2 bg-slate-800 dark:bg-slate-700 text-white text-xs p-2 rounded-lg shadow-xl whitespace-nowrap z-50 pointer-events-none",children:[f.jsx("p",{className:"font-semibold",children:i.label}),f.jsx("p",{className:"text-slate-300",children:i.description}),!e&&n&&f.jsxs("p",{className:"text-slate-400 mt-1 text-[10px]",children:["Earned: ",new Date(n).toLocaleDateString()]})]})]})}function G7(){const{updateProfile:t}=Ht(),[e,n]=N.useState(""),[i,a]=N.useState(""),l=c=>{if(c.preventDefault(),!e.trim()){alert("Please enter your name");return}t({name:e.trim(),grade:i.trim()||"Not specified"})};return f.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm",children:f.jsxs(Te.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-md overflow-hidden",children:[f.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-indigo-600 p-6 text-white",children:[f.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Welcome to TrackEd! "}),f.jsx("p",{className:"text-blue-100 text-sm",children:"Let's get started by setting up your profile"})]}),f.jsxs("form",{onSubmit:l,className:"p-6 space-y-5",children:[f.jsxs("div",{children:[f.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:[f.jsx(W0,{className:"w-4 h-4"}),"Your Name ",f.jsx("span",{className:"text-red-500",children:"*"})]}),f.jsx("input",{type:"text",value:e,onChange:c=>n(c.target.value),className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 transition-all placeholder:text-slate-400 dark:placeholder:text-slate-500",placeholder:"Enter your name",autoFocus:!0})]}),f.jsxs("div",{children:[f.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:[f.jsx(SN,{className:"w-4 h-4"}),"Class / Grade"]}),f.jsx("input",{type:"text",value:i,onChange:c=>a(c.target.value),className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 transition-all placeholder:text-slate-400 dark:placeholder:text-slate-500",placeholder:"e.g., HSC 2026, SSC 2024"})]}),f.jsx("div",{className:"pt-2",children:f.jsx("button",{type:"submit",className:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white font-semibold py-3 rounded-xl transition-all shadow-lg shadow-blue-500/25 active:scale-[0.98]",children:"Get Started"})}),f.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 text-center",children:"You can update these details anytime in Settings"})]})]})})}function $7(){const{userProfile:t,updateProfile:e}=Ht(),[n,i]=N.useState(!1),[a,l]=N.useState(t.dailyGoal?t.dailyGoal/3600:2),c=t.dailyGoal||7200,d=t.todayStudyTime||0,m=Math.min(100,Math.round(d/c*100)),g=()=>{e({dailyGoal:a*3600}),i(!1)};return f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm md:h-full flex flex-col relative overflow-hidden",children:[f.jsxs("div",{className:"flex items-center justify-between mb-2 z-10",children:[f.jsxs("h3",{className:"text-slate-500 dark:text-slate-400 font-medium flex items-center gap-2 text-sm",children:[f.jsx(w7,{className:"w-4 h-4"}),"Daily Goal"]}),n?f.jsxs("button",{onClick:g,className:"text-xs text-green-600 dark:text-green-400 hover:underline flex items-center gap-1 font-bold",children:["Save ",f.jsx(TN,{className:"w-3 h-3"})]}):f.jsxs("button",{onClick:()=>i(!0),className:"text-xs text-blue-600 dark:text-blue-400 hover:underline flex items-center gap-1",children:["Edit ",f.jsx(i7,{className:"w-3 h-3"})]})]}),f.jsxs("div",{className:"flex-1 flex items-center justify-between z-10 mt-2",children:[f.jsxs("div",{className:"space-y-1",children:[n?f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("input",{type:"number",min:"0.5",max:"24",step:"0.5",value:a,onChange:v=>l(parseFloat(v.target.value)),className:"w-16 p-1 border rounded text-lg font-bold bg-slate-50 dark:bg-slate-700 dark:text-white",autoFocus:!0}),f.jsx("span",{className:"text-slate-500",children:"hrs"})]}):f.jsxs("div",{className:"text-3xl font-bold text-slate-800 dark:text-white",children:[Math.floor(d/3600),f.jsx("span",{className:"text-lg text-slate-400 font-normal",children:"h"})," ",Math.floor(d%3600/60),f.jsx("span",{className:"text-lg text-slate-400 font-normal",children:"m"})]}),f.jsxs("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:["of ",Math.floor(c/3600),"h goal"]})]}),f.jsxs("div",{className:"relative w-20 h-20 flex-shrink-0",children:[f.jsxs("svg",{className:"w-full h-full transform -rotate-90",children:[f.jsx("circle",{cx:"40",cy:"40",r:"36",stroke:"currentColor",strokeWidth:"8",fill:"transparent",className:"text-slate-100 dark:text-slate-700"}),f.jsx(Te.circle,{initial:{strokeDashoffset:226},animate:{strokeDashoffset:226-226*m/100},transition:{duration:1,ease:"easeOut"},cx:"40",cy:"40",r:"36",stroke:"currentColor",strokeWidth:"8",fill:"transparent",strokeDasharray:"226",strokeLinecap:"round",className:`${m>=100?"text-green-500":"text-blue-500"}`})]}),f.jsxs("div",{className:"absolute inset-0 flex items-center justify-center text-xs font-bold text-slate-700 dark:text-slate-300",children:[m,"%"]})]})]}),m>=100&&f.jsxs(Te.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"absolute inset-0 bg-green-50/90 dark:bg-green-900/90 flex items-center justify-center flex-col z-20 backdrop-blur-sm",children:[f.jsx(Ja,{className:"w-10 h-10 text-green-600 dark:text-green-400 mb-2"}),f.jsx("span",{className:"text-green-800 dark:text-green-100 font-bold",children:"Goal Reached!"})]})]})}function K7(){const{subjects:t}=Ht();let e=null,n=null,i=null;for(const a of t)if(a.chapters.some(c=>!c.isCompleted&&(!c.topics.length||c.topics.some(d=>!d.isCompleted)))){e=a;for(const c of a.chapters)if(!c.isCompleted)if(c.topics.length>0){const d=c.topics.find(m=>!m.isCompleted);if(d){n=c,i=d;break}}else{n=c;break}break}return!e||!n?f.jsxs("div",{className:"bg-gradient-to-r from-emerald-500 to-teal-600 rounded-2xl p-6 text-white shadow-lg shadow-emerald-500/20 flex flex-col items-center justify-center text-center h-full min-h-[160px]",children:[f.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center mb-3 text-2xl",children:""}),f.jsx("h3",{className:"font-bold text-xl mb-1",children:"All Caught Up!"}),f.jsx("p",{className:"text-emerald-100 text-sm",children:"You've completed everything in your syllabus."}),f.jsx("div",{className:"mt-4 px-4 py-2 bg-white/20 rounded-lg text-sm font-medium backdrop-blur-sm",children:"Time to review or rest!"})]}):f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm relative overflow-hidden h-full flex flex-col justify-between group",children:[f.jsxs("div",{className:"relative z-10",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsxs("h3",{className:"text-slate-500 dark:text-slate-400 font-medium flex items-center gap-2 text-sm",children:[f.jsx(NN,{className:"w-4 h-4 text-blue-500 fill-current"}),"Continue Learning"]}),f.jsx("span",{className:`text-xs font-semibold px-2 py-1 rounded-full text-white ${e.color}`,children:e.name})]}),f.jsxs("div",{className:"mb-4",children:[f.jsx("h4",{className:"text-xl font-bold text-slate-800 dark:text-white line-clamp-1 mb-1",children:i?i.name:n.name}),f.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 flex items-center gap-2",children:[f.jsx(qn,{className:"w-3.5 h-3.5"}),n.name]})]})]}),f.jsx("div",{className:"relative z-10",children:f.jsxs(Jt,{to:`/subject/${e.id}`,className:"flex items-center justify-center gap-2 w-full py-2.5 bg-slate-900 hover:bg-slate-800 dark:bg-slate-700 dark:hover:bg-slate-600 text-white rounded-xl font-medium transition-all group-hover:translate-x-1",children:["Resume Study ",f.jsx(qv,{className:"w-4 h-4"})]})}),f.jsx("div",{className:`absolute top-0 right-0 w-32 h-32 opacity-10 rounded-full blur-2xl -translate-y-1/2 translate-x-1/2 ${e.color.replace("text-","bg-")}`})]})}const Nh=[{text:"The expert in anything was once a beginner.",author:"Helen Hayes"},{text:"It always seems impossible until it's done.",author:"Nelson Mandela"},{text:"Don't watch the clock; do what it does. Keep going.",author:"Sam Levenson"},{text:"Success is the sum of small efforts, repeated day in and day out.",author:"Robert Collier"},{text:"There is no substitute for hard work.",author:"Thomas Edison"},{text:"The future depends on what you do today.",author:"Mahatma Gandhi"},{text:"Believe you can and you're halfway there.",author:"Theodore Roosevelt"},{text:"Quality is not an act, it is a habit.",author:"Aristotle"},{text:"Your limitationit's only your imagination.",author:"Unknown"},{text:"Push yourself, because no one else is going to do it for you.",author:"Unknown"},{text:"Great things never come from comfort zones.",author:"Unknown"},{text:"Dream it. Wish it. Do it.",author:"Unknown"},{text:"Success doesn't just find you. You have to go out and get it.",author:"Unknown"},{text:"The harder you work for something, the greater you'll feel when you achieve it.",author:"Unknown"},{text:"Dream bigger. Do bigger.",author:"Unknown"},{text:"Don't stop when you're tired. Stop when you're done.",author:"Unknown"},{text:"Wake up with determination. Go to bed with satisfaction.",author:"Unknown"},{text:"Do something today that your future self will thank you for.",author:"Unknown"},{text:"Little things make big days.",author:"Unknown"},{text:"It's going to be hard, but hard does not mean impossible.",author:"Unknown"}];function Y7(){const[t,e]=N.useState(()=>Math.floor(Math.random()*Nh.length)),n=()=>{e(i=>(i+1)%Nh.length)};return f.jsxs("div",{className:"bg-gradient-to-br from-indigo-500 to-purple-600 rounded-2xl p-6 text-white relative overflow-hidden shadow-lg shadow-indigo-500/20 md:h-full flex flex-col justify-between",children:[f.jsxs("div",{className:"flex items-start justify-between mb-4",children:[f.jsx("div",{className:"p-2 bg-white/20 backdrop-blur-sm rounded-lg",children:f.jsx(c7,{className:"w-5 h-5 text-white"})}),f.jsx("button",{onClick:n,className:"p-2 text-white/50 hover:text-white hover:bg-white/10 rounded-full transition-colors",title:"Next Quote",children:f.jsx(d7,{className:"w-4 h-4"})})]}),f.jsx(hs,{mode:"wait",children:f.jsxs(Te.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},children:[f.jsxs("p",{className:"text-lg md:text-xl font-medium mb-3 leading-relaxed",children:['"',Nh[t].text,'"']}),f.jsxs("p",{className:"text-indigo-200 text-sm font-medium",children:[" ",Nh[t].author]})]},t)}),f.jsx("div",{className:"absolute -bottom-4 -right-4 w-24 h-24 bg-white/10 rounded-full blur-xl"}),f.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-purple-500/20 rounded-full blur-2xl"})]})}function Q7(){const{user:t}=tr(),[e,n]=N.useState([]),[i,a]=N.useState(!0);return N.useEffect(()=>{(async()=>{try{const c=sm(Ha(Gi,"users"),Uv("userProfile.syllabusCompletionPercentage","desc"),Bv(10)),d=await mN(c),m=[];d.forEach(g=>{const v=g.data();v.userProfile&&m.push({uid:g.id,name:v.userProfile.name||"Anonymous",percentage:v.userProfile.syllabusCompletionPercentage||0,grade:v.userProfile.grade||"Student"})}),n(m)}catch(c){console.error("Error fetching leaderboard:",c)}finally{a(!1)}})()},[]),i?f.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-3xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm h-full flex items-center justify-center min-h-[300px]",children:f.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-500"})}):f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm h-full flex flex-col",children:[f.jsxs("h3",{className:"text-slate-800 dark:text-white font-bold text-lg mb-4 flex items-center gap-2",children:[f.jsx(Ja,{className:"w-5 h-5 text-amber-500"}),"Leaderboard"]}),f.jsx("div",{className:"flex-1 overflow-y-auto pr-2 space-y-3 scrollbar-thin scrollbar-thumb-slate-200 dark:scrollbar-thumb-slate-700",children:e.length===0?f.jsxs("div",{className:"flex flex-col items-center justify-center text-center text-slate-500 dark:text-slate-400 py-8 h-full",children:[f.jsx("div",{className:"w-16 h-16 bg-slate-50 dark:bg-slate-700/50 rounded-full flex items-center justify-center mb-3",children:f.jsx(Ja,{className:"w-8 h-8 text-slate-300 dark:text-slate-500 opacity-50"})}),f.jsx("p",{className:"font-medium text-slate-600 dark:text-slate-300",children:"No champions yet!"}),f.jsx("p",{className:"text-xs max-w-[150px] mt-1",children:"Complete chapters to climb the ranks."})]}):e.map((l,c)=>{const d=t?.uid===l.uid;let m=null;return c===0?m=f.jsx($g,{className:"w-5 h-5 text-yellow-500"}):c===1?m=f.jsx($g,{className:"w-5 h-5 text-slate-400"}):c===2?m=f.jsx($g,{className:"w-5 h-5 text-amber-700"}):m=f.jsx("span",{className:"text-sm font-bold text-slate-400 w-5 text-center",children:c+1}),f.jsxs(Te.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:c*.1},className:`flex items-center gap-3 p-3 rounded-xl transition-colors ${d?"bg-indigo-50 dark:bg-indigo-900/30 border border-indigo-100 dark:border-indigo-800":"hover:bg-slate-50 dark:hover:bg-slate-700/50"}`,children:[f.jsx("div",{className:"flex-shrink-0 flex items-center justify-center w-8",children:m}),f.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-slate-200 dark:bg-slate-700 flex items-center justify-center text-xs font-bold text-slate-600 dark:text-slate-300",children:l.name[0].toUpperCase()}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsxs("p",{className:`text-sm font-medium truncate ${d?"text-indigo-700 dark:text-indigo-300":"text-slate-700 dark:text-slate-200"}`,children:[l.name," ",d&&"(You)"]}),f.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 truncate",children:l.grade})]}),f.jsxs("div",{className:"font-bold text-slate-800 dark:text-white text-sm",children:[l.percentage,"%"]})]},l.uid)})})]})}function MN({className:t="",limit:e}){const{subjects:n}=Ht(),[i,a]=N.useState(null),[l,c]=N.useState(!1),d=n.filter(_=>_.examDate).sort((_,E)=>new Date(_.examDate).getTime()-new Date(E.examDate).getTime()),m=n.filter(_=>!_.examDate),g=e?d.slice(0,e):d,v=_=>{const E=new Date;E.setHours(0,0,0,0);const R=new Date(_);R.setHours(0,0,0,0);const D=R.getTime()-E.getTime();return Math.ceil(D/(1e3*60*60*24))},x=_=>{a(_),c(!1)};return d.length===0&&!l?f.jsxs("div",{className:`bg-white dark:bg-slate-800 rounded-2xl p-4 border border-dashed border-slate-200 dark:border-slate-700 text-center ${t}`,children:[f.jsx("div",{className:"w-10 h-10 bg-slate-50 dark:bg-slate-900 rounded-full flex items-center justify-center mx-auto mb-2",children:f.jsx(Yc,{className:"w-5 h-5 text-slate-400"})}),f.jsx("h3",{className:"text-slate-800 dark:text-white font-semibold text-sm mb-1",children:"No Exams"}),f.jsx("p",{className:"text-slate-500 text-[10px] leading-tight mb-3",children:"Set dates for subjects to track them here."}),f.jsxs("button",{onClick:()=>c(!0),className:"inline-flex items-center gap-2 px-3 py-1.5 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 text-xs font-bold rounded-lg hover:bg-indigo-100 dark:hover:bg-indigo-900/50 transition-colors",children:[f.jsx($i,{className:"w-3.5 h-3.5"}),"Schedule Exam"]})]}):f.jsxs("div",{className:`space-y-4 ${t}`,children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("h3",{className:"font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[f.jsx(Yc,{className:"w-5 h-5 text-indigo-500"}),"Upcoming Exams"]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("button",{onClick:()=>c(!0),className:"p-1.5 text-indigo-600 dark:text-indigo-400 hover:bg-indigo-50 dark:hover:bg-indigo-900/30 rounded-lg transition-colors",title:"Add Exam",children:f.jsx($i,{className:"w-4 h-4"})}),f.jsxs("span",{className:"text-[10px] font-bold uppercase tracking-wider text-slate-400 bg-slate-100 dark:bg-slate-800/50 px-2 py-0.5 rounded-full",children:[d.length," Total"]})]})]}),f.jsx("div",{className:"grid gap-3",children:g.map(_=>{const E=v(_.examDate),R=E<=7&&E>=0,D=E<0;return f.jsxs(Te.div,{layout:!0,initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"group relative bg-white dark:bg-slate-900/50 rounded-xl p-3 border border-slate-100 dark:border-slate-800 hover:border-indigo-200 dark:hover:border-indigo-900/50 transition-all flex items-center gap-3 overflow-hidden",children:[f.jsx("div",{className:`absolute left-0 top-0 bottom-0 w-1 ${D?"bg-slate-400":R?"bg-red-500":"bg-indigo-500"}`}),f.jsx("div",{className:`w-10 h-10 rounded-lg ${_.color} flex items-center justify-center text-white shadow-sm flex-shrink-0`,children:f.jsx(Yc,{className:"w-5 h-5"})}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsxs("div",{className:"flex items-center justify-between gap-2",children:[f.jsx("h4",{className:"font-bold text-slate-800 dark:text-slate-200 text-sm truncate",children:_.name}),f.jsx("button",{onClick:()=>a(_),className:"p-1 text-slate-400 hover:text-indigo-500 dark:hover:text-indigo-400 opacity-0 group-hover:opacity-100 transition-opacity",children:f.jsx(zu,{className:"w-3.5 h-3.5"})})]}),f.jsx("p",{className:"text-[10px] text-slate-500 uppercase tracking-tighter",children:new Date(_.examDate).toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"})})]}),f.jsxs("div",{className:`text-right flex-shrink-0 ${D?"text-slate-400":R?"text-red-500":"text-indigo-500"}`,children:[f.jsx("div",{className:"text-lg font-black leading-none",children:D?"":E}),f.jsx("div",{className:"text-[9px] font-bold uppercase tracking-widest",children:D?"Past":"Days"})]}),R&&!D&&f.jsx("div",{className:"absolute top-0 right-0 p-1",children:f.jsx($v,{className:"w-3 h-3 text-red-500 animate-pulse"})})]},_.id)})}),f.jsx(hs,{children:l&&f.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/40 backdrop-blur-[2px]",children:f.jsxs(Te.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"bg-white dark:bg-slate-800 rounded-3xl w-full max-w-sm shadow-2xl overflow-hidden border border-slate-100 dark:border-slate-700",children:[f.jsxs("div",{className:"p-4 border-b border-slate-50 dark:border-slate-700 flex items-center justify-between bg-slate-50/50 dark:bg-slate-800/50",children:[f.jsx("h3",{className:"font-bold text-slate-800 dark:text-white",children:"Schedule Exam"}),f.jsx("button",{onClick:()=>c(!1),className:"p-1.5 text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 rounded-full hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:f.jsx(vi,{className:"w-5 h-5"})})]}),f.jsxs("div",{className:"p-4 max-h-[60vh] overflow-y-auto custom-scrollbar",children:[f.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mb-4 px-1",children:"Select a subject to set its exam date."}),f.jsx("div",{className:"grid gap-2",children:m.length>0?m.map(_=>f.jsxs("button",{onClick:()=>x(_),className:"flex items-center gap-3 p-3 rounded-2xl hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-all group text-left border border-transparent hover:border-slate-100 dark:hover:border-slate-600",children:[f.jsx("div",{className:`w-10 h-10 rounded-xl ${_.color} flex items-center justify-center text-white shadow-sm flex-shrink-0`,children:f.jsx(qn,{className:"w-5 h-5"})}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("div",{className:"font-bold text-slate-800 dark:text-slate-200 text-sm truncate",children:_.name}),f.jsxs("div",{className:"text-[10px] text-slate-500 uppercase tracking-wider",children:[_.chapters.length," Chapters"]})]}),f.jsx($i,{className:"w-4 h-4 text-slate-300 group-hover:text-indigo-500 transition-colors"})]},_.id)):f.jsxs("div",{className:"text-center py-8",children:[f.jsx("div",{className:"w-12 h-12 bg-slate-50 dark:bg-slate-700/50 rounded-full flex items-center justify-center mx-auto mb-3",children:f.jsx(Yc,{className:"w-6 h-6 text-slate-300"})}),f.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"All subjects have exams!"})]})})]})]})})}),i&&f.jsx(Yv,{subject:i,onClose:()=>a(null)})]})}const VE={hidden:{opacity:0,y:10},show:{opacity:1,y:0,transition:{duration:.4,when:"beforeChildren",staggerChildren:.1}},exit:{opacity:0,y:-10}},Qg={hidden:{opacity:0,y:20},show:{opacity:1,y:0,transition:{type:"spring",stiffness:100,damping:12}}};function X7(){const{userProfile:t,subjects:e}=Ht(),[n,i]=N.useState(!1),a=t.name==="Student",l=e.reduce((g,v)=>g+v.chapters.length,0),c=e.reduce((g,v)=>g+v.chapters.filter(x=>x.isCompleted).length,0);let d=0;e.forEach(g=>{g.chapters.forEach(v=>{v.topics&&v.topics.length>0?d+=v.topics.filter(x=>x.isCompleted).length/v.topics.length*100:d+=v.isCompleted?100:0})});const m=l===0?0:Math.round(d/l);return f.jsxs(Te.div,{className:"space-y-6 md:space-y-8",variants:VE,initial:"hidden",animate:"show",exit:"exit",children:[f.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 mb-8",children:[f.jsxs("div",{children:[f.jsxs("h1",{className:"text-3xl md:text-4xl font-bold text-slate-800 dark:text-white transition-colors tracking-tight",children:["Hello, ",f.jsx("span",{className:"bg-gradient-to-r from-blue-600 to-teal-500 dark:from-blue-400 dark:to-teal-400 bg-clip-text text-transparent",children:t.name}),f.jsx("span",{className:"inline-block animate-wave ml-2",children:""})]}),f.jsxs("p",{className:"text-base text-slate-500 dark:text-slate-400 mt-2 transition-colors",children:[f.jsx("span",{className:"font-semibold text-slate-700 dark:text-slate-300 px-2 py-0.5 bg-slate-100 dark:bg-slate-800 rounded-md mr-2",children:t.grade}),"Ready to crush your goals today?"]})]}),f.jsxs(Te.button,{id:"add-subject-btn",whileHover:{scale:1.05,boxShadow:"0 10px 25px -5px rgba(37, 99, 235, 0.4)"},whileTap:{scale:.95},onClick:()=>i(!0),className:"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white px-6 py-3.5 rounded-2xl font-semibold flex items-center justify-center gap-2 shadow-lg shadow-blue-500/30 transition-all text-sm md:text-base w-full md:w-auto",children:[f.jsx($i,{className:"w-5 h-5"}),"New Subject"]})]}),"import AdBanner from '../components/AdBanner'; // ... (imports) // ... inside Dashboard component ...",f.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-12 md:gap-6 auto-rows-min",children:[f.jsxs("div",{className:"lg:col-span-4 flex flex-col gap-4 md:gap-6 order-1",children:[f.jsx("div",{className:"flex-1",children:f.jsx(K7,{})}),f.jsx("div",{children:f.jsx($7,{})})]}),f.jsx("div",{className:"md:col-span-full lg:col-span-4 h-full min-h-[400px] order-3 lg:order-2",children:f.jsx(Q7,{})}),f.jsxs("div",{className:"lg:col-span-4 flex flex-col gap-4 md:gap-6 order-2 lg:order-3",children:[f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl md:rounded-3xl p-5 md:p-6 border border-slate-100 dark:border-slate-700 shadow-sm relative overflow-hidden",children:[f.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-10",children:f.jsx(b8,{className:"w-24 h-24 text-blue-500"})}),f.jsxs("div",{className:"flex items-center justify-between relative z-10",children:[f.jsxs("div",{className:"flex-1 pr-4",children:[f.jsxs("h3",{className:"text-slate-500 dark:text-slate-400 font-medium mb-3 flex items-center gap-2 text-xs md:text-sm",children:[f.jsx(Ja,{className:"w-4 h-4 text-amber-500"})," Syllabus Progress"]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-end justify-between mb-1.5",children:[f.jsxs("span",{className:"text-[10px] md:text-xs font-semibold text-slate-500",children:[c," / ",l," Chapters"]}),f.jsxs("span",{className:"text-[10px] md:text-xs font-bold text-blue-600 dark:text-blue-400",children:[Math.round(c/(l||1)*100),"%"]})]}),f.jsx("div",{className:"h-1 w-full bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden",children:f.jsx(Te.div,{initial:{width:0},animate:{width:`${c/(l||1)*100}%`},className:"h-full bg-blue-500 rounded-full"})})]}),f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-end justify-between mb-1.5",children:[f.jsx("span",{className:"text-[10px] md:text-xs font-semibold text-slate-500",children:"Total Completion"}),f.jsxs("span",{className:"text-[10px] md:text-xs font-bold text-emerald-600 dark:text-emerald-400",children:[m,"%"]})]}),f.jsx("div",{className:"h-1 w-full bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden",children:f.jsx(Te.div,{initial:{width:0},animate:{width:`${m}%`},className:"h-full bg-emerald-500 rounded-full"})})]})]})]}),f.jsxs("div",{className:"relative w-16 h-16 md:w-24 md:h-24 flex-shrink-0",children:[f.jsxs("svg",{className:"w-full h-full transform -rotate-90",viewBox:"0 0 100 100",children:[f.jsx("circle",{className:"text-slate-100 dark:text-slate-700",strokeWidth:"8",stroke:"currentColor",fill:"transparent",r:"40",cx:"50",cy:"50"}),f.jsx(Te.circle,{className:"text-blue-600 dark:text-blue-500",strokeWidth:"8",strokeDasharray:251.2,strokeDashoffset:251.2-251.2*m/100,strokeLinecap:"round",stroke:"currentColor",fill:"transparent",r:"40",cx:"50",cy:"50",initial:{strokeDashoffset:251.2},animate:{strokeDashoffset:251.2-251.2*m/100},transition:{duration:1.5,ease:"easeOut"}})]}),f.jsx("div",{className:"absolute top-0 left-0 w-full h-full flex items-center justify-center",children:f.jsxs("span",{className:"text-sm md:text-lg font-bold text-slate-800 dark:text-white",children:[m,"%"]})})]})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-1 gap-4 md:gap-6 flex-1",children:[f.jsx(MN,{limit:3,className:"h-full"}),f.jsx(Y7,{})]})]})]}),t.earnedBadges&&t.earnedBadges.length>0&&f.jsxs(Te.div,{variants:Qg,className:"bg-white dark:bg-slate-800 rounded-2xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm transition-colors",children:[f.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4 flex items-center gap-2",children:[f.jsx(Ja,{className:"w-5 h-5 text-yellow-500"}),"Recent Achievements"]}),f.jsx("div",{className:"flex flex-wrap gap-4",children:t.earnedBadges.map((g,v)=>f.jsx(q7,{type:g.type,dateEarned:g.earnedAt},`${g.type}-${v}`))})]}),f.jsxs("div",{children:[f.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4 flex items-center gap-2 transition-colors",children:["Your Subjects",f.jsx("span",{className:"text-sm font-normal text-slate-400 dark:text-slate-500 bg-slate-100 dark:bg-slate-800 px-2 py-0.5 rounded-full",children:e.length})]}),e.length>0?f.jsxs(Te.div,{variants:VE,initial:"hidden",animate:"show",className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 md:gap-4",children:[e.map((g,v)=>f.jsx(Te.div,{variants:Qg,children:f.jsx(B7,{subject:g,index:v})},g.id)),f.jsxs(Te.button,{variants:Qg,whileHover:{scale:1.02,backgroundColor:"rgba(239, 246, 255, 0.5)"},whileTap:{scale:.98},onClick:()=>i(!0),className:"group border-2 border-dashed border-slate-200 dark:border-slate-700 rounded-2xl p-6 flex flex-col items-center justify-center text-slate-400 dark:text-slate-500 hover:border-blue-400 dark:hover:border-blue-500 hover:text-blue-600 dark:hover:text-blue-400 transition-all cursor-pointer h-full min-h-[180px] w-full",children:[f.jsx("div",{className:"w-12 h-12 rounded-full bg-slate-100 dark:bg-slate-800 group-hover:bg-blue-100 dark:group-hover:bg-blue-900/20 flex items-center justify-center mb-3 transition-colors",children:f.jsx($i,{className:"w-6 h-6"})}),f.jsx("span",{className:"font-medium",children:"Add Another Subject"})]})]}):f.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-16 bg-white dark:bg-slate-800 rounded-2xl border border-dashed border-slate-200 dark:border-slate-700 transition-colors",children:[f.jsx("div",{className:"w-16 h-16 bg-slate-50 dark:bg-slate-700 rounded-full flex items-center justify-center mx-auto mb-4",children:f.jsx(wN,{className:"w-8 h-8 text-slate-300 dark:text-slate-500"})}),f.jsx("h3",{className:"text-lg font-semibold text-slate-700 dark:text-slate-200 mb-2",children:"No subjects yet"}),f.jsx("p",{className:"text-slate-500 dark:text-slate-400 max-w-sm mx-auto mb-6",children:"Start by adding the subjects you want to track to organize your study plan."}),f.jsx("button",{onClick:()=>i(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2.5 rounded-xl font-medium transition-all",children:"Add Your First Subject"})]})]}),n&&f.jsx(F7,{onClose:()=>i(!1)}),a&&f.jsx(G7,{})]})}function W7({subjectId:t,onClose:e}){const{addChapter:n}=Ht(),[i,a]=N.useState(""),l=c=>{c.preventDefault(),i.trim()&&(n(t,i.trim()),a(""))};return f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm animate-in fade-in duration-200",children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl w-full max-w-md overflow-hidden animate-in zoom-in-95 duration-200 transition-colors",children:[f.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-slate-100 dark:border-slate-700",children:[f.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white flex items-center gap-2 transition-colors",children:[f.jsx(wN,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),"Add Chapters"]}),f.jsx("button",{onClick:e,className:"p-2 text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full transition-colors",children:f.jsx(vi,{className:"w-5 h-5"})})]}),f.jsxs("form",{onSubmit:l,className:"p-6 space-y-4",children:[f.jsxs("div",{children:[f.jsxs("div",{className:"flex justify-between items-center mb-1",children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 transition-colors",children:"Chapter Name / Topic"}),f.jsx("span",{className:"text-xs text-slate-400 dark:text-slate-500 transition-colors",children:"Press Enter to add & continue"})]}),f.jsx("input",{autoFocus:!0,type:"text",value:i,onChange:c=>a(c.target.value),placeholder:"e.g. Newton's Laws",className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all placeholder:text-slate-400 dark:placeholder:text-slate-500"})]}),f.jsxs("div",{className:"flex gap-3 pt-2",children:[f.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-3 border border-slate-200 dark:border-slate-600 text-slate-600 dark:text-slate-300 font-medium rounded-xl hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",children:"Done"}),f.jsxs("button",{type:"submit",disabled:!i.trim(),className:"flex-1 bg-blue-600 hover:bg-blue-700 dark:bg-blue-600 dark:hover:bg-blue-500 disabled:opacity-50 disabled:cursor-not-allowed text-white font-medium py-3 rounded-xl flex items-center justify-center gap-2 transition-all active:scale-[0.98]",children:[f.jsx($i,{className:"w-5 h-5"}),"Add"]})]})]})]})})}const J7={initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10}};function om({children:t,className:e=""}){return f.jsx(Te.div,{variants:J7,initial:"initial",animate:"animate",exit:"exit",transition:{duration:.3,ease:"easeOut"},className:e,children:t})}const VN=N.createContext(void 0);function Z7({children:t}){const[e,n]=N.useState(()=>typeof window<"u"?localStorage.getItem("sound-muted")==="true":!1),i=N.useRef(null);N.useEffect(()=>{localStorage.setItem("sound-muted",String(e))},[e]);const a=()=>{i.current||(i.current=new(window.AudioContext||window.webkitAudioContext)),i.current.state==="suspended"&&i.current.resume()},l=g=>{if(e)return;i.current||(i.current=new(window.AudioContext||window.webkitAudioContext));const v=i.current,x=v.createOscillator(),_=v.createGain();x.connect(_),_.connect(v.destination);const E=v.currentTime;switch(g){case"pop":x.type="sine",x.frequency.setValueAtTime(800,E),x.frequency.exponentialRampToValueAtTime(1200,E+.1),_.gain.setValueAtTime(.1,E),_.gain.exponentialRampToValueAtTime(.01,E+.1),x.start(E),x.stop(E+.1);break;case"success":c(v,523.25,E,.1,"sine"),c(v,659.25,E+.1,.1,"sine"),c(v,783.99,E+.2,.2,"sine");break;case"complete":x.type="triangle",x.frequency.setValueAtTime(440,E),x.frequency.linearRampToValueAtTime(880,E+.5),_.gain.setValueAtTime(.1,E),_.gain.linearRampToValueAtTime(.3,E+.2),_.gain.linearRampToValueAtTime(0,E+1.5),x.start(E),x.stop(E+1.5);break;case"click":x.type="square",x.frequency.setValueAtTime(200,E),_.gain.setValueAtTime(.05,E),_.gain.exponentialRampToValueAtTime(.01,E+.05),x.start(E),x.stop(E+.05);break;case"error":x.type="sawtooth",x.frequency.setValueAtTime(150,E),x.frequency.linearRampToValueAtTime(100,E+.2),_.gain.setValueAtTime(.1,E),_.gain.linearRampToValueAtTime(0,E+.3),x.start(E),x.stop(E+.3);break}},c=(g,v,x,_,E="sine")=>{const R=g.createOscillator(),D=g.createGain();R.connect(D),D.connect(g.destination),R.type=E,R.frequency.setValueAtTime(v,x),D.gain.setValueAtTime(.1,x),D.gain.exponentialRampToValueAtTime(.01,x+_),R.start(x),R.stop(x+_)},d=g=>{i.current?.state==="suspended"&&i.current.resume().catch(()=>{}),l(g)},m=()=>{n(g=>!g),e&&a()};return f.jsx(VN.Provider,{value:{isMuted:e,toggleMute:m,playSound:d},children:t})}function Qv(){const t=N.useContext(VN);if(t===void 0)throw new Error("useSound must be used within a SoundProvider");return t}function ez({subjectId:t,chapterId:e,topicId:n,currentName:i,onClose:a}){const{editTopic:l}=Ht(),[c,d]=N.useState(i);N.useEffect(()=>{d(i)},[i]);const m=g=>{g.preventDefault(),c.trim()&&(l(t,e,n,c.trim()),a())};return f.jsx(hs,{children:f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:f.jsxs(Te.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white dark:bg-slate-800 rounded-2xl w-full max-w-sm shadow-xl border border-slate-100 dark:border-slate-700 overflow-hidden",children:[f.jsxs("div",{className:"p-4 border-b border-slate-100 dark:border-slate-700 flex items-center justify-between bg-slate-50/50 dark:bg-slate-800/50",children:[f.jsx("h2",{className:"text-lg font-bold text-slate-800 dark:text-white",children:"Edit Topic"}),f.jsx("button",{onClick:a,className:"p-1 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 transition-colors rounded-full hover:bg-slate-100 dark:hover:bg-slate-700",children:f.jsx(vi,{className:"w-5 h-5"})})]}),f.jsxs("form",{onSubmit:m,className:"p-6 space-y-6",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Topic Name"}),f.jsxs("div",{className:"relative",children:[f.jsx(kN,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),f.jsx("input",{type:"text",value:c,onChange:g=>d(g.target.value),placeholder:"e.g. Algebra Basics",className:"w-full bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl py-3 pl-10 pr-4 text-slate-800 dark:text-white placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all",autoFocus:!0})]})]}),f.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[f.jsx("button",{type:"button",onClick:a,className:"px-4 py-2 text-slate-600 dark:text-slate-400 font-medium hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:"Cancel"}),f.jsx("button",{type:"submit",disabled:!c.trim(),className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg shadow-sm shadow-blue-500/20 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:"Save Changes"})]})]})]})})})}function tz({subjectId:t,chapterId:e,topic:n}){const{toggleTopic:i,deleteTopic:a}=Ht(),{playSound:l}=Qv(),[c,d]=N.useState(!1);return f.jsxs(f.Fragment,{children:[f.jsxs(Te.div,{layout:!0,initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:-10},className:"flex items-center gap-3 py-2 pl-4 pr-2 group/topic hover:bg-slate-50 dark:hover:bg-slate-700/50 rounded-lg transition-colors ml-8 border-l border-slate-100 dark:border-slate-700",children:[f.jsx(Te.button,{whileTap:{scale:.8},onClick:()=>{i(t,e,n.id),n.isCompleted||l("pop")},className:`flex-shrink-0 w-4 h-4 rounded-full border flex items-center justify-center transition-colors ${n.isCompleted?"border-emerald-500 bg-emerald-500 text-white":"border-slate-300 dark:border-slate-500 text-transparent hover:border-slate-400 dark:hover:border-slate-400"}`,children:f.jsx(ro,{className:"w-3 h-3"})}),f.jsx("span",{className:`flex-1 text-sm font-google-sans transition-all ${n.isCompleted?"text-slate-400 line-through":"text-slate-600 dark:text-slate-300"}`,children:n.name}),f.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover/topic:opacity-100 transition-opacity",children:[f.jsx("button",{onClick:()=>d(!0),className:"p-1.5 text-slate-300 hover:text-amber-500 dark:text-slate-600 dark:hover:text-amber-400 transition-all",title:"Edit Topic",children:f.jsx(zu,{className:"w-3.5 h-3.5"})}),f.jsx("button",{onClick:()=>confirm("Delete this topic?")&&a(t,e,n.id),className:"p-1.5 text-slate-300 hover:text-red-500 dark:text-slate-600 dark:hover:text-red-400 transition-all",title:"Delete Topic",children:f.jsx(rm,{className:"w-3.5 h-3.5"})})]})]}),c&&f.jsx(ez,{subjectId:t,chapterId:e,topicId:n.id,currentName:n.name,onClose:()=>d(!1)})]})}function nz({subjectId:t,chapterId:e,currentName:n,onClose:i}){const{editChapter:a}=Ht(),[l,c]=N.useState(n);N.useEffect(()=>{c(n)},[n]);const d=m=>{m.preventDefault(),l.trim()&&(a(t,e,l.trim()),i())};return f.jsx(hs,{children:f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:f.jsxs(Te.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white dark:bg-slate-800 rounded-2xl w-full max-w-md shadow-xl border border-slate-100 dark:border-slate-700 overflow-hidden",children:[f.jsxs("div",{className:"p-4 border-b border-slate-100 dark:border-slate-700 flex items-center justify-between bg-slate-50/50 dark:bg-slate-800/50",children:[f.jsx("h2",{className:"text-lg font-bold text-slate-800 dark:text-white",children:"Edit Chapter"}),f.jsx("button",{onClick:i,className:"p-1 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 transition-colors rounded-full hover:bg-slate-100 dark:hover:bg-slate-700",children:f.jsx(vi,{className:"w-5 h-5"})})]}),f.jsxs("form",{onSubmit:d,className:"p-6 space-y-6",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Chapter Name"}),f.jsxs("div",{className:"relative",children:[f.jsx(kN,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),f.jsx("input",{type:"text",value:l,onChange:m=>c(m.target.value),placeholder:"e.g. Differentiation",className:"w-full bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl py-3 pl-10 pr-4 text-slate-800 dark:text-white placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all",autoFocus:!0})]})]}),f.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[f.jsx("button",{type:"button",onClick:i,className:"px-4 py-2 text-slate-600 dark:text-slate-400 font-medium hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:"Cancel"}),f.jsx("button",{type:"submit",disabled:!l.trim(),className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg shadow-sm shadow-blue-500/20 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:"Save Changes"})]})]})]})})})}function sz({subjectId:t,chapter:e,isExpanded:n,onToggle:i}){const{deleteChapter:a,addTopic:l}=Ht(),[c,d]=N.useState(!1),[m,g]=N.useState(!1),v=x=>{x.preventDefault();const _=x.target.elements.namedItem("topicName");_.value.trim()&&(l(t,e.id,_.value.trim()),_.value="",d(!1))};return f.jsxs("div",{className:"group transition-colors",children:[f.jsxs("div",{className:`flex items-center gap-3 p-4 pr-14 relative hover:bg-slate-50/80 dark:hover:bg-slate-700/50 cursor-pointer transition-colors ${e.isCompleted?"bg-slate-50/30 dark:bg-slate-700/30":""}`,onClick:i,children:[f.jsx("button",{className:"p-1 text-slate-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:f.jsx(Te.div,{animate:{rotate:n?180:0},transition:{duration:.2},children:f.jsx(T8,{className:"w-5 h-5"})})}),f.jsxs("div",{className:"flex-1",children:[f.jsx("span",{className:`block font-bold text-lg transition-all ${e.isCompleted?"text-emerald-700 dark:text-emerald-400":"text-slate-800 dark:text-slate-200"}`,children:e.name}),f.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[f.jsxs("span",{className:"text-xs text-slate-400 dark:text-slate-500 font-medium whitespace-nowrap transition-colors",children:[e.topics?.filter(x=>x.isCompleted).length||0,"/",e.topics?.length||0," Topics",e.isCompleted&&f.jsxs("span",{className:"text-emerald-600 dark:text-emerald-400 ml-2 font-bold inline-flex items-center gap-1",children:[f.jsx(ro,{className:"w-3 h-3"})," Done"]})]}),e.topics&&e.topics.length>0&&f.jsx("div",{className:"h-1.5 w-24 bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden flex-shrink-0 transition-colors",children:f.jsx(Te.div,{initial:{width:0},animate:{width:`${Math.round(e.topics.filter(x=>x.isCompleted).length/e.topics.length*100)}%`},transition:{duration:.5,ease:"easeOut"},className:`h-full ${e.isCompleted?"bg-emerald-500":"bg-blue-500"}`})})]})]}),f.jsxs("div",{className:"flex items-center gap-2 absolute right-4 top-1/2 -translate-y-1/2",children:[f.jsx(Te.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:x=>{x.stopPropagation(),d(!0),n||i()},className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/30 dark:hover:text-blue-400 rounded-lg transition-colors",title:"Add Topic",children:f.jsx($i,{className:"w-4 h-4"})}),f.jsx(Te.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:x=>{x.stopPropagation(),g(!0)},className:"p-2 text-slate-400 hover:text-amber-500 hover:bg-amber-50 dark:hover:bg-amber-900/30 dark:hover:text-amber-400 rounded-lg transition-colors",title:"Edit Chapter",children:f.jsx(zu,{className:"w-4 h-4"})}),f.jsx(Te.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:x=>{x.stopPropagation(),confirm("Delete this chapter?")&&a(t,e.id)},className:"p-2 text-slate-300 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/30 dark:hover:text-red-400 rounded-lg transition-colors",title:"Delete Chapter",children:f.jsx(rm,{className:"w-4 h-4"})})]})]}),f.jsx(hs,{children:n&&f.jsx(Te.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2,ease:"easeInOut"},className:"overflow-hidden bg-slate-50/50 dark:bg-slate-800/50 transition-colors",children:f.jsxs("div",{className:"pb-2",children:[e.topics&&e.topics.length>0?e.topics.map(x=>f.jsx(tz,{subjectId:t,chapterId:e.id,topic:x},x.id)):f.jsx("div",{className:"pl-12 py-3 text-sm text-slate-400 italic",children:"No topics yet. Click + to add one."}),c&&f.jsxs(Te.form,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},onSubmit:v,className:"pl-12 pr-4 py-2 flex items-center gap-2",children:[f.jsx(R8,{className:"w-4 h-4 text-slate-300 dark:text-slate-500"}),f.jsx("input",{autoFocus:!0,name:"topicName",type:"text",placeholder:"Topic name...",className:"flex-1 bg-white dark:bg-slate-700 px-3 py-1.5 rounded-lg border border-slate-200 dark:border-slate-600 text-sm text-slate-800 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-colors",onBlur:()=>setTimeout(()=>d(!1),200)}),f.jsx("button",{type:"submit",className:"hidden",children:"Add"})]})]})})}),m&&f.jsx(nz,{subjectId:t,chapterId:e.id,currentName:e.name,onClose:()=>g(!1)})]})}function iz(){const{id:t}=wI(),e=Df(),{subjects:n,deleteSubject:i}=Ht(),[a,l]=N.useState(!1),[c,d]=N.useState(!1),[m,g]=N.useState({}),v=n.find(L=>L.id===t);if(!v)return f.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[50vh] text-center p-8",children:[f.jsx("div",{className:"w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mb-4",children:f.jsx(qn,{className:"w-8 h-8 text-slate-300"})}),f.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Subject Not Found"}),f.jsx(Jt,{to:"/",className:"mt-4 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Go Back Home"})]});const x=()=>{confirm(`Are you sure you want to delete ${v.name}? ALL progress will be lost.`)&&(i(v.id),e("/"))},_=L=>{g(q=>({...q,[L]:!q[L]}))},E=v.chapters.length,R=v.chapters.filter(L=>L.isCompleted).length;let D=0;v.chapters.forEach(L=>{L.topics&&L.topics.length>0?D+=L.topics.filter(q=>q.isCompleted).length/L.topics.length*100:D+=L.isCompleted?100:0});const j=E===0?0:Math.round(D/E);return f.jsxs(om,{className:"max-w-3xl mx-auto pb-12",children:[f.jsxs("div",{className:"mb-8",children:[f.jsxs(Jt,{to:"/",className:"inline-flex items-center gap-2 text-slate-500 hover:text-slate-800 dark:text-slate-400 dark:hover:text-slate-200 mb-6 transition-colors group",children:[f.jsx(n8,{className:"w-4 h-4 group-hover:-translate-x-1 transition-transform"}),"Back to Dashboard"]}),f.jsxs("div",{className:"flex flex-col md:flex-row md:items-start justify-between gap-4",children:[f.jsxs("div",{children:[f.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1 rounded-full text-xs font-semibold text-white mb-3 ${v.color}`,children:[f.jsx(qn,{className:"w-3 h-3"}),v.name]}),f.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-800 dark:text-white transition-colors",children:v.name}),f.jsxs("p",{className:"text-slate-500 dark:text-slate-400 mt-2 transition-colors",children:[R," of ",E," chapters completed"]})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("button",{onClick:()=>d(!0),className:"text-slate-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/30 dark:hover:text-blue-400 p-2 rounded-lg transition-colors",title:"Edit Subject",children:f.jsx(zu,{className:"w-5 h-5"})}),f.jsx("button",{onClick:x,className:"text-red-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/30 dark:hover:text-red-400 p-2 rounded-lg transition-colors",title:"Delete Subject",children:f.jsx(rm,{className:"w-5 h-5"})})]})]}),f.jsxs("div",{className:"mt-6",children:[f.jsxs("div",{className:"flex justify-between items-end mb-2",children:[f.jsxs("span",{className:"text-3xl font-bold text-slate-800 dark:text-white transition-colors",children:[j,"%"]}),f.jsx("span",{className:"text-sm font-medium text-slate-400 dark:text-slate-500 transition-colors",children:"Progress"})]}),f.jsx("div",{className:"h-3 w-full bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden transition-colors",children:f.jsx(Te.div,{initial:{width:0},animate:{width:`${j}%`},transition:{duration:1,ease:"easeOut"},className:`h-full ${v.color}`})})]})]}),f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl border border-slate-100 dark:border-slate-700 shadow-sm overflow-hidden transition-colors",children:[f.jsxs("div",{className:"p-6 border-b border-slate-50 dark:border-slate-700 flex items-center justify-between bg-slate-50/50 dark:bg-slate-700/30 transition-colors",children:[f.jsx("h2",{className:"text-lg font-bold text-slate-800 dark:text-white transition-colors",children:"Syllabus / Chapters"}),f.jsxs(Te.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>l(!0),className:"bg-slate-900 hover:bg-slate-800 dark:bg-slate-700 dark:hover:bg-slate-600 text-white px-4 py-2 rounded-lg text-sm font-medium flex items-center gap-2 transition-colors",children:[f.jsx($i,{className:"w-4 h-4"}),"Add Chapter"]})]}),f.jsx("div",{className:"divide-y divide-slate-50 dark:divide-slate-700 transition-colors",children:v.chapters.length>0?v.chapters.map(L=>f.jsx(sz,{subjectId:v.id,chapter:L,isExpanded:!!m[L.id],onToggle:()=>_(L.id)},L.id)):f.jsxs("div",{className:"p-12 text-center",children:[f.jsx("div",{className:"w-16 h-16 bg-slate-50 dark:bg-slate-700/50 rounded-full flex items-center justify-center mx-auto mb-3 transition-colors",children:f.jsx(qn,{className:"w-6 h-6 text-slate-300 dark:text-slate-500"})}),f.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-4 transition-colors",children:"No chapters added yet."}),f.jsx("button",{onClick:()=>l(!0),className:"text-blue-600 dark:text-blue-400 font-medium hover:underline transition-colors",children:"Add your first chapter"})]})})]}),a&&f.jsx(W7,{subjectId:v.id,onClose:()=>l(!1)}),c&&f.jsx(Yv,{subject:v,onClose:()=>d(!1)})]})}const ON=N.createContext(void 0);function rz({children:t}){const[e,n]=N.useState(()=>typeof window<"u"&&localStorage.getItem("theme")?localStorage.getItem("theme"):typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");N.useEffect(()=>{const a=window.document.documentElement;a.classList.remove("light","dark"),a.classList.add(e),localStorage.setItem("theme",e)},[e]);const i=()=>{n(a=>a==="light"?"dark":"light")};return f.jsx(ON.Provider,{value:{theme:e,toggleTheme:i},children:t})}function PN(){const t=N.useContext(ON);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t}function az({onClose:t}){const[e,n]=N.useState(au[0].id),[i,a]=N.useState(new Set),l=au.find(m=>m.id===e),c=m=>{const g=new Set(i);g.has(m)?g.delete(m):g.add(m),a(g)},d=()=>{if(l)if(i.size===l.subjects.length)a(new Set);else{const m=new Set(l.subjects.map(g=>g.name));a(m)}};return f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm animate-in fade-in duration-200",children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl w-full max-w-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[f.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-slate-100 dark:border-slate-700",children:[f.jsxs("div",{children:[f.jsxs("h3",{className:"text-xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[f.jsx(qn,{className:"w-6 h-6 text-blue-600"}),"Import Syllabus"]}),f.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:"Select a curriculum to quick-start your study plan."})]}),f.jsx("button",{onClick:t,className:"p-2 text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full transition-colors",children:f.jsx(vi,{className:"w-5 h-5"})})]}),f.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col md:flex-row",children:[f.jsxs("div",{className:"w-full md:w-48 bg-slate-50 dark:bg-slate-900/50 border-r border-slate-100 dark:border-slate-700 p-4",children:[f.jsx("h4",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider mb-3",children:"Curriculums"}),f.jsx("div",{className:"space-y-2",children:au.map(m=>f.jsx("button",{onClick:()=>{n(m.id),a(new Set)},className:`w-full text-left px-3 py-2 rounded-lg text-sm font-medium transition-colors ${e===m.id?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400":"text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800"}`,children:m.name},m.id))})]}),f.jsxs("div",{className:"flex-1 p-6 overflow-y-auto",children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsxs("h4",{className:"font-semibold text-slate-800 dark:text-white",children:[l?.name," Subjects"]}),f.jsx("button",{onClick:d,className:"text-xs font-medium text-blue-600 dark:text-blue-400 hover:underline",children:i.size===l?.subjects.length?"Deselect All":"Select All"})]}),f.jsx("div",{className:"space-y-3",children:l?.subjects.map(m=>f.jsxs("div",{onClick:()=>c(m.name),className:`relative flex items-start gap-4 p-4 rounded-xl border cursor-pointer transition-all ${i.has(m.name)?"border-blue-500 bg-blue-50/50 dark:bg-blue-900/10":"border-slate-200 dark:border-slate-700 hover:border-slate-300 dark:hover:border-slate-600"}`,children:[f.jsx("div",{className:`mt-1 flex-shrink-0 w-5 h-5 rounded border flex items-center justify-center transition-colors ${i.has(m.name)?"bg-blue-500 border-blue-500":"bg-white dark:bg-slate-800 border-slate-300 dark:border-slate-600"}`,children:i.has(m.name)&&f.jsx(TN,{className:"w-3.5 h-3.5 text-white"})}),f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[f.jsx("span",{className:`font-semibold ${i.has(m.name)?"text-blue-700 dark:text-blue-300":"text-slate-700 dark:text-slate-300"}`,children:m.name}),f.jsxs("span",{className:"text-xs px-2 py-0.5 rounded-full bg-slate-100 dark:bg-slate-700 text-slate-500",children:[m.chapters.length," Chapters"]})]}),f.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 line-clamp-1",children:[m.chapters.slice(0,3).map(g=>g.name).join(", "),"..."]})]})]},m.name))})]})]}),f.jsxs("div",{className:"p-6 border-t border-slate-100 dark:border-slate-700 flex justify-end gap-3 bg-slate-50/50 dark:bg-slate-900/50",children:[f.jsx("button",{onClick:t,className:"px-5 py-2.5 rounded-xl font-medium text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors",children:"Cancel"}),f.jsx(oz,{count:i.size,currentTemplate:l,selectedSubjects:i,onClose:t})]})]})})}function oz({count:t,currentTemplate:e,selectedSubjects:n,onClose:i}){const{importSyllabusData:a}=Ht(),l=()=>{if(t===0||!e)return;const c=e.subjects.filter(d=>n.has(d.name));a(c),i()};return f.jsxs("button",{onClick:l,disabled:t===0,className:"px-6 py-2.5 rounded-xl font-medium bg-blue-600 hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed text-white shadow-lg shadow-blue-500/20 transition-all active:scale-95 flex items-center gap-2",children:[f.jsx(Kv,{className:"w-4 h-4"}),"Import ",t>0?`${t} Subjects`:""]})}function lz(){const{user:t,logout:e}=tr(),{userProfile:n,updateProfile:i,resetData:a,exportData:l,importData:c}=Ht(),{isMuted:d,toggleMute:m}=Qv(),{theme:g,toggleTheme:v}=PN(),x=N.useRef(null),_=N.useRef(null),[E,R]=N.useState(!1),[D,j]=N.useState(!1),[L,q]=N.useState("Notification"in window&&Notification.permission==="granted"),$=am(),Z=()=>{const S=x.current?.value.trim()||"",C=_.current?.value.trim()||"";if(!S){$.error("Please enter your name");return}i({name:S,grade:C}),j(!1),$.success("Profile updated successfully!")},ne=()=>{const S=document.createElement("input");S.type="file",S.accept=".json",S.onchange=C=>{const U=C.target.files?.[0];if(U){const P=new FileReader;P.onload=H=>{const M=H.target?.result;c(M)&&alert("Data imported successfully!")},P.readAsText(U)}},S.click()},de=()=>{confirm("Do you want to restart the welcome tour?")&&(localStorage.removeItem("tracked_tour_completed"),window.location.reload())},I=async()=>{if(!("Notification"in window)){alert("This browser does not support desktop notifications");return}if(Notification.permission==="granted")q(!L);else if(Notification.permission!=="denied"){const S=await Notification.requestPermission();q(S==="granted")}else alert("Notifications are blocked. Please enable them in your browser settings.")};return f.jsxs(om,{className:"max-w-2xl mx-auto space-y-8 pb-10",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[f.jsx(W0,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"}),f.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-white transition-colors",children:"Settings"})]}),f.jsxs(Te.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden transition-colors",children:[f.jsx("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700",children:f.jsxs("h2",{className:"text-lg font-semibold text-slate-800 dark:text-white flex items-center gap-2",children:[f.jsx(W0,{className:"w-5 h-5 text-blue-500"}),"Profile Information"]})}),f.jsxs("div",{className:"p-6 space-y-4",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1 transition-colors",children:"Student Name"}),f.jsx("input",{ref:x,type:"text",defaultValue:n?.name||"",disabled:!D,className:`w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all placeholder:text-slate-400 dark:placeholder:text-slate-500 ${D?"":"opacity-60 cursor-not-allowed bg-slate-50 dark:bg-slate-800/50"}`,placeholder:"Enter your name"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1 transition-colors",children:"Class / Grade"}),f.jsx("input",{ref:_,type:"text",defaultValue:n?.grade||"",disabled:!D,className:`w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all placeholder:text-slate-400 dark:placeholder:text-slate-500 ${D?"":"opacity-60 cursor-not-allowed bg-slate-50 dark:bg-slate-800/50"}`,placeholder:"e.g. HSC 2026"})]})]}),f.jsx("div",{className:"pt-2 flex gap-3",children:D?f.jsxs(f.Fragment,{children:[f.jsx("button",{onClick:()=>j(!1),className:"px-5 py-2.5 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-200 font-medium rounded-lg hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors text-sm",children:"Cancel"}),f.jsxs("button",{onClick:Z,className:"px-5 py-2.5 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition-colors flex items-center gap-2 text-sm shadow-sm",children:[f.jsx(Rf,{className:"w-4 h-4"}),"Save Changes"]})]}):f.jsxs("button",{onClick:()=>j(!0),className:"px-5 py-2.5 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-200 font-medium rounded-lg hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors flex items-center gap-2 text-sm",children:[f.jsx(IE,{className:"w-4 h-4"}),"Edit Profile"]})})]})]}),f.jsxs(Te.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden transition-colors",children:[f.jsx("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700",children:f.jsxs("h2",{className:"text-lg font-semibold text-slate-800 dark:text-white flex items-center gap-2",children:[f.jsx(J8,{className:"w-5 h-5 text-purple-500"}),"Appearance & Preferences"]})}),f.jsxs("div",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:[f.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:`p-2 rounded-lg ${g==="dark"?"bg-slate-700 text-slate-300":"bg-orange-100 text-orange-600"}`,children:g==="dark"?f.jsx(Cf,{className:"w-5 h-5"}):f.jsx(J0,{className:"w-5 h-5"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"App Theme"}),f.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Switch between light and dark mode"})]})]}),f.jsx("button",{onClick:v,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${g==="dark"?"bg-blue-600":"bg-slate-200"}`,children:f.jsx("span",{className:`${g==="dark"?"translate-x-6":"translate-x-1"} inline-block h-4 w-4 transform rounded-full bg-white transition-transform`})})]}),f.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:`p-2 rounded-lg ${d?"bg-slate-100 dark:bg-slate-700 text-slate-400":"bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400"}`,children:d?f.jsx(IN,{className:"w-5 h-5"}):f.jsx(RN,{className:"w-5 h-5"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"Sound Effects"}),f.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Play sounds for timer and interactions"})]})]}),f.jsx("button",{onClick:m,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${d?"bg-slate-200 dark:bg-slate-600":"bg-blue-600"}`,children:f.jsx("span",{className:`${d?"translate-x-1":"translate-x-6"} inline-block h-4 w-4 transform rounded-full bg-white transition-transform`})})]}),f.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:`p-2 rounded-lg ${L?"bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400":"bg-slate-100 dark:bg-slate-700 text-slate-400"}`,children:L?f.jsx(l8,{className:"w-5 h-5"}):f.jsx(a8,{className:"w-5 h-5"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"Notifications"}),f.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Get reminders for study sessions"})]})]}),f.jsx("button",{onClick:I,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${L?"bg-blue-600":"bg-slate-200 dark:bg-slate-600"}`,children:f.jsx("span",{className:`${L?"translate-x-6":"translate-x-1"} inline-block h-4 w-4 transform rounded-full bg-white transition-transform`})})]}),f.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"p-2 rounded-lg bg-pink-100 dark:bg-pink-900/30 text-pink-600 dark:text-pink-400",children:f.jsx(U8,{className:"w-5 h-5"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"Language"}),f.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"App language preference"})]})]}),f.jsxs("select",{className:"bg-transparent border border-slate-200 dark:border-slate-600 rounded-lg text-sm px-2 py-1 text-slate-700 dark:text-slate-300 focus:ring-2 focus:ring-blue-500 outline-none",children:[f.jsx("option",{children:"English"}),f.jsx("option",{disabled:!0,children:"Bengali (Coming Soon)"})]})]})]})]}),f.jsxs(Te.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden transition-colors",children:[f.jsx("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700",children:f.jsxs("h2",{className:"text-lg font-semibold text-slate-800 dark:text-white flex items-center gap-2",children:[f.jsx(Rf,{className:"w-5 h-5 text-green-500"}),"Data & Backup"]})}),f.jsxs("div",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:[f.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors cursor-pointer",onClick:()=>R(!0),children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"p-2 rounded-lg bg-indigo-100 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400",children:f.jsx(qn,{className:"w-5 h-5"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"Import Syllabus Template"}),f.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Quickly add pre-made subject templates"})]})]}),f.jsx("button",{className:"text-slate-400",children:f.jsx(IE,{className:"w-4 h-4"})})]}),f.jsxs("div",{className:"p-4 grid grid-cols-2 gap-4",children:[f.jsxs("button",{onClick:l,className:"flex items-center justify-center gap-2 py-2.5 border border-slate-200 dark:border-slate-600 rounded-lg text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors text-sm font-medium",children:[f.jsx(Kv,{className:"w-4 h-4"}),"Export Data"]}),f.jsxs("button",{onClick:ne,className:"flex items-center justify-center gap-2 py-2.5 border border-slate-200 dark:border-slate-600 rounded-lg text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors text-sm font-medium",children:[f.jsx(R7,{className:"w-4 h-4"}),"Import Data"]})]}),f.jsx("div",{className:"p-4 bg-red-50/50 dark:bg-red-900/10",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"p-2 rounded-lg bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400",children:f.jsx(rm,{className:"w-5 h-5"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-red-700 dark:text-red-400 font-medium",children:"Reset Application"}),f.jsx("p",{className:"text-xs text-red-600/70 dark:text-red-400/70",children:"Permanently delete all study data"})]})]}),f.jsx("button",{onClick:()=>{confirm("Are you absolutely sure? This cannot be undone.")&&a()},className:"px-4 py-2 bg-white dark:bg-slate-800 border border-red-200 dark:border-red-800 text-red-600 dark:text-red-400 font-medium rounded-lg hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors text-xs shadow-sm",children:"Reset Data"})]})})]})]}),f.jsxs(Te.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden transition-colors",children:[f.jsx("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700",children:f.jsxs("h2",{className:"text-lg font-semibold text-slate-800 dark:text-white flex items-center gap-2",children:[f.jsx(v7,{className:"w-5 h-5 text-gray-500"}),"Support & Info"]})}),f.jsxs("div",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:[f.jsx("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors cursor-pointer",onClick:de,children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"p-2 rounded-lg bg-cyan-100 dark:bg-cyan-900/30 text-cyan-600 dark:text-cyan-400",children:f.jsx(CN,{className:"w-5 h-5"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"Restart Welcome Tour"}),f.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Show the onboarding guide again"})]})]})}),f.jsx("a",{href:"https://chat.whatsapp.com/K9mUpCp6Moo4poVbW5zgfr",target:"_blank",rel:"noopener noreferrer",className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"p-2 rounded-lg bg-orange-100 dark:bg-orange-900/30 text-orange-600 dark:text-orange-400",children:f.jsx(m8,{className:"w-5 h-5"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"Report a Bug"}),f.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Report issues via our WhatsApp group"})]})]})}),f.jsx("a",{href:"https://chat.whatsapp.com/K9mUpCp6Moo4poVbW5zgfr",target:"_blank",rel:"noopener noreferrer",className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"p-2 rounded-lg bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400",children:f.jsx(AN,{className:"w-5 h-5"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"Join WhatsApp Group"}),f.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Get help & discuss with community"})]})]})}),f.jsx("div",{className:"p-4 bg-slate-50 dark:bg-slate-800/50 flex items-center justify-center",children:f.jsx("p",{className:"text-xs text-slate-400 font-medium",children:"TrackEd v1.0.0  Made with  for Students"})})]})]}),t&&f.jsxs(Te.button,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},onClick:e,className:"w-full p-4 rounded-xl border border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-400 font-medium hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors flex items-center justify-center gap-2",children:[f.jsx(Nf,{className:"w-5 h-5"}),"Sign Out"]}),f.jsx(hs,{children:E&&f.jsx(az,{onClose:()=>R(!1)})})]})}function Ch({title:t,value:e,icon:n,colorClass:i,bgClass:a,delay:l=0}){return f.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:l,type:"spring"},className:"bg-white dark:bg-slate-800 rounded-2xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm flex items-center justify-between transition-colors",children:[f.jsxs("div",{children:[f.jsxs("h3",{className:"text-slate-400 dark:text-slate-400 font-medium text-sm flex items-center gap-1.5 mb-2",children:[f.jsx(n,{className:`w-4 h-4 ${i}`})," ",t]}),f.jsx("div",{className:"text-3xl font-bold text-slate-800 dark:text-white transition-colors",children:e})]}),f.jsx("div",{className:`w-12 h-12 ${a} rounded-full flex items-center justify-center transition-colors`,children:f.jsx(n,{className:`w-6 h-6 ${i}`})})]})}function cz(t){let e=0,n=0,i=0,a=0;return t.forEach(l=>{e+=l.chapters.length,l.chapters.forEach(c=>{c.isCompleted&&n++,c.topics&&(i+=c.topics.length,c.topics.forEach(d=>{d.isCompleted&&a++}))})}),{totalChapters:e,completedChapters:n,totalTopics:i,completedTopics:a}}function uz(t){const e=new Date,i=Array.from({length:7},(l,c)=>{const d=new Date;return d.setDate(e.getDate()-(6-c)),d.toISOString().split("T")[0]}).map(l=>{let c=0;return t.forEach(d=>{d.chapters.forEach(m=>{m.topics&&m.topics.forEach(g=>{g.isCompleted&&g.completedAt&&g.completedAt.startsWith(l)&&c++})})}),{date:l,count:c}}),a=Math.max(...i.map(l=>l.count),1);return{activityData:i,maxCount:a}}function dz(t){const e=new Set;t.forEach(d=>d.chapters.forEach(m=>m.topics?.forEach(g=>{g.isCompleted&&g.completedAt&&e.add(g.completedAt.split("T")[0])})));const n=Array.from(e).sort((d,m)=>new Date(m).getTime()-new Date(d).getTime());let i=0;const a=new Date().toISOString().split("T")[0],l=new Date;l.setDate(l.getDate()-1);const c=l.toISOString().split("T")[0];if(n.length>0){const d=n[0];if(d===a||d===c){i=1;let m=new Date(d);for(let g=1;g<n.length;g++){const v=new Date(n[g]),x=Math.abs(m.getTime()-v.getTime());if(Math.round(x/(1e3*60*60*24))===1)i++,m=v;else break}}}return i}function hz(){const{subjects:t}=Ht(),{totalChapters:e,completedChapters:n,totalTopics:i,completedTopics:a}=cz(t),{activityData:l,maxCount:c}=uz(t),d=dz(t),m=i>0?Math.round(a/i*100):0,g={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}};return f.jsxs(om,{className:"max-w-4xl mx-auto pb-12",children:[f.jsxs("h1",{className:"text-3xl font-bold text-slate-800 dark:text-white mb-8 flex items-center gap-3 transition-colors",children:[f.jsx(Z0,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"}),"Study Analytics"]}),f.jsxs(Te.div,{variants:g,initial:"hidden",animate:"show",className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[f.jsx("div",{className:"sm:col-span-1",children:f.jsx(Ch,{title:"Total Streak",value:`${d} days`,icon:_N,colorClass:"text-orange-500",bgClass:"bg-orange-50 dark:bg-orange-900/20",delay:.1})}),f.jsx("div",{className:"sm:col-span-1",children:f.jsx(Ch,{title:"Topics Done",value:`${a} / ${i}`,icon:qn,colorClass:"text-blue-500",bgClass:"bg-blue-50 dark:bg-blue-900/20",delay:.2})}),f.jsx("div",{className:"sm:col-span-1",children:f.jsx(Ch,{title:"Chapters Done",value:`${n} / ${e}`,icon:Ja,colorClass:"text-amber-500",bgClass:"bg-amber-50 dark:bg-amber-900/20",delay:.3})}),f.jsx("div",{className:"sm:col-span-1",children:f.jsx(Ch,{title:"Completion",value:`${m}%`,icon:ro,colorClass:"text-emerald-500",bgClass:"bg-emerald-50 dark:bg-emerald-900/20",delay:.4})})]}),f.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[f.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"md:col-span-2 bg-white dark:bg-slate-800 p-6 rounded-3xl border border-slate-100 dark:border-slate-700 shadow-sm transition-colors",children:[f.jsxs("h2",{className:"text-lg font-bold text-slate-800 dark:text-white mb-6 flex items-center gap-2 transition-colors",children:[f.jsx(v8,{className:"w-5 h-5 text-slate-400"}),"Last 7 Days Activity"]}),f.jsx("div",{className:"flex items-end justify-between gap-2 h-48",children:l.map((v,x)=>f.jsxs("div",{className:"flex-1 flex flex-col items-center gap-2 group",children:[f.jsx("div",{className:"w-full bg-slate-100 dark:bg-slate-700 rounded-t-lg relative h-full flex items-end overflow-hidden transition-colors",children:f.jsx(Te.div,{initial:{height:0},animate:{height:`${v.count/c*100}%`},transition:{duration:1,delay:x*.1,ease:"easeOut"},className:"w-full bg-blue-500 dark:bg-blue-600 rounded-t-lg transition-colors duration-300 group-hover:bg-blue-600 dark:group-hover:bg-blue-500 relative",children:f.jsxs("div",{className:"absolute -top-8 left-1/2 -translate-x-1/2 bg-slate-800 text-white text-xs py-1 px-2 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10",children:[v.count," Topics"]})})}),f.jsx("span",{className:"text-xs text-slate-400 dark:text-slate-500 font-medium transition-colors",children:new Date(v.date).toLocaleDateString("en-US",{weekday:"short"})})]},v.date))})]}),f.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white dark:bg-slate-800 p-6 rounded-3xl border border-slate-100 dark:border-slate-700 shadow-sm transition-colors",children:[f.jsxs("h2",{className:"text-lg font-bold text-slate-800 dark:text-white mb-6 flex items-center gap-2 transition-colors",children:[f.jsx(qn,{className:"w-5 h-5 text-slate-400"}),"Subject Progress"]}),f.jsxs("div",{className:"space-y-4 max-h-[300px] overflow-y-auto pr-2 custom-scrollbar",children:[t.map(v=>{const x=v.chapters.reduce((R,D)=>R+(D.topics?.length||0),0),_=v.chapters.reduce((R,D)=>R+(D.topics?.filter(j=>j.isCompleted).length||0),0),E=x>0?Math.round(_/x*100):0;return f.jsxs("div",{children:[f.jsxs("div",{className:"flex justify-between items-center mb-1",children:[f.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 transition-colors",children:v.name}),f.jsxs("span",{className:"text-xs text-slate-400 dark:text-slate-500 transition-colors",children:[E,"%"]})]}),f.jsx("div",{className:"h-2 bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden transition-colors",children:f.jsx(Te.div,{initial:{width:0},animate:{width:`${E}%`},transition:{duration:1,ease:"easeOut"},className:`h-full ${v.color}`})})]},v.id)}),t.length===0&&f.jsx("div",{className:"text-center text-slate-400 text-sm py-8",children:"No subjects added."})]})]})]})]})}function fz(){const t=am(),{saveStudySession:e,subjects:n}=Ht(),{user:i}=tr(),{playSound:a,isMuted:l,toggleMute:c}=Qv(),[d,m]=N.useState("stopwatch"),[g,v]=N.useState(!1),[x,_]=N.useState(0),[E,R]=N.useState(0),[D,j]=N.useState(30),[L,q]=N.useState("timer"),[$,Z]=N.useState("today"),[ne,de]=N.useState(""),[I,S]=N.useState(""),[C,U]=N.useState(""),[P,H]=N.useState(!1),[M,ue]=N.useState([]),[Y,V]=N.useState(!0),F=N.useRef(null);N.useEffect(()=>{Notification.permission==="default"&&Notification.requestPermission()},[]);const G=(ge,Me)=>{Notification.permission==="granted"&&new Notification(ge,{body:Me,icon:"/vite.svg"})};N.useEffect(()=>(g?F.current=window.setInterval(()=>{_(ge=>d==="stopwatch"?ge+1:ge<=1?(v(!1),a("complete"),G("Time's Up! ","Your study session is complete. Take a break!"),0):ge-1)},1e3):F.current&&clearInterval(F.current),()=>{F.current&&clearInterval(F.current)}),[g,d,a]),N.useEffect(()=>{if(v(!1),H(!1),d==="stopwatch")_(0),R(0);else if(d==="pomodoro"||d==="countdown"){const ge=D*60;_(ge),R(ge)}},[d,D]),N.useEffect(()=>{(async()=>{if(i){V(!0);try{const Me=Ha(Gi,"users");let bt="userProfile.todayStudyTime";$==="week"?bt="userProfile.weeklyStudyTime":$==="month"?bt="userProfile.monthlyStudyTime":$==="all_time"&&(bt="userProfile.totalStudyTime");const en=sm(Me,Uv(bt,"desc"),Bv(10)),jn=await mN(en),xi=[];jn.forEach(Dn=>{const $n=Dn.data();if($n.userProfile){let Mn=0;$==="today"?Mn=$n.userProfile.todayStudyTime||0:$==="week"?Mn=$n.userProfile.weeklyStudyTime||0:$==="month"?Mn=$n.userProfile.monthlyStudyTime||0:Mn=$n.userProfile.totalStudyTime||0,xi.push({userId:Dn.id,userName:$n.userProfile.name||"Anonymous",displayTime:Mn})}}),ue(xi)}catch(Me){console.error("Error fetching leaderboard:",Me)}finally{V(!1)}}})()},[i,L,$]),N.useEffect(()=>(g?document.title=`${se(x)} - ${C||(d==="pomodoro"?"Focus":"Timer")}`:document.title="Study Tracker",()=>{document.title="Study Tracker"}),[g,x,d,C]);const he=()=>{!g&&d!=="stopwatch"&&x===0&&_(E),v(!g),a("click")},pe=()=>{v(!1),H(!1),_(d==="stopwatch"?0:E),a("click")},z=async()=>{if(!I){t.error("Please select a subject to save session.");return}let ge=0;if(d==="stopwatch"?ge=x:ge=E-x,ge<60){t.error("Session must be at least 1 minute to save.");return}await e(ge,I,C),H(!0),a("success"),t.success("Session Saved! Great Job.")},se=ge=>{const Me=Math.floor(ge/3600),bt=Math.floor(ge%3600/60),en=ge%60;return Me>0?`${Me}:${bt.toString().padStart(2,"0")}:${en.toString().padStart(2,"0")}`:`${bt.toString().padStart(2,"0")}:${en.toString().padStart(2,"0")}`},ce=ge=>{const Me=Math.floor(ge/3600),bt=Math.floor(ge%3600/60),en=ge%60;return`${Me.toString().padStart(2,"0")}:${bt.toString().padStart(2,"0")}:${en.toString().padStart(2,"0")}`},fe=d==="stopwatch"?100:Math.max(0,x/E*100),Ae=120,je=2*Math.PI*Ae,ke=je-fe/100*je;return f.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[f.jsxs("header",{className:"flex items-center justify-between",children:[f.jsx("div",{children:f.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-slate-900 dark:text-white transition-colors",children:"Focus Timer"})}),f.jsx("button",{onClick:c,className:"p-2 text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 transition-colors",children:l?f.jsx(IN,{className:"w-6 h-6"}):f.jsx(RN,{className:"w-6 h-6"})})]}),f.jsxs("div",{className:"flex p-1 bg-slate-100 dark:bg-slate-800 rounded-xl mb-6 md:hidden",children:[f.jsx("button",{onClick:()=>q("timer"),className:`flex-1 py-2 text-sm font-medium rounded-lg transition-all ${L==="timer"?"bg-white dark:bg-slate-700 text-blue-600 dark:text-blue-400 shadow-sm":"text-slate-500 dark:text-slate-400"}`,children:"Timer"}),f.jsx("button",{onClick:()=>q("leaderboard"),className:`flex-1 py-2 text-sm font-medium rounded-lg transition-all ${L==="leaderboard"?"bg-white dark:bg-slate-700 text-blue-600 dark:text-blue-400 shadow-sm":"text-slate-500 dark:text-slate-400"}`,children:"Leaderboard"})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[f.jsxs("div",{className:`${L==="timer"?"block":"hidden"} md:block flex flex-col space-y-6`,children:[f.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 transition-colors",children:[f.jsx("label",{className:"block text-sm font-medium text-slate-500 mb-2",children:"My Focus Goal"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("input",{type:"text",placeholder:"What are you working on? (e.g. Physics Chapter 3)",className:"flex-1 bg-slate-50 dark:bg-slate-700 border-none rounded-xl px-4 py-3 text-slate-800 dark:text-white placeholder:text-slate-400 focus:ring-2 focus:ring-blue-500 transition-all font-medium",value:C,onChange:ge=>U(ge.target.value),disabled:g}),f.jsxs("select",{className:"w-1/3 bg-slate-50 dark:bg-slate-700 border-none rounded-xl px-3 py-3 text-slate-600 dark:text-slate-300 font-medium focus:ring-2 focus:ring-blue-500 cursor-pointer text-sm",value:I,onChange:ge=>S(ge.target.value),disabled:g,children:[f.jsx("option",{value:"",children:"Subject"}),n.map(ge=>f.jsx("option",{value:ge.id,children:ge.name},ge.id))]})]})]}),f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl p-8 shadow-sm border border-slate-100 dark:border-slate-700 flex flex-col items-center justify-center relative overflow-hidden transition-colors min-h-[400px]",children:[f.jsxs("div",{className:"relative w-64 h-64 md:w-72 md:h-72 mb-8 flex items-center justify-center",children:[f.jsxs("svg",{className:"w-full h-full transform -rotate-90",children:[f.jsx("circle",{cx:"50%",cy:"50%",r:Ae,stroke:"currentColor",strokeWidth:"12",fill:"transparent",className:"text-slate-100 dark:text-slate-700"}),f.jsx("circle",{cx:"50%",cy:"50%",r:Ae,stroke:"currentColor",strokeWidth:"12",fill:"transparent",strokeDasharray:je,strokeDashoffset:d==="stopwatch"?0:ke,strokeLinecap:"round",className:`transition-all duration-1000 ease-linear ${g?d==="pomodoro"?"text-rose-500":"text-blue-500":"text-slate-300 dark:text-slate-600"}`})]}),f.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center z-10",children:[f.jsx("div",{className:`text-5xl md:text-6xl font-bold tracking-tight tabular-nums mb-2 ${g?d==="pomodoro"?"text-rose-500":"text-blue-600":"text-slate-800 dark:text-white"}`,children:se(x)}),f.jsx("div",{className:"text-slate-400 dark:text-slate-500 font-medium uppercase tracking-widest text-sm",children:g?"Running":"Paused"})]})]}),f.jsxs("div",{className:"flex items-center gap-6 z-10",children:[!g&&f.jsx("button",{onClick:pe,className:"p-3 rounded-full bg-slate-100 dark:bg-slate-700 text-slate-500 hover:bg-slate-200 dark:hover:bg-slate-600 transition-all hover:scale-110",title:"Reset",children:f.jsx(CN,{className:"w-5 h-5"})}),f.jsx("button",{onClick:he,className:`p-6 rounded-full shadow-xl transition-all hover:scale-105 active:scale-95 ${g?"bg-amber-100 text-amber-600 hover:bg-amber-200":"bg-blue-600 text-white hover:bg-blue-700"}`,children:g?f.jsx(t7,{className:"w-8 h-8 fill-current"}):f.jsx(NN,{className:"w-8 h-8 ml-1 fill-current"})}),!g&&(d==="stopwatch"&&x>60||d!=="stopwatch"&&x!==E)&&!P&&f.jsx("button",{onClick:z,className:"p-3 rounded-full bg-emerald-100 text-emerald-600 hover:bg-emerald-200 transition-all hover:scale-110 animate-pulse",title:"Save Session",children:f.jsx(Rf,{className:"w-5 h-5"})})]}),f.jsxs("div",{className:"mt-8 flex gap-2",children:[f.jsx("button",{onClick:()=>{m("stopwatch"),j(0)},className:`px-4 py-2 text-sm font-medium rounded-full transition-all ${d==="stopwatch"?"bg-blue-100 text-blue-700":"text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:"Stopwatch"}),f.jsx("button",{onClick:()=>{m("pomodoro"),j(25)},className:`px-4 py-2 text-sm font-medium rounded-full transition-all ${d==="pomodoro"?"bg-rose-100 text-rose-700":"text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:"Pomodoro"}),f.jsx("button",{onClick:()=>{m("countdown"),j(30)},className:`px-4 py-2 text-sm font-medium rounded-full transition-all ${d==="countdown"?"bg-amber-100 text-amber-700":"text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:"Countdown"})]}),!g&&(d==="pomodoro"||d==="countdown")&&f.jsxs("div",{className:"mt-4 flex items-center gap-2 animate-in fade-in slide-in-from-bottom-2",children:[f.jsx("span",{className:"text-slate-400 text-sm",children:"Duration:"}),f.jsx("input",{type:"range",min:"5",max:"120",step:"5",value:D,onChange:ge=>j(Number(ge.target.value)),className:"w-32 accent-blue-600 cursor-pointer"}),f.jsxs("span",{className:"text-slate-700 dark:text-slate-300 font-bold w-12 text-center",children:[D,"m"]})]})]})]}),f.jsxs("div",{className:`${L==="leaderboard"?"block":"hidden"} md:block bg-white dark:bg-slate-800 rounded-3xl p-6 shadow-xl border border-slate-100 dark:border-slate-700 h-fit transition-colors sticky top-24`,children:[f.jsxs("div",{className:"flex flex-col gap-4 mb-6",children:[f.jsx("div",{className:"flex items-center justify-between",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Ja,{className:"w-6 h-6 text-yellow-500"}),f.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Leaderboard"})]})}),f.jsxs("div",{className:"relative",children:[f.jsx("input",{type:"text",placeholder:"Search name...",value:ne,onChange:ge=>de(ge.target.value),className:"w-full pl-10 pr-4 py-3 bg-slate-50 dark:bg-slate-700/50 border border-slate-200 dark:border-slate-600 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500/50 text-slate-800 dark:text-white placeholder:text-slate-400 transition-all font-medium"}),f.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:f.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})})})]}),f.jsx("div",{className:"flex p-1.5 bg-slate-100 dark:bg-slate-700/50 rounded-xl",children:["today","week","month","all_time"].map(ge=>f.jsx("button",{onClick:()=>Z(ge),className:`flex-1 py-2 text-xs font-bold rounded-lg transition-all capitalize ${$===ge?"bg-blue-600 text-white shadow-md":"text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-200 hover:bg-white/50 dark:hover:bg-white/5"}`,children:ge==="all_time"?"Lifetime":ge==="today"?"24 Hours":ge==="week"?"7 Days":"1 Month"},ge))})]}),Y?f.jsxs("div",{className:"text-center py-12 text-slate-400 flex flex-col items-center",children:[f.jsx("div",{className:"w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mb-3"}),f.jsx("p",{className:"text-sm font-medium",children:"Loading rankings..."})]}):f.jsxs("div",{className:"space-y-3",children:[M.filter(ge=>ge.userName.toLowerCase().includes(ne.toLowerCase())).map((ge,Me)=>f.jsxs("div",{className:`flex items-center justify-between p-3 rounded-2xl transition-all ${ge.userId===i?.uid?"bg-blue-50/50 dark:bg-blue-900/20 border border-blue-100 dark:border-blue-800":"hover:bg-slate-50 dark:hover:bg-slate-700/30 border border-transparent"}`,children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsxs("div",{className:"font-bold text-slate-400 w-6 text-center text-sm",children:[Me+1,"."]}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:`
                                                w-10 h-10 rounded-full flex items-center justify-center font-bold text-lg shadow-sm border-2
                                                ${Me===0?"bg-yellow-100 text-yellow-600 border-yellow-200":Me===1?"bg-slate-200 text-slate-600 border-slate-300":Me===2?"bg-orange-100 text-orange-600 border-orange-200":"bg-slate-100 dark:bg-slate-700 text-slate-500 dark:text-slate-400 border-white dark:border-slate-600"}
                                            `,children:ge.userName.charAt(0).toUpperCase()}),f.jsxs("div",{children:[f.jsx("p",{className:`font-bold text-sm ${ge.userId===i?.uid?"text-blue-700 dark:text-blue-400":"text-slate-800 dark:text-white"}`,children:ge.userName}),f.jsxs("div",{className:"flex items-center gap-1.5 mt-0.5",children:[f.jsx("span",{className:`w-2 h-2 rounded-full ${ge.displayTime>3600?"bg-emerald-400":"bg-slate-300 dark:bg-slate-600"}`}),f.jsx("span",{className:"text-xs text-slate-400 font-medium",children:ge.displayTime>3600?"Studying":"Offline"})]})]})]})]}),f.jsx("div",{className:"text-right",children:f.jsx("div",{className:"font-bold text-blue-600 dark:text-blue-400 text-base md:text-lg tabular-nums tracking-tight",children:ce(ge.displayTime)})})]},ge.userId)),M.length===0&&f.jsxs("div",{className:"text-center py-10 px-6 text-slate-500 bg-slate-50 dark:bg-slate-700/30 rounded-2xl border border-dashed border-slate-200 dark:border-slate-700",children:[f.jsx("p",{className:"text-sm",children:"No records found for this period."}),f.jsx("p",{className:"text-xs mt-1 text-slate-400",children:"Be the first to start studying!"})]})]})]})]}),f.jsx(hs,{children:P&&f.jsxs(Te.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"fixed bottom-20 left-1/2 -translate-x-1/2 md:bottom-8 bg-slate-900 text-white px-6 py-3 rounded-full shadow-lg flex items-center gap-3 z-50",children:[f.jsx("div",{className:"bg-emerald-500 rounded-full p-1",children:f.jsx(ro,{className:"w-4 h-4 text-white"})}),f.jsx("span",{className:"font-medium",children:"Session Saved! Great Job."})]})})]})}const LN=N.createContext(void 0);function mz({children:t}){const{user:e}=tr(),n=am(),[i,a]=N.useState([]);N.useEffect(()=>{if(!e){a([]);return}const g=sm(Ha(Gi,"groups"),mU("memberIds","array-contains",e.uid)),v=Fv(g,x=>{const _=[];x.forEach(E=>{_.push({id:E.id,...E.data()})}),a(_)},x=>{console.error("Error loading groups:",x)});return()=>v()},[e]);const l=async(g,v)=>{if(e)try{const x={name:g,description:v,createdBy:e.uid,createdAt:new Date().toISOString(),members:[{userId:e.uid,name:e.displayName||"Unknown",joinedAt:new Date().toISOString(),role:"admin"}],memberIds:[e.uid],inviteCode:Math.random().toString(36).substring(2,8).toUpperCase()};await Q0(Ha(Gi,"groups"),x),n.success("Group created successfully!")}catch(x){console.error("Error creating group:",x),n.error("Failed to create group.")}},c=async g=>{console.log(g),e&&n.info("Join functionality coming soon!")},d=async g=>{console.log(g),e&&n.info("Leave functionality coming soon!")},m=async(g,v)=>{if(e)try{await Q0(Ha(Gi,"groups",g,"messages"),{senderId:e.uid,senderName:e.displayName||"User",text:v,timestamp:hU()})}catch(x){console.error("Error sending message:",x),n.error("Failed to send message.")}};return f.jsx(LN.Provider,{value:{groups:i,createGroup:l,joinGroup:c,leaveGroup:d,sendMessage:m},children:t})}function pz(){const t=N.useContext(LN);if(t===void 0)throw new Error("useSocial must be used within a SocialProvider");return t}function UN(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=UN(t[e]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}function gz(){for(var t,e,n=0,i="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=UN(t))&&(i&&(i+=" "),i+=e);return i}const yz=(t,e)=>{const n=new Array(t.length+e.length);for(let i=0;i<t.length;i++)n[i]=t[i];for(let i=0;i<e.length;i++)n[t.length+i]=e[i];return n},vz=(t,e)=>({classGroupId:t,validator:e}),zN=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),If="-",OE=[],xz="arbitrary..",bz=t=>{const e=wz(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:i}=t;return{getClassGroupId:c=>{if(c.startsWith("[")&&c.endsWith("]"))return _z(c);const d=c.split(If),m=d[0]===""&&d.length>1?1:0;return BN(d,m,e)},getConflictingClassGroupIds:(c,d)=>{if(d){const m=i[c],g=n[c];return m?g?yz(g,m):m:g||OE}return n[c]||OE}}},BN=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const a=t[e],l=n.nextPart.get(a);if(l){const g=BN(t,e+1,l);if(g)return g}const c=n.validators;if(c===null)return;const d=e===0?t.join(If):t.slice(e).join(If),m=c.length;for(let g=0;g<m;g++){const v=c[g];if(v.validator(d))return v.classGroupId}},_z=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),i=e.slice(0,n);return i?xz+i:void 0})(),wz=t=>{const{theme:e,classGroups:n}=t;return Tz(n,e)},Tz=(t,e)=>{const n=zN();for(const i in t){const a=t[i];Xv(a,n,i,e)}return n},Xv=(t,e,n,i)=>{const a=t.length;for(let l=0;l<a;l++){const c=t[l];Ez(c,e,n,i)}},Ez=(t,e,n,i)=>{if(typeof t=="string"){Sz(t,e,n);return}if(typeof t=="function"){Az(t,e,n,i);return}kz(t,e,n,i)},Sz=(t,e,n)=>{const i=t===""?e:FN(e,t);i.classGroupId=n},Az=(t,e,n,i)=>{if(Nz(t)){Xv(t(i),e,n,i);return}e.validators===null&&(e.validators=[]),e.validators.push(vz(n,t))},kz=(t,e,n,i)=>{const a=Object.entries(t),l=a.length;for(let c=0;c<l;c++){const[d,m]=a[c];Xv(m,FN(e,d),n,i)}},FN=(t,e)=>{let n=t;const i=e.split(If),a=i.length;for(let l=0;l<a;l++){const c=i[l];let d=n.nextPart.get(c);d||(d=zN(),n.nextPart.set(c,d)),n=d}return n},Nz=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,Cz=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),i=Object.create(null);const a=(l,c)=>{n[l]=c,e++,e>t&&(e=0,i=n,n=Object.create(null))};return{get(l){let c=n[l];if(c!==void 0)return c;if((c=i[l])!==void 0)return a(l,c),c},set(l,c){l in n?n[l]=c:a(l,c)}}},ty="!",PE=":",Rz=[],LE=(t,e,n,i,a)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:i,isExternal:a}),Iz=t=>{const{prefix:e,experimentalParseClassName:n}=t;let i=a=>{const l=[];let c=0,d=0,m=0,g;const v=a.length;for(let D=0;D<v;D++){const j=a[D];if(c===0&&d===0){if(j===PE){l.push(a.slice(m,D)),m=D+1;continue}if(j==="/"){g=D;continue}}j==="["?c++:j==="]"?c--:j==="("?d++:j===")"&&d--}const x=l.length===0?a:a.slice(m);let _=x,E=!1;x.endsWith(ty)?(_=x.slice(0,-1),E=!0):x.startsWith(ty)&&(_=x.slice(1),E=!0);const R=g&&g>m?g-m:void 0;return LE(l,E,_,R)};if(e){const a=e+PE,l=i;i=c=>c.startsWith(a)?l(c.slice(a.length)):LE(Rz,!1,c,void 0,!0)}if(n){const a=i;i=l=>n({className:l,parseClassName:a})}return i},jz=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,i)=>{e.set(n,1e6+i)}),n=>{const i=[];let a=[];for(let l=0;l<n.length;l++){const c=n[l],d=c[0]==="[",m=e.has(c);d||m?(a.length>0&&(a.sort(),i.push(...a),a=[]),i.push(c)):a.push(c)}return a.length>0&&(a.sort(),i.push(...a)),i}},Dz=t=>({cache:Cz(t.cacheSize),parseClassName:Iz(t),sortModifiers:jz(t),...bz(t)}),Mz=/\s+/,Vz=(t,e)=>{const{parseClassName:n,getClassGroupId:i,getConflictingClassGroupIds:a,sortModifiers:l}=e,c=[],d=t.trim().split(Mz);let m="";for(let g=d.length-1;g>=0;g-=1){const v=d[g],{isExternal:x,modifiers:_,hasImportantModifier:E,baseClassName:R,maybePostfixModifierPosition:D}=n(v);if(x){m=v+(m.length>0?" "+m:m);continue}let j=!!D,L=i(j?R.substring(0,D):R);if(!L){if(!j){m=v+(m.length>0?" "+m:m);continue}if(L=i(R),!L){m=v+(m.length>0?" "+m:m);continue}j=!1}const q=_.length===0?"":_.length===1?_[0]:l(_).join(":"),$=E?q+ty:q,Z=$+L;if(c.indexOf(Z)>-1)continue;c.push(Z);const ne=a(L,j);for(let de=0;de<ne.length;++de){const I=ne[de];c.push($+I)}m=v+(m.length>0?" "+m:m)}return m},Oz=(...t)=>{let e=0,n,i,a="";for(;e<t.length;)(n=t[e++])&&(i=HN(n))&&(a&&(a+=" "),a+=i);return a},HN=t=>{if(typeof t=="string")return t;let e,n="";for(let i=0;i<t.length;i++)t[i]&&(e=HN(t[i]))&&(n&&(n+=" "),n+=e);return n},Pz=(t,...e)=>{let n,i,a,l;const c=m=>{const g=e.reduce((v,x)=>x(v),t());return n=Dz(g),i=n.cache.get,a=n.cache.set,l=d,d(m)},d=m=>{const g=i(m);if(g)return g;const v=Vz(m,n);return a(m,v),v};return l=c,(...m)=>l(Oz(...m))},Lz=[],$t=t=>{const e=n=>n[t]||Lz;return e.isThemeGetter=!0,e},qN=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,GN=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Uz=/^\d+\/\d+$/,zz=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Bz=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Fz=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Hz=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,qz=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Yo=t=>Uz.test(t),Be=t=>!!t&&!Number.isNaN(Number(t)),Or=t=>!!t&&Number.isInteger(Number(t)),Xg=t=>t.endsWith("%")&&Be(t.slice(0,-1)),Ui=t=>zz.test(t),Gz=()=>!0,$z=t=>Bz.test(t)&&!Fz.test(t),$N=()=>!1,Kz=t=>Hz.test(t),Yz=t=>qz.test(t),Qz=t=>!be(t)&&!_e(t),Xz=t=>jl(t,QN,$N),be=t=>qN.test(t),Ma=t=>jl(t,XN,$z),Wg=t=>jl(t,tB,Be),UE=t=>jl(t,KN,$N),Wz=t=>jl(t,YN,Yz),Rh=t=>jl(t,WN,Kz),_e=t=>GN.test(t),Fc=t=>Dl(t,XN),Jz=t=>Dl(t,nB),zE=t=>Dl(t,KN),Zz=t=>Dl(t,QN),eB=t=>Dl(t,YN),Ih=t=>Dl(t,WN,!0),jl=(t,e,n)=>{const i=qN.exec(t);return i?i[1]?e(i[1]):n(i[2]):!1},Dl=(t,e,n=!1)=>{const i=GN.exec(t);return i?i[1]?e(i[1]):n:!1},KN=t=>t==="position"||t==="percentage",YN=t=>t==="image"||t==="url",QN=t=>t==="length"||t==="size"||t==="bg-size",XN=t=>t==="length",tB=t=>t==="number",nB=t=>t==="family-name",WN=t=>t==="shadow",sB=()=>{const t=$t("color"),e=$t("font"),n=$t("text"),i=$t("font-weight"),a=$t("tracking"),l=$t("leading"),c=$t("breakpoint"),d=$t("container"),m=$t("spacing"),g=$t("radius"),v=$t("shadow"),x=$t("inset-shadow"),_=$t("text-shadow"),E=$t("drop-shadow"),R=$t("blur"),D=$t("perspective"),j=$t("aspect"),L=$t("ease"),q=$t("animate"),$=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Z=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],ne=()=>[...Z(),_e,be],de=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto","contain","none"],S=()=>[_e,be,m],C=()=>[Yo,"full","auto",...S()],U=()=>[Or,"none","subgrid",_e,be],P=()=>["auto",{span:["full",Or,_e,be]},Or,_e,be],H=()=>[Or,"auto",_e,be],M=()=>["auto","min","max","fr",_e,be],ue=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Y=()=>["start","end","center","stretch","center-safe","end-safe"],V=()=>["auto",...S()],F=()=>[Yo,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...S()],G=()=>[t,_e,be],he=()=>[...Z(),zE,UE,{position:[_e,be]}],pe=()=>["no-repeat",{repeat:["","x","y","space","round"]}],z=()=>["auto","cover","contain",Zz,Xz,{size:[_e,be]}],se=()=>[Xg,Fc,Ma],ce=()=>["","none","full",g,_e,be],fe=()=>["",Be,Fc,Ma],Ae=()=>["solid","dashed","dotted","double"],je=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ke=()=>[Be,Xg,zE,UE],ge=()=>["","none",R,_e,be],Me=()=>["none",Be,_e,be],bt=()=>["none",Be,_e,be],en=()=>[Be,_e,be],jn=()=>[Yo,"full",...S()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ui],breakpoint:[Ui],color:[Gz],container:[Ui],"drop-shadow":[Ui],ease:["in","out","in-out"],font:[Qz],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ui],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ui],shadow:[Ui],spacing:["px",Be],text:[Ui],"text-shadow":[Ui],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Yo,be,_e,j]}],container:["container"],columns:[{columns:[Be,be,_e,d]}],"break-after":[{"break-after":$()}],"break-before":[{"break-before":$()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:ne()}],overflow:[{overflow:de()}],"overflow-x":[{"overflow-x":de()}],"overflow-y":[{"overflow-y":de()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:C()}],"inset-x":[{"inset-x":C()}],"inset-y":[{"inset-y":C()}],start:[{start:C()}],end:[{end:C()}],top:[{top:C()}],right:[{right:C()}],bottom:[{bottom:C()}],left:[{left:C()}],visibility:["visible","invisible","collapse"],z:[{z:[Or,"auto",_e,be]}],basis:[{basis:[Yo,"full","auto",d,...S()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Be,Yo,"auto","initial","none",be]}],grow:[{grow:["",Be,_e,be]}],shrink:[{shrink:["",Be,_e,be]}],order:[{order:[Or,"first","last","none",_e,be]}],"grid-cols":[{"grid-cols":U()}],"col-start-end":[{col:P()}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":U()}],"row-start-end":[{row:P()}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":M()}],"auto-rows":[{"auto-rows":M()}],gap:[{gap:S()}],"gap-x":[{"gap-x":S()}],"gap-y":[{"gap-y":S()}],"justify-content":[{justify:[...ue(),"normal"]}],"justify-items":[{"justify-items":[...Y(),"normal"]}],"justify-self":[{"justify-self":["auto",...Y()]}],"align-content":[{content:["normal",...ue()]}],"align-items":[{items:[...Y(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Y(),{baseline:["","last"]}]}],"place-content":[{"place-content":ue()}],"place-items":[{"place-items":[...Y(),"baseline"]}],"place-self":[{"place-self":["auto",...Y()]}],p:[{p:S()}],px:[{px:S()}],py:[{py:S()}],ps:[{ps:S()}],pe:[{pe:S()}],pt:[{pt:S()}],pr:[{pr:S()}],pb:[{pb:S()}],pl:[{pl:S()}],m:[{m:V()}],mx:[{mx:V()}],my:[{my:V()}],ms:[{ms:V()}],me:[{me:V()}],mt:[{mt:V()}],mr:[{mr:V()}],mb:[{mb:V()}],ml:[{ml:V()}],"space-x":[{"space-x":S()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":S()}],"space-y-reverse":["space-y-reverse"],size:[{size:F()}],w:[{w:[d,"screen",...F()]}],"min-w":[{"min-w":[d,"screen","none",...F()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[c]},...F()]}],h:[{h:["screen","lh",...F()]}],"min-h":[{"min-h":["screen","lh","none",...F()]}],"max-h":[{"max-h":["screen","lh",...F()]}],"font-size":[{text:["base",n,Fc,Ma]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,_e,Wg]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Xg,be]}],"font-family":[{font:[Jz,be,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,_e,be]}],"line-clamp":[{"line-clamp":[Be,"none",_e,Wg]}],leading:[{leading:[l,...S()]}],"list-image":[{"list-image":["none",_e,be]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",_e,be]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:G()}],"text-color":[{text:G()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ae(),"wavy"]}],"text-decoration-thickness":[{decoration:[Be,"from-font","auto",_e,Ma]}],"text-decoration-color":[{decoration:G()}],"underline-offset":[{"underline-offset":[Be,"auto",_e,be]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:S()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",_e,be]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",_e,be]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:he()}],"bg-repeat":[{bg:pe()}],"bg-size":[{bg:z()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Or,_e,be],radial:["",_e,be],conic:[Or,_e,be]},eB,Wz]}],"bg-color":[{bg:G()}],"gradient-from-pos":[{from:se()}],"gradient-via-pos":[{via:se()}],"gradient-to-pos":[{to:se()}],"gradient-from":[{from:G()}],"gradient-via":[{via:G()}],"gradient-to":[{to:G()}],rounded:[{rounded:ce()}],"rounded-s":[{"rounded-s":ce()}],"rounded-e":[{"rounded-e":ce()}],"rounded-t":[{"rounded-t":ce()}],"rounded-r":[{"rounded-r":ce()}],"rounded-b":[{"rounded-b":ce()}],"rounded-l":[{"rounded-l":ce()}],"rounded-ss":[{"rounded-ss":ce()}],"rounded-se":[{"rounded-se":ce()}],"rounded-ee":[{"rounded-ee":ce()}],"rounded-es":[{"rounded-es":ce()}],"rounded-tl":[{"rounded-tl":ce()}],"rounded-tr":[{"rounded-tr":ce()}],"rounded-br":[{"rounded-br":ce()}],"rounded-bl":[{"rounded-bl":ce()}],"border-w":[{border:fe()}],"border-w-x":[{"border-x":fe()}],"border-w-y":[{"border-y":fe()}],"border-w-s":[{"border-s":fe()}],"border-w-e":[{"border-e":fe()}],"border-w-t":[{"border-t":fe()}],"border-w-r":[{"border-r":fe()}],"border-w-b":[{"border-b":fe()}],"border-w-l":[{"border-l":fe()}],"divide-x":[{"divide-x":fe()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":fe()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ae(),"hidden","none"]}],"divide-style":[{divide:[...Ae(),"hidden","none"]}],"border-color":[{border:G()}],"border-color-x":[{"border-x":G()}],"border-color-y":[{"border-y":G()}],"border-color-s":[{"border-s":G()}],"border-color-e":[{"border-e":G()}],"border-color-t":[{"border-t":G()}],"border-color-r":[{"border-r":G()}],"border-color-b":[{"border-b":G()}],"border-color-l":[{"border-l":G()}],"divide-color":[{divide:G()}],"outline-style":[{outline:[...Ae(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Be,_e,be]}],"outline-w":[{outline:["",Be,Fc,Ma]}],"outline-color":[{outline:G()}],shadow:[{shadow:["","none",v,Ih,Rh]}],"shadow-color":[{shadow:G()}],"inset-shadow":[{"inset-shadow":["none",x,Ih,Rh]}],"inset-shadow-color":[{"inset-shadow":G()}],"ring-w":[{ring:fe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:G()}],"ring-offset-w":[{"ring-offset":[Be,Ma]}],"ring-offset-color":[{"ring-offset":G()}],"inset-ring-w":[{"inset-ring":fe()}],"inset-ring-color":[{"inset-ring":G()}],"text-shadow":[{"text-shadow":["none",_,Ih,Rh]}],"text-shadow-color":[{"text-shadow":G()}],opacity:[{opacity:[Be,_e,be]}],"mix-blend":[{"mix-blend":[...je(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":je()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Be]}],"mask-image-linear-from-pos":[{"mask-linear-from":ke()}],"mask-image-linear-to-pos":[{"mask-linear-to":ke()}],"mask-image-linear-from-color":[{"mask-linear-from":G()}],"mask-image-linear-to-color":[{"mask-linear-to":G()}],"mask-image-t-from-pos":[{"mask-t-from":ke()}],"mask-image-t-to-pos":[{"mask-t-to":ke()}],"mask-image-t-from-color":[{"mask-t-from":G()}],"mask-image-t-to-color":[{"mask-t-to":G()}],"mask-image-r-from-pos":[{"mask-r-from":ke()}],"mask-image-r-to-pos":[{"mask-r-to":ke()}],"mask-image-r-from-color":[{"mask-r-from":G()}],"mask-image-r-to-color":[{"mask-r-to":G()}],"mask-image-b-from-pos":[{"mask-b-from":ke()}],"mask-image-b-to-pos":[{"mask-b-to":ke()}],"mask-image-b-from-color":[{"mask-b-from":G()}],"mask-image-b-to-color":[{"mask-b-to":G()}],"mask-image-l-from-pos":[{"mask-l-from":ke()}],"mask-image-l-to-pos":[{"mask-l-to":ke()}],"mask-image-l-from-color":[{"mask-l-from":G()}],"mask-image-l-to-color":[{"mask-l-to":G()}],"mask-image-x-from-pos":[{"mask-x-from":ke()}],"mask-image-x-to-pos":[{"mask-x-to":ke()}],"mask-image-x-from-color":[{"mask-x-from":G()}],"mask-image-x-to-color":[{"mask-x-to":G()}],"mask-image-y-from-pos":[{"mask-y-from":ke()}],"mask-image-y-to-pos":[{"mask-y-to":ke()}],"mask-image-y-from-color":[{"mask-y-from":G()}],"mask-image-y-to-color":[{"mask-y-to":G()}],"mask-image-radial":[{"mask-radial":[_e,be]}],"mask-image-radial-from-pos":[{"mask-radial-from":ke()}],"mask-image-radial-to-pos":[{"mask-radial-to":ke()}],"mask-image-radial-from-color":[{"mask-radial-from":G()}],"mask-image-radial-to-color":[{"mask-radial-to":G()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":Z()}],"mask-image-conic-pos":[{"mask-conic":[Be]}],"mask-image-conic-from-pos":[{"mask-conic-from":ke()}],"mask-image-conic-to-pos":[{"mask-conic-to":ke()}],"mask-image-conic-from-color":[{"mask-conic-from":G()}],"mask-image-conic-to-color":[{"mask-conic-to":G()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:he()}],"mask-repeat":[{mask:pe()}],"mask-size":[{mask:z()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",_e,be]}],filter:[{filter:["","none",_e,be]}],blur:[{blur:ge()}],brightness:[{brightness:[Be,_e,be]}],contrast:[{contrast:[Be,_e,be]}],"drop-shadow":[{"drop-shadow":["","none",E,Ih,Rh]}],"drop-shadow-color":[{"drop-shadow":G()}],grayscale:[{grayscale:["",Be,_e,be]}],"hue-rotate":[{"hue-rotate":[Be,_e,be]}],invert:[{invert:["",Be,_e,be]}],saturate:[{saturate:[Be,_e,be]}],sepia:[{sepia:["",Be,_e,be]}],"backdrop-filter":[{"backdrop-filter":["","none",_e,be]}],"backdrop-blur":[{"backdrop-blur":ge()}],"backdrop-brightness":[{"backdrop-brightness":[Be,_e,be]}],"backdrop-contrast":[{"backdrop-contrast":[Be,_e,be]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Be,_e,be]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Be,_e,be]}],"backdrop-invert":[{"backdrop-invert":["",Be,_e,be]}],"backdrop-opacity":[{"backdrop-opacity":[Be,_e,be]}],"backdrop-saturate":[{"backdrop-saturate":[Be,_e,be]}],"backdrop-sepia":[{"backdrop-sepia":["",Be,_e,be]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":S()}],"border-spacing-x":[{"border-spacing-x":S()}],"border-spacing-y":[{"border-spacing-y":S()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",_e,be]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Be,"initial",_e,be]}],ease:[{ease:["linear","initial",L,_e,be]}],delay:[{delay:[Be,_e,be]}],animate:[{animate:["none",q,_e,be]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[D,_e,be]}],"perspective-origin":[{"perspective-origin":ne()}],rotate:[{rotate:Me()}],"rotate-x":[{"rotate-x":Me()}],"rotate-y":[{"rotate-y":Me()}],"rotate-z":[{"rotate-z":Me()}],scale:[{scale:bt()}],"scale-x":[{"scale-x":bt()}],"scale-y":[{"scale-y":bt()}],"scale-z":[{"scale-z":bt()}],"scale-3d":["scale-3d"],skew:[{skew:en()}],"skew-x":[{"skew-x":en()}],"skew-y":[{"skew-y":en()}],transform:[{transform:[_e,be,"","none","gpu","cpu"]}],"transform-origin":[{origin:ne()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:jn()}],"translate-x":[{"translate-x":jn()}],"translate-y":[{"translate-y":jn()}],"translate-z":[{"translate-z":jn()}],"translate-none":["translate-none"],accent:[{accent:G()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:G()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",_e,be]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":S()}],"scroll-mx":[{"scroll-mx":S()}],"scroll-my":[{"scroll-my":S()}],"scroll-ms":[{"scroll-ms":S()}],"scroll-me":[{"scroll-me":S()}],"scroll-mt":[{"scroll-mt":S()}],"scroll-mr":[{"scroll-mr":S()}],"scroll-mb":[{"scroll-mb":S()}],"scroll-ml":[{"scroll-ml":S()}],"scroll-p":[{"scroll-p":S()}],"scroll-px":[{"scroll-px":S()}],"scroll-py":[{"scroll-py":S()}],"scroll-ps":[{"scroll-ps":S()}],"scroll-pe":[{"scroll-pe":S()}],"scroll-pt":[{"scroll-pt":S()}],"scroll-pr":[{"scroll-pr":S()}],"scroll-pb":[{"scroll-pb":S()}],"scroll-pl":[{"scroll-pl":S()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",_e,be]}],fill:[{fill:["none",...G()]}],"stroke-w":[{stroke:[Be,Fc,Ma,Wg]}],stroke:[{stroke:["none",...G()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},iB=Pz(sB);function Qo(...t){return iB(gz(t))}const rB=t=>t?(typeof t=="object"&&"toDate"in t&&typeof t.toDate=="function"?t.toDate():new Date(t)).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"...";function aB(){const{user:t}=tr(),{groups:e,createGroup:n,joinGroup:i,sendMessage:a,leaveGroup:l}=pz(),[c,d]=N.useState(null),[m,g]=N.useState([]),[v,x]=N.useState(""),[_,E]=N.useState(!1),R=N.useRef(null);N.useEffect(()=>{const Z=window.innerWidth<768;!c&&e.length>0&&!Z&&d(e[0])},[e,c]),N.useEffect(()=>{if(!c)return;const Z=sm(Ha(Gi,"groups",c.id,"messages"),Uv("timestamp","asc"),Bv(50)),ne=Fv(Z,de=>{const I=[];de.forEach(S=>{I.push({id:S.id,...S.data()})}),g(I)},de=>console.error("Msg Load Err",de));return()=>{ne(),g([])}},[c]),N.useEffect(()=>{R.current?.scrollIntoView({behavior:"smooth"})},[m]);const D=async Z=>{Z.preventDefault(),!(!v.trim()||!c||_)&&(E(!0),await a(c.id,v.trim()),x(""),E(!1))},j=()=>{const Z=prompt("Enter Group Name:");if(!Z)return;const ne=prompt("Enter Description (optional):")||"";n(Z,ne)},L=()=>{const Z=prompt("Enter Invitation Code:");Z&&i(Z)},q=()=>{c&&confirm(`Leave group "${c.name}"?`)&&(l(c.id),d(null))},$=()=>{c&&(navigator.clipboard.writeText(c.inviteCode),alert("Invite code copied: "+c.inviteCode))};return f.jsxs(om,{className:"h-[calc(100vh-8rem)] md:h-[calc(100vh-4rem)] flex flex-col md:flex-row overflow-hidden",children:[f.jsx("div",{className:`md:hidden flex items-center justify-between p-4 bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700 ${c?"hidden":"flex"}`,children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(ru,{className:"w-6 h-6 text-indigo-500"}),f.jsx("span",{className:"font-bold text-slate-800 dark:text-white truncate max-w-[200px]",children:"Study Groups"})]})}),c&&f.jsxs("div",{className:"md:hidden flex items-center justify-between p-4 bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700",children:[f.jsxs("button",{onClick:()=>d(null),className:"flex items-center gap-2 text-slate-600 dark:text-slate-300",children:[f.jsx(Gv,{className:"w-5 h-5"}),f.jsx("span",{className:"font-medium",children:"Back"})]}),f.jsx("span",{className:"font-bold text-slate-800 dark:text-white truncate max-w-[150px]",children:c.name}),f.jsx("button",{onClick:q,className:"text-red-500",children:f.jsx(Nf,{className:"w-5 h-5"})})]}),f.jsxs("div",{className:`flex-col bg-slate-50 dark:bg-slate-900 border-r border-slate-200 dark:border-slate-700 w-full md:w-72 md:flex ${c?"hidden":"flex"}`,children:[f.jsx("div",{className:"p-4 border-b border-slate-200 dark:border-slate-700 hidden md:flex justify-between items-center",children:f.jsxs("h2",{className:"font-bold text-xl text-slate-800 dark:text-white flex items-center gap-2",children:[f.jsx(ru,{className:"w-6 h-6 text-indigo-500"}),"My Groups"]})}),f.jsxs("div",{className:"p-4 space-y-2",children:[f.jsxs("button",{onClick:j,className:"w-full flex items-center justify-center gap-2 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-medium transition-colors",children:[f.jsx($i,{className:"w-4 h-4"})," Create Group"]}),f.jsxs("button",{onClick:L,className:"w-full flex items-center justify-center gap-2 py-2 bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 hover:bg-slate-50 dark:hover:bg-slate-700 text-slate-700 dark:text-slate-200 rounded-lg font-medium transition-colors",children:[f.jsx(F8,{className:"w-4 h-4"})," Join via Code"]})]}),f.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-1",children:[e.length===0&&f.jsx("div",{className:"text-center text-slate-500 text-sm py-4",children:"You haven't joined any groups yet."}),e.map(Z=>f.jsxs("button",{onClick:()=>{d(Z)},className:Qo("w-full text-left px-3 py-3 rounded-xl flex items-center gap-3 transition-all",c?.id===Z.id?"bg-white dark:bg-slate-800 shadow-sm ring-1 ring-indigo-500/20":"hover:bg-slate-100 dark:hover:bg-slate-800"),children:[f.jsx("div",{className:Qo("w-10 h-10 rounded-full flex items-center justify-center text-white font-bold text-sm",c?.id===Z.id?"bg-indigo-500":"bg-slate-400"),children:Z.name[0].toUpperCase()}),f.jsxs("div",{children:[f.jsx("div",{className:Qo("font-medium text-sm",c?.id===Z.id?"text-indigo-900 dark:text-indigo-100":"text-slate-700 dark:text-slate-300"),children:Z.name}),f.jsxs("div",{className:"text-xs text-slate-500 truncate max-w-[140px]",children:[Z.members.length," members"]})]})]},Z.id))]})]}),f.jsx("div",{className:`flex-1 flex-col bg-white dark:bg-slate-800 relative md:flex ${c?"flex":"hidden"}`,children:c?f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"hidden md:flex items-center justify-between p-4 border-b border-slate-100 dark:border-slate-700 shadow-sm z-10",children:[f.jsxs("div",{children:[f.jsxs("h2",{className:"font-bold text-lg text-slate-800 dark:text-white flex items-center gap-2",children:[c.name,f.jsxs("span",{className:"text-xs font-normal px-2 py-0.5 bg-indigo-100 text-indigo-700 dark:bg-indigo-900 dark:text-indigo-300 rounded-full",children:[c.members.length," Members"]})]}),f.jsx("p",{className:"text-xs text-slate-500",children:c.description})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("button",{onClick:$,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg text-slate-500",title:"Copy Invite Code",children:f.jsx(M8,{className:"w-5 h-5"})}),f.jsx("button",{onClick:q,className:"p-2 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg text-red-500",title:"Leave Group",children:f.jsx(Nf,{className:"w-5 h-5"})})]})]}),f.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-slate-50/50 dark:bg-slate-900/50",children:[m.length===0&&f.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-slate-400",children:[f.jsx(AN,{className:"w-12 h-12 mb-2 opacity-50"}),f.jsx("p",{children:"No messages yet. Start the conversation!"}),f.jsxs("p",{className:"text-xs mt-2",children:["Invite Code: ",f.jsx("span",{className:"font-mono bg-slate-100 dark:bg-slate-800 px-1 rounded select-all",children:c.inviteCode})]})]}),m.map(Z=>{const ne=Z.senderId===t?.uid;return f.jsxs(Te.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:Qo("flex gap-3",ne?"flex-row-reverse":""),children:[f.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-100 dark:bg-indigo-900 flex items-center justify-center text-xs font-bold text-indigo-700 dark:text-indigo-300 flex-shrink-0",children:Z.senderName[0]}),f.jsxs("div",{className:Qo("max-w-[75%]",ne?"items-end":"items-start"),children:[f.jsxs("div",{className:"flex items-baseline gap-2 mb-1",children:[f.jsx("span",{className:"text-xs font-bold text-slate-600 dark:text-slate-400",children:Z.senderName}),f.jsx("span",{className:"text-[10px] text-slate-400",children:rB(Z.timestamp)})]}),f.jsx("div",{className:Qo("px-4 py-2 rounded-2xl text-sm shadow-sm",ne?"bg-indigo-600 text-white rounded-tr-sm":"bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-200 rounded-tl-sm"),children:Z.text})]})]},Z.id)}),f.jsx("div",{ref:R})]}),f.jsx("div",{className:"p-4 bg-white dark:bg-slate-800 border-t border-slate-200 dark:border-slate-700",children:f.jsxs("form",{onSubmit:D,className:"flex gap-2",children:[f.jsx("input",{value:v,onChange:Z=>x(Z.target.value),placeholder:`Message #${c.name}`,className:"flex-1 px-4 py-2 bg-slate-100 dark:bg-slate-900 rounded-xl border-none focus:ring-2 focus:ring-indigo-500"}),f.jsx("button",{disabled:_||!v.trim(),className:"p-2 bg-indigo-600 text-white rounded-xl hover:bg-indigo-700 disabled:opacity-50",children:_?f.jsx(K8,{className:"animate-spin w-5 h-5"}):f.jsx(p7,{className:"w-5 h-5"})})]})})]}):f.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-slate-400",children:[f.jsx(ru,{className:"w-16 h-16 mb-4 opacity-50"}),f.jsx("h3",{className:"text-lg font-medium text-slate-600 dark:text-slate-300",children:"Select a Group"}),f.jsx("p",{className:"max-w-xs text-center mt-2",children:"Join a study group or create your own to collaborate with friends."})]})})]})}function oB({steps:t,onComplete:e,onSkip:n}){const[i,a]=N.useState(0),[l,c]=N.useState(null),d=t[i];N.useEffect(()=>{if(d.targetId){const v=document.getElementById(d.targetId);v?(c(v.getBoundingClientRect()),v.scrollIntoView({behavior:"smooth",block:"center"})):c(null)}else c(null)},[i,d,t]);const m=()=>{i<t.length-1?a(v=>v+1):e()},g=()=>{i>0&&a(v=>v-1)};return f.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center pointer-events-none",children:[f.jsx("div",{className:"absolute inset-0 bg-black/60 pointer-events-none"}),l&&f.jsx(Te.div,{layoutId:"highlight-box",className:"absolute border-4 border-blue-500 rounded-xl shadow-[0_0_0_9999px_rgba(0,0,0,0.6)] pointer-events-none transition-all duration-300",style:{top:l.top-4,left:l.left-4,width:l.width+8,height:l.height+8}}),f.jsx(hs,{mode:"wait",children:f.jsxs(Te.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:`pointer-events-auto absolute bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-2xl border border-slate-100 dark:border-slate-700 max-w-sm w-full mx-4 ${l?"":"static"}`,style:l&&d.position!=="center"?{top:d.position==="bottom"?l.bottom+20:d.position==="top"?l.top-200:void 0,left:d.position==="right"?l.right+20:d.position==="left"?l.left-340:Math.max(16,l.left+l.width/2-160),marginTop:(d.position==="bottom",0)}:{},children:[f.jsxs("div",{className:"flex justify-between items-start mb-2",children:[f.jsxs("span",{className:"text-xs font-bold text-blue-600 dark:text-blue-400 uppercase tracking-wider",children:["Step ",i+1," of ",t.length]}),f.jsx("button",{onClick:n,className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200",children:f.jsx(vi,{className:"w-4 h-4"})})]}),f.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-2",children:d.title}),f.jsx("p",{className:"text-slate-600 dark:text-slate-300 mb-6 leading-relaxed",children:d.description}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("button",{onClick:g,disabled:i===0,className:`flex items-center gap-1 text-sm font-medium ${i===0?"text-slate-300":"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200"}`,children:[f.jsx(Gv,{className:"w-4 h-4"})," Back"]}),f.jsxs("button",{onClick:m,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-full font-medium text-sm flex items-center gap-2 shadow-sm transition-transform active:scale-95",children:[i===t.length-1?"Finish":"Next",i<t.length-1&&f.jsx(EN,{className:"w-4 h-4"})]})]})]},i)})]})}const lB="/Study-Mate/assets/logo-C0C7fgvJ.png";function cB({deferredPrompt:t,onInstall:e}){const[n,i]=N.useState(!1);N.useEffect(()=>{const l=setTimeout(()=>i(!0),3e3);return()=>clearTimeout(l)},[]);const a=()=>{i(!1)};return!n||!t?null:f.jsx(hs,{children:f.jsx(Te.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"fixed bottom-24 md:bottom-6 left-1/2 transform -translate-x-1/2 z-50 w-[90%] md:w-auto",children:f.jsxs("div",{className:"bg-slate-900/90 dark:bg-white/90 backdrop-blur-md text-white dark:text-slate-900 px-6 py-4 rounded-2xl shadow-2xl flex items-center gap-4 border border-white/10 dark:border-slate-200/20",children:[f.jsx("div",{className:"bg-indigo-500 rounded-xl p-2",children:f.jsx(Kv,{className:"w-5 h-5 text-white"})}),f.jsxs("div",{className:"flex-1",children:[f.jsx("h4",{className:"font-bold text-sm",children:"Install App"}),f.jsx("p",{className:"text-xs text-slate-300 dark:text-slate-600",children:"Add to home screen for better experience"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("button",{onClick:a,className:"p-2 hover:bg-white/10 dark:hover:bg-slate-200/50 rounded-lg transition-colors",children:f.jsx(vi,{className:"w-4 h-4"})}),f.jsx("button",{onClick:e,className:"bg-white dark:bg-slate-900 text-slate-900 dark:text-white px-4 py-2 rounded-lg text-sm font-bold shadow-lg active:scale-95 transition-transform",children:"Install"})]})]})})})}function uB(){const{userProfile:t}=Ht();N.useEffect(()=>{"Notification"in window&&Notification.permission==="default"&&Notification.requestPermission();const e=()=>{if(!("Notification"in window)||Notification.permission!=="granted")return;const a=t.lastStudyDate?new Date(t.lastStudyDate):null;if(!a)return;const l=new Date,c=Math.abs(l.getTime()-a.getTime()),d=Math.ceil(c/(1e3*60*60*24));if(d>=3){const m=localStorage.getItem("tracked_last_reminder"),g=m?new Date(m):null;(g?(l.getTime()-g.getTime())/(1e3*60*60):999)>24&&(new Notification("Miss you! ",{body:`It's been ${d} days since your last study session. Keep your streak alive!`,icon:"/pwa-icon.svg",tag:"inactivity-reminder"}),localStorage.setItem("tracked_last_reminder",l.toISOString()))}},n=()=>{if(!("Notification"in window)||Notification.permission!=="granted")return;const a=t.dailyGoal||7200,l=t.todayStudyTime||0,c=a-l;if(c>0&&c<=1800){const d=localStorage.getItem("tracked_goal_reminder"),m=new Date().toISOString().split("T")[0];d!==m&&(new Notification("Almost there! ",{body:"You're less than 30 minutes away from your daily goal. Finish strong!",icon:"/pwa-icon.svg",tag:"goal-reminder"}),localStorage.setItem("tracked_goal_reminder",m))}},i=setTimeout(()=>{e(),n()},5e3);return()=>clearTimeout(i)},[t.lastStudyDate,t.todayStudyTime,t.dailyGoal])}const dB=[{title:"Welcome to TrackEd! ",description:"Your personal companion for academic success. Let's take a quick tour to get you started.",position:"center"},{targetId:"add-subject-btn",title:"Add Your Subjects ",description:"Start by adding the subjects you want to track. You can organize them by chapters and topics.",position:"bottom"},{targetId:"nav-timer",title:"Focus Timer ",description:"Use the Pomodoro timer or stopwatch to track your study sessions and build streaks.",position:"right"},{targetId:"nav-settings",title:"Customize Experience ",description:"Manage your profile, data, and switch between light/dark modes here.",position:"top"}];function hB(){const{logout:t}=tr(),{theme:e,toggleTheme:n}=PN(),{userProfile:i}=Ht(),{currentTitle:a,nextLevelXP:l,progress:c}=ey(i.xp||0),d=i.level||1,m=Zi(),g=_I();uB();const[v,x]=N.useState(!1),[_,E]=N.useState(null);N.useEffect(()=>{localStorage.setItem("tracked_tour_completed","true");const L=q=>{q.preventDefault(),E(q)};return window.addEventListener("beforeinstallprompt",L),()=>window.removeEventListener("beforeinstallprompt",L)},[]);const R=()=>{x(!1),localStorage.setItem("tracked_tour_completed","true")},D=async()=>{if(!_)return;_.prompt();const{outcome:L}=await _.userChoice;L==="accepted"&&E(null)},j=L=>m.pathname===L;return f.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-slate-100 pb-20 md:pb-0 font-sans transition-colors duration-300",children:[v&&f.jsx(oB,{steps:dB,onComplete:R,onSkip:R}),f.jsxs("header",{className:"glass sticky top-0 z-20 px-4 py-3 flex items-center justify-between md:hidden transition-colors duration-300",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-tr from-blue-500 to-indigo-600 flex items-center justify-center text-white font-bold text-xs shadow-md",children:d}),f.jsx("div",{children:f.jsx("h1",{className:"text-lg font-bold bg-gradient-to-r from-blue-600 to-indigo-600 dark:from-blue-400 dark:to-indigo-400 bg-clip-text text-transparent",children:"TrackEd"})})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("button",{onClick:n,className:"p-2 text-slate-500 dark:text-slate-400 hover:bg-slate-100/50 dark:hover:bg-slate-700/50 rounded-full transition-colors backdrop-blur-sm","aria-label":"Toggle Theme",children:e==="light"?f.jsx(Cf,{className:"w-5 h-5"}):f.jsx(J0,{className:"w-5 h-5"})}),f.jsx(Jt,{to:"/settings",className:"p-2 text-slate-500 dark:text-slate-400 hover:bg-slate-100/50 dark:hover:bg-slate-700/50 rounded-full transition-colors backdrop-blur-sm",children:f.jsx(RE,{className:"w-5 h-5"})})]})]}),f.jsxs("div",{className:"md:flex max-w-7xl mx-auto",children:[f.jsxs("aside",{className:"hidden md:flex flex-col w-72 h-[calc(100vh-2rem)] sticky top-4 m-4 rounded-3xl glass shadow-2xl shadow-slate-200/60 dark:shadow-slate-900/50 p-6 transition-all duration-300 z-10",children:[f.jsxs("div",{className:"flex items-center justify-between mb-10 pl-2",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("img",{src:lB,alt:"TrackEd Logo",className:"w-10 h-10 rounded-xl object-contain shadow-md"}),f.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-white tracking-tight",children:"TrackEd"})]}),f.jsx("button",{onClick:n,className:"p-2 text-slate-500 dark:text-slate-400 hover:bg-slate-100/80 dark:hover:bg-slate-700/50 rounded-xl transition-colors","aria-label":"Toggle Theme",children:e==="light"?f.jsx(Cf,{className:"w-5 h-5"}):f.jsx(J0,{className:"w-5 h-5"})})]}),f.jsxs("div",{className:"mb-8 px-2",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[f.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-tr from-blue-500 to-indigo-600 flex items-center justify-center text-white font-bold text-lg shadow-lg shadow-blue-500/30 ring-2 ring-white dark:ring-slate-700",children:d}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-bold text-slate-800 dark:text-white leading-tight",children:i.name}),f.jsx("p",{className:"text-xs font-medium text-blue-600 dark:text-blue-400",children:a})]})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsxs("div",{className:"flex justify-between text-[10px] font-semibold text-slate-400 uppercase tracking-wider",children:[f.jsxs("span",{children:[i.xp," XP"]}),f.jsx("span",{children:l?`${l} XP`:"MAX"})]}),f.jsx("div",{className:"w-full h-2.5 bg-slate-100 dark:bg-slate-800 rounded-full overflow-hidden shadow-inner ring-1 ring-slate-900/5 dark:ring-white/5",children:f.jsx(Te.div,{className:"h-full bg-gradient-to-r from-blue-500 to-indigo-500 rounded-full",initial:{width:0},animate:{width:`${c}%`},transition:{duration:1,ease:"easeOut"}})})]})]}),f.jsxs("nav",{className:"space-y-1.5 flex-1",children:[f.jsxs(Jt,{to:"/",className:`flex items-center gap-3 px-4 py-3.5 rounded-xl transition-all duration-200 ${j("/")?"bg-blue-600 text-white shadow-lg shadow-blue-500/30 font-medium translate-x-1":"text-slate-600 dark:text-slate-400 hover:bg-slate-100/80 dark:hover:bg-slate-800/50 hover:text-slate-900 dark:hover:text-white"}`,children:[f.jsx(CE,{className:"w-5 h-5"}),"Dashboard"]}),f.jsxs(Jt,{to:"/planner",className:`flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200 group relative ${j("/planner")?"bg-gradient-to-r from-blue-600 to-indigo-600 text-white shadow-lg shadow-blue-500/30":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[f.jsx(X0,{className:`w-5 h-5 transition-transform group-hover:scale-110 ${j("/planner")?"text-white":"text-slate-500 group-hover:text-blue-600 dark:text-slate-500 dark:group-hover:text-blue-400"}`}),f.jsx("span",{className:"font-medium",children:"Planner"}),j("/planner")&&f.jsx(Te.div,{layoutId:"activeTab",className:"absolute left-0 w-1 h-8 bg-white rounded-r-full opacity-30"})]}),f.jsxs(Jt,{to:"/analytics",className:`flex items-center gap-3 px-4 py-3.5 rounded-xl transition-all duration-200 ${j("/analytics")?"bg-blue-600 text-white shadow-lg shadow-blue-500/30 font-medium translate-x-1":"text-slate-600 dark:text-slate-400 hover:bg-slate-100/80 dark:hover:bg-slate-800/50 hover:text-slate-900 dark:hover:text-white"}`,children:[f.jsx(Z0,{className:"w-5 h-5"}),"Analytics"]}),f.jsxs(Jt,{to:"/timer",id:"nav-timer",className:`flex items-center gap-3 px-4 py-3.5 rounded-xl transition-all duration-200 ${m.pathname==="/timer"?"bg-blue-600 text-white shadow-lg shadow-blue-500/30 font-medium translate-x-1":"text-slate-600 dark:text-slate-400 hover:bg-slate-100/80 dark:hover:bg-slate-800/50 hover:text-slate-900 dark:hover:text-white"}`,children:[f.jsx(jE,{className:"w-5 h-5"}),"Timer"]}),f.jsxs(Jt,{to:"/chat",className:`flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200 group relative ${j("/chat")?"bg-gradient-to-r from-blue-600 to-indigo-600 text-white shadow-lg shadow-blue-500/30":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[f.jsx(ru,{className:`w-5 h-5 transition-transform group-hover:scale-110 ${j("/chat")?"text-white":"text-slate-500 group-hover:text-blue-600 dark:text-slate-500 dark:group-hover:text-blue-400"}`}),f.jsx("span",{className:"font-medium",children:"Study Groups"}),j("/chat")&&f.jsx(Te.div,{layoutId:"activeTab",className:"absolute left-0 w-1 h-8 bg-white rounded-r-full opacity-30"})]}),f.jsxs(Jt,{to:"/settings",id:"nav-settings",className:`flex items-center gap-3 px-4 py-3.5 rounded-xl transition-all duration-200 ${j("/settings")?"bg-blue-600 text-white shadow-lg shadow-blue-500/30 font-medium translate-x-1":"text-slate-600 dark:text-slate-400 hover:bg-slate-100/80 dark:hover:bg-slate-800/50 hover:text-slate-900 dark:hover:text-white"}`,children:[f.jsx(RE,{className:"w-5 h-5"}),"Settings"]})]}),f.jsxs("div",{className:"mt-auto pt-6 border-t border-slate-200/50 dark:border-slate-700/50",children:[f.jsxs("button",{onClick:t,className:"flex items-center gap-3 px-4 py-3.5 rounded-xl text-slate-600 dark:text-slate-400 hover:bg-red-50 dark:hover:bg-red-900/20 hover:text-red-600 dark:hover:text-red-400 transition-colors w-full text-left mb-4 group",children:[f.jsx(Nf,{className:"w-5 h-5 group-hover:-translate-x-0.5 transition-transform"}),"Sign Out"]}),f.jsxs("div",{className:"text-xs text-center text-slate-400 dark:text-slate-500 font-medium",children:[f.jsx("p",{children:"Empowering Students"}),f.jsx("p",{className:"mt-1 opacity-70",children:" 2026 TrackEd"})]})]})]}),f.jsx("main",{className:"flex-1 p-4 md:p-8",children:f.jsx(hs,{mode:"wait",children:g&&N.cloneElement(g,{key:m.pathname})})})]}),f.jsxs("nav",{className:"fixed bottom-0 left-0 right-0 bg-white dark:bg-slate-800 border-t border-slate-200 dark:border-slate-700 flex justify-around pt-3 px-3 pb-[calc(0.75rem+env(safe-area-inset-bottom))] md:hidden z-20 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.05)] transition-colors duration-300",children:[f.jsxs(Jt,{to:"/",className:`flex flex-col items-center gap-1 text-xs ${j("/")?"text-blue-600 dark:text-blue-400 font-medium":"text-slate-400 dark:text-slate-500"}`,children:[f.jsx(CE,{className:"w-6 h-6"}),f.jsx("span",{children:"Home"})]}),f.jsxs(Jt,{to:"/planner",className:`flex flex-col items-center gap-1 text-xs ${j("/planner")?"text-blue-600 dark:text-blue-400 font-medium":"text-slate-400 dark:text-slate-500"}`,children:[f.jsx(X0,{className:"w-6 h-6"}),f.jsx("span",{children:"Planner"})]}),f.jsxs(Jt,{to:"/timer",className:`flex flex-col items-center gap-1 text-xs ${j("/timer")?"text-blue-600 dark:text-blue-400 font-medium":"text-slate-400 dark:text-slate-500"}`,children:[f.jsx(jE,{className:"w-6 h-6"}),f.jsx("span",{children:"Timer"})]}),f.jsxs(Jt,{to:"/chat",className:`flex flex-col items-center gap-1 text-xs ${j("/chat")?"text-blue-600 dark:text-blue-400 font-medium":"text-slate-400 dark:text-slate-500"}`,children:[f.jsx(ru,{className:"w-6 h-6"}),f.jsx("span",{children:"Groups"})]}),f.jsxs(Jt,{to:"/analytics",className:`flex flex-col items-center gap-1 text-xs ${j("/analytics")?"text-blue-600 dark:text-blue-400 font-medium":"text-slate-400 dark:text-slate-500"}`,children:[f.jsx(Z0,{className:"w-6 h-6"}),f.jsx("span",{children:"Stats"})]})]}),_&&f.jsx(cB,{deferredPrompt:_,onInstall:D})]})}function fB(){const{signInWithGoogle:t,user:e}=tr(),n=Df();return FE.useEffect(()=>{e&&n("/")},[e,n]),f.jsxs("div",{className:"min-h-screen flex items-center justify-center relative overflow-hidden bg-slate-50 dark:bg-slate-900 transition-colors",children:[f.jsxs("div",{className:"absolute inset-0 z-0",children:[f.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[40%] h-[40%] bg-blue-400/20 dark:bg-blue-600/10 rounded-full blur-3xl animate-pulse"}),f.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[40%] h-[40%] bg-indigo-400/20 dark:bg-indigo-600/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}}),f.jsx("div",{className:"absolute top-[20%] right-[10%] w-[20%] h-[20%] bg-purple-400/20 dark:bg-purple-600/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"2s"}})]}),f.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,ease:"easeOut"},className:"relative z-10 w-full max-w-md px-6",children:[f.jsxs("div",{className:"bg-white/80 dark:bg-slate-800/80 backdrop-blur-xl rounded-3xl shadow-2xl border border-white/50 dark:border-slate-700/50 p-8 md:p-12 text-center transition-colors",children:[f.jsx("div",{className:"flex justify-center mb-8",children:f.jsx("div",{className:"p-4 bg-indigo-600 rounded-2xl shadow-lg transform rotate-3 hover:rotate-6 transition-transform duration-300",children:f.jsx(SN,{className:"w-10 h-10 text-white"})})}),f.jsxs("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white mb-3 tracking-tight transition-colors",children:["Welcome to ",f.jsx("span",{className:"text-indigo-600 dark:text-indigo-400",children:"TrackEd"})]}),f.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-10 text-lg leading-relaxed transition-colors",children:"Master your study habits and achieve your goals."}),f.jsxs(Te.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:t,className:"group w-full relative flex items-center justify-center gap-3 py-3.5 px-6 border border-transparent rounded-xl shadow-md text-base font-semibold text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-all duration-200",children:[f.jsx("div",{className:"bg-white p-1 rounded-full",children:f.jsx("img",{src:"https://www.google.com/favicon.ico",alt:"G",className:"w-4 h-4"})}),f.jsx("span",{children:"Sign in with Google"}),f.jsx(qv,{className:"w-4 h-4 opacity-0 group-hover:opacity-100 group-hover:translate-x-1 transition-all"})]}),f.jsx("p",{className:"mt-8 text-xs text-slate-400 dark:text-slate-500 transition-colors",children:"By signing in, you agree to our Terms of Service and Privacy Policy."})]}),f.jsx("div",{className:"mt-8 text-center",children:f.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400 transition-colors",children:"Focus. Track. Succeed."})})]})]})}const mB=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];function pB(){const{subjects:t,userProfile:e,addScheduledSession:n,toggleScheduledSession:i,deleteScheduledSession:a,saveStudySession:l}=Ht(),[c,d]=N.useState(new Date),[m,g]=N.useState(new Date),[v,x]=N.useState(!1),[_,E]=N.useState({subjectId:"",chapterId:"",topicId:"",time:"18:00",durationMinutes:60,notes:""}),R=()=>{t.length>0&&E(Y=>({...Y,subjectId:t[0].id})),x(!0)},D=Y=>{if(Y.preventDefault(),!m||!_.subjectId)return;const V=m.getFullYear(),F=String(m.getMonth()+1).padStart(2,"0"),G=String(m.getDate()).padStart(2,"0"),he=`${V}-${F}-${G}`;n({subjectId:_.subjectId,date:he,time:_.time,durationMinutes:_.durationMinutes,chapterId:_.chapterId||void 0,topicId:_.topicId||void 0,notes:_.notes}),x(!1)},j=N.useMemo(()=>{if(!m||!e.scheduledSessions)return[];const Y=m.getFullYear(),V=String(m.getMonth()+1).padStart(2,"0"),F=String(m.getDate()).padStart(2,"0"),G=`${Y}-${V}-${F}`;return e.scheduledSessions.filter(he=>he.date===G)},[m,e.scheduledSessions]),L=Y=>{if(!e.scheduledSessions)return!1;const V=c.getFullYear(),F=String(c.getMonth()+1).padStart(2,"0"),G=String(Y).padStart(2,"0"),he=`${V}-${F}-${G}`;return e.scheduledSessions.some(pe=>pe.date===he&&!pe.isCompleted)},q=async Y=>{Y.isCompleted||confirm("Mark as done? Do you want to log this time to your stats?")&&await l(Y.durationMinutes*60,Y.subjectId),i(Y.id)},$=(Y,V)=>new Date(Y,V+1,0).getDate(),Z=(Y,V)=>new Date(Y,V,1).getDay(),ne=c.getFullYear(),de=c.getMonth(),I=$(ne,de),S=Z(ne,de),C=()=>d(new Date(ne,de-1,1)),U=()=>d(new Date(ne,de+1,1)),P=new Date,H=Y=>Y===P.getDate()&&de===P.getMonth()&&ne===P.getFullYear(),M=Y=>m&&Y===m.getDate()&&de===m.getMonth()&&ne===m.getFullYear(),ue=N.useMemo(()=>{const Y=[];return t.forEach(V=>{V.chapters.forEach(F=>{F.isCompleted||F.topics.forEach(G=>{G.isCompleted||Y.push({subjectName:V.name,chapterName:F.name,topicName:G.name,priority:Math.random()})})})}),Y.sort((V,F)=>F.priority-V.priority).slice(0,3)},[t]);return f.jsxs("div",{className:"space-y-6",children:[f.jsxs("header",{children:[f.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 dark:from-blue-400 dark:to-indigo-400 bg-clip-text text-transparent",children:"Study Planner"}),f.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Manage your schedule and stay on track."})]}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[f.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-slate-800 rounded-2xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[f.jsx(X0,{className:"w-5 h-5 text-blue-500"}),c.toLocaleString("default",{month:"long",year:"numeric"})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{onClick:C,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full transition-colors",children:f.jsx(Gv,{className:"w-5 h-5 text-slate-600 dark:text-slate-300"})}),f.jsx("button",{onClick:U,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full transition-colors",children:f.jsx(EN,{className:"w-5 h-5 text-slate-600 dark:text-slate-300"})})]})]}),f.jsx("div",{className:"grid grid-cols-7 gap-2 mb-2 text-center",children:mB.map(Y=>f.jsx("div",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider py-2",children:Y},Y))}),f.jsxs("div",{className:"grid grid-cols-7 gap-2",children:[Array.from({length:S}).map((Y,V)=>f.jsx("div",{className:"aspect-square"},`empty-${V}`)),Array.from({length:I}).map((Y,V)=>{const F=V+1,G=H(F)?"bg-blue-500 text-white shadow-lg shadow-blue-500/30 font-bold":"",he=M(F)&&!H(F)?"ring-2 ring-blue-500 bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 font-semibold":"";return f.jsxs(Te.div,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>g(new Date(ne,de,F)),className:`aspect-square rounded-xl flex items-center justify-center text-sm cursor-pointer transition-all hover:bg-slate-100 dark:hover:bg-slate-700 text-slate-700 dark:text-slate-300 relative ${G} ${he}`,children:[F,L(F)&&f.jsx("div",{className:"absolute bottom-1 w-1 h-1 bg-indigo-500 rounded-full"})]},F)})]})]}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsxs("h3",{className:"font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[f.jsx(j8,{className:"w-5 h-5 text-indigo-500"}),m?.toLocaleDateString([],{weekday:"long",month:"long",day:"numeric"})]}),f.jsx("button",{onClick:R,className:"text-sm font-medium text-indigo-600 dark:text-indigo-400 hover:underline",children:"+ Add"})]}),f.jsx("div",{className:"space-y-3 min-h-[100px]",children:j.length>0?j.map(Y=>{const V=t.find(G=>G.id===Y.subjectId);let F="";if(V&&Y.chapterId){const G=V.chapters.find(he=>he.id===Y.chapterId);if(G&&(F=G.name,Y.topicId)){const he=G.topics.find(pe=>pe.id===Y.topicId);he&&(F+=` > ${he.name}`)}}return f.jsxs("div",{className:"flex items-start gap-3 p-3 bg-slate-50 dark:bg-slate-900 rounded-xl border border-slate-100 dark:border-slate-700",children:[f.jsx("input",{type:"checkbox",checked:Y.isCompleted,onChange:()=>q(Y),className:"mt-1 w-4 h-4 text-indigo-600 rounded border-slate-300 focus:ring-indigo-500"}),f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsx("span",{className:`font-semibold text-sm ${Y.isCompleted?"line-through text-slate-400":"text-slate-800 dark:text-slate-200"}`,children:V?.name||"Unknown Subject"}),f.jsx("button",{onClick:()=>a(Y.id),className:"text-slate-400 hover:text-red-500",children:""})]}),F&&f.jsx("div",{className:"text-xs text-indigo-600 dark:text-indigo-400 font-medium mt-0.5",children:F}),f.jsxs("div",{className:"text-xs text-slate-500 mt-1 flex gap-2",children:[f.jsx("span",{className:"bg-indigo-50 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300 px-1.5 py-0.5 rounded",children:Y.time}),f.jsxs("span",{children:[Y.durationMinutes,"m"]})]}),Y.notes&&f.jsxs("p",{className:"text-xs text-slate-500 mt-1 italic",children:['"',Y.notes,'"']})]})]},Y.id)}):f.jsxs("div",{className:"text-center py-8 text-slate-400 text-sm",children:[f.jsx("p",{children:"No study sessions scheduled."}),f.jsx("button",{onClick:R,className:"mt-4 px-4 py-2 bg-indigo-50 text-indigo-600 dark:bg-indigo-900/20 dark:text-indigo-400 rounded-lg text-sm font-semibold hover:bg-indigo-100 dark:hover:bg-indigo-900/30 transition-colors",children:"+ Schedule Session"})]})})]}),f.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm transition-colors",children:f.jsx(MN,{})}),f.jsxs("div",{className:"bg-gradient-to-br from-indigo-500 to-purple-600 rounded-2xl p-6 text-white shadow-lg",children:[f.jsxs("h3",{className:"font-bold text-lg mb-1 flex items-center gap-2",children:[f.jsx($v,{className:"w-5 h-5"}),"Smart Suggestions"]}),f.jsx("p",{className:"text-indigo-100 text-sm mb-4",children:"Focus on these topics today:"}),f.jsx("div",{className:"space-y-3",children:ue.length>0?ue.map((Y,V)=>f.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-3 border border-white/10 hover:bg-white/20 transition-colors cursor-pointer",children:[f.jsx("div",{className:"text-xs font-medium text-indigo-200 uppercase tracking-wider mb-1",children:Y.subjectName}),f.jsx("div",{className:"font-semibold text-sm line-clamp-1",children:Y.topicName}),f.jsx("div",{className:"text-xs text-indigo-100 opacity-80 mt-0.5 line-clamp-1",children:Y.chapterName})]},V)):f.jsxs("div",{className:"text-center py-4 text-indigo-100",children:[f.jsx("p",{children:" All caught up!"}),f.jsx("p",{className:"text-xs opacity-70 mt-1",children:"Great job clearing your backlog."})]})})]})]})]}),v&&f.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50 backdrop-blur-sm",children:f.jsxs(Te.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl w-full max-w-md p-6",children:[f.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4",children:"Schedule Study Session"}),f.jsxs("form",{onSubmit:D,className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Subject"}),f.jsx("select",{value:_.subjectId,onChange:Y=>E({..._,subjectId:Y.target.value,chapterId:"",topicId:""}),className:"w-full px-4 py-2 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-200 focus:ring-2 focus:ring-indigo-500 outline-none",children:t.map(Y=>f.jsx("option",{value:Y.id,children:Y.name},Y.id))})]}),_.subjectId&&f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Chapter (Opt)"}),f.jsxs("select",{value:_.chapterId,onChange:Y=>E({..._,chapterId:Y.target.value,topicId:""}),className:"w-full px-4 py-2 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-200 focus:ring-2 focus:ring-indigo-500 outline-none text-sm",children:[f.jsx("option",{value:"",children:"Any Chapter"}),t.find(Y=>Y.id===_.subjectId)?.chapters.map(Y=>f.jsx("option",{value:Y.id,children:Y.name},Y.id))]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Topic (Opt)"}),f.jsxs("select",{value:_.topicId,onChange:Y=>E({..._,topicId:Y.target.value}),className:"w-full px-4 py-2 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-200 focus:ring-2 focus:ring-indigo-500 outline-none text-sm",disabled:!_.chapterId,children:[f.jsx("option",{value:"",children:"Any Topic"}),_.chapterId&&t.find(Y=>Y.id===_.subjectId)?.chapters.find(Y=>Y.id===_.chapterId)?.topics.map(Y=>f.jsx("option",{value:Y.id,children:Y.name},Y.id))]})]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Time"}),f.jsx("input",{type:"time",value:_.time,onChange:Y=>E({..._,time:Y.target.value}),className:"w-full px-4 py-2 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-200 focus:ring-2 focus:ring-indigo-500 outline-none"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Duration (mins)"}),f.jsx("input",{type:"number",min:"5",step:"5",value:_.durationMinutes,onChange:Y=>E({..._,durationMinutes:parseInt(Y.target.value)}),className:"w-full px-4 py-2 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-200 focus:ring-2 focus:ring-indigo-500 outline-none"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Notes (Optional)"}),f.jsx("textarea",{value:_.notes,onChange:Y=>E({..._,notes:Y.target.value}),placeholder:"What topics will you cover?",className:"w-full px-4 py-2 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-200 focus:ring-2 focus:ring-indigo-500 outline-none h-20 resize-none"})]}),f.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-slate-100 dark:border-slate-700",children:[f.jsx("button",{type:"button",onClick:()=>x(!1),className:"px-4 py-2 text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg font-medium",children:"Cancel"}),f.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white hover:bg-indigo-700 rounded-lg font-medium shadow-sm shadow-indigo-200 dark:shadow-none",children:"Schedule"})]})]})]})})]})}function gB({children:t}){const{user:e,loading:n}=tr();return n?f.jsx("div",{children:"Loading..."}):e?f.jsx(f.Fragment,{children:t}):f.jsx(OI,{to:"/login"})}function yB(){return f.jsx(V7,{children:f.jsx(L7,{children:f.jsx(mz,{children:f.jsx(l4,{basename:"/Study-Mate/",children:f.jsxs(LI,{children:[f.jsx(ni,{path:"/login",element:f.jsx(fB,{})}),f.jsxs(ni,{path:"/",element:f.jsx(gB,{children:f.jsx(hB,{})}),children:[f.jsx(ni,{index:!0,element:f.jsx(X7,{})}),f.jsx(ni,{path:"subject/:id",element:f.jsx(iz,{})}),f.jsx(ni,{path:"planner",element:f.jsx(pB,{})}),f.jsx(ni,{path:"analytics",element:f.jsx(hz,{})}),f.jsx(ni,{path:"timer",element:f.jsx(fz,{})}),f.jsx(ni,{path:"chat",element:f.jsx(aB,{})}),f.jsx(ni,{path:"settings",element:f.jsx(lz,{})})]})]})})})})})}class vB extends N.Component{state={hasError:!1,error:null};static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("Uncaught error:",e,n)}render(){return this.state.hasError?f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-red-50 p-4",children:f.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg max-w-lg w-full",children:[f.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Something went wrong"}),f.jsx("p",{className:"text-slate-600 mb-4",children:"We encountered an unexpected error."}),f.jsx("pre",{className:"bg-slate-100 p-4 rounded text-xs text-slate-800 overflow-auto mb-4",children:this.state.error?.message}),f.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Reload Page"})]})}):this.props.children}}console.log("TrackEd v1.1 - Dark Mode Enabled");PR.createRoot(document.getElementById("root")).render(f.jsx(FE.StrictMode,{children:f.jsx(vB,{children:f.jsx(QU,{children:f.jsx(rz,{children:f.jsx(Z7,{children:f.jsx(yB,{})})})})})}));
