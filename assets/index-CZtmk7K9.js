(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function LE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var rg={exports:{}},Pc={};var m1;function kR(){if(m1)return Pc;m1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:t,type:i,key:c,ref:a!==void 0?a:null,props:l}}return Pc.Fragment=e,Pc.jsx=n,Pc.jsxs=n,Pc}var p1;function NR(){return p1||(p1=1,rg.exports=kR()),rg.exports}var m=NR(),ag={exports:{}},Oe={};var g1;function CR(){if(g1)return Oe;g1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),_=Symbol.iterator;function S(z){return z===null||typeof z!="object"?null:(z=_&&z[_]||z["@@iterator"],typeof z=="function"?z:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,D={};function L(z,se,ce){this.props=z,this.context=se,this.refs=D,this.updater=ce||I}L.prototype.isReactComponent={},L.prototype.setState=function(z,se){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,se,"setState")},L.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function q(){}q.prototype=L.prototype;function K(z,se,ce){this.props=z,this.context=se,this.refs=D,this.updater=ce||I}var Z=K.prototype=new q;Z.constructor=K,M(Z,L.prototype),Z.isPureReactComponent=!0;var ne=Array.isArray;function de(){}var R={H:null,A:null,T:null,S:null},E=Object.prototype.hasOwnProperty;function C(z,se,ce){var fe=ce.ref;return{$$typeof:t,type:z,key:se,ref:fe!==void 0?fe:null,props:ce}}function U(z,se){return C(z.type,se,z.props)}function P(z){return typeof z=="object"&&z!==null&&z.$$typeof===t}function H(z){var se={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(ce){return se[ce]})}var j=/\/+/g;function ue(z,se){return typeof z=="object"&&z!==null&&z.key!=null?H(""+z.key):se.toString(36)}function G(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(de,de):(z.status="pending",z.then(function(se){z.status==="pending"&&(z.status="fulfilled",z.value=se)},function(se){z.status==="pending"&&(z.status="rejected",z.reason=se)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function V(z,se,ce,fe,Ae){var De=typeof z;(De==="undefined"||De==="boolean")&&(z=null);var ke=!1;if(z===null)ke=!0;else switch(De){case"bigint":case"string":case"number":ke=!0;break;case"object":switch(z.$$typeof){case t:case e:ke=!0;break;case v:return ke=z._init,V(ke(z._payload),se,ce,fe,Ae)}}if(ke)return Ae=Ae(z),ke=fe===""?"."+ue(z,0):fe,ne(Ae)?(ce="",ke!=null&&(ce=ke.replace(j,"$&/")+"/"),V(Ae,se,ce,"",function(xt){return xt})):Ae!=null&&(P(Ae)&&(Ae=U(Ae,ce+(Ae.key==null||z&&z.key===Ae.key?"":(""+Ae.key).replace(j,"$&/")+"/")+ke)),se.push(Ae)),1;ke=0;var ge=fe===""?".":fe+":";if(ne(z))for(var Me=0;Me<z.length;Me++)fe=z[Me],De=ge+ue(fe,Me),ke+=V(fe,se,ce,De,Ae);else if(Me=S(z),typeof Me=="function")for(z=Me.call(z),Me=0;!(fe=z.next()).done;)fe=fe.value,De=ge+ue(fe,Me++),ke+=V(fe,se,ce,De,Ae);else if(De==="object"){if(typeof z.then=="function")return V(G(z),se,ce,fe,Ae);throw se=String(z),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.")}return ke}function F(z,se,ce){if(z==null)return z;var fe=[],Ae=0;return V(z,fe,"","",function(De){return se.call(ce,De,Ae++)}),fe}function $(z){if(z._status===-1){var se=z._result;se=se(),se.then(function(ce){(z._status===0||z._status===-1)&&(z._status=1,z._result=ce)},function(ce){(z._status===0||z._status===-1)&&(z._status=2,z._result=ce)}),z._status===-1&&(z._status=0,z._result=se)}if(z._status===1)return z._result.default;throw z._result}var he=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var se=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(se))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},pe={map:F,forEach:function(z,se,ce){F(z,function(){se.apply(this,arguments)},ce)},count:function(z){var se=0;return F(z,function(){se++}),se},toArray:function(z){return F(z,function(se){return se})||[]},only:function(z){if(!P(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return Oe.Activity=b,Oe.Children=pe,Oe.Component=L,Oe.Fragment=n,Oe.Profiler=a,Oe.PureComponent=K,Oe.StrictMode=i,Oe.Suspense=f,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Oe.__COMPILER_RUNTIME={__proto__:null,c:function(z){return R.H.useMemoCache(z)}},Oe.cache=function(z){return function(){return z.apply(null,arguments)}},Oe.cacheSignal=function(){return null},Oe.cloneElement=function(z,se,ce){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var fe=M({},z.props),Ae=z.key;if(se!=null)for(De in se.key!==void 0&&(Ae=""+se.key),se)!E.call(se,De)||De==="key"||De==="__self"||De==="__source"||De==="ref"&&se.ref===void 0||(fe[De]=se[De]);var De=arguments.length-2;if(De===1)fe.children=ce;else if(1<De){for(var ke=Array(De),ge=0;ge<De;ge++)ke[ge]=arguments[ge+2];fe.children=ke}return C(z.type,Ae,fe)},Oe.createContext=function(z){return z={$$typeof:c,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:l,_context:z},z},Oe.createElement=function(z,se,ce){var fe,Ae={},De=null;if(se!=null)for(fe in se.key!==void 0&&(De=""+se.key),se)E.call(se,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(Ae[fe]=se[fe]);var ke=arguments.length-2;if(ke===1)Ae.children=ce;else if(1<ke){for(var ge=Array(ke),Me=0;Me<ke;Me++)ge[Me]=arguments[Me+2];Ae.children=ge}if(z&&z.defaultProps)for(fe in ke=z.defaultProps,ke)Ae[fe]===void 0&&(Ae[fe]=ke[fe]);return C(z,De,Ae)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(z){return{$$typeof:d,render:z}},Oe.isValidElement=P,Oe.lazy=function(z){return{$$typeof:v,_payload:{_status:-1,_result:z},_init:$}},Oe.memo=function(z,se){return{$$typeof:g,type:z,compare:se===void 0?null:se}},Oe.startTransition=function(z){var se=R.T,ce={};R.T=ce;try{var fe=z(),Ae=R.S;Ae!==null&&Ae(ce,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(de,he)}catch(De){he(De)}finally{se!==null&&ce.types!==null&&(se.types=ce.types),R.T=se}},Oe.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Oe.use=function(z){return R.H.use(z)},Oe.useActionState=function(z,se,ce){return R.H.useActionState(z,se,ce)},Oe.useCallback=function(z,se){return R.H.useCallback(z,se)},Oe.useContext=function(z){return R.H.useContext(z)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(z,se){return R.H.useDeferredValue(z,se)},Oe.useEffect=function(z,se){return R.H.useEffect(z,se)},Oe.useEffectEvent=function(z){return R.H.useEffectEvent(z)},Oe.useId=function(){return R.H.useId()},Oe.useImperativeHandle=function(z,se,ce){return R.H.useImperativeHandle(z,se,ce)},Oe.useInsertionEffect=function(z,se){return R.H.useInsertionEffect(z,se)},Oe.useLayoutEffect=function(z,se){return R.H.useLayoutEffect(z,se)},Oe.useMemo=function(z,se){return R.H.useMemo(z,se)},Oe.useOptimistic=function(z,se){return R.H.useOptimistic(z,se)},Oe.useReducer=function(z,se,ce){return R.H.useReducer(z,se,ce)},Oe.useRef=function(z){return R.H.useRef(z)},Oe.useState=function(z){return R.H.useState(z)},Oe.useSyncExternalStore=function(z,se,ce){return R.H.useSyncExternalStore(z,se,ce)},Oe.useTransition=function(){return R.H.useTransition()},Oe.version="19.2.4",Oe}var y1;function ty(){return y1||(y1=1,ag.exports=CR()),ag.exports}var N=ty();const UE=LE(N);var og={exports:{}},Lc={},lg={exports:{}},cg={};var v1;function RR(){return v1||(v1=1,(function(t){function e(V,F){var $=V.length;V.push(F);e:for(;0<$;){var he=$-1>>>1,pe=V[he];if(0<a(pe,F))V[he]=F,V[$]=pe,$=he;else break e}}function n(V){return V.length===0?null:V[0]}function i(V){if(V.length===0)return null;var F=V[0],$=V.pop();if($!==F){V[0]=$;e:for(var he=0,pe=V.length,z=pe>>>1;he<z;){var se=2*(he+1)-1,ce=V[se],fe=se+1,Ae=V[fe];if(0>a(ce,$))fe<pe&&0>a(Ae,ce)?(V[he]=Ae,V[fe]=$,he=fe):(V[he]=ce,V[se]=$,he=se);else if(fe<pe&&0>a(Ae,$))V[he]=Ae,V[fe]=$,he=fe;else break e}}return F}function a(V,F){var $=V.sortIndex-F.sortIndex;return $!==0?$:V.id-F.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var f=[],g=[],v=1,b=null,_=3,S=!1,I=!1,M=!1,D=!1,L=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;function Z(V){for(var F=n(g);F!==null;){if(F.callback===null)i(g);else if(F.startTime<=V)i(g),F.sortIndex=F.expirationTime,e(f,F);else break;F=n(g)}}function ne(V){if(M=!1,Z(V),!I)if(n(f)!==null)I=!0,de||(de=!0,H());else{var F=n(g);F!==null&&G(ne,F.startTime-V)}}var de=!1,R=-1,E=5,C=-1;function U(){return D?!0:!(t.unstable_now()-C<E)}function P(){if(D=!1,de){var V=t.unstable_now();C=V;var F=!0;try{e:{I=!1,M&&(M=!1,q(R),R=-1),S=!0;var $=_;try{t:{for(Z(V),b=n(f);b!==null&&!(b.expirationTime>V&&U());){var he=b.callback;if(typeof he=="function"){b.callback=null,_=b.priorityLevel;var pe=he(b.expirationTime<=V);if(V=t.unstable_now(),typeof pe=="function"){b.callback=pe,Z(V),F=!0;break t}b===n(f)&&i(f),Z(V)}else i(f);b=n(f)}if(b!==null)F=!0;else{var z=n(g);z!==null&&G(ne,z.startTime-V),F=!1}}break e}finally{b=null,_=$,S=!1}F=void 0}}finally{F?H():de=!1}}}var H;if(typeof K=="function")H=function(){K(P)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,ue=j.port2;j.port1.onmessage=P,H=function(){ue.postMessage(null)}}else H=function(){L(P,0)};function G(V,F){R=L(function(){V(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_next=function(V){switch(_){case 1:case 2:case 3:var F=3;break;default:F=_}var $=_;_=F;try{return V()}finally{_=$}},t.unstable_requestPaint=function(){D=!0},t.unstable_runWithPriority=function(V,F){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var $=_;_=V;try{return F()}finally{_=$}},t.unstable_scheduleCallback=function(V,F,$){var he=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?he+$:he):$=he,V){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=$+pe,V={id:v++,callback:F,priorityLevel:V,startTime:$,expirationTime:pe,sortIndex:-1},$>he?(V.sortIndex=$,e(g,V),n(f)===null&&V===n(g)&&(M?(q(R),R=-1):M=!0,G(ne,$-he))):(V.sortIndex=pe,e(f,V),I||S||(I=!0,de||(de=!0,H()))),V},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(V){var F=_;return function(){var $=_;_=F;try{return V.apply(this,arguments)}finally{_=$}}}})(cg)),cg}var b1;function IR(){return b1||(b1=1,lg.exports=RR()),lg.exports}var ug={exports:{}},hn={};var x1;function DR(){if(x1)return hn;x1=1;var t=ty();function e(f){var g="https://react.dev/errors/"+f;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+f+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(f,g,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:b==null?null:""+b,children:f,containerInfo:g,implementation:v}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,g){if(f==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return hn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,hn.createPortal=function(f,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(f,g,null,v)},hn.flushSync=function(f){var g=c.T,v=i.p;try{if(c.T=null,i.p=2,f)return f()}finally{c.T=g,i.p=v,i.d.f()}},hn.preconnect=function(f,g){typeof f=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(f,g))},hn.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},hn.preinit=function(f,g){if(typeof f=="string"&&g&&typeof g.as=="string"){var v=g.as,b=d(v,g.crossOrigin),_=typeof g.integrity=="string"?g.integrity:void 0,S=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?i.d.S(f,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:_,fetchPriority:S}):v==="script"&&i.d.X(f,{crossOrigin:b,integrity:_,fetchPriority:S,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},hn.preinitModule=function(f,g){if(typeof f=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=d(g.as,g.crossOrigin);i.d.M(f,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(f)},hn.preload=function(f,g){if(typeof f=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,b=d(v,g.crossOrigin);i.d.L(f,v,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},hn.preloadModule=function(f,g){if(typeof f=="string")if(g){var v=d(g.as,g.crossOrigin);i.d.m(f,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(f)},hn.requestFormReset=function(f){i.d.r(f)},hn.unstable_batchedUpdates=function(f,g){return f(g)},hn.useFormState=function(f,g,v){return c.H.useFormState(f,g,v)},hn.useFormStatus=function(){return c.H.useHostTransitionStatus()},hn.version="19.2.4",hn}var _1;function zE(){if(_1)return ug.exports;_1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ug.exports=DR(),ug.exports}var w1;function jR(){if(w1)return Lc;w1=1;var t=IR(),e=ty(),n=zE();function i(s){var r="https://react.dev/errors/"+s;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+s+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function l(s){var r=s,o=s;if(s.alternate)for(;r.return;)r=r.return;else{s=r;do r=s,(r.flags&4098)!==0&&(o=r.return),s=r.return;while(s)}return r.tag===3?o:null}function c(s){if(s.tag===13){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function d(s){if(s.tag===31){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function f(s){if(l(s)!==s)throw Error(i(188))}function g(s){var r=s.alternate;if(!r){if(r=l(s),r===null)throw Error(i(188));return r!==s?null:s}for(var o=s,u=r;;){var p=o.return;if(p===null)break;var y=p.alternate;if(y===null){if(u=p.return,u!==null){o=u;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===o)return f(p),s;if(y===u)return f(p),r;y=y.sibling}throw Error(i(188))}if(o.return!==u.return)o=p,u=y;else{for(var w=!1,A=p.child;A;){if(A===o){w=!0,o=p,u=y;break}if(A===u){w=!0,u=p,o=y;break}A=A.sibling}if(!w){for(A=y.child;A;){if(A===o){w=!0,o=y,u=p;break}if(A===u){w=!0,u=y,o=p;break}A=A.sibling}if(!w)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?s:r}function v(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s;for(s=s.child;s!==null;){if(r=v(s),r!==null)return r;s=s.sibling}return null}var b=Object.assign,_=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),q=Symbol.for("react.consumer"),K=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),ne=Symbol.for("react.suspense"),de=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function H(s){return s===null||typeof s!="object"?null:(s=P&&s[P]||s["@@iterator"],typeof s=="function"?s:null)}var j=Symbol.for("react.client.reference");function ue(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===j?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case M:return"Fragment";case L:return"Profiler";case D:return"StrictMode";case ne:return"Suspense";case de:return"SuspenseList";case C:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case I:return"Portal";case K:return s.displayName||"Context";case q:return(s._context.displayName||"Context")+".Consumer";case Z:var r=s.render;return s=s.displayName,s||(s=r.displayName||r.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case R:return r=s.displayName||null,r!==null?r:ue(s.type)||"Memo";case E:r=s._payload,s=s._init;try{return ue(s(r))}catch{}}return null}var G=Array.isArray,V=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$={pending:!1,data:null,method:null,action:null},he=[],pe=-1;function z(s){return{current:s}}function se(s){0>pe||(s.current=he[pe],he[pe]=null,pe--)}function ce(s,r){pe++,he[pe]=s.current,s.current=r}var fe=z(null),Ae=z(null),De=z(null),ke=z(null);function ge(s,r){switch(ce(De,r),ce(Ae,s),ce(fe,null),r.nodeType){case 9:case 11:s=(s=r.documentElement)&&(s=s.namespaceURI)?P_(s):0;break;default:if(s=r.tagName,r=r.namespaceURI)r=P_(r),s=L_(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}se(fe),ce(fe,s)}function Me(){se(fe),se(Ae),se(De)}function xt(s){s.memoizedState!==null&&ce(ke,s);var r=fe.current,o=L_(r,s.type);r!==o&&(ce(Ae,s),ce(fe,o))}function en(s){Ae.current===s&&(se(fe),se(Ae)),ke.current===s&&(se(ke),jc._currentValue=$)}var Dn,vi;function jn(s){if(Dn===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);Dn=r&&r[1]||"",vi=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Dn+s+vi}var Gn=!1;function Mn(s,r){if(!s||Gn)return"";Gn=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(te){var J=te}Reflect.construct(s,[],ae)}else{try{ae.call()}catch(te){J=te}s.call(ae.prototype)}}else{try{throw Error()}catch(te){J=te}(ae=s())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(te){if(te&&J&&typeof te.stack=="string")return[te.stack,J.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=u.DetermineComponentFrameRoot(),w=y[0],A=y[1];if(w&&A){var O=w.split(`
`),W=A.split(`
`);for(p=u=0;u<O.length&&!O[u].includes("DetermineComponentFrameRoot");)u++;for(;p<W.length&&!W[p].includes("DetermineComponentFrameRoot");)p++;if(u===O.length||p===W.length)for(u=O.length-1,p=W.length-1;1<=u&&0<=p&&O[u]!==W[p];)p--;for(;1<=u&&0<=p;u--,p--)if(O[u]!==W[p]){if(u!==1||p!==1)do if(u--,p--,0>p||O[u]!==W[p]){var ie=`
`+O[u].replace(" at new "," at ");return s.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",s.displayName)),ie}while(1<=u&&0<=p);break}}}finally{Gn=!1,Error.prepareStackTrace=o}return(o=s?s.displayName||s.name:"")?jn(o):""}function Ml(s,r){switch(s.tag){case 26:case 27:case 5:return jn(s.type);case 16:return jn("Lazy");case 13:return s.child!==r&&r!==null?jn("Suspense Fallback"):jn("Suspense");case 19:return jn("SuspenseList");case 0:case 15:return Mn(s.type,!1);case 11:return Mn(s.type.render,!1);case 1:return Mn(s.type,!0);case 31:return jn("Activity");default:return""}}function Vl(s){try{var r="",o=null;do r+=Ml(s,o),o=s,s=s.return;while(s);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Ct=Object.prototype.hasOwnProperty,Ht=t.unstable_scheduleCallback,tr=t.unstable_cancelCallback,om=t.unstable_shouldYield,Uu=t.unstable_requestPaint,bn=t.unstable_now,sa=t.unstable_getCurrentPriorityLevel,Ol=t.unstable_ImmediatePriority,Pl=t.unstable_UserBlockingPriority,nr=t.unstable_NormalPriority,lm=t.unstable_LowPriority,zu=t.unstable_IdlePriority,Bu=t.log,Fu=t.unstable_setDisableYieldValue,hs=null,tn=null;function $n(s){if(typeof Bu=="function"&&Fu(s),tn&&typeof tn.setStrictMode=="function")try{tn.setStrictMode(hs,s)}catch{}}var Et=Math.clz32?Math.clz32:qu,Hu=Math.log,ro=Math.LN2;function qu(s){return s>>>=0,s===0?32:31-(Hu(s)/ro|0)|0}var Vs=256,ia=262144,Rt=4194304;function Os(s){var r=s&42;if(r!==0)return r;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Ps(s,r,o){var u=s.pendingLanes;if(u===0)return 0;var p=0,y=s.suspendedLanes,w=s.pingedLanes;s=s.warmLanes;var A=u&134217727;return A!==0?(u=A&~y,u!==0?p=Os(u):(w&=A,w!==0?p=Os(w):o||(o=A&~s,o!==0&&(p=Os(o))))):(A=u&~y,A!==0?p=Os(A):w!==0?p=Os(w):o||(o=u&~s,o!==0&&(p=Os(o)))),p===0?0:r!==0&&r!==p&&(r&y)===0&&(y=p&-p,o=r&-r,y>=o||y===32&&(o&4194048)!==0)?r:p}function fs(s,r){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&r)===0}function cm(s,r){switch(s){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gu(){var s=Rt;return Rt<<=1,(Rt&62914560)===0&&(Rt=4194304),s}function Ls(s){for(var r=[],o=0;31>o;o++)r.push(s);return r}function ra(s,r){s.pendingLanes|=r,r!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function um(s,r,o,u,p,y){var w=s.pendingLanes;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=o,s.entangledLanes&=o,s.errorRecoveryDisabledLanes&=o,s.shellSuspendCounter=0;var A=s.entanglements,O=s.expirationTimes,W=s.hiddenUpdates;for(o=w&~o;0<o;){var ie=31-Et(o),ae=1<<ie;A[ie]=0,O[ie]=-1;var J=W[ie];if(J!==null)for(W[ie]=null,ie=0;ie<J.length;ie++){var te=J[ie];te!==null&&(te.lane&=-536870913)}o&=~ae}u!==0&&aa(s,u,0),y!==0&&p===0&&s.tag!==0&&(s.suspendedLanes|=y&~(w&~r))}function aa(s,r,o){s.pendingLanes|=r,s.suspendedLanes&=~r;var u=31-Et(r);s.entangledLanes|=r,s.entanglements[u]=s.entanglements[u]|1073741824|o&261930}function Ll(s,r){var o=s.entangledLanes|=r;for(s=s.entanglements;o;){var u=31-Et(o),p=1<<u;p&r|s[u]&r&&(s[u]|=r),o&=~p}}function Ul(s,r){var o=r&-r;return o=(o&42)!==0?1:oa(o),(o&(s.suspendedLanes|r))!==0?0:o}function oa(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function bi(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function $u(){var s=F.p;return s!==0?s:(s=window.event,s===void 0?32:o1(s.type))}function ms(s,r){var o=F.p;try{return F.p=s,r()}finally{F.p=o}}var ps=Math.random().toString(36).slice(2),It="__reactFiber$"+ps,Qt="__reactProps$"+ps,Us="__reactContainer$"+ps,ao="__reactEvents$"+ps,dm="__reactListeners$"+ps,Ku="__reactHandles$"+ps,Yu="__reactResources$"+ps,zs="__reactMarker$"+ps;function oo(s){delete s[It],delete s[Qt],delete s[ao],delete s[dm],delete s[Ku]}function Bs(s){var r=s[It];if(r)return r;for(var o=s.parentNode;o;){if(r=o[Us]||o[It]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(s=G_(s);s!==null;){if(o=s[It])return o;s=G_(s)}return r}s=o,o=s.parentNode}return null}function Kn(s){if(s=s[It]||s[Us]){var r=s.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return s}return null}function Vn(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s.stateNode;throw Error(i(33))}function Fs(s){var r=s[Yu];return r||(r=s[Yu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Dt(s){s[zs]=!0}var zl=new Set,Bl={};function Hs(s,r){qs(s,r),qs(s+"Capture",r)}function qs(s,r){for(Bl[s]=r,s=0;s<r.length;s++)zl.add(r[s])}var Fl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Hl={},ql={};function Qu(s){return Ct.call(ql,s)?!0:Ct.call(Hl,s)?!1:Fl.test(s)?ql[s]=!0:(Hl[s]=!0,!1)}function lo(s,r,o){if(Qu(r))if(o===null)s.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":s.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){s.removeAttribute(r);return}}s.setAttribute(r,""+o)}}function On(s,r,o){if(o===null)s.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(r);return}s.setAttribute(r,""+o)}}function jt(s,r,o,u){if(u===null)s.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttributeNS(r,o,""+u)}}function Xt(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function sr(s){var r=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Gl(s,r,o){var u=Object.getOwnPropertyDescriptor(s.constructor.prototype,r);if(!s.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var p=u.get,y=u.set;return Object.defineProperty(s,r,{configurable:!0,get:function(){return p.call(this)},set:function(w){o=""+w,y.call(this,w)}}),Object.defineProperty(s,r,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(w){o=""+w},stopTracking:function(){s._valueTracker=null,delete s[r]}}}}function nt(s){if(!s._valueTracker){var r=sr(s)?"checked":"value";s._valueTracker=Gl(s,r,""+s[r])}}function la(s){if(!s)return!1;var r=s._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return s&&(u=sr(s)?s.checked?"true":"false":s.value),s=u,s!==o?(r.setValue(s),!0):!1}function Gs(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var ca=/[\n"\\]/g;function En(s){return s.replace(ca,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function co(s,r,o,u,p,y,w,A){s.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?s.type=w:s.removeAttribute("type"),r!=null?w==="number"?(r===0&&s.value===""||s.value!=r)&&(s.value=""+Xt(r)):s.value!==""+Xt(r)&&(s.value=""+Xt(r)):w!=="submit"&&w!=="reset"||s.removeAttribute("value"),r!=null?$l(s,w,Xt(r)):o!=null?$l(s,w,Xt(o)):u!=null&&s.removeAttribute("value"),p==null&&y!=null&&(s.defaultChecked=!!y),p!=null&&(s.checked=p&&typeof p!="function"&&typeof p!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?s.name=""+Xt(A):s.removeAttribute("name")}function Xu(s,r,o,u,p,y,w,A){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(s.type=y),r!=null||o!=null){if(!(y!=="submit"&&y!=="reset"||r!=null)){nt(s);return}o=o!=null?""+Xt(o):"",r=r!=null?""+Xt(r):o,A||r===s.value||(s.value=r),s.defaultValue=r}u=u??p,u=typeof u!="function"&&typeof u!="symbol"&&!!u,s.checked=A?s.checked:!!u,s.defaultChecked=!!u,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(s.name=w),nt(s)}function $l(s,r,o){r==="number"&&Gs(s.ownerDocument)===s||s.defaultValue===""+o||(s.defaultValue=""+o)}function ir(s,r,o,u){if(s=s.options,r){r={};for(var p=0;p<o.length;p++)r["$"+o[p]]=!0;for(o=0;o<s.length;o++)p=r.hasOwnProperty("$"+s[o].value),s[o].selected!==p&&(s[o].selected=p),p&&u&&(s[o].defaultSelected=!0)}else{for(o=""+Xt(o),r=null,p=0;p<s.length;p++){if(s[p].value===o){s[p].selected=!0,u&&(s[p].defaultSelected=!0);return}r!==null||s[p].disabled||(r=s[p])}r!==null&&(r.selected=!0)}}function Wu(s,r,o){if(r!=null&&(r=""+Xt(r),r!==s.value&&(s.value=r),o==null)){s.defaultValue!==r&&(s.defaultValue=r);return}s.defaultValue=o!=null?""+Xt(o):""}function rr(s,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(i(92));if(G(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=Xt(r),s.defaultValue=o,u=s.textContent,u===o&&u!==""&&u!==null&&(s.value=u),nt(s)}function Sn(s,r){if(r){var o=s.firstChild;if(o&&o===s.lastChild&&o.nodeType===3){o.nodeValue=r;return}}s.textContent=r}var Ju=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Kl(s,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?s.setProperty(r,""):r==="float"?s.cssFloat="":s[r]="":u?s.setProperty(r,o):typeof o!="number"||o===0||Ju.has(r)?r==="float"?s.cssFloat=o:s[r]=(""+o).trim():s[r]=o+"px"}function Yl(s,r,o){if(r!=null&&typeof r!="object")throw Error(i(62));if(s=s.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?s.setProperty(u,""):u==="float"?s.cssFloat="":s[u]="");for(var p in r)u=r[p],r.hasOwnProperty(p)&&o[p]!==u&&Kl(s,p,u)}else for(var y in r)r.hasOwnProperty(y)&&Kl(s,y,r[y])}function uo(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ar=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ho(s){return ar.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function gs(){}var Ql=null;function Yn(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var or=null,$s=null;function ua(s){var r=Kn(s);if(r&&(s=r.stateNode)){var o=s[Qt]||null;e:switch(s=r.stateNode,r.type){case"input":if(co(s,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=s;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+En(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==s&&u.form===s.form){var p=u[Qt]||null;if(!p)throw Error(i(90));co(u,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===s.form&&la(u)}break e;case"textarea":Wu(s,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&ir(s,!!o.multiple,r,!1)}}}var fo=!1;function lr(s,r,o){if(fo)return s(r,o);fo=!0;try{var u=s(r);return u}finally{if(fo=!1,(or!==null||$s!==null)&&($d(),or&&(r=or,s=$s,$s=or=null,ua(r),s)))for(r=0;r<s.length;r++)ua(s[r])}}function ys(s,r){var o=s.stateNode;if(o===null)return null;var u=o[Qt]||null;if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(s=s.type,u=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!u;break e;default:s=!1}if(s)return null;if(o&&typeof o!="function")throw Error(i(231,r,typeof o));return o}var Qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),da=!1;if(Qn)try{var rt={};Object.defineProperty(rt,"passive",{get:function(){da=!0}}),window.addEventListener("test",rt,rt),window.removeEventListener("test",rt,rt)}catch{da=!1}var Ks=null,Xl=null,ha=null;function Wl(){if(ha)return ha;var s,r=Xl,o=r.length,u,p="value"in Ks?Ks.value:Ks.textContent,y=p.length;for(s=0;s<o&&r[s]===p[s];s++);var w=o-s;for(u=1;u<=w&&r[o-u]===p[y-u];u++);return ha=p.slice(s,1<u?1-u:void 0)}function fa(s){var r=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&r===13&&(s=13)):s=r,s===10&&(s=13),32<=s||s===13?s:0}function xi(){return!0}function vs(){return!1}function nn(s){function r(o,u,p,y,w){this._reactName=o,this._targetInst=p,this.type=u,this.nativeEvent=y,this.target=w,this.currentTarget=null;for(var A in s)s.hasOwnProperty(A)&&(o=s[A],this[A]=o?o(y):y[A]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?xi:vs,this.isPropagationStopped=vs,this}return b(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=xi)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=xi)},persist:function(){},isPersistent:xi}),r}var _i={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ys=nn(_i),cr=b({},_i,{view:0,detail:0}),Jl=nn(cr),ur,mo,Qs,po=b({},cr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Qs&&(Qs&&s.type==="mousemove"?(ur=s.screenX-Qs.screenX,mo=s.screenY-Qs.screenY):mo=ur=0,Qs=s),ur)},movementY:function(s){return"movementY"in s?s.movementY:mo}}),Zl=nn(po),ma=b({},po,{dataTransfer:0}),ed=nn(ma),td=b({},cr,{relatedTarget:0}),pa=nn(td),ec=b({},_i,{animationName:0,elapsedTime:0,pseudoElement:0}),nd=nn(ec),go=b({},_i,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),sd=nn(go),id=b({},_i,{data:0}),Xs=nn(id),rd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ad={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ld(s){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(s):(s=od[s])?!!r[s]:!1}function dr(){return ld}var xn=b({},cr,{key:function(s){if(s.key){var r=rd[s.key]||s.key;if(r!=="Unidentified")return r}return s.type==="keypress"?(s=fa(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?ad[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dr,charCode:function(s){return s.type==="keypress"?fa(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?fa(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),cd=nn(xn),ud=b({},po,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wi=nn(ud),h=b({},cr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dr}),x=nn(h),T=b({},_i,{propertyName:0,elapsedTime:0,pseudoElement:0}),k=nn(T),Q=b({},po,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),ee=nn(Q),me=b({},_i,{newState:0,oldState:0}),Le=nn(me),St=[9,13,27,32],Ze=Qn&&"CompositionEvent"in window,pt=null;Qn&&"documentMode"in document&&(pt=document.documentMode);var Xn=Qn&&"TextEvent"in window&&!pt,Ws=Qn&&(!Ze||pt&&8<pt&&11>=pt),bs=" ",xs=!1;function ga(s,r){switch(s){case"keyup":return St.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yo(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var vo=!1;function WN(s,r){switch(s){case"compositionend":return yo(r);case"keypress":return r.which!==32?null:(xs=!0,bs);case"textInput":return s=r.data,s===bs&&xs?null:s;default:return null}}function JN(s,r){if(vo)return s==="compositionend"||!Ze&&ga(s,r)?(s=Wl(),ha=Xl=Ks=null,vo=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Ws&&r.locale!=="ko"?null:r.data;default:return null}}var ZN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yv(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r==="input"?!!ZN[s.type]:r==="textarea"}function Qv(s,r,o,u){or?$s?$s.push(u):$s=[u]:or=u,r=Zd(r,"onChange"),0<r.length&&(o=new Ys("onChange","change",null,o,u),s.push({event:o,listeners:r}))}var tc=null,nc=null;function eC(s){I_(s,0)}function dd(s){var r=Vn(s);if(la(r))return s}function Xv(s,r){if(s==="change")return r}var Wv=!1;if(Qn){var hm;if(Qn){var fm="oninput"in document;if(!fm){var Jv=document.createElement("div");Jv.setAttribute("oninput","return;"),fm=typeof Jv.oninput=="function"}hm=fm}else hm=!1;Wv=hm&&(!document.documentMode||9<document.documentMode)}function Zv(){tc&&(tc.detachEvent("onpropertychange",eb),nc=tc=null)}function eb(s){if(s.propertyName==="value"&&dd(nc)){var r=[];Qv(r,nc,s,Yn(s)),lr(eC,r)}}function tC(s,r,o){s==="focusin"?(Zv(),tc=r,nc=o,tc.attachEvent("onpropertychange",eb)):s==="focusout"&&Zv()}function nC(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return dd(nc)}function sC(s,r){if(s==="click")return dd(r)}function iC(s,r){if(s==="input"||s==="change")return dd(r)}function rC(s,r){return s===r&&(s!==0||1/s===1/r)||s!==s&&r!==r}var Pn=typeof Object.is=="function"?Object.is:rC;function sc(s,r){if(Pn(s,r))return!0;if(typeof s!="object"||s===null||typeof r!="object"||r===null)return!1;var o=Object.keys(s),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var p=o[u];if(!Ct.call(r,p)||!Pn(s[p],r[p]))return!1}return!0}function tb(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function nb(s,r){var o=tb(s);s=0;for(var u;o;){if(o.nodeType===3){if(u=s+o.textContent.length,s<=r&&u>=r)return{node:o,offset:r-s};s=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=tb(o)}}function sb(s,r){return s&&r?s===r?!0:s&&s.nodeType===3?!1:r&&r.nodeType===3?sb(s,r.parentNode):"contains"in s?s.contains(r):s.compareDocumentPosition?!!(s.compareDocumentPosition(r)&16):!1:!1}function ib(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var r=Gs(s.document);r instanceof s.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)s=r.contentWindow;else break;r=Gs(s.document)}return r}function mm(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r&&(r==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||r==="textarea"||s.contentEditable==="true")}var aC=Qn&&"documentMode"in document&&11>=document.documentMode,bo=null,pm=null,ic=null,gm=!1;function rb(s,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;gm||bo==null||bo!==Gs(u)||(u=bo,"selectionStart"in u&&mm(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),ic&&sc(ic,u)||(ic=u,u=Zd(pm,"onSelect"),0<u.length&&(r=new Ys("onSelect","select",null,r,o),s.push({event:r,listeners:u}),r.target=bo)))}function ya(s,r){var o={};return o[s.toLowerCase()]=r.toLowerCase(),o["Webkit"+s]="webkit"+r,o["Moz"+s]="moz"+r,o}var xo={animationend:ya("Animation","AnimationEnd"),animationiteration:ya("Animation","AnimationIteration"),animationstart:ya("Animation","AnimationStart"),transitionrun:ya("Transition","TransitionRun"),transitionstart:ya("Transition","TransitionStart"),transitioncancel:ya("Transition","TransitionCancel"),transitionend:ya("Transition","TransitionEnd")},ym={},ab={};Qn&&(ab=document.createElement("div").style,"AnimationEvent"in window||(delete xo.animationend.animation,delete xo.animationiteration.animation,delete xo.animationstart.animation),"TransitionEvent"in window||delete xo.transitionend.transition);function va(s){if(ym[s])return ym[s];if(!xo[s])return s;var r=xo[s],o;for(o in r)if(r.hasOwnProperty(o)&&o in ab)return ym[s]=r[o];return s}var ob=va("animationend"),lb=va("animationiteration"),cb=va("animationstart"),oC=va("transitionrun"),lC=va("transitionstart"),cC=va("transitioncancel"),ub=va("transitionend"),db=new Map,vm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");vm.push("scrollEnd");function _s(s,r){db.set(s,r),Hs(r,[s])}var hd=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Wn=[],_o=0,bm=0;function fd(){for(var s=_o,r=bm=_o=0;r<s;){var o=Wn[r];Wn[r++]=null;var u=Wn[r];Wn[r++]=null;var p=Wn[r];Wn[r++]=null;var y=Wn[r];if(Wn[r++]=null,u!==null&&p!==null){var w=u.pending;w===null?p.next=p:(p.next=w.next,w.next=p),u.pending=p}y!==0&&hb(o,p,y)}}function md(s,r,o,u){Wn[_o++]=s,Wn[_o++]=r,Wn[_o++]=o,Wn[_o++]=u,bm|=u,s.lanes|=u,s=s.alternate,s!==null&&(s.lanes|=u)}function xm(s,r,o,u){return md(s,r,o,u),pd(s)}function ba(s,r){return md(s,null,null,r),pd(s)}function hb(s,r,o){s.lanes|=o;var u=s.alternate;u!==null&&(u.lanes|=o);for(var p=!1,y=s.return;y!==null;)y.childLanes|=o,u=y.alternate,u!==null&&(u.childLanes|=o),y.tag===22&&(s=y.stateNode,s===null||s._visibility&1||(p=!0)),s=y,y=y.return;return s.tag===3?(y=s.stateNode,p&&r!==null&&(p=31-Et(o),s=y.hiddenUpdates,u=s[p],u===null?s[p]=[r]:u.push(r),r.lane=o|536870912),y):null}function pd(s){if(50<Ac)throw Ac=0,Cp=null,Error(i(185));for(var r=s.return;r!==null;)s=r,r=s.return;return s.tag===3?s.stateNode:null}var wo={};function uC(s,r,o,u){this.tag=s,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ln(s,r,o,u){return new uC(s,r,o,u)}function _m(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Ti(s,r){var o=s.alternate;return o===null?(o=Ln(s.tag,r,s.key,s.mode),o.elementType=s.elementType,o.type=s.type,o.stateNode=s.stateNode,o.alternate=s,s.alternate=o):(o.pendingProps=r,o.type=s.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=s.flags&65011712,o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,r=s.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=s.sibling,o.index=s.index,o.ref=s.ref,o.refCleanup=s.refCleanup,o}function fb(s,r){s.flags&=65011714;var o=s.alternate;return o===null?(s.childLanes=0,s.lanes=r,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,r=o.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),s}function gd(s,r,o,u,p,y){var w=0;if(u=s,typeof s=="function")_m(s)&&(w=1);else if(typeof s=="string")w=pR(s,o,fe.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case C:return s=Ln(31,o,r,p),s.elementType=C,s.lanes=y,s;case M:return xa(o.children,p,y,r);case D:w=8,p|=24;break;case L:return s=Ln(12,o,r,p|2),s.elementType=L,s.lanes=y,s;case ne:return s=Ln(13,o,r,p),s.elementType=ne,s.lanes=y,s;case de:return s=Ln(19,o,r,p),s.elementType=de,s.lanes=y,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case K:w=10;break e;case q:w=9;break e;case Z:w=11;break e;case R:w=14;break e;case E:w=16,u=null;break e}w=29,o=Error(i(130,s===null?"null":typeof s,"")),u=null}return r=Ln(w,o,r,p),r.elementType=s,r.type=u,r.lanes=y,r}function xa(s,r,o,u){return s=Ln(7,s,u,r),s.lanes=o,s}function wm(s,r,o){return s=Ln(6,s,null,r),s.lanes=o,s}function mb(s){var r=Ln(18,null,null,0);return r.stateNode=s,r}function Tm(s,r,o){return r=Ln(4,s.children!==null?s.children:[],s.key,r),r.lanes=o,r.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},r}var pb=new WeakMap;function Jn(s,r){if(typeof s=="object"&&s!==null){var o=pb.get(s);return o!==void 0?o:(r={value:s,source:r,stack:Vl(r)},pb.set(s,r),r)}return{value:s,source:r,stack:Vl(r)}}var To=[],Eo=0,yd=null,rc=0,Zn=[],es=0,hr=null,Js=1,Zs="";function Ei(s,r){To[Eo++]=rc,To[Eo++]=yd,yd=s,rc=r}function gb(s,r,o){Zn[es++]=Js,Zn[es++]=Zs,Zn[es++]=hr,hr=s;var u=Js;s=Zs;var p=32-Et(u)-1;u&=~(1<<p),o+=1;var y=32-Et(r)+p;if(30<y){var w=p-p%5;y=(u&(1<<w)-1).toString(32),u>>=w,p-=w,Js=1<<32-Et(r)+p|o<<p|u,Zs=y+s}else Js=1<<y|o<<p|u,Zs=s}function Em(s){s.return!==null&&(Ei(s,1),gb(s,1,0))}function Sm(s){for(;s===yd;)yd=To[--Eo],To[Eo]=null,rc=To[--Eo],To[Eo]=null;for(;s===hr;)hr=Zn[--es],Zn[es]=null,Zs=Zn[--es],Zn[es]=null,Js=Zn[--es],Zn[es]=null}function yb(s,r){Zn[es++]=Js,Zn[es++]=Zs,Zn[es++]=hr,Js=r.id,Zs=r.overflow,hr=s}var sn=null,ht=null,Qe=!1,fr=null,ts=!1,Am=Error(i(519));function mr(s){var r=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ac(Jn(r,s)),Am}function vb(s){var r=s.stateNode,o=s.type,u=s.memoizedProps;switch(r[It]=s,r[Qt]=u,o){case"dialog":He("cancel",r),He("close",r);break;case"iframe":case"object":case"embed":He("load",r);break;case"video":case"audio":for(o=0;o<Nc.length;o++)He(Nc[o],r);break;case"source":He("error",r);break;case"img":case"image":case"link":He("error",r),He("load",r);break;case"details":He("toggle",r);break;case"input":He("invalid",r),Xu(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":He("invalid",r);break;case"textarea":He("invalid",r),rr(r,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||V_(r.textContent,o)?(u.popover!=null&&(He("beforetoggle",r),He("toggle",r)),u.onScroll!=null&&He("scroll",r),u.onScrollEnd!=null&&He("scrollend",r),u.onClick!=null&&(r.onclick=gs),r=!0):r=!1,r||mr(s,!0)}function bb(s){for(sn=s.return;sn;)switch(sn.tag){case 5:case 31:case 13:ts=!1;return;case 27:case 3:ts=!0;return;default:sn=sn.return}}function So(s){if(s!==sn)return!1;if(!Qe)return bb(s),Qe=!0,!1;var r=s.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=s.type,o=!(o!=="form"&&o!=="button")||qp(s.type,s.memoizedProps)),o=!o),o&&ht&&mr(s),bb(s),r===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));ht=q_(s)}else if(r===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));ht=q_(s)}else r===27?(r=ht,Nr(s.type)?(s=Qp,Qp=null,ht=s):ht=r):ht=sn?ss(s.stateNode.nextSibling):null;return!0}function _a(){ht=sn=null,Qe=!1}function km(){var s=fr;return s!==null&&(Cn===null?Cn=s:Cn.push.apply(Cn,s),fr=null),s}function ac(s){fr===null?fr=[s]:fr.push(s)}var Nm=z(null),wa=null,Si=null;function pr(s,r,o){ce(Nm,r._currentValue),r._currentValue=o}function Ai(s){s._currentValue=Nm.current,se(Nm)}function Cm(s,r,o){for(;s!==null;){var u=s.alternate;if((s.childLanes&r)!==r?(s.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),s===o)break;s=s.return}}function Rm(s,r,o,u){var p=s.child;for(p!==null&&(p.return=s);p!==null;){var y=p.dependencies;if(y!==null){var w=p.child;y=y.firstContext;e:for(;y!==null;){var A=y;y=p;for(var O=0;O<r.length;O++)if(A.context===r[O]){y.lanes|=o,A=y.alternate,A!==null&&(A.lanes|=o),Cm(y.return,o,s),u||(w=null);break e}y=A.next}}else if(p.tag===18){if(w=p.return,w===null)throw Error(i(341));w.lanes|=o,y=w.alternate,y!==null&&(y.lanes|=o),Cm(w,o,s),w=null}else w=p.child;if(w!==null)w.return=p;else for(w=p;w!==null;){if(w===s){w=null;break}if(p=w.sibling,p!==null){p.return=w.return,w=p;break}w=w.return}p=w}}function Ao(s,r,o,u){s=null;for(var p=r,y=!1;p!==null;){if(!y){if((p.flags&524288)!==0)y=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var w=p.alternate;if(w===null)throw Error(i(387));if(w=w.memoizedProps,w!==null){var A=p.type;Pn(p.pendingProps.value,w.value)||(s!==null?s.push(A):s=[A])}}else if(p===ke.current){if(w=p.alternate,w===null)throw Error(i(387));w.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(s!==null?s.push(jc):s=[jc])}p=p.return}s!==null&&Rm(r,s,o,u),r.flags|=262144}function vd(s){for(s=s.firstContext;s!==null;){if(!Pn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Ta(s){wa=s,Si=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function rn(s){return xb(wa,s)}function bd(s,r){return wa===null&&Ta(s),xb(s,r)}function xb(s,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},Si===null){if(s===null)throw Error(i(308));Si=r,s.dependencies={lanes:0,firstContext:r},s.flags|=524288}else Si=Si.next=r;return o}var dC=typeof AbortController<"u"?AbortController:function(){var s=[],r=this.signal={aborted:!1,addEventListener:function(o,u){s.push(u)}};this.abort=function(){r.aborted=!0,s.forEach(function(o){return o()})}},hC=t.unstable_scheduleCallback,fC=t.unstable_NormalPriority,Mt={$$typeof:K,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Im(){return{controller:new dC,data:new Map,refCount:0}}function oc(s){s.refCount--,s.refCount===0&&hC(fC,function(){s.controller.abort()})}var lc=null,Dm=0,ko=0,No=null;function mC(s,r){if(lc===null){var o=lc=[];Dm=0,ko=Vp(),No={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Dm++,r.then(_b,_b),r}function _b(){if(--Dm===0&&lc!==null){No!==null&&(No.status="fulfilled");var s=lc;lc=null,ko=0,No=null;for(var r=0;r<s.length;r++)(0,s[r])()}}function pC(s,r){var o=[],u={status:"pending",value:null,reason:null,then:function(p){o.push(p)}};return s.then(function(){u.status="fulfilled",u.value=r;for(var p=0;p<o.length;p++)(0,o[p])(r)},function(p){for(u.status="rejected",u.reason=p,p=0;p<o.length;p++)(0,o[p])(void 0)}),u}var wb=V.S;V.S=function(s,r){r_=bn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&mC(s,r),wb!==null&&wb(s,r)};var Ea=z(null);function jm(){var s=Ea.current;return s!==null?s:ct.pooledCache}function xd(s,r){r===null?ce(Ea,Ea.current):ce(Ea,r.pool)}function Tb(){var s=jm();return s===null?null:{parent:Mt._currentValue,pool:s}}var Co=Error(i(460)),Mm=Error(i(474)),_d=Error(i(542)),wd={then:function(){}};function Eb(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Sb(s,r,o){switch(o=s[o],o===void 0?s.push(r):o!==r&&(r.then(gs,gs),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,kb(s),s;default:if(typeof r.status=="string")r.then(gs,gs);else{if(s=ct,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=r,s.status="pending",s.then(function(u){if(r.status==="pending"){var p=r;p.status="fulfilled",p.value=u}},function(u){if(r.status==="pending"){var p=r;p.status="rejected",p.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,kb(s),s}throw Aa=r,Co}}function Sa(s){try{var r=s._init;return r(s._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Aa=o,Co):o}}var Aa=null;function Ab(){if(Aa===null)throw Error(i(459));var s=Aa;return Aa=null,s}function kb(s){if(s===Co||s===_d)throw Error(i(483))}var Ro=null,cc=0;function Td(s){var r=cc;return cc+=1,Ro===null&&(Ro=[]),Sb(Ro,s,r)}function uc(s,r){r=r.props.ref,s.ref=r!==void 0?r:null}function Ed(s,r){throw r.$$typeof===_?Error(i(525)):(s=Object.prototype.toString.call(r),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":s)))}function Nb(s){function r(Y,B){if(s){var X=Y.deletions;X===null?(Y.deletions=[B],Y.flags|=16):X.push(B)}}function o(Y,B){if(!s)return null;for(;B!==null;)r(Y,B),B=B.sibling;return null}function u(Y){for(var B=new Map;Y!==null;)Y.key!==null?B.set(Y.key,Y):B.set(Y.index,Y),Y=Y.sibling;return B}function p(Y,B){return Y=Ti(Y,B),Y.index=0,Y.sibling=null,Y}function y(Y,B,X){return Y.index=X,s?(X=Y.alternate,X!==null?(X=X.index,X<B?(Y.flags|=67108866,B):X):(Y.flags|=67108866,B)):(Y.flags|=1048576,B)}function w(Y){return s&&Y.alternate===null&&(Y.flags|=67108866),Y}function A(Y,B,X,re){return B===null||B.tag!==6?(B=wm(X,Y.mode,re),B.return=Y,B):(B=p(B,X),B.return=Y,B)}function O(Y,B,X,re){var Ne=X.type;return Ne===M?ie(Y,B,X.props.children,re,X.key):B!==null&&(B.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===E&&Sa(Ne)===B.type)?(B=p(B,X.props),uc(B,X),B.return=Y,B):(B=gd(X.type,X.key,X.props,null,Y.mode,re),uc(B,X),B.return=Y,B)}function W(Y,B,X,re){return B===null||B.tag!==4||B.stateNode.containerInfo!==X.containerInfo||B.stateNode.implementation!==X.implementation?(B=Tm(X,Y.mode,re),B.return=Y,B):(B=p(B,X.children||[]),B.return=Y,B)}function ie(Y,B,X,re,Ne){return B===null||B.tag!==7?(B=xa(X,Y.mode,re,Ne),B.return=Y,B):(B=p(B,X),B.return=Y,B)}function ae(Y,B,X){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=wm(""+B,Y.mode,X),B.return=Y,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case S:return X=gd(B.type,B.key,B.props,null,Y.mode,X),uc(X,B),X.return=Y,X;case I:return B=Tm(B,Y.mode,X),B.return=Y,B;case E:return B=Sa(B),ae(Y,B,X)}if(G(B)||H(B))return B=xa(B,Y.mode,X,null),B.return=Y,B;if(typeof B.then=="function")return ae(Y,Td(B),X);if(B.$$typeof===K)return ae(Y,bd(Y,B),X);Ed(Y,B)}return null}function J(Y,B,X,re){var Ne=B!==null?B.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return Ne!==null?null:A(Y,B,""+X,re);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case S:return X.key===Ne?O(Y,B,X,re):null;case I:return X.key===Ne?W(Y,B,X,re):null;case E:return X=Sa(X),J(Y,B,X,re)}if(G(X)||H(X))return Ne!==null?null:ie(Y,B,X,re,null);if(typeof X.then=="function")return J(Y,B,Td(X),re);if(X.$$typeof===K)return J(Y,B,bd(Y,X),re);Ed(Y,X)}return null}function te(Y,B,X,re,Ne){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return Y=Y.get(X)||null,A(B,Y,""+re,Ne);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case S:return Y=Y.get(re.key===null?X:re.key)||null,O(B,Y,re,Ne);case I:return Y=Y.get(re.key===null?X:re.key)||null,W(B,Y,re,Ne);case E:return re=Sa(re),te(Y,B,X,re,Ne)}if(G(re)||H(re))return Y=Y.get(X)||null,ie(B,Y,re,Ne,null);if(typeof re.then=="function")return te(Y,B,X,Td(re),Ne);if(re.$$typeof===K)return te(Y,B,X,bd(B,re),Ne);Ed(B,re)}return null}function be(Y,B,X,re){for(var Ne=null,We=null,Ee=B,ze=B=0,Ge=null;Ee!==null&&ze<X.length;ze++){Ee.index>ze?(Ge=Ee,Ee=null):Ge=Ee.sibling;var Je=J(Y,Ee,X[ze],re);if(Je===null){Ee===null&&(Ee=Ge);break}s&&Ee&&Je.alternate===null&&r(Y,Ee),B=y(Je,B,ze),We===null?Ne=Je:We.sibling=Je,We=Je,Ee=Ge}if(ze===X.length)return o(Y,Ee),Qe&&Ei(Y,ze),Ne;if(Ee===null){for(;ze<X.length;ze++)Ee=ae(Y,X[ze],re),Ee!==null&&(B=y(Ee,B,ze),We===null?Ne=Ee:We.sibling=Ee,We=Ee);return Qe&&Ei(Y,ze),Ne}for(Ee=u(Ee);ze<X.length;ze++)Ge=te(Ee,Y,ze,X[ze],re),Ge!==null&&(s&&Ge.alternate!==null&&Ee.delete(Ge.key===null?ze:Ge.key),B=y(Ge,B,ze),We===null?Ne=Ge:We.sibling=Ge,We=Ge);return s&&Ee.forEach(function(jr){return r(Y,jr)}),Qe&&Ei(Y,ze),Ne}function Re(Y,B,X,re){if(X==null)throw Error(i(151));for(var Ne=null,We=null,Ee=B,ze=B=0,Ge=null,Je=X.next();Ee!==null&&!Je.done;ze++,Je=X.next()){Ee.index>ze?(Ge=Ee,Ee=null):Ge=Ee.sibling;var jr=J(Y,Ee,Je.value,re);if(jr===null){Ee===null&&(Ee=Ge);break}s&&Ee&&jr.alternate===null&&r(Y,Ee),B=y(jr,B,ze),We===null?Ne=jr:We.sibling=jr,We=jr,Ee=Ge}if(Je.done)return o(Y,Ee),Qe&&Ei(Y,ze),Ne;if(Ee===null){for(;!Je.done;ze++,Je=X.next())Je=ae(Y,Je.value,re),Je!==null&&(B=y(Je,B,ze),We===null?Ne=Je:We.sibling=Je,We=Je);return Qe&&Ei(Y,ze),Ne}for(Ee=u(Ee);!Je.done;ze++,Je=X.next())Je=te(Ee,Y,ze,Je.value,re),Je!==null&&(s&&Je.alternate!==null&&Ee.delete(Je.key===null?ze:Je.key),B=y(Je,B,ze),We===null?Ne=Je:We.sibling=Je,We=Je);return s&&Ee.forEach(function(AR){return r(Y,AR)}),Qe&&Ei(Y,ze),Ne}function lt(Y,B,X,re){if(typeof X=="object"&&X!==null&&X.type===M&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case S:e:{for(var Ne=X.key;B!==null;){if(B.key===Ne){if(Ne=X.type,Ne===M){if(B.tag===7){o(Y,B.sibling),re=p(B,X.props.children),re.return=Y,Y=re;break e}}else if(B.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===E&&Sa(Ne)===B.type){o(Y,B.sibling),re=p(B,X.props),uc(re,X),re.return=Y,Y=re;break e}o(Y,B);break}else r(Y,B);B=B.sibling}X.type===M?(re=xa(X.props.children,Y.mode,re,X.key),re.return=Y,Y=re):(re=gd(X.type,X.key,X.props,null,Y.mode,re),uc(re,X),re.return=Y,Y=re)}return w(Y);case I:e:{for(Ne=X.key;B!==null;){if(B.key===Ne)if(B.tag===4&&B.stateNode.containerInfo===X.containerInfo&&B.stateNode.implementation===X.implementation){o(Y,B.sibling),re=p(B,X.children||[]),re.return=Y,Y=re;break e}else{o(Y,B);break}else r(Y,B);B=B.sibling}re=Tm(X,Y.mode,re),re.return=Y,Y=re}return w(Y);case E:return X=Sa(X),lt(Y,B,X,re)}if(G(X))return be(Y,B,X,re);if(H(X)){if(Ne=H(X),typeof Ne!="function")throw Error(i(150));return X=Ne.call(X),Re(Y,B,X,re)}if(typeof X.then=="function")return lt(Y,B,Td(X),re);if(X.$$typeof===K)return lt(Y,B,bd(Y,X),re);Ed(Y,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,B!==null&&B.tag===6?(o(Y,B.sibling),re=p(B,X),re.return=Y,Y=re):(o(Y,B),re=wm(X,Y.mode,re),re.return=Y,Y=re),w(Y)):o(Y,B)}return function(Y,B,X,re){try{cc=0;var Ne=lt(Y,B,X,re);return Ro=null,Ne}catch(Ee){if(Ee===Co||Ee===_d)throw Ee;var We=Ln(29,Ee,null,Y.mode);return We.lanes=re,We.return=Y,We}}}var ka=Nb(!0),Cb=Nb(!1),gr=!1;function Vm(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Om(s,r){s=s.updateQueue,r.updateQueue===s&&(r.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function yr(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function vr(s,r,o){var u=s.updateQueue;if(u===null)return null;if(u=u.shared,(et&2)!==0){var p=u.pending;return p===null?r.next=r:(r.next=p.next,p.next=r),u.pending=r,r=pd(s),hb(s,null,o),r}return md(s,u,r,o),pd(s)}function dc(s,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=s.pendingLanes,o|=u,r.lanes=o,Ll(s,o)}}function Pm(s,r){var o=s.updateQueue,u=s.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var p=null,y=null;if(o=o.firstBaseUpdate,o!==null){do{var w={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};y===null?p=y=w:y=y.next=w,o=o.next}while(o!==null);y===null?p=y=r:y=y.next=r}else p=y=r;o={baseState:u.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:u.shared,callbacks:u.callbacks},s.updateQueue=o;return}s=o.lastBaseUpdate,s===null?o.firstBaseUpdate=r:s.next=r,o.lastBaseUpdate=r}var Lm=!1;function hc(){if(Lm){var s=No;if(s!==null)throw s}}function fc(s,r,o,u){Lm=!1;var p=s.updateQueue;gr=!1;var y=p.firstBaseUpdate,w=p.lastBaseUpdate,A=p.shared.pending;if(A!==null){p.shared.pending=null;var O=A,W=O.next;O.next=null,w===null?y=W:w.next=W,w=O;var ie=s.alternate;ie!==null&&(ie=ie.updateQueue,A=ie.lastBaseUpdate,A!==w&&(A===null?ie.firstBaseUpdate=W:A.next=W,ie.lastBaseUpdate=O))}if(y!==null){var ae=p.baseState;w=0,ie=W=O=null,A=y;do{var J=A.lane&-536870913,te=J!==A.lane;if(te?(qe&J)===J:(u&J)===J){J!==0&&J===ko&&(Lm=!0),ie!==null&&(ie=ie.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var be=s,Re=A;J=r;var lt=o;switch(Re.tag){case 1:if(be=Re.payload,typeof be=="function"){ae=be.call(lt,ae,J);break e}ae=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=Re.payload,J=typeof be=="function"?be.call(lt,ae,J):be,J==null)break e;ae=b({},ae,J);break e;case 2:gr=!0}}J=A.callback,J!==null&&(s.flags|=64,te&&(s.flags|=8192),te=p.callbacks,te===null?p.callbacks=[J]:te.push(J))}else te={lane:J,tag:A.tag,payload:A.payload,callback:A.callback,next:null},ie===null?(W=ie=te,O=ae):ie=ie.next=te,w|=J;if(A=A.next,A===null){if(A=p.shared.pending,A===null)break;te=A,A=te.next,te.next=null,p.lastBaseUpdate=te,p.shared.pending=null}}while(!0);ie===null&&(O=ae),p.baseState=O,p.firstBaseUpdate=W,p.lastBaseUpdate=ie,y===null&&(p.shared.lanes=0),Tr|=w,s.lanes=w,s.memoizedState=ae}}function Rb(s,r){if(typeof s!="function")throw Error(i(191,s));s.call(r)}function Ib(s,r){var o=s.callbacks;if(o!==null)for(s.callbacks=null,s=0;s<o.length;s++)Rb(o[s],r)}var Io=z(null),Sd=z(0);function Db(s,r){s=Vi,ce(Sd,s),ce(Io,r),Vi=s|r.baseLanes}function Um(){ce(Sd,Vi),ce(Io,Io.current)}function zm(){Vi=Sd.current,se(Io),se(Sd)}var Un=z(null),ns=null;function br(s){var r=s.alternate;ce(At,At.current&1),ce(Un,s),ns===null&&(r===null||Io.current!==null||r.memoizedState!==null)&&(ns=s)}function Bm(s){ce(At,At.current),ce(Un,s),ns===null&&(ns=s)}function jb(s){s.tag===22?(ce(At,At.current),ce(Un,s),ns===null&&(ns=s)):xr()}function xr(){ce(At,At.current),ce(Un,Un.current)}function zn(s){se(Un),ns===s&&(ns=null),se(At)}var At=z(0);function Ad(s){for(var r=s;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Kp(o)||Yp(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var ki=0,Ue=null,at=null,Vt=null,kd=!1,Do=!1,Na=!1,Nd=0,mc=0,jo=null,gC=0;function _t(){throw Error(i(321))}function Fm(s,r){if(r===null)return!1;for(var o=0;o<r.length&&o<s.length;o++)if(!Pn(s[o],r[o]))return!1;return!0}function Hm(s,r,o,u,p,y){return ki=y,Ue=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,V.H=s===null||s.memoizedState===null?gx:ip,Na=!1,y=o(u,p),Na=!1,Do&&(y=Vb(r,o,u,p)),Mb(s),y}function Mb(s){V.H=yc;var r=at!==null&&at.next!==null;if(ki=0,Vt=at=Ue=null,kd=!1,mc=0,jo=null,r)throw Error(i(300));s===null||Ot||(s=s.dependencies,s!==null&&vd(s)&&(Ot=!0))}function Vb(s,r,o,u){Ue=s;var p=0;do{if(Do&&(jo=null),mc=0,Do=!1,25<=p)throw Error(i(301));if(p+=1,Vt=at=null,s.updateQueue!=null){var y=s.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}V.H=yx,y=r(o,u)}while(Do);return y}function yC(){var s=V.H,r=s.useState()[0];return r=typeof r.then=="function"?pc(r):r,s=s.useState()[0],(at!==null?at.memoizedState:null)!==s&&(Ue.flags|=1024),r}function qm(){var s=Nd!==0;return Nd=0,s}function Gm(s,r,o){r.updateQueue=s.updateQueue,r.flags&=-2053,s.lanes&=~o}function $m(s){if(kd){for(s=s.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}kd=!1}ki=0,Vt=at=Ue=null,Do=!1,mc=Nd=0,jo=null}function _n(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?Ue.memoizedState=Vt=s:Vt=Vt.next=s,Vt}function kt(){if(at===null){var s=Ue.alternate;s=s!==null?s.memoizedState:null}else s=at.next;var r=Vt===null?Ue.memoizedState:Vt.next;if(r!==null)Vt=r,at=s;else{if(s===null)throw Ue.alternate===null?Error(i(467)):Error(i(310));at=s,s={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},Vt===null?Ue.memoizedState=Vt=s:Vt=Vt.next=s}return Vt}function Cd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function pc(s){var r=mc;return mc+=1,jo===null&&(jo=[]),s=Sb(jo,s,r),r=Ue,(Vt===null?r.memoizedState:Vt.next)===null&&(r=r.alternate,V.H=r===null||r.memoizedState===null?gx:ip),s}function Rd(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return pc(s);if(s.$$typeof===K)return rn(s)}throw Error(i(438,String(s)))}function Km(s){var r=null,o=Ue.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=Ue.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(p){return p.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=Cd(),Ue.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(s),u=0;u<s;u++)o[u]=U;return r.index++,o}function Ni(s,r){return typeof r=="function"?r(s):r}function Id(s){var r=kt();return Ym(r,at,s)}function Ym(s,r,o){var u=s.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var p=s.baseQueue,y=u.pending;if(y!==null){if(p!==null){var w=p.next;p.next=y.next,y.next=w}r.baseQueue=p=y,u.pending=null}if(y=s.baseState,p===null)s.memoizedState=y;else{r=p.next;var A=w=null,O=null,W=r,ie=!1;do{var ae=W.lane&-536870913;if(ae!==W.lane?(qe&ae)===ae:(ki&ae)===ae){var J=W.revertLane;if(J===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),ae===ko&&(ie=!0);else if((ki&J)===J){W=W.next,J===ko&&(ie=!0);continue}else ae={lane:0,revertLane:W.revertLane,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},O===null?(A=O=ae,w=y):O=O.next=ae,Ue.lanes|=J,Tr|=J;ae=W.action,Na&&o(y,ae),y=W.hasEagerState?W.eagerState:o(y,ae)}else J={lane:ae,revertLane:W.revertLane,gesture:W.gesture,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},O===null?(A=O=J,w=y):O=O.next=J,Ue.lanes|=ae,Tr|=ae;W=W.next}while(W!==null&&W!==r);if(O===null?w=y:O.next=A,!Pn(y,s.memoizedState)&&(Ot=!0,ie&&(o=No,o!==null)))throw o;s.memoizedState=y,s.baseState=w,s.baseQueue=O,u.lastRenderedState=y}return p===null&&(u.lanes=0),[s.memoizedState,u.dispatch]}function Qm(s){var r=kt(),o=r.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=s;var u=o.dispatch,p=o.pending,y=r.memoizedState;if(p!==null){o.pending=null;var w=p=p.next;do y=s(y,w.action),w=w.next;while(w!==p);Pn(y,r.memoizedState)||(Ot=!0),r.memoizedState=y,r.baseQueue===null&&(r.baseState=y),o.lastRenderedState=y}return[y,u]}function Ob(s,r,o){var u=Ue,p=kt(),y=Qe;if(y){if(o===void 0)throw Error(i(407));o=o()}else o=r();var w=!Pn((at||p).memoizedState,o);if(w&&(p.memoizedState=o,Ot=!0),p=p.queue,Jm(Ub.bind(null,u,p,s),[s]),p.getSnapshot!==r||w||Vt!==null&&Vt.memoizedState.tag&1){if(u.flags|=2048,Mo(9,{destroy:void 0},Lb.bind(null,u,p,o,r),null),ct===null)throw Error(i(349));y||(ki&127)!==0||Pb(u,r,o)}return o}function Pb(s,r,o){s.flags|=16384,s={getSnapshot:r,value:o},r=Ue.updateQueue,r===null?(r=Cd(),Ue.updateQueue=r,r.stores=[s]):(o=r.stores,o===null?r.stores=[s]:o.push(s))}function Lb(s,r,o,u){r.value=o,r.getSnapshot=u,zb(r)&&Bb(s)}function Ub(s,r,o){return o(function(){zb(r)&&Bb(s)})}function zb(s){var r=s.getSnapshot;s=s.value;try{var o=r();return!Pn(s,o)}catch{return!0}}function Bb(s){var r=ba(s,2);r!==null&&Rn(r,s,2)}function Xm(s){var r=_n();if(typeof s=="function"){var o=s;if(s=o(),Na){$n(!0);try{o()}finally{$n(!1)}}}return r.memoizedState=r.baseState=s,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:s},r}function Fb(s,r,o,u){return s.baseState=o,Ym(s,at,typeof u=="function"?u:Ni)}function vC(s,r,o,u,p){if(Md(s))throw Error(i(485));if(s=r.action,s!==null){var y={payload:p,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){y.listeners.push(w)}};V.T!==null?o(!0):y.isTransition=!1,u(y),o=r.pending,o===null?(y.next=r.pending=y,Hb(r,y)):(y.next=o.next,r.pending=o.next=y)}}function Hb(s,r){var o=r.action,u=r.payload,p=s.state;if(r.isTransition){var y=V.T,w={};V.T=w;try{var A=o(p,u),O=V.S;O!==null&&O(w,A),qb(s,r,A)}catch(W){Wm(s,r,W)}finally{y!==null&&w.types!==null&&(y.types=w.types),V.T=y}}else try{y=o(p,u),qb(s,r,y)}catch(W){Wm(s,r,W)}}function qb(s,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){Gb(s,r,u)},function(u){return Wm(s,r,u)}):Gb(s,r,o)}function Gb(s,r,o){r.status="fulfilled",r.value=o,$b(r),s.state=o,r=s.pending,r!==null&&(o=r.next,o===r?s.pending=null:(o=o.next,r.next=o,Hb(s,o)))}function Wm(s,r,o){var u=s.pending;if(s.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,$b(r),r=r.next;while(r!==u)}s.action=null}function $b(s){s=s.listeners;for(var r=0;r<s.length;r++)(0,s[r])()}function Kb(s,r){return r}function Yb(s,r){if(Qe){var o=ct.formState;if(o!==null){e:{var u=Ue;if(Qe){if(ht){t:{for(var p=ht,y=ts;p.nodeType!==8;){if(!y){p=null;break t}if(p=ss(p.nextSibling),p===null){p=null;break t}}y=p.data,p=y==="F!"||y==="F"?p:null}if(p){ht=ss(p.nextSibling),u=p.data==="F!";break e}}mr(u)}u=!1}u&&(r=o[0])}}return o=_n(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kb,lastRenderedState:r},o.queue=u,o=fx.bind(null,Ue,u),u.dispatch=o,u=Xm(!1),y=sp.bind(null,Ue,!1,u.queue),u=_n(),p={state:r,dispatch:null,action:s,pending:null},u.queue=p,o=vC.bind(null,Ue,p,y,o),p.dispatch=o,u.memoizedState=s,[r,o,!1]}function Qb(s){var r=kt();return Xb(r,at,s)}function Xb(s,r,o){if(r=Ym(s,r,Kb)[0],s=Id(Ni)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=pc(r)}catch(w){throw w===Co?_d:w}else u=r;r=kt();var p=r.queue,y=p.dispatch;return o!==r.memoizedState&&(Ue.flags|=2048,Mo(9,{destroy:void 0},bC.bind(null,p,o),null)),[u,y,s]}function bC(s,r){s.action=r}function Wb(s){var r=kt(),o=at;if(o!==null)return Xb(r,o,s);kt(),r=r.memoizedState,o=kt();var u=o.queue.dispatch;return o.memoizedState=s,[r,u,!1]}function Mo(s,r,o,u){return s={tag:s,create:o,deps:u,inst:r,next:null},r=Ue.updateQueue,r===null&&(r=Cd(),Ue.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=s.next=s:(u=o.next,o.next=s,s.next=u,r.lastEffect=s),s}function Jb(){return kt().memoizedState}function Dd(s,r,o,u){var p=_n();Ue.flags|=s,p.memoizedState=Mo(1|r,{destroy:void 0},o,u===void 0?null:u)}function jd(s,r,o,u){var p=kt();u=u===void 0?null:u;var y=p.memoizedState.inst;at!==null&&u!==null&&Fm(u,at.memoizedState.deps)?p.memoizedState=Mo(r,y,o,u):(Ue.flags|=s,p.memoizedState=Mo(1|r,y,o,u))}function Zb(s,r){Dd(8390656,8,s,r)}function Jm(s,r){jd(2048,8,s,r)}function xC(s){Ue.flags|=4;var r=Ue.updateQueue;if(r===null)r=Cd(),Ue.updateQueue=r,r.events=[s];else{var o=r.events;o===null?r.events=[s]:o.push(s)}}function ex(s){var r=kt().memoizedState;return xC({ref:r,nextImpl:s}),function(){if((et&2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}function tx(s,r){return jd(4,2,s,r)}function nx(s,r){return jd(4,4,s,r)}function sx(s,r){if(typeof r=="function"){s=s();var o=r(s);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return s=s(),r.current=s,function(){r.current=null}}function ix(s,r,o){o=o!=null?o.concat([s]):null,jd(4,4,sx.bind(null,r,s),o)}function Zm(){}function rx(s,r){var o=kt();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&Fm(r,u[1])?u[0]:(o.memoizedState=[s,r],s)}function ax(s,r){var o=kt();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&Fm(r,u[1]))return u[0];if(u=s(),Na){$n(!0);try{s()}finally{$n(!1)}}return o.memoizedState=[u,r],u}function ep(s,r,o){return o===void 0||(ki&1073741824)!==0&&(qe&261930)===0?s.memoizedState=r:(s.memoizedState=o,s=o_(),Ue.lanes|=s,Tr|=s,o)}function ox(s,r,o,u){return Pn(o,r)?o:Io.current!==null?(s=ep(s,o,u),Pn(s,r)||(Ot=!0),s):(ki&42)===0||(ki&1073741824)!==0&&(qe&261930)===0?(Ot=!0,s.memoizedState=o):(s=o_(),Ue.lanes|=s,Tr|=s,r)}function lx(s,r,o,u,p){var y=F.p;F.p=y!==0&&8>y?y:8;var w=V.T,A={};V.T=A,sp(s,!1,r,o);try{var O=p(),W=V.S;if(W!==null&&W(A,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var ie=pC(O,u);gc(s,r,ie,Hn(s))}else gc(s,r,u,Hn(s))}catch(ae){gc(s,r,{then:function(){},status:"rejected",reason:ae},Hn())}finally{F.p=y,w!==null&&A.types!==null&&(w.types=A.types),V.T=w}}function _C(){}function tp(s,r,o,u){if(s.tag!==5)throw Error(i(476));var p=cx(s).queue;lx(s,p,r,$,o===null?_C:function(){return ux(s),o(u)})}function cx(s){var r=s.memoizedState;if(r!==null)return r;r={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:$},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:o},next:null},s.memoizedState=r,s=s.alternate,s!==null&&(s.memoizedState=r),r}function ux(s){var r=cx(s);r.next===null&&(r=s.alternate.memoizedState),gc(s,r.next.queue,{},Hn())}function np(){return rn(jc)}function dx(){return kt().memoizedState}function hx(){return kt().memoizedState}function wC(s){for(var r=s.return;r!==null;){switch(r.tag){case 24:case 3:var o=Hn();s=yr(o);var u=vr(r,s,o);u!==null&&(Rn(u,r,o),dc(u,r,o)),r={cache:Im()},s.payload=r;return}r=r.return}}function TC(s,r,o){var u=Hn();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Md(s)?mx(r,o):(o=xm(s,r,o,u),o!==null&&(Rn(o,s,u),px(o,r,u)))}function fx(s,r,o){var u=Hn();gc(s,r,o,u)}function gc(s,r,o,u){var p={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Md(s))mx(r,p);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=r.lastRenderedReducer,y!==null))try{var w=r.lastRenderedState,A=y(w,o);if(p.hasEagerState=!0,p.eagerState=A,Pn(A,w))return md(s,r,p,0),ct===null&&fd(),!1}catch{}if(o=xm(s,r,p,u),o!==null)return Rn(o,s,u),px(o,r,u),!0}return!1}function sp(s,r,o,u){if(u={lane:2,revertLane:Vp(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Md(s)){if(r)throw Error(i(479))}else r=xm(s,o,u,2),r!==null&&Rn(r,s,2)}function Md(s){var r=s.alternate;return s===Ue||r!==null&&r===Ue}function mx(s,r){Do=kd=!0;var o=s.pending;o===null?r.next=r:(r.next=o.next,o.next=r),s.pending=r}function px(s,r,o){if((o&4194048)!==0){var u=r.lanes;u&=s.pendingLanes,o|=u,r.lanes=o,Ll(s,o)}}var yc={readContext:rn,use:Rd,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useLayoutEffect:_t,useInsertionEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useSyncExternalStore:_t,useId:_t,useHostTransitionStatus:_t,useFormState:_t,useActionState:_t,useOptimistic:_t,useMemoCache:_t,useCacheRefresh:_t};yc.useEffectEvent=_t;var gx={readContext:rn,use:Rd,useCallback:function(s,r){return _n().memoizedState=[s,r===void 0?null:r],s},useContext:rn,useEffect:Zb,useImperativeHandle:function(s,r,o){o=o!=null?o.concat([s]):null,Dd(4194308,4,sx.bind(null,r,s),o)},useLayoutEffect:function(s,r){return Dd(4194308,4,s,r)},useInsertionEffect:function(s,r){Dd(4,2,s,r)},useMemo:function(s,r){var o=_n();r=r===void 0?null:r;var u=s();if(Na){$n(!0);try{s()}finally{$n(!1)}}return o.memoizedState=[u,r],u},useReducer:function(s,r,o){var u=_n();if(o!==void 0){var p=o(r);if(Na){$n(!0);try{o(r)}finally{$n(!1)}}}else p=r;return u.memoizedState=u.baseState=p,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:p},u.queue=s,s=s.dispatch=TC.bind(null,Ue,s),[u.memoizedState,s]},useRef:function(s){var r=_n();return s={current:s},r.memoizedState=s},useState:function(s){s=Xm(s);var r=s.queue,o=fx.bind(null,Ue,r);return r.dispatch=o,[s.memoizedState,o]},useDebugValue:Zm,useDeferredValue:function(s,r){var o=_n();return ep(o,s,r)},useTransition:function(){var s=Xm(!1);return s=lx.bind(null,Ue,s.queue,!0,!1),_n().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,r,o){var u=Ue,p=_n();if(Qe){if(o===void 0)throw Error(i(407));o=o()}else{if(o=r(),ct===null)throw Error(i(349));(qe&127)!==0||Pb(u,r,o)}p.memoizedState=o;var y={value:o,getSnapshot:r};return p.queue=y,Zb(Ub.bind(null,u,y,s),[s]),u.flags|=2048,Mo(9,{destroy:void 0},Lb.bind(null,u,y,o,r),null),o},useId:function(){var s=_n(),r=ct.identifierPrefix;if(Qe){var o=Zs,u=Js;o=(u&~(1<<32-Et(u)-1)).toString(32)+o,r="_"+r+"R_"+o,o=Nd++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=gC++,r="_"+r+"r_"+o.toString(32)+"_";return s.memoizedState=r},useHostTransitionStatus:np,useFormState:Yb,useActionState:Yb,useOptimistic:function(s){var r=_n();r.memoizedState=r.baseState=s;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=sp.bind(null,Ue,!0,o),o.dispatch=r,[s,r]},useMemoCache:Km,useCacheRefresh:function(){return _n().memoizedState=wC.bind(null,Ue)},useEffectEvent:function(s){var r=_n(),o={impl:s};return r.memoizedState=o,function(){if((et&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}},ip={readContext:rn,use:Rd,useCallback:rx,useContext:rn,useEffect:Jm,useImperativeHandle:ix,useInsertionEffect:tx,useLayoutEffect:nx,useMemo:ax,useReducer:Id,useRef:Jb,useState:function(){return Id(Ni)},useDebugValue:Zm,useDeferredValue:function(s,r){var o=kt();return ox(o,at.memoizedState,s,r)},useTransition:function(){var s=Id(Ni)[0],r=kt().memoizedState;return[typeof s=="boolean"?s:pc(s),r]},useSyncExternalStore:Ob,useId:dx,useHostTransitionStatus:np,useFormState:Qb,useActionState:Qb,useOptimistic:function(s,r){var o=kt();return Fb(o,at,s,r)},useMemoCache:Km,useCacheRefresh:hx};ip.useEffectEvent=ex;var yx={readContext:rn,use:Rd,useCallback:rx,useContext:rn,useEffect:Jm,useImperativeHandle:ix,useInsertionEffect:tx,useLayoutEffect:nx,useMemo:ax,useReducer:Qm,useRef:Jb,useState:function(){return Qm(Ni)},useDebugValue:Zm,useDeferredValue:function(s,r){var o=kt();return at===null?ep(o,s,r):ox(o,at.memoizedState,s,r)},useTransition:function(){var s=Qm(Ni)[0],r=kt().memoizedState;return[typeof s=="boolean"?s:pc(s),r]},useSyncExternalStore:Ob,useId:dx,useHostTransitionStatus:np,useFormState:Wb,useActionState:Wb,useOptimistic:function(s,r){var o=kt();return at!==null?Fb(o,at,s,r):(o.baseState=s,[s,o.queue.dispatch])},useMemoCache:Km,useCacheRefresh:hx};yx.useEffectEvent=ex;function rp(s,r,o,u){r=s.memoizedState,o=o(u,r),o=o==null?r:b({},r,o),s.memoizedState=o,s.lanes===0&&(s.updateQueue.baseState=o)}var ap={enqueueSetState:function(s,r,o){s=s._reactInternals;var u=Hn(),p=yr(u);p.payload=r,o!=null&&(p.callback=o),r=vr(s,p,u),r!==null&&(Rn(r,s,u),dc(r,s,u))},enqueueReplaceState:function(s,r,o){s=s._reactInternals;var u=Hn(),p=yr(u);p.tag=1,p.payload=r,o!=null&&(p.callback=o),r=vr(s,p,u),r!==null&&(Rn(r,s,u),dc(r,s,u))},enqueueForceUpdate:function(s,r){s=s._reactInternals;var o=Hn(),u=yr(o);u.tag=2,r!=null&&(u.callback=r),r=vr(s,u,o),r!==null&&(Rn(r,s,o),dc(r,s,o))}};function vx(s,r,o,u,p,y,w){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(u,y,w):r.prototype&&r.prototype.isPureReactComponent?!sc(o,u)||!sc(p,y):!0}function bx(s,r,o,u){s=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==s&&ap.enqueueReplaceState(r,r.state,null)}function Ca(s,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(s=s.defaultProps){o===r&&(o=b({},o));for(var p in s)o[p]===void 0&&(o[p]=s[p])}return o}function xx(s){hd(s)}function _x(s){console.error(s)}function wx(s){hd(s)}function Vd(s,r){try{var o=s.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function Tx(s,r,o){try{var u=s.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function op(s,r,o){return o=yr(o),o.tag=3,o.payload={element:null},o.callback=function(){Vd(s,r)},o}function Ex(s){return s=yr(s),s.tag=3,s}function Sx(s,r,o,u){var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var y=u.value;s.payload=function(){return p(y)},s.callback=function(){Tx(r,o,u)}}var w=o.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(s.callback=function(){Tx(r,o,u),typeof p!="function"&&(Er===null?Er=new Set([this]):Er.add(this));var A=u.stack;this.componentDidCatch(u.value,{componentStack:A!==null?A:""})})}function EC(s,r,o,u,p){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&Ao(r,o,p,!0),o=Un.current,o!==null){switch(o.tag){case 31:case 13:return ns===null?Kd():o.alternate===null&&wt===0&&(wt=3),o.flags&=-257,o.flags|=65536,o.lanes=p,u===wd?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),Dp(s,u,p)),!1;case 22:return o.flags|=65536,u===wd?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),Dp(s,u,p)),!1}throw Error(i(435,o.tag))}return Dp(s,u,p),Kd(),!1}if(Qe)return r=Un.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=p,u!==Am&&(s=Error(i(422),{cause:u}),ac(Jn(s,o)))):(u!==Am&&(r=Error(i(423),{cause:u}),ac(Jn(r,o))),s=s.current.alternate,s.flags|=65536,p&=-p,s.lanes|=p,u=Jn(u,o),p=op(s.stateNode,u,p),Pm(s,p),wt!==4&&(wt=2)),!1;var y=Error(i(520),{cause:u});if(y=Jn(y,o),Sc===null?Sc=[y]:Sc.push(y),wt!==4&&(wt=2),r===null)return!0;u=Jn(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,s=p&-p,o.lanes|=s,s=op(o.stateNode,u,s),Pm(o,s),!1;case 1:if(r=o.type,y=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Er===null||!Er.has(y))))return o.flags|=65536,p&=-p,o.lanes|=p,p=Ex(p),Sx(p,s,o,u),Pm(o,p),!1}o=o.return}while(o!==null);return!1}var lp=Error(i(461)),Ot=!1;function an(s,r,o,u){r.child=s===null?Cb(r,null,o,u):ka(r,s.child,o,u)}function Ax(s,r,o,u,p){o=o.render;var y=r.ref;if("ref"in u){var w={};for(var A in u)A!=="ref"&&(w[A]=u[A])}else w=u;return Ta(r),u=Hm(s,r,o,w,y,p),A=qm(),s!==null&&!Ot?(Gm(s,r,p),Ci(s,r,p)):(Qe&&A&&Em(r),r.flags|=1,an(s,r,u,p),r.child)}function kx(s,r,o,u,p){if(s===null){var y=o.type;return typeof y=="function"&&!_m(y)&&y.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=y,Nx(s,r,y,u,p)):(s=gd(o.type,null,u,r,r.mode,p),s.ref=r.ref,s.return=r,r.child=s)}if(y=s.child,!gp(s,p)){var w=y.memoizedProps;if(o=o.compare,o=o!==null?o:sc,o(w,u)&&s.ref===r.ref)return Ci(s,r,p)}return r.flags|=1,s=Ti(y,u),s.ref=r.ref,s.return=r,r.child=s}function Nx(s,r,o,u,p){if(s!==null){var y=s.memoizedProps;if(sc(y,u)&&s.ref===r.ref)if(Ot=!1,r.pendingProps=u=y,gp(s,p))(s.flags&131072)!==0&&(Ot=!0);else return r.lanes=s.lanes,Ci(s,r,p)}return cp(s,r,o,u,p)}function Cx(s,r,o,u){var p=u.children,y=s!==null?s.memoizedState:null;if(s===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(y=y!==null?y.baseLanes|o:o,s!==null){for(u=r.child=s.child,p=0;u!==null;)p=p|u.lanes|u.childLanes,u=u.sibling;u=p&~y}else u=0,r.child=null;return Rx(s,r,y,o,u)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},s!==null&&xd(r,y!==null?y.cachePool:null),y!==null?Db(r,y):Um(),jb(r);else return u=r.lanes=536870912,Rx(s,r,y!==null?y.baseLanes|o:o,o,u)}else y!==null?(xd(r,y.cachePool),Db(r,y),xr(),r.memoizedState=null):(s!==null&&xd(r,null),Um(),xr());return an(s,r,p,o),r.child}function vc(s,r){return s!==null&&s.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function Rx(s,r,o,u,p){var y=jm();return y=y===null?null:{parent:Mt._currentValue,pool:y},r.memoizedState={baseLanes:o,cachePool:y},s!==null&&xd(r,null),Um(),jb(r),s!==null&&Ao(s,r,u,!0),r.childLanes=p,null}function Od(s,r){return r=Ld({mode:r.mode,children:r.children},s.mode),r.ref=s.ref,s.child=r,r.return=s,r}function Ix(s,r,o){return ka(r,s.child,null,o),s=Od(r,r.pendingProps),s.flags|=2,zn(r),r.memoizedState=null,s}function SC(s,r,o){var u=r.pendingProps,p=(r.flags&128)!==0;if(r.flags&=-129,s===null){if(Qe){if(u.mode==="hidden")return s=Od(r,u),r.lanes=536870912,vc(null,s);if(Bm(r),(s=ht)?(s=H_(s,ts),s=s!==null&&s.data==="&"?s:null,s!==null&&(r.memoizedState={dehydrated:s,treeContext:hr!==null?{id:Js,overflow:Zs}:null,retryLane:536870912,hydrationErrors:null},o=mb(s),o.return=r,r.child=o,sn=r,ht=null)):s=null,s===null)throw mr(r);return r.lanes=536870912,null}return Od(r,u)}var y=s.memoizedState;if(y!==null){var w=y.dehydrated;if(Bm(r),p)if(r.flags&256)r.flags&=-257,r=Ix(s,r,o);else if(r.memoizedState!==null)r.child=s.child,r.flags|=128,r=null;else throw Error(i(558));else if(Ot||Ao(s,r,o,!1),p=(o&s.childLanes)!==0,Ot||p){if(u=ct,u!==null&&(w=Ul(u,o),w!==0&&w!==y.retryLane))throw y.retryLane=w,ba(s,w),Rn(u,s,w),lp;Kd(),r=Ix(s,r,o)}else s=y.treeContext,ht=ss(w.nextSibling),sn=r,Qe=!0,fr=null,ts=!1,s!==null&&yb(r,s),r=Od(r,u),r.flags|=4096;return r}return s=Ti(s.child,{mode:u.mode,children:u.children}),s.ref=r.ref,r.child=s,s.return=r,s}function Pd(s,r){var o=r.ref;if(o===null)s!==null&&s.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(s===null||s.ref!==o)&&(r.flags|=4194816)}}function cp(s,r,o,u,p){return Ta(r),o=Hm(s,r,o,u,void 0,p),u=qm(),s!==null&&!Ot?(Gm(s,r,p),Ci(s,r,p)):(Qe&&u&&Em(r),r.flags|=1,an(s,r,o,p),r.child)}function Dx(s,r,o,u,p,y){return Ta(r),r.updateQueue=null,o=Vb(r,u,o,p),Mb(s),u=qm(),s!==null&&!Ot?(Gm(s,r,y),Ci(s,r,y)):(Qe&&u&&Em(r),r.flags|=1,an(s,r,o,y),r.child)}function jx(s,r,o,u,p){if(Ta(r),r.stateNode===null){var y=wo,w=o.contextType;typeof w=="object"&&w!==null&&(y=rn(w)),y=new o(u,y),r.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=ap,r.stateNode=y,y._reactInternals=r,y=r.stateNode,y.props=u,y.state=r.memoizedState,y.refs={},Vm(r),w=o.contextType,y.context=typeof w=="object"&&w!==null?rn(w):wo,y.state=r.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(rp(r,o,w,u),y.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(w=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),w!==y.state&&ap.enqueueReplaceState(y,y.state,null),fc(r,u,y,p),hc(),y.state=r.memoizedState),typeof y.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(s===null){y=r.stateNode;var A=r.memoizedProps,O=Ca(o,A);y.props=O;var W=y.context,ie=o.contextType;w=wo,typeof ie=="object"&&ie!==null&&(w=rn(ie));var ae=o.getDerivedStateFromProps;ie=typeof ae=="function"||typeof y.getSnapshotBeforeUpdate=="function",A=r.pendingProps!==A,ie||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(A||W!==w)&&bx(r,y,u,w),gr=!1;var J=r.memoizedState;y.state=J,fc(r,u,y,p),hc(),W=r.memoizedState,A||J!==W||gr?(typeof ae=="function"&&(rp(r,o,ae,u),W=r.memoizedState),(O=gr||vx(r,o,O,u,J,W,w))?(ie||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(r.flags|=4194308)):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=W),y.props=u,y.state=W,y.context=w,u=O):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{y=r.stateNode,Om(s,r),w=r.memoizedProps,ie=Ca(o,w),y.props=ie,ae=r.pendingProps,J=y.context,W=o.contextType,O=wo,typeof W=="object"&&W!==null&&(O=rn(W)),A=o.getDerivedStateFromProps,(W=typeof A=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(w!==ae||J!==O)&&bx(r,y,u,O),gr=!1,J=r.memoizedState,y.state=J,fc(r,u,y,p),hc();var te=r.memoizedState;w!==ae||J!==te||gr||s!==null&&s.dependencies!==null&&vd(s.dependencies)?(typeof A=="function"&&(rp(r,o,A,u),te=r.memoizedState),(ie=gr||vx(r,o,ie,u,J,te,O)||s!==null&&s.dependencies!==null&&vd(s.dependencies))?(W||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,te,O),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,te,O)),typeof y.componentDidUpdate=="function"&&(r.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof y.componentDidUpdate!="function"||w===s.memoizedProps&&J===s.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===s.memoizedProps&&J===s.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=te),y.props=u,y.state=te,y.context=O,u=ie):(typeof y.componentDidUpdate!="function"||w===s.memoizedProps&&J===s.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===s.memoizedProps&&J===s.memoizedState||(r.flags|=1024),u=!1)}return y=u,Pd(s,r),u=(r.flags&128)!==0,y||u?(y=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:y.render(),r.flags|=1,s!==null&&u?(r.child=ka(r,s.child,null,p),r.child=ka(r,null,o,p)):an(s,r,o,p),r.memoizedState=y.state,s=r.child):s=Ci(s,r,p),s}function Mx(s,r,o,u){return _a(),r.flags|=256,an(s,r,o,u),r.child}var up={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function dp(s){return{baseLanes:s,cachePool:Tb()}}function hp(s,r,o){return s=s!==null?s.childLanes&~o:0,r&&(s|=Fn),s}function Vx(s,r,o){var u=r.pendingProps,p=!1,y=(r.flags&128)!==0,w;if((w=y)||(w=s!==null&&s.memoizedState===null?!1:(At.current&2)!==0),w&&(p=!0,r.flags&=-129),w=(r.flags&32)!==0,r.flags&=-33,s===null){if(Qe){if(p?br(r):xr(),(s=ht)?(s=H_(s,ts),s=s!==null&&s.data!=="&"?s:null,s!==null&&(r.memoizedState={dehydrated:s,treeContext:hr!==null?{id:Js,overflow:Zs}:null,retryLane:536870912,hydrationErrors:null},o=mb(s),o.return=r,r.child=o,sn=r,ht=null)):s=null,s===null)throw mr(r);return Yp(s)?r.lanes=32:r.lanes=536870912,null}var A=u.children;return u=u.fallback,p?(xr(),p=r.mode,A=Ld({mode:"hidden",children:A},p),u=xa(u,p,o,null),A.return=r,u.return=r,A.sibling=u,r.child=A,u=r.child,u.memoizedState=dp(o),u.childLanes=hp(s,w,o),r.memoizedState=up,vc(null,u)):(br(r),fp(r,A))}var O=s.memoizedState;if(O!==null&&(A=O.dehydrated,A!==null)){if(y)r.flags&256?(br(r),r.flags&=-257,r=mp(s,r,o)):r.memoizedState!==null?(xr(),r.child=s.child,r.flags|=128,r=null):(xr(),A=u.fallback,p=r.mode,u=Ld({mode:"visible",children:u.children},p),A=xa(A,p,o,null),A.flags|=2,u.return=r,A.return=r,u.sibling=A,r.child=u,ka(r,s.child,null,o),u=r.child,u.memoizedState=dp(o),u.childLanes=hp(s,w,o),r.memoizedState=up,r=vc(null,u));else if(br(r),Yp(A)){if(w=A.nextSibling&&A.nextSibling.dataset,w)var W=w.dgst;w=W,u=Error(i(419)),u.stack="",u.digest=w,ac({value:u,source:null,stack:null}),r=mp(s,r,o)}else if(Ot||Ao(s,r,o,!1),w=(o&s.childLanes)!==0,Ot||w){if(w=ct,w!==null&&(u=Ul(w,o),u!==0&&u!==O.retryLane))throw O.retryLane=u,ba(s,u),Rn(w,s,u),lp;Kp(A)||Kd(),r=mp(s,r,o)}else Kp(A)?(r.flags|=192,r.child=s.child,r=null):(s=O.treeContext,ht=ss(A.nextSibling),sn=r,Qe=!0,fr=null,ts=!1,s!==null&&yb(r,s),r=fp(r,u.children),r.flags|=4096);return r}return p?(xr(),A=u.fallback,p=r.mode,O=s.child,W=O.sibling,u=Ti(O,{mode:"hidden",children:u.children}),u.subtreeFlags=O.subtreeFlags&65011712,W!==null?A=Ti(W,A):(A=xa(A,p,o,null),A.flags|=2),A.return=r,u.return=r,u.sibling=A,r.child=u,vc(null,u),u=r.child,A=s.child.memoizedState,A===null?A=dp(o):(p=A.cachePool,p!==null?(O=Mt._currentValue,p=p.parent!==O?{parent:O,pool:O}:p):p=Tb(),A={baseLanes:A.baseLanes|o,cachePool:p}),u.memoizedState=A,u.childLanes=hp(s,w,o),r.memoizedState=up,vc(s.child,u)):(br(r),o=s.child,s=o.sibling,o=Ti(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,s!==null&&(w=r.deletions,w===null?(r.deletions=[s],r.flags|=16):w.push(s)),r.child=o,r.memoizedState=null,o)}function fp(s,r){return r=Ld({mode:"visible",children:r},s.mode),r.return=s,s.child=r}function Ld(s,r){return s=Ln(22,s,null,r),s.lanes=0,s}function mp(s,r,o){return ka(r,s.child,null,o),s=fp(r,r.pendingProps.children),s.flags|=2,r.memoizedState=null,s}function Ox(s,r,o){s.lanes|=r;var u=s.alternate;u!==null&&(u.lanes|=r),Cm(s.return,r,o)}function pp(s,r,o,u,p,y){var w=s.memoizedState;w===null?s.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:p,treeForkCount:y}:(w.isBackwards=r,w.rendering=null,w.renderingStartTime=0,w.last=u,w.tail=o,w.tailMode=p,w.treeForkCount=y)}function Px(s,r,o){var u=r.pendingProps,p=u.revealOrder,y=u.tail;u=u.children;var w=At.current,A=(w&2)!==0;if(A?(w=w&1|2,r.flags|=128):w&=1,ce(At,w),an(s,r,u,o),u=Qe?rc:0,!A&&s!==null&&(s.flags&128)!==0)e:for(s=r.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Ox(s,o,r);else if(s.tag===19)Ox(s,o,r);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(p){case"forwards":for(o=r.child,p=null;o!==null;)s=o.alternate,s!==null&&Ad(s)===null&&(p=o),o=o.sibling;o=p,o===null?(p=r.child,r.child=null):(p=o.sibling,o.sibling=null),pp(r,!1,p,o,y,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,p=r.child,r.child=null;p!==null;){if(s=p.alternate,s!==null&&Ad(s)===null){r.child=p;break}s=p.sibling,p.sibling=o,o=p,p=s}pp(r,!0,o,null,y,u);break;case"together":pp(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function Ci(s,r,o){if(s!==null&&(r.dependencies=s.dependencies),Tr|=r.lanes,(o&r.childLanes)===0)if(s!==null){if(Ao(s,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(s!==null&&r.child!==s.child)throw Error(i(153));if(r.child!==null){for(s=r.child,o=Ti(s,s.pendingProps),r.child=o,o.return=r;s.sibling!==null;)s=s.sibling,o=o.sibling=Ti(s,s.pendingProps),o.return=r;o.sibling=null}return r.child}function gp(s,r){return(s.lanes&r)!==0?!0:(s=s.dependencies,!!(s!==null&&vd(s)))}function AC(s,r,o){switch(r.tag){case 3:ge(r,r.stateNode.containerInfo),pr(r,Mt,s.memoizedState.cache),_a();break;case 27:case 5:xt(r);break;case 4:ge(r,r.stateNode.containerInfo);break;case 10:pr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Bm(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(br(r),r.flags|=128,null):(o&r.child.childLanes)!==0?Vx(s,r,o):(br(r),s=Ci(s,r,o),s!==null?s.sibling:null);br(r);break;case 19:var p=(s.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(Ao(s,r,o,!1),u=(o&r.childLanes)!==0),p){if(u)return Px(s,r,o);r.flags|=128}if(p=r.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),ce(At,At.current),u)break;return null;case 22:return r.lanes=0,Cx(s,r,o,r.pendingProps);case 24:pr(r,Mt,s.memoizedState.cache)}return Ci(s,r,o)}function Lx(s,r,o){if(s!==null)if(s.memoizedProps!==r.pendingProps)Ot=!0;else{if(!gp(s,o)&&(r.flags&128)===0)return Ot=!1,AC(s,r,o);Ot=(s.flags&131072)!==0}else Ot=!1,Qe&&(r.flags&1048576)!==0&&gb(r,rc,r.index);switch(r.lanes=0,r.tag){case 16:e:{var u=r.pendingProps;if(s=Sa(r.elementType),r.type=s,typeof s=="function")_m(s)?(u=Ca(s,u),r.tag=1,r=jx(null,r,s,u,o)):(r.tag=0,r=cp(null,r,s,u,o));else{if(s!=null){var p=s.$$typeof;if(p===Z){r.tag=11,r=Ax(null,r,s,u,o);break e}else if(p===R){r.tag=14,r=kx(null,r,s,u,o);break e}}throw r=ue(s)||s,Error(i(306,r,""))}}return r;case 0:return cp(s,r,r.type,r.pendingProps,o);case 1:return u=r.type,p=Ca(u,r.pendingProps),jx(s,r,u,p,o);case 3:e:{if(ge(r,r.stateNode.containerInfo),s===null)throw Error(i(387));u=r.pendingProps;var y=r.memoizedState;p=y.element,Om(s,r),fc(r,u,null,o);var w=r.memoizedState;if(u=w.cache,pr(r,Mt,u),u!==y.cache&&Rm(r,[Mt],o,!0),hc(),u=w.element,y.isDehydrated)if(y={element:u,isDehydrated:!1,cache:w.cache},r.updateQueue.baseState=y,r.memoizedState=y,r.flags&256){r=Mx(s,r,u,o);break e}else if(u!==p){p=Jn(Error(i(424)),r),ac(p),r=Mx(s,r,u,o);break e}else for(s=r.stateNode.containerInfo,s.nodeType===9?s=s.body:s=s.nodeName==="HTML"?s.ownerDocument.body:s,ht=ss(s.firstChild),sn=r,Qe=!0,fr=null,ts=!0,o=Cb(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(_a(),u===p){r=Ci(s,r,o);break e}an(s,r,u,o)}r=r.child}return r;case 26:return Pd(s,r),s===null?(o=Q_(r.type,null,r.pendingProps,null))?r.memoizedState=o:Qe||(o=r.type,s=r.pendingProps,u=eh(De.current).createElement(o),u[It]=r,u[Qt]=s,on(u,o,s),Dt(u),r.stateNode=u):r.memoizedState=Q_(r.type,s.memoizedProps,r.pendingProps,s.memoizedState),null;case 27:return xt(r),s===null&&Qe&&(u=r.stateNode=$_(r.type,r.pendingProps,De.current),sn=r,ts=!0,p=ht,Nr(r.type)?(Qp=p,ht=ss(u.firstChild)):ht=p),an(s,r,r.pendingProps.children,o),Pd(s,r),s===null&&(r.flags|=4194304),r.child;case 5:return s===null&&Qe&&((p=u=ht)&&(u=nR(u,r.type,r.pendingProps,ts),u!==null?(r.stateNode=u,sn=r,ht=ss(u.firstChild),ts=!1,p=!0):p=!1),p||mr(r)),xt(r),p=r.type,y=r.pendingProps,w=s!==null?s.memoizedProps:null,u=y.children,qp(p,y)?u=null:w!==null&&qp(p,w)&&(r.flags|=32),r.memoizedState!==null&&(p=Hm(s,r,yC,null,null,o),jc._currentValue=p),Pd(s,r),an(s,r,u,o),r.child;case 6:return s===null&&Qe&&((s=o=ht)&&(o=sR(o,r.pendingProps,ts),o!==null?(r.stateNode=o,sn=r,ht=null,s=!0):s=!1),s||mr(r)),null;case 13:return Vx(s,r,o);case 4:return ge(r,r.stateNode.containerInfo),u=r.pendingProps,s===null?r.child=ka(r,null,u,o):an(s,r,u,o),r.child;case 11:return Ax(s,r,r.type,r.pendingProps,o);case 7:return an(s,r,r.pendingProps,o),r.child;case 8:return an(s,r,r.pendingProps.children,o),r.child;case 12:return an(s,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,pr(r,r.type,u.value),an(s,r,u.children,o),r.child;case 9:return p=r.type._context,u=r.pendingProps.children,Ta(r),p=rn(p),u=u(p),r.flags|=1,an(s,r,u,o),r.child;case 14:return kx(s,r,r.type,r.pendingProps,o);case 15:return Nx(s,r,r.type,r.pendingProps,o);case 19:return Px(s,r,o);case 31:return SC(s,r,o);case 22:return Cx(s,r,o,r.pendingProps);case 24:return Ta(r),u=rn(Mt),s===null?(p=jm(),p===null&&(p=ct,y=Im(),p.pooledCache=y,y.refCount++,y!==null&&(p.pooledCacheLanes|=o),p=y),r.memoizedState={parent:u,cache:p},Vm(r),pr(r,Mt,p)):((s.lanes&o)!==0&&(Om(s,r),fc(r,null,null,o),hc()),p=s.memoizedState,y=r.memoizedState,p.parent!==u?(p={parent:u,cache:u},r.memoizedState=p,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=p),pr(r,Mt,u)):(u=y.cache,pr(r,Mt,u),u!==p.cache&&Rm(r,[Mt],o,!0))),an(s,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function Ri(s){s.flags|=4}function yp(s,r,o,u,p){if((r=(s.mode&32)!==0)&&(r=!1),r){if(s.flags|=16777216,(p&335544128)===p)if(s.stateNode.complete)s.flags|=8192;else if(d_())s.flags|=8192;else throw Aa=wd,Mm}else s.flags&=-16777217}function Ux(s,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!e1(r))if(d_())s.flags|=8192;else throw Aa=wd,Mm}function Ud(s,r){r!==null&&(s.flags|=4),s.flags&16384&&(r=s.tag!==22?Gu():536870912,s.lanes|=r,Lo|=r)}function bc(s,r){if(!Qe)switch(s.tailMode){case"hidden":r=s.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?s.tail=null:o.sibling=null;break;case"collapsed":o=s.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||s.tail===null?s.tail=null:s.tail.sibling=null:u.sibling=null}}function ft(s){var r=s.alternate!==null&&s.alternate.child===s.child,o=0,u=0;if(r)for(var p=s.child;p!==null;)o|=p.lanes|p.childLanes,u|=p.subtreeFlags&65011712,u|=p.flags&65011712,p.return=s,p=p.sibling;else for(p=s.child;p!==null;)o|=p.lanes|p.childLanes,u|=p.subtreeFlags,u|=p.flags,p.return=s,p=p.sibling;return s.subtreeFlags|=u,s.childLanes=o,r}function kC(s,r,o){var u=r.pendingProps;switch(Sm(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(r),null;case 1:return ft(r),null;case 3:return o=r.stateNode,u=null,s!==null&&(u=s.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),Ai(Mt),Me(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(s===null||s.child===null)&&(So(r)?Ri(r):s===null||s.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,km())),ft(r),null;case 26:var p=r.type,y=r.memoizedState;return s===null?(Ri(r),y!==null?(ft(r),Ux(r,y)):(ft(r),yp(r,p,null,u,o))):y?y!==s.memoizedState?(Ri(r),ft(r),Ux(r,y)):(ft(r),r.flags&=-16777217):(s=s.memoizedProps,s!==u&&Ri(r),ft(r),yp(r,p,s,u,o)),null;case 27:if(en(r),o=De.current,p=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==u&&Ri(r);else{if(!u){if(r.stateNode===null)throw Error(i(166));return ft(r),null}s=fe.current,So(r)?vb(r):(s=$_(p,u,o),r.stateNode=s,Ri(r))}return ft(r),null;case 5:if(en(r),p=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==u&&Ri(r);else{if(!u){if(r.stateNode===null)throw Error(i(166));return ft(r),null}if(y=fe.current,So(r))vb(r);else{var w=eh(De.current);switch(y){case 1:y=w.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:y=w.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":y=w.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":y=w.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":y=w.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof u.is=="string"?w.createElement("select",{is:u.is}):w.createElement("select"),u.multiple?y.multiple=!0:u.size&&(y.size=u.size);break;default:y=typeof u.is=="string"?w.createElement(p,{is:u.is}):w.createElement(p)}}y[It]=r,y[Qt]=u;e:for(w=r.child;w!==null;){if(w.tag===5||w.tag===6)y.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===r)break e;for(;w.sibling===null;){if(w.return===null||w.return===r)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}r.stateNode=y;e:switch(on(y,p,u),p){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Ri(r)}}return ft(r),yp(r,r.type,s===null?null:s.memoizedProps,r.pendingProps,o),null;case 6:if(s&&r.stateNode!=null)s.memoizedProps!==u&&Ri(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(i(166));if(s=De.current,So(r)){if(s=r.stateNode,o=r.memoizedProps,u=null,p=sn,p!==null)switch(p.tag){case 27:case 5:u=p.memoizedProps}s[It]=r,s=!!(s.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||V_(s.nodeValue,o)),s||mr(r,!0)}else s=eh(s).createTextNode(u),s[It]=r,r.stateNode=s}return ft(r),null;case 31:if(o=r.memoizedState,s===null||s.memoizedState!==null){if(u=So(r),o!==null){if(s===null){if(!u)throw Error(i(318));if(s=r.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(557));s[It]=r}else _a(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ft(r),s=!1}else o=km(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=o),s=!0;if(!s)return r.flags&256?(zn(r),r):(zn(r),null);if((r.flags&128)!==0)throw Error(i(558))}return ft(r),null;case 13:if(u=r.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(p=So(r),u!==null&&u.dehydrated!==null){if(s===null){if(!p)throw Error(i(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(317));p[It]=r}else _a(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ft(r),p=!1}else p=km(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=p),p=!0;if(!p)return r.flags&256?(zn(r),r):(zn(r),null)}return zn(r),(r.flags&128)!==0?(r.lanes=o,r):(o=u!==null,s=s!==null&&s.memoizedState!==null,o&&(u=r.child,p=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(p=u.alternate.memoizedState.cachePool.pool),y=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==p&&(u.flags|=2048)),o!==s&&o&&(r.child.flags|=8192),Ud(r,r.updateQueue),ft(r),null);case 4:return Me(),s===null&&Up(r.stateNode.containerInfo),ft(r),null;case 10:return Ai(r.type),ft(r),null;case 19:if(se(At),u=r.memoizedState,u===null)return ft(r),null;if(p=(r.flags&128)!==0,y=u.rendering,y===null)if(p)bc(u,!1);else{if(wt!==0||s!==null&&(s.flags&128)!==0)for(s=r.child;s!==null;){if(y=Ad(s),y!==null){for(r.flags|=128,bc(u,!1),s=y.updateQueue,r.updateQueue=s,Ud(r,s),r.subtreeFlags=0,s=o,o=r.child;o!==null;)fb(o,s),o=o.sibling;return ce(At,At.current&1|2),Qe&&Ei(r,u.treeForkCount),r.child}s=s.sibling}u.tail!==null&&bn()>qd&&(r.flags|=128,p=!0,bc(u,!1),r.lanes=4194304)}else{if(!p)if(s=Ad(y),s!==null){if(r.flags|=128,p=!0,s=s.updateQueue,r.updateQueue=s,Ud(r,s),bc(u,!0),u.tail===null&&u.tailMode==="hidden"&&!y.alternate&&!Qe)return ft(r),null}else 2*bn()-u.renderingStartTime>qd&&o!==536870912&&(r.flags|=128,p=!0,bc(u,!1),r.lanes=4194304);u.isBackwards?(y.sibling=r.child,r.child=y):(s=u.last,s!==null?s.sibling=y:r.child=y,u.last=y)}return u.tail!==null?(s=u.tail,u.rendering=s,u.tail=s.sibling,u.renderingStartTime=bn(),s.sibling=null,o=At.current,ce(At,p?o&1|2:o&1),Qe&&Ei(r,u.treeForkCount),s):(ft(r),null);case 22:case 23:return zn(r),zm(),u=r.memoizedState!==null,s!==null?s.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(ft(r),r.subtreeFlags&6&&(r.flags|=8192)):ft(r),o=r.updateQueue,o!==null&&Ud(r,o.retryQueue),o=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),s!==null&&se(Ea),null;case 24:return o=null,s!==null&&(o=s.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),Ai(Mt),ft(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function NC(s,r){switch(Sm(r),r.tag){case 1:return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 3:return Ai(Mt),Me(),s=r.flags,(s&65536)!==0&&(s&128)===0?(r.flags=s&-65537|128,r):null;case 26:case 27:case 5:return en(r),null;case 31:if(r.memoizedState!==null){if(zn(r),r.alternate===null)throw Error(i(340));_a()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 13:if(zn(r),s=r.memoizedState,s!==null&&s.dehydrated!==null){if(r.alternate===null)throw Error(i(340));_a()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 19:return se(At),null;case 4:return Me(),null;case 10:return Ai(r.type),null;case 22:case 23:return zn(r),zm(),s!==null&&se(Ea),s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 24:return Ai(Mt),null;case 25:return null;default:return null}}function zx(s,r){switch(Sm(r),r.tag){case 3:Ai(Mt),Me();break;case 26:case 27:case 5:en(r);break;case 4:Me();break;case 31:r.memoizedState!==null&&zn(r);break;case 13:zn(r);break;case 19:se(At);break;case 10:Ai(r.type);break;case 22:case 23:zn(r),zm(),s!==null&&se(Ea);break;case 24:Ai(Mt)}}function xc(s,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var p=u.next;o=p;do{if((o.tag&s)===s){u=void 0;var y=o.create,w=o.inst;u=y(),w.destroy=u}o=o.next}while(o!==p)}}catch(A){it(r,r.return,A)}}function _r(s,r,o){try{var u=r.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var y=p.next;u=y;do{if((u.tag&s)===s){var w=u.inst,A=w.destroy;if(A!==void 0){w.destroy=void 0,p=r;var O=o,W=A;try{W()}catch(ie){it(p,O,ie)}}}u=u.next}while(u!==y)}}catch(ie){it(r,r.return,ie)}}function Bx(s){var r=s.updateQueue;if(r!==null){var o=s.stateNode;try{Ib(r,o)}catch(u){it(s,s.return,u)}}}function Fx(s,r,o){o.props=Ca(s.type,s.memoizedProps),o.state=s.memoizedState;try{o.componentWillUnmount()}catch(u){it(s,r,u)}}function _c(s,r){try{var o=s.ref;if(o!==null){switch(s.tag){case 26:case 27:case 5:var u=s.stateNode;break;case 30:u=s.stateNode;break;default:u=s.stateNode}typeof o=="function"?s.refCleanup=o(u):o.current=u}}catch(p){it(s,r,p)}}function ei(s,r){var o=s.ref,u=s.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(p){it(s,r,p)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(p){it(s,r,p)}else o.current=null}function Hx(s){var r=s.type,o=s.memoizedProps,u=s.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(p){it(s,s.return,p)}}function vp(s,r,o){try{var u=s.stateNode;XC(u,s.type,o,r),u[Qt]=r}catch(p){it(s,s.return,p)}}function qx(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Nr(s.type)||s.tag===4}function bp(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||qx(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Nr(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function xp(s,r,o){var u=s.tag;if(u===5||u===6)s=s.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(s,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(s),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=gs));else if(u!==4&&(u===27&&Nr(s.type)&&(o=s.stateNode,r=null),s=s.child,s!==null))for(xp(s,r,o),s=s.sibling;s!==null;)xp(s,r,o),s=s.sibling}function zd(s,r,o){var u=s.tag;if(u===5||u===6)s=s.stateNode,r?o.insertBefore(s,r):o.appendChild(s);else if(u!==4&&(u===27&&Nr(s.type)&&(o=s.stateNode),s=s.child,s!==null))for(zd(s,r,o),s=s.sibling;s!==null;)zd(s,r,o),s=s.sibling}function Gx(s){var r=s.stateNode,o=s.memoizedProps;try{for(var u=s.type,p=r.attributes;p.length;)r.removeAttributeNode(p[0]);on(r,u,o),r[It]=s,r[Qt]=o}catch(y){it(s,s.return,y)}}var Ii=!1,Pt=!1,_p=!1,$x=typeof WeakSet=="function"?WeakSet:Set,Wt=null;function CC(s,r){if(s=s.containerInfo,Fp=oh,s=ib(s),mm(s)){if("selectionStart"in s)var o={start:s.selectionStart,end:s.selectionEnd};else e:{o=(o=s.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var p=u.anchorOffset,y=u.focusNode;u=u.focusOffset;try{o.nodeType,y.nodeType}catch{o=null;break e}var w=0,A=-1,O=-1,W=0,ie=0,ae=s,J=null;t:for(;;){for(var te;ae!==o||p!==0&&ae.nodeType!==3||(A=w+p),ae!==y||u!==0&&ae.nodeType!==3||(O=w+u),ae.nodeType===3&&(w+=ae.nodeValue.length),(te=ae.firstChild)!==null;)J=ae,ae=te;for(;;){if(ae===s)break t;if(J===o&&++W===p&&(A=w),J===y&&++ie===u&&(O=w),(te=ae.nextSibling)!==null)break;ae=J,J=ae.parentNode}ae=te}o=A===-1||O===-1?null:{start:A,end:O}}else o=null}o=o||{start:0,end:0}}else o=null;for(Hp={focusedElem:s,selectionRange:o},oh=!1,Wt=r;Wt!==null;)if(r=Wt,s=r.child,(r.subtreeFlags&1028)!==0&&s!==null)s.return=r,Wt=s;else for(;Wt!==null;){switch(r=Wt,y=r.alternate,s=r.flags,r.tag){case 0:if((s&4)!==0&&(s=r.updateQueue,s=s!==null?s.events:null,s!==null))for(o=0;o<s.length;o++)p=s[o],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&y!==null){s=void 0,o=r,p=y.memoizedProps,y=y.memoizedState,u=o.stateNode;try{var be=Ca(o.type,p);s=u.getSnapshotBeforeUpdate(be,y),u.__reactInternalSnapshotBeforeUpdate=s}catch(Re){it(o,o.return,Re)}}break;case 3:if((s&1024)!==0){if(s=r.stateNode.containerInfo,o=s.nodeType,o===9)$p(s);else if(o===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":$p(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=r.sibling,s!==null){s.return=r.return,Wt=s;break}Wt=r.return}}function Kx(s,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:ji(s,o),u&4&&xc(5,o);break;case 1:if(ji(s,o),u&4)if(s=o.stateNode,r===null)try{s.componentDidMount()}catch(w){it(o,o.return,w)}else{var p=Ca(o.type,r.memoizedProps);r=r.memoizedState;try{s.componentDidUpdate(p,r,s.__reactInternalSnapshotBeforeUpdate)}catch(w){it(o,o.return,w)}}u&64&&Bx(o),u&512&&_c(o,o.return);break;case 3:if(ji(s,o),u&64&&(s=o.updateQueue,s!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{Ib(s,r)}catch(w){it(o,o.return,w)}}break;case 27:r===null&&u&4&&Gx(o);case 26:case 5:ji(s,o),r===null&&u&4&&Hx(o),u&512&&_c(o,o.return);break;case 12:ji(s,o);break;case 31:ji(s,o),u&4&&Xx(s,o);break;case 13:ji(s,o),u&4&&Wx(s,o),u&64&&(s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(o=LC.bind(null,o),iR(s,o))));break;case 22:if(u=o.memoizedState!==null||Ii,!u){r=r!==null&&r.memoizedState!==null||Pt,p=Ii;var y=Pt;Ii=u,(Pt=r)&&!y?Mi(s,o,(o.subtreeFlags&8772)!==0):ji(s,o),Ii=p,Pt=y}break;case 30:break;default:ji(s,o)}}function Yx(s){var r=s.alternate;r!==null&&(s.alternate=null,Yx(r)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(r=s.stateNode,r!==null&&oo(r)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var gt=null,An=!1;function Di(s,r,o){for(o=o.child;o!==null;)Qx(s,r,o),o=o.sibling}function Qx(s,r,o){if(tn&&typeof tn.onCommitFiberUnmount=="function")try{tn.onCommitFiberUnmount(hs,o)}catch{}switch(o.tag){case 26:Pt||ei(o,r),Di(s,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Pt||ei(o,r);var u=gt,p=An;Nr(o.type)&&(gt=o.stateNode,An=!1),Di(s,r,o),Rc(o.stateNode),gt=u,An=p;break;case 5:Pt||ei(o,r);case 6:if(u=gt,p=An,gt=null,Di(s,r,o),gt=u,An=p,gt!==null)if(An)try{(gt.nodeType===9?gt.body:gt.nodeName==="HTML"?gt.ownerDocument.body:gt).removeChild(o.stateNode)}catch(y){it(o,r,y)}else try{gt.removeChild(o.stateNode)}catch(y){it(o,r,y)}break;case 18:gt!==null&&(An?(s=gt,B_(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,o.stateNode),$o(s)):B_(gt,o.stateNode));break;case 4:u=gt,p=An,gt=o.stateNode.containerInfo,An=!0,Di(s,r,o),gt=u,An=p;break;case 0:case 11:case 14:case 15:_r(2,o,r),Pt||_r(4,o,r),Di(s,r,o);break;case 1:Pt||(ei(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&Fx(o,r,u)),Di(s,r,o);break;case 21:Di(s,r,o);break;case 22:Pt=(u=Pt)||o.memoizedState!==null,Di(s,r,o),Pt=u;break;default:Di(s,r,o)}}function Xx(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{$o(s)}catch(o){it(r,r.return,o)}}}function Wx(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{$o(s)}catch(o){it(r,r.return,o)}}function RC(s){switch(s.tag){case 31:case 13:case 19:var r=s.stateNode;return r===null&&(r=s.stateNode=new $x),r;case 22:return s=s.stateNode,r=s._retryCache,r===null&&(r=s._retryCache=new $x),r;default:throw Error(i(435,s.tag))}}function Bd(s,r){var o=RC(s);r.forEach(function(u){if(!o.has(u)){o.add(u);var p=UC.bind(null,s,u);u.then(p,p)}})}function kn(s,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var p=o[u],y=s,w=r,A=w;e:for(;A!==null;){switch(A.tag){case 27:if(Nr(A.type)){gt=A.stateNode,An=!1;break e}break;case 5:gt=A.stateNode,An=!1;break e;case 3:case 4:gt=A.stateNode.containerInfo,An=!0;break e}A=A.return}if(gt===null)throw Error(i(160));Qx(y,w,p),gt=null,An=!1,y=p.alternate,y!==null&&(y.return=null),p.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)Jx(r,s),r=r.sibling}var ws=null;function Jx(s,r){var o=s.alternate,u=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:kn(r,s),Nn(s),u&4&&(_r(3,s,s.return),xc(3,s),_r(5,s,s.return));break;case 1:kn(r,s),Nn(s),u&512&&(Pt||o===null||ei(o,o.return)),u&64&&Ii&&(s=s.updateQueue,s!==null&&(u=s.callbacks,u!==null&&(o=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var p=ws;if(kn(r,s),Nn(s),u&512&&(Pt||o===null||ei(o,o.return)),u&4){var y=o!==null?o.memoizedState:null;if(u=s.memoizedState,o===null)if(u===null)if(s.stateNode===null){e:{u=s.type,o=s.memoizedProps,p=p.ownerDocument||p;t:switch(u){case"title":y=p.getElementsByTagName("title")[0],(!y||y[zs]||y[It]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=p.createElement(u),p.head.insertBefore(y,p.querySelector("head > title"))),on(y,u,o),y[It]=s,Dt(y),u=y;break e;case"link":var w=J_("link","href",p).get(u+(o.href||""));if(w){for(var A=0;A<w.length;A++)if(y=w[A],y.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&y.getAttribute("rel")===(o.rel==null?null:o.rel)&&y.getAttribute("title")===(o.title==null?null:o.title)&&y.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){w.splice(A,1);break t}}y=p.createElement(u),on(y,u,o),p.head.appendChild(y);break;case"meta":if(w=J_("meta","content",p).get(u+(o.content||""))){for(A=0;A<w.length;A++)if(y=w[A],y.getAttribute("content")===(o.content==null?null:""+o.content)&&y.getAttribute("name")===(o.name==null?null:o.name)&&y.getAttribute("property")===(o.property==null?null:o.property)&&y.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&y.getAttribute("charset")===(o.charSet==null?null:o.charSet)){w.splice(A,1);break t}}y=p.createElement(u),on(y,u,o),p.head.appendChild(y);break;default:throw Error(i(468,u))}y[It]=s,Dt(y),u=y}s.stateNode=u}else Z_(p,s.type,s.stateNode);else s.stateNode=W_(p,u,s.memoizedProps);else y!==u?(y===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):y.count--,u===null?Z_(p,s.type,s.stateNode):W_(p,u,s.memoizedProps)):u===null&&s.stateNode!==null&&vp(s,s.memoizedProps,o.memoizedProps)}break;case 27:kn(r,s),Nn(s),u&512&&(Pt||o===null||ei(o,o.return)),o!==null&&u&4&&vp(s,s.memoizedProps,o.memoizedProps);break;case 5:if(kn(r,s),Nn(s),u&512&&(Pt||o===null||ei(o,o.return)),s.flags&32){p=s.stateNode;try{Sn(p,"")}catch(be){it(s,s.return,be)}}u&4&&s.stateNode!=null&&(p=s.memoizedProps,vp(s,p,o!==null?o.memoizedProps:p)),u&1024&&(_p=!0);break;case 6:if(kn(r,s),Nn(s),u&4){if(s.stateNode===null)throw Error(i(162));u=s.memoizedProps,o=s.stateNode;try{o.nodeValue=u}catch(be){it(s,s.return,be)}}break;case 3:if(sh=null,p=ws,ws=th(r.containerInfo),kn(r,s),ws=p,Nn(s),u&4&&o!==null&&o.memoizedState.isDehydrated)try{$o(r.containerInfo)}catch(be){it(s,s.return,be)}_p&&(_p=!1,Zx(s));break;case 4:u=ws,ws=th(s.stateNode.containerInfo),kn(r,s),Nn(s),ws=u;break;case 12:kn(r,s),Nn(s);break;case 31:kn(r,s),Nn(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Bd(s,u)));break;case 13:kn(r,s),Nn(s),s.child.flags&8192&&s.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Hd=bn()),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Bd(s,u)));break;case 22:p=s.memoizedState!==null;var O=o!==null&&o.memoizedState!==null,W=Ii,ie=Pt;if(Ii=W||p,Pt=ie||O,kn(r,s),Pt=ie,Ii=W,Nn(s),u&8192)e:for(r=s.stateNode,r._visibility=p?r._visibility&-2:r._visibility|1,p&&(o===null||O||Ii||Pt||Ra(s)),o=null,r=s;;){if(r.tag===5||r.tag===26){if(o===null){O=o=r;try{if(y=O.stateNode,p)w=y.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{A=O.stateNode;var ae=O.memoizedProps.style,J=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;A.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(be){it(O,O.return,be)}}}else if(r.tag===6){if(o===null){O=r;try{O.stateNode.nodeValue=p?"":O.memoizedProps}catch(be){it(O,O.return,be)}}}else if(r.tag===18){if(o===null){O=r;try{var te=O.stateNode;p?F_(te,!0):F_(O.stateNode,!1)}catch(be){it(O,O.return,be)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===s)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=s.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Bd(s,o))));break;case 19:kn(r,s),Nn(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Bd(s,u)));break;case 30:break;case 21:break;default:kn(r,s),Nn(s)}}function Nn(s){var r=s.flags;if(r&2){try{for(var o,u=s.return;u!==null;){if(qx(u)){o=u;break}u=u.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var p=o.stateNode,y=bp(s);zd(s,y,p);break;case 5:var w=o.stateNode;o.flags&32&&(Sn(w,""),o.flags&=-33);var A=bp(s);zd(s,A,w);break;case 3:case 4:var O=o.stateNode.containerInfo,W=bp(s);xp(s,W,O);break;default:throw Error(i(161))}}catch(ie){it(s,s.return,ie)}s.flags&=-3}r&4096&&(s.flags&=-4097)}function Zx(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var r=s;Zx(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),s=s.sibling}}function ji(s,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Kx(s,r.alternate,r),r=r.sibling}function Ra(s){for(s=s.child;s!==null;){var r=s;switch(r.tag){case 0:case 11:case 14:case 15:_r(4,r,r.return),Ra(r);break;case 1:ei(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&Fx(r,r.return,o),Ra(r);break;case 27:Rc(r.stateNode);case 26:case 5:ei(r,r.return),Ra(r);break;case 22:r.memoizedState===null&&Ra(r);break;case 30:Ra(r);break;default:Ra(r)}s=s.sibling}}function Mi(s,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,p=s,y=r,w=y.flags;switch(y.tag){case 0:case 11:case 15:Mi(p,y,o),xc(4,y);break;case 1:if(Mi(p,y,o),u=y,p=u.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(W){it(u,u.return,W)}if(u=y,p=u.updateQueue,p!==null){var A=u.stateNode;try{var O=p.shared.hiddenCallbacks;if(O!==null)for(p.shared.hiddenCallbacks=null,p=0;p<O.length;p++)Rb(O[p],A)}catch(W){it(u,u.return,W)}}o&&w&64&&Bx(y),_c(y,y.return);break;case 27:Gx(y);case 26:case 5:Mi(p,y,o),o&&u===null&&w&4&&Hx(y),_c(y,y.return);break;case 12:Mi(p,y,o);break;case 31:Mi(p,y,o),o&&w&4&&Xx(p,y);break;case 13:Mi(p,y,o),o&&w&4&&Wx(p,y);break;case 22:y.memoizedState===null&&Mi(p,y,o),_c(y,y.return);break;case 30:break;default:Mi(p,y,o)}r=r.sibling}}function wp(s,r){var o=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),s=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==o&&(s!=null&&s.refCount++,o!=null&&oc(o))}function Tp(s,r){s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&oc(s))}function Ts(s,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)e_(s,r,o,u),r=r.sibling}function e_(s,r,o,u){var p=r.flags;switch(r.tag){case 0:case 11:case 15:Ts(s,r,o,u),p&2048&&xc(9,r);break;case 1:Ts(s,r,o,u);break;case 3:Ts(s,r,o,u),p&2048&&(s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&oc(s)));break;case 12:if(p&2048){Ts(s,r,o,u),s=r.stateNode;try{var y=r.memoizedProps,w=y.id,A=y.onPostCommit;typeof A=="function"&&A(w,r.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(O){it(r,r.return,O)}}else Ts(s,r,o,u);break;case 31:Ts(s,r,o,u);break;case 13:Ts(s,r,o,u);break;case 23:break;case 22:y=r.stateNode,w=r.alternate,r.memoizedState!==null?y._visibility&2?Ts(s,r,o,u):wc(s,r):y._visibility&2?Ts(s,r,o,u):(y._visibility|=2,Vo(s,r,o,u,(r.subtreeFlags&10256)!==0||!1)),p&2048&&wp(w,r);break;case 24:Ts(s,r,o,u),p&2048&&Tp(r.alternate,r);break;default:Ts(s,r,o,u)}}function Vo(s,r,o,u,p){for(p=p&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var y=s,w=r,A=o,O=u,W=w.flags;switch(w.tag){case 0:case 11:case 15:Vo(y,w,A,O,p),xc(8,w);break;case 23:break;case 22:var ie=w.stateNode;w.memoizedState!==null?ie._visibility&2?Vo(y,w,A,O,p):wc(y,w):(ie._visibility|=2,Vo(y,w,A,O,p)),p&&W&2048&&wp(w.alternate,w);break;case 24:Vo(y,w,A,O,p),p&&W&2048&&Tp(w.alternate,w);break;default:Vo(y,w,A,O,p)}r=r.sibling}}function wc(s,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=s,u=r,p=u.flags;switch(u.tag){case 22:wc(o,u),p&2048&&wp(u.alternate,u);break;case 24:wc(o,u),p&2048&&Tp(u.alternate,u);break;default:wc(o,u)}r=r.sibling}}var Tc=8192;function Oo(s,r,o){if(s.subtreeFlags&Tc)for(s=s.child;s!==null;)t_(s,r,o),s=s.sibling}function t_(s,r,o){switch(s.tag){case 26:Oo(s,r,o),s.flags&Tc&&s.memoizedState!==null&&gR(o,ws,s.memoizedState,s.memoizedProps);break;case 5:Oo(s,r,o);break;case 3:case 4:var u=ws;ws=th(s.stateNode.containerInfo),Oo(s,r,o),ws=u;break;case 22:s.memoizedState===null&&(u=s.alternate,u!==null&&u.memoizedState!==null?(u=Tc,Tc=16777216,Oo(s,r,o),Tc=u):Oo(s,r,o));break;default:Oo(s,r,o)}}function n_(s){var r=s.alternate;if(r!==null&&(s=r.child,s!==null)){r.child=null;do r=s.sibling,s.sibling=null,s=r;while(s!==null)}}function Ec(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Wt=u,i_(u,s)}n_(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)s_(s),s=s.sibling}function s_(s){switch(s.tag){case 0:case 11:case 15:Ec(s),s.flags&2048&&_r(9,s,s.return);break;case 3:Ec(s);break;case 12:Ec(s);break;case 22:var r=s.stateNode;s.memoizedState!==null&&r._visibility&2&&(s.return===null||s.return.tag!==13)?(r._visibility&=-3,Fd(s)):Ec(s);break;default:Ec(s)}}function Fd(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Wt=u,i_(u,s)}n_(s)}for(s=s.child;s!==null;){switch(r=s,r.tag){case 0:case 11:case 15:_r(8,r,r.return),Fd(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,Fd(r));break;default:Fd(r)}s=s.sibling}}function i_(s,r){for(;Wt!==null;){var o=Wt;switch(o.tag){case 0:case 11:case 15:_r(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:oc(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Wt=u;else e:for(o=s;Wt!==null;){u=Wt;var p=u.sibling,y=u.return;if(Yx(u),u===o){Wt=null;break e}if(p!==null){p.return=y,Wt=p;break e}Wt=y}}}var IC={getCacheForType:function(s){var r=rn(Mt),o=r.data.get(s);return o===void 0&&(o=s(),r.data.set(s,o)),o},cacheSignal:function(){return rn(Mt).controller.signal}},DC=typeof WeakMap=="function"?WeakMap:Map,et=0,ct=null,Fe=null,qe=0,st=0,Bn=null,wr=!1,Po=!1,Ep=!1,Vi=0,wt=0,Tr=0,Ia=0,Sp=0,Fn=0,Lo=0,Sc=null,Cn=null,Ap=!1,Hd=0,r_=0,qd=1/0,Gd=null,Er=null,qt=0,Sr=null,Uo=null,Oi=0,kp=0,Np=null,a_=null,Ac=0,Cp=null;function Hn(){return(et&2)!==0&&qe!==0?qe&-qe:V.T!==null?Vp():$u()}function o_(){if(Fn===0)if((qe&536870912)===0||Qe){var s=ia;ia<<=1,(ia&3932160)===0&&(ia=262144),Fn=s}else Fn=536870912;return s=Un.current,s!==null&&(s.flags|=32),Fn}function Rn(s,r,o){(s===ct&&(st===2||st===9)||s.cancelPendingCommit!==null)&&(zo(s,0),Ar(s,qe,Fn,!1)),ra(s,o),((et&2)===0||s!==ct)&&(s===ct&&((et&2)===0&&(Ia|=o),wt===4&&Ar(s,qe,Fn,!1)),ti(s))}function l_(s,r,o){if((et&6)!==0)throw Error(i(327));var u=!o&&(r&127)===0&&(r&s.expiredLanes)===0||fs(s,r),p=u?VC(s,r):Ip(s,r,!0),y=u;do{if(p===0){Po&&!u&&Ar(s,r,0,!1);break}else{if(o=s.current.alternate,y&&!jC(o)){p=Ip(s,r,!1),y=!1;continue}if(p===2){if(y=r,s.errorRecoveryDisabledLanes&y)var w=0;else w=s.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){r=w;e:{var A=s;p=Sc;var O=A.current.memoizedState.isDehydrated;if(O&&(zo(A,w).flags|=256),w=Ip(A,w,!1),w!==2){if(Ep&&!O){A.errorRecoveryDisabledLanes|=y,Ia|=y,p=4;break e}y=Cn,Cn=p,y!==null&&(Cn===null?Cn=y:Cn.push.apply(Cn,y))}p=w}if(y=!1,p!==2)continue}}if(p===1){zo(s,0),Ar(s,r,0,!0);break}e:{switch(u=s,y=p,y){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:Ar(u,r,Fn,!wr);break e;case 2:Cn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(p=Hd+300-bn(),10<p)){if(Ar(u,r,Fn,!wr),Ps(u,0,!0)!==0)break e;Oi=r,u.timeoutHandle=U_(c_.bind(null,u,o,Cn,Gd,Ap,r,Fn,Ia,Lo,wr,y,"Throttled",-0,0),p);break e}c_(u,o,Cn,Gd,Ap,r,Fn,Ia,Lo,wr,y,null,-0,0)}}break}while(!0);ti(s)}function c_(s,r,o,u,p,y,w,A,O,W,ie,ae,J,te){if(s.timeoutHandle=-1,ae=r.subtreeFlags,ae&8192||(ae&16785408)===16785408){ae={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:gs},t_(r,y,ae);var be=(y&62914560)===y?Hd-bn():(y&4194048)===y?r_-bn():0;if(be=yR(ae,be),be!==null){Oi=y,s.cancelPendingCommit=be(y_.bind(null,s,r,y,o,u,p,w,A,O,ie,ae,null,J,te)),Ar(s,y,w,!W);return}}y_(s,r,y,o,u,p,w,A,O)}function jC(s){for(var r=s;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var p=o[u],y=p.getSnapshot;p=p.value;try{if(!Pn(y(),p))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Ar(s,r,o,u){r&=~Sp,r&=~Ia,s.suspendedLanes|=r,s.pingedLanes&=~r,u&&(s.warmLanes|=r),u=s.expirationTimes;for(var p=r;0<p;){var y=31-Et(p),w=1<<y;u[y]=-1,p&=~w}o!==0&&aa(s,o,r)}function $d(){return(et&6)===0?(kc(0),!1):!0}function Rp(){if(Fe!==null){if(st===0)var s=Fe.return;else s=Fe,Si=wa=null,$m(s),Ro=null,cc=0,s=Fe;for(;s!==null;)zx(s.alternate,s),s=s.return;Fe=null}}function zo(s,r){var o=s.timeoutHandle;o!==-1&&(s.timeoutHandle=-1,ZC(o)),o=s.cancelPendingCommit,o!==null&&(s.cancelPendingCommit=null,o()),Oi=0,Rp(),ct=s,Fe=o=Ti(s.current,null),qe=r,st=0,Bn=null,wr=!1,Po=fs(s,r),Ep=!1,Lo=Fn=Sp=Ia=Tr=wt=0,Cn=Sc=null,Ap=!1,(r&8)!==0&&(r|=r&32);var u=s.entangledLanes;if(u!==0)for(s=s.entanglements,u&=r;0<u;){var p=31-Et(u),y=1<<p;r|=s[p],u&=~y}return Vi=r,fd(),o}function u_(s,r){Ue=null,V.H=yc,r===Co||r===_d?(r=Ab(),st=3):r===Mm?(r=Ab(),st=4):st=r===lp?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Bn=r,Fe===null&&(wt=1,Vd(s,Jn(r,s.current)))}function d_(){var s=Un.current;return s===null?!0:(qe&4194048)===qe?ns===null:(qe&62914560)===qe||(qe&536870912)!==0?s===ns:!1}function h_(){var s=V.H;return V.H=yc,s===null?yc:s}function f_(){var s=V.A;return V.A=IC,s}function Kd(){wt=4,wr||(qe&4194048)!==qe&&Un.current!==null||(Po=!0),(Tr&134217727)===0&&(Ia&134217727)===0||ct===null||Ar(ct,qe,Fn,!1)}function Ip(s,r,o){var u=et;et|=2;var p=h_(),y=f_();(ct!==s||qe!==r)&&(Gd=null,zo(s,r)),r=!1;var w=wt;e:do try{if(st!==0&&Fe!==null){var A=Fe,O=Bn;switch(st){case 8:Rp(),w=6;break e;case 3:case 2:case 9:case 6:Un.current===null&&(r=!0);var W=st;if(st=0,Bn=null,Bo(s,A,O,W),o&&Po){w=0;break e}break;default:W=st,st=0,Bn=null,Bo(s,A,O,W)}}MC(),w=wt;break}catch(ie){u_(s,ie)}while(!0);return r&&s.shellSuspendCounter++,Si=wa=null,et=u,V.H=p,V.A=y,Fe===null&&(ct=null,qe=0,fd()),w}function MC(){for(;Fe!==null;)m_(Fe)}function VC(s,r){var o=et;et|=2;var u=h_(),p=f_();ct!==s||qe!==r?(Gd=null,qd=bn()+500,zo(s,r)):Po=fs(s,r);e:do try{if(st!==0&&Fe!==null){r=Fe;var y=Bn;t:switch(st){case 1:st=0,Bn=null,Bo(s,r,y,1);break;case 2:case 9:if(Eb(y)){st=0,Bn=null,p_(r);break}r=function(){st!==2&&st!==9||ct!==s||(st=7),ti(s)},y.then(r,r);break e;case 3:st=7;break e;case 4:st=5;break e;case 7:Eb(y)?(st=0,Bn=null,p_(r)):(st=0,Bn=null,Bo(s,r,y,7));break;case 5:var w=null;switch(Fe.tag){case 26:w=Fe.memoizedState;case 5:case 27:var A=Fe;if(w?e1(w):A.stateNode.complete){st=0,Bn=null;var O=A.sibling;if(O!==null)Fe=O;else{var W=A.return;W!==null?(Fe=W,Yd(W)):Fe=null}break t}}st=0,Bn=null,Bo(s,r,y,5);break;case 6:st=0,Bn=null,Bo(s,r,y,6);break;case 8:Rp(),wt=6;break e;default:throw Error(i(462))}}OC();break}catch(ie){u_(s,ie)}while(!0);return Si=wa=null,V.H=u,V.A=p,et=o,Fe!==null?0:(ct=null,qe=0,fd(),wt)}function OC(){for(;Fe!==null&&!om();)m_(Fe)}function m_(s){var r=Lx(s.alternate,s,Vi);s.memoizedProps=s.pendingProps,r===null?Yd(s):Fe=r}function p_(s){var r=s,o=r.alternate;switch(r.tag){case 15:case 0:r=Dx(o,r,r.pendingProps,r.type,void 0,qe);break;case 11:r=Dx(o,r,r.pendingProps,r.type.render,r.ref,qe);break;case 5:$m(r);default:zx(o,r),r=Fe=fb(r,Vi),r=Lx(o,r,Vi)}s.memoizedProps=s.pendingProps,r===null?Yd(s):Fe=r}function Bo(s,r,o,u){Si=wa=null,$m(r),Ro=null,cc=0;var p=r.return;try{if(EC(s,p,r,o,qe)){wt=1,Vd(s,Jn(o,s.current)),Fe=null;return}}catch(y){if(p!==null)throw Fe=p,y;wt=1,Vd(s,Jn(o,s.current)),Fe=null;return}r.flags&32768?(Qe||u===1?s=!0:Po||(qe&536870912)!==0?s=!1:(wr=s=!0,(u===2||u===9||u===3||u===6)&&(u=Un.current,u!==null&&u.tag===13&&(u.flags|=16384))),g_(r,s)):Yd(r)}function Yd(s){var r=s;do{if((r.flags&32768)!==0){g_(r,wr);return}s=r.return;var o=kC(r.alternate,r,Vi);if(o!==null){Fe=o;return}if(r=r.sibling,r!==null){Fe=r;return}Fe=r=s}while(r!==null);wt===0&&(wt=5)}function g_(s,r){do{var o=NC(s.alternate,s);if(o!==null){o.flags&=32767,Fe=o;return}if(o=s.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(s=s.sibling,s!==null)){Fe=s;return}Fe=s=o}while(s!==null);wt=6,Fe=null}function y_(s,r,o,u,p,y,w,A,O){s.cancelPendingCommit=null;do Qd();while(qt!==0);if((et&6)!==0)throw Error(i(327));if(r!==null){if(r===s.current)throw Error(i(177));if(y=r.lanes|r.childLanes,y|=bm,um(s,o,y,w,A,O),s===ct&&(Fe=ct=null,qe=0),Uo=r,Sr=s,Oi=o,kp=y,Np=p,a_=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,zC(nr,function(){return w_(),null})):(s.callbackNode=null,s.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=V.T,V.T=null,p=F.p,F.p=2,w=et,et|=4;try{CC(s,r,o)}finally{et=w,F.p=p,V.T=u}}qt=1,v_(),b_(),x_()}}function v_(){if(qt===1){qt=0;var s=Sr,r=Uo,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=V.T,V.T=null;var u=F.p;F.p=2;var p=et;et|=4;try{Jx(r,s);var y=Hp,w=ib(s.containerInfo),A=y.focusedElem,O=y.selectionRange;if(w!==A&&A&&A.ownerDocument&&sb(A.ownerDocument.documentElement,A)){if(O!==null&&mm(A)){var W=O.start,ie=O.end;if(ie===void 0&&(ie=W),"selectionStart"in A)A.selectionStart=W,A.selectionEnd=Math.min(ie,A.value.length);else{var ae=A.ownerDocument||document,J=ae&&ae.defaultView||window;if(J.getSelection){var te=J.getSelection(),be=A.textContent.length,Re=Math.min(O.start,be),lt=O.end===void 0?Re:Math.min(O.end,be);!te.extend&&Re>lt&&(w=lt,lt=Re,Re=w);var Y=nb(A,Re),B=nb(A,lt);if(Y&&B&&(te.rangeCount!==1||te.anchorNode!==Y.node||te.anchorOffset!==Y.offset||te.focusNode!==B.node||te.focusOffset!==B.offset)){var X=ae.createRange();X.setStart(Y.node,Y.offset),te.removeAllRanges(),Re>lt?(te.addRange(X),te.extend(B.node,B.offset)):(X.setEnd(B.node,B.offset),te.addRange(X))}}}}for(ae=[],te=A;te=te.parentNode;)te.nodeType===1&&ae.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<ae.length;A++){var re=ae[A];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}oh=!!Fp,Hp=Fp=null}finally{et=p,F.p=u,V.T=o}}s.current=r,qt=2}}function b_(){if(qt===2){qt=0;var s=Sr,r=Uo,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=V.T,V.T=null;var u=F.p;F.p=2;var p=et;et|=4;try{Kx(s,r.alternate,r)}finally{et=p,F.p=u,V.T=o}}qt=3}}function x_(){if(qt===4||qt===3){qt=0,Uu();var s=Sr,r=Uo,o=Oi,u=a_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?qt=5:(qt=0,Uo=Sr=null,__(s,s.pendingLanes));var p=s.pendingLanes;if(p===0&&(Er=null),bi(o),r=r.stateNode,tn&&typeof tn.onCommitFiberRoot=="function")try{tn.onCommitFiberRoot(hs,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=V.T,p=F.p,F.p=2,V.T=null;try{for(var y=s.onRecoverableError,w=0;w<u.length;w++){var A=u[w];y(A.value,{componentStack:A.stack})}}finally{V.T=r,F.p=p}}(Oi&3)!==0&&Qd(),ti(s),p=s.pendingLanes,(o&261930)!==0&&(p&42)!==0?s===Cp?Ac++:(Ac=0,Cp=s):Ac=0,kc(0)}}function __(s,r){(s.pooledCacheLanes&=r)===0&&(r=s.pooledCache,r!=null&&(s.pooledCache=null,oc(r)))}function Qd(){return v_(),b_(),x_(),w_()}function w_(){if(qt!==5)return!1;var s=Sr,r=kp;kp=0;var o=bi(Oi),u=V.T,p=F.p;try{F.p=32>o?32:o,V.T=null,o=Np,Np=null;var y=Sr,w=Oi;if(qt=0,Uo=Sr=null,Oi=0,(et&6)!==0)throw Error(i(331));var A=et;if(et|=4,s_(y.current),e_(y,y.current,w,o),et=A,kc(0,!1),tn&&typeof tn.onPostCommitFiberRoot=="function")try{tn.onPostCommitFiberRoot(hs,y)}catch{}return!0}finally{F.p=p,V.T=u,__(s,r)}}function T_(s,r,o){r=Jn(o,r),r=op(s.stateNode,r,2),s=vr(s,r,2),s!==null&&(ra(s,2),ti(s))}function it(s,r,o){if(s.tag===3)T_(s,s,o);else for(;r!==null;){if(r.tag===3){T_(r,s,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Er===null||!Er.has(u))){s=Jn(o,s),o=Ex(2),u=vr(r,o,2),u!==null&&(Sx(o,u,r,s),ra(u,2),ti(u));break}}r=r.return}}function Dp(s,r,o){var u=s.pingCache;if(u===null){u=s.pingCache=new DC;var p=new Set;u.set(r,p)}else p=u.get(r),p===void 0&&(p=new Set,u.set(r,p));p.has(o)||(Ep=!0,p.add(o),s=PC.bind(null,s,r,o),r.then(s,s))}function PC(s,r,o){var u=s.pingCache;u!==null&&u.delete(r),s.pingedLanes|=s.suspendedLanes&o,s.warmLanes&=~o,ct===s&&(qe&o)===o&&(wt===4||wt===3&&(qe&62914560)===qe&&300>bn()-Hd?(et&2)===0&&zo(s,0):Sp|=o,Lo===qe&&(Lo=0)),ti(s)}function E_(s,r){r===0&&(r=Gu()),s=ba(s,r),s!==null&&(ra(s,r),ti(s))}function LC(s){var r=s.memoizedState,o=0;r!==null&&(o=r.retryLane),E_(s,o)}function UC(s,r){var o=0;switch(s.tag){case 31:case 13:var u=s.stateNode,p=s.memoizedState;p!==null&&(o=p.retryLane);break;case 19:u=s.stateNode;break;case 22:u=s.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(r),E_(s,o)}function zC(s,r){return Ht(s,r)}var Xd=null,Fo=null,jp=!1,Wd=!1,Mp=!1,kr=0;function ti(s){s!==Fo&&s.next===null&&(Fo===null?Xd=Fo=s:Fo=Fo.next=s),Wd=!0,jp||(jp=!0,FC())}function kc(s,r){if(!Mp&&Wd){Mp=!0;do for(var o=!1,u=Xd;u!==null;){if(s!==0){var p=u.pendingLanes;if(p===0)var y=0;else{var w=u.suspendedLanes,A=u.pingedLanes;y=(1<<31-Et(42|s)+1)-1,y&=p&~(w&~A),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(o=!0,N_(u,y))}else y=qe,y=Ps(u,u===ct?y:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(y&3)===0||fs(u,y)||(o=!0,N_(u,y));u=u.next}while(o);Mp=!1}}function BC(){S_()}function S_(){Wd=jp=!1;var s=0;kr!==0&&JC()&&(s=kr);for(var r=bn(),o=null,u=Xd;u!==null;){var p=u.next,y=A_(u,r);y===0?(u.next=null,o===null?Xd=p:o.next=p,p===null&&(Fo=o)):(o=u,(s!==0||(y&3)!==0)&&(Wd=!0)),u=p}qt!==0&&qt!==5||kc(s),kr!==0&&(kr=0)}function A_(s,r){for(var o=s.suspendedLanes,u=s.pingedLanes,p=s.expirationTimes,y=s.pendingLanes&-62914561;0<y;){var w=31-Et(y),A=1<<w,O=p[w];O===-1?((A&o)===0||(A&u)!==0)&&(p[w]=cm(A,r)):O<=r&&(s.expiredLanes|=A),y&=~A}if(r=ct,o=qe,o=Ps(s,s===r?o:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u=s.callbackNode,o===0||s===r&&(st===2||st===9)||s.cancelPendingCommit!==null)return u!==null&&u!==null&&tr(u),s.callbackNode=null,s.callbackPriority=0;if((o&3)===0||fs(s,o)){if(r=o&-o,r===s.callbackPriority)return r;switch(u!==null&&tr(u),bi(o)){case 2:case 8:o=Pl;break;case 32:o=nr;break;case 268435456:o=zu;break;default:o=nr}return u=k_.bind(null,s),o=Ht(o,u),s.callbackPriority=r,s.callbackNode=o,r}return u!==null&&u!==null&&tr(u),s.callbackPriority=2,s.callbackNode=null,2}function k_(s,r){if(qt!==0&&qt!==5)return s.callbackNode=null,s.callbackPriority=0,null;var o=s.callbackNode;if(Qd()&&s.callbackNode!==o)return null;var u=qe;return u=Ps(s,s===ct?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u===0?null:(l_(s,u,r),A_(s,bn()),s.callbackNode!=null&&s.callbackNode===o?k_.bind(null,s):null)}function N_(s,r){if(Qd())return null;l_(s,r,!0)}function FC(){eR(function(){(et&6)!==0?Ht(Ol,BC):S_()})}function Vp(){if(kr===0){var s=ko;s===0&&(s=Vs,Vs<<=1,(Vs&261888)===0&&(Vs=256)),kr=s}return kr}function C_(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:ho(""+s)}function R_(s,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,s.id&&o.setAttribute("form",s.id),r.parentNode.insertBefore(o,r),s=new FormData(s),o.parentNode.removeChild(o),s}function HC(s,r,o,u,p){if(r==="submit"&&o&&o.stateNode===p){var y=C_((p[Qt]||null).action),w=u.submitter;w&&(r=(r=w[Qt]||null)?C_(r.formAction):w.getAttribute("formAction"),r!==null&&(y=r,w=null));var A=new Ys("action","action",null,u,p);s.push({event:A,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(kr!==0){var O=w?R_(p,w):new FormData(p);tp(o,{pending:!0,data:O,method:p.method,action:y},null,O)}}else typeof y=="function"&&(A.preventDefault(),O=w?R_(p,w):new FormData(p),tp(o,{pending:!0,data:O,method:p.method,action:y},y,O))},currentTarget:p}]})}}for(var Op=0;Op<vm.length;Op++){var Pp=vm[Op],qC=Pp.toLowerCase(),GC=Pp[0].toUpperCase()+Pp.slice(1);_s(qC,"on"+GC)}_s(ob,"onAnimationEnd"),_s(lb,"onAnimationIteration"),_s(cb,"onAnimationStart"),_s("dblclick","onDoubleClick"),_s("focusin","onFocus"),_s("focusout","onBlur"),_s(oC,"onTransitionRun"),_s(lC,"onTransitionStart"),_s(cC,"onTransitionCancel"),_s(ub,"onTransitionEnd"),qs("onMouseEnter",["mouseout","mouseover"]),qs("onMouseLeave",["mouseout","mouseover"]),qs("onPointerEnter",["pointerout","pointerover"]),qs("onPointerLeave",["pointerout","pointerover"]),Hs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Hs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Hs("onBeforeInput",["compositionend","keypress","textInput","paste"]),Hs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Hs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Hs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$C=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nc));function I_(s,r){r=(r&4)!==0;for(var o=0;o<s.length;o++){var u=s[o],p=u.event;u=u.listeners;e:{var y=void 0;if(r)for(var w=u.length-1;0<=w;w--){var A=u[w],O=A.instance,W=A.currentTarget;if(A=A.listener,O!==y&&p.isPropagationStopped())break e;y=A,p.currentTarget=W;try{y(p)}catch(ie){hd(ie)}p.currentTarget=null,y=O}else for(w=0;w<u.length;w++){if(A=u[w],O=A.instance,W=A.currentTarget,A=A.listener,O!==y&&p.isPropagationStopped())break e;y=A,p.currentTarget=W;try{y(p)}catch(ie){hd(ie)}p.currentTarget=null,y=O}}}}function He(s,r){var o=r[ao];o===void 0&&(o=r[ao]=new Set);var u=s+"__bubble";o.has(u)||(D_(r,s,2,!1),o.add(u))}function Lp(s,r,o){var u=0;r&&(u|=4),D_(o,s,u,r)}var Jd="_reactListening"+Math.random().toString(36).slice(2);function Up(s){if(!s[Jd]){s[Jd]=!0,zl.forEach(function(o){o!=="selectionchange"&&($C.has(o)||Lp(o,!1,s),Lp(o,!0,s))});var r=s.nodeType===9?s:s.ownerDocument;r===null||r[Jd]||(r[Jd]=!0,Lp("selectionchange",!1,r))}}function D_(s,r,o,u){switch(o1(r)){case 2:var p=xR;break;case 8:p=_R;break;default:p=eg}o=p.bind(null,r,o,s),p=void 0,!da||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(p=!0),u?p!==void 0?s.addEventListener(r,o,{capture:!0,passive:p}):s.addEventListener(r,o,!0):p!==void 0?s.addEventListener(r,o,{passive:p}):s.addEventListener(r,o,!1)}function zp(s,r,o,u,p){var y=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var w=u.tag;if(w===3||w===4){var A=u.stateNode.containerInfo;if(A===p)break;if(w===4)for(w=u.return;w!==null;){var O=w.tag;if((O===3||O===4)&&w.stateNode.containerInfo===p)return;w=w.return}for(;A!==null;){if(w=Bs(A),w===null)return;if(O=w.tag,O===5||O===6||O===26||O===27){u=y=w;continue e}A=A.parentNode}}u=u.return}lr(function(){var W=y,ie=Yn(o),ae=[];e:{var J=db.get(s);if(J!==void 0){var te=Ys,be=s;switch(s){case"keypress":if(fa(o)===0)break e;case"keydown":case"keyup":te=cd;break;case"focusin":be="focus",te=pa;break;case"focusout":be="blur",te=pa;break;case"beforeblur":case"afterblur":te=pa;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=Zl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=ed;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=x;break;case ob:case lb:case cb:te=nd;break;case ub:te=k;break;case"scroll":case"scrollend":te=Jl;break;case"wheel":te=ee;break;case"copy":case"cut":case"paste":te=sd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=wi;break;case"toggle":case"beforetoggle":te=Le}var Re=(r&4)!==0,lt=!Re&&(s==="scroll"||s==="scrollend"),Y=Re?J!==null?J+"Capture":null:J;Re=[];for(var B=W,X;B!==null;){var re=B;if(X=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||X===null||Y===null||(re=ys(B,Y),re!=null&&Re.push(Cc(B,re,X))),lt)break;B=B.return}0<Re.length&&(J=new te(J,be,null,o,ie),ae.push({event:J,listeners:Re}))}}if((r&7)===0){e:{if(J=s==="mouseover"||s==="pointerover",te=s==="mouseout"||s==="pointerout",J&&o!==Ql&&(be=o.relatedTarget||o.fromElement)&&(Bs(be)||be[Us]))break e;if((te||J)&&(J=ie.window===ie?ie:(J=ie.ownerDocument)?J.defaultView||J.parentWindow:window,te?(be=o.relatedTarget||o.toElement,te=W,be=be?Bs(be):null,be!==null&&(lt=l(be),Re=be.tag,be!==lt||Re!==5&&Re!==27&&Re!==6)&&(be=null)):(te=null,be=W),te!==be)){if(Re=Zl,re="onMouseLeave",Y="onMouseEnter",B="mouse",(s==="pointerout"||s==="pointerover")&&(Re=wi,re="onPointerLeave",Y="onPointerEnter",B="pointer"),lt=te==null?J:Vn(te),X=be==null?J:Vn(be),J=new Re(re,B+"leave",te,o,ie),J.target=lt,J.relatedTarget=X,re=null,Bs(ie)===W&&(Re=new Re(Y,B+"enter",be,o,ie),Re.target=X,Re.relatedTarget=lt,re=Re),lt=re,te&&be)t:{for(Re=KC,Y=te,B=be,X=0,re=Y;re;re=Re(re))X++;re=0;for(var Ne=B;Ne;Ne=Re(Ne))re++;for(;0<X-re;)Y=Re(Y),X--;for(;0<re-X;)B=Re(B),re--;for(;X--;){if(Y===B||B!==null&&Y===B.alternate){Re=Y;break t}Y=Re(Y),B=Re(B)}Re=null}else Re=null;te!==null&&j_(ae,J,te,Re,!1),be!==null&&lt!==null&&j_(ae,lt,be,Re,!0)}}e:{if(J=W?Vn(W):window,te=J.nodeName&&J.nodeName.toLowerCase(),te==="select"||te==="input"&&J.type==="file")var We=Xv;else if(Yv(J))if(Wv)We=iC;else{We=nC;var Ee=tC}else te=J.nodeName,!te||te.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?W&&uo(W.elementType)&&(We=Xv):We=sC;if(We&&(We=We(s,W))){Qv(ae,We,o,ie);break e}Ee&&Ee(s,J,W),s==="focusout"&&W&&J.type==="number"&&W.memoizedProps.value!=null&&$l(J,"number",J.value)}switch(Ee=W?Vn(W):window,s){case"focusin":(Yv(Ee)||Ee.contentEditable==="true")&&(bo=Ee,pm=W,ic=null);break;case"focusout":ic=pm=bo=null;break;case"mousedown":gm=!0;break;case"contextmenu":case"mouseup":case"dragend":gm=!1,rb(ae,o,ie);break;case"selectionchange":if(aC)break;case"keydown":case"keyup":rb(ae,o,ie)}var ze;if(Ze)e:{switch(s){case"compositionstart":var Ge="onCompositionStart";break e;case"compositionend":Ge="onCompositionEnd";break e;case"compositionupdate":Ge="onCompositionUpdate";break e}Ge=void 0}else vo?ga(s,o)&&(Ge="onCompositionEnd"):s==="keydown"&&o.keyCode===229&&(Ge="onCompositionStart");Ge&&(Ws&&o.locale!=="ko"&&(vo||Ge!=="onCompositionStart"?Ge==="onCompositionEnd"&&vo&&(ze=Wl()):(Ks=ie,Xl="value"in Ks?Ks.value:Ks.textContent,vo=!0)),Ee=Zd(W,Ge),0<Ee.length&&(Ge=new Xs(Ge,s,null,o,ie),ae.push({event:Ge,listeners:Ee}),ze?Ge.data=ze:(ze=yo(o),ze!==null&&(Ge.data=ze)))),(ze=Xn?WN(s,o):JN(s,o))&&(Ge=Zd(W,"onBeforeInput"),0<Ge.length&&(Ee=new Xs("onBeforeInput","beforeinput",null,o,ie),ae.push({event:Ee,listeners:Ge}),Ee.data=ze)),HC(ae,s,W,o,ie)}I_(ae,r)})}function Cc(s,r,o){return{instance:s,listener:r,currentTarget:o}}function Zd(s,r){for(var o=r+"Capture",u=[];s!==null;){var p=s,y=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||y===null||(p=ys(s,o),p!=null&&u.unshift(Cc(s,p,y)),p=ys(s,r),p!=null&&u.push(Cc(s,p,y))),s.tag===3)return u;s=s.return}return[]}function KC(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function j_(s,r,o,u,p){for(var y=r._reactName,w=[];o!==null&&o!==u;){var A=o,O=A.alternate,W=A.stateNode;if(A=A.tag,O!==null&&O===u)break;A!==5&&A!==26&&A!==27||W===null||(O=W,p?(W=ys(o,y),W!=null&&w.unshift(Cc(o,W,O))):p||(W=ys(o,y),W!=null&&w.push(Cc(o,W,O)))),o=o.return}w.length!==0&&s.push({event:r,listeners:w})}var YC=/\r\n?/g,QC=/\u0000|\uFFFD/g;function M_(s){return(typeof s=="string"?s:""+s).replace(YC,`
`).replace(QC,"")}function V_(s,r){return r=M_(r),M_(s)===r}function ot(s,r,o,u,p,y){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||Sn(s,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&Sn(s,""+u);break;case"className":On(s,"class",u);break;case"tabIndex":On(s,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":On(s,o,u);break;case"style":Yl(s,u,y);break;case"data":if(r!=="object"){On(s,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){s.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(o);break}u=ho(""+u),s.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){s.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(o==="formAction"?(r!=="input"&&ot(s,r,"name",p.name,p,null),ot(s,r,"formEncType",p.formEncType,p,null),ot(s,r,"formMethod",p.formMethod,p,null),ot(s,r,"formTarget",p.formTarget,p,null)):(ot(s,r,"encType",p.encType,p,null),ot(s,r,"method",p.method,p,null),ot(s,r,"target",p.target,p,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(o);break}u=ho(""+u),s.setAttribute(o,u);break;case"onClick":u!=null&&(s.onclick=gs);break;case"onScroll":u!=null&&He("scroll",s);break;case"onScrollEnd":u!=null&&He("scrollend",s);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(p.children!=null)throw Error(i(60));s.innerHTML=o}}break;case"multiple":s.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":s.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){s.removeAttribute("xlink:href");break}o=ho(""+u),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(o,""+u):s.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(o,""):s.removeAttribute(o);break;case"capture":case"download":u===!0?s.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(o,u):s.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?s.setAttribute(o,u):s.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?s.removeAttribute(o):s.setAttribute(o,u);break;case"popover":He("beforetoggle",s),He("toggle",s),lo(s,"popover",u);break;case"xlinkActuate":jt(s,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":jt(s,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":jt(s,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":jt(s,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":jt(s,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":jt(s,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":jt(s,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":jt(s,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":jt(s,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":lo(s,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Zu.get(o)||o,lo(s,o,u))}}function Bp(s,r,o,u,p,y){switch(o){case"style":Yl(s,u,y);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(p.children!=null)throw Error(i(60));s.innerHTML=o}}break;case"children":typeof u=="string"?Sn(s,u):(typeof u=="number"||typeof u=="bigint")&&Sn(s,""+u);break;case"onScroll":u!=null&&He("scroll",s);break;case"onScrollEnd":u!=null&&He("scrollend",s);break;case"onClick":u!=null&&(s.onclick=gs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Bl.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(p=o.endsWith("Capture"),r=o.slice(2,p?o.length-7:void 0),y=s[Qt]||null,y=y!=null?y[o]:null,typeof y=="function"&&s.removeEventListener(r,y,p),typeof u=="function")){typeof y!="function"&&y!==null&&(o in s?s[o]=null:s.hasAttribute(o)&&s.removeAttribute(o)),s.addEventListener(r,u,p);break e}o in s?s[o]=u:u===!0?s.setAttribute(o,""):lo(s,o,u)}}}function on(s,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":He("error",s),He("load",s);var u=!1,p=!1,y;for(y in o)if(o.hasOwnProperty(y)){var w=o[y];if(w!=null)switch(y){case"src":u=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:ot(s,r,y,w,o,null)}}p&&ot(s,r,"srcSet",o.srcSet,o,null),u&&ot(s,r,"src",o.src,o,null);return;case"input":He("invalid",s);var A=y=w=p=null,O=null,W=null;for(u in o)if(o.hasOwnProperty(u)){var ie=o[u];if(ie!=null)switch(u){case"name":p=ie;break;case"type":w=ie;break;case"checked":O=ie;break;case"defaultChecked":W=ie;break;case"value":y=ie;break;case"defaultValue":A=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(i(137,r));break;default:ot(s,r,u,ie,o,null)}}Xu(s,y,A,O,W,w,p,!1);return;case"select":He("invalid",s),u=w=y=null;for(p in o)if(o.hasOwnProperty(p)&&(A=o[p],A!=null))switch(p){case"value":y=A;break;case"defaultValue":w=A;break;case"multiple":u=A;default:ot(s,r,p,A,o,null)}r=y,o=w,s.multiple=!!u,r!=null?ir(s,!!u,r,!1):o!=null&&ir(s,!!u,o,!0);return;case"textarea":He("invalid",s),y=p=u=null;for(w in o)if(o.hasOwnProperty(w)&&(A=o[w],A!=null))switch(w){case"value":u=A;break;case"defaultValue":p=A;break;case"children":y=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(i(91));break;default:ot(s,r,w,A,o,null)}rr(s,u,p,y);return;case"option":for(O in o)o.hasOwnProperty(O)&&(u=o[O],u!=null)&&(O==="selected"?s.selected=u&&typeof u!="function"&&typeof u!="symbol":ot(s,r,O,u,o,null));return;case"dialog":He("beforetoggle",s),He("toggle",s),He("cancel",s),He("close",s);break;case"iframe":case"object":He("load",s);break;case"video":case"audio":for(u=0;u<Nc.length;u++)He(Nc[u],s);break;case"image":He("error",s),He("load",s);break;case"details":He("toggle",s);break;case"embed":case"source":case"link":He("error",s),He("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(W in o)if(o.hasOwnProperty(W)&&(u=o[W],u!=null))switch(W){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:ot(s,r,W,u,o,null)}return;default:if(uo(r)){for(ie in o)o.hasOwnProperty(ie)&&(u=o[ie],u!==void 0&&Bp(s,r,ie,u,o,void 0));return}}for(A in o)o.hasOwnProperty(A)&&(u=o[A],u!=null&&ot(s,r,A,u,o,null))}function XC(s,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,y=null,w=null,A=null,O=null,W=null,ie=null;for(te in o){var ae=o[te];if(o.hasOwnProperty(te)&&ae!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":O=ae;default:u.hasOwnProperty(te)||ot(s,r,te,null,u,ae)}}for(var J in u){var te=u[J];if(ae=o[J],u.hasOwnProperty(J)&&(te!=null||ae!=null))switch(J){case"type":y=te;break;case"name":p=te;break;case"checked":W=te;break;case"defaultChecked":ie=te;break;case"value":w=te;break;case"defaultValue":A=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(i(137,r));break;default:te!==ae&&ot(s,r,J,te,u,ae)}}co(s,w,A,O,W,ie,y,p);return;case"select":te=w=A=J=null;for(y in o)if(O=o[y],o.hasOwnProperty(y)&&O!=null)switch(y){case"value":break;case"multiple":te=O;default:u.hasOwnProperty(y)||ot(s,r,y,null,u,O)}for(p in u)if(y=u[p],O=o[p],u.hasOwnProperty(p)&&(y!=null||O!=null))switch(p){case"value":J=y;break;case"defaultValue":A=y;break;case"multiple":w=y;default:y!==O&&ot(s,r,p,y,u,O)}r=A,o=w,u=te,J!=null?ir(s,!!o,J,!1):!!u!=!!o&&(r!=null?ir(s,!!o,r,!0):ir(s,!!o,o?[]:"",!1));return;case"textarea":te=J=null;for(A in o)if(p=o[A],o.hasOwnProperty(A)&&p!=null&&!u.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:ot(s,r,A,null,u,p)}for(w in u)if(p=u[w],y=o[w],u.hasOwnProperty(w)&&(p!=null||y!=null))switch(w){case"value":J=p;break;case"defaultValue":te=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(i(91));break;default:p!==y&&ot(s,r,w,p,u,y)}Wu(s,J,te);return;case"option":for(var be in o)J=o[be],o.hasOwnProperty(be)&&J!=null&&!u.hasOwnProperty(be)&&(be==="selected"?s.selected=!1:ot(s,r,be,null,u,J));for(O in u)J=u[O],te=o[O],u.hasOwnProperty(O)&&J!==te&&(J!=null||te!=null)&&(O==="selected"?s.selected=J&&typeof J!="function"&&typeof J!="symbol":ot(s,r,O,J,u,te));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Re in o)J=o[Re],o.hasOwnProperty(Re)&&J!=null&&!u.hasOwnProperty(Re)&&ot(s,r,Re,null,u,J);for(W in u)if(J=u[W],te=o[W],u.hasOwnProperty(W)&&J!==te&&(J!=null||te!=null))switch(W){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,r));break;default:ot(s,r,W,J,u,te)}return;default:if(uo(r)){for(var lt in o)J=o[lt],o.hasOwnProperty(lt)&&J!==void 0&&!u.hasOwnProperty(lt)&&Bp(s,r,lt,void 0,u,J);for(ie in u)J=u[ie],te=o[ie],!u.hasOwnProperty(ie)||J===te||J===void 0&&te===void 0||Bp(s,r,ie,J,u,te);return}}for(var Y in o)J=o[Y],o.hasOwnProperty(Y)&&J!=null&&!u.hasOwnProperty(Y)&&ot(s,r,Y,null,u,J);for(ae in u)J=u[ae],te=o[ae],!u.hasOwnProperty(ae)||J===te||J==null&&te==null||ot(s,r,ae,J,u,te)}function O_(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function WC(){if(typeof performance.getEntriesByType=="function"){for(var s=0,r=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var p=o[u],y=p.transferSize,w=p.initiatorType,A=p.duration;if(y&&A&&O_(w)){for(w=0,A=p.responseEnd,u+=1;u<o.length;u++){var O=o[u],W=O.startTime;if(W>A)break;var ie=O.transferSize,ae=O.initiatorType;ie&&O_(ae)&&(O=O.responseEnd,w+=ie*(O<A?1:(A-W)/(O-W)))}if(--u,r+=8*(y+w)/(p.duration/1e3),s++,10<s)break}}if(0<s)return r/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var Fp=null,Hp=null;function eh(s){return s.nodeType===9?s:s.ownerDocument}function P_(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function L_(s,r){if(s===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&r==="foreignObject"?0:s}function qp(s,r){return s==="textarea"||s==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Gp=null;function JC(){var s=window.event;return s&&s.type==="popstate"?s===Gp?!1:(Gp=s,!0):(Gp=null,!1)}var U_=typeof setTimeout=="function"?setTimeout:void 0,ZC=typeof clearTimeout=="function"?clearTimeout:void 0,z_=typeof Promise=="function"?Promise:void 0,eR=typeof queueMicrotask=="function"?queueMicrotask:typeof z_<"u"?function(s){return z_.resolve(null).then(s).catch(tR)}:U_;function tR(s){setTimeout(function(){throw s})}function Nr(s){return s==="head"}function B_(s,r){var o=r,u=0;do{var p=o.nextSibling;if(s.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"||o==="/&"){if(u===0){s.removeChild(p),$o(r);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")Rc(s.ownerDocument.documentElement);else if(o==="head"){o=s.ownerDocument.head,Rc(o);for(var y=o.firstChild;y;){var w=y.nextSibling,A=y.nodeName;y[zs]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&y.rel.toLowerCase()==="stylesheet"||o.removeChild(y),y=w}}else o==="body"&&Rc(s.ownerDocument.body);o=p}while(o);$o(r)}function F_(s,r){var o=s;s=0;do{var u=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(s===0)break;s--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||s++;o=u}while(o)}function $p(s){var r=s.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":$p(o),oo(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}s.removeChild(o)}}function nR(s,r,o,u){for(;s.nodeType===1;){var p=o;if(s.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(u){if(!s[zs])switch(r){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(y=s.getAttribute("rel"),y==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(y!==p.rel||s.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||s.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||s.getAttribute("title")!==(p.title==null?null:p.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(y=s.getAttribute("src"),(y!==(p.src==null?null:p.src)||s.getAttribute("type")!==(p.type==null?null:p.type)||s.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&y&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(r==="input"&&s.type==="hidden"){var y=p.name==null?null:""+p.name;if(p.type==="hidden"&&s.getAttribute("name")===y)return s}else return s;if(s=ss(s.nextSibling),s===null)break}return null}function sR(s,r,o){if(r==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!o||(s=ss(s.nextSibling),s===null))return null;return s}function H_(s,r){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!r||(s=ss(s.nextSibling),s===null))return null;return s}function Kp(s){return s.data==="$?"||s.data==="$~"}function Yp(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function iR(s,r){var o=s.ownerDocument;if(s.data==="$~")s._reactRetry=r;else if(s.data!=="$?"||o.readyState!=="loading")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),s._reactRetry=u}}function ss(s){for(;s!=null;s=s.nextSibling){var r=s.nodeType;if(r===1||r===3)break;if(r===8){if(r=s.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return s}var Qp=null;function q_(s){s=s.nextSibling;for(var r=0;s;){if(s.nodeType===8){var o=s.data;if(o==="/$"||o==="/&"){if(r===0)return ss(s.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}s=s.nextSibling}return null}function G_(s){s=s.previousSibling;for(var r=0;s;){if(s.nodeType===8){var o=s.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return s;r--}else o!=="/$"&&o!=="/&"||r++}s=s.previousSibling}return null}function $_(s,r,o){switch(r=eh(o),s){case"html":if(s=r.documentElement,!s)throw Error(i(452));return s;case"head":if(s=r.head,!s)throw Error(i(453));return s;case"body":if(s=r.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function Rc(s){for(var r=s.attributes;r.length;)s.removeAttributeNode(r[0]);oo(s)}var is=new Map,K_=new Set;function th(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Pi=F.d;F.d={f:rR,r:aR,D:oR,C:lR,L:cR,m:uR,X:hR,S:dR,M:fR};function rR(){var s=Pi.f(),r=$d();return s||r}function aR(s){var r=Kn(s);r!==null&&r.tag===5&&r.type==="form"?ux(r):Pi.r(s)}var Ho=typeof document>"u"?null:document;function Y_(s,r,o){var u=Ho;if(u&&typeof r=="string"&&r){var p=En(r);p='link[rel="'+s+'"][href="'+p+'"]',typeof o=="string"&&(p+='[crossorigin="'+o+'"]'),K_.has(p)||(K_.add(p),s={rel:s,crossOrigin:o,href:r},u.querySelector(p)===null&&(r=u.createElement("link"),on(r,"link",s),Dt(r),u.head.appendChild(r)))}}function oR(s){Pi.D(s),Y_("dns-prefetch",s,null)}function lR(s,r){Pi.C(s,r),Y_("preconnect",s,r)}function cR(s,r,o){Pi.L(s,r,o);var u=Ho;if(u&&s&&r){var p='link[rel="preload"][as="'+En(r)+'"]';r==="image"&&o&&o.imageSrcSet?(p+='[imagesrcset="'+En(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(p+='[imagesizes="'+En(o.imageSizes)+'"]')):p+='[href="'+En(s)+'"]';var y=p;switch(r){case"style":y=qo(s);break;case"script":y=Go(s)}is.has(y)||(s=b({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:s,as:r},o),is.set(y,s),u.querySelector(p)!==null||r==="style"&&u.querySelector(Ic(y))||r==="script"&&u.querySelector(Dc(y))||(r=u.createElement("link"),on(r,"link",s),Dt(r),u.head.appendChild(r)))}}function uR(s,r){Pi.m(s,r);var o=Ho;if(o&&s){var u=r&&typeof r.as=="string"?r.as:"script",p='link[rel="modulepreload"][as="'+En(u)+'"][href="'+En(s)+'"]',y=p;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Go(s)}if(!is.has(y)&&(s=b({rel:"modulepreload",href:s},r),is.set(y,s),o.querySelector(p)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Dc(y)))return}u=o.createElement("link"),on(u,"link",s),Dt(u),o.head.appendChild(u)}}}function dR(s,r,o){Pi.S(s,r,o);var u=Ho;if(u&&s){var p=Fs(u).hoistableStyles,y=qo(s);r=r||"default";var w=p.get(y);if(!w){var A={loading:0,preload:null};if(w=u.querySelector(Ic(y)))A.loading=5;else{s=b({rel:"stylesheet",href:s,"data-precedence":r},o),(o=is.get(y))&&Xp(s,o);var O=w=u.createElement("link");Dt(O),on(O,"link",s),O._p=new Promise(function(W,ie){O.onload=W,O.onerror=ie}),O.addEventListener("load",function(){A.loading|=1}),O.addEventListener("error",function(){A.loading|=2}),A.loading|=4,nh(w,r,u)}w={type:"stylesheet",instance:w,count:1,state:A},p.set(y,w)}}}function hR(s,r){Pi.X(s,r);var o=Ho;if(o&&s){var u=Fs(o).hoistableScripts,p=Go(s),y=u.get(p);y||(y=o.querySelector(Dc(p)),y||(s=b({src:s,async:!0},r),(r=is.get(p))&&Wp(s,r),y=o.createElement("script"),Dt(y),on(y,"link",s),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(p,y))}}function fR(s,r){Pi.M(s,r);var o=Ho;if(o&&s){var u=Fs(o).hoistableScripts,p=Go(s),y=u.get(p);y||(y=o.querySelector(Dc(p)),y||(s=b({src:s,async:!0,type:"module"},r),(r=is.get(p))&&Wp(s,r),y=o.createElement("script"),Dt(y),on(y,"link",s),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(p,y))}}function Q_(s,r,o,u){var p=(p=De.current)?th(p):null;if(!p)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=qo(o.href),o=Fs(p).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){s=qo(o.href);var y=Fs(p).hoistableStyles,w=y.get(s);if(w||(p=p.ownerDocument||p,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(s,w),(y=p.querySelector(Ic(s)))&&!y._p&&(w.instance=y,w.state.loading=5),is.has(s)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},is.set(s,o),y||mR(p,s,o,w.state))),r&&u===null)throw Error(i(528,""));return w}if(r&&u!==null)throw Error(i(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Go(o),o=Fs(p).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function qo(s){return'href="'+En(s)+'"'}function Ic(s){return'link[rel="stylesheet"]['+s+"]"}function X_(s){return b({},s,{"data-precedence":s.precedence,precedence:null})}function mR(s,r,o,u){s.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=s.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),on(r,"link",o),Dt(r),s.head.appendChild(r))}function Go(s){return'[src="'+En(s)+'"]'}function Dc(s){return"script[async]"+s}function W_(s,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=s.querySelector('style[data-href~="'+En(o.href)+'"]');if(u)return r.instance=u,Dt(u),u;var p=b({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(s.ownerDocument||s).createElement("style"),Dt(u),on(u,"style",p),nh(u,o.precedence,s),r.instance=u;case"stylesheet":p=qo(o.href);var y=s.querySelector(Ic(p));if(y)return r.state.loading|=4,r.instance=y,Dt(y),y;u=X_(o),(p=is.get(p))&&Xp(u,p),y=(s.ownerDocument||s).createElement("link"),Dt(y);var w=y;return w._p=new Promise(function(A,O){w.onload=A,w.onerror=O}),on(y,"link",u),r.state.loading|=4,nh(y,o.precedence,s),r.instance=y;case"script":return y=Go(o.src),(p=s.querySelector(Dc(y)))?(r.instance=p,Dt(p),p):(u=o,(p=is.get(y))&&(u=b({},o),Wp(u,p)),s=s.ownerDocument||s,p=s.createElement("script"),Dt(p),on(p,"link",u),s.head.appendChild(p),r.instance=p);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,nh(u,o.precedence,s));return r.instance}function nh(s,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=u.length?u[u.length-1]:null,y=p,w=0;w<u.length;w++){var A=u[w];if(A.dataset.precedence===r)y=A;else if(y!==p)break}y?y.parentNode.insertBefore(s,y.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(s,r.firstChild))}function Xp(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.title==null&&(s.title=r.title)}function Wp(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.integrity==null&&(s.integrity=r.integrity)}var sh=null;function J_(s,r,o){if(sh===null){var u=new Map,p=sh=new Map;p.set(o,u)}else p=sh,u=p.get(o),u||(u=new Map,p.set(o,u));if(u.has(s))return u;for(u.set(s,null),o=o.getElementsByTagName(s),p=0;p<o.length;p++){var y=o[p];if(!(y[zs]||y[It]||s==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var w=y.getAttribute(r)||"";w=s+w;var A=u.get(w);A?A.push(y):u.set(w,[y])}}return u}function Z_(s,r,o){s=s.ownerDocument||s,s.head.insertBefore(o,r==="title"?s.querySelector("head > title"):null)}function pR(s,r,o){if(o===1||r.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(s=r.disabled,typeof r.precedence=="string"&&s==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function e1(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function gR(s,r,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var p=qo(u.href),y=r.querySelector(Ic(p));if(y){r=y._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(s.count++,s=ih.bind(s),r.then(s,s)),o.state.loading|=4,o.instance=y,Dt(y);return}y=r.ownerDocument||r,u=X_(u),(p=is.get(p))&&Xp(u,p),y=y.createElement("link"),Dt(y);var w=y;w._p=new Promise(function(A,O){w.onload=A,w.onerror=O}),on(y,"link",u),o.instance=y}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(s.count++,o=ih.bind(s),r.addEventListener("load",o),r.addEventListener("error",o))}}var Jp=0;function yR(s,r){return s.stylesheets&&s.count===0&&ah(s,s.stylesheets),0<s.count||0<s.imgCount?function(o){var u=setTimeout(function(){if(s.stylesheets&&ah(s,s.stylesheets),s.unsuspend){var y=s.unsuspend;s.unsuspend=null,y()}},6e4+r);0<s.imgBytes&&Jp===0&&(Jp=62500*WC());var p=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&ah(s,s.stylesheets),s.unsuspend)){var y=s.unsuspend;s.unsuspend=null,y()}},(s.imgBytes>Jp?50:800)+r);return s.unsuspend=o,function(){s.unsuspend=null,clearTimeout(u),clearTimeout(p)}}:null}function ih(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ah(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var rh=null;function ah(s,r){s.stylesheets=null,s.unsuspend!==null&&(s.count++,rh=new Map,r.forEach(vR,s),rh=null,ih.call(s))}function vR(s,r){if(!(r.state.loading&4)){var o=rh.get(s);if(o)var u=o.get(null);else{o=new Map,rh.set(s,o);for(var p=s.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<p.length;y++){var w=p[y];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(o.set(w.dataset.precedence,w),u=w)}u&&o.set(null,u)}p=r.instance,w=p.getAttribute("data-precedence"),y=o.get(w)||u,y===u&&o.set(null,p),o.set(w,p),this.count++,u=ih.bind(this),p.addEventListener("load",u),p.addEventListener("error",u),y?y.parentNode.insertBefore(p,y.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(p,s.firstChild)),r.state.loading|=4}}var jc={$$typeof:K,Provider:null,Consumer:null,_currentValue:$,_currentValue2:$,_threadCount:0};function bR(s,r,o,u,p,y,w,A,O){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ls(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ls(0),this.hiddenUpdates=Ls(null),this.identifierPrefix=u,this.onUncaughtError=p,this.onCaughtError=y,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function t1(s,r,o,u,p,y,w,A,O,W,ie,ae){return s=new bR(s,r,o,w,O,W,ie,ae,A),r=1,y===!0&&(r|=24),y=Ln(3,null,null,r),s.current=y,y.stateNode=s,r=Im(),r.refCount++,s.pooledCache=r,r.refCount++,y.memoizedState={element:u,isDehydrated:o,cache:r},Vm(y),s}function n1(s){return s?(s=wo,s):wo}function s1(s,r,o,u,p,y){p=n1(p),u.context===null?u.context=p:u.pendingContext=p,u=yr(r),u.payload={element:o},y=y===void 0?null:y,y!==null&&(u.callback=y),o=vr(s,u,r),o!==null&&(Rn(o,s,r),dc(o,s,r))}function i1(s,r){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var o=s.retryLane;s.retryLane=o!==0&&o<r?o:r}}function Zp(s,r){i1(s,r),(s=s.alternate)&&i1(s,r)}function r1(s){if(s.tag===13||s.tag===31){var r=ba(s,67108864);r!==null&&Rn(r,s,67108864),Zp(s,67108864)}}function a1(s){if(s.tag===13||s.tag===31){var r=Hn();r=oa(r);var o=ba(s,r);o!==null&&Rn(o,s,r),Zp(s,r)}}var oh=!0;function xR(s,r,o,u){var p=V.T;V.T=null;var y=F.p;try{F.p=2,eg(s,r,o,u)}finally{F.p=y,V.T=p}}function _R(s,r,o,u){var p=V.T;V.T=null;var y=F.p;try{F.p=8,eg(s,r,o,u)}finally{F.p=y,V.T=p}}function eg(s,r,o,u){if(oh){var p=tg(u);if(p===null)zp(s,r,u,lh,o),l1(s,u);else if(TR(p,s,r,o,u))u.stopPropagation();else if(l1(s,u),r&4&&-1<wR.indexOf(s)){for(;p!==null;){var y=Kn(p);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var w=Os(y.pendingLanes);if(w!==0){var A=y;for(A.pendingLanes|=2,A.entangledLanes|=2;w;){var O=1<<31-Et(w);A.entanglements[1]|=O,w&=~O}ti(y),(et&6)===0&&(qd=bn()+500,kc(0))}}break;case 31:case 13:A=ba(y,2),A!==null&&Rn(A,y,2),$d(),Zp(y,2)}if(y=tg(u),y===null&&zp(s,r,u,lh,o),y===p)break;p=y}p!==null&&u.stopPropagation()}else zp(s,r,u,null,o)}}function tg(s){return s=Yn(s),ng(s)}var lh=null;function ng(s){if(lh=null,s=Bs(s),s!==null){var r=l(s);if(r===null)s=null;else{var o=r.tag;if(o===13){if(s=c(r),s!==null)return s;s=null}else if(o===31){if(s=d(r),s!==null)return s;s=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;s=null}else r!==s&&(s=null)}}return lh=s,null}function o1(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(sa()){case Ol:return 2;case Pl:return 8;case nr:case lm:return 32;case zu:return 268435456;default:return 32}default:return 32}}var sg=!1,Cr=null,Rr=null,Ir=null,Mc=new Map,Vc=new Map,Dr=[],wR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function l1(s,r){switch(s){case"focusin":case"focusout":Cr=null;break;case"dragenter":case"dragleave":Rr=null;break;case"mouseover":case"mouseout":Ir=null;break;case"pointerover":case"pointerout":Mc.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vc.delete(r.pointerId)}}function Oc(s,r,o,u,p,y){return s===null||s.nativeEvent!==y?(s={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:y,targetContainers:[p]},r!==null&&(r=Kn(r),r!==null&&r1(r)),s):(s.eventSystemFlags|=u,r=s.targetContainers,p!==null&&r.indexOf(p)===-1&&r.push(p),s)}function TR(s,r,o,u,p){switch(r){case"focusin":return Cr=Oc(Cr,s,r,o,u,p),!0;case"dragenter":return Rr=Oc(Rr,s,r,o,u,p),!0;case"mouseover":return Ir=Oc(Ir,s,r,o,u,p),!0;case"pointerover":var y=p.pointerId;return Mc.set(y,Oc(Mc.get(y)||null,s,r,o,u,p)),!0;case"gotpointercapture":return y=p.pointerId,Vc.set(y,Oc(Vc.get(y)||null,s,r,o,u,p)),!0}return!1}function c1(s){var r=Bs(s.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){s.blockedOn=r,ms(s.priority,function(){a1(o)});return}}else if(r===31){if(r=d(o),r!==null){s.blockedOn=r,ms(s.priority,function(){a1(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){s.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}s.blockedOn=null}function ch(s){if(s.blockedOn!==null)return!1;for(var r=s.targetContainers;0<r.length;){var o=tg(s.nativeEvent);if(o===null){o=s.nativeEvent;var u=new o.constructor(o.type,o);Ql=u,o.target.dispatchEvent(u),Ql=null}else return r=Kn(o),r!==null&&r1(r),s.blockedOn=o,!1;r.shift()}return!0}function u1(s,r,o){ch(s)&&o.delete(r)}function ER(){sg=!1,Cr!==null&&ch(Cr)&&(Cr=null),Rr!==null&&ch(Rr)&&(Rr=null),Ir!==null&&ch(Ir)&&(Ir=null),Mc.forEach(u1),Vc.forEach(u1)}function uh(s,r){s.blockedOn===r&&(s.blockedOn=null,sg||(sg=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,ER)))}var dh=null;function d1(s){dh!==s&&(dh=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){dh===s&&(dh=null);for(var r=0;r<s.length;r+=3){var o=s[r],u=s[r+1],p=s[r+2];if(typeof u!="function"){if(ng(u||o)===null)continue;break}var y=Kn(o);y!==null&&(s.splice(r,3),r-=3,tp(y,{pending:!0,data:p,method:o.method,action:u},u,p))}}))}function $o(s){function r(O){return uh(O,s)}Cr!==null&&uh(Cr,s),Rr!==null&&uh(Rr,s),Ir!==null&&uh(Ir,s),Mc.forEach(r),Vc.forEach(r);for(var o=0;o<Dr.length;o++){var u=Dr[o];u.blockedOn===s&&(u.blockedOn=null)}for(;0<Dr.length&&(o=Dr[0],o.blockedOn===null);)c1(o),o.blockedOn===null&&Dr.shift();if(o=(s.ownerDocument||s).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var p=o[u],y=o[u+1],w=p[Qt]||null;if(typeof y=="function")w||d1(o);else if(w){var A=null;if(y&&y.hasAttribute("formAction")){if(p=y,w=y[Qt]||null)A=w.formAction;else if(ng(p)!==null)continue}else A=w.action;typeof A=="function"?o[u+1]=A:(o.splice(u,3),u-=3),d1(o)}}}function h1(){function s(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(w){return p=w})},focusReset:"manual",scroll:"manual"})}function r(){p!==null&&(p(),p=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,p=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),p!==null&&(p(),p=null)}}}function ig(s){this._internalRoot=s}hh.prototype.render=ig.prototype.render=function(s){var r=this._internalRoot;if(r===null)throw Error(i(409));var o=r.current,u=Hn();s1(o,u,s,r,null,null)},hh.prototype.unmount=ig.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var r=s.containerInfo;s1(s.current,2,null,s,null,null),$d(),r[Us]=null}};function hh(s){this._internalRoot=s}hh.prototype.unstable_scheduleHydration=function(s){if(s){var r=$u();s={blockedOn:null,target:s,priority:r};for(var o=0;o<Dr.length&&r!==0&&r<Dr[o].priority;o++);Dr.splice(o,0,s),o===0&&c1(s)}};var f1=e.version;if(f1!=="19.2.4")throw Error(i(527,f1,"19.2.4"));F.findDOMNode=function(s){var r=s._reactInternals;if(r===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=g(r),s=s!==null?v(s):null,s=s===null?null:s.stateNode,s};var SR={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:V,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fh.isDisabled&&fh.supportsFiber)try{hs=fh.inject(SR),tn=fh}catch{}}return Lc.createRoot=function(s,r){if(!a(s))throw Error(i(299));var o=!1,u="",p=xx,y=_x,w=wx;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(p=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(w=r.onRecoverableError)),r=t1(s,1,!1,null,null,o,u,null,p,y,w,h1),s[Us]=r.current,Up(s),new ig(r)},Lc.hydrateRoot=function(s,r,o){if(!a(s))throw Error(i(299));var u=!1,p="",y=xx,w=_x,A=wx,O=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.formState!==void 0&&(O=o.formState)),r=t1(s,1,!0,r,o??null,u,p,O,y,w,A,h1),r.context=n1(null),o=r.current,u=Hn(),u=oa(u),p=yr(u),p.callback=null,vr(o,p,u),o=u,r.current.lanes=o,ra(r,o),ti(r),s[Us]=r.current,Up(s),new hh(r)},Lc.version="19.2.4",Lc}var T1;function MR(){if(T1)return og.exports;T1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),og.exports=jR(),og.exports}var VR=MR();const OR=LE(VR);var E1="popstate";function PR(t={}){function e(i,a){let{pathname:l,search:c,hash:d}=i.location;return Wg("",{pathname:l,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){return typeof a=="string"?a:au(a)}return UR(e,n,null,t)}function yt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ds(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function LR(){return Math.random().toString(36).substring(2,10)}function S1(t,e){return{usr:t.state,key:t.key,idx:e}}function Wg(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?xl(e):e,state:n,key:e&&e.key||i||LR()}}function au({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function xl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function UR(t,e,n,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,c=a.history,d="POP",f=null,g=v();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function v(){return(c.state||{idx:null}).idx}function b(){d="POP";let D=v(),L=D==null?null:D-g;g=D,f&&f({action:d,location:M.location,delta:L})}function _(D,L){d="PUSH";let q=Wg(M.location,D,L);g=v()+1;let K=S1(q,g),Z=M.createHref(q);try{c.pushState(K,"",Z)}catch(ne){if(ne instanceof DOMException&&ne.name==="DataCloneError")throw ne;a.location.assign(Z)}l&&f&&f({action:d,location:M.location,delta:1})}function S(D,L){d="REPLACE";let q=Wg(M.location,D,L);g=v();let K=S1(q,g),Z=M.createHref(q);c.replaceState(K,"",Z),l&&f&&f({action:d,location:M.location,delta:0})}function I(D){return zR(D)}let M={get action(){return d},get location(){return t(a,c)},listen(D){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(E1,b),f=D,()=>{a.removeEventListener(E1,b),f=null}},createHref(D){return e(a,D)},createURL:I,encodeLocation(D){let L=I(D);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:_,replace:S,go(D){return c.go(D)}};return M}function zR(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),yt(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:au(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function BE(t,e,n="/"){return BR(t,e,n,!1)}function BR(t,e,n,i){let a=typeof e=="string"?xl(e):e,l=Gi(a.pathname||"/",n);if(l==null)return null;let c=FE(t);FR(c);let d=null;for(let f=0;d==null&&f<c.length;++f){let g=ZR(l);d=WR(c[f],g,i)}return d}function FE(t,e=[],n=[],i="",a=!1){let l=(c,d,f=a,g)=>{let v={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(i)&&f)return;yt(v.relativePath.startsWith(i),`Absolute route path "${v.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(i.length)}let b=Fi([i,v.relativePath]),_=n.concat(v);c.children&&c.children.length>0&&(yt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),FE(c.children,e,_,b,f)),!(c.path==null&&!c.index)&&e.push({path:b,score:QR(b,c.index),routesMeta:_})};return t.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))l(c,d);else for(let f of HE(c.path))l(c,d,!0,f)}),e}function HE(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let c=HE(i.join("/")),d=[];return d.push(...c.map(f=>f===""?l:[l,f].join("/"))),a&&d.push(...c),d.map(f=>t.startsWith("/")&&f===""?"/":f)}function FR(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:XR(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var HR=/^:[\w-]+$/,qR=3,GR=2,$R=1,KR=10,YR=-2,A1=t=>t==="*";function QR(t,e){let n=t.split("/"),i=n.length;return n.some(A1)&&(i+=YR),e&&(i+=GR),n.filter(a=>!A1(a)).reduce((a,l)=>a+(HR.test(l)?qR:l===""?$R:KR),i)}function XR(t,e){return t.length===e.length&&t.slice(0,-1).every((i,a)=>i===e[a])?t[t.length-1]-e[e.length-1]:0}function WR(t,e,n=!1){let{routesMeta:i}=t,a={},l="/",c=[];for(let d=0;d<i.length;++d){let f=i[d],g=d===i.length-1,v=l==="/"?e:e.slice(l.length)||"/",b=Qh({path:f.relativePath,caseSensitive:f.caseSensitive,end:g},v),_=f.route;if(!b&&g&&n&&!i[i.length-1].route.index&&(b=Qh({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},v)),!b)return null;Object.assign(a,b.params),c.push({params:a,pathname:Fi([l,b.pathname]),pathnameBase:sI(Fi([l,b.pathnameBase])),route:_}),b.pathnameBase!=="/"&&(l=Fi([l,b.pathnameBase]))}return c}function Qh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=JR(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:i.reduce((g,{paramName:v,isOptional:b},_)=>{if(v==="*"){let I=d[_]||"";c=l.slice(0,l.length-I.length).replace(/(.)\/+$/,"$1")}const S=d[_];return b&&!S?g[v]=void 0:g[v]=(S||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:t}}function JR(t,e=!1,n=!0){Ds(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,f)=>(i.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function ZR(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ds(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Gi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}var eI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function tI(t,e="/"){let{pathname:n,search:i="",hash:a=""}=typeof t=="string"?xl(t):t,l;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?l=k1(n.substring(1),"/"):l=k1(n,e)):l=e,{pathname:l,search:iI(i),hash:rI(a)}}function k1(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function dg(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function nI(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ny(t){let e=nI(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function sy(t,e,n,i=!1){let a;typeof t=="string"?a=xl(t):(a={...t},yt(!a.pathname||!a.pathname.includes("?"),dg("?","pathname","search",a)),yt(!a.pathname||!a.pathname.includes("#"),dg("#","pathname","hash",a)),yt(!a.search||!a.search.includes("#"),dg("#","search","hash",a)));let l=t===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=n;else{let b=e.length-1;if(!i&&c.startsWith("..")){let _=c.split("/");for(;_[0]==="..";)_.shift(),b-=1;a.pathname=_.join("/")}d=b>=0?e[b]:"/"}let f=tI(a,d),g=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(g||v)&&(f.pathname+="/"),f}var Fi=t=>t.join("/").replace(/\/\/+/g,"/"),sI=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),iI=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,rI=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,aI=class{constructor(t,e,n,i=!1){this.status=t,this.statusText=e||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function oI(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function lI(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var qE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function GE(t,e){let n=t;if(typeof n!="string"||!eI.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let i=n,a=!1;if(qE)try{let l=new URL(window.location.href),c=n.startsWith("//")?new URL(l.protocol+n):new URL(n),d=Gi(c.pathname,e);c.origin===l.origin&&d!=null?n=d+c.search+c.hash:a=!0}catch{Ds(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var $E=["POST","PUT","PATCH","DELETE"];new Set($E);var cI=["GET",...$E];new Set(cI);var _l=N.createContext(null);_l.displayName="DataRouter";var Rf=N.createContext(null);Rf.displayName="DataRouterState";var uI=N.createContext(!1),KE=N.createContext({isTransitioning:!1});KE.displayName="ViewTransition";var dI=N.createContext(new Map);dI.displayName="Fetchers";var hI=N.createContext(null);hI.displayName="Await";var qn=N.createContext(null);qn.displayName="Navigation";var wu=N.createContext(null);wu.displayName="Location";var ds=N.createContext({outlet:null,matches:[],isDataRoute:!1});ds.displayName="Route";var iy=N.createContext(null);iy.displayName="RouteError";var YE="REACT_ROUTER_ERROR",fI="REDIRECT",mI="ROUTE_ERROR_RESPONSE";function pI(t){if(t.startsWith(`${YE}:${fI}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function gI(t){if(t.startsWith(`${YE}:${mI}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new aI(e.status,e.statusText,e.data)}catch{}}function yI(t,{relative:e}={}){yt(wl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=N.useContext(qn),{hash:a,pathname:l,search:c}=Tu(t,{relative:e}),d=l;return n!=="/"&&(d=l==="/"?n:Fi([n,l])),i.createHref({pathname:d,search:c,hash:a})}function wl(){return N.useContext(wu)!=null}function Wi(){return yt(wl(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(wu).location}var QE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function XE(t){N.useContext(qn).static||N.useLayoutEffect(t)}function If(){let{isDataRoute:t}=N.useContext(ds);return t?jI():vI()}function vI(){yt(wl(),"useNavigate() may be used only in the context of a <Router> component.");let t=N.useContext(_l),{basename:e,navigator:n}=N.useContext(qn),{matches:i}=N.useContext(ds),{pathname:a}=Wi(),l=JSON.stringify(ny(i)),c=N.useRef(!1);return XE(()=>{c.current=!0}),N.useCallback((f,g={})=>{if(Ds(c.current,QE),!c.current)return;if(typeof f=="number"){n.go(f);return}let v=sy(f,JSON.parse(l),a,g.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Fi([e,v.pathname])),(g.replace?n.replace:n.push)(v,g.state,g)},[e,n,l,a,t])}var bI=N.createContext(null);function xI(t){let e=N.useContext(ds).outlet;return N.useMemo(()=>e&&N.createElement(bI.Provider,{value:t},e),[e,t])}function _I(){let{matches:t}=N.useContext(ds),e=t[t.length-1];return e?e.params:{}}function Tu(t,{relative:e}={}){let{matches:n}=N.useContext(ds),{pathname:i}=Wi(),a=JSON.stringify(ny(n));return N.useMemo(()=>sy(t,JSON.parse(a),i,e==="path"),[t,a,i,e])}function wI(t,e){return WE(t,e)}function WE(t,e,n,i,a){yt(wl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=N.useContext(qn),{matches:c}=N.useContext(ds),d=c[c.length-1],f=d?d.params:{},g=d?d.pathname:"/",v=d?d.pathnameBase:"/",b=d&&d.route;{let q=b&&b.path||"";ZE(g,!b||q.endsWith("*")||q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${q}"> to <Route path="${q==="/"?"*":`${q}/*`}">.`)}let _=Wi(),S;if(e){let q=typeof e=="string"?xl(e):e;yt(v==="/"||q.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${q.pathname}" was given in the \`location\` prop.`),S=q}else S=_;let I=S.pathname||"/",M=I;if(v!=="/"){let q=v.replace(/^\//,"").split("/");M="/"+I.replace(/^\//,"").split("/").slice(q.length).join("/")}let D=BE(t,{pathname:M});Ds(b||D!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Ds(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let L=kI(D&&D.map(q=>Object.assign({},q,{params:Object.assign({},f,q.params),pathname:Fi([v,l.encodeLocation?l.encodeLocation(q.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?v:Fi([v,l.encodeLocation?l.encodeLocation(q.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:q.pathnameBase])})),c,n,i,a);return e&&L?N.createElement(wu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},L):L}function TI(){let t=DI(),e=oI(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=N.createElement(N.Fragment,null,N.createElement("p",null," Hey developer "),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:l},"ErrorBoundary")," or"," ",N.createElement("code",{style:l},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),n?N.createElement("pre",{style:a},n):null,c)}var EI=N.createElement(TI,null),JE=class extends N.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=gI(t.digest);n&&(t=n)}let e=t!==void 0?N.createElement(ds.Provider,{value:this.props.routeContext},N.createElement(iy.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?N.createElement(SI,{error:t},e):e}};JE.contextType=uI;var hg=new WeakMap;function SI({children:t,error:e}){let{basename:n}=N.useContext(qn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=pI(e.digest);if(i){let a=hg.get(e);if(a)throw a;let l=GE(i.location,n);if(qE&&!hg.get(e))if(l.isExternal||i.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:i.replace}));throw hg.set(e,c),c}return N.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return t}function AI({routeContext:t,match:e,children:n}){let i=N.useContext(_l);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),N.createElement(ds.Provider,{value:t},n)}function kI(t,e=[],n=null,i=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,c=n?.errors;if(c!=null){let v=l.findIndex(b=>b.route.id&&c?.[b.route.id]!==void 0);yt(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,v+1))}let d=!1,f=-1;if(n)for(let v=0;v<l.length;v++){let b=l[v];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(f=v),b.route.id){let{loaderData:_,errors:S}=n,I=b.route.loader&&!_.hasOwnProperty(b.route.id)&&(!S||S[b.route.id]===void 0);if(b.route.lazy||I){d=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}let g=n&&i?(v,b)=>{i(v,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:lI(n.matches),errorInfo:b})}:void 0;return l.reduceRight((v,b,_)=>{let S,I=!1,M=null,D=null;n&&(S=c&&b.route.id?c[b.route.id]:void 0,M=b.route.errorElement||EI,d&&(f<0&&_===0?(ZE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,D=null):f===_&&(I=!0,D=b.route.hydrateFallbackElement||null)));let L=e.concat(l.slice(0,_+1)),q=()=>{let K;return S?K=M:I?K=D:b.route.Component?K=N.createElement(b.route.Component,null):b.route.element?K=b.route.element:K=v,N.createElement(AI,{match:b,routeContext:{outlet:v,matches:L,isDataRoute:n!=null},children:K})};return n&&(b.route.ErrorBoundary||b.route.errorElement||_===0)?N.createElement(JE,{location:n.location,revalidation:n.revalidation,component:M,error:S,children:q(),routeContext:{outlet:null,matches:L,isDataRoute:!0},onError:g}):q()},null)}function ry(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function NI(t){let e=N.useContext(_l);return yt(e,ry(t)),e}function CI(t){let e=N.useContext(Rf);return yt(e,ry(t)),e}function RI(t){let e=N.useContext(ds);return yt(e,ry(t)),e}function ay(t){let e=RI(t),n=e.matches[e.matches.length-1];return yt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function II(){return ay("useRouteId")}function DI(){let t=N.useContext(iy),e=CI("useRouteError"),n=ay("useRouteError");return t!==void 0?t:e.errors?.[n]}function jI(){let{router:t}=NI("useNavigate"),e=ay("useNavigate"),n=N.useRef(!1);return XE(()=>{n.current=!0}),N.useCallback(async(a,l={})=>{Ds(n.current,QE),n.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var N1={};function ZE(t,e,n){!e&&!N1[t]&&(N1[t]=!0,Ds(!1,n))}N.memo(MI);function MI({routes:t,future:e,state:n,onError:i}){return WE(t,void 0,n,i,e)}function VI({to:t,replace:e,state:n,relative:i}){yt(wl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=N.useContext(qn);Ds(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=N.useContext(ds),{pathname:c}=Wi(),d=If(),f=sy(t,ny(l),c,i==="path"),g=JSON.stringify(f);return N.useEffect(()=>{d(JSON.parse(g),{replace:e,state:n,relative:i})},[d,g,i,e,n]),null}function ni(t){yt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function OI({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:a,static:l=!1,unstable_useTransitions:c}){yt(!wl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=t.replace(/^\/*/,"/"),f=N.useMemo(()=>({basename:d,navigator:a,static:l,unstable_useTransitions:c,future:{}}),[d,a,l,c]);typeof n=="string"&&(n=xl(n));let{pathname:g="/",search:v="",hash:b="",state:_=null,key:S="default"}=n,I=N.useMemo(()=>{let M=Gi(g,d);return M==null?null:{location:{pathname:M,search:v,hash:b,state:_,key:S},navigationType:i}},[d,g,v,b,_,S,i]);return Ds(I!=null,`<Router basename="${d}"> is not able to match the URL "${g}${v}${b}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:N.createElement(qn.Provider,{value:f},N.createElement(wu.Provider,{children:e,value:I}))}function PI({children:t,location:e}){return wI(Jg(t),e)}function Jg(t,e=[]){let n=[];return N.Children.forEach(t,(i,a)=>{if(!N.isValidElement(i))return;let l=[...e,a];if(i.type===N.Fragment){n.push.apply(n,Jg(i.props.children,l));return}yt(i.type===ni,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),yt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=Jg(i.props.children,l)),n.push(c)}),n}var Rh="get",Ih="application/x-www-form-urlencoded";function Df(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function LI(t){return Df(t)&&t.tagName.toLowerCase()==="button"}function UI(t){return Df(t)&&t.tagName.toLowerCase()==="form"}function zI(t){return Df(t)&&t.tagName.toLowerCase()==="input"}function BI(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function FI(t,e){return t.button===0&&(!e||e==="_self")&&!BI(t)}var mh=null;function HI(){if(mh===null)try{new FormData(document.createElement("form"),0),mh=!1}catch{mh=!0}return mh}var qI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function fg(t){return t!=null&&!qI.has(t)?(Ds(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ih}"`),null):t}function GI(t,e){let n,i,a,l,c;if(UI(t)){let d=t.getAttribute("action");i=d?Gi(d,e):null,n=t.getAttribute("method")||Rh,a=fg(t.getAttribute("enctype"))||Ih,l=new FormData(t)}else if(LI(t)||zI(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||d.getAttribute("action");if(i=f?Gi(f,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||Rh,a=fg(t.getAttribute("formenctype"))||fg(d.getAttribute("enctype"))||Ih,l=new FormData(d,t),!HI()){let{name:g,type:v,value:b}=t;if(v==="image"){let _=g?`${g}.`:"";l.append(`${_}x`,"0"),l.append(`${_}y`,"0")}else g&&l.append(g,b)}}else{if(Df(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Rh,i=null,a=Ih,c=t}return l&&a==="text/plain"&&(c=l,l=void 0),{action:i,method:n.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function oy(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function $I(t,e,n,i){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${i}`:a.pathname=`${a.pathname}.${i}`:a.pathname==="/"?a.pathname=`_root.${i}`:e&&Gi(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${i}`,a}async function KI(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function YI(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function QI(t,e,n){let i=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await KI(l,n);return c.links?c.links():[]}return[]}));return ZI(i.flat(1).filter(YI).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function C1(t,e,n,i,a,l){let c=(f,g)=>n[g]?f.route.id!==n[g].route.id:!0,d=(f,g)=>n[g].pathname!==f.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==f.params["*"];return l==="assets"?e.filter((f,g)=>c(f,g)||d(f,g)):l==="data"?e.filter((f,g)=>{let v=i.routes[f.route.id];if(!v||!v.hasLoader)return!1;if(c(f,g)||d(f,g))return!0;if(f.route.shouldRevalidate){let b=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function XI(t,e,{includeHydrateFallback:n}={}){return WI(t.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function WI(t){return[...new Set(t)]}function JI(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function ZI(t,e){let n=new Set;return new Set(e),t.reduce((i,a)=>{let l=JSON.stringify(JI(a));return n.has(l)||(n.add(l),i.push({key:l,link:a})),i},[])}function eS(){let t=N.useContext(_l);return oy(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function e4(){let t=N.useContext(Rf);return oy(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var ly=N.createContext(void 0);ly.displayName="FrameworkContext";function tS(){let t=N.useContext(ly);return oy(t,"You must render this element inside a <HydratedRouter> element"),t}function t4(t,e){let n=N.useContext(ly),[i,a]=N.useState(!1),[l,c]=N.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:g,onMouseLeave:v,onTouchStart:b}=e,_=N.useRef(null);N.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let M=L=>{L.forEach(q=>{c(q.isIntersecting)})},D=new IntersectionObserver(M,{threshold:.5});return _.current&&D.observe(_.current),()=>{D.disconnect()}}},[t]),N.useEffect(()=>{if(i){let M=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(M)}}},[i]);let S=()=>{a(!0)},I=()=>{a(!1),c(!1)};return n?t!=="intent"?[l,_,{}]:[l,_,{onFocus:Uc(d,S),onBlur:Uc(f,I),onMouseEnter:Uc(g,S),onMouseLeave:Uc(v,I),onTouchStart:Uc(b,S)}]:[!1,_,{}]}function Uc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function n4({page:t,...e}){let{router:n}=eS(),i=N.useMemo(()=>BE(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?N.createElement(i4,{page:t,matches:i,...e}):null}function s4(t){let{manifest:e,routeModules:n}=tS(),[i,a]=N.useState([]);return N.useEffect(()=>{let l=!1;return QI(t,e,n).then(c=>{l||a(c)}),()=>{l=!0}},[t,e,n]),i}function i4({page:t,matches:e,...n}){let i=Wi(),{future:a,manifest:l,routeModules:c}=tS(),{basename:d}=eS(),{loaderData:f,matches:g}=e4(),v=N.useMemo(()=>C1(t,e,g,l,i,"data"),[t,e,g,l,i]),b=N.useMemo(()=>C1(t,e,g,l,i,"assets"),[t,e,g,l,i]),_=N.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let M=new Set,D=!1;if(e.forEach(q=>{let K=l.routes[q.route.id];!K||!K.hasLoader||(!v.some(Z=>Z.route.id===q.route.id)&&q.route.id in f&&c[q.route.id]?.shouldRevalidate||K.hasClientLoader?D=!0:M.add(q.route.id))}),M.size===0)return[];let L=$I(t,d,a.unstable_trailingSlashAwareDataRequests,"data");return D&&M.size>0&&L.searchParams.set("_routes",e.filter(q=>M.has(q.route.id)).map(q=>q.route.id).join(",")),[L.pathname+L.search]},[d,a.unstable_trailingSlashAwareDataRequests,f,i,l,v,e,t,c]),S=N.useMemo(()=>XI(b,l),[b,l]),I=s4(b);return N.createElement(N.Fragment,null,_.map(M=>N.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...n})),S.map(M=>N.createElement("link",{key:M,rel:"modulepreload",href:M,...n})),I.map(({key:M,link:D})=>N.createElement("link",{key:M,nonce:n.nonce,...D,crossOrigin:D.crossOrigin??n.crossOrigin})))}function r4(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var a4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{a4&&(window.__reactRouterVersion="7.13.0")}catch{}function o4({basename:t,children:e,unstable_useTransitions:n,window:i}){let a=N.useRef();a.current==null&&(a.current=PR({window:i,v5Compat:!0}));let l=a.current,[c,d]=N.useState({action:l.action,location:l.location}),f=N.useCallback(g=>{n===!1?d(g):N.startTransition(()=>d(g))},[n]);return N.useLayoutEffect(()=>l.listen(f),[l,f]),N.createElement(OI,{basename:t,children:e,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:n})}var nS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Jt=N.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:a,reloadDocument:l,replace:c,state:d,target:f,to:g,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:_,...S},I){let{basename:M,unstable_useTransitions:D}=N.useContext(qn),L=typeof g=="string"&&nS.test(g),q=GE(g,M);g=q.to;let K=yI(g,{relative:a}),[Z,ne,de]=t4(i,S),R=d4(g,{replace:c,state:d,target:f,preventScrollReset:v,relative:a,viewTransition:b,unstable_defaultShouldRevalidate:_,unstable_useTransitions:D});function E(U){e&&e(U),U.defaultPrevented||R(U)}let C=N.createElement("a",{...S,...de,href:q.absoluteURL||K,onClick:q.isExternal||l?e:E,ref:r4(I,ne),target:f,"data-discover":!L&&n==="render"?"true":void 0});return Z&&!L?N.createElement(N.Fragment,null,C,N.createElement(n4,{page:K})):C});Jt.displayName="Link";var l4=N.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:a=!1,style:l,to:c,viewTransition:d,children:f,...g},v){let b=Tu(c,{relative:g.relative}),_=Wi(),S=N.useContext(Rf),{navigator:I,basename:M}=N.useContext(qn),D=S!=null&&g4(b)&&d===!0,L=I.encodeLocation?I.encodeLocation(b).pathname:b.pathname,q=_.pathname,K=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;n||(q=q.toLowerCase(),K=K?K.toLowerCase():null,L=L.toLowerCase()),K&&M&&(K=Gi(K,M)||K);const Z=L!=="/"&&L.endsWith("/")?L.length-1:L.length;let ne=q===L||!a&&q.startsWith(L)&&q.charAt(Z)==="/",de=K!=null&&(K===L||!a&&K.startsWith(L)&&K.charAt(L.length)==="/"),R={isActive:ne,isPending:de,isTransitioning:D},E=ne?e:void 0,C;typeof i=="function"?C=i(R):C=[i,ne?"active":null,de?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let U=typeof l=="function"?l(R):l;return N.createElement(Jt,{...g,"aria-current":E,className:C,ref:v,style:U,to:c,viewTransition:d},typeof f=="function"?f(R):f)});l4.displayName="NavLink";var c4=N.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:a,state:l,method:c=Rh,action:d,onSubmit:f,relative:g,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:_,...S},I)=>{let{unstable_useTransitions:M}=N.useContext(qn),D=m4(),L=p4(d,{relative:g}),q=c.toLowerCase()==="get"?"get":"post",K=typeof d=="string"&&nS.test(d),Z=ne=>{if(f&&f(ne),ne.defaultPrevented)return;ne.preventDefault();let de=ne.nativeEvent.submitter,R=de?.getAttribute("formmethod")||c,E=()=>D(de||ne.currentTarget,{fetcherKey:e,method:R,navigate:n,replace:a,state:l,relative:g,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:_});M&&n!==!1?N.startTransition(()=>E()):E()};return N.createElement("form",{ref:I,method:q,action:L,onSubmit:i?f:Z,...S,"data-discover":!K&&t==="render"?"true":void 0})});c4.displayName="Form";function u4(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function sS(t){let e=N.useContext(_l);return yt(e,u4(t)),e}function d4(t,{target:e,replace:n,state:i,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:d,unstable_useTransitions:f}={}){let g=If(),v=Wi(),b=Tu(t,{relative:l});return N.useCallback(_=>{if(FI(_,e)){_.preventDefault();let S=n!==void 0?n:au(v)===au(b),I=()=>g(t,{replace:S,state:i,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:d});f?N.startTransition(()=>I()):I()}},[v,g,b,n,i,e,t,a,l,c,d,f])}var h4=0,f4=()=>`__${String(++h4)}__`;function m4(){let{router:t}=sS("useSubmit"),{basename:e}=N.useContext(qn),n=II(),i=t.fetch,a=t.navigate;return N.useCallback(async(l,c={})=>{let{action:d,method:f,encType:g,formData:v,body:b}=GI(l,e);if(c.navigate===!1){let _=c.fetcherKey||f4();await i(_,n,c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:b,formMethod:c.method||f,formEncType:c.encType||g,flushSync:c.flushSync})}else await a(c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:b,formMethod:c.method||f,formEncType:c.encType||g,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[i,a,e,n])}function p4(t,{relative:e}={}){let{basename:n}=N.useContext(qn),i=N.useContext(ds);yt(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...Tu(t||".",{relative:e})},c=Wi();if(t==null){l.search=c.search;let d=new URLSearchParams(l.search),f=d.getAll("index");if(f.some(v=>v==="")){d.delete("index"),f.filter(b=>b).forEach(b=>d.append("index",b));let v=d.toString();l.search=v?`?${v}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Fi([n,l.pathname])),au(l)}function g4(t,{relative:e}={}){let n=N.useContext(KE);yt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=sS("useViewTransitionState"),a=Tu(t,{relative:e});if(!n.isTransitioning)return!1;let l=Gi(n.currentLocation.pathname,i)||n.currentLocation.pathname,c=Gi(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Qh(a.pathname,c)!=null||Qh(a.pathname,l)!=null}var y4=zE();const cy=N.createContext({});function uy(t){const e=N.useRef(null);return e.current===null&&(e.current=t()),e.current}const iS=typeof window<"u",rS=iS?N.useLayoutEffect:N.useEffect,jf=N.createContext(null);function dy(t,e){t.indexOf(e)===-1&&t.push(e)}function Xh(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const hi=(t,e,n)=>n>e?e:n<t?t:n;let hy=()=>{};const $i={},aS=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function oS(t){return typeof t=="object"&&t!==null}const lS=t=>/^0[^.\s]+$/u.test(t);function fy(t){let e;return()=>(e===void 0&&(e=t()),e)}const cs=t=>t,v4=(t,e)=>n=>e(t(n)),Eu=(...t)=>t.reduce(v4),ou=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};class my{constructor(){this.subscriptions=[]}add(e){return dy(this.subscriptions,e),()=>Xh(this.subscriptions,e)}notify(e,n,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,i);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Cs=t=>t*1e3,ls=t=>t/1e3;function cS(t,e){return e?t*(1e3/e):0}const uS=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,b4=1e-7,x4=12;function _4(t,e,n,i,a){let l,c,d=0;do c=e+(n-e)/2,l=uS(c,i,a)-t,l>0?n=c:e=c;while(Math.abs(l)>b4&&++d<x4);return c}function Su(t,e,n,i){if(t===e&&n===i)return cs;const a=l=>_4(l,0,1,t,n);return l=>l===0||l===1?l:uS(a(l),e,i)}const dS=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,hS=t=>e=>1-t(1-e),fS=Su(.33,1.53,.69,.99),py=hS(fS),mS=dS(py),pS=t=>(t*=2)<1?.5*py(t):.5*(2-Math.pow(2,-10*(t-1))),gy=t=>1-Math.sin(Math.acos(t)),gS=hS(gy),yS=dS(gy),w4=Su(.42,0,1,1),T4=Su(0,0,.58,1),vS=Su(.42,0,.58,1),E4=t=>Array.isArray(t)&&typeof t[0]!="number",bS=t=>Array.isArray(t)&&typeof t[0]=="number",S4={linear:cs,easeIn:w4,easeInOut:vS,easeOut:T4,circIn:gy,circInOut:yS,circOut:gS,backIn:py,backInOut:mS,backOut:fS,anticipate:pS},A4=t=>typeof t=="string",R1=t=>{if(bS(t)){hy(t.length===4);const[e,n,i,a]=t;return Su(e,n,i,a)}else if(A4(t))return S4[t];return t},ph=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function k4(t,e){let n=new Set,i=new Set,a=!1,l=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function f(v){c.has(v)&&(g.schedule(v),t()),v(d)}const g={schedule:(v,b=!1,_=!1)=>{const I=_&&a?n:i;return b&&c.add(v),I.has(v)||I.add(v),v},cancel:v=>{i.delete(v),c.delete(v)},process:v=>{if(d=v,a){l=!0;return}a=!0,[n,i]=[i,n],n.forEach(f),n.clear(),a=!1,l&&(l=!1,g.process(v))}};return g}const N4=40;function xS(t,e){let n=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=ph.reduce((K,Z)=>(K[Z]=k4(l),K),{}),{setup:d,read:f,resolveKeyframes:g,preUpdate:v,update:b,preRender:_,render:S,postRender:I}=c,M=()=>{const K=$i.useManualTiming?a.timestamp:performance.now();n=!1,$i.useManualTiming||(a.delta=i?1e3/60:Math.max(Math.min(K-a.timestamp,N4),1)),a.timestamp=K,a.isProcessing=!0,d.process(a),f.process(a),g.process(a),v.process(a),b.process(a),_.process(a),S.process(a),I.process(a),a.isProcessing=!1,n&&e&&(i=!1,t(M))},D=()=>{n=!0,i=!0,a.isProcessing||t(M)};return{schedule:ph.reduce((K,Z)=>{const ne=c[Z];return K[Z]=(de,R=!1,E=!1)=>(n||D(),ne.schedule(de,R,E)),K},{}),cancel:K=>{for(let Z=0;Z<ph.length;Z++)c[ph[Z]].cancel(K)},state:a,steps:c}}const{schedule:dt,cancel:Kr,state:ln,steps:mg}=xS(typeof requestAnimationFrame<"u"?requestAnimationFrame:cs,!0);let Dh;function C4(){Dh=void 0}const wn={now:()=>(Dh===void 0&&wn.set(ln.isProcessing||$i.useManualTiming?ln.timestamp:performance.now()),Dh),set:t=>{Dh=t,queueMicrotask(C4)}},_S=t=>e=>typeof e=="string"&&e.startsWith(t),wS=_S("--"),R4=_S("var(--"),yy=t=>R4(t)?I4.test(t.split("/*")[0].trim()):!1,I4=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function I1(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const Tl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},lu={...Tl,transform:t=>hi(0,1,t)},gh={...Tl,default:1},Yc=t=>Math.round(t*1e5)/1e5,vy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function D4(t){return t==null}const j4=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,by=(t,e)=>n=>!!(typeof n=="string"&&j4.test(n)&&n.startsWith(t)||e&&!D4(n)&&Object.prototype.hasOwnProperty.call(n,e)),TS=(t,e,n)=>i=>{if(typeof i!="string")return i;const[a,l,c,d]=i.match(vy);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},M4=t=>hi(0,255,t),pg={...Tl,transform:t=>Math.round(M4(t))},Oa={test:by("rgb","red"),parse:TS("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+pg.transform(t)+", "+pg.transform(e)+", "+pg.transform(n)+", "+Yc(lu.transform(i))+")"};function V4(t){let e="",n="",i="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,i+=i,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const Zg={test:by("#"),parse:V4,transform:Oa.transform},Au=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Or=Au("deg"),ri=Au("%"),we=Au("px"),O4=Au("vh"),P4=Au("vw"),D1={...ri,parse:t=>ri.parse(t)/100,transform:t=>ri.transform(t*100)},el={test:by("hsl","hue"),parse:TS("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+ri.transform(Yc(e))+", "+ri.transform(Yc(n))+", "+Yc(lu.transform(i))+")"},Ut={test:t=>Oa.test(t)||Zg.test(t)||el.test(t),parse:t=>Oa.test(t)?Oa.parse(t):el.test(t)?el.parse(t):Zg.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Oa.transform(t):el.transform(t),getAnimatableNone:t=>{const e=Ut.parse(t);return e.alpha=0,Ut.transform(e)}},L4=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function U4(t){return isNaN(t)&&typeof t=="string"&&(t.match(vy)?.length||0)+(t.match(L4)?.length||0)>0}const ES="number",SS="color",z4="var",B4="var(",j1="${}",F4=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function cu(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},a=[];let l=0;const d=e.replace(F4,f=>(Ut.test(f)?(i.color.push(l),a.push(SS),n.push(Ut.parse(f))):f.startsWith(B4)?(i.var.push(l),a.push(z4),n.push(f)):(i.number.push(l),a.push(ES),n.push(parseFloat(f))),++l,j1)).split(j1);return{values:n,split:d,indexes:i,types:a}}function AS(t){return cu(t).values}function kS(t){const{split:e,types:n}=cu(t),i=e.length;return a=>{let l="";for(let c=0;c<i;c++)if(l+=e[c],a[c]!==void 0){const d=n[c];d===ES?l+=Yc(a[c]):d===SS?l+=Ut.transform(a[c]):l+=a[c]}return l}}const H4=t=>typeof t=="number"?0:Ut.test(t)?Ut.getAnimatableNone(t):t;function q4(t){const e=AS(t);return kS(t)(e.map(H4))}const Yr={test:U4,parse:AS,createTransformer:kS,getAnimatableNone:q4};function gg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function G4({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let a=0,l=0,c=0;if(!e)a=l=c=n;else{const d=n<.5?n*(1+e):n+e-n*e,f=2*n-d;a=gg(f,d,t+1/3),l=gg(f,d,t),c=gg(f,d,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:i}}function Wh(t,e){return n=>n>0?e:t}const vt=(t,e,n)=>t+(e-t)*n,yg=(t,e,n)=>{const i=t*t,a=n*(e*e-i)+i;return a<0?0:Math.sqrt(a)},$4=[Zg,Oa,el],K4=t=>$4.find(e=>e.test(t));function M1(t){const e=K4(t);if(!e)return!1;let n=e.parse(t);return e===el&&(n=G4(n)),n}const V1=(t,e)=>{const n=M1(t),i=M1(e);if(!n||!i)return Wh(t,e);const a={...n};return l=>(a.red=yg(n.red,i.red,l),a.green=yg(n.green,i.green,l),a.blue=yg(n.blue,i.blue,l),a.alpha=vt(n.alpha,i.alpha,l),Oa.transform(a))},e0=new Set(["none","hidden"]);function Y4(t,e){return e0.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function Q4(t,e){return n=>vt(t,e,n)}function xy(t){return typeof t=="number"?Q4:typeof t=="string"?yy(t)?Wh:Ut.test(t)?V1:J4:Array.isArray(t)?NS:typeof t=="object"?Ut.test(t)?V1:X4:Wh}function NS(t,e){const n=[...t],i=n.length,a=t.map((l,c)=>xy(l)(l,e[c]));return l=>{for(let c=0;c<i;c++)n[c]=a[c](l);return n}}function X4(t,e){const n={...t,...e},i={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(i[a]=xy(t[a])(t[a],e[a]));return a=>{for(const l in i)n[l]=i[l](a);return n}}function W4(t,e){const n=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],c=t.indexes[l][i[l]],d=t.values[c]??0;n[a]=d,i[l]++}return n}const J4=(t,e)=>{const n=Yr.createTransformer(e),i=cu(t),a=cu(e);return i.indexes.var.length===a.indexes.var.length&&i.indexes.color.length===a.indexes.color.length&&i.indexes.number.length>=a.indexes.number.length?e0.has(t)&&!a.values.length||e0.has(e)&&!i.values.length?Y4(t,e):Eu(NS(W4(i,a),a.values),n):Wh(t,e)};function CS(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?vt(t,e,n):xy(t)(t,e)}const Z4=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>dt.update(e,n),stop:()=>Kr(e),now:()=>ln.isProcessing?ln.timestamp:wn.now()}},RS=(t,e,n=10)=>{let i="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)i+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},Jh=2e4;function _y(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<Jh;)e+=n,i=t.next(e);return e>=Jh?1/0:e}function eD(t,e=100,n){const i=n({...t,keyframes:[0,e]}),a=Math.min(_y(i),Jh);return{type:"keyframes",ease:l=>i.next(a*l).value/e,duration:ls(a)}}const tD=5;function IS(t,e,n){const i=Math.max(e-tD,0);return cS(n-t(i),e-i)}const Tt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},vg=.001;function nD({duration:t=Tt.duration,bounce:e=Tt.bounce,velocity:n=Tt.velocity,mass:i=Tt.mass}){let a,l,c=1-e;c=hi(Tt.minDamping,Tt.maxDamping,c),t=hi(Tt.minDuration,Tt.maxDuration,ls(t)),c<1?(a=g=>{const v=g*c,b=v*t,_=v-n,S=t0(g,c),I=Math.exp(-b);return vg-_/S*I},l=g=>{const b=g*c*t,_=b*n+n,S=Math.pow(c,2)*Math.pow(g,2)*t,I=Math.exp(-b),M=t0(Math.pow(g,2),c);return(-a(g)+vg>0?-1:1)*((_-S)*I)/M}):(a=g=>{const v=Math.exp(-g*t),b=(g-n)*t+1;return-vg+v*b},l=g=>{const v=Math.exp(-g*t),b=(n-g)*(t*t);return v*b});const d=5/t,f=iD(a,l,d);if(t=Cs(t),isNaN(f))return{stiffness:Tt.stiffness,damping:Tt.damping,duration:t};{const g=Math.pow(f,2)*i;return{stiffness:g,damping:c*2*Math.sqrt(i*g),duration:t}}}const sD=12;function iD(t,e,n){let i=n;for(let a=1;a<sD;a++)i=i-t(i)/e(i);return i}function t0(t,e){return t*Math.sqrt(1-e*e)}const rD=["duration","bounce"],aD=["stiffness","damping","mass"];function O1(t,e){return e.some(n=>t[n]!==void 0)}function oD(t){let e={velocity:Tt.velocity,stiffness:Tt.stiffness,damping:Tt.damping,mass:Tt.mass,isResolvedFromDuration:!1,...t};if(!O1(t,aD)&&O1(t,rD))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),a=i*i,l=2*hi(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:Tt.mass,stiffness:a,damping:l}}else{const n=nD(t);e={...e,...n,mass:Tt.mass},e.isResolvedFromDuration=!0}return e}function Zh(t=Tt.visualDuration,e=Tt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],d={done:!1,value:l},{stiffness:f,damping:g,mass:v,duration:b,velocity:_,isResolvedFromDuration:S}=oD({...n,velocity:-ls(n.velocity||0)}),I=_||0,M=g/(2*Math.sqrt(f*v)),D=c-l,L=ls(Math.sqrt(f/v)),q=Math.abs(D)<5;i||(i=q?Tt.restSpeed.granular:Tt.restSpeed.default),a||(a=q?Tt.restDelta.granular:Tt.restDelta.default);let K;if(M<1){const ne=t0(L,M);K=de=>{const R=Math.exp(-M*L*de);return c-R*((I+M*L*D)/ne*Math.sin(ne*de)+D*Math.cos(ne*de))}}else if(M===1)K=ne=>c-Math.exp(-L*ne)*(D+(I+L*D)*ne);else{const ne=L*Math.sqrt(M*M-1);K=de=>{const R=Math.exp(-M*L*de),E=Math.min(ne*de,300);return c-R*((I+M*L*D)*Math.sinh(E)+ne*D*Math.cosh(E))/ne}}const Z={calculatedDuration:S&&b||null,next:ne=>{const de=K(ne);if(S)d.done=ne>=b;else{let R=ne===0?I:0;M<1&&(R=ne===0?Cs(I):IS(K,ne,de));const E=Math.abs(R)<=i,C=Math.abs(c-de)<=a;d.done=E&&C}return d.value=d.done?c:de,d},toString:()=>{const ne=Math.min(_y(Z),Jh),de=RS(R=>Z.next(ne*R).value,ne,30);return ne+"ms "+de},toTransition:()=>{}};return Z}Zh.applyToOptions=t=>{const e=eD(t,100,Zh);return t.ease=e.ease,t.duration=Cs(e.duration),t.type="keyframes",t};function n0({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:d,max:f,restDelta:g=.5,restSpeed:v}){const b=t[0],_={done:!1,value:b},S=E=>d!==void 0&&E<d||f!==void 0&&E>f,I=E=>d===void 0?f:f===void 0||Math.abs(d-E)<Math.abs(f-E)?d:f;let M=n*e;const D=b+M,L=c===void 0?D:c(D);L!==D&&(M=L-b);const q=E=>-M*Math.exp(-E/i),K=E=>L+q(E),Z=E=>{const C=q(E),U=K(E);_.done=Math.abs(C)<=g,_.value=_.done?L:U};let ne,de;const R=E=>{S(_.value)&&(ne=E,de=Zh({keyframes:[_.value,I(_.value)],velocity:IS(K,E,_.value),damping:a,stiffness:l,restDelta:g,restSpeed:v}))};return R(0),{calculatedDuration:null,next:E=>{let C=!1;return!de&&ne===void 0&&(C=!0,Z(E),R(E)),ne!==void 0&&E>=ne?de.next(E-ne):(!C&&Z(E),_)}}}function lD(t,e,n){const i=[],a=n||$i.mix||CS,l=t.length-1;for(let c=0;c<l;c++){let d=a(t[c],t[c+1]);if(e){const f=Array.isArray(e)?e[c]||cs:e;d=Eu(f,d)}i.push(d)}return i}function cD(t,e,{clamp:n=!0,ease:i,mixer:a}={}){const l=t.length;if(hy(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=lD(e,i,a),f=d.length,g=v=>{if(c&&v<t[0])return e[0];let b=0;if(f>1)for(;b<t.length-2&&!(v<t[b+1]);b++);const _=ou(t[b],t[b+1],v);return d[b](_)};return n?v=>g(hi(t[0],t[l-1],v)):g}function uD(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const a=ou(0,e,i);t.push(vt(n,1,a))}}function dD(t){const e=[0];return uD(e,t.length-1),e}function hD(t,e){return t.map(n=>n*e)}function fD(t,e){return t.map(()=>e||vS).splice(0,t.length-1)}function Qc({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const a=E4(i)?i.map(R1):R1(i),l={done:!1,value:e[0]},c=hD(n&&n.length===e.length?n:dD(e),t),d=cD(c,e,{ease:Array.isArray(a)?a:fD(e,a)});return{calculatedDuration:t,next:f=>(l.value=d(f),l.done=f>=t,l)}}const mD=t=>t!==null;function wy(t,{repeat:e,repeatType:n="loop"},i,a=1){const l=t.filter(mD),d=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!d||i===void 0?l[d]:i}const pD={decay:n0,inertia:n0,tween:Qc,keyframes:Qc,spring:Zh};function DS(t){typeof t.type=="string"&&(t.type=pD[t.type])}class Ty{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const gD=t=>t/100;class Ey extends Ty{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==wn.now()&&this.tick(wn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;DS(e);const{type:n=Qc,repeat:i=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=e;let{keyframes:d}=e;const f=n||Qc;f!==Qc&&typeof d[0]!="number"&&(this.mixKeyframes=Eu(gD,CS(d[0],d[1])),d=[0,100]);const g=f({...e,keyframes:d});l==="mirror"&&(this.mirroredGenerator=f({...e,keyframes:[...d].reverse(),velocity:-c})),g.calculatedDuration===null&&(g.calculatedDuration=_y(g));const{calculatedDuration:v}=g;this.calculatedDuration=v,this.resolvedDuration=v+a,this.totalDuration=this.resolvedDuration*(i+1)-a,this.generator=g}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:i,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:f}=this;if(this.startTime===null)return i.next(0);const{delay:g=0,keyframes:v,repeat:b,repeatType:_,repeatDelay:S,type:I,onUpdate:M,finalKeyframe:D}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const L=this.currentTime-g*(this.playbackSpeed>=0?1:-1),q=this.playbackSpeed>=0?L<0:L>a;this.currentTime=Math.max(L,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let K=this.currentTime,Z=i;if(b){const E=Math.min(this.currentTime,a)/d;let C=Math.floor(E),U=E%1;!U&&E>=1&&(U=1),U===1&&C--,C=Math.min(C,b+1),C%2&&(_==="reverse"?(U=1-U,S&&(U-=S/d)):_==="mirror"&&(Z=c)),K=hi(0,1,U)*d}const ne=q?{done:!1,value:v[0]}:Z.next(K);l&&(ne.value=l(ne.value));let{done:de}=ne;!q&&f!==null&&(de=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&de);return R&&I!==n0&&(ne.value=wy(v,this.options,D,this.speed)),M&&M(ne.value),R&&this.finish(),ne}then(e,n){return this.finished.then(e,n)}get duration(){return ls(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ls(e)}get time(){return ls(this.currentTime)}set time(e){e=Cs(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(wn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ls(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=Z4,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(wn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function yD(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Pa=t=>t*180/Math.PI,s0=t=>{const e=Pa(Math.atan2(t[1],t[0]));return i0(e)},vD={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:s0,rotateZ:s0,skewX:t=>Pa(Math.atan(t[1])),skewY:t=>Pa(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},i0=t=>(t=t%360,t<0&&(t+=360),t),P1=s0,L1=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),U1=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),bD={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:L1,scaleY:U1,scale:t=>(L1(t)+U1(t))/2,rotateX:t=>i0(Pa(Math.atan2(t[6],t[5]))),rotateY:t=>i0(Pa(Math.atan2(-t[2],t[0]))),rotateZ:P1,rotate:P1,skewX:t=>Pa(Math.atan(t[4])),skewY:t=>Pa(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function r0(t){return t.includes("scale")?1:0}function a0(t,e){if(!t||t==="none")return r0(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,a;if(n)i=bD,a=n;else{const d=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=vD,a=d}if(!a)return r0(e);const l=i[e],c=a[1].split(",").map(_D);return typeof l=="function"?l(c):c[l]}const xD=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return a0(n,e)};function _D(t){return parseFloat(t.trim())}const El=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Sl=new Set(El),z1=t=>t===Tl||t===we,wD=new Set(["x","y","z"]),TD=El.filter(t=>!wD.has(t));function ED(t){const e=[];return TD.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const zr={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>a0(e,"x"),y:(t,{transform:e})=>a0(e,"y")};zr.translateX=zr.x;zr.translateY=zr.y;const za=new Set;let o0=!1,l0=!1,c0=!1;function jS(){if(l0){const t=Array.from(za).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const a=ED(i);a.length&&(n.set(i,a),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const a=n.get(i);a&&a.forEach(([l,c])=>{i.getValue(l)?.set(c)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}l0=!1,o0=!1,za.forEach(t=>t.complete(c0)),za.clear()}function MS(){za.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(l0=!0)})}function SD(){c0=!0,MS(),jS(),c0=!1}class Sy{constructor(e,n,i,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(za.add(this),o0||(o0=!0,dt.read(MS),dt.resolveKeyframes(jS))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:a}=this;if(e[0]===null){const l=a?.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(i&&n){const d=i.readValue(n,c);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=c),a&&l===void 0&&a.set(e[0])}yD(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),za.delete(this)}cancel(){this.state==="scheduled"&&(za.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const AD=t=>t.startsWith("--");function kD(t,e,n){AD(e)?t.style.setProperty(e,n):t.style[e]=n}const ND=fy(()=>window.ScrollTimeline!==void 0),CD={};function RD(t,e){const n=fy(t);return()=>CD[e]??n()}const VS=RD(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Hc=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,B1={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Hc([0,.65,.55,1]),circOut:Hc([.55,0,1,.45]),backIn:Hc([.31,.01,.66,-.59]),backOut:Hc([.33,1.53,.69,.99])};function OS(t,e){if(t)return typeof t=="function"?VS()?RS(t,e):"ease-out":bS(t)?Hc(t):Array.isArray(t)?t.map(n=>OS(n,e)||B1.easeOut):B1[t]}function ID(t,e,n,{delay:i=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:d="easeOut",times:f}={},g=void 0){const v={[e]:n};f&&(v.offset=f);const b=OS(d,a);Array.isArray(b)&&(v.easing=b);const _={delay:i,duration:a,easing:Array.isArray(b)?"linear":b,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return g&&(_.pseudoElement=g),t.animate(v,_)}function PS(t){return typeof t=="function"&&"applyToOptions"in t}function DD({type:t,...e}){return PS(t)&&VS()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class LS extends Ty{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:i,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:d,onComplete:f}=e;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=e,hy(typeof e.type!="string");const g=DD(e);this.animation=ID(n,i,a,g,l),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const v=wy(a,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(v):kD(n,i,v),this.animation.cancel()}f?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){const e=this.options?.element;!this.isPseudoElement&&e?.isConnected&&this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return ls(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ls(e)}get time(){return ls(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Cs(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&ND()?(this.animation.timeline=e,cs):n(this)}}const US={anticipate:pS,backInOut:mS,circInOut:yS};function jD(t){return t in US}function MD(t){typeof t.ease=="string"&&jD(t.ease)&&(t.ease=US[t.ease])}const bg=10;class VD extends LS{constructor(e){MD(e),DS(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:i,onComplete:a,element:l,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const d=new Ey({...c,autoplay:!1}),f=Math.max(bg,wn.now()-this.startTime),g=hi(0,bg,f-bg);n.setWithVelocity(d.sample(Math.max(0,f-g)).value,d.sample(f).value,g),d.stop()}}const F1=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Yr.test(t)||t==="0")&&!t.startsWith("url("));function OD(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function PD(t,e,n,i){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=F1(a,e),d=F1(l,e);return!c||!d?!1:OD(t)||(n==="spring"||PS(n))&&i}function u0(t){t.duration=0,t.type="keyframes"}const LD=new Set(["opacity","clipPath","filter","transform"]),UD=fy(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function zD(t){const{motionValue:e,name:n,repeatDelay:i,repeatType:a,damping:l,type:c}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:g}=e.owner.getProps();return UD()&&n&&LD.has(n)&&(n!=="transform"||!g)&&!f&&!i&&a!=="mirror"&&l!==0&&c!=="inertia"}const BD=40;class FD extends Ty{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:d,name:f,motionValue:g,element:v,...b}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=wn.now();const _={autoplay:e,delay:n,type:i,repeat:a,repeatDelay:l,repeatType:c,name:f,motionValue:g,element:v,...b},S=v?.KeyframeResolver||Sy;this.keyframeResolver=new S(d,(I,M,D)=>this.onKeyframesResolved(I,M,_,!D),f,g,v),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,i,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:d,delay:f,isHandoff:g,onUpdate:v}=i;this.resolvedAt=wn.now(),PD(e,l,c,d)||(($i.instantAnimations||!f)&&v?.(wy(e,i,n)),e[0]=e[e.length-1],u0(i),i.repeat=0);const _={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>BD?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:e},S=!g&&zD(_),I=_.motionValue?.owner?.current,M=S?new VD({..._,element:I}):new Ey(_);M.finished.then(()=>{this.notifyFinished()}).catch(cs),this.pendingTimeline&&(this.stopTimeline=M.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=M}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),SD()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function zS(t,e,n,i=0,a=1){const l=Array.from(t).sort((g,v)=>g.sortNodePosition(v)).indexOf(e),c=t.size,d=(c-1)*i;return typeof n=="function"?n(l,c):a===1?l*i:d-l*i}const HD=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function qD(t){const e=HD.exec(t);if(!e)return[,];const[,n,i,a]=e;return[`--${n??i}`,a]}function BS(t,e,n=1){const[i,a]=qD(t);if(!i)return;const l=window.getComputedStyle(e).getPropertyValue(i);if(l){const c=l.trim();return aS(c)?parseFloat(c):c}return yy(a)?BS(a,e,n+1):a}const GD={type:"spring",stiffness:500,damping:25,restSpeed:10},$D=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),KD={type:"keyframes",duration:.8},YD={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},QD=(t,{keyframes:e})=>e.length>2?KD:Sl.has(t)?t.startsWith("scale")?$D(e[1]):GD:YD,XD=t=>t!==null;function WD(t,{repeat:e,repeatType:n="loop"},i){const a=t.filter(XD),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}function FS(t,e){if(t?.inherit&&e){const{inherit:n,...i}=t;return{...e,...i}}return t}function Ay(t,e){const n=t?.[e]??t?.default??t;return n!==t?FS(n,t):n}function JD({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:d,from:f,elapsed:g,...v}){return!!Object.keys(v).length}const ky=(t,e,n,i={},a,l)=>c=>{const d=Ay(i,t)||{},f=d.delay||i.delay||0;let{elapsed:g=0}=i;g=g-Cs(f);const v={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-g,onUpdate:_=>{e.set(_),d.onUpdate&&d.onUpdate(_)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:l?void 0:a};JD(d)||Object.assign(v,QD(t,v)),v.duration&&(v.duration=Cs(v.duration)),v.repeatDelay&&(v.repeatDelay=Cs(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let b=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(u0(v),v.delay===0&&(b=!0)),($i.instantAnimations||$i.skipAnimations||a?.shouldSkipAnimations)&&(b=!0,u0(v),v.delay=0),v.allowFlatten=!d.type&&!d.ease,b&&!l&&e.get()!==void 0){const _=WD(v.keyframes,d);if(_!==void 0){dt.update(()=>{v.onUpdate(_),v.onComplete()});return}}return d.isSync?new Ey(v):new FD(v)};function H1(t){const e=[{},{}];return t?.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function Ny(t,e,n,i){if(typeof e=="function"){const[a,l]=H1(i);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=H1(i);e=e(n!==void 0?n:t.custom,a,l)}return e}function rl(t,e,n){const i=t.getProps();return Ny(i,e,n!==void 0?n:i.custom,t)}const HS=new Set(["width","height","top","left","right","bottom",...El]),q1=30,ZD=t=>!isNaN(parseFloat(t));class e5{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const a=wn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=wn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=ZD(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new my);const i=this.events[e].add(n);return e==="change"?()=>{i(),dt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=wn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>q1)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,q1);return cS(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function dl(t,e){return new e5(t,e)}const d0=t=>Array.isArray(t);function t5(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,dl(n))}function n5(t){return d0(t)?t[t.length-1]||0:t}function s5(t,e){const n=rl(t,e);let{transitionEnd:i={},transition:a={},...l}=n||{};l={...l,...i};for(const c in l){const d=n5(l[c]);t5(t,c,d)}}const gn=t=>!!(t&&t.getVelocity);function i5(t){return!!(gn(t)&&t.add)}function h0(t,e){const n=t.getValue("willChange");if(i5(n))return n.add(e);if(!n&&$i.WillChange){const i=new $i.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function Cy(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const r5="framerAppearId",qS="data-"+Cy(r5);function GS(t){return t.props[qS]}function a5({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function $S(t,e,{delay:n=0,transitionOverride:i,type:a}={}){let{transition:l,transitionEnd:c,...d}=e;const f=t.getDefaultTransition();l=l?FS(l,f):f;const g=l?.reduceMotion;i&&(l=i);const v=[],b=a&&t.animationState&&t.animationState.getState()[a];for(const _ in d){const S=t.getValue(_,t.latestValues[_]??null),I=d[_];if(I===void 0||b&&a5(b,_))continue;const M={delay:n,...Ay(l||{},_)},D=S.get();if(D!==void 0&&!S.isAnimating&&!Array.isArray(I)&&I===D&&!M.velocity)continue;let L=!1;if(window.MotionHandoffAnimation){const Z=GS(t);if(Z){const ne=window.MotionHandoffAnimation(Z,_,dt);ne!==null&&(M.startTime=ne,L=!0)}}h0(t,_);const q=g??t.shouldReduceMotion;S.start(ky(_,S,I,q&&HS.has(_)?{type:!1}:M,t,L));const K=S.animation;K&&v.push(K)}if(c){const _=()=>dt.update(()=>{c&&s5(t,c)});v.length?Promise.all(v).then(_):_()}return v}function f0(t,e,n={}){const i=rl(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(a=n.transitionOverride);const l=i?()=>Promise.all($S(t,i,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(f=0)=>{const{delayChildren:g=0,staggerChildren:v,staggerDirection:b}=a;return o5(t,e,f,g,v,b,n)}:()=>Promise.resolve(),{when:d}=a;if(d){const[f,g]=d==="beforeChildren"?[l,c]:[c,l];return f().then(()=>g())}else return Promise.all([l(),c(n.delay)])}function o5(t,e,n=0,i=0,a=0,l=1,c){const d=[];for(const f of t.variantChildren)f.notify("AnimationStart",e),d.push(f0(f,e,{...c,delay:n+(typeof i=="function"?0:i)+zS(t.variantChildren,f,i,a,l)}).then(()=>f.notify("AnimationComplete",e)));return Promise.all(d)}function l5(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const a=e.map(l=>f0(t,l,n));i=Promise.all(a)}else if(typeof e=="string")i=f0(t,e,n);else{const a=typeof e=="function"?rl(t,e,n.custom):e;i=Promise.all($S(t,a,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}const c5={test:t=>t==="auto",parse:t=>t},KS=t=>e=>e.test(t),YS=[Tl,we,ri,Or,P4,O4,c5],G1=t=>YS.find(KS(t));function u5(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||lS(t):!0}const d5=new Set(["brightness","contrast","saturate","opacity"]);function h5(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(vy)||[];if(!i)return t;const a=n.replace(i,"");let l=d5.has(e)?1:0;return i!==n&&(l*=100),e+"("+l+a+")"}const f5=/\b([a-z-]*)\(.*?\)/gu,m0={...Yr,getAnimatableNone:t=>{const e=t.match(f5);return e?e.map(h5).join(" "):t}},$1={...Tl,transform:Math.round},m5={rotate:Or,rotateX:Or,rotateY:Or,rotateZ:Or,scale:gh,scaleX:gh,scaleY:gh,scaleZ:gh,skew:Or,skewX:Or,skewY:Or,distance:we,translateX:we,translateY:we,translateZ:we,x:we,y:we,z:we,perspective:we,transformPerspective:we,opacity:lu,originX:D1,originY:D1,originZ:we},Ry={borderWidth:we,borderTopWidth:we,borderRightWidth:we,borderBottomWidth:we,borderLeftWidth:we,borderRadius:we,borderTopLeftRadius:we,borderTopRightRadius:we,borderBottomRightRadius:we,borderBottomLeftRadius:we,width:we,maxWidth:we,height:we,maxHeight:we,top:we,right:we,bottom:we,left:we,inset:we,insetBlock:we,insetBlockStart:we,insetBlockEnd:we,insetInline:we,insetInlineStart:we,insetInlineEnd:we,padding:we,paddingTop:we,paddingRight:we,paddingBottom:we,paddingLeft:we,paddingBlock:we,paddingBlockStart:we,paddingBlockEnd:we,paddingInline:we,paddingInlineStart:we,paddingInlineEnd:we,margin:we,marginTop:we,marginRight:we,marginBottom:we,marginLeft:we,marginBlock:we,marginBlockStart:we,marginBlockEnd:we,marginInline:we,marginInlineStart:we,marginInlineEnd:we,fontSize:we,backgroundPositionX:we,backgroundPositionY:we,...m5,zIndex:$1,fillOpacity:lu,strokeOpacity:lu,numOctaves:$1},p5={...Ry,color:Ut,backgroundColor:Ut,outlineColor:Ut,fill:Ut,stroke:Ut,borderColor:Ut,borderTopColor:Ut,borderRightColor:Ut,borderBottomColor:Ut,borderLeftColor:Ut,filter:m0,WebkitFilter:m0},QS=t=>p5[t];function XS(t,e){let n=QS(t);return n!==m0&&(n=Yr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const g5=new Set(["auto","none","0"]);function y5(t,e,n){let i=0,a;for(;i<t.length&&!a;){const l=t[i];typeof l=="string"&&!g5.has(l)&&cu(l).values.length&&(a=t[i]),i++}if(a&&n)for(const l of e)t[l]=XS(n,a)}class v5 extends Sy{constructor(e,n,i,a,l){super(e,n,i,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let v=0;v<e.length;v++){let b=e[v];if(typeof b=="string"&&(b=b.trim(),yy(b))){const _=BS(b,n.current);_!==void 0&&(e[v]=_),v===e.length-1&&(this.finalKeyframe=b)}}if(this.resolveNoneKeyframes(),!HS.has(i)||e.length!==2)return;const[a,l]=e,c=G1(a),d=G1(l),f=I1(a),g=I1(l);if(f!==g&&zr[i]){this.needsMeasurement=!0;return}if(c!==d)if(z1(c)&&z1(d))for(let v=0;v<e.length;v++){const b=e[v];typeof b=="string"&&(e[v]=parseFloat(b))}else zr[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let a=0;a<e.length;a++)(e[a]===null||u5(e[a]))&&i.push(a);i.length&&y5(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=zr[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(i,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=i.length-1,c=i[l];i[l]=zr[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,f])=>{e.getValue(d).set(f)}),this.resolveNoneKeyframes()}}const b5=new Set(["opacity","clipPath","filter","transform"]);function WS(t,e,n){if(t==null)return[];if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const a=n?.[t]??i.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t).filter(i=>i!=null)}const JS=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function p0(t){return oS(t)&&"offsetHeight"in t}const{schedule:Iy}=xS(queueMicrotask,!1),Ss={x:!1,y:!1};function ZS(){return Ss.x||Ss.y}function x5(t){return t==="x"||t==="y"?Ss[t]?null:(Ss[t]=!0,()=>{Ss[t]=!1}):Ss.x||Ss.y?null:(Ss.x=Ss.y=!0,()=>{Ss.x=Ss.y=!1})}function e2(t,e){const n=WS(t),i=new AbortController,a={passive:!0,...e,signal:i.signal};return[n,a,()=>i.abort()]}function _5(t){return!(t.pointerType==="touch"||ZS())}function w5(t,e,n={}){const[i,a,l]=e2(t,n);return i.forEach(c=>{let d=!1,f=!1,g;const v=()=>{c.removeEventListener("pointerleave",I)},b=D=>{g&&(g(D),g=void 0),v()},_=D=>{d=!1,window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",_),f&&(f=!1,b(D))},S=()=>{d=!0,window.addEventListener("pointerup",_,a),window.addEventListener("pointercancel",_,a)},I=D=>{if(D.pointerType!=="touch"){if(d){f=!0;return}b(D)}},M=D=>{if(!_5(D))return;f=!1;const L=e(c,D);typeof L=="function"&&(g=L,c.addEventListener("pointerleave",I,a))};c.addEventListener("pointerenter",M,a),c.addEventListener("pointerdown",S,a)}),l}const t2=(t,e)=>e?t===e?!0:t2(t,e.parentElement):!1,Dy=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,T5=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function E5(t){return T5.has(t.tagName)||t.isContentEditable===!0}const S5=new Set(["INPUT","SELECT","TEXTAREA"]);function A5(t){return S5.has(t.tagName)||t.isContentEditable===!0}const jh=new WeakSet;function K1(t){return e=>{e.key==="Enter"&&t(e)}}function xg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const k5=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=K1(()=>{if(jh.has(n))return;xg(n,"down");const a=K1(()=>{xg(n,"up")}),l=()=>xg(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function Y1(t){return Dy(t)&&!ZS()}const Q1=new WeakSet;function N5(t,e,n={}){const[i,a,l]=e2(t,n),c=d=>{const f=d.currentTarget;if(!Y1(d)||Q1.has(d))return;jh.add(f),n.stopPropagation&&Q1.add(d);const g=e(f,d),v=(S,I)=>{window.removeEventListener("pointerup",b),window.removeEventListener("pointercancel",_),jh.has(f)&&jh.delete(f),Y1(S)&&typeof g=="function"&&g(S,{success:I})},b=S=>{v(S,f===window||f===document||n.useGlobalTarget||t2(f,S.target))},_=S=>{v(S,!1)};window.addEventListener("pointerup",b,a),window.addEventListener("pointercancel",_,a)};return i.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",c,a),p0(d)&&(d.addEventListener("focus",g=>k5(g,a)),!E5(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}function jy(t){return oS(t)&&"ownerSVGElement"in t}const Mh=new WeakMap;let Vh;const n2=(t,e,n)=>(i,a)=>a&&a[0]?a[0][t+"Size"]:jy(i)&&"getBBox"in i?i.getBBox()[e]:i[n],C5=n2("inline","width","offsetWidth"),R5=n2("block","height","offsetHeight");function I5({target:t,borderBoxSize:e}){Mh.get(t)?.forEach(n=>{n(t,{get width(){return C5(t,e)},get height(){return R5(t,e)}})})}function D5(t){t.forEach(I5)}function j5(){typeof ResizeObserver>"u"||(Vh=new ResizeObserver(D5))}function M5(t,e){Vh||j5();const n=WS(t);return n.forEach(i=>{let a=Mh.get(i);a||(a=new Set,Mh.set(i,a)),a.add(e),Vh?.observe(i)}),()=>{n.forEach(i=>{const a=Mh.get(i);a?.delete(e),a?.size||Vh?.unobserve(i)})}}const Oh=new Set;let tl;function V5(){tl=()=>{const t={get width(){return window.innerWidth},get height(){return window.innerHeight}};Oh.forEach(e=>e(t))},window.addEventListener("resize",tl)}function O5(t){return Oh.add(t),tl||V5(),()=>{Oh.delete(t),!Oh.size&&typeof tl=="function"&&(window.removeEventListener("resize",tl),tl=void 0)}}function X1(t,e){return typeof t=="function"?O5(t):M5(t,e)}function P5(t){return jy(t)&&t.tagName==="svg"}const L5=[...YS,Ut,Yr],U5=t=>L5.find(KS(t)),W1=()=>({translate:0,scale:1,origin:0,originPoint:0}),nl=()=>({x:W1(),y:W1()}),J1=()=>({min:0,max:0}),$t=()=>({x:J1(),y:J1()}),z5=new WeakMap;function Mf(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function uu(t){return typeof t=="string"||Array.isArray(t)}const My=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Vy=["initial",...My];function Vf(t){return Mf(t.animate)||Vy.some(e=>uu(t[e]))}function s2(t){return!!(Vf(t)||t.variants)}function B5(t,e,n){for(const i in e){const a=e[i],l=n[i];if(gn(a))t.addValue(i,a);else if(gn(l))t.addValue(i,dl(a,{owner:t}));else if(l!==a)if(t.hasValue(i)){const c=t.getValue(i);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=t.getStaticValue(i);t.addValue(i,dl(c!==void 0?c:a,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const g0={current:null},i2={current:!1},F5=typeof window<"u";function H5(){if(i2.current=!0,!!F5)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>g0.current=t.matches;t.addEventListener("change",e),e()}else g0.current=!1}const Z1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let ef={};function r2(t){ef=t}function q5(){return ef}class G5{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:a,skipAnimations:l,blockInitialAnimation:c,visualState:d},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=Sy,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const S=wn.now();this.renderScheduledAt<S&&(this.renderScheduledAt=S,dt.render(this.render,!1,!0))};const{latestValues:g,renderState:v}=d;this.latestValues=g,this.baseTarget={...g},this.initialValues=n.initial?{...g}:{},this.renderState=v,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.skipAnimationsConfig=l,this.options=f,this.blockInitialAnimation=!!c,this.isControllingVariants=Vf(n),this.isVariantNode=s2(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:b,..._}=this.scrapeMotionValuesFromProps(n,{},this);for(const S in _){const I=_[S];g[S]!==void 0&&gn(I)&&I.set(g[S])}}mount(e){if(this.hasBeenMounted)for(const n in this.initialValues)this.values.get(n)?.jump(this.initialValues[n]),this.latestValues[n]=this.initialValues[n];this.current=e,z5.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(i2.current||H5(),this.shouldReduceMotion=g0.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,this.parent?.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){this.projection&&this.projection.unmount(),Kr(this.notifyUpdate),Kr(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){if(this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)(),n.accelerate&&b5.has(e)&&this.current instanceof HTMLElement){const{factory:c,keyframes:d,times:f,ease:g,duration:v}=n.accelerate,b=new LS({element:this.current,name:e,keyframes:d,times:f,ease:g,duration:Cs(v)}),_=c(b);this.valueSubscriptions.set(e,()=>{_(),b.cancel()});return}const i=Sl.has(e);i&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&dt.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;typeof window<"u"&&window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ef){const n=ef[e];if(!n)continue;const{isEnabled:i,Feature:a}=n;if(!this.features[e]&&a&&i(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):$t()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<Z1.length;i++){const a=Z1[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=e[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=B5(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=dl(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(aS(i)||lS(i))?i=parseFloat(i):!U5(i)&&Yr.test(n)&&(i=XS(e,n)),this.setBaseTarget(e,gn(i)?i.get():i)),gn(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const l=Ny(this.props,n,this.presenceContext?.custom);l&&(i=l[e])}if(n&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!gn(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new my),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Iy.render(this.render)}}class a2 extends G5{constructor(){super(...arguments),this.KeyframeResolver=v5}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const i=e.style;return i?i[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;gn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class na{constructor(e){this.isMounted=!1,this.node=e}update(){}}function o2({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function $5({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function K5(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function _g(t){return t===void 0||t===1}function y0({scale:t,scaleX:e,scaleY:n}){return!_g(t)||!_g(e)||!_g(n)}function Ma(t){return y0(t)||l2(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function l2(t){return ew(t.x)||ew(t.y)}function ew(t){return t&&t!=="0%"}function tf(t,e,n){const i=t-n,a=e*i;return n+a}function tw(t,e,n,i,a){return a!==void 0&&(t=tf(t,a,i)),tf(t,n,i)+e}function v0(t,e=0,n=1,i,a){t.min=tw(t.min,e,n,i,a),t.max=tw(t.max,e,n,i,a)}function c2(t,{x:e,y:n}){v0(t.x,e.translate,e.scale,e.originPoint),v0(t.y,n.translate,n.scale,n.originPoint)}const nw=.999999999999,sw=1.0000000000001;function Y5(t,e,n,i=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,c;for(let d=0;d<a;d++){l=n[d],c=l.projectionDelta;const{visualElement:f}=l.options;f&&f.props.style&&f.props.style.display==="contents"||(i&&l.options.layoutScroll&&l.scroll&&l!==l.root&&il(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,c2(t,c)),i&&Ma(l.latestValues)&&il(t,l.latestValues))}e.x<sw&&e.x>nw&&(e.x=1),e.y<sw&&e.y>nw&&(e.y=1)}function sl(t,e){t.min=t.min+e,t.max=t.max+e}function iw(t,e,n,i,a=.5){const l=vt(t.min,t.max,a);v0(t,e,n,l,i)}function il(t,e){iw(t.x,e.x,e.scaleX,e.scale,e.originX),iw(t.y,e.y,e.scaleY,e.scale,e.originY)}function u2(t,e){return o2(K5(t.getBoundingClientRect(),e))}function Q5(t,e,n){const i=u2(t,n),{scroll:a}=e;return a&&(sl(i.x,a.offset.x),sl(i.y,a.offset.y)),i}const X5={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},W5=El.length;function J5(t,e,n){let i="",a=!0;for(let l=0;l<W5;l++){const c=El[l],d=t[c];if(d===void 0)continue;let f=!0;if(typeof d=="number")f=d===(c.startsWith("scale")?1:0);else{const g=parseFloat(d);f=c.startsWith("scale")?g===1:g===0}if(!f||n){const g=JS(d,Ry[c]);if(!f){a=!1;const v=X5[c]||c;i+=`${v}(${g}) `}n&&(e[c]=g)}}return i=i.trim(),n?i=n(e,a?"":i):a&&(i="none"),i}function Oy(t,e,n){const{style:i,vars:a,transformOrigin:l}=t;let c=!1,d=!1;for(const f in e){const g=e[f];if(Sl.has(f)){c=!0;continue}else if(wS(f)){a[f]=g;continue}else{const v=JS(g,Ry[f]);f.startsWith("origin")?(d=!0,l[f]=v):i[f]=v}}if(e.transform||(c||n?i.transform=J5(e,t.transform,n):i.transform&&(i.transform="none")),d){const{originX:f="50%",originY:g="50%",originZ:v=0}=l;i.transformOrigin=`${f} ${g} ${v}`}}function d2(t,{style:e,vars:n},i,a){const l=t.style;let c;for(c in e)l[c]=e[c];a?.applyProjectionStyles(l,i);for(c in n)l.setProperty(c,n[c])}function rw(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const zc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(we.test(t))t=parseFloat(t);else return t;const n=rw(t,e.target.x),i=rw(t,e.target.y);return`${n}% ${i}%`}},Z5={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,a=Yr.parse(t);if(a.length>5)return i;const l=Yr.createTransformer(t),c=typeof a[0]!="number"?1:0,d=n.x.scale*e.x,f=n.y.scale*e.y;a[0+c]/=d,a[1+c]/=f;const g=vt(d,f,.5);return typeof a[2+c]=="number"&&(a[2+c]/=g),typeof a[3+c]=="number"&&(a[3+c]/=g),l(a)}},b0={borderRadius:{...zc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:zc,borderTopRightRadius:zc,borderBottomLeftRadius:zc,borderBottomRightRadius:zc,boxShadow:Z5};function h2(t,{layout:e,layoutId:n}){return Sl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!b0[t]||t==="opacity")}function Py(t,e,n){const i=t.style,a=e?.style,l={};if(!i)return l;for(const c in i)(gn(i[c])||a&&gn(a[c])||h2(c,t)||n?.getValue(c)?.liveStyle!==void 0)&&(l[c]=i[c]);return l}function ej(t){return window.getComputedStyle(t)}class tj extends a2{constructor(){super(...arguments),this.type="html",this.renderInstance=d2}readValueFromInstance(e,n){if(Sl.has(n))return this.projection?.isProjecting?r0(n):xD(e,n);{const i=ej(e),a=(wS(n)?i.getPropertyValue(n):i[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return u2(e,n)}build(e,n,i){Oy(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return Py(e,n,i)}}const nj={offset:"stroke-dashoffset",array:"stroke-dasharray"},sj={offset:"strokeDashoffset",array:"strokeDasharray"};function ij(t,e,n=1,i=0,a=!0){t.pathLength=1;const l=a?nj:sj;t[l.offset]=`${-i}`,t[l.array]=`${e} ${n}`}const rj=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function f2(t,{attrX:e,attrY:n,attrScale:i,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...d},f,g,v){if(Oy(t,d,g),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:b,style:_}=t;b.transform&&(_.transform=b.transform,delete b.transform),(_.transform||b.transformOrigin)&&(_.transformOrigin=b.transformOrigin??"50% 50%",delete b.transformOrigin),_.transform&&(_.transformBox=v?.transformBox??"fill-box",delete b.transformBox);for(const S of rj)b[S]!==void 0&&(_[S]=b[S],delete b[S]);e!==void 0&&(b.x=e),n!==void 0&&(b.y=n),i!==void 0&&(b.scale=i),a!==void 0&&ij(b,a,l,c,!1)}const m2=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),p2=t=>typeof t=="string"&&t.toLowerCase()==="svg";function aj(t,e,n,i){d2(t,e,void 0,i);for(const a in e.attrs)t.setAttribute(m2.has(a)?a:Cy(a),e.attrs[a])}function g2(t,e,n){const i=Py(t,e,n);for(const a in t)if(gn(t[a])||gn(e[a])){const l=El.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[l]=t[a]}return i}class oj extends a2{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=$t}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Sl.has(n)){const i=QS(n);return i&&i.default||0}return n=m2.has(n)?n:Cy(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return g2(e,n,i)}build(e,n,i){f2(e,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,n,i,a){aj(e,n,i,a)}mount(e){this.isSVGTag=p2(e.tagName),super.mount(e)}}const lj=Vy.length;function y2(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?y2(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<lj;n++){const i=Vy[n],a=t.props[i];(uu(a)||a===!1)&&(e[i]=a)}return e}function v2(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const cj=[...My].reverse(),uj=My.length;function dj(t){return e=>Promise.all(e.map(({animation:n,options:i})=>l5(t,n,i)))}function hj(t){let e=dj(t),n=aw(),i=!0;const a=f=>(g,v)=>{const b=rl(t,v,f==="exit"?t.presenceContext?.custom:void 0);if(b){const{transition:_,transitionEnd:S,...I}=b;g={...g,...I,...S}}return g};function l(f){e=f(t)}function c(f){const{props:g}=t,v=y2(t.parent)||{},b=[],_=new Set;let S={},I=1/0;for(let D=0;D<uj;D++){const L=cj[D],q=n[L],K=g[L]!==void 0?g[L]:v[L],Z=uu(K),ne=L===f?q.isActive:null;ne===!1&&(I=D);let de=K===v[L]&&K!==g[L]&&Z;if(de&&i&&t.manuallyAnimateOnMount&&(de=!1),q.protectedKeys={...S},!q.isActive&&ne===null||!K&&!q.prevProp||Mf(K)||typeof K=="boolean")continue;if(L==="exit"&&q.isActive&&ne!==!0){q.prevResolvedValues&&(S={...S,...q.prevResolvedValues});continue}const R=fj(q.prevProp,K);let E=R||L===f&&q.isActive&&!de&&Z||D>I&&Z,C=!1;const U=Array.isArray(K)?K:[K];let P=U.reduce(a(L),{});ne===!1&&(P={});const{prevResolvedValues:H={}}=q,j={...H,...P},ue=F=>{E=!0,_.has(F)&&(C=!0,_.delete(F)),q.needsAnimating[F]=!0;const $=t.getValue(F);$&&($.liveStyle=!1)};for(const F in j){const $=P[F],he=H[F];if(S.hasOwnProperty(F))continue;let pe=!1;d0($)&&d0(he)?pe=!v2($,he):pe=$!==he,pe?$!=null?ue(F):_.add(F):$!==void 0&&_.has(F)?ue(F):q.protectedKeys[F]=!0}q.prevProp=K,q.prevResolvedValues=P,q.isActive&&(S={...S,...P}),i&&t.blockInitialAnimation&&(E=!1);const G=de&&R;E&&(!G||C)&&b.push(...U.map(F=>{const $={type:L};if(typeof F=="string"&&i&&!G&&t.manuallyAnimateOnMount&&t.parent){const{parent:he}=t,pe=rl(he,F);if(he.enteringChildren&&pe){const{delayChildren:z}=pe.transition||{};$.delay=zS(he.enteringChildren,t,z)}}return{animation:F,options:$}}))}if(_.size){const D={};if(typeof g.initial!="boolean"){const L=rl(t,Array.isArray(g.initial)?g.initial[0]:g.initial);L&&L.transition&&(D.transition=L.transition)}_.forEach(L=>{const q=t.getBaseTarget(L),K=t.getValue(L);K&&(K.liveStyle=!0),D[L]=q??null}),b.push({animation:D})}let M=!!b.length;return i&&(g.initial===!1||g.initial===g.animate)&&!t.manuallyAnimateOnMount&&(M=!1),i=!1,M?e(b):Promise.resolve()}function d(f,g){if(n[f].isActive===g)return Promise.resolve();t.variantChildren?.forEach(b=>b.animationState?.setActive(f,g)),n[f].isActive=g;const v=c(f);for(const b in n)n[b].protectedKeys={};return v}return{animateChanges:c,setActive:d,setAnimateFunction:l,getState:()=>n,reset:()=>{n=aw()}}}function fj(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!v2(e,t):!1}function Da(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function aw(){return{animate:Da(!0),whileInView:Da(),whileHover:Da(),whileTap:Da(),whileDrag:Da(),whileFocus:Da(),exit:Da()}}function ow(t,e){t.min=e.min,t.max=e.max}function Es(t,e){ow(t.x,e.x),ow(t.y,e.y)}function lw(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}const b2=1e-4,mj=1-b2,pj=1+b2,x2=.01,gj=0-x2,yj=0+x2;function Tn(t){return t.max-t.min}function vj(t,e,n){return Math.abs(t-e)<=n}function cw(t,e,n,i=.5){t.origin=i,t.originPoint=vt(e.min,e.max,t.origin),t.scale=Tn(n)/Tn(e),t.translate=vt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=mj&&t.scale<=pj||isNaN(t.scale))&&(t.scale=1),(t.translate>=gj&&t.translate<=yj||isNaN(t.translate))&&(t.translate=0)}function Xc(t,e,n,i){cw(t.x,e.x,n.x,i?i.originX:void 0),cw(t.y,e.y,n.y,i?i.originY:void 0)}function uw(t,e,n){t.min=n.min+e.min,t.max=t.min+Tn(e)}function bj(t,e,n){uw(t.x,e.x,n.x),uw(t.y,e.y,n.y)}function dw(t,e,n){t.min=e.min-n.min,t.max=t.min+Tn(e)}function nf(t,e,n){dw(t.x,e.x,n.x),dw(t.y,e.y,n.y)}function hw(t,e,n,i,a){return t-=e,t=tf(t,1/n,i),a!==void 0&&(t=tf(t,1/a,i)),t}function xj(t,e=0,n=1,i=.5,a,l=t,c=t){if(ri.test(e)&&(e=parseFloat(e),e=vt(c.min,c.max,e/100)-c.min),typeof e!="number")return;let d=vt(l.min,l.max,i);t===l&&(d-=e),t.min=hw(t.min,e,n,d,a),t.max=hw(t.max,e,n,d,a)}function fw(t,e,[n,i,a],l,c){xj(t,e[n],e[i],e[a],e.scale,l,c)}const _j=["x","scaleX","originX"],wj=["y","scaleY","originY"];function mw(t,e,n,i){fw(t.x,e,_j,n?n.x:void 0,i?i.x:void 0),fw(t.y,e,wj,n?n.y:void 0,i?i.y:void 0)}function pw(t){return t.translate===0&&t.scale===1}function _2(t){return pw(t.x)&&pw(t.y)}function gw(t,e){return t.min===e.min&&t.max===e.max}function Tj(t,e){return gw(t.x,e.x)&&gw(t.y,e.y)}function yw(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function w2(t,e){return yw(t.x,e.x)&&yw(t.y,e.y)}function vw(t){return Tn(t.x)/Tn(t.y)}function bw(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function si(t){return[t("x"),t("y")]}function Ej(t,e,n){let i="";const a=t.x.translate/e.x,l=t.y.translate/e.y,c=n?.z||0;if((a||l||c)&&(i=`translate3d(${a}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:g,rotate:v,rotateX:b,rotateY:_,skewX:S,skewY:I}=n;g&&(i=`perspective(${g}px) ${i}`),v&&(i+=`rotate(${v}deg) `),b&&(i+=`rotateX(${b}deg) `),_&&(i+=`rotateY(${_}deg) `),S&&(i+=`skewX(${S}deg) `),I&&(i+=`skewY(${I}deg) `)}const d=t.x.scale*e.x,f=t.y.scale*e.y;return(d!==1||f!==1)&&(i+=`scale(${d}, ${f})`),i||"none"}const T2=["TopLeft","TopRight","BottomLeft","BottomRight"],Sj=T2.length,xw=t=>typeof t=="string"?parseFloat(t):t,_w=t=>typeof t=="number"||we.test(t);function Aj(t,e,n,i,a,l){a?(t.opacity=vt(0,n.opacity??1,kj(i)),t.opacityExit=vt(e.opacity??1,0,Nj(i))):l&&(t.opacity=vt(e.opacity??1,n.opacity??1,i));for(let c=0;c<Sj;c++){const d=`border${T2[c]}Radius`;let f=ww(e,d),g=ww(n,d);if(f===void 0&&g===void 0)continue;f||(f=0),g||(g=0),f===0||g===0||_w(f)===_w(g)?(t[d]=Math.max(vt(xw(f),xw(g),i),0),(ri.test(g)||ri.test(f))&&(t[d]+="%")):t[d]=g}(e.rotate||n.rotate)&&(t.rotate=vt(e.rotate||0,n.rotate||0,i))}function ww(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const kj=E2(0,.5,gS),Nj=E2(.5,.95,cs);function E2(t,e,n){return i=>i<t?0:i>e?1:n(ou(t,e,i))}function Cj(t,e,n){const i=gn(t)?t:dl(t);return i.start(ky("",i,e,n)),i.animation}function du(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}const Rj=(t,e)=>t.depth-e.depth;class Ij{constructor(){this.children=[],this.isDirty=!1}add(e){dy(this.children,e),this.isDirty=!0}remove(e){Xh(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Rj),this.isDirty=!1,this.children.forEach(e)}}function Dj(t,e){const n=wn.now(),i=({timestamp:a})=>{const l=a-n;l>=e&&(Kr(i),t(l-e))};return dt.setup(i,!0),()=>Kr(i)}function Ph(t){return gn(t)?t.get():t}class jj{constructor(){this.members=[]}add(e){dy(this.members,e);for(let n=this.members.length-1;n>=0;n--){const i=this.members[n];if(i===e||i===this.lead||i===this.prevLead)continue;const a=i.instance;a&&a.isConnected===!1&&i.isPresent!==!1&&!i.snapshot&&Xh(this.members,i)}e.scheduleRender()}remove(e){if(Xh(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let i;for(let a=n;a>=0;a--){const l=this.members[a],c=l.instance;if(l.isPresent!==!1&&(!c||c.isConnected!==!1)){i=l;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender();const a=i.options.layoutDependency,l=e.options.layoutDependency;if(!(a!==void 0&&l!==void 0&&a===l)){const f=i.instance;f&&f.isConnected===!1&&!i.snapshot||(e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0))}const{crossfade:d}=e.options;d===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Lh={hasAnimatedSinceResize:!0,hasEverUpdated:!1},wg=["","X","Y","Z"],Mj=1e3;let Vj=0;function Tg(t,e,n,i){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),i&&(i[t]=0))}function S2(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=GS(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",dt,!(a||l))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&S2(i)}function A2({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(c={},d=e?.()){this.id=Vj++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Lj),this.nodes.forEach(Fj),this.nodes.forEach(Hj),this.nodes.forEach(Uj)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new Ij)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new my),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const f=this.eventHandlers.get(c);f&&f.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=jy(c)&&!P5(c),this.instance=c;const{layoutId:d,layout:f,visualElement:g}=this.options;if(g&&!g.current&&g.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||d)&&(this.isLayoutDirty=!0),t){let v,b=0;const _=()=>this.root.updateBlockedByResize=!1;dt.read(()=>{b=window.innerWidth}),t(c,()=>{const S=window.innerWidth;S!==b&&(b=S,this.root.updateBlockedByResize=!0,v&&v(),v=Dj(_,250),Lh.hasAnimatedSinceResize&&(Lh.hasAnimatedSinceResize=!1,this.nodes.forEach(Sw)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&g&&(d||f)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:b,hasRelativeLayoutChanged:_,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const I=this.options.transition||g.getDefaultTransition()||Yj,{onLayoutAnimationStart:M,onLayoutAnimationComplete:D}=g.getProps(),L=!this.targetLayout||!w2(this.targetLayout,S),q=!b&&_;if(this.options.layoutRoot||this.resumeFrom||q||b&&(L||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const K={...Ay(I,"layout"),onPlay:M,onComplete:D};(g.shouldReduceMotion||this.options.layoutRoot)&&(K.delay=0,K.type=!1),this.startAnimation(K),this.setAnimationOrigin(v,q)}else b||Sw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Kr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(qj),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&S2(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const b=this.path[v];b.shouldResetTransform=!0,b.updateScroll("snapshot"),b.options.layoutRoot&&b.willUpdate(!1)}const{layoutId:d,layout:f}=this.options;if(d===void 0&&!f)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Tw);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Ew);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Bj),this.nodes.forEach(Oj),this.nodes.forEach(Pj)):this.nodes.forEach(Ew),this.clearAllSnapshots();const d=wn.now();ln.delta=hi(0,1e3/60,d-ln.timestamp),ln.timestamp=d,ln.isProcessing=!0,mg.update.process(ln),mg.preRender.process(ln),mg.render.process(ln),ln.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Iy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(zj),this.sharedNodes.forEach(Gj)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,dt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){dt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Tn(this.snapshot.measuredBox.x)&&!Tn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=$t(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d&&this.instance){const f=i(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!_2(this.projectionDelta),f=this.getTransformTemplate(),g=f?f(this.latestValues,""):void 0,v=g!==this.prevTransformTemplateValue;c&&this.instance&&(d||Ma(this.latestValues)||v)&&(a(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let f=this.removeElementScroll(d);return c&&(f=this.removeTransform(f)),Qj(f),{animationId:this.root.animationId,measuredBox:d,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return $t();const d=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(Xj))){const{scroll:g}=this.root;g&&(sl(d.x,g.offset.x),sl(d.y,g.offset.y))}return d}removeElementScroll(c){const d=$t();if(Es(d,c),this.scroll?.wasRoot)return d;for(let f=0;f<this.path.length;f++){const g=this.path[f],{scroll:v,options:b}=g;g!==this.root&&v&&b.layoutScroll&&(v.wasRoot&&Es(d,c),sl(d.x,v.offset.x),sl(d.y,v.offset.y))}return d}applyTransform(c,d=!1){const f=$t();Es(f,c);for(let g=0;g<this.path.length;g++){const v=this.path[g];!d&&v.options.layoutScroll&&v.scroll&&v!==v.root&&il(f,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),Ma(v.latestValues)&&il(f,v.latestValues)}return Ma(this.latestValues)&&il(f,this.latestValues),f}removeTransform(c){const d=$t();Es(d,c);for(let f=0;f<this.path.length;f++){const g=this.path[f];if(!g.instance||!Ma(g.latestValues))continue;y0(g.latestValues)&&g.updateSnapshot();const v=$t(),b=g.measurePageBox();Es(v,b),mw(d,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,v)}return Ma(this.latestValues)&&mw(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ln.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==d;if(!(c||f&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:b}=this.options;if(!this.layout||!(v||b))return;this.resolvedRelativeTargetAt=ln.timestamp;const _=this.getClosestProjectingParent();_&&this.linkedParentVersion!==_.layoutVersion&&!_.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(_&&_.layout?this.createRelativeTarget(_,this.layout.layoutBox,_.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=$t(),this.targetWithTransforms=$t()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),bj(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Es(this.target,this.layout.layoutBox),c2(this.target,this.targetDelta)):Es(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,_&&!!_.resumingFrom==!!this.resumingFrom&&!_.options.layoutScroll&&_.target&&this.animationProgress!==1?this.createRelativeTarget(_,this.target,_.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||y0(this.parent.latestValues)||l2(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,d,f){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=$t(),this.relativeTargetOrigin=$t(),nf(this.relativeTargetOrigin,d,f),Es(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const c=this.getLead(),d=!!this.resumingFrom||this!==c;let f=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(f=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===ln.timestamp&&(f=!1),f)return;const{layout:g,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||v))return;Es(this.layoutCorrected,this.layout.layoutBox);const b=this.treeScale.x,_=this.treeScale.y;Y5(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=$t());const{target:S}=c;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(lw(this.prevProjectionDelta.x,this.projectionDelta.x),lw(this.prevProjectionDelta.y,this.projectionDelta.y)),Xc(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==b||this.treeScale.y!==_||!bw(this.projectionDelta.x,this.prevProjectionDelta.x)||!bw(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=nl(),this.projectionDelta=nl(),this.projectionDeltaWithTransform=nl()}setAnimationOrigin(c,d=!1){const f=this.snapshot,g=f?f.latestValues:{},v={...this.latestValues},b=nl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const _=$t(),S=f?f.source:void 0,I=this.layout?this.layout.source:void 0,M=S!==I,D=this.getStack(),L=!D||D.members.length<=1,q=!!(M&&!L&&this.options.crossfade===!0&&!this.path.some(Kj));this.animationProgress=0;let K;this.mixTargetDelta=Z=>{const ne=Z/1e3;Aw(b.x,c.x,ne),Aw(b.y,c.y,ne),this.setTargetDelta(b),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(nf(_,this.layout.layoutBox,this.relativeParent.layout.layoutBox),$j(this.relativeTarget,this.relativeTargetOrigin,_,ne),K&&Tj(this.relativeTarget,K)&&(this.isProjectionDirty=!1),K||(K=$t()),Es(K,this.relativeTarget)),M&&(this.animationValues=v,Aj(v,g,this.latestValues,ne,q,L)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ne},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Kr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=dt.update(()=>{Lh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=dl(0)),this.currentAnimation=Cj(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),c.onUpdate&&c.onUpdate(d)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Mj),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:f,layout:g,latestValues:v}=c;if(!(!d||!f||!g)){if(this!==c&&this.layout&&g&&k2(this.options.animationType,this.layout.layoutBox,g.layoutBox)){f=this.target||$t();const b=Tn(this.layout.layoutBox.x);f.x.min=c.target.x.min,f.x.max=f.x.min+b;const _=Tn(this.layout.layoutBox.y);f.y.min=c.target.y.min,f.y.max=f.y.min+_}Es(d,f),il(d,v),Xc(this.projectionDeltaWithTransform,this.layoutCorrected,d,v)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new jj),this.sharedNodes.get(c).add(d);const g=d.options.initialPromotionConfig;d.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:f}={}){const g=this.getStack();g&&g.promote(this,f),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:f}=c;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(d=!0),!d)return;const g={};f.z&&Tg("z",c,g,this.animationValues);for(let v=0;v<wg.length;v++)Tg(`rotate${wg[v]}`,c,g,this.animationValues),Tg(`skew${wg[v]}`,c,g,this.animationValues);c.render();for(const v in g)c.setStaticValue(v,g[v]),this.animationValues&&(this.animationValues[v]=g[v]);c.scheduleRender()}applyProjectionStyles(c,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Ph(d?.pointerEvents)||"",c.transform=f?f(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Ph(d?.pointerEvents)||""),this.hasProjected&&!Ma(this.latestValues)&&(c.transform=f?f({},""):"none",this.hasProjected=!1);return}c.visibility="";const v=g.animationValues||g.latestValues;this.applyTransformsToTarget();let b=Ej(this.projectionDeltaWithTransform,this.treeScale,v);f&&(b=f(v,b)),c.transform=b;const{x:_,y:S}=this.projectionDelta;c.transformOrigin=`${_.origin*100}% ${S.origin*100}% 0`,g.animationValues?c.opacity=g===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:c.opacity=g===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const I in b0){if(v[I]===void 0)continue;const{correct:M,applyTo:D,isCSSVariable:L}=b0[I],q=b==="none"?v[I]:M(v[I],g);if(D){const K=D.length;for(let Z=0;Z<K;Z++)c[D[Z]]=q}else L?this.options.visualElement.renderState.vars[I]=q:c[I]=q}this.options.layoutId&&(c.pointerEvents=g===this?Ph(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(Tw),this.root.sharedNodes.clear()}}}function Oj(t){t.updateLayout()}function Pj(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?si(v=>{const b=l?e.measuredBox[v]:e.layoutBox[v],_=Tn(b);b.min=n[v].min,b.max=b.min+_}):k2(a,e.layoutBox,n)&&si(v=>{const b=l?e.measuredBox[v]:e.layoutBox[v],_=Tn(n[v]);b.max=b.min+_,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[v].max=t.relativeTarget[v].min+_)});const c=nl();Xc(c,n,e.layoutBox);const d=nl();l?Xc(d,t.applyTransform(i,!0),e.measuredBox):Xc(d,n,e.layoutBox);const f=!_2(c);let g=!1;if(!t.resumeFrom){const v=t.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:b,layout:_}=v;if(b&&_){const S=$t();nf(S,e.layoutBox,b.layoutBox);const I=$t();nf(I,n,_.layoutBox),w2(S,I)||(g=!0),v.options.layoutRoot&&(t.relativeTarget=I,t.relativeTargetOrigin=S,t.relativeParent=v)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:d,layoutDelta:c,hasLayoutChanged:f,hasRelativeLayoutChanged:g})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function Lj(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Uj(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function zj(t){t.clearSnapshot()}function Tw(t){t.clearMeasurements()}function Ew(t){t.isLayoutDirty=!1}function Bj(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Sw(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Fj(t){t.resolveTargetDelta()}function Hj(t){t.calcProjection()}function qj(t){t.resetSkewAndRotation()}function Gj(t){t.removeLeadSnapshot()}function Aw(t,e,n){t.translate=vt(e.translate,0,n),t.scale=vt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function kw(t,e,n,i){t.min=vt(e.min,n.min,i),t.max=vt(e.max,n.max,i)}function $j(t,e,n,i){kw(t.x,e.x,n.x,i),kw(t.y,e.y,n.y,i)}function Kj(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Yj={duration:.45,ease:[.4,0,.1,1]},Nw=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Cw=Nw("applewebkit/")&&!Nw("chrome/")?Math.round:cs;function Rw(t){t.min=Cw(t.min),t.max=Cw(t.max)}function Qj(t){Rw(t.x),Rw(t.y)}function k2(t,e,n){return t==="position"||t==="preserve-aspect"&&!vj(vw(e),vw(n),.2)}function Xj(t){return t!==t.root&&t.scroll?.wasRoot}const Wj=A2({attachResizeListener:(t,e)=>du(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),Eg={current:void 0},N2=A2({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Eg.current){const t=new Wj({});t.mount(window),t.setOptions({layoutScroll:!0}),Eg.current=t}return Eg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Ly=N.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function Iw(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Jj(...t){return e=>{let n=!1;const i=t.map(a=>{const l=Iw(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<i.length;a++){const l=i[a];typeof l=="function"?l():Iw(t[a],null)}}}}function Zj(...t){return N.useCallback(Jj(...t),t)}class eM extends N.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const i=n.offsetParent,a=p0(i)&&i.offsetWidth||0,l=p0(i)&&i.offsetHeight||0,c=this.props.sizeRef.current;c.height=n.offsetHeight||0,c.width=n.offsetWidth||0,c.top=n.offsetTop,c.left=n.offsetLeft,c.right=a-c.width-c.left,c.bottom=l-c.height-c.top}return null}componentDidUpdate(){}render(){return this.props.children}}function tM({children:t,isPresent:e,anchorX:n,anchorY:i,root:a,pop:l}){const c=N.useId(),d=N.useRef(null),f=N.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:g}=N.useContext(Ly),v=t.props?.ref??t?.ref,b=Zj(d,v);return N.useInsertionEffect(()=>{const{width:_,height:S,top:I,left:M,right:D,bottom:L}=f.current;if(e||l===!1||!d.current||!_||!S)return;const q=n==="left"?`left: ${M}`:`right: ${D}`,K=i==="bottom"?`bottom: ${L}`:`top: ${I}`;d.current.dataset.motionPopId=c;const Z=document.createElement("style");g&&(Z.nonce=g);const ne=a??document.head;return ne.appendChild(Z),Z.sheet&&Z.sheet.insertRule(`
          [data-motion-pop-id="${c}"] {
            position: absolute !important;
            width: ${_}px !important;
            height: ${S}px !important;
            ${q}px !important;
            ${K}px !important;
          }
        `),()=>{ne.contains(Z)&&ne.removeChild(Z)}},[e]),m.jsx(eM,{isPresent:e,childRef:d,sizeRef:f,pop:l,children:l===!1?t:N.cloneElement(t,{ref:b})})}const nM=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:a,presenceAffectsLayout:l,mode:c,anchorX:d,anchorY:f,root:g})=>{const v=uy(sM),b=N.useId();let _=!0,S=N.useMemo(()=>(_=!1,{id:b,initial:e,isPresent:n,custom:a,onExitComplete:I=>{v.set(I,!0);for(const M of v.values())if(!M)return;i&&i()},register:I=>(v.set(I,!1),()=>v.delete(I))}),[n,v,i]);return l&&_&&(S={...S}),N.useMemo(()=>{v.forEach((I,M)=>v.set(M,!1))},[n]),N.useEffect(()=>{!n&&!v.size&&i&&i()},[n]),t=m.jsx(tM,{pop:c==="popLayout",isPresent:n,anchorX:d,anchorY:f,root:g,children:t}),m.jsx(jf.Provider,{value:S,children:t})};function sM(){return new Map}function C2(t=!0){const e=N.useContext(jf);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:a}=e,l=N.useId();N.useEffect(()=>{if(t)return a(l)},[t]);const c=N.useCallback(()=>t&&i&&i(l),[l,i,t]);return!n&&i?[!1,c]:[!0]}const yh=t=>t.key||"";function Dw(t){const e=[];return N.Children.forEach(t,n=>{N.isValidElement(n)&&e.push(n)}),e}const Ms=({children:t,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:a=!0,mode:l="sync",propagate:c=!1,anchorX:d="left",anchorY:f="top",root:g})=>{const[v,b]=C2(c),_=N.useMemo(()=>Dw(t),[t]),S=c&&!v?[]:_.map(yh),I=N.useRef(!0),M=N.useRef(_),D=uy(()=>new Map),L=N.useRef(new Set),[q,K]=N.useState(_),[Z,ne]=N.useState(_);rS(()=>{I.current=!1,M.current=_;for(let E=0;E<Z.length;E++){const C=yh(Z[E]);S.includes(C)?(D.delete(C),L.current.delete(C)):D.get(C)!==!0&&D.set(C,!1)}},[Z,S.length,S.join("-")]);const de=[];if(_!==q){let E=[..._];for(let C=0;C<Z.length;C++){const U=Z[C],P=yh(U);S.includes(P)||(E.splice(C,0,U),de.push(U))}return l==="wait"&&de.length&&(E=de),ne(Dw(E)),K(_),null}const{forceRender:R}=N.useContext(cy);return m.jsx(m.Fragment,{children:Z.map(E=>{const C=yh(E),U=c&&!v?!1:_===Z||S.includes(C),P=()=>{if(L.current.has(C))return;if(L.current.add(C),D.has(C))D.set(C,!0);else return;let H=!0;D.forEach(j=>{j||(H=!1)}),H&&(R?.(),ne(M.current),c&&b?.(),i&&i())};return m.jsx(nM,{isPresent:U,initial:!I.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:g,onExitComplete:U?void 0:P,anchorX:d,anchorY:f,children:E},C)})})},R2=N.createContext({strict:!1}),jw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let Mw=!1;function iM(){if(Mw)return;const t={};for(const e in jw)t[e]={isEnabled:n=>jw[e].some(i=>!!n[i])};r2(t),Mw=!0}function I2(){return iM(),q5()}function rM(t){const e=I2();for(const n in t)e[n]={...e[n],...t[n]};r2(e)}const aM=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function sf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||aM.has(t)}let D2=t=>!sf(t);function oM(t){typeof t=="function"&&(D2=e=>e.startsWith("on")?!sf(e):t(e))}try{oM(require("@emotion/is-prop-valid").default)}catch{}function lM(t,e,n){const i={};for(const a in t)a==="values"&&typeof t.values=="object"||(D2(a)||n===!0&&sf(a)||!e&&!sf(a)||t.draggable&&a.startsWith("onDrag"))&&(i[a]=t[a]);return i}const Of=N.createContext({});function cM(t,e){if(Vf(t)){const{initial:n,animate:i}=t;return{initial:n===!1||uu(n)?n:void 0,animate:uu(i)?i:void 0}}return t.inherit!==!1?e:{}}function uM(t){const{initial:e,animate:n}=cM(t,N.useContext(Of));return N.useMemo(()=>({initial:e,animate:n}),[Vw(e),Vw(n)])}function Vw(t){return Array.isArray(t)?t.join(" "):t}const Uy=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function j2(t,e,n){for(const i in e)!gn(e[i])&&!h2(i,n)&&(t[i]=e[i])}function dM({transformTemplate:t},e){return N.useMemo(()=>{const n=Uy();return Oy(n,e,t),Object.assign({},n.vars,n.style)},[e])}function hM(t,e){const n=t.style||{},i={};return j2(i,n,t),Object.assign(i,dM(t,e)),i}function fM(t,e){const n={},i=hM(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const M2=()=>({...Uy(),attrs:{}});function mM(t,e,n,i){const a=N.useMemo(()=>{const l=M2();return f2(l,e,p2(i),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};j2(l,t.style,t),a.style={...l,...a.style}}return a}const pM=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function zy(t){return typeof t!="string"||t.includes("-")?!1:!!(pM.indexOf(t)>-1||/[A-Z]/u.test(t))}function gM(t,e,n,{latestValues:i},a,l=!1,c){const f=(c??zy(t)?mM:fM)(e,i,a,t),g=lM(e,typeof t=="string",l),v=t!==N.Fragment?{...g,...f,ref:n}:{},{children:b}=e,_=N.useMemo(()=>gn(b)?b.get():b,[b]);return N.createElement(t,{...v,children:_})}function yM({scrapeMotionValuesFromProps:t,createRenderState:e},n,i,a){return{latestValues:vM(n,i,a,t),renderState:e()}}function vM(t,e,n,i){const a={},l=i(t,{});for(const _ in l)a[_]=Ph(l[_]);let{initial:c,animate:d}=t;const f=Vf(t),g=s2(t);e&&g&&!f&&t.inherit!==!1&&(c===void 0&&(c=e.initial),d===void 0&&(d=e.animate));let v=n?n.initial===!1:!1;v=v||c===!1;const b=v?d:c;if(b&&typeof b!="boolean"&&!Mf(b)){const _=Array.isArray(b)?b:[b];for(let S=0;S<_.length;S++){const I=Ny(t,_[S]);if(I){const{transitionEnd:M,transition:D,...L}=I;for(const q in L){let K=L[q];if(Array.isArray(K)){const Z=v?K.length-1:0;K=K[Z]}K!==null&&(a[q]=K)}for(const q in M)a[q]=M[q]}}}return a}const V2=t=>(e,n)=>{const i=N.useContext(Of),a=N.useContext(jf),l=()=>yM(t,e,i,a);return n?l():uy(l)},bM=V2({scrapeMotionValuesFromProps:Py,createRenderState:Uy}),xM=V2({scrapeMotionValuesFromProps:g2,createRenderState:M2}),_M=Symbol.for("motionComponentSymbol");function wM(t,e,n){const i=N.useRef(n);N.useInsertionEffect(()=>{i.current=n});const a=N.useRef(null);return N.useCallback(l=>{l&&t.onMount?.(l),e&&(l?e.mount(l):e.unmount());const c=i.current;if(typeof c=="function")if(l){const d=c(l);typeof d=="function"&&(a.current=d)}else a.current?(a.current(),a.current=null):c(l);else c&&(c.current=l)},[e])}const O2=N.createContext({});function Qo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function TM(t,e,n,i,a,l){const{visualElement:c}=N.useContext(Of),d=N.useContext(R2),f=N.useContext(jf),g=N.useContext(Ly),v=g.reducedMotion,b=g.skipAnimations,_=N.useRef(null),S=N.useRef(!1);i=i||d.renderer,!_.current&&i&&(_.current=i(t,{visualState:e,parent:c,props:n,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:v,skipAnimations:b,isSVG:l}),S.current&&_.current&&(_.current.manuallyAnimateOnMount=!0));const I=_.current,M=N.useContext(O2);I&&!I.projection&&a&&(I.type==="html"||I.type==="svg")&&EM(_.current,n,a,M);const D=N.useRef(!1);N.useInsertionEffect(()=>{I&&D.current&&I.update(n,f)});const L=n[qS],q=N.useRef(!!L&&!window.MotionHandoffIsComplete?.(L)&&window.MotionHasOptimisedAnimation?.(L));return rS(()=>{S.current=!0,I&&(D.current=!0,window.MotionIsMounted=!0,I.updateFeatures(),I.scheduleRenderMicrotask(),q.current&&I.animationState&&I.animationState.animateChanges())}),N.useEffect(()=>{I&&(!q.current&&I.animationState&&I.animationState.animateChanges(),q.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(L)}),q.current=!1),I.enteringChildren=void 0)}),I}function EM(t,e,n,i){const{layoutId:a,layout:l,drag:c,dragConstraints:d,layoutScroll:f,layoutRoot:g,layoutCrossfade:v}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:P2(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||d&&Qo(d),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:i,crossfade:v,layoutScroll:f,layoutRoot:g})}function P2(t){if(t)return t.options.allowProjection!==!1?t.projection:P2(t.parent)}function Sg(t,{forwardMotionProps:e=!1,type:n}={},i,a){i&&rM(i);const l=n?n==="svg":zy(t),c=l?xM:bM;function d(g,v){let b;const _={...N.useContext(Ly),...g,layoutId:SM(g)},{isStatic:S}=_,I=uM(g),M=c(g,S);if(!S&&iS){AM();const D=kM(_);b=D.MeasureLayout,I.visualElement=TM(t,M,_,a,D.ProjectionNode,l)}return m.jsxs(Of.Provider,{value:I,children:[b&&I.visualElement?m.jsx(b,{visualElement:I.visualElement,..._}):null,gM(t,g,wM(M,I.visualElement,v),M,S,e,l)]})}d.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const f=N.forwardRef(d);return f[_M]=t,f}function SM({layoutId:t}){const e=N.useContext(cy).id;return e&&t!==void 0?e+"-"+t:t}function AM(t,e){N.useContext(R2).strict}function kM(t){const e=I2(),{drag:n,layout:i}=e;if(!n&&!i)return{};const a={...n,...i};return{MeasureLayout:n?.isEnabled(t)||i?.isEnabled(t)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function NM(t,e){if(typeof Proxy>"u")return Sg;const n=new Map,i=(l,c)=>Sg(l,c,t,e),a=(l,c)=>i(l,c);return new Proxy(a,{get:(l,c)=>c==="create"?i:(n.has(c)||n.set(c,Sg(c,void 0,t,e)),n.get(c))})}const CM=(t,e)=>e.isSVG??zy(t)?new oj(e):new tj(e,{allowProjection:t!==N.Fragment});class RM extends na{constructor(e){super(e),e.animationState||(e.animationState=hj(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Mf(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let IM=0;class DM extends na{constructor(){super(...arguments),this.id=IM++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const jM={animation:{Feature:RM},exit:{Feature:DM}};function ku(t){return{point:{x:t.pageX,y:t.pageY}}}const MM=t=>e=>Dy(e)&&t(e,ku(e));function Wc(t,e,n,i){return du(t,e,MM(n),i)}const L2=({current:t})=>t?t.ownerDocument.defaultView:null,Ow=(t,e)=>Math.abs(t-e);function VM(t,e){const n=Ow(t.x,e.x),i=Ow(t.y,e.y);return Math.sqrt(n**2+i**2)}const Pw=new Set(["auto","scroll"]);class U2{constructor(e,n,{transformPagePoint:i,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3,element:d}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=S=>{this.handleScroll(S.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=kg(this.lastMoveEventInfo,this.history),I=this.startEvent!==null,M=VM(S.offset,{x:0,y:0})>=this.distanceThreshold;if(!I&&!M)return;const{point:D}=S,{timestamp:L}=ln;this.history.push({...D,timestamp:L});const{onStart:q,onMove:K}=this.handlers;I||(q&&q(this.lastMoveEvent,S),this.startEvent=this.lastMoveEvent),K&&K(this.lastMoveEvent,S)},this.handlePointerMove=(S,I)=>{this.lastMoveEvent=S,this.lastMoveEventInfo=Ag(I,this.transformPagePoint),dt.update(this.updatePoint,!0)},this.handlePointerUp=(S,I)=>{this.end();const{onEnd:M,onSessionEnd:D,resumeAnimation:L}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&L&&L(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const q=kg(S.type==="pointercancel"?this.lastMoveEventInfo:Ag(I,this.transformPagePoint),this.history);this.startEvent&&M&&M(S,q),D&&D(S,q)},!Dy(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=c,this.contextWindow=a||window;const f=ku(e),g=Ag(f,this.transformPagePoint),{point:v}=g,{timestamp:b}=ln;this.history=[{...v,timestamp:b}];const{onSessionStart:_}=n;_&&_(e,kg(g,this.history)),this.removeListeners=Eu(Wc(this.contextWindow,"pointermove",this.handlePointerMove),Wc(this.contextWindow,"pointerup",this.handlePointerUp),Wc(this.contextWindow,"pointercancel",this.handlePointerUp)),d&&this.startScrollTracking(d)}startScrollTracking(e){let n=e.parentElement;for(;n;){const i=getComputedStyle(n);(Pw.has(i.overflowX)||Pw.has(i.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const i=e===window,a=i?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},l={x:a.x-n.x,y:a.y-n.y};l.x===0&&l.y===0||(i?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=l.x,this.lastMoveEventInfo.point.y+=l.y):this.history.length>0&&(this.history[0].x-=l.x,this.history[0].y-=l.y),this.scrollPositions.set(e,a),dt.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Kr(this.updatePoint)}}function Ag(t,e){return e?{point:e(t.point)}:t}function Lw(t,e){return{x:t.x-e.x,y:t.y-e.y}}function kg({point:t},e){return{point:t,delta:Lw(t,z2(e)),offset:Lw(t,OM(e)),velocity:PM(e,.1)}}function OM(t){return t[0]}function z2(t){return t[t.length-1]}function PM(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const a=z2(t);for(;n>=0&&(i=t[n],!(a.timestamp-i.timestamp>Cs(e)));)n--;if(!i)return{x:0,y:0};i===t[0]&&t.length>2&&a.timestamp-i.timestamp>Cs(e)*2&&(i=t[1]);const l=ls(a.timestamp-i.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-i.x)/l,y:(a.y-i.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function LM(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?vt(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?vt(n,t,i.max):Math.min(t,n)),t}function Uw(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function UM(t,{top:e,left:n,bottom:i,right:a}){return{x:Uw(t.x,n,a),y:Uw(t.y,e,i)}}function zw(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function zM(t,e){return{x:zw(t.x,e.x),y:zw(t.y,e.y)}}function BM(t,e){let n=.5;const i=Tn(t),a=Tn(e);return a>i?n=ou(e.min,e.max-i,t.min):i>a&&(n=ou(t.min,t.max-a,e.min)),hi(0,1,n)}function FM(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const x0=.35;function HM(t=x0){return t===!1?t=0:t===!0&&(t=x0),{x:Bw(t,"left","right"),y:Bw(t,"top","bottom")}}function Bw(t,e,n){return{min:Fw(t,e),max:Fw(t,n)}}function Fw(t,e){return typeof t=="number"?t:t[e]||0}const qM=new WeakMap;class GM{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=$t(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=b=>{n&&this.snapToCursor(ku(b).point),this.stopAnimation()},c=(b,_)=>{const{drag:S,dragPropagation:I,onDragStart:M}=this.getProps();if(S&&!I&&(this.openDragLock&&this.openDragLock(),this.openDragLock=x5(S),!this.openDragLock))return;this.latestPointerEvent=b,this.latestPanInfo=_,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),si(L=>{let q=this.getAxisMotionValue(L).get()||0;if(ri.test(q)){const{projection:K}=this.visualElement;if(K&&K.layout){const Z=K.layout.layoutBox[L];Z&&(q=Tn(Z)*(parseFloat(q)/100))}}this.originPoint[L]=q}),M&&dt.update(()=>M(b,_),!1,!0),h0(this.visualElement,"transform");const{animationState:D}=this.visualElement;D&&D.setActive("whileDrag",!0)},d=(b,_)=>{this.latestPointerEvent=b,this.latestPanInfo=_;const{dragPropagation:S,dragDirectionLock:I,onDirectionLock:M,onDrag:D}=this.getProps();if(!S&&!this.openDragLock)return;const{offset:L}=_;if(I&&this.currentDirection===null){this.currentDirection=KM(L),this.currentDirection!==null&&M&&M(this.currentDirection);return}this.updateAxis("x",_.point,L),this.updateAxis("y",_.point,L),this.visualElement.render(),D&&dt.update(()=>D(b,_),!1,!0)},f=(b,_)=>{this.latestPointerEvent=b,this.latestPanInfo=_,this.stop(b,_),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>{const{dragSnapToOrigin:b}=this.getProps();(b||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:v}=this.getProps();this.panSession=new U2(e,{onSessionStart:l,onStart:c,onMove:d,onSessionEnd:f,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,distanceThreshold:i,contextWindow:L2(this.visualElement),element:this.visualElement.current})}stop(e,n){const i=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!i)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:d}=this.getProps();d&&dt.postRender(()=>d(i,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,n,i){const{drag:a}=this.getProps();if(!i||!vh(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(c=LM(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&Qo(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=UM(i.layoutBox,e):this.constraints=!1,this.elastic=HM(n),a!==this.constraints&&!Qo(e)&&i&&this.constraints&&!this.hasMutatedConstraints&&si(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=FM(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Qo(e))return!1;const i=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=Q5(i,a.root,this.visualElement.getTransformPagePoint());let c=zM(a.layout.layoutBox,l);if(n){const d=n($5(c));this.hasMutatedConstraints=!!d,d&&(c=o2(d))}return c}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),f=this.constraints||{},g=si(v=>{if(!vh(v,n,this.currentDirection))return;let b=f&&f[v]||{};c&&(b={min:0,max:0});const _=a?200:1e6,S=a?40:1e7,I={type:"inertia",velocity:i?e[v]:0,bounceStiffness:_,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...l,...b};return this.startAxisValueAnimation(v,I)});return Promise.all(g).then(d)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return h0(this.visualElement,e),i.start(ky(e,i,0,n,this.visualElement,!1))}stopAnimation(){si(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),a=i[n];return a||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){si(n=>{const{drag:i}=this.getProps();if(!vh(n,i,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:d}=a.layout.layoutBox[n],f=l.get()||0;l.set(e[n]-vt(c,d,.5)+f)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!Qo(n)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};si(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const f=d.get();a[c]=BM({min:f,max:f},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.constraints=!1,this.resolveConstraints(),si(c=>{if(!vh(c,e,null))return;const d=this.getAxisMotionValue(c),{min:f,max:g}=this.constraints[c];d.set(vt(f,g,a[c]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;qM.set(this.visualElement,this);const e=this.visualElement.current,n=Wc(e,"pointerdown",g=>{const{drag:v,dragListener:b=!0}=this.getProps(),_=g.target,S=_!==e&&A5(_);v&&b&&!S&&this.start(g)});let i;const a=()=>{const{dragConstraints:g}=this.getProps();Qo(g)&&g.current&&(this.constraints=this.resolveRefConstraints(),i||(i=$M(e,g.current,()=>this.scalePositionWithinConstraints())))},{projection:l}=this.visualElement,c=l.addEventListener("measure",a);l&&!l.layout&&(l.root&&l.root.updateScroll(),l.updateLayout()),dt.read(a);const d=du(window,"resize",()=>this.scalePositionWithinConstraints()),f=l.addEventListener("didUpdate",(({delta:g,hasLayoutChanged:v})=>{this.isDragging&&v&&(si(b=>{const _=this.getAxisMotionValue(b);_&&(this.originPoint[b]+=g[b].translate,_.set(_.get()+g[b].translate))}),this.visualElement.render())}));return()=>{d(),n(),c(),f&&f(),i&&i()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=x0,dragMomentum:d=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:d}}}function Hw(t){let e=!0;return()=>{if(e){e=!1;return}t()}}function $M(t,e,n){const i=X1(t,Hw(n)),a=X1(e,Hw(n));return()=>{i(),a()}}function vh(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function KM(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class YM extends na{constructor(e){super(e),this.removeGroupControls=cs,this.removeListeners=cs,this.controls=new GM(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||cs}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const Ng=t=>(e,n)=>{t&&dt.update(()=>t(e,n),!1,!0)};class QM extends na{constructor(){super(...arguments),this.removePointerDownListener=cs}onPointerDown(e){this.session=new U2(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:L2(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:Ng(e),onStart:Ng(n),onMove:Ng(i),onEnd:(l,c)=>{delete this.session,a&&dt.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=Wc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Cg=!1;class XM extends N.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:a}=this.props,{projection:l}=e;l&&(n.group&&n.group.add(l),i&&i.register&&a&&i.register(l),Cg&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),Lh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:a,isPresent:l}=this.props,{projection:c}=i;return c&&(c.isPresent=l,e.layoutDependency!==n&&c.setOptions({...c.options,layoutDependency:n}),Cg=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||dt.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Iy.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:a}=e;Cg=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function B2(t){const[e,n]=C2(),i=N.useContext(cy);return m.jsx(XM,{...t,layoutGroup:i,switchLayoutGroup:N.useContext(O2),isPresent:e,safeToRemove:n})}const WM={pan:{Feature:QM},drag:{Feature:YM,ProjectionNode:N2,MeasureLayout:B2}};function qw(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=i[a];l&&dt.postRender(()=>l(e,ku(e)))}class JM extends na{mount(){const{current:e}=this.node;e&&(this.unmount=w5(e,(n,i)=>(qw(this.node,i,"Start"),a=>qw(this.node,a,"End"))))}unmount(){}}class ZM extends na{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Eu(du(this.node.current,"focus",()=>this.onFocus()),du(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Gw(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=i[a];l&&dt.postRender(()=>l(e,ku(e)))}class e3 extends na{mount(){const{current:e}=this.node;if(!e)return;const{globalTapTarget:n,propagate:i}=this.node.props;this.unmount=N5(e,(a,l)=>(Gw(this.node,l,"Start"),(c,{success:d})=>Gw(this.node,c,d?"End":"Cancel")),{useGlobalTarget:n,stopPropagation:i?.tap===!1})}unmount(){}}const _0=new WeakMap,Rg=new WeakMap,t3=t=>{const e=_0.get(t.target);e&&e(t)},n3=t=>{t.forEach(t3)};function s3({root:t,...e}){const n=t||document;Rg.has(n)||Rg.set(n,{});const i=Rg.get(n),a=JSON.stringify(e);return i[a]||(i[a]=new IntersectionObserver(n3,{root:t,...e})),i[a]}function i3(t,e,n){const i=s3(e);return _0.set(t,n),i.observe(t),()=>{_0.delete(t),i.unobserve(t)}}const r3={some:0,all:1};class a3 extends na{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:a="some",once:l}=e,c={root:n?n.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:r3[a]},d=f=>{const{isIntersecting:g}=f;if(this.isInView===g||(this.isInView=g,l&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:v,onViewportLeave:b}=this.node.getProps(),_=g?v:b;_&&_(f)};return i3(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(o3(e,n))&&this.startObserver()}unmount(){}}function o3({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const l3={inView:{Feature:a3},tap:{Feature:e3},focus:{Feature:ZM},hover:{Feature:JM}},c3={layout:{ProjectionNode:N2,MeasureLayout:B2}},u3={...jM,...l3,...WM,...c3},Se=NM(u3,CM),d3=()=>{};var $w={};const F2=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let a=t.charCodeAt(i);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},h3=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const a=t[n++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],c=t[n++],d=t[n++],f=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(f>>10)),e[i++]=String.fromCharCode(56320+(f&1023))}else{const l=t[n++],c=t[n++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},H2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<t.length;a+=3){const l=t[a],c=a+1<t.length,d=c?t[a+1]:0,f=a+2<t.length,g=f?t[a+2]:0,v=l>>2,b=(l&3)<<4|d>>4;let _=(d&15)<<2|g>>6,S=g&63;f||(S=64,c||(_=64)),i.push(n[v],n[b],n[_],n[S])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(F2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):h3(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],d=a<t.length?n[t.charAt(a)]:0;++a;const g=a<t.length?n[t.charAt(a)]:64;++a;const b=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||d==null||g==null||b==null)throw new f3;const _=l<<2|d>>4;if(i.push(_),g!==64){const S=d<<4&240|g>>2;if(i.push(S),b!==64){const I=g<<6&192|b;i.push(I)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class f3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const m3=function(t){const e=F2(t);return H2.encodeByteArray(e,!0)},rf=function(t){return m3(t).replace(/\./g,"")},q2=function(t){try{return H2.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function p3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const g3=()=>p3().__FIREBASE_DEFAULTS__,y3=()=>{if(typeof process>"u"||typeof $w>"u")return;const t=$w.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},v3=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&q2(t[1]);return e&&JSON.parse(e)},Pf=()=>{try{return d3()||g3()||y3()||v3()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},G2=t=>Pf()?.emulatorHosts?.[t],$2=t=>{const e=G2(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},K2=()=>Pf()?.config,Y2=t=>Pf()?.[`_${t}`];class b3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}function Ja(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function By(t){return(await fetch(t,{credentials:"include"})).ok}function Q2(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[rf(JSON.stringify(n)),rf(JSON.stringify(c)),""].join(".")}const Jc={};function x3(){const t={prod:[],emulator:[]};for(const e of Object.keys(Jc))Jc[e]?t.emulator.push(e):t.prod.push(e);return t}function _3(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Kw=!1;function Fy(t,e){if(typeof window>"u"||typeof document>"u"||!Ja(window.location.host)||Jc[t]===e||Jc[t]||Kw)return;Jc[t]=e;function n(_){return`__firebase__banner__${_}`}const i="__firebase__banner",l=x3().prod.length>0;function c(){const _=document.getElementById(i);_&&_.remove()}function d(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function f(_,S){_.setAttribute("width","24"),_.setAttribute("id",S),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function g(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{Kw=!0,c()},_}function v(_,S){_.setAttribute("id",S),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function b(){const _=_3(i),S=n("text"),I=document.getElementById(S)||document.createElement("span"),M=n("learnmore"),D=document.getElementById(M)||document.createElement("a"),L=n("preprendIcon"),q=document.getElementById(L)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const K=_.element;d(K),v(D,M);const Z=g();f(q,L),K.append(q,I,D,Z),document.body.appendChild(K)}l?(I.innerText="Preview backend disconnected.",q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function yn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function w3(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yn())}function T3(){const t=Pf()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function E3(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function S3(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function A3(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function k3(){const t=yn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function N3(){return!T3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function C3(){try{return typeof indexedDB=="object"}catch{return!1}}function R3(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}const I3="FirebaseError";class gi extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=I3,Object.setPrototypeOf(this,gi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nu.prototype.create)}}class Nu{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?D3(l,i):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new gi(a,d,i)}}function D3(t,e){return t.replace(j3,(n,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const j3=/\{\$([^}]+)}/g;function M3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ga(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const a of n){if(!i.includes(a))return!1;const l=t[a],c=e[a];if(Yw(l)&&Yw(c)){if(!Ga(l,c))return!1}else if(l!==c)return!1}for(const a of i)if(!n.includes(a))return!1;return!0}function Yw(t){return t!==null&&typeof t=="object"}function Cu(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function V3(t,e){const n=new O3(t,e);return n.subscribe.bind(n)}class O3{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let a;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");P3(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:i},a.next===void 0&&(a.next=Ig),a.error===void 0&&(a.error=Ig),a.complete===void 0&&(a.complete=Ig);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function P3(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ig(){}function vn(t){return t&&t._delegate?t._delegate:t}class Qr{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Va="[DEFAULT]";class L3{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new b3;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(z3(e))try{this.getOrInitializeService({instanceIdentifier:Va})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=Va){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Va){return this.instances.has(e)}getOptions(e=Va){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&c.resolve(a)}return a}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(i)??new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const a of i)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:U3(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Va){return this.component?this.component.multipleInstances?e:Va:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function U3(t){return t===Va?void 0:t}function z3(t){return t.instantiationMode==="EAGER"}class B3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new L3(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var $e;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})($e||($e={}));const F3={debug:$e.DEBUG,verbose:$e.VERBOSE,info:$e.INFO,warn:$e.WARN,error:$e.ERROR,silent:$e.SILENT},H3=$e.INFO,q3={[$e.DEBUG]:"log",[$e.VERBOSE]:"log",[$e.INFO]:"info",[$e.WARN]:"warn",[$e.ERROR]:"error"},G3=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),a=q3[e];if(a)console[a](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Hy{constructor(e){this.name=e,this._logLevel=H3,this._logHandler=G3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in $e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?F3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,$e.DEBUG,...e),this._logHandler(this,$e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,$e.VERBOSE,...e),this._logHandler(this,$e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,$e.INFO,...e),this._logHandler(this,$e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,$e.WARN,...e),this._logHandler(this,$e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,$e.ERROR,...e),this._logHandler(this,$e.ERROR,...e)}}const $3=(t,e)=>e.some(n=>t instanceof n);let Qw,Xw;function K3(){return Qw||(Qw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Y3(){return Xw||(Xw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const X2=new WeakMap,w0=new WeakMap,W2=new WeakMap,Dg=new WeakMap,qy=new WeakMap;function Q3(t){const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(Fr(t.result)),a()},c=()=>{i(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&X2.set(n,t)}).catch(()=>{}),qy.set(e,t),e}function X3(t){if(w0.has(t))return;const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{i(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});w0.set(t,e)}let T0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return w0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||W2.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Fr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function W3(t){T0=t(T0)}function J3(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(jg(this),e,...n);return W2.set(i,e.sort?e.sort():[e]),Fr(i)}:Y3().includes(t)?function(...e){return t.apply(jg(this),e),Fr(X2.get(this))}:function(...e){return Fr(t.apply(jg(this),e))}}function Z3(t){return typeof t=="function"?J3(t):(t instanceof IDBTransaction&&X3(t),$3(t,K3())?new Proxy(t,T0):t)}function Fr(t){if(t instanceof IDBRequest)return Q3(t);if(Dg.has(t))return Dg.get(t);const e=Z3(t);return e!==t&&(Dg.set(t,e),qy.set(e,t)),e}const jg=t=>qy.get(t);function e6(t,e,{blocked:n,upgrade:i,blocking:a,terminated:l}={}){const c=indexedDB.open(t,e),d=Fr(c);return i&&c.addEventListener("upgradeneeded",f=>{i(Fr(c.result),f.oldVersion,f.newVersion,Fr(c.transaction),f)}),n&&c.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),d.then(f=>{l&&f.addEventListener("close",()=>l()),a&&f.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const t6=["get","getKey","getAll","getAllKeys","count"],n6=["put","add","delete","clear"],Mg=new Map;function Ww(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Mg.get(e))return Mg.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,a=n6.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(a||t6.includes(n)))return;const l=async function(c,...d){const f=this.transaction(c,a?"readwrite":"readonly");let g=f.store;return i&&(g=g.index(d.shift())),(await Promise.all([g[n](...d),a&&f.done]))[0]};return Mg.set(e,l),l}W3(t=>({...t,get:(e,n,i)=>Ww(e,n)||t.get(e,n,i),has:(e,n)=>!!Ww(e,n)||t.has(e,n)}));class s6{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(i6(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function i6(t){return t.getComponent()?.type==="VERSION"}const E0="@firebase/app",Jw="0.14.8";const Ki=new Hy("@firebase/app"),r6="@firebase/app-compat",a6="@firebase/analytics-compat",o6="@firebase/analytics",l6="@firebase/app-check-compat",c6="@firebase/app-check",u6="@firebase/auth",d6="@firebase/auth-compat",h6="@firebase/database",f6="@firebase/data-connect",m6="@firebase/database-compat",p6="@firebase/functions",g6="@firebase/functions-compat",y6="@firebase/installations",v6="@firebase/installations-compat",b6="@firebase/messaging",x6="@firebase/messaging-compat",_6="@firebase/performance",w6="@firebase/performance-compat",T6="@firebase/remote-config",E6="@firebase/remote-config-compat",S6="@firebase/storage",A6="@firebase/storage-compat",k6="@firebase/firestore",N6="@firebase/ai",C6="@firebase/firestore-compat",R6="firebase",I6="12.9.0";const S0="[DEFAULT]",D6={[E0]:"fire-core",[r6]:"fire-core-compat",[o6]:"fire-analytics",[a6]:"fire-analytics-compat",[c6]:"fire-app-check",[l6]:"fire-app-check-compat",[u6]:"fire-auth",[d6]:"fire-auth-compat",[h6]:"fire-rtdb",[f6]:"fire-data-connect",[m6]:"fire-rtdb-compat",[p6]:"fire-fn",[g6]:"fire-fn-compat",[y6]:"fire-iid",[v6]:"fire-iid-compat",[b6]:"fire-fcm",[x6]:"fire-fcm-compat",[_6]:"fire-perf",[w6]:"fire-perf-compat",[T6]:"fire-rc",[E6]:"fire-rc-compat",[S6]:"fire-gcs",[A6]:"fire-gcs-compat",[k6]:"fire-fst",[C6]:"fire-fst-compat",[N6]:"fire-vertex","fire-js":"fire-js",[R6]:"fire-js-all"};const af=new Map,j6=new Map,A0=new Map;function Zw(t,e){try{t.container.addComponent(e)}catch(n){Ki.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function $a(t){const e=t.name;if(A0.has(e))return Ki.debug(`There were multiple attempts to register component ${e}.`),!1;A0.set(e,t);for(const n of af.values())Zw(n,t);for(const n of j6.values())Zw(n,t);return!0}function Lf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function rs(t){return t==null?!1:t.settings!==void 0}const M6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hr=new Nu("app","Firebase",M6);class V6{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Qr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hr.create("app-deleted",{appName:this._name})}}const Za=I6;function J2(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:S0,automaticDataCollectionEnabled:!0,...e},a=i.name;if(typeof a!="string"||!a)throw Hr.create("bad-app-name",{appName:String(a)});if(n||(n=K2()),!n)throw Hr.create("no-options");const l=af.get(a);if(l){if(Ga(n,l.options)&&Ga(i,l.config))return l;throw Hr.create("duplicate-app",{appName:a})}const c=new B3(a);for(const f of A0.values())c.addComponent(f);const d=new V6(n,i,c);return af.set(a,d),d}function Gy(t=S0){const e=af.get(t);if(!e&&t===S0&&K2())return J2();if(!e)throw Hr.create("no-app",{appName:t});return e}function ai(t,e,n){let i=D6[t]??t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${i}" with version "${e}":`];a&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ki.warn(c.join(" "));return}$a(new Qr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const O6="firebase-heartbeat-database",P6=1,hu="firebase-heartbeat-store";let Vg=null;function Z2(){return Vg||(Vg=e6(O6,P6,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(hu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Hr.create("idb-open",{originalErrorMessage:t.message})})),Vg}async function L6(t){try{const n=(await Z2()).transaction(hu),i=await n.objectStore(hu).get(eA(t));return await n.done,i}catch(e){if(e instanceof gi)Ki.warn(e.message);else{const n=Hr.create("idb-get",{originalErrorMessage:e?.message});Ki.warn(n.message)}}}async function eT(t,e){try{const i=(await Z2()).transaction(hu,"readwrite");await i.objectStore(hu).put(e,eA(t)),await i.done}catch(n){if(n instanceof gi)Ki.warn(n.message);else{const i=Hr.create("idb-set",{originalErrorMessage:n?.message});Ki.warn(i.message)}}}function eA(t){return`${t.name}!${t.options.appId}`}const U6=1024,z6=30;class B6{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new H6(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=tT();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>z6){const a=q6(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ki.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=tT(),{heartbeatsToSend:n,unsentEntries:i}=F6(this._heartbeatsCache.heartbeats),a=rf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Ki.warn(e),""}}}function tT(){return new Date().toISOString().substring(0,10)}function F6(t,e=U6){const n=[];let i=t.slice();for(const a of t){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),nT(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),nT(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class H6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return C3()?R3().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await L6(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return eT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return eT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function nT(t){return rf(JSON.stringify({version:2,heartbeats:t})).length}function q6(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}function G6(t){$a(new Qr("platform-logger",e=>new s6(e),"PRIVATE")),$a(new Qr("heartbeat",e=>new B6(e),"PRIVATE")),ai(E0,Jw,t),ai(E0,Jw,"esm2020"),ai("fire-js","")}G6("");function tA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $6=tA,nA=new Nu("auth","Firebase",tA());const of=new Hy("@firebase/auth");function K6(t,...e){of.logLevel<=$e.WARN&&of.warn(`Auth (${Za}): ${t}`,...e)}function Uh(t,...e){of.logLevel<=$e.ERROR&&of.error(`Auth (${Za}): ${t}`,...e)}function fi(t,...e){throw Ky(t,...e)}function Rs(t,...e){return Ky(t,...e)}function $y(t,e,n){const i={...$6(),[e]:n};return new Nu("auth","Firebase",i).create(e,{appName:t.name})}function Ba(t){return $y(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Y6(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&fi(t,"argument-error"),$y(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ky(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return nA.create(t,...e)}function je(t,e,...n){if(!t)throw Ky(e,...n)}function zi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Uh(e),new Error(e)}function Yi(t,e){t||zi(e)}function k0(){return typeof self<"u"&&self.location?.href||""}function Q6(){return sT()==="http:"||sT()==="https:"}function sT(){return typeof self<"u"&&self.location?.protocol||null}function X6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Q6()||S3()||"connection"in navigator)?navigator.onLine:!0}function W6(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class Ru{constructor(e,n){this.shortDelay=e,this.longDelay=n,Yi(n>e,"Short delay should be less than long delay!"),this.isMobile=w3()||A3()}get(){return X6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Yy(t,e){Yi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class sA{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;zi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;zi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;zi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const J6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Z6=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],eV=new Ru(3e4,6e4);function Qy(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Al(t,e,n,i,a={}){return iA(t,a,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const d=Cu({key:t.config.apiKey,...c}).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const g={method:e,headers:f,...l};return E3()||(g.referrerPolicy="no-referrer"),t.emulatorConfig&&Ja(t.emulatorConfig.host)&&(g.credentials="include"),sA.fetch()(await rA(t,t.config.apiHost,n,d),g)})}async function iA(t,e,n){t._canInitEmulator=!1;const i={...J6,...e};try{const a=new nV(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw bh(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[f,g]=d.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw bh(t,"credential-already-in-use",c);if(f==="EMAIL_EXISTS")throw bh(t,"email-already-in-use",c);if(f==="USER_DISABLED")throw bh(t,"user-disabled",c);const v=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw $y(t,v,g);fi(t,v)}}catch(a){if(a instanceof gi)throw a;fi(t,"network-request-failed",{message:String(a)})}}async function tV(t,e,n,i,a={}){const l=await Al(t,e,n,i,a);return"mfaPendingCredential"in l&&fi(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function rA(t,e,n,i){const a=`${e}${n}?${i}`,l=t,c=l.config.emulator?Yy(t.config,a):`${t.config.apiScheme}://${a}`;return Z6.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}class nV{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Rs(this.auth,"network-request-failed")),eV.get())})}}function bh(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const a=Rs(t,e,i);return a.customData._tokenResponse=n,a}async function sV(t,e){return Al(t,"POST","/v1/accounts:delete",e)}async function lf(t,e){return Al(t,"POST","/v1/accounts:lookup",e)}function Zc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function iV(t,e=!1){const n=vn(t),i=await n.getIdToken(e),a=Xy(i);je(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:i,authTime:Zc(Og(a.auth_time)),issuedAtTime:Zc(Og(a.iat)),expirationTime:Zc(Og(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Og(t){return Number(t)*1e3}function Xy(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Uh("JWT malformed, contained fewer than 3 sections"),null;try{const a=q2(n);return a?JSON.parse(a):(Uh("Failed to decode base64 JWT payload"),null)}catch(a){return Uh("Caught error parsing JWT payload as JSON",a?.toString()),null}}function iT(t){const e=Xy(t);return je(e,"internal-error"),je(typeof e.exp<"u","internal-error"),je(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function fu(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof gi&&rV(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function rV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class aV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class N0{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zc(this.lastLoginAt),this.creationTime=Zc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function cf(t){const e=t.auth,n=await t.getIdToken(),i=await fu(t,lf(e,{idToken:n}));je(i?.users.length,e,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const l=a.providerUserInfo?.length?aA(a.providerUserInfo):[],c=lV(t.providerData,l),d=t.isAnonymous,f=!(t.email&&a.passwordHash)&&!c?.length,g=d?f:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new N0(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(t,v)}async function oV(t){const e=vn(t);await cf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function lV(t,e){return[...t.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function aA(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function cV(t,e){const n=await iA(t,{},async()=>{const i=Cu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,c=await rA(t,a,"/v1/token",`key=${l}`),d=await t._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:d,body:i};return t.emulatorConfig&&Ja(t.emulatorConfig.host)&&(f.credentials="include"),sA.fetch()(c,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function uV(t,e){return Al(t,"POST","/v2/accounts:revokeToken",Qy(t,e))}class al{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){je(e.idToken,"internal-error"),je(typeof e.idToken<"u","internal-error"),je(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):iT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){je(e.length!==0,"internal-error");const n=iT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(je(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:a,expiresIn:l}=await cV(e,n);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:a,expirationTime:l}=n,c=new al;return i&&(je(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),a&&(je(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(je(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new al,this.toJSON())}_performRefresh(){return zi("not implemented")}}function Mr(t,e){je(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class As{constructor({uid:e,auth:n,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new aV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new N0(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await fu(this,this.stsTokenManager.getToken(this.auth,e));return je(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return iV(this,e)}reload(){return oV(this)}_assign(e){this!==e&&(je(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new As({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){je(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await cf(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(rs(this.auth.app))return Promise.reject(Ba(this.auth));const e=await this.getIdToken();return await fu(this,sV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,d=n.tenantId??void 0,f=n._redirectEventId??void 0,g=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:b,emailVerified:_,isAnonymous:S,providerData:I,stsTokenManager:M}=n;je(b&&M,e,"internal-error");const D=al.fromJSON(this.name,M);je(typeof b=="string",e,"internal-error"),Mr(i,e.name),Mr(a,e.name),je(typeof _=="boolean",e,"internal-error"),je(typeof S=="boolean",e,"internal-error"),Mr(l,e.name),Mr(c,e.name),Mr(d,e.name),Mr(f,e.name),Mr(g,e.name),Mr(v,e.name);const L=new As({uid:b,auth:e,email:a,emailVerified:_,displayName:i,isAnonymous:S,photoURL:c,phoneNumber:l,tenantId:d,stsTokenManager:D,createdAt:g,lastLoginAt:v});return I&&Array.isArray(I)&&(L.providerData=I.map(q=>({...q}))),f&&(L._redirectEventId=f),L}static async _fromIdTokenResponse(e,n,i=!1){const a=new al;a.updateFromServerResponse(n);const l=new As({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await cf(l),l}static async _fromGetAccountInfoResponse(e,n,i){const a=n.users[0];je(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?aA(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,d=new al;d.updateFromIdToken(i);const f=new As({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:c}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new N0(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(f,g),f}}const rT=new Map;function Bi(t){Yi(t instanceof Function,"Expected a class definition");let e=rT.get(t);return e?(Yi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,rT.set(t,e),e)}class oA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}oA.type="NONE";const aT=oA;function zh(t,e,n){return`firebase:${t}:${e}:${n}`}class ol{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=zh(this.userKey,a.apiKey,l),this.fullPersistenceKey=zh("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await lf(this.auth,{idToken:e}).catch(()=>{});return n?As._fromGetAccountInfoResponse(this.auth,n,e):null}return As._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new ol(Bi(aT),e,i);const a=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=a[0]||Bi(aT);const c=zh(i,e.config.apiKey,e.name);let d=null;for(const g of n)try{const v=await g._get(c);if(v){let b;if(typeof v=="string"){const _=await lf(e,{idToken:v}).catch(()=>{});if(!_)break;b=await As._fromGetAccountInfoResponse(e,_,v)}else b=As._fromJSON(e,v);g!==l&&(d=b),l=g;break}}catch{}const f=a.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!f.length?new ol(l,e,i):(l=f[0],d&&await l._set(c,d.toJSON()),await Promise.all(n.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new ol(l,e,i))}}function oT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(dA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(lA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(fA(e))return"Blackberry";if(mA(e))return"Webos";if(cA(e))return"Safari";if((e.includes("chrome/")||uA(e))&&!e.includes("edge/"))return"Chrome";if(hA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if(i?.length===2)return i[1]}return"Other"}function lA(t=yn()){return/firefox\//i.test(t)}function cA(t=yn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function uA(t=yn()){return/crios\//i.test(t)}function dA(t=yn()){return/iemobile/i.test(t)}function hA(t=yn()){return/android/i.test(t)}function fA(t=yn()){return/blackberry/i.test(t)}function mA(t=yn()){return/webos/i.test(t)}function Wy(t=yn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function dV(t=yn()){return Wy(t)&&!!window.navigator?.standalone}function hV(){return k3()&&document.documentMode===10}function pA(t=yn()){return Wy(t)||hA(t)||mA(t)||fA(t)||/windows phone/i.test(t)||dA(t)}function gA(t,e=[]){let n;switch(t){case"Browser":n=oT(yn());break;case"Worker":n=`${oT(yn())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Za}/${i}`}class fV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=l=>new Promise((c,d)=>{try{const f=e(l);c(f)}catch(f){d(f)}});i.onAbort=n,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function mV(t,e={}){return Al(t,"GET","/v2/passwordPolicy",Qy(t,e))}const pV=6;class gV{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??pV,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class yV{constructor(e,n,i,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lT(this),this.idTokenSubscription=new lT(this),this.beforeStateQueue=new fV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Bi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ol.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await lf(this,{idToken:e}),i=await As._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(rs(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=i?._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===c)&&d?.user&&(i=d.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return je(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await cf(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=W6()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(rs(this.app))return Promise.reject(Ba(this));const n=e?vn(e):null;return n&&je(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&je(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return rs(this.app)?Promise.reject(Ba(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return rs(this.app)?Promise.reject(Ba(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Bi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await mV(this),n=new gV(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Nu("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await uV(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Bi(e)||this._popupRedirectResolver;je(n,this,"argument-error"),this.redirectPersistenceManager=await ol.create(this,[Bi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(je(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,i,a);return()=>{c=!0,f()}}else{const f=e.addObserver(n);return()=>{c=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return je(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=gA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(rs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&K6(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Uf(t){return vn(t)}class lT{constructor(e){this.auth=e,this.observer=null,this.addObserver=V3(n=>this.observer=n)}get next(){return je(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Jy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function vV(t){Jy=t}function bV(t){return Jy.loadJS(t)}function xV(){return Jy.gapiScript}function _V(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function wV(t,e){const n=Lf(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Ga(l,e??{}))return a;fi(a,"already-initialized")}return n.initialize({options:e})}function TV(t,e){const n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(Bi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}function EV(t,e,n){const i=Uf(t);je(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=yA(e),{host:c,port:d}=SV(e),f=d===null?"":`:${d}`,g={url:`${l}//${c}${f}/`},v=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){je(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),je(Ga(g,i.config.emulator)&&Ga(v,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=g,i.emulatorConfig=v,i.settings.appVerificationDisabledForTesting=!0,Ja(c)?(By(`${l}//${c}${f}`),Fy("Auth",!0)):AV()}function yA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function SV(t){const e=yA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:cT(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:cT(c)}}}function cT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function AV(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class vA{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return zi("not implemented")}_getIdTokenResponse(e){return zi("not implemented")}_linkToIdToken(e,n){return zi("not implemented")}_getReauthenticationResolver(e){return zi("not implemented")}}async function ll(t,e){return tV(t,"POST","/v1/accounts:signInWithIdp",Qy(t,e))}const kV="http://localhost";class Ka extends vA{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ka(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):fi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a,...l}=n;if(!i||!a)return null;const c=new Ka(i,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return ll(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,ll(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ll(e,n)}buildRequest(){const e={requestUri:kV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Cu(n)}return e}}class Zy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Iu extends Zy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Pr extends Iu{constructor(){super("facebook.com")}static credential(e){return Ka._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pr.credentialFromTaggedObject(e)}static credentialFromError(e){return Pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pr.credential(e.oauthAccessToken)}catch{return null}}}Pr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Pr.PROVIDER_ID="facebook.com";class Ui extends Iu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ka._fromParams({providerId:Ui.PROVIDER_ID,signInMethod:Ui.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ui.credentialFromTaggedObject(e)}static credentialFromError(e){return Ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Ui.credential(n,i)}catch{return null}}}Ui.GOOGLE_SIGN_IN_METHOD="google.com";Ui.PROVIDER_ID="google.com";class Lr extends Iu{constructor(){super("github.com")}static credential(e){return Ka._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Lr.credentialFromTaggedObject(e)}static credentialFromError(e){return Lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Lr.credential(e.oauthAccessToken)}catch{return null}}}Lr.GITHUB_SIGN_IN_METHOD="github.com";Lr.PROVIDER_ID="github.com";class Ur extends Iu{constructor(){super("twitter.com")}static credential(e,n){return Ka._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ur.credentialFromTaggedObject(e)}static credentialFromError(e){return Ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Ur.credential(n,i)}catch{return null}}}Ur.TWITTER_SIGN_IN_METHOD="twitter.com";Ur.PROVIDER_ID="twitter.com";class hl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,a=!1){const l=await As._fromIdTokenResponse(e,i,a),c=uT(i);return new hl({user:l,providerId:c,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const a=uT(i);return new hl({user:e,providerId:a,_tokenResponse:i,operationType:n})}}function uT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class uf extends gi{constructor(e,n,i,a){super(n.code,n.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,uf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,a){return new uf(e,n,i,a)}}function bA(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?uf._fromErrorAndOperation(t,l,e,i):l})}async function NV(t,e,n=!1){const i=await fu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return hl._forOperation(t,"link",i)}async function CV(t,e,n=!1){const{auth:i}=t;if(rs(i.app))return Promise.reject(Ba(i));const a="reauthenticate";try{const l=await fu(t,bA(i,a,e,t),n);je(l.idToken,i,"internal-error");const c=Xy(l.idToken);je(c,i,"internal-error");const{sub:d}=c;return je(t.uid===d,i,"user-mismatch"),hl._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&fi(i,"user-mismatch"),l}}async function RV(t,e,n=!1){if(rs(t.app))return Promise.reject(Ba(t));const i="signIn",a=await bA(t,i,e),l=await hl._fromIdTokenResponse(t,i,a);return n||await t._updateCurrentUser(l.user),l}function IV(t,e,n,i){return vn(t).onIdTokenChanged(e,n,i)}function DV(t,e,n){return vn(t).beforeAuthStateChanged(e,n)}function jV(t,e,n,i){return vn(t).onAuthStateChanged(e,n,i)}function MV(t){return vn(t).signOut()}const df="__sak";class xA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(df,"1"),this.storage.removeItem(df),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const VV=1e3,OV=10;class _A extends xA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=pA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),a=this.localCache[n];i!==a&&e(n,a,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,d,f)=>{this.notifyListeners(c,f)});return}const i=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!n&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);hV()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,OV):a()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},VV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}_A.type="LOCAL";const PV=_A;class wA extends xA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}wA.type="SESSION";const TA=wA;function LV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class zf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const i=new zf(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const d=Array.from(c).map(async g=>g(n.origin,l)),f=await LV(d);n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}zf.receivers=[];function ev(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}class UV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,f)=>{const g=ev("",20);a.port1.start();const v=setTimeout(()=>{f(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(b){const _=b;if(_.data.eventId===g)switch(_.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(_.data.response);break;default:clearTimeout(v),clearTimeout(l),f(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function oi(){return window}function zV(t){oi().location.href=t}function EA(){return typeof oi().WorkerGlobalScope<"u"&&typeof oi().importScripts=="function"}async function BV(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function FV(){return navigator?.serviceWorker?.controller||null}function HV(){return EA()?self:null}const SA="firebaseLocalStorageDb",qV=1,hf="firebaseLocalStorage",AA="fbase_key";class Du{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Bf(t,e){return t.transaction([hf],e?"readwrite":"readonly").objectStore(hf)}function GV(){const t=indexedDB.deleteDatabase(SA);return new Du(t).toPromise()}function C0(){const t=indexedDB.open(SA,qV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(hf,{keyPath:AA})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(hf)?e(i):(i.close(),await GV(),e(await C0()))})})}async function dT(t,e,n){const i=Bf(t,!0).put({[AA]:e,value:n});return new Du(i).toPromise()}async function $V(t,e){const n=Bf(t,!1).get(e),i=await new Du(n).toPromise();return i===void 0?null:i.value}function hT(t,e){const n=Bf(t,!0).delete(e);return new Du(n).toPromise()}const KV=800,YV=3;class kA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await C0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>YV)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return EA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=zf._getInstance(HV()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await BV(),!this.activeServiceWorker)return;this.sender=new UV(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||FV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await C0();return await dT(e,df,"1"),await hT(e,df),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>dT(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>$V(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>hT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Bf(a,!1).getAll();return new Du(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),KV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}kA.type="LOCAL";const QV=kA;new Ru(3e4,6e4);function NA(t,e){return e?Bi(e):(je(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class tv extends vA{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ll(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ll(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ll(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function XV(t){return RV(t.auth,new tv(t),t.bypassAuthState)}function WV(t){const{auth:e,user:n}=t;return je(n,e,"internal-error"),CV(n,new tv(t),t.bypassAuthState)}async function JV(t){const{auth:e,user:n}=t;return je(n,e,"internal-error"),NV(n,new tv(t),t.bypassAuthState)}class CA{constructor(e,n,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:a,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const f={auth:this.auth,requestUri:n,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(f))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return XV;case"linkViaPopup":case"linkViaRedirect":return JV;case"reauthViaPopup":case"reauthViaRedirect":return WV;default:fi(this.auth,"internal-error")}}resolve(e){Yi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Yi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ZV=new Ru(2e3,1e4);async function eO(t,e,n){if(rs(t.app))return Promise.reject(Rs(t,"operation-not-supported-in-this-environment"));const i=Uf(t);Y6(t,e,Zy);const a=NA(i,n);return new La(i,"signInViaPopup",e,a).executeNotNull()}class La extends CA{constructor(e,n,i,a,l){super(e,n,a,l),this.provider=i,this.authWindow=null,this.pollId=null,La.currentPopupAction&&La.currentPopupAction.cancel(),La.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return je(e,this.auth,"internal-error"),e}async onExecution(){Yi(this.filter.length===1,"Popup operations only handle one event");const e=ev();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Rs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Rs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,La.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Rs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ZV.get())};e()}}La.currentPopupAction=null;const tO="pendingRedirect",Bh=new Map;class nO extends CA{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Bh.get(this.auth._key());if(!e){try{const i=await sO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Bh.set(this.auth._key(),e)}return this.bypassAuthState||Bh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function sO(t,e){const n=aO(e),i=rO(t);if(!await i._isAvailable())return!1;const a=await i._get(n)==="true";return await i._remove(n),a}function iO(t,e){Bh.set(t._key(),e)}function rO(t){return Bi(t._redirectPersistence)}function aO(t){return zh(tO,t.config.apiKey,t.name)}async function oO(t,e,n=!1){if(rs(t.app))return Promise.reject(Ba(t));const i=Uf(t),a=NA(i,e),c=await new nO(i,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}const lO=600*1e3;class cO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!uO(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!RA(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Rs(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=lO&&this.cachedEventUids.clear(),this.cachedEventUids.has(fT(e))}saveEventToCache(e){this.cachedEventUids.add(fT(e)),this.lastProcessedEventTime=Date.now()}}function fT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function RA({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function uO(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return RA(t);default:return!1}}async function dO(t,e={}){return Al(t,"GET","/v1/projects",e)}const hO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fO=/^https?/;async function mO(t){if(t.config.emulator)return;const{authorizedDomains:e}=await dO(t);for(const n of e)try{if(pO(n))return}catch{}fi(t,"unauthorized-domain")}function pO(t){const e=k0(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===i}if(!fO.test(n))return!1;if(hO.test(t))return i===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}const gO=new Ru(3e4,6e4);function mT(){const t=oi().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function yO(t){return new Promise((e,n)=>{function i(){mT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{mT(),n(Rs(t,"network-request-failed"))},timeout:gO.get()})}if(oi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(oi().gapi?.load)i();else{const a=_V("iframefcb");return oi()[a]=()=>{gapi.load?i():n(Rs(t,"network-request-failed"))},bV(`${xV()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Fh=null,e})}let Fh=null;function vO(t){return Fh=Fh||yO(t),Fh}const bO=new Ru(5e3,15e3),xO="__/auth/iframe",_O="emulator/auth/iframe",wO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},TO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function EO(t){const e=t.config;je(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Yy(e,_O):`https://${t.config.authDomain}/${xO}`,i={apiKey:e.apiKey,appName:t.name,v:Za},a=TO.get(t.config.apiHost);a&&(i.eid=a);const l=t._getFrameworks();return l.length&&(i.fw=l.join(",")),`${n}?${Cu(i).slice(1)}`}async function SO(t){const e=await vO(t),n=oi().gapi;return je(n,t,"internal-error"),e.open({where:document.body,url:EO(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wO,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const c=Rs(t,"network-request-failed"),d=oi().setTimeout(()=>{l(c)},bO.get());function f(){oi().clearTimeout(d),a(i)}i.ping(f).then(f,()=>{l(c)})}))}const AO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},kO=500,NO=600,CO="_blank",RO="http://localhost";class pT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function IO(t,e,n,i=kO,a=NO){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const f={...AO,width:i.toString(),height:a.toString(),top:l,left:c},g=yn().toLowerCase();n&&(d=uA(g)?CO:n),lA(g)&&(e=e||RO,f.scrollbars="yes");const v=Object.entries(f).reduce((_,[S,I])=>`${_}${S}=${I},`,"");if(dV(g)&&d!=="_self")return DO(e||"",d),new pT(null);const b=window.open(e||"",d,v);je(b,t,"popup-blocked");try{b.focus()}catch{}return new pT(b)}function DO(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}const jO="__/auth/handler",MO="emulator/auth/handler",VO=encodeURIComponent("fac");async function gT(t,e,n,i,a,l){je(t.config.authDomain,t,"auth-domain-config-required"),je(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:Za,eventId:a};if(e instanceof Zy){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",M3(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,b]of Object.entries({}))c[v]=b}if(e instanceof Iu){const v=e.getScopes().filter(b=>b!=="");v.length>0&&(c.scopes=v.join(","))}t.tenantId&&(c.tid=t.tenantId);const d=c;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const f=await t._getAppCheckToken(),g=f?`#${VO}=${encodeURIComponent(f)}`:"";return`${OO(t)}?${Cu(d).slice(1)}${g}`}function OO({config:t}){return t.emulator?Yy(t,MO):`https://${t.authDomain}/${jO}`}const Pg="webStorageSupport";class PO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=TA,this._completeRedirectFn=oO,this._overrideRedirectResult=iO}async _openPopup(e,n,i,a){Yi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await gT(e,n,i,k0(),a);return IO(e,l,ev())}async _openRedirect(e,n,i,a){await this._originValidation(e);const l=await gT(e,n,i,k0(),a);return zV(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Yi(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await SO(e),i=new cO(e);return n.register("authEvent",a=>(je(a?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Pg,{type:Pg},a=>{const l=a?.[0]?.[Pg];l!==void 0&&n(!!l),fi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=mO(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return pA()||cA()||Wy()}}const LO=PO;var yT="@firebase/auth",vT="1.12.0";class UO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){je(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function zO(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function BO(t){$a(new Qr("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=i.options;je(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:c,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gA(t)},g=new yV(i,a,l,f);return TV(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),$a(new Qr("auth-internal",e=>{const n=Uf(e.getProvider("auth").getImmediate());return(i=>new UO(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ai(yT,vT,zO(t)),ai(yT,vT,"esm2020")}const FO=300,HO=Y2("authIdTokenMaxAge")||FO;let bT=null;const qO=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>HO)return;const a=n?.token;bT!==a&&(bT=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function GO(t=Gy()){const e=Lf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=wV(t,{popupRedirectResolver:LO,persistence:[QV,PV,TA]}),i=Y2("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=qO(l.toString());DV(n,c,()=>c(n.currentUser)),IV(n,d=>c(d))}}const a=G2("auth");return a&&EV(n,`http://${a}`),n}function $O(){return document.getElementsByTagName("head")?.[0]??document}vV({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=a=>{const l=Rs("internal-error");l.customData=a,n(l)},i.type="text/javascript",i.charset="UTF-8",$O().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});BO("Browser");var KO="firebase",YO="12.9.0";ai(KO,YO,"app");var xT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var qr,IA;(function(){var t;function e(R,E){function C(){}C.prototype=E.prototype,R.F=E.prototype,R.prototype=new C,R.prototype.constructor=R,R.D=function(U,P,H){for(var j=Array(arguments.length-2),ue=2;ue<arguments.length;ue++)j[ue-2]=arguments[ue];return E.prototype[P].apply(U,j)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(R,E,C){C||(C=0);const U=Array(16);if(typeof E=="string")for(var P=0;P<16;++P)U[P]=E.charCodeAt(C++)|E.charCodeAt(C++)<<8|E.charCodeAt(C++)<<16|E.charCodeAt(C++)<<24;else for(P=0;P<16;++P)U[P]=E[C++]|E[C++]<<8|E[C++]<<16|E[C++]<<24;E=R.g[0],C=R.g[1],P=R.g[2];let H=R.g[3],j;j=E+(H^C&(P^H))+U[0]+3614090360&4294967295,E=C+(j<<7&4294967295|j>>>25),j=H+(P^E&(C^P))+U[1]+3905402710&4294967295,H=E+(j<<12&4294967295|j>>>20),j=P+(C^H&(E^C))+U[2]+606105819&4294967295,P=H+(j<<17&4294967295|j>>>15),j=C+(E^P&(H^E))+U[3]+3250441966&4294967295,C=P+(j<<22&4294967295|j>>>10),j=E+(H^C&(P^H))+U[4]+4118548399&4294967295,E=C+(j<<7&4294967295|j>>>25),j=H+(P^E&(C^P))+U[5]+1200080426&4294967295,H=E+(j<<12&4294967295|j>>>20),j=P+(C^H&(E^C))+U[6]+2821735955&4294967295,P=H+(j<<17&4294967295|j>>>15),j=C+(E^P&(H^E))+U[7]+4249261313&4294967295,C=P+(j<<22&4294967295|j>>>10),j=E+(H^C&(P^H))+U[8]+1770035416&4294967295,E=C+(j<<7&4294967295|j>>>25),j=H+(P^E&(C^P))+U[9]+2336552879&4294967295,H=E+(j<<12&4294967295|j>>>20),j=P+(C^H&(E^C))+U[10]+4294925233&4294967295,P=H+(j<<17&4294967295|j>>>15),j=C+(E^P&(H^E))+U[11]+2304563134&4294967295,C=P+(j<<22&4294967295|j>>>10),j=E+(H^C&(P^H))+U[12]+1804603682&4294967295,E=C+(j<<7&4294967295|j>>>25),j=H+(P^E&(C^P))+U[13]+4254626195&4294967295,H=E+(j<<12&4294967295|j>>>20),j=P+(C^H&(E^C))+U[14]+2792965006&4294967295,P=H+(j<<17&4294967295|j>>>15),j=C+(E^P&(H^E))+U[15]+1236535329&4294967295,C=P+(j<<22&4294967295|j>>>10),j=E+(P^H&(C^P))+U[1]+4129170786&4294967295,E=C+(j<<5&4294967295|j>>>27),j=H+(C^P&(E^C))+U[6]+3225465664&4294967295,H=E+(j<<9&4294967295|j>>>23),j=P+(E^C&(H^E))+U[11]+643717713&4294967295,P=H+(j<<14&4294967295|j>>>18),j=C+(H^E&(P^H))+U[0]+3921069994&4294967295,C=P+(j<<20&4294967295|j>>>12),j=E+(P^H&(C^P))+U[5]+3593408605&4294967295,E=C+(j<<5&4294967295|j>>>27),j=H+(C^P&(E^C))+U[10]+38016083&4294967295,H=E+(j<<9&4294967295|j>>>23),j=P+(E^C&(H^E))+U[15]+3634488961&4294967295,P=H+(j<<14&4294967295|j>>>18),j=C+(H^E&(P^H))+U[4]+3889429448&4294967295,C=P+(j<<20&4294967295|j>>>12),j=E+(P^H&(C^P))+U[9]+568446438&4294967295,E=C+(j<<5&4294967295|j>>>27),j=H+(C^P&(E^C))+U[14]+3275163606&4294967295,H=E+(j<<9&4294967295|j>>>23),j=P+(E^C&(H^E))+U[3]+4107603335&4294967295,P=H+(j<<14&4294967295|j>>>18),j=C+(H^E&(P^H))+U[8]+1163531501&4294967295,C=P+(j<<20&4294967295|j>>>12),j=E+(P^H&(C^P))+U[13]+2850285829&4294967295,E=C+(j<<5&4294967295|j>>>27),j=H+(C^P&(E^C))+U[2]+4243563512&4294967295,H=E+(j<<9&4294967295|j>>>23),j=P+(E^C&(H^E))+U[7]+1735328473&4294967295,P=H+(j<<14&4294967295|j>>>18),j=C+(H^E&(P^H))+U[12]+2368359562&4294967295,C=P+(j<<20&4294967295|j>>>12),j=E+(C^P^H)+U[5]+4294588738&4294967295,E=C+(j<<4&4294967295|j>>>28),j=H+(E^C^P)+U[8]+2272392833&4294967295,H=E+(j<<11&4294967295|j>>>21),j=P+(H^E^C)+U[11]+1839030562&4294967295,P=H+(j<<16&4294967295|j>>>16),j=C+(P^H^E)+U[14]+4259657740&4294967295,C=P+(j<<23&4294967295|j>>>9),j=E+(C^P^H)+U[1]+2763975236&4294967295,E=C+(j<<4&4294967295|j>>>28),j=H+(E^C^P)+U[4]+1272893353&4294967295,H=E+(j<<11&4294967295|j>>>21),j=P+(H^E^C)+U[7]+4139469664&4294967295,P=H+(j<<16&4294967295|j>>>16),j=C+(P^H^E)+U[10]+3200236656&4294967295,C=P+(j<<23&4294967295|j>>>9),j=E+(C^P^H)+U[13]+681279174&4294967295,E=C+(j<<4&4294967295|j>>>28),j=H+(E^C^P)+U[0]+3936430074&4294967295,H=E+(j<<11&4294967295|j>>>21),j=P+(H^E^C)+U[3]+3572445317&4294967295,P=H+(j<<16&4294967295|j>>>16),j=C+(P^H^E)+U[6]+76029189&4294967295,C=P+(j<<23&4294967295|j>>>9),j=E+(C^P^H)+U[9]+3654602809&4294967295,E=C+(j<<4&4294967295|j>>>28),j=H+(E^C^P)+U[12]+3873151461&4294967295,H=E+(j<<11&4294967295|j>>>21),j=P+(H^E^C)+U[15]+530742520&4294967295,P=H+(j<<16&4294967295|j>>>16),j=C+(P^H^E)+U[2]+3299628645&4294967295,C=P+(j<<23&4294967295|j>>>9),j=E+(P^(C|~H))+U[0]+4096336452&4294967295,E=C+(j<<6&4294967295|j>>>26),j=H+(C^(E|~P))+U[7]+1126891415&4294967295,H=E+(j<<10&4294967295|j>>>22),j=P+(E^(H|~C))+U[14]+2878612391&4294967295,P=H+(j<<15&4294967295|j>>>17),j=C+(H^(P|~E))+U[5]+4237533241&4294967295,C=P+(j<<21&4294967295|j>>>11),j=E+(P^(C|~H))+U[12]+1700485571&4294967295,E=C+(j<<6&4294967295|j>>>26),j=H+(C^(E|~P))+U[3]+2399980690&4294967295,H=E+(j<<10&4294967295|j>>>22),j=P+(E^(H|~C))+U[10]+4293915773&4294967295,P=H+(j<<15&4294967295|j>>>17),j=C+(H^(P|~E))+U[1]+2240044497&4294967295,C=P+(j<<21&4294967295|j>>>11),j=E+(P^(C|~H))+U[8]+1873313359&4294967295,E=C+(j<<6&4294967295|j>>>26),j=H+(C^(E|~P))+U[15]+4264355552&4294967295,H=E+(j<<10&4294967295|j>>>22),j=P+(E^(H|~C))+U[6]+2734768916&4294967295,P=H+(j<<15&4294967295|j>>>17),j=C+(H^(P|~E))+U[13]+1309151649&4294967295,C=P+(j<<21&4294967295|j>>>11),j=E+(P^(C|~H))+U[4]+4149444226&4294967295,E=C+(j<<6&4294967295|j>>>26),j=H+(C^(E|~P))+U[11]+3174756917&4294967295,H=E+(j<<10&4294967295|j>>>22),j=P+(E^(H|~C))+U[2]+718787259&4294967295,P=H+(j<<15&4294967295|j>>>17),j=C+(H^(P|~E))+U[9]+3951481745&4294967295,R.g[0]=R.g[0]+E&4294967295,R.g[1]=R.g[1]+(P+(j<<21&4294967295|j>>>11))&4294967295,R.g[2]=R.g[2]+P&4294967295,R.g[3]=R.g[3]+H&4294967295}i.prototype.v=function(R,E){E===void 0&&(E=R.length);const C=E-this.blockSize,U=this.C;let P=this.h,H=0;for(;H<E;){if(P==0)for(;H<=C;)a(this,R,H),H+=this.blockSize;if(typeof R=="string"){for(;H<E;)if(U[P++]=R.charCodeAt(H++),P==this.blockSize){a(this,U),P=0;break}}else for(;H<E;)if(U[P++]=R[H++],P==this.blockSize){a(this,U),P=0;break}}this.h=P,this.o+=E},i.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var E=1;E<R.length-8;++E)R[E]=0;E=this.o*8;for(var C=R.length-8;C<R.length;++C)R[C]=E&255,E/=256;for(this.v(R),R=Array(16),E=0,C=0;C<4;++C)for(let U=0;U<32;U+=8)R[E++]=this.g[C]>>>U&255;return R};function l(R,E){var C=d;return Object.prototype.hasOwnProperty.call(C,R)?C[R]:C[R]=E(R)}function c(R,E){this.h=E;const C=[];let U=!0;for(let P=R.length-1;P>=0;P--){const H=R[P]|0;U&&H==E||(C[P]=H,U=!1)}this.g=C}var d={};function f(R){return-128<=R&&R<128?l(R,function(E){return new c([E|0],E<0?-1:0)}):new c([R|0],R<0?-1:0)}function g(R){if(isNaN(R)||!isFinite(R))return b;if(R<0)return D(g(-R));const E=[];let C=1;for(let U=0;R>=C;U++)E[U]=R/C|0,C*=4294967296;return new c(E,0)}function v(R,E){if(R.length==0)throw Error("number format error: empty string");if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(R.charAt(0)=="-")return D(v(R.substring(1),E));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=g(Math.pow(E,8));let U=b;for(let H=0;H<R.length;H+=8){var P=Math.min(8,R.length-H);const j=parseInt(R.substring(H,H+P),E);P<8?(P=g(Math.pow(E,P)),U=U.j(P).add(g(j))):(U=U.j(C),U=U.add(g(j)))}return U}var b=f(0),_=f(1),S=f(16777216);t=c.prototype,t.m=function(){if(M(this))return-D(this).m();let R=0,E=1;for(let C=0;C<this.g.length;C++){const U=this.i(C);R+=(U>=0?U:4294967296+U)*E,E*=4294967296}return R},t.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(I(this))return"0";if(M(this))return"-"+D(this).toString(R);const E=g(Math.pow(R,6));var C=this;let U="";for(;;){const P=Z(C,E).g;C=L(C,P.j(E));let H=((C.g.length>0?C.g[0]:C.h)>>>0).toString(R);if(C=P,I(C))return H+U;for(;H.length<6;)H="0"+H;U=H+U}},t.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function I(R){if(R.h!=0)return!1;for(let E=0;E<R.g.length;E++)if(R.g[E]!=0)return!1;return!0}function M(R){return R.h==-1}t.l=function(R){return R=L(this,R),M(R)?-1:I(R)?0:1};function D(R){const E=R.g.length,C=[];for(let U=0;U<E;U++)C[U]=~R.g[U];return new c(C,~R.h).add(_)}t.abs=function(){return M(this)?D(this):this},t.add=function(R){const E=Math.max(this.g.length,R.g.length),C=[];let U=0;for(let P=0;P<=E;P++){let H=U+(this.i(P)&65535)+(R.i(P)&65535),j=(H>>>16)+(this.i(P)>>>16)+(R.i(P)>>>16);U=j>>>16,H&=65535,j&=65535,C[P]=j<<16|H}return new c(C,C[C.length-1]&-2147483648?-1:0)};function L(R,E){return R.add(D(E))}t.j=function(R){if(I(this)||I(R))return b;if(M(this))return M(R)?D(this).j(D(R)):D(D(this).j(R));if(M(R))return D(this.j(D(R)));if(this.l(S)<0&&R.l(S)<0)return g(this.m()*R.m());const E=this.g.length+R.g.length,C=[];for(var U=0;U<2*E;U++)C[U]=0;for(U=0;U<this.g.length;U++)for(let P=0;P<R.g.length;P++){const H=this.i(U)>>>16,j=this.i(U)&65535,ue=R.i(P)>>>16,G=R.i(P)&65535;C[2*U+2*P]+=j*G,q(C,2*U+2*P),C[2*U+2*P+1]+=H*G,q(C,2*U+2*P+1),C[2*U+2*P+1]+=j*ue,q(C,2*U+2*P+1),C[2*U+2*P+2]+=H*ue,q(C,2*U+2*P+2)}for(R=0;R<E;R++)C[R]=C[2*R+1]<<16|C[2*R];for(R=E;R<2*E;R++)C[R]=0;return new c(C,0)};function q(R,E){for(;(R[E]&65535)!=R[E];)R[E+1]+=R[E]>>>16,R[E]&=65535,E++}function K(R,E){this.g=R,this.h=E}function Z(R,E){if(I(E))throw Error("division by zero");if(I(R))return new K(b,b);if(M(R))return E=Z(D(R),E),new K(D(E.g),D(E.h));if(M(E))return E=Z(R,D(E)),new K(D(E.g),E.h);if(R.g.length>30){if(M(R)||M(E))throw Error("slowDivide_ only works with positive integers.");for(var C=_,U=E;U.l(R)<=0;)C=ne(C),U=ne(U);var P=de(C,1),H=de(U,1);for(U=de(U,2),C=de(C,2);!I(U);){var j=H.add(U);j.l(R)<=0&&(P=P.add(C),H=j),U=de(U,1),C=de(C,1)}return E=L(R,P.j(E)),new K(P,E)}for(P=b;R.l(E)>=0;){for(C=Math.max(1,Math.floor(R.m()/E.m())),U=Math.ceil(Math.log(C)/Math.LN2),U=U<=48?1:Math.pow(2,U-48),H=g(C),j=H.j(E);M(j)||j.l(R)>0;)C-=U,H=g(C),j=H.j(E);I(H)&&(H=_),P=P.add(H),R=L(R,j)}return new K(P,R)}t.B=function(R){return Z(this,R).h},t.and=function(R){const E=Math.max(this.g.length,R.g.length),C=[];for(let U=0;U<E;U++)C[U]=this.i(U)&R.i(U);return new c(C,this.h&R.h)},t.or=function(R){const E=Math.max(this.g.length,R.g.length),C=[];for(let U=0;U<E;U++)C[U]=this.i(U)|R.i(U);return new c(C,this.h|R.h)},t.xor=function(R){const E=Math.max(this.g.length,R.g.length),C=[];for(let U=0;U<E;U++)C[U]=this.i(U)^R.i(U);return new c(C,this.h^R.h)};function ne(R){const E=R.g.length+1,C=[];for(let U=0;U<E;U++)C[U]=R.i(U)<<1|R.i(U-1)>>>31;return new c(C,R.h)}function de(R,E){const C=E>>5;E%=32;const U=R.g.length-C,P=[];for(let H=0;H<U;H++)P[H]=E>0?R.i(H+C)>>>E|R.i(H+C+1)<<32-E:R.i(H+C);return new c(P,R.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,IA=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=v,qr=c}).apply(typeof xT<"u"?xT:typeof self<"u"?self:typeof window<"u"?window:{});var xh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var DA,qc,jA,Hh,R0,MA,VA,OA;(function(){var t,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof xh=="object"&&xh];for(var x=0;x<h.length;++x){var T=h[x];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var i=n(this);function a(h,x){if(x)e:{var T=i;h=h.split(".");for(var k=0;k<h.length-1;k++){var Q=h[k];if(!(Q in T))break e;T=T[Q]}h=h[h.length-1],k=T[h],x=x(k),x!=k&&x!=null&&e(T,h,{configurable:!0,writable:!0,value:x})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(x){var T=[],k;for(k in x)Object.prototype.hasOwnProperty.call(x,k)&&T.push([k,x[k]]);return T}});var l=l||{},c=this||self;function d(h){var x=typeof h;return x=="object"&&h!=null||x=="function"}function f(h,x,T){return h.call.apply(h.bind,arguments)}function g(h,x,T){return g=f,g.apply(null,arguments)}function v(h,x){var T=Array.prototype.slice.call(arguments,1);return function(){var k=T.slice();return k.push.apply(k,arguments),h.apply(this,k)}}function b(h,x){function T(){}T.prototype=x.prototype,h.Z=x.prototype,h.prototype=new T,h.prototype.constructor=h,h.Ob=function(k,Q,ee){for(var me=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)me[Le-2]=arguments[Le];return x.prototype[Q].apply(k,me)}}var _=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function S(h){const x=h.length;if(x>0){const T=Array(x);for(let k=0;k<x;k++)T[k]=h[k];return T}return[]}function I(h,x){for(let k=1;k<arguments.length;k++){const Q=arguments[k];var T=typeof Q;if(T=T!="object"?T:Q?Array.isArray(Q)?"array":T:"null",T=="array"||T=="object"&&typeof Q.length=="number"){T=h.length||0;const ee=Q.length||0;h.length=T+ee;for(let me=0;me<ee;me++)h[T+me]=Q[me]}else h.push(Q)}}class M{constructor(x,T){this.i=x,this.j=T,this.h=0,this.g=null}get(){let x;return this.h>0?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function D(h){c.setTimeout(()=>{throw h},0)}function L(){var h=R;let x=null;return h.g&&(x=h.g,h.g=h.g.next,h.g||(h.h=null),x.next=null),x}class q{constructor(){this.h=this.g=null}add(x,T){const k=K.get();k.set(x,T),this.h?this.h.next=k:this.g=k,this.h=k}}var K=new M(()=>new Z,h=>h.reset());class Z{constructor(){this.next=this.g=this.h=null}set(x,T){this.h=x,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let ne,de=!1,R=new q,E=()=>{const h=Promise.resolve(void 0);ne=()=>{h.then(C)}};function C(){for(var h;h=L();){try{h.h.call(h.g)}catch(T){D(T)}var x=K;x.j(h),x.h<100&&(x.h++,h.next=x.g,x.g=h)}de=!1}function U(){this.u=this.u,this.C=this.C}U.prototype.u=!1,U.prototype.dispose=function(){this.u||(this.u=!0,this.N())},U.prototype[Symbol.dispose]=function(){this.dispose()},U.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function P(h,x){this.type=h,this.g=this.target=x,this.defaultPrevented=!1}P.prototype.h=function(){this.defaultPrevented=!0};var H=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,x=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};c.addEventListener("test",T,x),c.removeEventListener("test",T,x)}catch{}return h})();function j(h){return/^[\s\xa0]*$/.test(h)}function ue(h,x){P.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,x)}b(ue,P),ue.prototype.init=function(h,x){const T=this.type=h.type,k=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=x,x=h.relatedTarget,x||(T=="mouseover"?x=h.fromElement:T=="mouseout"&&(x=h.toElement)),this.relatedTarget=x,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&ue.Z.h.call(this)},ue.prototype.h=function(){ue.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var G="closure_listenable_"+(Math.random()*1e6|0),V=0;function F(h,x,T,k,Q){this.listener=h,this.proxy=null,this.src=x,this.type=T,this.capture=!!k,this.ha=Q,this.key=++V,this.da=this.fa=!1}function $(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function he(h,x,T){for(const k in h)x.call(T,h[k],k,h)}function pe(h,x){for(const T in h)x.call(void 0,h[T],T,h)}function z(h){const x={};for(const T in h)x[T]=h[T];return x}const se="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ce(h,x){let T,k;for(let Q=1;Q<arguments.length;Q++){k=arguments[Q];for(T in k)h[T]=k[T];for(let ee=0;ee<se.length;ee++)T=se[ee],Object.prototype.hasOwnProperty.call(k,T)&&(h[T]=k[T])}}function fe(h){this.src=h,this.g={},this.h=0}fe.prototype.add=function(h,x,T,k,Q){const ee=h.toString();h=this.g[ee],h||(h=this.g[ee]=[],this.h++);const me=De(h,x,k,Q);return me>-1?(x=h[me],T||(x.fa=!1)):(x=new F(x,this.src,ee,!!k,Q),x.fa=T,h.push(x)),x};function Ae(h,x){const T=x.type;if(T in h.g){var k=h.g[T],Q=Array.prototype.indexOf.call(k,x,void 0),ee;(ee=Q>=0)&&Array.prototype.splice.call(k,Q,1),ee&&($(x),h.g[T].length==0&&(delete h.g[T],h.h--))}}function De(h,x,T,k){for(let Q=0;Q<h.length;++Q){const ee=h[Q];if(!ee.da&&ee.listener==x&&ee.capture==!!T&&ee.ha==k)return Q}return-1}var ke="closure_lm_"+(Math.random()*1e6|0),ge={};function Me(h,x,T,k,Q){if(Array.isArray(x)){for(let ee=0;ee<x.length;ee++)Me(h,x[ee],T,k,Q);return null}return T=Vl(T),h&&h[G]?h.J(x,T,d(k)?!!k.capture:!1,Q):xt(h,x,T,!1,k,Q)}function xt(h,x,T,k,Q,ee){if(!x)throw Error("Invalid event type");const me=d(Q)?!!Q.capture:!!Q;let Le=Mn(h);if(Le||(h[ke]=Le=new fe(h)),T=Le.add(x,T,k,me,ee),T.proxy)return T;if(k=en(),T.proxy=k,k.src=h,k.listener=T,h.addEventListener)H||(Q=me),Q===void 0&&(Q=!1),h.addEventListener(x.toString(),k,Q);else if(h.attachEvent)h.attachEvent(jn(x.toString()),k);else if(h.addListener&&h.removeListener)h.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return T}function en(){function h(T){return x.call(h.src,h.listener,T)}const x=Gn;return h}function Dn(h,x,T,k,Q){if(Array.isArray(x))for(var ee=0;ee<x.length;ee++)Dn(h,x[ee],T,k,Q);else k=d(k)?!!k.capture:!!k,T=Vl(T),h&&h[G]?(h=h.i,ee=String(x).toString(),ee in h.g&&(x=h.g[ee],T=De(x,T,k,Q),T>-1&&($(x[T]),Array.prototype.splice.call(x,T,1),x.length==0&&(delete h.g[ee],h.h--)))):h&&(h=Mn(h))&&(x=h.g[x.toString()],h=-1,x&&(h=De(x,T,k,Q)),(T=h>-1?x[h]:null)&&vi(T))}function vi(h){if(typeof h!="number"&&h&&!h.da){var x=h.src;if(x&&x[G])Ae(x.i,h);else{var T=h.type,k=h.proxy;x.removeEventListener?x.removeEventListener(T,k,h.capture):x.detachEvent?x.detachEvent(jn(T),k):x.addListener&&x.removeListener&&x.removeListener(k),(T=Mn(x))?(Ae(T,h),T.h==0&&(T.src=null,x[ke]=null)):$(h)}}}function jn(h){return h in ge?ge[h]:ge[h]="on"+h}function Gn(h,x){if(h.da)h=!0;else{x=new ue(x,this);const T=h.listener,k=h.ha||h.src;h.fa&&vi(h),h=T.call(k,x)}return h}function Mn(h){return h=h[ke],h instanceof fe?h:null}var Ml="__closure_events_fn_"+(Math.random()*1e9>>>0);function Vl(h){return typeof h=="function"?h:(h[Ml]||(h[Ml]=function(x){return h.handleEvent(x)}),h[Ml])}function Ct(){U.call(this),this.i=new fe(this),this.M=this,this.G=null}b(Ct,U),Ct.prototype[G]=!0,Ct.prototype.removeEventListener=function(h,x,T,k){Dn(this,h,x,T,k)};function Ht(h,x){var T,k=h.G;if(k)for(T=[];k;k=k.G)T.push(k);if(h=h.M,k=x.type||x,typeof x=="string")x=new P(x,h);else if(x instanceof P)x.target=x.target||h;else{var Q=x;x=new P(k,h),ce(x,Q)}Q=!0;let ee,me;if(T)for(me=T.length-1;me>=0;me--)ee=x.g=T[me],Q=tr(ee,k,!0,x)&&Q;if(ee=x.g=h,Q=tr(ee,k,!0,x)&&Q,Q=tr(ee,k,!1,x)&&Q,T)for(me=0;me<T.length;me++)ee=x.g=T[me],Q=tr(ee,k,!1,x)&&Q}Ct.prototype.N=function(){if(Ct.Z.N.call(this),this.i){var h=this.i;for(const x in h.g){const T=h.g[x];for(let k=0;k<T.length;k++)$(T[k]);delete h.g[x],h.h--}}this.G=null},Ct.prototype.J=function(h,x,T,k){return this.i.add(String(h),x,!1,T,k)},Ct.prototype.K=function(h,x,T,k){return this.i.add(String(h),x,!0,T,k)};function tr(h,x,T,k){if(x=h.i.g[String(x)],!x)return!0;x=x.concat();let Q=!0;for(let ee=0;ee<x.length;++ee){const me=x[ee];if(me&&!me.da&&me.capture==T){const Le=me.listener,St=me.ha||me.src;me.fa&&Ae(h.i,me),Q=Le.call(St,k)!==!1&&Q}}return Q&&!k.defaultPrevented}function om(h,x){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(x)>2147483647?-1:c.setTimeout(h,x||0)}function Uu(h){h.g=om(()=>{h.g=null,h.i&&(h.i=!1,Uu(h))},h.l);const x=h.h;h.h=null,h.m.apply(null,x)}class bn extends U{constructor(x,T){super(),this.m=x,this.l=T,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:Uu(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function sa(h){U.call(this),this.h=h,this.g={}}b(sa,U);var Ol=[];function Pl(h){he(h.g,function(x,T){this.g.hasOwnProperty(T)&&vi(x)},h),h.g={}}sa.prototype.N=function(){sa.Z.N.call(this),Pl(this)},sa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var nr=c.JSON.stringify,lm=c.JSON.parse,zu=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function Bu(){}function Fu(){}var hs={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function tn(){P.call(this,"d")}b(tn,P);function $n(){P.call(this,"c")}b($n,P);var Et={},Hu=null;function ro(){return Hu=Hu||new Ct}Et.Ia="serverreachability";function qu(h){P.call(this,Et.Ia,h)}b(qu,P);function Vs(h){const x=ro();Ht(x,new qu(x))}Et.STAT_EVENT="statevent";function ia(h,x){P.call(this,Et.STAT_EVENT,h),this.stat=x}b(ia,P);function Rt(h){const x=ro();Ht(x,new ia(x,h))}Et.Ja="timingevent";function Os(h,x){P.call(this,Et.Ja,h),this.size=x}b(Os,P);function Ps(h,x){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},x)}function fs(){this.g=!0}fs.prototype.ua=function(){this.g=!1};function cm(h,x,T,k,Q,ee){h.info(function(){if(h.g)if(ee){var me="",Le=ee.split("&");for(let Ze=0;Ze<Le.length;Ze++){var St=Le[Ze].split("=");if(St.length>1){const pt=St[0];St=St[1];const Xn=pt.split("_");me=Xn.length>=2&&Xn[1]=="type"?me+(pt+"="+St+"&"):me+(pt+"=redacted&")}}}else me=null;else me=ee;return"XMLHTTP REQ ("+k+") [attempt "+Q+"]: "+x+`
`+T+`
`+me})}function Gu(h,x,T,k,Q,ee,me){h.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+Q+"]: "+x+`
`+T+`
`+ee+" "+me})}function Ls(h,x,T,k){h.info(function(){return"XMLHTTP TEXT ("+x+"): "+um(h,T)+(k?" "+k:"")})}function ra(h,x){h.info(function(){return"TIMEOUT: "+x})}fs.prototype.info=function(){};function um(h,x){if(!h.g)return x;if(!x)return null;try{const ee=JSON.parse(x);if(ee){for(h=0;h<ee.length;h++)if(Array.isArray(ee[h])){var T=ee[h];if(!(T.length<2)){var k=T[1];if(Array.isArray(k)&&!(k.length<1)){var Q=k[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(let me=1;me<k.length;me++)k[me]=""}}}}return nr(ee)}catch{return x}}var aa={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ll={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ul;function oa(){}b(oa,Bu),oa.prototype.g=function(){return new XMLHttpRequest},Ul=new oa;function bi(h){return encodeURIComponent(String(h))}function $u(h){var x=1;h=h.split(":");const T=[];for(;x>0&&h.length;)T.push(h.shift()),x--;return h.length&&T.push(h.join(":")),T}function ms(h,x,T,k){this.j=h,this.i=x,this.l=T,this.S=k||1,this.V=new sa(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ps}function ps(){this.i=null,this.g="",this.h=!1}var It={},Qt={};function Us(h,x,T){h.M=1,h.A=la(jt(x)),h.u=T,h.R=!0,ao(h,null)}function ao(h,x){h.F=Date.now(),zs(h),h.B=jt(h.A);var T=h.B,k=h.S;Array.isArray(k)||(k=[String(k)]),uo(T.i,"t",k),h.C=0,T=h.j.L,h.h=new ps,h.g=od(h.j,T?x:null,!h.u),h.P>0&&(h.O=new bn(g(h.Y,h,h.g),h.P)),x=h.V,T=h.g,k=h.ba;var Q="readystatechange";Array.isArray(Q)||(Q&&(Ol[0]=Q.toString()),Q=Ol);for(let ee=0;ee<Q.length;ee++){const me=Me(T,Q[ee],k||x.handleEvent,!1,x.h||x);if(!me)break;x.g[me.key]=me}x=h.J?z(h.J):{},h.u?(h.v||(h.v="POST"),x["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,x)):(h.v="GET",h.g.ea(h.B,h.v,null,x)),Vs(),cm(h.i,h.v,h.B,h.l,h.S,h.u)}ms.prototype.ba=function(h){h=h.target;const x=this.O;x&&vs(h)==3?x.j():this.Y(h)},ms.prototype.Y=function(h){try{if(h==this.g)e:{const Le=vs(this.g),St=this.g.ya(),Ze=this.g.ca();if(!(Le<3)&&(Le!=3||this.g&&(this.h.h||this.g.la()||nn(this.g)))){this.K||Le!=4||St==7||(St==8||Ze<=0?Vs(3):Vs(2)),Bs(this);var x=this.g.ca();this.X=x;var T=dm(this);if(this.o=x==200,Gu(this.i,this.v,this.B,this.l,this.S,Le,x),this.o){if(this.U&&!this.L){t:{if(this.g){var k,Q=this.g;if((k=Q.g?Q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(k)){var ee=k;break t}}ee=null}if(h=ee)Ls(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Fs(this,h);else{this.o=!1,this.m=3,Rt(12),Vn(this),Kn(this);break e}}if(this.R){h=!0;let pt;for(;!this.K&&this.C<T.length;)if(pt=Yu(this,T),pt==Qt){Le==4&&(this.m=4,Rt(14),h=!1),Ls(this.i,this.l,null,"[Incomplete Response]");break}else if(pt==It){this.m=4,Rt(15),Ls(this.i,this.l,T,"[Invalid Chunk]"),h=!1;break}else Ls(this.i,this.l,pt,null),Fs(this,pt);if(Ku(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Le!=4||T.length!=0||this.h.h||(this.m=1,Rt(16),h=!1),this.o=this.o&&h,!h)Ls(this.i,this.l,T,"[Invalid Chunked Response]"),Vn(this),Kn(this);else if(T.length>0&&!this.W){this.W=!0;var me=this.j;me.g==this&&me.aa&&!me.P&&(me.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),ec(me),me.P=!0,Rt(11))}}else Ls(this.i,this.l,T,null),Fs(this,T);Le==4&&Vn(this),this.o&&!this.K&&(Le==4?sd(this.j,this):(this.o=!1,zs(this)))}else _i(this.g),x==400&&T.indexOf("Unknown SID")>0?(this.m=3,Rt(12)):(this.m=0,Rt(13)),Vn(this),Kn(this)}}}catch{}};function dm(h){if(!Ku(h))return h.g.la();const x=nn(h.g);if(x==="")return"";let T="";const k=x.length,Q=vs(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Vn(h),Kn(h),"";h.h.i=new c.TextDecoder}for(let ee=0;ee<k;ee++)h.h.h=!0,T+=h.h.i.decode(x[ee],{stream:!(Q&&ee==k-1)});return x.length=0,h.h.g+=T,h.C=0,h.h.g}function Ku(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Yu(h,x){var T=h.C,k=x.indexOf(`
`,T);return k==-1?Qt:(T=Number(x.substring(T,k)),isNaN(T)?It:(k+=1,k+T>x.length?Qt:(x=x.slice(k,k+T),h.C=k+T,x)))}ms.prototype.cancel=function(){this.K=!0,Vn(this)};function zs(h){h.T=Date.now()+h.H,oo(h,h.H)}function oo(h,x){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Ps(g(h.aa,h),x)}function Bs(h){h.D&&(c.clearTimeout(h.D),h.D=null)}ms.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(ra(this.i,this.B),this.M!=2&&(Vs(),Rt(17)),Vn(this),this.m=2,Kn(this)):oo(this,this.T-h)};function Kn(h){h.j.I==0||h.K||sd(h.j,h)}function Vn(h){Bs(h);var x=h.O;x&&typeof x.dispose=="function"&&x.dispose(),h.O=null,Pl(h.V),h.g&&(x=h.g,h.g=null,x.abort(),x.dispose())}function Fs(h,x){try{var T=h.j;if(T.I!=0&&(T.g==h||qs(T.h,h))){if(!h.L&&qs(T.h,h)&&T.I==3){try{var k=T.Ba.g.parse(x)}catch{k=null}if(Array.isArray(k)&&k.length==3){var Q=k;if(Q[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<h.F)go(T),ur(T);else break e;pa(T),Rt(18)}}else T.xa=Q[1],0<T.xa-T.K&&Q[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=Ps(g(T.Va,T),6e3));Hs(T.h)<=1&&T.ta&&(T.ta=void 0)}else Xs(T,11)}else if((h.L||T.g==h)&&go(T),!j(x))for(Q=T.Ba.g.parse(x),x=0;x<Q.length;x++){let Ze=Q[x];const pt=Ze[0];if(!(pt<=T.K))if(T.K=pt,Ze=Ze[1],T.I==2)if(Ze[0]=="c"){T.M=Ze[1],T.ba=Ze[2];const Xn=Ze[3];Xn!=null&&(T.ka=Xn,T.j.info("VER="+T.ka));const Ws=Ze[4];Ws!=null&&(T.za=Ws,T.j.info("SVER="+T.za));const bs=Ze[5];bs!=null&&typeof bs=="number"&&bs>0&&(k=1.5*bs,T.O=k,T.j.info("backChannelRequestTimeoutMs_="+k)),k=T;const xs=h.g;if(xs){const ga=xs.g?xs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ga){var ee=k.h;ee.g||ga.indexOf("spdy")==-1&&ga.indexOf("quic")==-1&&ga.indexOf("h2")==-1||(ee.j=ee.l,ee.g=new Set,ee.h&&(Fl(ee,ee.h),ee.h=null))}if(k.G){const yo=xs.g?xs.g.getResponseHeader("X-HTTP-Session-Id"):null;yo&&(k.wa=yo,nt(k.J,k.G,yo))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-h.F,T.j.info("Handshake RTT: "+T.T+"ms")),k=T;var me=h;if(k.na=ad(k,k.L?k.ba:null,k.W),me.L){Hl(k.h,me);var Le=me,St=k.O;St&&(Le.H=St),Le.D&&(Bs(Le),zs(Le)),k.g=me}else td(k);T.i.length>0&&Qs(T)}else Ze[0]!="stop"&&Ze[0]!="close"||Xs(T,7);else T.I==3&&(Ze[0]=="stop"||Ze[0]=="close"?Ze[0]=="stop"?Xs(T,7):Jl(T):Ze[0]!="noop"&&T.l&&T.l.qa(Ze),T.A=0)}}Vs(4)}catch{}}var Dt=class{constructor(h,x){this.g=h,this.map=x}};function zl(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Bl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Hs(h){return h.h?1:h.g?h.g.size:0}function qs(h,x){return h.h?h.h==x:h.g?h.g.has(x):!1}function Fl(h,x){h.g?h.g.add(x):h.h=x}function Hl(h,x){h.h&&h.h==x?h.h=null:h.g&&h.g.has(x)&&h.g.delete(x)}zl.prototype.cancel=function(){if(this.i=ql(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function ql(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let x=h.i;for(const T of h.g.values())x=x.concat(T.G);return x}return S(h.i)}var Qu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function lo(h,x){if(h){h=h.split("&");for(let T=0;T<h.length;T++){const k=h[T].indexOf("=");let Q,ee=null;k>=0?(Q=h[T].substring(0,k),ee=h[T].substring(k+1)):Q=h[T],x(Q,ee?decodeURIComponent(ee.replace(/\+/g," ")):"")}}}function On(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let x;h instanceof On?(this.l=h.l,Xt(this,h.j),this.o=h.o,this.g=h.g,sr(this,h.u),this.h=h.h,Gl(this,Zu(h.i)),this.m=h.m):h&&(x=String(h).match(Qu))?(this.l=!1,Xt(this,x[1]||"",!0),this.o=Gs(x[2]||""),this.g=Gs(x[3]||"",!0),sr(this,x[4]),this.h=Gs(x[5]||"",!0),Gl(this,x[6]||"",!0),this.m=Gs(x[7]||"")):(this.l=!1,this.i=new rr(null,this.l))}On.prototype.toString=function(){const h=[];var x=this.j;x&&h.push(ca(x,co,!0),":");var T=this.g;return(T||x=="file")&&(h.push("//"),(x=this.o)&&h.push(ca(x,co,!0),"@"),h.push(bi(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&h.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(ca(T,T.charAt(0)=="/"?$l:Xu,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",ca(T,Wu)),h.join("")},On.prototype.resolve=function(h){const x=jt(this);let T=!!h.j;T?Xt(x,h.j):T=!!h.o,T?x.o=h.o:T=!!h.g,T?x.g=h.g:T=h.u!=null;var k=h.h;if(T)sr(x,h.u);else if(T=!!h.h){if(k.charAt(0)!="/")if(this.g&&!this.h)k="/"+k;else{var Q=x.h.lastIndexOf("/");Q!=-1&&(k=x.h.slice(0,Q+1)+k)}if(Q=k,Q==".."||Q==".")k="";else if(Q.indexOf("./")!=-1||Q.indexOf("/.")!=-1){k=Q.lastIndexOf("/",0)==0,Q=Q.split("/");const ee=[];for(let me=0;me<Q.length;){const Le=Q[me++];Le=="."?k&&me==Q.length&&ee.push(""):Le==".."?((ee.length>1||ee.length==1&&ee[0]!="")&&ee.pop(),k&&me==Q.length&&ee.push("")):(ee.push(Le),k=!0)}k=ee.join("/")}else k=Q}return T?x.h=k:T=h.i.toString()!=="",T?Gl(x,Zu(h.i)):T=!!h.m,T&&(x.m=h.m),x};function jt(h){return new On(h)}function Xt(h,x,T){h.j=T?Gs(x,!0):x,h.j&&(h.j=h.j.replace(/:$/,""))}function sr(h,x){if(x){if(x=Number(x),isNaN(x)||x<0)throw Error("Bad port number "+x);h.u=x}else h.u=null}function Gl(h,x,T){x instanceof rr?(h.i=x,ho(h.i,h.l)):(T||(x=ca(x,ir)),h.i=new rr(x,h.l))}function nt(h,x,T){h.i.set(x,T)}function la(h){return nt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Gs(h,x){return h?x?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function ca(h,x,T){return typeof h=="string"?(h=encodeURI(h).replace(x,En),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function En(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var co=/[#\/\?@]/g,Xu=/[#\?:]/g,$l=/[#\?]/g,ir=/[#\?@]/g,Wu=/#/g;function rr(h,x){this.h=this.g=null,this.i=h||null,this.j=!!x}function Sn(h){h.g||(h.g=new Map,h.h=0,h.i&&lo(h.i,function(x,T){h.add(decodeURIComponent(x.replace(/\+/g," ")),T)}))}t=rr.prototype,t.add=function(h,x){Sn(this),this.i=null,h=ar(this,h);let T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(x),this.h+=1,this};function Ju(h,x){Sn(h),x=ar(h,x),h.g.has(x)&&(h.i=null,h.h-=h.g.get(x).length,h.g.delete(x))}function Kl(h,x){return Sn(h),x=ar(h,x),h.g.has(x)}t.forEach=function(h,x){Sn(this),this.g.forEach(function(T,k){T.forEach(function(Q){h.call(x,Q,k,this)},this)},this)};function Yl(h,x){Sn(h);let T=[];if(typeof x=="string")Kl(h,x)&&(T=T.concat(h.g.get(ar(h,x))));else for(h=Array.from(h.g.values()),x=0;x<h.length;x++)T=T.concat(h[x]);return T}t.set=function(h,x){return Sn(this),this.i=null,h=ar(this,h),Kl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[x]),this.h+=1,this},t.get=function(h,x){return h?(h=Yl(this,h),h.length>0?String(h[0]):x):x};function uo(h,x,T){Ju(h,x),T.length>0&&(h.i=null,h.g.set(ar(h,x),S(T)),h.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],x=Array.from(this.g.keys());for(let k=0;k<x.length;k++){var T=x[k];const Q=bi(T);T=Yl(this,T);for(let ee=0;ee<T.length;ee++){let me=Q;T[ee]!==""&&(me+="="+bi(T[ee])),h.push(me)}}return this.i=h.join("&")};function Zu(h){const x=new rr;return x.i=h.i,h.g&&(x.g=new Map(h.g),x.h=h.h),x}function ar(h,x){return x=String(x),h.j&&(x=x.toLowerCase()),x}function ho(h,x){x&&!h.j&&(Sn(h),h.i=null,h.g.forEach(function(T,k){const Q=k.toLowerCase();k!=Q&&(Ju(this,k),uo(this,Q,T))},h)),h.j=x}function gs(h,x){const T=new fs;if(c.Image){const k=new Image;k.onload=v(Yn,T,"TestLoadImage: loaded",!0,x,k),k.onerror=v(Yn,T,"TestLoadImage: error",!1,x,k),k.onabort=v(Yn,T,"TestLoadImage: abort",!1,x,k),k.ontimeout=v(Yn,T,"TestLoadImage: timeout",!1,x,k),c.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=h}else x(!1)}function Ql(h,x){const T=new fs,k=new AbortController,Q=setTimeout(()=>{k.abort(),Yn(T,"TestPingServer: timeout",!1,x)},1e4);fetch(h,{signal:k.signal}).then(ee=>{clearTimeout(Q),ee.ok?Yn(T,"TestPingServer: ok",!0,x):Yn(T,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(Q),Yn(T,"TestPingServer: error",!1,x)})}function Yn(h,x,T,k,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),k(T)}catch{}}function or(){this.g=new zu}function $s(h){this.i=h.Sb||null,this.h=h.ab||!1}b($s,Bu),$s.prototype.g=function(){return new ua(this.i,this.h)};function ua(h,x){Ct.call(this),this.H=h,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(ua,Ct),t=ua.prototype,t.open=function(h,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=x,this.readyState=1,ys(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const x={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(x.body=h),(this.H||c).fetch(new Request(this.D,x)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,lr(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,ys(this)),this.g&&(this.readyState=3,ys(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;fo(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function fo(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var x=h.value?h.value:new Uint8Array(0);(x=this.B.decode(x,{stream:!h.done}))&&(this.response=this.responseText+=x)}h.done?lr(this):ys(this),this.readyState==3&&fo(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,lr(this))},t.Na=function(h){this.g&&(this.response=h,lr(this))},t.ga=function(){this.g&&lr(this)};function lr(h){h.readyState=4,h.l=null,h.j=null,h.B=null,ys(h)}t.setRequestHeader=function(h,x){this.A.append(h,x)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],x=this.h.entries();for(var T=x.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=x.next();return h.join(`\r
`)};function ys(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(ua.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Qn(h){let x="";return he(h,function(T,k){x+=k,x+=":",x+=T,x+=`\r
`}),x}function da(h,x,T){e:{for(k in T){var k=!1;break e}k=!0}k||(T=Qn(T),typeof h=="string"?T!=null&&bi(T):nt(h,x,T))}function rt(h){Ct.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(rt,Ct);var Ks=/^https?$/i,Xl=["POST","PUT"];t=rt.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,x,T,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);x=x?x.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ul.g(),this.g.onreadystatechange=_(g(this.Ca,this));try{this.B=!0,this.g.open(x,String(h),!0),this.B=!1}catch(ee){ha(this,ee);return}if(h=T||"",T=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var Q in k)T.set(Q,k[Q]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const ee of k.keys())T.set(ee,k.get(ee));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(T.keys()).find(ee=>ee.toLowerCase()=="content-type"),Q=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(Xl,x,void 0)>=0)||k||Q||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ee,me]of T)this.g.setRequestHeader(ee,me);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(ee){ha(this,ee)}};function ha(h,x){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=x,h.o=5,Wl(h),xi(h)}function Wl(h){h.A||(h.A=!0,Ht(h,"complete"),Ht(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Ht(this,"complete"),Ht(this,"abort"),xi(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xi(this,!0)),rt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?fa(this):this.Xa())},t.Xa=function(){fa(this)};function fa(h){if(h.h&&typeof l<"u"){if(h.v&&vs(h)==4)setTimeout(h.Ca.bind(h),0);else if(Ht(h,"readystatechange"),vs(h)==4){h.h=!1;try{const ee=h.ca();e:switch(ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var T;if(!(T=x)){var k;if(k=ee===0){let me=String(h.D).match(Qu)[1]||null;!me&&c.self&&c.self.location&&(me=c.self.location.protocol.slice(0,-1)),k=!Ks.test(me?me.toLowerCase():"")}T=k}if(T)Ht(h,"complete"),Ht(h,"success");else{h.o=6;try{var Q=vs(h)>2?h.g.statusText:""}catch{Q=""}h.l=Q+" ["+h.ca()+"]",Wl(h)}}finally{xi(h)}}}}function xi(h,x){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const T=h.g;h.g=null,x||Ht(h,"ready");try{T.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function vs(h){return h.g?h.g.readyState:0}t.ca=function(){try{return vs(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var x=this.g.responseText;return h&&x.indexOf(h)==0&&(x=x.substring(h.length)),lm(x)}};function nn(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function _i(h){const x={};h=(h.g&&vs(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<h.length;k++){if(j(h[k]))continue;var T=$u(h[k]);const Q=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const ee=x[Q]||[];x[Q]=ee,ee.push(T)}pe(x,function(k){return k.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ys(h,x,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||x}function cr(h){this.za=0,this.i=[],this.j=new fs,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ys("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ys("baseRetryDelayMs",5e3,h),this.Za=Ys("retryDelaySeedMs",1e4,h),this.Ta=Ys("forwardChannelMaxRetries",2,h),this.va=Ys("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new zl(h&&h.concurrentRequestLimit),this.Ba=new or,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=cr.prototype,t.ka=8,t.I=1,t.connect=function(h,x,T,k){Rt(0),this.W=h,this.H=x||{},T&&k!==void 0&&(this.H.OSID=T,this.H.OAID=k),this.F=this.X,this.J=ad(this,null,this.W),Qs(this)};function Jl(h){if(mo(h),h.I==3){var x=h.V++,T=jt(h.J);if(nt(T,"SID",h.M),nt(T,"RID",x),nt(T,"TYPE","terminate"),ma(h,T),x=new ms(h,h.j,x),x.M=2,x.A=la(jt(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(x.A.toString(),"")}catch{}!T&&c.Image&&(new Image().src=x.A,T=!0),T||(x.g=od(x.j,null),x.g.ea(x.A)),x.F=Date.now(),zs(x)}rd(h)}function ur(h){h.g&&(ec(h),h.g.cancel(),h.g=null)}function mo(h){ur(h),h.v&&(c.clearTimeout(h.v),h.v=null),go(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function Qs(h){if(!Bl(h.h)&&!h.m){h.m=!0;var x=h.Ea;ne||E(),de||(ne(),de=!0),R.add(x,h),h.D=0}}function po(h,x){return Hs(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=x.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Ps(g(h.Ea,h,x),id(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const Q=new ms(this,this.j,h);let ee=this.o;if(this.U&&(ee?(ee=z(ee),ce(ee,this.U)):ee=this.U),this.u!==null||this.R||(Q.J=ee,ee=null),this.S)e:{for(var x=0,T=0;T<this.i.length;T++){t:{var k=this.i[T];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(x+=k,x>4096){x=T;break e}if(x===4096||T===this.i.length-1){x=T+1;break e}}x=1e3}else x=1e3;x=ed(this,Q,x),T=jt(this.J),nt(T,"RID",h),nt(T,"CVER",22),this.G&&nt(T,"X-HTTP-Session-Id",this.G),ma(this,T),ee&&(this.R?x="headers="+bi(Qn(ee))+"&"+x:this.u&&da(T,this.u,ee)),Fl(this.h,Q),this.Ra&&nt(T,"TYPE","init"),this.S?(nt(T,"$req",x),nt(T,"SID","null"),Q.U=!0,Us(Q,T,null)):Us(Q,T,x),this.I=2}}else this.I==3&&(h?Zl(this,h):this.i.length==0||Bl(this.h)||Zl(this))};function Zl(h,x){var T;x?T=x.l:T=h.V++;const k=jt(h.J);nt(k,"SID",h.M),nt(k,"RID",T),nt(k,"AID",h.K),ma(h,k),h.u&&h.o&&da(k,h.u,h.o),T=new ms(h,h.j,T,h.D+1),h.u===null&&(T.J=h.o),x&&(h.i=x.G.concat(h.i)),x=ed(h,T,1e3),T.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Fl(h.h,T),Us(T,k,x)}function ma(h,x){h.H&&he(h.H,function(T,k){nt(x,k,T)}),h.l&&he({},function(T,k){nt(x,k,T)})}function ed(h,x,T){T=Math.min(h.i.length,T);const k=h.l?g(h.l.Ka,h.l,h):null;e:{var Q=h.i;let Le=-1;for(;;){const St=["count="+T];Le==-1?T>0?(Le=Q[0].g,St.push("ofs="+Le)):Le=0:St.push("ofs="+Le);let Ze=!0;for(let pt=0;pt<T;pt++){var ee=Q[pt].g;const Xn=Q[pt].map;if(ee-=Le,ee<0)Le=Math.max(0,Q[pt].g-100),Ze=!1;else try{ee="req"+ee+"_"||"";try{var me=Xn instanceof Map?Xn:Object.entries(Xn);for(const[Ws,bs]of me){let xs=bs;d(bs)&&(xs=nr(bs)),St.push(ee+Ws+"="+encodeURIComponent(xs))}}catch(Ws){throw St.push(ee+"type="+encodeURIComponent("_badmap")),Ws}}catch{k&&k(Xn)}}if(Ze){me=St.join("&");break e}}me=void 0}return h=h.i.splice(0,T),x.G=h,me}function td(h){if(!h.g&&!h.v){h.Y=1;var x=h.Da;ne||E(),de||(ne(),de=!0),R.add(x,h),h.A=0}}function pa(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Ps(g(h.Da,h),id(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,nd(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Ps(g(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Rt(10),ur(this),nd(this))};function ec(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function nd(h){h.g=new ms(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var x=jt(h.na);nt(x,"RID","rpc"),nt(x,"SID",h.M),nt(x,"AID",h.K),nt(x,"CI",h.F?"0":"1"),!h.F&&h.ia&&nt(x,"TO",h.ia),nt(x,"TYPE","xmlhttp"),ma(h,x),h.u&&h.o&&da(x,h.u,h.o),h.O&&(h.g.H=h.O);var T=h.g;h=h.ba,T.M=1,T.A=la(jt(x)),T.u=null,T.R=!0,ao(T,h)}t.Va=function(){this.C!=null&&(this.C=null,ur(this),pa(this),Rt(19))};function go(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function sd(h,x){var T=null;if(h.g==x){go(h),ec(h),h.g=null;var k=2}else if(qs(h.h,x))T=x.G,Hl(h.h,x),k=1;else return;if(h.I!=0){if(x.o)if(k==1){T=x.u?x.u.length:0,x=Date.now()-x.F;var Q=h.D;k=ro(),Ht(k,new Os(k,T)),Qs(h)}else td(h);else if(Q=x.m,Q==3||Q==0&&x.X>0||!(k==1&&po(h,x)||k==2&&pa(h)))switch(T&&T.length>0&&(x=h.h,x.i=x.i.concat(T)),Q){case 1:Xs(h,5);break;case 4:Xs(h,10);break;case 3:Xs(h,6);break;default:Xs(h,2)}}}function id(h,x){let T=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(T*=2),T*x}function Xs(h,x){if(h.j.info("Error code "+x),x==2){var T=g(h.bb,h),k=h.Ua;const Q=!k;k=new On(k||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Xt(k,"https"),la(k),Q?gs(k.toString(),T):Ql(k.toString(),T)}else Rt(2);h.I=0,h.l&&h.l.pa(x),rd(h),mo(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Rt(2)):(this.j.info("Failed to ping google.com"),Rt(1))};function rd(h){if(h.I=0,h.ja=[],h.l){const x=ql(h.h);(x.length!=0||h.i.length!=0)&&(I(h.ja,x),I(h.ja,h.i),h.h.i.length=0,S(h.i),h.i.length=0),h.l.oa()}}function ad(h,x,T){var k=T instanceof On?jt(T):new On(T);if(k.g!="")x&&(k.g=x+"."+k.g),sr(k,k.u);else{var Q=c.location;k=Q.protocol,x=x?x+"."+Q.hostname:Q.hostname,Q=+Q.port;const ee=new On(null);k&&Xt(ee,k),x&&(ee.g=x),Q&&sr(ee,Q),T&&(ee.h=T),k=ee}return T=h.G,x=h.wa,T&&x&&nt(k,T,x),nt(k,"VER",h.ka),ma(h,k),k}function od(h,x,T){if(x&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return x=h.Aa&&!h.ma?new rt(new $s({ab:T})):new rt(h.ma),x.Fa(h.L),x}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ld(){}t=ld.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function dr(){}dr.prototype.g=function(h,x){return new xn(h,x)};function xn(h,x){Ct.call(this),this.g=new cr(x),this.l=h,this.h=x&&x.messageUrlParams||null,h=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(h?h["X-WebChannel-Content-Type"]=x.messageContentType:h={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.sa&&(h?h["X-WebChannel-Client-Profile"]=x.sa:h={"X-WebChannel-Client-Profile":x.sa}),this.g.U=h,(h=x&&x.Qb)&&!j(h)&&(this.g.u=h),this.A=x&&x.supportsCrossDomainXhr||!1,this.v=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!j(x)&&(this.g.G=x,h=this.h,h!==null&&x in h&&(h=this.h,x in h&&delete h[x])),this.j=new wi(this)}b(xn,Ct),xn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},xn.prototype.close=function(){Jl(this.g)},xn.prototype.o=function(h){var x=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.v&&(T={},T.__data__=nr(h),h=T);x.i.push(new Dt(x.Ya++,h)),x.I==3&&Qs(x)},xn.prototype.N=function(){this.g.l=null,delete this.j,Jl(this.g),delete this.g,xn.Z.N.call(this)};function cd(h){tn.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var x=h.__sm__;if(x){e:{for(const T in x){h=T;break e}h=void 0}(this.i=h)&&(h=this.i,x=x!==null&&h in x?x[h]:void 0),this.data=x}else this.data=h}b(cd,tn);function ud(){$n.call(this),this.status=1}b(ud,$n);function wi(h){this.g=h}b(wi,ld),wi.prototype.ra=function(){Ht(this.g,"a")},wi.prototype.qa=function(h){Ht(this.g,new cd(h))},wi.prototype.pa=function(h){Ht(this.g,new ud)},wi.prototype.oa=function(){Ht(this.g,"b")},dr.prototype.createWebChannel=dr.prototype.g,xn.prototype.send=xn.prototype.o,xn.prototype.open=xn.prototype.m,xn.prototype.close=xn.prototype.close,OA=function(){return new dr},VA=function(){return ro()},MA=Et,R0={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},aa.NO_ERROR=0,aa.TIMEOUT=8,aa.HTTP_ERROR=6,Hh=aa,Ll.COMPLETE="complete",jA=Ll,Fu.EventType=hs,hs.OPEN="a",hs.CLOSE="b",hs.ERROR="c",hs.MESSAGE="d",Ct.prototype.listen=Ct.prototype.J,qc=Fu,rt.prototype.listenOnce=rt.prototype.K,rt.prototype.getLastError=rt.prototype.Ha,rt.prototype.getLastErrorCode=rt.prototype.ya,rt.prototype.getStatus=rt.prototype.ca,rt.prototype.getResponseJson=rt.prototype.La,rt.prototype.getResponseText=rt.prototype.la,rt.prototype.send=rt.prototype.ea,rt.prototype.setWithCredentials=rt.prototype.Fa,DA=rt}).apply(typeof xh<"u"?xh:typeof self<"u"?self:typeof window<"u"?window:{});class mn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}mn.UNAUTHENTICATED=new mn(null),mn.GOOGLE_CREDENTIALS=new mn("google-credentials-uid"),mn.FIRST_PARTY=new mn("first-party-uid"),mn.MOCK_USER=new mn("mock-user");let kl="12.9.0";function QO(t){kl=t}const Ya=new Hy("@firebase/firestore");function Xo(){return Ya.logLevel}function ve(t,...e){if(Ya.logLevel<=$e.DEBUG){const n=e.map(nv);Ya.debug(`Firestore (${kl}): ${t}`,...n)}}function Qi(t,...e){if(Ya.logLevel<=$e.ERROR){const n=e.map(nv);Ya.error(`Firestore (${kl}): ${t}`,...n)}}function Qa(t,...e){if(Ya.logLevel<=$e.WARN){const n=e.map(nv);Ya.warn(`Firestore (${kl}): ${t}`,...n)}}function nv(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Ie(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,PA(t,i,n)}function PA(t,e,n){let i=`FIRESTORE (${kl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw Qi(i),new Error(i)}function tt(t,e,n,i){let a="Unexpected state";typeof n=="string"?a=n:i=n,t||PA(e,a,i)}function Pe(t,e){return t}const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends gi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Gr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class LA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class XO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(mn.UNAUTHENTICATED)))}shutdown(){}}class WO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class JO{constructor(e){this.t=e,this.currentUser=mn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){tt(this.o===void 0,42304);let i=this.i;const a=f=>this.i!==i?(i=this.i,n(f)):Promise.resolve();let l=new Gr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Gr,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const f=l;e.enqueueRetryable((async()=>{await f.promise,await a(this.currentUser)}))},d=f=>{ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((f=>d(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Gr)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==e?(ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(tt(typeof i.accessToken=="string",31837,{l:i}),new LA(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return tt(e===null||typeof e=="string",2055,{h:e}),new mn(e)}}class ZO{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=mn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class eP{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new ZO(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(mn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class _T{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class tP{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,rs(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){tt(this.o===void 0,3512);const i=l=>{l.error!=null&&ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,ve("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>i(l)))};const a=l=>{ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new _T(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(tt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new _T(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function nP(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}class sv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=nP(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<n&&(i+=e.charAt(a[l]%62))}return i}}function Ke(t,e){return t<e?-1:t>e?1:0}function I0(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const a=t.charAt(i),l=e.charAt(i);if(a!==l)return Lg(a)===Lg(l)?Ke(a,l):Lg(a)?1:-1}return Ke(t.length,e.length)}const sP=55296,iP=57343;function Lg(t){const e=t.charCodeAt(0);return e>=sP&&e<=iP}function fl(t,e,n){return t.length===e.length&&t.every(((i,a)=>n(i,e[a])))}const wT="__name__";class ii{constructor(e,n,i){n===void 0?n=0:n>e.length&&Ie(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&Ie(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return ii.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ii?e.forEach((i=>{n.push(i)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let a=0;a<i;a++){const l=ii.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return Ke(e.length,n.length)}static compareSegments(e,n){const i=ii.isNumericId(e),a=ii.isNumericId(n);return i&&!a?-1:!i&&a?1:i&&a?ii.extractNumericId(e).compare(ii.extractNumericId(n)):I0(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return qr.fromString(e.substring(4,e.length-2))}}class ut extends ii{construct(e,n,i){return new ut(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new ye(oe.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((a=>a.length>0)))}return new ut(n)}static emptyPath(){return new ut([])}}const rP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class un extends ii{construct(e,n,i){return new un(e,n,i)}static isValidIdentifier(e){return rP.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),un.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===wT}static keyField(){return new un([wT])}static fromServerFormat(e){const n=[];let i="",a=0;const l=()=>{if(i.length===0)throw new ye(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new ye(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[a+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new ye(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=f,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(i+=d,a++):(l(),a++)}if(l(),c)throw new ye(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new un(n)}static emptyPath(){return new un([])}}class Ce{constructor(e){this.path=e}static fromPath(e){return new Ce(ut.fromString(e))}static fromName(e){return new Ce(ut.fromString(e).popFirst(5))}static empty(){return new Ce(ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ut.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ut.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ce(new ut(e.slice()))}}function UA(t,e,n){if(!n)throw new ye(oe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function aP(t,e,n,i){if(e===!0&&i===!0)throw new ye(oe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function TT(t){if(!Ce.isDocumentKey(t))throw new ye(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function ET(t){if(Ce.isDocumentKey(t))throw new ye(oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function zA(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Ff(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ie(12329,{type:typeof t})}function Hi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ye(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ff(t);throw new ye(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function oP(t,e){if(e<=0)throw new ye(oe.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}function Bt(t,e){const n={typeString:t};return e&&(n.value=e),n}function ju(t,e){if(!zA(t))throw new ye(oe.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const a=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const c=t[i];if(a&&typeof c!==a){n=`JSON field '${i}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${i}' field to equal '${l.value}'`;break}}if(n)throw new ye(oe.INVALID_ARGUMENT,n);return!0}const ST=-62135596800,AT=1e6;class mt{static now(){return mt.fromMillis(Date.now())}static fromDate(e){return mt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*AT);return new mt(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ye(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ye(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<ST)throw new ye(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/AT}_compareTo(e){return this.seconds===e.seconds?Ke(this.nanoseconds,e.nanoseconds):Ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:mt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ju(e,mt._jsonSchema))return new mt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-ST;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}mt._jsonSchemaVersion="firestore/timestamp/1.0",mt._jsonSchema={type:Bt("string",mt._jsonSchemaVersion),seconds:Bt("number"),nanoseconds:Bt("number")};class Ve{static fromTimestamp(e){return new Ve(e)}static min(){return new Ve(new mt(0,0))}static max(){return new Ve(new mt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const mu=-1;function lP(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,a=Ve.fromTimestamp(i===1e9?new mt(n+1,0):new mt(n,i));return new Xr(a,Ce.empty(),e)}function cP(t){return new Xr(t.readTime,t.key,mu)}class Xr{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Xr(Ve.min(),Ce.empty(),mu)}static max(){return new Xr(Ve.max(),Ce.empty(),mu)}}function uP(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ce.comparator(t.documentKey,e.documentKey),n!==0?n:Ke(t.largestBatchId,e.largestBatchId))}const dP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class hP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Nl(t){if(t.code!==oe.FAILED_PRECONDITION||t.message!==dP)throw t;ve("LocalStore","Unexpectedly lost primary lease")}class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ie(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new le(((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(i,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof le?n:le.resolve(n)}catch(n){return le.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):le.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):le.reject(n)}static resolve(e){return new le(((n,i)=>{n(e)}))}static reject(e){return new le(((n,i)=>{i(e)}))}static waitFor(e){return new le(((n,i)=>{let a=0,l=0,c=!1;e.forEach((d=>{++a,d.next((()=>{++l,c&&l===a&&n()}),(f=>i(f)))})),c=!0,l===a&&n()}))}static or(e){let n=le.resolve(!1);for(const i of e)n=n.next((a=>a?le.resolve(a):i()));return n}static forEach(e,n){const i=[];return e.forEach(((a,l)=>{i.push(n.call(this,a,l))})),this.waitFor(i)}static mapArray(e,n){return new le(((i,a)=>{const l=e.length,c=new Array(l);let d=0;for(let f=0;f<l;f++){const g=f;n(e[g]).next((v=>{c[g]=v,++d,d===l&&i(c)}),(v=>a(v)))}}))}static doWhile(e,n){return new le(((i,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):i()};l()}))}}function fP(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Cl(t){return t.name==="IndexedDbTransactionError"}class Hf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Hf.ce=-1;const iv=-1;function qf(t){return t==null}function ff(t){return t===0&&1/t==-1/0}function mP(t){return typeof t=="number"&&Number.isInteger(t)&&!ff(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const BA="";function pP(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=kT(e)),e=gP(t.get(n),e);return kT(e)}function gP(t,e){let n=e;const i=t.length;for(let a=0;a<i;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case BA:n+="";break;default:n+=l}}return n}function kT(t){return t+BA+""}function NT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function eo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function FA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class bt{constructor(e,n){this.comparator=e,this.root=n||cn.EMPTY}insert(e,n){return new bt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,cn.BLACK,null,null))}remove(e){return new bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,cn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return n+i.left.size;a<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,i)=>(e(n,i),!1)))}toString(){const e=[];return this.inorderTraversal(((n,i)=>(e.push(`${n}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _h(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _h(this.root,e,this.comparator,!1)}getReverseIterator(){return new _h(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _h(this.root,e,this.comparator,!0)}}class _h{constructor(e,n,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?i(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class cn{constructor(e,n,i,a,l){this.key=e,this.value=n,this.color=i??cn.RED,this.left=a??cn.EMPTY,this.right=l??cn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,a,l){return new cn(e??this.key,n??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,i),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return cn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return cn.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,cn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,cn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ie(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ie(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ie(27949);return e+(this.isRed()?0:1)}}cn.EMPTY=null,cn.RED=!0,cn.BLACK=!1;cn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ie(57766)}get value(){throw Ie(16141)}get color(){throw Ie(16727)}get left(){throw Ie(29726)}get right(){throw Ie(36894)}copy(e,n,i,a,l){return this}insert(e,n,i){return new cn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Kt{constructor(e){this.comparator=e,this.data=new bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,i)=>(e(n),!1)))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new CT(this.data.getIterator())}getIteratorFrom(e){return new CT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((i=>{n=n.add(i)})),n}isEqual(e){if(!(e instanceof Kt)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Kt(this.comparator);return n.data=e,n}}class CT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ks{constructor(e){this.fields=e,e.sort(un.comparator)}static empty(){return new ks([])}unionWith(e){let n=new Kt(un.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new ks(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return fl(this.fields,e.fields,((n,i)=>n.isEqual(i)))}}class HA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class dn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new HA("Invalid base64 string: "+l):l}})(e);return new dn(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(e);return new dn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}dn.EMPTY_BYTE_STRING=new dn("");const yP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wr(t){if(tt(!!t,39018),typeof t=="string"){let e=0;const n=yP.exec(t);if(tt(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Nt(t.seconds),nanos:Nt(t.nanos)}}function Nt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Jr(t){return typeof t=="string"?dn.fromBase64String(t):dn.fromUint8Array(t)}const qA="server_timestamp",GA="__type__",$A="__previous_value__",KA="__local_write_time__";function rv(t){return(t?.mapValue?.fields||{})[GA]?.stringValue===qA}function Gf(t){const e=t.mapValue.fields[$A];return rv(e)?Gf(e):e}function pu(t){const e=Wr(t.mapValue.fields[KA].timestampValue);return new mt(e.seconds,e.nanos)}class vP{constructor(e,n,i,a,l,c,d,f,g,v,b){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=g,this.isUsingEmulator=v,this.apiKey=b}}const mf="(default)";class gu{constructor(e,n){this.projectId=e,this.database=n||mf}static empty(){return new gu("","")}get isDefaultDatabase(){return this.database===mf}isEqual(e){return e instanceof gu&&e.projectId===this.projectId&&e.database===this.database}}function bP(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new ye(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gu(t.options.projectId,e)}const YA="__type__",xP="__max__",wh={mapValue:{}},QA="__vector__",pf="value";function Zr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?rv(t)?4:wP(t)?9007199254740991:_P(t)?10:11:Ie(28295,{value:t})}function mi(t,e){if(t===e)return!0;const n=Zr(t);if(n!==Zr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return pu(t).isEqual(pu(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Wr(a.timestampValue),d=Wr(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return Jr(a.bytesValue).isEqual(Jr(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return Nt(a.geoPointValue.latitude)===Nt(l.geoPointValue.latitude)&&Nt(a.geoPointValue.longitude)===Nt(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Nt(a.integerValue)===Nt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Nt(a.doubleValue),d=Nt(l.doubleValue);return c===d?ff(c)===ff(d):isNaN(c)&&isNaN(d)}return!1})(t,e);case 9:return fl(t.arrayValue.values||[],e.arrayValue.values||[],mi);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(NT(c)!==NT(d))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(d[f]===void 0||!mi(c[f],d[f])))return!1;return!0})(t,e);default:return Ie(52216,{left:t})}}function yu(t,e){return(t.values||[]).find((n=>mi(n,e)))!==void 0}function ml(t,e){if(t===e)return 0;const n=Zr(t),i=Zr(e);if(n!==i)return Ke(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ke(t.booleanValue,e.booleanValue);case 2:return(function(l,c){const d=Nt(l.integerValue||l.doubleValue),f=Nt(c.integerValue||c.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1})(t,e);case 3:return RT(t.timestampValue,e.timestampValue);case 4:return RT(pu(t),pu(e));case 5:return I0(t.stringValue,e.stringValue);case 6:return(function(l,c){const d=Jr(l),f=Jr(c);return d.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(l,c){const d=l.split("/"),f=c.split("/");for(let g=0;g<d.length&&g<f.length;g++){const v=Ke(d[g],f[g]);if(v!==0)return v}return Ke(d.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,c){const d=Ke(Nt(l.latitude),Nt(c.latitude));return d!==0?d:Ke(Nt(l.longitude),Nt(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return IT(t.arrayValue,e.arrayValue);case 10:return(function(l,c){const d=l.fields||{},f=c.fields||{},g=d[pf]?.arrayValue,v=f[pf]?.arrayValue,b=Ke(g?.values?.length||0,v?.values?.length||0);return b!==0?b:IT(g,v)})(t.mapValue,e.mapValue);case 11:return(function(l,c){if(l===wh.mapValue&&c===wh.mapValue)return 0;if(l===wh.mapValue)return 1;if(c===wh.mapValue)return-1;const d=l.fields||{},f=Object.keys(d),g=c.fields||{},v=Object.keys(g);f.sort(),v.sort();for(let b=0;b<f.length&&b<v.length;++b){const _=I0(f[b],v[b]);if(_!==0)return _;const S=ml(d[f[b]],g[v[b]]);if(S!==0)return S}return Ke(f.length,v.length)})(t.mapValue,e.mapValue);default:throw Ie(23264,{he:n})}}function RT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ke(t,e);const n=Wr(t),i=Wr(e),a=Ke(n.seconds,i.seconds);return a!==0?a:Ke(n.nanos,i.nanos)}function IT(t,e){const n=t.values||[],i=e.values||[];for(let a=0;a<n.length&&a<i.length;++a){const l=ml(n[a],i[a]);if(l)return l}return Ke(n.length,i.length)}function pl(t){return D0(t)}function D0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const i=Wr(n);return`time(${i.seconds},${i.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Jr(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ce.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let i="[",a=!0;for(const l of n.values||[])a?a=!1:i+=",",i+=D0(l);return i+"]"})(t.arrayValue):"mapValue"in t?(function(n){const i=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of i)l?l=!1:a+=",",a+=`${c}:${D0(n.fields[c])}`;return a+"}"})(t.mapValue):Ie(61005,{value:t})}function qh(t){switch(Zr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Gf(t);return e?16+qh(e):16;case 5:return 2*t.stringValue.length;case 6:return Jr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((a,l)=>a+qh(l)),0)})(t.arrayValue);case 10:case 11:return(function(i){let a=0;return eo(i.fields,((l,c)=>{a+=l.length+qh(c)})),a})(t.mapValue);default:throw Ie(13486,{value:t})}}function DT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function j0(t){return!!t&&"integerValue"in t}function av(t){return!!t&&"arrayValue"in t}function jT(t){return!!t&&"nullValue"in t}function MT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Gh(t){return!!t&&"mapValue"in t}function _P(t){return(t?.mapValue?.fields||{})[YA]?.stringValue===QA}function eu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return eo(t.mapValue.fields,((n,i)=>e.mapValue.fields[n]=eu(i))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=eu(t.arrayValue.values[n]);return e}return{...t}}function wP(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===xP}class as{constructor(e){this.value=e}static empty(){return new as({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Gh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=eu(n)}setAll(e){let n=un.emptyPath(),i={},a=[];e.forEach(((c,d)=>{if(!n.isImmediateParentOf(d)){const f=this.getFieldsMap(n);this.applyChanges(f,i,a),i={},a=[],n=d.popLast()}c?i[d.lastSegment()]=eu(c):a.push(d.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,i,a)}delete(e){const n=this.field(e.popLast());Gh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return mi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=n.mapValue.fields[e.get(i)];Gh(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,i){eo(n,((a,l)=>e[a]=l));for(const a of i)delete e[a]}clone(){return new as(eu(this.value))}}function XA(t){const e=[];return eo(t.fields,((n,i)=>{const a=new un([n]);if(Gh(i)){const l=XA(i.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)})),new ks(e)}class pn{constructor(e,n,i,a,l,c,d){this.key=e,this.documentType=n,this.version=i,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new pn(e,0,Ve.min(),Ve.min(),Ve.min(),as.empty(),0)}static newFoundDocument(e,n,i,a){return new pn(e,1,n,Ve.min(),i,a,0)}static newNoDocument(e,n){return new pn(e,2,n,Ve.min(),Ve.min(),as.empty(),0)}static newUnknownDocument(e,n){return new pn(e,3,n,Ve.min(),Ve.min(),as.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=as.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=as.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof pn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class gf{constructor(e,n){this.position=e,this.inclusive=n}}function VT(t,e,n){let i=0;for(let a=0;a<t.position.length;a++){const l=e[a],c=t.position[a];if(l.field.isKeyField()?i=Ce.comparator(Ce.fromName(c.referenceValue),n.key):i=ml(c,n.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function OT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!mi(t.position[n],e.position[n]))return!1;return!0}class vu{constructor(e,n="asc"){this.field=e,this.dir=n}}function TP(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class WA{}class zt extends WA{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new SP(e,n,i):n==="array-contains"?new NP(e,i):n==="in"?new CP(e,i):n==="not-in"?new RP(e,i):n==="array-contains-any"?new IP(e,i):new zt(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new AP(e,i):new kP(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ml(n,this.value)):n!==null&&Zr(this.value)===Zr(n)&&this.matchesComparison(ml(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ie(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class js extends WA{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new js(e,n)}matches(e){return JA(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function JA(t){return t.op==="and"}function ZA(t){return EP(t)&&JA(t)}function EP(t){for(const e of t.filters)if(e instanceof js)return!1;return!0}function M0(t){if(t instanceof zt)return t.field.canonicalString()+t.op.toString()+pl(t.value);if(ZA(t))return t.filters.map((e=>M0(e))).join(",");{const e=t.filters.map((n=>M0(n))).join(",");return`${t.op}(${e})`}}function ek(t,e){return t instanceof zt?(function(i,a){return a instanceof zt&&i.op===a.op&&i.field.isEqual(a.field)&&mi(i.value,a.value)})(t,e):t instanceof js?(function(i,a){return a instanceof js&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce(((l,c,d)=>l&&ek(c,a.filters[d])),!0):!1})(t,e):void Ie(19439)}function tk(t){return t instanceof zt?(function(n){return`${n.field.canonicalString()} ${n.op} ${pl(n.value)}`})(t):t instanceof js?(function(n){return n.op.toString()+" {"+n.getFilters().map(tk).join(" ,")+"}"})(t):"Filter"}class SP extends zt{constructor(e,n,i){super(e,n,i),this.key=Ce.fromName(i.referenceValue)}matches(e){const n=Ce.comparator(e.key,this.key);return this.matchesComparison(n)}}class AP extends zt{constructor(e,n){super(e,"in",n),this.keys=nk("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class kP extends zt{constructor(e,n){super(e,"not-in",n),this.keys=nk("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function nk(t,e){return(e.arrayValue?.values||[]).map((n=>Ce.fromName(n.referenceValue)))}class NP extends zt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return av(n)&&yu(n.arrayValue,this.value)}}class CP extends zt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&yu(this.value.arrayValue,n)}}class RP extends zt{constructor(e,n){super(e,"not-in",n)}matches(e){if(yu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!yu(this.value.arrayValue,n)}}class IP extends zt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!av(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>yu(this.value.arrayValue,i)))}}class DP{constructor(e,n=null,i=[],a=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.Te=null}}function PT(t,e=null,n=[],i=[],a=null,l=null,c=null){return new DP(t,e,n,i,a,l,c)}function ov(t){const e=Pe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((i=>M0(i))).join(","),n+="|ob:",n+=e.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),qf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((i=>pl(i))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((i=>pl(i))).join(",")),e.Te=n}return e.Te}function lv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!TP(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!ek(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!OT(t.startAt,e.startAt)&&OT(t.endAt,e.endAt)}function V0(t){return Ce.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class Rl{constructor(e,n=null,i=[],a=[],l=null,c="F",d=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=f,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function jP(t,e,n,i,a,l,c,d){return new Rl(t,e,n,i,a,l,c,d)}function cv(t){return new Rl(t)}function LT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function MP(t){return Ce.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function sk(t){return t.collectionGroup!==null}function tu(t){const e=Pe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Kt(un.comparator);return c.filters.forEach((f=>{f.getFlattenedFilters().forEach((g=>{g.isInequality()&&(d=d.add(g.field))}))})),d})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new vu(l,i))})),n.has(un.keyField().canonicalString())||e.Ie.push(new vu(un.keyField(),i))}return e.Ie}function li(t){const e=Pe(t);return e.Ee||(e.Ee=VP(e,tu(t))),e.Ee}function VP(t,e){if(t.limitType==="F")return PT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new vu(a.field,l)}));const n=t.endAt?new gf(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new gf(t.startAt.position,t.startAt.inclusive):null;return PT(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function O0(t,e){const n=t.filters.concat([e]);return new Rl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function OP(t,e){const n=t.explicitOrderBy.concat([e]);return new Rl(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function yf(t,e,n){return new Rl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function $f(t,e){return lv(li(t),li(e))&&t.limitType===e.limitType}function ik(t){return`${ov(li(t))}|lt:${t.limitType}`}function Wo(t){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((a=>tk(a))).join(", ")}]`),qf(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((a=>pl(a))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((a=>pl(a))).join(",")),`Target(${i})`})(li(t))}; limitType=${t.limitType})`}function Kf(t,e){return e.isFoundDocument()&&(function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Ce.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(t,e)&&(function(i,a){for(const l of tu(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(i,a){return!(i.startAt&&!(function(c,d,f){const g=VT(c,d,f);return c.inclusive?g<=0:g<0})(i.startAt,tu(i),a)||i.endAt&&!(function(c,d,f){const g=VT(c,d,f);return c.inclusive?g>=0:g>0})(i.endAt,tu(i),a))})(t,e)}function PP(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function rk(t){return(e,n)=>{let i=!1;for(const a of tu(t)){const l=LP(a,e,n);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function LP(t,e,n){const i=t.field.isKeyField()?Ce.comparator(e.key,n.key):(function(l,c,d){const f=c.data.field(l),g=d.data.field(l);return f!==null&&g!==null?ml(f,g):Ie(42886)})(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Ie(19790,{direction:t.dir})}}class to{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[n]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){eo(this.inner,((n,i)=>{for(const[a,l]of i)e(a,l)}))}isEmpty(){return FA(this.inner)}size(){return this.innerSize}}const UP=new bt(Ce.comparator);function Xi(){return UP}const ak=new bt(Ce.comparator);function Gc(...t){let e=ak;for(const n of t)e=e.insert(n.key,n);return e}function ok(t){let e=ak;return t.forEach(((n,i)=>e=e.insert(n,i.overlayedDocument))),e}function Ua(){return nu()}function lk(){return nu()}function nu(){return new to((t=>t.toString()),((t,e)=>t.isEqual(e)))}const zP=new bt(Ce.comparator),BP=new Kt(Ce.comparator);function Ye(...t){let e=BP;for(const n of t)e=e.add(n);return e}const FP=new Kt(Ke);function HP(){return FP}function uv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ff(e)?"-0":e}}function ck(t){return{integerValue:""+t}}function qP(t,e){return mP(e)?ck(e):uv(t,e)}class Yf{constructor(){this._=void 0}}function GP(t,e,n){return t instanceof bu?(function(a,l){const c={fields:{[GA]:{stringValue:qA},[KA]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&rv(l)&&(l=Gf(l)),l&&(c.fields[$A]=l),{mapValue:c}})(n,e):t instanceof xu?dk(t,e):t instanceof _u?hk(t,e):(function(a,l){const c=uk(a,l),d=UT(c)+UT(a.Ae);return j0(c)&&j0(a.Ae)?ck(d):uv(a.serializer,d)})(t,e)}function $P(t,e,n){return t instanceof xu?dk(t,e):t instanceof _u?hk(t,e):n}function uk(t,e){return t instanceof vf?(function(i){return j0(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(e)?e:{integerValue:0}:null}class bu extends Yf{}class xu extends Yf{constructor(e){super(),this.elements=e}}function dk(t,e){const n=fk(e);for(const i of t.elements)n.some((a=>mi(a,i)))||n.push(i);return{arrayValue:{values:n}}}class _u extends Yf{constructor(e){super(),this.elements=e}}function hk(t,e){let n=fk(e);for(const i of t.elements)n=n.filter((a=>!mi(a,i)));return{arrayValue:{values:n}}}class vf extends Yf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function UT(t){return Nt(t.integerValue||t.doubleValue)}function fk(t){return av(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class KP{constructor(e,n){this.field=e,this.transform=n}}function YP(t,e){return t.field.isEqual(e.field)&&(function(i,a){return i instanceof xu&&a instanceof xu||i instanceof _u&&a instanceof _u?fl(i.elements,a.elements,mi):i instanceof vf&&a instanceof vf?mi(i.Ae,a.Ae):i instanceof bu&&a instanceof bu})(t.transform,e.transform)}class QP{constructor(e,n){this.version=e,this.transformResults=n}}class ci{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ci}static exists(e){return new ci(void 0,e)}static updateTime(e){return new ci(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $h(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Qf{}function mk(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new gk(t.key,ci.none()):new Mu(t.key,t.data,ci.none());{const n=t.data,i=as.empty();let a=new Kt(un.comparator);for(let l of e.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?i.delete(l):i.set(l,c),a=a.add(l)}return new no(t.key,i,new ks(a.toArray()),ci.none())}}function XP(t,e,n){t instanceof Mu?(function(a,l,c){const d=a.value.clone(),f=BT(a.fieldTransforms,l,c.transformResults);d.setAll(f),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(t,e,n):t instanceof no?(function(a,l,c){if(!$h(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=BT(a.fieldTransforms,l,c.transformResults),f=l.data;f.setAll(pk(a)),f.setAll(d),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(t,e,n):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function su(t,e,n,i){return t instanceof Mu?(function(l,c,d,f){if(!$h(l.precondition,c))return d;const g=l.value.clone(),v=FT(l.fieldTransforms,f,c);return g.setAll(v),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(t,e,n,i):t instanceof no?(function(l,c,d,f){if(!$h(l.precondition,c))return d;const g=FT(l.fieldTransforms,f,c),v=c.data;return v.setAll(pk(l)),v.setAll(g),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((b=>b.field)))})(t,e,n,i):(function(l,c,d){return $h(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(t,e,n)}function WP(t,e){let n=null;for(const i of t.fieldTransforms){const a=e.data.field(i.field),l=uk(i.transform,a||null);l!=null&&(n===null&&(n=as.empty()),n.set(i.field,l))}return n||null}function zT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&fl(i,a,((l,c)=>YP(l,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Mu extends Qf{constructor(e,n,i,a=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class no extends Qf{constructor(e,n,i,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function pk(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}})),e}function BT(t,e,n){const i=new Map;tt(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let a=0;a<n.length;a++){const l=t[a],c=l.transform,d=e.data.field(l.field);i.set(l.field,$P(c,d,n[a]))}return i}function FT(t,e,n){const i=new Map;for(const a of t){const l=a.transform,c=n.data.field(a.field);i.set(a.field,GP(l,c,e))}return i}class gk extends Qf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class JP extends Qf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class ZP{constructor(e,n,i,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&XP(l,e,i[a])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=su(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=su(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=lk();return this.mutations.forEach((a=>{const l=e.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=n.has(a.key)?null:d;const f=mk(c,d);f!==null&&i.set(a.key,f),c.isValidDocument()||c.convertToNoDocument(Ve.min())})),i}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ye())}isEqual(e){return this.batchId===e.batchId&&fl(this.mutations,e.mutations,((n,i)=>zT(n,i)))&&fl(this.baseMutations,e.baseMutations,((n,i)=>zT(n,i)))}}class dv{constructor(e,n,i,a){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=a}static from(e,n,i){tt(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let a=(function(){return zP})();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,i[c].version);return new dv(e,n,i,a)}}class eL{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class tL{constructor(e,n){this.count=e,this.unchangedNames=n}}var Lt,Xe;function nL(t){switch(t){case oe.OK:return Ie(64938);case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0;default:return Ie(15467,{code:t})}}function yk(t){if(t===void 0)return Qi("GRPC error has no .code"),oe.UNKNOWN;switch(t){case Lt.OK:return oe.OK;case Lt.CANCELLED:return oe.CANCELLED;case Lt.UNKNOWN:return oe.UNKNOWN;case Lt.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case Lt.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case Lt.INTERNAL:return oe.INTERNAL;case Lt.UNAVAILABLE:return oe.UNAVAILABLE;case Lt.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case Lt.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case Lt.NOT_FOUND:return oe.NOT_FOUND;case Lt.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case Lt.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case Lt.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case Lt.ABORTED:return oe.ABORTED;case Lt.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case Lt.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case Lt.DATA_LOSS:return oe.DATA_LOSS;default:return Ie(39323,{code:t})}}(Xe=Lt||(Lt={}))[Xe.OK=0]="OK",Xe[Xe.CANCELLED=1]="CANCELLED",Xe[Xe.UNKNOWN=2]="UNKNOWN",Xe[Xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xe[Xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xe[Xe.NOT_FOUND=5]="NOT_FOUND",Xe[Xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xe[Xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xe[Xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xe[Xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xe[Xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xe[Xe.ABORTED=10]="ABORTED",Xe[Xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xe[Xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xe[Xe.INTERNAL=13]="INTERNAL",Xe[Xe.UNAVAILABLE=14]="UNAVAILABLE",Xe[Xe.DATA_LOSS=15]="DATA_LOSS";function sL(){return new TextEncoder}const iL=new qr([4294967295,4294967295],0);function HT(t){const e=sL().encode(t),n=new IA;return n.update(e),new Uint8Array(n.digest())}function qT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new qr([n,i],0),new qr([a,l],0)]}class hv{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new $c(`Invalid padding: ${n}`);if(i<0)throw new $c(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new $c(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new $c(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=qr.fromNumber(this.ge)}ye(e,n,i){let a=e.add(n.multiply(qr.fromNumber(i)));return a.compare(iL)===1&&(a=new qr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=HT(e),[i,a]=qT(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,a,l);if(!this.we(c))return!1}return!0}static create(e,n,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new hv(l,a,n);return i.forEach((d=>c.insert(d))),c}insert(e){if(this.ge===0)return;const n=HT(e),[i,a]=qT(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,a,l);this.be(c)}}be(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class $c extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Xf{constructor(e,n,i,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const a=new Map;return a.set(e,Vu.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Xf(Ve.min(),a,new bt(Ke),Xi(),Ye())}}class Vu{constructor(e,n,i,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Vu(i,n,Ye(),Ye(),Ye())}}class Kh{constructor(e,n,i,a){this.Se=e,this.removedTargetIds=n,this.key=i,this.De=a}}class vk{constructor(e,n){this.targetId=e,this.Ce=n}}class bk{constructor(e,n,i=dn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=a}}class GT{constructor(){this.ve=0,this.Fe=$T(),this.Me=dn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ye(),n=Ye(),i=Ye();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:i=i.add(a);break;default:Ie(38017,{changeType:l})}})),new Vu(this.Me,this.xe,e,n,i)}Ke(){this.Oe=!1,this.Fe=$T()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,tt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class rL{constructor(e){this.Ge=e,this.ze=new Map,this.je=Xi(),this.He=Th(),this.Je=Th(),this.Ze=new bt(Ke)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.We(),i.Ne||i.Ke(),i.Le(e.resumeToken);break;case 2:i.We(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.Qe(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:Ie(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((i,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,i=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(V0(l))if(i===0){const c=new Ce(l.path);this.et(n,c,pn.newNoDocument(c,Ve.min()))}else tt(i===1,20013,{expectedCount:i});else{const c=this._t(n);if(c!==i){const d=this.ut(e),f=d?this.ct(d,e,c):1;if(f!==0){this.it(n);const g=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=n;let c,d;try{c=Jr(i).toUint8Array()}catch(f){if(f instanceof HA)return Qa("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new hv(c,a,l)}catch(f){return Qa(f instanceof $c?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.ge===0?null:d}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let a=0;return i.forEach((l=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,c)=>{const d=this.ot(c);if(d){if(l.current&&V0(d.target)){const f=new Ce(d.target.path);this.It(f).has(c)||this.Et(c,f)||this.et(c,f,pn.newNoDocument(f,e))}l.Be&&(n.set(c,l.ke()),l.Ke())}}));let i=Ye();this.Je.forEach(((l,c)=>{let d=!0;c.forEachWhile((f=>{const g=this.ot(f);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(i=i.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const a=new Xf(e,n,this.Ze,this.je,i);return this.je=Xi(),this.He=Th(),this.Je=Th(),this.Ze=new bt(Ke),a}Ye(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,i),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.qe(n,1):a.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new GT,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Kt(Ke),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Kt(Ke),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ve("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new GT),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Th(){return new bt(Ce.comparator)}function $T(){return new bt(Ce.comparator)}const aL={asc:"ASCENDING",desc:"DESCENDING"},oL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},lL={and:"AND",or:"OR"};class cL{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function P0(t,e){return t.useProto3Json||qf(e)?e:{value:e}}function bf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function xk(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function uL(t,e){return bf(t,e.toTimestamp())}function ui(t){return tt(!!t,49232),Ve.fromTimestamp((function(n){const i=Wr(n);return new mt(i.seconds,i.nanos)})(t))}function fv(t,e){return L0(t,e).canonicalString()}function L0(t,e){const n=(function(a){return new ut(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function _k(t){const e=ut.fromString(t);return tt(Ak(e),10190,{key:e.toString()}),e}function U0(t,e){return fv(t.databaseId,e.path)}function Ug(t,e){const n=_k(e);if(n.get(1)!==t.databaseId.projectId)throw new ye(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ye(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ce(Tk(n))}function wk(t,e){return fv(t.databaseId,e)}function dL(t){const e=_k(t);return e.length===4?ut.emptyPath():Tk(e)}function z0(t){return new ut(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Tk(t){return tt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function KT(t,e,n){return{name:U0(t,e),fields:n.value.mapValue.fields}}function hL(t,e){let n;if("targetChange"in e){e.targetChange;const i=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ie(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(g,v){return g.useProto3Json?(tt(v===void 0||typeof v=="string",58123),dn.fromBase64String(v||"")):(tt(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),dn.fromUint8Array(v||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(g){const v=g.code===void 0?oe.UNKNOWN:yk(g.code);return new ye(v,g.message||"")})(c);n=new bk(i,a,l,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=Ug(t,i.document.name),l=ui(i.document.updateTime),c=i.document.createTime?ui(i.document.createTime):Ve.min(),d=new as({mapValue:{fields:i.document.fields}}),f=pn.newFoundDocument(a,l,c,d),g=i.targetIds||[],v=i.removedTargetIds||[];n=new Kh(g,v,f.key,f)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=Ug(t,i.document),l=i.readTime?ui(i.readTime):Ve.min(),c=pn.newNoDocument(a,l),d=i.removedTargetIds||[];n=new Kh([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=Ug(t,i.document),l=i.removedTargetIds||[];n=new Kh([],l,a,null)}else{if(!("filter"in e))return Ie(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,c=new tL(a,l),d=i.targetId;n=new vk(d,c)}}return n}function fL(t,e){let n;if(e instanceof Mu)n={update:KT(t,e.key,e.value)};else if(e instanceof gk)n={delete:U0(t,e.key)};else if(e instanceof no)n={update:KT(t,e.key,e.data),updateMask:wL(e.fieldMask)};else{if(!(e instanceof JP))return Ie(16599,{dt:e.type});n={verify:U0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((i=>(function(l,c){const d=c.transform;if(d instanceof bu)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof xu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof _u)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof vf)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw Ie(20930,{transform:c.transform})})(0,i)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:uL(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ie(27497)})(t,e.precondition)),n}function mL(t,e){return t&&t.length>0?(tt(e!==void 0,14353),t.map((n=>(function(a,l){let c=a.updateTime?ui(a.updateTime):ui(l);return c.isEqual(Ve.min())&&(c=ui(l)),new QP(c,a.transformResults||[])})(n,e)))):[]}function pL(t,e){return{documents:[wk(t,e.path)]}}function gL(t,e){const n={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=wk(t,a);const l=(function(g){if(g.length!==0)return Sk(js.create(g,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const c=(function(g){if(g.length!==0)return g.map((v=>(function(_){return{field:Jo(_.field),direction:bL(_.dir)}})(v)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const d=P0(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:a}}function yL(t){let e=dL(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let a=null;if(i>0){tt(i===1,65062);const v=n.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let l=[];n.where&&(l=(function(b){const _=Ek(b);return _ instanceof js&&ZA(_)?_.getFilters():[_]})(n.where));let c=[];n.orderBy&&(c=(function(b){return b.map((_=>(function(I){return new vu(Zo(I.field),(function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(I.direction))})(_)))})(n.orderBy));let d=null;n.limit&&(d=(function(b){let _;return _=typeof b=="object"?b.value:b,qf(_)?null:_})(n.limit));let f=null;n.startAt&&(f=(function(b){const _=!!b.before,S=b.values||[];return new gf(S,_)})(n.startAt));let g=null;return n.endAt&&(g=(function(b){const _=!b.before,S=b.values||[];return new gf(S,_)})(n.endAt)),jP(e,a,c,l,d,"F",f,g)}function vL(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ie(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Ek(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Zo(n.unaryFilter.field);return zt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=Zo(n.unaryFilter.field);return zt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Zo(n.unaryFilter.field);return zt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Zo(n.unaryFilter.field);return zt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ie(61313);default:return Ie(60726)}})(t):t.fieldFilter!==void 0?(function(n){return zt.create(Zo(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ie(58110);default:return Ie(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return js.create(n.compositeFilter.filters.map((i=>Ek(i))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ie(1026)}})(n.compositeFilter.op))})(t):Ie(30097,{filter:t})}function bL(t){return aL[t]}function xL(t){return oL[t]}function _L(t){return lL[t]}function Jo(t){return{fieldPath:t.canonicalString()}}function Zo(t){return un.fromServerFormat(t.fieldPath)}function Sk(t){return t instanceof zt?(function(n){if(n.op==="=="){if(MT(n.value))return{unaryFilter:{field:Jo(n.field),op:"IS_NAN"}};if(jT(n.value))return{unaryFilter:{field:Jo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(MT(n.value))return{unaryFilter:{field:Jo(n.field),op:"IS_NOT_NAN"}};if(jT(n.value))return{unaryFilter:{field:Jo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Jo(n.field),op:xL(n.op),value:n.value}}})(t):t instanceof js?(function(n){const i=n.getFilters().map((a=>Sk(a)));return i.length===1?i[0]:{compositeFilter:{op:_L(n.op),filters:i}}})(t):Ie(54877,{filter:t})}function wL(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Ak(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function kk(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}class Br{constructor(e,n,i,a,l=Ve.min(),c=Ve.min(),d=dn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new Br(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class TL{constructor(e){this.yt=e}}function EL(t){const e=yL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?yf(e,e.limit,"L"):e}class SL{constructor(){this.Sn=new AL}addToCollectionParentIndex(e,n){return this.Sn.add(n),le.resolve()}getCollectionParents(e,n){return le.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return le.resolve()}deleteFieldIndex(e,n){return le.resolve()}deleteAllFieldIndexes(e){return le.resolve()}createTargetIndexes(e,n){return le.resolve()}getDocumentsMatchingTarget(e,n){return le.resolve(null)}getIndexType(e,n){return le.resolve(0)}getFieldIndexes(e,n){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,n){return le.resolve(Xr.min())}getMinOffsetFromCollectionGroup(e,n){return le.resolve(Xr.min())}updateCollectionGroup(e,n,i){return le.resolve()}updateIndexEntries(e,n){return le.resolve()}}class AL{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n]||new Kt(ut.comparator),l=!a.has(i);return this.index[n]=a.add(i),l}has(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n];return a&&a.has(i)}getEntries(e){return(this.index[e]||new Kt(ut.comparator)).toArray()}}const YT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Nk=41943040;class In{static withCacheSize(e){return new In(e,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}In.DEFAULT_COLLECTION_PERCENTILE=10,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,In.DEFAULT=new In(Nk,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),In.DISABLED=new In(-1,0,0);class gl{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new gl(0)}static ar(){return new gl(-1)}}const QT="LruGarbageCollector",kL=1048576;function XT([t,e],[n,i]){const a=Ke(t,n);return a===0?Ke(e,i):a}class NL{constructor(e){this.Pr=e,this.buffer=new Kt(XT),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();XT(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class CL{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ve(QT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Cl(n)?ve(QT,"Ignoring IndexedDB error during garbage collection: ",n):await Nl(n)}await this.Ar(3e5)}))}}class RL{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(e,n){if(n===0)return le.resolve(Hf.ce);const i=new NL(n);return this.Vr.forEachTarget(e,(a=>i.Er(a.sequenceNumber))).next((()=>this.Vr.mr(e,(a=>i.Er(a))))).next((()=>i.maxValue))}removeTargets(e,n,i){return this.Vr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ve("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(YT)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),YT):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let i,a,l,c,d,f,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),a=this.params.maximumSequenceNumbersToCollect):a=b,c=Date.now(),this.nthSequenceNumber(e,a)))).next((b=>(i=b,d=Date.now(),this.removeTargets(e,i,n)))).next((b=>(l=b,f=Date.now(),this.removeOrphanedDocuments(e,i)))).next((b=>(g=Date.now(),Xo()<=$e.DEBUG&&ve("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(f-d)+`ms
	Removed ${b} documents in `+(g-f)+`ms
Total Duration: ${g-v}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:b}))))}}function IL(t,e){return new RL(t,e)}class DL{constructor(){this.changes=new to((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,pn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?le.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class jL{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class ML{constructor(e,n,i,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(i=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(i!==null&&su(i.mutation,a,ks.empty(),mt.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.getLocalViewOfDocuments(e,i,Ye()).next((()=>i))))}getLocalViewOfDocuments(e,n,i=Ye()){const a=Ua();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,i).next((l=>{let c=Gc();return l.forEach(((d,f)=>{c=c.insert(d,f.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const i=Ua();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,Ye())))}populateOverlays(e,n,i){const a=[];return i.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((c,d)=>{n.set(c,d)}))}))}computeViews(e,n,i,a){let l=Xi();const c=nu(),d=(function(){return nu()})();return n.forEach(((f,g)=>{const v=i.get(g.key);a.has(g.key)&&(v===void 0||v.mutation instanceof no)?l=l.insert(g.key,g):v!==void 0?(c.set(g.key,v.mutation.getFieldMask()),su(v.mutation,g,v.mutation.getFieldMask(),mt.now())):c.set(g.key,ks.empty())})),this.recalculateAndSaveOverlays(e,l).next((f=>(f.forEach(((g,v)=>c.set(g,v))),n.forEach(((g,v)=>d.set(g,new jL(v,c.get(g)??null)))),d)))}recalculateAndSaveOverlays(e,n){const i=nu();let a=new bt(((c,d)=>c-d)),l=Ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const d of c)d.keys().forEach((f=>{const g=n.get(f);if(g===null)return;let v=i.get(f)||ks.empty();v=d.applyToLocalView(g,v),i.set(f,v);const b=(a.get(d.batchId)||Ye()).add(f);a=a.insert(d.batchId,b)}))})).next((()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),g=f.key,v=f.value,b=lk();v.forEach((_=>{if(!l.has(_)){const S=mk(n.get(_),i.get(_));S!==null&&b.set(_,S),l=l.add(_)}})),c.push(this.documentOverlayCache.saveOverlays(e,g,b))}return le.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,n,i,a){return MP(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):sk(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,a):this.getDocumentsMatchingCollectionQuery(e,n,i,a)}getNextDocuments(e,n,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,a-l.size):le.resolve(Ua());let d=mu,f=l;return c.next((g=>le.forEach(g,((v,b)=>(d<b.largestBatchId&&(d=b.largestBatchId),l.get(v)?le.resolve():this.remoteDocumentCache.getEntry(e,v).next((_=>{f=f.insert(v,_)}))))).next((()=>this.populateOverlays(e,g,l))).next((()=>this.computeViews(e,f,g,Ye()))).next((v=>({batchId:d,changes:ok(v)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ce(n)).next((i=>{let a=Gc();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,i,a){const l=n.collectionGroup;let c=Gc();return this.indexManager.getCollectionParents(e,l).next((d=>le.forEach(d,(f=>{const g=(function(b,_){return new Rl(_,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,f.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,i,a).next((v=>{v.forEach(((b,_)=>{c=c.insert(b,_)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,l,a)))).next((c=>{l.forEach(((f,g)=>{const v=g.getKey();c.get(v)===null&&(c=c.insert(v,pn.newInvalidDocument(v)))}));let d=Gc();return c.forEach(((f,g)=>{const v=l.get(f);v!==void 0&&su(v.mutation,g,ks.empty(),mt.now()),Kf(n,g)&&(d=d.insert(f,g))})),d}))}}class VL{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return le.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:ui(a.createTime)}})(n)),le.resolve()}getNamedQuery(e,n){return le.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(a){return{name:a.name,query:EL(a.bundledQuery),readTime:ui(a.readTime)}})(n)),le.resolve()}}class OL{constructor(){this.overlays=new bt(Ce.comparator),this.Lr=new Map}getOverlay(e,n){return le.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Ua();return le.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&i.set(a,l)})))).next((()=>i))}saveOverlays(e,n,i){return i.forEach(((a,l)=>{this.bt(e,n,l)})),le.resolve()}removeOverlaysForBatchId(e,n,i){const a=this.Lr.get(i);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(i)),le.resolve()}getOverlaysForCollection(e,n,i){const a=Ua(),l=n.length+1,c=new Ce(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const f=d.getNext().value,g=f.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===l&&f.largestBatchId>i&&a.set(f.getKey(),f)}return le.resolve(a)}getOverlaysForCollectionGroup(e,n,i,a){let l=new bt(((g,v)=>g-v));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>i){let v=l.get(g.largestBatchId);v===null&&(v=Ua(),l=l.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const d=Ua(),f=l.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((g,v)=>d.set(g,v))),!(d.size()>=a)););return le.resolve(d)}bt(e,n,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.Lr.get(a.largestBatchId).delete(i.key);this.Lr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new eL(n,i));let l=this.Lr.get(n);l===void 0&&(l=Ye(),this.Lr.set(n,l)),this.Lr.set(n,l.add(i.key))}}class PL{constructor(){this.sessionToken=dn.EMPTY_BYTE_STRING}getSessionToken(e){return le.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,le.resolve()}}class mv{constructor(){this.kr=new Kt(Zt.Kr),this.qr=new Kt(Zt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const i=new Zt(e,n);this.kr=this.kr.add(i),this.qr=this.qr.add(i)}$r(e,n){e.forEach((i=>this.addReference(i,n)))}removeReference(e,n){this.Wr(new Zt(e,n))}Qr(e,n){e.forEach((i=>this.removeReference(i,n)))}Gr(e){const n=new Ce(new ut([])),i=new Zt(n,e),a=new Zt(n,e+1),l=[];return this.qr.forEachInRange([i,a],(c=>{this.Wr(c),l.push(c.key)})),l}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new Ce(new ut([])),i=new Zt(n,e),a=new Zt(n,e+1);let l=Ye();return this.qr.forEachInRange([i,a],(c=>{l=l.add(c.key)})),l}containsKey(e){const n=new Zt(e,0),i=this.kr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class Zt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return Ce.comparator(e.key,n.key)||Ke(e.Hr,n.Hr)}static Ur(e,n){return Ke(e.Hr,n.Hr)||Ce.comparator(e.key,n.key)}}class LL{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Kt(Zt.Kr)}checkEmpty(e){return le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,a){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new ZP(l,n,i,a);this.mutationQueue.push(c);for(const d of a)this.Jr=this.Jr.add(new Zt(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return le.resolve(c)}lookupMutationBatch(e,n){return le.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,a=this.Xr(i),l=a<0?0:a;return le.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(this.mutationQueue.length===0?iv:this.Yn-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new Zt(n,0),a=new Zt(n,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([i,a],(c=>{const d=this.Zr(c.Hr);l.push(d)})),le.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Kt(Ke);return n.forEach((a=>{const l=new Zt(a,0),c=new Zt(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,c],(d=>{i=i.add(d.Hr)}))})),le.resolve(this.Yr(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,a=i.length+1;let l=i;Ce.isDocumentKey(l)||(l=l.child(""));const c=new Zt(new Ce(l),0);let d=new Kt(Ke);return this.Jr.forEachWhile((f=>{const g=f.key.path;return!!i.isPrefixOf(g)&&(g.length===a&&(d=d.add(f.Hr)),!0)}),c),le.resolve(this.Yr(d))}Yr(e){const n=[];return e.forEach((i=>{const a=this.Zr(i);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){tt(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Jr;return le.forEach(n.mutations,(a=>{const l=new Zt(a.key,n.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Jr=i}))}nr(e){}containsKey(e,n){const i=new Zt(n,0),a=this.Jr.firstAfterOrEqual(i);return le.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,le.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class UL{constructor(e){this.ti=e,this.docs=(function(){return new bt(Ce.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,a=this.docs.get(i),l=a?a.size:0,c=this.ti(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return le.resolve(i?i.document.mutableCopy():pn.newInvalidDocument(n))}getEntries(e,n){let i=Xi();return n.forEach((a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():pn.newInvalidDocument(a))})),le.resolve(i)}getDocumentsMatchingQuery(e,n,i,a){let l=Xi();const c=n.path,d=new Ce(c.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:g,value:{document:v}}=f.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||uP(cP(v),i)<=0||(a.has(v.key)||Kf(n,v))&&(l=l.insert(v.key,v.mutableCopy()))}return le.resolve(l)}getAllFromCollectionGroup(e,n,i,a){Ie(9500)}ni(e,n){return le.forEach(this.docs,(i=>n(i)))}newChangeBuffer(e){return new zL(this)}getSize(e){return le.resolve(this.size)}}class zL extends DL{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((i,a)=>{a.isValidDocument()?n.push(this.Mr.addEntry(e,a)):this.Mr.removeEntry(i)})),le.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class BL{constructor(e){this.persistence=e,this.ri=new to((n=>ov(n)),lv),this.lastRemoteSnapshotVersion=Ve.min(),this.highestTargetId=0,this.ii=0,this.si=new mv,this.targetCount=0,this.oi=gl._r()}forEachTarget(e,n){return this.ri.forEach(((i,a)=>n(a))),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.ii&&(this.ii=n),le.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new gl(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,le.resolve()}updateTargetData(e,n){return this.lr(n),le.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,n,i){let a=0;const l=[];return this.ri.forEach(((c,d)=>{d.sequenceNumber<=n&&i.get(d.targetId)===null&&(this.ri.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)})),le.waitFor(l).next((()=>a))}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,n){const i=this.ri.get(n)||null;return le.resolve(i)}addMatchingKeys(e,n,i){return this.si.$r(n,i),le.resolve()}removeMatchingKeys(e,n,i){this.si.Qr(n,i);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((c=>{l.push(a.markPotentiallyOrphaned(e,c))})),le.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),le.resolve()}getMatchingKeysForTargetId(e,n){const i=this.si.jr(n);return le.resolve(i)}containsKey(e,n){return le.resolve(this.si.containsKey(n))}}class Ck{constructor(e,n){this._i={},this.overlays={},this.ai=new Hf(0),this.ui=!1,this.ui=!0,this.ci=new PL,this.referenceDelegate=e(this),this.li=new BL(this),this.indexManager=new SL,this.remoteDocumentCache=(function(a){return new UL(a)})((i=>this.referenceDelegate.hi(i))),this.serializer=new TL(n),this.Pi=new VL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new OL,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this._i[e.toKey()];return i||(i=new LL(n,this.referenceDelegate),this._i[e.toKey()]=i),i}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,i){ve("MemoryPersistence","Starting transaction:",e);const a=new FL(this.ai.next());return this.referenceDelegate.Ti(),i(a).next((l=>this.referenceDelegate.Ii(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ei(e,n){return le.or(Object.values(this._i).map((i=>()=>i.containsKey(e,n))))}}class FL extends hP{constructor(e){super(),this.currentSequenceNumber=e}}class pv{constructor(e){this.persistence=e,this.Ri=new mv,this.Ai=null}static Vi(e){return new pv(e)}get di(){if(this.Ai)return this.Ai;throw Ie(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.di.delete(i.toString()),le.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.di.add(i.toString()),le.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),le.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((a=>this.di.add(a.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.di.add(l.toString())))})).next((()=>i.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.di,(i=>{const a=Ce.fromPath(i);return this.mi(e,a).next((l=>{l||n.removeEntry(a,Ve.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((i=>{i?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return le.or([()=>le.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class xf{constructor(e,n){this.persistence=e,this.fi=new to((i=>pP(i.path)),((i,a)=>i.isEqual(a))),this.garbageCollector=IL(this,n)}static Vi(e,n){return new xf(e,n)}Ti(){}Ii(e){return le.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>n.next((a=>i+a))))}pr(e){let n=0;return this.mr(e,(i=>{n++})).next((()=>n))}mr(e,n){return le.forEach(this.fi,((i,a)=>this.wr(e,i,a).next((l=>l?le.resolve():n(a)))))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ni(e,(c=>this.wr(e,c,n).next((d=>{d||(i++,l.removeEntry(c,Ve.min()))})))).next((()=>l.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),le.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.fi.set(i,e.currentSequenceNumber),le.resolve()}removeReference(e,n,i){return this.fi.set(i,e.currentSequenceNumber),le.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),le.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=qh(e.data.value)),n}wr(e,n,i){return le.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.fi.get(n);return le.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class gv{constructor(e,n,i,a){this.targetId=e,this.fromCache=n,this.Ts=i,this.Is=a}static Es(e,n){let i=Ye(),a=Ye();for(const l of n.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new gv(e,n.fromCache,i,a)}}class HL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class qL{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return N3()?8:fP(yn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,a){const l={result:null};return this.gs(e,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ps(e,n,a,i).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new HL;return this.ys(e,n,c).next((d=>{if(l.result=d,this.As)return this.ws(e,n,c,d.size)}))})).next((()=>l.result))}ws(e,n,i,a){return i.documentReadCount<this.Vs?(Xo()<=$e.DEBUG&&ve("QueryEngine","SDK will not create cache indexes for query:",Wo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),le.resolve()):(Xo()<=$e.DEBUG&&ve("QueryEngine","Query:",Wo(n),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.ds*a?(Xo()<=$e.DEBUG&&ve("QueryEngine","The SDK decides to create cache indexes for query:",Wo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,li(n))):le.resolve())}gs(e,n){if(LT(n))return le.resolve(null);let i=li(n);return this.indexManager.getIndexType(e,i).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=yf(n,null,"F"),i=li(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next((l=>{const c=Ye(...l);return this.fs.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,i).next((f=>{const g=this.bs(n,d);return this.Ss(n,g,c,f.readTime)?this.gs(e,yf(n,null,"F")):this.Ds(e,g,n,f)}))))})))))}ps(e,n,i,a){return LT(n)||a.isEqual(Ve.min())?le.resolve(null):this.fs.getDocuments(e,i).next((l=>{const c=this.bs(n,l);return this.Ss(n,c,i,a)?le.resolve(null):(Xo()<=$e.DEBUG&&ve("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Wo(n)),this.Ds(e,c,n,lP(a,mu)).next((d=>d)))}))}bs(e,n){let i=new Kt(rk(e));return n.forEach(((a,l)=>{Kf(e,l)&&(i=i.add(l))})),i}Ss(e,n,i,a){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}ys(e,n,i){return Xo()<=$e.DEBUG&&ve("QueryEngine","Using full collection scan to execute query:",Wo(n)),this.fs.getDocumentsMatchingQuery(e,n,Xr.min(),i)}Ds(e,n,i,a){return this.fs.getDocumentsMatchingQuery(e,i,a).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}const yv="LocalStore",GL=3e8;class $L{constructor(e,n,i,a){this.persistence=e,this.Cs=n,this.serializer=a,this.vs=new bt(Ke),this.Fs=new to((l=>ov(l)),lv),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(i)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ML(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function KL(t,e,n,i){return new $L(t,e,n,i)}async function Rk(t,e){const n=Pe(t);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let a;return n.mutationQueue.getAllMutationBatches(i).next((l=>(a=l,n.Os(e),n.mutationQueue.getAllMutationBatches(i)))).next((l=>{const c=[],d=[];let f=Ye();for(const g of a){c.push(g.batchId);for(const v of g.mutations)f=f.add(v.key)}for(const g of l){d.push(g.batchId);for(const v of g.mutations)f=f.add(v.key)}return n.localDocuments.getDocuments(i,f).next((g=>({Ns:g,removedBatchIds:c,addedBatchIds:d})))}))}))}function YL(t,e){const n=Pe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const a=e.batch.keys(),l=n.xs.newChangeBuffer({trackRemovals:!0});return(function(d,f,g,v){const b=g.batch,_=b.keys();let S=le.resolve();return _.forEach((I=>{S=S.next((()=>v.getEntry(f,I))).next((M=>{const D=g.docVersions.get(I);tt(D!==null,48541),M.version.compareTo(D)<0&&(b.applyToRemoteDocument(M,g),M.isValidDocument()&&(M.setReadTime(g.commitVersion),v.addEntry(M)))}))})),S.next((()=>d.mutationQueue.removeMutationBatch(f,b)))})(n,i,e,l).next((()=>l.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(d){let f=Ye();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(f=f.add(d.batch.mutations[g].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(i,a)))}))}function Ik(t){const e=Pe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function QL(t,e){const n=Pe(t),i=e.snapshotVersion;let a=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.xs.newChangeBuffer({trackRemovals:!0});a=n.vs;const d=[];e.targetChanges.forEach(((v,b)=>{const _=a.get(b);if(!_)return;d.push(n.li.removeMatchingKeys(l,v.removedDocuments,b).next((()=>n.li.addMatchingKeys(l,v.addedDocuments,b))));let S=_.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(b)!==null?S=S.withResumeToken(dn.EMPTY_BYTE_STRING,Ve.min()).withLastLimboFreeSnapshotVersion(Ve.min()):v.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(v.resumeToken,i)),a=a.insert(b,S),(function(M,D,L){return M.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=GL?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0})(_,S,v)&&d.push(n.li.updateTargetData(l,S))}));let f=Xi(),g=Ye();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(l,v))})),d.push(XL(l,c,e.documentUpdates).next((v=>{f=v.Bs,g=v.Ls}))),!i.isEqual(Ve.min())){const v=n.li.getLastRemoteSnapshotVersion(l).next((b=>n.li.setTargetsMetadata(l,l.currentSequenceNumber,i)));d.push(v)}return le.waitFor(d).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,f,g))).next((()=>f))})).then((l=>(n.vs=a,l)))}function XL(t,e,n){let i=Ye(),a=Ye();return n.forEach((l=>i=i.add(l))),e.getEntries(t,i).next((l=>{let c=Xi();return n.forEach(((d,f)=>{const g=l.get(d);f.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(d)),f.isNoDocument()&&f.version.isEqual(Ve.min())?(e.removeEntry(d,f.readTime),c=c.insert(d,f)):!g.isValidDocument()||f.version.compareTo(g.version)>0||f.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(f),c=c.insert(d,f)):ve(yv,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",f.version)})),{Bs:c,Ls:a}}))}function WL(t,e){const n=Pe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=iv),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function JL(t,e){const n=Pe(t);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let a;return n.li.getTargetData(i,e).next((l=>l?(a=l,le.resolve(a)):n.li.allocateTargetId(i).next((c=>(a=new Br(e,c,"TargetPurposeListen",i.currentSequenceNumber),n.li.addTargetData(i,a).next((()=>a)))))))})).then((i=>{const a=n.vs.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.vs=n.vs.insert(i.targetId,i),n.Fs.set(e,i.targetId)),i}))}async function B0(t,e,n){const i=Pe(t),a=i.vs.get(e),l=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",l,(c=>i.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!Cl(c))throw c;ve(yv,`Failed to update sequence numbers for target ${e}: ${c}`)}i.vs=i.vs.remove(e),i.Fs.delete(a.target)}function WT(t,e,n){const i=Pe(t);let a=Ve.min(),l=Ye();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(f,g,v){const b=Pe(f),_=b.Fs.get(v);return _!==void 0?le.resolve(b.vs.get(_)):b.li.getTargetData(g,v)})(i,c,li(e)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,i.li.getMatchingKeysForTargetId(c,d.targetId).next((f=>{l=f}))})).next((()=>i.Cs.getDocumentsMatchingQuery(c,e,n?a:Ve.min(),n?l:Ye()))).next((d=>(ZL(i,PP(e),d),{documents:d,ks:l})))))}function ZL(t,e,n){let i=t.Ms.get(e)||Ve.min();n.forEach(((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),t.Ms.set(e,i)}class JT{constructor(){this.activeTargetIds=HP()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class e9{constructor(){this.vo=new JT,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,i){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new JT,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class t9{Mo(e){}shutdown(){}}const ZT="ConnectivityMonitor";class eE{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ve(ZT,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ve(ZT,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Eh=null;function F0(){return Eh===null?Eh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Eh++,"0x"+Eh.toString(16)}const zg="RestConnection",n9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class s9{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${i}/databases/${a}`,this.$o=this.databaseId.database===mf?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Wo(e,n,i,a,l){const c=F0(),d=this.Qo(e,n.toUriEncodedString());ve(zg,`Sending RPC '${e}' ${c}:`,d,i);const f={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(f,a,l);const{host:g}=new URL(d),v=Ja(g);return this.zo(e,d,f,i,v).then((b=>(ve(zg,`Received RPC '${e}' ${c}: `,b),b)),(b=>{throw Qa(zg,`RPC '${e}' ${c} failed with error: `,b,"url: ",d,"request:",i),b}))}jo(e,n,i,a,l,c){return this.Wo(e,n,i,a,l)}Go(e,n,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+kl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),i&&i.headers.forEach(((a,l)=>e[l]=a))}Qo(e,n){const i=n9[e];let a=`${this.qo}/v1/${n}:${i}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}class i9{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const fn="WebChannelConnection",Bc=(t,e,n)=>{t.listen(e,(i=>{try{n(i)}catch(a){setTimeout((()=>{throw a}),0)}}))};class cl extends s9{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!cl.c_){const e=VA();Bc(e,MA.STAT_EVENT,(n=>{n.stat===R0.PROXY?ve(fn,"STAT_EVENT: detected buffering proxy"):n.stat===R0.NOPROXY&&ve(fn,"STAT_EVENT: detected no buffering proxy")})),cl.c_=!0}}zo(e,n,i,a,l){const c=F0();return new Promise(((d,f)=>{const g=new DA;g.setWithCredentials(!0),g.listenOnce(jA.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Hh.NO_ERROR:const b=g.getResponseJson();ve(fn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(b)),d(b);break;case Hh.TIMEOUT:ve(fn,`RPC '${e}' ${c} timed out`),f(new ye(oe.DEADLINE_EXCEEDED,"Request time out"));break;case Hh.HTTP_ERROR:const _=g.getStatus();if(ve(fn,`RPC '${e}' ${c} failed with status:`,_,"response text:",g.getResponseText()),_>0){let S=g.getResponseJson();Array.isArray(S)&&(S=S[0]);const I=S?.error;if(I&&I.status&&I.message){const M=(function(L){const q=L.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(q)>=0?q:oe.UNKNOWN})(I.status);f(new ye(M,I.message))}else f(new ye(oe.UNKNOWN,"Server responded with status "+g.getStatus()))}else f(new ye(oe.UNAVAILABLE,"Connection failed."));break;default:Ie(9055,{l_:e,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ve(fn,`RPC '${e}' ${c} completed.`)}}));const v=JSON.stringify(a);ve(fn,`RPC '${e}' ${c} sending request:`,a),g.send(n,"POST",v,i,15)}))}T_(e,n,i){const a=F0(),l=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=this.createWebChannelTransport(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(d.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Go(d.initMessageHeaders,n,i),d.encodeInitMessageHeaders=!0;const g=l.join("");ve(fn,`Creating RPC '${e}' stream ${a}: ${g}`,d);const v=c.createWebChannel(g,d);this.I_(v);let b=!1,_=!1;const S=new i9({Ho:I=>{_?ve(fn,`Not sending because RPC '${e}' stream ${a} is closed:`,I):(b||(ve(fn,`Opening RPC '${e}' stream ${a} transport.`),v.open(),b=!0),ve(fn,`RPC '${e}' stream ${a} sending:`,I),v.send(I))},Jo:()=>v.close()});return Bc(v,qc.EventType.OPEN,(()=>{_||(ve(fn,`RPC '${e}' stream ${a} transport opened.`),S.i_())})),Bc(v,qc.EventType.CLOSE,(()=>{_||(_=!0,ve(fn,`RPC '${e}' stream ${a} transport closed`),S.o_(),this.E_(v))})),Bc(v,qc.EventType.ERROR,(I=>{_||(_=!0,Qa(fn,`RPC '${e}' stream ${a} transport errored. Name:`,I.name,"Message:",I.message),S.o_(new ye(oe.UNAVAILABLE,"The operation could not be completed")))})),Bc(v,qc.EventType.MESSAGE,(I=>{if(!_){const M=I.data[0];tt(!!M,16349);const D=M,L=D?.error||D[0]?.error;if(L){ve(fn,`RPC '${e}' stream ${a} received error:`,L);const q=L.status;let K=(function(de){const R=Lt[de];if(R!==void 0)return yk(R)})(q),Z=L.message;q==="NOT_FOUND"&&Z.includes("database")&&Z.includes("does not exist")&&Z.includes(this.databaseId.database)&&Qa(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),K===void 0&&(K=oe.INTERNAL,Z="Unknown error status: "+q+" with message "+L.message),_=!0,S.o_(new ye(K,Z)),v.close()}else ve(fn,`RPC '${e}' stream ${a} received:`,M),S.__(M)}})),cl.u_(),setTimeout((()=>{S.s_()}),0),S}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,i){super.Go(e,n,i),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return OA()}}function r9(t){return new cl(t)}function Bg(){return typeof document<"u"?document:null}function Wf(t){return new cL(t,!0)}cl.c_=!1;class Dk{constructor(e,n,i=1e3,a=1.5,l=6e4){this.Ci=e,this.timerId=n,this.R_=i,this.A_=a,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-i);a>0&&ve("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const tE="PersistentStream";class jk{constructor(e,n,i,a,l,c,d,f){this.Ci=e,this.b_=i,this.S_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Dk(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===oe.RESOURCE_EXHAUSTED?(Qi(n.toString()),Qi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,a])=>{this.D_===n&&this.G_(i,a)}),(i=>{e((()=>{const a=new ye(oe.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)}))}))}G_(e,n){const i=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{i((()=>this.listener.Zo()))})),this.stream.Yo((()=>{i((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{i((()=>this.z_(a)))})),this.stream.onMessage((a=>{i((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ve(tE,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(ve(tE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class a9 extends jk{constructor(e,n,i,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,a,c),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=hL(this.serializer,e),i=(function(l){if(!("targetChange"in l))return Ve.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Ve.min():c.readTime?ui(c.readTime):Ve.min()})(e);return this.listener.J_(n,i)}Z_(e){const n={};n.database=z0(this.serializer),n.addTarget=(function(l,c){let d;const f=c.target;if(d=V0(f)?{documents:pL(l,f)}:{query:gL(l,f).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=xk(l,c.resumeToken);const g=P0(l,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(Ve.min())>0){d.readTime=bf(l,c.snapshotVersion.toTimestamp());const g=P0(l,c.expectedCount);g!==null&&(d.expectedCount=g)}return d})(this.serializer,e);const i=vL(this.serializer,e);i&&(n.labels=i),this.K_(n)}X_(e){const n={};n.database=z0(this.serializer),n.removeTarget=e,this.K_(n)}}class o9 extends jk{constructor(e,n,i,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,a,c),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return tt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,tt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){tt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=mL(e.writeResults,e.commitTime),i=ui(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=z0(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((i=>fL(this.serializer,i)))};this.K_(n)}}class l9{}class c9 extends l9{constructor(e,n,i,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ye(oe.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Wo(e,L0(n,i),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ye(oe.UNKNOWN,l.toString())}))}jo(e,n,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.jo(e,L0(n,i),a,c,d,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ye(oe.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function u9(t,e,n,i){return new c9(t,e,n,i)}class d9{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Qi(n),this.aa=!1):ve("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Xa="RemoteStore";class h9{constructor(e,n,i,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((c=>{i.enqueueAndForget((async()=>{so(this)&&(ve(Xa,"Restarting streams for network reachability change."),await(async function(f){const g=Pe(f);g.Ea.add(4),await Ou(g),g.Va.set("Unknown"),g.Ea.delete(4),await Jf(g)})(this))}))})),this.Va=new d9(i,a)}}async function Jf(t){if(so(t))for(const e of t.Ra)await e(!0)}async function Ou(t){for(const e of t.Ra)await e(!1)}function Mk(t,e){const n=Pe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),_v(n)?xv(n):Il(n).O_()&&bv(n,e))}function vv(t,e){const n=Pe(t),i=Il(n);n.Ia.delete(e),i.O_()&&Vk(n,e),n.Ia.size===0&&(i.O_()?i.L_():so(n)&&n.Va.set("Unknown"))}function bv(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ve.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Il(t).Z_(e)}function Vk(t,e){t.da.$e(e),Il(t).X_(e)}function xv(t){t.da=new rL({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Il(t).start(),t.Va.ua()}function _v(t){return so(t)&&!Il(t).x_()&&t.Ia.size>0}function so(t){return Pe(t).Ea.size===0}function Ok(t){t.da=void 0}async function f9(t){t.Va.set("Online")}async function m9(t){t.Ia.forEach(((e,n)=>{bv(t,e)}))}async function p9(t,e){Ok(t),_v(t)?(t.Va.ha(e),xv(t)):t.Va.set("Unknown")}async function g9(t,e,n){if(t.Va.set("Online"),e instanceof bk&&e.state===2&&e.cause)try{await(async function(a,l){const c=l.cause;for(const d of l.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Ia.delete(d),a.da.removeTarget(d))})(t,e)}catch(i){ve(Xa,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await _f(t,i)}else if(e instanceof Kh?t.da.Xe(e):e instanceof vk?t.da.st(e):t.da.tt(e),!n.isEqual(Ve.min()))try{const i=await Ik(t.localStore);n.compareTo(i)>=0&&await(function(l,c){const d=l.da.Tt(c);return d.targetChanges.forEach(((f,g)=>{if(f.resumeToken.approximateByteSize()>0){const v=l.Ia.get(g);v&&l.Ia.set(g,v.withResumeToken(f.resumeToken,c))}})),d.targetMismatches.forEach(((f,g)=>{const v=l.Ia.get(f);if(!v)return;l.Ia.set(f,v.withResumeToken(dn.EMPTY_BYTE_STRING,v.snapshotVersion)),Vk(l,f);const b=new Br(v.target,f,g,v.sequenceNumber);bv(l,b)})),l.remoteSyncer.applyRemoteEvent(d)})(t,n)}catch(i){ve(Xa,"Failed to raise snapshot:",i),await _f(t,i)}}async function _f(t,e,n){if(!Cl(e))throw e;t.Ea.add(1),await Ou(t),t.Va.set("Offline"),n||(n=()=>Ik(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ve(Xa,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Jf(t)}))}function Pk(t,e){return e().catch((n=>_f(t,n,e)))}async function Zf(t){const e=Pe(t),n=ea(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:iv;for(;y9(e);)try{const a=await WL(e.localStore,i);if(a===null){e.Ta.length===0&&n.L_();break}i=a.batchId,v9(e,a)}catch(a){await _f(e,a)}Lk(e)&&Uk(e)}function y9(t){return so(t)&&t.Ta.length<10}function v9(t,e){t.Ta.push(e);const n=ea(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function Lk(t){return so(t)&&!ea(t).x_()&&t.Ta.length>0}function Uk(t){ea(t).start()}async function b9(t){ea(t).ra()}async function x9(t){const e=ea(t);for(const n of t.Ta)e.ea(n.mutations)}async function _9(t,e,n){const i=t.Ta.shift(),a=dv.from(i,e,n);await Pk(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await Zf(t)}async function w9(t,e){e&&ea(t).Y_&&await(async function(i,a){if((function(c){return nL(c)&&c!==oe.ABORTED})(a.code)){const l=i.Ta.shift();ea(i).B_(),await Pk(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Zf(i)}})(t,e),Lk(t)&&Uk(t)}async function nE(t,e){const n=Pe(t);n.asyncQueue.verifyOperationInProgress(),ve(Xa,"RemoteStore received new credentials");const i=so(n);n.Ea.add(3),await Ou(n),i&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Jf(n)}async function T9(t,e){const n=Pe(t);e?(n.Ea.delete(2),await Jf(n)):e||(n.Ea.add(2),await Ou(n),n.Va.set("Unknown"))}function Il(t){return t.ma||(t.ma=(function(n,i,a){const l=Pe(n);return l.sa(),new a9(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:f9.bind(null,t),Yo:m9.bind(null,t),t_:p9.bind(null,t),J_:g9.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),_v(t)?xv(t):t.Va.set("Unknown")):(await t.ma.stop(),Ok(t))}))),t.ma}function ea(t){return t.fa||(t.fa=(function(n,i,a){const l=Pe(n);return l.sa(),new o9(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:b9.bind(null,t),t_:w9.bind(null,t),ta:x9.bind(null,t),na:_9.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await Zf(t)):(await t.fa.stop(),t.Ta.length>0&&(ve(Xa,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class wv{constructor(e,n,i,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new Gr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,a,l){const c=Date.now()+i,d=new wv(e,n,c,a,l);return d.start(i),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Tv(t,e){if(Qi("AsyncQueue",`${e}: ${t}`),Cl(t))return new ye(oe.UNAVAILABLE,`${e}: ${t}`);throw t}class ul{static emptySet(e){return new ul(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||Ce.comparator(n.key,i.key):(n,i)=>Ce.comparator(n.key,i.key),this.keyedMap=Gc(),this.sortedSet=new bt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,i)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ul)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new ul;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}class sE{constructor(){this.ga=new bt(Ce.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ie(63341,{Vt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,i)=>{e.push(i)})),e}}class yl{constructor(e,n,i,a,l,c,d,f,g){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=g}static fromInitialDocuments(e,n,i,a,l){const c=[];return n.forEach((d=>{c.push({type:0,doc:d})})),new yl(e,n,ul.emptySet(n),c,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$f(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==i[a].type||!n[a].doc.isEqual(i[a].doc))return!1;return!0}}class E9{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class S9{constructor(){this.queries=iE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const a=Pe(n),l=a.queries;a.queries=iE(),l.forEach(((c,d)=>{for(const f of d.ba)f.onError(i)}))})(this,new ye(oe.ABORTED,"Firestore shutting down"))}}function iE(){return new to((t=>ik(t)),$f)}async function zk(t,e){const n=Pe(t);let i=3;const a=e.query;let l=n.queries.get(a);l?!l.Sa()&&e.Da()&&(i=2):(l=new E9,i=e.Da()?0:1);try{switch(i){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const d=Tv(c,`Initialization of query '${Wo(e.query)}' failed`);return void e.onError(d)}n.queries.set(a,l),l.ba.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&Ev(n)}async function Bk(t,e){const n=Pe(t),i=e.query;let a=3;const l=n.queries.get(i);if(l){const c=l.ba.indexOf(e);c>=0&&(l.ba.splice(c,1),l.ba.length===0?a=e.Da()?0:1:!l.Sa()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function A9(t,e){const n=Pe(t);let i=!1;for(const a of e){const l=a.query,c=n.queries.get(l);if(c){for(const d of c.ba)d.Fa(a)&&(i=!0);c.wa=a}}i&&Ev(n)}function k9(t,e,n){const i=Pe(t),a=i.queries.get(e);if(a)for(const l of a.ba)l.onError(n);i.queries.delete(e)}function Ev(t){t.Ca.forEach((e=>{e.next()}))}var H0,rE;(rE=H0||(H0={})).Ma="default",rE.Cache="cache";class Fk{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new yl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.Ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=yl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==H0.Cache}}class Hk{constructor(e){this.key=e}}class qk{constructor(e){this.key=e}}class N9{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ye(),this.mutatedKeys=Ye(),this.eu=rk(e),this.tu=new ul(this.eu)}get nu(){return this.Za}ru(e,n){const i=n?n.iu:new sE,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,d=!1;const f=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((v,b)=>{const _=a.get(v),S=Kf(this.query,b)?b:null,I=!!_&&this.mutatedKeys.has(_.key),M=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let D=!1;_&&S?_.data.isEqual(S.data)?I!==M&&(i.track({type:3,doc:S}),D=!0):this.su(_,S)||(i.track({type:2,doc:S}),D=!0,(f&&this.eu(S,f)>0||g&&this.eu(S,g)<0)&&(d=!0)):!_&&S?(i.track({type:0,doc:S}),D=!0):_&&!S&&(i.track({type:1,doc:_}),D=!0,(f||g)&&(d=!0)),D&&(S?(c=c.add(S),l=M?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),i.track({type:1,doc:v})}return{tu:c,iu:i,Ss:d,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((v,b)=>(function(S,I){const M=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ie(20277,{Vt:D})}};return M(S)-M(I)})(v.type,b.type)||this.eu(v.doc,b.doc))),this.ou(i),a=a??!1;const d=n&&!a?this._u():[],f=this.Ya.size===0&&this.current&&!a?1:0,g=f!==this.Xa;return this.Xa=f,c.length!==0||g?{snapshot:new yl(this.query,e.tu,l,c,e.mutatedKeys,f===0,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new sE,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Ye(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Ya=this.Ya.add(i.key))}));const n=[];return e.forEach((i=>{this.Ya.has(i)||n.push(new qk(i))})),this.Ya.forEach((i=>{e.has(i)||n.push(new Hk(i))})),n}cu(e){this.Za=e.ks,this.Ya=Ye();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return yl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Sv="SyncEngine";class C9{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class R9{constructor(e){this.key=e,this.hu=!1}}class I9{constructor(e,n,i,a,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new to((d=>ik(d)),$f),this.Iu=new Map,this.Eu=new Set,this.Ru=new bt(Ce.comparator),this.Au=new Map,this.Vu=new mv,this.du={},this.mu=new Map,this.fu=gl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function D9(t,e,n=!0){const i=Xk(t);let a;const l=i.Tu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await Gk(i,e,n,!0),a}async function j9(t,e){const n=Xk(t);await Gk(n,e,!0,!1)}async function Gk(t,e,n,i){const a=await JL(t.localStore,li(e)),l=a.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let d;return i&&(d=await M9(t,e,l,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&Mk(t.remoteStore,a),d}async function M9(t,e,n,i,a){t.pu=(b,_,S)=>(async function(M,D,L,q){let K=D.view.ru(L);K.Ss&&(K=await WT(M.localStore,D.query,!1).then((({documents:R})=>D.view.ru(R,K))));const Z=q&&q.targetChanges.get(D.targetId),ne=q&&q.targetMismatches.get(D.targetId)!=null,de=D.view.applyChanges(K,M.isPrimaryClient,Z,ne);return oE(M,D.targetId,de.au),de.snapshot})(t,b,_,S);const l=await WT(t.localStore,e,!0),c=new N9(e,l.ks),d=c.ru(l.documents),f=Vu.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",a),g=c.applyChanges(d,t.isPrimaryClient,f);oE(t,n,g.au);const v=new C9(e,n,c);return t.Tu.set(e,v),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),g.snapshot}async function V9(t,e,n){const i=Pe(t),a=i.Tu.get(e),l=i.Iu.get(a.targetId);if(l.length>1)return i.Iu.set(a.targetId,l.filter((c=>!$f(c,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await B0(i.localStore,a.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(a.targetId),n&&vv(i.remoteStore,a.targetId),q0(i,a.targetId)})).catch(Nl)):(q0(i,a.targetId),await B0(i.localStore,a.targetId,!0))}async function O9(t,e){const n=Pe(t),i=n.Tu.get(e),a=n.Iu.get(i.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),vv(n.remoteStore,i.targetId))}async function P9(t,e,n){const i=q9(t);try{const a=await(function(c,d){const f=Pe(c),g=mt.now(),v=d.reduce(((S,I)=>S.add(I.key)),Ye());let b,_;return f.persistence.runTransaction("Locally write mutations","readwrite",(S=>{let I=Xi(),M=Ye();return f.xs.getEntries(S,v).next((D=>{I=D,I.forEach(((L,q)=>{q.isValidDocument()||(M=M.add(L))}))})).next((()=>f.localDocuments.getOverlayedDocuments(S,I))).next((D=>{b=D;const L=[];for(const q of d){const K=WP(q,b.get(q.key).overlayedDocument);K!=null&&L.push(new no(q.key,K,XA(K.value.mapValue),ci.exists(!0)))}return f.mutationQueue.addMutationBatch(S,g,L,d)})).next((D=>{_=D;const L=D.applyToLocalDocumentSet(b,M);return f.documentOverlayCache.saveOverlays(S,D.batchId,L)}))})).then((()=>({batchId:_.batchId,changes:ok(b)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),(function(c,d,f){let g=c.du[c.currentUser.toKey()];g||(g=new bt(Ke)),g=g.insert(d,f),c.du[c.currentUser.toKey()]=g})(i,a.batchId,n),await Pu(i,a.changes),await Zf(i.remoteStore)}catch(a){const l=Tv(a,"Failed to persist write");n.reject(l)}}async function $k(t,e){const n=Pe(t);try{const i=await QL(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const c=n.Au.get(l);c&&(tt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?tt(c.hu,14607):a.removedDocuments.size>0&&(tt(c.hu,42227),c.hu=!1))})),await Pu(n,i,e)}catch(i){await Nl(i)}}function aE(t,e,n){const i=Pe(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const a=[];i.Tu.forEach(((l,c)=>{const d=c.view.va(e);d.snapshot&&a.push(d.snapshot)})),(function(c,d){const f=Pe(c);f.onlineState=d;let g=!1;f.queries.forEach(((v,b)=>{for(const _ of b.ba)_.va(d)&&(g=!0)})),g&&Ev(f)})(i.eventManager,e),a.length&&i.Pu.J_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function L9(t,e,n){const i=Pe(t);i.sharedClientState.updateQueryState(e,"rejected",n);const a=i.Au.get(e),l=a&&a.key;if(l){let c=new bt(Ce.comparator);c=c.insert(l,pn.newNoDocument(l,Ve.min()));const d=Ye().add(l),f=new Xf(Ve.min(),new Map,new bt(Ke),c,d);await $k(i,f),i.Ru=i.Ru.remove(l),i.Au.delete(e),Av(i)}else await B0(i.localStore,e,!1).then((()=>q0(i,e,n))).catch(Nl)}async function U9(t,e){const n=Pe(t),i=e.batch.batchId;try{const a=await YL(n.localStore,e);Yk(n,i,null),Kk(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Pu(n,a)}catch(a){await Nl(a)}}async function z9(t,e,n){const i=Pe(t);try{const a=await(function(c,d){const f=Pe(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return f.mutationQueue.lookupMutationBatch(g,d).next((b=>(tt(b!==null,37113),v=b.keys(),f.mutationQueue.removeMutationBatch(g,b)))).next((()=>f.mutationQueue.performConsistencyCheck(g))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(g,v,d))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>f.localDocuments.getDocuments(g,v)))}))})(i.localStore,e);Yk(i,e,n),Kk(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Pu(i,a)}catch(a){await Nl(a)}}function Kk(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function Yk(t,e,n){const i=Pe(t);let a=i.du[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),i.du[i.currentUser.toKey()]=a}}function q0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Iu.get(e))t.Tu.delete(i),n&&t.Pu.yu(i,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((i=>{t.Vu.containsKey(i)||Qk(t,i)}))}function Qk(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(vv(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),Av(t))}function oE(t,e,n){for(const i of n)i instanceof Hk?(t.Vu.addReference(i.key,e),B9(t,i)):i instanceof qk?(ve(Sv,"Document no longer in limbo: "+i.key),t.Vu.removeReference(i.key,e),t.Vu.containsKey(i.key)||Qk(t,i.key)):Ie(19791,{wu:i})}function B9(t,e){const n=e.key,i=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(i)||(ve(Sv,"New document in limbo: "+n),t.Eu.add(i),Av(t))}function Av(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ce(ut.fromString(e)),i=t.fu.next();t.Au.set(i,new R9(n)),t.Ru=t.Ru.insert(n,i),Mk(t.remoteStore,new Br(li(cv(n.path)),i,"TargetPurposeLimboResolution",Hf.ce))}}async function Pu(t,e,n){const i=Pe(t),a=[],l=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach(((d,f)=>{c.push(i.pu(f,e,n).then((g=>{if((g||n)&&i.isPrimaryClient){const v=g?!g.fromCache:n?.targetChanges.get(f.targetId)?.current;i.sharedClientState.updateQueryState(f.targetId,v?"current":"not-current")}if(g){a.push(g);const v=gv.Es(f.targetId,g);l.push(v)}})))})),await Promise.all(c),i.Pu.J_(a),await(async function(f,g){const v=Pe(f);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>le.forEach(g,(_=>le.forEach(_.Ts,(S=>v.persistence.referenceDelegate.addReference(b,_.targetId,S))).next((()=>le.forEach(_.Is,(S=>v.persistence.referenceDelegate.removeReference(b,_.targetId,S)))))))))}catch(b){if(!Cl(b))throw b;ve(yv,"Failed to update sequence numbers: "+b)}for(const b of g){const _=b.targetId;if(!b.fromCache){const S=v.vs.get(_),I=S.snapshotVersion,M=S.withLastLimboFreeSnapshotVersion(I);v.vs=v.vs.insert(_,M)}}})(i.localStore,l))}async function F9(t,e){const n=Pe(t);if(!n.currentUser.isEqual(e)){ve(Sv,"User change. New user:",e.toKey());const i=await Rk(n.localStore,e);n.currentUser=e,(function(l,c){l.mu.forEach((d=>{d.forEach((f=>{f.reject(new ye(oe.CANCELLED,c))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Pu(n,i.Ns)}}function H9(t,e){const n=Pe(t),i=n.Au.get(e);if(i&&i.hu)return Ye().add(i.key);{let a=Ye();const l=n.Iu.get(e);if(!l)return a;for(const c of l){const d=n.Tu.get(c);a=a.unionWith(d.view.nu)}return a}}function Xk(t){const e=Pe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=$k.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=H9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=L9.bind(null,e),e.Pu.J_=A9.bind(null,e.eventManager),e.Pu.yu=k9.bind(null,e.eventManager),e}function q9(t){const e=Pe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=U9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=z9.bind(null,e),e}class wf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Wf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return KL(this.persistence,new qL,e.initialUser,this.serializer)}Cu(e){return new Ck(pv.Vi,this.serializer)}Du(e){return new e9}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}wf.provider={build:()=>new wf};class G9 extends wf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){tt(this.persistence.referenceDelegate instanceof xf,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new CL(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?In.withCacheSize(this.cacheSizeBytes):In.DEFAULT;return new Ck((i=>xf.Vi(i,n)),this.serializer)}}class G0{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>aE(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=F9.bind(null,this.syncEngine),await T9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new S9})()}createDatastore(e){const n=Wf(e.databaseInfo.databaseId),i=r9(e.databaseInfo);return u9(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return(function(i,a,l,c,d){return new h9(i,a,l,c,d)})(this.localStore,this.datastore,e.asyncQueue,(n=>aE(this.syncEngine,n,0)),(function(){return eE.v()?new eE:new t9})())}createSyncEngine(e,n){return(function(a,l,c,d,f,g,v){const b=new I9(a,l,c,d,f,g);return v&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const i=Pe(n);ve(Xa,"RemoteStore shutting down."),i.Ea.add(5),await Ou(i),i.Aa.shutdown(),i.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}G0.provider={build:()=>new G0};class Wk{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Qi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const ta="FirestoreClient";class $9{constructor(e,n,i,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this._databaseInfo=a,this.user=mn.UNAUTHENTICATED,this.clientId=sv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async c=>{ve(ta,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(ve(ta,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Gr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=Tv(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function Fg(t,e){t.asyncQueue.verifyOperationInProgress(),ve(ta,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener((async a=>{i.isEqual(a)||(await Rk(e.localStore,a),i=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function lE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await K9(t);ve(ta,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((i=>nE(e.remoteStore,i))),t.setAppCheckTokenChangeListener(((i,a)=>nE(e.remoteStore,a))),t._onlineComponents=e}async function K9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ve(ta,"Using user provided OfflineComponentProvider");try{await Fg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===oe.FAILED_PRECONDITION||a.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;Qa("Error using user provided cache. Falling back to memory cache: "+n),await Fg(t,new wf)}}else ve(ta,"Using default OfflineComponentProvider"),await Fg(t,new G9(void 0));return t._offlineComponents}async function Jk(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ve(ta,"Using user provided OnlineComponentProvider"),await lE(t,t._uninitializedComponentsProvider._online)):(ve(ta,"Using default OnlineComponentProvider"),await lE(t,new G0))),t._onlineComponents}function Y9(t){return Jk(t).then((e=>e.syncEngine))}async function $0(t){const e=await Jk(t),n=e.eventManager;return n.onListen=D9.bind(null,e.syncEngine),n.onUnlisten=V9.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=j9.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=O9.bind(null,e.syncEngine),n}function Q9(t,e,n,i){const a=new Wk(i),l=new Fk(e,a,n);return t.asyncQueue.enqueueAndForget((async()=>zk(await $0(t),l))),()=>{a.Nu(),t.asyncQueue.enqueueAndForget((async()=>Bk(await $0(t),l)))}}function X9(t,e,n={}){const i=new Gr;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,f,g){const v=new Wk({next:_=>{v.Nu(),c.enqueueAndForget((()=>Bk(l,b))),_.fromCache&&f.source==="server"?g.reject(new ye(oe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(_)},error:_=>g.reject(_)}),b=new Fk(d,v,{includeMetadataChanges:!0,Ka:!0});return zk(l,b)})(await $0(t),t.asyncQueue,e,n,i))),i.promise}function W9(t,e){const n=new Gr;return t.asyncQueue.enqueueAndForget((async()=>P9(await Y9(t),e,n))),n.promise}function Zk(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const J9="ComponentProvider",cE=new Map;function Z9(t,e,n,i,a){return new vP(t,e,n,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,Zk(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,i)}const eN="firestore.googleapis.com",uE=!0;class dE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ye(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=eN,this.ssl=uE}else this.host=e.host,this.ssl=e.ssl??uE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Nk;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<kL)throw new ye(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}aP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Zk(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ye(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ye(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ye(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,a){return i.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class em{constructor(e,n,i,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ye(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new XO;switch(i.type){case"firstParty":return new eP(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ye(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=cE.get(n);i&&(ve(J9,"Removing Datastore"),cE.delete(n),i.terminate())})(this),Promise.resolve()}}function eU(t,e,n,i={}){t=Hi(t,em);const a=Ja(e),l=t._getSettings(),c={...l,emulatorOptions:t._getEmulatorOptions()},d=`${e}:${n}`;a&&(By(`https://${d}`),Fy("Firestore",!0)),l.host!==eN&&l.host!==d&&Qa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...l,host:d,ssl:a,emulatorOptions:i};if(!Ga(f,c)&&(t._setSettings(f),i.mockUserToken)){let g,v;if(typeof i.mockUserToken=="string")g=i.mockUserToken,v=mn.MOCK_USER;else{g=Q2(i.mockUserToken,t._app?.options.projectId);const b=i.mockUserToken.sub||i.mockUserToken.user_id;if(!b)throw new ye(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new mn(b)}t._authCredentials=new WO(new LA(g,v))}}class Ji{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Ji(this.firestore,e,this._query)}}class Ft{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $r(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ft(this.firestore,e,this._key)}toJSON(){return{type:Ft._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(ju(n,Ft._jsonSchema))return new Ft(e,i||null,new Ce(ut.fromString(n.referencePath)))}}Ft._jsonSchemaVersion="firestore/documentReference/1.0",Ft._jsonSchema={type:Bt("string",Ft._jsonSchemaVersion),referencePath:Bt("string")};class $r extends Ji{constructor(e,n,i){super(e,n,cv(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ft(this.firestore,null,new Ce(e))}withConverter(e){return new $r(this.firestore,e,this._path)}}function Fa(t,e,...n){if(t=vn(t),UA("collection","path",e),t instanceof em){const i=ut.fromString(e,...n);return ET(i),new $r(t,null,i)}{if(!(t instanceof Ft||t instanceof $r))throw new ye(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(ut.fromString(e,...n));return ET(i),new $r(t.firestore,null,i)}}function K0(t,e,...n){if(t=vn(t),arguments.length===1&&(e=sv.newId()),UA("doc","path",e),t instanceof em){const i=ut.fromString(e,...n);return TT(i),new Ft(t,null,new Ce(i))}{if(!(t instanceof Ft||t instanceof $r))throw new ye(oe.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(ut.fromString(e,...n));return TT(i),new Ft(t.firestore,t instanceof $r?t.converter:null,new Ce(i))}}const hE="AsyncQueue";class fE{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Dk(this,"async_queue_retry"),this._c=()=>{const i=Bg();i&&ve(hE,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=Bg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Bg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Gr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Cl(e))throw e;ve(hE,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,Qi("INTERNAL UNHANDLED ERROR: ",mE(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=wv.createAndSchedule(this,e,n,i,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Ie(47125,{Pc:mE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function mE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class vl extends em{constructor(e,n,i,a){super(e,n,i,a),this.type="firestore",this._queue=new fE,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new fE(e),this._firestoreClient=void 0,await e}}}function tU(t,e){const n=typeof t=="object"?t:Gy(),i=typeof t=="string"?t:mf,a=Lf(n,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=$2("firestore");l&&eU(a,...l)}return a}function kv(t){if(t._terminated)throw new ye(oe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||nU(t),t._firestoreClient}function nU(t){const e=t._freezeSettings(),n=Z9(t._databaseId,t._app?.options.appId||"",t._persistenceKey,t._app?.options.apiKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new $9(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(t._componentsProvider))}class os{constructor(e){this._byteString=e}static fromBase64String(e){try{return new os(dn.fromBase64String(e))}catch(n){throw new ye(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new os(dn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:os._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ju(e,os._jsonSchema))return os.fromBase64String(e.bytes)}}os._jsonSchemaVersion="firestore/bytes/1.0",os._jsonSchema={type:Bt("string",os._jsonSchemaVersion),bytes:Bt("string")};class tN{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ye(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new un(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Nv{constructor(e){this._methodName=e}}class di{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ye(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ye(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ke(this._lat,e._lat)||Ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:di._jsonSchemaVersion}}static fromJSON(e){if(ju(e,di._jsonSchema))return new di(e.latitude,e.longitude)}}di._jsonSchemaVersion="firestore/geoPoint/1.0",di._jsonSchema={type:Bt("string",di._jsonSchemaVersion),latitude:Bt("number"),longitude:Bt("number")};class Is{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Is._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ju(e,Is._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Is(e.vectorValues);throw new ye(oe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Is._jsonSchemaVersion="firestore/vectorValue/1.0",Is._jsonSchema={type:Bt("string",Is._jsonSchemaVersion),vectorValues:Bt("object")};const sU=/^__.*__$/;class iU{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new no(e,this.data,this.fieldMask,n,this.fieldTransforms):new Mu(e,this.data,n,this.fieldTransforms)}}function nN(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie(40011,{dataSource:t})}}class Cv{constructor(e,n,i,a,l,c){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Cv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),i=this.contextWith({path:n,arrayElement:!1});return i.validatePathSegment(e),i}childContextForFieldPath(e){const n=this.path?.child(e),i=this.contextWith({path:n,arrayElement:!1});return i.validatePath(),i}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Tf(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(nN(this.dataSource)&&sU.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class rU{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Wf(e)}createContext(e,n,i,a=!1){return new Cv({dataSource:e,methodName:n,targetDoc:i,path:un.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Rv(t){const e=t._freezeSettings(),n=Wf(t._databaseId);return new rU(t._databaseId,!!e.ignoreUndefinedProperties,n)}function sN(t,e,n,i,a,l={}){const c=t.createContext(l.merge||l.mergeFields?2:0,e,n,a);aN("Data must be an object, but it was:",c,i);const d=iN(i,c);let f,g;if(l.merge)f=new ks(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const b of l.mergeFields){const _=Lu(e,b,n);if(!c.contains(_))throw new ye(oe.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);cU(v,_)||v.push(_)}f=new ks(v),g=c.fieldTransforms.filter((b=>f.covers(b.field)))}else f=null,g=c.fieldTransforms;return new iU(new as(d),f,g)}class Iv extends Nv{_toFieldTransform(e){return new KP(e.path,new bu)}isEqual(e){return e instanceof Iv}}function aU(t,e,n,i=!1){return Dv(n,t.createContext(i?4:3,e))}function Dv(t,e){if(rN(t=vn(t)))return aN("Unsupported field value:",e,t),iN(t,e);if(t instanceof Nv)return(function(i,a){if(!nN(a.dataSource))throw a.createError(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(i,a){const l=[];let c=0;for(const d of i){let f=Dv(d,a.childContextForArray(c));f==null&&(f={nullValue:"NULL_VALUE"}),l.push(f),c++}return{arrayValue:{values:l}}})(t,e)}return(function(i,a){if((i=vn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return qP(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=mt.fromDate(i);return{timestampValue:bf(a.serializer,l)}}if(i instanceof mt){const l=new mt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:bf(a.serializer,l)}}if(i instanceof di)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof os)return{bytesValue:xk(a.serializer,i._byteString)};if(i instanceof Ft){const l=a.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw a.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:fv(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof Is)return(function(c,d){const f=c instanceof Is?c.toArray():c;return{mapValue:{fields:{[YA]:{stringValue:QA},[pf]:{arrayValue:{values:f.map((v=>{if(typeof v!="number")throw d.createError("VectorValues must only contain numeric values.");return uv(d.serializer,v)}))}}}}}})(i,a);if(kk(i))return i._toProto(a.serializer);throw a.createError(`Unsupported field value: ${Ff(i)}`)})(t,e)}function iN(t,e){const n={};return FA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):eo(t,((i,a)=>{const l=Dv(a,e.childContextForField(i));l!=null&&(n[i]=l)})),{mapValue:{fields:n}}}function rN(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof mt||t instanceof di||t instanceof os||t instanceof Ft||t instanceof Nv||t instanceof Is||kk(t))}function aN(t,e,n){if(!rN(n)||!zA(n)){const i=Ff(n);throw i==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+i)}}function Lu(t,e,n){if((e=vn(e))instanceof tN)return e._internalPath;if(typeof e=="string")return lU(t,e);throw Tf("Field path arguments must be of type string or ",t,!1,void 0,n)}const oU=new RegExp("[~\\*/\\[\\]]");function lU(t,e,n){if(e.search(oU)>=0)throw Tf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new tN(...e.split("."))._internalPath}catch{throw Tf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Tf(t,e,n,i,a){const l=i&&!i.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(l||c)&&(f+=" (found",l&&(f+=` in field ${i}`),c&&(f+=` in document ${a}`),f+=")"),new ye(oe.INVALID_ARGUMENT,d+t+f)}function cU(t,e){return t.some((n=>n.isEqual(e)))}class uU{convertValue(e,n="none"){switch(Zr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Jr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ie(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return eo(e,((a,l)=>{i[a]=this.convertValue(l,n)})),i}convertVectorValue(e){const n=e.fields?.[pf].arrayValue?.values?.map((i=>Nt(i.doubleValue)));return new Is(n)}convertGeoPoint(e){return new di(Nt(e.latitude),Nt(e.longitude))}convertArray(e,n){return(e.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const i=Gf(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(pu(e));default:return null}}convertTimestamp(e){const n=Wr(e);return new mt(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=ut.fromString(e);tt(Ak(i),9688,{name:e});const a=new gu(i.get(1),i.get(3)),l=new Ce(i.popFirst(5));return a.isEqual(n)||Qi(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}class jv extends uU{constructor(e){super(),this.firestore=e}convertBytes(e){return new os(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ft(this.firestore,null,n)}}function dU(){return new Iv("serverTimestamp")}const pE="@firebase/firestore",gE="4.11.0";function yE(t){return(function(n,i){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of i)if(l in a&&typeof a[l]=="function")return!0;return!1})(t,["next","error","complete"])}class oN{constructor(e,n,i,a,l){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Ft(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new hU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(Lu("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class hU extends oN{data(){return super.data()}}function lN(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ye(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Mv{}class Vv extends Mv{}function tm(t,e,...n){let i=[];e instanceof Mv&&i.push(e),i=i.concat(n),(function(l){const c=l.filter((f=>f instanceof Ov)).length,d=l.filter((f=>f instanceof nm)).length;if(c>1||c>0&&d>0)throw new ye(oe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const a of i)t=a._apply(t);return t}class nm extends Vv{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new nm(e,n,i)}_apply(e){const n=this._parse(e);return cN(e._query,n),new Ji(e.firestore,e.converter,O0(e._query,n))}_parse(e){const n=Rv(e.firestore);return(function(l,c,d,f,g,v,b){let _;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new ye(oe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){bE(b,v);const I=[];for(const M of b)I.push(vE(f,l,M));_={arrayValue:{values:I}}}else _=vE(f,l,b)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||bE(b,v),_=aU(d,c,b,v==="in"||v==="not-in");return zt.create(g,v,_)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function fU(t,e,n){const i=e,a=Lu("where",t);return nm._create(a,i,n)}class Ov extends Mv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Ov(e,n)}_parse(e){const n=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return n.length===1?n[0]:js.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let c=a;const d=l.getFlattenedFilters();for(const f of d)cN(c,f),c=O0(c,f)})(e._query,n),new Ji(e.firestore,e.converter,O0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Pv extends Vv{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Pv(e,n)}_apply(e){const n=(function(a,l,c){if(a.startAt!==null)throw new ye(oe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ye(oe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new vu(l,c)})(e._query,this._field,this._direction);return new Ji(e.firestore,e.converter,OP(e._query,n))}}function Lv(t,e="asc"){const n=e,i=Lu("orderBy",t);return Pv._create(i,n)}class Uv extends Vv{constructor(e,n,i){super(),this.type=e,this._limit=n,this._limitType=i}static _create(e,n,i){return new Uv(e,n,i)}_apply(e){return new Ji(e.firestore,e.converter,yf(e._query,this._limit,this._limitType))}}function zv(t){return oP("limit",t),Uv._create("limit",t,"F")}function vE(t,e,n){if(typeof(n=vn(n))=="string"){if(n==="")throw new ye(oe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!sk(e)&&n.indexOf("/")!==-1)throw new ye(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(ut.fromString(n));if(!Ce.isDocumentKey(i))throw new ye(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return DT(t,new Ce(i))}if(n instanceof Ft)return DT(t,n._key);throw new ye(oe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ff(n)}.`)}function bE(t,e){if(!Array.isArray(t)||t.length===0)throw new ye(oe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function cN(t,e){const n=(function(a,l){for(const c of a)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ye(oe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ye(oe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function uN(t,e,n){let i;return i=t?t.toFirestore(e):e,i}class Kc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ha extends oN{constructor(e,n,i,a,l,c){super(e,n,i,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Yh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(Lu("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(oe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ha._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ha._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ha._jsonSchema={type:Bt("string",Ha._jsonSchemaVersion),bundleSource:Bt("string","DocumentSnapshot"),bundleName:Bt("string"),bundle:Bt("string")};class Yh extends Ha{data(e={}){return super.data(e)}}class qa{constructor(e,n,i,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Kc(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((i=>{e.call(n,new Yh(this._firestore,this._userDataWriter,i.key,i,new Kc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ye(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((d=>{const f=new Yh(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Kc(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:f,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const f=new Yh(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Kc(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,v=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),v=c.indexOf(d.doc.key)),{type:mU(d.type),doc:f,oldIndex:g,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(oe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=qa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=sv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function mU(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ie(61501,{type:t})}}qa._jsonSchemaVersion="firestore/querySnapshot/1.0",qa._jsonSchema={type:Bt("string",qa._jsonSchemaVersion),bundleSource:Bt("string","QuerySnapshot"),bundleName:Bt("string"),bundle:Bt("string")};function dN(t){t=Hi(t,Ji);const e=Hi(t.firestore,vl),n=kv(e),i=new jv(e);return lN(t._query),X9(n,t._query).then((a=>new qa(e,i,t,a)))}function pU(t,e,n){t=Hi(t,Ft);const i=Hi(t.firestore,vl),a=uN(t.converter,e),l=Rv(i);return hN(i,[sN(l,"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,ci.none())])}function Y0(t,e){const n=Hi(t.firestore,vl),i=K0(t),a=uN(t.converter,e),l=Rv(t.firestore);return hN(n,[sN(l,"addDoc",i._key,a,t.converter!==null,{}).toMutation(i._key,ci.exists(!1))]).then((()=>i))}function Bv(t,...e){t=vn(t);let n={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||yE(e[i])||(n=e[i++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(yE(e[i])){const g=e[i];e[i]=g.next?.bind(g),e[i+1]=g.error?.bind(g),e[i+2]=g.complete?.bind(g)}let l,c,d;if(t instanceof Ft)c=Hi(t.firestore,vl),d=cv(t._key.path),l={next:g=>{e[i]&&e[i](gU(c,t,g))},error:e[i+1],complete:e[i+2]};else{const g=Hi(t,Ji);c=Hi(g.firestore,vl),d=g._query;const v=new jv(c);l={next:b=>{e[i]&&e[i](new qa(c,v,g,b))},error:e[i+1],complete:e[i+2]},lN(t._query)}const f=kv(c);return Q9(f,d,a,l)}function hN(t,e){const n=kv(t);return W9(n,e)}function gU(t,e,n){const i=n.docs.get(e._key),a=new jv(t);return new Ha(t,a,e._key,i,new Kc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){QO(Za),$a(new Qr("firestore",((i,{instanceIdentifier:a,options:l})=>{const c=i.getProvider("app").getImmediate(),d=new vl(new JO(i.getProvider("auth-internal")),new tP(c,i.getProvider("app-check-internal")),bP(c,a),c);return l={useFetchStreams:n,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),ai(pE,gE,e),ai(pE,gE,"esm2020")})();const fN="firebasestorage.googleapis.com",yU="storageBucket",vU=120*1e3,bU=600*1e3;class yi extends gi{constructor(e,n,i=0){super(Hg(e),`Firebase Storage: ${n} (${Hg(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,yi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Hg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var pi;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(pi||(pi={}));function Hg(t){return"storage/"+t}function xU(){const t="An unknown error occurred, please check the error payload for server response.";return new yi(pi.UNKNOWN,t)}function _U(){return new yi(pi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function wU(){return new yi(pi.CANCELED,"User canceled the upload/download.")}function TU(t){return new yi(pi.INVALID_URL,"Invalid URL '"+t+"'.")}function EU(t){return new yi(pi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function xE(t){return new yi(pi.INVALID_ARGUMENT,t)}function mN(){return new yi(pi.APP_DELETED,"The Firebase app was deleted.")}function SU(t){return new yi(pi.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class Ns{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=Ns.makeFromUrl(e,n)}catch{return new Ns(e,"")}if(i.path==="")return i;throw EU(e)}static makeFromUrl(e,n){let i=null;const a="([A-Za-z0-9.\\-_]+)";function l(Z){Z.path.charAt(Z.path.length-1)==="/"&&(Z.path_=Z.path_.slice(0,-1))}const c="(/(.*))?$",d=new RegExp("^gs://"+a+c,"i"),f={bucket:1,path:3};function g(Z){Z.path_=decodeURIComponent(Z.path)}const v="v[A-Za-z0-9_]+",b=n.replace(/[.]/g,"\\."),_="(/([^?#]*).*)?$",S=new RegExp(`^https?://${b}/${v}/b/${a}/o${_}`,"i"),I={bucket:1,path:3},M=n===fN?"(?:storage.googleapis.com|storage.cloud.google.com)":n,D="([^?#]*)",L=new RegExp(`^https?://${M}/${a}/${D}`,"i"),K=[{regex:d,indices:f,postModify:l},{regex:S,indices:I,postModify:g},{regex:L,indices:{bucket:1,path:2},postModify:g}];for(let Z=0;Z<K.length;Z++){const ne=K[Z],de=ne.regex.exec(e);if(de){const R=de[ne.indices.bucket];let E=de[ne.indices.path];E||(E=""),i=new Ns(R,E),ne.postModify(i);break}}if(i==null)throw TU(e);return i}}class AU{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function kU(t,e,n){let i=1,a=null,l=null,c=!1,d=0;function f(){return d===2}let g=!1;function v(...D){g||(g=!0,e.apply(null,D))}function b(D){a=setTimeout(()=>{a=null,t(S,f())},D)}function _(){l&&clearTimeout(l)}function S(D,...L){if(g){_();return}if(D){_(),v.call(null,D,...L);return}if(f()||c){_(),v.call(null,D,...L);return}i<64&&(i*=2);let K;d===1?(d=2,K=0):K=(i+Math.random())*1e3,b(K)}let I=!1;function M(D){I||(I=!0,_(),!g&&(a!==null?(D||(d=2),clearTimeout(a),b(0)):D||(d=1)))}return b(0),l=setTimeout(()=>{c=!0,M(!0)},n),M}function NU(t){t(!1)}function CU(t){return t!==void 0}function _E(t,e,n,i){if(i<e)throw xE(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw xE(`Invalid value for '${t}'. Expected ${n} or less.`)}function RU(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const a=e(i)+"="+e(t[i]);n=n+a+"&"}return n=n.slice(0,-1),n}var Ef;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ef||(Ef={}));function IU(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,l=e.indexOf(t)!==-1;return n||a||l}class DU{constructor(e,n,i,a,l,c,d,f,g,v,b,_=!0,S=!1){this.url_=e,this.method_=n,this.headers_=i,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=f,this.timeout_=g,this.progressCallback_=v,this.connectionFactory_=b,this.retry=_,this.isUsingEmulator=S,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((I,M)=>{this.resolve_=I,this.reject_=M,this.start_()})}start_(){const e=(i,a)=>{if(a){i(!1,new Sh(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=d=>{const f=d.loaded,g=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,g)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const d=l.getErrorCode()===Ef.NO_ERROR,f=l.getStatus();if(!d||IU(f,this.additionalRetryCodes_)&&this.retry){const v=l.getErrorCode()===Ef.ABORT;i(!1,new Sh(!1,null,v));return}const g=this.successCodes_.indexOf(f)!==-1;i(!0,new Sh(g,l))})},n=(i,a)=>{const l=this.resolve_,c=this.reject_,d=a.connection;if(a.wasSuccessCode)try{const f=this.callback_(d,d.getResponse());CU(f)?l(f):l()}catch(f){c(f)}else if(d!==null){const f=xU();f.serverResponse=d.getErrorText(),this.errorCallback_?c(this.errorCallback_(d,f)):c(f)}else if(a.canceled){const f=this.appDelete_?mN():wU();c(f)}else{const f=_U();c(f)}};this.canceled_?n(!1,new Sh(!1,null,!0)):this.backoffId_=kU(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&NU(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Sh{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function jU(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function MU(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function VU(t,e){e&&(t["X-Firebase-GMPID"]=e)}function OU(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function PU(t,e,n,i,a,l,c=!0,d=!1){const f=RU(t.urlParams),g=t.url+f,v=Object.assign({},t.headers);return VU(v,e),jU(v,n),MU(v,l),OU(v,i),new DU(g,t.method,v,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,c,d)}function LU(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function UU(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}class Sf{constructor(e,n){this._service=e,n instanceof Ns?this._location=n:this._location=Ns.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Sf(e,n)}get root(){const e=new Ns(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return UU(this._location.path)}get storage(){return this._service}get parent(){const e=LU(this._location.path);if(e===null)return null;const n=new Ns(this._location.bucket,e);return new Sf(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw SU(e)}}function wE(t,e){const n=e?.[yU];return n==null?null:Ns.makeFromBucketSpec(n,t)}function zU(t,e,n,i={}){t.host=`${e}:${n}`;const a=Ja(e);a&&(By(`https://${t.host}/b`),Fy("Storage",!0)),t._isUsingEmulator=!0,t._protocol=a?"https":"http";const{mockUserToken:l}=i;l&&(t._overrideAuthToken=typeof l=="string"?l:Q2(l,t.app.options.projectId))}class BU{constructor(e,n,i,a,l,c=!1){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=c,this._bucket=null,this._host=fN,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=vU,this._maxUploadRetryTime=bU,this._requests=new Set,a!=null?this._bucket=Ns.makeFromBucketSpec(a,this._host):this._bucket=wE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ns.makeFromBucketSpec(this._url,e):this._bucket=wE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){_E("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){_E("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(rs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Sf(this,e)}_makeRequest(e,n,i,a,l=!0){if(this._deleted)return new AU(mN());{const c=PU(e,this._appId,i,a,n,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,n){const[i,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,a).getPromise()}}const TE="@firebase/storage",EE="0.14.0";const pN="storage";function FU(t=Gy(),e){t=vn(t);const i=Lf(t,pN).getImmediate({identifier:e}),a=$2("storage");return a&&HU(i,...a),i}function HU(t,e,n,i={}){zU(t,e,n,i)}function qU(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new BU(n,i,a,e,Za)}function GU(){$a(new Qr(pN,qU,"PUBLIC").setMultipleInstances(!0)),ai(TE,EE,""),ai(TE,EE,"esm2020")}GU();const $U={apiKey:"AIzaSyBxYxsLtsHK1cKKn6IP_wY5FLyG3Gqje5c",authDomain:"study-tracker-9d996.firebaseapp.com",projectId:"study-tracker-9d996",storageBucket:"study-tracker-9d996.firebasestorage.app",messagingSenderId:"896578359034",appId:"1:896578359034:web:730cec1b11329f22960343",measurementId:"G-ZDH3EW4063"},Fv=J2($U),qg=GO(Fv),KU=new Ui,qi=tU(Fv);FU(Fv);const gN=N.createContext(void 0);function YU({children:t}){const[e,n]=N.useState(null),[i,a]=N.useState(!0);N.useEffect(()=>{const d=jV(qg,f=>{n(f),a(!1)});return()=>d()},[]);const l=async()=>{try{await eO(qg,KU)}catch(d){console.error("Error signing in with Google",d)}},c=async()=>{try{await MV(qg)}catch(d){console.error("Error signing out",d)}};return m.jsx(gN.Provider,{value:{user:e,loading:i,signInWithGoogle:l,logout:c},children:!i&&t})}function Zi(){const t=N.useContext(gN);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}const yN=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim();const QU=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const XU=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase());const SE=t=>{const e=XU(t);return e.charAt(0).toUpperCase()+e.slice(1)};var WU={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const JU=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const ZU=N.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:a="",children:l,iconNode:c,...d},f)=>N.createElement("svg",{ref:f,...WU,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:yN("lucide",a),...!l&&!JU(d)&&{"aria-hidden":"true"},...d},[...c.map(([g,v])=>N.createElement(g,v)),...Array.isArray(l)?l:[l]]));const Te=(t,e)=>{const n=N.forwardRef(({className:i,...a},l)=>N.createElement(ZU,{ref:l,iconNode:e,className:yN(`lucide-${QU(SE(t))}`,`lucide-${t}`,i),...a}));return n.displayName=SE(t),n};const e8=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],t8=Te("arrow-left",e8);const n8=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Hv=Te("arrow-right",n8);const s8=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],vN=Te("award",s8);const i8=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M17 17H4a1 1 0 0 1-.74-1.673C4.59 13.956 6 12.499 6 8a6 6 0 0 1 .258-1.742",key:"178tsu"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.668 3.01A6 6 0 0 1 18 8c0 2.687.77 4.653 1.707 6.05",key:"1hqiys"}]],r8=Te("bell-off",i8);const a8=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],o8=Te("bell",a8);const l8=[["path",{d:"M10 2v8l3-3 3 3V2",key:"sqw3rj"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],bN=Te("book-marked",l8);const c8=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],us=Te("book-open",c8);const u8=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],d8=Te("book",u8);const h8=[["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M14 7a4 4 0 0 1 4 4v3a6 6 0 0 1-12 0v-3a4 4 0 0 1 4-4z",key:"uouzyp"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M21 21a4 4 0 0 0-3.81-4",key:"1b0z45"}],["path",{d:"M21 5a4 4 0 0 1-3.55 3.97",key:"5cxbf6"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M3 21a4 4 0 0 1 3.81-4",key:"1fjd4g"}],["path",{d:"M3 5a4 4 0 0 0 3.55 3.97",key:"1d7oge"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M9 7.13V6a3 3 0 1 1 6 0v1.13",key:"1vgav8"}]],f8=Te("bug",h8);const m8=[["path",{d:"M16 14v2.2l1.6 1",key:"fo4ql5"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],xN=Te("calendar-clock",m8);const p8=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Q0=Te("calendar",p8);const g8=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],y8=Te("chart-column",g8);const v8=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],b8=Te("chart-pie",v8);const x8=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],_N=Te("check",x8);const _8=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],w8=Te("chevron-down",_8);const T8=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],qv=Te("chevron-left",T8);const E8=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],wN=Te("chevron-right",E8);const S8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],TN=Te("circle-alert",S8);const A8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],io=Te("circle-check",A8);const k8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],X0=Te("circle-user",k8);const N8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],C8=Te("circle",N8);const R8=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],I8=Te("clock",R8);const D8=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],j8=Te("copy",D8);const M8=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Gv=Te("download",M8);const V8=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],O8=Te("flame",V8);const P8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],L8=Te("globe",P8);const U8=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],EN=Te("graduation-cap",U8);const z8=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],B8=Te("hash",z8);const F8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],H8=Te("info",F8);const q8=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],AE=Te("layout-dashboard",q8);const G8=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],$8=Te("loader-circle",G8);const K8=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Af=Te("log-out",K8);const Y8=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],Gg=Te("medal",Y8);const Q8=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],SN=Te("message-circle",Q8);const X8=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],W8=Te("monitor",X8);const J8=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],kf=Te("moon",J8);const Z8=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],e7=Te("pause",Z8);const t7=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],AN=Te("pen-tool",t7);const n7=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],s7=Te("pen",n7);const i7=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],sm=Te("pencil",i7);const r7=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],kN=Te("play",r7);const a7=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],bl=Te("plus",a7);const o7=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],l7=Te("quote",o7);const c7=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],u7=Te("refresh-cw",c7);const d7=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],NN=Te("rotate-ccw",d7);const h7=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Nf=Te("save",h7);const f7=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],m7=Te("send",f7);const p7=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],kE=Te("settings",p7);const g7=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],y7=Te("shield",g7);const v7=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],NE=Te("square-pen",v7);const b7=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],W0=Te("sun",b7);const x7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],_7=Te("target",x7);const w7=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],CE=Te("timer",w7);const T7=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],im=Te("trash-2",T7);const E7=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],J0=Te("trending-up",E7);const S7=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],A7=Te("triangle-alert",S7);const k7=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Wa=Te("trophy",k7);const N7=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],C7=Te("upload",N7);const R7=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],iu=Te("users",R7);const I7=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],CN=Te("volume-2",I7);const D7=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],RN=Te("volume-x",D7);const j7=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],er=Te("x",j7),IN=N.createContext(void 0);function rm(){const t=N.useContext(IN);if(!t)throw new Error("useToast must be used within a ToastProvider");return t.toast}function M7({children:t}){const[e,n]=N.useState([]),i=N.useCallback((c,d)=>{const f=Math.random().toString(36).substring(2,9);n(g=>[...g,{id:f,message:c,type:d}]),setTimeout(()=>{n(g=>g.filter(v=>v.id!==f))},3e3)},[]),a=N.useCallback(c=>{n(d=>d.filter(f=>f.id!==c))},[]),l={success:c=>i(c,"success"),error:c=>i(c,"error"),info:c=>i(c,"info"),warning:c=>i(c,"warning")};return m.jsxs(IN.Provider,{value:{toast:l,removeToast:a},children:[t,y4.createPortal(m.jsx("div",{className:"fixed top-4 right-4 z-[9999] flex flex-col gap-2 pointer-events-none",children:m.jsx(Ms,{children:e.map(c=>m.jsx(V7,{toast:c,onRemove:a},c.id))})}),document.body)]})}function V7({toast:t,onRemove:e}){const n={success:m.jsx(io,{className:"w-5 h-5 text-emerald-500"}),error:m.jsx(TN,{className:"w-5 h-5 text-red-500"}),info:m.jsx(H8,{className:"w-5 h-5 text-blue-500"}),warning:m.jsx(A7,{className:"w-5 h-5 text-amber-500"})},i={success:"bg-white dark:bg-slate-800 border-emerald-100 dark:border-emerald-900/30",error:"bg-white dark:bg-slate-800 border-red-100 dark:border-red-900/30",info:"bg-white dark:bg-slate-800 border-blue-100 dark:border-blue-900/30",warning:"bg-white dark:bg-slate-800 border-amber-100 dark:border-amber-900/30"};return m.jsxs(Se.div,{layout:!0,initial:{opacity:0,y:-20,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.9,transition:{duration:.2}},className:`pointer-events-auto flex items-center gap-3 px-4 py-3 rounded-xl shadow-lg border ${i[t.type]} min-w-[300px] max-w-sm backdrop-blur-sm`,children:[m.jsx("div",{className:"shrink-0",children:n[t.type]}),m.jsx("p",{className:"text-sm font-medium text-slate-700 dark:text-slate-200 flex-1",children:t.message}),m.jsx("button",{onClick:()=>e(t.id),className:"p-1 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg text-slate-400 dark:text-slate-500 transition-colors",children:m.jsx(er,{className:"w-4 h-4"})})]})}const ru=[{id:"hsc-science-2026-bn",name:"HSC Science",subjects:[{name:"  ",icon:"Book",color:"bg-emerald-500",chapters:[{name:"",topics:[{name:""},{name:""},{name:"-"},{name:""},{name:"    "},{name:" "},{name:""},{name:" "},{name:"  "},{name:" "},{name:"   "},{name:""}]},{name:"",topics:[{name:" "},{name:""},{name:""},{name:"  "},{name:" "},{name:"-"},{name:"  "},{name:""},{name:""},{name:"  "},{name:"   "},{name:" "}]},{name:"",topics:[{name:""}]},{name:"",topics:[{name:""}]}]},{name:"  ",icon:"Book",color:"bg-emerald-500",chapters:[{name:"",topics:[{name:""},{name:""},{name:""}]},{name:"",topics:[{name:" "},{name:""},{name:""},{name:""}]}]},{name:"  ",icon:"Book",color:"bg-teal-500",chapters:[{name:"  -   ",topics:[{name:" "},{name:"  "},{name:"  "},{name:" "},{name:"  "}]},{name:"  - ",topics:[{name:"  "},{name:" "},{name:" "},{name:" "},{name:"  "},{name:" "},{name:"  "},{name:" "},{name:"   "},{name:"   "},{name:"  "},{name:"  "}]},{name:"  - ",topics:[{name:"  "},{name:"  "},{name:" "},{name:"  "},{name:"   "},{name:" "},{name:""},{name:"    "},{name:"   "},{name:"  "},{name:"   "},{name:"   "}]},{name:"  -  ",topics:[{name:" "},{name:"   "},{name:"   "},{name:"   "},{name:"  "},{name:"  "},{name:" "},{name:"    "},{name:"  "},{name:"  "},{name:"   "},{name:"  "}]},{name:"  - ,   ",topics:[{name:"    "},{name:"    "},{name:""},{name:""},{name:"    "},{name:"  "},{name:""}]},{name:"  -   ",topics:[{name:""},{name:" "},{name:"   "},{name:"   "},{name:"  "},{name:"   "},{name:"  "},{name:" "},{name:"  - "}]},{name:"  -   ",topics:[{name:" "},{name:""},{name:" "},{name:" "},{name:"  "},{name:" "},{name:"   "}]},{name:"  -  ",topics:[{name:" "},{name:"  "},{name:"     "},{name:"       "},{name:"   "},{name:"   "},{name:"  "}]},{name:"  - ",topics:[{name:" "},{name:"  "},{name:"  "},{name:"  "},{name:" "},{name:" "},{name:"  "}]},{name:"  -     ",topics:[{name:" "},{name:" "},{name:" "},{name:"   "},{name:"      "},{name:" "},{name:"    "},{name:" "},{name:"  "}]}]},{name:"  ",icon:"Zap",color:"bg-violet-500",chapters:[{name:"",topics:[{name:" "},{name:"  "},{name:"   "},{name:"   "},{name:""},{name:"  "}]},{name:" ",topics:[{name:" "},{name:"   "},{name:" "},{name:" "},{name:"  "},{name:" "}]},{name:" ",topics:[{name:"   "},{name:" "},{name:" "},{name:" "},{name:""},{name:"   "}]},{name:"   ",topics:[{name:"- "},{name:" "},{name:" "},{name:" "}]},{name:" ",topics:[{name:" "},{name:" "},{name:"    "},{name:""}]},{name:" ",topics:[{name:""},{name:"   "},{name:"   "},{name:" "}]},{name:" ",topics:[{name:" "},{name:""},{name:""},{name:""}]},{name:"  ",topics:[{name:"  "},{name:"- "},{name:" "},{name:"- "},{name:"-"}]},{name:" ",topics:[{name:"   "},{name:" "},{name:""},{name:"   "},{name:"   "}]},{name:"  ",topics:[{name:" "},{name:"- "},{name:""},{name:" "},{name:""}]}]},{name:"  ",icon:"Beaker",color:"bg-rose-500",chapters:[{name:"  ",topics:[{name:"  "},{name:"  "},{name:"   "},{name:" "},{name:" "}]},{name:" ",topics:[{name:"  (  )"},{name:" "},{name:",    "},{name:" "},{name:"  "},{name:" "},{name:"   "},{name:" "},{name:""}]},{name:"  ",topics:[{name:"  (s, p, d, f )"},{name:"  ( ,  )"},{name:" "},{name:" "},{name:" (Hybridization)"},{name:"VSEPR    "},{name:" "},{name:"  "}]},{name:" ",topics:[{name:"   "},{name:" "},{name:"- "},{name:"   Kc, Kp"},{name:"- "},{name:"pH   "},{name:"    "}]},{name:" ",topics:[{name:"   "},{name:"  (, )"},{name:"  "},{name:"   "}]}]},{name:"  ",icon:"Beaker",color:"bg-rose-500",chapters:[{name:" ",topics:[{name:"  (, )"},{name:"   "},{name:"   "},{name:"  "},{name:"   "},{name:"    "},{name:"    (BOD, COD)"}]},{name:" ",topics:[{name:"     "},{name:""},{name:" (IUPAC)"},{name:" (, , )"},{name:"   "},{name:" "},{name:"  "},{name:"  "},{name:"    "},{name:""},{name:"  "}]},{name:" ",topics:[{name:"    "},{name:"  (, )"},{name:"- "},{name:"- "},{name:""},{name:"- "}]},{name:" ",topics:[{name:"   "},{name:" "},{name:"  "},{name:"    "},{name:"   "},{name:"pH "}]},{name:" ",topics:[{name:"   "},{name:"  "},{name:"   "},{name:"   "},{name:"   "}]}]},{name:"   ",icon:"Calculator",color:"bg-blue-500",chapters:[{name:"  ",topics:[{name:" "},{name:" ,   "},{name:"   "},{name:" "},{name:" "}]},{name:"",topics:[{name:" "},{name:"   "},{name:"   "},{name:" "}]},{name:"",topics:[{name:"   "},{name:"   "},{name:"  "},{name:"   "}]},{name:"",topics:[{name:" "},{name:"  "},{name:"  "}]},{name:"  ",topics:[{name:"    "},{name:""},{name:""},{name:"   "}]},{name:"",topics:[{name:"   "},{name:" "},{name:" "},{name:""}]},{name:"   ",topics:[{name:"  -"},{name:"-   "},{name:" "},{name:" "}]},{name:"",topics:[{name:"  "},{name:""},{name:"  "},{name:" "},{name:"  "}]},{name:"",topics:[{name:" "},{name:" "},{name:" "},{name:" "},{name:" "}]}]},{name:"   ",icon:"Calculator",color:"bg-blue-500",chapters:[{name:"   ",topics:[{name:"  "},{name:"  "},{name:" "}]},{name:" ",topics:[{name:"  "},{name:" "},{name:"  "}]},{name:" ",topics:[{name:"   "},{name:"  "},{name:" "},{name:" "}]},{name:"   ",topics:[{name:" "},{name:"   "},{name:"   "},{name:"  "}]},{name:" ",topics:[{name:" "},{name:"  "},{name:""},{name:"  "}]},{name:"",topics:[{name:" (Parabola)"},{name:" (Ellipse)"},{name:" (Hyperbola)"},{name:" "}]},{name:"  ",topics:[{name:"   "},{name:"  "},{name:"  "}]},{name:"",topics:[{name:"   "},{name:" "},{name:" "},{name:"    "}]},{name:"",topics:[{name:" "},{name:""},{name:" "},{name:" "}]},{name:"   ",topics:[{name:", , "},{name:"   "},{name:" "},{name:"   "},{name:" "}]}]},{name:"  ",icon:"Dna",color:"bg-green-500",chapters:[{name:"   ",topics:[{name:"    "},{name:"  "},{name:"  "},{name:""},{name:""},{name:"DNA  RNA  "},{name:"DNA "},{name:"  "}]},{name:" ",topics:[{name:"  "},{name:" "},{name:"   "},{name:" "}]},{name:"",topics:[{name:"   "},{name:""},{name:"   "},{name:" "}]},{name:"  ",topics:[{name:" (Riccia)"},{name:" (Pteris)"}]},{name:"  ",topics:[{name:" (Cycas)"},{name:" (Poaceae) "},{name:" (Malvaceae) "}]},{name:"  ",topics:[{name:" "},{name:" "},{name:" "},{name:"   /"}]},{name:" ",topics:[{name:"  "},{name:""},{name:" (   )"},{name:"C3  C4 "},{name:" (  )"},{name:"   "}]},{name:" ",topics:[{name:" "},{name:"   "},{name:""}]},{name:"",topics:[{name:"  "},{name:" DNA "},{name:" "},{name:" "}]}]},{name:"  ",icon:"Dna",color:"bg-green-500",chapters:[{name:"   ",topics:[{name:" "},{name:"-  (Major Phyla)"},{name:"   "}]},{name:" ",topics:[{name:" (, , )"},{name:" (, ,  )"},{name:"  (,  , )"}]},{name:"  ",topics:[{name:"   "},{name:"   (, , )"},{name:"   "},{name:""}]},{name:"  ",topics:[{name:"   "},{name:" "},{name:"   "},{name:" "},{name:"  "}]},{name:"  ",topics:[{name:" "},{name:" "},{name:" "}]},{name:"  ",topics:[{name:" "},{name:" "},{name:"  "},{name:"   "}]},{name:"  ",topics:[{name:"   "},{name:"  "},{name:" "},{name:""}]}]},{name:"   ",icon:"Cpu",color:"bg-indigo-500",chapters:[{name:"  -    ",topics:[{name:" "},{name:" "},{name:""},{name:""},{name:" "},{name:""},{name:""},{name:" "},{name:""}]},{name:"  -  ",topics:[{name:"    "},{name:""},{name:"  ( )"},{name:"  (Bluetooth, WiFi, WiMax)"},{name:" "},{name:"   "},{name:" "}]},{name:"  -     ",topics:[{name:"  "},{name:"  "},{name:" (BCD, ASCII)"},{name:" "},{name:"  (  )"},{name:"  "},{name:" (  )"},{name:"  "}]},{name:"  -   ",topics:[{name:" "},{name:"HTML  "},{name:"   "},{name:"  "},{name:" "},{name:" "}]},{name:"  -   (C)",topics:[{name:"  "},{name:"  "},{name:"   "},{name:"  "},{name:"  (if-else)"},{name:" (for, while)"},{name:""},{name:""}]}]}]}],$g=[{level:1,minXP:0,title:"Novice"},{level:2,minXP:500,title:"Apprentice"},{level:3,minXP:1200,title:"Scholar"},{level:4,minXP:2500,title:"Sage"},{level:5,minXP:5e3,title:"Master"},{level:6,minXP:1e4,title:"Grandmaster"},{level:7,minXP:2e4,title:"Legend"}],Z0=t=>{const e=[...$g].reverse().find(i=>t>=i.minXP)||$g[0],n=$g.find(i=>i.level===e.level+1);return{currentLevel:e.level,currentTitle:e.title,nextLevelXP:n?n.minXP:null,progress:n?(t-e.minXP)/(n.minXP-e.minXP)*100:100}},RE={name:"Student",grade:"Class 10",language:"en",totalStudyTime:0,earnedBadges:[],currentStreak:0,dailyGoal:7200,todayStudyTime:0,weeklyStudyTime:0,monthlyStudyTime:0,xp:0,level:1,scheduledSessions:[]},Kg="study-tracker-data",O7=()=>{const t=ru[0];return t?t.subjects.map(e=>({id:crypto.randomUUID(),name:e.name,color:e.color,icon:e.icon,chapters:e.chapters.map(n=>({id:crypto.randomUUID(),name:n.name,isCompleted:!1,completedAt:null,topics:n.topics.map(i=>({id:crypto.randomUUID(),name:i.name,isCompleted:!1,completedAt:null}))}))})):[]},DN=N.createContext(void 0);function P7({children:t}){const{user:e}=Zi(),n=rm(),[i,a]=N.useState(()=>{try{const ue=localStorage.getItem(Kg);if(ue){const G=JSON.parse(ue);if(G.userProfile)return G.userProfile}}catch(ue){console.error("Failed to load profile:",ue)}return RE}),[l,c]=N.useState(()=>{try{const ue=localStorage.getItem(Kg);if(ue){const G=JSON.parse(ue);if(G.subjects&&G.subjects.length>0)return G.subjects.map(V=>({...V,chapters:V.chapters.map(F=>({...F,topics:F.topics||[]}))}))}}catch(ue){console.error("Failed to load subjects:",ue)}return O7()}),d=N.useCallback(async(ue,G)=>{if(e)try{await pU(K0(qi,"users",e.uid),{userProfile:ue,subjects:G})}catch(V){console.error("Cloud save failed:",V)}else localStorage.setItem(Kg,JSON.stringify({userProfile:ue,subjects:G}))},[e]),f=N.useRef(!0);N.useEffect(()=>{if(f.current){f.current=!1;return}const ue=l.reduce((F,$)=>F+$.chapters.length,0);let G=0;l.forEach(F=>{F.chapters.forEach($=>{$.topics?.length>0?$.topics.every(he=>he.isCompleted)&&G++:$.isCompleted&&G++})});const V=ue===0?0:Math.round(G/ue*100);i.syllabusCompletionPercentage!==V&&a(F=>({...F,syllabusCompletionPercentage:V})),d({...i,syllabusCompletionPercentage:V},l)},[l,i,d]),N.useEffect(()=>{if(!e)return;const ue=Bv(K0(qi,"users",e.uid),G=>{if(G.exists()){const V=G.data();V.userProfile&&a(V.userProfile),V.subjects&&c(V.subjects)}});return()=>ue()},[e]),N.useEffect(()=>{const ue=ru[0];if(!ue)return;let G=!1;const V=[...l];ue.subjects.forEach(F=>{V.some(he=>he.name===F.name)||(V.push({id:crypto.randomUUID(),name:F.name,color:F.color,icon:F.icon,chapters:F.chapters.map(he=>({id:crypto.randomUUID(),name:he.name,isCompleted:!1,completedAt:null,topics:he.topics.map(pe=>({id:crypto.randomUUID(),name:pe.name,isCompleted:!1,completedAt:null}))}))}),G=!0)}),G&&c(V)},[l]);const g=N.useCallback(ue=>{a(G=>({...G,...ue}))},[]),v=N.useCallback((ue,G)=>{a(V=>{const F=V.xp+ue,{currentLevel:$}=Z0(V.xp),{currentLevel:he,currentTitle:pe}=Z0(F);return he>$&&n.success(` Level Up! You are now a ${pe}!`),{...V,xp:F,level:he}})},[n]),b=ue=>{c(G=>[...G,{...ue,id:crypto.randomUUID(),chapters:[]}])},_=(ue,G)=>{c(V=>V.map(F=>F.id===ue?{...F,...G}:F))},S=ue=>{c(G=>G.filter(V=>V.id!==ue))},I=(ue,G)=>{c(V=>V.map(F=>F.id===ue?{...F,chapters:[...F.chapters,{id:crypto.randomUUID(),name:G,isCompleted:!1,topics:[]}]}:F))},M=(ue,G,V)=>{c(F=>F.map($=>$.id===ue?{...$,chapters:$.chapters.map(he=>he.id===G?{...he,name:V}:he)}:$))},D=(ue,G)=>{c(V=>V.map(F=>F.id===ue?{...F,chapters:F.chapters.map($=>$.id===G?{...$,isCompleted:!$.isCompleted,completedAt:$.isCompleted?null:new Date().toISOString()}:$)}:F))},L=(ue,G)=>{c(V=>V.map(F=>F.id===ue?{...F,chapters:F.chapters.filter($=>$.id!==G)}:F))},q=(ue,G,V)=>{c(F=>F.map($=>$.id===ue?{...$,chapters:$.chapters.map(he=>he.id===G?{...he,topics:[...he.topics,{id:crypto.randomUUID(),name:V,isCompleted:!1,completedAt:null}]}:he)}:$))},K=(ue,G,V,F)=>{c($=>$.map(he=>he.id===ue?{...he,chapters:he.chapters.map(pe=>pe.id===G?{...pe,topics:pe.topics.map(z=>z.id===V?{...z,name:F}:z)}:pe)}:he))},Z=(ue,G,V)=>{let F=0;c($=>$.map(he=>he.id===ue?{...he,chapters:he.chapters.map(pe=>{if(pe.id===G){const z=pe.topics.map(ce=>ce.id===V?(ce.isCompleted||(F=50),{...ce,isCompleted:!ce.isCompleted,completedAt:ce.isCompleted?null:new Date().toISOString()}):ce),se=z.length>0&&z.every(ce=>ce.isCompleted);return{...pe,topics:z,isCompleted:se,completedAt:se?new Date().toISOString():null}}return pe})}:he)),F>0&&(v(F,"Topic Completed"),n.success("+50 XP: Topic Completed!"))},ne=(ue,G,V)=>{c(F=>F.map($=>$.id===ue?{...$,chapters:$.chapters.map(he=>he.id===G?{...he,topics:he.topics.filter(pe=>pe.id!==V)}:he)}:$))},de=()=>{const ue={userProfile:i,subjects:l,timestamp:new Date().toISOString()},G=new Blob([JSON.stringify(ue,null,2)],{type:"application/json"}),V=URL.createObjectURL(G),F=document.createElement("a");F.href=V,F.download="study-tracker-backup.json",F.click(),URL.revokeObjectURL(V)},R=ue=>{try{const G=JSON.parse(ue);if(G.userProfile&&Array.isArray(G.subjects))return a(G.userProfile),c(G.subjects),!0}catch(G){console.error("Import failed:",G)}return!1},E=ue=>{const G=ue.map(V=>({id:crypto.randomUUID(),name:V.name,color:V.color,icon:V.icon,chapters:V.chapters.map(F=>({id:crypto.randomUUID(),name:F.name,isCompleted:!1,completedAt:null,topics:F.topics.map($=>({id:crypto.randomUUID(),name:$.name,isCompleted:!1,completedAt:null}))}))}));c(V=>[...V,...G])},C=()=>{window.confirm("Reset all progress?")&&(a(RE),c([]))},U=async(ue,G,V)=>{const F=new Date,$=F.toISOString().split("T")[0];if(a(pe=>{const z=pe.totalStudyTime+ue;let se=pe.currentStreak||0,ce=pe.todayStudyTime||0;if(pe.lastStudyDate!==$){const fe=new Date;fe.setDate(fe.getDate()-1),pe.lastStudyDate===fe.toISOString().split("T")[0]?se+=1:se=1,ce=ue}else ce+=ue;return{...pe,totalStudyTime:z,todayStudyTime:ce,currentStreak:se,lastStudyDate:$,weeklyStudyTime:(pe.weeklyStudyTime||0)+ue,monthlyStudyTime:(pe.monthlyStudyTime||0)+ue}}),e)try{await Y0(Fa(qi,"study_sessions"),{userId:e.uid,userName:e.displayName||i.name,durationInSeconds:ue,subjectId:G||null,sessionGoal:V||null,createdAt:F.toISOString()})}catch(pe){console.error("Session log failed:",pe)}const he=Math.floor(ue/300)*10;he>0&&(v(he,"Study Session"),n.success(`+${he} XP earned!`))},P=ue=>{const G={...ue,id:crypto.randomUUID(),isCompleted:!1};g({scheduledSessions:[...i.scheduledSessions||[],G]}),n.success("Study session scheduled!")},H=ue=>{const G=(i.scheduledSessions||[]).map(V=>V.id===ue?{...V,isCompleted:!V.isCompleted}:V);g({scheduledSessions:G})},j=ue=>{const G=(i.scheduledSessions||[]).filter(V=>V.id!==ue);g({scheduledSessions:G})};return N.useEffect(()=>{"Notification"in window&&Notification.permission==="default"&&Notification.requestPermission();const ue=setInterval(()=>{const G=new Date;a(V=>{const F=(V.scheduledSessions||[]).map($=>{if($.isCompleted||$.reminderSent||!$.time)return $;const pe=(new Date(`${$.date}T${$.time}`).getTime()-G.getTime())/6e4;if(pe<=10&&pe>-5){if(Notification.permission==="granted"){const z=l.find(se=>se.id===$.subjectId);new Notification(`Study Session: ${z?.name||"Upcoming"}`,{body:`Starting in ${Math.round(Math.max(0,pe))} minutes!`,icon:"/pwa-192x192.png"})}return{...$,reminderSent:!0}}return $});return{...V,scheduledSessions:F}})},6e4);return()=>clearInterval(ue)},[l]),m.jsx(DN.Provider,{value:{userProfile:i,subjects:l,updateProfile:g,addSubject:b,editSubject:_,deleteSubject:S,addChapter:I,editChapter:M,toggleChapter:D,deleteChapter:L,addTopic:q,editTopic:K,toggleTopic:Z,deleteTopic:ne,resetData:C,exportData:de,importData:R,importSyllabusData:E,saveStudySession:U,addScheduledSession:P,toggleScheduledSession:H,deleteScheduledSession:j},children:t})}function Yt(){const t=N.useContext(DN);if(!t)throw new Error("useStudy must be used within StudyProvider");return t}const L7=["bg-blue-500","bg-indigo-500","bg-violet-500","bg-purple-500","bg-fuchsia-500","bg-pink-500","bg-rose-500","bg-red-500","bg-orange-500","bg-amber-500","bg-yellow-500","bg-lime-500","bg-green-500","bg-emerald-500","bg-teal-500","bg-cyan-500","bg-sky-500","bg-slate-500"];function jN({subject:t,onClose:e}){const{editSubject:n}=Yt(),[i,a]=N.useState(t.name),[l,c]=N.useState(t.color),[d,f]=N.useState(t.examDate||""),g=v=>{v.preventDefault(),i.trim()&&(n(t.id,{name:i.trim(),color:l,examDate:d||void 0}),e())};return m.jsx(Ms,{children:m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:m.jsxs(Se.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white dark:bg-slate-800 rounded-2xl w-full max-w-md shadow-xl border border-slate-100 dark:border-slate-700 overflow-hidden",children:[m.jsxs("div",{className:"p-4 border-b border-slate-100 dark:border-slate-700 flex items-center justify-between bg-slate-50/50 dark:bg-slate-800/50",children:[m.jsx("h2",{className:"text-lg font-bold text-slate-800 dark:text-white",children:"Edit Subject"}),m.jsx("button",{onClick:e,className:"p-1 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 transition-colors rounded-full hover:bg-slate-100 dark:hover:bg-slate-700",children:m.jsx(er,{className:"w-5 h-5"})})]}),m.jsxs("form",{onSubmit:g,className:"p-6 space-y-6",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Subject Name"}),m.jsxs("div",{className:"relative",children:[m.jsx(us,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),m.jsx("input",{type:"text",value:i,onChange:v=>a(v.target.value),placeholder:"e.g. Mathematics",className:"w-full bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl py-3 pl-10 pr-4 text-slate-800 dark:text-white placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all",autoFocus:!0})]})]}),m.jsxs("div",{className:"space-y-3",children:[m.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Color Theme"}),m.jsx("div",{className:"grid grid-cols-4 gap-2",children:L7.map(v=>m.jsx("button",{type:"button",onClick:()=>c(v),className:`w-full h-8 rounded-lg ${v} ${l===v?"ring-2 ring-offset-2 ring-indigo-500":""}`},v))})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Exam Date (Optional)"}),m.jsx("input",{type:"date",value:d,onChange:v=>f(v.target.value),className:"w-full px-4 py-2 rounded-xl border border-slate-200 dark:border-slate-600 bg-slate-50 dark:bg-slate-700 text-slate-800 dark:text-slate-200 focus:ring-2 focus:ring-indigo-500 outline-none"})]}),m.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-900 rounded-xl border border-slate-100 dark:border-slate-700 flex items-center gap-3",children:[m.jsx("div",{className:`w-10 h-10 rounded-lg ${l} flex items-center justify-center text-white shadow-sm`,children:m.jsx(us,{className:"w-5 h-5"})}),m.jsxs("div",{children:[m.jsx("p",{className:"font-bold text-slate-800 dark:text-white",children:i||"Subject Name"}),m.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Preview"})]})]}),m.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[m.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-slate-600 dark:text-slate-400 font-medium hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:"Cancel"}),m.jsx("button",{type:"submit",disabled:!i.trim(),className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg shadow-sm shadow-blue-500/20 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:"Save Changes"})]})]})]})})})}const U7=Se(Jt);function z7({subject:t,index:e=0}){const[n,i]=N.useState(!1),a=t.chapters.length,l=t.chapters.filter(v=>v.isCompleted).length;let c=0;t.chapters.forEach(v=>{v.topics&&v.topics.length>0?c+=v.topics.filter(b=>b.isCompleted).length/v.topics.length*100:c+=v.isCompleted?100:0});const d=a===0?0:Math.round(c/a),f=t.examDate?Math.ceil((new Date(t.examDate).getTime()-new Date().getTime())/(1e3*60*60*24)):null,g=f!==null&&f<=7&&f>=0;return m.jsxs(m.Fragment,{children:[m.jsxs(U7,{to:`/subject/${t.id}`,whileHover:{y:-8,transition:{duration:.3,ease:[.25,1,.5,1]}},whileTap:{scale:.98},className:"group relative block bg-white dark:bg-slate-800 rounded-2xl md:rounded-3xl p-4 md:p-5 border border-slate-100 dark:border-slate-700 shadow-sm hover:shadow-2xl hover:shadow-blue-500/15 dark:hover:shadow-blue-900/20 transition-all overflow-hidden h-full flex flex-col",children:[m.jsx("div",{className:`absolute top-0 right-0 w-24 h-24 md:w-32 md:h-32 bg-gradient-to-br ${t.color.replace("bg-","from-").replace("-500","-500/10")} to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500 rounded-bl-full pointer-events-none`}),m.jsx(Se.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:v=>{v.preventDefault(),v.stopPropagation(),i(!0)},className:"absolute top-2 right-2 md:top-4 md:right-4 p-1.5 md:p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/30 dark:hover:text-blue-400 rounded-xl transition-colors opacity-100 md:opacity-0 md:group-hover:opacity-100 z-10",title:"Edit Subject",children:m.jsx(sm,{className:"w-3.5 h-3.5 md:w-4 md:h-4"})}),m.jsxs("div",{className:"flex items-start justify-between mb-4 md:mb-6 relative z-10",children:[m.jsx(Se.div,{whileHover:{rotate:15,scale:1.1},className:`w-10 h-10 md:w-14 md:h-14 rounded-xl md:rounded-2xl ${t.color} flex items-center justify-center text-white shadow-lg shadow-blue-500/20`,children:m.jsx(us,{className:"w-5 h-5 md:w-7 md:h-7"})}),m.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700/50 backdrop-blur-sm px-2 py-1 md:px-3 md:py-1.5 rounded-lg md:rounded-xl text-[10px] md:text-xs font-bold text-slate-700 dark:text-slate-200 border border-slate-100 dark:border-slate-600",children:[d,"%"]})]}),t.examDate&&f!==null&&f>=0&&m.jsxs("div",{className:`absolute top-16 right-4 text-xs font-bold px-2 py-1 rounded-lg flex items-center gap-1 ${g?"bg-red-100 text-red-600 animate-pulse":"bg-indigo-50 text-indigo-600"}`,children:[m.jsx(xN,{className:"w-3 h-3"}),m.jsxs("span",{children:[f," days left"]})]}),m.jsx("h3",{className:"text-sm md:text-xl font-bold text-slate-800 dark:text-white mb-2 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors line-clamp-1",children:t.name}),m.jsxs("div",{className:"flex items-center gap-2 md:gap-3 text-xs md:text-sm text-slate-500 dark:text-slate-400 mb-4 md:mb-6 mt-auto",children:[m.jsxs("div",{className:"flex items-center gap-1 md:gap-1.5 bg-slate-50 dark:bg-slate-700/50 px-1.5 py-0.5 md:px-2 md:py-1 rounded-md md:rounded-lg",children:[m.jsx(us,{className:"w-3 h-3 md:w-3.5 md:h-3.5"}),m.jsx("span",{children:a})]}),l>0&&m.jsxs("div",{className:"flex items-center gap-1 md:gap-1.5 bg-emerald-50 dark:bg-emerald-900/20 text-emerald-600 dark:text-emerald-400 px-1.5 py-0.5 md:px-2 md:py-1 rounded-md md:rounded-lg",children:[m.jsx(io,{className:"w-3 h-3 md:w-3.5 md:h-3.5"}),m.jsx("span",{children:l})]})]}),m.jsxs("div",{className:"space-y-1.5 md:space-y-2",children:[m.jsxs("div",{className:"hidden md:flex justify-between text-xs text-slate-400 dark:text-slate-500 font-medium",children:[m.jsx("span",{children:"Progress"}),m.jsxs("span",{children:[d,"%"]})]}),m.jsx("div",{className:"h-1.5 md:h-2.5 w-full bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden",children:m.jsx(Se.div,{initial:{width:0},animate:{width:`${d}%`},transition:{duration:1,delay:.5+e*.1,ease:"easeOut"},className:`h-full ${t.color} rounded-full`})})]}),m.jsxs("div",{className:"mt-4 md:mt-5 pt-3 md:pt-4 border-t border-slate-100 dark:border-slate-700 flex items-center justify-between text-xs md:text-sm",children:[m.jsx("span",{className:"text-slate-400 dark:text-slate-500 group-hover:text-slate-600 dark:group-hover:text-slate-300 transition-colors",children:"Details"}),m.jsx("div",{className:"w-6 h-6 md:w-8 md:h-8 rounded-full bg-slate-50 dark:bg-slate-700 flex items-center justify-center group-hover:bg-blue-600 group-hover:text-white transition-all duration-300",children:m.jsx(Hv,{className:"w-3 h-3 md:w-4 md:h-4"})})]})]}),n&&m.jsx(jN,{subject:t,onClose:()=>i(!1)})]})}const IE=["bg-blue-500","bg-emerald-500","bg-violet-500","bg-amber-500","bg-rose-500","bg-cyan-500","bg-fuchsia-500","bg-orange-500"];function B7({onClose:t}){const{addSubject:e}=Yt(),[n,i]=N.useState(""),[a,l]=N.useState(IE[0]),c=d=>{d.preventDefault(),n.trim()&&(e({name:n.trim(),color:a,icon:"book"}),t())};return m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm animate-in fade-in duration-200",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl w-full max-w-md overflow-hidden animate-in zoom-in-95 duration-200 transition-colors",children:[m.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-slate-100 dark:border-slate-700",children:[m.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white flex items-center gap-2 transition-colors",children:[m.jsx(d8,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),"Add New Subject"]}),m.jsx("button",{onClick:t,className:"p-2 text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full transition-colors",children:m.jsx(er,{className:"w-5 h-5"})})]}),m.jsxs("form",{onSubmit:c,className:"p-6 space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1 transition-colors",children:"Subject Name"}),m.jsx("input",{autoFocus:!0,type:"text",value:n,onChange:d=>i(d.target.value),placeholder:"e.g. Physics",className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all font-medium placeholder:font-normal placeholder:text-slate-400 dark:placeholder:text-slate-500"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2 transition-colors",children:"Color Tag"}),m.jsx("div",{className:"flex flex-wrap gap-2",children:IE.map(d=>m.jsx("button",{type:"button",onClick:()=>l(d),className:`w-8 h-8 rounded-full ${d} transition-all ${a===d?"ring-2 ring-offset-2 ring-slate-400 dark:ring-slate-500 scale-110":"hover:scale-105 opacity-80 hover:opacity-100"}`},d))})]}),m.jsx("div",{className:"pt-2",children:m.jsxs("button",{type:"submit",disabled:!n.trim(),className:"w-full bg-blue-600 hover:bg-blue-700 dark:bg-blue-600 dark:hover:bg-blue-500 disabled:opacity-50 disabled:cursor-not-allowed text-white font-medium py-3 rounded-xl flex items-center justify-center gap-2 transition-all active:scale-[0.98]",children:[m.jsx(Nf,{className:"w-5 h-5"}),"Create Subject"]})})]})]})})}const F7={start_strong:{icon:io,label:"Start Strong",description:"Completed your first topic!",color:"text-emerald-500 bg-emerald-100 dark:bg-emerald-900/30"},streak_master:{icon:O8,label:"Streak Master",description:"Studied for 3 days in a row.",color:"text-orange-500 bg-orange-100 dark:bg-orange-900/30"},subject_conqueror:{icon:vN,label:"Subject Conqueror",description:"Completed 100% of a subject.",color:"text-purple-500 bg-purple-100 dark:bg-purple-900/30"},night_owl:{icon:kf,label:"Night Owl",description:"Completed a session late at night (10PM - 4AM).",color:"text-blue-500 bg-blue-100 dark:bg-blue-900/30"}};function H7({type:t,isLocked:e=!1,dateEarned:n}){const i=F7[t],a=i.icon,[l,c]=N.useState(!1);return m.jsxs("div",{className:"relative flex flex-col items-center gap-2 group cursor-pointer",onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),onClick:()=>c(!l),children:[m.jsx(Se.div,{whileHover:{scale:1.05},className:`w-16 h-16 rounded-full flex items-center justify-center shadow-sm border-2 transition-colors ${e?"bg-slate-100 dark:bg-slate-800 border-slate-200 dark:border-slate-700 opacity-60 grayscale":`${i.color} border-transparent`}`,children:m.jsx(a,{className:`w-8 h-8 ${e?"text-slate-400":""}`})}),m.jsx("span",{className:`text-xs font-medium text-center max-w-[5rem] ${e?"text-slate-400":"text-slate-700 dark:text-slate-300"}`,children:i.label}),l&&m.jsxs(Se.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"absolute bottom-full mb-2 bg-slate-800 dark:bg-slate-700 text-white text-xs p-2 rounded-lg shadow-xl whitespace-nowrap z-50 pointer-events-none",children:[m.jsx("p",{className:"font-semibold",children:i.label}),m.jsx("p",{className:"text-slate-300",children:i.description}),!e&&n&&m.jsxs("p",{className:"text-slate-400 mt-1 text-[10px]",children:["Earned: ",new Date(n).toLocaleDateString()]})]})]})}function q7(){const{updateProfile:t}=Yt(),[e,n]=N.useState(""),[i,a]=N.useState(""),l=c=>{if(c.preventDefault(),!e.trim()){alert("Please enter your name");return}t({name:e.trim(),grade:i.trim()||"Not specified"})};return m.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm",children:m.jsxs(Se.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-md overflow-hidden",children:[m.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-indigo-600 p-6 text-white",children:[m.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Welcome to TrackEd! "}),m.jsx("p",{className:"text-blue-100 text-sm",children:"Let's get started by setting up your profile"})]}),m.jsxs("form",{onSubmit:l,className:"p-6 space-y-5",children:[m.jsxs("div",{children:[m.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:[m.jsx(X0,{className:"w-4 h-4"}),"Your Name ",m.jsx("span",{className:"text-red-500",children:"*"})]}),m.jsx("input",{type:"text",value:e,onChange:c=>n(c.target.value),className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 transition-all placeholder:text-slate-400 dark:placeholder:text-slate-500",placeholder:"Enter your name",autoFocus:!0})]}),m.jsxs("div",{children:[m.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:[m.jsx(EN,{className:"w-4 h-4"}),"Class / Grade"]}),m.jsx("input",{type:"text",value:i,onChange:c=>a(c.target.value),className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 transition-all placeholder:text-slate-400 dark:placeholder:text-slate-500",placeholder:"e.g., HSC 2026, SSC 2024"})]}),m.jsx("div",{className:"pt-2",children:m.jsx("button",{type:"submit",className:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white font-semibold py-3 rounded-xl transition-all shadow-lg shadow-blue-500/25 active:scale-[0.98]",children:"Get Started"})}),m.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 text-center",children:"You can update these details anytime in Settings"})]})]})})}function G7(){const{userProfile:t,updateProfile:e}=Yt(),[n,i]=N.useState(!1),[a,l]=N.useState(t.dailyGoal?t.dailyGoal/3600:2),c=t.dailyGoal||7200,d=t.todayStudyTime||0,f=Math.min(100,Math.round(d/c*100)),g=()=>{e({dailyGoal:a*3600}),i(!1)};return m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm md:h-full flex flex-col relative overflow-hidden",children:[m.jsxs("div",{className:"flex items-center justify-between mb-2 z-10",children:[m.jsxs("h3",{className:"text-slate-500 dark:text-slate-400 font-medium flex items-center gap-2 text-sm",children:[m.jsx(_7,{className:"w-4 h-4"}),"Daily Goal"]}),n?m.jsxs("button",{onClick:g,className:"text-xs text-green-600 dark:text-green-400 hover:underline flex items-center gap-1 font-bold",children:["Save ",m.jsx(_N,{className:"w-3 h-3"})]}):m.jsxs("button",{onClick:()=>i(!0),className:"text-xs text-blue-600 dark:text-blue-400 hover:underline flex items-center gap-1",children:["Edit ",m.jsx(s7,{className:"w-3 h-3"})]})]}),m.jsxs("div",{className:"flex-1 flex items-center justify-between z-10 mt-2",children:[m.jsxs("div",{className:"space-y-1",children:[n?m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("input",{type:"number",min:"0.5",max:"24",step:"0.5",value:a,onChange:v=>l(parseFloat(v.target.value)),className:"w-16 p-1 border rounded text-lg font-bold bg-slate-50 dark:bg-slate-700 dark:text-white",autoFocus:!0}),m.jsx("span",{className:"text-slate-500",children:"hrs"})]}):m.jsxs("div",{className:"text-3xl font-bold text-slate-800 dark:text-white",children:[Math.floor(d/3600),m.jsx("span",{className:"text-lg text-slate-400 font-normal",children:"h"})," ",Math.floor(d%3600/60),m.jsx("span",{className:"text-lg text-slate-400 font-normal",children:"m"})]}),m.jsxs("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:["of ",Math.floor(c/3600),"h goal"]})]}),m.jsxs("div",{className:"relative w-20 h-20 flex-shrink-0",children:[m.jsxs("svg",{className:"w-full h-full transform -rotate-90",children:[m.jsx("circle",{cx:"40",cy:"40",r:"36",stroke:"currentColor",strokeWidth:"8",fill:"transparent",className:"text-slate-100 dark:text-slate-700"}),m.jsx(Se.circle,{initial:{strokeDashoffset:226},animate:{strokeDashoffset:226-226*f/100},transition:{duration:1,ease:"easeOut"},cx:"40",cy:"40",r:"36",stroke:"currentColor",strokeWidth:"8",fill:"transparent",strokeDasharray:"226",strokeLinecap:"round",className:`${f>=100?"text-green-500":"text-blue-500"}`})]}),m.jsxs("div",{className:"absolute inset-0 flex items-center justify-center text-xs font-bold text-slate-700 dark:text-slate-300",children:[f,"%"]})]})]}),f>=100&&m.jsxs(Se.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"absolute inset-0 bg-green-50/90 dark:bg-green-900/90 flex items-center justify-center flex-col z-20 backdrop-blur-sm",children:[m.jsx(Wa,{className:"w-10 h-10 text-green-600 dark:text-green-400 mb-2"}),m.jsx("span",{className:"text-green-800 dark:text-green-100 font-bold",children:"Goal Reached!"})]})]})}function $7(){const{subjects:t}=Yt();let e=null,n=null,i=null;for(const a of t)if(a.chapters.some(c=>!c.isCompleted&&(!c.topics.length||c.topics.some(d=>!d.isCompleted)))){e=a;for(const c of a.chapters)if(!c.isCompleted)if(c.topics.length>0){const d=c.topics.find(f=>!f.isCompleted);if(d){n=c,i=d;break}}else{n=c;break}break}return!e||!n?m.jsxs("div",{className:"bg-gradient-to-r from-emerald-500 to-teal-600 rounded-2xl p-6 text-white shadow-lg shadow-emerald-500/20 flex flex-col items-center justify-center text-center h-full min-h-[160px]",children:[m.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center mb-3 text-2xl",children:""}),m.jsx("h3",{className:"font-bold text-xl mb-1",children:"All Caught Up!"}),m.jsx("p",{className:"text-emerald-100 text-sm",children:"You've completed everything in your syllabus."}),m.jsx("div",{className:"mt-4 px-4 py-2 bg-white/20 rounded-lg text-sm font-medium backdrop-blur-sm",children:"Time to review or rest!"})]}):m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm relative overflow-hidden h-full flex flex-col justify-between group",children:[m.jsxs("div",{className:"relative z-10",children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsxs("h3",{className:"text-slate-500 dark:text-slate-400 font-medium flex items-center gap-2 text-sm",children:[m.jsx(kN,{className:"w-4 h-4 text-blue-500 fill-current"}),"Continue Learning"]}),m.jsx("span",{className:`text-xs font-semibold px-2 py-1 rounded-full text-white ${e.color}`,children:e.name})]}),m.jsxs("div",{className:"mb-4",children:[m.jsx("h4",{className:"text-xl font-bold text-slate-800 dark:text-white line-clamp-1 mb-1",children:i?i.name:n.name}),m.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 flex items-center gap-2",children:[m.jsx(us,{className:"w-3.5 h-3.5"}),n.name]})]})]}),m.jsx("div",{className:"relative z-10",children:m.jsxs(Jt,{to:`/subject/${e.id}`,className:"flex items-center justify-center gap-2 w-full py-2.5 bg-slate-900 hover:bg-slate-800 dark:bg-slate-700 dark:hover:bg-slate-600 text-white rounded-xl font-medium transition-all group-hover:translate-x-1",children:["Resume Study ",m.jsx(Hv,{className:"w-4 h-4"})]})}),m.jsx("div",{className:`absolute top-0 right-0 w-32 h-32 opacity-10 rounded-full blur-2xl -translate-y-1/2 translate-x-1/2 ${e.color.replace("text-","bg-")}`})]})}const Ah=[{text:"The expert in anything was once a beginner.",author:"Helen Hayes"},{text:"It always seems impossible until it's done.",author:"Nelson Mandela"},{text:"Don't watch the clock; do what it does. Keep going.",author:"Sam Levenson"},{text:"Success is the sum of small efforts, repeated day in and day out.",author:"Robert Collier"},{text:"There is no substitute for hard work.",author:"Thomas Edison"},{text:"The future depends on what you do today.",author:"Mahatma Gandhi"},{text:"Believe you can and you're halfway there.",author:"Theodore Roosevelt"},{text:"Quality is not an act, it is a habit.",author:"Aristotle"},{text:"Your limitationit's only your imagination.",author:"Unknown"},{text:"Push yourself, because no one else is going to do it for you.",author:"Unknown"},{text:"Great things never come from comfort zones.",author:"Unknown"},{text:"Dream it. Wish it. Do it.",author:"Unknown"},{text:"Success doesn't just find you. You have to go out and get it.",author:"Unknown"},{text:"The harder you work for something, the greater you'll feel when you achieve it.",author:"Unknown"},{text:"Dream bigger. Do bigger.",author:"Unknown"},{text:"Don't stop when you're tired. Stop when you're done.",author:"Unknown"},{text:"Wake up with determination. Go to bed with satisfaction.",author:"Unknown"},{text:"Do something today that your future self will thank you for.",author:"Unknown"},{text:"Little things make big days.",author:"Unknown"},{text:"It's going to be hard, but hard does not mean impossible.",author:"Unknown"}];function K7(){const[t,e]=N.useState(()=>Math.floor(Math.random()*Ah.length)),n=()=>{e(i=>(i+1)%Ah.length)};return m.jsxs("div",{className:"bg-gradient-to-br from-indigo-500 to-purple-600 rounded-2xl p-6 text-white relative overflow-hidden shadow-lg shadow-indigo-500/20 md:h-full flex flex-col justify-between",children:[m.jsxs("div",{className:"flex items-start justify-between mb-4",children:[m.jsx("div",{className:"p-2 bg-white/20 backdrop-blur-sm rounded-lg",children:m.jsx(l7,{className:"w-5 h-5 text-white"})}),m.jsx("button",{onClick:n,className:"p-2 text-white/50 hover:text-white hover:bg-white/10 rounded-full transition-colors",title:"Next Quote",children:m.jsx(u7,{className:"w-4 h-4"})})]}),m.jsx(Ms,{mode:"wait",children:m.jsxs(Se.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},children:[m.jsxs("p",{className:"text-lg md:text-xl font-medium mb-3 leading-relaxed",children:['"',Ah[t].text,'"']}),m.jsxs("p",{className:"text-indigo-200 text-sm font-medium",children:[" ",Ah[t].author]})]},t)}),m.jsx("div",{className:"absolute -bottom-4 -right-4 w-24 h-24 bg-white/10 rounded-full blur-xl"}),m.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-purple-500/20 rounded-full blur-2xl"})]})}function Y7(){const{user:t}=Zi(),[e,n]=N.useState([]),[i,a]=N.useState(!0);return N.useEffect(()=>{(async()=>{try{const c=tm(Fa(qi,"users"),Lv("userProfile.syllabusCompletionPercentage","desc"),zv(10)),d=await dN(c),f=[];d.forEach(g=>{const v=g.data();v.userProfile&&f.push({uid:g.id,name:v.userProfile.name||"Anonymous",percentage:v.userProfile.syllabusCompletionPercentage||0,grade:v.userProfile.grade||"Student"})}),n(f)}catch(c){console.error("Error fetching leaderboard:",c)}finally{a(!1)}})()},[]),i?m.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-3xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm h-full flex items-center justify-center min-h-[300px]",children:m.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-500"})}):m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm h-full flex flex-col",children:[m.jsxs("h3",{className:"text-slate-800 dark:text-white font-bold text-lg mb-4 flex items-center gap-2",children:[m.jsx(Wa,{className:"w-5 h-5 text-amber-500"}),"Leaderboard"]}),m.jsx("div",{className:"flex-1 overflow-y-auto pr-2 space-y-3 scrollbar-thin scrollbar-thumb-slate-200 dark:scrollbar-thumb-slate-700",children:e.length===0?m.jsxs("div",{className:"flex flex-col items-center justify-center text-center text-slate-500 dark:text-slate-400 py-8 h-full",children:[m.jsx("div",{className:"w-16 h-16 bg-slate-50 dark:bg-slate-700/50 rounded-full flex items-center justify-center mb-3",children:m.jsx(Wa,{className:"w-8 h-8 text-slate-300 dark:text-slate-500 opacity-50"})}),m.jsx("p",{className:"font-medium text-slate-600 dark:text-slate-300",children:"No champions yet!"}),m.jsx("p",{className:"text-xs max-w-[150px] mt-1",children:"Complete chapters to climb the ranks."})]}):e.map((l,c)=>{const d=t?.uid===l.uid;let f=null;return c===0?f=m.jsx(Gg,{className:"w-5 h-5 text-yellow-500"}):c===1?f=m.jsx(Gg,{className:"w-5 h-5 text-slate-400"}):c===2?f=m.jsx(Gg,{className:"w-5 h-5 text-amber-700"}):f=m.jsx("span",{className:"text-sm font-bold text-slate-400 w-5 text-center",children:c+1}),m.jsxs(Se.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:c*.1},className:`flex items-center gap-3 p-3 rounded-xl transition-colors ${d?"bg-indigo-50 dark:bg-indigo-900/30 border border-indigo-100 dark:border-indigo-800":"hover:bg-slate-50 dark:hover:bg-slate-700/50"}`,children:[m.jsx("div",{className:"flex-shrink-0 flex items-center justify-center w-8",children:f}),m.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-slate-200 dark:bg-slate-700 flex items-center justify-center text-xs font-bold text-slate-600 dark:text-slate-300",children:l.name[0].toUpperCase()}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsxs("p",{className:`text-sm font-medium truncate ${d?"text-indigo-700 dark:text-indigo-300":"text-slate-700 dark:text-slate-200"}`,children:[l.name," ",d&&"(You)"]}),m.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 truncate",children:l.grade})]}),m.jsxs("div",{className:"font-bold text-slate-800 dark:text-white text-sm",children:[l.percentage,"%"]})]},l.uid)})})]})}const DE={hidden:{opacity:0,y:10},show:{opacity:1,y:0,transition:{duration:.4,when:"beforeChildren",staggerChildren:.1}},exit:{opacity:0,y:-10}},Yg={hidden:{opacity:0,y:20},show:{opacity:1,y:0,transition:{type:"spring",stiffness:100,damping:12}}};function Q7(){const{userProfile:t,subjects:e}=Yt(),[n,i]=N.useState(!1),a=t.name==="Student",l=e.reduce((g,v)=>g+v.chapters.length,0),c=e.reduce((g,v)=>g+v.chapters.filter(b=>b.isCompleted).length,0);let d=0;e.forEach(g=>{g.chapters.forEach(v=>{v.topics&&v.topics.length>0?d+=v.topics.filter(b=>b.isCompleted).length/v.topics.length*100:d+=v.isCompleted?100:0})});const f=l===0?0:Math.round(d/l);return m.jsxs(Se.div,{className:"space-y-6 md:space-y-8",variants:DE,initial:"hidden",animate:"show",exit:"exit",children:[m.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 mb-8",children:[m.jsxs("div",{children:[m.jsxs("h1",{className:"text-3xl md:text-4xl font-bold text-slate-800 dark:text-white transition-colors tracking-tight",children:["Hello, ",m.jsx("span",{className:"bg-gradient-to-r from-blue-600 to-teal-500 dark:from-blue-400 dark:to-teal-400 bg-clip-text text-transparent",children:t.name}),m.jsx("span",{className:"inline-block animate-wave ml-2",children:""})]}),m.jsxs("p",{className:"text-base text-slate-500 dark:text-slate-400 mt-2 transition-colors",children:[m.jsx("span",{className:"font-semibold text-slate-700 dark:text-slate-300 px-2 py-0.5 bg-slate-100 dark:bg-slate-800 rounded-md mr-2",children:t.grade}),"Ready to crush your goals today?"]})]}),m.jsxs(Se.button,{id:"add-subject-btn",whileHover:{scale:1.05,boxShadow:"0 10px 25px -5px rgba(37, 99, 235, 0.4)"},whileTap:{scale:.95},onClick:()=>i(!0),className:"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white px-6 py-3.5 rounded-2xl font-semibold flex items-center justify-center gap-2 shadow-lg shadow-blue-500/30 transition-all text-sm md:text-base w-full md:w-auto",children:[m.jsx(bl,{className:"w-5 h-5"}),"New Subject"]})]}),"import AdBanner from '../components/AdBanner'; // ... (imports) // ... inside Dashboard component ...",m.jsxs("div",{className:"flex overflow-x-auto snap-x snap-mandatory -mx-4 px-4 pb-4 gap-3 md:grid md:grid-cols-2 lg:grid-cols-3 md:gap-6 md:mx-0 md:px-0 md:pb-0 md:overflow-visible no-scrollbar",children:[m.jsx("div",{className:"snap-center shrink-0 w-[70vw] sm:w-[50vw] md:w-auto lg:col-span-1 h-full",children:m.jsx($7,{})}),m.jsxs("div",{className:"snap-center shrink-0 w-[70vw] sm:w-[50vw] md:w-auto grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-1 gap-3 lg:gap-6 h-full",children:[m.jsx(G7,{}),m.jsx(K7,{})]}),m.jsx("div",{className:"snap-center shrink-0 w-[70vw] sm:w-[50vw] md:w-auto grid grid-cols-1 gap-3 lg:gap-6 h-full",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl md:rounded-3xl p-4 md:p-6 border border-slate-100 dark:border-slate-700 shadow-sm relative overflow-hidden",children:[m.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-10",children:m.jsx(b8,{className:"w-24 h-24 md:w-32 md:h-32 text-blue-500"})}),m.jsxs("div",{className:"flex items-center justify-between relative z-10 h-full",children:[m.jsxs("div",{children:[m.jsxs("h3",{className:"text-slate-500 dark:text-slate-400 font-medium mb-1 flex items-center gap-2 text-xs md:text-sm",children:[m.jsx(Wa,{className:"w-3.5 h-3.5 md:w-4 md:h-4 text-amber-500"})," Syllabus Progress"]}),m.jsxs("div",{className:"mt-3 md:mt-4 space-y-2 md:space-y-3",children:[m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-end gap-2 mb-1",children:[m.jsx("span",{className:"text-xl md:text-2xl font-bold text-slate-800 dark:text-white",children:c}),m.jsxs("span",{className:"text-xs md:text-sm text-slate-400 dark:text-slate-500 mb-0.5 md:mb-1",children:["/ ",l," Chapters"]})]}),m.jsx("div",{className:"h-1.5 md:h-2 w-full bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden",children:m.jsx(Se.div,{initial:{width:0},animate:{width:`${c/(l||1)*100}%`},className:"h-full bg-blue-500 rounded-full"})})]}),m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-end gap-2 mb-1",children:[m.jsxs("span",{className:"text-xl md:text-2xl font-bold text-slate-800 dark:text-white",children:[f,"%"]}),m.jsx("span",{className:"text-xs md:text-sm text-slate-400 dark:text-slate-500 mb-0.5 md:mb-1",children:"Total Completion"})]}),m.jsx("div",{className:"h-1.5 md:h-2 w-full bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden",children:m.jsx(Se.div,{initial:{width:0},animate:{width:`${f}%`},className:"h-full bg-emerald-500 rounded-full"})})]})]})]}),m.jsxs("div",{className:"relative w-20 h-20 md:w-28 md:h-28 flex-shrink-0",children:[m.jsxs("svg",{className:"w-full h-full transform -rotate-90",viewBox:"0 0 100 100",children:[m.jsx("circle",{className:"text-slate-100 dark:text-slate-700",strokeWidth:"8",stroke:"currentColor",fill:"transparent",r:"40",cx:"50",cy:"50"}),m.jsx(Se.circle,{className:"text-blue-600 dark:text-blue-500 drop-shadow-lg",strokeWidth:"8",strokeDasharray:251.2,strokeDashoffset:251.2-251.2*f/100,strokeLinecap:"round",stroke:"currentColor",fill:"transparent",r:"40",cx:"50",cy:"50",initial:{strokeDashoffset:251.2},animate:{strokeDashoffset:251.2-251.2*f/100},transition:{duration:1.5,ease:"easeOut"}})]}),m.jsx("div",{className:"absolute top-0 left-0 w-full h-full flex items-center justify-center flex-col",children:m.jsxs("span",{className:"text-xl font-bold text-slate-800 dark:text-white",children:[f,"%"]})})]})]})]})}),m.jsx("div",{className:"snap-center shrink-0 w-[85vw] md:w-auto lg:col-span-1 h-full min-h-[400px]",children:m.jsx(Y7,{})})]}),t.earnedBadges&&t.earnedBadges.length>0&&m.jsxs(Se.div,{variants:Yg,className:"bg-white dark:bg-slate-800 rounded-2xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm transition-colors",children:[m.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4 flex items-center gap-2",children:[m.jsx(Wa,{className:"w-5 h-5 text-yellow-500"}),"Recent Achievements"]}),m.jsx("div",{className:"flex flex-wrap gap-4",children:t.earnedBadges.map((g,v)=>m.jsx(H7,{type:g.type,dateEarned:g.earnedAt},`${g.type}-${v}`))})]}),m.jsxs("div",{children:[m.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4 flex items-center gap-2 transition-colors",children:["Your Subjects",m.jsx("span",{className:"text-sm font-normal text-slate-400 dark:text-slate-500 bg-slate-100 dark:bg-slate-800 px-2 py-0.5 rounded-full",children:e.length})]}),e.length>0?m.jsxs(Se.div,{variants:DE,initial:"hidden",animate:"show",className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 md:gap-4",children:[e.map((g,v)=>m.jsx(Se.div,{variants:Yg,children:m.jsx(z7,{subject:g,index:v})},g.id)),m.jsxs(Se.button,{variants:Yg,whileHover:{scale:1.02,backgroundColor:"rgba(239, 246, 255, 0.5)"},whileTap:{scale:.98},onClick:()=>i(!0),className:"group border-2 border-dashed border-slate-200 dark:border-slate-700 rounded-2xl p-6 flex flex-col items-center justify-center text-slate-400 dark:text-slate-500 hover:border-blue-400 dark:hover:border-blue-500 hover:text-blue-600 dark:hover:text-blue-400 transition-all cursor-pointer h-full min-h-[180px] w-full",children:[m.jsx("div",{className:"w-12 h-12 rounded-full bg-slate-100 dark:bg-slate-800 group-hover:bg-blue-100 dark:group-hover:bg-blue-900/20 flex items-center justify-center mb-3 transition-colors",children:m.jsx(bl,{className:"w-6 h-6"})}),m.jsx("span",{className:"font-medium",children:"Add Another Subject"})]})]}):m.jsxs(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-16 bg-white dark:bg-slate-800 rounded-2xl border border-dashed border-slate-200 dark:border-slate-700 transition-colors",children:[m.jsx("div",{className:"w-16 h-16 bg-slate-50 dark:bg-slate-700 rounded-full flex items-center justify-center mx-auto mb-4",children:m.jsx(bN,{className:"w-8 h-8 text-slate-300 dark:text-slate-500"})}),m.jsx("h3",{className:"text-lg font-semibold text-slate-700 dark:text-slate-200 mb-2",children:"No subjects yet"}),m.jsx("p",{className:"text-slate-500 dark:text-slate-400 max-w-sm mx-auto mb-6",children:"Start by adding the subjects you want to track to organize your study plan."}),m.jsx("button",{onClick:()=>i(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2.5 rounded-xl font-medium transition-all",children:"Add Your First Subject"})]})]}),n&&m.jsx(B7,{onClose:()=>i(!1)}),a&&m.jsx(q7,{})]})}function X7({subjectId:t,onClose:e}){const{addChapter:n}=Yt(),[i,a]=N.useState(""),l=c=>{c.preventDefault(),i.trim()&&(n(t,i.trim()),a(""))};return m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm animate-in fade-in duration-200",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl w-full max-w-md overflow-hidden animate-in zoom-in-95 duration-200 transition-colors",children:[m.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-slate-100 dark:border-slate-700",children:[m.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white flex items-center gap-2 transition-colors",children:[m.jsx(bN,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),"Add Chapters"]}),m.jsx("button",{onClick:e,className:"p-2 text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full transition-colors",children:m.jsx(er,{className:"w-5 h-5"})})]}),m.jsxs("form",{onSubmit:l,className:"p-6 space-y-4",children:[m.jsxs("div",{children:[m.jsxs("div",{className:"flex justify-between items-center mb-1",children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 transition-colors",children:"Chapter Name / Topic"}),m.jsx("span",{className:"text-xs text-slate-400 dark:text-slate-500 transition-colors",children:"Press Enter to add & continue"})]}),m.jsx("input",{autoFocus:!0,type:"text",value:i,onChange:c=>a(c.target.value),placeholder:"e.g. Newton's Laws",className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all placeholder:text-slate-400 dark:placeholder:text-slate-500"})]}),m.jsxs("div",{className:"flex gap-3 pt-2",children:[m.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-3 border border-slate-200 dark:border-slate-600 text-slate-600 dark:text-slate-300 font-medium rounded-xl hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",children:"Done"}),m.jsxs("button",{type:"submit",disabled:!i.trim(),className:"flex-1 bg-blue-600 hover:bg-blue-700 dark:bg-blue-600 dark:hover:bg-blue-500 disabled:opacity-50 disabled:cursor-not-allowed text-white font-medium py-3 rounded-xl flex items-center justify-center gap-2 transition-all active:scale-[0.98]",children:[m.jsx(bl,{className:"w-5 h-5"}),"Add"]})]})]})]})})}const W7={initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10}};function am({children:t,className:e=""}){return m.jsx(Se.div,{variants:W7,initial:"initial",animate:"animate",exit:"exit",transition:{duration:.3,ease:"easeOut"},className:e,children:t})}const MN=N.createContext(void 0);function J7({children:t}){const[e,n]=N.useState(()=>typeof window<"u"?localStorage.getItem("sound-muted")==="true":!1),i=N.useRef(null);N.useEffect(()=>{localStorage.setItem("sound-muted",String(e))},[e]);const a=()=>{i.current||(i.current=new(window.AudioContext||window.webkitAudioContext)),i.current.state==="suspended"&&i.current.resume()},l=g=>{if(e)return;i.current||(i.current=new(window.AudioContext||window.webkitAudioContext));const v=i.current,b=v.createOscillator(),_=v.createGain();b.connect(_),_.connect(v.destination);const S=v.currentTime;switch(g){case"pop":b.type="sine",b.frequency.setValueAtTime(800,S),b.frequency.exponentialRampToValueAtTime(1200,S+.1),_.gain.setValueAtTime(.1,S),_.gain.exponentialRampToValueAtTime(.01,S+.1),b.start(S),b.stop(S+.1);break;case"success":c(v,523.25,S,.1,"sine"),c(v,659.25,S+.1,.1,"sine"),c(v,783.99,S+.2,.2,"sine");break;case"complete":b.type="triangle",b.frequency.setValueAtTime(440,S),b.frequency.linearRampToValueAtTime(880,S+.5),_.gain.setValueAtTime(.1,S),_.gain.linearRampToValueAtTime(.3,S+.2),_.gain.linearRampToValueAtTime(0,S+1.5),b.start(S),b.stop(S+1.5);break;case"click":b.type="square",b.frequency.setValueAtTime(200,S),_.gain.setValueAtTime(.05,S),_.gain.exponentialRampToValueAtTime(.01,S+.05),b.start(S),b.stop(S+.05);break;case"error":b.type="sawtooth",b.frequency.setValueAtTime(150,S),b.frequency.linearRampToValueAtTime(100,S+.2),_.gain.setValueAtTime(.1,S),_.gain.linearRampToValueAtTime(0,S+.3),b.start(S),b.stop(S+.3);break}},c=(g,v,b,_,S="sine")=>{const I=g.createOscillator(),M=g.createGain();I.connect(M),M.connect(g.destination),I.type=S,I.frequency.setValueAtTime(v,b),M.gain.setValueAtTime(.1,b),M.gain.exponentialRampToValueAtTime(.01,b+_),I.start(b),I.stop(b+_)},d=g=>{i.current?.state==="suspended"&&i.current.resume().catch(()=>{}),l(g)},f=()=>{n(g=>!g),e&&a()};return m.jsx(MN.Provider,{value:{isMuted:e,toggleMute:f,playSound:d},children:t})}function $v(){const t=N.useContext(MN);if(t===void 0)throw new Error("useSound must be used within a SoundProvider");return t}function Z7({subjectId:t,chapterId:e,topicId:n,currentName:i,onClose:a}){const{editTopic:l}=Yt(),[c,d]=N.useState(i);N.useEffect(()=>{d(i)},[i]);const f=g=>{g.preventDefault(),c.trim()&&(l(t,e,n,c.trim()),a())};return m.jsx(Ms,{children:m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:m.jsxs(Se.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white dark:bg-slate-800 rounded-2xl w-full max-w-sm shadow-xl border border-slate-100 dark:border-slate-700 overflow-hidden",children:[m.jsxs("div",{className:"p-4 border-b border-slate-100 dark:border-slate-700 flex items-center justify-between bg-slate-50/50 dark:bg-slate-800/50",children:[m.jsx("h2",{className:"text-lg font-bold text-slate-800 dark:text-white",children:"Edit Topic"}),m.jsx("button",{onClick:a,className:"p-1 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 transition-colors rounded-full hover:bg-slate-100 dark:hover:bg-slate-700",children:m.jsx(er,{className:"w-5 h-5"})})]}),m.jsxs("form",{onSubmit:f,className:"p-6 space-y-6",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Topic Name"}),m.jsxs("div",{className:"relative",children:[m.jsx(AN,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),m.jsx("input",{type:"text",value:c,onChange:g=>d(g.target.value),placeholder:"e.g. Algebra Basics",className:"w-full bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl py-3 pl-10 pr-4 text-slate-800 dark:text-white placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all",autoFocus:!0})]})]}),m.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[m.jsx("button",{type:"button",onClick:a,className:"px-4 py-2 text-slate-600 dark:text-slate-400 font-medium hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:"Cancel"}),m.jsx("button",{type:"submit",disabled:!c.trim(),className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg shadow-sm shadow-blue-500/20 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:"Save Changes"})]})]})]})})})}function ez({subjectId:t,chapterId:e,topic:n}){const{toggleTopic:i,deleteTopic:a}=Yt(),{playSound:l}=$v(),[c,d]=N.useState(!1);return m.jsxs(m.Fragment,{children:[m.jsxs(Se.div,{layout:!0,initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:-10},className:"flex items-center gap-3 py-2 pl-4 pr-2 group/topic hover:bg-slate-50 dark:hover:bg-slate-700/50 rounded-lg transition-colors ml-8 border-l border-slate-100 dark:border-slate-700",children:[m.jsx(Se.button,{whileTap:{scale:.8},onClick:()=>{i(t,e,n.id),n.isCompleted||l("pop")},className:`flex-shrink-0 w-4 h-4 rounded-full border flex items-center justify-center transition-colors ${n.isCompleted?"border-emerald-500 bg-emerald-500 text-white":"border-slate-300 dark:border-slate-500 text-transparent hover:border-slate-400 dark:hover:border-slate-400"}`,children:m.jsx(io,{className:"w-3 h-3"})}),m.jsx("span",{className:`flex-1 text-sm font-google-sans transition-all ${n.isCompleted?"text-slate-400 line-through":"text-slate-600 dark:text-slate-300"}`,children:n.name}),m.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover/topic:opacity-100 transition-opacity",children:[m.jsx("button",{onClick:()=>d(!0),className:"p-1.5 text-slate-300 hover:text-amber-500 dark:text-slate-600 dark:hover:text-amber-400 transition-all",title:"Edit Topic",children:m.jsx(sm,{className:"w-3.5 h-3.5"})}),m.jsx("button",{onClick:()=>confirm("Delete this topic?")&&a(t,e,n.id),className:"p-1.5 text-slate-300 hover:text-red-500 dark:text-slate-600 dark:hover:text-red-400 transition-all",title:"Delete Topic",children:m.jsx(im,{className:"w-3.5 h-3.5"})})]})]}),c&&m.jsx(Z7,{subjectId:t,chapterId:e,topicId:n.id,currentName:n.name,onClose:()=>d(!1)})]})}function tz({subjectId:t,chapterId:e,currentName:n,onClose:i}){const{editChapter:a}=Yt(),[l,c]=N.useState(n);N.useEffect(()=>{c(n)},[n]);const d=f=>{f.preventDefault(),l.trim()&&(a(t,e,l.trim()),i())};return m.jsx(Ms,{children:m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:m.jsxs(Se.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white dark:bg-slate-800 rounded-2xl w-full max-w-md shadow-xl border border-slate-100 dark:border-slate-700 overflow-hidden",children:[m.jsxs("div",{className:"p-4 border-b border-slate-100 dark:border-slate-700 flex items-center justify-between bg-slate-50/50 dark:bg-slate-800/50",children:[m.jsx("h2",{className:"text-lg font-bold text-slate-800 dark:text-white",children:"Edit Chapter"}),m.jsx("button",{onClick:i,className:"p-1 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 transition-colors rounded-full hover:bg-slate-100 dark:hover:bg-slate-700",children:m.jsx(er,{className:"w-5 h-5"})})]}),m.jsxs("form",{onSubmit:d,className:"p-6 space-y-6",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Chapter Name"}),m.jsxs("div",{className:"relative",children:[m.jsx(AN,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),m.jsx("input",{type:"text",value:l,onChange:f=>c(f.target.value),placeholder:"e.g. Differentiation",className:"w-full bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl py-3 pl-10 pr-4 text-slate-800 dark:text-white placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all",autoFocus:!0})]})]}),m.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[m.jsx("button",{type:"button",onClick:i,className:"px-4 py-2 text-slate-600 dark:text-slate-400 font-medium hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:"Cancel"}),m.jsx("button",{type:"submit",disabled:!l.trim(),className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg shadow-sm shadow-blue-500/20 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:"Save Changes"})]})]})]})})})}function nz({subjectId:t,chapter:e,isExpanded:n,onToggle:i}){const{deleteChapter:a,addTopic:l}=Yt(),[c,d]=N.useState(!1),[f,g]=N.useState(!1),v=b=>{b.preventDefault();const _=b.target.elements.namedItem("topicName");_.value.trim()&&(l(t,e.id,_.value.trim()),_.value="",d(!1))};return m.jsxs("div",{className:"group transition-colors",children:[m.jsxs("div",{className:`flex items-center gap-3 p-4 pr-14 relative hover:bg-slate-50/80 dark:hover:bg-slate-700/50 cursor-pointer transition-colors ${e.isCompleted?"bg-slate-50/30 dark:bg-slate-700/30":""}`,onClick:i,children:[m.jsx("button",{className:"p-1 text-slate-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:m.jsx(Se.div,{animate:{rotate:n?180:0},transition:{duration:.2},children:m.jsx(w8,{className:"w-5 h-5"})})}),m.jsxs("div",{className:"flex-1",children:[m.jsx("span",{className:`block font-bold text-lg transition-all ${e.isCompleted?"text-emerald-700 dark:text-emerald-400":"text-slate-800 dark:text-slate-200"}`,children:e.name}),m.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[m.jsxs("span",{className:"text-xs text-slate-400 dark:text-slate-500 font-medium whitespace-nowrap transition-colors",children:[e.topics?.filter(b=>b.isCompleted).length||0,"/",e.topics?.length||0," Topics",e.isCompleted&&m.jsxs("span",{className:"text-emerald-600 dark:text-emerald-400 ml-2 font-bold inline-flex items-center gap-1",children:[m.jsx(io,{className:"w-3 h-3"})," Done"]})]}),e.topics&&e.topics.length>0&&m.jsx("div",{className:"h-1.5 w-24 bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden flex-shrink-0 transition-colors",children:m.jsx(Se.div,{initial:{width:0},animate:{width:`${Math.round(e.topics.filter(b=>b.isCompleted).length/e.topics.length*100)}%`},transition:{duration:.5,ease:"easeOut"},className:`h-full ${e.isCompleted?"bg-emerald-500":"bg-blue-500"}`})})]})]}),m.jsxs("div",{className:"flex items-center gap-2 absolute right-4 top-1/2 -translate-y-1/2",children:[m.jsx(Se.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:b=>{b.stopPropagation(),d(!0),n||i()},className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/30 dark:hover:text-blue-400 rounded-lg transition-colors",title:"Add Topic",children:m.jsx(bl,{className:"w-4 h-4"})}),m.jsx(Se.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:b=>{b.stopPropagation(),g(!0)},className:"p-2 text-slate-400 hover:text-amber-500 hover:bg-amber-50 dark:hover:bg-amber-900/30 dark:hover:text-amber-400 rounded-lg transition-colors",title:"Edit Chapter",children:m.jsx(sm,{className:"w-4 h-4"})}),m.jsx(Se.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:b=>{b.stopPropagation(),confirm("Delete this chapter?")&&a(t,e.id)},className:"p-2 text-slate-300 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/30 dark:hover:text-red-400 rounded-lg transition-colors",title:"Delete Chapter",children:m.jsx(im,{className:"w-4 h-4"})})]})]}),m.jsx(Ms,{children:n&&m.jsx(Se.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2,ease:"easeInOut"},className:"overflow-hidden bg-slate-50/50 dark:bg-slate-800/50 transition-colors",children:m.jsxs("div",{className:"pb-2",children:[e.topics&&e.topics.length>0?e.topics.map(b=>m.jsx(ez,{subjectId:t,chapterId:e.id,topic:b},b.id)):m.jsx("div",{className:"pl-12 py-3 text-sm text-slate-400 italic",children:"No topics yet. Click + to add one."}),c&&m.jsxs(Se.form,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},onSubmit:v,className:"pl-12 pr-4 py-2 flex items-center gap-2",children:[m.jsx(C8,{className:"w-4 h-4 text-slate-300 dark:text-slate-500"}),m.jsx("input",{autoFocus:!0,name:"topicName",type:"text",placeholder:"Topic name...",className:"flex-1 bg-white dark:bg-slate-700 px-3 py-1.5 rounded-lg border border-slate-200 dark:border-slate-600 text-sm text-slate-800 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-colors",onBlur:()=>setTimeout(()=>d(!1),200)}),m.jsx("button",{type:"submit",className:"hidden",children:"Add"})]})]})})}),f&&m.jsx(tz,{subjectId:t,chapterId:e.id,currentName:e.name,onClose:()=>g(!1)})]})}function sz(){const{id:t}=_I(),e=If(),{subjects:n,deleteSubject:i}=Yt(),[a,l]=N.useState(!1),[c,d]=N.useState(!1),[f,g]=N.useState({}),v=n.find(L=>L.id===t);if(!v)return m.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[50vh] text-center p-8",children:[m.jsx("div",{className:"w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mb-4",children:m.jsx(us,{className:"w-8 h-8 text-slate-300"})}),m.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Subject Not Found"}),m.jsx(Jt,{to:"/",className:"mt-4 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Go Back Home"})]});const b=()=>{confirm(`Are you sure you want to delete ${v.name}? ALL progress will be lost.`)&&(i(v.id),e("/"))},_=L=>{g(q=>({...q,[L]:!q[L]}))},S=v.chapters.length,I=v.chapters.filter(L=>L.isCompleted).length;let M=0;v.chapters.forEach(L=>{L.topics&&L.topics.length>0?M+=L.topics.filter(q=>q.isCompleted).length/L.topics.length*100:M+=L.isCompleted?100:0});const D=S===0?0:Math.round(M/S);return m.jsxs(am,{className:"max-w-3xl mx-auto pb-12",children:[m.jsxs("div",{className:"mb-8",children:[m.jsxs(Jt,{to:"/",className:"inline-flex items-center gap-2 text-slate-500 hover:text-slate-800 dark:text-slate-400 dark:hover:text-slate-200 mb-6 transition-colors group",children:[m.jsx(t8,{className:"w-4 h-4 group-hover:-translate-x-1 transition-transform"}),"Back to Dashboard"]}),m.jsxs("div",{className:"flex flex-col md:flex-row md:items-start justify-between gap-4",children:[m.jsxs("div",{children:[m.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1 rounded-full text-xs font-semibold text-white mb-3 ${v.color}`,children:[m.jsx(us,{className:"w-3 h-3"}),v.name]}),m.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-800 dark:text-white transition-colors",children:v.name}),m.jsxs("p",{className:"text-slate-500 dark:text-slate-400 mt-2 transition-colors",children:[I," of ",S," chapters completed"]})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("button",{onClick:()=>d(!0),className:"text-slate-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/30 dark:hover:text-blue-400 p-2 rounded-lg transition-colors",title:"Edit Subject",children:m.jsx(sm,{className:"w-5 h-5"})}),m.jsx("button",{onClick:b,className:"text-red-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/30 dark:hover:text-red-400 p-2 rounded-lg transition-colors",title:"Delete Subject",children:m.jsx(im,{className:"w-5 h-5"})})]})]}),m.jsxs("div",{className:"mt-6",children:[m.jsxs("div",{className:"flex justify-between items-end mb-2",children:[m.jsxs("span",{className:"text-3xl font-bold text-slate-800 dark:text-white transition-colors",children:[D,"%"]}),m.jsx("span",{className:"text-sm font-medium text-slate-400 dark:text-slate-500 transition-colors",children:"Progress"})]}),m.jsx("div",{className:"h-3 w-full bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden transition-colors",children:m.jsx(Se.div,{initial:{width:0},animate:{width:`${D}%`},transition:{duration:1,ease:"easeOut"},className:`h-full ${v.color}`})})]})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl border border-slate-100 dark:border-slate-700 shadow-sm overflow-hidden transition-colors",children:[m.jsxs("div",{className:"p-6 border-b border-slate-50 dark:border-slate-700 flex items-center justify-between bg-slate-50/50 dark:bg-slate-700/30 transition-colors",children:[m.jsx("h2",{className:"text-lg font-bold text-slate-800 dark:text-white transition-colors",children:"Syllabus / Chapters"}),m.jsxs(Se.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>l(!0),className:"bg-slate-900 hover:bg-slate-800 dark:bg-slate-700 dark:hover:bg-slate-600 text-white px-4 py-2 rounded-lg text-sm font-medium flex items-center gap-2 transition-colors",children:[m.jsx(bl,{className:"w-4 h-4"}),"Add Chapter"]})]}),m.jsx("div",{className:"divide-y divide-slate-50 dark:divide-slate-700 transition-colors",children:v.chapters.length>0?v.chapters.map(L=>m.jsx(nz,{subjectId:v.id,chapter:L,isExpanded:!!f[L.id],onToggle:()=>_(L.id)},L.id)):m.jsxs("div",{className:"p-12 text-center",children:[m.jsx("div",{className:"w-16 h-16 bg-slate-50 dark:bg-slate-700/50 rounded-full flex items-center justify-center mx-auto mb-3 transition-colors",children:m.jsx(us,{className:"w-6 h-6 text-slate-300 dark:text-slate-500"})}),m.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-4 transition-colors",children:"No chapters added yet."}),m.jsx("button",{onClick:()=>l(!0),className:"text-blue-600 dark:text-blue-400 font-medium hover:underline transition-colors",children:"Add your first chapter"})]})})]}),a&&m.jsx(X7,{subjectId:v.id,onClose:()=>l(!1)}),c&&m.jsx(jN,{subject:v,onClose:()=>d(!1)})]})}const VN=N.createContext(void 0);function iz({children:t}){const[e,n]=N.useState(()=>typeof window<"u"&&localStorage.getItem("theme")?localStorage.getItem("theme"):typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");N.useEffect(()=>{const a=window.document.documentElement;a.classList.remove("light","dark"),a.classList.add(e),localStorage.setItem("theme",e)},[e]);const i=()=>{n(a=>a==="light"?"dark":"light")};return m.jsx(VN.Provider,{value:{theme:e,toggleTheme:i},children:t})}function ON(){const t=N.useContext(VN);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t}function rz({onClose:t}){const[e,n]=N.useState(ru[0].id),[i,a]=N.useState(new Set),l=ru.find(f=>f.id===e),c=f=>{const g=new Set(i);g.has(f)?g.delete(f):g.add(f),a(g)},d=()=>{if(l)if(i.size===l.subjects.length)a(new Set);else{const f=new Set(l.subjects.map(g=>g.name));a(f)}};return m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm animate-in fade-in duration-200",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl w-full max-w-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[m.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-slate-100 dark:border-slate-700",children:[m.jsxs("div",{children:[m.jsxs("h3",{className:"text-xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[m.jsx(us,{className:"w-6 h-6 text-blue-600"}),"Import Syllabus"]}),m.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:"Select a curriculum to quick-start your study plan."})]}),m.jsx("button",{onClick:t,className:"p-2 text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full transition-colors",children:m.jsx(er,{className:"w-5 h-5"})})]}),m.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col md:flex-row",children:[m.jsxs("div",{className:"w-full md:w-48 bg-slate-50 dark:bg-slate-900/50 border-r border-slate-100 dark:border-slate-700 p-4",children:[m.jsx("h4",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider mb-3",children:"Curriculums"}),m.jsx("div",{className:"space-y-2",children:ru.map(f=>m.jsx("button",{onClick:()=>{n(f.id),a(new Set)},className:`w-full text-left px-3 py-2 rounded-lg text-sm font-medium transition-colors ${e===f.id?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400":"text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800"}`,children:f.name},f.id))})]}),m.jsxs("div",{className:"flex-1 p-6 overflow-y-auto",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsxs("h4",{className:"font-semibold text-slate-800 dark:text-white",children:[l?.name," Subjects"]}),m.jsx("button",{onClick:d,className:"text-xs font-medium text-blue-600 dark:text-blue-400 hover:underline",children:i.size===l?.subjects.length?"Deselect All":"Select All"})]}),m.jsx("div",{className:"space-y-3",children:l?.subjects.map(f=>m.jsxs("div",{onClick:()=>c(f.name),className:`relative flex items-start gap-4 p-4 rounded-xl border cursor-pointer transition-all ${i.has(f.name)?"border-blue-500 bg-blue-50/50 dark:bg-blue-900/10":"border-slate-200 dark:border-slate-700 hover:border-slate-300 dark:hover:border-slate-600"}`,children:[m.jsx("div",{className:`mt-1 flex-shrink-0 w-5 h-5 rounded border flex items-center justify-center transition-colors ${i.has(f.name)?"bg-blue-500 border-blue-500":"bg-white dark:bg-slate-800 border-slate-300 dark:border-slate-600"}`,children:i.has(f.name)&&m.jsx(_N,{className:"w-3.5 h-3.5 text-white"})}),m.jsxs("div",{className:"flex-1",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[m.jsx("span",{className:`font-semibold ${i.has(f.name)?"text-blue-700 dark:text-blue-300":"text-slate-700 dark:text-slate-300"}`,children:f.name}),m.jsxs("span",{className:"text-xs px-2 py-0.5 rounded-full bg-slate-100 dark:bg-slate-700 text-slate-500",children:[f.chapters.length," Chapters"]})]}),m.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 line-clamp-1",children:[f.chapters.slice(0,3).map(g=>g.name).join(", "),"..."]})]})]},f.name))})]})]}),m.jsxs("div",{className:"p-6 border-t border-slate-100 dark:border-slate-700 flex justify-end gap-3 bg-slate-50/50 dark:bg-slate-900/50",children:[m.jsx("button",{onClick:t,className:"px-5 py-2.5 rounded-xl font-medium text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors",children:"Cancel"}),m.jsx(az,{count:i.size,currentTemplate:l,selectedSubjects:i,onClose:t})]})]})})}function az({count:t,currentTemplate:e,selectedSubjects:n,onClose:i}){const{importSyllabusData:a}=Yt(),l=()=>{if(t===0||!e)return;const c=e.subjects.filter(d=>n.has(d.name));a(c),i()};return m.jsxs("button",{onClick:l,disabled:t===0,className:"px-6 py-2.5 rounded-xl font-medium bg-blue-600 hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed text-white shadow-lg shadow-blue-500/20 transition-all active:scale-95 flex items-center gap-2",children:[m.jsx(Gv,{className:"w-4 h-4"}),"Import ",t>0?`${t} Subjects`:""]})}function oz(){const{user:t,logout:e}=Zi(),{userProfile:n,updateProfile:i,resetData:a,exportData:l,importData:c}=Yt(),{isMuted:d,toggleMute:f}=$v(),{theme:g,toggleTheme:v}=ON(),b=N.useRef(null),_=N.useRef(null),[S,I]=N.useState(!1),[M,D]=N.useState(!1),[L,q]=N.useState("Notification"in window&&Notification.permission==="granted"),K=rm(),Z=()=>{const E=b.current?.value.trim()||"",C=_.current?.value.trim()||"";if(!E){K.error("Please enter your name");return}i({name:E,grade:C}),D(!1),K.success("Profile updated successfully!")},ne=()=>{const E=document.createElement("input");E.type="file",E.accept=".json",E.onchange=C=>{const U=C.target.files?.[0];if(U){const P=new FileReader;P.onload=H=>{const j=H.target?.result;c(j)&&alert("Data imported successfully!")},P.readAsText(U)}},E.click()},de=()=>{confirm("Do you want to restart the welcome tour?")&&(localStorage.removeItem("tracked_tour_completed"),window.location.reload())},R=async()=>{if(!("Notification"in window)){alert("This browser does not support desktop notifications");return}if(Notification.permission==="granted")q(!L);else if(Notification.permission!=="denied"){const E=await Notification.requestPermission();q(E==="granted")}else alert("Notifications are blocked. Please enable them in your browser settings.")};return m.jsxs(am,{className:"max-w-2xl mx-auto space-y-8 pb-10",children:[m.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[m.jsx(X0,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"}),m.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-white transition-colors",children:"Settings"})]}),m.jsxs(Se.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden transition-colors",children:[m.jsx("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700",children:m.jsxs("h2",{className:"text-lg font-semibold text-slate-800 dark:text-white flex items-center gap-2",children:[m.jsx(X0,{className:"w-5 h-5 text-blue-500"}),"Profile Information"]})}),m.jsxs("div",{className:"p-6 space-y-4",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1 transition-colors",children:"Student Name"}),m.jsx("input",{ref:b,type:"text",defaultValue:n?.name||"",disabled:!M,className:`w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all placeholder:text-slate-400 dark:placeholder:text-slate-500 ${M?"":"opacity-60 cursor-not-allowed bg-slate-50 dark:bg-slate-800/50"}`,placeholder:"Enter your name"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1 transition-colors",children:"Class / Grade"}),m.jsx("input",{ref:_,type:"text",defaultValue:n?.grade||"",disabled:!M,className:`w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all placeholder:text-slate-400 dark:placeholder:text-slate-500 ${M?"":"opacity-60 cursor-not-allowed bg-slate-50 dark:bg-slate-800/50"}`,placeholder:"e.g. HSC 2026"})]})]}),m.jsx("div",{className:"pt-2 flex gap-3",children:M?m.jsxs(m.Fragment,{children:[m.jsx("button",{onClick:()=>D(!1),className:"px-5 py-2.5 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-200 font-medium rounded-lg hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors text-sm",children:"Cancel"}),m.jsxs("button",{onClick:Z,className:"px-5 py-2.5 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition-colors flex items-center gap-2 text-sm shadow-sm",children:[m.jsx(Nf,{className:"w-4 h-4"}),"Save Changes"]})]}):m.jsxs("button",{onClick:()=>D(!0),className:"px-5 py-2.5 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-200 font-medium rounded-lg hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors flex items-center gap-2 text-sm",children:[m.jsx(NE,{className:"w-4 h-4"}),"Edit Profile"]})})]})]}),m.jsxs(Se.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden transition-colors",children:[m.jsx("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700",children:m.jsxs("h2",{className:"text-lg font-semibold text-slate-800 dark:text-white flex items-center gap-2",children:[m.jsx(W8,{className:"w-5 h-5 text-purple-500"}),"Appearance & Preferences"]})}),m.jsxs("div",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:[m.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:`p-2 rounded-lg ${g==="dark"?"bg-slate-700 text-slate-300":"bg-orange-100 text-orange-600"}`,children:g==="dark"?m.jsx(kf,{className:"w-5 h-5"}):m.jsx(W0,{className:"w-5 h-5"})}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"App Theme"}),m.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Switch between light and dark mode"})]})]}),m.jsx("button",{onClick:v,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${g==="dark"?"bg-blue-600":"bg-slate-200"}`,children:m.jsx("span",{className:`${g==="dark"?"translate-x-6":"translate-x-1"} inline-block h-4 w-4 transform rounded-full bg-white transition-transform`})})]}),m.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:`p-2 rounded-lg ${d?"bg-slate-100 dark:bg-slate-700 text-slate-400":"bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400"}`,children:d?m.jsx(RN,{className:"w-5 h-5"}):m.jsx(CN,{className:"w-5 h-5"})}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"Sound Effects"}),m.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Play sounds for timer and interactions"})]})]}),m.jsx("button",{onClick:f,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${d?"bg-slate-200 dark:bg-slate-600":"bg-blue-600"}`,children:m.jsx("span",{className:`${d?"translate-x-1":"translate-x-6"} inline-block h-4 w-4 transform rounded-full bg-white transition-transform`})})]}),m.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:`p-2 rounded-lg ${L?"bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400":"bg-slate-100 dark:bg-slate-700 text-slate-400"}`,children:L?m.jsx(o8,{className:"w-5 h-5"}):m.jsx(r8,{className:"w-5 h-5"})}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"Notifications"}),m.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Get reminders for study sessions"})]})]}),m.jsx("button",{onClick:R,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${L?"bg-blue-600":"bg-slate-200 dark:bg-slate-600"}`,children:m.jsx("span",{className:`${L?"translate-x-6":"translate-x-1"} inline-block h-4 w-4 transform rounded-full bg-white transition-transform`})})]}),m.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"p-2 rounded-lg bg-pink-100 dark:bg-pink-900/30 text-pink-600 dark:text-pink-400",children:m.jsx(L8,{className:"w-5 h-5"})}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"Language"}),m.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"App language preference"})]})]}),m.jsxs("select",{className:"bg-transparent border border-slate-200 dark:border-slate-600 rounded-lg text-sm px-2 py-1 text-slate-700 dark:text-slate-300 focus:ring-2 focus:ring-blue-500 outline-none",children:[m.jsx("option",{children:"English"}),m.jsx("option",{disabled:!0,children:"Bengali (Coming Soon)"})]})]})]})]}),m.jsxs(Se.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden transition-colors",children:[m.jsx("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700",children:m.jsxs("h2",{className:"text-lg font-semibold text-slate-800 dark:text-white flex items-center gap-2",children:[m.jsx(Nf,{className:"w-5 h-5 text-green-500"}),"Data & Backup"]})}),m.jsxs("div",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:[m.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors cursor-pointer",onClick:()=>I(!0),children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"p-2 rounded-lg bg-indigo-100 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400",children:m.jsx(us,{className:"w-5 h-5"})}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"Import Syllabus Template"}),m.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Quickly add pre-made subject templates"})]})]}),m.jsx("button",{className:"text-slate-400",children:m.jsx(NE,{className:"w-4 h-4"})})]}),m.jsxs("div",{className:"p-4 grid grid-cols-2 gap-4",children:[m.jsxs("button",{onClick:l,className:"flex items-center justify-center gap-2 py-2.5 border border-slate-200 dark:border-slate-600 rounded-lg text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors text-sm font-medium",children:[m.jsx(Gv,{className:"w-4 h-4"}),"Export Data"]}),m.jsxs("button",{onClick:ne,className:"flex items-center justify-center gap-2 py-2.5 border border-slate-200 dark:border-slate-600 rounded-lg text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors text-sm font-medium",children:[m.jsx(C7,{className:"w-4 h-4"}),"Import Data"]})]}),m.jsx("div",{className:"p-4 bg-red-50/50 dark:bg-red-900/10",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"p-2 rounded-lg bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400",children:m.jsx(im,{className:"w-5 h-5"})}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-red-700 dark:text-red-400 font-medium",children:"Reset Application"}),m.jsx("p",{className:"text-xs text-red-600/70 dark:text-red-400/70",children:"Permanently delete all study data"})]})]}),m.jsx("button",{onClick:()=>{confirm("Are you absolutely sure? This cannot be undone.")&&a()},className:"px-4 py-2 bg-white dark:bg-slate-800 border border-red-200 dark:border-red-800 text-red-600 dark:text-red-400 font-medium rounded-lg hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors text-xs shadow-sm",children:"Reset Data"})]})})]})]}),m.jsxs(Se.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden transition-colors",children:[m.jsx("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700",children:m.jsxs("h2",{className:"text-lg font-semibold text-slate-800 dark:text-white flex items-center gap-2",children:[m.jsx(y7,{className:"w-5 h-5 text-gray-500"}),"Support & Info"]})}),m.jsxs("div",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:[m.jsx("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors cursor-pointer",onClick:de,children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"p-2 rounded-lg bg-cyan-100 dark:bg-cyan-900/30 text-cyan-600 dark:text-cyan-400",children:m.jsx(NN,{className:"w-5 h-5"})}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"Restart Welcome Tour"}),m.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Show the onboarding guide again"})]})]})}),m.jsx("a",{href:"https://chat.whatsapp.com/K9mUpCp6Moo4poVbW5zgfr",target:"_blank",rel:"noopener noreferrer",className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"p-2 rounded-lg bg-orange-100 dark:bg-orange-900/30 text-orange-600 dark:text-orange-400",children:m.jsx(f8,{className:"w-5 h-5"})}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"Report a Bug"}),m.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Report issues via our WhatsApp group"})]})]})}),m.jsx("a",{href:"https://chat.whatsapp.com/K9mUpCp6Moo4poVbW5zgfr",target:"_blank",rel:"noopener noreferrer",className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"p-2 rounded-lg bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400",children:m.jsx(SN,{className:"w-5 h-5"})}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"Join WhatsApp Group"}),m.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Get help & discuss with community"})]})]})}),m.jsx("div",{className:"p-4 bg-slate-50 dark:bg-slate-800/50 flex items-center justify-center",children:m.jsx("p",{className:"text-xs text-slate-400 font-medium",children:"TrackEd v1.0.0  Made with  for Students"})})]})]}),t&&m.jsxs(Se.button,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},onClick:e,className:"w-full p-4 rounded-xl border border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-400 font-medium hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors flex items-center justify-center gap-2",children:[m.jsx(Af,{className:"w-5 h-5"}),"Sign Out"]}),m.jsx(Ms,{children:S&&m.jsx(rz,{onClose:()=>I(!1)})})]})}function kh({title:t,value:e,icon:n,colorClass:i,bgClass:a,delay:l=0}){return m.jsxs(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:l,type:"spring"},className:"bg-white dark:bg-slate-800 rounded-2xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm flex items-center justify-between transition-colors",children:[m.jsxs("div",{children:[m.jsxs("h3",{className:"text-slate-400 dark:text-slate-400 font-medium text-sm flex items-center gap-1.5 mb-2",children:[m.jsx(n,{className:`w-4 h-4 ${i}`})," ",t]}),m.jsx("div",{className:"text-3xl font-bold text-slate-800 dark:text-white transition-colors",children:e})]}),m.jsx("div",{className:`w-12 h-12 ${a} rounded-full flex items-center justify-center transition-colors`,children:m.jsx(n,{className:`w-6 h-6 ${i}`})})]})}function lz(t){let e=0,n=0,i=0,a=0;return t.forEach(l=>{e+=l.chapters.length,l.chapters.forEach(c=>{c.isCompleted&&n++,c.topics&&(i+=c.topics.length,c.topics.forEach(d=>{d.isCompleted&&a++}))})}),{totalChapters:e,completedChapters:n,totalTopics:i,completedTopics:a}}function cz(t){const e=new Date,i=Array.from({length:7},(l,c)=>{const d=new Date;return d.setDate(e.getDate()-(6-c)),d.toISOString().split("T")[0]}).map(l=>{let c=0;return t.forEach(d=>{d.chapters.forEach(f=>{f.topics&&f.topics.forEach(g=>{g.isCompleted&&g.completedAt&&g.completedAt.startsWith(l)&&c++})})}),{date:l,count:c}}),a=Math.max(...i.map(l=>l.count),1);return{activityData:i,maxCount:a}}function uz(t){const e=new Set;t.forEach(d=>d.chapters.forEach(f=>f.topics?.forEach(g=>{g.isCompleted&&g.completedAt&&e.add(g.completedAt.split("T")[0])})));const n=Array.from(e).sort((d,f)=>new Date(f).getTime()-new Date(d).getTime());let i=0;const a=new Date().toISOString().split("T")[0],l=new Date;l.setDate(l.getDate()-1);const c=l.toISOString().split("T")[0];if(n.length>0){const d=n[0];if(d===a||d===c){i=1;let f=new Date(d);for(let g=1;g<n.length;g++){const v=new Date(n[g]),b=Math.abs(f.getTime()-v.getTime());if(Math.round(b/(1e3*60*60*24))===1)i++,f=v;else break}}}return i}function dz(){const{subjects:t}=Yt(),{totalChapters:e,completedChapters:n,totalTopics:i,completedTopics:a}=lz(t),{activityData:l,maxCount:c}=cz(t),d=uz(t),f=i>0?Math.round(a/i*100):0,g={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}};return m.jsxs(am,{className:"max-w-4xl mx-auto pb-12",children:[m.jsxs("h1",{className:"text-3xl font-bold text-slate-800 dark:text-white mb-8 flex items-center gap-3 transition-colors",children:[m.jsx(J0,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"}),"Study Analytics"]}),m.jsxs(Se.div,{variants:g,initial:"hidden",animate:"show",className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[m.jsx("div",{className:"sm:col-span-1",children:m.jsx(kh,{title:"Total Streak",value:`${d} days`,icon:vN,colorClass:"text-orange-500",bgClass:"bg-orange-50 dark:bg-orange-900/20",delay:.1})}),m.jsx("div",{className:"sm:col-span-1",children:m.jsx(kh,{title:"Topics Done",value:`${a} / ${i}`,icon:us,colorClass:"text-blue-500",bgClass:"bg-blue-50 dark:bg-blue-900/20",delay:.2})}),m.jsx("div",{className:"sm:col-span-1",children:m.jsx(kh,{title:"Chapters Done",value:`${n} / ${e}`,icon:Wa,colorClass:"text-amber-500",bgClass:"bg-amber-50 dark:bg-amber-900/20",delay:.3})}),m.jsx("div",{className:"sm:col-span-1",children:m.jsx(kh,{title:"Completion",value:`${f}%`,icon:io,colorClass:"text-emerald-500",bgClass:"bg-emerald-50 dark:bg-emerald-900/20",delay:.4})})]}),m.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[m.jsxs(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"md:col-span-2 bg-white dark:bg-slate-800 p-6 rounded-3xl border border-slate-100 dark:border-slate-700 shadow-sm transition-colors",children:[m.jsxs("h2",{className:"text-lg font-bold text-slate-800 dark:text-white mb-6 flex items-center gap-2 transition-colors",children:[m.jsx(y8,{className:"w-5 h-5 text-slate-400"}),"Last 7 Days Activity"]}),m.jsx("div",{className:"flex items-end justify-between gap-2 h-48",children:l.map((v,b)=>m.jsxs("div",{className:"flex-1 flex flex-col items-center gap-2 group",children:[m.jsx("div",{className:"w-full bg-slate-100 dark:bg-slate-700 rounded-t-lg relative h-full flex items-end overflow-hidden transition-colors",children:m.jsx(Se.div,{initial:{height:0},animate:{height:`${v.count/c*100}%`},transition:{duration:1,delay:b*.1,ease:"easeOut"},className:"w-full bg-blue-500 dark:bg-blue-600 rounded-t-lg transition-colors duration-300 group-hover:bg-blue-600 dark:group-hover:bg-blue-500 relative",children:m.jsxs("div",{className:"absolute -top-8 left-1/2 -translate-x-1/2 bg-slate-800 text-white text-xs py-1 px-2 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10",children:[v.count," Topics"]})})}),m.jsx("span",{className:"text-xs text-slate-400 dark:text-slate-500 font-medium transition-colors",children:new Date(v.date).toLocaleDateString("en-US",{weekday:"short"})})]},v.date))})]}),m.jsxs(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white dark:bg-slate-800 p-6 rounded-3xl border border-slate-100 dark:border-slate-700 shadow-sm transition-colors",children:[m.jsxs("h2",{className:"text-lg font-bold text-slate-800 dark:text-white mb-6 flex items-center gap-2 transition-colors",children:[m.jsx(us,{className:"w-5 h-5 text-slate-400"}),"Subject Progress"]}),m.jsxs("div",{className:"space-y-4 max-h-[300px] overflow-y-auto pr-2 custom-scrollbar",children:[t.map(v=>{const b=v.chapters.reduce((I,M)=>I+(M.topics?.length||0),0),_=v.chapters.reduce((I,M)=>I+(M.topics?.filter(D=>D.isCompleted).length||0),0),S=b>0?Math.round(_/b*100):0;return m.jsxs("div",{children:[m.jsxs("div",{className:"flex justify-between items-center mb-1",children:[m.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 transition-colors",children:v.name}),m.jsxs("span",{className:"text-xs text-slate-400 dark:text-slate-500 transition-colors",children:[S,"%"]})]}),m.jsx("div",{className:"h-2 bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden transition-colors",children:m.jsx(Se.div,{initial:{width:0},animate:{width:`${S}%`},transition:{duration:1,ease:"easeOut"},className:`h-full ${v.color}`})})]},v.id)}),t.length===0&&m.jsx("div",{className:"text-center text-slate-400 text-sm py-8",children:"No subjects added."})]})]})]})]})}function hz(){const t=rm(),{saveStudySession:e,subjects:n}=Yt(),{user:i}=Zi(),{playSound:a,isMuted:l,toggleMute:c}=$v(),[d,f]=N.useState("stopwatch"),[g,v]=N.useState(!1),[b,_]=N.useState(0),[S,I]=N.useState(0),[M,D]=N.useState(30),[L,q]=N.useState("timer"),[K,Z]=N.useState("today"),[ne,de]=N.useState(""),[R,E]=N.useState(""),[C,U]=N.useState(""),[P,H]=N.useState(!1),[j,ue]=N.useState([]),[G,V]=N.useState(!0),F=N.useRef(null);N.useEffect(()=>{Notification.permission==="default"&&Notification.requestPermission()},[]);const $=(ge,Me)=>{Notification.permission==="granted"&&new Notification(ge,{body:Me,icon:"/vite.svg"})};N.useEffect(()=>(g?F.current=window.setInterval(()=>{_(ge=>d==="stopwatch"?ge+1:ge<=1?(v(!1),a("complete"),$("Time's Up! ","Your study session is complete. Take a break!"),0):ge-1)},1e3):F.current&&clearInterval(F.current),()=>{F.current&&clearInterval(F.current)}),[g,d,a]),N.useEffect(()=>{if(v(!1),H(!1),d==="stopwatch")_(0),I(0);else if(d==="pomodoro"||d==="countdown"){const ge=M*60;_(ge),I(ge)}},[d,M]),N.useEffect(()=>{(async()=>{if(i){V(!0);try{const Me=Fa(qi,"users");let xt="userProfile.todayStudyTime";K==="week"?xt="userProfile.weeklyStudyTime":K==="month"?xt="userProfile.monthlyStudyTime":K==="all_time"&&(xt="userProfile.totalStudyTime");const en=tm(Me,Lv(xt,"desc"),zv(10)),Dn=await dN(en),vi=[];Dn.forEach(jn=>{const Gn=jn.data();if(Gn.userProfile){let Mn=0;K==="today"?Mn=Gn.userProfile.todayStudyTime||0:K==="week"?Mn=Gn.userProfile.weeklyStudyTime||0:K==="month"?Mn=Gn.userProfile.monthlyStudyTime||0:Mn=Gn.userProfile.totalStudyTime||0,vi.push({userId:jn.id,userName:Gn.userProfile.name||"Anonymous",displayTime:Mn})}}),ue(vi)}catch(Me){console.error("Error fetching leaderboard:",Me)}finally{V(!1)}}})()},[i,L,K]),N.useEffect(()=>(g?document.title=`${se(b)} - ${C||(d==="pomodoro"?"Focus":"Timer")}`:document.title="Study Tracker",()=>{document.title="Study Tracker"}),[g,b,d,C]);const he=()=>{!g&&d!=="stopwatch"&&b===0&&_(S),v(!g),a("click")},pe=()=>{v(!1),H(!1),_(d==="stopwatch"?0:S),a("click")},z=async()=>{if(!R){t.error("Please select a subject to save session.");return}let ge=0;if(d==="stopwatch"?ge=b:ge=S-b,ge<60){t.error("Session must be at least 1 minute to save.");return}await e(ge,R,C),H(!0),a("success"),t.success("Session Saved! Great Job.")},se=ge=>{const Me=Math.floor(ge/3600),xt=Math.floor(ge%3600/60),en=ge%60;return Me>0?`${Me}:${xt.toString().padStart(2,"0")}:${en.toString().padStart(2,"0")}`:`${xt.toString().padStart(2,"0")}:${en.toString().padStart(2,"0")}`},ce=ge=>{const Me=Math.floor(ge/3600),xt=Math.floor(ge%3600/60),en=ge%60;return`${Me.toString().padStart(2,"0")}:${xt.toString().padStart(2,"0")}:${en.toString().padStart(2,"0")}`},fe=d==="stopwatch"?100:Math.max(0,b/S*100),Ae=120,De=2*Math.PI*Ae,ke=De-fe/100*De;return m.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[m.jsxs("header",{className:"flex items-center justify-between",children:[m.jsx("div",{children:m.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-slate-900 dark:text-white transition-colors",children:"Focus Timer"})}),m.jsx("button",{onClick:c,className:"p-2 text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 transition-colors",children:l?m.jsx(RN,{className:"w-6 h-6"}):m.jsx(CN,{className:"w-6 h-6"})})]}),m.jsxs("div",{className:"flex p-1 bg-slate-100 dark:bg-slate-800 rounded-xl mb-6 md:hidden",children:[m.jsx("button",{onClick:()=>q("timer"),className:`flex-1 py-2 text-sm font-medium rounded-lg transition-all ${L==="timer"?"bg-white dark:bg-slate-700 text-blue-600 dark:text-blue-400 shadow-sm":"text-slate-500 dark:text-slate-400"}`,children:"Timer"}),m.jsx("button",{onClick:()=>q("leaderboard"),className:`flex-1 py-2 text-sm font-medium rounded-lg transition-all ${L==="leaderboard"?"bg-white dark:bg-slate-700 text-blue-600 dark:text-blue-400 shadow-sm":"text-slate-500 dark:text-slate-400"}`,children:"Leaderboard"})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[m.jsxs("div",{className:`${L==="timer"?"block":"hidden"} md:block flex flex-col space-y-6`,children:[m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 transition-colors",children:[m.jsx("label",{className:"block text-sm font-medium text-slate-500 mb-2",children:"My Focus Goal"}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("input",{type:"text",placeholder:"What are you working on? (e.g. Physics Chapter 3)",className:"flex-1 bg-slate-50 dark:bg-slate-700 border-none rounded-xl px-4 py-3 text-slate-800 dark:text-white placeholder:text-slate-400 focus:ring-2 focus:ring-blue-500 transition-all font-medium",value:C,onChange:ge=>U(ge.target.value),disabled:g}),m.jsxs("select",{className:"w-1/3 bg-slate-50 dark:bg-slate-700 border-none rounded-xl px-3 py-3 text-slate-600 dark:text-slate-300 font-medium focus:ring-2 focus:ring-blue-500 cursor-pointer text-sm",value:R,onChange:ge=>E(ge.target.value),disabled:g,children:[m.jsx("option",{value:"",children:"Subject"}),n.map(ge=>m.jsx("option",{value:ge.id,children:ge.name},ge.id))]})]})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl p-8 shadow-sm border border-slate-100 dark:border-slate-700 flex flex-col items-center justify-center relative overflow-hidden transition-colors min-h-[400px]",children:[m.jsxs("div",{className:"relative w-64 h-64 md:w-72 md:h-72 mb-8 flex items-center justify-center",children:[m.jsxs("svg",{className:"w-full h-full transform -rotate-90",children:[m.jsx("circle",{cx:"50%",cy:"50%",r:Ae,stroke:"currentColor",strokeWidth:"12",fill:"transparent",className:"text-slate-100 dark:text-slate-700"}),m.jsx("circle",{cx:"50%",cy:"50%",r:Ae,stroke:"currentColor",strokeWidth:"12",fill:"transparent",strokeDasharray:De,strokeDashoffset:d==="stopwatch"?0:ke,strokeLinecap:"round",className:`transition-all duration-1000 ease-linear ${g?d==="pomodoro"?"text-rose-500":"text-blue-500":"text-slate-300 dark:text-slate-600"}`})]}),m.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center z-10",children:[m.jsx("div",{className:`text-5xl md:text-6xl font-bold tracking-tight tabular-nums mb-2 ${g?d==="pomodoro"?"text-rose-500":"text-blue-600":"text-slate-800 dark:text-white"}`,children:se(b)}),m.jsx("div",{className:"text-slate-400 dark:text-slate-500 font-medium uppercase tracking-widest text-sm",children:g?"Running":"Paused"})]})]}),m.jsxs("div",{className:"flex items-center gap-6 z-10",children:[!g&&m.jsx("button",{onClick:pe,className:"p-3 rounded-full bg-slate-100 dark:bg-slate-700 text-slate-500 hover:bg-slate-200 dark:hover:bg-slate-600 transition-all hover:scale-110",title:"Reset",children:m.jsx(NN,{className:"w-5 h-5"})}),m.jsx("button",{onClick:he,className:`p-6 rounded-full shadow-xl transition-all hover:scale-105 active:scale-95 ${g?"bg-amber-100 text-amber-600 hover:bg-amber-200":"bg-blue-600 text-white hover:bg-blue-700"}`,children:g?m.jsx(e7,{className:"w-8 h-8 fill-current"}):m.jsx(kN,{className:"w-8 h-8 ml-1 fill-current"})}),!g&&(d==="stopwatch"&&b>60||d!=="stopwatch"&&b!==S)&&!P&&m.jsx("button",{onClick:z,className:"p-3 rounded-full bg-emerald-100 text-emerald-600 hover:bg-emerald-200 transition-all hover:scale-110 animate-pulse",title:"Save Session",children:m.jsx(Nf,{className:"w-5 h-5"})})]}),m.jsxs("div",{className:"mt-8 flex gap-2",children:[m.jsx("button",{onClick:()=>{f("stopwatch"),D(0)},className:`px-4 py-2 text-sm font-medium rounded-full transition-all ${d==="stopwatch"?"bg-blue-100 text-blue-700":"text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:"Stopwatch"}),m.jsx("button",{onClick:()=>{f("pomodoro"),D(25)},className:`px-4 py-2 text-sm font-medium rounded-full transition-all ${d==="pomodoro"?"bg-rose-100 text-rose-700":"text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:"Pomodoro"}),m.jsx("button",{onClick:()=>{f("countdown"),D(30)},className:`px-4 py-2 text-sm font-medium rounded-full transition-all ${d==="countdown"?"bg-amber-100 text-amber-700":"text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:"Countdown"})]}),!g&&(d==="pomodoro"||d==="countdown")&&m.jsxs("div",{className:"mt-4 flex items-center gap-2 animate-in fade-in slide-in-from-bottom-2",children:[m.jsx("span",{className:"text-slate-400 text-sm",children:"Duration:"}),m.jsx("input",{type:"range",min:"5",max:"120",step:"5",value:M,onChange:ge=>D(Number(ge.target.value)),className:"w-32 accent-blue-600 cursor-pointer"}),m.jsxs("span",{className:"text-slate-700 dark:text-slate-300 font-bold w-12 text-center",children:[M,"m"]})]})]})]}),m.jsxs("div",{className:`${L==="leaderboard"?"block":"hidden"} md:block bg-white dark:bg-slate-800 rounded-3xl p-6 shadow-xl border border-slate-100 dark:border-slate-700 h-fit transition-colors sticky top-24`,children:[m.jsxs("div",{className:"flex flex-col gap-4 mb-6",children:[m.jsx("div",{className:"flex items-center justify-between",children:m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(Wa,{className:"w-6 h-6 text-yellow-500"}),m.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Leaderboard"})]})}),m.jsxs("div",{className:"relative",children:[m.jsx("input",{type:"text",placeholder:"Search name...",value:ne,onChange:ge=>de(ge.target.value),className:"w-full pl-10 pr-4 py-3 bg-slate-50 dark:bg-slate-700/50 border border-slate-200 dark:border-slate-600 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500/50 text-slate-800 dark:text-white placeholder:text-slate-400 transition-all font-medium"}),m.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:m.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})})})]}),m.jsx("div",{className:"flex p-1.5 bg-slate-100 dark:bg-slate-700/50 rounded-xl",children:["today","week","month","all_time"].map(ge=>m.jsx("button",{onClick:()=>Z(ge),className:`flex-1 py-2 text-xs font-bold rounded-lg transition-all capitalize ${K===ge?"bg-blue-600 text-white shadow-md":"text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-200 hover:bg-white/50 dark:hover:bg-white/5"}`,children:ge==="all_time"?"Lifetime":ge==="today"?"24 Hours":ge==="week"?"7 Days":"1 Month"},ge))})]}),G?m.jsxs("div",{className:"text-center py-12 text-slate-400 flex flex-col items-center",children:[m.jsx("div",{className:"w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mb-3"}),m.jsx("p",{className:"text-sm font-medium",children:"Loading rankings..."})]}):m.jsxs("div",{className:"space-y-3",children:[j.filter(ge=>ge.userName.toLowerCase().includes(ne.toLowerCase())).map((ge,Me)=>m.jsxs("div",{className:`flex items-center justify-between p-3 rounded-2xl transition-all ${ge.userId===i?.uid?"bg-blue-50/50 dark:bg-blue-900/20 border border-blue-100 dark:border-blue-800":"hover:bg-slate-50 dark:hover:bg-slate-700/30 border border-transparent"}`,children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs("div",{className:"font-bold text-slate-400 w-6 text-center text-sm",children:[Me+1,"."]}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:`
                                                w-10 h-10 rounded-full flex items-center justify-center font-bold text-lg shadow-sm border-2
                                                ${Me===0?"bg-yellow-100 text-yellow-600 border-yellow-200":Me===1?"bg-slate-200 text-slate-600 border-slate-300":Me===2?"bg-orange-100 text-orange-600 border-orange-200":"bg-slate-100 dark:bg-slate-700 text-slate-500 dark:text-slate-400 border-white dark:border-slate-600"}
                                            `,children:ge.userName.charAt(0).toUpperCase()}),m.jsxs("div",{children:[m.jsx("p",{className:`font-bold text-sm ${ge.userId===i?.uid?"text-blue-700 dark:text-blue-400":"text-slate-800 dark:text-white"}`,children:ge.userName}),m.jsxs("div",{className:"flex items-center gap-1.5 mt-0.5",children:[m.jsx("span",{className:`w-2 h-2 rounded-full ${ge.displayTime>3600?"bg-emerald-400":"bg-slate-300 dark:bg-slate-600"}`}),m.jsx("span",{className:"text-xs text-slate-400 font-medium",children:ge.displayTime>3600?"Studying":"Offline"})]})]})]})]}),m.jsx("div",{className:"text-right",children:m.jsx("div",{className:"font-bold text-blue-600 dark:text-blue-400 text-base md:text-lg tabular-nums tracking-tight",children:ce(ge.displayTime)})})]},ge.userId)),j.length===0&&m.jsxs("div",{className:"text-center py-10 px-6 text-slate-500 bg-slate-50 dark:bg-slate-700/30 rounded-2xl border border-dashed border-slate-200 dark:border-slate-700",children:[m.jsx("p",{className:"text-sm",children:"No records found for this period."}),m.jsx("p",{className:"text-xs mt-1 text-slate-400",children:"Be the first to start studying!"})]})]})]})]}),m.jsx(Ms,{children:P&&m.jsxs(Se.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"fixed bottom-20 left-1/2 -translate-x-1/2 md:bottom-8 bg-slate-900 text-white px-6 py-3 rounded-full shadow-lg flex items-center gap-3 z-50",children:[m.jsx("div",{className:"bg-emerald-500 rounded-full p-1",children:m.jsx(io,{className:"w-4 h-4 text-white"})}),m.jsx("span",{className:"font-medium",children:"Session Saved! Great Job."})]})})]})}const PN=N.createContext(void 0);function fz({children:t}){const{user:e}=Zi(),n=rm(),[i,a]=N.useState([]);N.useEffect(()=>{if(!e){a([]);return}const g=tm(Fa(qi,"groups"),fU("memberIds","array-contains",e.uid)),v=Bv(g,b=>{const _=[];b.forEach(S=>{_.push({id:S.id,...S.data()})}),a(_)},b=>{console.error("Error loading groups:",b)});return()=>v()},[e]);const l=async(g,v)=>{if(e)try{const b={name:g,description:v,createdBy:e.uid,createdAt:new Date().toISOString(),members:[{userId:e.uid,name:e.displayName||"Unknown",joinedAt:new Date().toISOString(),role:"admin"}],memberIds:[e.uid],inviteCode:Math.random().toString(36).substring(2,8).toUpperCase()};await Y0(Fa(qi,"groups"),b),n.success("Group created successfully!")}catch(b){console.error("Error creating group:",b),n.error("Failed to create group.")}},c=async g=>{console.log(g),e&&n.info("Join functionality coming soon!")},d=async g=>{console.log(g),e&&n.info("Leave functionality coming soon!")},f=async(g,v)=>{if(e)try{await Y0(Fa(qi,"groups",g,"messages"),{senderId:e.uid,senderName:e.displayName||"User",text:v,timestamp:dU()})}catch(b){console.error("Error sending message:",b),n.error("Failed to send message.")}};return m.jsx(PN.Provider,{value:{groups:i,createGroup:l,joinGroup:c,leaveGroup:d,sendMessage:f},children:t})}function mz(){const t=N.useContext(PN);if(t===void 0)throw new Error("useSocial must be used within a SocialProvider");return t}function LN(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=LN(t[e]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}function pz(){for(var t,e,n=0,i="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=LN(t))&&(i&&(i+=" "),i+=e);return i}const gz=(t,e)=>{const n=new Array(t.length+e.length);for(let i=0;i<t.length;i++)n[i]=t[i];for(let i=0;i<e.length;i++)n[t.length+i]=e[i];return n},yz=(t,e)=>({classGroupId:t,validator:e}),UN=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),Cf="-",jE=[],vz="arbitrary..",bz=t=>{const e=_z(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:i}=t;return{getClassGroupId:c=>{if(c.startsWith("[")&&c.endsWith("]"))return xz(c);const d=c.split(Cf),f=d[0]===""&&d.length>1?1:0;return zN(d,f,e)},getConflictingClassGroupIds:(c,d)=>{if(d){const f=i[c],g=n[c];return f?g?gz(g,f):f:g||jE}return n[c]||jE}}},zN=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const a=t[e],l=n.nextPart.get(a);if(l){const g=zN(t,e+1,l);if(g)return g}const c=n.validators;if(c===null)return;const d=e===0?t.join(Cf):t.slice(e).join(Cf),f=c.length;for(let g=0;g<f;g++){const v=c[g];if(v.validator(d))return v.classGroupId}},xz=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),i=e.slice(0,n);return i?vz+i:void 0})(),_z=t=>{const{theme:e,classGroups:n}=t;return wz(n,e)},wz=(t,e)=>{const n=UN();for(const i in t){const a=t[i];Kv(a,n,i,e)}return n},Kv=(t,e,n,i)=>{const a=t.length;for(let l=0;l<a;l++){const c=t[l];Tz(c,e,n,i)}},Tz=(t,e,n,i)=>{if(typeof t=="string"){Ez(t,e,n);return}if(typeof t=="function"){Sz(t,e,n,i);return}Az(t,e,n,i)},Ez=(t,e,n)=>{const i=t===""?e:BN(e,t);i.classGroupId=n},Sz=(t,e,n,i)=>{if(kz(t)){Kv(t(i),e,n,i);return}e.validators===null&&(e.validators=[]),e.validators.push(yz(n,t))},Az=(t,e,n,i)=>{const a=Object.entries(t),l=a.length;for(let c=0;c<l;c++){const[d,f]=a[c];Kv(f,BN(e,d),n,i)}},BN=(t,e)=>{let n=t;const i=e.split(Cf),a=i.length;for(let l=0;l<a;l++){const c=i[l];let d=n.nextPart.get(c);d||(d=UN(),n.nextPart.set(c,d)),n=d}return n},kz=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,Nz=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),i=Object.create(null);const a=(l,c)=>{n[l]=c,e++,e>t&&(e=0,i=n,n=Object.create(null))};return{get(l){let c=n[l];if(c!==void 0)return c;if((c=i[l])!==void 0)return a(l,c),c},set(l,c){l in n?n[l]=c:a(l,c)}}},ey="!",ME=":",Cz=[],VE=(t,e,n,i,a)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:i,isExternal:a}),Rz=t=>{const{prefix:e,experimentalParseClassName:n}=t;let i=a=>{const l=[];let c=0,d=0,f=0,g;const v=a.length;for(let M=0;M<v;M++){const D=a[M];if(c===0&&d===0){if(D===ME){l.push(a.slice(f,M)),f=M+1;continue}if(D==="/"){g=M;continue}}D==="["?c++:D==="]"?c--:D==="("?d++:D===")"&&d--}const b=l.length===0?a:a.slice(f);let _=b,S=!1;b.endsWith(ey)?(_=b.slice(0,-1),S=!0):b.startsWith(ey)&&(_=b.slice(1),S=!0);const I=g&&g>f?g-f:void 0;return VE(l,S,_,I)};if(e){const a=e+ME,l=i;i=c=>c.startsWith(a)?l(c.slice(a.length)):VE(Cz,!1,c,void 0,!0)}if(n){const a=i;i=l=>n({className:l,parseClassName:a})}return i},Iz=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,i)=>{e.set(n,1e6+i)}),n=>{const i=[];let a=[];for(let l=0;l<n.length;l++){const c=n[l],d=c[0]==="[",f=e.has(c);d||f?(a.length>0&&(a.sort(),i.push(...a),a=[]),i.push(c)):a.push(c)}return a.length>0&&(a.sort(),i.push(...a)),i}},Dz=t=>({cache:Nz(t.cacheSize),parseClassName:Rz(t),sortModifiers:Iz(t),...bz(t)}),jz=/\s+/,Mz=(t,e)=>{const{parseClassName:n,getClassGroupId:i,getConflictingClassGroupIds:a,sortModifiers:l}=e,c=[],d=t.trim().split(jz);let f="";for(let g=d.length-1;g>=0;g-=1){const v=d[g],{isExternal:b,modifiers:_,hasImportantModifier:S,baseClassName:I,maybePostfixModifierPosition:M}=n(v);if(b){f=v+(f.length>0?" "+f:f);continue}let D=!!M,L=i(D?I.substring(0,M):I);if(!L){if(!D){f=v+(f.length>0?" "+f:f);continue}if(L=i(I),!L){f=v+(f.length>0?" "+f:f);continue}D=!1}const q=_.length===0?"":_.length===1?_[0]:l(_).join(":"),K=S?q+ey:q,Z=K+L;if(c.indexOf(Z)>-1)continue;c.push(Z);const ne=a(L,D);for(let de=0;de<ne.length;++de){const R=ne[de];c.push(K+R)}f=v+(f.length>0?" "+f:f)}return f},Vz=(...t)=>{let e=0,n,i,a="";for(;e<t.length;)(n=t[e++])&&(i=FN(n))&&(a&&(a+=" "),a+=i);return a},FN=t=>{if(typeof t=="string")return t;let e,n="";for(let i=0;i<t.length;i++)t[i]&&(e=FN(t[i]))&&(n&&(n+=" "),n+=e);return n},Oz=(t,...e)=>{let n,i,a,l;const c=f=>{const g=e.reduce((v,b)=>b(v),t());return n=Dz(g),i=n.cache.get,a=n.cache.set,l=d,d(f)},d=f=>{const g=i(f);if(g)return g;const v=Mz(f,n);return a(f,v),v};return l=c,(...f)=>l(Vz(...f))},Pz=[],Gt=t=>{const e=n=>n[t]||Pz;return e.isThemeGetter=!0,e},HN=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,qN=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Lz=/^\d+\/\d+$/,Uz=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,zz=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Bz=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Fz=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Hz=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ko=t=>Lz.test(t),Be=t=>!!t&&!Number.isNaN(Number(t)),Vr=t=>!!t&&Number.isInteger(Number(t)),Qg=t=>t.endsWith("%")&&Be(t.slice(0,-1)),Li=t=>Uz.test(t),qz=()=>!0,Gz=t=>zz.test(t)&&!Bz.test(t),GN=()=>!1,$z=t=>Fz.test(t),Kz=t=>Hz.test(t),Yz=t=>!xe(t)&&!_e(t),Qz=t=>Dl(t,YN,GN),xe=t=>HN.test(t),ja=t=>Dl(t,QN,Gz),Xg=t=>Dl(t,eB,Be),OE=t=>Dl(t,$N,GN),Xz=t=>Dl(t,KN,Kz),Nh=t=>Dl(t,XN,$z),_e=t=>qN.test(t),Fc=t=>jl(t,QN),Wz=t=>jl(t,tB),PE=t=>jl(t,$N),Jz=t=>jl(t,YN),Zz=t=>jl(t,KN),Ch=t=>jl(t,XN,!0),Dl=(t,e,n)=>{const i=HN.exec(t);return i?i[1]?e(i[1]):n(i[2]):!1},jl=(t,e,n=!1)=>{const i=qN.exec(t);return i?i[1]?e(i[1]):n:!1},$N=t=>t==="position"||t==="percentage",KN=t=>t==="image"||t==="url",YN=t=>t==="length"||t==="size"||t==="bg-size",QN=t=>t==="length",eB=t=>t==="number",tB=t=>t==="family-name",XN=t=>t==="shadow",nB=()=>{const t=Gt("color"),e=Gt("font"),n=Gt("text"),i=Gt("font-weight"),a=Gt("tracking"),l=Gt("leading"),c=Gt("breakpoint"),d=Gt("container"),f=Gt("spacing"),g=Gt("radius"),v=Gt("shadow"),b=Gt("inset-shadow"),_=Gt("text-shadow"),S=Gt("drop-shadow"),I=Gt("blur"),M=Gt("perspective"),D=Gt("aspect"),L=Gt("ease"),q=Gt("animate"),K=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Z=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],ne=()=>[...Z(),_e,xe],de=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto","contain","none"],E=()=>[_e,xe,f],C=()=>[Ko,"full","auto",...E()],U=()=>[Vr,"none","subgrid",_e,xe],P=()=>["auto",{span:["full",Vr,_e,xe]},Vr,_e,xe],H=()=>[Vr,"auto",_e,xe],j=()=>["auto","min","max","fr",_e,xe],ue=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],G=()=>["start","end","center","stretch","center-safe","end-safe"],V=()=>["auto",...E()],F=()=>[Ko,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...E()],$=()=>[t,_e,xe],he=()=>[...Z(),PE,OE,{position:[_e,xe]}],pe=()=>["no-repeat",{repeat:["","x","y","space","round"]}],z=()=>["auto","cover","contain",Jz,Qz,{size:[_e,xe]}],se=()=>[Qg,Fc,ja],ce=()=>["","none","full",g,_e,xe],fe=()=>["",Be,Fc,ja],Ae=()=>["solid","dashed","dotted","double"],De=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ke=()=>[Be,Qg,PE,OE],ge=()=>["","none",I,_e,xe],Me=()=>["none",Be,_e,xe],xt=()=>["none",Be,_e,xe],en=()=>[Be,_e,xe],Dn=()=>[Ko,"full",...E()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Li],breakpoint:[Li],color:[qz],container:[Li],"drop-shadow":[Li],ease:["in","out","in-out"],font:[Yz],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Li],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Li],shadow:[Li],spacing:["px",Be],text:[Li],"text-shadow":[Li],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ko,xe,_e,D]}],container:["container"],columns:[{columns:[Be,xe,_e,d]}],"break-after":[{"break-after":K()}],"break-before":[{"break-before":K()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:ne()}],overflow:[{overflow:de()}],"overflow-x":[{"overflow-x":de()}],"overflow-y":[{"overflow-y":de()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:C()}],"inset-x":[{"inset-x":C()}],"inset-y":[{"inset-y":C()}],start:[{start:C()}],end:[{end:C()}],top:[{top:C()}],right:[{right:C()}],bottom:[{bottom:C()}],left:[{left:C()}],visibility:["visible","invisible","collapse"],z:[{z:[Vr,"auto",_e,xe]}],basis:[{basis:[Ko,"full","auto",d,...E()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Be,Ko,"auto","initial","none",xe]}],grow:[{grow:["",Be,_e,xe]}],shrink:[{shrink:["",Be,_e,xe]}],order:[{order:[Vr,"first","last","none",_e,xe]}],"grid-cols":[{"grid-cols":U()}],"col-start-end":[{col:P()}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":U()}],"row-start-end":[{row:P()}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":j()}],"auto-rows":[{"auto-rows":j()}],gap:[{gap:E()}],"gap-x":[{"gap-x":E()}],"gap-y":[{"gap-y":E()}],"justify-content":[{justify:[...ue(),"normal"]}],"justify-items":[{"justify-items":[...G(),"normal"]}],"justify-self":[{"justify-self":["auto",...G()]}],"align-content":[{content:["normal",...ue()]}],"align-items":[{items:[...G(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...G(),{baseline:["","last"]}]}],"place-content":[{"place-content":ue()}],"place-items":[{"place-items":[...G(),"baseline"]}],"place-self":[{"place-self":["auto",...G()]}],p:[{p:E()}],px:[{px:E()}],py:[{py:E()}],ps:[{ps:E()}],pe:[{pe:E()}],pt:[{pt:E()}],pr:[{pr:E()}],pb:[{pb:E()}],pl:[{pl:E()}],m:[{m:V()}],mx:[{mx:V()}],my:[{my:V()}],ms:[{ms:V()}],me:[{me:V()}],mt:[{mt:V()}],mr:[{mr:V()}],mb:[{mb:V()}],ml:[{ml:V()}],"space-x":[{"space-x":E()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":E()}],"space-y-reverse":["space-y-reverse"],size:[{size:F()}],w:[{w:[d,"screen",...F()]}],"min-w":[{"min-w":[d,"screen","none",...F()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[c]},...F()]}],h:[{h:["screen","lh",...F()]}],"min-h":[{"min-h":["screen","lh","none",...F()]}],"max-h":[{"max-h":["screen","lh",...F()]}],"font-size":[{text:["base",n,Fc,ja]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,_e,Xg]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Qg,xe]}],"font-family":[{font:[Wz,xe,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,_e,xe]}],"line-clamp":[{"line-clamp":[Be,"none",_e,Xg]}],leading:[{leading:[l,...E()]}],"list-image":[{"list-image":["none",_e,xe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",_e,xe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:$()}],"text-color":[{text:$()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ae(),"wavy"]}],"text-decoration-thickness":[{decoration:[Be,"from-font","auto",_e,ja]}],"text-decoration-color":[{decoration:$()}],"underline-offset":[{"underline-offset":[Be,"auto",_e,xe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:E()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",_e,xe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",_e,xe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:he()}],"bg-repeat":[{bg:pe()}],"bg-size":[{bg:z()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Vr,_e,xe],radial:["",_e,xe],conic:[Vr,_e,xe]},Zz,Xz]}],"bg-color":[{bg:$()}],"gradient-from-pos":[{from:se()}],"gradient-via-pos":[{via:se()}],"gradient-to-pos":[{to:se()}],"gradient-from":[{from:$()}],"gradient-via":[{via:$()}],"gradient-to":[{to:$()}],rounded:[{rounded:ce()}],"rounded-s":[{"rounded-s":ce()}],"rounded-e":[{"rounded-e":ce()}],"rounded-t":[{"rounded-t":ce()}],"rounded-r":[{"rounded-r":ce()}],"rounded-b":[{"rounded-b":ce()}],"rounded-l":[{"rounded-l":ce()}],"rounded-ss":[{"rounded-ss":ce()}],"rounded-se":[{"rounded-se":ce()}],"rounded-ee":[{"rounded-ee":ce()}],"rounded-es":[{"rounded-es":ce()}],"rounded-tl":[{"rounded-tl":ce()}],"rounded-tr":[{"rounded-tr":ce()}],"rounded-br":[{"rounded-br":ce()}],"rounded-bl":[{"rounded-bl":ce()}],"border-w":[{border:fe()}],"border-w-x":[{"border-x":fe()}],"border-w-y":[{"border-y":fe()}],"border-w-s":[{"border-s":fe()}],"border-w-e":[{"border-e":fe()}],"border-w-t":[{"border-t":fe()}],"border-w-r":[{"border-r":fe()}],"border-w-b":[{"border-b":fe()}],"border-w-l":[{"border-l":fe()}],"divide-x":[{"divide-x":fe()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":fe()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ae(),"hidden","none"]}],"divide-style":[{divide:[...Ae(),"hidden","none"]}],"border-color":[{border:$()}],"border-color-x":[{"border-x":$()}],"border-color-y":[{"border-y":$()}],"border-color-s":[{"border-s":$()}],"border-color-e":[{"border-e":$()}],"border-color-t":[{"border-t":$()}],"border-color-r":[{"border-r":$()}],"border-color-b":[{"border-b":$()}],"border-color-l":[{"border-l":$()}],"divide-color":[{divide:$()}],"outline-style":[{outline:[...Ae(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Be,_e,xe]}],"outline-w":[{outline:["",Be,Fc,ja]}],"outline-color":[{outline:$()}],shadow:[{shadow:["","none",v,Ch,Nh]}],"shadow-color":[{shadow:$()}],"inset-shadow":[{"inset-shadow":["none",b,Ch,Nh]}],"inset-shadow-color":[{"inset-shadow":$()}],"ring-w":[{ring:fe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:$()}],"ring-offset-w":[{"ring-offset":[Be,ja]}],"ring-offset-color":[{"ring-offset":$()}],"inset-ring-w":[{"inset-ring":fe()}],"inset-ring-color":[{"inset-ring":$()}],"text-shadow":[{"text-shadow":["none",_,Ch,Nh]}],"text-shadow-color":[{"text-shadow":$()}],opacity:[{opacity:[Be,_e,xe]}],"mix-blend":[{"mix-blend":[...De(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":De()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Be]}],"mask-image-linear-from-pos":[{"mask-linear-from":ke()}],"mask-image-linear-to-pos":[{"mask-linear-to":ke()}],"mask-image-linear-from-color":[{"mask-linear-from":$()}],"mask-image-linear-to-color":[{"mask-linear-to":$()}],"mask-image-t-from-pos":[{"mask-t-from":ke()}],"mask-image-t-to-pos":[{"mask-t-to":ke()}],"mask-image-t-from-color":[{"mask-t-from":$()}],"mask-image-t-to-color":[{"mask-t-to":$()}],"mask-image-r-from-pos":[{"mask-r-from":ke()}],"mask-image-r-to-pos":[{"mask-r-to":ke()}],"mask-image-r-from-color":[{"mask-r-from":$()}],"mask-image-r-to-color":[{"mask-r-to":$()}],"mask-image-b-from-pos":[{"mask-b-from":ke()}],"mask-image-b-to-pos":[{"mask-b-to":ke()}],"mask-image-b-from-color":[{"mask-b-from":$()}],"mask-image-b-to-color":[{"mask-b-to":$()}],"mask-image-l-from-pos":[{"mask-l-from":ke()}],"mask-image-l-to-pos":[{"mask-l-to":ke()}],"mask-image-l-from-color":[{"mask-l-from":$()}],"mask-image-l-to-color":[{"mask-l-to":$()}],"mask-image-x-from-pos":[{"mask-x-from":ke()}],"mask-image-x-to-pos":[{"mask-x-to":ke()}],"mask-image-x-from-color":[{"mask-x-from":$()}],"mask-image-x-to-color":[{"mask-x-to":$()}],"mask-image-y-from-pos":[{"mask-y-from":ke()}],"mask-image-y-to-pos":[{"mask-y-to":ke()}],"mask-image-y-from-color":[{"mask-y-from":$()}],"mask-image-y-to-color":[{"mask-y-to":$()}],"mask-image-radial":[{"mask-radial":[_e,xe]}],"mask-image-radial-from-pos":[{"mask-radial-from":ke()}],"mask-image-radial-to-pos":[{"mask-radial-to":ke()}],"mask-image-radial-from-color":[{"mask-radial-from":$()}],"mask-image-radial-to-color":[{"mask-radial-to":$()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":Z()}],"mask-image-conic-pos":[{"mask-conic":[Be]}],"mask-image-conic-from-pos":[{"mask-conic-from":ke()}],"mask-image-conic-to-pos":[{"mask-conic-to":ke()}],"mask-image-conic-from-color":[{"mask-conic-from":$()}],"mask-image-conic-to-color":[{"mask-conic-to":$()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:he()}],"mask-repeat":[{mask:pe()}],"mask-size":[{mask:z()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",_e,xe]}],filter:[{filter:["","none",_e,xe]}],blur:[{blur:ge()}],brightness:[{brightness:[Be,_e,xe]}],contrast:[{contrast:[Be,_e,xe]}],"drop-shadow":[{"drop-shadow":["","none",S,Ch,Nh]}],"drop-shadow-color":[{"drop-shadow":$()}],grayscale:[{grayscale:["",Be,_e,xe]}],"hue-rotate":[{"hue-rotate":[Be,_e,xe]}],invert:[{invert:["",Be,_e,xe]}],saturate:[{saturate:[Be,_e,xe]}],sepia:[{sepia:["",Be,_e,xe]}],"backdrop-filter":[{"backdrop-filter":["","none",_e,xe]}],"backdrop-blur":[{"backdrop-blur":ge()}],"backdrop-brightness":[{"backdrop-brightness":[Be,_e,xe]}],"backdrop-contrast":[{"backdrop-contrast":[Be,_e,xe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Be,_e,xe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Be,_e,xe]}],"backdrop-invert":[{"backdrop-invert":["",Be,_e,xe]}],"backdrop-opacity":[{"backdrop-opacity":[Be,_e,xe]}],"backdrop-saturate":[{"backdrop-saturate":[Be,_e,xe]}],"backdrop-sepia":[{"backdrop-sepia":["",Be,_e,xe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":E()}],"border-spacing-x":[{"border-spacing-x":E()}],"border-spacing-y":[{"border-spacing-y":E()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",_e,xe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Be,"initial",_e,xe]}],ease:[{ease:["linear","initial",L,_e,xe]}],delay:[{delay:[Be,_e,xe]}],animate:[{animate:["none",q,_e,xe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[M,_e,xe]}],"perspective-origin":[{"perspective-origin":ne()}],rotate:[{rotate:Me()}],"rotate-x":[{"rotate-x":Me()}],"rotate-y":[{"rotate-y":Me()}],"rotate-z":[{"rotate-z":Me()}],scale:[{scale:xt()}],"scale-x":[{"scale-x":xt()}],"scale-y":[{"scale-y":xt()}],"scale-z":[{"scale-z":xt()}],"scale-3d":["scale-3d"],skew:[{skew:en()}],"skew-x":[{"skew-x":en()}],"skew-y":[{"skew-y":en()}],transform:[{transform:[_e,xe,"","none","gpu","cpu"]}],"transform-origin":[{origin:ne()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Dn()}],"translate-x":[{"translate-x":Dn()}],"translate-y":[{"translate-y":Dn()}],"translate-z":[{"translate-z":Dn()}],"translate-none":["translate-none"],accent:[{accent:$()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:$()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",_e,xe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":E()}],"scroll-mx":[{"scroll-mx":E()}],"scroll-my":[{"scroll-my":E()}],"scroll-ms":[{"scroll-ms":E()}],"scroll-me":[{"scroll-me":E()}],"scroll-mt":[{"scroll-mt":E()}],"scroll-mr":[{"scroll-mr":E()}],"scroll-mb":[{"scroll-mb":E()}],"scroll-ml":[{"scroll-ml":E()}],"scroll-p":[{"scroll-p":E()}],"scroll-px":[{"scroll-px":E()}],"scroll-py":[{"scroll-py":E()}],"scroll-ps":[{"scroll-ps":E()}],"scroll-pe":[{"scroll-pe":E()}],"scroll-pt":[{"scroll-pt":E()}],"scroll-pr":[{"scroll-pr":E()}],"scroll-pb":[{"scroll-pb":E()}],"scroll-pl":[{"scroll-pl":E()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",_e,xe]}],fill:[{fill:["none",...$()]}],"stroke-w":[{stroke:[Be,Fc,ja,Xg]}],stroke:[{stroke:["none",...$()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},sB=Oz(nB);function Yo(...t){return sB(pz(t))}const iB=t=>t?(typeof t=="object"&&"toDate"in t&&typeof t.toDate=="function"?t.toDate():new Date(t)).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"...";function rB(){const{user:t}=Zi(),{groups:e,createGroup:n,joinGroup:i,sendMessage:a,leaveGroup:l}=mz(),[c,d]=N.useState(null),[f,g]=N.useState([]),[v,b]=N.useState(""),[_,S]=N.useState(!1),I=N.useRef(null);N.useEffect(()=>{const Z=window.innerWidth<768;!c&&e.length>0&&!Z&&d(e[0])},[e,c]),N.useEffect(()=>{if(!c)return;const Z=tm(Fa(qi,"groups",c.id,"messages"),Lv("timestamp","asc"),zv(50)),ne=Bv(Z,de=>{const R=[];de.forEach(E=>{R.push({id:E.id,...E.data()})}),g(R)},de=>console.error("Msg Load Err",de));return()=>{ne(),g([])}},[c]),N.useEffect(()=>{I.current?.scrollIntoView({behavior:"smooth"})},[f]);const M=async Z=>{Z.preventDefault(),!(!v.trim()||!c||_)&&(S(!0),await a(c.id,v.trim()),b(""),S(!1))},D=()=>{const Z=prompt("Enter Group Name:");if(!Z)return;const ne=prompt("Enter Description (optional):")||"";n(Z,ne)},L=()=>{const Z=prompt("Enter Invitation Code:");Z&&i(Z)},q=()=>{c&&confirm(`Leave group "${c.name}"?`)&&(l(c.id),d(null))},K=()=>{c&&(navigator.clipboard.writeText(c.inviteCode),alert("Invite code copied: "+c.inviteCode))};return m.jsxs(am,{className:"h-[calc(100vh-8rem)] md:h-[calc(100vh-4rem)] flex flex-col md:flex-row overflow-hidden",children:[m.jsx("div",{className:`md:hidden flex items-center justify-between p-4 bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700 ${c?"hidden":"flex"}`,children:m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(iu,{className:"w-6 h-6 text-indigo-500"}),m.jsx("span",{className:"font-bold text-slate-800 dark:text-white truncate max-w-[200px]",children:"Study Groups"})]})}),c&&m.jsxs("div",{className:"md:hidden flex items-center justify-between p-4 bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700",children:[m.jsxs("button",{onClick:()=>d(null),className:"flex items-center gap-2 text-slate-600 dark:text-slate-300",children:[m.jsx(qv,{className:"w-5 h-5"}),m.jsx("span",{className:"font-medium",children:"Back"})]}),m.jsx("span",{className:"font-bold text-slate-800 dark:text-white truncate max-w-[150px]",children:c.name}),m.jsx("button",{onClick:q,className:"text-red-500",children:m.jsx(Af,{className:"w-5 h-5"})})]}),m.jsxs("div",{className:`flex-col bg-slate-50 dark:bg-slate-900 border-r border-slate-200 dark:border-slate-700 w-full md:w-72 md:flex ${c?"hidden":"flex"}`,children:[m.jsx("div",{className:"p-4 border-b border-slate-200 dark:border-slate-700 hidden md:flex justify-between items-center",children:m.jsxs("h2",{className:"font-bold text-xl text-slate-800 dark:text-white flex items-center gap-2",children:[m.jsx(iu,{className:"w-6 h-6 text-indigo-500"}),"My Groups"]})}),m.jsxs("div",{className:"p-4 space-y-2",children:[m.jsxs("button",{onClick:D,className:"w-full flex items-center justify-center gap-2 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-medium transition-colors",children:[m.jsx(bl,{className:"w-4 h-4"})," Create Group"]}),m.jsxs("button",{onClick:L,className:"w-full flex items-center justify-center gap-2 py-2 bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 hover:bg-slate-50 dark:hover:bg-slate-700 text-slate-700 dark:text-slate-200 rounded-lg font-medium transition-colors",children:[m.jsx(B8,{className:"w-4 h-4"})," Join via Code"]})]}),m.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-1",children:[e.length===0&&m.jsx("div",{className:"text-center text-slate-500 text-sm py-4",children:"You haven't joined any groups yet."}),e.map(Z=>m.jsxs("button",{onClick:()=>{d(Z)},className:Yo("w-full text-left px-3 py-3 rounded-xl flex items-center gap-3 transition-all",c?.id===Z.id?"bg-white dark:bg-slate-800 shadow-sm ring-1 ring-indigo-500/20":"hover:bg-slate-100 dark:hover:bg-slate-800"),children:[m.jsx("div",{className:Yo("w-10 h-10 rounded-full flex items-center justify-center text-white font-bold text-sm",c?.id===Z.id?"bg-indigo-500":"bg-slate-400"),children:Z.name[0].toUpperCase()}),m.jsxs("div",{children:[m.jsx("div",{className:Yo("font-medium text-sm",c?.id===Z.id?"text-indigo-900 dark:text-indigo-100":"text-slate-700 dark:text-slate-300"),children:Z.name}),m.jsxs("div",{className:"text-xs text-slate-500 truncate max-w-[140px]",children:[Z.members.length," members"]})]})]},Z.id))]})]}),m.jsx("div",{className:`flex-1 flex-col bg-white dark:bg-slate-800 relative md:flex ${c?"flex":"hidden"}`,children:c?m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"hidden md:flex items-center justify-between p-4 border-b border-slate-100 dark:border-slate-700 shadow-sm z-10",children:[m.jsxs("div",{children:[m.jsxs("h2",{className:"font-bold text-lg text-slate-800 dark:text-white flex items-center gap-2",children:[c.name,m.jsxs("span",{className:"text-xs font-normal px-2 py-0.5 bg-indigo-100 text-indigo-700 dark:bg-indigo-900 dark:text-indigo-300 rounded-full",children:[c.members.length," Members"]})]}),m.jsx("p",{className:"text-xs text-slate-500",children:c.description})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("button",{onClick:K,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg text-slate-500",title:"Copy Invite Code",children:m.jsx(j8,{className:"w-5 h-5"})}),m.jsx("button",{onClick:q,className:"p-2 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg text-red-500",title:"Leave Group",children:m.jsx(Af,{className:"w-5 h-5"})})]})]}),m.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-slate-50/50 dark:bg-slate-900/50",children:[f.length===0&&m.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-slate-400",children:[m.jsx(SN,{className:"w-12 h-12 mb-2 opacity-50"}),m.jsx("p",{children:"No messages yet. Start the conversation!"}),m.jsxs("p",{className:"text-xs mt-2",children:["Invite Code: ",m.jsx("span",{className:"font-mono bg-slate-100 dark:bg-slate-800 px-1 rounded select-all",children:c.inviteCode})]})]}),f.map(Z=>{const ne=Z.senderId===t?.uid;return m.jsxs(Se.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:Yo("flex gap-3",ne?"flex-row-reverse":""),children:[m.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-100 dark:bg-indigo-900 flex items-center justify-center text-xs font-bold text-indigo-700 dark:text-indigo-300 flex-shrink-0",children:Z.senderName[0]}),m.jsxs("div",{className:Yo("max-w-[75%]",ne?"items-end":"items-start"),children:[m.jsxs("div",{className:"flex items-baseline gap-2 mb-1",children:[m.jsx("span",{className:"text-xs font-bold text-slate-600 dark:text-slate-400",children:Z.senderName}),m.jsx("span",{className:"text-[10px] text-slate-400",children:iB(Z.timestamp)})]}),m.jsx("div",{className:Yo("px-4 py-2 rounded-2xl text-sm shadow-sm",ne?"bg-indigo-600 text-white rounded-tr-sm":"bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-200 rounded-tl-sm"),children:Z.text})]})]},Z.id)}),m.jsx("div",{ref:I})]}),m.jsx("div",{className:"p-4 bg-white dark:bg-slate-800 border-t border-slate-200 dark:border-slate-700",children:m.jsxs("form",{onSubmit:M,className:"flex gap-2",children:[m.jsx("input",{value:v,onChange:Z=>b(Z.target.value),placeholder:`Message #${c.name}`,className:"flex-1 px-4 py-2 bg-slate-100 dark:bg-slate-900 rounded-xl border-none focus:ring-2 focus:ring-indigo-500"}),m.jsx("button",{disabled:_||!v.trim(),className:"p-2 bg-indigo-600 text-white rounded-xl hover:bg-indigo-700 disabled:opacity-50",children:_?m.jsx($8,{className:"animate-spin w-5 h-5"}):m.jsx(m7,{className:"w-5 h-5"})})]})})]}):m.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-slate-400",children:[m.jsx(iu,{className:"w-16 h-16 mb-4 opacity-50"}),m.jsx("h3",{className:"text-lg font-medium text-slate-600 dark:text-slate-300",children:"Select a Group"}),m.jsx("p",{className:"max-w-xs text-center mt-2",children:"Join a study group or create your own to collaborate with friends."})]})})]})}function aB({steps:t,onComplete:e,onSkip:n}){const[i,a]=N.useState(0),[l,c]=N.useState(null),d=t[i];N.useEffect(()=>{if(d.targetId){const v=document.getElementById(d.targetId);v?(c(v.getBoundingClientRect()),v.scrollIntoView({behavior:"smooth",block:"center"})):c(null)}else c(null)},[i,d,t]);const f=()=>{i<t.length-1?a(v=>v+1):e()},g=()=>{i>0&&a(v=>v-1)};return m.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center pointer-events-none",children:[m.jsx("div",{className:"absolute inset-0 bg-black/60 pointer-events-none"}),l&&m.jsx(Se.div,{layoutId:"highlight-box",className:"absolute border-4 border-blue-500 rounded-xl shadow-[0_0_0_9999px_rgba(0,0,0,0.6)] pointer-events-none transition-all duration-300",style:{top:l.top-4,left:l.left-4,width:l.width+8,height:l.height+8}}),m.jsx(Ms,{mode:"wait",children:m.jsxs(Se.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:`pointer-events-auto absolute bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-2xl border border-slate-100 dark:border-slate-700 max-w-sm w-full mx-4 ${l?"":"static"}`,style:l&&d.position!=="center"?{top:d.position==="bottom"?l.bottom+20:d.position==="top"?l.top-200:void 0,left:d.position==="right"?l.right+20:d.position==="left"?l.left-340:Math.max(16,l.left+l.width/2-160),marginTop:(d.position==="bottom",0)}:{},children:[m.jsxs("div",{className:"flex justify-between items-start mb-2",children:[m.jsxs("span",{className:"text-xs font-bold text-blue-600 dark:text-blue-400 uppercase tracking-wider",children:["Step ",i+1," of ",t.length]}),m.jsx("button",{onClick:n,className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200",children:m.jsx(er,{className:"w-4 h-4"})})]}),m.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-2",children:d.title}),m.jsx("p",{className:"text-slate-600 dark:text-slate-300 mb-6 leading-relaxed",children:d.description}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("button",{onClick:g,disabled:i===0,className:`flex items-center gap-1 text-sm font-medium ${i===0?"text-slate-300":"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200"}`,children:[m.jsx(qv,{className:"w-4 h-4"})," Back"]}),m.jsxs("button",{onClick:f,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-full font-medium text-sm flex items-center gap-2 shadow-sm transition-transform active:scale-95",children:[i===t.length-1?"Finish":"Next",i<t.length-1&&m.jsx(wN,{className:"w-4 h-4"})]})]})]},i)})]})}const oB="/Study-Mate/assets/logo-C0C7fgvJ.png";function lB({deferredPrompt:t,onInstall:e}){const[n,i]=N.useState(!1);N.useEffect(()=>{const l=setTimeout(()=>i(!0),3e3);return()=>clearTimeout(l)},[]);const a=()=>{i(!1)};return!n||!t?null:m.jsx(Ms,{children:m.jsx(Se.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"fixed bottom-24 md:bottom-6 left-1/2 transform -translate-x-1/2 z-50 w-[90%] md:w-auto",children:m.jsxs("div",{className:"bg-slate-900/90 dark:bg-white/90 backdrop-blur-md text-white dark:text-slate-900 px-6 py-4 rounded-2xl shadow-2xl flex items-center gap-4 border border-white/10 dark:border-slate-200/20",children:[m.jsx("div",{className:"bg-indigo-500 rounded-xl p-2",children:m.jsx(Gv,{className:"w-5 h-5 text-white"})}),m.jsxs("div",{className:"flex-1",children:[m.jsx("h4",{className:"font-bold text-sm",children:"Install App"}),m.jsx("p",{className:"text-xs text-slate-300 dark:text-slate-600",children:"Add to home screen for better experience"})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("button",{onClick:a,className:"p-2 hover:bg-white/10 dark:hover:bg-slate-200/50 rounded-lg transition-colors",children:m.jsx(er,{className:"w-4 h-4"})}),m.jsx("button",{onClick:e,className:"bg-white dark:bg-slate-900 text-slate-900 dark:text-white px-4 py-2 rounded-lg text-sm font-bold shadow-lg active:scale-95 transition-transform",children:"Install"})]})]})})})}function cB(){const{userProfile:t}=Yt();N.useEffect(()=>{"Notification"in window&&Notification.permission==="default"&&Notification.requestPermission();const e=()=>{if(!("Notification"in window)||Notification.permission!=="granted")return;const a=t.lastStudyDate?new Date(t.lastStudyDate):null;if(!a)return;const l=new Date,c=Math.abs(l.getTime()-a.getTime()),d=Math.ceil(c/(1e3*60*60*24));if(d>=3){const f=localStorage.getItem("tracked_last_reminder"),g=f?new Date(f):null;(g?(l.getTime()-g.getTime())/(1e3*60*60):999)>24&&(new Notification("Miss you! ",{body:`It's been ${d} days since your last study session. Keep your streak alive!`,icon:"/pwa-icon.svg",tag:"inactivity-reminder"}),localStorage.setItem("tracked_last_reminder",l.toISOString()))}},n=()=>{if(!("Notification"in window)||Notification.permission!=="granted")return;const a=t.dailyGoal||7200,l=t.todayStudyTime||0,c=a-l;if(c>0&&c<=1800){const d=localStorage.getItem("tracked_goal_reminder"),f=new Date().toISOString().split("T")[0];d!==f&&(new Notification("Almost there! ",{body:"You're less than 30 minutes away from your daily goal. Finish strong!",icon:"/pwa-icon.svg",tag:"goal-reminder"}),localStorage.setItem("tracked_goal_reminder",f))}},i=setTimeout(()=>{e(),n()},5e3);return()=>clearTimeout(i)},[t.lastStudyDate,t.todayStudyTime,t.dailyGoal])}const uB=[{title:"Welcome to TrackEd! ",description:"Your personal companion for academic success. Let's take a quick tour to get you started.",position:"center"},{targetId:"add-subject-btn",title:"Add Your Subjects ",description:"Start by adding the subjects you want to track. You can organize them by chapters and topics.",position:"bottom"},{targetId:"nav-timer",title:"Focus Timer ",description:"Use the Pomodoro timer or stopwatch to track your study sessions and build streaks.",position:"right"},{targetId:"nav-settings",title:"Customize Experience ",description:"Manage your profile, data, and switch between light/dark modes here.",position:"top"}];function dB(){const{logout:t}=Zi(),{theme:e,toggleTheme:n}=ON(),{userProfile:i}=Yt(),{currentTitle:a,nextLevelXP:l,progress:c}=Z0(i.xp||0),d=i.level||1,f=Wi(),g=xI();cB();const[v,b]=N.useState(!1),[_,S]=N.useState(null);N.useEffect(()=>{localStorage.setItem("tracked_tour_completed","true");const L=q=>{q.preventDefault(),S(q)};return window.addEventListener("beforeinstallprompt",L),()=>window.removeEventListener("beforeinstallprompt",L)},[]);const I=()=>{b(!1),localStorage.setItem("tracked_tour_completed","true")},M=async()=>{if(!_)return;_.prompt();const{outcome:L}=await _.userChoice;L==="accepted"&&S(null)},D=L=>f.pathname===L;return m.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-slate-100 pb-20 md:pb-0 font-sans transition-colors duration-300",children:[v&&m.jsx(aB,{steps:uB,onComplete:I,onSkip:I}),m.jsxs("header",{className:"glass sticky top-0 z-20 px-4 py-3 flex items-center justify-between md:hidden transition-colors duration-300",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-tr from-blue-500 to-indigo-600 flex items-center justify-center text-white font-bold text-xs shadow-md",children:d}),m.jsx("div",{children:m.jsx("h1",{className:"text-lg font-bold bg-gradient-to-r from-blue-600 to-indigo-600 dark:from-blue-400 dark:to-indigo-400 bg-clip-text text-transparent",children:"TrackEd"})})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("button",{onClick:n,className:"p-2 text-slate-500 dark:text-slate-400 hover:bg-slate-100/50 dark:hover:bg-slate-700/50 rounded-full transition-colors backdrop-blur-sm","aria-label":"Toggle Theme",children:e==="light"?m.jsx(kf,{className:"w-5 h-5"}):m.jsx(W0,{className:"w-5 h-5"})}),m.jsx(Jt,{to:"/settings",className:"p-2 text-slate-500 dark:text-slate-400 hover:bg-slate-100/50 dark:hover:bg-slate-700/50 rounded-full transition-colors backdrop-blur-sm",children:m.jsx(kE,{className:"w-5 h-5"})})]})]}),m.jsxs("div",{className:"md:flex max-w-7xl mx-auto",children:[m.jsxs("aside",{className:"hidden md:flex flex-col w-72 h-[calc(100vh-2rem)] sticky top-4 m-4 rounded-3xl glass shadow-2xl shadow-slate-200/60 dark:shadow-slate-900/50 p-6 transition-all duration-300 z-10",children:[m.jsxs("div",{className:"flex items-center justify-between mb-10 pl-2",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("img",{src:oB,alt:"TrackEd Logo",className:"w-10 h-10 rounded-xl object-contain shadow-md"}),m.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-white tracking-tight",children:"TrackEd"})]}),m.jsx("button",{onClick:n,className:"p-2 text-slate-500 dark:text-slate-400 hover:bg-slate-100/80 dark:hover:bg-slate-700/50 rounded-xl transition-colors","aria-label":"Toggle Theme",children:e==="light"?m.jsx(kf,{className:"w-5 h-5"}):m.jsx(W0,{className:"w-5 h-5"})})]}),m.jsxs("div",{className:"mb-8 px-2",children:[m.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[m.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-tr from-blue-500 to-indigo-600 flex items-center justify-center text-white font-bold text-lg shadow-lg shadow-blue-500/30 ring-2 ring-white dark:ring-slate-700",children:d}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-bold text-slate-800 dark:text-white leading-tight",children:i.name}),m.jsx("p",{className:"text-xs font-medium text-blue-600 dark:text-blue-400",children:a})]})]}),m.jsxs("div",{className:"space-y-1.5",children:[m.jsxs("div",{className:"flex justify-between text-[10px] font-semibold text-slate-400 uppercase tracking-wider",children:[m.jsxs("span",{children:[i.xp," XP"]}),m.jsx("span",{children:l?`${l} XP`:"MAX"})]}),m.jsx("div",{className:"w-full h-2.5 bg-slate-100 dark:bg-slate-800 rounded-full overflow-hidden shadow-inner ring-1 ring-slate-900/5 dark:ring-white/5",children:m.jsx(Se.div,{className:"h-full bg-gradient-to-r from-blue-500 to-indigo-500 rounded-full",initial:{width:0},animate:{width:`${c}%`},transition:{duration:1,ease:"easeOut"}})})]})]}),m.jsxs("nav",{className:"space-y-1.5 flex-1",children:[m.jsxs(Jt,{to:"/",className:`flex items-center gap-3 px-4 py-3.5 rounded-xl transition-all duration-200 ${D("/")?"bg-blue-600 text-white shadow-lg shadow-blue-500/30 font-medium translate-x-1":"text-slate-600 dark:text-slate-400 hover:bg-slate-100/80 dark:hover:bg-slate-800/50 hover:text-slate-900 dark:hover:text-white"}`,children:[m.jsx(AE,{className:"w-5 h-5"}),"Dashboard"]}),m.jsxs(Jt,{to:"/planner",className:`flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200 group relative ${D("/planner")?"bg-gradient-to-r from-blue-600 to-indigo-600 text-white shadow-lg shadow-blue-500/30":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[m.jsx(Q0,{className:`w-5 h-5 transition-transform group-hover:scale-110 ${D("/planner")?"text-white":"text-slate-500 group-hover:text-blue-600 dark:text-slate-500 dark:group-hover:text-blue-400"}`}),m.jsx("span",{className:"font-medium",children:"Planner"}),D("/planner")&&m.jsx(Se.div,{layoutId:"activeTab",className:"absolute left-0 w-1 h-8 bg-white rounded-r-full opacity-30"})]}),m.jsxs(Jt,{to:"/analytics",className:`flex items-center gap-3 px-4 py-3.5 rounded-xl transition-all duration-200 ${D("/analytics")?"bg-blue-600 text-white shadow-lg shadow-blue-500/30 font-medium translate-x-1":"text-slate-600 dark:text-slate-400 hover:bg-slate-100/80 dark:hover:bg-slate-800/50 hover:text-slate-900 dark:hover:text-white"}`,children:[m.jsx(J0,{className:"w-5 h-5"}),"Analytics"]}),m.jsxs(Jt,{to:"/timer",id:"nav-timer",className:`flex items-center gap-3 px-4 py-3.5 rounded-xl transition-all duration-200 ${f.pathname==="/timer"?"bg-blue-600 text-white shadow-lg shadow-blue-500/30 font-medium translate-x-1":"text-slate-600 dark:text-slate-400 hover:bg-slate-100/80 dark:hover:bg-slate-800/50 hover:text-slate-900 dark:hover:text-white"}`,children:[m.jsx(CE,{className:"w-5 h-5"}),"Timer"]}),m.jsxs(Jt,{to:"/chat",className:`flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200 group relative ${D("/chat")?"bg-gradient-to-r from-blue-600 to-indigo-600 text-white shadow-lg shadow-blue-500/30":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[m.jsx(iu,{className:`w-5 h-5 transition-transform group-hover:scale-110 ${D("/chat")?"text-white":"text-slate-500 group-hover:text-blue-600 dark:text-slate-500 dark:group-hover:text-blue-400"}`}),m.jsx("span",{className:"font-medium",children:"Study Groups"}),D("/chat")&&m.jsx(Se.div,{layoutId:"activeTab",className:"absolute left-0 w-1 h-8 bg-white rounded-r-full opacity-30"})]}),m.jsxs(Jt,{to:"/settings",id:"nav-settings",className:`flex items-center gap-3 px-4 py-3.5 rounded-xl transition-all duration-200 ${D("/settings")?"bg-blue-600 text-white shadow-lg shadow-blue-500/30 font-medium translate-x-1":"text-slate-600 dark:text-slate-400 hover:bg-slate-100/80 dark:hover:bg-slate-800/50 hover:text-slate-900 dark:hover:text-white"}`,children:[m.jsx(kE,{className:"w-5 h-5"}),"Settings"]})]}),m.jsxs("div",{className:"mt-auto pt-6 border-t border-slate-200/50 dark:border-slate-700/50",children:[m.jsxs("button",{onClick:t,className:"flex items-center gap-3 px-4 py-3.5 rounded-xl text-slate-600 dark:text-slate-400 hover:bg-red-50 dark:hover:bg-red-900/20 hover:text-red-600 dark:hover:text-red-400 transition-colors w-full text-left mb-4 group",children:[m.jsx(Af,{className:"w-5 h-5 group-hover:-translate-x-0.5 transition-transform"}),"Sign Out"]}),m.jsxs("div",{className:"text-xs text-center text-slate-400 dark:text-slate-500 font-medium",children:[m.jsx("p",{children:"Empowering Students"}),m.jsx("p",{className:"mt-1 opacity-70",children:" 2026 TrackEd"})]})]})]}),m.jsx("main",{className:"flex-1 p-4 md:p-8",children:m.jsx(Ms,{mode:"wait",children:g&&N.cloneElement(g,{key:f.pathname})})})]}),m.jsxs("nav",{className:"fixed bottom-0 left-0 right-0 bg-white dark:bg-slate-800 border-t border-slate-200 dark:border-slate-700 flex justify-around pt-3 px-3 pb-[calc(0.75rem+env(safe-area-inset-bottom))] md:hidden z-20 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.05)] transition-colors duration-300",children:[m.jsxs(Jt,{to:"/",className:`flex flex-col items-center gap-1 text-xs ${D("/")?"text-blue-600 dark:text-blue-400 font-medium":"text-slate-400 dark:text-slate-500"}`,children:[m.jsx(AE,{className:"w-6 h-6"}),m.jsx("span",{children:"Home"})]}),m.jsxs(Jt,{to:"/planner",className:`flex flex-col items-center gap-1 text-xs ${D("/planner")?"text-blue-600 dark:text-blue-400 font-medium":"text-slate-400 dark:text-slate-500"}`,children:[m.jsx(Q0,{className:"w-6 h-6"}),m.jsx("span",{children:"Planner"})]}),m.jsxs(Jt,{to:"/timer",className:`flex flex-col items-center gap-1 text-xs ${D("/timer")?"text-blue-600 dark:text-blue-400 font-medium":"text-slate-400 dark:text-slate-500"}`,children:[m.jsx(CE,{className:"w-6 h-6"}),m.jsx("span",{children:"Timer"})]}),m.jsxs(Jt,{to:"/chat",className:`flex flex-col items-center gap-1 text-xs ${D("/chat")?"text-blue-600 dark:text-blue-400 font-medium":"text-slate-400 dark:text-slate-500"}`,children:[m.jsx(iu,{className:"w-6 h-6"}),m.jsx("span",{children:"Groups"})]}),m.jsxs(Jt,{to:"/analytics",className:`flex flex-col items-center gap-1 text-xs ${D("/analytics")?"text-blue-600 dark:text-blue-400 font-medium":"text-slate-400 dark:text-slate-500"}`,children:[m.jsx(J0,{className:"w-6 h-6"}),m.jsx("span",{children:"Stats"})]})]}),_&&m.jsx(lB,{deferredPrompt:_,onInstall:M})]})}function hB(){const{signInWithGoogle:t,user:e}=Zi(),n=If();return UE.useEffect(()=>{e&&n("/")},[e,n]),m.jsxs("div",{className:"min-h-screen flex items-center justify-center relative overflow-hidden bg-slate-50 dark:bg-slate-900 transition-colors",children:[m.jsxs("div",{className:"absolute inset-0 z-0",children:[m.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[40%] h-[40%] bg-blue-400/20 dark:bg-blue-600/10 rounded-full blur-3xl animate-pulse"}),m.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[40%] h-[40%] bg-indigo-400/20 dark:bg-indigo-600/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}}),m.jsx("div",{className:"absolute top-[20%] right-[10%] w-[20%] h-[20%] bg-purple-400/20 dark:bg-purple-600/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"2s"}})]}),m.jsxs(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,ease:"easeOut"},className:"relative z-10 w-full max-w-md px-6",children:[m.jsxs("div",{className:"bg-white/80 dark:bg-slate-800/80 backdrop-blur-xl rounded-3xl shadow-2xl border border-white/50 dark:border-slate-700/50 p-8 md:p-12 text-center transition-colors",children:[m.jsx("div",{className:"flex justify-center mb-8",children:m.jsx("div",{className:"p-4 bg-indigo-600 rounded-2xl shadow-lg transform rotate-3 hover:rotate-6 transition-transform duration-300",children:m.jsx(EN,{className:"w-10 h-10 text-white"})})}),m.jsxs("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white mb-3 tracking-tight transition-colors",children:["Welcome to ",m.jsx("span",{className:"text-indigo-600 dark:text-indigo-400",children:"TrackEd"})]}),m.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-10 text-lg leading-relaxed transition-colors",children:"Master your study habits and achieve your goals."}),m.jsxs(Se.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:t,className:"group w-full relative flex items-center justify-center gap-3 py-3.5 px-6 border border-transparent rounded-xl shadow-md text-base font-semibold text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-all duration-200",children:[m.jsx("div",{className:"bg-white p-1 rounded-full",children:m.jsx("img",{src:"https://www.google.com/favicon.ico",alt:"G",className:"w-4 h-4"})}),m.jsx("span",{children:"Sign in with Google"}),m.jsx(Hv,{className:"w-4 h-4 opacity-0 group-hover:opacity-100 group-hover:translate-x-1 transition-all"})]}),m.jsx("p",{className:"mt-8 text-xs text-slate-400 dark:text-slate-500 transition-colors",children:"By signing in, you agree to our Terms of Service and Privacy Policy."})]}),m.jsx("div",{className:"mt-8 text-center",children:m.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400 transition-colors",children:"Focus. Track. Succeed."})})]})]})}const fB=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];function mB(){const{subjects:t,userProfile:e,addScheduledSession:n,toggleScheduledSession:i,deleteScheduledSession:a,saveStudySession:l}=Yt(),[c,d]=N.useState(new Date),[f,g]=N.useState(new Date),[v,b]=N.useState(!1),[_,S]=N.useState({subjectId:"",chapterId:"",topicId:"",time:"18:00",durationMinutes:60,notes:""}),I=()=>{t.length>0&&S(G=>({...G,subjectId:t[0].id})),b(!0)},M=G=>{if(G.preventDefault(),!f||!_.subjectId)return;const V=f.getFullYear(),F=String(f.getMonth()+1).padStart(2,"0"),$=String(f.getDate()).padStart(2,"0"),he=`${V}-${F}-${$}`;n({subjectId:_.subjectId,date:he,time:_.time,durationMinutes:_.durationMinutes,chapterId:_.chapterId||void 0,topicId:_.topicId||void 0,notes:_.notes}),b(!1)},D=N.useMemo(()=>{if(!f||!e.scheduledSessions)return[];const G=f.getFullYear(),V=String(f.getMonth()+1).padStart(2,"0"),F=String(f.getDate()).padStart(2,"0"),$=`${G}-${V}-${F}`;return e.scheduledSessions.filter(he=>he.date===$)},[f,e.scheduledSessions]),L=G=>{if(!e.scheduledSessions)return!1;const V=c.getFullYear(),F=String(c.getMonth()+1).padStart(2,"0"),$=String(G).padStart(2,"0"),he=`${V}-${F}-${$}`;return e.scheduledSessions.some(pe=>pe.date===he&&!pe.isCompleted)},q=async G=>{G.isCompleted||confirm("Mark as done? Do you want to log this time to your stats?")&&await l(G.durationMinutes*60,G.subjectId),i(G.id)},K=(G,V)=>new Date(G,V+1,0).getDate(),Z=(G,V)=>new Date(G,V,1).getDay(),ne=c.getFullYear(),de=c.getMonth(),R=K(ne,de),E=Z(ne,de),C=()=>d(new Date(ne,de-1,1)),U=()=>d(new Date(ne,de+1,1)),P=new Date,H=G=>G===P.getDate()&&de===P.getMonth()&&ne===P.getFullYear(),j=G=>f&&G===f.getDate()&&de===f.getMonth()&&ne===f.getFullYear(),ue=N.useMemo(()=>{const G=[];return t.forEach(V=>{V.chapters.forEach(F=>{F.isCompleted||F.topics.forEach($=>{$.isCompleted||G.push({subjectName:V.name,chapterName:F.name,topicName:$.name,priority:Math.random()})})})}),G.sort((V,F)=>F.priority-V.priority).slice(0,3)},[t]);return m.jsxs("div",{className:"space-y-6",children:[m.jsxs("header",{children:[m.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 dark:from-blue-400 dark:to-indigo-400 bg-clip-text text-transparent",children:"Study Planner"}),m.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Manage your schedule and stay on track."})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[m.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-slate-800 rounded-2xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:[m.jsxs("div",{className:"flex items-center justify-between mb-6",children:[m.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[m.jsx(Q0,{className:"w-5 h-5 text-blue-500"}),c.toLocaleString("default",{month:"long",year:"numeric"})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:C,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full transition-colors",children:m.jsx(qv,{className:"w-5 h-5 text-slate-600 dark:text-slate-300"})}),m.jsx("button",{onClick:U,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full transition-colors",children:m.jsx(wN,{className:"w-5 h-5 text-slate-600 dark:text-slate-300"})})]})]}),m.jsx("div",{className:"grid grid-cols-7 gap-2 mb-2 text-center",children:fB.map(G=>m.jsx("div",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider py-2",children:G},G))}),m.jsxs("div",{className:"grid grid-cols-7 gap-2",children:[Array.from({length:E}).map((G,V)=>m.jsx("div",{className:"aspect-square"},`empty-${V}`)),Array.from({length:R}).map((G,V)=>{const F=V+1,$=H(F)?"bg-blue-500 text-white shadow-lg shadow-blue-500/30 font-bold":"",he=j(F)&&!H(F)?"ring-2 ring-blue-500 bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 font-semibold":"";return m.jsxs(Se.div,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>g(new Date(ne,de,F)),className:`aspect-square rounded-xl flex items-center justify-center text-sm cursor-pointer transition-all hover:bg-slate-100 dark:hover:bg-slate-700 text-slate-700 dark:text-slate-300 relative ${$} ${he}`,children:[F,L(F)&&m.jsx("div",{className:"absolute bottom-1 w-1 h-1 bg-indigo-500 rounded-full"})]},F)})]})]}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsxs("h3",{className:"font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[m.jsx(I8,{className:"w-5 h-5 text-indigo-500"}),f?.toLocaleDateString([],{weekday:"long",month:"long",day:"numeric"})]}),m.jsx("button",{onClick:I,className:"text-sm font-medium text-indigo-600 dark:text-indigo-400 hover:underline",children:"+ Add"})]}),m.jsx("div",{className:"space-y-3 min-h-[100px]",children:D.length>0?D.map(G=>{const V=t.find($=>$.id===G.subjectId);let F="";if(V&&G.chapterId){const $=V.chapters.find(he=>he.id===G.chapterId);if($&&(F=$.name,G.topicId)){const he=$.topics.find(pe=>pe.id===G.topicId);he&&(F+=` > ${he.name}`)}}return m.jsxs("div",{className:"flex items-start gap-3 p-3 bg-slate-50 dark:bg-slate-900 rounded-xl border border-slate-100 dark:border-slate-700",children:[m.jsx("input",{type:"checkbox",checked:G.isCompleted,onChange:()=>q(G),className:"mt-1 w-4 h-4 text-indigo-600 rounded border-slate-300 focus:ring-indigo-500"}),m.jsxs("div",{className:"flex-1",children:[m.jsxs("div",{className:"flex justify-between items-start",children:[m.jsx("span",{className:`font-semibold text-sm ${G.isCompleted?"line-through text-slate-400":"text-slate-800 dark:text-slate-200"}`,children:V?.name||"Unknown Subject"}),m.jsx("button",{onClick:()=>a(G.id),className:"text-slate-400 hover:text-red-500",children:""})]}),F&&m.jsx("div",{className:"text-xs text-indigo-600 dark:text-indigo-400 font-medium mt-0.5",children:F}),m.jsxs("div",{className:"text-xs text-slate-500 mt-1 flex gap-2",children:[m.jsx("span",{className:"bg-indigo-50 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300 px-1.5 py-0.5 rounded",children:G.time}),m.jsxs("span",{children:[G.durationMinutes,"m"]})]}),G.notes&&m.jsxs("p",{className:"text-xs text-slate-500 mt-1 italic",children:['"',G.notes,'"']})]})]},G.id)}):m.jsxs("div",{className:"text-center py-8 text-slate-400 text-sm",children:[m.jsx("p",{children:"No study sessions scheduled."}),m.jsx("button",{onClick:I,className:"mt-4 px-4 py-2 bg-indigo-50 text-indigo-600 dark:bg-indigo-900/20 dark:text-indigo-400 rounded-lg text-sm font-semibold hover:bg-indigo-100 dark:hover:bg-indigo-900/30 transition-colors",children:"+ Schedule Session"})]})})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:[m.jsxs("h3",{className:"font-bold text-slate-800 dark:text-white mb-4 flex items-center gap-2",children:[m.jsx(xN,{className:"w-5 h-5 text-indigo-500"}),"Upcoming Exams"]}),m.jsxs("div",{className:"space-y-3",children:[t.filter(G=>G.examDate).sort((G,V)=>new Date(G.examDate).getTime()-new Date(V.examDate).getTime()).slice(0,3).map(G=>{const V=Math.ceil((new Date(G.examDate).getTime()-new Date().getTime())/864e5);return m.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 dark:bg-slate-900 rounded-xl border border-slate-100 dark:border-slate-700",children:[m.jsxs("div",{children:[m.jsx("div",{className:"font-semibold text-sm text-slate-800 dark:text-slate-200",children:G.name}),m.jsx("div",{className:"text-xs text-slate-500",children:new Date(G.examDate).toLocaleDateString()})]}),m.jsxs("div",{className:`px-2 py-1 rounded-lg text-xs font-bold ${V<=7?"bg-red-100 text-red-600":"bg-green-100 text-green-600"}`,children:[V," days"]})]},G.id)}),t.filter(G=>G.examDate).length===0&&m.jsx("p",{className:"text-sm text-slate-400 text-center py-4",children:"No exams scheduled yet."})]})]}),m.jsxs("div",{className:"bg-gradient-to-br from-indigo-500 to-purple-600 rounded-2xl p-6 text-white shadow-lg",children:[m.jsxs("h3",{className:"font-bold text-lg mb-1 flex items-center gap-2",children:[m.jsx(TN,{className:"w-5 h-5"}),"Smart Suggestions"]}),m.jsx("p",{className:"text-indigo-100 text-sm mb-4",children:"Focus on these topics today:"}),m.jsx("div",{className:"space-y-3",children:ue.length>0?ue.map((G,V)=>m.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-3 border border-white/10 hover:bg-white/20 transition-colors cursor-pointer",children:[m.jsx("div",{className:"text-xs font-medium text-indigo-200 uppercase tracking-wider mb-1",children:G.subjectName}),m.jsx("div",{className:"font-semibold text-sm line-clamp-1",children:G.topicName}),m.jsx("div",{className:"text-xs text-indigo-100 opacity-80 mt-0.5 line-clamp-1",children:G.chapterName})]},V)):m.jsxs("div",{className:"text-center py-4 text-indigo-100",children:[m.jsx("p",{children:" All caught up!"}),m.jsx("p",{className:"text-xs opacity-70 mt-1",children:"Great job clearing your backlog."})]})})]})]})]}),v&&m.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50 backdrop-blur-sm",children:m.jsxs(Se.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl w-full max-w-md p-6",children:[m.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4",children:"Schedule Study Session"}),m.jsxs("form",{onSubmit:M,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Subject"}),m.jsx("select",{value:_.subjectId,onChange:G=>S({..._,subjectId:G.target.value,chapterId:"",topicId:""}),className:"w-full px-4 py-2 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-200 focus:ring-2 focus:ring-indigo-500 outline-none",children:t.map(G=>m.jsx("option",{value:G.id,children:G.name},G.id))})]}),_.subjectId&&m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Chapter (Opt)"}),m.jsxs("select",{value:_.chapterId,onChange:G=>S({..._,chapterId:G.target.value,topicId:""}),className:"w-full px-4 py-2 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-200 focus:ring-2 focus:ring-indigo-500 outline-none text-sm",children:[m.jsx("option",{value:"",children:"Any Chapter"}),t.find(G=>G.id===_.subjectId)?.chapters.map(G=>m.jsx("option",{value:G.id,children:G.name},G.id))]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Topic (Opt)"}),m.jsxs("select",{value:_.topicId,onChange:G=>S({..._,topicId:G.target.value}),className:"w-full px-4 py-2 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-200 focus:ring-2 focus:ring-indigo-500 outline-none text-sm",disabled:!_.chapterId,children:[m.jsx("option",{value:"",children:"Any Topic"}),_.chapterId&&t.find(G=>G.id===_.subjectId)?.chapters.find(G=>G.id===_.chapterId)?.topics.map(G=>m.jsx("option",{value:G.id,children:G.name},G.id))]})]})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Time"}),m.jsx("input",{type:"time",value:_.time,onChange:G=>S({..._,time:G.target.value}),className:"w-full px-4 py-2 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-200 focus:ring-2 focus:ring-indigo-500 outline-none"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Duration (mins)"}),m.jsx("input",{type:"number",min:"5",step:"5",value:_.durationMinutes,onChange:G=>S({..._,durationMinutes:parseInt(G.target.value)}),className:"w-full px-4 py-2 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-200 focus:ring-2 focus:ring-indigo-500 outline-none"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Notes (Optional)"}),m.jsx("textarea",{value:_.notes,onChange:G=>S({..._,notes:G.target.value}),placeholder:"What topics will you cover?",className:"w-full px-4 py-2 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-200 focus:ring-2 focus:ring-indigo-500 outline-none h-20 resize-none"})]}),m.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-slate-100 dark:border-slate-700",children:[m.jsx("button",{type:"button",onClick:()=>b(!1),className:"px-4 py-2 text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg font-medium",children:"Cancel"}),m.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white hover:bg-indigo-700 rounded-lg font-medium shadow-sm shadow-indigo-200 dark:shadow-none",children:"Schedule"})]})]})]})})]})}function pB({children:t}){const{user:e,loading:n}=Zi();return n?m.jsx("div",{children:"Loading..."}):e?m.jsx(m.Fragment,{children:t}):m.jsx(VI,{to:"/login"})}function gB(){return m.jsx(M7,{children:m.jsx(P7,{children:m.jsx(fz,{children:m.jsx(o4,{basename:"/Study-Mate/",children:m.jsxs(PI,{children:[m.jsx(ni,{path:"/login",element:m.jsx(hB,{})}),m.jsxs(ni,{path:"/",element:m.jsx(pB,{children:m.jsx(dB,{})}),children:[m.jsx(ni,{index:!0,element:m.jsx(Q7,{})}),m.jsx(ni,{path:"subject/:id",element:m.jsx(sz,{})}),m.jsx(ni,{path:"planner",element:m.jsx(mB,{})}),m.jsx(ni,{path:"analytics",element:m.jsx(dz,{})}),m.jsx(ni,{path:"timer",element:m.jsx(hz,{})}),m.jsx(ni,{path:"chat",element:m.jsx(rB,{})}),m.jsx(ni,{path:"settings",element:m.jsx(oz,{})})]})]})})})})})}class yB extends N.Component{state={hasError:!1,error:null};static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("Uncaught error:",e,n)}render(){return this.state.hasError?m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-red-50 p-4",children:m.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg max-w-lg w-full",children:[m.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Something went wrong"}),m.jsx("p",{className:"text-slate-600 mb-4",children:"We encountered an unexpected error."}),m.jsx("pre",{className:"bg-slate-100 p-4 rounded text-xs text-slate-800 overflow-auto mb-4",children:this.state.error?.message}),m.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Reload Page"})]})}):this.props.children}}console.log("TrackEd v1.1 - Dark Mode Enabled");OR.createRoot(document.getElementById("root")).render(m.jsx(UE.StrictMode,{children:m.jsx(yB,{children:m.jsx(YU,{children:m.jsx(iz,{children:m.jsx(J7,{children:m.jsx(gB,{})})})})})}));
