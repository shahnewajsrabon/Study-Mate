(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function zE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ug={exports:{}},Lc={};var g_;function RR(){if(g_)return Lc;g_=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var h in a)h!=="key"&&(l[h]=a[h])}else l=a;return a=l.ref,{$$typeof:t,type:i,key:c,ref:a!==void 0?a:null,props:l}}return Lc.Fragment=e,Lc.jsx=n,Lc.jsxs=n,Lc}var y_;function IR(){return y_||(y_=1,ug.exports=RR()),ug.exports}var d=IR(),dg={exports:{}},Ve={};var v_;function jR(){if(v_)return Ve;v_=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),_=Symbol.iterator;function E(P){return P===null||typeof P!="object"?null:(P=_&&P[_]||P["@@iterator"],typeof P=="function"?P:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,D={};function V(P,ne,ue){this.props=P,this.context=ne,this.refs=D,this.updater=ue||I}V.prototype.isReactComponent={},V.prototype.setState=function(P,ne){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,ne,"setState")},V.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function F(){}F.prototype=V.prototype;function $(P,ne,ue){this.props=P,this.context=ne,this.refs=D,this.updater=ue||I}var J=$.prototype=new F;J.constructor=$,j(J,V.prototype),J.isPureReactComponent=!0;var se=Array.isArray;function de(){}var R={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function C(P,ne,ue){var he=ue.ref;return{$$typeof:t,type:P,key:ne,ref:he!==void 0?he:null,props:ue}}function z(P,ne){return C(P.type,ne,P.props)}function U(P){return typeof P=="object"&&P!==null&&P.$$typeof===t}function G(P){var ne={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(ue){return ne[ue]})}var M=/\/+/g;function Be(P,ne){return typeof P=="object"&&P!==null&&P.key!=null?G(""+P.key):ne.toString(36)}function Y(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(de,de):(P.status="pending",P.then(function(ne){P.status==="pending"&&(P.status="fulfilled",P.value=ne)},function(ne){P.status==="pending"&&(P.status="rejected",P.reason=ne)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function O(P,ne,ue,he,Se){var Ie=typeof P;(Ie==="undefined"||Ie==="boolean")&&(P=null);var Ae=!1;if(P===null)Ae=!0;else switch(Ie){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(P.$$typeof){case t:case e:Ae=!0;break;case v:return Ae=P._init,O(Ae(P._payload),ne,ue,he,Se)}}if(Ae)return Se=Se(P),Ae=he===""?"."+Be(P,0):he,se(Se)?(ue="",Ae!=null&&(ue=Ae.replace(M,"$&/")+"/"),O(Se,ne,ue,"",function(bt){return bt})):Se!=null&&(U(Se)&&(Se=z(Se,ue+(Se.key==null||P&&P.key===Se.key?"":(""+Se.key).replace(M,"$&/")+"/")+Ae)),ne.push(Se)),1;Ae=0;var pe=he===""?".":he+":";if(se(P))for(var De=0;De<P.length;De++)he=P[De],Ie=pe+Be(he,De),Ae+=O(he,ne,ue,Ie,Se);else if(De=E(P),typeof De=="function")for(P=De.call(P),De=0;!(he=P.next()).done;)he=he.value,Ie=pe+Be(he,De++),Ae+=O(he,ne,ue,Ie,Se);else if(Ie==="object"){if(typeof P.then=="function")return O(Y(P),ne,ue,he,Se);throw ne=String(P),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function q(P,ne,ue){if(P==null)return P;var he=[],Se=0;return O(P,he,"","",function(Ie){return ne.call(ue,Ie,Se++)}),he}function H(P){if(P._status===-1){var ne=P._result;ne=ne(),ne.then(function(ue){(P._status===0||P._status===-1)&&(P._status=1,P._result=ue)},function(ue){(P._status===0||P._status===-1)&&(P._status=2,P._result=ue)}),P._status===-1&&(P._status=0,P._result=ne)}if(P._status===1)return P._result.default;throw P._result}var ae=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)},fe={map:q,forEach:function(P,ne,ue){q(P,function(){ne.apply(this,arguments)},ue)},count:function(P){var ne=0;return q(P,function(){ne++}),ne},toArray:function(P){return q(P,function(ne){return ne})||[]},only:function(P){if(!U(P))throw Error("React.Children.only expected to receive a single React element child.");return P}};return Ve.Activity=x,Ve.Children=fe,Ve.Component=V,Ve.Fragment=n,Ve.Profiler=a,Ve.PureComponent=$,Ve.StrictMode=i,Ve.Suspense=m,Ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Ve.__COMPILER_RUNTIME={__proto__:null,c:function(P){return R.H.useMemoCache(P)}},Ve.cache=function(P){return function(){return P.apply(null,arguments)}},Ve.cacheSignal=function(){return null},Ve.cloneElement=function(P,ne,ue){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var he=j({},P.props),Se=P.key;if(ne!=null)for(Ie in ne.key!==void 0&&(Se=""+ne.key),ne)!S.call(ne,Ie)||Ie==="key"||Ie==="__self"||Ie==="__source"||Ie==="ref"&&ne.ref===void 0||(he[Ie]=ne[Ie]);var Ie=arguments.length-2;if(Ie===1)he.children=ue;else if(1<Ie){for(var Ae=Array(Ie),pe=0;pe<Ie;pe++)Ae[pe]=arguments[pe+2];he.children=Ae}return C(P.type,Se,he)},Ve.createContext=function(P){return P={$$typeof:c,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:l,_context:P},P},Ve.createElement=function(P,ne,ue){var he,Se={},Ie=null;if(ne!=null)for(he in ne.key!==void 0&&(Ie=""+ne.key),ne)S.call(ne,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(Se[he]=ne[he]);var Ae=arguments.length-2;if(Ae===1)Se.children=ue;else if(1<Ae){for(var pe=Array(Ae),De=0;De<Ae;De++)pe[De]=arguments[De+2];Se.children=pe}if(P&&P.defaultProps)for(he in Ae=P.defaultProps,Ae)Se[he]===void 0&&(Se[he]=Ae[he]);return C(P,Ie,Se)},Ve.createRef=function(){return{current:null}},Ve.forwardRef=function(P){return{$$typeof:h,render:P}},Ve.isValidElement=U,Ve.lazy=function(P){return{$$typeof:v,_payload:{_status:-1,_result:P},_init:H}},Ve.memo=function(P,ne){return{$$typeof:g,type:P,compare:ne===void 0?null:ne}},Ve.startTransition=function(P){var ne=R.T,ue={};R.T=ue;try{var he=P(),Se=R.S;Se!==null&&Se(ue,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(de,ae)}catch(Ie){ae(Ie)}finally{ne!==null&&ue.types!==null&&(ne.types=ue.types),R.T=ne}},Ve.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Ve.use=function(P){return R.H.use(P)},Ve.useActionState=function(P,ne,ue){return R.H.useActionState(P,ne,ue)},Ve.useCallback=function(P,ne){return R.H.useCallback(P,ne)},Ve.useContext=function(P){return R.H.useContext(P)},Ve.useDebugValue=function(){},Ve.useDeferredValue=function(P,ne){return R.H.useDeferredValue(P,ne)},Ve.useEffect=function(P,ne){return R.H.useEffect(P,ne)},Ve.useEffectEvent=function(P){return R.H.useEffectEvent(P)},Ve.useId=function(){return R.H.useId()},Ve.useImperativeHandle=function(P,ne,ue){return R.H.useImperativeHandle(P,ne,ue)},Ve.useInsertionEffect=function(P,ne){return R.H.useInsertionEffect(P,ne)},Ve.useLayoutEffect=function(P,ne){return R.H.useLayoutEffect(P,ne)},Ve.useMemo=function(P,ne){return R.H.useMemo(P,ne)},Ve.useOptimistic=function(P,ne){return R.H.useOptimistic(P,ne)},Ve.useReducer=function(P,ne,ue){return R.H.useReducer(P,ne,ue)},Ve.useRef=function(P){return R.H.useRef(P)},Ve.useState=function(P){return R.H.useState(P)},Ve.useSyncExternalStore=function(P,ne,ue){return R.H.useSyncExternalStore(P,ne,ue)},Ve.useTransition=function(){return R.H.useTransition()},Ve.version="19.2.4",Ve}var x_;function ry(){return x_||(x_=1,dg.exports=jR()),dg.exports}var k=ry();const BE=zE(k);var hg={exports:{}},Uc={},fg={exports:{}},mg={};var b_;function DR(){return b_||(b_=1,(function(t){function e(O,q){var H=O.length;O.push(q);e:for(;0<H;){var ae=H-1>>>1,fe=O[ae];if(0<a(fe,q))O[ae]=q,O[H]=fe,H=ae;else break e}}function n(O){return O.length===0?null:O[0]}function i(O){if(O.length===0)return null;var q=O[0],H=O.pop();if(H!==q){O[0]=H;e:for(var ae=0,fe=O.length,P=fe>>>1;ae<P;){var ne=2*(ae+1)-1,ue=O[ne],he=ne+1,Se=O[he];if(0>a(ue,H))he<fe&&0>a(Se,ue)?(O[ae]=Se,O[he]=H,ae=he):(O[ae]=ue,O[ne]=H,ae=ne);else if(he<fe&&0>a(Se,H))O[ae]=Se,O[he]=H,ae=he;else break e}}return q}function a(O,q){var H=O.sortIndex-q.sortIndex;return H!==0?H:O.id-q.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,h=c.now();t.unstable_now=function(){return c.now()-h}}var m=[],g=[],v=1,x=null,_=3,E=!1,I=!1,j=!1,D=!1,V=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function J(O){for(var q=n(g);q!==null;){if(q.callback===null)i(g);else if(q.startTime<=O)i(g),q.sortIndex=q.expirationTime,e(m,q);else break;q=n(g)}}function se(O){if(j=!1,J(O),!I)if(n(m)!==null)I=!0,de||(de=!0,G());else{var q=n(g);q!==null&&Y(se,q.startTime-O)}}var de=!1,R=-1,S=5,C=-1;function z(){return D?!0:!(t.unstable_now()-C<S)}function U(){if(D=!1,de){var O=t.unstable_now();C=O;var q=!0;try{e:{I=!1,j&&(j=!1,F(R),R=-1),E=!0;var H=_;try{t:{for(J(O),x=n(m);x!==null&&!(x.expirationTime>O&&z());){var ae=x.callback;if(typeof ae=="function"){x.callback=null,_=x.priorityLevel;var fe=ae(x.expirationTime<=O);if(O=t.unstable_now(),typeof fe=="function"){x.callback=fe,J(O),q=!0;break t}x===n(m)&&i(m),J(O)}else i(m);x=n(m)}if(x!==null)q=!0;else{var P=n(g);P!==null&&Y(se,P.startTime-O),q=!1}}break e}finally{x=null,_=H,E=!1}q=void 0}}finally{q?G():de=!1}}}var G;if(typeof $=="function")G=function(){$(U)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,Be=M.port2;M.port1.onmessage=U,G=function(){Be.postMessage(null)}}else G=function(){V(U,0)};function Y(O,q){R=V(function(){O(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_next=function(O){switch(_){case 1:case 2:case 3:var q=3;break;default:q=_}var H=_;_=q;try{return O()}finally{_=H}},t.unstable_requestPaint=function(){D=!0},t.unstable_runWithPriority=function(O,q){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var H=_;_=O;try{return q()}finally{_=H}},t.unstable_scheduleCallback=function(O,q,H){var ae=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?ae+H:ae):H=ae,O){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=H+fe,O={id:v++,callback:q,priorityLevel:O,startTime:H,expirationTime:fe,sortIndex:-1},H>ae?(O.sortIndex=H,e(g,O),n(m)===null&&O===n(g)&&(j?(F(R),R=-1):j=!0,Y(se,H-ae))):(O.sortIndex=fe,e(m,O),I||E||(I=!0,de||(de=!0,G()))),O},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(O){var q=_;return function(){var H=_;_=q;try{return O.apply(this,arguments)}finally{_=H}}}})(mg)),mg}var __;function MR(){return __||(__=1,fg.exports=DR()),fg.exports}var pg={exports:{}},hn={};var w_;function VR(){if(w_)return hn;w_=1;var t=ry();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,g,v){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:x==null?null:""+x,children:m,containerInfo:g,implementation:v}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return hn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,hn.createPortal=function(m,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(m,g,null,v)},hn.flushSync=function(m){var g=c.T,v=i.p;try{if(c.T=null,i.p=2,m)return m()}finally{c.T=g,i.p=v,i.d.f()}},hn.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(m,g))},hn.prefetchDNS=function(m){typeof m=="string"&&i.d.D(m)},hn.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var v=g.as,x=h(v,g.crossOrigin),_=typeof g.integrity=="string"?g.integrity:void 0,E=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?i.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:x,integrity:_,fetchPriority:E}):v==="script"&&i.d.X(m,{crossOrigin:x,integrity:_,fetchPriority:E,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},hn.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=h(g.as,g.crossOrigin);i.d.M(m,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(m)},hn.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,x=h(v,g.crossOrigin);i.d.L(m,v,{crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},hn.preloadModule=function(m,g){if(typeof m=="string")if(g){var v=h(g.as,g.crossOrigin);i.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(m)},hn.requestFormReset=function(m){i.d.r(m)},hn.unstable_batchedUpdates=function(m,g){return m(g)},hn.useFormState=function(m,g,v){return c.H.useFormState(m,g,v)},hn.useFormStatus=function(){return c.H.useHostTransitionStatus()},hn.version="19.2.4",hn}var T_;function FE(){if(T_)return pg.exports;T_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),pg.exports=VR(),pg.exports}var E_;function PR(){if(E_)return Uc;E_=1;var t=MR(),e=ry(),n=FE();function i(s){var r="https://react.dev/errors/"+s;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+s+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function l(s){var r=s,o=s;if(s.alternate)for(;r.return;)r=r.return;else{s=r;do r=s,(r.flags&4098)!==0&&(o=r.return),s=r.return;while(s)}return r.tag===3?o:null}function c(s){if(s.tag===13){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function h(s){if(s.tag===31){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function m(s){if(l(s)!==s)throw Error(i(188))}function g(s){var r=s.alternate;if(!r){if(r=l(s),r===null)throw Error(i(188));return r!==s?null:s}for(var o=s,u=r;;){var p=o.return;if(p===null)break;var y=p.alternate;if(y===null){if(u=p.return,u!==null){o=u;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===o)return m(p),s;if(y===u)return m(p),r;y=y.sibling}throw Error(i(188))}if(o.return!==u.return)o=p,u=y;else{for(var w=!1,A=p.child;A;){if(A===o){w=!0,o=p,u=y;break}if(A===u){w=!0,u=p,o=y;break}A=A.sibling}if(!w){for(A=y.child;A;){if(A===o){w=!0,o=y,u=p;break}if(A===u){w=!0,u=y,o=p;break}A=A.sibling}if(!w)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?s:r}function v(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s;for(s=s.child;s!==null;){if(r=v(s),r!==null)return r;s=s.sibling}return null}var x=Object.assign,_=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),F=Symbol.for("react.consumer"),$=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),se=Symbol.for("react.suspense"),de=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function G(s){return s===null||typeof s!="object"?null:(s=U&&s[U]||s["@@iterator"],typeof s=="function"?s:null)}var M=Symbol.for("react.client.reference");function Be(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===M?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case j:return"Fragment";case V:return"Profiler";case D:return"StrictMode";case se:return"Suspense";case de:return"SuspenseList";case C:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case I:return"Portal";case $:return s.displayName||"Context";case F:return(s._context.displayName||"Context")+".Consumer";case J:var r=s.render;return s=s.displayName,s||(s=r.displayName||r.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case R:return r=s.displayName||null,r!==null?r:Be(s.type)||"Memo";case S:r=s._payload,s=s._init;try{return Be(s(r))}catch{}}return null}var Y=Array.isArray,O=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H={pending:!1,data:null,method:null,action:null},ae=[],fe=-1;function P(s){return{current:s}}function ne(s){0>fe||(s.current=ae[fe],ae[fe]=null,fe--)}function ue(s,r){fe++,ae[fe]=s.current,s.current=r}var he=P(null),Se=P(null),Ie=P(null),Ae=P(null);function pe(s,r){switch(ue(Ie,r),ue(Se,s),ue(he,null),r.nodeType){case 9:case 11:s=(s=r.documentElement)&&(s=s.namespaceURI)?U1(s):0;break;default:if(s=r.tagName,r=r.namespaceURI)r=U1(r),s=z1(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ne(he),ue(he,s)}function De(){ne(he),ne(Se),ne(Ie)}function bt(s){s.memoizedState!==null&&ue(Ae,s);var r=he.current,o=z1(r,s.type);r!==o&&(ue(Se,s),ue(he,o))}function en(s){Se.current===s&&(ne(he),ne(Se)),Ae.current===s&&(ne(Ae),Mc._currentValue=H)}var jn,bi;function Dn(s){if(jn===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);jn=r&&r[1]||"",bi=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+jn+s+bi}var Gn=!1;function Mn(s,r){if(!s||Gn)return"";Gn=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var oe=function(){throw Error()};if(Object.defineProperty(oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(oe,[])}catch(te){var Z=te}Reflect.construct(s,[],oe)}else{try{oe.call()}catch(te){Z=te}s.call(oe.prototype)}}else{try{throw Error()}catch(te){Z=te}(oe=s())&&typeof oe.catch=="function"&&oe.catch(function(){})}}catch(te){if(te&&Z&&typeof te.stack=="string")return[te.stack,Z.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=u.DetermineComponentFrameRoot(),w=y[0],A=y[1];if(w&&A){var L=w.split(`
`),W=A.split(`
`);for(p=u=0;u<L.length&&!L[u].includes("DetermineComponentFrameRoot");)u++;for(;p<W.length&&!W[p].includes("DetermineComponentFrameRoot");)p++;if(u===L.length||p===W.length)for(u=L.length-1,p=W.length-1;1<=u&&0<=p&&L[u]!==W[p];)p--;for(;1<=u&&0<=p;u--,p--)if(L[u]!==W[p]){if(u!==1||p!==1)do if(u--,p--,0>p||L[u]!==W[p]){var ie=`
`+L[u].replace(" at new "," at ");return s.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",s.displayName)),ie}while(1<=u&&0<=p);break}}}finally{Gn=!1,Error.prepareStackTrace=o}return(o=s?s.displayName||s.name:"")?Dn(o):""}function Vl(s,r){switch(s.tag){case 26:case 27:case 5:return Dn(s.type);case 16:return Dn("Lazy");case 13:return s.child!==r&&r!==null?Dn("Suspense Fallback"):Dn("Suspense");case 19:return Dn("SuspenseList");case 0:case 15:return Mn(s.type,!1);case 11:return Mn(s.type.render,!1);case 1:return Mn(s.type,!0);case 31:return Dn("Activity");default:return""}}function Pl(s){try{var r="",o=null;do r+=Vl(s,o),o=s,s=s.return;while(s);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Ct=Object.prototype.hasOwnProperty,qt=t.unstable_scheduleCallback,nr=t.unstable_cancelCallback,hm=t.unstable_shouldYield,qu=t.unstable_requestPaint,xn=t.unstable_now,aa=t.unstable_getCurrentPriorityLevel,Ol=t.unstable_ImmediatePriority,Ll=t.unstable_UserBlockingPriority,sr=t.unstable_NormalPriority,fm=t.unstable_LowPriority,Gu=t.unstable_IdlePriority,$u=t.log,Ku=t.unstable_setDisableYieldValue,fs=null,tn=null;function $n(s){if(typeof $u=="function"&&Ku(s),tn&&typeof tn.setStrictMode=="function")try{tn.setStrictMode(fs,s)}catch{}}var Et=Math.clz32?Math.clz32:Qu,Yu=Math.log,ao=Math.LN2;function Qu(s){return s>>>=0,s===0?32:31-(Yu(s)/ao|0)|0}var Ps=256,oa=262144,Rt=4194304;function Os(s){var r=s&42;if(r!==0)return r;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Ls(s,r,o){var u=s.pendingLanes;if(u===0)return 0;var p=0,y=s.suspendedLanes,w=s.pingedLanes;s=s.warmLanes;var A=u&134217727;return A!==0?(u=A&~y,u!==0?p=Os(u):(w&=A,w!==0?p=Os(w):o||(o=A&~s,o!==0&&(p=Os(o))))):(A=u&~y,A!==0?p=Os(A):w!==0?p=Os(w):o||(o=u&~s,o!==0&&(p=Os(o)))),p===0?0:r!==0&&r!==p&&(r&y)===0&&(y=p&-p,o=r&-r,y>=o||y===32&&(o&4194048)!==0)?r:p}function ms(s,r){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&r)===0}function mm(s,r){switch(s){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xu(){var s=Rt;return Rt<<=1,(Rt&62914560)===0&&(Rt=4194304),s}function Us(s){for(var r=[],o=0;31>o;o++)r.push(s);return r}function la(s,r){s.pendingLanes|=r,r!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function pm(s,r,o,u,p,y){var w=s.pendingLanes;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=o,s.entangledLanes&=o,s.errorRecoveryDisabledLanes&=o,s.shellSuspendCounter=0;var A=s.entanglements,L=s.expirationTimes,W=s.hiddenUpdates;for(o=w&~o;0<o;){var ie=31-Et(o),oe=1<<ie;A[ie]=0,L[ie]=-1;var Z=W[ie];if(Z!==null)for(W[ie]=null,ie=0;ie<Z.length;ie++){var te=Z[ie];te!==null&&(te.lane&=-536870913)}o&=~oe}u!==0&&ca(s,u,0),y!==0&&p===0&&s.tag!==0&&(s.suspendedLanes|=y&~(w&~r))}function ca(s,r,o){s.pendingLanes|=r,s.suspendedLanes&=~r;var u=31-Et(r);s.entangledLanes|=r,s.entanglements[u]=s.entanglements[u]|1073741824|o&261930}function Ul(s,r){var o=s.entangledLanes|=r;for(s=s.entanglements;o;){var u=31-Et(o),p=1<<u;p&r|s[u]&r&&(s[u]|=r),o&=~p}}function zl(s,r){var o=r&-r;return o=(o&42)!==0?1:ua(o),(o&(s.suspendedLanes|r))!==0?0:o}function ua(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function _i(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Wu(){var s=q.p;return s!==0?s:(s=window.event,s===void 0?32:c_(s.type))}function ps(s,r){var o=q.p;try{return q.p=s,r()}finally{q.p=o}}var gs=Math.random().toString(36).slice(2),It="__reactFiber$"+gs,Qt="__reactProps$"+gs,zs="__reactContainer$"+gs,oo="__reactEvents$"+gs,gm="__reactListeners$"+gs,Ju="__reactHandles$"+gs,Zu="__reactResources$"+gs,Bs="__reactMarker$"+gs;function lo(s){delete s[It],delete s[Qt],delete s[oo],delete s[gm],delete s[Ju]}function Fs(s){var r=s[It];if(r)return r;for(var o=s.parentNode;o;){if(r=o[zs]||o[It]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(s=K1(s);s!==null;){if(o=s[It])return o;s=K1(s)}return r}s=o,o=s.parentNode}return null}function Kn(s){if(s=s[It]||s[zs]){var r=s.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return s}return null}function Vn(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s.stateNode;throw Error(i(33))}function Hs(s){var r=s[Zu];return r||(r=s[Zu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function jt(s){s[Bs]=!0}var Bl=new Set,Fl={};function qs(s,r){Gs(s,r),Gs(s+"Capture",r)}function Gs(s,r){for(Fl[s]=r,s=0;s<r.length;s++)Bl.add(r[s])}var Hl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ql={},Gl={};function ed(s){return Ct.call(Gl,s)?!0:Ct.call(ql,s)?!1:Hl.test(s)?Gl[s]=!0:(ql[s]=!0,!1)}function co(s,r,o){if(ed(r))if(o===null)s.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":s.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){s.removeAttribute(r);return}}s.setAttribute(r,""+o)}}function Pn(s,r,o){if(o===null)s.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(r);return}s.setAttribute(r,""+o)}}function Dt(s,r,o,u){if(u===null)s.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttributeNS(r,o,""+u)}}function Xt(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function ir(s){var r=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function $l(s,r,o){var u=Object.getOwnPropertyDescriptor(s.constructor.prototype,r);if(!s.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var p=u.get,y=u.set;return Object.defineProperty(s,r,{configurable:!0,get:function(){return p.call(this)},set:function(w){o=""+w,y.call(this,w)}}),Object.defineProperty(s,r,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(w){o=""+w},stopTracking:function(){s._valueTracker=null,delete s[r]}}}}function nt(s){if(!s._valueTracker){var r=ir(s)?"checked":"value";s._valueTracker=$l(s,r,""+s[r])}}function da(s){if(!s)return!1;var r=s._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return s&&(u=ir(s)?s.checked?"true":"false":s.value),s=u,s!==o?(r.setValue(s),!0):!1}function $s(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var ha=/[\n"\\]/g;function En(s){return s.replace(ha,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function uo(s,r,o,u,p,y,w,A){s.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?s.type=w:s.removeAttribute("type"),r!=null?w==="number"?(r===0&&s.value===""||s.value!=r)&&(s.value=""+Xt(r)):s.value!==""+Xt(r)&&(s.value=""+Xt(r)):w!=="submit"&&w!=="reset"||s.removeAttribute("value"),r!=null?Kl(s,w,Xt(r)):o!=null?Kl(s,w,Xt(o)):u!=null&&s.removeAttribute("value"),p==null&&y!=null&&(s.defaultChecked=!!y),p!=null&&(s.checked=p&&typeof p!="function"&&typeof p!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?s.name=""+Xt(A):s.removeAttribute("name")}function td(s,r,o,u,p,y,w,A){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(s.type=y),r!=null||o!=null){if(!(y!=="submit"&&y!=="reset"||r!=null)){nt(s);return}o=o!=null?""+Xt(o):"",r=r!=null?""+Xt(r):o,A||r===s.value||(s.value=r),s.defaultValue=r}u=u??p,u=typeof u!="function"&&typeof u!="symbol"&&!!u,s.checked=A?s.checked:!!u,s.defaultChecked=!!u,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(s.name=w),nt(s)}function Kl(s,r,o){r==="number"&&$s(s.ownerDocument)===s||s.defaultValue===""+o||(s.defaultValue=""+o)}function rr(s,r,o,u){if(s=s.options,r){r={};for(var p=0;p<o.length;p++)r["$"+o[p]]=!0;for(o=0;o<s.length;o++)p=r.hasOwnProperty("$"+s[o].value),s[o].selected!==p&&(s[o].selected=p),p&&u&&(s[o].defaultSelected=!0)}else{for(o=""+Xt(o),r=null,p=0;p<s.length;p++){if(s[p].value===o){s[p].selected=!0,u&&(s[p].defaultSelected=!0);return}r!==null||s[p].disabled||(r=s[p])}r!==null&&(r.selected=!0)}}function nd(s,r,o){if(r!=null&&(r=""+Xt(r),r!==s.value&&(s.value=r),o==null)){s.defaultValue!==r&&(s.defaultValue=r);return}s.defaultValue=o!=null?""+Xt(o):""}function ar(s,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(i(92));if(Y(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=Xt(r),s.defaultValue=o,u=s.textContent,u===o&&u!==""&&u!==null&&(s.value=u),nt(s)}function Sn(s,r){if(r){var o=s.firstChild;if(o&&o===s.lastChild&&o.nodeType===3){o.nodeValue=r;return}}s.textContent=r}var sd=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Yl(s,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?s.setProperty(r,""):r==="float"?s.cssFloat="":s[r]="":u?s.setProperty(r,o):typeof o!="number"||o===0||sd.has(r)?r==="float"?s.cssFloat=o:s[r]=(""+o).trim():s[r]=o+"px"}function Ql(s,r,o){if(r!=null&&typeof r!="object")throw Error(i(62));if(s=s.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?s.setProperty(u,""):u==="float"?s.cssFloat="":s[u]="");for(var p in r)u=r[p],r.hasOwnProperty(p)&&o[p]!==u&&Yl(s,p,u)}else for(var y in r)r.hasOwnProperty(y)&&Yl(s,y,r[y])}function ho(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var id=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),or=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function fo(s){return or.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function ys(){}var Xl=null;function Yn(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var lr=null,Ks=null;function fa(s){var r=Kn(s);if(r&&(s=r.stateNode)){var o=s[Qt]||null;e:switch(s=r.stateNode,r.type){case"input":if(uo(s,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=s;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+En(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==s&&u.form===s.form){var p=u[Qt]||null;if(!p)throw Error(i(90));uo(u,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===s.form&&da(u)}break e;case"textarea":nd(s,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&rr(s,!!o.multiple,r,!1)}}}var mo=!1;function cr(s,r,o){if(mo)return s(r,o);mo=!0;try{var u=s(r);return u}finally{if(mo=!1,(lr!==null||Ks!==null)&&(Wd(),lr&&(r=lr,s=Ks,Ks=lr=null,fa(r),s)))for(r=0;r<s.length;r++)fa(s[r])}}function vs(s,r){var o=s.stateNode;if(o===null)return null;var u=o[Qt]||null;if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(s=s.type,u=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!u;break e;default:s=!1}if(s)return null;if(o&&typeof o!="function")throw Error(i(231,r,typeof o));return o}var Qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ma=!1;if(Qn)try{var rt={};Object.defineProperty(rt,"passive",{get:function(){ma=!0}}),window.addEventListener("test",rt,rt),window.removeEventListener("test",rt,rt)}catch{ma=!1}var Ys=null,Wl=null,pa=null;function Jl(){if(pa)return pa;var s,r=Wl,o=r.length,u,p="value"in Ys?Ys.value:Ys.textContent,y=p.length;for(s=0;s<o&&r[s]===p[s];s++);var w=o-s;for(u=1;u<=w&&r[o-u]===p[y-u];u++);return pa=p.slice(s,1<u?1-u:void 0)}function ga(s){var r=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&r===13&&(s=13)):s=r,s===10&&(s=13),32<=s||s===13?s:0}function wi(){return!0}function xs(){return!1}function nn(s){function r(o,u,p,y,w){this._reactName=o,this._targetInst=p,this.type=u,this.nativeEvent=y,this.target=w,this.currentTarget=null;for(var A in s)s.hasOwnProperty(A)&&(o=s[A],this[A]=o?o(y):y[A]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?wi:xs,this.isPropagationStopped=xs,this}return x(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=wi)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=wi)},persist:function(){},isPersistent:wi}),r}var Ti={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qs=nn(Ti),ur=x({},Ti,{view:0,detail:0}),Zl=nn(ur),dr,po,Xs,go=x({},ur,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Xs&&(Xs&&s.type==="mousemove"?(dr=s.screenX-Xs.screenX,po=s.screenY-Xs.screenY):po=dr=0,Xs=s),dr)},movementY:function(s){return"movementY"in s?s.movementY:po}}),ec=nn(go),ya=x({},go,{dataTransfer:0}),rd=nn(ya),ad=x({},ur,{relatedTarget:0}),va=nn(ad),tc=x({},Ti,{animationName:0,elapsedTime:0,pseudoElement:0}),od=nn(tc),yo=x({},Ti,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),ld=nn(yo),cd=x({},Ti,{data:0}),Ws=nn(cd),ud={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fd(s){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(s):(s=hd[s])?!!r[s]:!1}function hr(){return fd}var bn=x({},ur,{key:function(s){if(s.key){var r=ud[s.key]||s.key;if(r!=="Unidentified")return r}return s.type==="keypress"?(s=ga(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?dd[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hr,charCode:function(s){return s.type==="keypress"?ga(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ga(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),md=nn(bn),pd=x({},go,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ei=nn(pd),f=x({},ur,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hr}),b=nn(f),T=x({},Ti,{propertyName:0,elapsedTime:0,pseudoElement:0}),N=nn(T),Q=x({},go,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),ee=nn(Q),me=x({},Ti,{newState:0,oldState:0}),Oe=nn(me),St=[9,13,27,32],Ze=Qn&&"CompositionEvent"in window,pt=null;Qn&&"documentMode"in document&&(pt=document.documentMode);var Xn=Qn&&"TextEvent"in window&&!pt,Js=Qn&&(!Ze||pt&&8<pt&&11>=pt),bs=" ",_s=!1;function xa(s,r){switch(s){case"keyup":return St.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vo(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var xo=!1;function eC(s,r){switch(s){case"compositionend":return vo(r);case"keypress":return r.which!==32?null:(_s=!0,bs);case"textInput":return s=r.data,s===bs&&_s?null:s;default:return null}}function tC(s,r){if(xo)return s==="compositionend"||!Ze&&xa(s,r)?(s=Jl(),pa=Wl=Ys=null,xo=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Js&&r.locale!=="ko"?null:r.data;default:return null}}var nC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xv(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r==="input"?!!nC[s.type]:r==="textarea"}function Wv(s,r,o,u){lr?Ks?Ks.push(u):Ks=[u]:lr=u,r=ih(r,"onChange"),0<r.length&&(o=new Qs("onChange","change",null,o,u),s.push({event:o,listeners:r}))}var nc=null,sc=null;function sC(s){D1(s,0)}function gd(s){var r=Vn(s);if(da(r))return s}function Jv(s,r){if(s==="change")return r}var Zv=!1;if(Qn){var ym;if(Qn){var vm="oninput"in document;if(!vm){var ex=document.createElement("div");ex.setAttribute("oninput","return;"),vm=typeof ex.oninput=="function"}ym=vm}else ym=!1;Zv=ym&&(!document.documentMode||9<document.documentMode)}function tx(){nc&&(nc.detachEvent("onpropertychange",nx),sc=nc=null)}function nx(s){if(s.propertyName==="value"&&gd(sc)){var r=[];Wv(r,sc,s,Yn(s)),cr(sC,r)}}function iC(s,r,o){s==="focusin"?(tx(),nc=r,sc=o,nc.attachEvent("onpropertychange",nx)):s==="focusout"&&tx()}function rC(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return gd(sc)}function aC(s,r){if(s==="click")return gd(r)}function oC(s,r){if(s==="input"||s==="change")return gd(r)}function lC(s,r){return s===r&&(s!==0||1/s===1/r)||s!==s&&r!==r}var On=typeof Object.is=="function"?Object.is:lC;function ic(s,r){if(On(s,r))return!0;if(typeof s!="object"||s===null||typeof r!="object"||r===null)return!1;var o=Object.keys(s),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var p=o[u];if(!Ct.call(r,p)||!On(s[p],r[p]))return!1}return!0}function sx(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function ix(s,r){var o=sx(s);s=0;for(var u;o;){if(o.nodeType===3){if(u=s+o.textContent.length,s<=r&&u>=r)return{node:o,offset:r-s};s=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=sx(o)}}function rx(s,r){return s&&r?s===r?!0:s&&s.nodeType===3?!1:r&&r.nodeType===3?rx(s,r.parentNode):"contains"in s?s.contains(r):s.compareDocumentPosition?!!(s.compareDocumentPosition(r)&16):!1:!1}function ax(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var r=$s(s.document);r instanceof s.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)s=r.contentWindow;else break;r=$s(s.document)}return r}function xm(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r&&(r==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||r==="textarea"||s.contentEditable==="true")}var cC=Qn&&"documentMode"in document&&11>=document.documentMode,bo=null,bm=null,rc=null,_m=!1;function ox(s,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;_m||bo==null||bo!==$s(u)||(u=bo,"selectionStart"in u&&xm(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),rc&&ic(rc,u)||(rc=u,u=ih(bm,"onSelect"),0<u.length&&(r=new Qs("onSelect","select",null,r,o),s.push({event:r,listeners:u}),r.target=bo)))}function ba(s,r){var o={};return o[s.toLowerCase()]=r.toLowerCase(),o["Webkit"+s]="webkit"+r,o["Moz"+s]="moz"+r,o}var _o={animationend:ba("Animation","AnimationEnd"),animationiteration:ba("Animation","AnimationIteration"),animationstart:ba("Animation","AnimationStart"),transitionrun:ba("Transition","TransitionRun"),transitionstart:ba("Transition","TransitionStart"),transitioncancel:ba("Transition","TransitionCancel"),transitionend:ba("Transition","TransitionEnd")},wm={},lx={};Qn&&(lx=document.createElement("div").style,"AnimationEvent"in window||(delete _o.animationend.animation,delete _o.animationiteration.animation,delete _o.animationstart.animation),"TransitionEvent"in window||delete _o.transitionend.transition);function _a(s){if(wm[s])return wm[s];if(!_o[s])return s;var r=_o[s],o;for(o in r)if(r.hasOwnProperty(o)&&o in lx)return wm[s]=r[o];return s}var cx=_a("animationend"),ux=_a("animationiteration"),dx=_a("animationstart"),uC=_a("transitionrun"),dC=_a("transitionstart"),hC=_a("transitioncancel"),hx=_a("transitionend"),fx=new Map,Tm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Tm.push("scrollEnd");function ws(s,r){fx.set(s,r),qs(r,[s])}var yd=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Wn=[],wo=0,Em=0;function vd(){for(var s=wo,r=Em=wo=0;r<s;){var o=Wn[r];Wn[r++]=null;var u=Wn[r];Wn[r++]=null;var p=Wn[r];Wn[r++]=null;var y=Wn[r];if(Wn[r++]=null,u!==null&&p!==null){var w=u.pending;w===null?p.next=p:(p.next=w.next,w.next=p),u.pending=p}y!==0&&mx(o,p,y)}}function xd(s,r,o,u){Wn[wo++]=s,Wn[wo++]=r,Wn[wo++]=o,Wn[wo++]=u,Em|=u,s.lanes|=u,s=s.alternate,s!==null&&(s.lanes|=u)}function Sm(s,r,o,u){return xd(s,r,o,u),bd(s)}function wa(s,r){return xd(s,null,null,r),bd(s)}function mx(s,r,o){s.lanes|=o;var u=s.alternate;u!==null&&(u.lanes|=o);for(var p=!1,y=s.return;y!==null;)y.childLanes|=o,u=y.alternate,u!==null&&(u.childLanes|=o),y.tag===22&&(s=y.stateNode,s===null||s._visibility&1||(p=!0)),s=y,y=y.return;return s.tag===3?(y=s.stateNode,p&&r!==null&&(p=31-Et(o),s=y.hiddenUpdates,u=s[p],u===null?s[p]=[r]:u.push(r),r.lane=o|536870912),y):null}function bd(s){if(50<kc)throw kc=0,Mp=null,Error(i(185));for(var r=s.return;r!==null;)s=r,r=s.return;return s.tag===3?s.stateNode:null}var To={};function fC(s,r,o,u){this.tag=s,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ln(s,r,o,u){return new fC(s,r,o,u)}function Am(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Si(s,r){var o=s.alternate;return o===null?(o=Ln(s.tag,r,s.key,s.mode),o.elementType=s.elementType,o.type=s.type,o.stateNode=s.stateNode,o.alternate=s,s.alternate=o):(o.pendingProps=r,o.type=s.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=s.flags&65011712,o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,r=s.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=s.sibling,o.index=s.index,o.ref=s.ref,o.refCleanup=s.refCleanup,o}function px(s,r){s.flags&=65011714;var o=s.alternate;return o===null?(s.childLanes=0,s.lanes=r,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,r=o.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),s}function _d(s,r,o,u,p,y){var w=0;if(u=s,typeof s=="function")Am(s)&&(w=1);else if(typeof s=="string")w=vR(s,o,he.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case C:return s=Ln(31,o,r,p),s.elementType=C,s.lanes=y,s;case j:return Ta(o.children,p,y,r);case D:w=8,p|=24;break;case V:return s=Ln(12,o,r,p|2),s.elementType=V,s.lanes=y,s;case se:return s=Ln(13,o,r,p),s.elementType=se,s.lanes=y,s;case de:return s=Ln(19,o,r,p),s.elementType=de,s.lanes=y,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case $:w=10;break e;case F:w=9;break e;case J:w=11;break e;case R:w=14;break e;case S:w=16,u=null;break e}w=29,o=Error(i(130,s===null?"null":typeof s,"")),u=null}return r=Ln(w,o,r,p),r.elementType=s,r.type=u,r.lanes=y,r}function Ta(s,r,o,u){return s=Ln(7,s,u,r),s.lanes=o,s}function km(s,r,o){return s=Ln(6,s,null,r),s.lanes=o,s}function gx(s){var r=Ln(18,null,null,0);return r.stateNode=s,r}function Nm(s,r,o){return r=Ln(4,s.children!==null?s.children:[],s.key,r),r.lanes=o,r.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},r}var yx=new WeakMap;function Jn(s,r){if(typeof s=="object"&&s!==null){var o=yx.get(s);return o!==void 0?o:(r={value:s,source:r,stack:Pl(r)},yx.set(s,r),r)}return{value:s,source:r,stack:Pl(r)}}var Eo=[],So=0,wd=null,ac=0,Zn=[],es=0,fr=null,Zs=1,ei="";function Ai(s,r){Eo[So++]=ac,Eo[So++]=wd,wd=s,ac=r}function vx(s,r,o){Zn[es++]=Zs,Zn[es++]=ei,Zn[es++]=fr,fr=s;var u=Zs;s=ei;var p=32-Et(u)-1;u&=~(1<<p),o+=1;var y=32-Et(r)+p;if(30<y){var w=p-p%5;y=(u&(1<<w)-1).toString(32),u>>=w,p-=w,Zs=1<<32-Et(r)+p|o<<p|u,ei=y+s}else Zs=1<<y|o<<p|u,ei=s}function Cm(s){s.return!==null&&(Ai(s,1),vx(s,1,0))}function Rm(s){for(;s===wd;)wd=Eo[--So],Eo[So]=null,ac=Eo[--So],Eo[So]=null;for(;s===fr;)fr=Zn[--es],Zn[es]=null,ei=Zn[--es],Zn[es]=null,Zs=Zn[--es],Zn[es]=null}function xx(s,r){Zn[es++]=Zs,Zn[es++]=ei,Zn[es++]=fr,Zs=r.id,ei=r.overflow,fr=s}var sn=null,ht=null,Qe=!1,mr=null,ts=!1,Im=Error(i(519));function pr(s){var r=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw oc(Jn(r,s)),Im}function bx(s){var r=s.stateNode,o=s.type,u=s.memoizedProps;switch(r[It]=s,r[Qt]=u,o){case"dialog":He("cancel",r),He("close",r);break;case"iframe":case"object":case"embed":He("load",r);break;case"video":case"audio":for(o=0;o<Cc.length;o++)He(Cc[o],r);break;case"source":He("error",r);break;case"img":case"image":case"link":He("error",r),He("load",r);break;case"details":He("toggle",r);break;case"input":He("invalid",r),td(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":He("invalid",r);break;case"textarea":He("invalid",r),ar(r,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||O1(r.textContent,o)?(u.popover!=null&&(He("beforetoggle",r),He("toggle",r)),u.onScroll!=null&&He("scroll",r),u.onScrollEnd!=null&&He("scrollend",r),u.onClick!=null&&(r.onclick=ys),r=!0):r=!1,r||pr(s,!0)}function _x(s){for(sn=s.return;sn;)switch(sn.tag){case 5:case 31:case 13:ts=!1;return;case 27:case 3:ts=!0;return;default:sn=sn.return}}function Ao(s){if(s!==sn)return!1;if(!Qe)return _x(s),Qe=!0,!1;var r=s.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=s.type,o=!(o!=="form"&&o!=="button")||Qp(s.type,s.memoizedProps)),o=!o),o&&ht&&pr(s),_x(s),r===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));ht=$1(s)}else if(r===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));ht=$1(s)}else r===27?(r=ht,Cr(s.type)?(s=eg,eg=null,ht=s):ht=r):ht=sn?ss(s.stateNode.nextSibling):null;return!0}function Ea(){ht=sn=null,Qe=!1}function jm(){var s=mr;return s!==null&&(Cn===null?Cn=s:Cn.push.apply(Cn,s),mr=null),s}function oc(s){mr===null?mr=[s]:mr.push(s)}var Dm=P(null),Sa=null,ki=null;function gr(s,r,o){ue(Dm,r._currentValue),r._currentValue=o}function Ni(s){s._currentValue=Dm.current,ne(Dm)}function Mm(s,r,o){for(;s!==null;){var u=s.alternate;if((s.childLanes&r)!==r?(s.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),s===o)break;s=s.return}}function Vm(s,r,o,u){var p=s.child;for(p!==null&&(p.return=s);p!==null;){var y=p.dependencies;if(y!==null){var w=p.child;y=y.firstContext;e:for(;y!==null;){var A=y;y=p;for(var L=0;L<r.length;L++)if(A.context===r[L]){y.lanes|=o,A=y.alternate,A!==null&&(A.lanes|=o),Mm(y.return,o,s),u||(w=null);break e}y=A.next}}else if(p.tag===18){if(w=p.return,w===null)throw Error(i(341));w.lanes|=o,y=w.alternate,y!==null&&(y.lanes|=o),Mm(w,o,s),w=null}else w=p.child;if(w!==null)w.return=p;else for(w=p;w!==null;){if(w===s){w=null;break}if(p=w.sibling,p!==null){p.return=w.return,w=p;break}w=w.return}p=w}}function ko(s,r,o,u){s=null;for(var p=r,y=!1;p!==null;){if(!y){if((p.flags&524288)!==0)y=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var w=p.alternate;if(w===null)throw Error(i(387));if(w=w.memoizedProps,w!==null){var A=p.type;On(p.pendingProps.value,w.value)||(s!==null?s.push(A):s=[A])}}else if(p===Ae.current){if(w=p.alternate,w===null)throw Error(i(387));w.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(s!==null?s.push(Mc):s=[Mc])}p=p.return}s!==null&&Vm(r,s,o,u),r.flags|=262144}function Td(s){for(s=s.firstContext;s!==null;){if(!On(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Aa(s){Sa=s,ki=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function rn(s){return wx(Sa,s)}function Ed(s,r){return Sa===null&&Aa(s),wx(s,r)}function wx(s,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},ki===null){if(s===null)throw Error(i(308));ki=r,s.dependencies={lanes:0,firstContext:r},s.flags|=524288}else ki=ki.next=r;return o}var mC=typeof AbortController<"u"?AbortController:function(){var s=[],r=this.signal={aborted:!1,addEventListener:function(o,u){s.push(u)}};this.abort=function(){r.aborted=!0,s.forEach(function(o){return o()})}},pC=t.unstable_scheduleCallback,gC=t.unstable_NormalPriority,Mt={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Pm(){return{controller:new mC,data:new Map,refCount:0}}function lc(s){s.refCount--,s.refCount===0&&pC(gC,function(){s.controller.abort()})}var cc=null,Om=0,No=0,Co=null;function yC(s,r){if(cc===null){var o=cc=[];Om=0,No=zp(),Co={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Om++,r.then(Tx,Tx),r}function Tx(){if(--Om===0&&cc!==null){Co!==null&&(Co.status="fulfilled");var s=cc;cc=null,No=0,Co=null;for(var r=0;r<s.length;r++)(0,s[r])()}}function vC(s,r){var o=[],u={status:"pending",value:null,reason:null,then:function(p){o.push(p)}};return s.then(function(){u.status="fulfilled",u.value=r;for(var p=0;p<o.length;p++)(0,o[p])(r)},function(p){for(u.status="rejected",u.reason=p,p=0;p<o.length;p++)(0,o[p])(void 0)}),u}var Ex=O.S;O.S=function(s,r){o1=xn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&yC(s,r),Ex!==null&&Ex(s,r)};var ka=P(null);function Lm(){var s=ka.current;return s!==null?s:ct.pooledCache}function Sd(s,r){r===null?ue(ka,ka.current):ue(ka,r.pool)}function Sx(){var s=Lm();return s===null?null:{parent:Mt._currentValue,pool:s}}var Ro=Error(i(460)),Um=Error(i(474)),Ad=Error(i(542)),kd={then:function(){}};function Ax(s){return s=s.status,s==="fulfilled"||s==="rejected"}function kx(s,r,o){switch(o=s[o],o===void 0?s.push(r):o!==r&&(r.then(ys,ys),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,Cx(s),s;default:if(typeof r.status=="string")r.then(ys,ys);else{if(s=ct,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=r,s.status="pending",s.then(function(u){if(r.status==="pending"){var p=r;p.status="fulfilled",p.value=u}},function(u){if(r.status==="pending"){var p=r;p.status="rejected",p.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,Cx(s),s}throw Ca=r,Ro}}function Na(s){try{var r=s._init;return r(s._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Ca=o,Ro):o}}var Ca=null;function Nx(){if(Ca===null)throw Error(i(459));var s=Ca;return Ca=null,s}function Cx(s){if(s===Ro||s===Ad)throw Error(i(483))}var Io=null,uc=0;function Nd(s){var r=uc;return uc+=1,Io===null&&(Io=[]),kx(Io,s,r)}function dc(s,r){r=r.props.ref,s.ref=r!==void 0?r:null}function Cd(s,r){throw r.$$typeof===_?Error(i(525)):(s=Object.prototype.toString.call(r),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":s)))}function Rx(s){function r(K,B){if(s){var X=K.deletions;X===null?(K.deletions=[B],K.flags|=16):X.push(B)}}function o(K,B){if(!s)return null;for(;B!==null;)r(K,B),B=B.sibling;return null}function u(K){for(var B=new Map;K!==null;)K.key!==null?B.set(K.key,K):B.set(K.index,K),K=K.sibling;return B}function p(K,B){return K=Si(K,B),K.index=0,K.sibling=null,K}function y(K,B,X){return K.index=X,s?(X=K.alternate,X!==null?(X=X.index,X<B?(K.flags|=67108866,B):X):(K.flags|=67108866,B)):(K.flags|=1048576,B)}function w(K){return s&&K.alternate===null&&(K.flags|=67108866),K}function A(K,B,X,re){return B===null||B.tag!==6?(B=km(X,K.mode,re),B.return=K,B):(B=p(B,X),B.return=K,B)}function L(K,B,X,re){var ke=X.type;return ke===j?ie(K,B,X.props.children,re,X.key):B!==null&&(B.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===S&&Na(ke)===B.type)?(B=p(B,X.props),dc(B,X),B.return=K,B):(B=_d(X.type,X.key,X.props,null,K.mode,re),dc(B,X),B.return=K,B)}function W(K,B,X,re){return B===null||B.tag!==4||B.stateNode.containerInfo!==X.containerInfo||B.stateNode.implementation!==X.implementation?(B=Nm(X,K.mode,re),B.return=K,B):(B=p(B,X.children||[]),B.return=K,B)}function ie(K,B,X,re,ke){return B===null||B.tag!==7?(B=Ta(X,K.mode,re,ke),B.return=K,B):(B=p(B,X),B.return=K,B)}function oe(K,B,X){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=km(""+B,K.mode,X),B.return=K,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case E:return X=_d(B.type,B.key,B.props,null,K.mode,X),dc(X,B),X.return=K,X;case I:return B=Nm(B,K.mode,X),B.return=K,B;case S:return B=Na(B),oe(K,B,X)}if(Y(B)||G(B))return B=Ta(B,K.mode,X,null),B.return=K,B;if(typeof B.then=="function")return oe(K,Nd(B),X);if(B.$$typeof===$)return oe(K,Ed(K,B),X);Cd(K,B)}return null}function Z(K,B,X,re){var ke=B!==null?B.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return ke!==null?null:A(K,B,""+X,re);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case E:return X.key===ke?L(K,B,X,re):null;case I:return X.key===ke?W(K,B,X,re):null;case S:return X=Na(X),Z(K,B,X,re)}if(Y(X)||G(X))return ke!==null?null:ie(K,B,X,re,null);if(typeof X.then=="function")return Z(K,B,Nd(X),re);if(X.$$typeof===$)return Z(K,B,Ed(K,X),re);Cd(K,X)}return null}function te(K,B,X,re,ke){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return K=K.get(X)||null,A(B,K,""+re,ke);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case E:return K=K.get(re.key===null?X:re.key)||null,L(B,K,re,ke);case I:return K=K.get(re.key===null?X:re.key)||null,W(B,K,re,ke);case S:return re=Na(re),te(K,B,X,re,ke)}if(Y(re)||G(re))return K=K.get(X)||null,ie(B,K,re,ke,null);if(typeof re.then=="function")return te(K,B,X,Nd(re),ke);if(re.$$typeof===$)return te(K,B,X,Ed(B,re),ke);Cd(B,re)}return null}function xe(K,B,X,re){for(var ke=null,We=null,Ee=B,Ue=B=0,Ge=null;Ee!==null&&Ue<X.length;Ue++){Ee.index>Ue?(Ge=Ee,Ee=null):Ge=Ee.sibling;var Je=Z(K,Ee,X[Ue],re);if(Je===null){Ee===null&&(Ee=Ge);break}s&&Ee&&Je.alternate===null&&r(K,Ee),B=y(Je,B,Ue),We===null?ke=Je:We.sibling=Je,We=Je,Ee=Ge}if(Ue===X.length)return o(K,Ee),Qe&&Ai(K,Ue),ke;if(Ee===null){for(;Ue<X.length;Ue++)Ee=oe(K,X[Ue],re),Ee!==null&&(B=y(Ee,B,Ue),We===null?ke=Ee:We.sibling=Ee,We=Ee);return Qe&&Ai(K,Ue),ke}for(Ee=u(Ee);Ue<X.length;Ue++)Ge=te(Ee,K,Ue,X[Ue],re),Ge!==null&&(s&&Ge.alternate!==null&&Ee.delete(Ge.key===null?Ue:Ge.key),B=y(Ge,B,Ue),We===null?ke=Ge:We.sibling=Ge,We=Ge);return s&&Ee.forEach(function(Mr){return r(K,Mr)}),Qe&&Ai(K,Ue),ke}function Ce(K,B,X,re){if(X==null)throw Error(i(151));for(var ke=null,We=null,Ee=B,Ue=B=0,Ge=null,Je=X.next();Ee!==null&&!Je.done;Ue++,Je=X.next()){Ee.index>Ue?(Ge=Ee,Ee=null):Ge=Ee.sibling;var Mr=Z(K,Ee,Je.value,re);if(Mr===null){Ee===null&&(Ee=Ge);break}s&&Ee&&Mr.alternate===null&&r(K,Ee),B=y(Mr,B,Ue),We===null?ke=Mr:We.sibling=Mr,We=Mr,Ee=Ge}if(Je.done)return o(K,Ee),Qe&&Ai(K,Ue),ke;if(Ee===null){for(;!Je.done;Ue++,Je=X.next())Je=oe(K,Je.value,re),Je!==null&&(B=y(Je,B,Ue),We===null?ke=Je:We.sibling=Je,We=Je);return Qe&&Ai(K,Ue),ke}for(Ee=u(Ee);!Je.done;Ue++,Je=X.next())Je=te(Ee,K,Ue,Je.value,re),Je!==null&&(s&&Je.alternate!==null&&Ee.delete(Je.key===null?Ue:Je.key),B=y(Je,B,Ue),We===null?ke=Je:We.sibling=Je,We=Je);return s&&Ee.forEach(function(CR){return r(K,CR)}),Qe&&Ai(K,Ue),ke}function lt(K,B,X,re){if(typeof X=="object"&&X!==null&&X.type===j&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case E:e:{for(var ke=X.key;B!==null;){if(B.key===ke){if(ke=X.type,ke===j){if(B.tag===7){o(K,B.sibling),re=p(B,X.props.children),re.return=K,K=re;break e}}else if(B.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===S&&Na(ke)===B.type){o(K,B.sibling),re=p(B,X.props),dc(re,X),re.return=K,K=re;break e}o(K,B);break}else r(K,B);B=B.sibling}X.type===j?(re=Ta(X.props.children,K.mode,re,X.key),re.return=K,K=re):(re=_d(X.type,X.key,X.props,null,K.mode,re),dc(re,X),re.return=K,K=re)}return w(K);case I:e:{for(ke=X.key;B!==null;){if(B.key===ke)if(B.tag===4&&B.stateNode.containerInfo===X.containerInfo&&B.stateNode.implementation===X.implementation){o(K,B.sibling),re=p(B,X.children||[]),re.return=K,K=re;break e}else{o(K,B);break}else r(K,B);B=B.sibling}re=Nm(X,K.mode,re),re.return=K,K=re}return w(K);case S:return X=Na(X),lt(K,B,X,re)}if(Y(X))return xe(K,B,X,re);if(G(X)){if(ke=G(X),typeof ke!="function")throw Error(i(150));return X=ke.call(X),Ce(K,B,X,re)}if(typeof X.then=="function")return lt(K,B,Nd(X),re);if(X.$$typeof===$)return lt(K,B,Ed(K,X),re);Cd(K,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,B!==null&&B.tag===6?(o(K,B.sibling),re=p(B,X),re.return=K,K=re):(o(K,B),re=km(X,K.mode,re),re.return=K,K=re),w(K)):o(K,B)}return function(K,B,X,re){try{uc=0;var ke=lt(K,B,X,re);return Io=null,ke}catch(Ee){if(Ee===Ro||Ee===Ad)throw Ee;var We=Ln(29,Ee,null,K.mode);return We.lanes=re,We.return=K,We}}}var Ra=Rx(!0),Ix=Rx(!1),yr=!1;function zm(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bm(s,r){s=s.updateQueue,r.updateQueue===s&&(r.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function vr(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function xr(s,r,o){var u=s.updateQueue;if(u===null)return null;if(u=u.shared,(et&2)!==0){var p=u.pending;return p===null?r.next=r:(r.next=p.next,p.next=r),u.pending=r,r=bd(s),mx(s,null,o),r}return xd(s,u,r,o),bd(s)}function hc(s,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=s.pendingLanes,o|=u,r.lanes=o,Ul(s,o)}}function Fm(s,r){var o=s.updateQueue,u=s.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var p=null,y=null;if(o=o.firstBaseUpdate,o!==null){do{var w={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};y===null?p=y=w:y=y.next=w,o=o.next}while(o!==null);y===null?p=y=r:y=y.next=r}else p=y=r;o={baseState:u.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:u.shared,callbacks:u.callbacks},s.updateQueue=o;return}s=o.lastBaseUpdate,s===null?o.firstBaseUpdate=r:s.next=r,o.lastBaseUpdate=r}var Hm=!1;function fc(){if(Hm){var s=Co;if(s!==null)throw s}}function mc(s,r,o,u){Hm=!1;var p=s.updateQueue;yr=!1;var y=p.firstBaseUpdate,w=p.lastBaseUpdate,A=p.shared.pending;if(A!==null){p.shared.pending=null;var L=A,W=L.next;L.next=null,w===null?y=W:w.next=W,w=L;var ie=s.alternate;ie!==null&&(ie=ie.updateQueue,A=ie.lastBaseUpdate,A!==w&&(A===null?ie.firstBaseUpdate=W:A.next=W,ie.lastBaseUpdate=L))}if(y!==null){var oe=p.baseState;w=0,ie=W=L=null,A=y;do{var Z=A.lane&-536870913,te=Z!==A.lane;if(te?(qe&Z)===Z:(u&Z)===Z){Z!==0&&Z===No&&(Hm=!0),ie!==null&&(ie=ie.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var xe=s,Ce=A;Z=r;var lt=o;switch(Ce.tag){case 1:if(xe=Ce.payload,typeof xe=="function"){oe=xe.call(lt,oe,Z);break e}oe=xe;break e;case 3:xe.flags=xe.flags&-65537|128;case 0:if(xe=Ce.payload,Z=typeof xe=="function"?xe.call(lt,oe,Z):xe,Z==null)break e;oe=x({},oe,Z);break e;case 2:yr=!0}}Z=A.callback,Z!==null&&(s.flags|=64,te&&(s.flags|=8192),te=p.callbacks,te===null?p.callbacks=[Z]:te.push(Z))}else te={lane:Z,tag:A.tag,payload:A.payload,callback:A.callback,next:null},ie===null?(W=ie=te,L=oe):ie=ie.next=te,w|=Z;if(A=A.next,A===null){if(A=p.shared.pending,A===null)break;te=A,A=te.next,te.next=null,p.lastBaseUpdate=te,p.shared.pending=null}}while(!0);ie===null&&(L=oe),p.baseState=L,p.firstBaseUpdate=W,p.lastBaseUpdate=ie,y===null&&(p.shared.lanes=0),Er|=w,s.lanes=w,s.memoizedState=oe}}function jx(s,r){if(typeof s!="function")throw Error(i(191,s));s.call(r)}function Dx(s,r){var o=s.callbacks;if(o!==null)for(s.callbacks=null,s=0;s<o.length;s++)jx(o[s],r)}var jo=P(null),Rd=P(0);function Mx(s,r){s=Oi,ue(Rd,s),ue(jo,r),Oi=s|r.baseLanes}function qm(){ue(Rd,Oi),ue(jo,jo.current)}function Gm(){Oi=Rd.current,ne(jo),ne(Rd)}var Un=P(null),ns=null;function br(s){var r=s.alternate;ue(At,At.current&1),ue(Un,s),ns===null&&(r===null||jo.current!==null||r.memoizedState!==null)&&(ns=s)}function $m(s){ue(At,At.current),ue(Un,s),ns===null&&(ns=s)}function Vx(s){s.tag===22?(ue(At,At.current),ue(Un,s),ns===null&&(ns=s)):_r()}function _r(){ue(At,At.current),ue(Un,Un.current)}function zn(s){ne(Un),ns===s&&(ns=null),ne(At)}var At=P(0);function Id(s){for(var r=s;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Jp(o)||Zp(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Ci=0,Le=null,at=null,Vt=null,jd=!1,Do=!1,Ia=!1,Dd=0,pc=0,Mo=null,xC=0;function _t(){throw Error(i(321))}function Km(s,r){if(r===null)return!1;for(var o=0;o<r.length&&o<s.length;o++)if(!On(s[o],r[o]))return!1;return!0}function Ym(s,r,o,u,p,y){return Ci=y,Le=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,O.H=s===null||s.memoizedState===null?vb:cp,Ia=!1,y=o(u,p),Ia=!1,Do&&(y=Ox(r,o,u,p)),Px(s),y}function Px(s){O.H=vc;var r=at!==null&&at.next!==null;if(Ci=0,Vt=at=Le=null,jd=!1,pc=0,Mo=null,r)throw Error(i(300));s===null||Pt||(s=s.dependencies,s!==null&&Td(s)&&(Pt=!0))}function Ox(s,r,o,u){Le=s;var p=0;do{if(Do&&(Mo=null),pc=0,Do=!1,25<=p)throw Error(i(301));if(p+=1,Vt=at=null,s.updateQueue!=null){var y=s.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}O.H=xb,y=r(o,u)}while(Do);return y}function bC(){var s=O.H,r=s.useState()[0];return r=typeof r.then=="function"?gc(r):r,s=s.useState()[0],(at!==null?at.memoizedState:null)!==s&&(Le.flags|=1024),r}function Qm(){var s=Dd!==0;return Dd=0,s}function Xm(s,r,o){r.updateQueue=s.updateQueue,r.flags&=-2053,s.lanes&=~o}function Wm(s){if(jd){for(s=s.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}jd=!1}Ci=0,Vt=at=Le=null,Do=!1,pc=Dd=0,Mo=null}function _n(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?Le.memoizedState=Vt=s:Vt=Vt.next=s,Vt}function kt(){if(at===null){var s=Le.alternate;s=s!==null?s.memoizedState:null}else s=at.next;var r=Vt===null?Le.memoizedState:Vt.next;if(r!==null)Vt=r,at=s;else{if(s===null)throw Le.alternate===null?Error(i(467)):Error(i(310));at=s,s={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},Vt===null?Le.memoizedState=Vt=s:Vt=Vt.next=s}return Vt}function Md(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function gc(s){var r=pc;return pc+=1,Mo===null&&(Mo=[]),s=kx(Mo,s,r),r=Le,(Vt===null?r.memoizedState:Vt.next)===null&&(r=r.alternate,O.H=r===null||r.memoizedState===null?vb:cp),s}function Vd(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return gc(s);if(s.$$typeof===$)return rn(s)}throw Error(i(438,String(s)))}function Jm(s){var r=null,o=Le.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=Le.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(p){return p.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=Md(),Le.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(s),u=0;u<s;u++)o[u]=z;return r.index++,o}function Ri(s,r){return typeof r=="function"?r(s):r}function Pd(s){var r=kt();return Zm(r,at,s)}function Zm(s,r,o){var u=s.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var p=s.baseQueue,y=u.pending;if(y!==null){if(p!==null){var w=p.next;p.next=y.next,y.next=w}r.baseQueue=p=y,u.pending=null}if(y=s.baseState,p===null)s.memoizedState=y;else{r=p.next;var A=w=null,L=null,W=r,ie=!1;do{var oe=W.lane&-536870913;if(oe!==W.lane?(qe&oe)===oe:(Ci&oe)===oe){var Z=W.revertLane;if(Z===0)L!==null&&(L=L.next={lane:0,revertLane:0,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),oe===No&&(ie=!0);else if((Ci&Z)===Z){W=W.next,Z===No&&(ie=!0);continue}else oe={lane:0,revertLane:W.revertLane,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},L===null?(A=L=oe,w=y):L=L.next=oe,Le.lanes|=Z,Er|=Z;oe=W.action,Ia&&o(y,oe),y=W.hasEagerState?W.eagerState:o(y,oe)}else Z={lane:oe,revertLane:W.revertLane,gesture:W.gesture,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},L===null?(A=L=Z,w=y):L=L.next=Z,Le.lanes|=oe,Er|=oe;W=W.next}while(W!==null&&W!==r);if(L===null?w=y:L.next=A,!On(y,s.memoizedState)&&(Pt=!0,ie&&(o=Co,o!==null)))throw o;s.memoizedState=y,s.baseState=w,s.baseQueue=L,u.lastRenderedState=y}return p===null&&(u.lanes=0),[s.memoizedState,u.dispatch]}function ep(s){var r=kt(),o=r.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=s;var u=o.dispatch,p=o.pending,y=r.memoizedState;if(p!==null){o.pending=null;var w=p=p.next;do y=s(y,w.action),w=w.next;while(w!==p);On(y,r.memoizedState)||(Pt=!0),r.memoizedState=y,r.baseQueue===null&&(r.baseState=y),o.lastRenderedState=y}return[y,u]}function Lx(s,r,o){var u=Le,p=kt(),y=Qe;if(y){if(o===void 0)throw Error(i(407));o=o()}else o=r();var w=!On((at||p).memoizedState,o);if(w&&(p.memoizedState=o,Pt=!0),p=p.queue,sp(Bx.bind(null,u,p,s),[s]),p.getSnapshot!==r||w||Vt!==null&&Vt.memoizedState.tag&1){if(u.flags|=2048,Vo(9,{destroy:void 0},zx.bind(null,u,p,o,r),null),ct===null)throw Error(i(349));y||(Ci&127)!==0||Ux(u,r,o)}return o}function Ux(s,r,o){s.flags|=16384,s={getSnapshot:r,value:o},r=Le.updateQueue,r===null?(r=Md(),Le.updateQueue=r,r.stores=[s]):(o=r.stores,o===null?r.stores=[s]:o.push(s))}function zx(s,r,o,u){r.value=o,r.getSnapshot=u,Fx(r)&&Hx(s)}function Bx(s,r,o){return o(function(){Fx(r)&&Hx(s)})}function Fx(s){var r=s.getSnapshot;s=s.value;try{var o=r();return!On(s,o)}catch{return!0}}function Hx(s){var r=wa(s,2);r!==null&&Rn(r,s,2)}function tp(s){var r=_n();if(typeof s=="function"){var o=s;if(s=o(),Ia){$n(!0);try{o()}finally{$n(!1)}}}return r.memoizedState=r.baseState=s,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:s},r}function qx(s,r,o,u){return s.baseState=o,Zm(s,at,typeof u=="function"?u:Ri)}function _C(s,r,o,u,p){if(Ud(s))throw Error(i(485));if(s=r.action,s!==null){var y={payload:p,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){y.listeners.push(w)}};O.T!==null?o(!0):y.isTransition=!1,u(y),o=r.pending,o===null?(y.next=r.pending=y,Gx(r,y)):(y.next=o.next,r.pending=o.next=y)}}function Gx(s,r){var o=r.action,u=r.payload,p=s.state;if(r.isTransition){var y=O.T,w={};O.T=w;try{var A=o(p,u),L=O.S;L!==null&&L(w,A),$x(s,r,A)}catch(W){np(s,r,W)}finally{y!==null&&w.types!==null&&(y.types=w.types),O.T=y}}else try{y=o(p,u),$x(s,r,y)}catch(W){np(s,r,W)}}function $x(s,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){Kx(s,r,u)},function(u){return np(s,r,u)}):Kx(s,r,o)}function Kx(s,r,o){r.status="fulfilled",r.value=o,Yx(r),s.state=o,r=s.pending,r!==null&&(o=r.next,o===r?s.pending=null:(o=o.next,r.next=o,Gx(s,o)))}function np(s,r,o){var u=s.pending;if(s.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,Yx(r),r=r.next;while(r!==u)}s.action=null}function Yx(s){s=s.listeners;for(var r=0;r<s.length;r++)(0,s[r])()}function Qx(s,r){return r}function Xx(s,r){if(Qe){var o=ct.formState;if(o!==null){e:{var u=Le;if(Qe){if(ht){t:{for(var p=ht,y=ts;p.nodeType!==8;){if(!y){p=null;break t}if(p=ss(p.nextSibling),p===null){p=null;break t}}y=p.data,p=y==="F!"||y==="F"?p:null}if(p){ht=ss(p.nextSibling),u=p.data==="F!";break e}}pr(u)}u=!1}u&&(r=o[0])}}return o=_n(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qx,lastRenderedState:r},o.queue=u,o=pb.bind(null,Le,u),u.dispatch=o,u=tp(!1),y=lp.bind(null,Le,!1,u.queue),u=_n(),p={state:r,dispatch:null,action:s,pending:null},u.queue=p,o=_C.bind(null,Le,p,y,o),p.dispatch=o,u.memoizedState=s,[r,o,!1]}function Wx(s){var r=kt();return Jx(r,at,s)}function Jx(s,r,o){if(r=Zm(s,r,Qx)[0],s=Pd(Ri)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=gc(r)}catch(w){throw w===Ro?Ad:w}else u=r;r=kt();var p=r.queue,y=p.dispatch;return o!==r.memoizedState&&(Le.flags|=2048,Vo(9,{destroy:void 0},wC.bind(null,p,o),null)),[u,y,s]}function wC(s,r){s.action=r}function Zx(s){var r=kt(),o=at;if(o!==null)return Jx(r,o,s);kt(),r=r.memoizedState,o=kt();var u=o.queue.dispatch;return o.memoizedState=s,[r,u,!1]}function Vo(s,r,o,u){return s={tag:s,create:o,deps:u,inst:r,next:null},r=Le.updateQueue,r===null&&(r=Md(),Le.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=s.next=s:(u=o.next,o.next=s,s.next=u,r.lastEffect=s),s}function eb(){return kt().memoizedState}function Od(s,r,o,u){var p=_n();Le.flags|=s,p.memoizedState=Vo(1|r,{destroy:void 0},o,u===void 0?null:u)}function Ld(s,r,o,u){var p=kt();u=u===void 0?null:u;var y=p.memoizedState.inst;at!==null&&u!==null&&Km(u,at.memoizedState.deps)?p.memoizedState=Vo(r,y,o,u):(Le.flags|=s,p.memoizedState=Vo(1|r,y,o,u))}function tb(s,r){Od(8390656,8,s,r)}function sp(s,r){Ld(2048,8,s,r)}function TC(s){Le.flags|=4;var r=Le.updateQueue;if(r===null)r=Md(),Le.updateQueue=r,r.events=[s];else{var o=r.events;o===null?r.events=[s]:o.push(s)}}function nb(s){var r=kt().memoizedState;return TC({ref:r,nextImpl:s}),function(){if((et&2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}function sb(s,r){return Ld(4,2,s,r)}function ib(s,r){return Ld(4,4,s,r)}function rb(s,r){if(typeof r=="function"){s=s();var o=r(s);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return s=s(),r.current=s,function(){r.current=null}}function ab(s,r,o){o=o!=null?o.concat([s]):null,Ld(4,4,rb.bind(null,r,s),o)}function ip(){}function ob(s,r){var o=kt();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&Km(r,u[1])?u[0]:(o.memoizedState=[s,r],s)}function lb(s,r){var o=kt();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&Km(r,u[1]))return u[0];if(u=s(),Ia){$n(!0);try{s()}finally{$n(!1)}}return o.memoizedState=[u,r],u}function rp(s,r,o){return o===void 0||(Ci&1073741824)!==0&&(qe&261930)===0?s.memoizedState=r:(s.memoizedState=o,s=c1(),Le.lanes|=s,Er|=s,o)}function cb(s,r,o,u){return On(o,r)?o:jo.current!==null?(s=rp(s,o,u),On(s,r)||(Pt=!0),s):(Ci&42)===0||(Ci&1073741824)!==0&&(qe&261930)===0?(Pt=!0,s.memoizedState=o):(s=c1(),Le.lanes|=s,Er|=s,r)}function ub(s,r,o,u,p){var y=q.p;q.p=y!==0&&8>y?y:8;var w=O.T,A={};O.T=A,lp(s,!1,r,o);try{var L=p(),W=O.S;if(W!==null&&W(A,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var ie=vC(L,u);yc(s,r,ie,Hn(s))}else yc(s,r,u,Hn(s))}catch(oe){yc(s,r,{then:function(){},status:"rejected",reason:oe},Hn())}finally{q.p=y,w!==null&&A.types!==null&&(w.types=A.types),O.T=w}}function EC(){}function ap(s,r,o,u){if(s.tag!==5)throw Error(i(476));var p=db(s).queue;ub(s,p,r,H,o===null?EC:function(){return hb(s),o(u)})}function db(s){var r=s.memoizedState;if(r!==null)return r;r={memoizedState:H,baseState:H,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:H},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:o},next:null},s.memoizedState=r,s=s.alternate,s!==null&&(s.memoizedState=r),r}function hb(s){var r=db(s);r.next===null&&(r=s.alternate.memoizedState),yc(s,r.next.queue,{},Hn())}function op(){return rn(Mc)}function fb(){return kt().memoizedState}function mb(){return kt().memoizedState}function SC(s){for(var r=s.return;r!==null;){switch(r.tag){case 24:case 3:var o=Hn();s=vr(o);var u=xr(r,s,o);u!==null&&(Rn(u,r,o),hc(u,r,o)),r={cache:Pm()},s.payload=r;return}r=r.return}}function AC(s,r,o){var u=Hn();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Ud(s)?gb(r,o):(o=Sm(s,r,o,u),o!==null&&(Rn(o,s,u),yb(o,r,u)))}function pb(s,r,o){var u=Hn();yc(s,r,o,u)}function yc(s,r,o,u){var p={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Ud(s))gb(r,p);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=r.lastRenderedReducer,y!==null))try{var w=r.lastRenderedState,A=y(w,o);if(p.hasEagerState=!0,p.eagerState=A,On(A,w))return xd(s,r,p,0),ct===null&&vd(),!1}catch{}if(o=Sm(s,r,p,u),o!==null)return Rn(o,s,u),yb(o,r,u),!0}return!1}function lp(s,r,o,u){if(u={lane:2,revertLane:zp(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Ud(s)){if(r)throw Error(i(479))}else r=Sm(s,o,u,2),r!==null&&Rn(r,s,2)}function Ud(s){var r=s.alternate;return s===Le||r!==null&&r===Le}function gb(s,r){Do=jd=!0;var o=s.pending;o===null?r.next=r:(r.next=o.next,o.next=r),s.pending=r}function yb(s,r,o){if((o&4194048)!==0){var u=r.lanes;u&=s.pendingLanes,o|=u,r.lanes=o,Ul(s,o)}}var vc={readContext:rn,use:Vd,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useLayoutEffect:_t,useInsertionEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useSyncExternalStore:_t,useId:_t,useHostTransitionStatus:_t,useFormState:_t,useActionState:_t,useOptimistic:_t,useMemoCache:_t,useCacheRefresh:_t};vc.useEffectEvent=_t;var vb={readContext:rn,use:Vd,useCallback:function(s,r){return _n().memoizedState=[s,r===void 0?null:r],s},useContext:rn,useEffect:tb,useImperativeHandle:function(s,r,o){o=o!=null?o.concat([s]):null,Od(4194308,4,rb.bind(null,r,s),o)},useLayoutEffect:function(s,r){return Od(4194308,4,s,r)},useInsertionEffect:function(s,r){Od(4,2,s,r)},useMemo:function(s,r){var o=_n();r=r===void 0?null:r;var u=s();if(Ia){$n(!0);try{s()}finally{$n(!1)}}return o.memoizedState=[u,r],u},useReducer:function(s,r,o){var u=_n();if(o!==void 0){var p=o(r);if(Ia){$n(!0);try{o(r)}finally{$n(!1)}}}else p=r;return u.memoizedState=u.baseState=p,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:p},u.queue=s,s=s.dispatch=AC.bind(null,Le,s),[u.memoizedState,s]},useRef:function(s){var r=_n();return s={current:s},r.memoizedState=s},useState:function(s){s=tp(s);var r=s.queue,o=pb.bind(null,Le,r);return r.dispatch=o,[s.memoizedState,o]},useDebugValue:ip,useDeferredValue:function(s,r){var o=_n();return rp(o,s,r)},useTransition:function(){var s=tp(!1);return s=ub.bind(null,Le,s.queue,!0,!1),_n().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,r,o){var u=Le,p=_n();if(Qe){if(o===void 0)throw Error(i(407));o=o()}else{if(o=r(),ct===null)throw Error(i(349));(qe&127)!==0||Ux(u,r,o)}p.memoizedState=o;var y={value:o,getSnapshot:r};return p.queue=y,tb(Bx.bind(null,u,y,s),[s]),u.flags|=2048,Vo(9,{destroy:void 0},zx.bind(null,u,y,o,r),null),o},useId:function(){var s=_n(),r=ct.identifierPrefix;if(Qe){var o=ei,u=Zs;o=(u&~(1<<32-Et(u)-1)).toString(32)+o,r="_"+r+"R_"+o,o=Dd++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=xC++,r="_"+r+"r_"+o.toString(32)+"_";return s.memoizedState=r},useHostTransitionStatus:op,useFormState:Xx,useActionState:Xx,useOptimistic:function(s){var r=_n();r.memoizedState=r.baseState=s;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=lp.bind(null,Le,!0,o),o.dispatch=r,[s,r]},useMemoCache:Jm,useCacheRefresh:function(){return _n().memoizedState=SC.bind(null,Le)},useEffectEvent:function(s){var r=_n(),o={impl:s};return r.memoizedState=o,function(){if((et&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}},cp={readContext:rn,use:Vd,useCallback:ob,useContext:rn,useEffect:sp,useImperativeHandle:ab,useInsertionEffect:sb,useLayoutEffect:ib,useMemo:lb,useReducer:Pd,useRef:eb,useState:function(){return Pd(Ri)},useDebugValue:ip,useDeferredValue:function(s,r){var o=kt();return cb(o,at.memoizedState,s,r)},useTransition:function(){var s=Pd(Ri)[0],r=kt().memoizedState;return[typeof s=="boolean"?s:gc(s),r]},useSyncExternalStore:Lx,useId:fb,useHostTransitionStatus:op,useFormState:Wx,useActionState:Wx,useOptimistic:function(s,r){var o=kt();return qx(o,at,s,r)},useMemoCache:Jm,useCacheRefresh:mb};cp.useEffectEvent=nb;var xb={readContext:rn,use:Vd,useCallback:ob,useContext:rn,useEffect:sp,useImperativeHandle:ab,useInsertionEffect:sb,useLayoutEffect:ib,useMemo:lb,useReducer:ep,useRef:eb,useState:function(){return ep(Ri)},useDebugValue:ip,useDeferredValue:function(s,r){var o=kt();return at===null?rp(o,s,r):cb(o,at.memoizedState,s,r)},useTransition:function(){var s=ep(Ri)[0],r=kt().memoizedState;return[typeof s=="boolean"?s:gc(s),r]},useSyncExternalStore:Lx,useId:fb,useHostTransitionStatus:op,useFormState:Zx,useActionState:Zx,useOptimistic:function(s,r){var o=kt();return at!==null?qx(o,at,s,r):(o.baseState=s,[s,o.queue.dispatch])},useMemoCache:Jm,useCacheRefresh:mb};xb.useEffectEvent=nb;function up(s,r,o,u){r=s.memoizedState,o=o(u,r),o=o==null?r:x({},r,o),s.memoizedState=o,s.lanes===0&&(s.updateQueue.baseState=o)}var dp={enqueueSetState:function(s,r,o){s=s._reactInternals;var u=Hn(),p=vr(u);p.payload=r,o!=null&&(p.callback=o),r=xr(s,p,u),r!==null&&(Rn(r,s,u),hc(r,s,u))},enqueueReplaceState:function(s,r,o){s=s._reactInternals;var u=Hn(),p=vr(u);p.tag=1,p.payload=r,o!=null&&(p.callback=o),r=xr(s,p,u),r!==null&&(Rn(r,s,u),hc(r,s,u))},enqueueForceUpdate:function(s,r){s=s._reactInternals;var o=Hn(),u=vr(o);u.tag=2,r!=null&&(u.callback=r),r=xr(s,u,o),r!==null&&(Rn(r,s,o),hc(r,s,o))}};function bb(s,r,o,u,p,y,w){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(u,y,w):r.prototype&&r.prototype.isPureReactComponent?!ic(o,u)||!ic(p,y):!0}function _b(s,r,o,u){s=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==s&&dp.enqueueReplaceState(r,r.state,null)}function ja(s,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(s=s.defaultProps){o===r&&(o=x({},o));for(var p in s)o[p]===void 0&&(o[p]=s[p])}return o}function wb(s){yd(s)}function Tb(s){console.error(s)}function Eb(s){yd(s)}function zd(s,r){try{var o=s.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function Sb(s,r,o){try{var u=s.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function hp(s,r,o){return o=vr(o),o.tag=3,o.payload={element:null},o.callback=function(){zd(s,r)},o}function Ab(s){return s=vr(s),s.tag=3,s}function kb(s,r,o,u){var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var y=u.value;s.payload=function(){return p(y)},s.callback=function(){Sb(r,o,u)}}var w=o.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(s.callback=function(){Sb(r,o,u),typeof p!="function"&&(Sr===null?Sr=new Set([this]):Sr.add(this));var A=u.stack;this.componentDidCatch(u.value,{componentStack:A!==null?A:""})})}function kC(s,r,o,u,p){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&ko(r,o,p,!0),o=Un.current,o!==null){switch(o.tag){case 31:case 13:return ns===null?Jd():o.alternate===null&&wt===0&&(wt=3),o.flags&=-257,o.flags|=65536,o.lanes=p,u===kd?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),Op(s,u,p)),!1;case 22:return o.flags|=65536,u===kd?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),Op(s,u,p)),!1}throw Error(i(435,o.tag))}return Op(s,u,p),Jd(),!1}if(Qe)return r=Un.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=p,u!==Im&&(s=Error(i(422),{cause:u}),oc(Jn(s,o)))):(u!==Im&&(r=Error(i(423),{cause:u}),oc(Jn(r,o))),s=s.current.alternate,s.flags|=65536,p&=-p,s.lanes|=p,u=Jn(u,o),p=hp(s.stateNode,u,p),Fm(s,p),wt!==4&&(wt=2)),!1;var y=Error(i(520),{cause:u});if(y=Jn(y,o),Ac===null?Ac=[y]:Ac.push(y),wt!==4&&(wt=2),r===null)return!0;u=Jn(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,s=p&-p,o.lanes|=s,s=hp(o.stateNode,u,s),Fm(o,s),!1;case 1:if(r=o.type,y=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Sr===null||!Sr.has(y))))return o.flags|=65536,p&=-p,o.lanes|=p,p=Ab(p),kb(p,s,o,u),Fm(o,p),!1}o=o.return}while(o!==null);return!1}var fp=Error(i(461)),Pt=!1;function an(s,r,o,u){r.child=s===null?Ix(r,null,o,u):Ra(r,s.child,o,u)}function Nb(s,r,o,u,p){o=o.render;var y=r.ref;if("ref"in u){var w={};for(var A in u)A!=="ref"&&(w[A]=u[A])}else w=u;return Aa(r),u=Ym(s,r,o,w,y,p),A=Qm(),s!==null&&!Pt?(Xm(s,r,p),Ii(s,r,p)):(Qe&&A&&Cm(r),r.flags|=1,an(s,r,u,p),r.child)}function Cb(s,r,o,u,p){if(s===null){var y=o.type;return typeof y=="function"&&!Am(y)&&y.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=y,Rb(s,r,y,u,p)):(s=_d(o.type,null,u,r,r.mode,p),s.ref=r.ref,s.return=r,r.child=s)}if(y=s.child,!_p(s,p)){var w=y.memoizedProps;if(o=o.compare,o=o!==null?o:ic,o(w,u)&&s.ref===r.ref)return Ii(s,r,p)}return r.flags|=1,s=Si(y,u),s.ref=r.ref,s.return=r,r.child=s}function Rb(s,r,o,u,p){if(s!==null){var y=s.memoizedProps;if(ic(y,u)&&s.ref===r.ref)if(Pt=!1,r.pendingProps=u=y,_p(s,p))(s.flags&131072)!==0&&(Pt=!0);else return r.lanes=s.lanes,Ii(s,r,p)}return mp(s,r,o,u,p)}function Ib(s,r,o,u){var p=u.children,y=s!==null?s.memoizedState:null;if(s===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(y=y!==null?y.baseLanes|o:o,s!==null){for(u=r.child=s.child,p=0;u!==null;)p=p|u.lanes|u.childLanes,u=u.sibling;u=p&~y}else u=0,r.child=null;return jb(s,r,y,o,u)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},s!==null&&Sd(r,y!==null?y.cachePool:null),y!==null?Mx(r,y):qm(),Vx(r);else return u=r.lanes=536870912,jb(s,r,y!==null?y.baseLanes|o:o,o,u)}else y!==null?(Sd(r,y.cachePool),Mx(r,y),_r(),r.memoizedState=null):(s!==null&&Sd(r,null),qm(),_r());return an(s,r,p,o),r.child}function xc(s,r){return s!==null&&s.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function jb(s,r,o,u,p){var y=Lm();return y=y===null?null:{parent:Mt._currentValue,pool:y},r.memoizedState={baseLanes:o,cachePool:y},s!==null&&Sd(r,null),qm(),Vx(r),s!==null&&ko(s,r,u,!0),r.childLanes=p,null}function Bd(s,r){return r=Hd({mode:r.mode,children:r.children},s.mode),r.ref=s.ref,s.child=r,r.return=s,r}function Db(s,r,o){return Ra(r,s.child,null,o),s=Bd(r,r.pendingProps),s.flags|=2,zn(r),r.memoizedState=null,s}function NC(s,r,o){var u=r.pendingProps,p=(r.flags&128)!==0;if(r.flags&=-129,s===null){if(Qe){if(u.mode==="hidden")return s=Bd(r,u),r.lanes=536870912,xc(null,s);if($m(r),(s=ht)?(s=G1(s,ts),s=s!==null&&s.data==="&"?s:null,s!==null&&(r.memoizedState={dehydrated:s,treeContext:fr!==null?{id:Zs,overflow:ei}:null,retryLane:536870912,hydrationErrors:null},o=gx(s),o.return=r,r.child=o,sn=r,ht=null)):s=null,s===null)throw pr(r);return r.lanes=536870912,null}return Bd(r,u)}var y=s.memoizedState;if(y!==null){var w=y.dehydrated;if($m(r),p)if(r.flags&256)r.flags&=-257,r=Db(s,r,o);else if(r.memoizedState!==null)r.child=s.child,r.flags|=128,r=null;else throw Error(i(558));else if(Pt||ko(s,r,o,!1),p=(o&s.childLanes)!==0,Pt||p){if(u=ct,u!==null&&(w=zl(u,o),w!==0&&w!==y.retryLane))throw y.retryLane=w,wa(s,w),Rn(u,s,w),fp;Jd(),r=Db(s,r,o)}else s=y.treeContext,ht=ss(w.nextSibling),sn=r,Qe=!0,mr=null,ts=!1,s!==null&&xx(r,s),r=Bd(r,u),r.flags|=4096;return r}return s=Si(s.child,{mode:u.mode,children:u.children}),s.ref=r.ref,r.child=s,s.return=r,s}function Fd(s,r){var o=r.ref;if(o===null)s!==null&&s.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(s===null||s.ref!==o)&&(r.flags|=4194816)}}function mp(s,r,o,u,p){return Aa(r),o=Ym(s,r,o,u,void 0,p),u=Qm(),s!==null&&!Pt?(Xm(s,r,p),Ii(s,r,p)):(Qe&&u&&Cm(r),r.flags|=1,an(s,r,o,p),r.child)}function Mb(s,r,o,u,p,y){return Aa(r),r.updateQueue=null,o=Ox(r,u,o,p),Px(s),u=Qm(),s!==null&&!Pt?(Xm(s,r,y),Ii(s,r,y)):(Qe&&u&&Cm(r),r.flags|=1,an(s,r,o,y),r.child)}function Vb(s,r,o,u,p){if(Aa(r),r.stateNode===null){var y=To,w=o.contextType;typeof w=="object"&&w!==null&&(y=rn(w)),y=new o(u,y),r.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=dp,r.stateNode=y,y._reactInternals=r,y=r.stateNode,y.props=u,y.state=r.memoizedState,y.refs={},zm(r),w=o.contextType,y.context=typeof w=="object"&&w!==null?rn(w):To,y.state=r.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(up(r,o,w,u),y.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(w=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),w!==y.state&&dp.enqueueReplaceState(y,y.state,null),mc(r,u,y,p),fc(),y.state=r.memoizedState),typeof y.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(s===null){y=r.stateNode;var A=r.memoizedProps,L=ja(o,A);y.props=L;var W=y.context,ie=o.contextType;w=To,typeof ie=="object"&&ie!==null&&(w=rn(ie));var oe=o.getDerivedStateFromProps;ie=typeof oe=="function"||typeof y.getSnapshotBeforeUpdate=="function",A=r.pendingProps!==A,ie||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(A||W!==w)&&_b(r,y,u,w),yr=!1;var Z=r.memoizedState;y.state=Z,mc(r,u,y,p),fc(),W=r.memoizedState,A||Z!==W||yr?(typeof oe=="function"&&(up(r,o,oe,u),W=r.memoizedState),(L=yr||bb(r,o,L,u,Z,W,w))?(ie||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(r.flags|=4194308)):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=W),y.props=u,y.state=W,y.context=w,u=L):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{y=r.stateNode,Bm(s,r),w=r.memoizedProps,ie=ja(o,w),y.props=ie,oe=r.pendingProps,Z=y.context,W=o.contextType,L=To,typeof W=="object"&&W!==null&&(L=rn(W)),A=o.getDerivedStateFromProps,(W=typeof A=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(w!==oe||Z!==L)&&_b(r,y,u,L),yr=!1,Z=r.memoizedState,y.state=Z,mc(r,u,y,p),fc();var te=r.memoizedState;w!==oe||Z!==te||yr||s!==null&&s.dependencies!==null&&Td(s.dependencies)?(typeof A=="function"&&(up(r,o,A,u),te=r.memoizedState),(ie=yr||bb(r,o,ie,u,Z,te,L)||s!==null&&s.dependencies!==null&&Td(s.dependencies))?(W||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,te,L),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,te,L)),typeof y.componentDidUpdate=="function"&&(r.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof y.componentDidUpdate!="function"||w===s.memoizedProps&&Z===s.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===s.memoizedProps&&Z===s.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=te),y.props=u,y.state=te,y.context=L,u=ie):(typeof y.componentDidUpdate!="function"||w===s.memoizedProps&&Z===s.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===s.memoizedProps&&Z===s.memoizedState||(r.flags|=1024),u=!1)}return y=u,Fd(s,r),u=(r.flags&128)!==0,y||u?(y=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:y.render(),r.flags|=1,s!==null&&u?(r.child=Ra(r,s.child,null,p),r.child=Ra(r,null,o,p)):an(s,r,o,p),r.memoizedState=y.state,s=r.child):s=Ii(s,r,p),s}function Pb(s,r,o,u){return Ea(),r.flags|=256,an(s,r,o,u),r.child}var pp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function gp(s){return{baseLanes:s,cachePool:Sx()}}function yp(s,r,o){return s=s!==null?s.childLanes&~o:0,r&&(s|=Fn),s}function Ob(s,r,o){var u=r.pendingProps,p=!1,y=(r.flags&128)!==0,w;if((w=y)||(w=s!==null&&s.memoizedState===null?!1:(At.current&2)!==0),w&&(p=!0,r.flags&=-129),w=(r.flags&32)!==0,r.flags&=-33,s===null){if(Qe){if(p?br(r):_r(),(s=ht)?(s=G1(s,ts),s=s!==null&&s.data!=="&"?s:null,s!==null&&(r.memoizedState={dehydrated:s,treeContext:fr!==null?{id:Zs,overflow:ei}:null,retryLane:536870912,hydrationErrors:null},o=gx(s),o.return=r,r.child=o,sn=r,ht=null)):s=null,s===null)throw pr(r);return Zp(s)?r.lanes=32:r.lanes=536870912,null}var A=u.children;return u=u.fallback,p?(_r(),p=r.mode,A=Hd({mode:"hidden",children:A},p),u=Ta(u,p,o,null),A.return=r,u.return=r,A.sibling=u,r.child=A,u=r.child,u.memoizedState=gp(o),u.childLanes=yp(s,w,o),r.memoizedState=pp,xc(null,u)):(br(r),vp(r,A))}var L=s.memoizedState;if(L!==null&&(A=L.dehydrated,A!==null)){if(y)r.flags&256?(br(r),r.flags&=-257,r=xp(s,r,o)):r.memoizedState!==null?(_r(),r.child=s.child,r.flags|=128,r=null):(_r(),A=u.fallback,p=r.mode,u=Hd({mode:"visible",children:u.children},p),A=Ta(A,p,o,null),A.flags|=2,u.return=r,A.return=r,u.sibling=A,r.child=u,Ra(r,s.child,null,o),u=r.child,u.memoizedState=gp(o),u.childLanes=yp(s,w,o),r.memoizedState=pp,r=xc(null,u));else if(br(r),Zp(A)){if(w=A.nextSibling&&A.nextSibling.dataset,w)var W=w.dgst;w=W,u=Error(i(419)),u.stack="",u.digest=w,oc({value:u,source:null,stack:null}),r=xp(s,r,o)}else if(Pt||ko(s,r,o,!1),w=(o&s.childLanes)!==0,Pt||w){if(w=ct,w!==null&&(u=zl(w,o),u!==0&&u!==L.retryLane))throw L.retryLane=u,wa(s,u),Rn(w,s,u),fp;Jp(A)||Jd(),r=xp(s,r,o)}else Jp(A)?(r.flags|=192,r.child=s.child,r=null):(s=L.treeContext,ht=ss(A.nextSibling),sn=r,Qe=!0,mr=null,ts=!1,s!==null&&xx(r,s),r=vp(r,u.children),r.flags|=4096);return r}return p?(_r(),A=u.fallback,p=r.mode,L=s.child,W=L.sibling,u=Si(L,{mode:"hidden",children:u.children}),u.subtreeFlags=L.subtreeFlags&65011712,W!==null?A=Si(W,A):(A=Ta(A,p,o,null),A.flags|=2),A.return=r,u.return=r,u.sibling=A,r.child=u,xc(null,u),u=r.child,A=s.child.memoizedState,A===null?A=gp(o):(p=A.cachePool,p!==null?(L=Mt._currentValue,p=p.parent!==L?{parent:L,pool:L}:p):p=Sx(),A={baseLanes:A.baseLanes|o,cachePool:p}),u.memoizedState=A,u.childLanes=yp(s,w,o),r.memoizedState=pp,xc(s.child,u)):(br(r),o=s.child,s=o.sibling,o=Si(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,s!==null&&(w=r.deletions,w===null?(r.deletions=[s],r.flags|=16):w.push(s)),r.child=o,r.memoizedState=null,o)}function vp(s,r){return r=Hd({mode:"visible",children:r},s.mode),r.return=s,s.child=r}function Hd(s,r){return s=Ln(22,s,null,r),s.lanes=0,s}function xp(s,r,o){return Ra(r,s.child,null,o),s=vp(r,r.pendingProps.children),s.flags|=2,r.memoizedState=null,s}function Lb(s,r,o){s.lanes|=r;var u=s.alternate;u!==null&&(u.lanes|=r),Mm(s.return,r,o)}function bp(s,r,o,u,p,y){var w=s.memoizedState;w===null?s.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:p,treeForkCount:y}:(w.isBackwards=r,w.rendering=null,w.renderingStartTime=0,w.last=u,w.tail=o,w.tailMode=p,w.treeForkCount=y)}function Ub(s,r,o){var u=r.pendingProps,p=u.revealOrder,y=u.tail;u=u.children;var w=At.current,A=(w&2)!==0;if(A?(w=w&1|2,r.flags|=128):w&=1,ue(At,w),an(s,r,u,o),u=Qe?ac:0,!A&&s!==null&&(s.flags&128)!==0)e:for(s=r.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Lb(s,o,r);else if(s.tag===19)Lb(s,o,r);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(p){case"forwards":for(o=r.child,p=null;o!==null;)s=o.alternate,s!==null&&Id(s)===null&&(p=o),o=o.sibling;o=p,o===null?(p=r.child,r.child=null):(p=o.sibling,o.sibling=null),bp(r,!1,p,o,y,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,p=r.child,r.child=null;p!==null;){if(s=p.alternate,s!==null&&Id(s)===null){r.child=p;break}s=p.sibling,p.sibling=o,o=p,p=s}bp(r,!0,o,null,y,u);break;case"together":bp(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function Ii(s,r,o){if(s!==null&&(r.dependencies=s.dependencies),Er|=r.lanes,(o&r.childLanes)===0)if(s!==null){if(ko(s,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(s!==null&&r.child!==s.child)throw Error(i(153));if(r.child!==null){for(s=r.child,o=Si(s,s.pendingProps),r.child=o,o.return=r;s.sibling!==null;)s=s.sibling,o=o.sibling=Si(s,s.pendingProps),o.return=r;o.sibling=null}return r.child}function _p(s,r){return(s.lanes&r)!==0?!0:(s=s.dependencies,!!(s!==null&&Td(s)))}function CC(s,r,o){switch(r.tag){case 3:pe(r,r.stateNode.containerInfo),gr(r,Mt,s.memoizedState.cache),Ea();break;case 27:case 5:bt(r);break;case 4:pe(r,r.stateNode.containerInfo);break;case 10:gr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,$m(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(br(r),r.flags|=128,null):(o&r.child.childLanes)!==0?Ob(s,r,o):(br(r),s=Ii(s,r,o),s!==null?s.sibling:null);br(r);break;case 19:var p=(s.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(ko(s,r,o,!1),u=(o&r.childLanes)!==0),p){if(u)return Ub(s,r,o);r.flags|=128}if(p=r.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),ue(At,At.current),u)break;return null;case 22:return r.lanes=0,Ib(s,r,o,r.pendingProps);case 24:gr(r,Mt,s.memoizedState.cache)}return Ii(s,r,o)}function zb(s,r,o){if(s!==null)if(s.memoizedProps!==r.pendingProps)Pt=!0;else{if(!_p(s,o)&&(r.flags&128)===0)return Pt=!1,CC(s,r,o);Pt=(s.flags&131072)!==0}else Pt=!1,Qe&&(r.flags&1048576)!==0&&vx(r,ac,r.index);switch(r.lanes=0,r.tag){case 16:e:{var u=r.pendingProps;if(s=Na(r.elementType),r.type=s,typeof s=="function")Am(s)?(u=ja(s,u),r.tag=1,r=Vb(null,r,s,u,o)):(r.tag=0,r=mp(null,r,s,u,o));else{if(s!=null){var p=s.$$typeof;if(p===J){r.tag=11,r=Nb(null,r,s,u,o);break e}else if(p===R){r.tag=14,r=Cb(null,r,s,u,o);break e}}throw r=Be(s)||s,Error(i(306,r,""))}}return r;case 0:return mp(s,r,r.type,r.pendingProps,o);case 1:return u=r.type,p=ja(u,r.pendingProps),Vb(s,r,u,p,o);case 3:e:{if(pe(r,r.stateNode.containerInfo),s===null)throw Error(i(387));u=r.pendingProps;var y=r.memoizedState;p=y.element,Bm(s,r),mc(r,u,null,o);var w=r.memoizedState;if(u=w.cache,gr(r,Mt,u),u!==y.cache&&Vm(r,[Mt],o,!0),fc(),u=w.element,y.isDehydrated)if(y={element:u,isDehydrated:!1,cache:w.cache},r.updateQueue.baseState=y,r.memoizedState=y,r.flags&256){r=Pb(s,r,u,o);break e}else if(u!==p){p=Jn(Error(i(424)),r),oc(p),r=Pb(s,r,u,o);break e}else for(s=r.stateNode.containerInfo,s.nodeType===9?s=s.body:s=s.nodeName==="HTML"?s.ownerDocument.body:s,ht=ss(s.firstChild),sn=r,Qe=!0,mr=null,ts=!0,o=Ix(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Ea(),u===p){r=Ii(s,r,o);break e}an(s,r,u,o)}r=r.child}return r;case 26:return Fd(s,r),s===null?(o=W1(r.type,null,r.pendingProps,null))?r.memoizedState=o:Qe||(o=r.type,s=r.pendingProps,u=rh(Ie.current).createElement(o),u[It]=r,u[Qt]=s,on(u,o,s),jt(u),r.stateNode=u):r.memoizedState=W1(r.type,s.memoizedProps,r.pendingProps,s.memoizedState),null;case 27:return bt(r),s===null&&Qe&&(u=r.stateNode=Y1(r.type,r.pendingProps,Ie.current),sn=r,ts=!0,p=ht,Cr(r.type)?(eg=p,ht=ss(u.firstChild)):ht=p),an(s,r,r.pendingProps.children,o),Fd(s,r),s===null&&(r.flags|=4194304),r.child;case 5:return s===null&&Qe&&((p=u=ht)&&(u=rR(u,r.type,r.pendingProps,ts),u!==null?(r.stateNode=u,sn=r,ht=ss(u.firstChild),ts=!1,p=!0):p=!1),p||pr(r)),bt(r),p=r.type,y=r.pendingProps,w=s!==null?s.memoizedProps:null,u=y.children,Qp(p,y)?u=null:w!==null&&Qp(p,w)&&(r.flags|=32),r.memoizedState!==null&&(p=Ym(s,r,bC,null,null,o),Mc._currentValue=p),Fd(s,r),an(s,r,u,o),r.child;case 6:return s===null&&Qe&&((s=o=ht)&&(o=aR(o,r.pendingProps,ts),o!==null?(r.stateNode=o,sn=r,ht=null,s=!0):s=!1),s||pr(r)),null;case 13:return Ob(s,r,o);case 4:return pe(r,r.stateNode.containerInfo),u=r.pendingProps,s===null?r.child=Ra(r,null,u,o):an(s,r,u,o),r.child;case 11:return Nb(s,r,r.type,r.pendingProps,o);case 7:return an(s,r,r.pendingProps,o),r.child;case 8:return an(s,r,r.pendingProps.children,o),r.child;case 12:return an(s,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,gr(r,r.type,u.value),an(s,r,u.children,o),r.child;case 9:return p=r.type._context,u=r.pendingProps.children,Aa(r),p=rn(p),u=u(p),r.flags|=1,an(s,r,u,o),r.child;case 14:return Cb(s,r,r.type,r.pendingProps,o);case 15:return Rb(s,r,r.type,r.pendingProps,o);case 19:return Ub(s,r,o);case 31:return NC(s,r,o);case 22:return Ib(s,r,o,r.pendingProps);case 24:return Aa(r),u=rn(Mt),s===null?(p=Lm(),p===null&&(p=ct,y=Pm(),p.pooledCache=y,y.refCount++,y!==null&&(p.pooledCacheLanes|=o),p=y),r.memoizedState={parent:u,cache:p},zm(r),gr(r,Mt,p)):((s.lanes&o)!==0&&(Bm(s,r),mc(r,null,null,o),fc()),p=s.memoizedState,y=r.memoizedState,p.parent!==u?(p={parent:u,cache:u},r.memoizedState=p,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=p),gr(r,Mt,u)):(u=y.cache,gr(r,Mt,u),u!==p.cache&&Vm(r,[Mt],o,!0))),an(s,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function ji(s){s.flags|=4}function wp(s,r,o,u,p){if((r=(s.mode&32)!==0)&&(r=!1),r){if(s.flags|=16777216,(p&335544128)===p)if(s.stateNode.complete)s.flags|=8192;else if(f1())s.flags|=8192;else throw Ca=kd,Um}else s.flags&=-16777217}function Bb(s,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!n_(r))if(f1())s.flags|=8192;else throw Ca=kd,Um}function qd(s,r){r!==null&&(s.flags|=4),s.flags&16384&&(r=s.tag!==22?Xu():536870912,s.lanes|=r,Uo|=r)}function bc(s,r){if(!Qe)switch(s.tailMode){case"hidden":r=s.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?s.tail=null:o.sibling=null;break;case"collapsed":o=s.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||s.tail===null?s.tail=null:s.tail.sibling=null:u.sibling=null}}function ft(s){var r=s.alternate!==null&&s.alternate.child===s.child,o=0,u=0;if(r)for(var p=s.child;p!==null;)o|=p.lanes|p.childLanes,u|=p.subtreeFlags&65011712,u|=p.flags&65011712,p.return=s,p=p.sibling;else for(p=s.child;p!==null;)o|=p.lanes|p.childLanes,u|=p.subtreeFlags,u|=p.flags,p.return=s,p=p.sibling;return s.subtreeFlags|=u,s.childLanes=o,r}function RC(s,r,o){var u=r.pendingProps;switch(Rm(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(r),null;case 1:return ft(r),null;case 3:return o=r.stateNode,u=null,s!==null&&(u=s.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),Ni(Mt),De(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(s===null||s.child===null)&&(Ao(r)?ji(r):s===null||s.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,jm())),ft(r),null;case 26:var p=r.type,y=r.memoizedState;return s===null?(ji(r),y!==null?(ft(r),Bb(r,y)):(ft(r),wp(r,p,null,u,o))):y?y!==s.memoizedState?(ji(r),ft(r),Bb(r,y)):(ft(r),r.flags&=-16777217):(s=s.memoizedProps,s!==u&&ji(r),ft(r),wp(r,p,s,u,o)),null;case 27:if(en(r),o=Ie.current,p=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==u&&ji(r);else{if(!u){if(r.stateNode===null)throw Error(i(166));return ft(r),null}s=he.current,Ao(r)?bx(r):(s=Y1(p,u,o),r.stateNode=s,ji(r))}return ft(r),null;case 5:if(en(r),p=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==u&&ji(r);else{if(!u){if(r.stateNode===null)throw Error(i(166));return ft(r),null}if(y=he.current,Ao(r))bx(r);else{var w=rh(Ie.current);switch(y){case 1:y=w.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:y=w.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":y=w.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":y=w.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":y=w.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof u.is=="string"?w.createElement("select",{is:u.is}):w.createElement("select"),u.multiple?y.multiple=!0:u.size&&(y.size=u.size);break;default:y=typeof u.is=="string"?w.createElement(p,{is:u.is}):w.createElement(p)}}y[It]=r,y[Qt]=u;e:for(w=r.child;w!==null;){if(w.tag===5||w.tag===6)y.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===r)break e;for(;w.sibling===null;){if(w.return===null||w.return===r)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}r.stateNode=y;e:switch(on(y,p,u),p){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&ji(r)}}return ft(r),wp(r,r.type,s===null?null:s.memoizedProps,r.pendingProps,o),null;case 6:if(s&&r.stateNode!=null)s.memoizedProps!==u&&ji(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(i(166));if(s=Ie.current,Ao(r)){if(s=r.stateNode,o=r.memoizedProps,u=null,p=sn,p!==null)switch(p.tag){case 27:case 5:u=p.memoizedProps}s[It]=r,s=!!(s.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||O1(s.nodeValue,o)),s||pr(r,!0)}else s=rh(s).createTextNode(u),s[It]=r,r.stateNode=s}return ft(r),null;case 31:if(o=r.memoizedState,s===null||s.memoizedState!==null){if(u=Ao(r),o!==null){if(s===null){if(!u)throw Error(i(318));if(s=r.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(557));s[It]=r}else Ea(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ft(r),s=!1}else o=jm(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=o),s=!0;if(!s)return r.flags&256?(zn(r),r):(zn(r),null);if((r.flags&128)!==0)throw Error(i(558))}return ft(r),null;case 13:if(u=r.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(p=Ao(r),u!==null&&u.dehydrated!==null){if(s===null){if(!p)throw Error(i(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(317));p[It]=r}else Ea(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ft(r),p=!1}else p=jm(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=p),p=!0;if(!p)return r.flags&256?(zn(r),r):(zn(r),null)}return zn(r),(r.flags&128)!==0?(r.lanes=o,r):(o=u!==null,s=s!==null&&s.memoizedState!==null,o&&(u=r.child,p=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(p=u.alternate.memoizedState.cachePool.pool),y=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==p&&(u.flags|=2048)),o!==s&&o&&(r.child.flags|=8192),qd(r,r.updateQueue),ft(r),null);case 4:return De(),s===null&&qp(r.stateNode.containerInfo),ft(r),null;case 10:return Ni(r.type),ft(r),null;case 19:if(ne(At),u=r.memoizedState,u===null)return ft(r),null;if(p=(r.flags&128)!==0,y=u.rendering,y===null)if(p)bc(u,!1);else{if(wt!==0||s!==null&&(s.flags&128)!==0)for(s=r.child;s!==null;){if(y=Id(s),y!==null){for(r.flags|=128,bc(u,!1),s=y.updateQueue,r.updateQueue=s,qd(r,s),r.subtreeFlags=0,s=o,o=r.child;o!==null;)px(o,s),o=o.sibling;return ue(At,At.current&1|2),Qe&&Ai(r,u.treeForkCount),r.child}s=s.sibling}u.tail!==null&&xn()>Qd&&(r.flags|=128,p=!0,bc(u,!1),r.lanes=4194304)}else{if(!p)if(s=Id(y),s!==null){if(r.flags|=128,p=!0,s=s.updateQueue,r.updateQueue=s,qd(r,s),bc(u,!0),u.tail===null&&u.tailMode==="hidden"&&!y.alternate&&!Qe)return ft(r),null}else 2*xn()-u.renderingStartTime>Qd&&o!==536870912&&(r.flags|=128,p=!0,bc(u,!1),r.lanes=4194304);u.isBackwards?(y.sibling=r.child,r.child=y):(s=u.last,s!==null?s.sibling=y:r.child=y,u.last=y)}return u.tail!==null?(s=u.tail,u.rendering=s,u.tail=s.sibling,u.renderingStartTime=xn(),s.sibling=null,o=At.current,ue(At,p?o&1|2:o&1),Qe&&Ai(r,u.treeForkCount),s):(ft(r),null);case 22:case 23:return zn(r),Gm(),u=r.memoizedState!==null,s!==null?s.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(ft(r),r.subtreeFlags&6&&(r.flags|=8192)):ft(r),o=r.updateQueue,o!==null&&qd(r,o.retryQueue),o=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),s!==null&&ne(ka),null;case 24:return o=null,s!==null&&(o=s.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),Ni(Mt),ft(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function IC(s,r){switch(Rm(r),r.tag){case 1:return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 3:return Ni(Mt),De(),s=r.flags,(s&65536)!==0&&(s&128)===0?(r.flags=s&-65537|128,r):null;case 26:case 27:case 5:return en(r),null;case 31:if(r.memoizedState!==null){if(zn(r),r.alternate===null)throw Error(i(340));Ea()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 13:if(zn(r),s=r.memoizedState,s!==null&&s.dehydrated!==null){if(r.alternate===null)throw Error(i(340));Ea()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 19:return ne(At),null;case 4:return De(),null;case 10:return Ni(r.type),null;case 22:case 23:return zn(r),Gm(),s!==null&&ne(ka),s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 24:return Ni(Mt),null;case 25:return null;default:return null}}function Fb(s,r){switch(Rm(r),r.tag){case 3:Ni(Mt),De();break;case 26:case 27:case 5:en(r);break;case 4:De();break;case 31:r.memoizedState!==null&&zn(r);break;case 13:zn(r);break;case 19:ne(At);break;case 10:Ni(r.type);break;case 22:case 23:zn(r),Gm(),s!==null&&ne(ka);break;case 24:Ni(Mt)}}function _c(s,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var p=u.next;o=p;do{if((o.tag&s)===s){u=void 0;var y=o.create,w=o.inst;u=y(),w.destroy=u}o=o.next}while(o!==p)}}catch(A){it(r,r.return,A)}}function wr(s,r,o){try{var u=r.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var y=p.next;u=y;do{if((u.tag&s)===s){var w=u.inst,A=w.destroy;if(A!==void 0){w.destroy=void 0,p=r;var L=o,W=A;try{W()}catch(ie){it(p,L,ie)}}}u=u.next}while(u!==y)}}catch(ie){it(r,r.return,ie)}}function Hb(s){var r=s.updateQueue;if(r!==null){var o=s.stateNode;try{Dx(r,o)}catch(u){it(s,s.return,u)}}}function qb(s,r,o){o.props=ja(s.type,s.memoizedProps),o.state=s.memoizedState;try{o.componentWillUnmount()}catch(u){it(s,r,u)}}function wc(s,r){try{var o=s.ref;if(o!==null){switch(s.tag){case 26:case 27:case 5:var u=s.stateNode;break;case 30:u=s.stateNode;break;default:u=s.stateNode}typeof o=="function"?s.refCleanup=o(u):o.current=u}}catch(p){it(s,r,p)}}function ti(s,r){var o=s.ref,u=s.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(p){it(s,r,p)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(p){it(s,r,p)}else o.current=null}function Gb(s){var r=s.type,o=s.memoizedProps,u=s.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(p){it(s,s.return,p)}}function Tp(s,r,o){try{var u=s.stateNode;ZC(u,s.type,o,r),u[Qt]=r}catch(p){it(s,s.return,p)}}function $b(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Cr(s.type)||s.tag===4}function Ep(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||$b(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Cr(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Sp(s,r,o){var u=s.tag;if(u===5||u===6)s=s.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(s,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(s),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=ys));else if(u!==4&&(u===27&&Cr(s.type)&&(o=s.stateNode,r=null),s=s.child,s!==null))for(Sp(s,r,o),s=s.sibling;s!==null;)Sp(s,r,o),s=s.sibling}function Gd(s,r,o){var u=s.tag;if(u===5||u===6)s=s.stateNode,r?o.insertBefore(s,r):o.appendChild(s);else if(u!==4&&(u===27&&Cr(s.type)&&(o=s.stateNode),s=s.child,s!==null))for(Gd(s,r,o),s=s.sibling;s!==null;)Gd(s,r,o),s=s.sibling}function Kb(s){var r=s.stateNode,o=s.memoizedProps;try{for(var u=s.type,p=r.attributes;p.length;)r.removeAttributeNode(p[0]);on(r,u,o),r[It]=s,r[Qt]=o}catch(y){it(s,s.return,y)}}var Di=!1,Ot=!1,Ap=!1,Yb=typeof WeakSet=="function"?WeakSet:Set,Wt=null;function jC(s,r){if(s=s.containerInfo,Kp=hh,s=ax(s),xm(s)){if("selectionStart"in s)var o={start:s.selectionStart,end:s.selectionEnd};else e:{o=(o=s.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var p=u.anchorOffset,y=u.focusNode;u=u.focusOffset;try{o.nodeType,y.nodeType}catch{o=null;break e}var w=0,A=-1,L=-1,W=0,ie=0,oe=s,Z=null;t:for(;;){for(var te;oe!==o||p!==0&&oe.nodeType!==3||(A=w+p),oe!==y||u!==0&&oe.nodeType!==3||(L=w+u),oe.nodeType===3&&(w+=oe.nodeValue.length),(te=oe.firstChild)!==null;)Z=oe,oe=te;for(;;){if(oe===s)break t;if(Z===o&&++W===p&&(A=w),Z===y&&++ie===u&&(L=w),(te=oe.nextSibling)!==null)break;oe=Z,Z=oe.parentNode}oe=te}o=A===-1||L===-1?null:{start:A,end:L}}else o=null}o=o||{start:0,end:0}}else o=null;for(Yp={focusedElem:s,selectionRange:o},hh=!1,Wt=r;Wt!==null;)if(r=Wt,s=r.child,(r.subtreeFlags&1028)!==0&&s!==null)s.return=r,Wt=s;else for(;Wt!==null;){switch(r=Wt,y=r.alternate,s=r.flags,r.tag){case 0:if((s&4)!==0&&(s=r.updateQueue,s=s!==null?s.events:null,s!==null))for(o=0;o<s.length;o++)p=s[o],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&y!==null){s=void 0,o=r,p=y.memoizedProps,y=y.memoizedState,u=o.stateNode;try{var xe=ja(o.type,p);s=u.getSnapshotBeforeUpdate(xe,y),u.__reactInternalSnapshotBeforeUpdate=s}catch(Ce){it(o,o.return,Ce)}}break;case 3:if((s&1024)!==0){if(s=r.stateNode.containerInfo,o=s.nodeType,o===9)Wp(s);else if(o===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Wp(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=r.sibling,s!==null){s.return=r.return,Wt=s;break}Wt=r.return}}function Qb(s,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Vi(s,o),u&4&&_c(5,o);break;case 1:if(Vi(s,o),u&4)if(s=o.stateNode,r===null)try{s.componentDidMount()}catch(w){it(o,o.return,w)}else{var p=ja(o.type,r.memoizedProps);r=r.memoizedState;try{s.componentDidUpdate(p,r,s.__reactInternalSnapshotBeforeUpdate)}catch(w){it(o,o.return,w)}}u&64&&Hb(o),u&512&&wc(o,o.return);break;case 3:if(Vi(s,o),u&64&&(s=o.updateQueue,s!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{Dx(s,r)}catch(w){it(o,o.return,w)}}break;case 27:r===null&&u&4&&Kb(o);case 26:case 5:Vi(s,o),r===null&&u&4&&Gb(o),u&512&&wc(o,o.return);break;case 12:Vi(s,o);break;case 31:Vi(s,o),u&4&&Jb(s,o);break;case 13:Vi(s,o),u&4&&Zb(s,o),u&64&&(s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(o=BC.bind(null,o),oR(s,o))));break;case 22:if(u=o.memoizedState!==null||Di,!u){r=r!==null&&r.memoizedState!==null||Ot,p=Di;var y=Ot;Di=u,(Ot=r)&&!y?Pi(s,o,(o.subtreeFlags&8772)!==0):Vi(s,o),Di=p,Ot=y}break;case 30:break;default:Vi(s,o)}}function Xb(s){var r=s.alternate;r!==null&&(s.alternate=null,Xb(r)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(r=s.stateNode,r!==null&&lo(r)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var gt=null,An=!1;function Mi(s,r,o){for(o=o.child;o!==null;)Wb(s,r,o),o=o.sibling}function Wb(s,r,o){if(tn&&typeof tn.onCommitFiberUnmount=="function")try{tn.onCommitFiberUnmount(fs,o)}catch{}switch(o.tag){case 26:Ot||ti(o,r),Mi(s,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Ot||ti(o,r);var u=gt,p=An;Cr(o.type)&&(gt=o.stateNode,An=!1),Mi(s,r,o),Ic(o.stateNode),gt=u,An=p;break;case 5:Ot||ti(o,r);case 6:if(u=gt,p=An,gt=null,Mi(s,r,o),gt=u,An=p,gt!==null)if(An)try{(gt.nodeType===9?gt.body:gt.nodeName==="HTML"?gt.ownerDocument.body:gt).removeChild(o.stateNode)}catch(y){it(o,r,y)}else try{gt.removeChild(o.stateNode)}catch(y){it(o,r,y)}break;case 18:gt!==null&&(An?(s=gt,H1(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,o.stateNode),Ko(s)):H1(gt,o.stateNode));break;case 4:u=gt,p=An,gt=o.stateNode.containerInfo,An=!0,Mi(s,r,o),gt=u,An=p;break;case 0:case 11:case 14:case 15:wr(2,o,r),Ot||wr(4,o,r),Mi(s,r,o);break;case 1:Ot||(ti(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&qb(o,r,u)),Mi(s,r,o);break;case 21:Mi(s,r,o);break;case 22:Ot=(u=Ot)||o.memoizedState!==null,Mi(s,r,o),Ot=u;break;default:Mi(s,r,o)}}function Jb(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Ko(s)}catch(o){it(r,r.return,o)}}}function Zb(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Ko(s)}catch(o){it(r,r.return,o)}}function DC(s){switch(s.tag){case 31:case 13:case 19:var r=s.stateNode;return r===null&&(r=s.stateNode=new Yb),r;case 22:return s=s.stateNode,r=s._retryCache,r===null&&(r=s._retryCache=new Yb),r;default:throw Error(i(435,s.tag))}}function $d(s,r){var o=DC(s);r.forEach(function(u){if(!o.has(u)){o.add(u);var p=FC.bind(null,s,u);u.then(p,p)}})}function kn(s,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var p=o[u],y=s,w=r,A=w;e:for(;A!==null;){switch(A.tag){case 27:if(Cr(A.type)){gt=A.stateNode,An=!1;break e}break;case 5:gt=A.stateNode,An=!1;break e;case 3:case 4:gt=A.stateNode.containerInfo,An=!0;break e}A=A.return}if(gt===null)throw Error(i(160));Wb(y,w,p),gt=null,An=!1,y=p.alternate,y!==null&&(y.return=null),p.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)e1(r,s),r=r.sibling}var Ts=null;function e1(s,r){var o=s.alternate,u=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:kn(r,s),Nn(s),u&4&&(wr(3,s,s.return),_c(3,s),wr(5,s,s.return));break;case 1:kn(r,s),Nn(s),u&512&&(Ot||o===null||ti(o,o.return)),u&64&&Di&&(s=s.updateQueue,s!==null&&(u=s.callbacks,u!==null&&(o=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var p=Ts;if(kn(r,s),Nn(s),u&512&&(Ot||o===null||ti(o,o.return)),u&4){var y=o!==null?o.memoizedState:null;if(u=s.memoizedState,o===null)if(u===null)if(s.stateNode===null){e:{u=s.type,o=s.memoizedProps,p=p.ownerDocument||p;t:switch(u){case"title":y=p.getElementsByTagName("title")[0],(!y||y[Bs]||y[It]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=p.createElement(u),p.head.insertBefore(y,p.querySelector("head > title"))),on(y,u,o),y[It]=s,jt(y),u=y;break e;case"link":var w=e_("link","href",p).get(u+(o.href||""));if(w){for(var A=0;A<w.length;A++)if(y=w[A],y.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&y.getAttribute("rel")===(o.rel==null?null:o.rel)&&y.getAttribute("title")===(o.title==null?null:o.title)&&y.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){w.splice(A,1);break t}}y=p.createElement(u),on(y,u,o),p.head.appendChild(y);break;case"meta":if(w=e_("meta","content",p).get(u+(o.content||""))){for(A=0;A<w.length;A++)if(y=w[A],y.getAttribute("content")===(o.content==null?null:""+o.content)&&y.getAttribute("name")===(o.name==null?null:o.name)&&y.getAttribute("property")===(o.property==null?null:o.property)&&y.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&y.getAttribute("charset")===(o.charSet==null?null:o.charSet)){w.splice(A,1);break t}}y=p.createElement(u),on(y,u,o),p.head.appendChild(y);break;default:throw Error(i(468,u))}y[It]=s,jt(y),u=y}s.stateNode=u}else t_(p,s.type,s.stateNode);else s.stateNode=Z1(p,u,s.memoizedProps);else y!==u?(y===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):y.count--,u===null?t_(p,s.type,s.stateNode):Z1(p,u,s.memoizedProps)):u===null&&s.stateNode!==null&&Tp(s,s.memoizedProps,o.memoizedProps)}break;case 27:kn(r,s),Nn(s),u&512&&(Ot||o===null||ti(o,o.return)),o!==null&&u&4&&Tp(s,s.memoizedProps,o.memoizedProps);break;case 5:if(kn(r,s),Nn(s),u&512&&(Ot||o===null||ti(o,o.return)),s.flags&32){p=s.stateNode;try{Sn(p,"")}catch(xe){it(s,s.return,xe)}}u&4&&s.stateNode!=null&&(p=s.memoizedProps,Tp(s,p,o!==null?o.memoizedProps:p)),u&1024&&(Ap=!0);break;case 6:if(kn(r,s),Nn(s),u&4){if(s.stateNode===null)throw Error(i(162));u=s.memoizedProps,o=s.stateNode;try{o.nodeValue=u}catch(xe){it(s,s.return,xe)}}break;case 3:if(lh=null,p=Ts,Ts=ah(r.containerInfo),kn(r,s),Ts=p,Nn(s),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Ko(r.containerInfo)}catch(xe){it(s,s.return,xe)}Ap&&(Ap=!1,t1(s));break;case 4:u=Ts,Ts=ah(s.stateNode.containerInfo),kn(r,s),Nn(s),Ts=u;break;case 12:kn(r,s),Nn(s);break;case 31:kn(r,s),Nn(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,$d(s,u)));break;case 13:kn(r,s),Nn(s),s.child.flags&8192&&s.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Yd=xn()),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,$d(s,u)));break;case 22:p=s.memoizedState!==null;var L=o!==null&&o.memoizedState!==null,W=Di,ie=Ot;if(Di=W||p,Ot=ie||L,kn(r,s),Ot=ie,Di=W,Nn(s),u&8192)e:for(r=s.stateNode,r._visibility=p?r._visibility&-2:r._visibility|1,p&&(o===null||L||Di||Ot||Da(s)),o=null,r=s;;){if(r.tag===5||r.tag===26){if(o===null){L=o=r;try{if(y=L.stateNode,p)w=y.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{A=L.stateNode;var oe=L.memoizedProps.style,Z=oe!=null&&oe.hasOwnProperty("display")?oe.display:null;A.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(xe){it(L,L.return,xe)}}}else if(r.tag===6){if(o===null){L=r;try{L.stateNode.nodeValue=p?"":L.memoizedProps}catch(xe){it(L,L.return,xe)}}}else if(r.tag===18){if(o===null){L=r;try{var te=L.stateNode;p?q1(te,!0):q1(L.stateNode,!1)}catch(xe){it(L,L.return,xe)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===s)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=s.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,$d(s,o))));break;case 19:kn(r,s),Nn(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,$d(s,u)));break;case 30:break;case 21:break;default:kn(r,s),Nn(s)}}function Nn(s){var r=s.flags;if(r&2){try{for(var o,u=s.return;u!==null;){if($b(u)){o=u;break}u=u.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var p=o.stateNode,y=Ep(s);Gd(s,y,p);break;case 5:var w=o.stateNode;o.flags&32&&(Sn(w,""),o.flags&=-33);var A=Ep(s);Gd(s,A,w);break;case 3:case 4:var L=o.stateNode.containerInfo,W=Ep(s);Sp(s,W,L);break;default:throw Error(i(161))}}catch(ie){it(s,s.return,ie)}s.flags&=-3}r&4096&&(s.flags&=-4097)}function t1(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var r=s;t1(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),s=s.sibling}}function Vi(s,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Qb(s,r.alternate,r),r=r.sibling}function Da(s){for(s=s.child;s!==null;){var r=s;switch(r.tag){case 0:case 11:case 14:case 15:wr(4,r,r.return),Da(r);break;case 1:ti(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&qb(r,r.return,o),Da(r);break;case 27:Ic(r.stateNode);case 26:case 5:ti(r,r.return),Da(r);break;case 22:r.memoizedState===null&&Da(r);break;case 30:Da(r);break;default:Da(r)}s=s.sibling}}function Pi(s,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,p=s,y=r,w=y.flags;switch(y.tag){case 0:case 11:case 15:Pi(p,y,o),_c(4,y);break;case 1:if(Pi(p,y,o),u=y,p=u.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(W){it(u,u.return,W)}if(u=y,p=u.updateQueue,p!==null){var A=u.stateNode;try{var L=p.shared.hiddenCallbacks;if(L!==null)for(p.shared.hiddenCallbacks=null,p=0;p<L.length;p++)jx(L[p],A)}catch(W){it(u,u.return,W)}}o&&w&64&&Hb(y),wc(y,y.return);break;case 27:Kb(y);case 26:case 5:Pi(p,y,o),o&&u===null&&w&4&&Gb(y),wc(y,y.return);break;case 12:Pi(p,y,o);break;case 31:Pi(p,y,o),o&&w&4&&Jb(p,y);break;case 13:Pi(p,y,o),o&&w&4&&Zb(p,y);break;case 22:y.memoizedState===null&&Pi(p,y,o),wc(y,y.return);break;case 30:break;default:Pi(p,y,o)}r=r.sibling}}function kp(s,r){var o=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),s=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==o&&(s!=null&&s.refCount++,o!=null&&lc(o))}function Np(s,r){s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&lc(s))}function Es(s,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)n1(s,r,o,u),r=r.sibling}function n1(s,r,o,u){var p=r.flags;switch(r.tag){case 0:case 11:case 15:Es(s,r,o,u),p&2048&&_c(9,r);break;case 1:Es(s,r,o,u);break;case 3:Es(s,r,o,u),p&2048&&(s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&lc(s)));break;case 12:if(p&2048){Es(s,r,o,u),s=r.stateNode;try{var y=r.memoizedProps,w=y.id,A=y.onPostCommit;typeof A=="function"&&A(w,r.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(L){it(r,r.return,L)}}else Es(s,r,o,u);break;case 31:Es(s,r,o,u);break;case 13:Es(s,r,o,u);break;case 23:break;case 22:y=r.stateNode,w=r.alternate,r.memoizedState!==null?y._visibility&2?Es(s,r,o,u):Tc(s,r):y._visibility&2?Es(s,r,o,u):(y._visibility|=2,Po(s,r,o,u,(r.subtreeFlags&10256)!==0||!1)),p&2048&&kp(w,r);break;case 24:Es(s,r,o,u),p&2048&&Np(r.alternate,r);break;default:Es(s,r,o,u)}}function Po(s,r,o,u,p){for(p=p&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var y=s,w=r,A=o,L=u,W=w.flags;switch(w.tag){case 0:case 11:case 15:Po(y,w,A,L,p),_c(8,w);break;case 23:break;case 22:var ie=w.stateNode;w.memoizedState!==null?ie._visibility&2?Po(y,w,A,L,p):Tc(y,w):(ie._visibility|=2,Po(y,w,A,L,p)),p&&W&2048&&kp(w.alternate,w);break;case 24:Po(y,w,A,L,p),p&&W&2048&&Np(w.alternate,w);break;default:Po(y,w,A,L,p)}r=r.sibling}}function Tc(s,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=s,u=r,p=u.flags;switch(u.tag){case 22:Tc(o,u),p&2048&&kp(u.alternate,u);break;case 24:Tc(o,u),p&2048&&Np(u.alternate,u);break;default:Tc(o,u)}r=r.sibling}}var Ec=8192;function Oo(s,r,o){if(s.subtreeFlags&Ec)for(s=s.child;s!==null;)s1(s,r,o),s=s.sibling}function s1(s,r,o){switch(s.tag){case 26:Oo(s,r,o),s.flags&Ec&&s.memoizedState!==null&&xR(o,Ts,s.memoizedState,s.memoizedProps);break;case 5:Oo(s,r,o);break;case 3:case 4:var u=Ts;Ts=ah(s.stateNode.containerInfo),Oo(s,r,o),Ts=u;break;case 22:s.memoizedState===null&&(u=s.alternate,u!==null&&u.memoizedState!==null?(u=Ec,Ec=16777216,Oo(s,r,o),Ec=u):Oo(s,r,o));break;default:Oo(s,r,o)}}function i1(s){var r=s.alternate;if(r!==null&&(s=r.child,s!==null)){r.child=null;do r=s.sibling,s.sibling=null,s=r;while(s!==null)}}function Sc(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Wt=u,a1(u,s)}i1(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)r1(s),s=s.sibling}function r1(s){switch(s.tag){case 0:case 11:case 15:Sc(s),s.flags&2048&&wr(9,s,s.return);break;case 3:Sc(s);break;case 12:Sc(s);break;case 22:var r=s.stateNode;s.memoizedState!==null&&r._visibility&2&&(s.return===null||s.return.tag!==13)?(r._visibility&=-3,Kd(s)):Sc(s);break;default:Sc(s)}}function Kd(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Wt=u,a1(u,s)}i1(s)}for(s=s.child;s!==null;){switch(r=s,r.tag){case 0:case 11:case 15:wr(8,r,r.return),Kd(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,Kd(r));break;default:Kd(r)}s=s.sibling}}function a1(s,r){for(;Wt!==null;){var o=Wt;switch(o.tag){case 0:case 11:case 15:wr(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:lc(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Wt=u;else e:for(o=s;Wt!==null;){u=Wt;var p=u.sibling,y=u.return;if(Xb(u),u===o){Wt=null;break e}if(p!==null){p.return=y,Wt=p;break e}Wt=y}}}var MC={getCacheForType:function(s){var r=rn(Mt),o=r.data.get(s);return o===void 0&&(o=s(),r.data.set(s,o)),o},cacheSignal:function(){return rn(Mt).controller.signal}},VC=typeof WeakMap=="function"?WeakMap:Map,et=0,ct=null,Fe=null,qe=0,st=0,Bn=null,Tr=!1,Lo=!1,Cp=!1,Oi=0,wt=0,Er=0,Ma=0,Rp=0,Fn=0,Uo=0,Ac=null,Cn=null,Ip=!1,Yd=0,o1=0,Qd=1/0,Xd=null,Sr=null,Gt=0,Ar=null,zo=null,Li=0,jp=0,Dp=null,l1=null,kc=0,Mp=null;function Hn(){return(et&2)!==0&&qe!==0?qe&-qe:O.T!==null?zp():Wu()}function c1(){if(Fn===0)if((qe&536870912)===0||Qe){var s=oa;oa<<=1,(oa&3932160)===0&&(oa=262144),Fn=s}else Fn=536870912;return s=Un.current,s!==null&&(s.flags|=32),Fn}function Rn(s,r,o){(s===ct&&(st===2||st===9)||s.cancelPendingCommit!==null)&&(Bo(s,0),kr(s,qe,Fn,!1)),la(s,o),((et&2)===0||s!==ct)&&(s===ct&&((et&2)===0&&(Ma|=o),wt===4&&kr(s,qe,Fn,!1)),ni(s))}function u1(s,r,o){if((et&6)!==0)throw Error(i(327));var u=!o&&(r&127)===0&&(r&s.expiredLanes)===0||ms(s,r),p=u?LC(s,r):Pp(s,r,!0),y=u;do{if(p===0){Lo&&!u&&kr(s,r,0,!1);break}else{if(o=s.current.alternate,y&&!PC(o)){p=Pp(s,r,!1),y=!1;continue}if(p===2){if(y=r,s.errorRecoveryDisabledLanes&y)var w=0;else w=s.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){r=w;e:{var A=s;p=Ac;var L=A.current.memoizedState.isDehydrated;if(L&&(Bo(A,w).flags|=256),w=Pp(A,w,!1),w!==2){if(Cp&&!L){A.errorRecoveryDisabledLanes|=y,Ma|=y,p=4;break e}y=Cn,Cn=p,y!==null&&(Cn===null?Cn=y:Cn.push.apply(Cn,y))}p=w}if(y=!1,p!==2)continue}}if(p===1){Bo(s,0),kr(s,r,0,!0);break}e:{switch(u=s,y=p,y){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:kr(u,r,Fn,!Tr);break e;case 2:Cn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(p=Yd+300-xn(),10<p)){if(kr(u,r,Fn,!Tr),Ls(u,0,!0)!==0)break e;Li=r,u.timeoutHandle=B1(d1.bind(null,u,o,Cn,Xd,Ip,r,Fn,Ma,Uo,Tr,y,"Throttled",-0,0),p);break e}d1(u,o,Cn,Xd,Ip,r,Fn,Ma,Uo,Tr,y,null,-0,0)}}break}while(!0);ni(s)}function d1(s,r,o,u,p,y,w,A,L,W,ie,oe,Z,te){if(s.timeoutHandle=-1,oe=r.subtreeFlags,oe&8192||(oe&16785408)===16785408){oe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ys},s1(r,y,oe);var xe=(y&62914560)===y?Yd-xn():(y&4194048)===y?o1-xn():0;if(xe=bR(oe,xe),xe!==null){Li=y,s.cancelPendingCommit=xe(x1.bind(null,s,r,y,o,u,p,w,A,L,ie,oe,null,Z,te)),kr(s,y,w,!W);return}}x1(s,r,y,o,u,p,w,A,L)}function PC(s){for(var r=s;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var p=o[u],y=p.getSnapshot;p=p.value;try{if(!On(y(),p))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function kr(s,r,o,u){r&=~Rp,r&=~Ma,s.suspendedLanes|=r,s.pingedLanes&=~r,u&&(s.warmLanes|=r),u=s.expirationTimes;for(var p=r;0<p;){var y=31-Et(p),w=1<<y;u[y]=-1,p&=~w}o!==0&&ca(s,o,r)}function Wd(){return(et&6)===0?(Nc(0),!1):!0}function Vp(){if(Fe!==null){if(st===0)var s=Fe.return;else s=Fe,ki=Sa=null,Wm(s),Io=null,uc=0,s=Fe;for(;s!==null;)Fb(s.alternate,s),s=s.return;Fe=null}}function Bo(s,r){var o=s.timeoutHandle;o!==-1&&(s.timeoutHandle=-1,nR(o)),o=s.cancelPendingCommit,o!==null&&(s.cancelPendingCommit=null,o()),Li=0,Vp(),ct=s,Fe=o=Si(s.current,null),qe=r,st=0,Bn=null,Tr=!1,Lo=ms(s,r),Cp=!1,Uo=Fn=Rp=Ma=Er=wt=0,Cn=Ac=null,Ip=!1,(r&8)!==0&&(r|=r&32);var u=s.entangledLanes;if(u!==0)for(s=s.entanglements,u&=r;0<u;){var p=31-Et(u),y=1<<p;r|=s[p],u&=~y}return Oi=r,vd(),o}function h1(s,r){Le=null,O.H=vc,r===Ro||r===Ad?(r=Nx(),st=3):r===Um?(r=Nx(),st=4):st=r===fp?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Bn=r,Fe===null&&(wt=1,zd(s,Jn(r,s.current)))}function f1(){var s=Un.current;return s===null?!0:(qe&4194048)===qe?ns===null:(qe&62914560)===qe||(qe&536870912)!==0?s===ns:!1}function m1(){var s=O.H;return O.H=vc,s===null?vc:s}function p1(){var s=O.A;return O.A=MC,s}function Jd(){wt=4,Tr||(qe&4194048)!==qe&&Un.current!==null||(Lo=!0),(Er&134217727)===0&&(Ma&134217727)===0||ct===null||kr(ct,qe,Fn,!1)}function Pp(s,r,o){var u=et;et|=2;var p=m1(),y=p1();(ct!==s||qe!==r)&&(Xd=null,Bo(s,r)),r=!1;var w=wt;e:do try{if(st!==0&&Fe!==null){var A=Fe,L=Bn;switch(st){case 8:Vp(),w=6;break e;case 3:case 2:case 9:case 6:Un.current===null&&(r=!0);var W=st;if(st=0,Bn=null,Fo(s,A,L,W),o&&Lo){w=0;break e}break;default:W=st,st=0,Bn=null,Fo(s,A,L,W)}}OC(),w=wt;break}catch(ie){h1(s,ie)}while(!0);return r&&s.shellSuspendCounter++,ki=Sa=null,et=u,O.H=p,O.A=y,Fe===null&&(ct=null,qe=0,vd()),w}function OC(){for(;Fe!==null;)g1(Fe)}function LC(s,r){var o=et;et|=2;var u=m1(),p=p1();ct!==s||qe!==r?(Xd=null,Qd=xn()+500,Bo(s,r)):Lo=ms(s,r);e:do try{if(st!==0&&Fe!==null){r=Fe;var y=Bn;t:switch(st){case 1:st=0,Bn=null,Fo(s,r,y,1);break;case 2:case 9:if(Ax(y)){st=0,Bn=null,y1(r);break}r=function(){st!==2&&st!==9||ct!==s||(st=7),ni(s)},y.then(r,r);break e;case 3:st=7;break e;case 4:st=5;break e;case 7:Ax(y)?(st=0,Bn=null,y1(r)):(st=0,Bn=null,Fo(s,r,y,7));break;case 5:var w=null;switch(Fe.tag){case 26:w=Fe.memoizedState;case 5:case 27:var A=Fe;if(w?n_(w):A.stateNode.complete){st=0,Bn=null;var L=A.sibling;if(L!==null)Fe=L;else{var W=A.return;W!==null?(Fe=W,Zd(W)):Fe=null}break t}}st=0,Bn=null,Fo(s,r,y,5);break;case 6:st=0,Bn=null,Fo(s,r,y,6);break;case 8:Vp(),wt=6;break e;default:throw Error(i(462))}}UC();break}catch(ie){h1(s,ie)}while(!0);return ki=Sa=null,O.H=u,O.A=p,et=o,Fe!==null?0:(ct=null,qe=0,vd(),wt)}function UC(){for(;Fe!==null&&!hm();)g1(Fe)}function g1(s){var r=zb(s.alternate,s,Oi);s.memoizedProps=s.pendingProps,r===null?Zd(s):Fe=r}function y1(s){var r=s,o=r.alternate;switch(r.tag){case 15:case 0:r=Mb(o,r,r.pendingProps,r.type,void 0,qe);break;case 11:r=Mb(o,r,r.pendingProps,r.type.render,r.ref,qe);break;case 5:Wm(r);default:Fb(o,r),r=Fe=px(r,Oi),r=zb(o,r,Oi)}s.memoizedProps=s.pendingProps,r===null?Zd(s):Fe=r}function Fo(s,r,o,u){ki=Sa=null,Wm(r),Io=null,uc=0;var p=r.return;try{if(kC(s,p,r,o,qe)){wt=1,zd(s,Jn(o,s.current)),Fe=null;return}}catch(y){if(p!==null)throw Fe=p,y;wt=1,zd(s,Jn(o,s.current)),Fe=null;return}r.flags&32768?(Qe||u===1?s=!0:Lo||(qe&536870912)!==0?s=!1:(Tr=s=!0,(u===2||u===9||u===3||u===6)&&(u=Un.current,u!==null&&u.tag===13&&(u.flags|=16384))),v1(r,s)):Zd(r)}function Zd(s){var r=s;do{if((r.flags&32768)!==0){v1(r,Tr);return}s=r.return;var o=RC(r.alternate,r,Oi);if(o!==null){Fe=o;return}if(r=r.sibling,r!==null){Fe=r;return}Fe=r=s}while(r!==null);wt===0&&(wt=5)}function v1(s,r){do{var o=IC(s.alternate,s);if(o!==null){o.flags&=32767,Fe=o;return}if(o=s.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(s=s.sibling,s!==null)){Fe=s;return}Fe=s=o}while(s!==null);wt=6,Fe=null}function x1(s,r,o,u,p,y,w,A,L){s.cancelPendingCommit=null;do eh();while(Gt!==0);if((et&6)!==0)throw Error(i(327));if(r!==null){if(r===s.current)throw Error(i(177));if(y=r.lanes|r.childLanes,y|=Em,pm(s,o,y,w,A,L),s===ct&&(Fe=ct=null,qe=0),zo=r,Ar=s,Li=o,jp=y,Dp=p,l1=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,HC(sr,function(){return E1(),null})):(s.callbackNode=null,s.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=O.T,O.T=null,p=q.p,q.p=2,w=et,et|=4;try{jC(s,r,o)}finally{et=w,q.p=p,O.T=u}}Gt=1,b1(),_1(),w1()}}function b1(){if(Gt===1){Gt=0;var s=Ar,r=zo,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=O.T,O.T=null;var u=q.p;q.p=2;var p=et;et|=4;try{e1(r,s);var y=Yp,w=ax(s.containerInfo),A=y.focusedElem,L=y.selectionRange;if(w!==A&&A&&A.ownerDocument&&rx(A.ownerDocument.documentElement,A)){if(L!==null&&xm(A)){var W=L.start,ie=L.end;if(ie===void 0&&(ie=W),"selectionStart"in A)A.selectionStart=W,A.selectionEnd=Math.min(ie,A.value.length);else{var oe=A.ownerDocument||document,Z=oe&&oe.defaultView||window;if(Z.getSelection){var te=Z.getSelection(),xe=A.textContent.length,Ce=Math.min(L.start,xe),lt=L.end===void 0?Ce:Math.min(L.end,xe);!te.extend&&Ce>lt&&(w=lt,lt=Ce,Ce=w);var K=ix(A,Ce),B=ix(A,lt);if(K&&B&&(te.rangeCount!==1||te.anchorNode!==K.node||te.anchorOffset!==K.offset||te.focusNode!==B.node||te.focusOffset!==B.offset)){var X=oe.createRange();X.setStart(K.node,K.offset),te.removeAllRanges(),Ce>lt?(te.addRange(X),te.extend(B.node,B.offset)):(X.setEnd(B.node,B.offset),te.addRange(X))}}}}for(oe=[],te=A;te=te.parentNode;)te.nodeType===1&&oe.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<oe.length;A++){var re=oe[A];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}hh=!!Kp,Yp=Kp=null}finally{et=p,q.p=u,O.T=o}}s.current=r,Gt=2}}function _1(){if(Gt===2){Gt=0;var s=Ar,r=zo,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=O.T,O.T=null;var u=q.p;q.p=2;var p=et;et|=4;try{Qb(s,r.alternate,r)}finally{et=p,q.p=u,O.T=o}}Gt=3}}function w1(){if(Gt===4||Gt===3){Gt=0,qu();var s=Ar,r=zo,o=Li,u=l1;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Gt=5:(Gt=0,zo=Ar=null,T1(s,s.pendingLanes));var p=s.pendingLanes;if(p===0&&(Sr=null),_i(o),r=r.stateNode,tn&&typeof tn.onCommitFiberRoot=="function")try{tn.onCommitFiberRoot(fs,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=O.T,p=q.p,q.p=2,O.T=null;try{for(var y=s.onRecoverableError,w=0;w<u.length;w++){var A=u[w];y(A.value,{componentStack:A.stack})}}finally{O.T=r,q.p=p}}(Li&3)!==0&&eh(),ni(s),p=s.pendingLanes,(o&261930)!==0&&(p&42)!==0?s===Mp?kc++:(kc=0,Mp=s):kc=0,Nc(0)}}function T1(s,r){(s.pooledCacheLanes&=r)===0&&(r=s.pooledCache,r!=null&&(s.pooledCache=null,lc(r)))}function eh(){return b1(),_1(),w1(),E1()}function E1(){if(Gt!==5)return!1;var s=Ar,r=jp;jp=0;var o=_i(Li),u=O.T,p=q.p;try{q.p=32>o?32:o,O.T=null,o=Dp,Dp=null;var y=Ar,w=Li;if(Gt=0,zo=Ar=null,Li=0,(et&6)!==0)throw Error(i(331));var A=et;if(et|=4,r1(y.current),n1(y,y.current,w,o),et=A,Nc(0,!1),tn&&typeof tn.onPostCommitFiberRoot=="function")try{tn.onPostCommitFiberRoot(fs,y)}catch{}return!0}finally{q.p=p,O.T=u,T1(s,r)}}function S1(s,r,o){r=Jn(o,r),r=hp(s.stateNode,r,2),s=xr(s,r,2),s!==null&&(la(s,2),ni(s))}function it(s,r,o){if(s.tag===3)S1(s,s,o);else for(;r!==null;){if(r.tag===3){S1(r,s,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Sr===null||!Sr.has(u))){s=Jn(o,s),o=Ab(2),u=xr(r,o,2),u!==null&&(kb(o,u,r,s),la(u,2),ni(u));break}}r=r.return}}function Op(s,r,o){var u=s.pingCache;if(u===null){u=s.pingCache=new VC;var p=new Set;u.set(r,p)}else p=u.get(r),p===void 0&&(p=new Set,u.set(r,p));p.has(o)||(Cp=!0,p.add(o),s=zC.bind(null,s,r,o),r.then(s,s))}function zC(s,r,o){var u=s.pingCache;u!==null&&u.delete(r),s.pingedLanes|=s.suspendedLanes&o,s.warmLanes&=~o,ct===s&&(qe&o)===o&&(wt===4||wt===3&&(qe&62914560)===qe&&300>xn()-Yd?(et&2)===0&&Bo(s,0):Rp|=o,Uo===qe&&(Uo=0)),ni(s)}function A1(s,r){r===0&&(r=Xu()),s=wa(s,r),s!==null&&(la(s,r),ni(s))}function BC(s){var r=s.memoizedState,o=0;r!==null&&(o=r.retryLane),A1(s,o)}function FC(s,r){var o=0;switch(s.tag){case 31:case 13:var u=s.stateNode,p=s.memoizedState;p!==null&&(o=p.retryLane);break;case 19:u=s.stateNode;break;case 22:u=s.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(r),A1(s,o)}function HC(s,r){return qt(s,r)}var th=null,Ho=null,Lp=!1,nh=!1,Up=!1,Nr=0;function ni(s){s!==Ho&&s.next===null&&(Ho===null?th=Ho=s:Ho=Ho.next=s),nh=!0,Lp||(Lp=!0,GC())}function Nc(s,r){if(!Up&&nh){Up=!0;do for(var o=!1,u=th;u!==null;){if(s!==0){var p=u.pendingLanes;if(p===0)var y=0;else{var w=u.suspendedLanes,A=u.pingedLanes;y=(1<<31-Et(42|s)+1)-1,y&=p&~(w&~A),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(o=!0,R1(u,y))}else y=qe,y=Ls(u,u===ct?y:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(y&3)===0||ms(u,y)||(o=!0,R1(u,y));u=u.next}while(o);Up=!1}}function qC(){k1()}function k1(){nh=Lp=!1;var s=0;Nr!==0&&tR()&&(s=Nr);for(var r=xn(),o=null,u=th;u!==null;){var p=u.next,y=N1(u,r);y===0?(u.next=null,o===null?th=p:o.next=p,p===null&&(Ho=o)):(o=u,(s!==0||(y&3)!==0)&&(nh=!0)),u=p}Gt!==0&&Gt!==5||Nc(s),Nr!==0&&(Nr=0)}function N1(s,r){for(var o=s.suspendedLanes,u=s.pingedLanes,p=s.expirationTimes,y=s.pendingLanes&-62914561;0<y;){var w=31-Et(y),A=1<<w,L=p[w];L===-1?((A&o)===0||(A&u)!==0)&&(p[w]=mm(A,r)):L<=r&&(s.expiredLanes|=A),y&=~A}if(r=ct,o=qe,o=Ls(s,s===r?o:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u=s.callbackNode,o===0||s===r&&(st===2||st===9)||s.cancelPendingCommit!==null)return u!==null&&u!==null&&nr(u),s.callbackNode=null,s.callbackPriority=0;if((o&3)===0||ms(s,o)){if(r=o&-o,r===s.callbackPriority)return r;switch(u!==null&&nr(u),_i(o)){case 2:case 8:o=Ll;break;case 32:o=sr;break;case 268435456:o=Gu;break;default:o=sr}return u=C1.bind(null,s),o=qt(o,u),s.callbackPriority=r,s.callbackNode=o,r}return u!==null&&u!==null&&nr(u),s.callbackPriority=2,s.callbackNode=null,2}function C1(s,r){if(Gt!==0&&Gt!==5)return s.callbackNode=null,s.callbackPriority=0,null;var o=s.callbackNode;if(eh()&&s.callbackNode!==o)return null;var u=qe;return u=Ls(s,s===ct?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u===0?null:(u1(s,u,r),N1(s,xn()),s.callbackNode!=null&&s.callbackNode===o?C1.bind(null,s):null)}function R1(s,r){if(eh())return null;u1(s,r,!0)}function GC(){sR(function(){(et&6)!==0?qt(Ol,qC):k1()})}function zp(){if(Nr===0){var s=No;s===0&&(s=Ps,Ps<<=1,(Ps&261888)===0&&(Ps=256)),Nr=s}return Nr}function I1(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:fo(""+s)}function j1(s,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,s.id&&o.setAttribute("form",s.id),r.parentNode.insertBefore(o,r),s=new FormData(s),o.parentNode.removeChild(o),s}function $C(s,r,o,u,p){if(r==="submit"&&o&&o.stateNode===p){var y=I1((p[Qt]||null).action),w=u.submitter;w&&(r=(r=w[Qt]||null)?I1(r.formAction):w.getAttribute("formAction"),r!==null&&(y=r,w=null));var A=new Qs("action","action",null,u,p);s.push({event:A,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Nr!==0){var L=w?j1(p,w):new FormData(p);ap(o,{pending:!0,data:L,method:p.method,action:y},null,L)}}else typeof y=="function"&&(A.preventDefault(),L=w?j1(p,w):new FormData(p),ap(o,{pending:!0,data:L,method:p.method,action:y},y,L))},currentTarget:p}]})}}for(var Bp=0;Bp<Tm.length;Bp++){var Fp=Tm[Bp],KC=Fp.toLowerCase(),YC=Fp[0].toUpperCase()+Fp.slice(1);ws(KC,"on"+YC)}ws(cx,"onAnimationEnd"),ws(ux,"onAnimationIteration"),ws(dx,"onAnimationStart"),ws("dblclick","onDoubleClick"),ws("focusin","onFocus"),ws("focusout","onBlur"),ws(uC,"onTransitionRun"),ws(dC,"onTransitionStart"),ws(hC,"onTransitionCancel"),ws(hx,"onTransitionEnd"),Gs("onMouseEnter",["mouseout","mouseover"]),Gs("onMouseLeave",["mouseout","mouseover"]),Gs("onPointerEnter",["pointerout","pointerover"]),Gs("onPointerLeave",["pointerout","pointerover"]),qs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),qs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),qs("onBeforeInput",["compositionend","keypress","textInput","paste"]),qs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),qs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),qs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),QC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cc));function D1(s,r){r=(r&4)!==0;for(var o=0;o<s.length;o++){var u=s[o],p=u.event;u=u.listeners;e:{var y=void 0;if(r)for(var w=u.length-1;0<=w;w--){var A=u[w],L=A.instance,W=A.currentTarget;if(A=A.listener,L!==y&&p.isPropagationStopped())break e;y=A,p.currentTarget=W;try{y(p)}catch(ie){yd(ie)}p.currentTarget=null,y=L}else for(w=0;w<u.length;w++){if(A=u[w],L=A.instance,W=A.currentTarget,A=A.listener,L!==y&&p.isPropagationStopped())break e;y=A,p.currentTarget=W;try{y(p)}catch(ie){yd(ie)}p.currentTarget=null,y=L}}}}function He(s,r){var o=r[oo];o===void 0&&(o=r[oo]=new Set);var u=s+"__bubble";o.has(u)||(M1(r,s,2,!1),o.add(u))}function Hp(s,r,o){var u=0;r&&(u|=4),M1(o,s,u,r)}var sh="_reactListening"+Math.random().toString(36).slice(2);function qp(s){if(!s[sh]){s[sh]=!0,Bl.forEach(function(o){o!=="selectionchange"&&(QC.has(o)||Hp(o,!1,s),Hp(o,!0,s))});var r=s.nodeType===9?s:s.ownerDocument;r===null||r[sh]||(r[sh]=!0,Hp("selectionchange",!1,r))}}function M1(s,r,o,u){switch(c_(r)){case 2:var p=TR;break;case 8:p=ER;break;default:p=rg}o=p.bind(null,r,o,s),p=void 0,!ma||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(p=!0),u?p!==void 0?s.addEventListener(r,o,{capture:!0,passive:p}):s.addEventListener(r,o,!0):p!==void 0?s.addEventListener(r,o,{passive:p}):s.addEventListener(r,o,!1)}function Gp(s,r,o,u,p){var y=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var w=u.tag;if(w===3||w===4){var A=u.stateNode.containerInfo;if(A===p)break;if(w===4)for(w=u.return;w!==null;){var L=w.tag;if((L===3||L===4)&&w.stateNode.containerInfo===p)return;w=w.return}for(;A!==null;){if(w=Fs(A),w===null)return;if(L=w.tag,L===5||L===6||L===26||L===27){u=y=w;continue e}A=A.parentNode}}u=u.return}cr(function(){var W=y,ie=Yn(o),oe=[];e:{var Z=fx.get(s);if(Z!==void 0){var te=Qs,xe=s;switch(s){case"keypress":if(ga(o)===0)break e;case"keydown":case"keyup":te=md;break;case"focusin":xe="focus",te=va;break;case"focusout":xe="blur",te=va;break;case"beforeblur":case"afterblur":te=va;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=ec;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=rd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=b;break;case cx:case ux:case dx:te=od;break;case hx:te=N;break;case"scroll":case"scrollend":te=Zl;break;case"wheel":te=ee;break;case"copy":case"cut":case"paste":te=ld;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=Ei;break;case"toggle":case"beforetoggle":te=Oe}var Ce=(r&4)!==0,lt=!Ce&&(s==="scroll"||s==="scrollend"),K=Ce?Z!==null?Z+"Capture":null:Z;Ce=[];for(var B=W,X;B!==null;){var re=B;if(X=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||X===null||K===null||(re=vs(B,K),re!=null&&Ce.push(Rc(B,re,X))),lt)break;B=B.return}0<Ce.length&&(Z=new te(Z,xe,null,o,ie),oe.push({event:Z,listeners:Ce}))}}if((r&7)===0){e:{if(Z=s==="mouseover"||s==="pointerover",te=s==="mouseout"||s==="pointerout",Z&&o!==Xl&&(xe=o.relatedTarget||o.fromElement)&&(Fs(xe)||xe[zs]))break e;if((te||Z)&&(Z=ie.window===ie?ie:(Z=ie.ownerDocument)?Z.defaultView||Z.parentWindow:window,te?(xe=o.relatedTarget||o.toElement,te=W,xe=xe?Fs(xe):null,xe!==null&&(lt=l(xe),Ce=xe.tag,xe!==lt||Ce!==5&&Ce!==27&&Ce!==6)&&(xe=null)):(te=null,xe=W),te!==xe)){if(Ce=ec,re="onMouseLeave",K="onMouseEnter",B="mouse",(s==="pointerout"||s==="pointerover")&&(Ce=Ei,re="onPointerLeave",K="onPointerEnter",B="pointer"),lt=te==null?Z:Vn(te),X=xe==null?Z:Vn(xe),Z=new Ce(re,B+"leave",te,o,ie),Z.target=lt,Z.relatedTarget=X,re=null,Fs(ie)===W&&(Ce=new Ce(K,B+"enter",xe,o,ie),Ce.target=X,Ce.relatedTarget=lt,re=Ce),lt=re,te&&xe)t:{for(Ce=XC,K=te,B=xe,X=0,re=K;re;re=Ce(re))X++;re=0;for(var ke=B;ke;ke=Ce(ke))re++;for(;0<X-re;)K=Ce(K),X--;for(;0<re-X;)B=Ce(B),re--;for(;X--;){if(K===B||B!==null&&K===B.alternate){Ce=K;break t}K=Ce(K),B=Ce(B)}Ce=null}else Ce=null;te!==null&&V1(oe,Z,te,Ce,!1),xe!==null&&lt!==null&&V1(oe,lt,xe,Ce,!0)}}e:{if(Z=W?Vn(W):window,te=Z.nodeName&&Z.nodeName.toLowerCase(),te==="select"||te==="input"&&Z.type==="file")var We=Jv;else if(Xv(Z))if(Zv)We=oC;else{We=rC;var Ee=iC}else te=Z.nodeName,!te||te.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?W&&ho(W.elementType)&&(We=Jv):We=aC;if(We&&(We=We(s,W))){Wv(oe,We,o,ie);break e}Ee&&Ee(s,Z,W),s==="focusout"&&W&&Z.type==="number"&&W.memoizedProps.value!=null&&Kl(Z,"number",Z.value)}switch(Ee=W?Vn(W):window,s){case"focusin":(Xv(Ee)||Ee.contentEditable==="true")&&(bo=Ee,bm=W,rc=null);break;case"focusout":rc=bm=bo=null;break;case"mousedown":_m=!0;break;case"contextmenu":case"mouseup":case"dragend":_m=!1,ox(oe,o,ie);break;case"selectionchange":if(cC)break;case"keydown":case"keyup":ox(oe,o,ie)}var Ue;if(Ze)e:{switch(s){case"compositionstart":var Ge="onCompositionStart";break e;case"compositionend":Ge="onCompositionEnd";break e;case"compositionupdate":Ge="onCompositionUpdate";break e}Ge=void 0}else xo?xa(s,o)&&(Ge="onCompositionEnd"):s==="keydown"&&o.keyCode===229&&(Ge="onCompositionStart");Ge&&(Js&&o.locale!=="ko"&&(xo||Ge!=="onCompositionStart"?Ge==="onCompositionEnd"&&xo&&(Ue=Jl()):(Ys=ie,Wl="value"in Ys?Ys.value:Ys.textContent,xo=!0)),Ee=ih(W,Ge),0<Ee.length&&(Ge=new Ws(Ge,s,null,o,ie),oe.push({event:Ge,listeners:Ee}),Ue?Ge.data=Ue:(Ue=vo(o),Ue!==null&&(Ge.data=Ue)))),(Ue=Xn?eC(s,o):tC(s,o))&&(Ge=ih(W,"onBeforeInput"),0<Ge.length&&(Ee=new Ws("onBeforeInput","beforeinput",null,o,ie),oe.push({event:Ee,listeners:Ge}),Ee.data=Ue)),$C(oe,s,W,o,ie)}D1(oe,r)})}function Rc(s,r,o){return{instance:s,listener:r,currentTarget:o}}function ih(s,r){for(var o=r+"Capture",u=[];s!==null;){var p=s,y=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||y===null||(p=vs(s,o),p!=null&&u.unshift(Rc(s,p,y)),p=vs(s,r),p!=null&&u.push(Rc(s,p,y))),s.tag===3)return u;s=s.return}return[]}function XC(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function V1(s,r,o,u,p){for(var y=r._reactName,w=[];o!==null&&o!==u;){var A=o,L=A.alternate,W=A.stateNode;if(A=A.tag,L!==null&&L===u)break;A!==5&&A!==26&&A!==27||W===null||(L=W,p?(W=vs(o,y),W!=null&&w.unshift(Rc(o,W,L))):p||(W=vs(o,y),W!=null&&w.push(Rc(o,W,L)))),o=o.return}w.length!==0&&s.push({event:r,listeners:w})}var WC=/\r\n?/g,JC=/\u0000|\uFFFD/g;function P1(s){return(typeof s=="string"?s:""+s).replace(WC,`
`).replace(JC,"")}function O1(s,r){return r=P1(r),P1(s)===r}function ot(s,r,o,u,p,y){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||Sn(s,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&Sn(s,""+u);break;case"className":Pn(s,"class",u);break;case"tabIndex":Pn(s,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Pn(s,o,u);break;case"style":Ql(s,u,y);break;case"data":if(r!=="object"){Pn(s,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){s.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(o);break}u=fo(""+u),s.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){s.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(o==="formAction"?(r!=="input"&&ot(s,r,"name",p.name,p,null),ot(s,r,"formEncType",p.formEncType,p,null),ot(s,r,"formMethod",p.formMethod,p,null),ot(s,r,"formTarget",p.formTarget,p,null)):(ot(s,r,"encType",p.encType,p,null),ot(s,r,"method",p.method,p,null),ot(s,r,"target",p.target,p,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(o);break}u=fo(""+u),s.setAttribute(o,u);break;case"onClick":u!=null&&(s.onclick=ys);break;case"onScroll":u!=null&&He("scroll",s);break;case"onScrollEnd":u!=null&&He("scrollend",s);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(p.children!=null)throw Error(i(60));s.innerHTML=o}}break;case"multiple":s.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":s.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){s.removeAttribute("xlink:href");break}o=fo(""+u),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(o,""+u):s.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(o,""):s.removeAttribute(o);break;case"capture":case"download":u===!0?s.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(o,u):s.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?s.setAttribute(o,u):s.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?s.removeAttribute(o):s.setAttribute(o,u);break;case"popover":He("beforetoggle",s),He("toggle",s),co(s,"popover",u);break;case"xlinkActuate":Dt(s,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Dt(s,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Dt(s,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Dt(s,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Dt(s,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Dt(s,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Dt(s,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Dt(s,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Dt(s,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":co(s,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=id.get(o)||o,co(s,o,u))}}function $p(s,r,o,u,p,y){switch(o){case"style":Ql(s,u,y);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(p.children!=null)throw Error(i(60));s.innerHTML=o}}break;case"children":typeof u=="string"?Sn(s,u):(typeof u=="number"||typeof u=="bigint")&&Sn(s,""+u);break;case"onScroll":u!=null&&He("scroll",s);break;case"onScrollEnd":u!=null&&He("scrollend",s);break;case"onClick":u!=null&&(s.onclick=ys);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fl.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(p=o.endsWith("Capture"),r=o.slice(2,p?o.length-7:void 0),y=s[Qt]||null,y=y!=null?y[o]:null,typeof y=="function"&&s.removeEventListener(r,y,p),typeof u=="function")){typeof y!="function"&&y!==null&&(o in s?s[o]=null:s.hasAttribute(o)&&s.removeAttribute(o)),s.addEventListener(r,u,p);break e}o in s?s[o]=u:u===!0?s.setAttribute(o,""):co(s,o,u)}}}function on(s,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":He("error",s),He("load",s);var u=!1,p=!1,y;for(y in o)if(o.hasOwnProperty(y)){var w=o[y];if(w!=null)switch(y){case"src":u=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:ot(s,r,y,w,o,null)}}p&&ot(s,r,"srcSet",o.srcSet,o,null),u&&ot(s,r,"src",o.src,o,null);return;case"input":He("invalid",s);var A=y=w=p=null,L=null,W=null;for(u in o)if(o.hasOwnProperty(u)){var ie=o[u];if(ie!=null)switch(u){case"name":p=ie;break;case"type":w=ie;break;case"checked":L=ie;break;case"defaultChecked":W=ie;break;case"value":y=ie;break;case"defaultValue":A=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(i(137,r));break;default:ot(s,r,u,ie,o,null)}}td(s,y,A,L,W,w,p,!1);return;case"select":He("invalid",s),u=w=y=null;for(p in o)if(o.hasOwnProperty(p)&&(A=o[p],A!=null))switch(p){case"value":y=A;break;case"defaultValue":w=A;break;case"multiple":u=A;default:ot(s,r,p,A,o,null)}r=y,o=w,s.multiple=!!u,r!=null?rr(s,!!u,r,!1):o!=null&&rr(s,!!u,o,!0);return;case"textarea":He("invalid",s),y=p=u=null;for(w in o)if(o.hasOwnProperty(w)&&(A=o[w],A!=null))switch(w){case"value":u=A;break;case"defaultValue":p=A;break;case"children":y=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(i(91));break;default:ot(s,r,w,A,o,null)}ar(s,u,p,y);return;case"option":for(L in o)o.hasOwnProperty(L)&&(u=o[L],u!=null)&&(L==="selected"?s.selected=u&&typeof u!="function"&&typeof u!="symbol":ot(s,r,L,u,o,null));return;case"dialog":He("beforetoggle",s),He("toggle",s),He("cancel",s),He("close",s);break;case"iframe":case"object":He("load",s);break;case"video":case"audio":for(u=0;u<Cc.length;u++)He(Cc[u],s);break;case"image":He("error",s),He("load",s);break;case"details":He("toggle",s);break;case"embed":case"source":case"link":He("error",s),He("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(W in o)if(o.hasOwnProperty(W)&&(u=o[W],u!=null))switch(W){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:ot(s,r,W,u,o,null)}return;default:if(ho(r)){for(ie in o)o.hasOwnProperty(ie)&&(u=o[ie],u!==void 0&&$p(s,r,ie,u,o,void 0));return}}for(A in o)o.hasOwnProperty(A)&&(u=o[A],u!=null&&ot(s,r,A,u,o,null))}function ZC(s,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,y=null,w=null,A=null,L=null,W=null,ie=null;for(te in o){var oe=o[te];if(o.hasOwnProperty(te)&&oe!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":L=oe;default:u.hasOwnProperty(te)||ot(s,r,te,null,u,oe)}}for(var Z in u){var te=u[Z];if(oe=o[Z],u.hasOwnProperty(Z)&&(te!=null||oe!=null))switch(Z){case"type":y=te;break;case"name":p=te;break;case"checked":W=te;break;case"defaultChecked":ie=te;break;case"value":w=te;break;case"defaultValue":A=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(i(137,r));break;default:te!==oe&&ot(s,r,Z,te,u,oe)}}uo(s,w,A,L,W,ie,y,p);return;case"select":te=w=A=Z=null;for(y in o)if(L=o[y],o.hasOwnProperty(y)&&L!=null)switch(y){case"value":break;case"multiple":te=L;default:u.hasOwnProperty(y)||ot(s,r,y,null,u,L)}for(p in u)if(y=u[p],L=o[p],u.hasOwnProperty(p)&&(y!=null||L!=null))switch(p){case"value":Z=y;break;case"defaultValue":A=y;break;case"multiple":w=y;default:y!==L&&ot(s,r,p,y,u,L)}r=A,o=w,u=te,Z!=null?rr(s,!!o,Z,!1):!!u!=!!o&&(r!=null?rr(s,!!o,r,!0):rr(s,!!o,o?[]:"",!1));return;case"textarea":te=Z=null;for(A in o)if(p=o[A],o.hasOwnProperty(A)&&p!=null&&!u.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:ot(s,r,A,null,u,p)}for(w in u)if(p=u[w],y=o[w],u.hasOwnProperty(w)&&(p!=null||y!=null))switch(w){case"value":Z=p;break;case"defaultValue":te=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(i(91));break;default:p!==y&&ot(s,r,w,p,u,y)}nd(s,Z,te);return;case"option":for(var xe in o)Z=o[xe],o.hasOwnProperty(xe)&&Z!=null&&!u.hasOwnProperty(xe)&&(xe==="selected"?s.selected=!1:ot(s,r,xe,null,u,Z));for(L in u)Z=u[L],te=o[L],u.hasOwnProperty(L)&&Z!==te&&(Z!=null||te!=null)&&(L==="selected"?s.selected=Z&&typeof Z!="function"&&typeof Z!="symbol":ot(s,r,L,Z,u,te));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ce in o)Z=o[Ce],o.hasOwnProperty(Ce)&&Z!=null&&!u.hasOwnProperty(Ce)&&ot(s,r,Ce,null,u,Z);for(W in u)if(Z=u[W],te=o[W],u.hasOwnProperty(W)&&Z!==te&&(Z!=null||te!=null))switch(W){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,r));break;default:ot(s,r,W,Z,u,te)}return;default:if(ho(r)){for(var lt in o)Z=o[lt],o.hasOwnProperty(lt)&&Z!==void 0&&!u.hasOwnProperty(lt)&&$p(s,r,lt,void 0,u,Z);for(ie in u)Z=u[ie],te=o[ie],!u.hasOwnProperty(ie)||Z===te||Z===void 0&&te===void 0||$p(s,r,ie,Z,u,te);return}}for(var K in o)Z=o[K],o.hasOwnProperty(K)&&Z!=null&&!u.hasOwnProperty(K)&&ot(s,r,K,null,u,Z);for(oe in u)Z=u[oe],te=o[oe],!u.hasOwnProperty(oe)||Z===te||Z==null&&te==null||ot(s,r,oe,Z,u,te)}function L1(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function eR(){if(typeof performance.getEntriesByType=="function"){for(var s=0,r=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var p=o[u],y=p.transferSize,w=p.initiatorType,A=p.duration;if(y&&A&&L1(w)){for(w=0,A=p.responseEnd,u+=1;u<o.length;u++){var L=o[u],W=L.startTime;if(W>A)break;var ie=L.transferSize,oe=L.initiatorType;ie&&L1(oe)&&(L=L.responseEnd,w+=ie*(L<A?1:(A-W)/(L-W)))}if(--u,r+=8*(y+w)/(p.duration/1e3),s++,10<s)break}}if(0<s)return r/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var Kp=null,Yp=null;function rh(s){return s.nodeType===9?s:s.ownerDocument}function U1(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function z1(s,r){if(s===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&r==="foreignObject"?0:s}function Qp(s,r){return s==="textarea"||s==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Xp=null;function tR(){var s=window.event;return s&&s.type==="popstate"?s===Xp?!1:(Xp=s,!0):(Xp=null,!1)}var B1=typeof setTimeout=="function"?setTimeout:void 0,nR=typeof clearTimeout=="function"?clearTimeout:void 0,F1=typeof Promise=="function"?Promise:void 0,sR=typeof queueMicrotask=="function"?queueMicrotask:typeof F1<"u"?function(s){return F1.resolve(null).then(s).catch(iR)}:B1;function iR(s){setTimeout(function(){throw s})}function Cr(s){return s==="head"}function H1(s,r){var o=r,u=0;do{var p=o.nextSibling;if(s.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"||o==="/&"){if(u===0){s.removeChild(p),Ko(r);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")Ic(s.ownerDocument.documentElement);else if(o==="head"){o=s.ownerDocument.head,Ic(o);for(var y=o.firstChild;y;){var w=y.nextSibling,A=y.nodeName;y[Bs]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&y.rel.toLowerCase()==="stylesheet"||o.removeChild(y),y=w}}else o==="body"&&Ic(s.ownerDocument.body);o=p}while(o);Ko(r)}function q1(s,r){var o=s;s=0;do{var u=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(s===0)break;s--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||s++;o=u}while(o)}function Wp(s){var r=s.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Wp(o),lo(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}s.removeChild(o)}}function rR(s,r,o,u){for(;s.nodeType===1;){var p=o;if(s.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(u){if(!s[Bs])switch(r){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(y=s.getAttribute("rel"),y==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(y!==p.rel||s.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||s.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||s.getAttribute("title")!==(p.title==null?null:p.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(y=s.getAttribute("src"),(y!==(p.src==null?null:p.src)||s.getAttribute("type")!==(p.type==null?null:p.type)||s.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&y&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(r==="input"&&s.type==="hidden"){var y=p.name==null?null:""+p.name;if(p.type==="hidden"&&s.getAttribute("name")===y)return s}else return s;if(s=ss(s.nextSibling),s===null)break}return null}function aR(s,r,o){if(r==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!o||(s=ss(s.nextSibling),s===null))return null;return s}function G1(s,r){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!r||(s=ss(s.nextSibling),s===null))return null;return s}function Jp(s){return s.data==="$?"||s.data==="$~"}function Zp(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function oR(s,r){var o=s.ownerDocument;if(s.data==="$~")s._reactRetry=r;else if(s.data!=="$?"||o.readyState!=="loading")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),s._reactRetry=u}}function ss(s){for(;s!=null;s=s.nextSibling){var r=s.nodeType;if(r===1||r===3)break;if(r===8){if(r=s.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return s}var eg=null;function $1(s){s=s.nextSibling;for(var r=0;s;){if(s.nodeType===8){var o=s.data;if(o==="/$"||o==="/&"){if(r===0)return ss(s.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}s=s.nextSibling}return null}function K1(s){s=s.previousSibling;for(var r=0;s;){if(s.nodeType===8){var o=s.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return s;r--}else o!=="/$"&&o!=="/&"||r++}s=s.previousSibling}return null}function Y1(s,r,o){switch(r=rh(o),s){case"html":if(s=r.documentElement,!s)throw Error(i(452));return s;case"head":if(s=r.head,!s)throw Error(i(453));return s;case"body":if(s=r.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function Ic(s){for(var r=s.attributes;r.length;)s.removeAttributeNode(r[0]);lo(s)}var is=new Map,Q1=new Set;function ah(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Ui=q.d;q.d={f:lR,r:cR,D:uR,C:dR,L:hR,m:fR,X:pR,S:mR,M:gR};function lR(){var s=Ui.f(),r=Wd();return s||r}function cR(s){var r=Kn(s);r!==null&&r.tag===5&&r.type==="form"?hb(r):Ui.r(s)}var qo=typeof document>"u"?null:document;function X1(s,r,o){var u=qo;if(u&&typeof r=="string"&&r){var p=En(r);p='link[rel="'+s+'"][href="'+p+'"]',typeof o=="string"&&(p+='[crossorigin="'+o+'"]'),Q1.has(p)||(Q1.add(p),s={rel:s,crossOrigin:o,href:r},u.querySelector(p)===null&&(r=u.createElement("link"),on(r,"link",s),jt(r),u.head.appendChild(r)))}}function uR(s){Ui.D(s),X1("dns-prefetch",s,null)}function dR(s,r){Ui.C(s,r),X1("preconnect",s,r)}function hR(s,r,o){Ui.L(s,r,o);var u=qo;if(u&&s&&r){var p='link[rel="preload"][as="'+En(r)+'"]';r==="image"&&o&&o.imageSrcSet?(p+='[imagesrcset="'+En(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(p+='[imagesizes="'+En(o.imageSizes)+'"]')):p+='[href="'+En(s)+'"]';var y=p;switch(r){case"style":y=Go(s);break;case"script":y=$o(s)}is.has(y)||(s=x({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:s,as:r},o),is.set(y,s),u.querySelector(p)!==null||r==="style"&&u.querySelector(jc(y))||r==="script"&&u.querySelector(Dc(y))||(r=u.createElement("link"),on(r,"link",s),jt(r),u.head.appendChild(r)))}}function fR(s,r){Ui.m(s,r);var o=qo;if(o&&s){var u=r&&typeof r.as=="string"?r.as:"script",p='link[rel="modulepreload"][as="'+En(u)+'"][href="'+En(s)+'"]',y=p;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=$o(s)}if(!is.has(y)&&(s=x({rel:"modulepreload",href:s},r),is.set(y,s),o.querySelector(p)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Dc(y)))return}u=o.createElement("link"),on(u,"link",s),jt(u),o.head.appendChild(u)}}}function mR(s,r,o){Ui.S(s,r,o);var u=qo;if(u&&s){var p=Hs(u).hoistableStyles,y=Go(s);r=r||"default";var w=p.get(y);if(!w){var A={loading:0,preload:null};if(w=u.querySelector(jc(y)))A.loading=5;else{s=x({rel:"stylesheet",href:s,"data-precedence":r},o),(o=is.get(y))&&tg(s,o);var L=w=u.createElement("link");jt(L),on(L,"link",s),L._p=new Promise(function(W,ie){L.onload=W,L.onerror=ie}),L.addEventListener("load",function(){A.loading|=1}),L.addEventListener("error",function(){A.loading|=2}),A.loading|=4,oh(w,r,u)}w={type:"stylesheet",instance:w,count:1,state:A},p.set(y,w)}}}function pR(s,r){Ui.X(s,r);var o=qo;if(o&&s){var u=Hs(o).hoistableScripts,p=$o(s),y=u.get(p);y||(y=o.querySelector(Dc(p)),y||(s=x({src:s,async:!0},r),(r=is.get(p))&&ng(s,r),y=o.createElement("script"),jt(y),on(y,"link",s),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(p,y))}}function gR(s,r){Ui.M(s,r);var o=qo;if(o&&s){var u=Hs(o).hoistableScripts,p=$o(s),y=u.get(p);y||(y=o.querySelector(Dc(p)),y||(s=x({src:s,async:!0,type:"module"},r),(r=is.get(p))&&ng(s,r),y=o.createElement("script"),jt(y),on(y,"link",s),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(p,y))}}function W1(s,r,o,u){var p=(p=Ie.current)?ah(p):null;if(!p)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=Go(o.href),o=Hs(p).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){s=Go(o.href);var y=Hs(p).hoistableStyles,w=y.get(s);if(w||(p=p.ownerDocument||p,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(s,w),(y=p.querySelector(jc(s)))&&!y._p&&(w.instance=y,w.state.loading=5),is.has(s)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},is.set(s,o),y||yR(p,s,o,w.state))),r&&u===null)throw Error(i(528,""));return w}if(r&&u!==null)throw Error(i(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=$o(o),o=Hs(p).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function Go(s){return'href="'+En(s)+'"'}function jc(s){return'link[rel="stylesheet"]['+s+"]"}function J1(s){return x({},s,{"data-precedence":s.precedence,precedence:null})}function yR(s,r,o,u){s.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=s.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),on(r,"link",o),jt(r),s.head.appendChild(r))}function $o(s){return'[src="'+En(s)+'"]'}function Dc(s){return"script[async]"+s}function Z1(s,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=s.querySelector('style[data-href~="'+En(o.href)+'"]');if(u)return r.instance=u,jt(u),u;var p=x({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(s.ownerDocument||s).createElement("style"),jt(u),on(u,"style",p),oh(u,o.precedence,s),r.instance=u;case"stylesheet":p=Go(o.href);var y=s.querySelector(jc(p));if(y)return r.state.loading|=4,r.instance=y,jt(y),y;u=J1(o),(p=is.get(p))&&tg(u,p),y=(s.ownerDocument||s).createElement("link"),jt(y);var w=y;return w._p=new Promise(function(A,L){w.onload=A,w.onerror=L}),on(y,"link",u),r.state.loading|=4,oh(y,o.precedence,s),r.instance=y;case"script":return y=$o(o.src),(p=s.querySelector(Dc(y)))?(r.instance=p,jt(p),p):(u=o,(p=is.get(y))&&(u=x({},o),ng(u,p)),s=s.ownerDocument||s,p=s.createElement("script"),jt(p),on(p,"link",u),s.head.appendChild(p),r.instance=p);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,oh(u,o.precedence,s));return r.instance}function oh(s,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=u.length?u[u.length-1]:null,y=p,w=0;w<u.length;w++){var A=u[w];if(A.dataset.precedence===r)y=A;else if(y!==p)break}y?y.parentNode.insertBefore(s,y.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(s,r.firstChild))}function tg(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.title==null&&(s.title=r.title)}function ng(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.integrity==null&&(s.integrity=r.integrity)}var lh=null;function e_(s,r,o){if(lh===null){var u=new Map,p=lh=new Map;p.set(o,u)}else p=lh,u=p.get(o),u||(u=new Map,p.set(o,u));if(u.has(s))return u;for(u.set(s,null),o=o.getElementsByTagName(s),p=0;p<o.length;p++){var y=o[p];if(!(y[Bs]||y[It]||s==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var w=y.getAttribute(r)||"";w=s+w;var A=u.get(w);A?A.push(y):u.set(w,[y])}}return u}function t_(s,r,o){s=s.ownerDocument||s,s.head.insertBefore(o,r==="title"?s.querySelector("head > title"):null)}function vR(s,r,o){if(o===1||r.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(s=r.disabled,typeof r.precedence=="string"&&s==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function n_(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function xR(s,r,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var p=Go(u.href),y=r.querySelector(jc(p));if(y){r=y._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(s.count++,s=ch.bind(s),r.then(s,s)),o.state.loading|=4,o.instance=y,jt(y);return}y=r.ownerDocument||r,u=J1(u),(p=is.get(p))&&tg(u,p),y=y.createElement("link"),jt(y);var w=y;w._p=new Promise(function(A,L){w.onload=A,w.onerror=L}),on(y,"link",u),o.instance=y}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(s.count++,o=ch.bind(s),r.addEventListener("load",o),r.addEventListener("error",o))}}var sg=0;function bR(s,r){return s.stylesheets&&s.count===0&&dh(s,s.stylesheets),0<s.count||0<s.imgCount?function(o){var u=setTimeout(function(){if(s.stylesheets&&dh(s,s.stylesheets),s.unsuspend){var y=s.unsuspend;s.unsuspend=null,y()}},6e4+r);0<s.imgBytes&&sg===0&&(sg=62500*eR());var p=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&dh(s,s.stylesheets),s.unsuspend)){var y=s.unsuspend;s.unsuspend=null,y()}},(s.imgBytes>sg?50:800)+r);return s.unsuspend=o,function(){s.unsuspend=null,clearTimeout(u),clearTimeout(p)}}:null}function ch(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)dh(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var uh=null;function dh(s,r){s.stylesheets=null,s.unsuspend!==null&&(s.count++,uh=new Map,r.forEach(_R,s),uh=null,ch.call(s))}function _R(s,r){if(!(r.state.loading&4)){var o=uh.get(s);if(o)var u=o.get(null);else{o=new Map,uh.set(s,o);for(var p=s.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<p.length;y++){var w=p[y];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(o.set(w.dataset.precedence,w),u=w)}u&&o.set(null,u)}p=r.instance,w=p.getAttribute("data-precedence"),y=o.get(w)||u,y===u&&o.set(null,p),o.set(w,p),this.count++,u=ch.bind(this),p.addEventListener("load",u),p.addEventListener("error",u),y?y.parentNode.insertBefore(p,y.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(p,s.firstChild)),r.state.loading|=4}}var Mc={$$typeof:$,Provider:null,Consumer:null,_currentValue:H,_currentValue2:H,_threadCount:0};function wR(s,r,o,u,p,y,w,A,L){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Us(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Us(0),this.hiddenUpdates=Us(null),this.identifierPrefix=u,this.onUncaughtError=p,this.onCaughtError=y,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=L,this.incompleteTransitions=new Map}function s_(s,r,o,u,p,y,w,A,L,W,ie,oe){return s=new wR(s,r,o,w,L,W,ie,oe,A),r=1,y===!0&&(r|=24),y=Ln(3,null,null,r),s.current=y,y.stateNode=s,r=Pm(),r.refCount++,s.pooledCache=r,r.refCount++,y.memoizedState={element:u,isDehydrated:o,cache:r},zm(y),s}function i_(s){return s?(s=To,s):To}function r_(s,r,o,u,p,y){p=i_(p),u.context===null?u.context=p:u.pendingContext=p,u=vr(r),u.payload={element:o},y=y===void 0?null:y,y!==null&&(u.callback=y),o=xr(s,u,r),o!==null&&(Rn(o,s,r),hc(o,s,r))}function a_(s,r){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var o=s.retryLane;s.retryLane=o!==0&&o<r?o:r}}function ig(s,r){a_(s,r),(s=s.alternate)&&a_(s,r)}function o_(s){if(s.tag===13||s.tag===31){var r=wa(s,67108864);r!==null&&Rn(r,s,67108864),ig(s,67108864)}}function l_(s){if(s.tag===13||s.tag===31){var r=Hn();r=ua(r);var o=wa(s,r);o!==null&&Rn(o,s,r),ig(s,r)}}var hh=!0;function TR(s,r,o,u){var p=O.T;O.T=null;var y=q.p;try{q.p=2,rg(s,r,o,u)}finally{q.p=y,O.T=p}}function ER(s,r,o,u){var p=O.T;O.T=null;var y=q.p;try{q.p=8,rg(s,r,o,u)}finally{q.p=y,O.T=p}}function rg(s,r,o,u){if(hh){var p=ag(u);if(p===null)Gp(s,r,u,fh,o),u_(s,u);else if(AR(p,s,r,o,u))u.stopPropagation();else if(u_(s,u),r&4&&-1<SR.indexOf(s)){for(;p!==null;){var y=Kn(p);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var w=Os(y.pendingLanes);if(w!==0){var A=y;for(A.pendingLanes|=2,A.entangledLanes|=2;w;){var L=1<<31-Et(w);A.entanglements[1]|=L,w&=~L}ni(y),(et&6)===0&&(Qd=xn()+500,Nc(0))}}break;case 31:case 13:A=wa(y,2),A!==null&&Rn(A,y,2),Wd(),ig(y,2)}if(y=ag(u),y===null&&Gp(s,r,u,fh,o),y===p)break;p=y}p!==null&&u.stopPropagation()}else Gp(s,r,u,null,o)}}function ag(s){return s=Yn(s),og(s)}var fh=null;function og(s){if(fh=null,s=Fs(s),s!==null){var r=l(s);if(r===null)s=null;else{var o=r.tag;if(o===13){if(s=c(r),s!==null)return s;s=null}else if(o===31){if(s=h(r),s!==null)return s;s=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;s=null}else r!==s&&(s=null)}}return fh=s,null}function c_(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(aa()){case Ol:return 2;case Ll:return 8;case sr:case fm:return 32;case Gu:return 268435456;default:return 32}default:return 32}}var lg=!1,Rr=null,Ir=null,jr=null,Vc=new Map,Pc=new Map,Dr=[],SR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function u_(s,r){switch(s){case"focusin":case"focusout":Rr=null;break;case"dragenter":case"dragleave":Ir=null;break;case"mouseover":case"mouseout":jr=null;break;case"pointerover":case"pointerout":Vc.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(r.pointerId)}}function Oc(s,r,o,u,p,y){return s===null||s.nativeEvent!==y?(s={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:y,targetContainers:[p]},r!==null&&(r=Kn(r),r!==null&&o_(r)),s):(s.eventSystemFlags|=u,r=s.targetContainers,p!==null&&r.indexOf(p)===-1&&r.push(p),s)}function AR(s,r,o,u,p){switch(r){case"focusin":return Rr=Oc(Rr,s,r,o,u,p),!0;case"dragenter":return Ir=Oc(Ir,s,r,o,u,p),!0;case"mouseover":return jr=Oc(jr,s,r,o,u,p),!0;case"pointerover":var y=p.pointerId;return Vc.set(y,Oc(Vc.get(y)||null,s,r,o,u,p)),!0;case"gotpointercapture":return y=p.pointerId,Pc.set(y,Oc(Pc.get(y)||null,s,r,o,u,p)),!0}return!1}function d_(s){var r=Fs(s.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){s.blockedOn=r,ps(s.priority,function(){l_(o)});return}}else if(r===31){if(r=h(o),r!==null){s.blockedOn=r,ps(s.priority,function(){l_(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){s.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}s.blockedOn=null}function mh(s){if(s.blockedOn!==null)return!1;for(var r=s.targetContainers;0<r.length;){var o=ag(s.nativeEvent);if(o===null){o=s.nativeEvent;var u=new o.constructor(o.type,o);Xl=u,o.target.dispatchEvent(u),Xl=null}else return r=Kn(o),r!==null&&o_(r),s.blockedOn=o,!1;r.shift()}return!0}function h_(s,r,o){mh(s)&&o.delete(r)}function kR(){lg=!1,Rr!==null&&mh(Rr)&&(Rr=null),Ir!==null&&mh(Ir)&&(Ir=null),jr!==null&&mh(jr)&&(jr=null),Vc.forEach(h_),Pc.forEach(h_)}function ph(s,r){s.blockedOn===r&&(s.blockedOn=null,lg||(lg=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,kR)))}var gh=null;function f_(s){gh!==s&&(gh=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){gh===s&&(gh=null);for(var r=0;r<s.length;r+=3){var o=s[r],u=s[r+1],p=s[r+2];if(typeof u!="function"){if(og(u||o)===null)continue;break}var y=Kn(o);y!==null&&(s.splice(r,3),r-=3,ap(y,{pending:!0,data:p,method:o.method,action:u},u,p))}}))}function Ko(s){function r(L){return ph(L,s)}Rr!==null&&ph(Rr,s),Ir!==null&&ph(Ir,s),jr!==null&&ph(jr,s),Vc.forEach(r),Pc.forEach(r);for(var o=0;o<Dr.length;o++){var u=Dr[o];u.blockedOn===s&&(u.blockedOn=null)}for(;0<Dr.length&&(o=Dr[0],o.blockedOn===null);)d_(o),o.blockedOn===null&&Dr.shift();if(o=(s.ownerDocument||s).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var p=o[u],y=o[u+1],w=p[Qt]||null;if(typeof y=="function")w||f_(o);else if(w){var A=null;if(y&&y.hasAttribute("formAction")){if(p=y,w=y[Qt]||null)A=w.formAction;else if(og(p)!==null)continue}else A=w.action;typeof A=="function"?o[u+1]=A:(o.splice(u,3),u-=3),f_(o)}}}function m_(){function s(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(w){return p=w})},focusReset:"manual",scroll:"manual"})}function r(){p!==null&&(p(),p=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,p=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),p!==null&&(p(),p=null)}}}function cg(s){this._internalRoot=s}yh.prototype.render=cg.prototype.render=function(s){var r=this._internalRoot;if(r===null)throw Error(i(409));var o=r.current,u=Hn();r_(o,u,s,r,null,null)},yh.prototype.unmount=cg.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var r=s.containerInfo;r_(s.current,2,null,s,null,null),Wd(),r[zs]=null}};function yh(s){this._internalRoot=s}yh.prototype.unstable_scheduleHydration=function(s){if(s){var r=Wu();s={blockedOn:null,target:s,priority:r};for(var o=0;o<Dr.length&&r!==0&&r<Dr[o].priority;o++);Dr.splice(o,0,s),o===0&&d_(s)}};var p_=e.version;if(p_!=="19.2.4")throw Error(i(527,p_,"19.2.4"));q.findDOMNode=function(s){var r=s._reactInternals;if(r===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=g(r),s=s!==null?v(s):null,s=s===null?null:s.stateNode,s};var NR={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vh.isDisabled&&vh.supportsFiber)try{fs=vh.inject(NR),tn=vh}catch{}}return Uc.createRoot=function(s,r){if(!a(s))throw Error(i(299));var o=!1,u="",p=wb,y=Tb,w=Eb;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(p=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(w=r.onRecoverableError)),r=s_(s,1,!1,null,null,o,u,null,p,y,w,m_),s[zs]=r.current,qp(s),new cg(r)},Uc.hydrateRoot=function(s,r,o){if(!a(s))throw Error(i(299));var u=!1,p="",y=wb,w=Tb,A=Eb,L=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.formState!==void 0&&(L=o.formState)),r=s_(s,1,!0,r,o??null,u,p,L,y,w,A,m_),r.context=i_(null),o=r.current,u=Hn(),u=ua(u),p=vr(u),p.callback=null,xr(o,p,u),o=u,r.current.lanes=o,la(r,o),ni(r),s[zs]=r.current,qp(s),new yh(r)},Uc.version="19.2.4",Uc}var S_;function OR(){if(S_)return hg.exports;S_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),hg.exports=PR(),hg.exports}var LR=OR();const UR=zE(LR);var A_="popstate";function zR(t={}){function e(i,a){let{pathname:l,search:c,hash:h}=i.location;return n0("",{pathname:l,search:c,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){return typeof a=="string"?a:lu(a)}return FR(e,n,null,t)}function yt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ms(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function BR(){return Math.random().toString(36).substring(2,10)}function k_(t,e){return{usr:t.state,key:t.key,idx:e}}function n0(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?_l(e):e,state:n,key:e&&e.key||i||BR()}}function lu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function _l(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function FR(t,e,n,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,c=a.history,h="POP",m=null,g=v();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function v(){return(c.state||{idx:null}).idx}function x(){h="POP";let D=v(),V=D==null?null:D-g;g=D,m&&m({action:h,location:j.location,delta:V})}function _(D,V){h="PUSH";let F=n0(j.location,D,V);g=v()+1;let $=k_(F,g),J=j.createHref(F);try{c.pushState($,"",J)}catch(se){if(se instanceof DOMException&&se.name==="DataCloneError")throw se;a.location.assign(J)}l&&m&&m({action:h,location:j.location,delta:1})}function E(D,V){h="REPLACE";let F=n0(j.location,D,V);g=v();let $=k_(F,g),J=j.createHref(F);c.replaceState($,"",J),l&&m&&m({action:h,location:j.location,delta:0})}function I(D){return HR(D)}let j={get action(){return h},get location(){return t(a,c)},listen(D){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(A_,x),m=D,()=>{a.removeEventListener(A_,x),m=null}},createHref(D){return e(a,D)},createURL:I,encodeLocation(D){let V=I(D);return{pathname:V.pathname,search:V.search,hash:V.hash}},push:_,replace:E,go(D){return c.go(D)}};return j}function HR(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),yt(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:lu(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function HE(t,e,n="/"){return qR(t,e,n,!1)}function qR(t,e,n,i){let a=typeof e=="string"?_l(e):e,l=Ki(a.pathname||"/",n);if(l==null)return null;let c=qE(t);GR(c);let h=null;for(let m=0;h==null&&m<c.length;++m){let g=nI(l);h=eI(c[m],g,i)}return h}function qE(t,e=[],n=[],i="",a=!1){let l=(c,h,m=a,g)=>{let v={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(i)&&m)return;yt(v.relativePath.startsWith(i),`Absolute route path "${v.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(i.length)}let x=qi([i,v.relativePath]),_=n.concat(v);c.children&&c.children.length>0&&(yt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),qE(c.children,e,_,x,m)),!(c.path==null&&!c.index)&&e.push({path:x,score:JR(x,c.index),routesMeta:_})};return t.forEach((c,h)=>{if(c.path===""||!c.path?.includes("?"))l(c,h);else for(let m of GE(c.path))l(c,h,!0,m)}),e}function GE(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let c=GE(i.join("/")),h=[];return h.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&h.push(...c),h.map(m=>t.startsWith("/")&&m===""?"/":m)}function GR(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:ZR(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var $R=/^:[\w-]+$/,KR=3,YR=2,QR=1,XR=10,WR=-2,N_=t=>t==="*";function JR(t,e){let n=t.split("/"),i=n.length;return n.some(N_)&&(i+=WR),e&&(i+=YR),n.filter(a=>!N_(a)).reduce((a,l)=>a+($R.test(l)?KR:l===""?QR:XR),i)}function ZR(t,e){return t.length===e.length&&t.slice(0,-1).every((i,a)=>i===e[a])?t[t.length-1]-e[e.length-1]:0}function eI(t,e,n=!1){let{routesMeta:i}=t,a={},l="/",c=[];for(let h=0;h<i.length;++h){let m=i[h],g=h===i.length-1,v=l==="/"?e:e.slice(l.length)||"/",x=Zh({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},v),_=m.route;if(!x&&g&&n&&!i[i.length-1].route.index&&(x=Zh({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},v)),!x)return null;Object.assign(a,x.params),c.push({params:a,pathname:qi([l,x.pathname]),pathnameBase:aI(qi([l,x.pathnameBase])),route:_}),x.pathnameBase!=="/"&&(l=qi([l,x.pathnameBase]))}return c}function Zh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=tI(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:i.reduce((g,{paramName:v,isOptional:x},_)=>{if(v==="*"){let I=h[_]||"";c=l.slice(0,l.length-I.length).replace(/(.)\/+$/,"$1")}const E=h[_];return x&&!E?g[v]=void 0:g[v]=(E||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:t}}function tI(t,e=!1,n=!0){Ms(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,m)=>(i.push({paramName:h,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function nI(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ms(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ki(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}var sI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function iI(t,e="/"){let{pathname:n,search:i="",hash:a=""}=typeof t=="string"?_l(t):t,l;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?l=C_(n.substring(1),"/"):l=C_(n,e)):l=e,{pathname:l,search:oI(i),hash:lI(a)}}function C_(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function gg(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function rI(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ay(t){let e=rI(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function oy(t,e,n,i=!1){let a;typeof t=="string"?a=_l(t):(a={...t},yt(!a.pathname||!a.pathname.includes("?"),gg("?","pathname","search",a)),yt(!a.pathname||!a.pathname.includes("#"),gg("#","pathname","hash",a)),yt(!a.search||!a.search.includes("#"),gg("#","search","hash",a)));let l=t===""||a.pathname==="",c=l?"/":a.pathname,h;if(c==null)h=n;else{let x=e.length-1;if(!i&&c.startsWith("..")){let _=c.split("/");for(;_[0]==="..";)_.shift(),x-=1;a.pathname=_.join("/")}h=x>=0?e[x]:"/"}let m=iI(a,h),g=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(g||v)&&(m.pathname+="/"),m}var qi=t=>t.join("/").replace(/\/\/+/g,"/"),aI=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),oI=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,lI=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,cI=class{constructor(t,e,n,i=!1){this.status=t,this.statusText=e||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function uI(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function dI(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var $E=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function KE(t,e){let n=t;if(typeof n!="string"||!sI.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let i=n,a=!1;if($E)try{let l=new URL(window.location.href),c=n.startsWith("//")?new URL(l.protocol+n):new URL(n),h=Ki(c.pathname,e);c.origin===l.origin&&h!=null?n=h+c.search+c.hash:a=!0}catch{Ms(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var YE=["POST","PUT","PATCH","DELETE"];new Set(YE);var hI=["GET",...YE];new Set(hI);var wl=k.createContext(null);wl.displayName="DataRouter";var Vf=k.createContext(null);Vf.displayName="DataRouterState";var fI=k.createContext(!1),QE=k.createContext({isTransitioning:!1});QE.displayName="ViewTransition";var mI=k.createContext(new Map);mI.displayName="Fetchers";var pI=k.createContext(null);pI.displayName="Await";var qn=k.createContext(null);qn.displayName="Navigation";var Eu=k.createContext(null);Eu.displayName="Location";var ds=k.createContext({outlet:null,matches:[],isDataRoute:!1});ds.displayName="Route";var ly=k.createContext(null);ly.displayName="RouteError";var XE="REACT_ROUTER_ERROR",gI="REDIRECT",yI="ROUTE_ERROR_RESPONSE";function vI(t){if(t.startsWith(`${XE}:${gI}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function xI(t){if(t.startsWith(`${XE}:${yI}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new cI(e.status,e.statusText,e.data)}catch{}}function bI(t,{relative:e}={}){yt(Tl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=k.useContext(qn),{hash:a,pathname:l,search:c}=Su(t,{relative:e}),h=l;return n!=="/"&&(h=l==="/"?n:qi([n,l])),i.createHref({pathname:h,search:c,hash:a})}function Tl(){return k.useContext(Eu)!=null}function Zi(){return yt(Tl(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(Eu).location}var WE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function JE(t){k.useContext(qn).static||k.useLayoutEffect(t)}function Pf(){let{isDataRoute:t}=k.useContext(ds);return t?PI():_I()}function _I(){yt(Tl(),"useNavigate() may be used only in the context of a <Router> component.");let t=k.useContext(wl),{basename:e,navigator:n}=k.useContext(qn),{matches:i}=k.useContext(ds),{pathname:a}=Zi(),l=JSON.stringify(ay(i)),c=k.useRef(!1);return JE(()=>{c.current=!0}),k.useCallback((m,g={})=>{if(Ms(c.current,WE),!c.current)return;if(typeof m=="number"){n.go(m);return}let v=oy(m,JSON.parse(l),a,g.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:qi([e,v.pathname])),(g.replace?n.replace:n.push)(v,g.state,g)},[e,n,l,a,t])}var wI=k.createContext(null);function TI(t){let e=k.useContext(ds).outlet;return k.useMemo(()=>e&&k.createElement(wI.Provider,{value:t},e),[e,t])}function EI(){let{matches:t}=k.useContext(ds),e=t[t.length-1];return e?e.params:{}}function Su(t,{relative:e}={}){let{matches:n}=k.useContext(ds),{pathname:i}=Zi(),a=JSON.stringify(ay(n));return k.useMemo(()=>oy(t,JSON.parse(a),i,e==="path"),[t,a,i,e])}function SI(t,e){return ZE(t,e)}function ZE(t,e,n,i,a){yt(Tl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=k.useContext(qn),{matches:c}=k.useContext(ds),h=c[c.length-1],m=h?h.params:{},g=h?h.pathname:"/",v=h?h.pathnameBase:"/",x=h&&h.route;{let F=x&&x.path||"";tS(g,!x||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let _=Zi(),E;if(e){let F=typeof e=="string"?_l(e):e;yt(v==="/"||F.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${F.pathname}" was given in the \`location\` prop.`),E=F}else E=_;let I=E.pathname||"/",j=I;if(v!=="/"){let F=v.replace(/^\//,"").split("/");j="/"+I.replace(/^\//,"").split("/").slice(F.length).join("/")}let D=HE(t,{pathname:j});Ms(x||D!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),Ms(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let V=RI(D&&D.map(F=>Object.assign({},F,{params:Object.assign({},m,F.params),pathname:qi([v,l.encodeLocation?l.encodeLocation(F.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?v:qi([v,l.encodeLocation?l.encodeLocation(F.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:F.pathnameBase])})),c,n,i,a);return e&&V?k.createElement(Eu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},V):V}function AI(){let t=VI(),e=uI(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=k.createElement(k.Fragment,null,k.createElement("p",null," Hey developer "),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:l},"ErrorBoundary")," or"," ",k.createElement("code",{style:l},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),n?k.createElement("pre",{style:a},n):null,c)}var kI=k.createElement(AI,null),eS=class extends k.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=xI(t.digest);n&&(t=n)}let e=t!==void 0?k.createElement(ds.Provider,{value:this.props.routeContext},k.createElement(ly.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?k.createElement(NI,{error:t},e):e}};eS.contextType=fI;var yg=new WeakMap;function NI({children:t,error:e}){let{basename:n}=k.useContext(qn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=vI(e.digest);if(i){let a=yg.get(e);if(a)throw a;let l=KE(i.location,n);if($E&&!yg.get(e))if(l.isExternal||i.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:i.replace}));throw yg.set(e,c),c}return k.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return t}function CI({routeContext:t,match:e,children:n}){let i=k.useContext(wl);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),k.createElement(ds.Provider,{value:t},n)}function RI(t,e=[],n=null,i=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,c=n?.errors;if(c!=null){let v=l.findIndex(x=>x.route.id&&c?.[x.route.id]!==void 0);yt(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,v+1))}let h=!1,m=-1;if(n)for(let v=0;v<l.length;v++){let x=l[v];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(m=v),x.route.id){let{loaderData:_,errors:E}=n,I=x.route.loader&&!_.hasOwnProperty(x.route.id)&&(!E||E[x.route.id]===void 0);if(x.route.lazy||I){h=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}let g=n&&i?(v,x)=>{i(v,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:dI(n.matches),errorInfo:x})}:void 0;return l.reduceRight((v,x,_)=>{let E,I=!1,j=null,D=null;n&&(E=c&&x.route.id?c[x.route.id]:void 0,j=x.route.errorElement||kI,h&&(m<0&&_===0?(tS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,D=null):m===_&&(I=!0,D=x.route.hydrateFallbackElement||null)));let V=e.concat(l.slice(0,_+1)),F=()=>{let $;return E?$=j:I?$=D:x.route.Component?$=k.createElement(x.route.Component,null):x.route.element?$=x.route.element:$=v,k.createElement(CI,{match:x,routeContext:{outlet:v,matches:V,isDataRoute:n!=null},children:$})};return n&&(x.route.ErrorBoundary||x.route.errorElement||_===0)?k.createElement(eS,{location:n.location,revalidation:n.revalidation,component:j,error:E,children:F(),routeContext:{outlet:null,matches:V,isDataRoute:!0},onError:g}):F()},null)}function cy(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function II(t){let e=k.useContext(wl);return yt(e,cy(t)),e}function jI(t){let e=k.useContext(Vf);return yt(e,cy(t)),e}function DI(t){let e=k.useContext(ds);return yt(e,cy(t)),e}function uy(t){let e=DI(t),n=e.matches[e.matches.length-1];return yt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function MI(){return uy("useRouteId")}function VI(){let t=k.useContext(ly),e=jI("useRouteError"),n=uy("useRouteError");return t!==void 0?t:e.errors?.[n]}function PI(){let{router:t}=II("useNavigate"),e=uy("useNavigate"),n=k.useRef(!1);return JE(()=>{n.current=!0}),k.useCallback(async(a,l={})=>{Ms(n.current,WE),n.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var R_={};function tS(t,e,n){!e&&!R_[t]&&(R_[t]=!0,Ms(!1,n))}k.memo(OI);function OI({routes:t,future:e,state:n,onError:i}){return ZE(t,void 0,n,i,e)}function nS({to:t,replace:e,state:n,relative:i}){yt(Tl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=k.useContext(qn);Ms(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=k.useContext(ds),{pathname:c}=Zi(),h=Pf(),m=oy(t,ay(l),c,i==="path"),g=JSON.stringify(m);return k.useEffect(()=>{h(JSON.parse(g),{replace:e,state:n,relative:i})},[h,g,i,e,n]),null}function As(t){yt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function LI({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:a,static:l=!1,unstable_useTransitions:c}){yt(!Tl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=t.replace(/^\/*/,"/"),m=k.useMemo(()=>({basename:h,navigator:a,static:l,unstable_useTransitions:c,future:{}}),[h,a,l,c]);typeof n=="string"&&(n=_l(n));let{pathname:g="/",search:v="",hash:x="",state:_=null,key:E="default"}=n,I=k.useMemo(()=>{let j=Ki(g,h);return j==null?null:{location:{pathname:j,search:v,hash:x,state:_,key:E},navigationType:i}},[h,g,v,x,_,E,i]);return Ms(I!=null,`<Router basename="${h}"> is not able to match the URL "${g}${v}${x}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:k.createElement(qn.Provider,{value:m},k.createElement(Eu.Provider,{children:e,value:I}))}function UI({children:t,location:e}){return SI(s0(t),e)}function s0(t,e=[]){let n=[];return k.Children.forEach(t,(i,a)=>{if(!k.isValidElement(i))return;let l=[...e,a];if(i.type===k.Fragment){n.push.apply(n,s0(i.props.children,l));return}yt(i.type===As,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),yt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=s0(i.props.children,l)),n.push(c)}),n}var Mh="get",Vh="application/x-www-form-urlencoded";function Of(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function zI(t){return Of(t)&&t.tagName.toLowerCase()==="button"}function BI(t){return Of(t)&&t.tagName.toLowerCase()==="form"}function FI(t){return Of(t)&&t.tagName.toLowerCase()==="input"}function HI(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function qI(t,e){return t.button===0&&(!e||e==="_self")&&!HI(t)}var xh=null;function GI(){if(xh===null)try{new FormData(document.createElement("form"),0),xh=!1}catch{xh=!0}return xh}var $I=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function vg(t){return t!=null&&!$I.has(t)?(Ms(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Vh}"`),null):t}function KI(t,e){let n,i,a,l,c;if(BI(t)){let h=t.getAttribute("action");i=h?Ki(h,e):null,n=t.getAttribute("method")||Mh,a=vg(t.getAttribute("enctype"))||Vh,l=new FormData(t)}else if(zI(t)||FI(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=t.getAttribute("formaction")||h.getAttribute("action");if(i=m?Ki(m,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||Mh,a=vg(t.getAttribute("formenctype"))||vg(h.getAttribute("enctype"))||Vh,l=new FormData(h,t),!GI()){let{name:g,type:v,value:x}=t;if(v==="image"){let _=g?`${g}.`:"";l.append(`${_}x`,"0"),l.append(`${_}y`,"0")}else g&&l.append(g,x)}}else{if(Of(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Mh,i=null,a=Vh,c=t}return l&&a==="text/plain"&&(c=l,l=void 0),{action:i,method:n.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function dy(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function YI(t,e,n,i){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${i}`:a.pathname=`${a.pathname}.${i}`:a.pathname==="/"?a.pathname=`_root.${i}`:e&&Ki(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${i}`,a}async function QI(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function XI(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function WI(t,e,n){let i=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await QI(l,n);return c.links?c.links():[]}return[]}));return t4(i.flat(1).filter(XI).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function I_(t,e,n,i,a,l){let c=(m,g)=>n[g]?m.route.id!==n[g].route.id:!0,h=(m,g)=>n[g].pathname!==m.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==m.params["*"];return l==="assets"?e.filter((m,g)=>c(m,g)||h(m,g)):l==="data"?e.filter((m,g)=>{let v=i.routes[m.route.id];if(!v||!v.hasLoader)return!1;if(c(m,g)||h(m,g))return!0;if(m.route.shouldRevalidate){let x=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function JI(t,e,{includeHydrateFallback:n}={}){return ZI(t.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function ZI(t){return[...new Set(t)]}function e4(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function t4(t,e){let n=new Set;return new Set(e),t.reduce((i,a)=>{let l=JSON.stringify(e4(a));return n.has(l)||(n.add(l),i.push({key:l,link:a})),i},[])}function sS(){let t=k.useContext(wl);return dy(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function n4(){let t=k.useContext(Vf);return dy(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var hy=k.createContext(void 0);hy.displayName="FrameworkContext";function iS(){let t=k.useContext(hy);return dy(t,"You must render this element inside a <HydratedRouter> element"),t}function s4(t,e){let n=k.useContext(hy),[i,a]=k.useState(!1),[l,c]=k.useState(!1),{onFocus:h,onBlur:m,onMouseEnter:g,onMouseLeave:v,onTouchStart:x}=e,_=k.useRef(null);k.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let j=V=>{V.forEach(F=>{c(F.isIntersecting)})},D=new IntersectionObserver(j,{threshold:.5});return _.current&&D.observe(_.current),()=>{D.disconnect()}}},[t]),k.useEffect(()=>{if(i){let j=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(j)}}},[i]);let E=()=>{a(!0)},I=()=>{a(!1),c(!1)};return n?t!=="intent"?[l,_,{}]:[l,_,{onFocus:zc(h,E),onBlur:zc(m,I),onMouseEnter:zc(g,E),onMouseLeave:zc(v,I),onTouchStart:zc(x,E)}]:[!1,_,{}]}function zc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function i4({page:t,...e}){let{router:n}=sS(),i=k.useMemo(()=>HE(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?k.createElement(a4,{page:t,matches:i,...e}):null}function r4(t){let{manifest:e,routeModules:n}=iS(),[i,a]=k.useState([]);return k.useEffect(()=>{let l=!1;return WI(t,e,n).then(c=>{l||a(c)}),()=>{l=!0}},[t,e,n]),i}function a4({page:t,matches:e,...n}){let i=Zi(),{future:a,manifest:l,routeModules:c}=iS(),{basename:h}=sS(),{loaderData:m,matches:g}=n4(),v=k.useMemo(()=>I_(t,e,g,l,i,"data"),[t,e,g,l,i]),x=k.useMemo(()=>I_(t,e,g,l,i,"assets"),[t,e,g,l,i]),_=k.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let j=new Set,D=!1;if(e.forEach(F=>{let $=l.routes[F.route.id];!$||!$.hasLoader||(!v.some(J=>J.route.id===F.route.id)&&F.route.id in m&&c[F.route.id]?.shouldRevalidate||$.hasClientLoader?D=!0:j.add(F.route.id))}),j.size===0)return[];let V=YI(t,h,a.unstable_trailingSlashAwareDataRequests,"data");return D&&j.size>0&&V.searchParams.set("_routes",e.filter(F=>j.has(F.route.id)).map(F=>F.route.id).join(",")),[V.pathname+V.search]},[h,a.unstable_trailingSlashAwareDataRequests,m,i,l,v,e,t,c]),E=k.useMemo(()=>JI(x,l),[x,l]),I=r4(x);return k.createElement(k.Fragment,null,_.map(j=>k.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...n})),E.map(j=>k.createElement("link",{key:j,rel:"modulepreload",href:j,...n})),I.map(({key:j,link:D})=>k.createElement("link",{key:j,nonce:n.nonce,...D,crossOrigin:D.crossOrigin??n.crossOrigin})))}function o4(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var l4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{l4&&(window.__reactRouterVersion="7.13.0")}catch{}function c4({basename:t,children:e,unstable_useTransitions:n,window:i}){let a=k.useRef();a.current==null&&(a.current=zR({window:i,v5Compat:!0}));let l=a.current,[c,h]=k.useState({action:l.action,location:l.location}),m=k.useCallback(g=>{n===!1?h(g):k.startTransition(()=>h(g))},[n]);return k.useLayoutEffect(()=>l.listen(m),[l,m]),k.createElement(LI,{basename:t,children:e,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:n})}var rS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Jt=k.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:a,reloadDocument:l,replace:c,state:h,target:m,to:g,preventScrollReset:v,viewTransition:x,unstable_defaultShouldRevalidate:_,...E},I){let{basename:j,unstable_useTransitions:D}=k.useContext(qn),V=typeof g=="string"&&rS.test(g),F=KE(g,j);g=F.to;let $=bI(g,{relative:a}),[J,se,de]=s4(i,E),R=f4(g,{replace:c,state:h,target:m,preventScrollReset:v,relative:a,viewTransition:x,unstable_defaultShouldRevalidate:_,unstable_useTransitions:D});function S(z){e&&e(z),z.defaultPrevented||R(z)}let C=k.createElement("a",{...E,...de,href:F.absoluteURL||$,onClick:F.isExternal||l?e:S,ref:o4(I,se),target:m,"data-discover":!V&&n==="render"?"true":void 0});return J&&!V?k.createElement(k.Fragment,null,C,k.createElement(i4,{page:$})):C});Jt.displayName="Link";var u4=k.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:a=!1,style:l,to:c,viewTransition:h,children:m,...g},v){let x=Su(c,{relative:g.relative}),_=Zi(),E=k.useContext(Vf),{navigator:I,basename:j}=k.useContext(qn),D=E!=null&&v4(x)&&h===!0,V=I.encodeLocation?I.encodeLocation(x).pathname:x.pathname,F=_.pathname,$=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;n||(F=F.toLowerCase(),$=$?$.toLowerCase():null,V=V.toLowerCase()),$&&j&&($=Ki($,j)||$);const J=V!=="/"&&V.endsWith("/")?V.length-1:V.length;let se=F===V||!a&&F.startsWith(V)&&F.charAt(J)==="/",de=$!=null&&($===V||!a&&$.startsWith(V)&&$.charAt(V.length)==="/"),R={isActive:se,isPending:de,isTransitioning:D},S=se?e:void 0,C;typeof i=="function"?C=i(R):C=[i,se?"active":null,de?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let z=typeof l=="function"?l(R):l;return k.createElement(Jt,{...g,"aria-current":S,className:C,ref:v,style:z,to:c,viewTransition:h},typeof m=="function"?m(R):m)});u4.displayName="NavLink";var d4=k.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:a,state:l,method:c=Mh,action:h,onSubmit:m,relative:g,preventScrollReset:v,viewTransition:x,unstable_defaultShouldRevalidate:_,...E},I)=>{let{unstable_useTransitions:j}=k.useContext(qn),D=g4(),V=y4(h,{relative:g}),F=c.toLowerCase()==="get"?"get":"post",$=typeof h=="string"&&rS.test(h),J=se=>{if(m&&m(se),se.defaultPrevented)return;se.preventDefault();let de=se.nativeEvent.submitter,R=de?.getAttribute("formmethod")||c,S=()=>D(de||se.currentTarget,{fetcherKey:e,method:R,navigate:n,replace:a,state:l,relative:g,preventScrollReset:v,viewTransition:x,unstable_defaultShouldRevalidate:_});j&&n!==!1?k.startTransition(()=>S()):S()};return k.createElement("form",{ref:I,method:F,action:V,onSubmit:i?m:J,...E,"data-discover":!$&&t==="render"?"true":void 0})});d4.displayName="Form";function h4(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function aS(t){let e=k.useContext(wl);return yt(e,h4(t)),e}function f4(t,{target:e,replace:n,state:i,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:h,unstable_useTransitions:m}={}){let g=Pf(),v=Zi(),x=Su(t,{relative:l});return k.useCallback(_=>{if(qI(_,e)){_.preventDefault();let E=n!==void 0?n:lu(v)===lu(x),I=()=>g(t,{replace:E,state:i,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:h});m?k.startTransition(()=>I()):I()}},[v,g,x,n,i,e,t,a,l,c,h,m])}var m4=0,p4=()=>`__${String(++m4)}__`;function g4(){let{router:t}=aS("useSubmit"),{basename:e}=k.useContext(qn),n=MI(),i=t.fetch,a=t.navigate;return k.useCallback(async(l,c={})=>{let{action:h,method:m,encType:g,formData:v,body:x}=KI(l,e);if(c.navigate===!1){let _=c.fetcherKey||p4();await i(_,n,c.action||h,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:x,formMethod:c.method||m,formEncType:c.encType||g,flushSync:c.flushSync})}else await a(c.action||h,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:x,formMethod:c.method||m,formEncType:c.encType||g,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[i,a,e,n])}function y4(t,{relative:e}={}){let{basename:n}=k.useContext(qn),i=k.useContext(ds);yt(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...Su(t||".",{relative:e})},c=Zi();if(t==null){l.search=c.search;let h=new URLSearchParams(l.search),m=h.getAll("index");if(m.some(v=>v==="")){h.delete("index"),m.filter(x=>x).forEach(x=>h.append("index",x));let v=h.toString();l.search=v?`?${v}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:qi([n,l.pathname])),lu(l)}function v4(t,{relative:e}={}){let n=k.useContext(QE);yt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=aS("useViewTransitionState"),a=Su(t,{relative:e});if(!n.isTransitioning)return!1;let l=Ki(n.currentLocation.pathname,i)||n.currentLocation.pathname,c=Ki(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Zh(a.pathname,c)!=null||Zh(a.pathname,l)!=null}var x4=FE();const fy=k.createContext({});function my(t){const e=k.useRef(null);return e.current===null&&(e.current=t()),e.current}const oS=typeof window<"u",lS=oS?k.useLayoutEffect:k.useEffect,Lf=k.createContext(null);function py(t,e){t.indexOf(e)===-1&&t.push(e)}function ef(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const fi=(t,e,n)=>n>e?e:n<t?t:n;let gy=()=>{};const Yi={},cS=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function uS(t){return typeof t=="object"&&t!==null}const dS=t=>/^0[^.\s]+$/u.test(t);function yy(t){let e;return()=>(e===void 0&&(e=t()),e)}const cs=t=>t,b4=(t,e)=>n=>e(t(n)),Au=(...t)=>t.reduce(b4),cu=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};class vy{constructor(){this.subscriptions=[]}add(e){return py(this.subscriptions,e),()=>ef(this.subscriptions,e)}notify(e,n,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,i);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Is=t=>t*1e3,ls=t=>t/1e3;function hS(t,e){return e?t*(1e3/e):0}const fS=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,_4=1e-7,w4=12;function T4(t,e,n,i,a){let l,c,h=0;do c=e+(n-e)/2,l=fS(c,i,a)-t,l>0?n=c:e=c;while(Math.abs(l)>_4&&++h<w4);return c}function ku(t,e,n,i){if(t===e&&n===i)return cs;const a=l=>T4(l,0,1,t,n);return l=>l===0||l===1?l:fS(a(l),e,i)}const mS=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,pS=t=>e=>1-t(1-e),gS=ku(.33,1.53,.69,.99),xy=pS(gS),yS=mS(xy),vS=t=>(t*=2)<1?.5*xy(t):.5*(2-Math.pow(2,-10*(t-1))),by=t=>1-Math.sin(Math.acos(t)),xS=pS(by),bS=mS(by),E4=ku(.42,0,1,1),S4=ku(0,0,.58,1),_S=ku(.42,0,.58,1),A4=t=>Array.isArray(t)&&typeof t[0]!="number",wS=t=>Array.isArray(t)&&typeof t[0]=="number",k4={linear:cs,easeIn:E4,easeInOut:_S,easeOut:S4,circIn:by,circInOut:bS,circOut:xS,backIn:xy,backInOut:yS,backOut:gS,anticipate:vS},N4=t=>typeof t=="string",j_=t=>{if(wS(t)){gy(t.length===4);const[e,n,i,a]=t;return ku(e,n,i,a)}else if(N4(t))return k4[t];return t},bh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function C4(t,e){let n=new Set,i=new Set,a=!1,l=!1;const c=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function m(v){c.has(v)&&(g.schedule(v),t()),v(h)}const g={schedule:(v,x=!1,_=!1)=>{const I=_&&a?n:i;return x&&c.add(v),I.has(v)||I.add(v),v},cancel:v=>{i.delete(v),c.delete(v)},process:v=>{if(h=v,a){l=!0;return}a=!0,[n,i]=[i,n],n.forEach(m),n.clear(),a=!1,l&&(l=!1,g.process(v))}};return g}const R4=40;function TS(t,e){let n=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=bh.reduce(($,J)=>($[J]=C4(l),$),{}),{setup:h,read:m,resolveKeyframes:g,preUpdate:v,update:x,preRender:_,render:E,postRender:I}=c,j=()=>{const $=Yi.useManualTiming?a.timestamp:performance.now();n=!1,Yi.useManualTiming||(a.delta=i?1e3/60:Math.max(Math.min($-a.timestamp,R4),1)),a.timestamp=$,a.isProcessing=!0,h.process(a),m.process(a),g.process(a),v.process(a),x.process(a),_.process(a),E.process(a),I.process(a),a.isProcessing=!1,n&&e&&(i=!1,t(j))},D=()=>{n=!0,i=!0,a.isProcessing||t(j)};return{schedule:bh.reduce(($,J)=>{const se=c[J];return $[J]=(de,R=!1,S=!1)=>(n||D(),se.schedule(de,R,S)),$},{}),cancel:$=>{for(let J=0;J<bh.length;J++)c[bh[J]].cancel($)},state:a,steps:c}}const{schedule:dt,cancel:Qr,state:ln,steps:xg}=TS(typeof requestAnimationFrame<"u"?requestAnimationFrame:cs,!0);let Ph;function I4(){Ph=void 0}const wn={now:()=>(Ph===void 0&&wn.set(ln.isProcessing||Yi.useManualTiming?ln.timestamp:performance.now()),Ph),set:t=>{Ph=t,queueMicrotask(I4)}},ES=t=>e=>typeof e=="string"&&e.startsWith(t),SS=ES("--"),j4=ES("var(--"),_y=t=>j4(t)?D4.test(t.split("/*")[0].trim()):!1,D4=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function D_(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const El={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},uu={...El,transform:t=>fi(0,1,t)},_h={...El,default:1},Wc=t=>Math.round(t*1e5)/1e5,wy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function M4(t){return t==null}const V4=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Ty=(t,e)=>n=>!!(typeof n=="string"&&V4.test(n)&&n.startsWith(t)||e&&!M4(n)&&Object.prototype.hasOwnProperty.call(n,e)),AS=(t,e,n)=>i=>{if(typeof i!="string")return i;const[a,l,c,h]=i.match(wy);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(c),alpha:h!==void 0?parseFloat(h):1}},P4=t=>fi(0,255,t),bg={...El,transform:t=>Math.round(P4(t))},Ua={test:Ty("rgb","red"),parse:AS("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+bg.transform(t)+", "+bg.transform(e)+", "+bg.transform(n)+", "+Wc(uu.transform(i))+")"};function O4(t){let e="",n="",i="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,i+=i,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const i0={test:Ty("#"),parse:O4,transform:Ua.transform},Nu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Or=Nu("deg"),ri=Nu("%"),we=Nu("px"),L4=Nu("vh"),U4=Nu("vw"),M_={...ri,parse:t=>ri.parse(t)/100,transform:t=>ri.transform(t*100)},tl={test:Ty("hsl","hue"),parse:AS("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+ri.transform(Wc(e))+", "+ri.transform(Wc(n))+", "+Wc(uu.transform(i))+")"},Ut={test:t=>Ua.test(t)||i0.test(t)||tl.test(t),parse:t=>Ua.test(t)?Ua.parse(t):tl.test(t)?tl.parse(t):i0.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ua.transform(t):tl.transform(t),getAnimatableNone:t=>{const e=Ut.parse(t);return e.alpha=0,Ut.transform(e)}},z4=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function B4(t){return isNaN(t)&&typeof t=="string"&&(t.match(wy)?.length||0)+(t.match(z4)?.length||0)>0}const kS="number",NS="color",F4="var",H4="var(",V_="${}",q4=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function du(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},a=[];let l=0;const h=e.replace(q4,m=>(Ut.test(m)?(i.color.push(l),a.push(NS),n.push(Ut.parse(m))):m.startsWith(H4)?(i.var.push(l),a.push(F4),n.push(m)):(i.number.push(l),a.push(kS),n.push(parseFloat(m))),++l,V_)).split(V_);return{values:n,split:h,indexes:i,types:a}}function CS(t){return du(t).values}function RS(t){const{split:e,types:n}=du(t),i=e.length;return a=>{let l="";for(let c=0;c<i;c++)if(l+=e[c],a[c]!==void 0){const h=n[c];h===kS?l+=Wc(a[c]):h===NS?l+=Ut.transform(a[c]):l+=a[c]}return l}}const G4=t=>typeof t=="number"?0:Ut.test(t)?Ut.getAnimatableNone(t):t;function $4(t){const e=CS(t);return RS(t)(e.map(G4))}const Xr={test:B4,parse:CS,createTransformer:RS,getAnimatableNone:$4};function _g(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function K4({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let a=0,l=0,c=0;if(!e)a=l=c=n;else{const h=n<.5?n*(1+e):n+e-n*e,m=2*n-h;a=_g(m,h,t+1/3),l=_g(m,h,t),c=_g(m,h,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:i}}function tf(t,e){return n=>n>0?e:t}const vt=(t,e,n)=>t+(e-t)*n,wg=(t,e,n)=>{const i=t*t,a=n*(e*e-i)+i;return a<0?0:Math.sqrt(a)},Y4=[i0,Ua,tl],Q4=t=>Y4.find(e=>e.test(t));function P_(t){const e=Q4(t);if(!e)return!1;let n=e.parse(t);return e===tl&&(n=K4(n)),n}const O_=(t,e)=>{const n=P_(t),i=P_(e);if(!n||!i)return tf(t,e);const a={...n};return l=>(a.red=wg(n.red,i.red,l),a.green=wg(n.green,i.green,l),a.blue=wg(n.blue,i.blue,l),a.alpha=vt(n.alpha,i.alpha,l),Ua.transform(a))},r0=new Set(["none","hidden"]);function X4(t,e){return r0.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function W4(t,e){return n=>vt(t,e,n)}function Ey(t){return typeof t=="number"?W4:typeof t=="string"?_y(t)?tf:Ut.test(t)?O_:ej:Array.isArray(t)?IS:typeof t=="object"?Ut.test(t)?O_:J4:tf}function IS(t,e){const n=[...t],i=n.length,a=t.map((l,c)=>Ey(l)(l,e[c]));return l=>{for(let c=0;c<i;c++)n[c]=a[c](l);return n}}function J4(t,e){const n={...t,...e},i={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(i[a]=Ey(t[a])(t[a],e[a]));return a=>{for(const l in i)n[l]=i[l](a);return n}}function Z4(t,e){const n=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],c=t.indexes[l][i[l]],h=t.values[c]??0;n[a]=h,i[l]++}return n}const ej=(t,e)=>{const n=Xr.createTransformer(e),i=du(t),a=du(e);return i.indexes.var.length===a.indexes.var.length&&i.indexes.color.length===a.indexes.color.length&&i.indexes.number.length>=a.indexes.number.length?r0.has(t)&&!a.values.length||r0.has(e)&&!i.values.length?X4(t,e):Au(IS(Z4(i,a),a.values),n):tf(t,e)};function jS(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?vt(t,e,n):Ey(t)(t,e)}const tj=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>dt.update(e,n),stop:()=>Qr(e),now:()=>ln.isProcessing?ln.timestamp:wn.now()}},DS=(t,e,n=10)=>{let i="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)i+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},nf=2e4;function Sy(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<nf;)e+=n,i=t.next(e);return e>=nf?1/0:e}function nj(t,e=100,n){const i=n({...t,keyframes:[0,e]}),a=Math.min(Sy(i),nf);return{type:"keyframes",ease:l=>i.next(a*l).value/e,duration:ls(a)}}const sj=5;function MS(t,e,n){const i=Math.max(e-sj,0);return hS(n-t(i),e-i)}const Tt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Tg=.001;function ij({duration:t=Tt.duration,bounce:e=Tt.bounce,velocity:n=Tt.velocity,mass:i=Tt.mass}){let a,l,c=1-e;c=fi(Tt.minDamping,Tt.maxDamping,c),t=fi(Tt.minDuration,Tt.maxDuration,ls(t)),c<1?(a=g=>{const v=g*c,x=v*t,_=v-n,E=a0(g,c),I=Math.exp(-x);return Tg-_/E*I},l=g=>{const x=g*c*t,_=x*n+n,E=Math.pow(c,2)*Math.pow(g,2)*t,I=Math.exp(-x),j=a0(Math.pow(g,2),c);return(-a(g)+Tg>0?-1:1)*((_-E)*I)/j}):(a=g=>{const v=Math.exp(-g*t),x=(g-n)*t+1;return-Tg+v*x},l=g=>{const v=Math.exp(-g*t),x=(n-g)*(t*t);return v*x});const h=5/t,m=aj(a,l,h);if(t=Is(t),isNaN(m))return{stiffness:Tt.stiffness,damping:Tt.damping,duration:t};{const g=Math.pow(m,2)*i;return{stiffness:g,damping:c*2*Math.sqrt(i*g),duration:t}}}const rj=12;function aj(t,e,n){let i=n;for(let a=1;a<rj;a++)i=i-t(i)/e(i);return i}function a0(t,e){return t*Math.sqrt(1-e*e)}const oj=["duration","bounce"],lj=["stiffness","damping","mass"];function L_(t,e){return e.some(n=>t[n]!==void 0)}function cj(t){let e={velocity:Tt.velocity,stiffness:Tt.stiffness,damping:Tt.damping,mass:Tt.mass,isResolvedFromDuration:!1,...t};if(!L_(t,lj)&&L_(t,oj))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),a=i*i,l=2*fi(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:Tt.mass,stiffness:a,damping:l}}else{const n=ij(t);e={...e,...n,mass:Tt.mass},e.isResolvedFromDuration=!0}return e}function sf(t=Tt.visualDuration,e=Tt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],h={done:!1,value:l},{stiffness:m,damping:g,mass:v,duration:x,velocity:_,isResolvedFromDuration:E}=cj({...n,velocity:-ls(n.velocity||0)}),I=_||0,j=g/(2*Math.sqrt(m*v)),D=c-l,V=ls(Math.sqrt(m/v)),F=Math.abs(D)<5;i||(i=F?Tt.restSpeed.granular:Tt.restSpeed.default),a||(a=F?Tt.restDelta.granular:Tt.restDelta.default);let $;if(j<1){const se=a0(V,j);$=de=>{const R=Math.exp(-j*V*de);return c-R*((I+j*V*D)/se*Math.sin(se*de)+D*Math.cos(se*de))}}else if(j===1)$=se=>c-Math.exp(-V*se)*(D+(I+V*D)*se);else{const se=V*Math.sqrt(j*j-1);$=de=>{const R=Math.exp(-j*V*de),S=Math.min(se*de,300);return c-R*((I+j*V*D)*Math.sinh(S)+se*D*Math.cosh(S))/se}}const J={calculatedDuration:E&&x||null,next:se=>{const de=$(se);if(E)h.done=se>=x;else{let R=se===0?I:0;j<1&&(R=se===0?Is(I):MS($,se,de));const S=Math.abs(R)<=i,C=Math.abs(c-de)<=a;h.done=S&&C}return h.value=h.done?c:de,h},toString:()=>{const se=Math.min(Sy(J),nf),de=DS(R=>J.next(se*R).value,se,30);return se+"ms "+de},toTransition:()=>{}};return J}sf.applyToOptions=t=>{const e=nj(t,100,sf);return t.ease=e.ease,t.duration=Is(e.duration),t.type="keyframes",t};function o0({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:h,max:m,restDelta:g=.5,restSpeed:v}){const x=t[0],_={done:!1,value:x},E=S=>h!==void 0&&S<h||m!==void 0&&S>m,I=S=>h===void 0?m:m===void 0||Math.abs(h-S)<Math.abs(m-S)?h:m;let j=n*e;const D=x+j,V=c===void 0?D:c(D);V!==D&&(j=V-x);const F=S=>-j*Math.exp(-S/i),$=S=>V+F(S),J=S=>{const C=F(S),z=$(S);_.done=Math.abs(C)<=g,_.value=_.done?V:z};let se,de;const R=S=>{E(_.value)&&(se=S,de=sf({keyframes:[_.value,I(_.value)],velocity:MS($,S,_.value),damping:a,stiffness:l,restDelta:g,restSpeed:v}))};return R(0),{calculatedDuration:null,next:S=>{let C=!1;return!de&&se===void 0&&(C=!0,J(S),R(S)),se!==void 0&&S>=se?de.next(S-se):(!C&&J(S),_)}}}function uj(t,e,n){const i=[],a=n||Yi.mix||jS,l=t.length-1;for(let c=0;c<l;c++){let h=a(t[c],t[c+1]);if(e){const m=Array.isArray(e)?e[c]||cs:e;h=Au(m,h)}i.push(h)}return i}function dj(t,e,{clamp:n=!0,ease:i,mixer:a}={}){const l=t.length;if(gy(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=uj(e,i,a),m=h.length,g=v=>{if(c&&v<t[0])return e[0];let x=0;if(m>1)for(;x<t.length-2&&!(v<t[x+1]);x++);const _=cu(t[x],t[x+1],v);return h[x](_)};return n?v=>g(fi(t[0],t[l-1],v)):g}function hj(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const a=cu(0,e,i);t.push(vt(n,1,a))}}function fj(t){const e=[0];return hj(e,t.length-1),e}function mj(t,e){return t.map(n=>n*e)}function pj(t,e){return t.map(()=>e||_S).splice(0,t.length-1)}function Jc({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const a=A4(i)?i.map(j_):j_(i),l={done:!1,value:e[0]},c=mj(n&&n.length===e.length?n:fj(e),t),h=dj(c,e,{ease:Array.isArray(a)?a:pj(e,a)});return{calculatedDuration:t,next:m=>(l.value=h(m),l.done=m>=t,l)}}const gj=t=>t!==null;function Ay(t,{repeat:e,repeatType:n="loop"},i,a=1){const l=t.filter(gj),h=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!h||i===void 0?l[h]:i}const yj={decay:o0,inertia:o0,tween:Jc,keyframes:Jc,spring:sf};function VS(t){typeof t.type=="string"&&(t.type=yj[t.type])}class ky{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const vj=t=>t/100;class Ny extends ky{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==wn.now()&&this.tick(wn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;VS(e);const{type:n=Jc,repeat:i=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=e;let{keyframes:h}=e;const m=n||Jc;m!==Jc&&typeof h[0]!="number"&&(this.mixKeyframes=Au(vj,jS(h[0],h[1])),h=[0,100]);const g=m({...e,keyframes:h});l==="mirror"&&(this.mirroredGenerator=m({...e,keyframes:[...h].reverse(),velocity:-c})),g.calculatedDuration===null&&(g.calculatedDuration=Sy(g));const{calculatedDuration:v}=g;this.calculatedDuration=v,this.resolvedDuration=v+a,this.totalDuration=this.resolvedDuration*(i+1)-a,this.generator=g}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:i,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:h,calculatedDuration:m}=this;if(this.startTime===null)return i.next(0);const{delay:g=0,keyframes:v,repeat:x,repeatType:_,repeatDelay:E,type:I,onUpdate:j,finalKeyframe:D}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const V=this.currentTime-g*(this.playbackSpeed>=0?1:-1),F=this.playbackSpeed>=0?V<0:V>a;this.currentTime=Math.max(V,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let $=this.currentTime,J=i;if(x){const S=Math.min(this.currentTime,a)/h;let C=Math.floor(S),z=S%1;!z&&S>=1&&(z=1),z===1&&C--,C=Math.min(C,x+1),C%2&&(_==="reverse"?(z=1-z,E&&(z-=E/h)):_==="mirror"&&(J=c)),$=fi(0,1,z)*h}const se=F?{done:!1,value:v[0]}:J.next($);l&&(se.value=l(se.value));let{done:de}=se;!F&&m!==null&&(de=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&de);return R&&I!==o0&&(se.value=Ay(v,this.options,D,this.speed)),j&&j(se.value),R&&this.finish(),se}then(e,n){return this.finished.then(e,n)}get duration(){return ls(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ls(e)}get time(){return ls(this.currentTime)}set time(e){e=Is(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(wn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ls(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=tj,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(wn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function xj(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const za=t=>t*180/Math.PI,l0=t=>{const e=za(Math.atan2(t[1],t[0]));return c0(e)},bj={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:l0,rotateZ:l0,skewX:t=>za(Math.atan(t[1])),skewY:t=>za(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},c0=t=>(t=t%360,t<0&&(t+=360),t),U_=l0,z_=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),B_=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),_j={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:z_,scaleY:B_,scale:t=>(z_(t)+B_(t))/2,rotateX:t=>c0(za(Math.atan2(t[6],t[5]))),rotateY:t=>c0(za(Math.atan2(-t[2],t[0]))),rotateZ:U_,rotate:U_,skewX:t=>za(Math.atan(t[4])),skewY:t=>za(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function u0(t){return t.includes("scale")?1:0}function d0(t,e){if(!t||t==="none")return u0(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,a;if(n)i=_j,a=n;else{const h=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=bj,a=h}if(!a)return u0(e);const l=i[e],c=a[1].split(",").map(Tj);return typeof l=="function"?l(c):c[l]}const wj=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return d0(n,e)};function Tj(t){return parseFloat(t.trim())}const Sl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Al=new Set(Sl),F_=t=>t===El||t===we,Ej=new Set(["x","y","z"]),Sj=Sl.filter(t=>!Ej.has(t));function Aj(t){const e=[];return Sj.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const Br={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>d0(e,"x"),y:(t,{transform:e})=>d0(e,"y")};Br.translateX=Br.x;Br.translateY=Br.y;const Ha=new Set;let h0=!1,f0=!1,m0=!1;function PS(){if(f0){const t=Array.from(Ha).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const a=Aj(i);a.length&&(n.set(i,a),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const a=n.get(i);a&&a.forEach(([l,c])=>{i.getValue(l)?.set(c)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}f0=!1,h0=!1,Ha.forEach(t=>t.complete(m0)),Ha.clear()}function OS(){Ha.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(f0=!0)})}function kj(){m0=!0,OS(),PS(),m0=!1}class Cy{constructor(e,n,i,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Ha.add(this),h0||(h0=!0,dt.read(OS),dt.resolveKeyframes(PS))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:a}=this;if(e[0]===null){const l=a?.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(i&&n){const h=i.readValue(n,c);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=c),a&&l===void 0&&a.set(e[0])}xj(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ha.delete(this)}cancel(){this.state==="scheduled"&&(Ha.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Nj=t=>t.startsWith("--");function Cj(t,e,n){Nj(e)?t.style.setProperty(e,n):t.style[e]=n}const Rj=yy(()=>window.ScrollTimeline!==void 0),Ij={};function jj(t,e){const n=yy(t);return()=>Ij[e]??n()}const LS=jj(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Gc=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,H_={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Gc([0,.65,.55,1]),circOut:Gc([.55,0,1,.45]),backIn:Gc([.31,.01,.66,-.59]),backOut:Gc([.33,1.53,.69,.99])};function US(t,e){if(t)return typeof t=="function"?LS()?DS(t,e):"ease-out":wS(t)?Gc(t):Array.isArray(t)?t.map(n=>US(n,e)||H_.easeOut):H_[t]}function Dj(t,e,n,{delay:i=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:h="easeOut",times:m}={},g=void 0){const v={[e]:n};m&&(v.offset=m);const x=US(h,a);Array.isArray(x)&&(v.easing=x);const _={delay:i,duration:a,easing:Array.isArray(x)?"linear":x,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return g&&(_.pseudoElement=g),t.animate(v,_)}function zS(t){return typeof t=="function"&&"applyToOptions"in t}function Mj({type:t,...e}){return zS(t)&&LS()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class BS extends ky{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:i,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:h,onComplete:m}=e;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=e,gy(typeof e.type!="string");const g=Mj(e);this.animation=Dj(n,i,a,g,l),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const v=Ay(a,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(v):Cj(n,i,v),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){const e=this.options?.element;!this.isPseudoElement&&e?.isConnected&&this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return ls(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ls(e)}get time(){return ls(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Is(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&Rj()?(this.animation.timeline=e,cs):n(this)}}const FS={anticipate:vS,backInOut:yS,circInOut:bS};function Vj(t){return t in FS}function Pj(t){typeof t.ease=="string"&&Vj(t.ease)&&(t.ease=FS[t.ease])}const Eg=10;class Oj extends BS{constructor(e){Pj(e),VS(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:i,onComplete:a,element:l,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const h=new Ny({...c,autoplay:!1}),m=Math.max(Eg,wn.now()-this.startTime),g=fi(0,Eg,m-Eg);n.setWithVelocity(h.sample(Math.max(0,m-g)).value,h.sample(m).value,g),h.stop()}}const q_=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Xr.test(t)||t==="0")&&!t.startsWith("url("));function Lj(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function Uj(t,e,n,i){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=q_(a,e),h=q_(l,e);return!c||!h?!1:Lj(t)||(n==="spring"||zS(n))&&i}function p0(t){t.duration=0,t.type="keyframes"}const zj=new Set(["opacity","clipPath","filter","transform"]),Bj=yy(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Fj(t){const{motionValue:e,name:n,repeatDelay:i,repeatType:a,damping:l,type:c}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:g}=e.owner.getProps();return Bj()&&n&&zj.has(n)&&(n!=="transform"||!g)&&!m&&!i&&a!=="mirror"&&l!==0&&c!=="inertia"}const Hj=40;class qj extends ky{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:h,name:m,motionValue:g,element:v,...x}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=wn.now();const _={autoplay:e,delay:n,type:i,repeat:a,repeatDelay:l,repeatType:c,name:m,motionValue:g,element:v,...x},E=v?.KeyframeResolver||Cy;this.keyframeResolver=new E(h,(I,j,D)=>this.onKeyframesResolved(I,j,_,!D),m,g,v),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,i,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:h,delay:m,isHandoff:g,onUpdate:v}=i;this.resolvedAt=wn.now(),Uj(e,l,c,h)||((Yi.instantAnimations||!m)&&v?.(Ay(e,i,n)),e[0]=e[e.length-1],p0(i),i.repeat=0);const _={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>Hj?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:e},E=!g&&Fj(_),I=_.motionValue?.owner?.current,j=E?new Oj({..._,element:I}):new Ny(_);j.finished.then(()=>{this.notifyFinished()}).catch(cs),this.pendingTimeline&&(this.stopTimeline=j.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=j}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),kj()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function HS(t,e,n,i=0,a=1){const l=Array.from(t).sort((g,v)=>g.sortNodePosition(v)).indexOf(e),c=t.size,h=(c-1)*i;return typeof n=="function"?n(l,c):a===1?l*i:h-l*i}const Gj=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function $j(t){const e=Gj.exec(t);if(!e)return[,];const[,n,i,a]=e;return[`--${n??i}`,a]}function qS(t,e,n=1){const[i,a]=$j(t);if(!i)return;const l=window.getComputedStyle(e).getPropertyValue(i);if(l){const c=l.trim();return cS(c)?parseFloat(c):c}return _y(a)?qS(a,e,n+1):a}const Kj={type:"spring",stiffness:500,damping:25,restSpeed:10},Yj=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Qj={type:"keyframes",duration:.8},Xj={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Wj=(t,{keyframes:e})=>e.length>2?Qj:Al.has(t)?t.startsWith("scale")?Yj(e[1]):Kj:Xj,Jj=t=>t!==null;function Zj(t,{repeat:e,repeatType:n="loop"},i){const a=t.filter(Jj),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}function GS(t,e){if(t?.inherit&&e){const{inherit:n,...i}=t;return{...e,...i}}return t}function Ry(t,e){const n=t?.[e]??t?.default??t;return n!==t?GS(n,t):n}function e5({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:h,from:m,elapsed:g,...v}){return!!Object.keys(v).length}const Iy=(t,e,n,i={},a,l)=>c=>{const h=Ry(i,t)||{},m=h.delay||i.delay||0;let{elapsed:g=0}=i;g=g-Is(m);const v={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-g,onUpdate:_=>{e.set(_),h.onUpdate&&h.onUpdate(_)},onComplete:()=>{c(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:l?void 0:a};e5(h)||Object.assign(v,Wj(t,v)),v.duration&&(v.duration=Is(v.duration)),v.repeatDelay&&(v.repeatDelay=Is(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let x=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(p0(v),v.delay===0&&(x=!0)),(Yi.instantAnimations||Yi.skipAnimations||a?.shouldSkipAnimations)&&(x=!0,p0(v),v.delay=0),v.allowFlatten=!h.type&&!h.ease,x&&!l&&e.get()!==void 0){const _=Zj(v.keyframes,h);if(_!==void 0){dt.update(()=>{v.onUpdate(_),v.onComplete()});return}}return h.isSync?new Ny(v):new qj(v)};function G_(t){const e=[{},{}];return t?.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function jy(t,e,n,i){if(typeof e=="function"){const[a,l]=G_(i);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=G_(i);e=e(n!==void 0?n:t.custom,a,l)}return e}function al(t,e,n){const i=t.getProps();return jy(i,e,n!==void 0?n:i.custom,t)}const $S=new Set(["width","height","top","left","right","bottom",...Sl]),$_=30,t5=t=>!isNaN(parseFloat(t));class n5{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const a=wn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=wn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=t5(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new vy);const i=this.events[e].add(n);return e==="change"?()=>{i(),dt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=wn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>$_)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,$_);return hS(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function fl(t,e){return new n5(t,e)}const g0=t=>Array.isArray(t);function s5(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,fl(n))}function i5(t){return g0(t)?t[t.length-1]||0:t}function r5(t,e){const n=al(t,e);let{transitionEnd:i={},transition:a={},...l}=n||{};l={...l,...i};for(const c in l){const h=i5(l[c]);s5(t,c,h)}}const gn=t=>!!(t&&t.getVelocity);function a5(t){return!!(gn(t)&&t.add)}function y0(t,e){const n=t.getValue("willChange");if(a5(n))return n.add(e);if(!n&&Yi.WillChange){const i=new Yi.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function Dy(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const o5="framerAppearId",KS="data-"+Dy(o5);function YS(t){return t.props[KS]}function l5({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function QS(t,e,{delay:n=0,transitionOverride:i,type:a}={}){let{transition:l,transitionEnd:c,...h}=e;const m=t.getDefaultTransition();l=l?GS(l,m):m;const g=l?.reduceMotion;i&&(l=i);const v=[],x=a&&t.animationState&&t.animationState.getState()[a];for(const _ in h){const E=t.getValue(_,t.latestValues[_]??null),I=h[_];if(I===void 0||x&&l5(x,_))continue;const j={delay:n,...Ry(l||{},_)},D=E.get();if(D!==void 0&&!E.isAnimating&&!Array.isArray(I)&&I===D&&!j.velocity)continue;let V=!1;if(window.MotionHandoffAnimation){const J=YS(t);if(J){const se=window.MotionHandoffAnimation(J,_,dt);se!==null&&(j.startTime=se,V=!0)}}y0(t,_);const F=g??t.shouldReduceMotion;E.start(Iy(_,E,I,F&&$S.has(_)?{type:!1}:j,t,V));const $=E.animation;$&&v.push($)}if(c){const _=()=>dt.update(()=>{c&&r5(t,c)});v.length?Promise.all(v).then(_):_()}return v}function v0(t,e,n={}){const i=al(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(a=n.transitionOverride);const l=i?()=>Promise.all(QS(t,i,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:g=0,staggerChildren:v,staggerDirection:x}=a;return c5(t,e,m,g,v,x,n)}:()=>Promise.resolve(),{when:h}=a;if(h){const[m,g]=h==="beforeChildren"?[l,c]:[c,l];return m().then(()=>g())}else return Promise.all([l(),c(n.delay)])}function c5(t,e,n=0,i=0,a=0,l=1,c){const h=[];for(const m of t.variantChildren)m.notify("AnimationStart",e),h.push(v0(m,e,{...c,delay:n+(typeof i=="function"?0:i)+HS(t.variantChildren,m,i,a,l)}).then(()=>m.notify("AnimationComplete",e)));return Promise.all(h)}function u5(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const a=e.map(l=>v0(t,l,n));i=Promise.all(a)}else if(typeof e=="string")i=v0(t,e,n);else{const a=typeof e=="function"?al(t,e,n.custom):e;i=Promise.all(QS(t,a,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}const d5={test:t=>t==="auto",parse:t=>t},XS=t=>e=>e.test(t),WS=[El,we,ri,Or,U4,L4,d5],K_=t=>WS.find(XS(t));function h5(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||dS(t):!0}const f5=new Set(["brightness","contrast","saturate","opacity"]);function m5(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(wy)||[];if(!i)return t;const a=n.replace(i,"");let l=f5.has(e)?1:0;return i!==n&&(l*=100),e+"("+l+a+")"}const p5=/\b([a-z-]*)\(.*?\)/gu,x0={...Xr,getAnimatableNone:t=>{const e=t.match(p5);return e?e.map(m5).join(" "):t}},Y_={...El,transform:Math.round},g5={rotate:Or,rotateX:Or,rotateY:Or,rotateZ:Or,scale:_h,scaleX:_h,scaleY:_h,scaleZ:_h,skew:Or,skewX:Or,skewY:Or,distance:we,translateX:we,translateY:we,translateZ:we,x:we,y:we,z:we,perspective:we,transformPerspective:we,opacity:uu,originX:M_,originY:M_,originZ:we},My={borderWidth:we,borderTopWidth:we,borderRightWidth:we,borderBottomWidth:we,borderLeftWidth:we,borderRadius:we,borderTopLeftRadius:we,borderTopRightRadius:we,borderBottomRightRadius:we,borderBottomLeftRadius:we,width:we,maxWidth:we,height:we,maxHeight:we,top:we,right:we,bottom:we,left:we,inset:we,insetBlock:we,insetBlockStart:we,insetBlockEnd:we,insetInline:we,insetInlineStart:we,insetInlineEnd:we,padding:we,paddingTop:we,paddingRight:we,paddingBottom:we,paddingLeft:we,paddingBlock:we,paddingBlockStart:we,paddingBlockEnd:we,paddingInline:we,paddingInlineStart:we,paddingInlineEnd:we,margin:we,marginTop:we,marginRight:we,marginBottom:we,marginLeft:we,marginBlock:we,marginBlockStart:we,marginBlockEnd:we,marginInline:we,marginInlineStart:we,marginInlineEnd:we,fontSize:we,backgroundPositionX:we,backgroundPositionY:we,...g5,zIndex:Y_,fillOpacity:uu,strokeOpacity:uu,numOctaves:Y_},y5={...My,color:Ut,backgroundColor:Ut,outlineColor:Ut,fill:Ut,stroke:Ut,borderColor:Ut,borderTopColor:Ut,borderRightColor:Ut,borderBottomColor:Ut,borderLeftColor:Ut,filter:x0,WebkitFilter:x0},JS=t=>y5[t];function ZS(t,e){let n=JS(t);return n!==x0&&(n=Xr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const v5=new Set(["auto","none","0"]);function x5(t,e,n){let i=0,a;for(;i<t.length&&!a;){const l=t[i];typeof l=="string"&&!v5.has(l)&&du(l).values.length&&(a=t[i]),i++}if(a&&n)for(const l of e)t[l]=ZS(n,a)}class b5 extends Cy{constructor(e,n,i,a,l){super(e,n,i,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let v=0;v<e.length;v++){let x=e[v];if(typeof x=="string"&&(x=x.trim(),_y(x))){const _=qS(x,n.current);_!==void 0&&(e[v]=_),v===e.length-1&&(this.finalKeyframe=x)}}if(this.resolveNoneKeyframes(),!$S.has(i)||e.length!==2)return;const[a,l]=e,c=K_(a),h=K_(l),m=D_(a),g=D_(l);if(m!==g&&Br[i]){this.needsMeasurement=!0;return}if(c!==h)if(F_(c)&&F_(h))for(let v=0;v<e.length;v++){const x=e[v];typeof x=="string"&&(e[v]=parseFloat(x))}else Br[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let a=0;a<e.length;a++)(e[a]===null||h5(e[a]))&&i.push(a);i.length&&x5(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Br[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(i,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=i.length-1,c=i[l];i[l]=Br[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([h,m])=>{e.getValue(h).set(m)}),this.resolveNoneKeyframes()}}const _5=new Set(["opacity","clipPath","filter","transform"]);function e2(t,e,n){if(t==null)return[];if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const a=n?.[t]??i.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t).filter(i=>i!=null)}const t2=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function b0(t){return uS(t)&&"offsetHeight"in t}const{schedule:Vy}=TS(queueMicrotask,!1),ks={x:!1,y:!1};function n2(){return ks.x||ks.y}function w5(t){return t==="x"||t==="y"?ks[t]?null:(ks[t]=!0,()=>{ks[t]=!1}):ks.x||ks.y?null:(ks.x=ks.y=!0,()=>{ks.x=ks.y=!1})}function s2(t,e){const n=e2(t),i=new AbortController,a={passive:!0,...e,signal:i.signal};return[n,a,()=>i.abort()]}function T5(t){return!(t.pointerType==="touch"||n2())}function E5(t,e,n={}){const[i,a,l]=s2(t,n);return i.forEach(c=>{let h=!1,m=!1,g;const v=()=>{c.removeEventListener("pointerleave",I)},x=D=>{g&&(g(D),g=void 0),v()},_=D=>{h=!1,window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",_),m&&(m=!1,x(D))},E=()=>{h=!0,window.addEventListener("pointerup",_,a),window.addEventListener("pointercancel",_,a)},I=D=>{if(D.pointerType!=="touch"){if(h){m=!0;return}x(D)}},j=D=>{if(!T5(D))return;m=!1;const V=e(c,D);typeof V=="function"&&(g=V,c.addEventListener("pointerleave",I,a))};c.addEventListener("pointerenter",j,a),c.addEventListener("pointerdown",E,a)}),l}const i2=(t,e)=>e?t===e?!0:i2(t,e.parentElement):!1,Py=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,S5=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function A5(t){return S5.has(t.tagName)||t.isContentEditable===!0}const k5=new Set(["INPUT","SELECT","TEXTAREA"]);function N5(t){return k5.has(t.tagName)||t.isContentEditable===!0}const Oh=new WeakSet;function Q_(t){return e=>{e.key==="Enter"&&t(e)}}function Sg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const C5=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=Q_(()=>{if(Oh.has(n))return;Sg(n,"down");const a=Q_(()=>{Sg(n,"up")}),l=()=>Sg(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function X_(t){return Py(t)&&!n2()}const W_=new WeakSet;function R5(t,e,n={}){const[i,a,l]=s2(t,n),c=h=>{const m=h.currentTarget;if(!X_(h)||W_.has(h))return;Oh.add(m),n.stopPropagation&&W_.add(h);const g=e(m,h),v=(E,I)=>{window.removeEventListener("pointerup",x),window.removeEventListener("pointercancel",_),Oh.has(m)&&Oh.delete(m),X_(E)&&typeof g=="function"&&g(E,{success:I})},x=E=>{v(E,m===window||m===document||n.useGlobalTarget||i2(m,E.target))},_=E=>{v(E,!1)};window.addEventListener("pointerup",x,a),window.addEventListener("pointercancel",_,a)};return i.forEach(h=>{(n.useGlobalTarget?window:h).addEventListener("pointerdown",c,a),b0(h)&&(h.addEventListener("focus",g=>C5(g,a)),!A5(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),l}function Oy(t){return uS(t)&&"ownerSVGElement"in t}const Lh=new WeakMap;let Uh;const r2=(t,e,n)=>(i,a)=>a&&a[0]?a[0][t+"Size"]:Oy(i)&&"getBBox"in i?i.getBBox()[e]:i[n],I5=r2("inline","width","offsetWidth"),j5=r2("block","height","offsetHeight");function D5({target:t,borderBoxSize:e}){Lh.get(t)?.forEach(n=>{n(t,{get width(){return I5(t,e)},get height(){return j5(t,e)}})})}function M5(t){t.forEach(D5)}function V5(){typeof ResizeObserver>"u"||(Uh=new ResizeObserver(M5))}function P5(t,e){Uh||V5();const n=e2(t);return n.forEach(i=>{let a=Lh.get(i);a||(a=new Set,Lh.set(i,a)),a.add(e),Uh?.observe(i)}),()=>{n.forEach(i=>{const a=Lh.get(i);a?.delete(e),a?.size||Uh?.unobserve(i)})}}const zh=new Set;let nl;function O5(){nl=()=>{const t={get width(){return window.innerWidth},get height(){return window.innerHeight}};zh.forEach(e=>e(t))},window.addEventListener("resize",nl)}function L5(t){return zh.add(t),nl||O5(),()=>{zh.delete(t),!zh.size&&typeof nl=="function"&&(window.removeEventListener("resize",nl),nl=void 0)}}function J_(t,e){return typeof t=="function"?L5(t):P5(t,e)}function U5(t){return Oy(t)&&t.tagName==="svg"}const z5=[...WS,Ut,Xr],B5=t=>z5.find(XS(t)),Z_=()=>({translate:0,scale:1,origin:0,originPoint:0}),sl=()=>({x:Z_(),y:Z_()}),ew=()=>({min:0,max:0}),Kt=()=>({x:ew(),y:ew()}),F5=new WeakMap;function Uf(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function hu(t){return typeof t=="string"||Array.isArray(t)}const Ly=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Uy=["initial",...Ly];function zf(t){return Uf(t.animate)||Uy.some(e=>hu(t[e]))}function a2(t){return!!(zf(t)||t.variants)}function H5(t,e,n){for(const i in e){const a=e[i],l=n[i];if(gn(a))t.addValue(i,a);else if(gn(l))t.addValue(i,fl(a,{owner:t}));else if(l!==a)if(t.hasValue(i)){const c=t.getValue(i);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=t.getStaticValue(i);t.addValue(i,fl(c!==void 0?c:a,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const _0={current:null},o2={current:!1},q5=typeof window<"u";function G5(){if(o2.current=!0,!!q5)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>_0.current=t.matches;t.addEventListener("change",e),e()}else _0.current=!1}const tw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let rf={};function l2(t){rf=t}function $5(){return rf}class K5{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:a,skipAnimations:l,blockInitialAnimation:c,visualState:h},m={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=Cy,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const E=wn.now();this.renderScheduledAt<E&&(this.renderScheduledAt=E,dt.render(this.render,!1,!0))};const{latestValues:g,renderState:v}=h;this.latestValues=g,this.baseTarget={...g},this.initialValues=n.initial?{...g}:{},this.renderState=v,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.skipAnimationsConfig=l,this.options=m,this.blockInitialAnimation=!!c,this.isControllingVariants=zf(n),this.isVariantNode=a2(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:x,..._}=this.scrapeMotionValuesFromProps(n,{},this);for(const E in _){const I=_[E];g[E]!==void 0&&gn(I)&&I.set(g[E])}}mount(e){if(this.hasBeenMounted)for(const n in this.initialValues)this.values.get(n)?.jump(this.initialValues[n]),this.latestValues[n]=this.initialValues[n];this.current=e,F5.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(o2.current||G5(),this.shouldReduceMotion=_0.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,this.parent?.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){this.projection&&this.projection.unmount(),Qr(this.notifyUpdate),Qr(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){if(this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)(),n.accelerate&&_5.has(e)&&this.current instanceof HTMLElement){const{factory:c,keyframes:h,times:m,ease:g,duration:v}=n.accelerate,x=new BS({element:this.current,name:e,keyframes:h,times:m,ease:g,duration:Is(v)}),_=c(x);this.valueSubscriptions.set(e,()=>{_(),x.cancel()});return}const i=Al.has(e);i&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&dt.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;typeof window<"u"&&window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in rf){const n=rf[e];if(!n)continue;const{isEnabled:i,Feature:a}=n;if(!this.features[e]&&a&&i(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Kt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<tw.length;i++){const a=tw[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=e[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=H5(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=fl(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(cS(i)||dS(i))?i=parseFloat(i):!B5(i)&&Xr.test(n)&&(i=ZS(e,n)),this.setBaseTarget(e,gn(i)?i.get():i)),gn(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const l=jy(this.props,n,this.presenceContext?.custom);l&&(i=l[e])}if(n&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!gn(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new vy),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Vy.render(this.render)}}class c2 extends K5{constructor(){super(...arguments),this.KeyframeResolver=b5}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const i=e.style;return i?i[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;gn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class ra{constructor(e){this.isMounted=!1,this.node=e}update(){}}function u2({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function Y5({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Q5(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function Ag(t){return t===void 0||t===1}function w0({scale:t,scaleX:e,scaleY:n}){return!Ag(t)||!Ag(e)||!Ag(n)}function Oa(t){return w0(t)||d2(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function d2(t){return nw(t.x)||nw(t.y)}function nw(t){return t&&t!=="0%"}function af(t,e,n){const i=t-n,a=e*i;return n+a}function sw(t,e,n,i,a){return a!==void 0&&(t=af(t,a,i)),af(t,n,i)+e}function T0(t,e=0,n=1,i,a){t.min=sw(t.min,e,n,i,a),t.max=sw(t.max,e,n,i,a)}function h2(t,{x:e,y:n}){T0(t.x,e.translate,e.scale,e.originPoint),T0(t.y,n.translate,n.scale,n.originPoint)}const iw=.999999999999,rw=1.0000000000001;function X5(t,e,n,i=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,c;for(let h=0;h<a;h++){l=n[h],c=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(i&&l.options.layoutScroll&&l.scroll&&l!==l.root&&rl(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,h2(t,c)),i&&Oa(l.latestValues)&&rl(t,l.latestValues))}e.x<rw&&e.x>iw&&(e.x=1),e.y<rw&&e.y>iw&&(e.y=1)}function il(t,e){t.min=t.min+e,t.max=t.max+e}function aw(t,e,n,i,a=.5){const l=vt(t.min,t.max,a);T0(t,e,n,l,i)}function rl(t,e){aw(t.x,e.x,e.scaleX,e.scale,e.originX),aw(t.y,e.y,e.scaleY,e.scale,e.originY)}function f2(t,e){return u2(Q5(t.getBoundingClientRect(),e))}function W5(t,e,n){const i=f2(t,n),{scroll:a}=e;return a&&(il(i.x,a.offset.x),il(i.y,a.offset.y)),i}const J5={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Z5=Sl.length;function eD(t,e,n){let i="",a=!0;for(let l=0;l<Z5;l++){const c=Sl[l],h=t[c];if(h===void 0)continue;let m=!0;if(typeof h=="number")m=h===(c.startsWith("scale")?1:0);else{const g=parseFloat(h);m=c.startsWith("scale")?g===1:g===0}if(!m||n){const g=t2(h,My[c]);if(!m){a=!1;const v=J5[c]||c;i+=`${v}(${g}) `}n&&(e[c]=g)}}return i=i.trim(),n?i=n(e,a?"":i):a&&(i="none"),i}function zy(t,e,n){const{style:i,vars:a,transformOrigin:l}=t;let c=!1,h=!1;for(const m in e){const g=e[m];if(Al.has(m)){c=!0;continue}else if(SS(m)){a[m]=g;continue}else{const v=t2(g,My[m]);m.startsWith("origin")?(h=!0,l[m]=v):i[m]=v}}if(e.transform||(c||n?i.transform=eD(e,t.transform,n):i.transform&&(i.transform="none")),h){const{originX:m="50%",originY:g="50%",originZ:v=0}=l;i.transformOrigin=`${m} ${g} ${v}`}}function m2(t,{style:e,vars:n},i,a){const l=t.style;let c;for(c in e)l[c]=e[c];a?.applyProjectionStyles(l,i);for(c in n)l.setProperty(c,n[c])}function ow(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Bc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(we.test(t))t=parseFloat(t);else return t;const n=ow(t,e.target.x),i=ow(t,e.target.y);return`${n}% ${i}%`}},tD={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,a=Xr.parse(t);if(a.length>5)return i;const l=Xr.createTransformer(t),c=typeof a[0]!="number"?1:0,h=n.x.scale*e.x,m=n.y.scale*e.y;a[0+c]/=h,a[1+c]/=m;const g=vt(h,m,.5);return typeof a[2+c]=="number"&&(a[2+c]/=g),typeof a[3+c]=="number"&&(a[3+c]/=g),l(a)}},E0={borderRadius:{...Bc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Bc,borderTopRightRadius:Bc,borderBottomLeftRadius:Bc,borderBottomRightRadius:Bc,boxShadow:tD};function p2(t,{layout:e,layoutId:n}){return Al.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!E0[t]||t==="opacity")}function By(t,e,n){const i=t.style,a=e?.style,l={};if(!i)return l;for(const c in i)(gn(i[c])||a&&gn(a[c])||p2(c,t)||n?.getValue(c)?.liveStyle!==void 0)&&(l[c]=i[c]);return l}function nD(t){return window.getComputedStyle(t)}class sD extends c2{constructor(){super(...arguments),this.type="html",this.renderInstance=m2}readValueFromInstance(e,n){if(Al.has(n))return this.projection?.isProjecting?u0(n):wj(e,n);{const i=nD(e),a=(SS(n)?i.getPropertyValue(n):i[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return f2(e,n)}build(e,n,i){zy(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return By(e,n,i)}}const iD={offset:"stroke-dashoffset",array:"stroke-dasharray"},rD={offset:"strokeDashoffset",array:"strokeDasharray"};function aD(t,e,n=1,i=0,a=!0){t.pathLength=1;const l=a?iD:rD;t[l.offset]=`${-i}`,t[l.array]=`${e} ${n}`}const oD=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function g2(t,{attrX:e,attrY:n,attrScale:i,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...h},m,g,v){if(zy(t,h,g),m){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:x,style:_}=t;x.transform&&(_.transform=x.transform,delete x.transform),(_.transform||x.transformOrigin)&&(_.transformOrigin=x.transformOrigin??"50% 50%",delete x.transformOrigin),_.transform&&(_.transformBox=v?.transformBox??"fill-box",delete x.transformBox);for(const E of oD)x[E]!==void 0&&(_[E]=x[E],delete x[E]);e!==void 0&&(x.x=e),n!==void 0&&(x.y=n),i!==void 0&&(x.scale=i),a!==void 0&&aD(x,a,l,c,!1)}const y2=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),v2=t=>typeof t=="string"&&t.toLowerCase()==="svg";function lD(t,e,n,i){m2(t,e,void 0,i);for(const a in e.attrs)t.setAttribute(y2.has(a)?a:Dy(a),e.attrs[a])}function x2(t,e,n){const i=By(t,e,n);for(const a in t)if(gn(t[a])||gn(e[a])){const l=Sl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[l]=t[a]}return i}class cD extends c2{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Kt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Al.has(n)){const i=JS(n);return i&&i.default||0}return n=y2.has(n)?n:Dy(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return x2(e,n,i)}build(e,n,i){g2(e,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,n,i,a){lD(e,n,i,a)}mount(e){this.isSVGTag=v2(e.tagName),super.mount(e)}}const uD=Uy.length;function b2(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?b2(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<uD;n++){const i=Uy[n],a=t.props[i];(hu(a)||a===!1)&&(e[i]=a)}return e}function _2(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const dD=[...Ly].reverse(),hD=Ly.length;function fD(t){return e=>Promise.all(e.map(({animation:n,options:i})=>u5(t,n,i)))}function mD(t){let e=fD(t),n=lw(),i=!0;const a=m=>(g,v)=>{const x=al(t,v,m==="exit"?t.presenceContext?.custom:void 0);if(x){const{transition:_,transitionEnd:E,...I}=x;g={...g,...I,...E}}return g};function l(m){e=m(t)}function c(m){const{props:g}=t,v=b2(t.parent)||{},x=[],_=new Set;let E={},I=1/0;for(let D=0;D<hD;D++){const V=dD[D],F=n[V],$=g[V]!==void 0?g[V]:v[V],J=hu($),se=V===m?F.isActive:null;se===!1&&(I=D);let de=$===v[V]&&$!==g[V]&&J;if(de&&i&&t.manuallyAnimateOnMount&&(de=!1),F.protectedKeys={...E},!F.isActive&&se===null||!$&&!F.prevProp||Uf($)||typeof $=="boolean")continue;if(V==="exit"&&F.isActive&&se!==!0){F.prevResolvedValues&&(E={...E,...F.prevResolvedValues});continue}const R=pD(F.prevProp,$);let S=R||V===m&&F.isActive&&!de&&J||D>I&&J,C=!1;const z=Array.isArray($)?$:[$];let U=z.reduce(a(V),{});se===!1&&(U={});const{prevResolvedValues:G={}}=F,M={...G,...U},Be=q=>{S=!0,_.has(q)&&(C=!0,_.delete(q)),F.needsAnimating[q]=!0;const H=t.getValue(q);H&&(H.liveStyle=!1)};for(const q in M){const H=U[q],ae=G[q];if(E.hasOwnProperty(q))continue;let fe=!1;g0(H)&&g0(ae)?fe=!_2(H,ae):fe=H!==ae,fe?H!=null?Be(q):_.add(q):H!==void 0&&_.has(q)?Be(q):F.protectedKeys[q]=!0}F.prevProp=$,F.prevResolvedValues=U,F.isActive&&(E={...E,...U}),i&&t.blockInitialAnimation&&(S=!1);const Y=de&&R;S&&(!Y||C)&&x.push(...z.map(q=>{const H={type:V};if(typeof q=="string"&&i&&!Y&&t.manuallyAnimateOnMount&&t.parent){const{parent:ae}=t,fe=al(ae,q);if(ae.enteringChildren&&fe){const{delayChildren:P}=fe.transition||{};H.delay=HS(ae.enteringChildren,t,P)}}return{animation:q,options:H}}))}if(_.size){const D={};if(typeof g.initial!="boolean"){const V=al(t,Array.isArray(g.initial)?g.initial[0]:g.initial);V&&V.transition&&(D.transition=V.transition)}_.forEach(V=>{const F=t.getBaseTarget(V),$=t.getValue(V);$&&($.liveStyle=!0),D[V]=F??null}),x.push({animation:D})}let j=!!x.length;return i&&(g.initial===!1||g.initial===g.animate)&&!t.manuallyAnimateOnMount&&(j=!1),i=!1,j?e(x):Promise.resolve()}function h(m,g){if(n[m].isActive===g)return Promise.resolve();t.variantChildren?.forEach(x=>x.animationState?.setActive(m,g)),n[m].isActive=g;const v=c(m);for(const x in n)n[x].protectedKeys={};return v}return{animateChanges:c,setActive:h,setAnimateFunction:l,getState:()=>n,reset:()=>{n=lw()}}}function pD(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!_2(e,t):!1}function Va(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function lw(){return{animate:Va(!0),whileInView:Va(),whileHover:Va(),whileTap:Va(),whileDrag:Va(),whileFocus:Va(),exit:Va()}}function cw(t,e){t.min=e.min,t.max=e.max}function Ss(t,e){cw(t.x,e.x),cw(t.y,e.y)}function uw(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}const w2=1e-4,gD=1-w2,yD=1+w2,T2=.01,vD=0-T2,xD=0+T2;function Tn(t){return t.max-t.min}function bD(t,e,n){return Math.abs(t-e)<=n}function dw(t,e,n,i=.5){t.origin=i,t.originPoint=vt(e.min,e.max,t.origin),t.scale=Tn(n)/Tn(e),t.translate=vt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=gD&&t.scale<=yD||isNaN(t.scale))&&(t.scale=1),(t.translate>=vD&&t.translate<=xD||isNaN(t.translate))&&(t.translate=0)}function Zc(t,e,n,i){dw(t.x,e.x,n.x,i?i.originX:void 0),dw(t.y,e.y,n.y,i?i.originY:void 0)}function hw(t,e,n){t.min=n.min+e.min,t.max=t.min+Tn(e)}function _D(t,e,n){hw(t.x,e.x,n.x),hw(t.y,e.y,n.y)}function fw(t,e,n){t.min=e.min-n.min,t.max=t.min+Tn(e)}function of(t,e,n){fw(t.x,e.x,n.x),fw(t.y,e.y,n.y)}function mw(t,e,n,i,a){return t-=e,t=af(t,1/n,i),a!==void 0&&(t=af(t,1/a,i)),t}function wD(t,e=0,n=1,i=.5,a,l=t,c=t){if(ri.test(e)&&(e=parseFloat(e),e=vt(c.min,c.max,e/100)-c.min),typeof e!="number")return;let h=vt(l.min,l.max,i);t===l&&(h-=e),t.min=mw(t.min,e,n,h,a),t.max=mw(t.max,e,n,h,a)}function pw(t,e,[n,i,a],l,c){wD(t,e[n],e[i],e[a],e.scale,l,c)}const TD=["x","scaleX","originX"],ED=["y","scaleY","originY"];function gw(t,e,n,i){pw(t.x,e,TD,n?n.x:void 0,i?i.x:void 0),pw(t.y,e,ED,n?n.y:void 0,i?i.y:void 0)}function yw(t){return t.translate===0&&t.scale===1}function E2(t){return yw(t.x)&&yw(t.y)}function vw(t,e){return t.min===e.min&&t.max===e.max}function SD(t,e){return vw(t.x,e.x)&&vw(t.y,e.y)}function xw(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function S2(t,e){return xw(t.x,e.x)&&xw(t.y,e.y)}function bw(t){return Tn(t.x)/Tn(t.y)}function _w(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function si(t){return[t("x"),t("y")]}function AD(t,e,n){let i="";const a=t.x.translate/e.x,l=t.y.translate/e.y,c=n?.z||0;if((a||l||c)&&(i=`translate3d(${a}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:g,rotate:v,rotateX:x,rotateY:_,skewX:E,skewY:I}=n;g&&(i=`perspective(${g}px) ${i}`),v&&(i+=`rotate(${v}deg) `),x&&(i+=`rotateX(${x}deg) `),_&&(i+=`rotateY(${_}deg) `),E&&(i+=`skewX(${E}deg) `),I&&(i+=`skewY(${I}deg) `)}const h=t.x.scale*e.x,m=t.y.scale*e.y;return(h!==1||m!==1)&&(i+=`scale(${h}, ${m})`),i||"none"}const A2=["TopLeft","TopRight","BottomLeft","BottomRight"],kD=A2.length,ww=t=>typeof t=="string"?parseFloat(t):t,Tw=t=>typeof t=="number"||we.test(t);function ND(t,e,n,i,a,l){a?(t.opacity=vt(0,n.opacity??1,CD(i)),t.opacityExit=vt(e.opacity??1,0,RD(i))):l&&(t.opacity=vt(e.opacity??1,n.opacity??1,i));for(let c=0;c<kD;c++){const h=`border${A2[c]}Radius`;let m=Ew(e,h),g=Ew(n,h);if(m===void 0&&g===void 0)continue;m||(m=0),g||(g=0),m===0||g===0||Tw(m)===Tw(g)?(t[h]=Math.max(vt(ww(m),ww(g),i),0),(ri.test(g)||ri.test(m))&&(t[h]+="%")):t[h]=g}(e.rotate||n.rotate)&&(t.rotate=vt(e.rotate||0,n.rotate||0,i))}function Ew(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const CD=k2(0,.5,xS),RD=k2(.5,.95,cs);function k2(t,e,n){return i=>i<t?0:i>e?1:n(cu(t,e,i))}function ID(t,e,n){const i=gn(t)?t:fl(t);return i.start(Iy("",i,e,n)),i.animation}function fu(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}const jD=(t,e)=>t.depth-e.depth;class DD{constructor(){this.children=[],this.isDirty=!1}add(e){py(this.children,e),this.isDirty=!0}remove(e){ef(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(jD),this.isDirty=!1,this.children.forEach(e)}}function MD(t,e){const n=wn.now(),i=({timestamp:a})=>{const l=a-n;l>=e&&(Qr(i),t(l-e))};return dt.setup(i,!0),()=>Qr(i)}function Bh(t){return gn(t)?t.get():t}class VD{constructor(){this.members=[]}add(e){py(this.members,e);for(let n=this.members.length-1;n>=0;n--){const i=this.members[n];if(i===e||i===this.lead||i===this.prevLead)continue;const a=i.instance;a&&a.isConnected===!1&&i.isPresent!==!1&&!i.snapshot&&ef(this.members,i)}e.scheduleRender()}remove(e){if(ef(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let i;for(let a=n;a>=0;a--){const l=this.members[a],c=l.instance;if(l.isPresent!==!1&&(!c||c.isConnected!==!1)){i=l;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender();const a=i.options.layoutDependency,l=e.options.layoutDependency;if(!(a!==void 0&&l!==void 0&&a===l)){const m=i.instance;m&&m.isConnected===!1&&!i.snapshot||(e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0))}const{crossfade:h}=e.options;h===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Fh={hasAnimatedSinceResize:!0,hasEverUpdated:!1},kg=["","X","Y","Z"],PD=1e3;let OD=0;function Ng(t,e,n,i){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),i&&(i[t]=0))}function N2(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=YS(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",dt,!(a||l))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&N2(i)}function C2({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(c={},h=e?.()){this.id=OD++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(zD),this.nodes.forEach(qD),this.nodes.forEach(GD),this.nodes.forEach(BD)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new DD)}addEventListener(c,h){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new vy),this.eventHandlers.get(c).add(h)}notifyListeners(c,...h){const m=this.eventHandlers.get(c);m&&m.notify(...h)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=Oy(c)&&!U5(c),this.instance=c;const{layoutId:h,layout:m,visualElement:g}=this.options;if(g&&!g.current&&g.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||h)&&(this.isLayoutDirty=!0),t){let v,x=0;const _=()=>this.root.updateBlockedByResize=!1;dt.read(()=>{x=window.innerWidth}),t(c,()=>{const E=window.innerWidth;E!==x&&(x=E,this.root.updateBlockedByResize=!0,v&&v(),v=MD(_,250),Fh.hasAnimatedSinceResize&&(Fh.hasAnimatedSinceResize=!1,this.nodes.forEach(kw)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&g&&(h||m)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:x,hasRelativeLayoutChanged:_,layout:E})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const I=this.options.transition||g.getDefaultTransition()||XD,{onLayoutAnimationStart:j,onLayoutAnimationComplete:D}=g.getProps(),V=!this.targetLayout||!S2(this.targetLayout,E),F=!x&&_;if(this.options.layoutRoot||this.resumeFrom||F||x&&(V||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const $={...Ry(I,"layout"),onPlay:j,onComplete:D};(g.shouldReduceMotion||this.options.layoutRoot)&&($.delay=0,$.type=!1),this.startAnimation($),this.setAnimationOrigin(v,F)}else x||kw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=E})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Qr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach($D),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&N2(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const x=this.path[v];x.shouldResetTransform=!0,x.updateScroll("snapshot"),x.options.layoutRoot&&x.willUpdate(!1)}const{layoutId:h,layout:m}=this.options;if(h===void 0&&!m)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Sw);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Aw);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(HD),this.nodes.forEach(LD),this.nodes.forEach(UD)):this.nodes.forEach(Aw),this.clearAllSnapshots();const h=wn.now();ln.delta=fi(0,1e3/60,h-ln.timestamp),ln.timestamp=h,ln.isProcessing=!0,xg.update.process(ln),xg.preRender.process(ln),xg.render.process(ln),ln.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Vy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(FD),this.sharedNodes.forEach(KD)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,dt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){dt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Tn(this.snapshot.measuredBox.x)&&!Tn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Kt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(h=!1),h&&this.instance){const m=i(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!E2(this.projectionDelta),m=this.getTransformTemplate(),g=m?m(this.latestValues,""):void 0,v=g!==this.prevTransformTemplateValue;c&&this.instance&&(h||Oa(this.latestValues)||v)&&(a(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const h=this.measurePageBox();let m=this.removeElementScroll(h);return c&&(m=this.removeTransform(m)),WD(m),{animationId:this.root.animationId,measuredBox:h,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return Kt();const h=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(JD))){const{scroll:g}=this.root;g&&(il(h.x,g.offset.x),il(h.y,g.offset.y))}return h}removeElementScroll(c){const h=Kt();if(Ss(h,c),this.scroll?.wasRoot)return h;for(let m=0;m<this.path.length;m++){const g=this.path[m],{scroll:v,options:x}=g;g!==this.root&&v&&x.layoutScroll&&(v.wasRoot&&Ss(h,c),il(h.x,v.offset.x),il(h.y,v.offset.y))}return h}applyTransform(c,h=!1){const m=Kt();Ss(m,c);for(let g=0;g<this.path.length;g++){const v=this.path[g];!h&&v.options.layoutScroll&&v.scroll&&v!==v.root&&rl(m,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),Oa(v.latestValues)&&rl(m,v.latestValues)}return Oa(this.latestValues)&&rl(m,this.latestValues),m}removeTransform(c){const h=Kt();Ss(h,c);for(let m=0;m<this.path.length;m++){const g=this.path[m];if(!g.instance||!Oa(g.latestValues))continue;w0(g.latestValues)&&g.updateSnapshot();const v=Kt(),x=g.measurePageBox();Ss(v,x),gw(h,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,v)}return Oa(this.latestValues)&&gw(h,this.latestValues),h}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ln.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==h;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:x}=this.options;if(!this.layout||!(v||x))return;this.resolvedRelativeTargetAt=ln.timestamp;const _=this.getClosestProjectingParent();_&&this.linkedParentVersion!==_.layoutVersion&&!_.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(_&&_.layout?this.createRelativeTarget(_,this.layout.layoutBox,_.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Kt(),this.targetWithTransforms=Kt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),_D(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ss(this.target,this.layout.layoutBox),h2(this.target,this.targetDelta)):Ss(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,_&&!!_.resumingFrom==!!this.resumingFrom&&!_.options.layoutScroll&&_.target&&this.animationProgress!==1?this.createRelativeTarget(_,this.target,_.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||w0(this.parent.latestValues)||d2(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,h,m){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Kt(),this.relativeTargetOrigin=Kt(),of(this.relativeTargetOrigin,h,m),Ss(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const c=this.getLead(),h=!!this.resumingFrom||this!==c;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===ln.timestamp&&(m=!1),m)return;const{layout:g,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||v))return;Ss(this.layoutCorrected,this.layout.layoutBox);const x=this.treeScale.x,_=this.treeScale.y;X5(this.layoutCorrected,this.treeScale,this.path,h),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Kt());const{target:E}=c;if(!E){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(uw(this.prevProjectionDelta.x,this.projectionDelta.x),uw(this.prevProjectionDelta.y,this.projectionDelta.y)),Zc(this.projectionDelta,this.layoutCorrected,E,this.latestValues),(this.treeScale.x!==x||this.treeScale.y!==_||!_w(this.projectionDelta.x,this.prevProjectionDelta.x)||!_w(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",E))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=sl(),this.projectionDelta=sl(),this.projectionDeltaWithTransform=sl()}setAnimationOrigin(c,h=!1){const m=this.snapshot,g=m?m.latestValues:{},v={...this.latestValues},x=sl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const _=Kt(),E=m?m.source:void 0,I=this.layout?this.layout.source:void 0,j=E!==I,D=this.getStack(),V=!D||D.members.length<=1,F=!!(j&&!V&&this.options.crossfade===!0&&!this.path.some(QD));this.animationProgress=0;let $;this.mixTargetDelta=J=>{const se=J/1e3;Nw(x.x,c.x,se),Nw(x.y,c.y,se),this.setTargetDelta(x),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(of(_,this.layout.layoutBox,this.relativeParent.layout.layoutBox),YD(this.relativeTarget,this.relativeTargetOrigin,_,se),$&&SD(this.relativeTarget,$)&&(this.isProjectionDirty=!1),$||($=Kt()),Ss($,this.relativeTarget)),j&&(this.animationValues=v,ND(v,g,this.latestValues,se,F,V)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=se},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Qr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=dt.update(()=>{Fh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=fl(0)),this.currentAnimation=ID(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),c.onUpdate&&c.onUpdate(h)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(PD),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:h,target:m,layout:g,latestValues:v}=c;if(!(!h||!m||!g)){if(this!==c&&this.layout&&g&&R2(this.options.animationType,this.layout.layoutBox,g.layoutBox)){m=this.target||Kt();const x=Tn(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+x;const _=Tn(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+_}Ss(h,m),rl(h,v),Zc(this.projectionDeltaWithTransform,this.layoutCorrected,h,v)}}registerSharedNode(c,h){this.sharedNodes.has(c)||this.sharedNodes.set(c,new VD),this.sharedNodes.get(c).add(h);const g=h.options.initialPromotionConfig;h.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(h):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:h,preserveFollowOpacity:m}={}){const g=this.getStack();g&&g.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let h=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(h=!0),!h)return;const g={};m.z&&Ng("z",c,g,this.animationValues);for(let v=0;v<kg.length;v++)Ng(`rotate${kg[v]}`,c,g,this.animationValues),Ng(`skew${kg[v]}`,c,g,this.animationValues);c.render();for(const v in g)c.setStaticValue(v,g[v]),this.animationValues&&(this.animationValues[v]=g[v]);c.scheduleRender()}applyProjectionStyles(c,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Bh(h?.pointerEvents)||"",c.transform=m?m(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Bh(h?.pointerEvents)||""),this.hasProjected&&!Oa(this.latestValues)&&(c.transform=m?m({},""):"none",this.hasProjected=!1);return}c.visibility="";const v=g.animationValues||g.latestValues;this.applyTransformsToTarget();let x=AD(this.projectionDeltaWithTransform,this.treeScale,v);m&&(x=m(v,x)),c.transform=x;const{x:_,y:E}=this.projectionDelta;c.transformOrigin=`${_.origin*100}% ${E.origin*100}% 0`,g.animationValues?c.opacity=g===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:c.opacity=g===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const I in E0){if(v[I]===void 0)continue;const{correct:j,applyTo:D,isCSSVariable:V}=E0[I],F=x==="none"?v[I]:j(v[I],g);if(D){const $=D.length;for(let J=0;J<$;J++)c[D[J]]=F}else V?this.options.visualElement.renderState.vars[I]=F:c[I]=F}this.options.layoutId&&(c.pointerEvents=g===this?Bh(h?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(Sw),this.root.sharedNodes.clear()}}}function LD(t){t.updateLayout()}function UD(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?si(v=>{const x=l?e.measuredBox[v]:e.layoutBox[v],_=Tn(x);x.min=n[v].min,x.max=x.min+_}):R2(a,e.layoutBox,n)&&si(v=>{const x=l?e.measuredBox[v]:e.layoutBox[v],_=Tn(n[v]);x.max=x.min+_,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[v].max=t.relativeTarget[v].min+_)});const c=sl();Zc(c,n,e.layoutBox);const h=sl();l?Zc(h,t.applyTransform(i,!0),e.measuredBox):Zc(h,n,e.layoutBox);const m=!E2(c);let g=!1;if(!t.resumeFrom){const v=t.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:x,layout:_}=v;if(x&&_){const E=Kt();of(E,e.layoutBox,x.layoutBox);const I=Kt();of(I,n,_.layoutBox),S2(E,I)||(g=!0),v.options.layoutRoot&&(t.relativeTarget=I,t.relativeTargetOrigin=E,t.relativeParent=v)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:h,layoutDelta:c,hasLayoutChanged:m,hasRelativeLayoutChanged:g})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function zD(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function BD(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function FD(t){t.clearSnapshot()}function Sw(t){t.clearMeasurements()}function Aw(t){t.isLayoutDirty=!1}function HD(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function kw(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function qD(t){t.resolveTargetDelta()}function GD(t){t.calcProjection()}function $D(t){t.resetSkewAndRotation()}function KD(t){t.removeLeadSnapshot()}function Nw(t,e,n){t.translate=vt(e.translate,0,n),t.scale=vt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Cw(t,e,n,i){t.min=vt(e.min,n.min,i),t.max=vt(e.max,n.max,i)}function YD(t,e,n,i){Cw(t.x,e.x,n.x,i),Cw(t.y,e.y,n.y,i)}function QD(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const XD={duration:.45,ease:[.4,0,.1,1]},Rw=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Iw=Rw("applewebkit/")&&!Rw("chrome/")?Math.round:cs;function jw(t){t.min=Iw(t.min),t.max=Iw(t.max)}function WD(t){jw(t.x),jw(t.y)}function R2(t,e,n){return t==="position"||t==="preserve-aspect"&&!bD(bw(e),bw(n),.2)}function JD(t){return t!==t.root&&t.scroll?.wasRoot}const ZD=C2({attachResizeListener:(t,e)=>fu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),Cg={current:void 0},I2=C2({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Cg.current){const t=new ZD({});t.mount(window),t.setOptions({layoutScroll:!0}),Cg.current=t}return Cg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Fy=k.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function Dw(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function eM(...t){return e=>{let n=!1;const i=t.map(a=>{const l=Dw(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<i.length;a++){const l=i[a];typeof l=="function"?l():Dw(t[a],null)}}}}function tM(...t){return k.useCallback(eM(...t),t)}class nM extends k.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const i=n.offsetParent,a=b0(i)&&i.offsetWidth||0,l=b0(i)&&i.offsetHeight||0,c=this.props.sizeRef.current;c.height=n.offsetHeight||0,c.width=n.offsetWidth||0,c.top=n.offsetTop,c.left=n.offsetLeft,c.right=a-c.width-c.left,c.bottom=l-c.height-c.top}return null}componentDidUpdate(){}render(){return this.props.children}}function sM({children:t,isPresent:e,anchorX:n,anchorY:i,root:a,pop:l}){const c=k.useId(),h=k.useRef(null),m=k.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:g}=k.useContext(Fy),v=t.props?.ref??t?.ref,x=tM(h,v);return k.useInsertionEffect(()=>{const{width:_,height:E,top:I,left:j,right:D,bottom:V}=m.current;if(e||l===!1||!h.current||!_||!E)return;const F=n==="left"?`left: ${j}`:`right: ${D}`,$=i==="bottom"?`bottom: ${V}`:`top: ${I}`;h.current.dataset.motionPopId=c;const J=document.createElement("style");g&&(J.nonce=g);const se=a??document.head;return se.appendChild(J),J.sheet&&J.sheet.insertRule(`
          [data-motion-pop-id="${c}"] {
            position: absolute !important;
            width: ${_}px !important;
            height: ${E}px !important;
            ${F}px !important;
            ${$}px !important;
          }
        `),()=>{se.contains(J)&&se.removeChild(J)}},[e]),d.jsx(nM,{isPresent:e,childRef:h,sizeRef:m,pop:l,children:l===!1?t:k.cloneElement(t,{ref:x})})}const iM=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:a,presenceAffectsLayout:l,mode:c,anchorX:h,anchorY:m,root:g})=>{const v=my(rM),x=k.useId();let _=!0,E=k.useMemo(()=>(_=!1,{id:x,initial:e,isPresent:n,custom:a,onExitComplete:I=>{v.set(I,!0);for(const j of v.values())if(!j)return;i&&i()},register:I=>(v.set(I,!1),()=>v.delete(I))}),[n,v,i]);return l&&_&&(E={...E}),k.useMemo(()=>{v.forEach((I,j)=>v.set(j,!1))},[n]),k.useEffect(()=>{!n&&!v.size&&i&&i()},[n]),t=d.jsx(sM,{pop:c==="popLayout",isPresent:n,anchorX:h,anchorY:m,root:g,children:t}),d.jsx(Lf.Provider,{value:E,children:t})};function rM(){return new Map}function j2(t=!0){const e=k.useContext(Lf);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:a}=e,l=k.useId();k.useEffect(()=>{if(t)return a(l)},[t]);const c=k.useCallback(()=>t&&i&&i(l),[l,i,t]);return!n&&i?[!1,c]:[!0]}const wh=t=>t.key||"";function Mw(t){const e=[];return k.Children.forEach(t,n=>{k.isValidElement(n)&&e.push(n)}),e}const hs=({children:t,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:a=!0,mode:l="sync",propagate:c=!1,anchorX:h="left",anchorY:m="top",root:g})=>{const[v,x]=j2(c),_=k.useMemo(()=>Mw(t),[t]),E=c&&!v?[]:_.map(wh),I=k.useRef(!0),j=k.useRef(_),D=my(()=>new Map),V=k.useRef(new Set),[F,$]=k.useState(_),[J,se]=k.useState(_);lS(()=>{I.current=!1,j.current=_;for(let S=0;S<J.length;S++){const C=wh(J[S]);E.includes(C)?(D.delete(C),V.current.delete(C)):D.get(C)!==!0&&D.set(C,!1)}},[J,E.length,E.join("-")]);const de=[];if(_!==F){let S=[..._];for(let C=0;C<J.length;C++){const z=J[C],U=wh(z);E.includes(U)||(S.splice(C,0,z),de.push(z))}return l==="wait"&&de.length&&(S=de),se(Mw(S)),$(_),null}const{forceRender:R}=k.useContext(fy);return d.jsx(d.Fragment,{children:J.map(S=>{const C=wh(S),z=c&&!v?!1:_===J||E.includes(C),U=()=>{if(V.current.has(C))return;if(V.current.add(C),D.has(C))D.set(C,!0);else return;let G=!0;D.forEach(M=>{M||(G=!1)}),G&&(R?.(),se(j.current),c&&x?.(),i&&i())};return d.jsx(iM,{isPresent:z,initial:!I.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:g,onExitComplete:z?void 0:U,anchorX:h,anchorY:m,children:S},C)})})},D2=k.createContext({strict:!1}),Vw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let Pw=!1;function aM(){if(Pw)return;const t={};for(const e in Vw)t[e]={isEnabled:n=>Vw[e].some(i=>!!n[i])};l2(t),Pw=!0}function M2(){return aM(),$5()}function oM(t){const e=M2();for(const n in t)e[n]={...e[n],...t[n]};l2(e)}const lM=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function lf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||lM.has(t)}let V2=t=>!lf(t);function cM(t){typeof t=="function"&&(V2=e=>e.startsWith("on")?!lf(e):t(e))}try{cM(require("@emotion/is-prop-valid").default)}catch{}function uM(t,e,n){const i={};for(const a in t)a==="values"&&typeof t.values=="object"||(V2(a)||n===!0&&lf(a)||!e&&!lf(a)||t.draggable&&a.startsWith("onDrag"))&&(i[a]=t[a]);return i}const Bf=k.createContext({});function dM(t,e){if(zf(t)){const{initial:n,animate:i}=t;return{initial:n===!1||hu(n)?n:void 0,animate:hu(i)?i:void 0}}return t.inherit!==!1?e:{}}function hM(t){const{initial:e,animate:n}=dM(t,k.useContext(Bf));return k.useMemo(()=>({initial:e,animate:n}),[Ow(e),Ow(n)])}function Ow(t){return Array.isArray(t)?t.join(" "):t}const Hy=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function P2(t,e,n){for(const i in e)!gn(e[i])&&!p2(i,n)&&(t[i]=e[i])}function fM({transformTemplate:t},e){return k.useMemo(()=>{const n=Hy();return zy(n,e,t),Object.assign({},n.vars,n.style)},[e])}function mM(t,e){const n=t.style||{},i={};return P2(i,n,t),Object.assign(i,fM(t,e)),i}function pM(t,e){const n={},i=mM(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const O2=()=>({...Hy(),attrs:{}});function gM(t,e,n,i){const a=k.useMemo(()=>{const l=O2();return g2(l,e,v2(i),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};P2(l,t.style,t),a.style={...l,...a.style}}return a}const yM=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function qy(t){return typeof t!="string"||t.includes("-")?!1:!!(yM.indexOf(t)>-1||/[A-Z]/u.test(t))}function vM(t,e,n,{latestValues:i},a,l=!1,c){const m=(c??qy(t)?gM:pM)(e,i,a,t),g=uM(e,typeof t=="string",l),v=t!==k.Fragment?{...g,...m,ref:n}:{},{children:x}=e,_=k.useMemo(()=>gn(x)?x.get():x,[x]);return k.createElement(t,{...v,children:_})}function xM({scrapeMotionValuesFromProps:t,createRenderState:e},n,i,a){return{latestValues:bM(n,i,a,t),renderState:e()}}function bM(t,e,n,i){const a={},l=i(t,{});for(const _ in l)a[_]=Bh(l[_]);let{initial:c,animate:h}=t;const m=zf(t),g=a2(t);e&&g&&!m&&t.inherit!==!1&&(c===void 0&&(c=e.initial),h===void 0&&(h=e.animate));let v=n?n.initial===!1:!1;v=v||c===!1;const x=v?h:c;if(x&&typeof x!="boolean"&&!Uf(x)){const _=Array.isArray(x)?x:[x];for(let E=0;E<_.length;E++){const I=jy(t,_[E]);if(I){const{transitionEnd:j,transition:D,...V}=I;for(const F in V){let $=V[F];if(Array.isArray($)){const J=v?$.length-1:0;$=$[J]}$!==null&&(a[F]=$)}for(const F in j)a[F]=j[F]}}}return a}const L2=t=>(e,n)=>{const i=k.useContext(Bf),a=k.useContext(Lf),l=()=>xM(t,e,i,a);return n?l():my(l)},_M=L2({scrapeMotionValuesFromProps:By,createRenderState:Hy}),wM=L2({scrapeMotionValuesFromProps:x2,createRenderState:O2}),TM=Symbol.for("motionComponentSymbol");function EM(t,e,n){const i=k.useRef(n);k.useInsertionEffect(()=>{i.current=n});const a=k.useRef(null);return k.useCallback(l=>{l&&t.onMount?.(l),e&&(l?e.mount(l):e.unmount());const c=i.current;if(typeof c=="function")if(l){const h=c(l);typeof h=="function"&&(a.current=h)}else a.current?(a.current(),a.current=null):c(l);else c&&(c.current=l)},[e])}const U2=k.createContext({});function Xo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function SM(t,e,n,i,a,l){const{visualElement:c}=k.useContext(Bf),h=k.useContext(D2),m=k.useContext(Lf),g=k.useContext(Fy),v=g.reducedMotion,x=g.skipAnimations,_=k.useRef(null),E=k.useRef(!1);i=i||h.renderer,!_.current&&i&&(_.current=i(t,{visualState:e,parent:c,props:n,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:v,skipAnimations:x,isSVG:l}),E.current&&_.current&&(_.current.manuallyAnimateOnMount=!0));const I=_.current,j=k.useContext(U2);I&&!I.projection&&a&&(I.type==="html"||I.type==="svg")&&AM(_.current,n,a,j);const D=k.useRef(!1);k.useInsertionEffect(()=>{I&&D.current&&I.update(n,m)});const V=n[KS],F=k.useRef(!!V&&!window.MotionHandoffIsComplete?.(V)&&window.MotionHasOptimisedAnimation?.(V));return lS(()=>{E.current=!0,I&&(D.current=!0,window.MotionIsMounted=!0,I.updateFeatures(),I.scheduleRenderMicrotask(),F.current&&I.animationState&&I.animationState.animateChanges())}),k.useEffect(()=>{I&&(!F.current&&I.animationState&&I.animationState.animateChanges(),F.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(V)}),F.current=!1),I.enteringChildren=void 0)}),I}function AM(t,e,n,i){const{layoutId:a,layout:l,drag:c,dragConstraints:h,layoutScroll:m,layoutRoot:g,layoutCrossfade:v}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:z2(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||h&&Xo(h),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:i,crossfade:v,layoutScroll:m,layoutRoot:g})}function z2(t){if(t)return t.options.allowProjection!==!1?t.projection:z2(t.parent)}function Rg(t,{forwardMotionProps:e=!1,type:n}={},i,a){i&&oM(i);const l=n?n==="svg":qy(t),c=l?wM:_M;function h(g,v){let x;const _={...k.useContext(Fy),...g,layoutId:kM(g)},{isStatic:E}=_,I=hM(g),j=c(g,E);if(!E&&oS){NM();const D=CM(_);x=D.MeasureLayout,I.visualElement=SM(t,j,_,a,D.ProjectionNode,l)}return d.jsxs(Bf.Provider,{value:I,children:[x&&I.visualElement?d.jsx(x,{visualElement:I.visualElement,..._}):null,vM(t,g,EM(j,I.visualElement,v),j,E,e,l)]})}h.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const m=k.forwardRef(h);return m[TM]=t,m}function kM({layoutId:t}){const e=k.useContext(fy).id;return e&&t!==void 0?e+"-"+t:t}function NM(t,e){k.useContext(D2).strict}function CM(t){const e=M2(),{drag:n,layout:i}=e;if(!n&&!i)return{};const a={...n,...i};return{MeasureLayout:n?.isEnabled(t)||i?.isEnabled(t)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function RM(t,e){if(typeof Proxy>"u")return Rg;const n=new Map,i=(l,c)=>Rg(l,c,t,e),a=(l,c)=>i(l,c);return new Proxy(a,{get:(l,c)=>c==="create"?i:(n.has(c)||n.set(c,Rg(c,void 0,t,e)),n.get(c))})}const IM=(t,e)=>e.isSVG??qy(t)?new cD(e):new sD(e,{allowProjection:t!==k.Fragment});class jM extends ra{constructor(e){super(e),e.animationState||(e.animationState=mD(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Uf(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let DM=0;class MM extends ra{constructor(){super(...arguments),this.id=DM++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const VM={animation:{Feature:jM},exit:{Feature:MM}};function Cu(t){return{point:{x:t.pageX,y:t.pageY}}}const PM=t=>e=>Py(e)&&t(e,Cu(e));function eu(t,e,n,i){return fu(t,e,PM(n),i)}const B2=({current:t})=>t?t.ownerDocument.defaultView:null,Lw=(t,e)=>Math.abs(t-e);function OM(t,e){const n=Lw(t.x,e.x),i=Lw(t.y,e.y);return Math.sqrt(n**2+i**2)}const Uw=new Set(["auto","scroll"]);class F2{constructor(e,n,{transformPagePoint:i,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3,element:h}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=E=>{this.handleScroll(E.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=jg(this.lastMoveEventInfo,this.history),I=this.startEvent!==null,j=OM(E.offset,{x:0,y:0})>=this.distanceThreshold;if(!I&&!j)return;const{point:D}=E,{timestamp:V}=ln;this.history.push({...D,timestamp:V});const{onStart:F,onMove:$}=this.handlers;I||(F&&F(this.lastMoveEvent,E),this.startEvent=this.lastMoveEvent),$&&$(this.lastMoveEvent,E)},this.handlePointerMove=(E,I)=>{this.lastMoveEvent=E,this.lastMoveEventInfo=Ig(I,this.transformPagePoint),dt.update(this.updatePoint,!0)},this.handlePointerUp=(E,I)=>{this.end();const{onEnd:j,onSessionEnd:D,resumeAnimation:V}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&V&&V(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const F=jg(E.type==="pointercancel"?this.lastMoveEventInfo:Ig(I,this.transformPagePoint),this.history);this.startEvent&&j&&j(E,F),D&&D(E,F)},!Py(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=c,this.contextWindow=a||window;const m=Cu(e),g=Ig(m,this.transformPagePoint),{point:v}=g,{timestamp:x}=ln;this.history=[{...v,timestamp:x}];const{onSessionStart:_}=n;_&&_(e,jg(g,this.history)),this.removeListeners=Au(eu(this.contextWindow,"pointermove",this.handlePointerMove),eu(this.contextWindow,"pointerup",this.handlePointerUp),eu(this.contextWindow,"pointercancel",this.handlePointerUp)),h&&this.startScrollTracking(h)}startScrollTracking(e){let n=e.parentElement;for(;n;){const i=getComputedStyle(n);(Uw.has(i.overflowX)||Uw.has(i.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const i=e===window,a=i?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},l={x:a.x-n.x,y:a.y-n.y};l.x===0&&l.y===0||(i?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=l.x,this.lastMoveEventInfo.point.y+=l.y):this.history.length>0&&(this.history[0].x-=l.x,this.history[0].y-=l.y),this.scrollPositions.set(e,a),dt.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Qr(this.updatePoint)}}function Ig(t,e){return e?{point:e(t.point)}:t}function zw(t,e){return{x:t.x-e.x,y:t.y-e.y}}function jg({point:t},e){return{point:t,delta:zw(t,H2(e)),offset:zw(t,LM(e)),velocity:UM(e,.1)}}function LM(t){return t[0]}function H2(t){return t[t.length-1]}function UM(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const a=H2(t);for(;n>=0&&(i=t[n],!(a.timestamp-i.timestamp>Is(e)));)n--;if(!i)return{x:0,y:0};i===t[0]&&t.length>2&&a.timestamp-i.timestamp>Is(e)*2&&(i=t[1]);const l=ls(a.timestamp-i.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-i.x)/l,y:(a.y-i.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function zM(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?vt(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?vt(n,t,i.max):Math.min(t,n)),t}function Bw(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function BM(t,{top:e,left:n,bottom:i,right:a}){return{x:Bw(t.x,n,a),y:Bw(t.y,e,i)}}function Fw(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function FM(t,e){return{x:Fw(t.x,e.x),y:Fw(t.y,e.y)}}function HM(t,e){let n=.5;const i=Tn(t),a=Tn(e);return a>i?n=cu(e.min,e.max-i,t.min):i>a&&(n=cu(t.min,t.max-a,e.min)),fi(0,1,n)}function qM(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const S0=.35;function GM(t=S0){return t===!1?t=0:t===!0&&(t=S0),{x:Hw(t,"left","right"),y:Hw(t,"top","bottom")}}function Hw(t,e,n){return{min:qw(t,e),max:qw(t,n)}}function qw(t,e){return typeof t=="number"?t:t[e]||0}const $M=new WeakMap;class KM{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Kt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=x=>{n&&this.snapToCursor(Cu(x).point),this.stopAnimation()},c=(x,_)=>{const{drag:E,dragPropagation:I,onDragStart:j}=this.getProps();if(E&&!I&&(this.openDragLock&&this.openDragLock(),this.openDragLock=w5(E),!this.openDragLock))return;this.latestPointerEvent=x,this.latestPanInfo=_,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),si(V=>{let F=this.getAxisMotionValue(V).get()||0;if(ri.test(F)){const{projection:$}=this.visualElement;if($&&$.layout){const J=$.layout.layoutBox[V];J&&(F=Tn(J)*(parseFloat(F)/100))}}this.originPoint[V]=F}),j&&dt.update(()=>j(x,_),!1,!0),y0(this.visualElement,"transform");const{animationState:D}=this.visualElement;D&&D.setActive("whileDrag",!0)},h=(x,_)=>{this.latestPointerEvent=x,this.latestPanInfo=_;const{dragPropagation:E,dragDirectionLock:I,onDirectionLock:j,onDrag:D}=this.getProps();if(!E&&!this.openDragLock)return;const{offset:V}=_;if(I&&this.currentDirection===null){this.currentDirection=QM(V),this.currentDirection!==null&&j&&j(this.currentDirection);return}this.updateAxis("x",_.point,V),this.updateAxis("y",_.point,V),this.visualElement.render(),D&&dt.update(()=>D(x,_),!1,!0)},m=(x,_)=>{this.latestPointerEvent=x,this.latestPanInfo=_,this.stop(x,_),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>{const{dragSnapToOrigin:x}=this.getProps();(x||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:v}=this.getProps();this.panSession=new F2(e,{onSessionStart:l,onStart:c,onMove:h,onSessionEnd:m,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,distanceThreshold:i,contextWindow:B2(this.visualElement),element:this.visualElement.current})}stop(e,n){const i=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!i)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:h}=this.getProps();h&&dt.postRender(()=>h(i,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,n,i){const{drag:a}=this.getProps();if(!i||!Th(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(c=zM(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&Xo(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=BM(i.layoutBox,e):this.constraints=!1,this.elastic=GM(n),a!==this.constraints&&!Xo(e)&&i&&this.constraints&&!this.hasMutatedConstraints&&si(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=qM(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Xo(e))return!1;const i=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=W5(i,a.root,this.visualElement.getTransformPagePoint());let c=FM(a.layout.layoutBox,l);if(n){const h=n(Y5(c));this.hasMutatedConstraints=!!h,h&&(c=u2(h))}return c}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:h}=this.getProps(),m=this.constraints||{},g=si(v=>{if(!Th(v,n,this.currentDirection))return;let x=m&&m[v]||{};c&&(x={min:0,max:0});const _=a?200:1e6,E=a?40:1e7,I={type:"inertia",velocity:i?e[v]:0,bounceStiffness:_,bounceDamping:E,timeConstant:750,restDelta:1,restSpeed:10,...l,...x};return this.startAxisValueAnimation(v,I)});return Promise.all(g).then(h)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return y0(this.visualElement,e),i.start(Iy(e,i,0,n,this.visualElement,!1))}stopAnimation(){si(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),a=i[n];return a||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){si(n=>{const{drag:i}=this.getProps();if(!Th(n,i,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:h}=a.layout.layoutBox[n],m=l.get()||0;l.set(e[n]-vt(c,h,.5)+m)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!Xo(n)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};si(c=>{const h=this.getAxisMotionValue(c);if(h&&this.constraints!==!1){const m=h.get();a[c]=HM({min:m,max:m},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.constraints=!1,this.resolveConstraints(),si(c=>{if(!Th(c,e,null))return;const h=this.getAxisMotionValue(c),{min:m,max:g}=this.constraints[c];h.set(vt(m,g,a[c]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;$M.set(this.visualElement,this);const e=this.visualElement.current,n=eu(e,"pointerdown",g=>{const{drag:v,dragListener:x=!0}=this.getProps(),_=g.target,E=_!==e&&N5(_);v&&x&&!E&&this.start(g)});let i;const a=()=>{const{dragConstraints:g}=this.getProps();Xo(g)&&g.current&&(this.constraints=this.resolveRefConstraints(),i||(i=YM(e,g.current,()=>this.scalePositionWithinConstraints())))},{projection:l}=this.visualElement,c=l.addEventListener("measure",a);l&&!l.layout&&(l.root&&l.root.updateScroll(),l.updateLayout()),dt.read(a);const h=fu(window,"resize",()=>this.scalePositionWithinConstraints()),m=l.addEventListener("didUpdate",(({delta:g,hasLayoutChanged:v})=>{this.isDragging&&v&&(si(x=>{const _=this.getAxisMotionValue(x);_&&(this.originPoint[x]+=g[x].translate,_.set(_.get()+g[x].translate))}),this.visualElement.render())}));return()=>{h(),n(),c(),m&&m(),i&&i()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=S0,dragMomentum:h=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:h}}}function Gw(t){let e=!0;return()=>{if(e){e=!1;return}t()}}function YM(t,e,n){const i=J_(t,Gw(n)),a=J_(e,Gw(n));return()=>{i(),a()}}function Th(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function QM(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class XM extends ra{constructor(e){super(e),this.removeGroupControls=cs,this.removeListeners=cs,this.controls=new KM(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||cs}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const Dg=t=>(e,n)=>{t&&dt.update(()=>t(e,n),!1,!0)};class WM extends ra{constructor(){super(...arguments),this.removePointerDownListener=cs}onPointerDown(e){this.session=new F2(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:B2(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:Dg(e),onStart:Dg(n),onMove:Dg(i),onEnd:(l,c)=>{delete this.session,a&&dt.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=eu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Mg=!1;class JM extends k.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:a}=this.props,{projection:l}=e;l&&(n.group&&n.group.add(l),i&&i.register&&a&&i.register(l),Mg&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),Fh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:a,isPresent:l}=this.props,{projection:c}=i;return c&&(c.isPresent=l,e.layoutDependency!==n&&c.setOptions({...c.options,layoutDependency:n}),Mg=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||dt.postRender(()=>{const h=c.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Vy.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:a}=e;Mg=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function q2(t){const[e,n]=j2(),i=k.useContext(fy);return d.jsx(JM,{...t,layoutGroup:i,switchLayoutGroup:k.useContext(U2),isPresent:e,safeToRemove:n})}const ZM={pan:{Feature:WM},drag:{Feature:XM,ProjectionNode:I2,MeasureLayout:q2}};function $w(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=i[a];l&&dt.postRender(()=>l(e,Cu(e)))}class e3 extends ra{mount(){const{current:e}=this.node;e&&(this.unmount=E5(e,(n,i)=>($w(this.node,i,"Start"),a=>$w(this.node,a,"End"))))}unmount(){}}class t3 extends ra{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Au(fu(this.node.current,"focus",()=>this.onFocus()),fu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Kw(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=i[a];l&&dt.postRender(()=>l(e,Cu(e)))}class n3 extends ra{mount(){const{current:e}=this.node;if(!e)return;const{globalTapTarget:n,propagate:i}=this.node.props;this.unmount=R5(e,(a,l)=>(Kw(this.node,l,"Start"),(c,{success:h})=>Kw(this.node,c,h?"End":"Cancel")),{useGlobalTarget:n,stopPropagation:i?.tap===!1})}unmount(){}}const A0=new WeakMap,Vg=new WeakMap,s3=t=>{const e=A0.get(t.target);e&&e(t)},i3=t=>{t.forEach(s3)};function r3({root:t,...e}){const n=t||document;Vg.has(n)||Vg.set(n,{});const i=Vg.get(n),a=JSON.stringify(e);return i[a]||(i[a]=new IntersectionObserver(i3,{root:t,...e})),i[a]}function a3(t,e,n){const i=r3(e);return A0.set(t,n),i.observe(t),()=>{A0.delete(t),i.unobserve(t)}}const o3={some:0,all:1};class l3 extends ra{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:a="some",once:l}=e,c={root:n?n.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:o3[a]},h=m=>{const{isIntersecting:g}=m;if(this.isInView===g||(this.isInView=g,l&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:v,onViewportLeave:x}=this.node.getProps(),_=g?v:x;_&&_(m)};return a3(this.node.current,c,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(c3(e,n))&&this.startObserver()}unmount(){}}function c3({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const u3={inView:{Feature:l3},tap:{Feature:n3},focus:{Feature:t3},hover:{Feature:e3}},d3={layout:{ProjectionNode:I2,MeasureLayout:q2}},h3={...VM,...u3,...ZM,...d3},Te=RM(h3,IM),f3=()=>{};var Yw={};const G2=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let a=t.charCodeAt(i);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},m3=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const a=t[n++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],c=t[n++],h=t[n++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(m>>10)),e[i++]=String.fromCharCode(56320+(m&1023))}else{const l=t[n++],c=t[n++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},$2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<t.length;a+=3){const l=t[a],c=a+1<t.length,h=c?t[a+1]:0,m=a+2<t.length,g=m?t[a+2]:0,v=l>>2,x=(l&3)<<4|h>>4;let _=(h&15)<<2|g>>6,E=g&63;m||(E=64,c||(_=64)),i.push(n[v],n[x],n[_],n[E])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(G2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):m3(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],h=a<t.length?n[t.charAt(a)]:0;++a;const g=a<t.length?n[t.charAt(a)]:64;++a;const x=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||h==null||g==null||x==null)throw new p3;const _=l<<2|h>>4;if(i.push(_),g!==64){const E=h<<4&240|g>>2;if(i.push(E),x!==64){const I=g<<6&192|x;i.push(I)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class p3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const g3=function(t){const e=G2(t);return $2.encodeByteArray(e,!0)},cf=function(t){return g3(t).replace(/\./g,"")},K2=function(t){try{return $2.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function y3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const v3=()=>y3().__FIREBASE_DEFAULTS__,x3=()=>{if(typeof process>"u"||typeof Yw>"u")return;const t=Yw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},b3=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&K2(t[1]);return e&&JSON.parse(e)},Ff=()=>{try{return f3()||v3()||x3()||b3()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Y2=t=>Ff()?.emulatorHosts?.[t],Q2=t=>{const e=Y2(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},X2=()=>Ff()?.config,W2=t=>Ff()?.[`_${t}`];class _3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}function Za(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Gy(t){return(await fetch(t,{credentials:"include"})).ok}function J2(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[cf(JSON.stringify(n)),cf(JSON.stringify(c)),""].join(".")}const tu={};function w3(){const t={prod:[],emulator:[]};for(const e of Object.keys(tu))tu[e]?t.emulator.push(e):t.prod.push(e);return t}function T3(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Qw=!1;function $y(t,e){if(typeof window>"u"||typeof document>"u"||!Za(window.location.host)||tu[t]===e||tu[t]||Qw)return;tu[t]=e;function n(_){return`__firebase__banner__${_}`}const i="__firebase__banner",l=w3().prod.length>0;function c(){const _=document.getElementById(i);_&&_.remove()}function h(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function m(_,E){_.setAttribute("width","24"),_.setAttribute("id",E),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function g(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{Qw=!0,c()},_}function v(_,E){_.setAttribute("id",E),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function x(){const _=T3(i),E=n("text"),I=document.getElementById(E)||document.createElement("span"),j=n("learnmore"),D=document.getElementById(j)||document.createElement("a"),V=n("preprendIcon"),F=document.getElementById(V)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const $=_.element;h($),v(D,j);const J=g();m(F,V),$.append(F,I,D,J),document.body.appendChild($)}l?(I.innerText="Preview backend disconnected.",F.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(F.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}function yn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function E3(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yn())}function S3(){const t=Ff()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function A3(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function k3(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function N3(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function C3(){const t=yn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function R3(){return!S3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function I3(){try{return typeof indexedDB=="object"}catch{return!1}}function j3(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}const D3="FirebaseError";class yi extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=D3,Object.setPrototypeOf(this,yi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ru.prototype.create)}}class Ru{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?M3(l,i):"Error",h=`${this.serviceName}: ${c} (${a}).`;return new yi(a,h,i)}}function M3(t,e){return t.replace(V3,(n,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const V3=/\{\$([^}]+)}/g;function P3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ka(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const a of n){if(!i.includes(a))return!1;const l=t[a],c=e[a];if(Xw(l)&&Xw(c)){if(!Ka(l,c))return!1}else if(l!==c)return!1}for(const a of i)if(!n.includes(a))return!1;return!0}function Xw(t){return t!==null&&typeof t=="object"}function Iu(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function O3(t,e){const n=new L3(t,e);return n.subscribe.bind(n)}class L3{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let a;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");U3(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:i},a.next===void 0&&(a.next=Pg),a.error===void 0&&(a.error=Pg),a.complete===void 0&&(a.complete=Pg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function U3(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Pg(){}function vn(t){return t&&t._delegate?t._delegate:t}class Wr{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const La="[DEFAULT]";class z3{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new _3;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(F3(e))try{this.getOrInitializeService({instanceIdentifier:La})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=La){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=La){return this.instances.has(e)}getOptions(e=La){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[l,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);i===h&&c.resolve(a)}return a}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(i)??new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const a of i)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:B3(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=La){return this.component?this.component.multipleInstances?e:La:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function B3(t){return t===La?void 0:t}function F3(t){return t.instantiationMode==="EAGER"}class H3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new z3(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var $e;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})($e||($e={}));const q3={debug:$e.DEBUG,verbose:$e.VERBOSE,info:$e.INFO,warn:$e.WARN,error:$e.ERROR,silent:$e.SILENT},G3=$e.INFO,$3={[$e.DEBUG]:"log",[$e.VERBOSE]:"log",[$e.INFO]:"info",[$e.WARN]:"warn",[$e.ERROR]:"error"},K3=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),a=$3[e];if(a)console[a](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ky{constructor(e){this.name=e,this._logLevel=G3,this._logHandler=K3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in $e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?q3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,$e.DEBUG,...e),this._logHandler(this,$e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,$e.VERBOSE,...e),this._logHandler(this,$e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,$e.INFO,...e),this._logHandler(this,$e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,$e.WARN,...e),this._logHandler(this,$e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,$e.ERROR,...e),this._logHandler(this,$e.ERROR,...e)}}const Y3=(t,e)=>e.some(n=>t instanceof n);let Ww,Jw;function Q3(){return Ww||(Ww=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function X3(){return Jw||(Jw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Z2=new WeakMap,k0=new WeakMap,eA=new WeakMap,Og=new WeakMap,Yy=new WeakMap;function W3(t){const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(Hr(t.result)),a()},c=()=>{i(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&Z2.set(n,t)}).catch(()=>{}),Yy.set(e,t),e}function J3(t){if(k0.has(t))return;const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{i(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});k0.set(t,e)}let N0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return k0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||eA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Hr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Z3(t){N0=t(N0)}function e6(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Lg(this),e,...n);return eA.set(i,e.sort?e.sort():[e]),Hr(i)}:X3().includes(t)?function(...e){return t.apply(Lg(this),e),Hr(Z2.get(this))}:function(...e){return Hr(t.apply(Lg(this),e))}}function t6(t){return typeof t=="function"?e6(t):(t instanceof IDBTransaction&&J3(t),Y3(t,Q3())?new Proxy(t,N0):t)}function Hr(t){if(t instanceof IDBRequest)return W3(t);if(Og.has(t))return Og.get(t);const e=t6(t);return e!==t&&(Og.set(t,e),Yy.set(e,t)),e}const Lg=t=>Yy.get(t);function n6(t,e,{blocked:n,upgrade:i,blocking:a,terminated:l}={}){const c=indexedDB.open(t,e),h=Hr(c);return i&&c.addEventListener("upgradeneeded",m=>{i(Hr(c.result),m.oldVersion,m.newVersion,Hr(c.transaction),m)}),n&&c.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),h.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),h}const s6=["get","getKey","getAll","getAllKeys","count"],i6=["put","add","delete","clear"],Ug=new Map;function Zw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ug.get(e))return Ug.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,a=i6.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(a||s6.includes(n)))return;const l=async function(c,...h){const m=this.transaction(c,a?"readwrite":"readonly");let g=m.store;return i&&(g=g.index(h.shift())),(await Promise.all([g[n](...h),a&&m.done]))[0]};return Ug.set(e,l),l}Z3(t=>({...t,get:(e,n,i)=>Zw(e,n)||t.get(e,n,i),has:(e,n)=>!!Zw(e,n)||t.has(e,n)}));class r6{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(a6(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function a6(t){return t.getComponent()?.type==="VERSION"}const C0="@firebase/app",eT="0.14.8";const Qi=new Ky("@firebase/app"),o6="@firebase/app-compat",l6="@firebase/analytics-compat",c6="@firebase/analytics",u6="@firebase/app-check-compat",d6="@firebase/app-check",h6="@firebase/auth",f6="@firebase/auth-compat",m6="@firebase/database",p6="@firebase/data-connect",g6="@firebase/database-compat",y6="@firebase/functions",v6="@firebase/functions-compat",x6="@firebase/installations",b6="@firebase/installations-compat",_6="@firebase/messaging",w6="@firebase/messaging-compat",T6="@firebase/performance",E6="@firebase/performance-compat",S6="@firebase/remote-config",A6="@firebase/remote-config-compat",k6="@firebase/storage",N6="@firebase/storage-compat",C6="@firebase/firestore",R6="@firebase/ai",I6="@firebase/firestore-compat",j6="firebase",D6="12.9.0";const R0="[DEFAULT]",M6={[C0]:"fire-core",[o6]:"fire-core-compat",[c6]:"fire-analytics",[l6]:"fire-analytics-compat",[d6]:"fire-app-check",[u6]:"fire-app-check-compat",[h6]:"fire-auth",[f6]:"fire-auth-compat",[m6]:"fire-rtdb",[p6]:"fire-data-connect",[g6]:"fire-rtdb-compat",[y6]:"fire-fn",[v6]:"fire-fn-compat",[x6]:"fire-iid",[b6]:"fire-iid-compat",[_6]:"fire-fcm",[w6]:"fire-fcm-compat",[T6]:"fire-perf",[E6]:"fire-perf-compat",[S6]:"fire-rc",[A6]:"fire-rc-compat",[k6]:"fire-gcs",[N6]:"fire-gcs-compat",[C6]:"fire-fst",[I6]:"fire-fst-compat",[R6]:"fire-vertex","fire-js":"fire-js",[j6]:"fire-js-all"};const uf=new Map,V6=new Map,I0=new Map;function tT(t,e){try{t.container.addComponent(e)}catch(n){Qi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ya(t){const e=t.name;if(I0.has(e))return Qi.debug(`There were multiple attempts to register component ${e}.`),!1;I0.set(e,t);for(const n of uf.values())tT(n,t);for(const n of V6.values())tT(n,t);return!0}function Hf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function rs(t){return t==null?!1:t.settings!==void 0}const P6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qr=new Ru("app","Firebase",P6);class O6{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Wr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qr.create("app-deleted",{appName:this._name})}}const eo=D6;function tA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:R0,automaticDataCollectionEnabled:!0,...e},a=i.name;if(typeof a!="string"||!a)throw qr.create("bad-app-name",{appName:String(a)});if(n||(n=X2()),!n)throw qr.create("no-options");const l=uf.get(a);if(l){if(Ka(n,l.options)&&Ka(i,l.config))return l;throw qr.create("duplicate-app",{appName:a})}const c=new H3(a);for(const m of I0.values())c.addComponent(m);const h=new O6(n,i,c);return uf.set(a,h),h}function Qy(t=R0){const e=uf.get(t);if(!e&&t===R0&&X2())return tA();if(!e)throw qr.create("no-app",{appName:t});return e}function ai(t,e,n){let i=M6[t]??t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${i}" with version "${e}":`];a&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qi.warn(c.join(" "));return}Ya(new Wr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const L6="firebase-heartbeat-database",U6=1,mu="firebase-heartbeat-store";let zg=null;function nA(){return zg||(zg=n6(L6,U6,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(mu)}catch(n){console.warn(n)}}}}).catch(t=>{throw qr.create("idb-open",{originalErrorMessage:t.message})})),zg}async function z6(t){try{const n=(await nA()).transaction(mu),i=await n.objectStore(mu).get(sA(t));return await n.done,i}catch(e){if(e instanceof yi)Qi.warn(e.message);else{const n=qr.create("idb-get",{originalErrorMessage:e?.message});Qi.warn(n.message)}}}async function nT(t,e){try{const i=(await nA()).transaction(mu,"readwrite");await i.objectStore(mu).put(e,sA(t)),await i.done}catch(n){if(n instanceof yi)Qi.warn(n.message);else{const i=qr.create("idb-set",{originalErrorMessage:n?.message});Qi.warn(i.message)}}}function sA(t){return`${t.name}!${t.options.appId}`}const B6=1024,F6=30;class H6{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new G6(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=sT();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>F6){const a=$6(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Qi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=sT(),{heartbeatsToSend:n,unsentEntries:i}=q6(this._heartbeatsCache.heartbeats),a=cf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Qi.warn(e),""}}}function sT(){return new Date().toISOString().substring(0,10)}function q6(t,e=B6){const n=[];let i=t.slice();for(const a of t){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),iT(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),iT(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class G6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return I3()?j3().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await z6(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return nT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return nT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function iT(t){return cf(JSON.stringify({version:2,heartbeats:t})).length}function $6(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}function K6(t){Ya(new Wr("platform-logger",e=>new r6(e),"PRIVATE")),Ya(new Wr("heartbeat",e=>new H6(e),"PRIVATE")),ai(C0,eT,t),ai(C0,eT,"esm2020"),ai("fire-js","")}K6("");function iA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Y6=iA,rA=new Ru("auth","Firebase",iA());const df=new Ky("@firebase/auth");function Q6(t,...e){df.logLevel<=$e.WARN&&df.warn(`Auth (${eo}): ${t}`,...e)}function Hh(t,...e){df.logLevel<=$e.ERROR&&df.error(`Auth (${eo}): ${t}`,...e)}function mi(t,...e){throw Wy(t,...e)}function js(t,...e){return Wy(t,...e)}function Xy(t,e,n){const i={...Y6(),[e]:n};return new Ru("auth","Firebase",i).create(e,{appName:t.name})}function qa(t){return Xy(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function X6(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&mi(t,"argument-error"),Xy(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Wy(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return rA.create(t,...e)}function je(t,e,...n){if(!t)throw Wy(e,...n)}function Fi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Hh(e),new Error(e)}function Xi(t,e){t||Fi(e)}function j0(){return typeof self<"u"&&self.location?.href||""}function W6(){return rT()==="http:"||rT()==="https:"}function rT(){return typeof self<"u"&&self.location?.protocol||null}function J6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(W6()||k3()||"connection"in navigator)?navigator.onLine:!0}function Z6(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class ju{constructor(e,n){this.shortDelay=e,this.longDelay=n,Xi(n>e,"Short delay should be less than long delay!"),this.isMobile=E3()||N3()}get(){return J6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Jy(t,e){Xi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class aA{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Fi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Fi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Fi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const eV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const tV=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],nV=new ju(3e4,6e4);function Zy(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function kl(t,e,n,i,a={}){return oA(t,a,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const h=Iu({key:t.config.apiKey,...c}).slice(1),m=await t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);const g={method:e,headers:m,...l};return A3()||(g.referrerPolicy="no-referrer"),t.emulatorConfig&&Za(t.emulatorConfig.host)&&(g.credentials="include"),aA.fetch()(await lA(t,t.config.apiHost,n,h),g)})}async function oA(t,e,n){t._canInitEmulator=!1;const i={...eV,...e};try{const a=new iV(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Eh(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const h=l.ok?c.errorMessage:c.error.message,[m,g]=h.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Eh(t,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw Eh(t,"email-already-in-use",c);if(m==="USER_DISABLED")throw Eh(t,"user-disabled",c);const v=i[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Xy(t,v,g);mi(t,v)}}catch(a){if(a instanceof yi)throw a;mi(t,"network-request-failed",{message:String(a)})}}async function sV(t,e,n,i,a={}){const l=await kl(t,e,n,i,a);return"mfaPendingCredential"in l&&mi(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function lA(t,e,n,i){const a=`${e}${n}?${i}`,l=t,c=l.config.emulator?Jy(t.config,a):`${t.config.apiScheme}://${a}`;return tV.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}class iV{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(js(this.auth,"network-request-failed")),nV.get())})}}function Eh(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const a=js(t,e,i);return a.customData._tokenResponse=n,a}async function rV(t,e){return kl(t,"POST","/v1/accounts:delete",e)}async function hf(t,e){return kl(t,"POST","/v1/accounts:lookup",e)}function nu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function aV(t,e=!1){const n=vn(t),i=await n.getIdToken(e),a=ev(i);je(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:i,authTime:nu(Bg(a.auth_time)),issuedAtTime:nu(Bg(a.iat)),expirationTime:nu(Bg(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Bg(t){return Number(t)*1e3}function ev(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Hh("JWT malformed, contained fewer than 3 sections"),null;try{const a=K2(n);return a?JSON.parse(a):(Hh("Failed to decode base64 JWT payload"),null)}catch(a){return Hh("Caught error parsing JWT payload as JSON",a?.toString()),null}}function aT(t){const e=ev(t);return je(e,"internal-error"),je(typeof e.exp<"u","internal-error"),je(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function pu(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof yi&&oV(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function oV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class lV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class D0{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=nu(this.lastLoginAt),this.creationTime=nu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ff(t){const e=t.auth,n=await t.getIdToken(),i=await pu(t,hf(e,{idToken:n}));je(i?.users.length,e,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const l=a.providerUserInfo?.length?cA(a.providerUserInfo):[],c=uV(t.providerData,l),h=t.isAnonymous,m=!(t.email&&a.passwordHash)&&!c?.length,g=h?m:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new D0(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(t,v)}async function cV(t){const e=vn(t);await ff(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function uV(t,e){return[...t.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function cA(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function dV(t,e){const n=await oA(t,{},async()=>{const i=Iu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,c=await lA(t,a,"/v1/token",`key=${l}`),h=await t._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:h,body:i};return t.emulatorConfig&&Za(t.emulatorConfig.host)&&(m.credentials="include"),aA.fetch()(c,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function hV(t,e){return kl(t,"POST","/v2/accounts:revokeToken",Zy(t,e))}class ol{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){je(e.idToken,"internal-error"),je(typeof e.idToken<"u","internal-error"),je(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):aT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){je(e.length!==0,"internal-error");const n=aT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(je(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:a,expiresIn:l}=await dV(e,n);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:a,expirationTime:l}=n,c=new ol;return i&&(je(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),a&&(je(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(je(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ol,this.toJSON())}_performRefresh(){return Fi("not implemented")}}function Vr(t,e){je(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ns{constructor({uid:e,auth:n,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new lV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new D0(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await pu(this,this.stsTokenManager.getToken(this.auth,e));return je(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return aV(this,e)}reload(){return cV(this)}_assign(e){this!==e&&(je(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ns({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){je(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await ff(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(rs(this.auth.app))return Promise.reject(qa(this.auth));const e=await this.getIdToken();return await pu(this,rV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,h=n.tenantId??void 0,m=n._redirectEventId??void 0,g=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:x,emailVerified:_,isAnonymous:E,providerData:I,stsTokenManager:j}=n;je(x&&j,e,"internal-error");const D=ol.fromJSON(this.name,j);je(typeof x=="string",e,"internal-error"),Vr(i,e.name),Vr(a,e.name),je(typeof _=="boolean",e,"internal-error"),je(typeof E=="boolean",e,"internal-error"),Vr(l,e.name),Vr(c,e.name),Vr(h,e.name),Vr(m,e.name),Vr(g,e.name),Vr(v,e.name);const V=new Ns({uid:x,auth:e,email:a,emailVerified:_,displayName:i,isAnonymous:E,photoURL:c,phoneNumber:l,tenantId:h,stsTokenManager:D,createdAt:g,lastLoginAt:v});return I&&Array.isArray(I)&&(V.providerData=I.map(F=>({...F}))),m&&(V._redirectEventId=m),V}static async _fromIdTokenResponse(e,n,i=!1){const a=new ol;a.updateFromServerResponse(n);const l=new Ns({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await ff(l),l}static async _fromGetAccountInfoResponse(e,n,i){const a=n.users[0];je(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?cA(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,h=new ol;h.updateFromIdToken(i);const m=new Ns({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:c}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new D0(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,g),m}}const oT=new Map;function Hi(t){Xi(t instanceof Function,"Expected a class definition");let e=oT.get(t);return e?(Xi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,oT.set(t,e),e)}class uA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}uA.type="NONE";const lT=uA;function qh(t,e,n){return`firebase:${t}:${e}:${n}`}class ll{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=qh(this.userKey,a.apiKey,l),this.fullPersistenceKey=qh("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await hf(this.auth,{idToken:e}).catch(()=>{});return n?Ns._fromGetAccountInfoResponse(this.auth,n,e):null}return Ns._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new ll(Hi(lT),e,i);const a=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=a[0]||Hi(lT);const c=qh(i,e.config.apiKey,e.name);let h=null;for(const g of n)try{const v=await g._get(c);if(v){let x;if(typeof v=="string"){const _=await hf(e,{idToken:v}).catch(()=>{});if(!_)break;x=await Ns._fromGetAccountInfoResponse(e,_,v)}else x=Ns._fromJSON(e,v);g!==l&&(h=x),l=g;break}}catch{}const m=a.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new ll(l,e,i):(l=m[0],h&&await l._set(c,h.toJSON()),await Promise.all(n.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new ll(l,e,i))}}function cT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(mA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(dA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(gA(e))return"Blackberry";if(yA(e))return"Webos";if(hA(e))return"Safari";if((e.includes("chrome/")||fA(e))&&!e.includes("edge/"))return"Chrome";if(pA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if(i?.length===2)return i[1]}return"Other"}function dA(t=yn()){return/firefox\//i.test(t)}function hA(t=yn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function fA(t=yn()){return/crios\//i.test(t)}function mA(t=yn()){return/iemobile/i.test(t)}function pA(t=yn()){return/android/i.test(t)}function gA(t=yn()){return/blackberry/i.test(t)}function yA(t=yn()){return/webos/i.test(t)}function tv(t=yn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function fV(t=yn()){return tv(t)&&!!window.navigator?.standalone}function mV(){return C3()&&document.documentMode===10}function vA(t=yn()){return tv(t)||pA(t)||yA(t)||gA(t)||/windows phone/i.test(t)||mA(t)}function xA(t,e=[]){let n;switch(t){case"Browser":n=cT(yn());break;case"Worker":n=`${cT(yn())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${eo}/${i}`}class pV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=l=>new Promise((c,h)=>{try{const m=e(l);c(m)}catch(m){h(m)}});i.onAbort=n,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function gV(t,e={}){return kl(t,"GET","/v2/passwordPolicy",Zy(t,e))}const yV=6;class vV{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??yV,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class xV{constructor(e,n,i,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new uT(this),this.idTokenSubscription=new uT(this),this.beforeStateQueue=new pV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Hi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ll.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await hf(this,{idToken:e}),i=await Ns._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(rs(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=i?._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===c)&&h?.user&&(i=h.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return je(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ff(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Z6()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(rs(this.app))return Promise.reject(qa(this));const n=e?vn(e):null;return n&&je(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&je(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return rs(this.app)?Promise.reject(qa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return rs(this.app)?Promise.reject(qa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Hi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await gV(this),n=new vV(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ru("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await hV(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Hi(e)||this._popupRedirectResolver;je(n,this,"argument-error"),this.redirectPersistenceManager=await ll.create(this,[Hi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(je(h,this,"internal-error"),h.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,i,a);return()=>{c=!0,m()}}else{const m=e.addObserver(n);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return je(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=xA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(rs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Q6(`Error while retrieving App Check token: ${e.error}`),e?.token}}function qf(t){return vn(t)}class uT{constructor(e){this.auth=e,this.observer=null,this.addObserver=O3(n=>this.observer=n)}get next(){return je(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let nv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function bV(t){nv=t}function _V(t){return nv.loadJS(t)}function wV(){return nv.gapiScript}function TV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function EV(t,e){const n=Hf(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Ka(l,e??{}))return a;mi(a,"already-initialized")}return n.initialize({options:e})}function SV(t,e){const n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(Hi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}function AV(t,e,n){const i=qf(t);je(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=bA(e),{host:c,port:h}=kV(e),m=h===null?"":`:${h}`,g={url:`${l}//${c}${m}/`},v=Object.freeze({host:c,port:h,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){je(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),je(Ka(g,i.config.emulator)&&Ka(v,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=g,i.emulatorConfig=v,i.settings.appVerificationDisabledForTesting=!0,Za(c)?(Gy(`${l}//${c}${m}`),$y("Auth",!0)):NV()}function bA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function kV(t){const e=bA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:dT(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:dT(c)}}}function dT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function NV(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class _A{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Fi("not implemented")}_getIdTokenResponse(e){return Fi("not implemented")}_linkToIdToken(e,n){return Fi("not implemented")}_getReauthenticationResolver(e){return Fi("not implemented")}}async function cl(t,e){return sV(t,"POST","/v1/accounts:signInWithIdp",Zy(t,e))}const CV="http://localhost";class Qa extends _A{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Qa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):mi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a,...l}=n;if(!i||!a)return null;const c=new Qa(i,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return cl(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,cl(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,cl(e,n)}buildRequest(){const e={requestUri:CV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Iu(n)}return e}}class sv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Du extends sv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Lr extends Du{constructor(){super("facebook.com")}static credential(e){return Qa._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Lr.credentialFromTaggedObject(e)}static credentialFromError(e){return Lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Lr.credential(e.oauthAccessToken)}catch{return null}}}Lr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Lr.PROVIDER_ID="facebook.com";class Bi extends Du{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Qa._fromParams({providerId:Bi.PROVIDER_ID,signInMethod:Bi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Bi.credentialFromTaggedObject(e)}static credentialFromError(e){return Bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Bi.credential(n,i)}catch{return null}}}Bi.GOOGLE_SIGN_IN_METHOD="google.com";Bi.PROVIDER_ID="google.com";class Ur extends Du{constructor(){super("github.com")}static credential(e){return Qa._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ur.credentialFromTaggedObject(e)}static credentialFromError(e){return Ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ur.credential(e.oauthAccessToken)}catch{return null}}}Ur.GITHUB_SIGN_IN_METHOD="github.com";Ur.PROVIDER_ID="github.com";class zr extends Du{constructor(){super("twitter.com")}static credential(e,n){return Qa._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return zr.credentialFromTaggedObject(e)}static credentialFromError(e){return zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return zr.credential(n,i)}catch{return null}}}zr.TWITTER_SIGN_IN_METHOD="twitter.com";zr.PROVIDER_ID="twitter.com";class ml{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,a=!1){const l=await Ns._fromIdTokenResponse(e,i,a),c=hT(i);return new ml({user:l,providerId:c,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const a=hT(i);return new ml({user:e,providerId:a,_tokenResponse:i,operationType:n})}}function hT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class mf extends yi{constructor(e,n,i,a){super(n.code,n.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,mf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,a){return new mf(e,n,i,a)}}function wA(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?mf._fromErrorAndOperation(t,l,e,i):l})}async function RV(t,e,n=!1){const i=await pu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ml._forOperation(t,"link",i)}async function IV(t,e,n=!1){const{auth:i}=t;if(rs(i.app))return Promise.reject(qa(i));const a="reauthenticate";try{const l=await pu(t,wA(i,a,e,t),n);je(l.idToken,i,"internal-error");const c=ev(l.idToken);je(c,i,"internal-error");const{sub:h}=c;return je(t.uid===h,i,"user-mismatch"),ml._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&mi(i,"user-mismatch"),l}}async function jV(t,e,n=!1){if(rs(t.app))return Promise.reject(qa(t));const i="signIn",a=await wA(t,i,e),l=await ml._fromIdTokenResponse(t,i,a);return n||await t._updateCurrentUser(l.user),l}function DV(t,e,n,i){return vn(t).onIdTokenChanged(e,n,i)}function MV(t,e,n){return vn(t).beforeAuthStateChanged(e,n)}function VV(t,e,n,i){return vn(t).onAuthStateChanged(e,n,i)}function PV(t){return vn(t).signOut()}const pf="__sak";class TA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(pf,"1"),this.storage.removeItem(pf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const OV=1e3,LV=10;class EA extends TA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=vA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),a=this.localCache[n];i!==a&&e(n,a,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,h,m)=>{this.notifyListeners(c,m)});return}const i=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!n&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);mV()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,LV):a()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},OV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}EA.type="LOCAL";const UV=EA;class SA extends TA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}SA.type="SESSION";const AA=SA;function zV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Gf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const i=new Gf(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const h=Array.from(c).map(async g=>g(n.origin,l)),m=await zV(h);n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Gf.receivers=[];function iv(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}class BV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((h,m)=>{const g=iv("",20);a.port1.start();const v=setTimeout(()=>{m(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(x){const _=x;if(_.data.eventId===g)switch(_.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),h(_.data.response);break;default:clearTimeout(v),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function oi(){return window}function FV(t){oi().location.href=t}function kA(){return typeof oi().WorkerGlobalScope<"u"&&typeof oi().importScripts=="function"}async function HV(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function qV(){return navigator?.serviceWorker?.controller||null}function GV(){return kA()?self:null}const NA="firebaseLocalStorageDb",$V=1,gf="firebaseLocalStorage",CA="fbase_key";class Mu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function $f(t,e){return t.transaction([gf],e?"readwrite":"readonly").objectStore(gf)}function KV(){const t=indexedDB.deleteDatabase(NA);return new Mu(t).toPromise()}function M0(){const t=indexedDB.open(NA,$V);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(gf,{keyPath:CA})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(gf)?e(i):(i.close(),await KV(),e(await M0()))})})}async function fT(t,e,n){const i=$f(t,!0).put({[CA]:e,value:n});return new Mu(i).toPromise()}async function YV(t,e){const n=$f(t,!1).get(e),i=await new Mu(n).toPromise();return i===void 0?null:i.value}function mT(t,e){const n=$f(t,!0).delete(e);return new Mu(n).toPromise()}const QV=800,XV=3;class RA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await M0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>XV)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return kA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Gf._getInstance(GV()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await HV(),!this.activeServiceWorker)return;this.sender=new BV(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||qV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await M0();return await fT(e,pf,"1"),await mT(e,pf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>fT(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>YV(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>mT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=$f(a,!1).getAll();return new Mu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),QV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}RA.type="LOCAL";const WV=RA;new ju(3e4,6e4);function IA(t,e){return e?Hi(e):(je(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class rv extends _A{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return cl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return cl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return cl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function JV(t){return jV(t.auth,new rv(t),t.bypassAuthState)}function ZV(t){const{auth:e,user:n}=t;return je(n,e,"internal-error"),IV(n,new rv(t),t.bypassAuthState)}async function eP(t){const{auth:e,user:n}=t;return je(n,e,"internal-error"),RV(n,new rv(t),t.bypassAuthState)}class jA{constructor(e,n,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:a,tenantId:l,error:c,type:h}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:n,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(m))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return JV;case"linkViaPopup":case"linkViaRedirect":return eP;case"reauthViaPopup":case"reauthViaRedirect":return ZV;default:mi(this.auth,"internal-error")}}resolve(e){Xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const tP=new ju(2e3,1e4);async function nP(t,e,n){if(rs(t.app))return Promise.reject(js(t,"operation-not-supported-in-this-environment"));const i=qf(t);X6(t,e,sv);const a=IA(i,n);return new Ba(i,"signInViaPopup",e,a).executeNotNull()}class Ba extends jA{constructor(e,n,i,a,l){super(e,n,a,l),this.provider=i,this.authWindow=null,this.pollId=null,Ba.currentPopupAction&&Ba.currentPopupAction.cancel(),Ba.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return je(e,this.auth,"internal-error"),e}async onExecution(){Xi(this.filter.length===1,"Popup operations only handle one event");const e=iv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(js(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(js(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ba.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(js(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,tP.get())};e()}}Ba.currentPopupAction=null;const sP="pendingRedirect",Gh=new Map;class iP extends jA{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Gh.get(this.auth._key());if(!e){try{const i=await rP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Gh.set(this.auth._key(),e)}return this.bypassAuthState||Gh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function rP(t,e){const n=lP(e),i=oP(t);if(!await i._isAvailable())return!1;const a=await i._get(n)==="true";return await i._remove(n),a}function aP(t,e){Gh.set(t._key(),e)}function oP(t){return Hi(t._redirectPersistence)}function lP(t){return qh(sP,t.config.apiKey,t.name)}async function cP(t,e,n=!1){if(rs(t.app))return Promise.reject(qa(t));const i=qf(t),a=IA(i,e),c=await new iP(i,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}const uP=600*1e3;class dP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!hP(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!DA(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";n.onError(js(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=uP&&this.cachedEventUids.clear(),this.cachedEventUids.has(pT(e))}saveEventToCache(e){this.cachedEventUids.add(pT(e)),this.lastProcessedEventTime=Date.now()}}function pT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function DA({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function hP(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return DA(t);default:return!1}}async function fP(t,e={}){return kl(t,"GET","/v1/projects",e)}const mP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pP=/^https?/;async function gP(t){if(t.config.emulator)return;const{authorizedDomains:e}=await fP(t);for(const n of e)try{if(yP(n))return}catch{}mi(t,"unauthorized-domain")}function yP(t){const e=j0(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===i}if(!pP.test(n))return!1;if(mP.test(t))return i===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}const vP=new ju(3e4,6e4);function gT(){const t=oi().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function xP(t){return new Promise((e,n)=>{function i(){gT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{gT(),n(js(t,"network-request-failed"))},timeout:vP.get()})}if(oi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(oi().gapi?.load)i();else{const a=TV("iframefcb");return oi()[a]=()=>{gapi.load?i():n(js(t,"network-request-failed"))},_V(`${wV()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw $h=null,e})}let $h=null;function bP(t){return $h=$h||xP(t),$h}const _P=new ju(5e3,15e3),wP="__/auth/iframe",TP="emulator/auth/iframe",EP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},SP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function AP(t){const e=t.config;je(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Jy(e,TP):`https://${t.config.authDomain}/${wP}`,i={apiKey:e.apiKey,appName:t.name,v:eo},a=SP.get(t.config.apiHost);a&&(i.eid=a);const l=t._getFrameworks();return l.length&&(i.fw=l.join(",")),`${n}?${Iu(i).slice(1)}`}async function kP(t){const e=await bP(t),n=oi().gapi;return je(n,t,"internal-error"),e.open({where:document.body,url:AP(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:EP,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const c=js(t,"network-request-failed"),h=oi().setTimeout(()=>{l(c)},_P.get());function m(){oi().clearTimeout(h),a(i)}i.ping(m).then(m,()=>{l(c)})}))}const NP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},CP=500,RP=600,IP="_blank",jP="http://localhost";class yT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function DP(t,e,n,i=CP,a=RP){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const m={...NP,width:i.toString(),height:a.toString(),top:l,left:c},g=yn().toLowerCase();n&&(h=fA(g)?IP:n),dA(g)&&(e=e||jP,m.scrollbars="yes");const v=Object.entries(m).reduce((_,[E,I])=>`${_}${E}=${I},`,"");if(fV(g)&&h!=="_self")return MP(e||"",h),new yT(null);const x=window.open(e||"",h,v);je(x,t,"popup-blocked");try{x.focus()}catch{}return new yT(x)}function MP(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}const VP="__/auth/handler",PP="emulator/auth/handler",OP=encodeURIComponent("fac");async function vT(t,e,n,i,a,l){je(t.config.authDomain,t,"auth-domain-config-required"),je(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:eo,eventId:a};if(e instanceof sv){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",P3(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,x]of Object.entries({}))c[v]=x}if(e instanceof Du){const v=e.getScopes().filter(x=>x!=="");v.length>0&&(c.scopes=v.join(","))}t.tenantId&&(c.tid=t.tenantId);const h=c;for(const v of Object.keys(h))h[v]===void 0&&delete h[v];const m=await t._getAppCheckToken(),g=m?`#${OP}=${encodeURIComponent(m)}`:"";return`${LP(t)}?${Iu(h).slice(1)}${g}`}function LP({config:t}){return t.emulator?Jy(t,PP):`https://${t.authDomain}/${VP}`}const Fg="webStorageSupport";class UP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=AA,this._completeRedirectFn=cP,this._overrideRedirectResult=aP}async _openPopup(e,n,i,a){Xi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await vT(e,n,i,j0(),a);return DP(e,l,iv())}async _openRedirect(e,n,i,a){await this._originValidation(e);const l=await vT(e,n,i,j0(),a);return FV(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Xi(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await kP(e),i=new dP(e);return n.register("authEvent",a=>(je(a?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Fg,{type:Fg},a=>{const l=a?.[0]?.[Fg];l!==void 0&&n(!!l),mi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=gP(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return vA()||hA()||tv()}}const zP=UP;var xT="@firebase/auth",bT="1.12.0";class BP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){je(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function FP(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function HP(t){Ya(new Wr("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=i.options;je(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const m={apiKey:c,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xA(t)},g=new xV(i,a,l,m);return SV(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Ya(new Wr("auth-internal",e=>{const n=qf(e.getProvider("auth").getImmediate());return(i=>new BP(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ai(xT,bT,FP(t)),ai(xT,bT,"esm2020")}const qP=300,GP=W2("authIdTokenMaxAge")||qP;let _T=null;const $P=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>GP)return;const a=n?.token;_T!==a&&(_T=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function KP(t=Qy()){const e=Hf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=EV(t,{popupRedirectResolver:zP,persistence:[WV,UV,AA]}),i=W2("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=$P(l.toString());MV(n,c,()=>c(n.currentUser)),DV(n,h=>c(h))}}const a=Y2("auth");return a&&AV(n,`http://${a}`),n}function YP(){return document.getElementsByTagName("head")?.[0]??document}bV({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=a=>{const l=js("internal-error");l.customData=a,n(l)},i.type="text/javascript",i.charset="UTF-8",YP().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});HP("Browser");var QP="firebase",XP="12.9.0";ai(QP,XP,"app");var wT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Gr,MA;(function(){var t;function e(R,S){function C(){}C.prototype=S.prototype,R.F=S.prototype,R.prototype=new C,R.prototype.constructor=R,R.D=function(z,U,G){for(var M=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)M[Be-2]=arguments[Be];return S.prototype[U].apply(z,M)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(R,S,C){C||(C=0);const z=Array(16);if(typeof S=="string")for(var U=0;U<16;++U)z[U]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(U=0;U<16;++U)z[U]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=R.g[0],C=R.g[1],U=R.g[2];let G=R.g[3],M;M=S+(G^C&(U^G))+z[0]+3614090360&4294967295,S=C+(M<<7&4294967295|M>>>25),M=G+(U^S&(C^U))+z[1]+3905402710&4294967295,G=S+(M<<12&4294967295|M>>>20),M=U+(C^G&(S^C))+z[2]+606105819&4294967295,U=G+(M<<17&4294967295|M>>>15),M=C+(S^U&(G^S))+z[3]+3250441966&4294967295,C=U+(M<<22&4294967295|M>>>10),M=S+(G^C&(U^G))+z[4]+4118548399&4294967295,S=C+(M<<7&4294967295|M>>>25),M=G+(U^S&(C^U))+z[5]+1200080426&4294967295,G=S+(M<<12&4294967295|M>>>20),M=U+(C^G&(S^C))+z[6]+2821735955&4294967295,U=G+(M<<17&4294967295|M>>>15),M=C+(S^U&(G^S))+z[7]+4249261313&4294967295,C=U+(M<<22&4294967295|M>>>10),M=S+(G^C&(U^G))+z[8]+1770035416&4294967295,S=C+(M<<7&4294967295|M>>>25),M=G+(U^S&(C^U))+z[9]+2336552879&4294967295,G=S+(M<<12&4294967295|M>>>20),M=U+(C^G&(S^C))+z[10]+4294925233&4294967295,U=G+(M<<17&4294967295|M>>>15),M=C+(S^U&(G^S))+z[11]+2304563134&4294967295,C=U+(M<<22&4294967295|M>>>10),M=S+(G^C&(U^G))+z[12]+1804603682&4294967295,S=C+(M<<7&4294967295|M>>>25),M=G+(U^S&(C^U))+z[13]+4254626195&4294967295,G=S+(M<<12&4294967295|M>>>20),M=U+(C^G&(S^C))+z[14]+2792965006&4294967295,U=G+(M<<17&4294967295|M>>>15),M=C+(S^U&(G^S))+z[15]+1236535329&4294967295,C=U+(M<<22&4294967295|M>>>10),M=S+(U^G&(C^U))+z[1]+4129170786&4294967295,S=C+(M<<5&4294967295|M>>>27),M=G+(C^U&(S^C))+z[6]+3225465664&4294967295,G=S+(M<<9&4294967295|M>>>23),M=U+(S^C&(G^S))+z[11]+643717713&4294967295,U=G+(M<<14&4294967295|M>>>18),M=C+(G^S&(U^G))+z[0]+3921069994&4294967295,C=U+(M<<20&4294967295|M>>>12),M=S+(U^G&(C^U))+z[5]+3593408605&4294967295,S=C+(M<<5&4294967295|M>>>27),M=G+(C^U&(S^C))+z[10]+38016083&4294967295,G=S+(M<<9&4294967295|M>>>23),M=U+(S^C&(G^S))+z[15]+3634488961&4294967295,U=G+(M<<14&4294967295|M>>>18),M=C+(G^S&(U^G))+z[4]+3889429448&4294967295,C=U+(M<<20&4294967295|M>>>12),M=S+(U^G&(C^U))+z[9]+568446438&4294967295,S=C+(M<<5&4294967295|M>>>27),M=G+(C^U&(S^C))+z[14]+3275163606&4294967295,G=S+(M<<9&4294967295|M>>>23),M=U+(S^C&(G^S))+z[3]+4107603335&4294967295,U=G+(M<<14&4294967295|M>>>18),M=C+(G^S&(U^G))+z[8]+1163531501&4294967295,C=U+(M<<20&4294967295|M>>>12),M=S+(U^G&(C^U))+z[13]+2850285829&4294967295,S=C+(M<<5&4294967295|M>>>27),M=G+(C^U&(S^C))+z[2]+4243563512&4294967295,G=S+(M<<9&4294967295|M>>>23),M=U+(S^C&(G^S))+z[7]+1735328473&4294967295,U=G+(M<<14&4294967295|M>>>18),M=C+(G^S&(U^G))+z[12]+2368359562&4294967295,C=U+(M<<20&4294967295|M>>>12),M=S+(C^U^G)+z[5]+4294588738&4294967295,S=C+(M<<4&4294967295|M>>>28),M=G+(S^C^U)+z[8]+2272392833&4294967295,G=S+(M<<11&4294967295|M>>>21),M=U+(G^S^C)+z[11]+1839030562&4294967295,U=G+(M<<16&4294967295|M>>>16),M=C+(U^G^S)+z[14]+4259657740&4294967295,C=U+(M<<23&4294967295|M>>>9),M=S+(C^U^G)+z[1]+2763975236&4294967295,S=C+(M<<4&4294967295|M>>>28),M=G+(S^C^U)+z[4]+1272893353&4294967295,G=S+(M<<11&4294967295|M>>>21),M=U+(G^S^C)+z[7]+4139469664&4294967295,U=G+(M<<16&4294967295|M>>>16),M=C+(U^G^S)+z[10]+3200236656&4294967295,C=U+(M<<23&4294967295|M>>>9),M=S+(C^U^G)+z[13]+681279174&4294967295,S=C+(M<<4&4294967295|M>>>28),M=G+(S^C^U)+z[0]+3936430074&4294967295,G=S+(M<<11&4294967295|M>>>21),M=U+(G^S^C)+z[3]+3572445317&4294967295,U=G+(M<<16&4294967295|M>>>16),M=C+(U^G^S)+z[6]+76029189&4294967295,C=U+(M<<23&4294967295|M>>>9),M=S+(C^U^G)+z[9]+3654602809&4294967295,S=C+(M<<4&4294967295|M>>>28),M=G+(S^C^U)+z[12]+3873151461&4294967295,G=S+(M<<11&4294967295|M>>>21),M=U+(G^S^C)+z[15]+530742520&4294967295,U=G+(M<<16&4294967295|M>>>16),M=C+(U^G^S)+z[2]+3299628645&4294967295,C=U+(M<<23&4294967295|M>>>9),M=S+(U^(C|~G))+z[0]+4096336452&4294967295,S=C+(M<<6&4294967295|M>>>26),M=G+(C^(S|~U))+z[7]+1126891415&4294967295,G=S+(M<<10&4294967295|M>>>22),M=U+(S^(G|~C))+z[14]+2878612391&4294967295,U=G+(M<<15&4294967295|M>>>17),M=C+(G^(U|~S))+z[5]+4237533241&4294967295,C=U+(M<<21&4294967295|M>>>11),M=S+(U^(C|~G))+z[12]+1700485571&4294967295,S=C+(M<<6&4294967295|M>>>26),M=G+(C^(S|~U))+z[3]+2399980690&4294967295,G=S+(M<<10&4294967295|M>>>22),M=U+(S^(G|~C))+z[10]+4293915773&4294967295,U=G+(M<<15&4294967295|M>>>17),M=C+(G^(U|~S))+z[1]+2240044497&4294967295,C=U+(M<<21&4294967295|M>>>11),M=S+(U^(C|~G))+z[8]+1873313359&4294967295,S=C+(M<<6&4294967295|M>>>26),M=G+(C^(S|~U))+z[15]+4264355552&4294967295,G=S+(M<<10&4294967295|M>>>22),M=U+(S^(G|~C))+z[6]+2734768916&4294967295,U=G+(M<<15&4294967295|M>>>17),M=C+(G^(U|~S))+z[13]+1309151649&4294967295,C=U+(M<<21&4294967295|M>>>11),M=S+(U^(C|~G))+z[4]+4149444226&4294967295,S=C+(M<<6&4294967295|M>>>26),M=G+(C^(S|~U))+z[11]+3174756917&4294967295,G=S+(M<<10&4294967295|M>>>22),M=U+(S^(G|~C))+z[2]+718787259&4294967295,U=G+(M<<15&4294967295|M>>>17),M=C+(G^(U|~S))+z[9]+3951481745&4294967295,R.g[0]=R.g[0]+S&4294967295,R.g[1]=R.g[1]+(U+(M<<21&4294967295|M>>>11))&4294967295,R.g[2]=R.g[2]+U&4294967295,R.g[3]=R.g[3]+G&4294967295}i.prototype.v=function(R,S){S===void 0&&(S=R.length);const C=S-this.blockSize,z=this.C;let U=this.h,G=0;for(;G<S;){if(U==0)for(;G<=C;)a(this,R,G),G+=this.blockSize;if(typeof R=="string"){for(;G<S;)if(z[U++]=R.charCodeAt(G++),U==this.blockSize){a(this,z),U=0;break}}else for(;G<S;)if(z[U++]=R[G++],U==this.blockSize){a(this,z),U=0;break}}this.h=U,this.o+=S},i.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var S=1;S<R.length-8;++S)R[S]=0;S=this.o*8;for(var C=R.length-8;C<R.length;++C)R[C]=S&255,S/=256;for(this.v(R),R=Array(16),S=0,C=0;C<4;++C)for(let z=0;z<32;z+=8)R[S++]=this.g[C]>>>z&255;return R};function l(R,S){var C=h;return Object.prototype.hasOwnProperty.call(C,R)?C[R]:C[R]=S(R)}function c(R,S){this.h=S;const C=[];let z=!0;for(let U=R.length-1;U>=0;U--){const G=R[U]|0;z&&G==S||(C[U]=G,z=!1)}this.g=C}var h={};function m(R){return-128<=R&&R<128?l(R,function(S){return new c([S|0],S<0?-1:0)}):new c([R|0],R<0?-1:0)}function g(R){if(isNaN(R)||!isFinite(R))return x;if(R<0)return D(g(-R));const S=[];let C=1;for(let z=0;R>=C;z++)S[z]=R/C|0,C*=4294967296;return new c(S,0)}function v(R,S){if(R.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(R.charAt(0)=="-")return D(v(R.substring(1),S));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=g(Math.pow(S,8));let z=x;for(let G=0;G<R.length;G+=8){var U=Math.min(8,R.length-G);const M=parseInt(R.substring(G,G+U),S);U<8?(U=g(Math.pow(S,U)),z=z.j(U).add(g(M))):(z=z.j(C),z=z.add(g(M)))}return z}var x=m(0),_=m(1),E=m(16777216);t=c.prototype,t.m=function(){if(j(this))return-D(this).m();let R=0,S=1;for(let C=0;C<this.g.length;C++){const z=this.i(C);R+=(z>=0?z:4294967296+z)*S,S*=4294967296}return R},t.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(I(this))return"0";if(j(this))return"-"+D(this).toString(R);const S=g(Math.pow(R,6));var C=this;let z="";for(;;){const U=J(C,S).g;C=V(C,U.j(S));let G=((C.g.length>0?C.g[0]:C.h)>>>0).toString(R);if(C=U,I(C))return G+z;for(;G.length<6;)G="0"+G;z=G+z}},t.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function I(R){if(R.h!=0)return!1;for(let S=0;S<R.g.length;S++)if(R.g[S]!=0)return!1;return!0}function j(R){return R.h==-1}t.l=function(R){return R=V(this,R),j(R)?-1:I(R)?0:1};function D(R){const S=R.g.length,C=[];for(let z=0;z<S;z++)C[z]=~R.g[z];return new c(C,~R.h).add(_)}t.abs=function(){return j(this)?D(this):this},t.add=function(R){const S=Math.max(this.g.length,R.g.length),C=[];let z=0;for(let U=0;U<=S;U++){let G=z+(this.i(U)&65535)+(R.i(U)&65535),M=(G>>>16)+(this.i(U)>>>16)+(R.i(U)>>>16);z=M>>>16,G&=65535,M&=65535,C[U]=M<<16|G}return new c(C,C[C.length-1]&-2147483648?-1:0)};function V(R,S){return R.add(D(S))}t.j=function(R){if(I(this)||I(R))return x;if(j(this))return j(R)?D(this).j(D(R)):D(D(this).j(R));if(j(R))return D(this.j(D(R)));if(this.l(E)<0&&R.l(E)<0)return g(this.m()*R.m());const S=this.g.length+R.g.length,C=[];for(var z=0;z<2*S;z++)C[z]=0;for(z=0;z<this.g.length;z++)for(let U=0;U<R.g.length;U++){const G=this.i(z)>>>16,M=this.i(z)&65535,Be=R.i(U)>>>16,Y=R.i(U)&65535;C[2*z+2*U]+=M*Y,F(C,2*z+2*U),C[2*z+2*U+1]+=G*Y,F(C,2*z+2*U+1),C[2*z+2*U+1]+=M*Be,F(C,2*z+2*U+1),C[2*z+2*U+2]+=G*Be,F(C,2*z+2*U+2)}for(R=0;R<S;R++)C[R]=C[2*R+1]<<16|C[2*R];for(R=S;R<2*S;R++)C[R]=0;return new c(C,0)};function F(R,S){for(;(R[S]&65535)!=R[S];)R[S+1]+=R[S]>>>16,R[S]&=65535,S++}function $(R,S){this.g=R,this.h=S}function J(R,S){if(I(S))throw Error("division by zero");if(I(R))return new $(x,x);if(j(R))return S=J(D(R),S),new $(D(S.g),D(S.h));if(j(S))return S=J(R,D(S)),new $(D(S.g),S.h);if(R.g.length>30){if(j(R)||j(S))throw Error("slowDivide_ only works with positive integers.");for(var C=_,z=S;z.l(R)<=0;)C=se(C),z=se(z);var U=de(C,1),G=de(z,1);for(z=de(z,2),C=de(C,2);!I(z);){var M=G.add(z);M.l(R)<=0&&(U=U.add(C),G=M),z=de(z,1),C=de(C,1)}return S=V(R,U.j(S)),new $(U,S)}for(U=x;R.l(S)>=0;){for(C=Math.max(1,Math.floor(R.m()/S.m())),z=Math.ceil(Math.log(C)/Math.LN2),z=z<=48?1:Math.pow(2,z-48),G=g(C),M=G.j(S);j(M)||M.l(R)>0;)C-=z,G=g(C),M=G.j(S);I(G)&&(G=_),U=U.add(G),R=V(R,M)}return new $(U,R)}t.B=function(R){return J(this,R).h},t.and=function(R){const S=Math.max(this.g.length,R.g.length),C=[];for(let z=0;z<S;z++)C[z]=this.i(z)&R.i(z);return new c(C,this.h&R.h)},t.or=function(R){const S=Math.max(this.g.length,R.g.length),C=[];for(let z=0;z<S;z++)C[z]=this.i(z)|R.i(z);return new c(C,this.h|R.h)},t.xor=function(R){const S=Math.max(this.g.length,R.g.length),C=[];for(let z=0;z<S;z++)C[z]=this.i(z)^R.i(z);return new c(C,this.h^R.h)};function se(R){const S=R.g.length+1,C=[];for(let z=0;z<S;z++)C[z]=R.i(z)<<1|R.i(z-1)>>>31;return new c(C,R.h)}function de(R,S){const C=S>>5;S%=32;const z=R.g.length-C,U=[];for(let G=0;G<z;G++)U[G]=S>0?R.i(G+C)>>>S|R.i(G+C+1)<<32-S:R.i(G+C);return new c(U,R.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,MA=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=v,Gr=c}).apply(typeof wT<"u"?wT:typeof self<"u"?self:typeof window<"u"?window:{});var Sh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var VA,$c,PA,Kh,V0,OA,LA,UA;(function(){var t,e=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Sh=="object"&&Sh];for(var b=0;b<f.length;++b){var T=f[b];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var i=n(this);function a(f,b){if(b)e:{var T=i;f=f.split(".");for(var N=0;N<f.length-1;N++){var Q=f[N];if(!(Q in T))break e;T=T[Q]}f=f[f.length-1],N=T[f],b=b(N),b!=N&&b!=null&&e(T,f,{configurable:!0,writable:!0,value:b})}}a("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(f){return f||function(b){var T=[],N;for(N in b)Object.prototype.hasOwnProperty.call(b,N)&&T.push([N,b[N]]);return T}});var l=l||{},c=this||self;function h(f){var b=typeof f;return b=="object"&&f!=null||b=="function"}function m(f,b,T){return f.call.apply(f.bind,arguments)}function g(f,b,T){return g=m,g.apply(null,arguments)}function v(f,b){var T=Array.prototype.slice.call(arguments,1);return function(){var N=T.slice();return N.push.apply(N,arguments),f.apply(this,N)}}function x(f,b){function T(){}T.prototype=b.prototype,f.Z=b.prototype,f.prototype=new T,f.prototype.constructor=f,f.Ob=function(N,Q,ee){for(var me=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)me[Oe-2]=arguments[Oe];return b.prototype[Q].apply(N,me)}}var _=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function E(f){const b=f.length;if(b>0){const T=Array(b);for(let N=0;N<b;N++)T[N]=f[N];return T}return[]}function I(f,b){for(let N=1;N<arguments.length;N++){const Q=arguments[N];var T=typeof Q;if(T=T!="object"?T:Q?Array.isArray(Q)?"array":T:"null",T=="array"||T=="object"&&typeof Q.length=="number"){T=f.length||0;const ee=Q.length||0;f.length=T+ee;for(let me=0;me<ee;me++)f[T+me]=Q[me]}else f.push(Q)}}class j{constructor(b,T){this.i=b,this.j=T,this.h=0,this.g=null}get(){let b;return this.h>0?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function D(f){c.setTimeout(()=>{throw f},0)}function V(){var f=R;let b=null;return f.g&&(b=f.g,f.g=f.g.next,f.g||(f.h=null),b.next=null),b}class F{constructor(){this.h=this.g=null}add(b,T){const N=$.get();N.set(b,T),this.h?this.h.next=N:this.g=N,this.h=N}}var $=new j(()=>new J,f=>f.reset());class J{constructor(){this.next=this.g=this.h=null}set(b,T){this.h=b,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let se,de=!1,R=new F,S=()=>{const f=Promise.resolve(void 0);se=()=>{f.then(C)}};function C(){for(var f;f=V();){try{f.h.call(f.g)}catch(T){D(T)}var b=$;b.j(f),b.h<100&&(b.h++,f.next=b.g,b.g=f)}de=!1}function z(){this.u=this.u,this.C=this.C}z.prototype.u=!1,z.prototype.dispose=function(){this.u||(this.u=!0,this.N())},z.prototype[Symbol.dispose]=function(){this.dispose()},z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function U(f,b){this.type=f,this.g=this.target=b,this.defaultPrevented=!1}U.prototype.h=function(){this.defaultPrevented=!0};var G=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var f=!1,b=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const T=()=>{};c.addEventListener("test",T,b),c.removeEventListener("test",T,b)}catch{}return f})();function M(f){return/^[\s\xa0]*$/.test(f)}function Be(f,b){U.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,b)}x(Be,U),Be.prototype.init=function(f,b){const T=this.type=f.type,N=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=b,b=f.relatedTarget,b||(T=="mouseover"?b=f.fromElement:T=="mouseout"&&(b=f.toElement)),this.relatedTarget=b,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&Be.Z.h.call(this)},Be.prototype.h=function(){Be.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Y="closure_listenable_"+(Math.random()*1e6|0),O=0;function q(f,b,T,N,Q){this.listener=f,this.proxy=null,this.src=b,this.type=T,this.capture=!!N,this.ha=Q,this.key=++O,this.da=this.fa=!1}function H(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function ae(f,b,T){for(const N in f)b.call(T,f[N],N,f)}function fe(f,b){for(const T in f)b.call(void 0,f[T],T,f)}function P(f){const b={};for(const T in f)b[T]=f[T];return b}const ne="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ue(f,b){let T,N;for(let Q=1;Q<arguments.length;Q++){N=arguments[Q];for(T in N)f[T]=N[T];for(let ee=0;ee<ne.length;ee++)T=ne[ee],Object.prototype.hasOwnProperty.call(N,T)&&(f[T]=N[T])}}function he(f){this.src=f,this.g={},this.h=0}he.prototype.add=function(f,b,T,N,Q){const ee=f.toString();f=this.g[ee],f||(f=this.g[ee]=[],this.h++);const me=Ie(f,b,N,Q);return me>-1?(b=f[me],T||(b.fa=!1)):(b=new q(b,this.src,ee,!!N,Q),b.fa=T,f.push(b)),b};function Se(f,b){const T=b.type;if(T in f.g){var N=f.g[T],Q=Array.prototype.indexOf.call(N,b,void 0),ee;(ee=Q>=0)&&Array.prototype.splice.call(N,Q,1),ee&&(H(b),f.g[T].length==0&&(delete f.g[T],f.h--))}}function Ie(f,b,T,N){for(let Q=0;Q<f.length;++Q){const ee=f[Q];if(!ee.da&&ee.listener==b&&ee.capture==!!T&&ee.ha==N)return Q}return-1}var Ae="closure_lm_"+(Math.random()*1e6|0),pe={};function De(f,b,T,N,Q){if(Array.isArray(b)){for(let ee=0;ee<b.length;ee++)De(f,b[ee],T,N,Q);return null}return T=Pl(T),f&&f[Y]?f.J(b,T,h(N)?!!N.capture:!1,Q):bt(f,b,T,!1,N,Q)}function bt(f,b,T,N,Q,ee){if(!b)throw Error("Invalid event type");const me=h(Q)?!!Q.capture:!!Q;let Oe=Mn(f);if(Oe||(f[Ae]=Oe=new he(f)),T=Oe.add(b,T,N,me,ee),T.proxy)return T;if(N=en(),T.proxy=N,N.src=f,N.listener=T,f.addEventListener)G||(Q=me),Q===void 0&&(Q=!1),f.addEventListener(b.toString(),N,Q);else if(f.attachEvent)f.attachEvent(Dn(b.toString()),N);else if(f.addListener&&f.removeListener)f.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return T}function en(){function f(T){return b.call(f.src,f.listener,T)}const b=Gn;return f}function jn(f,b,T,N,Q){if(Array.isArray(b))for(var ee=0;ee<b.length;ee++)jn(f,b[ee],T,N,Q);else N=h(N)?!!N.capture:!!N,T=Pl(T),f&&f[Y]?(f=f.i,ee=String(b).toString(),ee in f.g&&(b=f.g[ee],T=Ie(b,T,N,Q),T>-1&&(H(b[T]),Array.prototype.splice.call(b,T,1),b.length==0&&(delete f.g[ee],f.h--)))):f&&(f=Mn(f))&&(b=f.g[b.toString()],f=-1,b&&(f=Ie(b,T,N,Q)),(T=f>-1?b[f]:null)&&bi(T))}function bi(f){if(typeof f!="number"&&f&&!f.da){var b=f.src;if(b&&b[Y])Se(b.i,f);else{var T=f.type,N=f.proxy;b.removeEventListener?b.removeEventListener(T,N,f.capture):b.detachEvent?b.detachEvent(Dn(T),N):b.addListener&&b.removeListener&&b.removeListener(N),(T=Mn(b))?(Se(T,f),T.h==0&&(T.src=null,b[Ae]=null)):H(f)}}}function Dn(f){return f in pe?pe[f]:pe[f]="on"+f}function Gn(f,b){if(f.da)f=!0;else{b=new Be(b,this);const T=f.listener,N=f.ha||f.src;f.fa&&bi(f),f=T.call(N,b)}return f}function Mn(f){return f=f[Ae],f instanceof he?f:null}var Vl="__closure_events_fn_"+(Math.random()*1e9>>>0);function Pl(f){return typeof f=="function"?f:(f[Vl]||(f[Vl]=function(b){return f.handleEvent(b)}),f[Vl])}function Ct(){z.call(this),this.i=new he(this),this.M=this,this.G=null}x(Ct,z),Ct.prototype[Y]=!0,Ct.prototype.removeEventListener=function(f,b,T,N){jn(this,f,b,T,N)};function qt(f,b){var T,N=f.G;if(N)for(T=[];N;N=N.G)T.push(N);if(f=f.M,N=b.type||b,typeof b=="string")b=new U(b,f);else if(b instanceof U)b.target=b.target||f;else{var Q=b;b=new U(N,f),ue(b,Q)}Q=!0;let ee,me;if(T)for(me=T.length-1;me>=0;me--)ee=b.g=T[me],Q=nr(ee,N,!0,b)&&Q;if(ee=b.g=f,Q=nr(ee,N,!0,b)&&Q,Q=nr(ee,N,!1,b)&&Q,T)for(me=0;me<T.length;me++)ee=b.g=T[me],Q=nr(ee,N,!1,b)&&Q}Ct.prototype.N=function(){if(Ct.Z.N.call(this),this.i){var f=this.i;for(const b in f.g){const T=f.g[b];for(let N=0;N<T.length;N++)H(T[N]);delete f.g[b],f.h--}}this.G=null},Ct.prototype.J=function(f,b,T,N){return this.i.add(String(f),b,!1,T,N)},Ct.prototype.K=function(f,b,T,N){return this.i.add(String(f),b,!0,T,N)};function nr(f,b,T,N){if(b=f.i.g[String(b)],!b)return!0;b=b.concat();let Q=!0;for(let ee=0;ee<b.length;++ee){const me=b[ee];if(me&&!me.da&&me.capture==T){const Oe=me.listener,St=me.ha||me.src;me.fa&&Se(f.i,me),Q=Oe.call(St,N)!==!1&&Q}}return Q&&!N.defaultPrevented}function hm(f,b){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=g(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(b)>2147483647?-1:c.setTimeout(f,b||0)}function qu(f){f.g=hm(()=>{f.g=null,f.i&&(f.i=!1,qu(f))},f.l);const b=f.h;f.h=null,f.m.apply(null,b)}class xn extends z{constructor(b,T){super(),this.m=b,this.l=T,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:qu(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function aa(f){z.call(this),this.h=f,this.g={}}x(aa,z);var Ol=[];function Ll(f){ae(f.g,function(b,T){this.g.hasOwnProperty(T)&&bi(b)},f),f.g={}}aa.prototype.N=function(){aa.Z.N.call(this),Ll(this)},aa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var sr=c.JSON.stringify,fm=c.JSON.parse,Gu=class{stringify(f){return c.JSON.stringify(f,void 0)}parse(f){return c.JSON.parse(f,void 0)}};function $u(){}function Ku(){}var fs={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function tn(){U.call(this,"d")}x(tn,U);function $n(){U.call(this,"c")}x($n,U);var Et={},Yu=null;function ao(){return Yu=Yu||new Ct}Et.Ia="serverreachability";function Qu(f){U.call(this,Et.Ia,f)}x(Qu,U);function Ps(f){const b=ao();qt(b,new Qu(b))}Et.STAT_EVENT="statevent";function oa(f,b){U.call(this,Et.STAT_EVENT,f),this.stat=b}x(oa,U);function Rt(f){const b=ao();qt(b,new oa(b,f))}Et.Ja="timingevent";function Os(f,b){U.call(this,Et.Ja,f),this.size=b}x(Os,U);function Ls(f,b){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){f()},b)}function ms(){this.g=!0}ms.prototype.ua=function(){this.g=!1};function mm(f,b,T,N,Q,ee){f.info(function(){if(f.g)if(ee){var me="",Oe=ee.split("&");for(let Ze=0;Ze<Oe.length;Ze++){var St=Oe[Ze].split("=");if(St.length>1){const pt=St[0];St=St[1];const Xn=pt.split("_");me=Xn.length>=2&&Xn[1]=="type"?me+(pt+"="+St+"&"):me+(pt+"=redacted&")}}}else me=null;else me=ee;return"XMLHTTP REQ ("+N+") [attempt "+Q+"]: "+b+`
`+T+`
`+me})}function Xu(f,b,T,N,Q,ee,me){f.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+Q+"]: "+b+`
`+T+`
`+ee+" "+me})}function Us(f,b,T,N){f.info(function(){return"XMLHTTP TEXT ("+b+"): "+pm(f,T)+(N?" "+N:"")})}function la(f,b){f.info(function(){return"TIMEOUT: "+b})}ms.prototype.info=function(){};function pm(f,b){if(!f.g)return b;if(!b)return null;try{const ee=JSON.parse(b);if(ee){for(f=0;f<ee.length;f++)if(Array.isArray(ee[f])){var T=ee[f];if(!(T.length<2)){var N=T[1];if(Array.isArray(N)&&!(N.length<1)){var Q=N[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(let me=1;me<N.length;me++)N[me]=""}}}}return sr(ee)}catch{return b}}var ca={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ul={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},zl;function ua(){}x(ua,$u),ua.prototype.g=function(){return new XMLHttpRequest},zl=new ua;function _i(f){return encodeURIComponent(String(f))}function Wu(f){var b=1;f=f.split(":");const T=[];for(;b>0&&f.length;)T.push(f.shift()),b--;return f.length&&T.push(f.join(":")),T}function ps(f,b,T,N){this.j=f,this.i=b,this.l=T,this.S=N||1,this.V=new aa(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new gs}function gs(){this.i=null,this.g="",this.h=!1}var It={},Qt={};function zs(f,b,T){f.M=1,f.A=da(Dt(b)),f.u=T,f.R=!0,oo(f,null)}function oo(f,b){f.F=Date.now(),Bs(f),f.B=Dt(f.A);var T=f.B,N=f.S;Array.isArray(N)||(N=[String(N)]),ho(T.i,"t",N),f.C=0,T=f.j.L,f.h=new gs,f.g=hd(f.j,T?b:null,!f.u),f.P>0&&(f.O=new xn(g(f.Y,f,f.g),f.P)),b=f.V,T=f.g,N=f.ba;var Q="readystatechange";Array.isArray(Q)||(Q&&(Ol[0]=Q.toString()),Q=Ol);for(let ee=0;ee<Q.length;ee++){const me=De(T,Q[ee],N||b.handleEvent,!1,b.h||b);if(!me)break;b.g[me.key]=me}b=f.J?P(f.J):{},f.u?(f.v||(f.v="POST"),b["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,b)):(f.v="GET",f.g.ea(f.B,f.v,null,b)),Ps(),mm(f.i,f.v,f.B,f.l,f.S,f.u)}ps.prototype.ba=function(f){f=f.target;const b=this.O;b&&xs(f)==3?b.j():this.Y(f)},ps.prototype.Y=function(f){try{if(f==this.g)e:{const Oe=xs(this.g),St=this.g.ya(),Ze=this.g.ca();if(!(Oe<3)&&(Oe!=3||this.g&&(this.h.h||this.g.la()||nn(this.g)))){this.K||Oe!=4||St==7||(St==8||Ze<=0?Ps(3):Ps(2)),Fs(this);var b=this.g.ca();this.X=b;var T=gm(this);if(this.o=b==200,Xu(this.i,this.v,this.B,this.l,this.S,Oe,b),this.o){if(this.U&&!this.L){t:{if(this.g){var N,Q=this.g;if((N=Q.g?Q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(N)){var ee=N;break t}}ee=null}if(f=ee)Us(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Hs(this,f);else{this.o=!1,this.m=3,Rt(12),Vn(this),Kn(this);break e}}if(this.R){f=!0;let pt;for(;!this.K&&this.C<T.length;)if(pt=Zu(this,T),pt==Qt){Oe==4&&(this.m=4,Rt(14),f=!1),Us(this.i,this.l,null,"[Incomplete Response]");break}else if(pt==It){this.m=4,Rt(15),Us(this.i,this.l,T,"[Invalid Chunk]"),f=!1;break}else Us(this.i,this.l,pt,null),Hs(this,pt);if(Ju(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Oe!=4||T.length!=0||this.h.h||(this.m=1,Rt(16),f=!1),this.o=this.o&&f,!f)Us(this.i,this.l,T,"[Invalid Chunked Response]"),Vn(this),Kn(this);else if(T.length>0&&!this.W){this.W=!0;var me=this.j;me.g==this&&me.aa&&!me.P&&(me.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),tc(me),me.P=!0,Rt(11))}}else Us(this.i,this.l,T,null),Hs(this,T);Oe==4&&Vn(this),this.o&&!this.K&&(Oe==4?ld(this.j,this):(this.o=!1,Bs(this)))}else Ti(this.g),b==400&&T.indexOf("Unknown SID")>0?(this.m=3,Rt(12)):(this.m=0,Rt(13)),Vn(this),Kn(this)}}}catch{}};function gm(f){if(!Ju(f))return f.g.la();const b=nn(f.g);if(b==="")return"";let T="";const N=b.length,Q=xs(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return Vn(f),Kn(f),"";f.h.i=new c.TextDecoder}for(let ee=0;ee<N;ee++)f.h.h=!0,T+=f.h.i.decode(b[ee],{stream:!(Q&&ee==N-1)});return b.length=0,f.h.g+=T,f.C=0,f.h.g}function Ju(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function Zu(f,b){var T=f.C,N=b.indexOf(`
`,T);return N==-1?Qt:(T=Number(b.substring(T,N)),isNaN(T)?It:(N+=1,N+T>b.length?Qt:(b=b.slice(N,N+T),f.C=N+T,b)))}ps.prototype.cancel=function(){this.K=!0,Vn(this)};function Bs(f){f.T=Date.now()+f.H,lo(f,f.H)}function lo(f,b){if(f.D!=null)throw Error("WatchDog timer not null");f.D=Ls(g(f.aa,f),b)}function Fs(f){f.D&&(c.clearTimeout(f.D),f.D=null)}ps.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(la(this.i,this.B),this.M!=2&&(Ps(),Rt(17)),Vn(this),this.m=2,Kn(this)):lo(this,this.T-f)};function Kn(f){f.j.I==0||f.K||ld(f.j,f)}function Vn(f){Fs(f);var b=f.O;b&&typeof b.dispose=="function"&&b.dispose(),f.O=null,Ll(f.V),f.g&&(b=f.g,f.g=null,b.abort(),b.dispose())}function Hs(f,b){try{var T=f.j;if(T.I!=0&&(T.g==f||Gs(T.h,f))){if(!f.L&&Gs(T.h,f)&&T.I==3){try{var N=T.Ba.g.parse(b)}catch{N=null}if(Array.isArray(N)&&N.length==3){var Q=N;if(Q[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<f.F)yo(T),dr(T);else break e;va(T),Rt(18)}}else T.xa=Q[1],0<T.xa-T.K&&Q[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=Ls(g(T.Va,T),6e3));qs(T.h)<=1&&T.ta&&(T.ta=void 0)}else Ws(T,11)}else if((f.L||T.g==f)&&yo(T),!M(b))for(Q=T.Ba.g.parse(b),b=0;b<Q.length;b++){let Ze=Q[b];const pt=Ze[0];if(!(pt<=T.K))if(T.K=pt,Ze=Ze[1],T.I==2)if(Ze[0]=="c"){T.M=Ze[1],T.ba=Ze[2];const Xn=Ze[3];Xn!=null&&(T.ka=Xn,T.j.info("VER="+T.ka));const Js=Ze[4];Js!=null&&(T.za=Js,T.j.info("SVER="+T.za));const bs=Ze[5];bs!=null&&typeof bs=="number"&&bs>0&&(N=1.5*bs,T.O=N,T.j.info("backChannelRequestTimeoutMs_="+N)),N=T;const _s=f.g;if(_s){const xa=_s.g?_s.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xa){var ee=N.h;ee.g||xa.indexOf("spdy")==-1&&xa.indexOf("quic")==-1&&xa.indexOf("h2")==-1||(ee.j=ee.l,ee.g=new Set,ee.h&&(Hl(ee,ee.h),ee.h=null))}if(N.G){const vo=_s.g?_s.g.getResponseHeader("X-HTTP-Session-Id"):null;vo&&(N.wa=vo,nt(N.J,N.G,vo))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-f.F,T.j.info("Handshake RTT: "+T.T+"ms")),N=T;var me=f;if(N.na=dd(N,N.L?N.ba:null,N.W),me.L){ql(N.h,me);var Oe=me,St=N.O;St&&(Oe.H=St),Oe.D&&(Fs(Oe),Bs(Oe)),N.g=me}else ad(N);T.i.length>0&&Xs(T)}else Ze[0]!="stop"&&Ze[0]!="close"||Ws(T,7);else T.I==3&&(Ze[0]=="stop"||Ze[0]=="close"?Ze[0]=="stop"?Ws(T,7):Zl(T):Ze[0]!="noop"&&T.l&&T.l.qa(Ze),T.A=0)}}Ps(4)}catch{}}var jt=class{constructor(f,b){this.g=f,this.map=b}};function Bl(f){this.l=f||10,c.PerformanceNavigationTiming?(f=c.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Fl(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function qs(f){return f.h?1:f.g?f.g.size:0}function Gs(f,b){return f.h?f.h==b:f.g?f.g.has(b):!1}function Hl(f,b){f.g?f.g.add(b):f.h=b}function ql(f,b){f.h&&f.h==b?f.h=null:f.g&&f.g.has(b)&&f.g.delete(b)}Bl.prototype.cancel=function(){if(this.i=Gl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Gl(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let b=f.i;for(const T of f.g.values())b=b.concat(T.G);return b}return E(f.i)}var ed=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function co(f,b){if(f){f=f.split("&");for(let T=0;T<f.length;T++){const N=f[T].indexOf("=");let Q,ee=null;N>=0?(Q=f[T].substring(0,N),ee=f[T].substring(N+1)):Q=f[T],b(Q,ee?decodeURIComponent(ee.replace(/\+/g," ")):"")}}}function Pn(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let b;f instanceof Pn?(this.l=f.l,Xt(this,f.j),this.o=f.o,this.g=f.g,ir(this,f.u),this.h=f.h,$l(this,id(f.i)),this.m=f.m):f&&(b=String(f).match(ed))?(this.l=!1,Xt(this,b[1]||"",!0),this.o=$s(b[2]||""),this.g=$s(b[3]||"",!0),ir(this,b[4]),this.h=$s(b[5]||"",!0),$l(this,b[6]||"",!0),this.m=$s(b[7]||"")):(this.l=!1,this.i=new ar(null,this.l))}Pn.prototype.toString=function(){const f=[];var b=this.j;b&&f.push(ha(b,uo,!0),":");var T=this.g;return(T||b=="file")&&(f.push("//"),(b=this.o)&&f.push(ha(b,uo,!0),"@"),f.push(_i(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&f.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&f.push("/"),f.push(ha(T,T.charAt(0)=="/"?Kl:td,!0))),(T=this.i.toString())&&f.push("?",T),(T=this.m)&&f.push("#",ha(T,nd)),f.join("")},Pn.prototype.resolve=function(f){const b=Dt(this);let T=!!f.j;T?Xt(b,f.j):T=!!f.o,T?b.o=f.o:T=!!f.g,T?b.g=f.g:T=f.u!=null;var N=f.h;if(T)ir(b,f.u);else if(T=!!f.h){if(N.charAt(0)!="/")if(this.g&&!this.h)N="/"+N;else{var Q=b.h.lastIndexOf("/");Q!=-1&&(N=b.h.slice(0,Q+1)+N)}if(Q=N,Q==".."||Q==".")N="";else if(Q.indexOf("./")!=-1||Q.indexOf("/.")!=-1){N=Q.lastIndexOf("/",0)==0,Q=Q.split("/");const ee=[];for(let me=0;me<Q.length;){const Oe=Q[me++];Oe=="."?N&&me==Q.length&&ee.push(""):Oe==".."?((ee.length>1||ee.length==1&&ee[0]!="")&&ee.pop(),N&&me==Q.length&&ee.push("")):(ee.push(Oe),N=!0)}N=ee.join("/")}else N=Q}return T?b.h=N:T=f.i.toString()!=="",T?$l(b,id(f.i)):T=!!f.m,T&&(b.m=f.m),b};function Dt(f){return new Pn(f)}function Xt(f,b,T){f.j=T?$s(b,!0):b,f.j&&(f.j=f.j.replace(/:$/,""))}function ir(f,b){if(b){if(b=Number(b),isNaN(b)||b<0)throw Error("Bad port number "+b);f.u=b}else f.u=null}function $l(f,b,T){b instanceof ar?(f.i=b,fo(f.i,f.l)):(T||(b=ha(b,rr)),f.i=new ar(b,f.l))}function nt(f,b,T){f.i.set(b,T)}function da(f){return nt(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function $s(f,b){return f?b?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function ha(f,b,T){return typeof f=="string"?(f=encodeURI(f).replace(b,En),T&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function En(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var uo=/[#\/\?@]/g,td=/[#\?:]/g,Kl=/[#\?]/g,rr=/[#\?@]/g,nd=/#/g;function ar(f,b){this.h=this.g=null,this.i=f||null,this.j=!!b}function Sn(f){f.g||(f.g=new Map,f.h=0,f.i&&co(f.i,function(b,T){f.add(decodeURIComponent(b.replace(/\+/g," ")),T)}))}t=ar.prototype,t.add=function(f,b){Sn(this),this.i=null,f=or(this,f);let T=this.g.get(f);return T||this.g.set(f,T=[]),T.push(b),this.h+=1,this};function sd(f,b){Sn(f),b=or(f,b),f.g.has(b)&&(f.i=null,f.h-=f.g.get(b).length,f.g.delete(b))}function Yl(f,b){return Sn(f),b=or(f,b),f.g.has(b)}t.forEach=function(f,b){Sn(this),this.g.forEach(function(T,N){T.forEach(function(Q){f.call(b,Q,N,this)},this)},this)};function Ql(f,b){Sn(f);let T=[];if(typeof b=="string")Yl(f,b)&&(T=T.concat(f.g.get(or(f,b))));else for(f=Array.from(f.g.values()),b=0;b<f.length;b++)T=T.concat(f[b]);return T}t.set=function(f,b){return Sn(this),this.i=null,f=or(this,f),Yl(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[b]),this.h+=1,this},t.get=function(f,b){return f?(f=Ql(this,f),f.length>0?String(f[0]):b):b};function ho(f,b,T){sd(f,b),T.length>0&&(f.i=null,f.g.set(or(f,b),E(T)),f.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],b=Array.from(this.g.keys());for(let N=0;N<b.length;N++){var T=b[N];const Q=_i(T);T=Ql(this,T);for(let ee=0;ee<T.length;ee++){let me=Q;T[ee]!==""&&(me+="="+_i(T[ee])),f.push(me)}}return this.i=f.join("&")};function id(f){const b=new ar;return b.i=f.i,f.g&&(b.g=new Map(f.g),b.h=f.h),b}function or(f,b){return b=String(b),f.j&&(b=b.toLowerCase()),b}function fo(f,b){b&&!f.j&&(Sn(f),f.i=null,f.g.forEach(function(T,N){const Q=N.toLowerCase();N!=Q&&(sd(this,N),ho(this,Q,T))},f)),f.j=b}function ys(f,b){const T=new ms;if(c.Image){const N=new Image;N.onload=v(Yn,T,"TestLoadImage: loaded",!0,b,N),N.onerror=v(Yn,T,"TestLoadImage: error",!1,b,N),N.onabort=v(Yn,T,"TestLoadImage: abort",!1,b,N),N.ontimeout=v(Yn,T,"TestLoadImage: timeout",!1,b,N),c.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=f}else b(!1)}function Xl(f,b){const T=new ms,N=new AbortController,Q=setTimeout(()=>{N.abort(),Yn(T,"TestPingServer: timeout",!1,b)},1e4);fetch(f,{signal:N.signal}).then(ee=>{clearTimeout(Q),ee.ok?Yn(T,"TestPingServer: ok",!0,b):Yn(T,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(Q),Yn(T,"TestPingServer: error",!1,b)})}function Yn(f,b,T,N,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),N(T)}catch{}}function lr(){this.g=new Gu}function Ks(f){this.i=f.Sb||null,this.h=f.ab||!1}x(Ks,$u),Ks.prototype.g=function(){return new fa(this.i,this.h)};function fa(f,b){Ct.call(this),this.H=f,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}x(fa,Ct),t=fa.prototype,t.open=function(f,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=b,this.readyState=1,vs(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const b={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(b.body=f),(this.H||c).fetch(new Request(this.D,b)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,cr(this)),this.readyState=0},t.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,vs(this)),this.g&&(this.readyState=3,vs(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;mo(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function mo(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}t.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var b=f.value?f.value:new Uint8Array(0);(b=this.B.decode(b,{stream:!f.done}))&&(this.response=this.responseText+=b)}f.done?cr(this):vs(this),this.readyState==3&&mo(this)}},t.Oa=function(f){this.g&&(this.response=this.responseText=f,cr(this))},t.Na=function(f){this.g&&(this.response=f,cr(this))},t.ga=function(){this.g&&cr(this)};function cr(f){f.readyState=4,f.l=null,f.j=null,f.B=null,vs(f)}t.setRequestHeader=function(f,b){this.A.append(f,b)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],b=this.h.entries();for(var T=b.next();!T.done;)T=T.value,f.push(T[0]+": "+T[1]),T=b.next();return f.join(`\r
`)};function vs(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(fa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Qn(f){let b="";return ae(f,function(T,N){b+=N,b+=":",b+=T,b+=`\r
`}),b}function ma(f,b,T){e:{for(N in T){var N=!1;break e}N=!0}N||(T=Qn(T),typeof f=="string"?T!=null&&_i(T):nt(f,b,T))}function rt(f){Ct.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}x(rt,Ct);var Ys=/^https?$/i,Wl=["POST","PUT"];t=rt.prototype,t.Fa=function(f){this.H=f},t.ea=function(f,b,T,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);b=b?b.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():zl.g(),this.g.onreadystatechange=_(g(this.Ca,this));try{this.B=!0,this.g.open(b,String(f),!0),this.B=!1}catch(ee){pa(this,ee);return}if(f=T||"",T=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var Q in N)T.set(Q,N[Q]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const ee of N.keys())T.set(ee,N.get(ee));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(T.keys()).find(ee=>ee.toLowerCase()=="content-type"),Q=c.FormData&&f instanceof c.FormData,!(Array.prototype.indexOf.call(Wl,b,void 0)>=0)||N||Q||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ee,me]of T)this.g.setRequestHeader(ee,me);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(ee){pa(this,ee)}};function pa(f,b){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=b,f.o=5,Jl(f),wi(f)}function Jl(f){f.A||(f.A=!0,qt(f,"complete"),qt(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,qt(this,"complete"),qt(this,"abort"),wi(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),wi(this,!0)),rt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?ga(this):this.Xa())},t.Xa=function(){ga(this)};function ga(f){if(f.h&&typeof l<"u"){if(f.v&&xs(f)==4)setTimeout(f.Ca.bind(f),0);else if(qt(f,"readystatechange"),xs(f)==4){f.h=!1;try{const ee=f.ca();e:switch(ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var T;if(!(T=b)){var N;if(N=ee===0){let me=String(f.D).match(ed)[1]||null;!me&&c.self&&c.self.location&&(me=c.self.location.protocol.slice(0,-1)),N=!Ys.test(me?me.toLowerCase():"")}T=N}if(T)qt(f,"complete"),qt(f,"success");else{f.o=6;try{var Q=xs(f)>2?f.g.statusText:""}catch{Q=""}f.l=Q+" ["+f.ca()+"]",Jl(f)}}finally{wi(f)}}}}function wi(f,b){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const T=f.g;f.g=null,b||qt(f,"ready");try{T.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function xs(f){return f.g?f.g.readyState:0}t.ca=function(){try{return xs(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(f){if(this.g){var b=this.g.responseText;return f&&b.indexOf(f)==0&&(b=b.substring(f.length)),fm(b)}};function nn(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Ti(f){const b={};f=(f.g&&xs(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<f.length;N++){if(M(f[N]))continue;var T=Wu(f[N]);const Q=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const ee=b[Q]||[];b[Q]=ee,ee.push(T)}fe(b,function(N){return N.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Qs(f,b,T){return T&&T.internalChannelParams&&T.internalChannelParams[f]||b}function ur(f){this.za=0,this.i=[],this.j=new ms,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Qs("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Qs("baseRetryDelayMs",5e3,f),this.Za=Qs("retryDelaySeedMs",1e4,f),this.Ta=Qs("forwardChannelMaxRetries",2,f),this.va=Qs("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new Bl(f&&f.concurrentRequestLimit),this.Ba=new lr,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=ur.prototype,t.ka=8,t.I=1,t.connect=function(f,b,T,N){Rt(0),this.W=f,this.H=b||{},T&&N!==void 0&&(this.H.OSID=T,this.H.OAID=N),this.F=this.X,this.J=dd(this,null,this.W),Xs(this)};function Zl(f){if(po(f),f.I==3){var b=f.V++,T=Dt(f.J);if(nt(T,"SID",f.M),nt(T,"RID",b),nt(T,"TYPE","terminate"),ya(f,T),b=new ps(f,f.j,b),b.M=2,b.A=da(Dt(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(b.A.toString(),"")}catch{}!T&&c.Image&&(new Image().src=b.A,T=!0),T||(b.g=hd(b.j,null),b.g.ea(b.A)),b.F=Date.now(),Bs(b)}ud(f)}function dr(f){f.g&&(tc(f),f.g.cancel(),f.g=null)}function po(f){dr(f),f.v&&(c.clearTimeout(f.v),f.v=null),yo(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&c.clearTimeout(f.m),f.m=null)}function Xs(f){if(!Fl(f.h)&&!f.m){f.m=!0;var b=f.Ea;se||S(),de||(se(),de=!0),R.add(b,f),f.D=0}}function go(f,b){return qs(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=b.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=Ls(g(f.Ea,f,b),cd(f,f.D)),f.D++,!0)}t.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const Q=new ps(this,this.j,f);let ee=this.o;if(this.U&&(ee?(ee=P(ee),ue(ee,this.U)):ee=this.U),this.u!==null||this.R||(Q.J=ee,ee=null),this.S)e:{for(var b=0,T=0;T<this.i.length;T++){t:{var N=this.i[T];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(b+=N,b>4096){b=T;break e}if(b===4096||T===this.i.length-1){b=T+1;break e}}b=1e3}else b=1e3;b=rd(this,Q,b),T=Dt(this.J),nt(T,"RID",f),nt(T,"CVER",22),this.G&&nt(T,"X-HTTP-Session-Id",this.G),ya(this,T),ee&&(this.R?b="headers="+_i(Qn(ee))+"&"+b:this.u&&ma(T,this.u,ee)),Hl(this.h,Q),this.Ra&&nt(T,"TYPE","init"),this.S?(nt(T,"$req",b),nt(T,"SID","null"),Q.U=!0,zs(Q,T,null)):zs(Q,T,b),this.I=2}}else this.I==3&&(f?ec(this,f):this.i.length==0||Fl(this.h)||ec(this))};function ec(f,b){var T;b?T=b.l:T=f.V++;const N=Dt(f.J);nt(N,"SID",f.M),nt(N,"RID",T),nt(N,"AID",f.K),ya(f,N),f.u&&f.o&&ma(N,f.u,f.o),T=new ps(f,f.j,T,f.D+1),f.u===null&&(T.J=f.o),b&&(f.i=b.G.concat(f.i)),b=rd(f,T,1e3),T.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),Hl(f.h,T),zs(T,N,b)}function ya(f,b){f.H&&ae(f.H,function(T,N){nt(b,N,T)}),f.l&&ae({},function(T,N){nt(b,N,T)})}function rd(f,b,T){T=Math.min(f.i.length,T);const N=f.l?g(f.l.Ka,f.l,f):null;e:{var Q=f.i;let Oe=-1;for(;;){const St=["count="+T];Oe==-1?T>0?(Oe=Q[0].g,St.push("ofs="+Oe)):Oe=0:St.push("ofs="+Oe);let Ze=!0;for(let pt=0;pt<T;pt++){var ee=Q[pt].g;const Xn=Q[pt].map;if(ee-=Oe,ee<0)Oe=Math.max(0,Q[pt].g-100),Ze=!1;else try{ee="req"+ee+"_"||"";try{var me=Xn instanceof Map?Xn:Object.entries(Xn);for(const[Js,bs]of me){let _s=bs;h(bs)&&(_s=sr(bs)),St.push(ee+Js+"="+encodeURIComponent(_s))}}catch(Js){throw St.push(ee+"type="+encodeURIComponent("_badmap")),Js}}catch{N&&N(Xn)}}if(Ze){me=St.join("&");break e}}me=void 0}return f=f.i.splice(0,T),b.G=f,me}function ad(f){if(!f.g&&!f.v){f.Y=1;var b=f.Da;se||S(),de||(se(),de=!0),R.add(b,f),f.A=0}}function va(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=Ls(g(f.Da,f),cd(f,f.A)),f.A++,!0)}t.Da=function(){if(this.v=null,od(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=Ls(g(this.Wa,this),f)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Rt(10),dr(this),od(this))};function tc(f){f.B!=null&&(c.clearTimeout(f.B),f.B=null)}function od(f){f.g=new ps(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var b=Dt(f.na);nt(b,"RID","rpc"),nt(b,"SID",f.M),nt(b,"AID",f.K),nt(b,"CI",f.F?"0":"1"),!f.F&&f.ia&&nt(b,"TO",f.ia),nt(b,"TYPE","xmlhttp"),ya(f,b),f.u&&f.o&&ma(b,f.u,f.o),f.O&&(f.g.H=f.O);var T=f.g;f=f.ba,T.M=1,T.A=da(Dt(b)),T.u=null,T.R=!0,oo(T,f)}t.Va=function(){this.C!=null&&(this.C=null,dr(this),va(this),Rt(19))};function yo(f){f.C!=null&&(c.clearTimeout(f.C),f.C=null)}function ld(f,b){var T=null;if(f.g==b){yo(f),tc(f),f.g=null;var N=2}else if(Gs(f.h,b))T=b.G,ql(f.h,b),N=1;else return;if(f.I!=0){if(b.o)if(N==1){T=b.u?b.u.length:0,b=Date.now()-b.F;var Q=f.D;N=ao(),qt(N,new Os(N,T)),Xs(f)}else ad(f);else if(Q=b.m,Q==3||Q==0&&b.X>0||!(N==1&&go(f,b)||N==2&&va(f)))switch(T&&T.length>0&&(b=f.h,b.i=b.i.concat(T)),Q){case 1:Ws(f,5);break;case 4:Ws(f,10);break;case 3:Ws(f,6);break;default:Ws(f,2)}}}function cd(f,b){let T=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(T*=2),T*b}function Ws(f,b){if(f.j.info("Error code "+b),b==2){var T=g(f.bb,f),N=f.Ua;const Q=!N;N=new Pn(N||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Xt(N,"https"),da(N),Q?ys(N.toString(),T):Xl(N.toString(),T)}else Rt(2);f.I=0,f.l&&f.l.pa(b),ud(f),po(f)}t.bb=function(f){f?(this.j.info("Successfully pinged google.com"),Rt(2)):(this.j.info("Failed to ping google.com"),Rt(1))};function ud(f){if(f.I=0,f.ja=[],f.l){const b=Gl(f.h);(b.length!=0||f.i.length!=0)&&(I(f.ja,b),I(f.ja,f.i),f.h.i.length=0,E(f.i),f.i.length=0),f.l.oa()}}function dd(f,b,T){var N=T instanceof Pn?Dt(T):new Pn(T);if(N.g!="")b&&(N.g=b+"."+N.g),ir(N,N.u);else{var Q=c.location;N=Q.protocol,b=b?b+"."+Q.hostname:Q.hostname,Q=+Q.port;const ee=new Pn(null);N&&Xt(ee,N),b&&(ee.g=b),Q&&ir(ee,Q),T&&(ee.h=T),N=ee}return T=f.G,b=f.wa,T&&b&&nt(N,T,b),nt(N,"VER",f.ka),ya(f,N),N}function hd(f,b,T){if(b&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return b=f.Aa&&!f.ma?new rt(new Ks({ab:T})):new rt(f.ma),b.Fa(f.L),b}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function fd(){}t=fd.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function hr(){}hr.prototype.g=function(f,b){return new bn(f,b)};function bn(f,b){Ct.call(this),this.g=new ur(b),this.l=f,this.h=b&&b.messageUrlParams||null,f=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(f?f["X-WebChannel-Content-Type"]=b.messageContentType:f={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.sa&&(f?f["X-WebChannel-Client-Profile"]=b.sa:f={"X-WebChannel-Client-Profile":b.sa}),this.g.U=f,(f=b&&b.Qb)&&!M(f)&&(this.g.u=f),this.A=b&&b.supportsCrossDomainXhr||!1,this.v=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!M(b)&&(this.g.G=b,f=this.h,f!==null&&b in f&&(f=this.h,b in f&&delete f[b])),this.j=new Ei(this)}x(bn,Ct),bn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},bn.prototype.close=function(){Zl(this.g)},bn.prototype.o=function(f){var b=this.g;if(typeof f=="string"){var T={};T.__data__=f,f=T}else this.v&&(T={},T.__data__=sr(f),f=T);b.i.push(new jt(b.Ya++,f)),b.I==3&&Xs(b)},bn.prototype.N=function(){this.g.l=null,delete this.j,Zl(this.g),delete this.g,bn.Z.N.call(this)};function md(f){tn.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var b=f.__sm__;if(b){e:{for(const T in b){f=T;break e}f=void 0}(this.i=f)&&(f=this.i,b=b!==null&&f in b?b[f]:void 0),this.data=b}else this.data=f}x(md,tn);function pd(){$n.call(this),this.status=1}x(pd,$n);function Ei(f){this.g=f}x(Ei,fd),Ei.prototype.ra=function(){qt(this.g,"a")},Ei.prototype.qa=function(f){qt(this.g,new md(f))},Ei.prototype.pa=function(f){qt(this.g,new pd)},Ei.prototype.oa=function(){qt(this.g,"b")},hr.prototype.createWebChannel=hr.prototype.g,bn.prototype.send=bn.prototype.o,bn.prototype.open=bn.prototype.m,bn.prototype.close=bn.prototype.close,UA=function(){return new hr},LA=function(){return ao()},OA=Et,V0={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ca.NO_ERROR=0,ca.TIMEOUT=8,ca.HTTP_ERROR=6,Kh=ca,Ul.COMPLETE="complete",PA=Ul,Ku.EventType=fs,fs.OPEN="a",fs.CLOSE="b",fs.ERROR="c",fs.MESSAGE="d",Ct.prototype.listen=Ct.prototype.J,$c=Ku,rt.prototype.listenOnce=rt.prototype.K,rt.prototype.getLastError=rt.prototype.Ha,rt.prototype.getLastErrorCode=rt.prototype.ya,rt.prototype.getStatus=rt.prototype.ca,rt.prototype.getResponseJson=rt.prototype.La,rt.prototype.getResponseText=rt.prototype.la,rt.prototype.send=rt.prototype.ea,rt.prototype.setWithCredentials=rt.prototype.Fa,VA=rt}).apply(typeof Sh<"u"?Sh:typeof self<"u"?self:typeof window<"u"?window:{});class mn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}mn.UNAUTHENTICATED=new mn(null),mn.GOOGLE_CREDENTIALS=new mn("google-credentials-uid"),mn.FIRST_PARTY=new mn("first-party-uid"),mn.MOCK_USER=new mn("mock-user");let Nl="12.9.0";function WP(t){Nl=t}const Xa=new Ky("@firebase/firestore");function Wo(){return Xa.logLevel}function ye(t,...e){if(Xa.logLevel<=$e.DEBUG){const n=e.map(av);Xa.debug(`Firestore (${Nl}): ${t}`,...n)}}function Wi(t,...e){if(Xa.logLevel<=$e.ERROR){const n=e.map(av);Xa.error(`Firestore (${Nl}): ${t}`,...n)}}function Wa(t,...e){if(Xa.logLevel<=$e.WARN){const n=e.map(av);Xa.warn(`Firestore (${Nl}): ${t}`,...n)}}function av(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Re(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,zA(t,i,n)}function zA(t,e,n){let i=`FIRESTORE (${Nl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw Wi(i),new Error(i)}function tt(t,e,n,i){let a="Unexpected state";typeof n=="string"?a=n:i=n,t||zA(e,a,i)}function Pe(t,e){return t}const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends yi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class $r{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class BA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class JP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(mn.UNAUTHENTICATED)))}shutdown(){}}class ZP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class eO{constructor(e){this.t=e,this.currentUser=mn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){tt(this.o===void 0,42304);let i=this.i;const a=m=>this.i!==i?(i=this.i,n(m)):Promise.resolve();let l=new $r;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new $r,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const m=l;e.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},h=m=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((m=>h(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?h(m):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new $r)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(tt(typeof i.accessToken=="string",31837,{l:i}),new BA(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return tt(e===null||typeof e=="string",2055,{h:e}),new mn(e)}}class tO{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=mn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class nO{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new tO(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(mn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class TT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class sO{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,rs(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){tt(this.o===void 0,3512);const i=l=>{l.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,ye("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>i(l)))};const a=l=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new TT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(tt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new TT(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function iO(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}class ov{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=iO(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<n&&(i+=e.charAt(a[l]%62))}return i}}function Ke(t,e){return t<e?-1:t>e?1:0}function P0(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const a=t.charAt(i),l=e.charAt(i);if(a!==l)return Hg(a)===Hg(l)?Ke(a,l):Hg(a)?1:-1}return Ke(t.length,e.length)}const rO=55296,aO=57343;function Hg(t){const e=t.charCodeAt(0);return e>=rO&&e<=aO}function pl(t,e,n){return t.length===e.length&&t.every(((i,a)=>n(i,e[a])))}const ET="__name__";class ii{constructor(e,n,i){n===void 0?n=0:n>e.length&&Re(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&Re(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return ii.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ii?e.forEach((i=>{n.push(i)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let a=0;a<i;a++){const l=ii.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return Ke(e.length,n.length)}static compareSegments(e,n){const i=ii.isNumericId(e),a=ii.isNumericId(n);return i&&!a?-1:!i&&a?1:i&&a?ii.extractNumericId(e).compare(ii.extractNumericId(n)):P0(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Gr.fromString(e.substring(4,e.length-2))}}class ut extends ii{construct(e,n,i){return new ut(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new ge(le.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((a=>a.length>0)))}return new ut(n)}static emptyPath(){return new ut([])}}const oO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class un extends ii{construct(e,n,i){return new un(e,n,i)}static isValidIdentifier(e){return oO.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),un.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ET}static keyField(){return new un([ET])}static fromServerFormat(e){const n=[];let i="",a=0;const l=()=>{if(i.length===0)throw new ge(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let c=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new ge(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new ge(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=m,a+=2}else h==="`"?(c=!c,a++):h!=="."||c?(i+=h,a++):(l(),a++)}if(l(),c)throw new ge(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new un(n)}static emptyPath(){return new un([])}}class Ne{constructor(e){this.path=e}static fromPath(e){return new Ne(ut.fromString(e))}static fromName(e){return new Ne(ut.fromString(e).popFirst(5))}static empty(){return new Ne(ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ut.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ut.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ne(new ut(e.slice()))}}function FA(t,e,n){if(!n)throw new ge(le.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function lO(t,e,n,i){if(e===!0&&i===!0)throw new ge(le.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function ST(t){if(!Ne.isDocumentKey(t))throw new ge(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function AT(t){if(Ne.isDocumentKey(t))throw new ge(le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function HA(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Kf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Re(12329,{type:typeof t})}function Gi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ge(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Kf(t);throw new ge(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function cO(t,e){if(e<=0)throw new ge(le.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}function Bt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Vu(t,e){if(!HA(t))throw new ge(le.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const a=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const c=t[i];if(a&&typeof c!==a){n=`JSON field '${i}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${i}' field to equal '${l.value}'`;break}}if(n)throw new ge(le.INVALID_ARGUMENT,n);return!0}const kT=-62135596800,NT=1e6;class mt{static now(){return mt.fromMillis(Date.now())}static fromDate(e){return mt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*NT);return new mt(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ge(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ge(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<kT)throw new ge(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/NT}_compareTo(e){return this.seconds===e.seconds?Ke(this.nanoseconds,e.nanoseconds):Ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:mt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Vu(e,mt._jsonSchema))return new mt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-kT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}mt._jsonSchemaVersion="firestore/timestamp/1.0",mt._jsonSchema={type:Bt("string",mt._jsonSchemaVersion),seconds:Bt("number"),nanoseconds:Bt("number")};class Me{static fromTimestamp(e){return new Me(e)}static min(){return new Me(new mt(0,0))}static max(){return new Me(new mt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const gu=-1;function uO(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,a=Me.fromTimestamp(i===1e9?new mt(n+1,0):new mt(n,i));return new Jr(a,Ne.empty(),e)}function dO(t){return new Jr(t.readTime,t.key,gu)}class Jr{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Jr(Me.min(),Ne.empty(),gu)}static max(){return new Jr(Me.max(),Ne.empty(),gu)}}function hO(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ne.comparator(t.documentKey,e.documentKey),n!==0?n:Ke(t.largestBatchId,e.largestBatchId))}const fO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Cl(t){if(t.code!==le.FAILED_PRECONDITION||t.message!==fO)throw t;ye("LocalStore","Unexpectedly lost primary lease")}class ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Re(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ce(((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(i,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ce?n:ce.resolve(n)}catch(n){return ce.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ce.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ce.reject(n)}static resolve(e){return new ce(((n,i)=>{n(e)}))}static reject(e){return new ce(((n,i)=>{i(e)}))}static waitFor(e){return new ce(((n,i)=>{let a=0,l=0,c=!1;e.forEach((h=>{++a,h.next((()=>{++l,c&&l===a&&n()}),(m=>i(m)))})),c=!0,l===a&&n()}))}static or(e){let n=ce.resolve(!1);for(const i of e)n=n.next((a=>a?ce.resolve(a):i()));return n}static forEach(e,n){const i=[];return e.forEach(((a,l)=>{i.push(n.call(this,a,l))})),this.waitFor(i)}static mapArray(e,n){return new ce(((i,a)=>{const l=e.length,c=new Array(l);let h=0;for(let m=0;m<l;m++){const g=m;n(e[g]).next((v=>{c[g]=v,++h,h===l&&i(c)}),(v=>a(v)))}}))}static doWhile(e,n){return new ce(((i,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):i()};l()}))}}function pO(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Rl(t){return t.name==="IndexedDbTransactionError"}class Yf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Yf.ce=-1;const lv=-1;function Qf(t){return t==null}function yf(t){return t===0&&1/t==-1/0}function gO(t){return typeof t=="number"&&Number.isInteger(t)&&!yf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const qA="";function yO(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=CT(e)),e=vO(t.get(n),e);return CT(e)}function vO(t,e){let n=e;const i=t.length;for(let a=0;a<i;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case qA:n+="";break;default:n+=l}}return n}function CT(t){return t+qA+""}function RT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function to(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function GA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class xt{constructor(e,n){this.comparator=e,this.root=n||cn.EMPTY}insert(e,n){return new xt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,cn.BLACK,null,null))}remove(e){return new xt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,cn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return n+i.left.size;a<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,i)=>(e(n,i),!1)))}toString(){const e=[];return this.inorderTraversal(((n,i)=>(e.push(`${n}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ah(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ah(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ah(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ah(this.root,e,this.comparator,!0)}}class Ah{constructor(e,n,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?i(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class cn{constructor(e,n,i,a,l){this.key=e,this.value=n,this.color=i??cn.RED,this.left=a??cn.EMPTY,this.right=l??cn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,a,l){return new cn(e??this.key,n??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,i),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return cn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return cn.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,cn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,cn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Re(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Re(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Re(27949);return e+(this.isRed()?0:1)}}cn.EMPTY=null,cn.RED=!0,cn.BLACK=!1;cn.EMPTY=new class{constructor(){this.size=0}get key(){throw Re(57766)}get value(){throw Re(16141)}get color(){throw Re(16727)}get left(){throw Re(29726)}get right(){throw Re(36894)}copy(e,n,i,a,l){return this}insert(e,n,i){return new cn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Yt{constructor(e){this.comparator=e,this.data=new xt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,i)=>(e(n),!1)))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new IT(this.data.getIterator())}getIteratorFrom(e){return new IT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((i=>{n=n.add(i)})),n}isEqual(e){if(!(e instanceof Yt)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Yt(this.comparator);return n.data=e,n}}class IT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Cs{constructor(e){this.fields=e,e.sort(un.comparator)}static empty(){return new Cs([])}unionWith(e){let n=new Yt(un.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Cs(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return pl(this.fields,e.fields,((n,i)=>n.isEqual(i)))}}class $A extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class dn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new $A("Invalid base64 string: "+l):l}})(e);return new dn(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(e);return new dn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}dn.EMPTY_BYTE_STRING=new dn("");const xO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zr(t){if(tt(!!t,39018),typeof t=="string"){let e=0;const n=xO.exec(t);if(tt(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Nt(t.seconds),nanos:Nt(t.nanos)}}function Nt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ea(t){return typeof t=="string"?dn.fromBase64String(t):dn.fromUint8Array(t)}const KA="server_timestamp",YA="__type__",QA="__previous_value__",XA="__local_write_time__";function cv(t){return(t?.mapValue?.fields||{})[YA]?.stringValue===KA}function Xf(t){const e=t.mapValue.fields[QA];return cv(e)?Xf(e):e}function yu(t){const e=Zr(t.mapValue.fields[XA].timestampValue);return new mt(e.seconds,e.nanos)}class bO{constructor(e,n,i,a,l,c,h,m,g,v,x){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=v,this.apiKey=x}}const vf="(default)";class vu{constructor(e,n){this.projectId=e,this.database=n||vf}static empty(){return new vu("","")}get isDefaultDatabase(){return this.database===vf}isEqual(e){return e instanceof vu&&e.projectId===this.projectId&&e.database===this.database}}function _O(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new ge(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vu(t.options.projectId,e)}const WA="__type__",wO="__max__",kh={mapValue:{}},JA="__vector__",xf="value";function ta(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?cv(t)?4:EO(t)?9007199254740991:TO(t)?10:11:Re(28295,{value:t})}function pi(t,e){if(t===e)return!0;const n=ta(t);if(n!==ta(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return yu(t).isEqual(yu(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Zr(a.timestampValue),h=Zr(l.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return ea(a.bytesValue).isEqual(ea(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return Nt(a.geoPointValue.latitude)===Nt(l.geoPointValue.latitude)&&Nt(a.geoPointValue.longitude)===Nt(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Nt(a.integerValue)===Nt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Nt(a.doubleValue),h=Nt(l.doubleValue);return c===h?yf(c)===yf(h):isNaN(c)&&isNaN(h)}return!1})(t,e);case 9:return pl(t.arrayValue.values||[],e.arrayValue.values||[],pi);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},h=l.mapValue.fields||{};if(RT(c)!==RT(h))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(h[m]===void 0||!pi(c[m],h[m])))return!1;return!0})(t,e);default:return Re(52216,{left:t})}}function xu(t,e){return(t.values||[]).find((n=>pi(n,e)))!==void 0}function gl(t,e){if(t===e)return 0;const n=ta(t),i=ta(e);if(n!==i)return Ke(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ke(t.booleanValue,e.booleanValue);case 2:return(function(l,c){const h=Nt(l.integerValue||l.doubleValue),m=Nt(c.integerValue||c.doubleValue);return h<m?-1:h>m?1:h===m?0:isNaN(h)?isNaN(m)?0:-1:1})(t,e);case 3:return jT(t.timestampValue,e.timestampValue);case 4:return jT(yu(t),yu(e));case 5:return P0(t.stringValue,e.stringValue);case 6:return(function(l,c){const h=ea(l),m=ea(c);return h.compareTo(m)})(t.bytesValue,e.bytesValue);case 7:return(function(l,c){const h=l.split("/"),m=c.split("/");for(let g=0;g<h.length&&g<m.length;g++){const v=Ke(h[g],m[g]);if(v!==0)return v}return Ke(h.length,m.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,c){const h=Ke(Nt(l.latitude),Nt(c.latitude));return h!==0?h:Ke(Nt(l.longitude),Nt(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return DT(t.arrayValue,e.arrayValue);case 10:return(function(l,c){const h=l.fields||{},m=c.fields||{},g=h[xf]?.arrayValue,v=m[xf]?.arrayValue,x=Ke(g?.values?.length||0,v?.values?.length||0);return x!==0?x:DT(g,v)})(t.mapValue,e.mapValue);case 11:return(function(l,c){if(l===kh.mapValue&&c===kh.mapValue)return 0;if(l===kh.mapValue)return 1;if(c===kh.mapValue)return-1;const h=l.fields||{},m=Object.keys(h),g=c.fields||{},v=Object.keys(g);m.sort(),v.sort();for(let x=0;x<m.length&&x<v.length;++x){const _=P0(m[x],v[x]);if(_!==0)return _;const E=gl(h[m[x]],g[v[x]]);if(E!==0)return E}return Ke(m.length,v.length)})(t.mapValue,e.mapValue);default:throw Re(23264,{he:n})}}function jT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ke(t,e);const n=Zr(t),i=Zr(e),a=Ke(n.seconds,i.seconds);return a!==0?a:Ke(n.nanos,i.nanos)}function DT(t,e){const n=t.values||[],i=e.values||[];for(let a=0;a<n.length&&a<i.length;++a){const l=gl(n[a],i[a]);if(l)return l}return Ke(n.length,i.length)}function yl(t){return O0(t)}function O0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const i=Zr(n);return`time(${i.seconds},${i.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return ea(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ne.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let i="[",a=!0;for(const l of n.values||[])a?a=!1:i+=",",i+=O0(l);return i+"]"})(t.arrayValue):"mapValue"in t?(function(n){const i=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of i)l?l=!1:a+=",",a+=`${c}:${O0(n.fields[c])}`;return a+"}"})(t.mapValue):Re(61005,{value:t})}function Yh(t){switch(ta(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Xf(t);return e?16+Yh(e):16;case 5:return 2*t.stringValue.length;case 6:return ea(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((a,l)=>a+Yh(l)),0)})(t.arrayValue);case 10:case 11:return(function(i){let a=0;return to(i.fields,((l,c)=>{a+=l.length+Yh(c)})),a})(t.mapValue);default:throw Re(13486,{value:t})}}function MT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function L0(t){return!!t&&"integerValue"in t}function uv(t){return!!t&&"arrayValue"in t}function VT(t){return!!t&&"nullValue"in t}function PT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Qh(t){return!!t&&"mapValue"in t}function TO(t){return(t?.mapValue?.fields||{})[WA]?.stringValue===JA}function su(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return to(t.mapValue.fields,((n,i)=>e.mapValue.fields[n]=su(i))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=su(t.arrayValue.values[n]);return e}return{...t}}function EO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===wO}class as{constructor(e){this.value=e}static empty(){return new as({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Qh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=su(n)}setAll(e){let n=un.emptyPath(),i={},a=[];e.forEach(((c,h)=>{if(!n.isImmediateParentOf(h)){const m=this.getFieldsMap(n);this.applyChanges(m,i,a),i={},a=[],n=h.popLast()}c?i[h.lastSegment()]=su(c):a.push(h.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,i,a)}delete(e){const n=this.field(e.popLast());Qh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return pi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=n.mapValue.fields[e.get(i)];Qh(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,i){to(n,((a,l)=>e[a]=l));for(const a of i)delete e[a]}clone(){return new as(su(this.value))}}function ZA(t){const e=[];return to(t.fields,((n,i)=>{const a=new un([n]);if(Qh(i)){const l=ZA(i.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)})),new Cs(e)}class pn{constructor(e,n,i,a,l,c,h){this.key=e,this.documentType=n,this.version=i,this.readTime=a,this.createTime=l,this.data=c,this.documentState=h}static newInvalidDocument(e){return new pn(e,0,Me.min(),Me.min(),Me.min(),as.empty(),0)}static newFoundDocument(e,n,i,a){return new pn(e,1,n,Me.min(),i,a,0)}static newNoDocument(e,n){return new pn(e,2,n,Me.min(),Me.min(),as.empty(),0)}static newUnknownDocument(e,n){return new pn(e,3,n,Me.min(),Me.min(),as.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=as.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=as.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof pn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class bf{constructor(e,n){this.position=e,this.inclusive=n}}function OT(t,e,n){let i=0;for(let a=0;a<t.position.length;a++){const l=e[a],c=t.position[a];if(l.field.isKeyField()?i=Ne.comparator(Ne.fromName(c.referenceValue),n.key):i=gl(c,n.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function LT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!pi(t.position[n],e.position[n]))return!1;return!0}class bu{constructor(e,n="asc"){this.field=e,this.dir=n}}function SO(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class ek{}class zt extends ek{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new kO(e,n,i):n==="array-contains"?new RO(e,i):n==="in"?new IO(e,i):n==="not-in"?new jO(e,i):n==="array-contains-any"?new DO(e,i):new zt(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new NO(e,i):new CO(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(gl(n,this.value)):n!==null&&ta(this.value)===ta(n)&&this.matchesComparison(gl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Re(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Vs extends ek{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Vs(e,n)}matches(e){return tk(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function tk(t){return t.op==="and"}function nk(t){return AO(t)&&tk(t)}function AO(t){for(const e of t.filters)if(e instanceof Vs)return!1;return!0}function U0(t){if(t instanceof zt)return t.field.canonicalString()+t.op.toString()+yl(t.value);if(nk(t))return t.filters.map((e=>U0(e))).join(",");{const e=t.filters.map((n=>U0(n))).join(",");return`${t.op}(${e})`}}function sk(t,e){return t instanceof zt?(function(i,a){return a instanceof zt&&i.op===a.op&&i.field.isEqual(a.field)&&pi(i.value,a.value)})(t,e):t instanceof Vs?(function(i,a){return a instanceof Vs&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce(((l,c,h)=>l&&sk(c,a.filters[h])),!0):!1})(t,e):void Re(19439)}function ik(t){return t instanceof zt?(function(n){return`${n.field.canonicalString()} ${n.op} ${yl(n.value)}`})(t):t instanceof Vs?(function(n){return n.op.toString()+" {"+n.getFilters().map(ik).join(" ,")+"}"})(t):"Filter"}class kO extends zt{constructor(e,n,i){super(e,n,i),this.key=Ne.fromName(i.referenceValue)}matches(e){const n=Ne.comparator(e.key,this.key);return this.matchesComparison(n)}}class NO extends zt{constructor(e,n){super(e,"in",n),this.keys=rk("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class CO extends zt{constructor(e,n){super(e,"not-in",n),this.keys=rk("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function rk(t,e){return(e.arrayValue?.values||[]).map((n=>Ne.fromName(n.referenceValue)))}class RO extends zt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return uv(n)&&xu(n.arrayValue,this.value)}}class IO extends zt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&xu(this.value.arrayValue,n)}}class jO extends zt{constructor(e,n){super(e,"not-in",n)}matches(e){if(xu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!xu(this.value.arrayValue,n)}}class DO extends zt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!uv(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>xu(this.value.arrayValue,i)))}}class MO{constructor(e,n=null,i=[],a=[],l=null,c=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=c,this.endAt=h,this.Te=null}}function UT(t,e=null,n=[],i=[],a=null,l=null,c=null){return new MO(t,e,n,i,a,l,c)}function dv(t){const e=Pe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((i=>U0(i))).join(","),n+="|ob:",n+=e.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),Qf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((i=>yl(i))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((i=>yl(i))).join(",")),e.Te=n}return e.Te}function hv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!SO(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!sk(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!LT(t.startAt,e.startAt)&&LT(t.endAt,e.endAt)}function z0(t){return Ne.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class Il{constructor(e,n=null,i=[],a=[],l=null,c="F",h=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=c,this.startAt=h,this.endAt=m,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function VO(t,e,n,i,a,l,c,h){return new Il(t,e,n,i,a,l,c,h)}function fv(t){return new Il(t)}function zT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function PO(t){return Ne.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function ak(t){return t.collectionGroup!==null}function iu(t){const e=Pe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new Yt(un.comparator);return c.filters.forEach((m=>{m.getFlattenedFilters().forEach((g=>{g.isInequality()&&(h=h.add(g.field))}))})),h})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new bu(l,i))})),n.has(un.keyField().canonicalString())||e.Ie.push(new bu(un.keyField(),i))}return e.Ie}function li(t){const e=Pe(t);return e.Ee||(e.Ee=OO(e,iu(t))),e.Ee}function OO(t,e){if(t.limitType==="F")return UT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new bu(a.field,l)}));const n=t.endAt?new bf(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new bf(t.startAt.position,t.startAt.inclusive):null;return UT(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function B0(t,e){const n=t.filters.concat([e]);return new Il(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function LO(t,e){const n=t.explicitOrderBy.concat([e]);return new Il(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function _f(t,e,n){return new Il(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Wf(t,e){return hv(li(t),li(e))&&t.limitType===e.limitType}function ok(t){return`${dv(li(t))}|lt:${t.limitType}`}function Jo(t){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((a=>ik(a))).join(", ")}]`),Qf(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((a=>yl(a))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((a=>yl(a))).join(",")),`Target(${i})`})(li(t))}; limitType=${t.limitType})`}function Jf(t,e){return e.isFoundDocument()&&(function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Ne.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(t,e)&&(function(i,a){for(const l of iu(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(i,a){return!(i.startAt&&!(function(c,h,m){const g=OT(c,h,m);return c.inclusive?g<=0:g<0})(i.startAt,iu(i),a)||i.endAt&&!(function(c,h,m){const g=OT(c,h,m);return c.inclusive?g>=0:g>0})(i.endAt,iu(i),a))})(t,e)}function UO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function lk(t){return(e,n)=>{let i=!1;for(const a of iu(t)){const l=zO(a,e,n);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function zO(t,e,n){const i=t.field.isKeyField()?Ne.comparator(e.key,n.key):(function(l,c,h){const m=c.data.field(l),g=h.data.field(l);return m!==null&&g!==null?gl(m,g):Re(42886)})(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Re(19790,{direction:t.dir})}}class no{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[n]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){to(this.inner,((n,i)=>{for(const[a,l]of i)e(a,l)}))}isEmpty(){return GA(this.inner)}size(){return this.innerSize}}const BO=new xt(Ne.comparator);function Ji(){return BO}const ck=new xt(Ne.comparator);function Kc(...t){let e=ck;for(const n of t)e=e.insert(n.key,n);return e}function uk(t){let e=ck;return t.forEach(((n,i)=>e=e.insert(n,i.overlayedDocument))),e}function Fa(){return ru()}function dk(){return ru()}function ru(){return new no((t=>t.toString()),((t,e)=>t.isEqual(e)))}const FO=new xt(Ne.comparator),HO=new Yt(Ne.comparator);function Ye(...t){let e=HO;for(const n of t)e=e.add(n);return e}const qO=new Yt(Ke);function GO(){return qO}function mv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yf(e)?"-0":e}}function hk(t){return{integerValue:""+t}}function $O(t,e){return gO(e)?hk(e):mv(t,e)}class Zf{constructor(){this._=void 0}}function KO(t,e,n){return t instanceof _u?(function(a,l){const c={fields:{[YA]:{stringValue:KA},[XA]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&cv(l)&&(l=Xf(l)),l&&(c.fields[QA]=l),{mapValue:c}})(n,e):t instanceof wu?mk(t,e):t instanceof Tu?pk(t,e):(function(a,l){const c=fk(a,l),h=BT(c)+BT(a.Ae);return L0(c)&&L0(a.Ae)?hk(h):mv(a.serializer,h)})(t,e)}function YO(t,e,n){return t instanceof wu?mk(t,e):t instanceof Tu?pk(t,e):n}function fk(t,e){return t instanceof wf?(function(i){return L0(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(e)?e:{integerValue:0}:null}class _u extends Zf{}class wu extends Zf{constructor(e){super(),this.elements=e}}function mk(t,e){const n=gk(e);for(const i of t.elements)n.some((a=>pi(a,i)))||n.push(i);return{arrayValue:{values:n}}}class Tu extends Zf{constructor(e){super(),this.elements=e}}function pk(t,e){let n=gk(e);for(const i of t.elements)n=n.filter((a=>!pi(a,i)));return{arrayValue:{values:n}}}class wf extends Zf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function BT(t){return Nt(t.integerValue||t.doubleValue)}function gk(t){return uv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class QO{constructor(e,n){this.field=e,this.transform=n}}function XO(t,e){return t.field.isEqual(e.field)&&(function(i,a){return i instanceof wu&&a instanceof wu||i instanceof Tu&&a instanceof Tu?pl(i.elements,a.elements,pi):i instanceof wf&&a instanceof wf?pi(i.Ae,a.Ae):i instanceof _u&&a instanceof _u})(t.transform,e.transform)}class WO{constructor(e,n){this.version=e,this.transformResults=n}}class ci{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ci}static exists(e){return new ci(void 0,e)}static updateTime(e){return new ci(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class em{}function yk(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new xk(t.key,ci.none()):new Pu(t.key,t.data,ci.none());{const n=t.data,i=as.empty();let a=new Yt(un.comparator);for(let l of e.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?i.delete(l):i.set(l,c),a=a.add(l)}return new so(t.key,i,new Cs(a.toArray()),ci.none())}}function JO(t,e,n){t instanceof Pu?(function(a,l,c){const h=a.value.clone(),m=HT(a.fieldTransforms,l,c.transformResults);h.setAll(m),l.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(t,e,n):t instanceof so?(function(a,l,c){if(!Xh(a.precondition,l))return void l.convertToUnknownDocument(c.version);const h=HT(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(vk(a)),m.setAll(h),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(t,e,n):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function au(t,e,n,i){return t instanceof Pu?(function(l,c,h,m){if(!Xh(l.precondition,c))return h;const g=l.value.clone(),v=qT(l.fieldTransforms,m,c);return g.setAll(v),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(t,e,n,i):t instanceof so?(function(l,c,h,m){if(!Xh(l.precondition,c))return h;const g=qT(l.fieldTransforms,m,c),v=c.data;return v.setAll(vk(l)),v.setAll(g),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((x=>x.field)))})(t,e,n,i):(function(l,c,h){return Xh(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(t,e,n)}function ZO(t,e){let n=null;for(const i of t.fieldTransforms){const a=e.data.field(i.field),l=fk(i.transform,a||null);l!=null&&(n===null&&(n=as.empty()),n.set(i.field,l))}return n||null}function FT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&pl(i,a,((l,c)=>XO(l,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Pu extends em{constructor(e,n,i,a=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class so extends em{constructor(e,n,i,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function vk(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}})),e}function HT(t,e,n){const i=new Map;tt(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let a=0;a<n.length;a++){const l=t[a],c=l.transform,h=e.data.field(l.field);i.set(l.field,YO(c,h,n[a]))}return i}function qT(t,e,n){const i=new Map;for(const a of t){const l=a.transform,c=n.data.field(a.field);i.set(a.field,KO(l,c,e))}return i}class xk extends em{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class eL extends em{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class tL{constructor(e,n,i,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&JO(l,e,i[a])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=au(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=au(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=dk();return this.mutations.forEach((a=>{const l=e.get(a.key),c=l.overlayedDocument;let h=this.applyToLocalView(c,l.mutatedFields);h=n.has(a.key)?null:h;const m=yk(c,h);m!==null&&i.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(Me.min())})),i}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ye())}isEqual(e){return this.batchId===e.batchId&&pl(this.mutations,e.mutations,((n,i)=>FT(n,i)))&&pl(this.baseMutations,e.baseMutations,((n,i)=>FT(n,i)))}}class pv{constructor(e,n,i,a){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=a}static from(e,n,i){tt(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let a=(function(){return FO})();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,i[c].version);return new pv(e,n,i,a)}}class nL{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class sL{constructor(e,n){this.count=e,this.unchangedNames=n}}var Lt,Xe;function iL(t){switch(t){case le.OK:return Re(64938);case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0;default:return Re(15467,{code:t})}}function bk(t){if(t===void 0)return Wi("GRPC error has no .code"),le.UNKNOWN;switch(t){case Lt.OK:return le.OK;case Lt.CANCELLED:return le.CANCELLED;case Lt.UNKNOWN:return le.UNKNOWN;case Lt.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case Lt.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case Lt.INTERNAL:return le.INTERNAL;case Lt.UNAVAILABLE:return le.UNAVAILABLE;case Lt.UNAUTHENTICATED:return le.UNAUTHENTICATED;case Lt.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case Lt.NOT_FOUND:return le.NOT_FOUND;case Lt.ALREADY_EXISTS:return le.ALREADY_EXISTS;case Lt.PERMISSION_DENIED:return le.PERMISSION_DENIED;case Lt.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case Lt.ABORTED:return le.ABORTED;case Lt.OUT_OF_RANGE:return le.OUT_OF_RANGE;case Lt.UNIMPLEMENTED:return le.UNIMPLEMENTED;case Lt.DATA_LOSS:return le.DATA_LOSS;default:return Re(39323,{code:t})}}(Xe=Lt||(Lt={}))[Xe.OK=0]="OK",Xe[Xe.CANCELLED=1]="CANCELLED",Xe[Xe.UNKNOWN=2]="UNKNOWN",Xe[Xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xe[Xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xe[Xe.NOT_FOUND=5]="NOT_FOUND",Xe[Xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xe[Xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xe[Xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xe[Xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xe[Xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xe[Xe.ABORTED=10]="ABORTED",Xe[Xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xe[Xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xe[Xe.INTERNAL=13]="INTERNAL",Xe[Xe.UNAVAILABLE=14]="UNAVAILABLE",Xe[Xe.DATA_LOSS=15]="DATA_LOSS";function rL(){return new TextEncoder}const aL=new Gr([4294967295,4294967295],0);function GT(t){const e=rL().encode(t),n=new MA;return n.update(e),new Uint8Array(n.digest())}function $T(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Gr([n,i],0),new Gr([a,l],0)]}class gv{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Yc(`Invalid padding: ${n}`);if(i<0)throw new Yc(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Yc(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Yc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Gr.fromNumber(this.ge)}ye(e,n,i){let a=e.add(n.multiply(Gr.fromNumber(i)));return a.compare(aL)===1&&(a=new Gr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=GT(e),[i,a]=$T(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,a,l);if(!this.we(c))return!1}return!0}static create(e,n,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new gv(l,a,n);return i.forEach((h=>c.insert(h))),c}insert(e){if(this.ge===0)return;const n=GT(e),[i,a]=$T(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,a,l);this.be(c)}}be(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class Yc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class tm{constructor(e,n,i,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const a=new Map;return a.set(e,Ou.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new tm(Me.min(),a,new xt(Ke),Ji(),Ye())}}class Ou{constructor(e,n,i,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Ou(i,n,Ye(),Ye(),Ye())}}class Wh{constructor(e,n,i,a){this.Se=e,this.removedTargetIds=n,this.key=i,this.De=a}}class _k{constructor(e,n){this.targetId=e,this.Ce=n}}class wk{constructor(e,n,i=dn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=a}}class KT{constructor(){this.ve=0,this.Fe=YT(),this.Me=dn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ye(),n=Ye(),i=Ye();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:i=i.add(a);break;default:Re(38017,{changeType:l})}})),new Ou(this.Me,this.xe,e,n,i)}Ke(){this.Oe=!1,this.Fe=YT()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,tt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class oL{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ji(),this.He=Nh(),this.Je=Nh(),this.Ze=new xt(Ke)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.We(),i.Ne||i.Ke(),i.Le(e.resumeToken);break;case 2:i.We(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.Qe(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:Re(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((i,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,i=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(z0(l))if(i===0){const c=new Ne(l.path);this.et(n,c,pn.newNoDocument(c,Me.min()))}else tt(i===1,20013,{expectedCount:i});else{const c=this._t(n);if(c!==i){const h=this.ut(e),m=h?this.ct(h,e,c):1;if(m!==0){this.it(n);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=n;let c,h;try{c=ea(i).toUint8Array()}catch(m){if(m instanceof $A)return Wa("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{h=new gv(c,a,l)}catch(m){return Wa(m instanceof Yc?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return h.ge===0?null:h}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let a=0;return i.forEach((l=>{const c=this.Ge.ht(),h=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(h)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,c)=>{const h=this.ot(c);if(h){if(l.current&&z0(h.target)){const m=new Ne(h.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,pn.newNoDocument(m,e))}l.Be&&(n.set(c,l.ke()),l.Ke())}}));let i=Ye();this.Je.forEach(((l,c)=>{let h=!0;c.forEachWhile((m=>{const g=this.ot(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(i=i.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const a=new tm(e,n,this.Ze,this.je,i);return this.je=Ji(),this.He=Nh(),this.Je=Nh(),this.Ze=new xt(Ke),a}Ye(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,i),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.qe(n,1):a.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new KT,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Yt(Ke),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Yt(Ke),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ye("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new KT),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Nh(){return new xt(Ne.comparator)}function YT(){return new xt(Ne.comparator)}const lL={asc:"ASCENDING",desc:"DESCENDING"},cL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},uL={and:"AND",or:"OR"};class dL{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function F0(t,e){return t.useProto3Json||Qf(e)?e:{value:e}}function Tf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Tk(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function hL(t,e){return Tf(t,e.toTimestamp())}function ui(t){return tt(!!t,49232),Me.fromTimestamp((function(n){const i=Zr(n);return new mt(i.seconds,i.nanos)})(t))}function yv(t,e){return H0(t,e).canonicalString()}function H0(t,e){const n=(function(a){return new ut(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function Ek(t){const e=ut.fromString(t);return tt(Ck(e),10190,{key:e.toString()}),e}function q0(t,e){return yv(t.databaseId,e.path)}function qg(t,e){const n=Ek(e);if(n.get(1)!==t.databaseId.projectId)throw new ge(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ge(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ne(Ak(n))}function Sk(t,e){return yv(t.databaseId,e)}function fL(t){const e=Ek(t);return e.length===4?ut.emptyPath():Ak(e)}function G0(t){return new ut(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Ak(t){return tt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function QT(t,e,n){return{name:q0(t,e),fields:n.value.mapValue.fields}}function mL(t,e){let n;if("targetChange"in e){e.targetChange;const i=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Re(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(g,v){return g.useProto3Json?(tt(v===void 0||typeof v=="string",58123),dn.fromBase64String(v||"")):(tt(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),dn.fromUint8Array(v||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&(function(g){const v=g.code===void 0?le.UNKNOWN:bk(g.code);return new ge(v,g.message||"")})(c);n=new wk(i,a,l,h||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=qg(t,i.document.name),l=ui(i.document.updateTime),c=i.document.createTime?ui(i.document.createTime):Me.min(),h=new as({mapValue:{fields:i.document.fields}}),m=pn.newFoundDocument(a,l,c,h),g=i.targetIds||[],v=i.removedTargetIds||[];n=new Wh(g,v,m.key,m)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=qg(t,i.document),l=i.readTime?ui(i.readTime):Me.min(),c=pn.newNoDocument(a,l),h=i.removedTargetIds||[];n=new Wh([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=qg(t,i.document),l=i.removedTargetIds||[];n=new Wh([],l,a,null)}else{if(!("filter"in e))return Re(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,c=new sL(a,l),h=i.targetId;n=new _k(h,c)}}return n}function pL(t,e){let n;if(e instanceof Pu)n={update:QT(t,e.key,e.value)};else if(e instanceof xk)n={delete:q0(t,e.key)};else if(e instanceof so)n={update:QT(t,e.key,e.data),updateMask:EL(e.fieldMask)};else{if(!(e instanceof eL))return Re(16599,{dt:e.type});n={verify:q0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((i=>(function(l,c){const h=c.transform;if(h instanceof _u)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof wu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Tu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof wf)return{fieldPath:c.field.canonicalString(),increment:h.Ae};throw Re(20930,{transform:c.transform})})(0,i)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:hL(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Re(27497)})(t,e.precondition)),n}function gL(t,e){return t&&t.length>0?(tt(e!==void 0,14353),t.map((n=>(function(a,l){let c=a.updateTime?ui(a.updateTime):ui(l);return c.isEqual(Me.min())&&(c=ui(l)),new WO(c,a.transformResults||[])})(n,e)))):[]}function yL(t,e){return{documents:[Sk(t,e.path)]}}function vL(t,e){const n={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=Sk(t,a);const l=(function(g){if(g.length!==0)return Nk(Vs.create(g,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const c=(function(g){if(g.length!==0)return g.map((v=>(function(_){return{field:Zo(_.field),direction:_L(_.dir)}})(v)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const h=F0(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:a}}function xL(t){let e=fL(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let a=null;if(i>0){tt(i===1,65062);const v=n.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let l=[];n.where&&(l=(function(x){const _=kk(x);return _ instanceof Vs&&nk(_)?_.getFilters():[_]})(n.where));let c=[];n.orderBy&&(c=(function(x){return x.map((_=>(function(I){return new bu(el(I.field),(function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(I.direction))})(_)))})(n.orderBy));let h=null;n.limit&&(h=(function(x){let _;return _=typeof x=="object"?x.value:x,Qf(_)?null:_})(n.limit));let m=null;n.startAt&&(m=(function(x){const _=!!x.before,E=x.values||[];return new bf(E,_)})(n.startAt));let g=null;return n.endAt&&(g=(function(x){const _=!x.before,E=x.values||[];return new bf(E,_)})(n.endAt)),VO(e,a,c,l,h,"F",m,g)}function bL(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function kk(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=el(n.unaryFilter.field);return zt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=el(n.unaryFilter.field);return zt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=el(n.unaryFilter.field);return zt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=el(n.unaryFilter.field);return zt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Re(61313);default:return Re(60726)}})(t):t.fieldFilter!==void 0?(function(n){return zt.create(el(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Re(58110);default:return Re(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Vs.create(n.compositeFilter.filters.map((i=>kk(i))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Re(1026)}})(n.compositeFilter.op))})(t):Re(30097,{filter:t})}function _L(t){return lL[t]}function wL(t){return cL[t]}function TL(t){return uL[t]}function Zo(t){return{fieldPath:t.canonicalString()}}function el(t){return un.fromServerFormat(t.fieldPath)}function Nk(t){return t instanceof zt?(function(n){if(n.op==="=="){if(PT(n.value))return{unaryFilter:{field:Zo(n.field),op:"IS_NAN"}};if(VT(n.value))return{unaryFilter:{field:Zo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(PT(n.value))return{unaryFilter:{field:Zo(n.field),op:"IS_NOT_NAN"}};if(VT(n.value))return{unaryFilter:{field:Zo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Zo(n.field),op:wL(n.op),value:n.value}}})(t):t instanceof Vs?(function(n){const i=n.getFilters().map((a=>Nk(a)));return i.length===1?i[0]:{compositeFilter:{op:TL(n.op),filters:i}}})(t):Re(54877,{filter:t})}function EL(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Ck(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function Rk(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}class Fr{constructor(e,n,i,a,l=Me.min(),c=Me.min(),h=dn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=m}withSequenceNumber(e){return new Fr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Fr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class SL{constructor(e){this.yt=e}}function AL(t){const e=xL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?_f(e,e.limit,"L"):e}class kL{constructor(){this.Sn=new NL}addToCollectionParentIndex(e,n){return this.Sn.add(n),ce.resolve()}getCollectionParents(e,n){return ce.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return ce.resolve()}deleteFieldIndex(e,n){return ce.resolve()}deleteAllFieldIndexes(e){return ce.resolve()}createTargetIndexes(e,n){return ce.resolve()}getDocumentsMatchingTarget(e,n){return ce.resolve(null)}getIndexType(e,n){return ce.resolve(0)}getFieldIndexes(e,n){return ce.resolve([])}getNextCollectionGroupToUpdate(e){return ce.resolve(null)}getMinOffset(e,n){return ce.resolve(Jr.min())}getMinOffsetFromCollectionGroup(e,n){return ce.resolve(Jr.min())}updateCollectionGroup(e,n,i){return ce.resolve()}updateIndexEntries(e,n){return ce.resolve()}}class NL{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n]||new Yt(ut.comparator),l=!a.has(i);return this.index[n]=a.add(i),l}has(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n];return a&&a.has(i)}getEntries(e){return(this.index[e]||new Yt(ut.comparator)).toArray()}}const XT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ik=41943040;class In{static withCacheSize(e){return new In(e,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}In.DEFAULT_COLLECTION_PERCENTILE=10,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,In.DEFAULT=new In(Ik,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),In.DISABLED=new In(-1,0,0);class vl{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new vl(0)}static ar(){return new vl(-1)}}const WT="LruGarbageCollector",CL=1048576;function JT([t,e],[n,i]){const a=Ke(t,n);return a===0?Ke(e,i):a}class RL{constructor(e){this.Pr=e,this.buffer=new Yt(JT),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();JT(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class IL{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ye(WT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Rl(n)?ye(WT,"Ignoring IndexedDB error during garbage collection: ",n):await Cl(n)}await this.Ar(3e5)}))}}class jL{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(e,n){if(n===0)return ce.resolve(Yf.ce);const i=new RL(n);return this.Vr.forEachTarget(e,(a=>i.Er(a.sequenceNumber))).next((()=>this.Vr.mr(e,(a=>i.Er(a))))).next((()=>i.maxValue))}removeTargets(e,n,i){return this.Vr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ye("LruGarbageCollector","Garbage collection skipped; disabled"),ce.resolve(XT)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),XT):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let i,a,l,c,h,m,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((x=>(x>this.params.maximumSequenceNumbersToCollect?(ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),a=this.params.maximumSequenceNumbersToCollect):a=x,c=Date.now(),this.nthSequenceNumber(e,a)))).next((x=>(i=x,h=Date.now(),this.removeTargets(e,i,n)))).next((x=>(l=x,m=Date.now(),this.removeOrphanedDocuments(e,i)))).next((x=>(g=Date.now(),Wo()<=$e.DEBUG&&ye("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${a} in `+(h-c)+`ms
	Removed ${l} targets in `+(m-h)+`ms
	Removed ${x} documents in `+(g-m)+`ms
Total Duration: ${g-v}ms`),ce.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:x}))))}}function DL(t,e){return new jL(t,e)}class ML{constructor(){this.changes=new no((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,pn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?ce.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class VL{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class PL{constructor(e,n,i,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(i=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(i!==null&&au(i.mutation,a,Cs.empty(),mt.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.getLocalViewOfDocuments(e,i,Ye()).next((()=>i))))}getLocalViewOfDocuments(e,n,i=Ye()){const a=Fa();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,i).next((l=>{let c=Kc();return l.forEach(((h,m)=>{c=c.insert(h,m.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const i=Fa();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,Ye())))}populateOverlays(e,n,i){const a=[];return i.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((c,h)=>{n.set(c,h)}))}))}computeViews(e,n,i,a){let l=Ji();const c=ru(),h=(function(){return ru()})();return n.forEach(((m,g)=>{const v=i.get(g.key);a.has(g.key)&&(v===void 0||v.mutation instanceof so)?l=l.insert(g.key,g):v!==void 0?(c.set(g.key,v.mutation.getFieldMask()),au(v.mutation,g,v.mutation.getFieldMask(),mt.now())):c.set(g.key,Cs.empty())})),this.recalculateAndSaveOverlays(e,l).next((m=>(m.forEach(((g,v)=>c.set(g,v))),n.forEach(((g,v)=>h.set(g,new VL(v,c.get(g)??null)))),h)))}recalculateAndSaveOverlays(e,n){const i=ru();let a=new xt(((c,h)=>c-h)),l=Ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const h of c)h.keys().forEach((m=>{const g=n.get(m);if(g===null)return;let v=i.get(m)||Cs.empty();v=h.applyToLocalView(g,v),i.set(m,v);const x=(a.get(h.batchId)||Ye()).add(m);a=a.insert(h.batchId,x)}))})).next((()=>{const c=[],h=a.getReverseIterator();for(;h.hasNext();){const m=h.getNext(),g=m.key,v=m.value,x=dk();v.forEach((_=>{if(!l.has(_)){const E=yk(n.get(_),i.get(_));E!==null&&x.set(_,E),l=l.add(_)}})),c.push(this.documentOverlayCache.saveOverlays(e,g,x))}return ce.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,n,i,a){return PO(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):ak(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,a):this.getDocumentsMatchingCollectionQuery(e,n,i,a)}getNextDocuments(e,n,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,a-l.size):ce.resolve(Fa());let h=gu,m=l;return c.next((g=>ce.forEach(g,((v,x)=>(h<x.largestBatchId&&(h=x.largestBatchId),l.get(v)?ce.resolve():this.remoteDocumentCache.getEntry(e,v).next((_=>{m=m.insert(v,_)}))))).next((()=>this.populateOverlays(e,g,l))).next((()=>this.computeViews(e,m,g,Ye()))).next((v=>({batchId:h,changes:uk(v)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ne(n)).next((i=>{let a=Kc();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,i,a){const l=n.collectionGroup;let c=Kc();return this.indexManager.getCollectionParents(e,l).next((h=>ce.forEach(h,(m=>{const g=(function(x,_){return new Il(_,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)})(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,i,a).next((v=>{v.forEach(((x,_)=>{c=c.insert(x,_)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,l,a)))).next((c=>{l.forEach(((m,g)=>{const v=g.getKey();c.get(v)===null&&(c=c.insert(v,pn.newInvalidDocument(v)))}));let h=Kc();return c.forEach(((m,g)=>{const v=l.get(m);v!==void 0&&au(v.mutation,g,Cs.empty(),mt.now()),Jf(n,g)&&(h=h.insert(m,g))})),h}))}}class OL{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return ce.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:ui(a.createTime)}})(n)),ce.resolve()}getNamedQuery(e,n){return ce.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(a){return{name:a.name,query:AL(a.bundledQuery),readTime:ui(a.readTime)}})(n)),ce.resolve()}}class LL{constructor(){this.overlays=new xt(Ne.comparator),this.Lr=new Map}getOverlay(e,n){return ce.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Fa();return ce.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&i.set(a,l)})))).next((()=>i))}saveOverlays(e,n,i){return i.forEach(((a,l)=>{this.bt(e,n,l)})),ce.resolve()}removeOverlaysForBatchId(e,n,i){const a=this.Lr.get(i);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(i)),ce.resolve()}getOverlaysForCollection(e,n,i){const a=Fa(),l=n.length+1,c=new Ne(n.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const m=h.getNext().value,g=m.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===l&&m.largestBatchId>i&&a.set(m.getKey(),m)}return ce.resolve(a)}getOverlaysForCollectionGroup(e,n,i,a){let l=new xt(((g,v)=>g-v));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>i){let v=l.get(g.largestBatchId);v===null&&(v=Fa(),l=l.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const h=Fa(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((g,v)=>h.set(g,v))),!(h.size()>=a)););return ce.resolve(h)}bt(e,n,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.Lr.get(a.largestBatchId).delete(i.key);this.Lr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new nL(n,i));let l=this.Lr.get(n);l===void 0&&(l=Ye(),this.Lr.set(n,l)),this.Lr.set(n,l.add(i.key))}}class UL{constructor(){this.sessionToken=dn.EMPTY_BYTE_STRING}getSessionToken(e){return ce.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ce.resolve()}}class vv{constructor(){this.kr=new Yt(Zt.Kr),this.qr=new Yt(Zt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const i=new Zt(e,n);this.kr=this.kr.add(i),this.qr=this.qr.add(i)}$r(e,n){e.forEach((i=>this.addReference(i,n)))}removeReference(e,n){this.Wr(new Zt(e,n))}Qr(e,n){e.forEach((i=>this.removeReference(i,n)))}Gr(e){const n=new Ne(new ut([])),i=new Zt(n,e),a=new Zt(n,e+1),l=[];return this.qr.forEachInRange([i,a],(c=>{this.Wr(c),l.push(c.key)})),l}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new Ne(new ut([])),i=new Zt(n,e),a=new Zt(n,e+1);let l=Ye();return this.qr.forEachInRange([i,a],(c=>{l=l.add(c.key)})),l}containsKey(e){const n=new Zt(e,0),i=this.kr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class Zt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return Ne.comparator(e.key,n.key)||Ke(e.Hr,n.Hr)}static Ur(e,n){return Ke(e.Hr,n.Hr)||Ne.comparator(e.key,n.key)}}class zL{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Yt(Zt.Kr)}checkEmpty(e){return ce.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,a){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new tL(l,n,i,a);this.mutationQueue.push(c);for(const h of a)this.Jr=this.Jr.add(new Zt(h.key,l)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return ce.resolve(c)}lookupMutationBatch(e,n){return ce.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,a=this.Xr(i),l=a<0?0:a;return ce.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ce.resolve(this.mutationQueue.length===0?lv:this.Yn-1)}getAllMutationBatches(e){return ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new Zt(n,0),a=new Zt(n,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([i,a],(c=>{const h=this.Zr(c.Hr);l.push(h)})),ce.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Yt(Ke);return n.forEach((a=>{const l=new Zt(a,0),c=new Zt(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,c],(h=>{i=i.add(h.Hr)}))})),ce.resolve(this.Yr(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,a=i.length+1;let l=i;Ne.isDocumentKey(l)||(l=l.child(""));const c=new Zt(new Ne(l),0);let h=new Yt(Ke);return this.Jr.forEachWhile((m=>{const g=m.key.path;return!!i.isPrefixOf(g)&&(g.length===a&&(h=h.add(m.Hr)),!0)}),c),ce.resolve(this.Yr(h))}Yr(e){const n=[];return e.forEach((i=>{const a=this.Zr(i);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){tt(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Jr;return ce.forEach(n.mutations,(a=>{const l=new Zt(a.key,n.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Jr=i}))}nr(e){}containsKey(e,n){const i=new Zt(n,0),a=this.Jr.firstAfterOrEqual(i);return ce.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ce.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class BL{constructor(e){this.ti=e,this.docs=(function(){return new xt(Ne.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,a=this.docs.get(i),l=a?a.size:0,c=this.ti(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return ce.resolve(i?i.document.mutableCopy():pn.newInvalidDocument(n))}getEntries(e,n){let i=Ji();return n.forEach((a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():pn.newInvalidDocument(a))})),ce.resolve(i)}getDocumentsMatchingQuery(e,n,i,a){let l=Ji();const c=n.path,h=new Ne(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(h);for(;m.hasNext();){const{key:g,value:{document:v}}=m.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||hO(dO(v),i)<=0||(a.has(v.key)||Jf(n,v))&&(l=l.insert(v.key,v.mutableCopy()))}return ce.resolve(l)}getAllFromCollectionGroup(e,n,i,a){Re(9500)}ni(e,n){return ce.forEach(this.docs,(i=>n(i)))}newChangeBuffer(e){return new FL(this)}getSize(e){return ce.resolve(this.size)}}class FL extends ML{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((i,a)=>{a.isValidDocument()?n.push(this.Mr.addEntry(e,a)):this.Mr.removeEntry(i)})),ce.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class HL{constructor(e){this.persistence=e,this.ri=new no((n=>dv(n)),hv),this.lastRemoteSnapshotVersion=Me.min(),this.highestTargetId=0,this.ii=0,this.si=new vv,this.targetCount=0,this.oi=vl._r()}forEachTarget(e,n){return this.ri.forEach(((i,a)=>n(a))),ce.resolve()}getLastRemoteSnapshotVersion(e){return ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ce.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ce.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.ii&&(this.ii=n),ce.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new vl(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,ce.resolve()}updateTargetData(e,n){return this.lr(n),ce.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,ce.resolve()}removeTargets(e,n,i){let a=0;const l=[];return this.ri.forEach(((c,h)=>{h.sequenceNumber<=n&&i.get(h.targetId)===null&&(this.ri.delete(c),l.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)})),ce.waitFor(l).next((()=>a))}getTargetCount(e){return ce.resolve(this.targetCount)}getTargetData(e,n){const i=this.ri.get(n)||null;return ce.resolve(i)}addMatchingKeys(e,n,i){return this.si.$r(n,i),ce.resolve()}removeMatchingKeys(e,n,i){this.si.Qr(n,i);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((c=>{l.push(a.markPotentiallyOrphaned(e,c))})),ce.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),ce.resolve()}getMatchingKeysForTargetId(e,n){const i=this.si.jr(n);return ce.resolve(i)}containsKey(e,n){return ce.resolve(this.si.containsKey(n))}}class jk{constructor(e,n){this._i={},this.overlays={},this.ai=new Yf(0),this.ui=!1,this.ui=!0,this.ci=new UL,this.referenceDelegate=e(this),this.li=new HL(this),this.indexManager=new kL,this.remoteDocumentCache=(function(a){return new BL(a)})((i=>this.referenceDelegate.hi(i))),this.serializer=new SL(n),this.Pi=new OL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new LL,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this._i[e.toKey()];return i||(i=new zL(n,this.referenceDelegate),this._i[e.toKey()]=i),i}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,i){ye("MemoryPersistence","Starting transaction:",e);const a=new qL(this.ai.next());return this.referenceDelegate.Ti(),i(a).next((l=>this.referenceDelegate.Ii(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ei(e,n){return ce.or(Object.values(this._i).map((i=>()=>i.containsKey(e,n))))}}class qL extends mO{constructor(e){super(),this.currentSequenceNumber=e}}class xv{constructor(e){this.persistence=e,this.Ri=new vv,this.Ai=null}static Vi(e){return new xv(e)}get di(){if(this.Ai)return this.Ai;throw Re(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.di.delete(i.toString()),ce.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.di.add(i.toString()),ce.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),ce.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((a=>this.di.add(a.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.di.add(l.toString())))})).next((()=>i.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ce.forEach(this.di,(i=>{const a=Ne.fromPath(i);return this.mi(e,a).next((l=>{l||n.removeEntry(a,Me.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((i=>{i?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return ce.or([()=>ce.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Ef{constructor(e,n){this.persistence=e,this.fi=new no((i=>yO(i.path)),((i,a)=>i.isEqual(a))),this.garbageCollector=DL(this,n)}static Vi(e,n){return new Ef(e,n)}Ti(){}Ii(e){return ce.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>n.next((a=>i+a))))}pr(e){let n=0;return this.mr(e,(i=>{n++})).next((()=>n))}mr(e,n){return ce.forEach(this.fi,((i,a)=>this.wr(e,i,a).next((l=>l?ce.resolve():n(a)))))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ni(e,(c=>this.wr(e,c,n).next((h=>{h||(i++,l.removeEntry(c,Me.min()))})))).next((()=>l.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),ce.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.fi.set(i,e.currentSequenceNumber),ce.resolve()}removeReference(e,n,i){return this.fi.set(i,e.currentSequenceNumber),ce.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),ce.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Yh(e.data.value)),n}wr(e,n,i){return ce.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.fi.get(n);return ce.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class bv{constructor(e,n,i,a){this.targetId=e,this.fromCache=n,this.Ts=i,this.Is=a}static Es(e,n){let i=Ye(),a=Ye();for(const l of n.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new bv(e,n.fromCache,i,a)}}class GL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class $L{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return R3()?8:pO(yn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,a){const l={result:null};return this.gs(e,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ps(e,n,a,i).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new GL;return this.ys(e,n,c).next((h=>{if(l.result=h,this.As)return this.ws(e,n,c,h.size)}))})).next((()=>l.result))}ws(e,n,i,a){return i.documentReadCount<this.Vs?(Wo()<=$e.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",Jo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ce.resolve()):(Wo()<=$e.DEBUG&&ye("QueryEngine","Query:",Jo(n),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.ds*a?(Wo()<=$e.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",Jo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,li(n))):ce.resolve())}gs(e,n){if(zT(n))return ce.resolve(null);let i=li(n);return this.indexManager.getIndexType(e,i).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=_f(n,null,"F"),i=li(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next((l=>{const c=Ye(...l);return this.fs.getDocuments(e,c).next((h=>this.indexManager.getMinOffset(e,i).next((m=>{const g=this.bs(n,h);return this.Ss(n,g,c,m.readTime)?this.gs(e,_f(n,null,"F")):this.Ds(e,g,n,m)}))))})))))}ps(e,n,i,a){return zT(n)||a.isEqual(Me.min())?ce.resolve(null):this.fs.getDocuments(e,i).next((l=>{const c=this.bs(n,l);return this.Ss(n,c,i,a)?ce.resolve(null):(Wo()<=$e.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Jo(n)),this.Ds(e,c,n,uO(a,gu)).next((h=>h)))}))}bs(e,n){let i=new Yt(lk(e));return n.forEach(((a,l)=>{Jf(e,l)&&(i=i.add(l))})),i}Ss(e,n,i,a){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}ys(e,n,i){return Wo()<=$e.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",Jo(n)),this.fs.getDocumentsMatchingQuery(e,n,Jr.min(),i)}Ds(e,n,i,a){return this.fs.getDocumentsMatchingQuery(e,i,a).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}const _v="LocalStore",KL=3e8;class YL{constructor(e,n,i,a){this.persistence=e,this.Cs=n,this.serializer=a,this.vs=new xt(Ke),this.Fs=new no((l=>dv(l)),hv),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(i)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new PL(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function QL(t,e,n,i){return new YL(t,e,n,i)}async function Dk(t,e){const n=Pe(t);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let a;return n.mutationQueue.getAllMutationBatches(i).next((l=>(a=l,n.Os(e),n.mutationQueue.getAllMutationBatches(i)))).next((l=>{const c=[],h=[];let m=Ye();for(const g of a){c.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}for(const g of l){h.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}return n.localDocuments.getDocuments(i,m).next((g=>({Ns:g,removedBatchIds:c,addedBatchIds:h})))}))}))}function XL(t,e){const n=Pe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const a=e.batch.keys(),l=n.xs.newChangeBuffer({trackRemovals:!0});return(function(h,m,g,v){const x=g.batch,_=x.keys();let E=ce.resolve();return _.forEach((I=>{E=E.next((()=>v.getEntry(m,I))).next((j=>{const D=g.docVersions.get(I);tt(D!==null,48541),j.version.compareTo(D)<0&&(x.applyToRemoteDocument(j,g),j.isValidDocument()&&(j.setReadTime(g.commitVersion),v.addEntry(j)))}))})),E.next((()=>h.mutationQueue.removeMutationBatch(m,x)))})(n,i,e,l).next((()=>l.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(h){let m=Ye();for(let g=0;g<h.mutationResults.length;++g)h.mutationResults[g].transformResults.length>0&&(m=m.add(h.batch.mutations[g].key));return m})(e)))).next((()=>n.localDocuments.getDocuments(i,a)))}))}function Mk(t){const e=Pe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function WL(t,e){const n=Pe(t),i=e.snapshotVersion;let a=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.xs.newChangeBuffer({trackRemovals:!0});a=n.vs;const h=[];e.targetChanges.forEach(((v,x)=>{const _=a.get(x);if(!_)return;h.push(n.li.removeMatchingKeys(l,v.removedDocuments,x).next((()=>n.li.addMatchingKeys(l,v.addedDocuments,x))));let E=_.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(x)!==null?E=E.withResumeToken(dn.EMPTY_BYTE_STRING,Me.min()).withLastLimboFreeSnapshotVersion(Me.min()):v.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(v.resumeToken,i)),a=a.insert(x,E),(function(j,D,V){return j.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=KL?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0})(_,E,v)&&h.push(n.li.updateTargetData(l,E))}));let m=Ji(),g=Ye();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(l,v))})),h.push(JL(l,c,e.documentUpdates).next((v=>{m=v.Bs,g=v.Ls}))),!i.isEqual(Me.min())){const v=n.li.getLastRemoteSnapshotVersion(l).next((x=>n.li.setTargetsMetadata(l,l.currentSequenceNumber,i)));h.push(v)}return ce.waitFor(h).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,m,g))).next((()=>m))})).then((l=>(n.vs=a,l)))}function JL(t,e,n){let i=Ye(),a=Ye();return n.forEach((l=>i=i.add(l))),e.getEntries(t,i).next((l=>{let c=Ji();return n.forEach(((h,m)=>{const g=l.get(h);m.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(h)),m.isNoDocument()&&m.version.isEqual(Me.min())?(e.removeEntry(h,m.readTime),c=c.insert(h,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),c=c.insert(h,m)):ye(_v,"Ignoring outdated watch update for ",h,". Current version:",g.version," Watch version:",m.version)})),{Bs:c,Ls:a}}))}function ZL(t,e){const n=Pe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=lv),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function e9(t,e){const n=Pe(t);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let a;return n.li.getTargetData(i,e).next((l=>l?(a=l,ce.resolve(a)):n.li.allocateTargetId(i).next((c=>(a=new Fr(e,c,"TargetPurposeListen",i.currentSequenceNumber),n.li.addTargetData(i,a).next((()=>a)))))))})).then((i=>{const a=n.vs.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.vs=n.vs.insert(i.targetId,i),n.Fs.set(e,i.targetId)),i}))}async function $0(t,e,n){const i=Pe(t),a=i.vs.get(e),l=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",l,(c=>i.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!Rl(c))throw c;ye(_v,`Failed to update sequence numbers for target ${e}: ${c}`)}i.vs=i.vs.remove(e),i.Fs.delete(a.target)}function ZT(t,e,n){const i=Pe(t);let a=Me.min(),l=Ye();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(m,g,v){const x=Pe(m),_=x.Fs.get(v);return _!==void 0?ce.resolve(x.vs.get(_)):x.li.getTargetData(g,v)})(i,c,li(e)).next((h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,i.li.getMatchingKeysForTargetId(c,h.targetId).next((m=>{l=m}))})).next((()=>i.Cs.getDocumentsMatchingQuery(c,e,n?a:Me.min(),n?l:Ye()))).next((h=>(t9(i,UO(e),h),{documents:h,ks:l})))))}function t9(t,e,n){let i=t.Ms.get(e)||Me.min();n.forEach(((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),t.Ms.set(e,i)}class eE{constructor(){this.activeTargetIds=GO()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class n9{constructor(){this.vo=new eE,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,i){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new eE,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class s9{Mo(e){}shutdown(){}}const tE="ConnectivityMonitor";class nE{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ye(tE,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ye(tE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Ch=null;function K0(){return Ch===null?Ch=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ch++,"0x"+Ch.toString(16)}const Gg="RestConnection",i9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class r9{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${i}/databases/${a}`,this.$o=this.databaseId.database===vf?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Wo(e,n,i,a,l){const c=K0(),h=this.Qo(e,n.toUriEncodedString());ye(Gg,`Sending RPC '${e}' ${c}:`,h,i);const m={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(m,a,l);const{host:g}=new URL(h),v=Za(g);return this.zo(e,h,m,i,v).then((x=>(ye(Gg,`Received RPC '${e}' ${c}: `,x),x)),(x=>{throw Wa(Gg,`RPC '${e}' ${c} failed with error: `,x,"url: ",h,"request:",i),x}))}jo(e,n,i,a,l,c){return this.Wo(e,n,i,a,l)}Go(e,n,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Nl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),i&&i.headers.forEach(((a,l)=>e[l]=a))}Qo(e,n){const i=i9[e];let a=`${this.qo}/v1/${n}:${i}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}class a9{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const fn="WebChannelConnection",Fc=(t,e,n)=>{t.listen(e,(i=>{try{n(i)}catch(a){setTimeout((()=>{throw a}),0)}}))};class ul extends r9{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!ul.c_){const e=LA();Fc(e,OA.STAT_EVENT,(n=>{n.stat===V0.PROXY?ye(fn,"STAT_EVENT: detected buffering proxy"):n.stat===V0.NOPROXY&&ye(fn,"STAT_EVENT: detected no buffering proxy")})),ul.c_=!0}}zo(e,n,i,a,l){const c=K0();return new Promise(((h,m)=>{const g=new VA;g.setWithCredentials(!0),g.listenOnce(PA.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Kh.NO_ERROR:const x=g.getResponseJson();ye(fn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(x)),h(x);break;case Kh.TIMEOUT:ye(fn,`RPC '${e}' ${c} timed out`),m(new ge(le.DEADLINE_EXCEEDED,"Request time out"));break;case Kh.HTTP_ERROR:const _=g.getStatus();if(ye(fn,`RPC '${e}' ${c} failed with status:`,_,"response text:",g.getResponseText()),_>0){let E=g.getResponseJson();Array.isArray(E)&&(E=E[0]);const I=E?.error;if(I&&I.status&&I.message){const j=(function(V){const F=V.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(F)>=0?F:le.UNKNOWN})(I.status);m(new ge(j,I.message))}else m(new ge(le.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new ge(le.UNAVAILABLE,"Connection failed."));break;default:Re(9055,{l_:e,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ye(fn,`RPC '${e}' ${c} completed.`)}}));const v=JSON.stringify(a);ye(fn,`RPC '${e}' ${c} sending request:`,a),g.send(n,"POST",v,i,15)}))}T_(e,n,i){const a=K0(),l=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=this.createWebChannelTransport(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(h.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Go(h.initMessageHeaders,n,i),h.encodeInitMessageHeaders=!0;const g=l.join("");ye(fn,`Creating RPC '${e}' stream ${a}: ${g}`,h);const v=c.createWebChannel(g,h);this.I_(v);let x=!1,_=!1;const E=new a9({Ho:I=>{_?ye(fn,`Not sending because RPC '${e}' stream ${a} is closed:`,I):(x||(ye(fn,`Opening RPC '${e}' stream ${a} transport.`),v.open(),x=!0),ye(fn,`RPC '${e}' stream ${a} sending:`,I),v.send(I))},Jo:()=>v.close()});return Fc(v,$c.EventType.OPEN,(()=>{_||(ye(fn,`RPC '${e}' stream ${a} transport opened.`),E.i_())})),Fc(v,$c.EventType.CLOSE,(()=>{_||(_=!0,ye(fn,`RPC '${e}' stream ${a} transport closed`),E.o_(),this.E_(v))})),Fc(v,$c.EventType.ERROR,(I=>{_||(_=!0,Wa(fn,`RPC '${e}' stream ${a} transport errored. Name:`,I.name,"Message:",I.message),E.o_(new ge(le.UNAVAILABLE,"The operation could not be completed")))})),Fc(v,$c.EventType.MESSAGE,(I=>{if(!_){const j=I.data[0];tt(!!j,16349);const D=j,V=D?.error||D[0]?.error;if(V){ye(fn,`RPC '${e}' stream ${a} received error:`,V);const F=V.status;let $=(function(de){const R=Lt[de];if(R!==void 0)return bk(R)})(F),J=V.message;F==="NOT_FOUND"&&J.includes("database")&&J.includes("does not exist")&&J.includes(this.databaseId.database)&&Wa(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),$===void 0&&($=le.INTERNAL,J="Unknown error status: "+F+" with message "+V.message),_=!0,E.o_(new ge($,J)),v.close()}else ye(fn,`RPC '${e}' stream ${a} received:`,j),E.__(j)}})),ul.u_(),setTimeout((()=>{E.s_()}),0),E}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,i){super.Go(e,n,i),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return UA()}}function o9(t){return new ul(t)}function $g(){return typeof document<"u"?document:null}function nm(t){return new dL(t,!0)}ul.c_=!1;class Vk{constructor(e,n,i=1e3,a=1.5,l=6e4){this.Ci=e,this.timerId=n,this.R_=i,this.A_=a,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-i);a>0&&ye("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const sE="PersistentStream";class Pk{constructor(e,n,i,a,l,c,h,m){this.Ci=e,this.b_=i,this.S_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Vk(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===le.RESOURCE_EXHAUSTED?(Wi(n.toString()),Wi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===le.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,a])=>{this.D_===n&&this.G_(i,a)}),(i=>{e((()=>{const a=new ge(le.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)}))}))}G_(e,n){const i=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{i((()=>this.listener.Zo()))})),this.stream.Yo((()=>{i((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{i((()=>this.z_(a)))})),this.stream.onMessage((a=>{i((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ye(sE,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(ye(sE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class l9 extends Pk{constructor(e,n,i,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,a,c),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=mL(this.serializer,e),i=(function(l){if(!("targetChange"in l))return Me.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Me.min():c.readTime?ui(c.readTime):Me.min()})(e);return this.listener.J_(n,i)}Z_(e){const n={};n.database=G0(this.serializer),n.addTarget=(function(l,c){let h;const m=c.target;if(h=z0(m)?{documents:yL(l,m)}:{query:vL(l,m).ft},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=Tk(l,c.resumeToken);const g=F0(l,c.expectedCount);g!==null&&(h.expectedCount=g)}else if(c.snapshotVersion.compareTo(Me.min())>0){h.readTime=Tf(l,c.snapshotVersion.toTimestamp());const g=F0(l,c.expectedCount);g!==null&&(h.expectedCount=g)}return h})(this.serializer,e);const i=bL(this.serializer,e);i&&(n.labels=i),this.K_(n)}X_(e){const n={};n.database=G0(this.serializer),n.removeTarget=e,this.K_(n)}}class c9 extends Pk{constructor(e,n,i,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,a,c),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return tt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,tt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){tt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=gL(e.writeResults,e.commitTime),i=ui(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=G0(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((i=>pL(this.serializer,i)))};this.K_(n)}}class u9{}class d9 extends u9{constructor(e,n,i,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ge(le.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Wo(e,H0(n,i),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ge(le.UNKNOWN,l.toString())}))}jo(e,n,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.jo(e,H0(n,i),a,c,h,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ge(le.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function h9(t,e,n,i){return new d9(t,e,n,i)}class f9{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Wi(n),this.aa=!1):ye("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ja="RemoteStore";class m9{constructor(e,n,i,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((c=>{i.enqueueAndForget((async()=>{io(this)&&(ye(Ja,"Restarting streams for network reachability change."),await(async function(m){const g=Pe(m);g.Ea.add(4),await Lu(g),g.Va.set("Unknown"),g.Ea.delete(4),await sm(g)})(this))}))})),this.Va=new f9(i,a)}}async function sm(t){if(io(t))for(const e of t.Ra)await e(!0)}async function Lu(t){for(const e of t.Ra)await e(!1)}function Ok(t,e){const n=Pe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Sv(n)?Ev(n):jl(n).O_()&&Tv(n,e))}function wv(t,e){const n=Pe(t),i=jl(n);n.Ia.delete(e),i.O_()&&Lk(n,e),n.Ia.size===0&&(i.O_()?i.L_():io(n)&&n.Va.set("Unknown"))}function Tv(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Me.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}jl(t).Z_(e)}function Lk(t,e){t.da.$e(e),jl(t).X_(e)}function Ev(t){t.da=new oL({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),jl(t).start(),t.Va.ua()}function Sv(t){return io(t)&&!jl(t).x_()&&t.Ia.size>0}function io(t){return Pe(t).Ea.size===0}function Uk(t){t.da=void 0}async function p9(t){t.Va.set("Online")}async function g9(t){t.Ia.forEach(((e,n)=>{Tv(t,e)}))}async function y9(t,e){Uk(t),Sv(t)?(t.Va.ha(e),Ev(t)):t.Va.set("Unknown")}async function v9(t,e,n){if(t.Va.set("Online"),e instanceof wk&&e.state===2&&e.cause)try{await(async function(a,l){const c=l.cause;for(const h of l.targetIds)a.Ia.has(h)&&(await a.remoteSyncer.rejectListen(h,c),a.Ia.delete(h),a.da.removeTarget(h))})(t,e)}catch(i){ye(Ja,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Sf(t,i)}else if(e instanceof Wh?t.da.Xe(e):e instanceof _k?t.da.st(e):t.da.tt(e),!n.isEqual(Me.min()))try{const i=await Mk(t.localStore);n.compareTo(i)>=0&&await(function(l,c){const h=l.da.Tt(c);return h.targetChanges.forEach(((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const v=l.Ia.get(g);v&&l.Ia.set(g,v.withResumeToken(m.resumeToken,c))}})),h.targetMismatches.forEach(((m,g)=>{const v=l.Ia.get(m);if(!v)return;l.Ia.set(m,v.withResumeToken(dn.EMPTY_BYTE_STRING,v.snapshotVersion)),Lk(l,m);const x=new Fr(v.target,m,g,v.sequenceNumber);Tv(l,x)})),l.remoteSyncer.applyRemoteEvent(h)})(t,n)}catch(i){ye(Ja,"Failed to raise snapshot:",i),await Sf(t,i)}}async function Sf(t,e,n){if(!Rl(e))throw e;t.Ea.add(1),await Lu(t),t.Va.set("Offline"),n||(n=()=>Mk(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ye(Ja,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await sm(t)}))}function zk(t,e){return e().catch((n=>Sf(t,n,e)))}async function im(t){const e=Pe(t),n=na(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:lv;for(;x9(e);)try{const a=await ZL(e.localStore,i);if(a===null){e.Ta.length===0&&n.L_();break}i=a.batchId,b9(e,a)}catch(a){await Sf(e,a)}Bk(e)&&Fk(e)}function x9(t){return io(t)&&t.Ta.length<10}function b9(t,e){t.Ta.push(e);const n=na(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function Bk(t){return io(t)&&!na(t).x_()&&t.Ta.length>0}function Fk(t){na(t).start()}async function _9(t){na(t).ra()}async function w9(t){const e=na(t);for(const n of t.Ta)e.ea(n.mutations)}async function T9(t,e,n){const i=t.Ta.shift(),a=pv.from(i,e,n);await zk(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await im(t)}async function E9(t,e){e&&na(t).Y_&&await(async function(i,a){if((function(c){return iL(c)&&c!==le.ABORTED})(a.code)){const l=i.Ta.shift();na(i).B_(),await zk(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a))),await im(i)}})(t,e),Bk(t)&&Fk(t)}async function iE(t,e){const n=Pe(t);n.asyncQueue.verifyOperationInProgress(),ye(Ja,"RemoteStore received new credentials");const i=io(n);n.Ea.add(3),await Lu(n),i&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await sm(n)}async function S9(t,e){const n=Pe(t);e?(n.Ea.delete(2),await sm(n)):e||(n.Ea.add(2),await Lu(n),n.Va.set("Unknown"))}function jl(t){return t.ma||(t.ma=(function(n,i,a){const l=Pe(n);return l.sa(),new l9(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:p9.bind(null,t),Yo:g9.bind(null,t),t_:y9.bind(null,t),J_:v9.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),Sv(t)?Ev(t):t.Va.set("Unknown")):(await t.ma.stop(),Uk(t))}))),t.ma}function na(t){return t.fa||(t.fa=(function(n,i,a){const l=Pe(n);return l.sa(),new c9(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:_9.bind(null,t),t_:E9.bind(null,t),ta:w9.bind(null,t),na:T9.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await im(t)):(await t.fa.stop(),t.Ta.length>0&&(ye(Ja,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class Av{constructor(e,n,i,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new $r,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,a,l){const c=Date.now()+i,h=new Av(e,n,c,a,l);return h.start(i),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function kv(t,e){if(Wi("AsyncQueue",`${e}: ${t}`),Rl(t))return new ge(le.UNAVAILABLE,`${e}: ${t}`);throw t}class dl{static emptySet(e){return new dl(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||Ne.comparator(n.key,i.key):(n,i)=>Ne.comparator(n.key,i.key),this.keyedMap=Kc(),this.sortedSet=new xt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,i)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof dl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new dl;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}class rE{constructor(){this.ga=new xt(Ne.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Re(63341,{Vt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,i)=>{e.push(i)})),e}}class xl{constructor(e,n,i,a,l,c,h,m,g){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,n,i,a,l){const c=[];return n.forEach((h=>{c.push({type:0,doc:h})})),new xl(e,n,dl.emptySet(n),c,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==i[a].type||!n[a].doc.isEqual(i[a].doc))return!1;return!0}}class A9{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class k9{constructor(){this.queries=aE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const a=Pe(n),l=a.queries;a.queries=aE(),l.forEach(((c,h)=>{for(const m of h.ba)m.onError(i)}))})(this,new ge(le.ABORTED,"Firestore shutting down"))}}function aE(){return new no((t=>ok(t)),Wf)}async function Hk(t,e){const n=Pe(t);let i=3;const a=e.query;let l=n.queries.get(a);l?!l.Sa()&&e.Da()&&(i=2):(l=new A9,i=e.Da()?0:1);try{switch(i){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const h=kv(c,`Initialization of query '${Jo(e.query)}' failed`);return void e.onError(h)}n.queries.set(a,l),l.ba.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&Nv(n)}async function qk(t,e){const n=Pe(t),i=e.query;let a=3;const l=n.queries.get(i);if(l){const c=l.ba.indexOf(e);c>=0&&(l.ba.splice(c,1),l.ba.length===0?a=e.Da()?0:1:!l.Sa()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function N9(t,e){const n=Pe(t);let i=!1;for(const a of e){const l=a.query,c=n.queries.get(l);if(c){for(const h of c.ba)h.Fa(a)&&(i=!0);c.wa=a}}i&&Nv(n)}function C9(t,e,n){const i=Pe(t),a=i.queries.get(e);if(a)for(const l of a.ba)l.onError(n);i.queries.delete(e)}function Nv(t){t.Ca.forEach((e=>{e.next()}))}var Y0,oE;(oE=Y0||(Y0={})).Ma="default",oE.Cache="cache";class Gk{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new xl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.Ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=xl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Y0.Cache}}class $k{constructor(e){this.key=e}}class Kk{constructor(e){this.key=e}}class R9{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ye(),this.mutatedKeys=Ye(),this.eu=lk(e),this.tu=new dl(this.eu)}get nu(){return this.Za}ru(e,n){const i=n?n.iu:new rE,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,h=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((v,x)=>{const _=a.get(v),E=Jf(this.query,x)?x:null,I=!!_&&this.mutatedKeys.has(_.key),j=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let D=!1;_&&E?_.data.isEqual(E.data)?I!==j&&(i.track({type:3,doc:E}),D=!0):this.su(_,E)||(i.track({type:2,doc:E}),D=!0,(m&&this.eu(E,m)>0||g&&this.eu(E,g)<0)&&(h=!0)):!_&&E?(i.track({type:0,doc:E}),D=!0):_&&!E&&(i.track({type:1,doc:_}),D=!0,(m||g)&&(h=!0)),D&&(E?(c=c.add(E),l=j?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),i.track({type:1,doc:v})}return{tu:c,iu:i,Ss:h,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((v,x)=>(function(E,I){const j=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re(20277,{Vt:D})}};return j(E)-j(I)})(v.type,x.type)||this.eu(v.doc,x.doc))),this.ou(i),a=a??!1;const h=n&&!a?this._u():[],m=this.Ya.size===0&&this.current&&!a?1:0,g=m!==this.Xa;return this.Xa=m,c.length!==0||g?{snapshot:new xl(this.query,e.tu,l,c,e.mutatedKeys,m===0,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new rE,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Ye(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Ya=this.Ya.add(i.key))}));const n=[];return e.forEach((i=>{this.Ya.has(i)||n.push(new Kk(i))})),this.Ya.forEach((i=>{e.has(i)||n.push(new $k(i))})),n}cu(e){this.Za=e.ks,this.Ya=Ye();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return xl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Cv="SyncEngine";class I9{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class j9{constructor(e){this.key=e,this.hu=!1}}class D9{constructor(e,n,i,a,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new no((h=>ok(h)),Wf),this.Iu=new Map,this.Eu=new Set,this.Ru=new xt(Ne.comparator),this.Au=new Map,this.Vu=new vv,this.du={},this.mu=new Map,this.fu=vl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function M9(t,e,n=!0){const i=Zk(t);let a;const l=i.Tu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await Yk(i,e,n,!0),a}async function V9(t,e){const n=Zk(t);await Yk(n,e,!0,!1)}async function Yk(t,e,n,i){const a=await e9(t.localStore,li(e)),l=a.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let h;return i&&(h=await P9(t,e,l,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&Ok(t.remoteStore,a),h}async function P9(t,e,n,i,a){t.pu=(x,_,E)=>(async function(j,D,V,F){let $=D.view.ru(V);$.Ss&&($=await ZT(j.localStore,D.query,!1).then((({documents:R})=>D.view.ru(R,$))));const J=F&&F.targetChanges.get(D.targetId),se=F&&F.targetMismatches.get(D.targetId)!=null,de=D.view.applyChanges($,j.isPrimaryClient,J,se);return cE(j,D.targetId,de.au),de.snapshot})(t,x,_,E);const l=await ZT(t.localStore,e,!0),c=new R9(e,l.ks),h=c.ru(l.documents),m=Ou.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",a),g=c.applyChanges(h,t.isPrimaryClient,m);cE(t,n,g.au);const v=new I9(e,n,c);return t.Tu.set(e,v),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),g.snapshot}async function O9(t,e,n){const i=Pe(t),a=i.Tu.get(e),l=i.Iu.get(a.targetId);if(l.length>1)return i.Iu.set(a.targetId,l.filter((c=>!Wf(c,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await $0(i.localStore,a.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(a.targetId),n&&wv(i.remoteStore,a.targetId),Q0(i,a.targetId)})).catch(Cl)):(Q0(i,a.targetId),await $0(i.localStore,a.targetId,!0))}async function L9(t,e){const n=Pe(t),i=n.Tu.get(e),a=n.Iu.get(i.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),wv(n.remoteStore,i.targetId))}async function U9(t,e,n){const i=$9(t);try{const a=await(function(c,h){const m=Pe(c),g=mt.now(),v=h.reduce(((E,I)=>E.add(I.key)),Ye());let x,_;return m.persistence.runTransaction("Locally write mutations","readwrite",(E=>{let I=Ji(),j=Ye();return m.xs.getEntries(E,v).next((D=>{I=D,I.forEach(((V,F)=>{F.isValidDocument()||(j=j.add(V))}))})).next((()=>m.localDocuments.getOverlayedDocuments(E,I))).next((D=>{x=D;const V=[];for(const F of h){const $=ZO(F,x.get(F.key).overlayedDocument);$!=null&&V.push(new so(F.key,$,ZA($.value.mapValue),ci.exists(!0)))}return m.mutationQueue.addMutationBatch(E,g,V,h)})).next((D=>{_=D;const V=D.applyToLocalDocumentSet(x,j);return m.documentOverlayCache.saveOverlays(E,D.batchId,V)}))})).then((()=>({batchId:_.batchId,changes:uk(x)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),(function(c,h,m){let g=c.du[c.currentUser.toKey()];g||(g=new xt(Ke)),g=g.insert(h,m),c.du[c.currentUser.toKey()]=g})(i,a.batchId,n),await Uu(i,a.changes),await im(i.remoteStore)}catch(a){const l=kv(a,"Failed to persist write");n.reject(l)}}async function Qk(t,e){const n=Pe(t);try{const i=await WL(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const c=n.Au.get(l);c&&(tt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?tt(c.hu,14607):a.removedDocuments.size>0&&(tt(c.hu,42227),c.hu=!1))})),await Uu(n,i,e)}catch(i){await Cl(i)}}function lE(t,e,n){const i=Pe(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const a=[];i.Tu.forEach(((l,c)=>{const h=c.view.va(e);h.snapshot&&a.push(h.snapshot)})),(function(c,h){const m=Pe(c);m.onlineState=h;let g=!1;m.queries.forEach(((v,x)=>{for(const _ of x.ba)_.va(h)&&(g=!0)})),g&&Nv(m)})(i.eventManager,e),a.length&&i.Pu.J_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function z9(t,e,n){const i=Pe(t);i.sharedClientState.updateQueryState(e,"rejected",n);const a=i.Au.get(e),l=a&&a.key;if(l){let c=new xt(Ne.comparator);c=c.insert(l,pn.newNoDocument(l,Me.min()));const h=Ye().add(l),m=new tm(Me.min(),new Map,new xt(Ke),c,h);await Qk(i,m),i.Ru=i.Ru.remove(l),i.Au.delete(e),Rv(i)}else await $0(i.localStore,e,!1).then((()=>Q0(i,e,n))).catch(Cl)}async function B9(t,e){const n=Pe(t),i=e.batch.batchId;try{const a=await XL(n.localStore,e);Wk(n,i,null),Xk(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Uu(n,a)}catch(a){await Cl(a)}}async function F9(t,e,n){const i=Pe(t);try{const a=await(function(c,h){const m=Pe(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return m.mutationQueue.lookupMutationBatch(g,h).next((x=>(tt(x!==null,37113),v=x.keys(),m.mutationQueue.removeMutationBatch(g,x)))).next((()=>m.mutationQueue.performConsistencyCheck(g))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(g,v,h))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>m.localDocuments.getDocuments(g,v)))}))})(i.localStore,e);Wk(i,e,n),Xk(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Uu(i,a)}catch(a){await Cl(a)}}function Xk(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function Wk(t,e,n){const i=Pe(t);let a=i.du[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),i.du[i.currentUser.toKey()]=a}}function Q0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Iu.get(e))t.Tu.delete(i),n&&t.Pu.yu(i,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((i=>{t.Vu.containsKey(i)||Jk(t,i)}))}function Jk(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(wv(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),Rv(t))}function cE(t,e,n){for(const i of n)i instanceof $k?(t.Vu.addReference(i.key,e),H9(t,i)):i instanceof Kk?(ye(Cv,"Document no longer in limbo: "+i.key),t.Vu.removeReference(i.key,e),t.Vu.containsKey(i.key)||Jk(t,i.key)):Re(19791,{wu:i})}function H9(t,e){const n=e.key,i=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(i)||(ye(Cv,"New document in limbo: "+n),t.Eu.add(i),Rv(t))}function Rv(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ne(ut.fromString(e)),i=t.fu.next();t.Au.set(i,new j9(n)),t.Ru=t.Ru.insert(n,i),Ok(t.remoteStore,new Fr(li(fv(n.path)),i,"TargetPurposeLimboResolution",Yf.ce))}}async function Uu(t,e,n){const i=Pe(t),a=[],l=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach(((h,m)=>{c.push(i.pu(m,e,n).then((g=>{if((g||n)&&i.isPrimaryClient){const v=g?!g.fromCache:n?.targetChanges.get(m.targetId)?.current;i.sharedClientState.updateQueryState(m.targetId,v?"current":"not-current")}if(g){a.push(g);const v=bv.Es(m.targetId,g);l.push(v)}})))})),await Promise.all(c),i.Pu.J_(a),await(async function(m,g){const v=Pe(m);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(x=>ce.forEach(g,(_=>ce.forEach(_.Ts,(E=>v.persistence.referenceDelegate.addReference(x,_.targetId,E))).next((()=>ce.forEach(_.Is,(E=>v.persistence.referenceDelegate.removeReference(x,_.targetId,E)))))))))}catch(x){if(!Rl(x))throw x;ye(_v,"Failed to update sequence numbers: "+x)}for(const x of g){const _=x.targetId;if(!x.fromCache){const E=v.vs.get(_),I=E.snapshotVersion,j=E.withLastLimboFreeSnapshotVersion(I);v.vs=v.vs.insert(_,j)}}})(i.localStore,l))}async function q9(t,e){const n=Pe(t);if(!n.currentUser.isEqual(e)){ye(Cv,"User change. New user:",e.toKey());const i=await Dk(n.localStore,e);n.currentUser=e,(function(l,c){l.mu.forEach((h=>{h.forEach((m=>{m.reject(new ge(le.CANCELLED,c))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Uu(n,i.Ns)}}function G9(t,e){const n=Pe(t),i=n.Au.get(e);if(i&&i.hu)return Ye().add(i.key);{let a=Ye();const l=n.Iu.get(e);if(!l)return a;for(const c of l){const h=n.Tu.get(c);a=a.unionWith(h.view.nu)}return a}}function Zk(t){const e=Pe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Qk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=G9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=z9.bind(null,e),e.Pu.J_=N9.bind(null,e.eventManager),e.Pu.yu=C9.bind(null,e.eventManager),e}function $9(t){const e=Pe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=B9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=F9.bind(null,e),e}class Af{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=nm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return QL(this.persistence,new $L,e.initialUser,this.serializer)}Cu(e){return new jk(xv.Vi,this.serializer)}Du(e){return new n9}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Af.provider={build:()=>new Af};class K9 extends Af{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){tt(this.persistence.referenceDelegate instanceof Ef,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new IL(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?In.withCacheSize(this.cacheSizeBytes):In.DEFAULT;return new jk((i=>Ef.Vi(i,n)),this.serializer)}}class X0{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>lE(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=q9.bind(null,this.syncEngine),await S9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new k9})()}createDatastore(e){const n=nm(e.databaseInfo.databaseId),i=o9(e.databaseInfo);return h9(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return(function(i,a,l,c,h){return new m9(i,a,l,c,h)})(this.localStore,this.datastore,e.asyncQueue,(n=>lE(this.syncEngine,n,0)),(function(){return nE.v()?new nE:new s9})())}createSyncEngine(e,n){return(function(a,l,c,h,m,g,v){const x=new D9(a,l,c,h,m,g);return v&&(x.gu=!0),x})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const i=Pe(n);ye(Ja,"RemoteStore shutting down."),i.Ea.add(5),await Lu(i),i.Aa.shutdown(),i.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}X0.provider={build:()=>new X0};class eN{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Wi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const sa="FirestoreClient";class Y9{constructor(e,n,i,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this._databaseInfo=a,this.user=mn.UNAUTHENTICATED,this.clientId=ov.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async c=>{ye(sa,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(ye(sa,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new $r;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=kv(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function Kg(t,e){t.asyncQueue.verifyOperationInProgress(),ye(sa,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener((async a=>{i.isEqual(a)||(await Dk(e.localStore,a),i=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function uE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Q9(t);ye(sa,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((i=>iE(e.remoteStore,i))),t.setAppCheckTokenChangeListener(((i,a)=>iE(e.remoteStore,a))),t._onlineComponents=e}async function Q9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ye(sa,"Using user provided OfflineComponentProvider");try{await Kg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===le.FAILED_PRECONDITION||a.code===le.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;Wa("Error using user provided cache. Falling back to memory cache: "+n),await Kg(t,new Af)}}else ye(sa,"Using default OfflineComponentProvider"),await Kg(t,new K9(void 0));return t._offlineComponents}async function tN(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ye(sa,"Using user provided OnlineComponentProvider"),await uE(t,t._uninitializedComponentsProvider._online)):(ye(sa,"Using default OnlineComponentProvider"),await uE(t,new X0))),t._onlineComponents}function X9(t){return tN(t).then((e=>e.syncEngine))}async function W0(t){const e=await tN(t),n=e.eventManager;return n.onListen=M9.bind(null,e.syncEngine),n.onUnlisten=O9.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=V9.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=L9.bind(null,e.syncEngine),n}function W9(t,e,n,i){const a=new eN(i),l=new Gk(e,a,n);return t.asyncQueue.enqueueAndForget((async()=>Hk(await W0(t),l))),()=>{a.Nu(),t.asyncQueue.enqueueAndForget((async()=>qk(await W0(t),l)))}}function J9(t,e,n={}){const i=new $r;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,h,m,g){const v=new eN({next:_=>{v.Nu(),c.enqueueAndForget((()=>qk(l,x))),_.fromCache&&m.source==="server"?g.reject(new ge(le.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(_)},error:_=>g.reject(_)}),x=new Gk(h,v,{includeMetadataChanges:!0,Ka:!0});return Hk(l,x)})(await W0(t),t.asyncQueue,e,n,i))),i.promise}function Z9(t,e){const n=new $r;return t.asyncQueue.enqueueAndForget((async()=>U9(await X9(t),e,n))),n.promise}function nN(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const e8="ComponentProvider",dE=new Map;function t8(t,e,n,i,a){return new bO(t,e,n,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,nN(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,i)}const sN="firestore.googleapis.com",hE=!0;class fE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ge(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=sN,this.ssl=hE}else this.host=e.host,this.ssl=e.ssl??hE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Ik;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<CL)throw new ge(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}lO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=nN(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ge(le.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ge(le.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ge(le.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,a){return i.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class rm{constructor(e,n,i,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new JP;switch(i.type){case"firstParty":return new nO(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ge(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=dE.get(n);i&&(ye(e8,"Removing Datastore"),dE.delete(n),i.terminate())})(this),Promise.resolve()}}function n8(t,e,n,i={}){t=Gi(t,rm);const a=Za(e),l=t._getSettings(),c={...l,emulatorOptions:t._getEmulatorOptions()},h=`${e}:${n}`;a&&(Gy(`https://${h}`),$y("Firestore",!0)),l.host!==sN&&l.host!==h&&Wa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:h,ssl:a,emulatorOptions:i};if(!Ka(m,c)&&(t._setSettings(m),i.mockUserToken)){let g,v;if(typeof i.mockUserToken=="string")g=i.mockUserToken,v=mn.MOCK_USER;else{g=J2(i.mockUserToken,t._app?.options.projectId);const x=i.mockUserToken.sub||i.mockUserToken.user_id;if(!x)throw new ge(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new mn(x)}t._authCredentials=new ZP(new BA(g,v))}}class er{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new er(this.firestore,e,this._query)}}class Ft{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Kr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ft(this.firestore,e,this._key)}toJSON(){return{type:Ft._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(Vu(n,Ft._jsonSchema))return new Ft(e,i||null,new Ne(ut.fromString(n.referencePath)))}}Ft._jsonSchemaVersion="firestore/documentReference/1.0",Ft._jsonSchema={type:Bt("string",Ft._jsonSchemaVersion),referencePath:Bt("string")};class Kr extends er{constructor(e,n,i){super(e,n,fv(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ft(this.firestore,null,new Ne(e))}withConverter(e){return new Kr(this.firestore,e,this._path)}}function Yr(t,e,...n){if(t=vn(t),FA("collection","path",e),t instanceof rm){const i=ut.fromString(e,...n);return AT(i),new Kr(t,null,i)}{if(!(t instanceof Ft||t instanceof Kr))throw new ge(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(ut.fromString(e,...n));return AT(i),new Kr(t.firestore,null,i)}}function J0(t,e,...n){if(t=vn(t),arguments.length===1&&(e=ov.newId()),FA("doc","path",e),t instanceof rm){const i=ut.fromString(e,...n);return ST(i),new Ft(t,null,new Ne(i))}{if(!(t instanceof Ft||t instanceof Kr))throw new ge(le.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(ut.fromString(e,...n));return ST(i),new Ft(t.firestore,t instanceof Kr?t.converter:null,new Ne(i))}}const mE="AsyncQueue";class pE{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Vk(this,"async_queue_retry"),this._c=()=>{const i=$g();i&&ye(mE,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=$g();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=$g();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new $r;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Rl(e))throw e;ye(mE,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,Wi("INTERNAL UNHANDLED ERROR: ",gE(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=Av.createAndSchedule(this,e,n,i,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Re(47125,{Pc:gE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function gE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class bl extends rm{constructor(e,n,i,a){super(e,n,i,a),this.type="firestore",this._queue=new pE,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new pE(e),this._firestoreClient=void 0,await e}}}function s8(t,e){const n=typeof t=="object"?t:Qy(),i=typeof t=="string"?t:vf,a=Hf(n,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=Q2("firestore");l&&n8(a,...l)}return a}function Iv(t){if(t._terminated)throw new ge(le.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||i8(t),t._firestoreClient}function i8(t){const e=t._freezeSettings(),n=t8(t._databaseId,t._app?.options.appId||"",t._persistenceKey,t._app?.options.apiKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new Y9(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(t._componentsProvider))}class os{constructor(e){this._byteString=e}static fromBase64String(e){try{return new os(dn.fromBase64String(e))}catch(n){throw new ge(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new os(dn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:os._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Vu(e,os._jsonSchema))return os.fromBase64String(e.bytes)}}os._jsonSchemaVersion="firestore/bytes/1.0",os._jsonSchema={type:Bt("string",os._jsonSchemaVersion),bytes:Bt("string")};class iN{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ge(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new un(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class jv{constructor(e){this._methodName=e}}class di{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ge(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ge(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ke(this._lat,e._lat)||Ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:di._jsonSchemaVersion}}static fromJSON(e){if(Vu(e,di._jsonSchema))return new di(e.latitude,e.longitude)}}di._jsonSchemaVersion="firestore/geoPoint/1.0",di._jsonSchema={type:Bt("string",di._jsonSchemaVersion),latitude:Bt("number"),longitude:Bt("number")};class Ds{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ds._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Vu(e,Ds._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ds(e.vectorValues);throw new ge(le.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ds._jsonSchemaVersion="firestore/vectorValue/1.0",Ds._jsonSchema={type:Bt("string",Ds._jsonSchemaVersion),vectorValues:Bt("object")};const r8=/^__.*__$/;class a8{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new so(e,this.data,this.fieldMask,n,this.fieldTransforms):new Pu(e,this.data,n,this.fieldTransforms)}}function rN(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re(40011,{dataSource:t})}}class Dv{constructor(e,n,i,a,l,c){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Dv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),i=this.contextWith({path:n,arrayElement:!1});return i.validatePathSegment(e),i}childContextForFieldPath(e){const n=this.path?.child(e),i=this.contextWith({path:n,arrayElement:!1});return i.validatePath(),i}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return kf(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(rN(this.dataSource)&&r8.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class o8{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||nm(e)}createContext(e,n,i,a=!1){return new Dv({dataSource:e,methodName:n,targetDoc:i,path:un.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Mv(t){const e=t._freezeSettings(),n=nm(t._databaseId);return new o8(t._databaseId,!!e.ignoreUndefinedProperties,n)}function aN(t,e,n,i,a,l={}){const c=t.createContext(l.merge||l.mergeFields?2:0,e,n,a);cN("Data must be an object, but it was:",c,i);const h=oN(i,c);let m,g;if(l.merge)m=new Cs(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const x of l.mergeFields){const _=zu(e,x,n);if(!c.contains(_))throw new ge(le.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);d8(v,_)||v.push(_)}m=new Cs(v),g=c.fieldTransforms.filter((x=>m.covers(x.field)))}else m=null,g=c.fieldTransforms;return new a8(new as(h),m,g)}class Vv extends jv{_toFieldTransform(e){return new QO(e.path,new _u)}isEqual(e){return e instanceof Vv}}function l8(t,e,n,i=!1){return Pv(n,t.createContext(i?4:3,e))}function Pv(t,e){if(lN(t=vn(t)))return cN("Unsupported field value:",e,t),oN(t,e);if(t instanceof jv)return(function(i,a){if(!rN(a.dataSource))throw a.createError(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(i,a){const l=[];let c=0;for(const h of i){let m=Pv(h,a.childContextForArray(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}})(t,e)}return(function(i,a){if((i=vn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return $O(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=mt.fromDate(i);return{timestampValue:Tf(a.serializer,l)}}if(i instanceof mt){const l=new mt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Tf(a.serializer,l)}}if(i instanceof di)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof os)return{bytesValue:Tk(a.serializer,i._byteString)};if(i instanceof Ft){const l=a.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw a.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:yv(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof Ds)return(function(c,h){const m=c instanceof Ds?c.toArray():c;return{mapValue:{fields:{[WA]:{stringValue:JA},[xf]:{arrayValue:{values:m.map((v=>{if(typeof v!="number")throw h.createError("VectorValues must only contain numeric values.");return mv(h.serializer,v)}))}}}}}})(i,a);if(Rk(i))return i._toProto(a.serializer);throw a.createError(`Unsupported field value: ${Kf(i)}`)})(t,e)}function oN(t,e){const n={};return GA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):to(t,((i,a)=>{const l=Pv(a,e.childContextForField(i));l!=null&&(n[i]=l)})),{mapValue:{fields:n}}}function lN(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof mt||t instanceof di||t instanceof os||t instanceof Ft||t instanceof jv||t instanceof Ds||Rk(t))}function cN(t,e,n){if(!lN(n)||!HA(n)){const i=Kf(n);throw i==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+i)}}function zu(t,e,n){if((e=vn(e))instanceof iN)return e._internalPath;if(typeof e=="string")return u8(t,e);throw kf("Field path arguments must be of type string or ",t,!1,void 0,n)}const c8=new RegExp("[~\\*/\\[\\]]");function u8(t,e,n){if(e.search(c8)>=0)throw kf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new iN(...e.split("."))._internalPath}catch{throw kf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function kf(t,e,n,i,a){const l=i&&!i.isEmpty(),c=a!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${i}`),c&&(m+=` in document ${a}`),m+=")"),new ge(le.INVALID_ARGUMENT,h+t+m)}function d8(t,e){return t.some((n=>n.isEqual(e)))}class h8{convertValue(e,n="none"){switch(ta(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ea(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Re(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return to(e,((a,l)=>{i[a]=this.convertValue(l,n)})),i}convertVectorValue(e){const n=e.fields?.[xf].arrayValue?.values?.map((i=>Nt(i.doubleValue)));return new Ds(n)}convertGeoPoint(e){return new di(Nt(e.latitude),Nt(e.longitude))}convertArray(e,n){return(e.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const i=Xf(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(yu(e));default:return null}}convertTimestamp(e){const n=Zr(e);return new mt(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=ut.fromString(e);tt(Ck(i),9688,{name:e});const a=new vu(i.get(1),i.get(3)),l=new Ne(i.popFirst(5));return a.isEqual(n)||Wi(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}class Ov extends h8{constructor(e){super(),this.firestore=e}convertBytes(e){return new os(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ft(this.firestore,null,n)}}function f8(){return new Vv("serverTimestamp")}const yE="@firebase/firestore",vE="4.11.0";function xE(t){return(function(n,i){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of i)if(l in a&&typeof a[l]=="function")return!0;return!1})(t,["next","error","complete"])}class uN{constructor(e,n,i,a,l){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Ft(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new m8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(zu("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class m8 extends uN{data(){return super.data()}}function dN(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ge(le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Lv{}class Uv extends Lv{}function Bu(t,e,...n){let i=[];e instanceof Lv&&i.push(e),i=i.concat(n),(function(l){const c=l.filter((m=>m instanceof zv)).length,h=l.filter((m=>m instanceof am)).length;if(c>1||c>0&&h>0)throw new ge(le.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const a of i)t=a._apply(t);return t}class am extends Uv{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new am(e,n,i)}_apply(e){const n=this._parse(e);return hN(e._query,n),new er(e.firestore,e.converter,B0(e._query,n))}_parse(e){const n=Mv(e.firestore);return(function(l,c,h,m,g,v,x){let _;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new ge(le.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){_E(x,v);const I=[];for(const j of x)I.push(bE(m,l,j));_={arrayValue:{values:I}}}else _=bE(m,l,x)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||_E(x,v),_=l8(h,c,x,v==="in"||v==="not-in");return zt.create(g,v,_)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function p8(t,e,n){const i=e,a=zu("where",t);return am._create(a,i,n)}class zv extends Lv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new zv(e,n)}_parse(e){const n=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return n.length===1?n[0]:Vs.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let c=a;const h=l.getFlattenedFilters();for(const m of h)hN(c,m),c=B0(c,m)})(e._query,n),new er(e.firestore,e.converter,B0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Bv extends Uv{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Bv(e,n)}_apply(e){const n=(function(a,l,c){if(a.startAt!==null)throw new ge(le.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ge(le.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new bu(l,c)})(e._query,this._field,this._direction);return new er(e.firestore,e.converter,LO(e._query,n))}}function om(t,e="asc"){const n=e,i=zu("orderBy",t);return Bv._create(i,n)}class Fv extends Uv{constructor(e,n,i){super(),this.type=e,this._limit=n,this._limitType=i}static _create(e,n,i){return new Fv(e,n,i)}_apply(e){return new er(e.firestore,e.converter,_f(e._query,this._limit,this._limitType))}}function lm(t){return cO("limit",t),Fv._create("limit",t,"F")}function bE(t,e,n){if(typeof(n=vn(n))=="string"){if(n==="")throw new ge(le.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ak(e)&&n.indexOf("/")!==-1)throw new ge(le.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(ut.fromString(n));if(!Ne.isDocumentKey(i))throw new ge(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return MT(t,new Ne(i))}if(n instanceof Ft)return MT(t,n._key);throw new ge(le.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Kf(n)}.`)}function _E(t,e){if(!Array.isArray(t)||t.length===0)throw new ge(le.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function hN(t,e){const n=(function(a,l){for(const c of a)for(const h of c.getFlattenedFilters())if(l.indexOf(h.op)>=0)return h.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ge(le.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ge(le.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function fN(t,e,n){let i;return i=t?t.toFirestore(e):e,i}class Qc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ga extends uN{constructor(e,n,i,a,l,c){super(e,n,i,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Jh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(zu("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(le.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ga._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ga._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ga._jsonSchema={type:Bt("string",Ga._jsonSchemaVersion),bundleSource:Bt("string","DocumentSnapshot"),bundleName:Bt("string"),bundle:Bt("string")};class Jh extends Ga{data(e={}){return super.data(e)}}class $a{constructor(e,n,i,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Qc(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((i=>{e.call(n,new Jh(this._firestore,this._userDataWriter,i.key,i,new Qc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ge(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((h=>{const m=new Jh(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Qc(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>l||h.type!==3)).map((h=>{const m=new Jh(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Qc(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,v=-1;return h.type!==0&&(g=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),v=c.indexOf(h.doc.key)),{type:g8(h.type),doc:m,oldIndex:g,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(le.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=$a._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ov.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function g8(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re(61501,{type:t})}}$a._jsonSchemaVersion="firestore/querySnapshot/1.0",$a._jsonSchema={type:Bt("string",$a._jsonSchemaVersion),bundleSource:Bt("string","QuerySnapshot"),bundleName:Bt("string"),bundle:Bt("string")};function mN(t){t=Gi(t,er);const e=Gi(t.firestore,bl),n=Iv(e),i=new Ov(e);return dN(t._query),J9(n,t._query).then((a=>new $a(e,i,t,a)))}function y8(t,e,n){t=Gi(t,Ft);const i=Gi(t.firestore,bl),a=fN(t.converter,e),l=Mv(i);return pN(i,[aN(l,"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,ci.none())])}function Z0(t,e){const n=Gi(t.firestore,bl),i=J0(t),a=fN(t.converter,e),l=Mv(t.firestore);return pN(n,[aN(l,"addDoc",i._key,a,t.converter!==null,{}).toMutation(i._key,ci.exists(!1))]).then((()=>i))}function cm(t,...e){t=vn(t);let n={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||xE(e[i])||(n=e[i++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(xE(e[i])){const g=e[i];e[i]=g.next?.bind(g),e[i+1]=g.error?.bind(g),e[i+2]=g.complete?.bind(g)}let l,c,h;if(t instanceof Ft)c=Gi(t.firestore,bl),h=fv(t._key.path),l={next:g=>{e[i]&&e[i](v8(c,t,g))},error:e[i+1],complete:e[i+2]};else{const g=Gi(t,er);c=Gi(g.firestore,bl),h=g._query;const v=new Ov(c);l={next:x=>{e[i]&&e[i](new $a(c,v,g,x))},error:e[i+1],complete:e[i+2]},dN(t._query)}const m=Iv(c);return W9(m,h,a,l)}function pN(t,e){const n=Iv(t);return Z9(n,e)}function v8(t,e,n){const i=n.docs.get(e._key),a=new Ov(t);return new Ga(t,a,e._key,i,new Qc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){WP(eo),Ya(new Wr("firestore",((i,{instanceIdentifier:a,options:l})=>{const c=i.getProvider("app").getImmediate(),h=new bl(new eO(i.getProvider("auth-internal")),new sO(c,i.getProvider("app-check-internal")),_O(c,a),c);return l={useFetchStreams:n,...l},h._setSettings(l),h}),"PUBLIC").setMultipleInstances(!0)),ai(yE,vE,e),ai(yE,vE,"esm2020")})();const gN="firebasestorage.googleapis.com",x8="storageBucket",b8=120*1e3,_8=600*1e3;class vi extends yi{constructor(e,n,i=0){super(Yg(e),`Firebase Storage: ${n} (${Yg(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,vi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Yg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var gi;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(gi||(gi={}));function Yg(t){return"storage/"+t}function w8(){const t="An unknown error occurred, please check the error payload for server response.";return new vi(gi.UNKNOWN,t)}function T8(){return new vi(gi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function E8(){return new vi(gi.CANCELED,"User canceled the upload/download.")}function S8(t){return new vi(gi.INVALID_URL,"Invalid URL '"+t+"'.")}function A8(t){return new vi(gi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function wE(t){return new vi(gi.INVALID_ARGUMENT,t)}function yN(){return new vi(gi.APP_DELETED,"The Firebase app was deleted.")}function k8(t){return new vi(gi.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class Rs{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=Rs.makeFromUrl(e,n)}catch{return new Rs(e,"")}if(i.path==="")return i;throw A8(e)}static makeFromUrl(e,n){let i=null;const a="([A-Za-z0-9.\\-_]+)";function l(J){J.path.charAt(J.path.length-1)==="/"&&(J.path_=J.path_.slice(0,-1))}const c="(/(.*))?$",h=new RegExp("^gs://"+a+c,"i"),m={bucket:1,path:3};function g(J){J.path_=decodeURIComponent(J.path)}const v="v[A-Za-z0-9_]+",x=n.replace(/[.]/g,"\\."),_="(/([^?#]*).*)?$",E=new RegExp(`^https?://${x}/${v}/b/${a}/o${_}`,"i"),I={bucket:1,path:3},j=n===gN?"(?:storage.googleapis.com|storage.cloud.google.com)":n,D="([^?#]*)",V=new RegExp(`^https?://${j}/${a}/${D}`,"i"),$=[{regex:h,indices:m,postModify:l},{regex:E,indices:I,postModify:g},{regex:V,indices:{bucket:1,path:2},postModify:g}];for(let J=0;J<$.length;J++){const se=$[J],de=se.regex.exec(e);if(de){const R=de[se.indices.bucket];let S=de[se.indices.path];S||(S=""),i=new Rs(R,S),se.postModify(i);break}}if(i==null)throw S8(e);return i}}class N8{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function C8(t,e,n){let i=1,a=null,l=null,c=!1,h=0;function m(){return h===2}let g=!1;function v(...D){g||(g=!0,e.apply(null,D))}function x(D){a=setTimeout(()=>{a=null,t(E,m())},D)}function _(){l&&clearTimeout(l)}function E(D,...V){if(g){_();return}if(D){_(),v.call(null,D,...V);return}if(m()||c){_(),v.call(null,D,...V);return}i<64&&(i*=2);let $;h===1?(h=2,$=0):$=(i+Math.random())*1e3,x($)}let I=!1;function j(D){I||(I=!0,_(),!g&&(a!==null?(D||(h=2),clearTimeout(a),x(0)):D||(h=1)))}return x(0),l=setTimeout(()=>{c=!0,j(!0)},n),j}function R8(t){t(!1)}function I8(t){return t!==void 0}function TE(t,e,n,i){if(i<e)throw wE(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw wE(`Invalid value for '${t}'. Expected ${n} or less.`)}function j8(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const a=e(i)+"="+e(t[i]);n=n+a+"&"}return n=n.slice(0,-1),n}var Nf;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Nf||(Nf={}));function D8(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,l=e.indexOf(t)!==-1;return n||a||l}class M8{constructor(e,n,i,a,l,c,h,m,g,v,x,_=!0,E=!1){this.url_=e,this.method_=n,this.headers_=i,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=h,this.errorCallback_=m,this.timeout_=g,this.progressCallback_=v,this.connectionFactory_=x,this.retry=_,this.isUsingEmulator=E,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((I,j)=>{this.resolve_=I,this.reject_=j,this.start_()})}start_(){const e=(i,a)=>{if(a){i(!1,new Rh(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=h=>{const m=h.loaded,g=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,g)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const h=l.getErrorCode()===Nf.NO_ERROR,m=l.getStatus();if(!h||D8(m,this.additionalRetryCodes_)&&this.retry){const v=l.getErrorCode()===Nf.ABORT;i(!1,new Rh(!1,null,v));return}const g=this.successCodes_.indexOf(m)!==-1;i(!0,new Rh(g,l))})},n=(i,a)=>{const l=this.resolve_,c=this.reject_,h=a.connection;if(a.wasSuccessCode)try{const m=this.callback_(h,h.getResponse());I8(m)?l(m):l()}catch(m){c(m)}else if(h!==null){const m=w8();m.serverResponse=h.getErrorText(),this.errorCallback_?c(this.errorCallback_(h,m)):c(m)}else if(a.canceled){const m=this.appDelete_?yN():E8();c(m)}else{const m=T8();c(m)}};this.canceled_?n(!1,new Rh(!1,null,!0)):this.backoffId_=C8(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&R8(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Rh{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function V8(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function P8(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function O8(t,e){e&&(t["X-Firebase-GMPID"]=e)}function L8(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function U8(t,e,n,i,a,l,c=!0,h=!1){const m=j8(t.urlParams),g=t.url+m,v=Object.assign({},t.headers);return O8(v,e),V8(v,n),P8(v,l),L8(v,i),new M8(g,t.method,v,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,c,h)}function z8(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function B8(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}class Cf{constructor(e,n){this._service=e,n instanceof Rs?this._location=n:this._location=Rs.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Cf(e,n)}get root(){const e=new Rs(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return B8(this._location.path)}get storage(){return this._service}get parent(){const e=z8(this._location.path);if(e===null)return null;const n=new Rs(this._location.bucket,e);return new Cf(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw k8(e)}}function EE(t,e){const n=e?.[x8];return n==null?null:Rs.makeFromBucketSpec(n,t)}function F8(t,e,n,i={}){t.host=`${e}:${n}`;const a=Za(e);a&&(Gy(`https://${t.host}/b`),$y("Storage",!0)),t._isUsingEmulator=!0,t._protocol=a?"https":"http";const{mockUserToken:l}=i;l&&(t._overrideAuthToken=typeof l=="string"?l:J2(l,t.app.options.projectId))}class H8{constructor(e,n,i,a,l,c=!1){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=c,this._bucket=null,this._host=gN,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=b8,this._maxUploadRetryTime=_8,this._requests=new Set,a!=null?this._bucket=Rs.makeFromBucketSpec(a,this._host):this._bucket=EE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Rs.makeFromBucketSpec(this._url,e):this._bucket=EE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){TE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){TE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(rs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Cf(this,e)}_makeRequest(e,n,i,a,l=!0){if(this._deleted)return new N8(yN());{const c=U8(e,this._appId,i,a,n,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,n){const[i,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,a).getPromise()}}const SE="@firebase/storage",AE="0.14.0";const vN="storage";function q8(t=Qy(),e){t=vn(t);const i=Hf(t,vN).getImmediate({identifier:e}),a=Q2("storage");return a&&G8(i,...a),i}function G8(t,e,n,i={}){F8(t,e,n,i)}function $8(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new H8(n,i,a,e,eo)}function K8(){Ya(new Wr(vN,$8,"PUBLIC").setMultipleInstances(!0)),ai(SE,AE,""),ai(SE,AE,"esm2020")}K8();const Y8={apiKey:"AIzaSyBxYxsLtsHK1cKKn6IP_wY5FLyG3Gqje5c",authDomain:"study-tracker-9d996.firebaseapp.com",projectId:"study-tracker-9d996",storageBucket:"study-tracker-9d996.firebasestorage.app",messagingSenderId:"896578359034",appId:"1:896578359034:web:730cec1b11329f22960343",measurementId:"G-ZDH3EW4063"},Hv=tA(Y8),Qg=KP(Hv),Q8=new Bi,hi=s8(Hv);q8(Hv);const xN=k.createContext(void 0);function X8({children:t}){const[e,n]=k.useState(null),[i,a]=k.useState(!0);k.useEffect(()=>{const h=VV(Qg,m=>{n(m),a(!1)});return()=>h()},[]);const l=async()=>{try{await nP(Qg,Q8)}catch(h){console.error("Error signing in with Google",h)}},c=async()=>{try{await PV(Qg)}catch(h){console.error("Error signing out",h)}};return d.jsx(xN.Provider,{value:{user:e,loading:i,signInWithGoogle:l,logout:c},children:!i&&t})}function tr(){const t=k.useContext(xN);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}const bN=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim();const W8=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const J8=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase());const kE=t=>{const e=J8(t);return e.charAt(0).toUpperCase()+e.slice(1)};var Z8={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const eU=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const tU=k.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:a="",children:l,iconNode:c,...h},m)=>k.createElement("svg",{ref:m,...Z8,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:bN("lucide",a),...!l&&!eU(h)&&{"aria-hidden":"true"},...h},[...c.map(([g,v])=>k.createElement(g,v)),...Array.isArray(l)?l:[l]]));const ve=(t,e)=>{const n=k.forwardRef(({className:i,...a},l)=>k.createElement(tU,{ref:l,iconNode:e,className:bN(`lucide-${W8(kE(t))}`,`lucide-${t}`,i),...a}));return n.displayName=kE(t),n};const nU=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],sU=ve("arrow-down-right",nU);const iU=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],rU=ve("arrow-left",iU);const aU=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],_N=ve("arrow-right",aU);const oU=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],lU=ve("arrow-up-right",oU);const cU=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],wN=ve("award",cU);const uU=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M17 17H4a1 1 0 0 1-.74-1.673C4.59 13.956 6 12.499 6 8a6 6 0 0 1 .258-1.742",key:"178tsu"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.668 3.01A6 6 0 0 1 18 8c0 2.687.77 4.653 1.707 6.05",key:"1hqiys"}]],dU=ve("bell-off",uU);const hU=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],fU=ve("bell",hU);const mU=[["path",{d:"M10 2v8l3-3 3 3V2",key:"sqw3rj"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],TN=ve("book-marked",mU);const pU=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],us=ve("book-open",pU);const gU=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],yU=ve("book",gU);const vU=[["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M14 7a4 4 0 0 1 4 4v3a6 6 0 0 1-12 0v-3a4 4 0 0 1 4-4z",key:"uouzyp"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M21 21a4 4 0 0 0-3.81-4",key:"1b0z45"}],["path",{d:"M21 5a4 4 0 0 1-3.55 3.97",key:"5cxbf6"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M3 21a4 4 0 0 1 3.81-4",key:"1fjd4g"}],["path",{d:"M3 5a4 4 0 0 0 3.55 3.97",key:"1d7oge"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M9 7.13V6a3 3 0 1 1 6 0v1.13",key:"1vgav8"}]],xU=ve("bug",vU);const bU=[["path",{d:"M16 14v2.2l1.6 1",key:"fo4ql5"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],Xc=ve("calendar-clock",bU);const _U=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ey=ve("calendar",_U);const wU=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],TU=ve("chart-column",wU);const EU=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],SU=ve("chart-pie",EU);const AU=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],EN=ve("check",AU);const kU=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],NU=ve("chevron-down",kU);const CU=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],qv=ve("chevron-left",CU);const RU=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],SN=ve("chevron-right",RU);const IU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Gv=ve("circle-alert",IU);const jU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],ro=ve("circle-check",jU);const DU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],ty=ve("circle-user",DU);const MU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],VU=ve("circle",MU);const PU=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],AN=ve("clock",PU);const OU=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],LU=ve("copy",OU);const UU=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],$v=ve("download",UU);const zU=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],BU=ve("ellipsis-vertical",zU);const FU=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],HU=ve("flame",FU);const qU=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],GU=ve("funnel",qU);const $U=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],KU=ve("globe",$U);const YU=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],kN=ve("graduation-cap",YU);const QU=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],XU=ve("hash",QU);const WU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],JU=ve("info",WU);const ZU=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],NE=ve("layout-dashboard",ZU);const e7=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],t7=ve("loader-circle",e7);const n7=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Rf=ve("log-out",n7);const s7=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],Xg=ve("medal",s7);const i7=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],NN=ve("message-circle",i7);const r7=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],a7=ve("monitor",r7);const o7=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],If=ve("moon",o7);const l7=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],c7=ve("pause",l7);const u7=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],CN=ve("pen-tool",u7);const d7=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],h7=ve("pen",d7);const f7=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Fu=ve("pencil",f7);const m7=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],p7=ve("play",m7);const g7=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],$i=ve("plus",g7);const y7=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],v7=ve("quote",y7);const x7=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],b7=ve("refresh-cw",x7);const _7=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],RN=ve("rotate-ccw",_7);const w7=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],jf=ve("save",w7);const T7=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],E7=ve("search",T7);const S7=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],A7=ve("send",S7);const k7=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],CE=ve("settings",k7);const N7=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],IN=ve("shield-check",N7);const C7=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],R7=ve("shield",C7);const I7=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],RE=ve("square-pen",I7);const j7=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],ny=ve("sun",j7);const D7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],M7=ve("target",D7);const V7=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],IE=ve("timer",V7);const P7=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Hu=ve("trash-2",P7);const O7=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Df=ve("trending-up",O7);const L7=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],U7=ve("triangle-alert",L7);const z7=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],ia=ve("trophy",z7);const B7=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],F7=ve("upload",B7);const H7=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],hl=ve("users",H7);const q7=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],jN=ve("volume-2",q7);const G7=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],DN=ve("volume-x",G7);const $7=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],xi=ve("x",$7),MN=k.createContext(void 0);function um(){const t=k.useContext(MN);if(!t)throw new Error("useToast must be used within a ToastProvider");return t.toast}function K7({children:t}){const[e,n]=k.useState([]),i=k.useCallback((c,h)=>{const m=Math.random().toString(36).substring(2,9);n(g=>[...g,{id:m,message:c,type:h}]),setTimeout(()=>{n(g=>g.filter(v=>v.id!==m))},3e3)},[]),a=k.useCallback(c=>{n(h=>h.filter(m=>m.id!==c))},[]),l={success:c=>i(c,"success"),error:c=>i(c,"error"),info:c=>i(c,"info"),warning:c=>i(c,"warning")};return d.jsxs(MN.Provider,{value:{toast:l,removeToast:a},children:[t,x4.createPortal(d.jsx("div",{className:"fixed top-4 right-4 z-[9999] flex flex-col gap-2 pointer-events-none",children:d.jsx(hs,{children:e.map(c=>d.jsx(Y7,{toast:c,onRemove:a},c.id))})}),document.body)]})}function Y7({toast:t,onRemove:e}){const n={success:d.jsx(ro,{className:"w-5 h-5 text-emerald-500"}),error:d.jsx(Gv,{className:"w-5 h-5 text-red-500"}),info:d.jsx(JU,{className:"w-5 h-5 text-blue-500"}),warning:d.jsx(U7,{className:"w-5 h-5 text-amber-500"})},i={success:"bg-white dark:bg-slate-800 border-emerald-100 dark:border-emerald-900/30",error:"bg-white dark:bg-slate-800 border-red-100 dark:border-red-900/30",info:"bg-white dark:bg-slate-800 border-blue-100 dark:border-blue-900/30",warning:"bg-white dark:bg-slate-800 border-amber-100 dark:border-amber-900/30"};return d.jsxs(Te.div,{layout:!0,initial:{opacity:0,y:-20,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.9,transition:{duration:.2}},className:`pointer-events-auto flex items-center gap-3 px-4 py-3 rounded-xl shadow-lg border ${i[t.type]} min-w-[300px] max-w-sm backdrop-blur-sm`,children:[d.jsx("div",{className:"shrink-0",children:n[t.type]}),d.jsx("p",{className:"text-sm font-medium text-slate-700 dark:text-slate-200 flex-1",children:t.message}),d.jsx("button",{onClick:()=>e(t.id),className:"p-1 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg text-slate-400 dark:text-slate-500 transition-colors",children:d.jsx(xi,{className:"w-4 h-4"})})]})}const ou=[{id:"hsc-science-2026-bn",name:"HSC Science",subjects:[{name:"  ",icon:"Book",color:"bg-emerald-500",chapters:[{name:"",topics:[{name:""},{name:""},{name:"-"},{name:""},{name:"    "},{name:" "},{name:""},{name:" "},{name:"  "},{name:" "},{name:"   "},{name:""}]},{name:"",topics:[{name:" "},{name:""},{name:""},{name:"  "},{name:" "},{name:"-"},{name:"  "},{name:""},{name:""},{name:"  "},{name:"   "},{name:" "}]},{name:"",topics:[{name:""}]},{name:"",topics:[{name:""}]}]},{name:"  ",icon:"Book",color:"bg-emerald-500",chapters:[{name:"",topics:[{name:""},{name:""},{name:""}]},{name:"",topics:[{name:" "},{name:""},{name:""},{name:""}]}]},{name:"  ",icon:"Book",color:"bg-teal-500",chapters:[{name:"  -   ",topics:[{name:" "},{name:"  "},{name:"  "},{name:" "},{name:"  "}]},{name:"  - ",topics:[{name:"  "},{name:" "},{name:" "},{name:" "},{name:"  "},{name:" "},{name:"  "},{name:" "},{name:"   "},{name:"   "},{name:"  "},{name:"  "}]},{name:"  - ",topics:[{name:"  "},{name:"  "},{name:" "},{name:"  "},{name:"   "},{name:" "},{name:""},{name:"    "},{name:"   "},{name:"  "},{name:"   "},{name:"   "}]},{name:"  -  ",topics:[{name:" "},{name:"   "},{name:"   "},{name:"   "},{name:"  "},{name:"  "},{name:" "},{name:"    "},{name:"  "},{name:"  "},{name:"   "},{name:"  "}]},{name:"  - ,   ",topics:[{name:"    "},{name:"    "},{name:""},{name:""},{name:"    "},{name:"  "},{name:""}]},{name:"  -   ",topics:[{name:""},{name:" "},{name:"   "},{name:"   "},{name:"  "},{name:"   "},{name:"  "},{name:" "},{name:"  - "}]},{name:"  -   ",topics:[{name:" "},{name:""},{name:" "},{name:" "},{name:"  "},{name:" "},{name:"   "}]},{name:"  -  ",topics:[{name:" "},{name:"  "},{name:"     "},{name:"       "},{name:"   "},{name:"   "},{name:"  "}]},{name:"  - ",topics:[{name:" "},{name:"  "},{name:"  "},{name:"  "},{name:" "},{name:" "},{name:"  "}]},{name:"  -     ",topics:[{name:" "},{name:" "},{name:" "},{name:"   "},{name:"      "},{name:" "},{name:"    "},{name:" "},{name:"  "}]}]},{name:"  ",icon:"Zap",color:"bg-violet-500",chapters:[{name:"",topics:[{name:" "},{name:"  "},{name:"   "},{name:"   "},{name:""},{name:"  "}]},{name:" ",topics:[{name:" "},{name:"   "},{name:" "},{name:" "},{name:"  "},{name:" "}]},{name:" ",topics:[{name:"   "},{name:" "},{name:" "},{name:" "},{name:""},{name:"   "}]},{name:"   ",topics:[{name:"- "},{name:" "},{name:" "},{name:" "}]},{name:" ",topics:[{name:" "},{name:" "},{name:"    "},{name:""}]},{name:" ",topics:[{name:""},{name:"   "},{name:"   "},{name:" "}]},{name:" ",topics:[{name:" "},{name:""},{name:""},{name:""}]},{name:"  ",topics:[{name:"  "},{name:"- "},{name:" "},{name:"- "},{name:"-"}]},{name:" ",topics:[{name:"   "},{name:" "},{name:""},{name:"   "},{name:"   "}]},{name:"  ",topics:[{name:" "},{name:"- "},{name:""},{name:" "},{name:""}]}]},{name:"  ",icon:"Beaker",color:"bg-rose-500",chapters:[{name:"  ",topics:[{name:"  "},{name:"  "},{name:"   "},{name:" "},{name:" "}]},{name:" ",topics:[{name:"  (  )"},{name:" "},{name:",    "},{name:" "},{name:"  "},{name:" "},{name:"   "},{name:" "},{name:""}]},{name:"  ",topics:[{name:"  (s, p, d, f )"},{name:"  ( ,  )"},{name:" "},{name:" "},{name:" (Hybridization)"},{name:"VSEPR    "},{name:" "},{name:"  "}]},{name:" ",topics:[{name:"   "},{name:" "},{name:"- "},{name:"   Kc, Kp"},{name:"- "},{name:"pH   "},{name:"    "}]},{name:" ",topics:[{name:"   "},{name:"  (, )"},{name:"  "},{name:"   "}]}]},{name:"  ",icon:"Beaker",color:"bg-rose-500",chapters:[{name:" ",topics:[{name:"  (, )"},{name:"   "},{name:"   "},{name:"  "},{name:"   "},{name:"    "},{name:"    (BOD, COD)"}]},{name:" ",topics:[{name:"     "},{name:""},{name:" (IUPAC)"},{name:" (, , )"},{name:"   "},{name:" "},{name:"  "},{name:"  "},{name:"    "},{name:""},{name:"  "}]},{name:" ",topics:[{name:"    "},{name:"  (, )"},{name:"- "},{name:"- "},{name:""},{name:"- "}]},{name:" ",topics:[{name:"   "},{name:" "},{name:"  "},{name:"    "},{name:"   "},{name:"pH "}]},{name:" ",topics:[{name:"   "},{name:"  "},{name:"   "},{name:"   "},{name:"   "}]}]},{name:"   ",icon:"Calculator",color:"bg-blue-500",chapters:[{name:"  ",topics:[{name:" "},{name:" ,   "},{name:"   "},{name:" "},{name:" "}]},{name:"",topics:[{name:" "},{name:"   "},{name:"   "},{name:" "}]},{name:"",topics:[{name:"   "},{name:"   "},{name:"  "},{name:"   "}]},{name:"",topics:[{name:" "},{name:"  "},{name:"  "}]},{name:"  ",topics:[{name:"    "},{name:""},{name:""},{name:"   "}]},{name:"",topics:[{name:"   "},{name:" "},{name:" "},{name:""}]},{name:"   ",topics:[{name:"  -"},{name:"-   "},{name:" "},{name:" "}]},{name:"",topics:[{name:"  "},{name:""},{name:"  "},{name:" "},{name:"  "}]},{name:"",topics:[{name:" "},{name:" "},{name:" "},{name:" "},{name:" "}]}]},{name:"   ",icon:"Calculator",color:"bg-blue-500",chapters:[{name:"   ",topics:[{name:"  "},{name:"  "},{name:" "}]},{name:" ",topics:[{name:"  "},{name:" "},{name:"  "}]},{name:" ",topics:[{name:"   "},{name:"  "},{name:" "},{name:" "}]},{name:"   ",topics:[{name:" "},{name:"   "},{name:"   "},{name:"  "}]},{name:" ",topics:[{name:" "},{name:"  "},{name:""},{name:"  "}]},{name:"",topics:[{name:" (Parabola)"},{name:" (Ellipse)"},{name:" (Hyperbola)"},{name:" "}]},{name:"  ",topics:[{name:"   "},{name:"  "},{name:"  "}]},{name:"",topics:[{name:"   "},{name:" "},{name:" "},{name:"    "}]},{name:"",topics:[{name:" "},{name:""},{name:" "},{name:" "}]},{name:"   ",topics:[{name:", , "},{name:"   "},{name:" "},{name:"   "},{name:" "}]}]},{name:"  ",icon:"Dna",color:"bg-green-500",chapters:[{name:"   ",topics:[{name:"    "},{name:"  "},{name:"  "},{name:""},{name:""},{name:"DNA  RNA  "},{name:"DNA "},{name:"  "}]},{name:" ",topics:[{name:"  "},{name:" "},{name:"   "},{name:" "}]},{name:"",topics:[{name:"   "},{name:""},{name:"   "},{name:" "}]},{name:"  ",topics:[{name:" (Riccia)"},{name:" (Pteris)"}]},{name:"  ",topics:[{name:" (Cycas)"},{name:" (Poaceae) "},{name:" (Malvaceae) "}]},{name:"  ",topics:[{name:" "},{name:" "},{name:" "},{name:"   /"}]},{name:" ",topics:[{name:"  "},{name:""},{name:" (   )"},{name:"C3  C4 "},{name:" (  )"},{name:"   "}]},{name:" ",topics:[{name:" "},{name:"   "},{name:""}]},{name:"",topics:[{name:"  "},{name:" DNA "},{name:" "},{name:" "}]}]},{name:"  ",icon:"Dna",color:"bg-green-500",chapters:[{name:"   ",topics:[{name:" "},{name:"-  (Major Phyla)"},{name:"   "}]},{name:" ",topics:[{name:" (, , )"},{name:" (, ,  )"},{name:"  (,  , )"}]},{name:"  ",topics:[{name:"   "},{name:"   (, , )"},{name:"   "},{name:""}]},{name:"  ",topics:[{name:"   "},{name:" "},{name:"   "},{name:" "},{name:"  "}]},{name:"  ",topics:[{name:" "},{name:" "},{name:" "}]},{name:"  ",topics:[{name:" "},{name:" "},{name:"  "},{name:"   "}]},{name:"  ",topics:[{name:"   "},{name:"  "},{name:" "},{name:""}]}]},{name:"   ",icon:"Cpu",color:"bg-indigo-500",chapters:[{name:"  -    ",topics:[{name:" "},{name:" "},{name:""},{name:""},{name:" "},{name:""},{name:""},{name:" "},{name:""}]},{name:"  -  ",topics:[{name:"    "},{name:""},{name:"  ( )"},{name:"  (Bluetooth, WiFi, WiMax)"},{name:" "},{name:"   "},{name:" "}]},{name:"  -     ",topics:[{name:"  "},{name:"  "},{name:" (BCD, ASCII)"},{name:" "},{name:"  (  )"},{name:"  "},{name:" (  )"},{name:"  "}]},{name:"  -   ",topics:[{name:" "},{name:"HTML  "},{name:"   "},{name:"  "},{name:" "},{name:" "}]},{name:"  -   (C)",topics:[{name:"  "},{name:"  "},{name:"   "},{name:"  "},{name:"  (if-else)"},{name:" (for, while)"},{name:""},{name:""}]}]}]}],Wg=[{level:1,minXP:0,title:"Novice"},{level:2,minXP:500,title:"Apprentice"},{level:3,minXP:1200,title:"Scholar"},{level:4,minXP:2500,title:"Sage"},{level:5,minXP:5e3,title:"Master"},{level:6,minXP:1e4,title:"Grandmaster"},{level:7,minXP:2e4,title:"Legend"}],sy=t=>{const e=[...Wg].reverse().find(i=>t>=i.minXP)||Wg[0],n=Wg.find(i=>i.level===e.level+1);return{currentLevel:e.level,currentTitle:e.title,nextLevelXP:n?n.minXP:null,progress:n?(t-e.minXP)/(n.minXP-e.minXP)*100:100}},jE={name:"Student",grade:"Class 10",language:"en",totalStudyTime:0,earnedBadges:[],currentStreak:0,dailyGoal:7200,todayStudyTime:0,weeklyStudyTime:0,monthlyStudyTime:0,xp:0,level:1,role:"student",scheduledSessions:[]},Jg="study-tracker-data",Q7=()=>{const t=ou[0];return t?t.subjects.map(e=>({id:crypto.randomUUID(),name:e.name,color:e.color,icon:e.icon,chapters:e.chapters.map(n=>({id:crypto.randomUUID(),name:n.name,isCompleted:!1,completedAt:null,topics:n.topics.map(i=>({id:crypto.randomUUID(),name:i.name,isCompleted:!1,completedAt:null}))}))})):[]},VN=k.createContext(void 0);function X7({children:t}){const{user:e}=tr(),n=um(),[i,a]=k.useState(()=>{try{const Y=localStorage.getItem(Jg);if(Y){const O=JSON.parse(Y);if(O.userProfile)return O.userProfile}}catch(Y){console.error("Failed to load profile:",Y)}return jE}),[l,c]=k.useState(()=>{try{const Y=localStorage.getItem(Jg);if(Y){const O=JSON.parse(Y);if(O.subjects&&O.subjects.length>0)return O.subjects.map(q=>({...q,chapters:(q.chapters||[]).map(H=>({...H,topics:H.topics||[]}))}))}}catch(Y){console.error("Failed to load subjects:",Y)}return Q7()}),h=k.useCallback(async(Y,O)=>{if(e)try{await y8(J0(hi,"users",e.uid),{userProfile:Y,subjects:O})}catch(q){console.error("Cloud save failed:",q)}else localStorage.setItem(Jg,JSON.stringify({userProfile:Y,subjects:O}))},[e]),m=k.useRef(!0);k.useEffect(()=>{if(m.current){m.current=!1;return}const Y=l.reduce((H,ae)=>H+ae.chapters.length,0);let O=0;l.forEach(H=>{H.chapters.forEach(ae=>{ae.topics?.length>0?ae.topics.every(fe=>fe.isCompleted)&&O++:ae.isCompleted&&O++})});const q=Y===0?0:Math.round(O/Y*100);i.syllabusCompletionPercentage!==q&&a(H=>({...H,syllabusCompletionPercentage:q})),h({...i,syllabusCompletionPercentage:q},l)},[l,i,h]),k.useEffect(()=>{if(!e)return;const O=e.email==="channel.data.transfer@gmail.com",q=cm(J0(hi,"users",e.uid),H=>{if(H.exists()){const ae=H.data();let fe=ae.userProfile;O&&fe.role!=="admin"&&(fe={...fe,role:"admin"}),ae.userProfile&&a(fe),ae.subjects&&c(ae.subjects)}else O&&a(ae=>({...ae,role:"admin"}))});return()=>q()},[e]),k.useEffect(()=>{const Y=ou[0];if(!Y)return;let O=!1;const q=[...l];Y.subjects.forEach(H=>{q.some(fe=>fe.name===H.name)||(q.push({id:crypto.randomUUID(),name:H.name,color:H.color,icon:H.icon,chapters:H.chapters.map(fe=>({id:crypto.randomUUID(),name:fe.name,isCompleted:!1,completedAt:null,topics:fe.topics.map(P=>({id:crypto.randomUUID(),name:P.name,isCompleted:!1,completedAt:null}))}))}),O=!0)}),O&&c(q)},[l]);const g=k.useCallback(Y=>{a(O=>({...O,...Y}))},[]),v=k.useCallback((Y,O)=>{a(q=>{const H=q.xp+Y,{currentLevel:ae}=sy(q.xp),{currentLevel:fe,currentTitle:P}=sy(H);return fe>ae&&n.success(` Level Up! You are now a ${P}!`),{...q,xp:H,level:fe}})},[n]),x=Y=>{c(O=>[...O,{...Y,id:crypto.randomUUID(),chapters:[]}])},_=(Y,O)=>{c(q=>q.map(H=>H.id===Y?{...H,...O}:H))},E=Y=>{c(O=>O.filter(q=>q.id!==Y))},I=(Y,O)=>{c(q=>q.map(H=>H.id===Y?{...H,chapters:[...H.chapters,{id:crypto.randomUUID(),name:O,isCompleted:!1,topics:[]}]}:H))},j=(Y,O,q)=>{c(H=>H.map(ae=>ae.id===Y?{...ae,chapters:ae.chapters.map(fe=>fe.id===O?{...fe,name:q}:fe)}:ae))},D=(Y,O)=>{c(q=>q.map(H=>H.id===Y?{...H,chapters:H.chapters.map(ae=>ae.id===O?{...ae,isCompleted:!ae.isCompleted,completedAt:ae.isCompleted?null:new Date().toISOString()}:ae)}:H))},V=(Y,O)=>{c(q=>q.map(H=>H.id===Y?{...H,chapters:H.chapters.filter(ae=>ae.id!==O)}:H))},F=(Y,O,q)=>{c(H=>H.map(ae=>ae.id===Y?{...ae,chapters:ae.chapters.map(fe=>fe.id===O?{...fe,topics:[...fe.topics,{id:crypto.randomUUID(),name:q,isCompleted:!1,completedAt:null}]}:fe)}:ae))},$=(Y,O,q,H)=>{c(ae=>ae.map(fe=>fe.id===Y?{...fe,chapters:fe.chapters.map(P=>P.id===O?{...P,topics:P.topics.map(ne=>ne.id===q?{...ne,name:H}:ne)}:P)}:fe))},J=(Y,O,q)=>{let H=0;c(ae=>ae.map(fe=>fe.id===Y?{...fe,chapters:fe.chapters.map(P=>{if(P.id===O){const ne=P.topics.map(he=>he.id===q?(he.isCompleted||(H=50),{...he,isCompleted:!he.isCompleted,completedAt:he.isCompleted?null:new Date().toISOString()}):he),ue=ne.length>0&&ne.every(he=>he.isCompleted);return{...P,topics:ne,isCompleted:ue,completedAt:ue?new Date().toISOString():null}}return P})}:fe)),H>0&&(v(H,"Topic Completed"),n.success("+50 XP: Topic Completed!"))},se=(Y,O,q)=>{c(H=>H.map(ae=>ae.id===Y?{...ae,chapters:ae.chapters.map(fe=>fe.id===O?{...fe,topics:fe.topics.filter(P=>P.id!==q)}:fe)}:ae))},de=()=>{const Y={userProfile:i,subjects:l,timestamp:new Date().toISOString()},O=new Blob([JSON.stringify(Y,null,2)],{type:"application/json"}),q=URL.createObjectURL(O),H=document.createElement("a");H.href=q,H.download="study-tracker-backup.json",H.click(),URL.revokeObjectURL(q)},R=Y=>{try{const O=JSON.parse(Y);if(O.userProfile&&Array.isArray(O.subjects))return a(O.userProfile),c(O.subjects),!0}catch(O){console.error("Import failed:",O)}return!1},S=Y=>{const O=Y.map(q=>({id:crypto.randomUUID(),name:q.name,color:q.color,icon:q.icon,chapters:q.chapters.map(H=>({id:crypto.randomUUID(),name:H.name,isCompleted:!1,completedAt:null,topics:H.topics.map(ae=>({id:crypto.randomUUID(),name:ae.name,isCompleted:!1,completedAt:null}))}))}));c(q=>[...q,...O])},C=()=>{window.confirm("Reset all progress?")&&(a(jE),c([]))},z=async(Y,O,q)=>{const H=new Date,ae=H.toISOString().split("T")[0];if(a(P=>{const ne=P.totalStudyTime+Y;let ue=P.currentStreak||0,he=P.todayStudyTime||0;if(P.lastStudyDate!==ae){const Se=new Date;Se.setDate(Se.getDate()-1),P.lastStudyDate===Se.toISOString().split("T")[0]?ue+=1:ue=1,he=Y}else he+=Y;return{...P,totalStudyTime:ne,todayStudyTime:he,currentStreak:ue,lastStudyDate:ae,weeklyStudyTime:(P.weeklyStudyTime||0)+Y,monthlyStudyTime:(P.monthlyStudyTime||0)+Y}}),e)try{await Z0(Yr(hi,"study_sessions"),{userId:e.uid,userName:e.displayName||i.name,durationInSeconds:Y,subjectId:O||null,sessionGoal:q||null,createdAt:H.toISOString()})}catch(P){console.error("Session log failed:",P)}const fe=Math.floor(Y/300)*10;fe>0&&(v(fe,"Study Session"),n.success(`+${fe} XP earned!`))},U=Y=>{const O={...Y,id:crypto.randomUUID(),isCompleted:!1};g({scheduledSessions:[...i.scheduledSessions||[],O]}),n.success("Study session scheduled!")},G=Y=>{const O=(i.scheduledSessions||[]).map(q=>q.id===Y?{...q,isCompleted:!q.isCompleted}:q);g({scheduledSessions:O})},M=Y=>{const O=(i.scheduledSessions||[]).filter(q=>q.id!==Y);g({scheduledSessions:O})};k.useEffect(()=>{"Notification"in window&&Notification.permission==="default"&&Notification.requestPermission();const Y=setInterval(()=>{const O=new Date;a(q=>{const H=(q.scheduledSessions||[]).map(ae=>{if(ae.isCompleted||ae.reminderSent||!ae.time)return ae;const P=(new Date(`${ae.date}T${ae.time}`).getTime()-O.getTime())/6e4;if(P<=10&&P>-5){if(Notification.permission==="granted"){const ne=l.find(ue=>ue.id===ae.subjectId);new Notification(`Study Session: ${ne?.name||"Upcoming"}`,{body:`Starting in ${Math.round(Math.max(0,P))} minutes!`,icon:"/pwa-192x192.png"})}return{...ae,reminderSent:!0}}return ae});return{...q,scheduledSessions:H}})},6e4);return()=>clearInterval(Y)},[l]);const Be=i.role==="admin";return d.jsx(VN.Provider,{value:{userProfile:i,subjects:l,isAdmin:Be,updateProfile:g,addSubject:x,editSubject:_,deleteSubject:E,addChapter:I,editChapter:j,toggleChapter:D,deleteChapter:V,addTopic:F,editTopic:$,toggleTopic:J,deleteTopic:se,resetData:C,exportData:de,importData:R,importSyllabusData:S,saveStudySession:z,addScheduledSession:U,toggleScheduledSession:G,deleteScheduledSession:M},children:t})}function Ht(){const t=k.useContext(VN);if(!t)throw new Error("useStudy must be used within StudyProvider");return t}const W7=["bg-blue-500","bg-indigo-500","bg-violet-500","bg-purple-500","bg-fuchsia-500","bg-pink-500","bg-rose-500","bg-red-500","bg-orange-500","bg-amber-500","bg-yellow-500","bg-lime-500","bg-green-500","bg-emerald-500","bg-teal-500","bg-cyan-500","bg-sky-500","bg-slate-500"];function Kv({subject:t,onClose:e}){const{editSubject:n}=Ht(),[i,a]=k.useState(t.name),[l,c]=k.useState(t.color),[h,m]=k.useState(t.examDate||""),g=v=>{v.preventDefault(),i.trim()&&(n(t.id,{name:i.trim(),color:l,examDate:h||void 0}),e())};return d.jsx(hs,{children:d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:d.jsxs(Te.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white dark:bg-slate-800 rounded-2xl w-full max-w-md shadow-xl border border-slate-100 dark:border-slate-700 overflow-hidden",children:[d.jsxs("div",{className:"p-4 border-b border-slate-100 dark:border-slate-700 flex items-center justify-between bg-slate-50/50 dark:bg-slate-800/50",children:[d.jsx("h2",{className:"text-lg font-bold text-slate-800 dark:text-white",children:"Edit Subject"}),d.jsx("button",{onClick:e,className:"p-1 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 transition-colors rounded-full hover:bg-slate-100 dark:hover:bg-slate-700",children:d.jsx(xi,{className:"w-5 h-5"})})]}),d.jsxs("form",{onSubmit:g,className:"p-6 space-y-6",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Subject Name"}),d.jsxs("div",{className:"relative",children:[d.jsx(us,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),d.jsx("input",{type:"text",value:i,onChange:v=>a(v.target.value),placeholder:"e.g. Mathematics",className:"w-full bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl py-3 pl-10 pr-4 text-slate-800 dark:text-white placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all",autoFocus:!0})]})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Color Theme"}),d.jsx("div",{className:"grid grid-cols-4 gap-2",children:W7.map(v=>d.jsx("button",{type:"button",onClick:()=>c(v),className:`w-full h-8 rounded-lg ${v} ${l===v?"ring-2 ring-offset-2 ring-indigo-500":""}`},v))})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Exam Date (Optional)"}),d.jsx("input",{type:"date",value:h,onChange:v=>m(v.target.value),className:"w-full px-4 py-2 rounded-xl border border-slate-200 dark:border-slate-600 bg-slate-50 dark:bg-slate-700 text-slate-800 dark:text-slate-200 focus:ring-2 focus:ring-indigo-500 outline-none"})]}),d.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-900 rounded-xl border border-slate-100 dark:border-slate-700 flex items-center gap-3",children:[d.jsx("div",{className:`w-10 h-10 rounded-lg ${l} flex items-center justify-center text-white shadow-sm`,children:d.jsx(us,{className:"w-5 h-5"})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-bold text-slate-800 dark:text-white",children:i||"Subject Name"}),d.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Preview"})]})]}),d.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[d.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-slate-600 dark:text-slate-400 font-medium hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:"Cancel"}),d.jsx("button",{type:"submit",disabled:!i.trim(),className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg shadow-sm shadow-blue-500/20 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:"Save Changes"})]})]})]})})})}const J7=Te(Jt);function Z7({subject:t,index:e=0}){const[n,i]=k.useState(!1),a=t.chapters.length,l=t.chapters.filter(v=>v.isCompleted).length;let c=0;t.chapters.forEach(v=>{v.topics&&v.topics.length>0?c+=v.topics.filter(x=>x.isCompleted).length/v.topics.length*100:c+=v.isCompleted?100:0});const h=a===0?0:Math.round(c/a),m=t.examDate?Math.ceil((new Date(t.examDate).getTime()-new Date().getTime())/(1e3*60*60*24)):null,g=m!==null&&m<=7&&m>=0;return d.jsxs(d.Fragment,{children:[d.jsxs(J7,{to:`/subject/${t.id}`,whileHover:{y:-8,transition:{duration:.3,ease:[.25,1,.5,1]}},whileTap:{scale:.98},className:"group relative block bg-white dark:bg-slate-800 rounded-2xl md:rounded-3xl p-4 md:p-5 border border-slate-100 dark:border-slate-700 shadow-sm hover:shadow-2xl hover:shadow-blue-500/15 dark:hover:shadow-blue-900/20 transition-all overflow-hidden h-full flex flex-col",children:[d.jsx("div",{className:`absolute top-0 right-0 w-24 h-24 md:w-32 md:h-32 bg-gradient-to-br ${t.color.replace("bg-","from-").replace("-500","-500/10")} to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500 rounded-bl-full pointer-events-none`}),d.jsx(Te.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:v=>{v.preventDefault(),v.stopPropagation(),i(!0)},className:"absolute top-2 right-2 md:top-4 md:right-4 p-1.5 md:p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/30 dark:hover:text-blue-400 rounded-xl transition-colors opacity-100 md:opacity-0 md:group-hover:opacity-100 z-10",title:"Edit Subject",children:d.jsx(Fu,{className:"w-3.5 h-3.5 md:w-4 md:h-4"})}),d.jsxs("div",{className:"flex items-start justify-between mb-4 md:mb-6 relative z-10",children:[d.jsx(Te.div,{whileHover:{rotate:15,scale:1.1},className:`w-10 h-10 md:w-14 md:h-14 rounded-xl md:rounded-2xl ${t.color} flex items-center justify-center text-white shadow-lg shadow-blue-500/20`,children:d.jsx(us,{className:"w-5 h-5 md:w-7 md:h-7"})}),d.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700/50 backdrop-blur-sm px-2 py-1 md:px-3 md:py-1.5 rounded-lg md:rounded-xl text-[10px] md:text-xs font-bold text-slate-700 dark:text-slate-200 border border-slate-100 dark:border-slate-600",children:[h,"%"]})]}),t.examDate&&m!==null&&m>=0&&d.jsxs("div",{className:`absolute top-16 right-4 text-xs font-bold px-2 py-1 rounded-lg flex items-center gap-1 ${g?"bg-red-100 text-red-600 animate-pulse":"bg-indigo-50 text-indigo-600"}`,children:[d.jsx(Xc,{className:"w-3 h-3"}),d.jsxs("span",{children:[m," days left"]})]}),d.jsx("h3",{className:"text-sm md:text-xl font-bold text-slate-800 dark:text-white mb-2 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors line-clamp-1",children:t.name}),d.jsxs("div",{className:"flex items-center gap-2 md:gap-3 text-xs md:text-sm text-slate-500 dark:text-slate-400 mb-4 md:mb-6 mt-auto",children:[d.jsxs("div",{className:"flex items-center gap-1 md:gap-1.5 bg-slate-50 dark:bg-slate-700/50 px-1.5 py-0.5 md:px-2 md:py-1 rounded-md md:rounded-lg",children:[d.jsx(us,{className:"w-3 h-3 md:w-3.5 md:h-3.5"}),d.jsx("span",{children:a})]}),l>0&&d.jsxs("div",{className:"flex items-center gap-1 md:gap-1.5 bg-emerald-50 dark:bg-emerald-900/20 text-emerald-600 dark:text-emerald-400 px-1.5 py-0.5 md:px-2 md:py-1 rounded-md md:rounded-lg",children:[d.jsx(ro,{className:"w-3 h-3 md:w-3.5 md:h-3.5"}),d.jsx("span",{children:l})]})]}),d.jsxs("div",{className:"space-y-1.5 md:space-y-2",children:[d.jsxs("div",{className:"hidden md:flex justify-between text-xs text-slate-400 dark:text-slate-500 font-medium",children:[d.jsx("span",{children:"Progress"}),d.jsxs("span",{children:[h,"%"]})]}),d.jsx("div",{className:"h-1.5 md:h-2.5 w-full bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden",children:d.jsx(Te.div,{initial:{width:0},animate:{width:`${h}%`},transition:{duration:1,delay:.5+e*.1,ease:"easeOut"},className:`h-full ${t.color} rounded-full`})})]}),d.jsxs("div",{className:"mt-4 md:mt-5 pt-3 md:pt-4 border-t border-slate-100 dark:border-slate-700 flex items-center justify-between text-xs md:text-sm",children:[d.jsx("span",{className:"text-slate-400 dark:text-slate-500 group-hover:text-slate-600 dark:group-hover:text-slate-300 transition-colors",children:"Details"}),d.jsx("div",{className:"w-6 h-6 md:w-8 md:h-8 rounded-full bg-slate-50 dark:bg-slate-700 flex items-center justify-center group-hover:bg-blue-600 group-hover:text-white transition-all duration-300",children:d.jsx(_N,{className:"w-3 h-3 md:w-4 md:h-4"})})]})]}),n&&d.jsx(Kv,{subject:t,onClose:()=>i(!1)})]})}const DE=["bg-blue-500","bg-emerald-500","bg-violet-500","bg-amber-500","bg-rose-500","bg-cyan-500","bg-fuchsia-500","bg-orange-500"];function ez({onClose:t}){const{addSubject:e}=Ht(),[n,i]=k.useState(""),[a,l]=k.useState(DE[0]),c=h=>{h.preventDefault(),n.trim()&&(e({name:n.trim(),color:a,icon:"book"}),t())};return d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm animate-in fade-in duration-200",children:d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl w-full max-w-md overflow-hidden animate-in zoom-in-95 duration-200 transition-colors",children:[d.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-slate-100 dark:border-slate-700",children:[d.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white flex items-center gap-2 transition-colors",children:[d.jsx(yU,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),"Add New Subject"]}),d.jsx("button",{onClick:t,className:"p-2 text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full transition-colors",children:d.jsx(xi,{className:"w-5 h-5"})})]}),d.jsxs("form",{onSubmit:c,className:"p-6 space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1 transition-colors",children:"Subject Name"}),d.jsx("input",{autoFocus:!0,type:"text",value:n,onChange:h=>i(h.target.value),placeholder:"e.g. Physics",className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all font-medium placeholder:font-normal placeholder:text-slate-400 dark:placeholder:text-slate-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2 transition-colors",children:"Color Tag"}),d.jsx("div",{className:"flex flex-wrap gap-2",children:DE.map(h=>d.jsx("button",{type:"button",onClick:()=>l(h),className:`w-8 h-8 rounded-full ${h} transition-all ${a===h?"ring-2 ring-offset-2 ring-slate-400 dark:ring-slate-500 scale-110":"hover:scale-105 opacity-80 hover:opacity-100"}`},h))})]}),d.jsx("div",{className:"pt-2",children:d.jsxs("button",{type:"submit",disabled:!n.trim(),className:"w-full bg-blue-600 hover:bg-blue-700 dark:bg-blue-600 dark:hover:bg-blue-500 disabled:opacity-50 disabled:cursor-not-allowed text-white font-medium py-3 rounded-xl flex items-center justify-center gap-2 transition-all active:scale-[0.98]",children:[d.jsx(jf,{className:"w-5 h-5"}),"Create Subject"]})})]})]})})}const tz={start_strong:{icon:ro,label:"Start Strong",description:"Completed your first topic!",color:"text-emerald-500 bg-emerald-100 dark:bg-emerald-900/30"},streak_master:{icon:HU,label:"Streak Master",description:"Studied for 3 days in a row.",color:"text-orange-500 bg-orange-100 dark:bg-orange-900/30"},subject_conqueror:{icon:wN,label:"Subject Conqueror",description:"Completed 100% of a subject.",color:"text-purple-500 bg-purple-100 dark:bg-purple-900/30"},night_owl:{icon:If,label:"Night Owl",description:"Completed a session late at night (10PM - 4AM).",color:"text-blue-500 bg-blue-100 dark:bg-blue-900/30"}};function nz({type:t,isLocked:e=!1,dateEarned:n}){const i=tz[t],a=i.icon,[l,c]=k.useState(!1);return d.jsxs("div",{className:"relative flex flex-col items-center gap-2 group cursor-pointer",onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),onClick:()=>c(!l),children:[d.jsx(Te.div,{whileHover:{scale:1.05},className:`w-16 h-16 rounded-full flex items-center justify-center shadow-sm border-2 transition-colors ${e?"bg-slate-100 dark:bg-slate-800 border-slate-200 dark:border-slate-700 opacity-60 grayscale":`${i.color} border-transparent`}`,children:d.jsx(a,{className:`w-8 h-8 ${e?"text-slate-400":""}`})}),d.jsx("span",{className:`text-xs font-medium text-center max-w-[5rem] ${e?"text-slate-400":"text-slate-700 dark:text-slate-300"}`,children:i.label}),l&&d.jsxs(Te.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"absolute bottom-full mb-2 bg-slate-800 dark:bg-slate-700 text-white text-xs p-2 rounded-lg shadow-xl whitespace-nowrap z-50 pointer-events-none",children:[d.jsx("p",{className:"font-semibold",children:i.label}),d.jsx("p",{className:"text-slate-300",children:i.description}),!e&&n&&d.jsxs("p",{className:"text-slate-400 mt-1 text-[10px]",children:["Earned: ",new Date(n).toLocaleDateString()]})]})]})}function sz(){const{updateProfile:t}=Ht(),[e,n]=k.useState(""),[i,a]=k.useState(""),l=c=>{if(c.preventDefault(),!e.trim()){alert("Please enter your name");return}t({name:e.trim(),grade:i.trim()||"Not specified"})};return d.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm",children:d.jsxs(Te.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-md overflow-hidden",children:[d.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-indigo-600 p-6 text-white",children:[d.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Welcome to TrackEd! "}),d.jsx("p",{className:"text-blue-100 text-sm",children:"Let's get started by setting up your profile"})]}),d.jsxs("form",{onSubmit:l,className:"p-6 space-y-5",children:[d.jsxs("div",{children:[d.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:[d.jsx(ty,{className:"w-4 h-4"}),"Your Name ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{type:"text",value:e,onChange:c=>n(c.target.value),className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 transition-all placeholder:text-slate-400 dark:placeholder:text-slate-500",placeholder:"Enter your name",autoFocus:!0})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:[d.jsx(kN,{className:"w-4 h-4"}),"Class / Grade"]}),d.jsx("input",{type:"text",value:i,onChange:c=>a(c.target.value),className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 transition-all placeholder:text-slate-400 dark:placeholder:text-slate-500",placeholder:"e.g., HSC 2026, SSC 2024"})]}),d.jsx("div",{className:"pt-2",children:d.jsx("button",{type:"submit",className:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white font-semibold py-3 rounded-xl transition-all shadow-lg shadow-blue-500/25 active:scale-[0.98]",children:"Get Started"})}),d.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 text-center",children:"You can update these details anytime in Settings"})]})]})})}function iz(){const{userProfile:t,updateProfile:e}=Ht(),[n,i]=k.useState(!1),[a,l]=k.useState(t.dailyGoal?t.dailyGoal/3600:2),c=t.dailyGoal||7200,h=t.todayStudyTime||0,m=Math.min(100,Math.round(h/c*100)),g=()=>{e({dailyGoal:a*3600}),i(!1)};return d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm md:h-full flex flex-col relative overflow-hidden",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2 z-10",children:[d.jsxs("h3",{className:"text-slate-500 dark:text-slate-400 font-medium flex items-center gap-2 text-sm",children:[d.jsx(M7,{className:"w-4 h-4"}),"Daily Goal"]}),n?d.jsxs("button",{onClick:g,className:"text-xs text-green-600 dark:text-green-400 hover:underline flex items-center gap-1 font-bold",children:["Save ",d.jsx(EN,{className:"w-3 h-3"})]}):d.jsxs("button",{onClick:()=>i(!0),className:"text-xs text-blue-600 dark:text-blue-400 hover:underline flex items-center gap-1",children:["Edit ",d.jsx(h7,{className:"w-3 h-3"})]})]}),d.jsxs("div",{className:"flex-1 flex items-center justify-between z-10 mt-2",children:[d.jsxs("div",{className:"space-y-1",children:[n?d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"number",min:"0.5",max:"24",step:"0.5",value:a,onChange:v=>l(parseFloat(v.target.value)),className:"w-16 p-1 border rounded text-lg font-bold bg-slate-50 dark:bg-slate-700 dark:text-white",autoFocus:!0}),d.jsx("span",{className:"text-slate-500",children:"hrs"})]}):d.jsxs("div",{className:"text-3xl font-bold text-slate-800 dark:text-white",children:[Math.floor(h/3600),d.jsx("span",{className:"text-lg text-slate-400 font-normal",children:"h"})," ",Math.floor(h%3600/60),d.jsx("span",{className:"text-lg text-slate-400 font-normal",children:"m"})]}),d.jsxs("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:["of ",Math.floor(c/3600),"h goal"]})]}),d.jsxs("div",{className:"relative w-20 h-20 flex-shrink-0",children:[d.jsxs("svg",{className:"w-full h-full transform -rotate-90",children:[d.jsx("circle",{cx:"40",cy:"40",r:"36",stroke:"currentColor",strokeWidth:"8",fill:"transparent",className:"text-slate-100 dark:text-slate-700"}),d.jsx(Te.circle,{initial:{strokeDashoffset:226},animate:{strokeDashoffset:226-226*m/100},transition:{duration:1,ease:"easeOut"},cx:"40",cy:"40",r:"36",stroke:"currentColor",strokeWidth:"8",fill:"transparent",strokeDasharray:"226",strokeLinecap:"round",className:`${m>=100?"text-green-500":"text-blue-500"}`})]}),d.jsxs("div",{className:"absolute inset-0 flex items-center justify-center text-xs font-bold text-slate-700 dark:text-slate-300",children:[m,"%"]})]})]}),m>=100&&d.jsxs(Te.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"absolute inset-0 bg-green-50/90 dark:bg-green-900/90 flex items-center justify-center flex-col z-20 backdrop-blur-sm",children:[d.jsx(ia,{className:"w-10 h-10 text-green-600 dark:text-green-400 mb-2"}),d.jsx("span",{className:"text-green-800 dark:text-green-100 font-bold",children:"Goal Reached!"})]})]})}const Hc=[{text:"   ,   ",author:" -: "},{text:",   !     ",author:" : "},{text:",           ?",author:" -: "},{text:"     ",author:" -: "},{text:"      ",author:" : "},{text:"       ",author:" -: "},{text:"    ",author:" -: "},{text:"       ",author:" -: "},{text:" !       ",author:" -: "},{text:"      ",author:" -: "},{text:"       ",author:" -: "},{text:"  !           ",author:" : -"},{text:"     ?",author:" -: "},{text:"   ",author:" : "},{text:"      ",author:"  : "},{text:"     ",author:" : "},{text:"  ",author:" : "},{text:"  ",author:"   "},{text:"    ",author:" : "},{text:"  ",author:" : "},{text:"      ",author:" "},{text:"   ",author:" : "},{text:"       ",author:" : "},{text:"     ",author:" "},{text:"    ",author:" "},{text:"  -    ",author:""},{text:"     ",author:"   "},{text:"     ",author:" "}];function rz(){const[t,e]=k.useState(()=>Math.floor(Math.random()*Hc.length)),[n,i]=k.useState(!1),a=()=>{i(!0),setTimeout(()=>{let l;do l=Math.floor(Math.random()*Hc.length);while(l===t&&Hc.length>1);e(l),i(!1)},300)};return d.jsxs("div",{className:"bg-gradient-to-br from-indigo-500 to-purple-600 rounded-2xl p-6 text-white relative overflow-hidden shadow-lg shadow-indigo-500/20 md:h-full flex flex-col justify-between",children:[d.jsxs("div",{className:"flex items-start justify-between mb-4",children:[d.jsx("div",{className:"p-2 bg-white/20 backdrop-blur-sm rounded-lg",children:d.jsx(v7,{className:"w-5 h-5 text-white"})}),d.jsx("button",{onClick:a,disabled:n,className:"p-2.5 text-white/70 hover:text-white hover:bg-white/20 rounded-full transition-all active:scale-95 disabled:opacity-50",title:"Get New Quote",children:d.jsx(Te.div,{animate:n?{rotate:360}:{rotate:0},transition:{duration:.3,ease:"easeInOut"},children:d.jsx(b7,{className:"w-5 h-5"})})})]}),d.jsx(hs,{mode:"wait",children:d.jsxs(Te.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},children:[d.jsx("p",{className:"text-xl md:text-2xl font-bold mb-4 leading-relaxed tracking-wide",children:Hc[t].text}),d.jsxs("p",{className:"text-indigo-200 text-sm font-medium",children:[" ",Hc[t].author]})]},t)}),d.jsx("div",{className:"absolute -bottom-4 -right-4 w-24 h-24 bg-white/10 rounded-full blur-xl"}),d.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-purple-500/20 rounded-full blur-2xl"})]})}function az(){const{user:t}=tr(),[e,n]=k.useState([]),[i,a]=k.useState(!0);return k.useEffect(()=>{(async()=>{try{const c=Bu(Yr(hi,"users"),om("userProfile.syllabusCompletionPercentage","desc"),lm(10)),h=await mN(c),m=[];h.forEach(g=>{const v=g.data();v.userProfile&&m.push({uid:g.id,name:v.userProfile.name||"Anonymous",percentage:v.userProfile.syllabusCompletionPercentage||0,grade:v.userProfile.grade||"Student"})}),n(m)}catch(c){console.error("Error fetching leaderboard:",c)}finally{a(!1)}})()},[]),i?d.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-3xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm h-full flex items-center justify-center min-h-[300px]",children:d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-500"})}):d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm h-full flex flex-col",children:[d.jsxs("h3",{className:"text-slate-800 dark:text-white font-bold text-lg mb-4 flex items-center gap-2",children:[d.jsx(ia,{className:"w-5 h-5 text-amber-500"}),"Leaderboard"]}),d.jsx("div",{className:"flex-1 overflow-y-auto pr-2 space-y-3 scrollbar-thin scrollbar-thumb-slate-200 dark:scrollbar-thumb-slate-700",children:e.length===0?d.jsxs("div",{className:"flex flex-col items-center justify-center text-center text-slate-500 dark:text-slate-400 py-8 h-full",children:[d.jsx("div",{className:"w-16 h-16 bg-slate-50 dark:bg-slate-700/50 rounded-full flex items-center justify-center mb-3",children:d.jsx(ia,{className:"w-8 h-8 text-slate-300 dark:text-slate-500 opacity-50"})}),d.jsx("p",{className:"font-medium text-slate-600 dark:text-slate-300",children:"No champions yet!"}),d.jsx("p",{className:"text-xs max-w-[150px] mt-1",children:"Complete chapters to climb the ranks."})]}):e.map((l,c)=>{const h=t?.uid===l.uid;let m=null;return c===0?m=d.jsx(Xg,{className:"w-5 h-5 text-yellow-500"}):c===1?m=d.jsx(Xg,{className:"w-5 h-5 text-slate-400"}):c===2?m=d.jsx(Xg,{className:"w-5 h-5 text-amber-700"}):m=d.jsx("span",{className:"text-sm font-bold text-slate-400 w-5 text-center",children:c+1}),d.jsxs(Te.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:c*.1},className:`flex items-center gap-3 p-3 rounded-xl transition-colors ${h?"bg-indigo-50 dark:bg-indigo-900/30 border border-indigo-100 dark:border-indigo-800":"hover:bg-slate-50 dark:hover:bg-slate-700/50"}`,children:[d.jsx("div",{className:"flex-shrink-0 flex items-center justify-center w-8",children:m}),d.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-slate-200 dark:bg-slate-700 flex items-center justify-center text-xs font-bold text-slate-600 dark:text-slate-300",children:l.name[0].toUpperCase()}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("p",{className:`text-sm font-medium truncate ${h?"text-indigo-700 dark:text-indigo-300":"text-slate-700 dark:text-slate-200"}`,children:[l.name," ",h&&"(You)"]}),d.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 truncate",children:l.grade})]}),d.jsxs("div",{className:"font-bold text-slate-800 dark:text-white text-sm",children:[l.percentage,"%"]})]},l.uid)})})]})}function PN({className:t="",limit:e}){const{subjects:n,editSubject:i}=Ht(),[a,l]=k.useState(null),[c,h]=k.useState(!1),m=(n||[]).filter(j=>{if(!j.examDate)return!1;const D=new Date(j.examDate);return!isNaN(D.getTime())}).sort((j,D)=>new Date(j.examDate).getTime()-new Date(D.examDate).getTime()),g=(n||[]).filter(j=>!j.examDate),v=e?m.slice(0,e):m,x=j=>{const D=new Date;D.setHours(0,0,0,0);const V=new Date(j);if(isNaN(V.getTime()))return null;V.setHours(0,0,0,0);const F=V.getTime()-D.getTime();return Math.ceil(F/(1e3*60*60*24))},_=j=>{l(j),h(!1)},E=(j,D)=>{D.stopPropagation(),window.confirm("Remove this exam date?")&&i(j,{examDate:void 0})},I=!n||n.length===0;return d.jsxs("div",{className:`space-y-4 ${t}`,children:[m.length===0&&!c?d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-4 border border-dashed border-slate-200 dark:border-slate-700 text-center",children:[d.jsx("div",{className:"w-10 h-10 bg-slate-50 dark:bg-slate-900 rounded-full flex items-center justify-center mx-auto mb-2",children:d.jsx(Xc,{className:"w-5 h-5 text-slate-400"})}),d.jsx("h3",{className:"text-slate-800 dark:text-white font-semibold text-sm mb-1",children:"No Exams"}),d.jsx("p",{className:"text-slate-500 text-[10px] leading-tight mb-3",children:I?"Add a subject first to schedule exams.":"Set dates for subjects to track them here."}),!I&&d.jsxs("button",{onClick:()=>h(!0),className:"inline-flex items-center gap-2 px-3 py-1.5 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 text-xs font-bold rounded-lg hover:bg-indigo-100 dark:hover:bg-indigo-900/50 transition-colors",children:[d.jsx($i,{className:"w-3.5 h-3.5"}),"Schedule Exam"]})]}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("h3",{className:"font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[d.jsx(Xc,{className:"w-5 h-5 text-indigo-500"}),"Upcoming Exams"]}),d.jsxs("div",{className:"flex items-center gap-2",children:[!I&&d.jsx("button",{onClick:()=>h(!0),className:"p-1.5 text-indigo-600 dark:text-indigo-400 hover:bg-indigo-50 dark:hover:bg-indigo-900/30 rounded-lg transition-colors",title:"Add Exam",children:d.jsx($i,{className:"w-4 h-4"})}),d.jsxs("span",{className:"text-[10px] font-bold uppercase tracking-wider text-slate-400 bg-slate-100 dark:bg-slate-800/50 px-2 py-0.5 rounded-full",children:[m.length," Total"]})]})]}),d.jsx("div",{className:"grid gap-3",children:v.map(j=>{const D=x(j.examDate),V=D!==null&&D<=7&&D>=0,F=D!==null&&D<0,$=isNaN(new Date(j.examDate).getTime())?"Invalid Date":new Date(j.examDate).toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"});return d.jsxs(Te.div,{layout:!0,initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"group relative bg-white dark:bg-slate-900/50 rounded-xl p-3 border border-slate-100 dark:border-slate-800 hover:border-indigo-200 dark:hover:border-indigo-900/50 transition-all flex items-center gap-3 overflow-hidden",children:[d.jsx("div",{className:`absolute left-0 top-0 bottom-0 w-1 ${F?"bg-slate-400":V?"bg-red-500":"bg-indigo-500"}`}),d.jsx("div",{className:`w-10 h-10 rounded-lg ${j.color||"bg-slate-500"} flex items-center justify-center text-white shadow-sm flex-shrink-0`,children:d.jsx(Xc,{className:"w-5 h-5"})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"flex items-center justify-between gap-2",children:[d.jsx("h4",{className:"font-bold text-slate-800 dark:text-slate-200 text-sm truncate",children:j.name}),d.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[d.jsx("button",{onClick:()=>l(j),className:"p-1 text-slate-400 hover:text-indigo-500 dark:hover:text-indigo-400 transition-colors",title:"Edit Date",children:d.jsx(Fu,{className:"w-3.5 h-3.5"})}),d.jsx("button",{onClick:J=>E(j.id,J),className:"p-1 text-slate-400 hover:text-rose-500 dark:hover:text-rose-400 transition-colors",title:"Remove Exam",children:d.jsx(Hu,{className:"w-3.5 h-3.5"})})]})]}),d.jsx("p",{className:"text-[10px] text-slate-500 uppercase tracking-tighter",children:$})]}),d.jsxs("div",{className:`text-right flex-shrink-0 ${F?"text-slate-400":V?"text-red-500":"text-indigo-500"}`,children:[d.jsx("div",{className:"text-lg font-black leading-none",children:F||D===null?"":D}),d.jsx("div",{className:"text-[9px] font-bold uppercase tracking-widest",children:F?"Past":"Days"})]}),V&&!F&&d.jsx("div",{className:"absolute top-0 right-0 p-1",children:d.jsx(Gv,{className:"w-3 h-3 text-red-500 animate-pulse"})})]},j.id)})})]}),d.jsx(hs,{children:c&&d.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/40 backdrop-blur-[2px]",children:d.jsxs(Te.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"bg-white dark:bg-slate-800 rounded-3xl w-full max-w-sm shadow-2xl overflow-hidden border border-slate-100 dark:border-slate-700",children:[d.jsxs("div",{className:"p-4 border-b border-slate-50 dark:border-slate-700 flex items-center justify-between bg-slate-50/50 dark:bg-slate-800/50",children:[d.jsx("h3",{className:"font-bold text-slate-800 dark:text-white",children:"Schedule Exam"}),d.jsx("button",{onClick:()=>h(!1),className:"p-1.5 text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 rounded-full hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:d.jsx(xi,{className:"w-5 h-5"})})]}),d.jsxs("div",{className:"p-4 max-h-[60vh] overflow-y-auto custom-scrollbar",children:[d.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mb-4 px-1",children:"Select a subject to set its exam date."}),d.jsx("div",{className:"grid gap-2",children:g.length>0?g.map(j=>d.jsxs("button",{onClick:()=>_(j),className:"flex items-center gap-3 p-3 rounded-2xl hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-all group text-left border border-transparent hover:border-slate-100 dark:hover:border-slate-600",children:[d.jsx("div",{className:`w-10 h-10 rounded-xl ${j.color||"bg-slate-500"} flex items-center justify-center text-white shadow-sm flex-shrink-0`,children:d.jsx(us,{className:"w-5 h-5"})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("div",{className:"font-bold text-slate-800 dark:text-slate-200 text-sm truncate",children:j.name}),d.jsxs("div",{className:"text-[10px] text-slate-500 uppercase tracking-wider",children:[j.chapters?.length||0," Chapters"]})]}),d.jsx($i,{className:"w-4 h-4 text-slate-300 group-hover:text-indigo-500 transition-colors"})]},j.id)):d.jsxs("div",{className:"text-center py-8",children:[d.jsx("div",{className:"w-12 h-12 bg-slate-50 dark:bg-slate-700/50 rounded-full flex items-center justify-center mx-auto mb-3",children:d.jsx(Xc,{className:"w-6 h-6 text-slate-300"})}),d.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"All subjects have exams!"})]})})]})]})})}),a&&d.jsx(Kv,{subject:a,onClose:()=>l(null)})]})}const ME={hidden:{opacity:0,y:10},show:{opacity:1,y:0,transition:{duration:.4,when:"beforeChildren",staggerChildren:.1}},exit:{opacity:0,y:-10}},Zg={hidden:{opacity:0,y:20},show:{opacity:1,y:0,transition:{type:"spring",stiffness:100,damping:12}}};function oz(){const{userProfile:t,subjects:e}=Ht(),[n,i]=k.useState(!1),a=t.name==="Student",l=e.reduce((g,v)=>g+v.chapters.length,0),c=e.reduce((g,v)=>g+v.chapters.filter(x=>x.isCompleted).length,0);let h=0;e.forEach(g=>{g.chapters.forEach(v=>{v.topics&&v.topics.length>0?h+=v.topics.filter(x=>x.isCompleted).length/v.topics.length*100:h+=v.isCompleted?100:0})});const m=l===0?0:Math.round(h/l);return d.jsxs(Te.div,{className:"space-y-6 md:space-y-8",variants:ME,initial:"hidden",animate:"show",exit:"exit",children:[d.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 mb-8",children:[d.jsxs("div",{children:[d.jsxs("h1",{className:"text-3xl md:text-4xl font-bold text-slate-800 dark:text-white transition-colors tracking-tight",children:["Hello, ",d.jsx("span",{className:"bg-gradient-to-r from-blue-600 to-teal-500 dark:from-blue-400 dark:to-teal-400 bg-clip-text text-transparent",children:t.name}),d.jsx("span",{className:"inline-block animate-wave ml-2",children:""})]}),d.jsxs("p",{className:"text-base text-slate-500 dark:text-slate-400 mt-2 transition-colors",children:[d.jsx("span",{className:"font-semibold text-slate-700 dark:text-slate-300 px-2 py-0.5 bg-slate-100 dark:bg-slate-800 rounded-md mr-2",children:t.grade}),"Ready to crush your goals today?"]})]}),d.jsxs(Te.button,{id:"add-subject-btn",whileHover:{scale:1.05,boxShadow:"0 10px 25px -5px rgba(37, 99, 235, 0.4)"},whileTap:{scale:.95},onClick:()=>i(!0),className:"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white px-6 py-3.5 rounded-2xl font-semibold flex items-center justify-center gap-2 shadow-lg shadow-blue-500/30 transition-all text-sm md:text-base w-full md:w-auto",children:[d.jsx($i,{className:"w-5 h-5"}),"New Subject"]})]}),d.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-12 md:gap-6 auto-rows-min",children:[d.jsx("div",{className:"lg:col-span-4 flex flex-col gap-4 md:gap-6 order-1",children:d.jsx("div",{children:d.jsx(iz,{})})}),d.jsx("div",{className:"md:col-span-full lg:col-span-4 h-full min-h-[400px] order-3 lg:order-2",children:d.jsx(az,{})}),d.jsxs("div",{className:"lg:col-span-4 flex flex-col gap-4 md:gap-6 order-2 lg:order-3",children:[d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl md:rounded-3xl p-5 md:p-6 border border-slate-100 dark:border-slate-700 shadow-sm relative overflow-hidden",children:[d.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-10",children:d.jsx(SU,{className:"w-24 h-24 text-blue-500"})}),d.jsxs("div",{className:"flex items-center justify-between relative z-10",children:[d.jsxs("div",{className:"flex-1 pr-4",children:[d.jsxs("h3",{className:"text-slate-500 dark:text-slate-400 font-medium mb-3 flex items-center gap-2 text-xs md:text-sm",children:[d.jsx(ia,{className:"w-4 h-4 text-amber-500"})," Syllabus Progress"]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-end justify-between mb-1.5",children:[d.jsxs("span",{className:"text-[10px] md:text-xs font-semibold text-slate-500",children:[c," / ",l," Chapters"]}),d.jsxs("span",{className:"text-[10px] md:text-xs font-bold text-blue-600 dark:text-blue-400",children:[Math.round(c/(l||1)*100),"%"]})]}),d.jsx("div",{className:"h-1 w-full bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden",children:d.jsx(Te.div,{initial:{width:0},animate:{width:`${c/(l||1)*100}%`},className:"h-full bg-blue-500 rounded-full"})})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-end justify-between mb-1.5",children:[d.jsx("span",{className:"text-[10px] md:text-xs font-semibold text-slate-500",children:"Total Completion"}),d.jsxs("span",{className:"text-[10px] md:text-xs font-bold text-emerald-600 dark:text-emerald-400",children:[m,"%"]})]}),d.jsx("div",{className:"h-1 w-full bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden",children:d.jsx(Te.div,{initial:{width:0},animate:{width:`${m}%`},className:"h-full bg-emerald-500 rounded-full"})})]})]})]}),d.jsxs("div",{className:"relative w-16 h-16 md:w-24 md:h-24 flex-shrink-0",children:[d.jsxs("svg",{className:"w-full h-full transform -rotate-90",viewBox:"0 0 100 100",children:[d.jsx("circle",{className:"text-slate-100 dark:text-slate-700",strokeWidth:"8",stroke:"currentColor",fill:"transparent",r:"40",cx:"50",cy:"50"}),d.jsx(Te.circle,{className:"text-blue-600 dark:text-blue-500",strokeWidth:"8",strokeDasharray:251.2,strokeDashoffset:251.2-251.2*m/100,strokeLinecap:"round",stroke:"currentColor",fill:"transparent",r:"40",cx:"50",cy:"50",initial:{strokeDashoffset:251.2},animate:{strokeDashoffset:251.2-251.2*m/100},transition:{duration:1.5,ease:"easeOut"}})]}),d.jsx("div",{className:"absolute top-0 left-0 w-full h-full flex items-center justify-center",children:d.jsxs("span",{className:"text-sm md:text-lg font-bold text-slate-800 dark:text-white",children:[m,"%"]})})]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-1 gap-4 md:gap-6 flex-1",children:[d.jsx(PN,{limit:3,className:"h-full"}),d.jsx(rz,{})]})]})]}),t.earnedBadges&&t.earnedBadges.length>0&&d.jsxs(Te.div,{variants:Zg,className:"bg-white dark:bg-slate-800 rounded-2xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm transition-colors",children:[d.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4 flex items-center gap-2",children:[d.jsx(ia,{className:"w-5 h-5 text-yellow-500"}),"Recent Achievements"]}),d.jsx("div",{className:"flex flex-wrap gap-4",children:t.earnedBadges.map((g,v)=>d.jsx(nz,{type:g.type,dateEarned:g.earnedAt},`${g.type}-${v}`))})]}),d.jsxs("div",{children:[d.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4 flex items-center gap-2 transition-colors",children:["Your Subjects",d.jsx("span",{className:"text-sm font-normal text-slate-400 dark:text-slate-500 bg-slate-100 dark:bg-slate-800 px-2 py-0.5 rounded-full",children:e.length})]}),e.length>0?d.jsxs(Te.div,{variants:ME,initial:"hidden",animate:"show",className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 md:gap-4",children:[e.map((g,v)=>d.jsx(Te.div,{variants:Zg,children:d.jsx(Z7,{subject:g,index:v})},g.id)),d.jsxs(Te.button,{variants:Zg,whileHover:{scale:1.02,backgroundColor:"rgba(239, 246, 255, 0.5)"},whileTap:{scale:.98},onClick:()=>i(!0),className:"group border-2 border-dashed border-slate-200 dark:border-slate-700 rounded-2xl p-6 flex flex-col items-center justify-center text-slate-400 dark:text-slate-500 hover:border-blue-400 dark:hover:border-blue-500 hover:text-blue-600 dark:hover:text-blue-400 transition-all cursor-pointer h-full min-h-[180px] w-full",children:[d.jsx("div",{className:"w-12 h-12 rounded-full bg-slate-100 dark:bg-slate-800 group-hover:bg-blue-100 dark:group-hover:bg-blue-900/20 flex items-center justify-center mb-3 transition-colors",children:d.jsx($i,{className:"w-6 h-6"})}),d.jsx("span",{className:"font-medium",children:"Add Another Subject"})]})]}):d.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-16 bg-white dark:bg-slate-800 rounded-2xl border border-dashed border-slate-200 dark:border-slate-700 transition-colors",children:[d.jsx("div",{className:"w-16 h-16 bg-slate-50 dark:bg-slate-700 rounded-full flex items-center justify-center mx-auto mb-4",children:d.jsx(TN,{className:"w-8 h-8 text-slate-300 dark:text-slate-500"})}),d.jsx("h3",{className:"text-lg font-semibold text-slate-700 dark:text-slate-200 mb-2",children:"No subjects yet"}),d.jsx("p",{className:"text-slate-500 dark:text-slate-400 max-w-sm mx-auto mb-6",children:"Start by adding the subjects you want to track to organize your study plan."}),d.jsx("button",{onClick:()=>i(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2.5 rounded-xl font-medium transition-all",children:"Add Your First Subject"})]})]}),n&&d.jsx(ez,{onClose:()=>i(!1)}),a&&d.jsx(sz,{})]})}function lz({subjectId:t,onClose:e}){const{addChapter:n}=Ht(),[i,a]=k.useState(""),l=c=>{c.preventDefault(),i.trim()&&(n(t,i.trim()),a(""))};return d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm animate-in fade-in duration-200",children:d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl w-full max-w-md overflow-hidden animate-in zoom-in-95 duration-200 transition-colors",children:[d.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-slate-100 dark:border-slate-700",children:[d.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white flex items-center gap-2 transition-colors",children:[d.jsx(TN,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),"Add Chapters"]}),d.jsx("button",{onClick:e,className:"p-2 text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full transition-colors",children:d.jsx(xi,{className:"w-5 h-5"})})]}),d.jsxs("form",{onSubmit:l,className:"p-6 space-y-4",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-1",children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 transition-colors",children:"Chapter Name / Topic"}),d.jsx("span",{className:"text-xs text-slate-400 dark:text-slate-500 transition-colors",children:"Press Enter to add & continue"})]}),d.jsx("input",{autoFocus:!0,type:"text",value:i,onChange:c=>a(c.target.value),placeholder:"e.g. Newton's Laws",className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all placeholder:text-slate-400 dark:placeholder:text-slate-500"})]}),d.jsxs("div",{className:"flex gap-3 pt-2",children:[d.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-3 border border-slate-200 dark:border-slate-600 text-slate-600 dark:text-slate-300 font-medium rounded-xl hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",children:"Done"}),d.jsxs("button",{type:"submit",disabled:!i.trim(),className:"flex-1 bg-blue-600 hover:bg-blue-700 dark:bg-blue-600 dark:hover:bg-blue-500 disabled:opacity-50 disabled:cursor-not-allowed text-white font-medium py-3 rounded-xl flex items-center justify-center gap-2 transition-all active:scale-[0.98]",children:[d.jsx($i,{className:"w-5 h-5"}),"Add"]})]})]})]})})}const cz={initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10}};function dm({children:t,className:e=""}){return d.jsx(Te.div,{variants:cz,initial:"initial",animate:"animate",exit:"exit",transition:{duration:.3,ease:"easeOut"},className:e,children:t})}const ON=k.createContext(void 0);function uz({children:t}){const[e,n]=k.useState(()=>typeof window<"u"?localStorage.getItem("sound-muted")==="true":!1),i=k.useRef(null);k.useEffect(()=>{localStorage.setItem("sound-muted",String(e))},[e]);const a=()=>{i.current||(i.current=new(window.AudioContext||window.webkitAudioContext)),i.current.state==="suspended"&&i.current.resume()},l=g=>{if(e)return;i.current||(i.current=new(window.AudioContext||window.webkitAudioContext));const v=i.current,x=v.createOscillator(),_=v.createGain();x.connect(_),_.connect(v.destination);const E=v.currentTime;switch(g){case"pop":x.type="sine",x.frequency.setValueAtTime(800,E),x.frequency.exponentialRampToValueAtTime(1200,E+.1),_.gain.setValueAtTime(.1,E),_.gain.exponentialRampToValueAtTime(.01,E+.1),x.start(E),x.stop(E+.1);break;case"success":c(v,523.25,E,.1,"sine"),c(v,659.25,E+.1,.1,"sine"),c(v,783.99,E+.2,.2,"sine");break;case"complete":x.type="triangle",x.frequency.setValueAtTime(440,E),x.frequency.linearRampToValueAtTime(880,E+.5),_.gain.setValueAtTime(.1,E),_.gain.linearRampToValueAtTime(.3,E+.2),_.gain.linearRampToValueAtTime(0,E+1.5),x.start(E),x.stop(E+1.5);break;case"click":x.type="square",x.frequency.setValueAtTime(200,E),_.gain.setValueAtTime(.05,E),_.gain.exponentialRampToValueAtTime(.01,E+.05),x.start(E),x.stop(E+.05);break;case"error":x.type="sawtooth",x.frequency.setValueAtTime(150,E),x.frequency.linearRampToValueAtTime(100,E+.2),_.gain.setValueAtTime(.1,E),_.gain.linearRampToValueAtTime(0,E+.3),x.start(E),x.stop(E+.3);break}},c=(g,v,x,_,E="sine")=>{const I=g.createOscillator(),j=g.createGain();I.connect(j),j.connect(g.destination),I.type=E,I.frequency.setValueAtTime(v,x),j.gain.setValueAtTime(.1,x),j.gain.exponentialRampToValueAtTime(.01,x+_),I.start(x),I.stop(x+_)},h=g=>{i.current?.state==="suspended"&&i.current.resume().catch(()=>{}),l(g)},m=()=>{n(g=>!g),e&&a()};return d.jsx(ON.Provider,{value:{isMuted:e,toggleMute:m,playSound:h},children:t})}function Yv(){const t=k.useContext(ON);if(t===void 0)throw new Error("useSound must be used within a SoundProvider");return t}function dz({subjectId:t,chapterId:e,topicId:n,currentName:i,onClose:a}){const{editTopic:l}=Ht(),[c,h]=k.useState(i);k.useEffect(()=>{h(i)},[i]);const m=g=>{g.preventDefault(),c.trim()&&(l(t,e,n,c.trim()),a())};return d.jsx(hs,{children:d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:d.jsxs(Te.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white dark:bg-slate-800 rounded-2xl w-full max-w-sm shadow-xl border border-slate-100 dark:border-slate-700 overflow-hidden",children:[d.jsxs("div",{className:"p-4 border-b border-slate-100 dark:border-slate-700 flex items-center justify-between bg-slate-50/50 dark:bg-slate-800/50",children:[d.jsx("h2",{className:"text-lg font-bold text-slate-800 dark:text-white",children:"Edit Topic"}),d.jsx("button",{onClick:a,className:"p-1 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 transition-colors rounded-full hover:bg-slate-100 dark:hover:bg-slate-700",children:d.jsx(xi,{className:"w-5 h-5"})})]}),d.jsxs("form",{onSubmit:m,className:"p-6 space-y-6",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Topic Name"}),d.jsxs("div",{className:"relative",children:[d.jsx(CN,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),d.jsx("input",{type:"text",value:c,onChange:g=>h(g.target.value),placeholder:"e.g. Algebra Basics",className:"w-full bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl py-3 pl-10 pr-4 text-slate-800 dark:text-white placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all",autoFocus:!0})]})]}),d.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[d.jsx("button",{type:"button",onClick:a,className:"px-4 py-2 text-slate-600 dark:text-slate-400 font-medium hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:"Cancel"}),d.jsx("button",{type:"submit",disabled:!c.trim(),className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg shadow-sm shadow-blue-500/20 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:"Save Changes"})]})]})]})})})}function hz({subjectId:t,chapterId:e,topic:n}){const{toggleTopic:i,deleteTopic:a}=Ht(),{playSound:l}=Yv(),[c,h]=k.useState(!1);return d.jsxs(d.Fragment,{children:[d.jsxs(Te.div,{layout:!0,initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:-10},className:"flex items-center gap-3 py-2 pl-4 pr-2 group/topic hover:bg-slate-50 dark:hover:bg-slate-700/50 rounded-lg transition-colors ml-8 border-l border-slate-100 dark:border-slate-700",children:[d.jsx(Te.button,{whileTap:{scale:.8},onClick:()=>{i(t,e,n.id),n.isCompleted||l("pop")},className:`flex-shrink-0 w-4 h-4 rounded-full border flex items-center justify-center transition-colors ${n.isCompleted?"border-emerald-500 bg-emerald-500 text-white":"border-slate-300 dark:border-slate-500 text-transparent hover:border-slate-400 dark:hover:border-slate-400"}`,children:d.jsx(ro,{className:"w-3 h-3"})}),d.jsx("span",{className:`flex-1 text-sm font-google-sans transition-all ${n.isCompleted?"text-slate-400 line-through":"text-slate-600 dark:text-slate-300"}`,children:n.name}),d.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover/topic:opacity-100 transition-opacity",children:[d.jsx("button",{onClick:()=>h(!0),className:"p-1.5 text-slate-300 hover:text-amber-500 dark:text-slate-600 dark:hover:text-amber-400 transition-all",title:"Edit Topic",children:d.jsx(Fu,{className:"w-3.5 h-3.5"})}),d.jsx("button",{onClick:()=>confirm("Delete this topic?")&&a(t,e,n.id),className:"p-1.5 text-slate-300 hover:text-red-500 dark:text-slate-600 dark:hover:text-red-400 transition-all",title:"Delete Topic",children:d.jsx(Hu,{className:"w-3.5 h-3.5"})})]})]}),c&&d.jsx(dz,{subjectId:t,chapterId:e,topicId:n.id,currentName:n.name,onClose:()=>h(!1)})]})}function fz({subjectId:t,chapterId:e,currentName:n,onClose:i}){const{editChapter:a}=Ht(),[l,c]=k.useState(n);k.useEffect(()=>{c(n)},[n]);const h=m=>{m.preventDefault(),l.trim()&&(a(t,e,l.trim()),i())};return d.jsx(hs,{children:d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:d.jsxs(Te.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white dark:bg-slate-800 rounded-2xl w-full max-w-md shadow-xl border border-slate-100 dark:border-slate-700 overflow-hidden",children:[d.jsxs("div",{className:"p-4 border-b border-slate-100 dark:border-slate-700 flex items-center justify-between bg-slate-50/50 dark:bg-slate-800/50",children:[d.jsx("h2",{className:"text-lg font-bold text-slate-800 dark:text-white",children:"Edit Chapter"}),d.jsx("button",{onClick:i,className:"p-1 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 transition-colors rounded-full hover:bg-slate-100 dark:hover:bg-slate-700",children:d.jsx(xi,{className:"w-5 h-5"})})]}),d.jsxs("form",{onSubmit:h,className:"p-6 space-y-6",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Chapter Name"}),d.jsxs("div",{className:"relative",children:[d.jsx(CN,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),d.jsx("input",{type:"text",value:l,onChange:m=>c(m.target.value),placeholder:"e.g. Differentiation",className:"w-full bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl py-3 pl-10 pr-4 text-slate-800 dark:text-white placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all",autoFocus:!0})]})]}),d.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[d.jsx("button",{type:"button",onClick:i,className:"px-4 py-2 text-slate-600 dark:text-slate-400 font-medium hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:"Cancel"}),d.jsx("button",{type:"submit",disabled:!l.trim(),className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg shadow-sm shadow-blue-500/20 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:"Save Changes"})]})]})]})})})}function mz({subjectId:t,chapter:e,isExpanded:n,onToggle:i}){const{deleteChapter:a,addTopic:l}=Ht(),[c,h]=k.useState(!1),[m,g]=k.useState(!1),v=x=>{x.preventDefault();const _=x.target.elements.namedItem("topicName");_.value.trim()&&(l(t,e.id,_.value.trim()),_.value="",h(!1))};return d.jsxs("div",{className:"group transition-colors",children:[d.jsxs("div",{className:`flex items-center gap-3 p-4 pr-14 relative hover:bg-slate-50/80 dark:hover:bg-slate-700/50 cursor-pointer transition-colors ${e.isCompleted?"bg-slate-50/30 dark:bg-slate-700/30":""}`,onClick:i,children:[d.jsx("button",{className:"p-1 text-slate-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:d.jsx(Te.div,{animate:{rotate:n?180:0},transition:{duration:.2},children:d.jsx(NU,{className:"w-5 h-5"})})}),d.jsxs("div",{className:"flex-1",children:[d.jsx("span",{className:`block font-bold text-lg transition-all ${e.isCompleted?"text-emerald-700 dark:text-emerald-400":"text-slate-800 dark:text-slate-200"}`,children:e.name}),d.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[d.jsxs("span",{className:"text-xs text-slate-400 dark:text-slate-500 font-medium whitespace-nowrap transition-colors",children:[e.topics?.filter(x=>x.isCompleted).length||0,"/",e.topics?.length||0," Topics",e.isCompleted&&d.jsxs("span",{className:"text-emerald-600 dark:text-emerald-400 ml-2 font-bold inline-flex items-center gap-1",children:[d.jsx(ro,{className:"w-3 h-3"})," Done"]})]}),e.topics&&e.topics.length>0&&d.jsx("div",{className:"h-1.5 w-24 bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden flex-shrink-0 transition-colors",children:d.jsx(Te.div,{initial:{width:0},animate:{width:`${Math.round(e.topics.filter(x=>x.isCompleted).length/e.topics.length*100)}%`},transition:{duration:.5,ease:"easeOut"},className:`h-full ${e.isCompleted?"bg-emerald-500":"bg-blue-500"}`})})]})]}),d.jsxs("div",{className:"flex items-center gap-2 absolute right-4 top-1/2 -translate-y-1/2",children:[d.jsx(Te.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:x=>{x.stopPropagation(),h(!0),n||i()},className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/30 dark:hover:text-blue-400 rounded-lg transition-colors",title:"Add Topic",children:d.jsx($i,{className:"w-4 h-4"})}),d.jsx(Te.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:x=>{x.stopPropagation(),g(!0)},className:"p-2 text-slate-400 hover:text-amber-500 hover:bg-amber-50 dark:hover:bg-amber-900/30 dark:hover:text-amber-400 rounded-lg transition-colors",title:"Edit Chapter",children:d.jsx(Fu,{className:"w-4 h-4"})}),d.jsx(Te.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:x=>{x.stopPropagation(),confirm("Delete this chapter?")&&a(t,e.id)},className:"p-2 text-slate-300 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/30 dark:hover:text-red-400 rounded-lg transition-colors",title:"Delete Chapter",children:d.jsx(Hu,{className:"w-4 h-4"})})]})]}),d.jsx(hs,{children:n&&d.jsx(Te.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2,ease:"easeInOut"},className:"overflow-hidden bg-slate-50/50 dark:bg-slate-800/50 transition-colors",children:d.jsxs("div",{className:"pb-2",children:[e.topics&&e.topics.length>0?e.topics.map(x=>d.jsx(hz,{subjectId:t,chapterId:e.id,topic:x},x.id)):d.jsx("div",{className:"pl-12 py-3 text-sm text-slate-400 italic",children:"No topics yet. Click + to add one."}),c&&d.jsxs(Te.form,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},onSubmit:v,className:"pl-12 pr-4 py-2 flex items-center gap-2",children:[d.jsx(VU,{className:"w-4 h-4 text-slate-300 dark:text-slate-500"}),d.jsx("input",{autoFocus:!0,name:"topicName",type:"text",placeholder:"Topic name...",className:"flex-1 bg-white dark:bg-slate-700 px-3 py-1.5 rounded-lg border border-slate-200 dark:border-slate-600 text-sm text-slate-800 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-colors",onBlur:()=>setTimeout(()=>h(!1),200)}),d.jsx("button",{type:"submit",className:"hidden",children:"Add"})]})]})})}),m&&d.jsx(fz,{subjectId:t,chapterId:e.id,currentName:e.name,onClose:()=>g(!1)})]})}function pz(){const{id:t}=EI(),e=Pf(),{subjects:n,deleteSubject:i}=Ht(),[a,l]=k.useState(!1),[c,h]=k.useState(!1),[m,g]=k.useState({}),v=n.find(V=>V.id===t);if(!v)return d.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[50vh] text-center p-8",children:[d.jsx("div",{className:"w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mb-4",children:d.jsx(us,{className:"w-8 h-8 text-slate-300"})}),d.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Subject Not Found"}),d.jsx(Jt,{to:"/",className:"mt-4 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Go Back Home"})]});const x=()=>{confirm(`Are you sure you want to delete ${v.name}? ALL progress will be lost.`)&&(i(v.id),e("/"))},_=V=>{g(F=>({...F,[V]:!F[V]}))},E=v.chapters.length,I=v.chapters.filter(V=>V.isCompleted).length;let j=0;v.chapters.forEach(V=>{V.topics&&V.topics.length>0?j+=V.topics.filter(F=>F.isCompleted).length/V.topics.length*100:j+=V.isCompleted?100:0});const D=E===0?0:Math.round(j/E);return d.jsxs(dm,{className:"max-w-3xl mx-auto pb-12",children:[d.jsxs("div",{className:"mb-8",children:[d.jsxs(Jt,{to:"/",className:"inline-flex items-center gap-2 text-slate-500 hover:text-slate-800 dark:text-slate-400 dark:hover:text-slate-200 mb-6 transition-colors group",children:[d.jsx(rU,{className:"w-4 h-4 group-hover:-translate-x-1 transition-transform"}),"Back to Dashboard"]}),d.jsxs("div",{className:"flex flex-col md:flex-row md:items-start justify-between gap-4",children:[d.jsxs("div",{children:[d.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1 rounded-full text-xs font-semibold text-white mb-3 ${v.color}`,children:[d.jsx(us,{className:"w-3 h-3"}),v.name]}),d.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-800 dark:text-white transition-colors",children:v.name}),d.jsxs("p",{className:"text-slate-500 dark:text-slate-400 mt-2 transition-colors",children:[I," of ",E," chapters completed"]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("button",{onClick:()=>h(!0),className:"text-slate-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/30 dark:hover:text-blue-400 p-2 rounded-lg transition-colors",title:"Edit Subject",children:d.jsx(Fu,{className:"w-5 h-5"})}),d.jsx("button",{onClick:x,className:"text-red-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/30 dark:hover:text-red-400 p-2 rounded-lg transition-colors",title:"Delete Subject",children:d.jsx(Hu,{className:"w-5 h-5"})})]})]}),d.jsxs("div",{className:"mt-6",children:[d.jsxs("div",{className:"flex justify-between items-end mb-2",children:[d.jsxs("span",{className:"text-3xl font-bold text-slate-800 dark:text-white transition-colors",children:[D,"%"]}),d.jsx("span",{className:"text-sm font-medium text-slate-400 dark:text-slate-500 transition-colors",children:"Progress"})]}),d.jsx("div",{className:"h-3 w-full bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden transition-colors",children:d.jsx(Te.div,{initial:{width:0},animate:{width:`${D}%`},transition:{duration:1,ease:"easeOut"},className:`h-full ${v.color}`})})]})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl border border-slate-100 dark:border-slate-700 shadow-sm overflow-hidden transition-colors",children:[d.jsxs("div",{className:"p-6 border-b border-slate-50 dark:border-slate-700 flex items-center justify-between bg-slate-50/50 dark:bg-slate-700/30 transition-colors",children:[d.jsx("h2",{className:"text-lg font-bold text-slate-800 dark:text-white transition-colors",children:"Syllabus / Chapters"}),d.jsxs(Te.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>l(!0),className:"bg-slate-900 hover:bg-slate-800 dark:bg-slate-700 dark:hover:bg-slate-600 text-white px-4 py-2 rounded-lg text-sm font-medium flex items-center gap-2 transition-colors",children:[d.jsx($i,{className:"w-4 h-4"}),"Add Chapter"]})]}),d.jsx("div",{className:"divide-y divide-slate-50 dark:divide-slate-700 transition-colors",children:v.chapters.length>0?v.chapters.map(V=>d.jsx(mz,{subjectId:v.id,chapter:V,isExpanded:!!m[V.id],onToggle:()=>_(V.id)},V.id)):d.jsxs("div",{className:"p-12 text-center",children:[d.jsx("div",{className:"w-16 h-16 bg-slate-50 dark:bg-slate-700/50 rounded-full flex items-center justify-center mx-auto mb-3 transition-colors",children:d.jsx(us,{className:"w-6 h-6 text-slate-300 dark:text-slate-500"})}),d.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-4 transition-colors",children:"No chapters added yet."}),d.jsx("button",{onClick:()=>l(!0),className:"text-blue-600 dark:text-blue-400 font-medium hover:underline transition-colors",children:"Add your first chapter"})]})})]}),a&&d.jsx(lz,{subjectId:v.id,onClose:()=>l(!1)}),c&&d.jsx(Kv,{subject:v,onClose:()=>h(!1)})]})}const LN=k.createContext(void 0);function gz({children:t}){const[e,n]=k.useState(()=>typeof window<"u"&&localStorage.getItem("theme")?localStorage.getItem("theme"):typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");k.useEffect(()=>{const a=window.document.documentElement;a.classList.remove("light","dark"),a.classList.add(e),localStorage.setItem("theme",e)},[e]);const i=()=>{n(a=>a==="light"?"dark":"light")};return d.jsx(LN.Provider,{value:{theme:e,toggleTheme:i},children:t})}function UN(){const t=k.useContext(LN);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t}function yz({onClose:t}){const[e,n]=k.useState(ou[0].id),[i,a]=k.useState(new Set),l=ou.find(m=>m.id===e),c=m=>{const g=new Set(i);g.has(m)?g.delete(m):g.add(m),a(g)},h=()=>{if(l)if(i.size===l.subjects.length)a(new Set);else{const m=new Set(l.subjects.map(g=>g.name));a(m)}};return d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm animate-in fade-in duration-200",children:d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl w-full max-w-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[d.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-slate-100 dark:border-slate-700",children:[d.jsxs("div",{children:[d.jsxs("h3",{className:"text-xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[d.jsx(us,{className:"w-6 h-6 text-blue-600"}),"Import Syllabus"]}),d.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:"Select a curriculum to quick-start your study plan."})]}),d.jsx("button",{onClick:t,className:"p-2 text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full transition-colors",children:d.jsx(xi,{className:"w-5 h-5"})})]}),d.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col md:flex-row",children:[d.jsxs("div",{className:"w-full md:w-48 bg-slate-50 dark:bg-slate-900/50 border-r border-slate-100 dark:border-slate-700 p-4",children:[d.jsx("h4",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider mb-3",children:"Curriculums"}),d.jsx("div",{className:"space-y-2",children:ou.map(m=>d.jsx("button",{onClick:()=>{n(m.id),a(new Set)},className:`w-full text-left px-3 py-2 rounded-lg text-sm font-medium transition-colors ${e===m.id?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400":"text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800"}`,children:m.name},m.id))})]}),d.jsxs("div",{className:"flex-1 p-6 overflow-y-auto",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsxs("h4",{className:"font-semibold text-slate-800 dark:text-white",children:[l?.name," Subjects"]}),d.jsx("button",{onClick:h,className:"text-xs font-medium text-blue-600 dark:text-blue-400 hover:underline",children:i.size===l?.subjects.length?"Deselect All":"Select All"})]}),d.jsx("div",{className:"space-y-3",children:l?.subjects.map(m=>d.jsxs("div",{onClick:()=>c(m.name),className:`relative flex items-start gap-4 p-4 rounded-xl border cursor-pointer transition-all ${i.has(m.name)?"border-blue-500 bg-blue-50/50 dark:bg-blue-900/10":"border-slate-200 dark:border-slate-700 hover:border-slate-300 dark:hover:border-slate-600"}`,children:[d.jsx("div",{className:`mt-1 flex-shrink-0 w-5 h-5 rounded border flex items-center justify-center transition-colors ${i.has(m.name)?"bg-blue-500 border-blue-500":"bg-white dark:bg-slate-800 border-slate-300 dark:border-slate-600"}`,children:i.has(m.name)&&d.jsx(EN,{className:"w-3.5 h-3.5 text-white"})}),d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[d.jsx("span",{className:`font-semibold ${i.has(m.name)?"text-blue-700 dark:text-blue-300":"text-slate-700 dark:text-slate-300"}`,children:m.name}),d.jsxs("span",{className:"text-xs px-2 py-0.5 rounded-full bg-slate-100 dark:bg-slate-700 text-slate-500",children:[m.chapters.length," Chapters"]})]}),d.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 line-clamp-1",children:[m.chapters.slice(0,3).map(g=>g.name).join(", "),"..."]})]})]},m.name))})]})]}),d.jsxs("div",{className:"p-6 border-t border-slate-100 dark:border-slate-700 flex justify-end gap-3 bg-slate-50/50 dark:bg-slate-900/50",children:[d.jsx("button",{onClick:t,className:"px-5 py-2.5 rounded-xl font-medium text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors",children:"Cancel"}),d.jsx(vz,{count:i.size,currentTemplate:l,selectedSubjects:i,onClose:t})]})]})})}function vz({count:t,currentTemplate:e,selectedSubjects:n,onClose:i}){const{importSyllabusData:a}=Ht(),l=()=>{if(t===0||!e)return;const c=e.subjects.filter(h=>n.has(h.name));a(c),i()};return d.jsxs("button",{onClick:l,disabled:t===0,className:"px-6 py-2.5 rounded-xl font-medium bg-blue-600 hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed text-white shadow-lg shadow-blue-500/20 transition-all active:scale-95 flex items-center gap-2",children:[d.jsx($v,{className:"w-4 h-4"}),"Import ",t>0?`${t} Subjects`:""]})}function xz(){const{user:t,logout:e}=tr(),{userProfile:n,updateProfile:i,resetData:a,exportData:l,importData:c}=Ht(),{isMuted:h,toggleMute:m}=Yv(),{theme:g,toggleTheme:v}=UN(),x=k.useRef(null),_=k.useRef(null),[E,I]=k.useState(!1),[j,D]=k.useState(!1),[V,F]=k.useState("Notification"in window&&Notification.permission==="granted"),$=um(),J=()=>{const S=x.current?.value.trim()||"",C=_.current?.value.trim()||"";if(!S){$.error("Please enter your name");return}i({name:S,grade:C}),D(!1),$.success("Profile updated successfully!")},se=()=>{const S=document.createElement("input");S.type="file",S.accept=".json",S.onchange=C=>{const z=C.target.files?.[0];if(z){const U=new FileReader;U.onload=G=>{const M=G.target?.result;c(M)&&alert("Data imported successfully!")},U.readAsText(z)}},S.click()},de=()=>{confirm("Do you want to restart the welcome tour?")&&(localStorage.removeItem("tracked_tour_completed"),window.location.reload())},R=async()=>{if(!("Notification"in window)){alert("This browser does not support desktop notifications");return}if(Notification.permission==="granted")F(!V);else if(Notification.permission!=="denied"){const S=await Notification.requestPermission();F(S==="granted")}else alert("Notifications are blocked. Please enable them in your browser settings.")};return d.jsxs(dm,{className:"max-w-2xl mx-auto space-y-8 pb-10",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[d.jsx(ty,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"}),d.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-white transition-colors",children:"Settings"})]}),d.jsxs(Te.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden transition-colors",children:[d.jsx("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700",children:d.jsxs("h2",{className:"text-lg font-semibold text-slate-800 dark:text-white flex items-center gap-2",children:[d.jsx(ty,{className:"w-5 h-5 text-blue-500"}),"Profile Information"]})}),d.jsxs("div",{className:"p-6 space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1 transition-colors",children:"Student Name"}),d.jsx("input",{ref:x,type:"text",defaultValue:n?.name||"",disabled:!j,className:`w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all placeholder:text-slate-400 dark:placeholder:text-slate-500 ${j?"":"opacity-60 cursor-not-allowed bg-slate-50 dark:bg-slate-800/50"}`,placeholder:"Enter your name"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1 transition-colors",children:"Class / Grade"}),d.jsx("input",{ref:_,type:"text",defaultValue:n?.grade||"",disabled:!j,className:`w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all placeholder:text-slate-400 dark:placeholder:text-slate-500 ${j?"":"opacity-60 cursor-not-allowed bg-slate-50 dark:bg-slate-800/50"}`,placeholder:"e.g. HSC 2026"})]})]}),d.jsx("div",{className:"pt-2 flex gap-3",children:j?d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:()=>D(!1),className:"px-5 py-2.5 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-200 font-medium rounded-lg hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors text-sm",children:"Cancel"}),d.jsxs("button",{onClick:J,className:"px-5 py-2.5 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition-colors flex items-center gap-2 text-sm shadow-sm",children:[d.jsx(jf,{className:"w-4 h-4"}),"Save Changes"]})]}):d.jsxs("button",{onClick:()=>D(!0),className:"px-5 py-2.5 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-200 font-medium rounded-lg hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors flex items-center gap-2 text-sm",children:[d.jsx(RE,{className:"w-4 h-4"}),"Edit Profile"]})})]})]}),d.jsxs(Te.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden transition-colors",children:[d.jsx("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700",children:d.jsxs("h2",{className:"text-lg font-semibold text-slate-800 dark:text-white flex items-center gap-2",children:[d.jsx(a7,{className:"w-5 h-5 text-purple-500"}),"Appearance & Preferences"]})}),d.jsxs("div",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:[d.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:`p-2 rounded-lg ${g==="dark"?"bg-slate-700 text-slate-300":"bg-orange-100 text-orange-600"}`,children:g==="dark"?d.jsx(If,{className:"w-5 h-5"}):d.jsx(ny,{className:"w-5 h-5"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"App Theme"}),d.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Switch between light and dark mode"})]})]}),d.jsx("button",{onClick:v,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${g==="dark"?"bg-blue-600":"bg-slate-200"}`,children:d.jsx("span",{className:`${g==="dark"?"translate-x-6":"translate-x-1"} inline-block h-4 w-4 transform rounded-full bg-white transition-transform`})})]}),d.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:`p-2 rounded-lg ${h?"bg-slate-100 dark:bg-slate-700 text-slate-400":"bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400"}`,children:h?d.jsx(DN,{className:"w-5 h-5"}):d.jsx(jN,{className:"w-5 h-5"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"Sound Effects"}),d.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Play sounds for timer and interactions"})]})]}),d.jsx("button",{onClick:m,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${h?"bg-slate-200 dark:bg-slate-600":"bg-blue-600"}`,children:d.jsx("span",{className:`${h?"translate-x-1":"translate-x-6"} inline-block h-4 w-4 transform rounded-full bg-white transition-transform`})})]}),d.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:`p-2 rounded-lg ${V?"bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400":"bg-slate-100 dark:bg-slate-700 text-slate-400"}`,children:V?d.jsx(fU,{className:"w-5 h-5"}):d.jsx(dU,{className:"w-5 h-5"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"Notifications"}),d.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Get reminders for study sessions"})]})]}),d.jsx("button",{onClick:R,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${V?"bg-blue-600":"bg-slate-200 dark:bg-slate-600"}`,children:d.jsx("span",{className:`${V?"translate-x-6":"translate-x-1"} inline-block h-4 w-4 transform rounded-full bg-white transition-transform`})})]}),d.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"p-2 rounded-lg bg-pink-100 dark:bg-pink-900/30 text-pink-600 dark:text-pink-400",children:d.jsx(KU,{className:"w-5 h-5"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"Language"}),d.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"App language preference"})]})]}),d.jsxs("select",{className:"bg-transparent border border-slate-200 dark:border-slate-600 rounded-lg text-sm px-2 py-1 text-slate-700 dark:text-slate-300 focus:ring-2 focus:ring-blue-500 outline-none",children:[d.jsx("option",{children:"English"}),d.jsx("option",{disabled:!0,children:"Bengali (Coming Soon)"})]})]})]})]}),d.jsxs(Te.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden transition-colors",children:[d.jsx("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700",children:d.jsxs("h2",{className:"text-lg font-semibold text-slate-800 dark:text-white flex items-center gap-2",children:[d.jsx(jf,{className:"w-5 h-5 text-green-500"}),"Data & Backup"]})}),d.jsxs("div",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:[d.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors cursor-pointer",onClick:()=>I(!0),children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"p-2 rounded-lg bg-indigo-100 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400",children:d.jsx(us,{className:"w-5 h-5"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"Import Syllabus Template"}),d.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Quickly add pre-made subject templates"})]})]}),d.jsx("button",{className:"text-slate-400",children:d.jsx(RE,{className:"w-4 h-4"})})]}),d.jsxs("div",{className:"p-4 grid grid-cols-2 gap-4",children:[d.jsxs("button",{onClick:l,className:"flex items-center justify-center gap-2 py-2.5 border border-slate-200 dark:border-slate-600 rounded-lg text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors text-sm font-medium",children:[d.jsx($v,{className:"w-4 h-4"}),"Export Data"]}),d.jsxs("button",{onClick:se,className:"flex items-center justify-center gap-2 py-2.5 border border-slate-200 dark:border-slate-600 rounded-lg text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors text-sm font-medium",children:[d.jsx(F7,{className:"w-4 h-4"}),"Import Data"]})]}),d.jsx("div",{className:"p-4 bg-red-50/50 dark:bg-red-900/10",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"p-2 rounded-lg bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400",children:d.jsx(Hu,{className:"w-5 h-5"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-red-700 dark:text-red-400 font-medium",children:"Reset Application"}),d.jsx("p",{className:"text-xs text-red-600/70 dark:text-red-400/70",children:"Permanently delete all study data"})]})]}),d.jsx("button",{onClick:()=>{confirm("Are you absolutely sure? This cannot be undone.")&&a()},className:"px-4 py-2 bg-white dark:bg-slate-800 border border-red-200 dark:border-red-800 text-red-600 dark:text-red-400 font-medium rounded-lg hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors text-xs shadow-sm",children:"Reset Data"})]})})]})]}),d.jsxs(Te.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden transition-colors",children:[d.jsx("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700",children:d.jsxs("h2",{className:"text-lg font-semibold text-slate-800 dark:text-white flex items-center gap-2",children:[d.jsx(R7,{className:"w-5 h-5 text-gray-500"}),"Support & Info"]})}),d.jsxs("div",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:[d.jsx("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors cursor-pointer",onClick:de,children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"p-2 rounded-lg bg-cyan-100 dark:bg-cyan-900/30 text-cyan-600 dark:text-cyan-400",children:d.jsx(RN,{className:"w-5 h-5"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"Restart Welcome Tour"}),d.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Show the onboarding guide again"})]})]})}),d.jsx("a",{href:"https://chat.whatsapp.com/K9mUpCp6Moo4poVbW5zgfr",target:"_blank",rel:"noopener noreferrer",className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"p-2 rounded-lg bg-orange-100 dark:bg-orange-900/30 text-orange-600 dark:text-orange-400",children:d.jsx(xU,{className:"w-5 h-5"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"Report a Bug"}),d.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Report issues via our WhatsApp group"})]})]})}),d.jsx("a",{href:"https://chat.whatsapp.com/K9mUpCp6Moo4poVbW5zgfr",target:"_blank",rel:"noopener noreferrer",className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"p-2 rounded-lg bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400",children:d.jsx(NN,{className:"w-5 h-5"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"Join WhatsApp Group"}),d.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Get help & discuss with community"})]})]})}),d.jsx("div",{className:"p-4 bg-slate-50 dark:bg-slate-800/50 flex items-center justify-center rounded-2xl",children:d.jsx("p",{className:"text-xs text-slate-400 font-medium",children:"TrackEd v1.0.0  Made with  for Students"})})]})]}),t&&d.jsxs(Te.button,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},onClick:e,className:"w-full p-4 rounded-xl border border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-400 font-medium hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors flex items-center justify-center gap-2",children:[d.jsx(Rf,{className:"w-5 h-5"}),"Sign Out"]}),d.jsx(hs,{children:E&&d.jsx(yz,{onClose:()=>I(!1)})})]})}function Ih({title:t,value:e,icon:n,colorClass:i,bgClass:a,delay:l=0}){return d.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:l,type:"spring"},className:"bg-white dark:bg-slate-800 rounded-2xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm flex items-center justify-between transition-colors",children:[d.jsxs("div",{children:[d.jsxs("h3",{className:"text-slate-400 dark:text-slate-400 font-medium text-sm flex items-center gap-1.5 mb-2",children:[d.jsx(n,{className:`w-4 h-4 ${i}`})," ",t]}),d.jsx("div",{className:"text-3xl font-bold text-slate-800 dark:text-white transition-colors",children:e})]}),d.jsx("div",{className:`w-12 h-12 ${a} rounded-full flex items-center justify-center transition-colors`,children:d.jsx(n,{className:`w-6 h-6 ${i}`})})]})}function bz(t){let e=0,n=0,i=0,a=0;return t.forEach(l=>{e+=l.chapters.length,l.chapters.forEach(c=>{c.isCompleted&&n++,c.topics&&(i+=c.topics.length,c.topics.forEach(h=>{h.isCompleted&&a++}))})}),{totalChapters:e,completedChapters:n,totalTopics:i,completedTopics:a}}function _z(t){const e=new Date,i=Array.from({length:7},(l,c)=>{const h=new Date;return h.setDate(e.getDate()-(6-c)),h.toISOString().split("T")[0]}).map(l=>{let c=0;return t.forEach(h=>{h.chapters.forEach(m=>{m.topics&&m.topics.forEach(g=>{g.isCompleted&&g.completedAt&&g.completedAt.startsWith(l)&&c++})})}),{date:l,count:c}}),a=Math.max(...i.map(l=>l.count),1);return{activityData:i,maxCount:a}}function wz(t){const e=new Set;t.forEach(h=>h.chapters.forEach(m=>m.topics?.forEach(g=>{g.isCompleted&&g.completedAt&&e.add(g.completedAt.split("T")[0])})));const n=Array.from(e).sort((h,m)=>new Date(m).getTime()-new Date(h).getTime());let i=0;const a=new Date().toISOString().split("T")[0],l=new Date;l.setDate(l.getDate()-1);const c=l.toISOString().split("T")[0];if(n.length>0){const h=n[0];if(h===a||h===c){i=1;let m=new Date(h);for(let g=1;g<n.length;g++){const v=new Date(n[g]),x=Math.abs(m.getTime()-v.getTime());if(Math.round(x/(1e3*60*60*24))===1)i++,m=v;else break}}}return i}function Tz(){const{subjects:t}=Ht(),{totalChapters:e,completedChapters:n,totalTopics:i,completedTopics:a}=bz(t),{activityData:l,maxCount:c}=_z(t),h=wz(t),m=i>0?Math.round(a/i*100):0,g={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}};return d.jsxs(dm,{className:"max-w-4xl mx-auto pb-12",children:[d.jsxs("h1",{className:"text-3xl font-bold text-slate-800 dark:text-white mb-8 flex items-center gap-3 transition-colors",children:[d.jsx(Df,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"}),"Study Analytics"]}),d.jsxs(Te.div,{variants:g,initial:"hidden",animate:"show",className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[d.jsx("div",{className:"sm:col-span-1",children:d.jsx(Ih,{title:"Total Streak",value:`${h} days`,icon:wN,colorClass:"text-orange-500",bgClass:"bg-orange-50 dark:bg-orange-900/20",delay:.1})}),d.jsx("div",{className:"sm:col-span-1",children:d.jsx(Ih,{title:"Topics Done",value:`${a} / ${i}`,icon:us,colorClass:"text-blue-500",bgClass:"bg-blue-50 dark:bg-blue-900/20",delay:.2})}),d.jsx("div",{className:"sm:col-span-1",children:d.jsx(Ih,{title:"Chapters Done",value:`${n} / ${e}`,icon:ia,colorClass:"text-amber-500",bgClass:"bg-amber-50 dark:bg-amber-900/20",delay:.3})}),d.jsx("div",{className:"sm:col-span-1",children:d.jsx(Ih,{title:"Completion",value:`${m}%`,icon:ro,colorClass:"text-emerald-500",bgClass:"bg-emerald-50 dark:bg-emerald-900/20",delay:.4})})]}),d.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[d.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"md:col-span-2 bg-white dark:bg-slate-800 p-6 rounded-3xl border border-slate-100 dark:border-slate-700 shadow-sm transition-colors",children:[d.jsxs("h2",{className:"text-lg font-bold text-slate-800 dark:text-white mb-6 flex items-center gap-2 transition-colors",children:[d.jsx(TU,{className:"w-5 h-5 text-slate-400"}),"Last 7 Days Activity"]}),d.jsx("div",{className:"flex items-end justify-between gap-2 h-48",children:l.map((v,x)=>d.jsxs("div",{className:"flex-1 flex flex-col items-center gap-2 group",children:[d.jsx("div",{className:"w-full bg-slate-100 dark:bg-slate-700 rounded-t-lg relative h-full flex items-end overflow-hidden transition-colors",children:d.jsx(Te.div,{initial:{height:0},animate:{height:`${v.count/c*100}%`},transition:{duration:1,delay:x*.1,ease:"easeOut"},className:"w-full bg-blue-500 dark:bg-blue-600 rounded-t-lg transition-colors duration-300 group-hover:bg-blue-600 dark:group-hover:bg-blue-500 relative",children:d.jsxs("div",{className:"absolute -top-8 left-1/2 -translate-x-1/2 bg-slate-800 text-white text-xs py-1 px-2 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10",children:[v.count," Topics"]})})}),d.jsx("span",{className:"text-xs text-slate-400 dark:text-slate-500 font-medium transition-colors",children:new Date(v.date).toLocaleDateString("en-US",{weekday:"short"})})]},v.date))})]}),d.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white dark:bg-slate-800 p-6 rounded-3xl border border-slate-100 dark:border-slate-700 shadow-sm transition-colors",children:[d.jsxs("h2",{className:"text-lg font-bold text-slate-800 dark:text-white mb-6 flex items-center gap-2 transition-colors",children:[d.jsx(us,{className:"w-5 h-5 text-slate-400"}),"Subject Progress"]}),d.jsxs("div",{className:"space-y-4 max-h-[300px] overflow-y-auto pr-2 custom-scrollbar",children:[t.map(v=>{const x=v.chapters.reduce((I,j)=>I+(j.topics?.length||0),0),_=v.chapters.reduce((I,j)=>I+(j.topics?.filter(D=>D.isCompleted).length||0),0),E=x>0?Math.round(_/x*100):0;return d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-1",children:[d.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 transition-colors",children:v.name}),d.jsxs("span",{className:"text-xs text-slate-400 dark:text-slate-500 transition-colors",children:[E,"%"]})]}),d.jsx("div",{className:"h-2 bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden transition-colors",children:d.jsx(Te.div,{initial:{width:0},animate:{width:`${E}%`},transition:{duration:1,ease:"easeOut"},className:`h-full ${v.color}`})})]},v.id)}),t.length===0&&d.jsx("div",{className:"text-center text-slate-400 text-sm py-8",children:"No subjects added."})]})]})]})]})}function Ez(){const t=um(),{saveStudySession:e,subjects:n}=Ht(),{user:i}=tr(),{playSound:a,isMuted:l,toggleMute:c}=Yv(),[h,m]=k.useState("stopwatch"),[g,v]=k.useState(!1),[x,_]=k.useState(0),[E,I]=k.useState(0),[j,D]=k.useState(30),[V,F]=k.useState("timer"),[$,J]=k.useState("today"),[se,de]=k.useState(""),[R,S]=k.useState(""),[C,z]=k.useState(""),[U,G]=k.useState(!1),[M,Be]=k.useState([]),[Y,O]=k.useState(!0),q=k.useRef(null);k.useEffect(()=>{Notification.permission==="default"&&Notification.requestPermission()},[]);const H=(pe,De)=>{Notification.permission==="granted"&&new Notification(pe,{body:De,icon:"/vite.svg"})};k.useEffect(()=>(g?q.current=window.setInterval(()=>{_(pe=>h==="stopwatch"?pe+1:pe<=1?(v(!1),a("complete"),H("Time's Up! ","Your study session is complete. Take a break!"),0):pe-1)},1e3):q.current&&clearInterval(q.current),()=>{q.current&&clearInterval(q.current)}),[g,h,a]),k.useEffect(()=>{if(v(!1),G(!1),h==="stopwatch")_(0),I(0);else if(h==="pomodoro"||h==="countdown"){const pe=j*60;_(pe),I(pe)}},[h,j]),k.useEffect(()=>{(async()=>{if(i){O(!0);try{const De=Yr(hi,"users");let bt="userProfile.todayStudyTime";$==="week"?bt="userProfile.weeklyStudyTime":$==="month"?bt="userProfile.monthlyStudyTime":$==="all_time"&&(bt="userProfile.totalStudyTime");const en=Bu(De,om(bt,"desc"),lm(10)),jn=await mN(en),bi=[];jn.forEach(Dn=>{const Gn=Dn.data();if(Gn.userProfile){let Mn=0;$==="today"?Mn=Gn.userProfile.todayStudyTime||0:$==="week"?Mn=Gn.userProfile.weeklyStudyTime||0:$==="month"?Mn=Gn.userProfile.monthlyStudyTime||0:Mn=Gn.userProfile.totalStudyTime||0,bi.push({userId:Dn.id,userName:Gn.userProfile.name||"Anonymous",displayTime:Mn})}}),Be(bi)}catch(De){console.error("Error fetching leaderboard:",De)}finally{O(!1)}}})()},[i,V,$]),k.useEffect(()=>(g?document.title=`${ne(x)} - ${C||(h==="pomodoro"?"Focus":"Timer")}`:document.title="Study Tracker",()=>{document.title="Study Tracker"}),[g,x,h,C]);const ae=()=>{!g&&h!=="stopwatch"&&x===0&&_(E),v(!g),a("click")},fe=()=>{v(!1),G(!1),_(h==="stopwatch"?0:E),a("click")},P=async()=>{if(!R){t.error("Please select a subject to save session.");return}let pe=0;if(h==="stopwatch"?pe=x:pe=E-x,pe<60){t.error("Session must be at least 1 minute to save.");return}await e(pe,R,C),G(!0),a("success"),t.success("Session Saved! Great Job.")},ne=pe=>{const De=Math.floor(pe/3600),bt=Math.floor(pe%3600/60),en=pe%60;return De>0?`${De}:${bt.toString().padStart(2,"0")}:${en.toString().padStart(2,"0")}`:`${bt.toString().padStart(2,"0")}:${en.toString().padStart(2,"0")}`},ue=pe=>{const De=Math.floor(pe/3600),bt=Math.floor(pe%3600/60),en=pe%60;return`${De.toString().padStart(2,"0")}:${bt.toString().padStart(2,"0")}:${en.toString().padStart(2,"0")}`},he=h==="stopwatch"?100:Math.max(0,x/E*100),Se=120,Ie=2*Math.PI*Se,Ae=Ie-he/100*Ie;return d.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[d.jsxs("header",{className:"flex items-center justify-between",children:[d.jsx("div",{children:d.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-slate-900 dark:text-white transition-colors",children:"Focus Timer"})}),d.jsx("button",{onClick:c,className:"p-2 text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 transition-colors",children:l?d.jsx(DN,{className:"w-6 h-6"}):d.jsx(jN,{className:"w-6 h-6"})})]}),d.jsxs("div",{className:"flex p-1 bg-slate-100 dark:bg-slate-800 rounded-xl mb-6 md:hidden",children:[d.jsx("button",{onClick:()=>F("timer"),className:`flex-1 py-2 text-sm font-medium rounded-lg transition-all ${V==="timer"?"bg-white dark:bg-slate-700 text-blue-600 dark:text-blue-400 shadow-sm":"text-slate-500 dark:text-slate-400"}`,children:"Timer"}),d.jsx("button",{onClick:()=>F("leaderboard"),className:`flex-1 py-2 text-sm font-medium rounded-lg transition-all ${V==="leaderboard"?"bg-white dark:bg-slate-700 text-blue-600 dark:text-blue-400 shadow-sm":"text-slate-500 dark:text-slate-400"}`,children:"Leaderboard"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[d.jsxs("div",{className:`${V==="timer"?"block":"hidden"} md:block flex flex-col space-y-6`,children:[d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 transition-colors",children:[d.jsx("label",{className:"block text-sm font-medium text-slate-500 mb-2",children:"My Focus Goal"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("input",{type:"text",placeholder:"What are you working on? (e.g. Physics Chapter 3)",className:"flex-1 bg-slate-50 dark:bg-slate-700 border-none rounded-xl px-4 py-3 text-slate-800 dark:text-white placeholder:text-slate-400 focus:ring-2 focus:ring-blue-500 transition-all font-medium",value:C,onChange:pe=>z(pe.target.value),disabled:g}),d.jsxs("select",{className:"w-1/3 bg-slate-50 dark:bg-slate-700 border-none rounded-xl px-3 py-3 text-slate-600 dark:text-slate-300 font-medium focus:ring-2 focus:ring-blue-500 cursor-pointer text-sm",value:R,onChange:pe=>S(pe.target.value),disabled:g,children:[d.jsx("option",{value:"",children:"Subject"}),n.map(pe=>d.jsx("option",{value:pe.id,children:pe.name},pe.id))]})]})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl p-8 shadow-sm border border-slate-100 dark:border-slate-700 flex flex-col items-center justify-center relative overflow-hidden transition-colors min-h-[400px]",children:[d.jsxs("div",{className:"relative w-64 h-64 md:w-72 md:h-72 mb-8 flex items-center justify-center",children:[d.jsxs("svg",{className:"w-full h-full transform -rotate-90",children:[d.jsx("circle",{cx:"50%",cy:"50%",r:Se,stroke:"currentColor",strokeWidth:"12",fill:"transparent",className:"text-slate-100 dark:text-slate-700"}),d.jsx("circle",{cx:"50%",cy:"50%",r:Se,stroke:"currentColor",strokeWidth:"12",fill:"transparent",strokeDasharray:Ie,strokeDashoffset:h==="stopwatch"?0:Ae,strokeLinecap:"round",className:`transition-all duration-1000 ease-linear ${g?h==="pomodoro"?"text-rose-500":"text-blue-500":"text-slate-300 dark:text-slate-600"}`})]}),d.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center z-10",children:[d.jsx("div",{className:`text-5xl md:text-6xl font-bold tracking-tight tabular-nums mb-2 ${g?h==="pomodoro"?"text-rose-500":"text-blue-600":"text-slate-800 dark:text-white"}`,children:ne(x)}),d.jsx("div",{className:"text-slate-400 dark:text-slate-500 font-medium uppercase tracking-widest text-sm",children:g?"Running":"Paused"})]})]}),d.jsxs("div",{className:"flex items-center gap-6 z-10",children:[!g&&d.jsx("button",{onClick:fe,className:"p-3 rounded-full bg-slate-100 dark:bg-slate-700 text-slate-500 hover:bg-slate-200 dark:hover:bg-slate-600 transition-all hover:scale-110",title:"Reset",children:d.jsx(RN,{className:"w-5 h-5"})}),d.jsx("button",{onClick:ae,className:`p-6 rounded-full shadow-xl transition-all hover:scale-105 active:scale-95 ${g?"bg-amber-100 text-amber-600 hover:bg-amber-200":"bg-blue-600 text-white hover:bg-blue-700"}`,children:g?d.jsx(c7,{className:"w-8 h-8 fill-current"}):d.jsx(p7,{className:"w-8 h-8 ml-1 fill-current"})}),!g&&(h==="stopwatch"&&x>60||h!=="stopwatch"&&x!==E)&&!U&&d.jsx("button",{onClick:P,className:"p-3 rounded-full bg-emerald-100 text-emerald-600 hover:bg-emerald-200 transition-all hover:scale-110 animate-pulse",title:"Save Session",children:d.jsx(jf,{className:"w-5 h-5"})})]}),d.jsxs("div",{className:"mt-8 flex gap-2",children:[d.jsx("button",{onClick:()=>{m("stopwatch"),D(0)},className:`px-4 py-2 text-sm font-medium rounded-full transition-all ${h==="stopwatch"?"bg-blue-100 text-blue-700":"text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:"Stopwatch"}),d.jsx("button",{onClick:()=>{m("pomodoro"),D(25)},className:`px-4 py-2 text-sm font-medium rounded-full transition-all ${h==="pomodoro"?"bg-rose-100 text-rose-700":"text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:"Pomodoro"}),d.jsx("button",{onClick:()=>{m("countdown"),D(30)},className:`px-4 py-2 text-sm font-medium rounded-full transition-all ${h==="countdown"?"bg-amber-100 text-amber-700":"text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:"Countdown"})]}),!g&&(h==="pomodoro"||h==="countdown")&&d.jsxs("div",{className:"mt-4 flex items-center gap-2 animate-in fade-in slide-in-from-bottom-2",children:[d.jsx("span",{className:"text-slate-400 text-sm",children:"Duration:"}),d.jsx("input",{type:"range",min:"5",max:"120",step:"5",value:j,onChange:pe=>D(Number(pe.target.value)),className:"w-32 accent-blue-600 cursor-pointer"}),d.jsxs("span",{className:"text-slate-700 dark:text-slate-300 font-bold w-12 text-center",children:[j,"m"]})]})]})]}),d.jsxs("div",{className:`${V==="leaderboard"?"block":"hidden"} md:block bg-white dark:bg-slate-800 rounded-3xl p-6 shadow-xl border border-slate-100 dark:border-slate-700 h-fit transition-colors sticky top-24`,children:[d.jsxs("div",{className:"flex flex-col gap-4 mb-6",children:[d.jsx("div",{className:"flex items-center justify-between",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(ia,{className:"w-6 h-6 text-yellow-500"}),d.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Leaderboard"})]})}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"text",placeholder:"Search name...",value:se,onChange:pe=>de(pe.target.value),className:"w-full pl-10 pr-4 py-3 bg-slate-50 dark:bg-slate-700/50 border border-slate-200 dark:border-slate-600 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500/50 text-slate-800 dark:text-white placeholder:text-slate-400 transition-all font-medium"}),d.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:d.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})})})]}),d.jsx("div",{className:"flex p-1.5 bg-slate-100 dark:bg-slate-700/50 rounded-xl",children:["today","week","month","all_time"].map(pe=>d.jsx("button",{onClick:()=>J(pe),className:`flex-1 py-2 text-xs font-bold rounded-lg transition-all capitalize ${$===pe?"bg-blue-600 text-white shadow-md":"text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-200 hover:bg-white/50 dark:hover:bg-white/5"}`,children:pe==="all_time"?"Lifetime":pe==="today"?"24 Hours":pe==="week"?"7 Days":"1 Month"},pe))})]}),Y?d.jsxs("div",{className:"text-center py-12 text-slate-400 flex flex-col items-center",children:[d.jsx("div",{className:"w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mb-3"}),d.jsx("p",{className:"text-sm font-medium",children:"Loading rankings..."})]}):d.jsxs("div",{className:"space-y-3",children:[M.filter(pe=>pe.userName.toLowerCase().includes(se.toLowerCase())).map((pe,De)=>d.jsxs("div",{className:`flex items-center justify-between p-3 rounded-2xl transition-all ${pe.userId===i?.uid?"bg-blue-50/50 dark:bg-blue-900/20 border border-blue-100 dark:border-blue-800":"hover:bg-slate-50 dark:hover:bg-slate-700/30 border border-transparent"}`,children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("div",{className:"font-bold text-slate-400 w-6 text-center text-sm",children:[De+1,"."]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:`
                                                w-10 h-10 rounded-full flex items-center justify-center font-bold text-lg shadow-sm border-2
                                                ${De===0?"bg-yellow-100 text-yellow-600 border-yellow-200":De===1?"bg-slate-200 text-slate-600 border-slate-300":De===2?"bg-orange-100 text-orange-600 border-orange-200":"bg-slate-100 dark:bg-slate-700 text-slate-500 dark:text-slate-400 border-white dark:border-slate-600"}
                                            `,children:pe.userName.charAt(0).toUpperCase()}),d.jsxs("div",{children:[d.jsx("p",{className:`font-bold text-sm ${pe.userId===i?.uid?"text-blue-700 dark:text-blue-400":"text-slate-800 dark:text-white"}`,children:pe.userName}),d.jsxs("div",{className:"flex items-center gap-1.5 mt-0.5",children:[d.jsx("span",{className:`w-2 h-2 rounded-full ${pe.displayTime>3600?"bg-emerald-400":"bg-slate-300 dark:bg-slate-600"}`}),d.jsx("span",{className:"text-xs text-slate-400 font-medium",children:pe.displayTime>3600?"Studying":"Offline"})]})]})]})]}),d.jsx("div",{className:"text-right",children:d.jsx("div",{className:"font-bold text-blue-600 dark:text-blue-400 text-base md:text-lg tabular-nums tracking-tight",children:ue(pe.displayTime)})})]},pe.userId)),M.length===0&&d.jsxs("div",{className:"text-center py-10 px-6 text-slate-500 bg-slate-50 dark:bg-slate-700/30 rounded-2xl border border-dashed border-slate-200 dark:border-slate-700",children:[d.jsx("p",{className:"text-sm",children:"No records found for this period."}),d.jsx("p",{className:"text-xs mt-1 text-slate-400",children:"Be the first to start studying!"})]})]})]})]}),d.jsx(hs,{children:U&&d.jsxs(Te.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"fixed bottom-20 left-1/2 -translate-x-1/2 md:bottom-8 bg-slate-900 text-white px-6 py-3 rounded-full shadow-lg flex items-center gap-3 z-50",children:[d.jsx("div",{className:"bg-emerald-500 rounded-full p-1",children:d.jsx(ro,{className:"w-4 h-4 text-white"})}),d.jsx("span",{className:"font-medium",children:"Session Saved! Great Job."})]})})]})}const zN=k.createContext(void 0);function Sz({children:t}){const{user:e}=tr(),n=um(),[i,a]=k.useState([]);k.useEffect(()=>{if(!e){a([]);return}const g=Bu(Yr(hi,"groups"),p8("memberIds","array-contains",e.uid)),v=cm(g,x=>{const _=[];x.forEach(E=>{_.push({id:E.id,...E.data()})}),a(_)},x=>{console.error("Error loading groups:",x)});return()=>v()},[e]);const l=async(g,v)=>{if(e)try{const x={name:g,description:v,createdBy:e.uid,createdAt:new Date().toISOString(),members:[{userId:e.uid,name:e.displayName||"Unknown",joinedAt:new Date().toISOString(),role:"admin"}],memberIds:[e.uid],inviteCode:Math.random().toString(36).substring(2,8).toUpperCase()};await Z0(Yr(hi,"groups"),x),n.success("Group created successfully!")}catch(x){console.error("Error creating group:",x),n.error("Failed to create group.")}},c=async g=>{e&&n.info("Join functionality coming soon!")},h=async g=>{e&&n.info("Leave functionality coming soon!")},m=async(g,v)=>{if(e)try{await Z0(Yr(hi,"groups",g,"messages"),{senderId:e.uid,senderName:e.displayName||"User",text:v,timestamp:f8()})}catch(x){console.error("Error sending message:",x),n.error("Failed to send message.")}};return d.jsx(zN.Provider,{value:{groups:i,createGroup:l,joinGroup:c,leaveGroup:h,sendMessage:m},children:t})}function Az(){const t=k.useContext(zN);if(t===void 0)throw new Error("useSocial must be used within a SocialProvider");return t}function BN(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=BN(t[e]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}function kz(){for(var t,e,n=0,i="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=BN(t))&&(i&&(i+=" "),i+=e);return i}const Nz=(t,e)=>{const n=new Array(t.length+e.length);for(let i=0;i<t.length;i++)n[i]=t[i];for(let i=0;i<e.length;i++)n[t.length+i]=e[i];return n},Cz=(t,e)=>({classGroupId:t,validator:e}),FN=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),Mf="-",VE=[],Rz="arbitrary..",Iz=t=>{const e=Dz(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:i}=t;return{getClassGroupId:c=>{if(c.startsWith("[")&&c.endsWith("]"))return jz(c);const h=c.split(Mf),m=h[0]===""&&h.length>1?1:0;return HN(h,m,e)},getConflictingClassGroupIds:(c,h)=>{if(h){const m=i[c],g=n[c];return m?g?Nz(g,m):m:g||VE}return n[c]||VE}}},HN=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const a=t[e],l=n.nextPart.get(a);if(l){const g=HN(t,e+1,l);if(g)return g}const c=n.validators;if(c===null)return;const h=e===0?t.join(Mf):t.slice(e).join(Mf),m=c.length;for(let g=0;g<m;g++){const v=c[g];if(v.validator(h))return v.classGroupId}},jz=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),i=e.slice(0,n);return i?Rz+i:void 0})(),Dz=t=>{const{theme:e,classGroups:n}=t;return Mz(n,e)},Mz=(t,e)=>{const n=FN();for(const i in t){const a=t[i];Qv(a,n,i,e)}return n},Qv=(t,e,n,i)=>{const a=t.length;for(let l=0;l<a;l++){const c=t[l];Vz(c,e,n,i)}},Vz=(t,e,n,i)=>{if(typeof t=="string"){Pz(t,e,n);return}if(typeof t=="function"){Oz(t,e,n,i);return}Lz(t,e,n,i)},Pz=(t,e,n)=>{const i=t===""?e:qN(e,t);i.classGroupId=n},Oz=(t,e,n,i)=>{if(Uz(t)){Qv(t(i),e,n,i);return}e.validators===null&&(e.validators=[]),e.validators.push(Cz(n,t))},Lz=(t,e,n,i)=>{const a=Object.entries(t),l=a.length;for(let c=0;c<l;c++){const[h,m]=a[c];Qv(m,qN(e,h),n,i)}},qN=(t,e)=>{let n=t;const i=e.split(Mf),a=i.length;for(let l=0;l<a;l++){const c=i[l];let h=n.nextPart.get(c);h||(h=FN(),n.nextPart.set(c,h)),n=h}return n},Uz=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,zz=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),i=Object.create(null);const a=(l,c)=>{n[l]=c,e++,e>t&&(e=0,i=n,n=Object.create(null))};return{get(l){let c=n[l];if(c!==void 0)return c;if((c=i[l])!==void 0)return a(l,c),c},set(l,c){l in n?n[l]=c:a(l,c)}}},iy="!",PE=":",Bz=[],OE=(t,e,n,i,a)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:i,isExternal:a}),Fz=t=>{const{prefix:e,experimentalParseClassName:n}=t;let i=a=>{const l=[];let c=0,h=0,m=0,g;const v=a.length;for(let j=0;j<v;j++){const D=a[j];if(c===0&&h===0){if(D===PE){l.push(a.slice(m,j)),m=j+1;continue}if(D==="/"){g=j;continue}}D==="["?c++:D==="]"?c--:D==="("?h++:D===")"&&h--}const x=l.length===0?a:a.slice(m);let _=x,E=!1;x.endsWith(iy)?(_=x.slice(0,-1),E=!0):x.startsWith(iy)&&(_=x.slice(1),E=!0);const I=g&&g>m?g-m:void 0;return OE(l,E,_,I)};if(e){const a=e+PE,l=i;i=c=>c.startsWith(a)?l(c.slice(a.length)):OE(Bz,!1,c,void 0,!0)}if(n){const a=i;i=l=>n({className:l,parseClassName:a})}return i},Hz=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,i)=>{e.set(n,1e6+i)}),n=>{const i=[];let a=[];for(let l=0;l<n.length;l++){const c=n[l],h=c[0]==="[",m=e.has(c);h||m?(a.length>0&&(a.sort(),i.push(...a),a=[]),i.push(c)):a.push(c)}return a.length>0&&(a.sort(),i.push(...a)),i}},qz=t=>({cache:zz(t.cacheSize),parseClassName:Fz(t),sortModifiers:Hz(t),...Iz(t)}),Gz=/\s+/,$z=(t,e)=>{const{parseClassName:n,getClassGroupId:i,getConflictingClassGroupIds:a,sortModifiers:l}=e,c=[],h=t.trim().split(Gz);let m="";for(let g=h.length-1;g>=0;g-=1){const v=h[g],{isExternal:x,modifiers:_,hasImportantModifier:E,baseClassName:I,maybePostfixModifierPosition:j}=n(v);if(x){m=v+(m.length>0?" "+m:m);continue}let D=!!j,V=i(D?I.substring(0,j):I);if(!V){if(!D){m=v+(m.length>0?" "+m:m);continue}if(V=i(I),!V){m=v+(m.length>0?" "+m:m);continue}D=!1}const F=_.length===0?"":_.length===1?_[0]:l(_).join(":"),$=E?F+iy:F,J=$+V;if(c.indexOf(J)>-1)continue;c.push(J);const se=a(V,D);for(let de=0;de<se.length;++de){const R=se[de];c.push($+R)}m=v+(m.length>0?" "+m:m)}return m},Kz=(...t)=>{let e=0,n,i,a="";for(;e<t.length;)(n=t[e++])&&(i=GN(n))&&(a&&(a+=" "),a+=i);return a},GN=t=>{if(typeof t=="string")return t;let e,n="";for(let i=0;i<t.length;i++)t[i]&&(e=GN(t[i]))&&(n&&(n+=" "),n+=e);return n},Yz=(t,...e)=>{let n,i,a,l;const c=m=>{const g=e.reduce((v,x)=>x(v),t());return n=qz(g),i=n.cache.get,a=n.cache.set,l=h,h(m)},h=m=>{const g=i(m);if(g)return g;const v=$z(m,n);return a(m,v),v};return l=c,(...m)=>l(Kz(...m))},Qz=[],$t=t=>{const e=n=>n[t]||Qz;return e.isThemeGetter=!0,e},$N=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,KN=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Xz=/^\d+\/\d+$/,Wz=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Jz=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Zz=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,eB=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,tB=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Yo=t=>Xz.test(t),ze=t=>!!t&&!Number.isNaN(Number(t)),Pr=t=>!!t&&Number.isInteger(Number(t)),e0=t=>t.endsWith("%")&&ze(t.slice(0,-1)),zi=t=>Wz.test(t),nB=()=>!0,sB=t=>Jz.test(t)&&!Zz.test(t),YN=()=>!1,iB=t=>eB.test(t),rB=t=>tB.test(t),aB=t=>!be(t)&&!_e(t),oB=t=>Dl(t,WN,YN),be=t=>$N.test(t),Pa=t=>Dl(t,JN,sB),t0=t=>Dl(t,hB,ze),LE=t=>Dl(t,QN,YN),lB=t=>Dl(t,XN,rB),jh=t=>Dl(t,ZN,iB),_e=t=>KN.test(t),qc=t=>Ml(t,JN),cB=t=>Ml(t,fB),UE=t=>Ml(t,QN),uB=t=>Ml(t,WN),dB=t=>Ml(t,XN),Dh=t=>Ml(t,ZN,!0),Dl=(t,e,n)=>{const i=$N.exec(t);return i?i[1]?e(i[1]):n(i[2]):!1},Ml=(t,e,n=!1)=>{const i=KN.exec(t);return i?i[1]?e(i[1]):n:!1},QN=t=>t==="position"||t==="percentage",XN=t=>t==="image"||t==="url",WN=t=>t==="length"||t==="size"||t==="bg-size",JN=t=>t==="length",hB=t=>t==="number",fB=t=>t==="family-name",ZN=t=>t==="shadow",mB=()=>{const t=$t("color"),e=$t("font"),n=$t("text"),i=$t("font-weight"),a=$t("tracking"),l=$t("leading"),c=$t("breakpoint"),h=$t("container"),m=$t("spacing"),g=$t("radius"),v=$t("shadow"),x=$t("inset-shadow"),_=$t("text-shadow"),E=$t("drop-shadow"),I=$t("blur"),j=$t("perspective"),D=$t("aspect"),V=$t("ease"),F=$t("animate"),$=()=>["auto","avoid","all","avoid-page","page","left","right","column"],J=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],se=()=>[...J(),_e,be],de=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto","contain","none"],S=()=>[_e,be,m],C=()=>[Yo,"full","auto",...S()],z=()=>[Pr,"none","subgrid",_e,be],U=()=>["auto",{span:["full",Pr,_e,be]},Pr,_e,be],G=()=>[Pr,"auto",_e,be],M=()=>["auto","min","max","fr",_e,be],Be=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Y=()=>["start","end","center","stretch","center-safe","end-safe"],O=()=>["auto",...S()],q=()=>[Yo,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...S()],H=()=>[t,_e,be],ae=()=>[...J(),UE,LE,{position:[_e,be]}],fe=()=>["no-repeat",{repeat:["","x","y","space","round"]}],P=()=>["auto","cover","contain",uB,oB,{size:[_e,be]}],ne=()=>[e0,qc,Pa],ue=()=>["","none","full",g,_e,be],he=()=>["",ze,qc,Pa],Se=()=>["solid","dashed","dotted","double"],Ie=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ae=()=>[ze,e0,UE,LE],pe=()=>["","none",I,_e,be],De=()=>["none",ze,_e,be],bt=()=>["none",ze,_e,be],en=()=>[ze,_e,be],jn=()=>[Yo,"full",...S()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[zi],breakpoint:[zi],color:[nB],container:[zi],"drop-shadow":[zi],ease:["in","out","in-out"],font:[aB],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[zi],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[zi],shadow:[zi],spacing:["px",ze],text:[zi],"text-shadow":[zi],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Yo,be,_e,D]}],container:["container"],columns:[{columns:[ze,be,_e,h]}],"break-after":[{"break-after":$()}],"break-before":[{"break-before":$()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:se()}],overflow:[{overflow:de()}],"overflow-x":[{"overflow-x":de()}],"overflow-y":[{"overflow-y":de()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:C()}],"inset-x":[{"inset-x":C()}],"inset-y":[{"inset-y":C()}],start:[{start:C()}],end:[{end:C()}],top:[{top:C()}],right:[{right:C()}],bottom:[{bottom:C()}],left:[{left:C()}],visibility:["visible","invisible","collapse"],z:[{z:[Pr,"auto",_e,be]}],basis:[{basis:[Yo,"full","auto",h,...S()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ze,Yo,"auto","initial","none",be]}],grow:[{grow:["",ze,_e,be]}],shrink:[{shrink:["",ze,_e,be]}],order:[{order:[Pr,"first","last","none",_e,be]}],"grid-cols":[{"grid-cols":z()}],"col-start-end":[{col:U()}],"col-start":[{"col-start":G()}],"col-end":[{"col-end":G()}],"grid-rows":[{"grid-rows":z()}],"row-start-end":[{row:U()}],"row-start":[{"row-start":G()}],"row-end":[{"row-end":G()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":M()}],"auto-rows":[{"auto-rows":M()}],gap:[{gap:S()}],"gap-x":[{"gap-x":S()}],"gap-y":[{"gap-y":S()}],"justify-content":[{justify:[...Be(),"normal"]}],"justify-items":[{"justify-items":[...Y(),"normal"]}],"justify-self":[{"justify-self":["auto",...Y()]}],"align-content":[{content:["normal",...Be()]}],"align-items":[{items:[...Y(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Y(),{baseline:["","last"]}]}],"place-content":[{"place-content":Be()}],"place-items":[{"place-items":[...Y(),"baseline"]}],"place-self":[{"place-self":["auto",...Y()]}],p:[{p:S()}],px:[{px:S()}],py:[{py:S()}],ps:[{ps:S()}],pe:[{pe:S()}],pt:[{pt:S()}],pr:[{pr:S()}],pb:[{pb:S()}],pl:[{pl:S()}],m:[{m:O()}],mx:[{mx:O()}],my:[{my:O()}],ms:[{ms:O()}],me:[{me:O()}],mt:[{mt:O()}],mr:[{mr:O()}],mb:[{mb:O()}],ml:[{ml:O()}],"space-x":[{"space-x":S()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":S()}],"space-y-reverse":["space-y-reverse"],size:[{size:q()}],w:[{w:[h,"screen",...q()]}],"min-w":[{"min-w":[h,"screen","none",...q()]}],"max-w":[{"max-w":[h,"screen","none","prose",{screen:[c]},...q()]}],h:[{h:["screen","lh",...q()]}],"min-h":[{"min-h":["screen","lh","none",...q()]}],"max-h":[{"max-h":["screen","lh",...q()]}],"font-size":[{text:["base",n,qc,Pa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,_e,t0]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",e0,be]}],"font-family":[{font:[cB,be,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,_e,be]}],"line-clamp":[{"line-clamp":[ze,"none",_e,t0]}],leading:[{leading:[l,...S()]}],"list-image":[{"list-image":["none",_e,be]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",_e,be]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:H()}],"text-color":[{text:H()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Se(),"wavy"]}],"text-decoration-thickness":[{decoration:[ze,"from-font","auto",_e,Pa]}],"text-decoration-color":[{decoration:H()}],"underline-offset":[{"underline-offset":[ze,"auto",_e,be]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:S()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",_e,be]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",_e,be]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ae()}],"bg-repeat":[{bg:fe()}],"bg-size":[{bg:P()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Pr,_e,be],radial:["",_e,be],conic:[Pr,_e,be]},dB,lB]}],"bg-color":[{bg:H()}],"gradient-from-pos":[{from:ne()}],"gradient-via-pos":[{via:ne()}],"gradient-to-pos":[{to:ne()}],"gradient-from":[{from:H()}],"gradient-via":[{via:H()}],"gradient-to":[{to:H()}],rounded:[{rounded:ue()}],"rounded-s":[{"rounded-s":ue()}],"rounded-e":[{"rounded-e":ue()}],"rounded-t":[{"rounded-t":ue()}],"rounded-r":[{"rounded-r":ue()}],"rounded-b":[{"rounded-b":ue()}],"rounded-l":[{"rounded-l":ue()}],"rounded-ss":[{"rounded-ss":ue()}],"rounded-se":[{"rounded-se":ue()}],"rounded-ee":[{"rounded-ee":ue()}],"rounded-es":[{"rounded-es":ue()}],"rounded-tl":[{"rounded-tl":ue()}],"rounded-tr":[{"rounded-tr":ue()}],"rounded-br":[{"rounded-br":ue()}],"rounded-bl":[{"rounded-bl":ue()}],"border-w":[{border:he()}],"border-w-x":[{"border-x":he()}],"border-w-y":[{"border-y":he()}],"border-w-s":[{"border-s":he()}],"border-w-e":[{"border-e":he()}],"border-w-t":[{"border-t":he()}],"border-w-r":[{"border-r":he()}],"border-w-b":[{"border-b":he()}],"border-w-l":[{"border-l":he()}],"divide-x":[{"divide-x":he()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":he()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Se(),"hidden","none"]}],"divide-style":[{divide:[...Se(),"hidden","none"]}],"border-color":[{border:H()}],"border-color-x":[{"border-x":H()}],"border-color-y":[{"border-y":H()}],"border-color-s":[{"border-s":H()}],"border-color-e":[{"border-e":H()}],"border-color-t":[{"border-t":H()}],"border-color-r":[{"border-r":H()}],"border-color-b":[{"border-b":H()}],"border-color-l":[{"border-l":H()}],"divide-color":[{divide:H()}],"outline-style":[{outline:[...Se(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ze,_e,be]}],"outline-w":[{outline:["",ze,qc,Pa]}],"outline-color":[{outline:H()}],shadow:[{shadow:["","none",v,Dh,jh]}],"shadow-color":[{shadow:H()}],"inset-shadow":[{"inset-shadow":["none",x,Dh,jh]}],"inset-shadow-color":[{"inset-shadow":H()}],"ring-w":[{ring:he()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:H()}],"ring-offset-w":[{"ring-offset":[ze,Pa]}],"ring-offset-color":[{"ring-offset":H()}],"inset-ring-w":[{"inset-ring":he()}],"inset-ring-color":[{"inset-ring":H()}],"text-shadow":[{"text-shadow":["none",_,Dh,jh]}],"text-shadow-color":[{"text-shadow":H()}],opacity:[{opacity:[ze,_e,be]}],"mix-blend":[{"mix-blend":[...Ie(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ie()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ze]}],"mask-image-linear-from-pos":[{"mask-linear-from":Ae()}],"mask-image-linear-to-pos":[{"mask-linear-to":Ae()}],"mask-image-linear-from-color":[{"mask-linear-from":H()}],"mask-image-linear-to-color":[{"mask-linear-to":H()}],"mask-image-t-from-pos":[{"mask-t-from":Ae()}],"mask-image-t-to-pos":[{"mask-t-to":Ae()}],"mask-image-t-from-color":[{"mask-t-from":H()}],"mask-image-t-to-color":[{"mask-t-to":H()}],"mask-image-r-from-pos":[{"mask-r-from":Ae()}],"mask-image-r-to-pos":[{"mask-r-to":Ae()}],"mask-image-r-from-color":[{"mask-r-from":H()}],"mask-image-r-to-color":[{"mask-r-to":H()}],"mask-image-b-from-pos":[{"mask-b-from":Ae()}],"mask-image-b-to-pos":[{"mask-b-to":Ae()}],"mask-image-b-from-color":[{"mask-b-from":H()}],"mask-image-b-to-color":[{"mask-b-to":H()}],"mask-image-l-from-pos":[{"mask-l-from":Ae()}],"mask-image-l-to-pos":[{"mask-l-to":Ae()}],"mask-image-l-from-color":[{"mask-l-from":H()}],"mask-image-l-to-color":[{"mask-l-to":H()}],"mask-image-x-from-pos":[{"mask-x-from":Ae()}],"mask-image-x-to-pos":[{"mask-x-to":Ae()}],"mask-image-x-from-color":[{"mask-x-from":H()}],"mask-image-x-to-color":[{"mask-x-to":H()}],"mask-image-y-from-pos":[{"mask-y-from":Ae()}],"mask-image-y-to-pos":[{"mask-y-to":Ae()}],"mask-image-y-from-color":[{"mask-y-from":H()}],"mask-image-y-to-color":[{"mask-y-to":H()}],"mask-image-radial":[{"mask-radial":[_e,be]}],"mask-image-radial-from-pos":[{"mask-radial-from":Ae()}],"mask-image-radial-to-pos":[{"mask-radial-to":Ae()}],"mask-image-radial-from-color":[{"mask-radial-from":H()}],"mask-image-radial-to-color":[{"mask-radial-to":H()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":J()}],"mask-image-conic-pos":[{"mask-conic":[ze]}],"mask-image-conic-from-pos":[{"mask-conic-from":Ae()}],"mask-image-conic-to-pos":[{"mask-conic-to":Ae()}],"mask-image-conic-from-color":[{"mask-conic-from":H()}],"mask-image-conic-to-color":[{"mask-conic-to":H()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ae()}],"mask-repeat":[{mask:fe()}],"mask-size":[{mask:P()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",_e,be]}],filter:[{filter:["","none",_e,be]}],blur:[{blur:pe()}],brightness:[{brightness:[ze,_e,be]}],contrast:[{contrast:[ze,_e,be]}],"drop-shadow":[{"drop-shadow":["","none",E,Dh,jh]}],"drop-shadow-color":[{"drop-shadow":H()}],grayscale:[{grayscale:["",ze,_e,be]}],"hue-rotate":[{"hue-rotate":[ze,_e,be]}],invert:[{invert:["",ze,_e,be]}],saturate:[{saturate:[ze,_e,be]}],sepia:[{sepia:["",ze,_e,be]}],"backdrop-filter":[{"backdrop-filter":["","none",_e,be]}],"backdrop-blur":[{"backdrop-blur":pe()}],"backdrop-brightness":[{"backdrop-brightness":[ze,_e,be]}],"backdrop-contrast":[{"backdrop-contrast":[ze,_e,be]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ze,_e,be]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ze,_e,be]}],"backdrop-invert":[{"backdrop-invert":["",ze,_e,be]}],"backdrop-opacity":[{"backdrop-opacity":[ze,_e,be]}],"backdrop-saturate":[{"backdrop-saturate":[ze,_e,be]}],"backdrop-sepia":[{"backdrop-sepia":["",ze,_e,be]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":S()}],"border-spacing-x":[{"border-spacing-x":S()}],"border-spacing-y":[{"border-spacing-y":S()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",_e,be]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ze,"initial",_e,be]}],ease:[{ease:["linear","initial",V,_e,be]}],delay:[{delay:[ze,_e,be]}],animate:[{animate:["none",F,_e,be]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[j,_e,be]}],"perspective-origin":[{"perspective-origin":se()}],rotate:[{rotate:De()}],"rotate-x":[{"rotate-x":De()}],"rotate-y":[{"rotate-y":De()}],"rotate-z":[{"rotate-z":De()}],scale:[{scale:bt()}],"scale-x":[{"scale-x":bt()}],"scale-y":[{"scale-y":bt()}],"scale-z":[{"scale-z":bt()}],"scale-3d":["scale-3d"],skew:[{skew:en()}],"skew-x":[{"skew-x":en()}],"skew-y":[{"skew-y":en()}],transform:[{transform:[_e,be,"","none","gpu","cpu"]}],"transform-origin":[{origin:se()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:jn()}],"translate-x":[{"translate-x":jn()}],"translate-y":[{"translate-y":jn()}],"translate-z":[{"translate-z":jn()}],"translate-none":["translate-none"],accent:[{accent:H()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:H()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",_e,be]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":S()}],"scroll-mx":[{"scroll-mx":S()}],"scroll-my":[{"scroll-my":S()}],"scroll-ms":[{"scroll-ms":S()}],"scroll-me":[{"scroll-me":S()}],"scroll-mt":[{"scroll-mt":S()}],"scroll-mr":[{"scroll-mr":S()}],"scroll-mb":[{"scroll-mb":S()}],"scroll-ml":[{"scroll-ml":S()}],"scroll-p":[{"scroll-p":S()}],"scroll-px":[{"scroll-px":S()}],"scroll-py":[{"scroll-py":S()}],"scroll-ps":[{"scroll-ps":S()}],"scroll-pe":[{"scroll-pe":S()}],"scroll-pt":[{"scroll-pt":S()}],"scroll-pr":[{"scroll-pr":S()}],"scroll-pb":[{"scroll-pb":S()}],"scroll-pl":[{"scroll-pl":S()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",_e,be]}],fill:[{fill:["none",...H()]}],"stroke-w":[{stroke:[ze,qc,Pa,t0]}],stroke:[{stroke:["none",...H()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},pB=Yz(mB);function Qo(...t){return pB(kz(t))}const gB=t=>t?(typeof t=="object"&&"toDate"in t&&typeof t.toDate=="function"?t.toDate():new Date(t)).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"...";function yB(){const{user:t}=tr(),{groups:e,createGroup:n,joinGroup:i,sendMessage:a,leaveGroup:l}=Az(),[c,h]=k.useState(null),[m,g]=k.useState([]),[v,x]=k.useState(""),[_,E]=k.useState(!1),I=k.useRef(null);k.useEffect(()=>{const J=window.innerWidth<768;!c&&e.length>0&&!J&&h(e[0])},[e,c]),k.useEffect(()=>{if(!c)return;const J=Bu(Yr(hi,"groups",c.id,"messages"),om("timestamp","asc"),lm(50)),se=cm(J,de=>{const R=[];de.forEach(S=>{R.push({id:S.id,...S.data()})}),g(R)},de=>console.error("Msg Load Err",de));return()=>{se(),g([])}},[c]),k.useEffect(()=>{I.current?.scrollIntoView({behavior:"smooth"})},[m]);const j=async J=>{J.preventDefault(),!(!v.trim()||!c||_)&&(E(!0),await a(c.id,v.trim()),x(""),E(!1))},D=()=>{const J=prompt("Enter Group Name:");if(!J)return;const se=prompt("Enter Description (optional):")||"";n(J,se)},V=()=>{const J=prompt("Enter Invitation Code:");J&&i(J)},F=()=>{c&&confirm(`Leave group "${c.name}"?`)&&(l(c.id),h(null))},$=()=>{c&&(navigator.clipboard.writeText(c.inviteCode),alert("Invite code copied: "+c.inviteCode))};return d.jsxs(dm,{className:"h-[calc(100vh-8rem)] md:h-[calc(100vh-4rem)] flex flex-col md:flex-row overflow-hidden",children:[d.jsx("div",{className:`md:hidden flex items-center justify-between p-4 bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700 ${c?"hidden":"flex"}`,children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(hl,{className:"w-6 h-6 text-indigo-500"}),d.jsx("span",{className:"font-bold text-slate-800 dark:text-white truncate max-w-[200px]",children:"Study Groups"})]})}),c&&d.jsxs("div",{className:"md:hidden flex items-center justify-between p-4 bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700",children:[d.jsxs("button",{onClick:()=>h(null),className:"flex items-center gap-2 text-slate-600 dark:text-slate-300",children:[d.jsx(qv,{className:"w-5 h-5"}),d.jsx("span",{className:"font-medium",children:"Back"})]}),d.jsx("span",{className:"font-bold text-slate-800 dark:text-white truncate max-w-[150px]",children:c.name}),d.jsx("button",{onClick:F,className:"text-red-500",children:d.jsx(Rf,{className:"w-5 h-5"})})]}),d.jsxs("div",{className:`flex-col bg-slate-50 dark:bg-slate-900 border-r border-slate-200 dark:border-slate-700 w-full md:w-72 md:flex ${c?"hidden":"flex"}`,children:[d.jsx("div",{className:"p-4 border-b border-slate-200 dark:border-slate-700 hidden md:flex justify-between items-center",children:d.jsxs("h2",{className:"font-bold text-xl text-slate-800 dark:text-white flex items-center gap-2",children:[d.jsx(hl,{className:"w-6 h-6 text-indigo-500"}),"My Groups"]})}),d.jsxs("div",{className:"p-4 space-y-2",children:[d.jsxs("button",{onClick:D,className:"w-full flex items-center justify-center gap-2 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-medium transition-colors",children:[d.jsx($i,{className:"w-4 h-4"})," Create Group"]}),d.jsxs("button",{onClick:V,className:"w-full flex items-center justify-center gap-2 py-2 bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 hover:bg-slate-50 dark:hover:bg-slate-700 text-slate-700 dark:text-slate-200 rounded-lg font-medium transition-colors",children:[d.jsx(XU,{className:"w-4 h-4"})," Join via Code"]})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-1",children:[e.length===0&&d.jsx("div",{className:"text-center text-slate-500 text-sm py-4",children:"You haven't joined any groups yet."}),e.map(J=>d.jsxs("button",{onClick:()=>{h(J)},className:Qo("w-full text-left px-3 py-3 rounded-xl flex items-center gap-3 transition-all",c?.id===J.id?"bg-white dark:bg-slate-800 shadow-sm ring-1 ring-indigo-500/20":"hover:bg-slate-100 dark:hover:bg-slate-800"),children:[d.jsx("div",{className:Qo("w-10 h-10 rounded-full flex items-center justify-center text-white font-bold text-sm",c?.id===J.id?"bg-indigo-500":"bg-slate-400"),children:J.name[0].toUpperCase()}),d.jsxs("div",{children:[d.jsx("div",{className:Qo("font-medium text-sm",c?.id===J.id?"text-indigo-900 dark:text-indigo-100":"text-slate-700 dark:text-slate-300"),children:J.name}),d.jsxs("div",{className:"text-xs text-slate-500 truncate max-w-[140px]",children:[J.members.length," members"]})]})]},J.id))]})]}),d.jsx("div",{className:`flex-1 flex-col bg-white dark:bg-slate-800 relative md:flex ${c?"flex":"hidden"}`,children:c?d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"hidden md:flex items-center justify-between p-4 border-b border-slate-100 dark:border-slate-700 shadow-sm z-10",children:[d.jsxs("div",{children:[d.jsxs("h2",{className:"font-bold text-lg text-slate-800 dark:text-white flex items-center gap-2",children:[c.name,d.jsxs("span",{className:"text-xs font-normal px-2 py-0.5 bg-indigo-100 text-indigo-700 dark:bg-indigo-900 dark:text-indigo-300 rounded-full",children:[c.members.length," Members"]})]}),d.jsx("p",{className:"text-xs text-slate-500",children:c.description})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("button",{onClick:$,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg text-slate-500",title:"Copy Invite Code",children:d.jsx(LU,{className:"w-5 h-5"})}),d.jsx("button",{onClick:F,className:"p-2 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg text-red-500",title:"Leave Group",children:d.jsx(Rf,{className:"w-5 h-5"})})]})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-slate-50/50 dark:bg-slate-900/50",children:[m.length===0&&d.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-slate-400",children:[d.jsx(NN,{className:"w-12 h-12 mb-2 opacity-50"}),d.jsx("p",{children:"No messages yet. Start the conversation!"}),d.jsxs("p",{className:"text-xs mt-2",children:["Invite Code: ",d.jsx("span",{className:"font-mono bg-slate-100 dark:bg-slate-800 px-1 rounded select-all",children:c.inviteCode})]})]}),m.map(J=>{const se=J.senderId===t?.uid;return d.jsxs(Te.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:Qo("flex gap-3",se?"flex-row-reverse":""),children:[d.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-100 dark:bg-indigo-900 flex items-center justify-center text-xs font-bold text-indigo-700 dark:text-indigo-300 flex-shrink-0",children:J.senderName[0]}),d.jsxs("div",{className:Qo("max-w-[75%]",se?"items-end":"items-start"),children:[d.jsxs("div",{className:"flex items-baseline gap-2 mb-1",children:[d.jsx("span",{className:"text-xs font-bold text-slate-600 dark:text-slate-400",children:J.senderName}),d.jsx("span",{className:"text-[10px] text-slate-400",children:gB(J.timestamp)})]}),d.jsx("div",{className:Qo("px-4 py-2 rounded-2xl text-sm shadow-sm",se?"bg-indigo-600 text-white rounded-tr-sm":"bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-200 rounded-tl-sm"),children:J.text})]})]},J.id)}),d.jsx("div",{ref:I})]}),d.jsx("div",{className:"p-4 bg-white dark:bg-slate-800 border-t border-slate-200 dark:border-slate-700",children:d.jsxs("form",{onSubmit:j,className:"flex gap-2",children:[d.jsx("input",{value:v,onChange:J=>x(J.target.value),placeholder:`Message #${c.name}`,className:"flex-1 px-4 py-2 bg-slate-100 dark:bg-slate-900 rounded-xl border-none focus:ring-2 focus:ring-indigo-500"}),d.jsx("button",{disabled:_||!v.trim(),className:"p-2 bg-indigo-600 text-white rounded-xl hover:bg-indigo-700 disabled:opacity-50",children:_?d.jsx(t7,{className:"animate-spin w-5 h-5"}):d.jsx(A7,{className:"w-5 h-5"})})]})})]}):d.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-slate-400",children:[d.jsx(hl,{className:"w-16 h-16 mb-4 opacity-50"}),d.jsx("h3",{className:"text-lg font-medium text-slate-600 dark:text-slate-300",children:"Select a Group"}),d.jsx("p",{className:"max-w-xs text-center mt-2",children:"Join a study group or create your own to collaborate with friends."})]})})]})}function vB({steps:t,onComplete:e,onSkip:n}){const[i,a]=k.useState(0),[l,c]=k.useState(null),h=t[i];k.useEffect(()=>{if(h.targetId){const v=document.getElementById(h.targetId);v?(c(v.getBoundingClientRect()),v.scrollIntoView({behavior:"smooth",block:"center"})):c(null)}else c(null)},[i,h,t]);const m=()=>{i<t.length-1?a(v=>v+1):e()},g=()=>{i>0&&a(v=>v-1)};return d.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center pointer-events-none",children:[d.jsx("div",{className:"absolute inset-0 bg-black/60 pointer-events-none"}),l&&d.jsx(Te.div,{layoutId:"highlight-box",className:"absolute border-4 border-blue-500 rounded-xl shadow-[0_0_0_9999px_rgba(0,0,0,0.6)] pointer-events-none transition-all duration-300",style:{top:l.top-4,left:l.left-4,width:l.width+8,height:l.height+8}}),d.jsx(hs,{mode:"wait",children:d.jsxs(Te.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:`pointer-events-auto absolute bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-2xl border border-slate-100 dark:border-slate-700 max-w-sm w-full mx-4 ${l?"":"static"}`,style:l&&h.position!=="center"?{top:h.position==="bottom"?l.bottom+20:h.position==="top"?l.top-200:void 0,left:h.position==="right"?l.right+20:h.position==="left"?l.left-340:Math.max(16,l.left+l.width/2-160),marginTop:(h.position==="bottom",0)}:{},children:[d.jsxs("div",{className:"flex justify-between items-start mb-2",children:[d.jsxs("span",{className:"text-xs font-bold text-blue-600 dark:text-blue-400 uppercase tracking-wider",children:["Step ",i+1," of ",t.length]}),d.jsx("button",{onClick:n,className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200",children:d.jsx(xi,{className:"w-4 h-4"})})]}),d.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-2",children:h.title}),d.jsx("p",{className:"text-slate-600 dark:text-slate-300 mb-6 leading-relaxed",children:h.description}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("button",{onClick:g,disabled:i===0,className:`flex items-center gap-1 text-sm font-medium ${i===0?"text-slate-300":"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200"}`,children:[d.jsx(qv,{className:"w-4 h-4"})," Back"]}),d.jsxs("button",{onClick:m,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-full font-medium text-sm flex items-center gap-2 shadow-sm transition-transform active:scale-95",children:[i===t.length-1?"Finish":"Next",i<t.length-1&&d.jsx(SN,{className:"w-4 h-4"})]})]})]},i)})]})}const xB="/Study-Mate/assets/logo-C0C7fgvJ.png";function bB({deferredPrompt:t,onInstall:e}){const[n,i]=k.useState(!1);k.useEffect(()=>{const l=setTimeout(()=>i(!0),3e3);return()=>clearTimeout(l)},[]);const a=()=>{i(!1)};return!n||!t?null:d.jsx(hs,{children:d.jsx(Te.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"fixed bottom-24 md:bottom-6 left-1/2 transform -translate-x-1/2 z-50 w-[90%] md:w-auto",children:d.jsxs("div",{className:"bg-slate-900/90 dark:bg-white/90 backdrop-blur-md text-white dark:text-slate-900 px-6 py-4 rounded-2xl shadow-2xl flex items-center gap-4 border border-white/10 dark:border-slate-200/20",children:[d.jsx("div",{className:"bg-indigo-500 rounded-xl p-2",children:d.jsx($v,{className:"w-5 h-5 text-white"})}),d.jsxs("div",{className:"flex-1",children:[d.jsx("h4",{className:"font-bold text-sm",children:"Install App"}),d.jsx("p",{className:"text-xs text-slate-300 dark:text-slate-600",children:"Add to home screen for better experience"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("button",{onClick:a,className:"p-2 hover:bg-white/10 dark:hover:bg-slate-200/50 rounded-lg transition-colors",children:d.jsx(xi,{className:"w-4 h-4"})}),d.jsx("button",{onClick:e,className:"bg-white dark:bg-slate-900 text-slate-900 dark:text-white px-4 py-2 rounded-lg text-sm font-bold shadow-lg active:scale-95 transition-transform",children:"Install"})]})]})})})}function _B(){const{userProfile:t}=Ht();k.useEffect(()=>{"Notification"in window&&Notification.permission==="default"&&Notification.requestPermission();const e=()=>{if(!("Notification"in window)||Notification.permission!=="granted")return;const a=t.lastStudyDate?new Date(t.lastStudyDate):null;if(!a)return;const l=new Date,c=Math.abs(l.getTime()-a.getTime()),h=Math.ceil(c/(1e3*60*60*24));if(h>=3){const m=localStorage.getItem("tracked_last_reminder"),g=m?new Date(m):null;(g?(l.getTime()-g.getTime())/(1e3*60*60):999)>24&&(new Notification("Miss you! ",{body:`It's been ${h} days since your last study session. Keep your streak alive!`,icon:"/pwa-icon.svg",tag:"inactivity-reminder"}),localStorage.setItem("tracked_last_reminder",l.toISOString()))}},n=()=>{if(!("Notification"in window)||Notification.permission!=="granted")return;const a=t.dailyGoal||7200,l=t.todayStudyTime||0,c=a-l;if(c>0&&c<=1800){const h=localStorage.getItem("tracked_goal_reminder"),m=new Date().toISOString().split("T")[0];h!==m&&(new Notification("Almost there! ",{body:"You're less than 30 minutes away from your daily goal. Finish strong!",icon:"/pwa-icon.svg",tag:"goal-reminder"}),localStorage.setItem("tracked_goal_reminder",m))}},i=setTimeout(()=>{e(),n()},5e3);return()=>clearTimeout(i)},[t.lastStudyDate,t.todayStudyTime,t.dailyGoal])}const wB=[{title:"Welcome to TrackEd! ",description:"Your personal companion for academic success. Let's take a quick tour to get you started.",position:"center"},{targetId:"add-subject-btn",title:"Add Your Subjects ",description:"Start by adding the subjects you want to track. You can organize them by chapters and topics.",position:"bottom"},{targetId:"nav-timer",title:"Focus Timer ",description:"Use the Pomodoro timer or stopwatch to track your study sessions and build streaks.",position:"right"},{targetId:"nav-settings",title:"Customize Experience ",description:"Manage your profile, data, and switch between light/dark modes here.",position:"top"}];function TB(){const{logout:t}=tr(),{theme:e,toggleTheme:n}=UN(),{userProfile:i,isAdmin:a}=Ht(),{currentTitle:l,nextLevelXP:c,progress:h}=sy(i.xp||0),m=i.level||1,g=Zi(),v=TI();_B();const[x,_]=k.useState(!1),[E,I]=k.useState(null);k.useEffect(()=>{localStorage.setItem("tracked_tour_completed","true");const F=$=>{$.preventDefault(),I($)};return window.addEventListener("beforeinstallprompt",F),()=>window.removeEventListener("beforeinstallprompt",F)},[]);const j=()=>{_(!1),localStorage.setItem("tracked_tour_completed","true")},D=async()=>{if(!E)return;E.prompt();const{outcome:F}=await E.userChoice;F==="accepted"&&I(null)},V=F=>g.pathname===F;return d.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-slate-100 pb-20 md:pb-0 font-sans transition-colors duration-300",children:[x&&d.jsx(vB,{steps:wB,onComplete:j,onSkip:j}),d.jsxs("header",{className:"glass sticky top-0 z-20 px-4 py-3 flex items-center justify-between md:hidden transition-colors duration-300",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-tr from-blue-500 to-indigo-600 flex items-center justify-center text-white font-bold text-xs shadow-md",children:m}),d.jsx("div",{children:d.jsx("h1",{className:"text-lg font-bold bg-gradient-to-r from-blue-600 to-indigo-600 dark:from-blue-400 dark:to-indigo-400 bg-clip-text text-transparent",children:"TrackEd"})})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("button",{onClick:n,className:"p-2 text-slate-500 dark:text-slate-400 hover:bg-slate-100/50 dark:hover:bg-slate-700/50 rounded-full transition-colors backdrop-blur-sm","aria-label":"Toggle Theme",children:e==="light"?d.jsx(If,{className:"w-5 h-5"}):d.jsx(ny,{className:"w-5 h-5"})}),d.jsx(Jt,{to:"/settings",className:"p-2 text-slate-500 dark:text-slate-400 hover:bg-slate-100/50 dark:hover:bg-slate-700/50 rounded-full transition-colors backdrop-blur-sm",children:d.jsx(CE,{className:"w-5 h-5"})})]})]}),d.jsxs("div",{className:"md:flex max-w-7xl mx-auto",children:[d.jsxs("aside",{className:"hidden md:flex flex-col w-72 h-[calc(100vh-2rem)] sticky top-4 m-4 rounded-3xl glass shadow-2xl shadow-slate-200/60 dark:shadow-slate-900/50 p-6 transition-all duration-300 z-10",children:[d.jsxs("div",{className:"flex items-center justify-between mb-10 pl-2",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("img",{src:xB,alt:"TrackEd Logo",className:"w-10 h-10 rounded-xl object-contain shadow-md"}),d.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-white tracking-tight",children:"TrackEd"})]}),d.jsx("button",{onClick:n,className:"p-2 text-slate-500 dark:text-slate-400 hover:bg-slate-100/80 dark:hover:bg-slate-700/50 rounded-xl transition-colors","aria-label":"Toggle Theme",children:e==="light"?d.jsx(If,{className:"w-5 h-5"}):d.jsx(ny,{className:"w-5 h-5"})})]}),d.jsxs("div",{className:"mb-8 px-2",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[d.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-tr from-blue-500 to-indigo-600 flex items-center justify-center text-white font-bold text-lg shadow-lg shadow-blue-500/30 ring-2 ring-white dark:ring-slate-700",children:m}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-bold text-slate-800 dark:text-white leading-tight",children:i.name}),d.jsx("p",{className:"text-xs font-medium text-blue-600 dark:text-blue-400",children:l})]})]}),d.jsxs("div",{className:"space-y-1.5",children:[d.jsxs("div",{className:"flex justify-between text-[10px] font-semibold text-slate-400 uppercase tracking-wider",children:[d.jsxs("span",{children:[i.xp," XP"]}),d.jsx("span",{children:c?`${c} XP`:"MAX"})]}),d.jsx("div",{className:"w-full h-2.5 bg-slate-100 dark:bg-slate-800 rounded-full overflow-hidden shadow-inner ring-1 ring-slate-900/5 dark:ring-white/5",children:d.jsx(Te.div,{className:"h-full bg-gradient-to-r from-blue-500 to-indigo-500 rounded-full",initial:{width:0},animate:{width:`${h}%`},transition:{duration:1,ease:"easeOut"}})})]})]}),d.jsxs("nav",{className:"space-y-1.5 flex-1",children:[d.jsxs(Jt,{to:"/",className:`flex items-center gap-3 px-4 py-3.5 rounded-xl transition-all duration-200 ${V("/")?"bg-blue-600 text-white shadow-lg shadow-blue-500/30 font-medium translate-x-1":"text-slate-600 dark:text-slate-400 hover:bg-slate-100/80 dark:hover:bg-slate-800/50 hover:text-slate-900 dark:hover:text-white"}`,children:[d.jsx(NE,{className:"w-5 h-5"}),"Dashboard"]}),d.jsxs(Jt,{to:"/planner",className:`flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200 group relative ${V("/planner")?"bg-gradient-to-r from-blue-600 to-indigo-600 text-white shadow-lg shadow-blue-500/30":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[d.jsx(ey,{className:`w-5 h-5 transition-transform group-hover:scale-110 ${V("/planner")?"text-white":"text-slate-500 group-hover:text-blue-600 dark:text-slate-500 dark:group-hover:text-blue-400"}`}),d.jsx("span",{className:"font-medium",children:"Planner"}),V("/planner")&&d.jsx(Te.div,{layoutId:"activeTab",className:"absolute left-0 w-1 h-8 bg-white rounded-r-full opacity-30"})]}),d.jsxs(Jt,{to:"/analytics",className:`flex items-center gap-3 px-4 py-3.5 rounded-xl transition-all duration-200 ${V("/analytics")?"bg-blue-600 text-white shadow-lg shadow-blue-500/30 font-medium translate-x-1":"text-slate-600 dark:text-slate-400 hover:bg-slate-100/80 dark:hover:bg-slate-800/50 hover:text-slate-900 dark:hover:text-white"}`,children:[d.jsx(Df,{className:"w-5 h-5"}),"Analytics"]}),d.jsxs(Jt,{to:"/timer",id:"nav-timer",className:`flex items-center gap-3 px-4 py-3.5 rounded-xl transition-all duration-200 ${g.pathname==="/timer"?"bg-blue-600 text-white shadow-lg shadow-blue-500/30 font-medium translate-x-1":"text-slate-600 dark:text-slate-400 hover:bg-slate-100/80 dark:hover:bg-slate-800/50 hover:text-slate-900 dark:hover:text-white"}`,children:[d.jsx(IE,{className:"w-5 h-5"}),"Timer"]}),d.jsxs(Jt,{to:"/chat",className:`flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200 group relative ${V("/chat")?"bg-gradient-to-r from-blue-600 to-indigo-600 text-white shadow-lg shadow-blue-500/30":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[d.jsx(hl,{className:`w-5 h-5 transition-transform group-hover:scale-110 ${V("/chat")?"text-white":"text-slate-500 group-hover:text-blue-600 dark:text-slate-500 dark:group-hover:text-blue-400"}`}),d.jsx("span",{className:"font-medium",children:"Study Groups"}),V("/chat")&&d.jsx(Te.div,{layoutId:"activeTab",className:"absolute left-0 w-1 h-8 bg-white rounded-r-full opacity-30"})]}),d.jsxs(Jt,{to:"/settings",id:"nav-settings",className:`flex items-center gap-3 px-4 py-3.5 rounded-xl transition-all duration-200 ${V("/settings")?"bg-blue-600 text-white shadow-lg shadow-blue-500/30 font-medium translate-x-1":"text-slate-600 dark:text-slate-400 hover:bg-slate-100/80 dark:hover:bg-slate-800/50 hover:text-slate-900 dark:hover:text-white"}`,children:[d.jsx(CE,{className:"w-5 h-5"}),"Settings"]}),a&&d.jsxs(Jt,{to:"/admin",className:`flex items-center gap-3 px-4 py-3.5 rounded-xl transition-all duration-200 ${V("/admin")?"bg-rose-600 text-white shadow-lg shadow-rose-500/30 font-medium translate-x-1":"text-slate-600 dark:text-slate-400 hover:bg-slate-100/80 dark:hover:bg-slate-800/50 hover:text-slate-900 dark:hover:text-white"}`,children:[d.jsx(IN,{className:"w-5 h-5"}),"Admin Panel"]})]}),d.jsxs("div",{className:"mt-auto pt-6 border-t border-slate-200/50 dark:border-slate-700/50",children:[d.jsxs("button",{onClick:t,className:"flex items-center gap-3 px-4 py-3.5 rounded-xl text-slate-600 dark:text-slate-400 hover:bg-red-50 dark:hover:bg-red-900/20 hover:text-red-600 dark:hover:text-red-400 transition-colors w-full text-left mb-4 group",children:[d.jsx(Rf,{className:"w-5 h-5 group-hover:-translate-x-0.5 transition-transform"}),"Sign Out"]}),d.jsxs("div",{className:"text-xs text-center text-slate-400 dark:text-slate-500 font-medium",children:[d.jsx("p",{children:"Empowering Students"}),d.jsx("p",{className:"mt-1 opacity-70",children:" 2026 TrackEd"})]})]})]}),d.jsx("main",{className:"flex-1 p-4 md:p-8",children:d.jsx(hs,{mode:"wait",children:v&&k.cloneElement(v,{key:g.pathname})})})]}),d.jsxs("nav",{className:"fixed bottom-0 left-0 right-0 bg-white dark:bg-slate-800 border-t border-slate-200 dark:border-slate-700 flex justify-around pt-3 px-3 pb-[calc(0.75rem+env(safe-area-inset-bottom))] md:hidden z-20 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.05)] transition-colors duration-300",children:[d.jsxs(Jt,{to:"/",className:`flex flex-col items-center gap-1 text-xs ${V("/")?"text-blue-600 dark:text-blue-400 font-medium":"text-slate-400 dark:text-slate-500"}`,children:[d.jsx(NE,{className:"w-6 h-6"}),d.jsx("span",{children:"Home"})]}),d.jsxs(Jt,{to:"/planner",className:`flex flex-col items-center gap-1 text-xs ${V("/planner")?"text-blue-600 dark:text-blue-400 font-medium":"text-slate-400 dark:text-slate-500"}`,children:[d.jsx(ey,{className:"w-6 h-6"}),d.jsx("span",{children:"Planner"})]}),d.jsxs(Jt,{to:"/timer",className:`flex flex-col items-center gap-1 text-xs ${V("/timer")?"text-blue-600 dark:text-blue-400 font-medium":"text-slate-400 dark:text-slate-500"}`,children:[d.jsx(IE,{className:"w-6 h-6"}),d.jsx("span",{children:"Timer"})]}),d.jsxs(Jt,{to:"/chat",className:`flex flex-col items-center gap-1 text-xs ${V("/chat")?"text-blue-600 dark:text-blue-400 font-medium":"text-slate-400 dark:text-slate-500"}`,children:[d.jsx(hl,{className:"w-6 h-6"}),d.jsx("span",{children:"Groups"})]}),d.jsxs(Jt,{to:"/analytics",className:`flex flex-col items-center gap-1 text-xs ${V("/analytics")?"text-blue-600 dark:text-blue-400 font-medium":"text-slate-400 dark:text-slate-500"}`,children:[d.jsx(Df,{className:"w-6 h-6"}),d.jsx("span",{children:"Stats"})]})]}),E&&d.jsx(bB,{deferredPrompt:E,onInstall:D})]})}function EB(){const{signInWithGoogle:t,user:e}=tr(),n=Pf();return BE.useEffect(()=>{e&&n("/")},[e,n]),d.jsxs("div",{className:"min-h-screen flex items-center justify-center relative overflow-hidden bg-slate-50 dark:bg-slate-900 transition-colors",children:[d.jsxs("div",{className:"absolute inset-0 z-0",children:[d.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[40%] h-[40%] bg-blue-400/20 dark:bg-blue-600/10 rounded-full blur-3xl animate-pulse"}),d.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[40%] h-[40%] bg-indigo-400/20 dark:bg-indigo-600/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}}),d.jsx("div",{className:"absolute top-[20%] right-[10%] w-[20%] h-[20%] bg-purple-400/20 dark:bg-purple-600/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"2s"}})]}),d.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,ease:"easeOut"},className:"relative z-10 w-full max-w-md px-6",children:[d.jsxs("div",{className:"bg-white/80 dark:bg-slate-800/80 backdrop-blur-xl rounded-3xl shadow-2xl border border-white/50 dark:border-slate-700/50 p-8 md:p-12 text-center transition-colors",children:[d.jsx("div",{className:"flex justify-center mb-8",children:d.jsx("div",{className:"p-4 bg-indigo-600 rounded-2xl shadow-lg transform rotate-3 hover:rotate-6 transition-transform duration-300",children:d.jsx(kN,{className:"w-10 h-10 text-white"})})}),d.jsxs("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white mb-3 tracking-tight transition-colors",children:["Welcome to ",d.jsx("span",{className:"text-indigo-600 dark:text-indigo-400",children:"TrackEd"})]}),d.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-10 text-lg leading-relaxed transition-colors",children:"Master your study habits and achieve your goals."}),d.jsxs(Te.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:t,className:"group w-full relative flex items-center justify-center gap-3 py-3.5 px-6 border border-transparent rounded-xl shadow-md text-base font-semibold text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-all duration-200",children:[d.jsx("div",{className:"bg-white p-1 rounded-full",children:d.jsx("img",{src:"https://www.google.com/favicon.ico",alt:"G",className:"w-4 h-4"})}),d.jsx("span",{children:"Sign in with Google"}),d.jsx(_N,{className:"w-4 h-4 opacity-0 group-hover:opacity-100 group-hover:translate-x-1 transition-all"})]}),d.jsx("p",{className:"mt-8 text-xs text-slate-400 dark:text-slate-500 transition-colors",children:"By signing in, you agree to our Terms of Service and Privacy Policy."})]}),d.jsx("div",{className:"mt-8 text-center",children:d.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400 transition-colors",children:"Focus. Track. Succeed."})})]})]})}const SB=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];function AB(){const{subjects:t,userProfile:e,addScheduledSession:n,toggleScheduledSession:i,deleteScheduledSession:a,saveStudySession:l}=Ht(),[c,h]=k.useState(new Date),[m,g]=k.useState(new Date),[v,x]=k.useState(!1),[_,E]=k.useState({subjectId:"",chapterId:"",topicId:"",time:"18:00",durationMinutes:60,notes:""}),I=()=>{t.length>0&&E(Y=>({...Y,subjectId:t[0].id})),x(!0)},j=Y=>{if(Y.preventDefault(),!m||!_.subjectId)return;const O=m.getFullYear(),q=String(m.getMonth()+1).padStart(2,"0"),H=String(m.getDate()).padStart(2,"0"),ae=`${O}-${q}-${H}`;n({subjectId:_.subjectId,date:ae,time:_.time,durationMinutes:_.durationMinutes,chapterId:_.chapterId||void 0,topicId:_.topicId||void 0,notes:_.notes}),x(!1)},D=k.useMemo(()=>{if(!m||!e.scheduledSessions)return[];const Y=m.getFullYear(),O=String(m.getMonth()+1).padStart(2,"0"),q=String(m.getDate()).padStart(2,"0"),H=`${Y}-${O}-${q}`;return e.scheduledSessions.filter(ae=>ae.date===H)},[m,e.scheduledSessions]),V=Y=>{if(!e.scheduledSessions)return!1;const O=c.getFullYear(),q=String(c.getMonth()+1).padStart(2,"0"),H=String(Y).padStart(2,"0"),ae=`${O}-${q}-${H}`;return e.scheduledSessions.some(fe=>fe.date===ae&&!fe.isCompleted)},F=async Y=>{Y.isCompleted||confirm("Mark as done? Do you want to log this time to your stats?")&&await l(Y.durationMinutes*60,Y.subjectId),i(Y.id)},$=(Y,O)=>new Date(Y,O+1,0).getDate(),J=(Y,O)=>new Date(Y,O,1).getDay(),se=c.getFullYear(),de=c.getMonth(),R=$(se,de),S=J(se,de),C=()=>h(new Date(se,de-1,1)),z=()=>h(new Date(se,de+1,1)),U=new Date,G=Y=>Y===U.getDate()&&de===U.getMonth()&&se===U.getFullYear(),M=Y=>m&&Y===m.getDate()&&de===m.getMonth()&&se===m.getFullYear(),Be=k.useMemo(()=>{const Y=[];return t.forEach(O=>{O.chapters.forEach(q=>{q.isCompleted||q.topics.forEach(H=>{H.isCompleted||Y.push({subjectName:O.name,chapterName:q.name,topicName:H.name,priority:Math.random()})})})}),Y.sort((O,q)=>q.priority-O.priority).slice(0,3)},[t]);return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("header",{children:[d.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 dark:from-blue-400 dark:to-indigo-400 bg-clip-text text-transparent",children:"Study Planner"}),d.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Manage your schedule and stay on track."})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-slate-800 rounded-2xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[d.jsx(ey,{className:"w-5 h-5 text-blue-500"}),c.toLocaleString("default",{month:"long",year:"numeric"})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:C,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full transition-colors",children:d.jsx(qv,{className:"w-5 h-5 text-slate-600 dark:text-slate-300"})}),d.jsx("button",{onClick:z,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full transition-colors",children:d.jsx(SN,{className:"w-5 h-5 text-slate-600 dark:text-slate-300"})})]})]}),d.jsx("div",{className:"grid grid-cols-7 gap-2 mb-2 text-center",children:SB.map(Y=>d.jsx("div",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider py-2",children:Y},Y))}),d.jsxs("div",{className:"grid grid-cols-7 gap-2",children:[Array.from({length:S}).map((Y,O)=>d.jsx("div",{className:"aspect-square"},`empty-${O}`)),Array.from({length:R}).map((Y,O)=>{const q=O+1,H=G(q)?"bg-blue-500 text-white shadow-lg shadow-blue-500/30 font-bold":"",ae=M(q)&&!G(q)?"ring-2 ring-blue-500 bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 font-semibold":"";return d.jsxs(Te.div,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>g(new Date(se,de,q)),className:`aspect-square rounded-xl flex items-center justify-center text-sm cursor-pointer transition-all hover:bg-slate-100 dark:hover:bg-slate-700 text-slate-700 dark:text-slate-300 relative ${H} ${ae}`,children:[q,V(q)&&d.jsx("div",{className:"absolute bottom-1 w-1 h-1 bg-indigo-500 rounded-full"})]},q)})]})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("h3",{className:"font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[d.jsx(AN,{className:"w-5 h-5 text-indigo-500"}),m?.toLocaleDateString([],{weekday:"long",month:"long",day:"numeric"})]}),d.jsx("button",{onClick:I,className:"text-sm font-medium text-indigo-600 dark:text-indigo-400 hover:underline",children:"+ Add"})]}),d.jsx("div",{className:"space-y-3 min-h-[100px]",children:D.length>0?D.map(Y=>{const O=t.find(H=>H.id===Y.subjectId);let q="";if(O&&Y.chapterId){const H=O.chapters.find(ae=>ae.id===Y.chapterId);if(H&&(q=H.name,Y.topicId)){const ae=H.topics.find(fe=>fe.id===Y.topicId);ae&&(q+=` > ${ae.name}`)}}return d.jsxs("div",{className:"flex items-start gap-3 p-3 bg-slate-50 dark:bg-slate-900 rounded-xl border border-slate-100 dark:border-slate-700",children:[d.jsx("input",{type:"checkbox",checked:Y.isCompleted,onChange:()=>F(Y),className:"mt-1 w-4 h-4 text-indigo-600 rounded border-slate-300 focus:ring-indigo-500"}),d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsx("span",{className:`font-semibold text-sm ${Y.isCompleted?"line-through text-slate-400":"text-slate-800 dark:text-slate-200"}`,children:O?.name||"Unknown Subject"}),d.jsx("button",{onClick:()=>a(Y.id),className:"text-slate-400 hover:text-red-500",children:""})]}),q&&d.jsx("div",{className:"text-xs text-indigo-600 dark:text-indigo-400 font-medium mt-0.5",children:q}),d.jsxs("div",{className:"text-xs text-slate-500 mt-1 flex gap-2",children:[d.jsx("span",{className:"bg-indigo-50 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300 px-1.5 py-0.5 rounded",children:Y.time}),d.jsxs("span",{children:[Y.durationMinutes,"m"]})]}),Y.notes&&d.jsxs("p",{className:"text-xs text-slate-500 mt-1 italic",children:['"',Y.notes,'"']})]})]},Y.id)}):d.jsxs("div",{className:"text-center py-8 text-slate-400 text-sm",children:[d.jsx("p",{children:"No study sessions scheduled."}),d.jsx("button",{onClick:I,className:"mt-4 px-4 py-2 bg-indigo-50 text-indigo-600 dark:bg-indigo-900/20 dark:text-indigo-400 rounded-lg text-sm font-semibold hover:bg-indigo-100 dark:hover:bg-indigo-900/30 transition-colors",children:"+ Schedule Session"})]})})]}),d.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm transition-colors",children:d.jsx(PN,{})}),d.jsxs("div",{className:"bg-gradient-to-br from-indigo-500 to-purple-600 rounded-2xl p-6 text-white shadow-lg",children:[d.jsxs("h3",{className:"font-bold text-lg mb-1 flex items-center gap-2",children:[d.jsx(Gv,{className:"w-5 h-5"}),"Smart Suggestions"]}),d.jsx("p",{className:"text-indigo-100 text-sm mb-4",children:"Focus on these topics today:"}),d.jsx("div",{className:"space-y-3",children:Be.length>0?Be.map((Y,O)=>d.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-3 border border-white/10 hover:bg-white/20 transition-colors cursor-pointer",children:[d.jsx("div",{className:"text-xs font-medium text-indigo-200 uppercase tracking-wider mb-1",children:Y.subjectName}),d.jsx("div",{className:"font-semibold text-sm line-clamp-1",children:Y.topicName}),d.jsx("div",{className:"text-xs text-indigo-100 opacity-80 mt-0.5 line-clamp-1",children:Y.chapterName})]},O)):d.jsxs("div",{className:"text-center py-4 text-indigo-100",children:[d.jsx("p",{children:" All caught up!"}),d.jsx("p",{className:"text-xs opacity-70 mt-1",children:"Great job clearing your backlog."})]})})]})]})]}),v&&d.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50 backdrop-blur-sm",children:d.jsxs(Te.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl w-full max-w-md p-6",children:[d.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4",children:"Schedule Study Session"}),d.jsxs("form",{onSubmit:j,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Subject"}),d.jsx("select",{value:_.subjectId,onChange:Y=>E({..._,subjectId:Y.target.value,chapterId:"",topicId:""}),className:"w-full px-4 py-2 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-200 focus:ring-2 focus:ring-indigo-500 outline-none",children:t.map(Y=>d.jsx("option",{value:Y.id,children:Y.name},Y.id))})]}),_.subjectId&&d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Chapter (Opt)"}),d.jsxs("select",{value:_.chapterId,onChange:Y=>E({..._,chapterId:Y.target.value,topicId:""}),className:"w-full px-4 py-2 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-200 focus:ring-2 focus:ring-indigo-500 outline-none text-sm",children:[d.jsx("option",{value:"",children:"Any Chapter"}),t.find(Y=>Y.id===_.subjectId)?.chapters.map(Y=>d.jsx("option",{value:Y.id,children:Y.name},Y.id))]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Topic (Opt)"}),d.jsxs("select",{value:_.topicId,onChange:Y=>E({..._,topicId:Y.target.value}),className:"w-full px-4 py-2 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-200 focus:ring-2 focus:ring-indigo-500 outline-none text-sm",disabled:!_.chapterId,children:[d.jsx("option",{value:"",children:"Any Topic"}),_.chapterId&&t.find(Y=>Y.id===_.subjectId)?.chapters.find(Y=>Y.id===_.chapterId)?.topics.map(Y=>d.jsx("option",{value:Y.id,children:Y.name},Y.id))]})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Time"}),d.jsx("input",{type:"time",value:_.time,onChange:Y=>E({..._,time:Y.target.value}),className:"w-full px-4 py-2 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-200 focus:ring-2 focus:ring-indigo-500 outline-none"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Duration (mins)"}),d.jsx("input",{type:"number",min:"5",step:"5",value:_.durationMinutes,onChange:Y=>E({..._,durationMinutes:parseInt(Y.target.value)}),className:"w-full px-4 py-2 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-200 focus:ring-2 focus:ring-indigo-500 outline-none"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Notes (Optional)"}),d.jsx("textarea",{value:_.notes,onChange:Y=>E({..._,notes:Y.target.value}),placeholder:"What topics will you cover?",className:"w-full px-4 py-2 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-200 focus:ring-2 focus:ring-indigo-500 outline-none h-20 resize-none"})]}),d.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-slate-100 dark:border-slate-700",children:[d.jsx("button",{type:"button",onClick:()=>x(!1),className:"px-4 py-2 text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg font-medium",children:"Cancel"}),d.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white hover:bg-indigo-700 rounded-lg font-medium shadow-sm shadow-indigo-200 dark:shadow-none",children:"Schedule"})]})]})]})})]})}function kB(){const[t,e]=k.useState([]),[n,i]=k.useState(!0),[a,l]=k.useState("");k.useEffect(()=>{const m=Bu(Yr(hi,"users"),om("userProfile.xp","desc"),lm(50)),g=cm(m,v=>{const x=[];v.forEach(_=>{const E=_.data();E.userProfile&&x.push({id:_.id,userProfile:E.userProfile,lastActive:E.lastActive})}),e(x),i(!1)});return()=>g()},[]);const c=[{label:"Total Students",value:t.length.toString(),icon:hl,color:"text-blue-500",bg:"bg-blue-50 dark:bg-blue-900/20",trend:"+12%",trendUp:!0},{label:"Study Hours",value:(t.reduce((m,g)=>m+(g.userProfile.totalStudyTime||0),0)/3600).toFixed(1),icon:AN,color:"text-emerald-500",bg:"bg-emerald-50 dark:bg-emerald-900/20",trend:"+8%",trendUp:!0},{label:"Top Level",value:Math.max(...t.map(m=>m.userProfile.level||1)).toString(),icon:ia,color:"text-amber-500",bg:"bg-amber-50 dark:bg-amber-900/20",trend:"Stable",trendUp:!0},{label:"Engagement",value:"84%",icon:Df,color:"text-indigo-500",bg:"bg-indigo-50 dark:bg-indigo-900/20",trend:"-2%",trendUp:!1}],h=t.filter(m=>m.userProfile.name.toLowerCase().includes(a.toLowerCase())||m.id.toLowerCase().includes(a.toLowerCase()));return d.jsxs("div",{className:"space-y-8 pb-20",children:[d.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[d.jsxs("div",{children:[d.jsxs("h1",{className:"text-3xl font-black text-slate-800 dark:text-white flex items-center gap-3",children:[d.jsx(IN,{className:"w-8 h-8 text-indigo-500"}),"Admin Dashboard"]}),d.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:"Manage users and track global performance"})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("div",{className:"relative",children:[d.jsx(E7,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),d.jsx("input",{type:"text",placeholder:"Search students...",value:a,onChange:m=>l(m.target.value),className:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl py-2 pl-10 pr-4 text-sm focus:ring-2 focus:ring-indigo-500/20 outline-none w-full md:w-64 transition-all"})]}),d.jsx("button",{className:"p-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",children:d.jsx(GU,{className:"w-4 h-4 text-slate-500"})})]})]}),d.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6",children:c.map((m,g)=>d.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:g*.1},className:"bg-white dark:bg-slate-800 p-5 rounded-3xl border border-slate-100 dark:border-slate-700 shadow-sm",children:[d.jsxs("div",{className:"flex items-start justify-between mb-4",children:[d.jsx("div",{className:`p-3 rounded-2xl ${m.bg}`,children:d.jsx(m.icon,{className:`w-6 h-6 ${m.color}`})}),d.jsxs("div",{className:`flex items-center gap-1 text-xs font-bold ${m.trendUp?"text-emerald-500":"text-rose-500"}`,children:[m.trendUp?d.jsx(lU,{className:"w-3 h-3"}):d.jsx(sU,{className:"w-3 h-3"}),m.trend]})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-2xl font-black text-slate-800 dark:text-white",children:m.value}),d.jsx("div",{className:"text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:m.label})]})]},g))}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl border border-slate-100 dark:border-slate-700 shadow-sm overflow-hidden",children:[d.jsxs("div",{className:"p-6 border-b border-slate-50 dark:border-slate-700 flex items-center justify-between",children:[d.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Active Students"}),d.jsxs("span",{className:"text-xs font-bold bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 px-3 py-1 rounded-full",children:[h.length," Students"]})]}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-left border-collapse",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"bg-slate-50/50 dark:bg-slate-900/50",children:[d.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-widest",children:"Student"}),d.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-widest text-center",children:"Level"}),d.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-widest text-center",children:"XP"}),d.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-widest text-center",children:"Study Time"}),d.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-widest text-center",children:"Role"}),d.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-widest text-right",children:"Actions"})]})}),d.jsx("tbody",{className:"divide-y divide-slate-50 dark:divide-slate-700/50",children:n?[1,2,3].map(m=>d.jsx("tr",{className:"animate-pulse",children:d.jsx("td",{colSpan:6,className:"px-6 py-8",children:d.jsx("div",{className:"h-4 bg-slate-100 dark:bg-slate-700 rounded-full w-2/3 mx-auto"})})},m)):h.length>0?h.map(m=>d.jsxs("tr",{className:"hover:bg-slate-50/50 dark:hover:bg-slate-900/30 transition-colors group",children:[d.jsx("td",{className:"px-6 py-4",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center text-white font-bold text-sm shadow-sm ring-2 ring-white dark:ring-slate-700",children:m.userProfile.name?.charAt(0)||"?"}),d.jsxs("div",{children:[d.jsx("div",{className:"font-bold text-slate-800 dark:text-white text-sm",children:m.userProfile.name}),d.jsxs("div",{className:"text-[10px] text-slate-400 dark:text-slate-500 font-medium font-mono",children:[m.id.substring(0,8),"..."]})]})]})}),d.jsx("td",{className:"px-6 py-4 text-center",children:d.jsx("span",{className:"inline-flex items-center justify-center w-8 h-8 rounded-lg bg-emerald-50 dark:bg-emerald-900/20 text-emerald-600 dark:text-emerald-400 font-black text-xs border border-emerald-100 dark:border-emerald-900/50",children:m.userProfile.level||1})}),d.jsx("td",{className:"px-6 py-4 text-center",children:d.jsx("div",{className:"text-sm font-bold text-slate-700 dark:text-slate-300",children:(m.userProfile.xp||0).toLocaleString()})}),d.jsx("td",{className:"px-6 py-4 text-center",children:d.jsxs("div",{className:"text-sm font-bold text-slate-700 dark:text-slate-300",children:[Math.round((m.userProfile.totalStudyTime||0)/3600),"h"]})}),d.jsx("td",{className:"px-6 py-4 text-center text-sm font-bold text-slate-500 dark:text-slate-400",children:d.jsx("span",{className:`px-2 py-0.5 rounded-full text-[10px] uppercase font-black tracking-widest ${m.userProfile.role==="admin"?"bg-rose-100 dark:bg-rose-900/30 text-rose-600 dark:text-rose-400":"bg-slate-100 dark:bg-slate-700/50 text-slate-500 dark:text-slate-400"}`,children:m.userProfile.role||"Student"})}),d.jsx("td",{className:"px-6 py-4 text-right",children:d.jsx("button",{className:"p-1 px-2 text-slate-400 hover:text-indigo-500 dark:hover:text-indigo-400 transition-colors",children:d.jsx(BU,{className:"w-5 h-5"})})})]},m.id)):d.jsx("tr",{children:d.jsx("td",{colSpan:6,className:"px-6 py-12 text-center text-slate-500 dark:text-slate-400",children:"No students matched your search."})})})]})})]})]})}function NB({children:t}){const{user:e,loading:n}=tr();return n?d.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 flex items-center justify-center",children:"Loading..."}):e?d.jsx(d.Fragment,{children:t}):d.jsx(nS,{to:"/login"})}function CB({children:t}){const{isAdmin:e}=Ht();return e?d.jsx(d.Fragment,{children:t}):d.jsx(nS,{to:"/",replace:!0})}function RB(){return d.jsx(K7,{children:d.jsx(X7,{children:d.jsx(Sz,{children:d.jsx(c4,{basename:"/Study-Mate/",children:d.jsxs(UI,{children:[d.jsx(As,{path:"/login",element:d.jsx(EB,{})}),d.jsxs(As,{path:"/",element:d.jsx(NB,{children:d.jsx(TB,{})}),children:[d.jsx(As,{index:!0,element:d.jsx(oz,{})}),d.jsx(As,{path:"subject/:id",element:d.jsx(pz,{})}),d.jsx(As,{path:"planner",element:d.jsx(AB,{})}),d.jsx(As,{path:"analytics",element:d.jsx(Tz,{})}),d.jsx(As,{path:"timer",element:d.jsx(Ez,{})}),d.jsx(As,{path:"chat",element:d.jsx(yB,{})}),d.jsx(As,{path:"settings",element:d.jsx(xz,{})}),d.jsx(As,{path:"admin",element:d.jsx(CB,{children:d.jsx(kB,{})})})]})]})})})})})}class IB extends k.Component{state={hasError:!1,error:null};static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("Uncaught error:",e,n)}render(){return this.state.hasError?d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-red-50 p-4",children:d.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg max-w-lg w-full",children:[d.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Something went wrong"}),d.jsx("p",{className:"text-slate-600 mb-4",children:"We encountered an unexpected error."}),d.jsx("pre",{className:"bg-slate-100 p-4 rounded text-xs text-slate-800 overflow-auto mb-4",children:this.state.error?.message}),d.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Reload Page"})]})}):this.props.children}}UR.createRoot(document.getElementById("root")).render(d.jsx(BE.StrictMode,{children:d.jsx(IB,{children:d.jsx(X8,{children:d.jsx(gz,{children:d.jsx(uz,{children:d.jsx(RB,{})})})})})}));
