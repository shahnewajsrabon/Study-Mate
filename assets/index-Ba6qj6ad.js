(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function eS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var bg={exports:{}},qc={};var R1;function ZN(){if(R1)return qc;R1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:t,type:i,key:c,ref:a!==void 0?a:null,props:l}}return qc.Fragment=e,qc.jsx=n,qc.jsxs=n,qc}var N1;function eI(){return N1||(N1=1,bg.exports=ZN()),bg.exports}var g=eI(),xg={exports:{}},Oe={};var I1;function tI(){if(I1)return Oe;I1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),w=Symbol.iterator;function S(U){return U===null||typeof U!="object"?null:(U=w&&U[w]||U["@@iterator"],typeof U=="function"?U:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,V={};function z(U,ee,ce){this.props=U,this.context=ee,this.refs=V,this.updater=ce||D}z.prototype.isReactComponent={},z.prototype.setState=function(U,ee){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,ee,"setState")},z.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function F(){}F.prototype=z.prototype;function G(U,ee,ce){this.props=U,this.context=ee,this.refs=V,this.updater=ce||D}var te=G.prototype=new F;te.constructor=G,O(te,z.prototype),te.isPureReactComponent=!0;var re=Array.isArray;function he(){}var j={H:null,A:null,T:null,S:null},E=Object.prototype.hasOwnProperty;function C(U,ee,ce){var ue=ce.ref;return{$$typeof:t,type:U,key:ee,ref:ue!==void 0?ue:null,props:ce}}function M(U,ee){return C(U.type,ee,U.props)}function N(U){return typeof U=="object"&&U!==null&&U.$$typeof===t}function P(U){var ee={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(ce){return ee[ce]})}var I=/\/+/g;function xe(U,ee){return typeof U=="object"&&U!==null&&U.key!=null?P(""+U.key):ee.toString(36)}function Ee(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(he,he):(U.status="pending",U.then(function(ee){U.status==="pending"&&(U.status="fulfilled",U.value=ee)},function(ee){U.status==="pending"&&(U.status="rejected",U.reason=ee)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function H(U,ee,ce,ue,Se){var De=typeof U;(De==="undefined"||De==="boolean")&&(U=null);var le=!1;if(U===null)le=!0;else switch(De){case"bigint":case"string":case"number":le=!0;break;case"object":switch(U.$$typeof){case t:case e:le=!0;break;case v:return le=U._init,H(le(U._payload),ee,ce,ue,Se)}}if(le)return Se=Se(U),le=ue===""?"."+xe(U,0):ue,re(Se)?(ce="",le!=null&&(ce=le.replace(I,"$&/")+"/"),H(Se,ee,ce,"",function(xt){return xt})):Se!=null&&(N(Se)&&(Se=M(Se,ce+(Se.key==null||U&&U.key===Se.key?"":(""+Se.key).replace(I,"$&/")+"/")+le)),ee.push(Se)),1;le=0;var Ne=ue===""?".":ue+":";if(re(U))for(var Me=0;Me<U.length;Me++)ue=U[Me],De=Ne+xe(ue,Me),le+=H(ue,ee,ce,De,Se);else if(Me=S(U),typeof Me=="function")for(U=Me.call(U),Me=0;!(ue=U.next()).done;)ue=ue.value,De=Ne+xe(ue,Me++),le+=H(ue,ee,ce,De,Se);else if(De==="object"){if(typeof U.then=="function")return H(Ee(U),ee,ce,ue,Se);throw ee=String(U),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return le}function Z(U,ee,ce){if(U==null)return U;var ue=[],Se=0;return H(U,ue,"","",function(De){return ee.call(ce,De,Se++)}),ue}function $(U){if(U._status===-1){var ee=U._result;ee=ee(),ee.then(function(ce){(U._status===0||U._status===-1)&&(U._status=1,U._result=ce)},function(ce){(U._status===0||U._status===-1)&&(U._status=2,U._result=ce)}),U._status===-1&&(U._status=0,U._result=ee)}if(U._status===1)return U._result.default;throw U._result}var me=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)},_e={map:Z,forEach:function(U,ee,ce){Z(U,function(){ee.apply(this,arguments)},ce)},count:function(U){var ee=0;return Z(U,function(){ee++}),ee},toArray:function(U){return Z(U,function(ee){return ee})||[]},only:function(U){if(!N(U))throw Error("React.Children.only expected to receive a single React element child.");return U}};return Oe.Activity=b,Oe.Children=_e,Oe.Component=z,Oe.Fragment=n,Oe.Profiler=a,Oe.PureComponent=G,Oe.StrictMode=i,Oe.Suspense=f,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,Oe.__COMPILER_RUNTIME={__proto__:null,c:function(U){return j.H.useMemoCache(U)}},Oe.cache=function(U){return function(){return U.apply(null,arguments)}},Oe.cacheSignal=function(){return null},Oe.cloneElement=function(U,ee,ce){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var ue=O({},U.props),Se=U.key;if(ee!=null)for(De in ee.key!==void 0&&(Se=""+ee.key),ee)!E.call(ee,De)||De==="key"||De==="__self"||De==="__source"||De==="ref"&&ee.ref===void 0||(ue[De]=ee[De]);var De=arguments.length-2;if(De===1)ue.children=ce;else if(1<De){for(var le=Array(De),Ne=0;Ne<De;Ne++)le[Ne]=arguments[Ne+2];ue.children=le}return C(U.type,Se,ue)},Oe.createContext=function(U){return U={$$typeof:c,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:l,_context:U},U},Oe.createElement=function(U,ee,ce){var ue,Se={},De=null;if(ee!=null)for(ue in ee.key!==void 0&&(De=""+ee.key),ee)E.call(ee,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(Se[ue]=ee[ue]);var le=arguments.length-2;if(le===1)Se.children=ce;else if(1<le){for(var Ne=Array(le),Me=0;Me<le;Me++)Ne[Me]=arguments[Me+2];Se.children=Ne}if(U&&U.defaultProps)for(ue in le=U.defaultProps,le)Se[ue]===void 0&&(Se[ue]=le[ue]);return C(U,De,Se)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(U){return{$$typeof:d,render:U}},Oe.isValidElement=N,Oe.lazy=function(U){return{$$typeof:v,_payload:{_status:-1,_result:U},_init:$}},Oe.memo=function(U,ee){return{$$typeof:p,type:U,compare:ee===void 0?null:ee}},Oe.startTransition=function(U){var ee=j.T,ce={};j.T=ce;try{var ue=U(),Se=j.S;Se!==null&&Se(ce,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(he,me)}catch(De){me(De)}finally{ee!==null&&ce.types!==null&&(ee.types=ce.types),j.T=ee}},Oe.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},Oe.use=function(U){return j.H.use(U)},Oe.useActionState=function(U,ee,ce){return j.H.useActionState(U,ee,ce)},Oe.useCallback=function(U,ee){return j.H.useCallback(U,ee)},Oe.useContext=function(U){return j.H.useContext(U)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(U,ee){return j.H.useDeferredValue(U,ee)},Oe.useEffect=function(U,ee){return j.H.useEffect(U,ee)},Oe.useEffectEvent=function(U){return j.H.useEffectEvent(U)},Oe.useId=function(){return j.H.useId()},Oe.useImperativeHandle=function(U,ee,ce){return j.H.useImperativeHandle(U,ee,ce)},Oe.useInsertionEffect=function(U,ee){return j.H.useInsertionEffect(U,ee)},Oe.useLayoutEffect=function(U,ee){return j.H.useLayoutEffect(U,ee)},Oe.useMemo=function(U,ee){return j.H.useMemo(U,ee)},Oe.useOptimistic=function(U,ee){return j.H.useOptimistic(U,ee)},Oe.useReducer=function(U,ee,ce){return j.H.useReducer(U,ee,ce)},Oe.useRef=function(U){return j.H.useRef(U)},Oe.useState=function(U){return j.H.useState(U)},Oe.useSyncExternalStore=function(U,ee,ce){return j.H.useSyncExternalStore(U,ee,ce)},Oe.useTransition=function(){return j.H.useTransition()},Oe.version="19.2.4",Oe}var D1;function fy(){return D1||(D1=1,xg.exports=tI()),xg.exports}var R=fy();const my=eS(R);var _g={exports:{}},Gc={},wg={exports:{}},Tg={};var j1;function nI(){return j1||(j1=1,(function(t){function e(H,Z){var $=H.length;H.push(Z);e:for(;0<$;){var me=$-1>>>1,_e=H[me];if(0<a(_e,Z))H[me]=Z,H[$]=_e,$=me;else break e}}function n(H){return H.length===0?null:H[0]}function i(H){if(H.length===0)return null;var Z=H[0],$=H.pop();if($!==Z){H[0]=$;e:for(var me=0,_e=H.length,U=_e>>>1;me<U;){var ee=2*(me+1)-1,ce=H[ee],ue=ee+1,Se=H[ue];if(0>a(ce,$))ue<_e&&0>a(Se,ce)?(H[me]=Se,H[ue]=$,me=ue):(H[me]=ce,H[ee]=$,me=ee);else if(ue<_e&&0>a(Se,$))H[me]=Se,H[ue]=$,me=ue;else break e}}return Z}function a(H,Z){var $=H.sortIndex-Z.sortIndex;return $!==0?$:H.id-Z.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var f=[],p=[],v=1,b=null,w=3,S=!1,D=!1,O=!1,V=!1,z=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function te(H){for(var Z=n(p);Z!==null;){if(Z.callback===null)i(p);else if(Z.startTime<=H)i(p),Z.sortIndex=Z.expirationTime,e(f,Z);else break;Z=n(p)}}function re(H){if(O=!1,te(H),!D)if(n(f)!==null)D=!0,he||(he=!0,P());else{var Z=n(p);Z!==null&&Ee(re,Z.startTime-H)}}var he=!1,j=-1,E=5,C=-1;function M(){return V?!0:!(t.unstable_now()-C<E)}function N(){if(V=!1,he){var H=t.unstable_now();C=H;var Z=!0;try{e:{D=!1,O&&(O=!1,F(j),j=-1),S=!0;var $=w;try{t:{for(te(H),b=n(f);b!==null&&!(b.expirationTime>H&&M());){var me=b.callback;if(typeof me=="function"){b.callback=null,w=b.priorityLevel;var _e=me(b.expirationTime<=H);if(H=t.unstable_now(),typeof _e=="function"){b.callback=_e,te(H),Z=!0;break t}b===n(f)&&i(f),te(H)}else i(f);b=n(f)}if(b!==null)Z=!0;else{var U=n(p);U!==null&&Ee(re,U.startTime-H),Z=!1}}break e}finally{b=null,w=$,S=!1}Z=void 0}}finally{Z?P():he=!1}}}var P;if(typeof G=="function")P=function(){G(N)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,xe=I.port2;I.port1.onmessage=N,P=function(){xe.postMessage(null)}}else P=function(){z(N,0)};function Ee(H,Z){j=z(function(){H(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_next=function(H){switch(w){case 1:case 2:case 3:var Z=3;break;default:Z=w}var $=w;w=Z;try{return H()}finally{w=$}},t.unstable_requestPaint=function(){V=!0},t.unstable_runWithPriority=function(H,Z){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var $=w;w=H;try{return Z()}finally{w=$}},t.unstable_scheduleCallback=function(H,Z,$){var me=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?me+$:me):$=me,H){case 1:var _e=-1;break;case 2:_e=250;break;case 5:_e=1073741823;break;case 4:_e=1e4;break;default:_e=5e3}return _e=$+_e,H={id:v++,callback:Z,priorityLevel:H,startTime:$,expirationTime:_e,sortIndex:-1},$>me?(H.sortIndex=$,e(p,H),n(f)===null&&H===n(p)&&(O?(F(j),j=-1):O=!0,Ee(re,$-me))):(H.sortIndex=_e,e(f,H),D||S||(D=!0,he||(he=!0,P()))),H},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(H){var Z=w;return function(){var $=w;w=Z;try{return H.apply(this,arguments)}finally{w=$}}}})(Tg)),Tg}var M1;function sI(){return M1||(M1=1,wg.exports=nI()),wg.exports}var Eg={exports:{}},mn={};var V1;function iI(){if(V1)return mn;V1=1;var t=fy();function e(f){var p="https://react.dev/errors/"+f;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(f,p,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:b==null?null:""+b,children:f,containerInfo:p,implementation:v}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,p){if(f==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return mn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,mn.createPortal=function(f,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(f,p,null,v)},mn.flushSync=function(f){var p=c.T,v=i.p;try{if(c.T=null,i.p=2,f)return f()}finally{c.T=p,i.p=v,i.d.f()}},mn.preconnect=function(f,p){typeof f=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(f,p))},mn.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},mn.preinit=function(f,p){if(typeof f=="string"&&p&&typeof p.as=="string"){var v=p.as,b=d(v,p.crossOrigin),w=typeof p.integrity=="string"?p.integrity:void 0,S=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?i.d.S(f,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:w,fetchPriority:S}):v==="script"&&i.d.X(f,{crossOrigin:b,integrity:w,fetchPriority:S,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},mn.preinitModule=function(f,p){if(typeof f=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=d(p.as,p.crossOrigin);i.d.M(f,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(f)},mn.preload=function(f,p){if(typeof f=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,b=d(v,p.crossOrigin);i.d.L(f,v,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},mn.preloadModule=function(f,p){if(typeof f=="string")if(p){var v=d(p.as,p.crossOrigin);i.d.m(f,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(f)},mn.requestFormReset=function(f){i.d.r(f)},mn.unstable_batchedUpdates=function(f,p){return f(p)},mn.useFormState=function(f,p,v){return c.H.useFormState(f,p,v)},mn.useFormStatus=function(){return c.H.useHostTransitionStatus()},mn.version="19.2.4",mn}var O1;function rI(){if(O1)return Eg.exports;O1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Eg.exports=iI(),Eg.exports}var P1;function aI(){if(P1)return Gc;P1=1;var t=sI(),e=fy(),n=rI();function i(s){var r="https://react.dev/errors/"+s;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+s+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function l(s){var r=s,o=s;if(s.alternate)for(;r.return;)r=r.return;else{s=r;do r=s,(r.flags&4098)!==0&&(o=r.return),s=r.return;while(s)}return r.tag===3?o:null}function c(s){if(s.tag===13){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function d(s){if(s.tag===31){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function f(s){if(l(s)!==s)throw Error(i(188))}function p(s){var r=s.alternate;if(!r){if(r=l(s),r===null)throw Error(i(188));return r!==s?null:s}for(var o=s,u=r;;){var m=o.return;if(m===null)break;var y=m.alternate;if(y===null){if(u=m.return,u!==null){o=u;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===o)return f(m),s;if(y===u)return f(m),r;y=y.sibling}throw Error(i(188))}if(o.return!==u.return)o=m,u=y;else{for(var _=!1,A=m.child;A;){if(A===o){_=!0,o=m,u=y;break}if(A===u){_=!0,u=m,o=y;break}A=A.sibling}if(!_){for(A=y.child;A;){if(A===o){_=!0,o=y,u=m;break}if(A===u){_=!0,u=y,o=m;break}A=A.sibling}if(!_)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?s:r}function v(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s;for(s=s.child;s!==null;){if(r=v(s),r!==null)return r;s=s.sibling}return null}var b=Object.assign,w=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),F=Symbol.for("react.consumer"),G=Symbol.for("react.context"),te=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),he=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function P(s){return s===null||typeof s!="object"?null:(s=N&&s[N]||s["@@iterator"],typeof s=="function"?s:null)}var I=Symbol.for("react.client.reference");function xe(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===I?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case O:return"Fragment";case z:return"Profiler";case V:return"StrictMode";case re:return"Suspense";case he:return"SuspenseList";case C:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case D:return"Portal";case G:return s.displayName||"Context";case F:return(s._context.displayName||"Context")+".Consumer";case te:var r=s.render;return s=s.displayName,s||(s=r.displayName||r.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case j:return r=s.displayName||null,r!==null?r:xe(s.type)||"Memo";case E:r=s._payload,s=s._init;try{return xe(s(r))}catch{}}return null}var Ee=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$={pending:!1,data:null,method:null,action:null},me=[],_e=-1;function U(s){return{current:s}}function ee(s){0>_e||(s.current=me[_e],me[_e]=null,_e--)}function ce(s,r){_e++,me[_e]=s.current,s.current=r}var ue=U(null),Se=U(null),De=U(null),le=U(null);function Ne(s,r){switch(ce(De,r),ce(Se,s),ce(ue,null),r.nodeType){case 9:case 11:s=(s=r.documentElement)&&(s=s.namespaceURI)?J_(s):0;break;default:if(s=r.tagName,r=r.namespaceURI)r=J_(r),s=Z_(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ee(ue),ce(ue,s)}function Me(){ee(ue),ee(Se),ee(De)}function xt(s){s.memoizedState!==null&&ce(le,s);var r=ue.current,o=Z_(r,s.type);r!==o&&(ce(Se,s),ce(ue,o))}function Cn(s){Se.current===s&&(ee(ue),ee(Se)),le.current===s&&(ee(le),zc._currentValue=$)}var kn,_i;function tn(s){if(kn===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);kn=r&&r[1]||"",_i=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+kn+s+_i}var vs=!1;function ca(s,r){if(!s||vs)return"";vs=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(J){var X=J}Reflect.construct(s,[],ae)}else{try{ae.call()}catch(J){X=J}s.call(ae.prototype)}}else{try{throw Error()}catch(J){X=J}(ae=s())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(J){if(J&&X&&typeof J.stack=="string")return[J.stack,X.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=u.DetermineComponentFrameRoot(),_=y[0],A=y[1];if(_&&A){var L=_.split(`
`),Q=A.split(`
`);for(m=u=0;u<L.length&&!L[u].includes("DetermineComponentFrameRoot");)u++;for(;m<Q.length&&!Q[m].includes("DetermineComponentFrameRoot");)m++;if(u===L.length||m===Q.length)for(u=L.length-1,m=Q.length-1;1<=u&&0<=m&&L[u]!==Q[m];)m--;for(;1<=u&&0<=m;u--,m--)if(L[u]!==Q[m]){if(u!==1||m!==1)do if(u--,m--,0>m||L[u]!==Q[m]){var ne=`
`+L[u].replace(" at new "," at ");return s.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",s.displayName)),ne}while(1<=u&&0<=m);break}}}finally{vs=!1,Error.prepareStackTrace=o}return(o=s?s.displayName||s.name:"")?tn(o):""}function Bl(s,r){switch(s.tag){case 26:case 27:case 5:return tn(s.type);case 16:return tn("Lazy");case 13:return s.child!==r&&r!==null?tn("Suspense Fallback"):tn("Suspense");case 19:return tn("SuspenseList");case 0:case 15:return ca(s.type,!1);case 11:return ca(s.type.render,!1);case 1:return ca(s.type,!0);case 31:return tn("Activity");default:return""}}function Fl(s){try{var r="",o=null;do r+=Bl(s,o),o=s,s=s.return;while(s);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var jt=Object.prototype.hasOwnProperty,$t=t.unstable_scheduleCallback,ir=t.unstable_cancelCallback,_m=t.unstable_shouldYield,Qu=t.unstable_requestPaint,_n=t.unstable_now,ua=t.unstable_getCurrentPriorityLevel,Hl=t.unstable_ImmediatePriority,ql=t.unstable_UserBlockingPriority,rr=t.unstable_NormalPriority,wm=t.unstable_LowPriority,Xu=t.unstable_IdlePriority,Wu=t.log,Ju=t.unstable_setDisableYieldValue,bs=null,nn=null;function Jn(s){if(typeof Wu=="function"&&Ju(s),nn&&typeof nn.setStrictMode=="function")try{nn.setStrictMode(bs,s)}catch{}}var kt=Math.clz32?Math.clz32:eh,Zu=Math.log,uo=Math.LN2;function eh(s){return s>>>=0,s===0?32:31-(Zu(s)/uo|0)|0}var Us=256,ha=262144,Mt=4194304;function zs(s){var r=s&42;if(r!==0)return r;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Bs(s,r,o){var u=s.pendingLanes;if(u===0)return 0;var m=0,y=s.suspendedLanes,_=s.pingedLanes;s=s.warmLanes;var A=u&134217727;return A!==0?(u=A&~y,u!==0?m=zs(u):(_&=A,_!==0?m=zs(_):o||(o=A&~s,o!==0&&(m=zs(o))))):(A=u&~y,A!==0?m=zs(A):_!==0?m=zs(_):o||(o=u&~s,o!==0&&(m=zs(o)))),m===0?0:r!==0&&r!==m&&(r&y)===0&&(y=m&-m,o=r&-r,y>=o||y===32&&(o&4194048)!==0)?r:m}function xs(s,r){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&r)===0}function Tm(s,r){switch(s){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function th(){var s=Mt;return Mt<<=1,(Mt&62914560)===0&&(Mt=4194304),s}function Fs(s){for(var r=[],o=0;31>o;o++)r.push(s);return r}function da(s,r){s.pendingLanes|=r,r!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Em(s,r,o,u,m,y){var _=s.pendingLanes;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=o,s.entangledLanes&=o,s.errorRecoveryDisabledLanes&=o,s.shellSuspendCounter=0;var A=s.entanglements,L=s.expirationTimes,Q=s.hiddenUpdates;for(o=_&~o;0<o;){var ne=31-kt(o),ae=1<<ne;A[ne]=0,L[ne]=-1;var X=Q[ne];if(X!==null)for(Q[ne]=null,ne=0;ne<X.length;ne++){var J=X[ne];J!==null&&(J.lane&=-536870913)}o&=~ae}u!==0&&fa(s,u,0),y!==0&&m===0&&s.tag!==0&&(s.suspendedLanes|=y&~(_&~r))}function fa(s,r,o){s.pendingLanes|=r,s.suspendedLanes&=~r;var u=31-kt(r);s.entangledLanes|=r,s.entanglements[u]=s.entanglements[u]|1073741824|o&261930}function Gl(s,r){var o=s.entangledLanes|=r;for(s=s.entanglements;o;){var u=31-kt(o),m=1<<u;m&r|s[u]&r&&(s[u]|=r),o&=~m}}function $l(s,r){var o=r&-r;return o=(o&42)!==0?1:ma(o),(o&(s.suspendedLanes|r))!==0?0:o}function ma(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function wi(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function nh(){var s=Z.p;return s!==0?s:(s=window.event,s===void 0?32:w1(s.type))}function _s(s,r){var o=Z.p;try{return Z.p=s,r()}finally{Z.p=o}}var ws=Math.random().toString(36).slice(2),Vt="__reactFiber$"+ws,Wt="__reactProps$"+ws,Hs="__reactContainer$"+ws,ho="__reactEvents$"+ws,Sm="__reactListeners$"+ws,sh="__reactHandles$"+ws,ih="__reactResources$"+ws,qs="__reactMarker$"+ws;function fo(s){delete s[Vt],delete s[Wt],delete s[ho],delete s[Sm],delete s[sh]}function Gs(s){var r=s[Vt];if(r)return r;for(var o=s.parentNode;o;){if(r=o[Hs]||o[Vt]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(s=a1(s);s!==null;){if(o=s[Vt])return o;s=a1(s)}return r}s=o,o=s.parentNode}return null}function Zn(s){if(s=s[Vt]||s[Hs]){var r=s.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return s}return null}function Un(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s.stateNode;throw Error(i(33))}function $s(s){var r=s[ih];return r||(r=s[ih]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Ot(s){s[qs]=!0}var Kl=new Set,Yl={};function Ks(s,r){Ys(s,r),Ys(s+"Capture",r)}function Ys(s,r){for(Yl[s]=r,s=0;s<r.length;s++)Kl.add(r[s])}var Ql=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Xl={},Wl={};function rh(s){return jt.call(Wl,s)?!0:jt.call(Xl,s)?!1:Ql.test(s)?Wl[s]=!0:(Xl[s]=!0,!1)}function mo(s,r,o){if(rh(r))if(o===null)s.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":s.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){s.removeAttribute(r);return}}s.setAttribute(r,""+o)}}function zn(s,r,o){if(o===null)s.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(r);return}s.setAttribute(r,""+o)}}function Pt(s,r,o,u){if(u===null)s.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttributeNS(r,o,""+u)}}function Jt(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function ar(s){var r=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Jl(s,r,o){var u=Object.getOwnPropertyDescriptor(s.constructor.prototype,r);if(!s.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,y=u.set;return Object.defineProperty(s,r,{configurable:!0,get:function(){return m.call(this)},set:function(_){o=""+_,y.call(this,_)}}),Object.defineProperty(s,r,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(_){o=""+_},stopTracking:function(){s._valueTracker=null,delete s[r]}}}}function nt(s){if(!s._valueTracker){var r=ar(s)?"checked":"value";s._valueTracker=Jl(s,r,""+s[r])}}function pa(s){if(!s)return!1;var r=s._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return s&&(u=ar(s)?s.checked?"true":"false":s.value),s=u,s!==o?(r.setValue(s),!0):!1}function Qs(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var ga=/[\n"\\]/g;function Rn(s){return s.replace(ga,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function po(s,r,o,u,m,y,_,A){s.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?s.type=_:s.removeAttribute("type"),r!=null?_==="number"?(r===0&&s.value===""||s.value!=r)&&(s.value=""+Jt(r)):s.value!==""+Jt(r)&&(s.value=""+Jt(r)):_!=="submit"&&_!=="reset"||s.removeAttribute("value"),r!=null?Zl(s,_,Jt(r)):o!=null?Zl(s,_,Jt(o)):u!=null&&s.removeAttribute("value"),m==null&&y!=null&&(s.defaultChecked=!!y),m!=null&&(s.checked=m&&typeof m!="function"&&typeof m!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?s.name=""+Jt(A):s.removeAttribute("name")}function ah(s,r,o,u,m,y,_,A){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(s.type=y),r!=null||o!=null){if(!(y!=="submit"&&y!=="reset"||r!=null)){nt(s);return}o=o!=null?""+Jt(o):"",r=r!=null?""+Jt(r):o,A||r===s.value||(s.value=r),s.defaultValue=r}u=u??m,u=typeof u!="function"&&typeof u!="symbol"&&!!u,s.checked=A?s.checked:!!u,s.defaultChecked=!!u,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(s.name=_),nt(s)}function Zl(s,r,o){r==="number"&&Qs(s.ownerDocument)===s||s.defaultValue===""+o||(s.defaultValue=""+o)}function or(s,r,o,u){if(s=s.options,r){r={};for(var m=0;m<o.length;m++)r["$"+o[m]]=!0;for(o=0;o<s.length;o++)m=r.hasOwnProperty("$"+s[o].value),s[o].selected!==m&&(s[o].selected=m),m&&u&&(s[o].defaultSelected=!0)}else{for(o=""+Jt(o),r=null,m=0;m<s.length;m++){if(s[m].value===o){s[m].selected=!0,u&&(s[m].defaultSelected=!0);return}r!==null||s[m].disabled||(r=s[m])}r!==null&&(r.selected=!0)}}function oh(s,r,o){if(r!=null&&(r=""+Jt(r),r!==s.value&&(s.value=r),o==null)){s.defaultValue!==r&&(s.defaultValue=r);return}s.defaultValue=o!=null?""+Jt(o):""}function lr(s,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(i(92));if(Ee(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=Jt(r),s.defaultValue=o,u=s.textContent,u===o&&u!==""&&u!==null&&(s.value=u),nt(s)}function Nn(s,r){if(r){var o=s.firstChild;if(o&&o===s.lastChild&&o.nodeType===3){o.nodeValue=r;return}}s.textContent=r}var lh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ec(s,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?s.setProperty(r,""):r==="float"?s.cssFloat="":s[r]="":u?s.setProperty(r,o):typeof o!="number"||o===0||lh.has(r)?r==="float"?s.cssFloat=o:s[r]=(""+o).trim():s[r]=o+"px"}function tc(s,r,o){if(r!=null&&typeof r!="object")throw Error(i(62));if(s=s.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?s.setProperty(u,""):u==="float"?s.cssFloat="":s[u]="");for(var m in r)u=r[m],r.hasOwnProperty(m)&&o[m]!==u&&ec(s,m,u)}else for(var y in r)r.hasOwnProperty(y)&&ec(s,y,r[y])}function go(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ch=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),cr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function yo(s){return cr.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Ts(){}var nc=null;function es(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var ur=null,Xs=null;function ya(s){var r=Zn(s);if(r&&(s=r.stateNode)){var o=s[Wt]||null;e:switch(s=r.stateNode,r.type){case"input":if(po(s,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=s;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Rn(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==s&&u.form===s.form){var m=u[Wt]||null;if(!m)throw Error(i(90));po(u,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===s.form&&pa(u)}break e;case"textarea":oh(s,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&or(s,!!o.multiple,r,!1)}}}var vo=!1;function hr(s,r,o){if(vo)return s(r,o);vo=!0;try{var u=s(r);return u}finally{if(vo=!1,(ur!==null||Xs!==null)&&(nd(),ur&&(r=ur,s=Xs,Xs=ur=null,ya(r),s)))for(r=0;r<s.length;r++)ya(s[r])}}function Es(s,r){var o=s.stateNode;if(o===null)return null;var u=o[Wt]||null;if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(s=s.type,u=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!u;break e;default:s=!1}if(s)return null;if(o&&typeof o!="function")throw Error(i(231,r,typeof o));return o}var ts=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),va=!1;if(ts)try{var rt={};Object.defineProperty(rt,"passive",{get:function(){va=!0}}),window.addEventListener("test",rt,rt),window.removeEventListener("test",rt,rt)}catch{va=!1}var Ws=null,sc=null,ba=null;function ic(){if(ba)return ba;var s,r=sc,o=r.length,u,m="value"in Ws?Ws.value:Ws.textContent,y=m.length;for(s=0;s<o&&r[s]===m[s];s++);var _=o-s;for(u=1;u<=_&&r[o-u]===m[y-u];u++);return ba=m.slice(s,1<u?1-u:void 0)}function xa(s){var r=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&r===13&&(s=13)):s=r,s===10&&(s=13),32<=s||s===13?s:0}function Ti(){return!0}function Ss(){return!1}function sn(s){function r(o,u,m,y,_){this._reactName=o,this._targetInst=m,this.type=u,this.nativeEvent=y,this.target=_,this.currentTarget=null;for(var A in s)s.hasOwnProperty(A)&&(o=s[A],this[A]=o?o(y):y[A]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Ti:Ss,this.isPropagationStopped=Ss,this}return b(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Ti)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Ti)},persist:function(){},isPersistent:Ti}),r}var Ei={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Js=sn(Ei),dr=b({},Ei,{view:0,detail:0}),rc=sn(dr),fr,bo,Zs,xo=b({},dr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Zs&&(Zs&&s.type==="mousemove"?(fr=s.screenX-Zs.screenX,bo=s.screenY-Zs.screenY):bo=fr=0,Zs=s),fr)},movementY:function(s){return"movementY"in s?s.movementY:bo}}),ac=sn(xo),_a=b({},xo,{dataTransfer:0}),uh=sn(_a),hh=b({},dr,{relatedTarget:0}),wa=sn(hh),oc=b({},Ei,{animationName:0,elapsedTime:0,pseudoElement:0}),dh=sn(oc),_o=b({},Ei,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),fh=sn(_o),mh=b({},Ei,{data:0}),ei=sn(mh),ph={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vh(s){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(s):(s=yh[s])?!!r[s]:!1}function mr(){return vh}var wn=b({},dr,{key:function(s){if(s.key){var r=ph[s.key]||s.key;if(r!=="Unidentified")return r}return s.type==="keypress"?(s=xa(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?gh[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mr,charCode:function(s){return s.type==="keypress"?xa(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?xa(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),bh=sn(wn),xh=b({},xo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Si=sn(xh),h=b({},dr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mr}),x=sn(h),T=b({},Ei,{propertyName:0,elapsedTime:0,pseudoElement:0}),k=sn(T),K=b({},xo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),W=sn(K),de=b({},Ei,{newState:0,oldState:0}),Le=sn(de),Rt=[9,13,27,32],Ze=ts&&"CompositionEvent"in window,pt=null;ts&&"documentMode"in document&&(pt=document.documentMode);var ns=ts&&"TextEvent"in window&&!pt,ti=ts&&(!Ze||pt&&8<pt&&11>=pt),As=" ",Cs=!1;function Ta(s,r){switch(s){case"keyup":return Rt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wo(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var To=!1;function TR(s,r){switch(s){case"compositionend":return wo(r);case"keypress":return r.which!==32?null:(Cs=!0,As);case"textInput":return s=r.data,s===As&&Cs?null:s;default:return null}}function ER(s,r){if(To)return s==="compositionend"||!Ze&&Ta(s,r)?(s=ic(),ba=sc=Ws=null,To=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return ti&&r.locale!=="ko"?null:r.data;default:return null}}var SR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cb(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r==="input"?!!SR[s.type]:r==="textarea"}function ub(s,r,o,u){ur?Xs?Xs.push(u):Xs=[u]:ur=u,r=cd(r,"onChange"),0<r.length&&(o=new Js("onChange","change",null,o,u),s.push({event:o,listeners:r}))}var lc=null,cc=null;function AR(s){$_(s,0)}function _h(s){var r=Un(s);if(pa(r))return s}function hb(s,r){if(s==="change")return r}var db=!1;if(ts){var Am;if(ts){var Cm="oninput"in document;if(!Cm){var fb=document.createElement("div");fb.setAttribute("oninput","return;"),Cm=typeof fb.oninput=="function"}Am=Cm}else Am=!1;db=Am&&(!document.documentMode||9<document.documentMode)}function mb(){lc&&(lc.detachEvent("onpropertychange",pb),cc=lc=null)}function pb(s){if(s.propertyName==="value"&&_h(cc)){var r=[];ub(r,cc,s,es(s)),hr(AR,r)}}function CR(s,r,o){s==="focusin"?(mb(),lc=r,cc=o,lc.attachEvent("onpropertychange",pb)):s==="focusout"&&mb()}function kR(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return _h(cc)}function RR(s,r){if(s==="click")return _h(r)}function NR(s,r){if(s==="input"||s==="change")return _h(r)}function IR(s,r){return s===r&&(s!==0||1/s===1/r)||s!==s&&r!==r}var Bn=typeof Object.is=="function"?Object.is:IR;function uc(s,r){if(Bn(s,r))return!0;if(typeof s!="object"||s===null||typeof r!="object"||r===null)return!1;var o=Object.keys(s),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var m=o[u];if(!jt.call(r,m)||!Bn(s[m],r[m]))return!1}return!0}function gb(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function yb(s,r){var o=gb(s);s=0;for(var u;o;){if(o.nodeType===3){if(u=s+o.textContent.length,s<=r&&u>=r)return{node:o,offset:r-s};s=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=gb(o)}}function vb(s,r){return s&&r?s===r?!0:s&&s.nodeType===3?!1:r&&r.nodeType===3?vb(s,r.parentNode):"contains"in s?s.contains(r):s.compareDocumentPosition?!!(s.compareDocumentPosition(r)&16):!1:!1}function bb(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var r=Qs(s.document);r instanceof s.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)s=r.contentWindow;else break;r=Qs(s.document)}return r}function km(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r&&(r==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||r==="textarea"||s.contentEditable==="true")}var DR=ts&&"documentMode"in document&&11>=document.documentMode,Eo=null,Rm=null,hc=null,Nm=!1;function xb(s,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Nm||Eo==null||Eo!==Qs(u)||(u=Eo,"selectionStart"in u&&km(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),hc&&uc(hc,u)||(hc=u,u=cd(Rm,"onSelect"),0<u.length&&(r=new Js("onSelect","select",null,r,o),s.push({event:r,listeners:u}),r.target=Eo)))}function Ea(s,r){var o={};return o[s.toLowerCase()]=r.toLowerCase(),o["Webkit"+s]="webkit"+r,o["Moz"+s]="moz"+r,o}var So={animationend:Ea("Animation","AnimationEnd"),animationiteration:Ea("Animation","AnimationIteration"),animationstart:Ea("Animation","AnimationStart"),transitionrun:Ea("Transition","TransitionRun"),transitionstart:Ea("Transition","TransitionStart"),transitioncancel:Ea("Transition","TransitionCancel"),transitionend:Ea("Transition","TransitionEnd")},Im={},_b={};ts&&(_b=document.createElement("div").style,"AnimationEvent"in window||(delete So.animationend.animation,delete So.animationiteration.animation,delete So.animationstart.animation),"TransitionEvent"in window||delete So.transitionend.transition);function Sa(s){if(Im[s])return Im[s];if(!So[s])return s;var r=So[s],o;for(o in r)if(r.hasOwnProperty(o)&&o in _b)return Im[s]=r[o];return s}var wb=Sa("animationend"),Tb=Sa("animationiteration"),Eb=Sa("animationstart"),jR=Sa("transitionrun"),MR=Sa("transitionstart"),VR=Sa("transitioncancel"),Sb=Sa("transitionend"),Ab=new Map,Dm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Dm.push("scrollEnd");function ks(s,r){Ab.set(s,r),Ks(r,[s])}var wh=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},ss=[],Ao=0,jm=0;function Th(){for(var s=Ao,r=jm=Ao=0;r<s;){var o=ss[r];ss[r++]=null;var u=ss[r];ss[r++]=null;var m=ss[r];ss[r++]=null;var y=ss[r];if(ss[r++]=null,u!==null&&m!==null){var _=u.pending;_===null?m.next=m:(m.next=_.next,_.next=m),u.pending=m}y!==0&&Cb(o,m,y)}}function Eh(s,r,o,u){ss[Ao++]=s,ss[Ao++]=r,ss[Ao++]=o,ss[Ao++]=u,jm|=u,s.lanes|=u,s=s.alternate,s!==null&&(s.lanes|=u)}function Mm(s,r,o,u){return Eh(s,r,o,u),Sh(s)}function Aa(s,r){return Eh(s,null,null,r),Sh(s)}function Cb(s,r,o){s.lanes|=o;var u=s.alternate;u!==null&&(u.lanes|=o);for(var m=!1,y=s.return;y!==null;)y.childLanes|=o,u=y.alternate,u!==null&&(u.childLanes|=o),y.tag===22&&(s=y.stateNode,s===null||s._visibility&1||(m=!0)),s=y,y=y.return;return s.tag===3?(y=s.stateNode,m&&r!==null&&(m=31-kt(o),s=y.hiddenUpdates,u=s[m],u===null?s[m]=[r]:u.push(r),r.lane=o|536870912),y):null}function Sh(s){if(50<jc)throw jc=0,Hp=null,Error(i(185));for(var r=s.return;r!==null;)s=r,r=s.return;return s.tag===3?s.stateNode:null}var Co={};function OR(s,r,o,u){this.tag=s,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fn(s,r,o,u){return new OR(s,r,o,u)}function Vm(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Ai(s,r){var o=s.alternate;return o===null?(o=Fn(s.tag,r,s.key,s.mode),o.elementType=s.elementType,o.type=s.type,o.stateNode=s.stateNode,o.alternate=s,s.alternate=o):(o.pendingProps=r,o.type=s.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=s.flags&65011712,o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,r=s.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=s.sibling,o.index=s.index,o.ref=s.ref,o.refCleanup=s.refCleanup,o}function kb(s,r){s.flags&=65011714;var o=s.alternate;return o===null?(s.childLanes=0,s.lanes=r,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,r=o.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),s}function Ah(s,r,o,u,m,y){var _=0;if(u=s,typeof s=="function")Vm(s)&&(_=1);else if(typeof s=="string")_=BN(s,o,ue.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case C:return s=Fn(31,o,r,m),s.elementType=C,s.lanes=y,s;case O:return Ca(o.children,m,y,r);case V:_=8,m|=24;break;case z:return s=Fn(12,o,r,m|2),s.elementType=z,s.lanes=y,s;case re:return s=Fn(13,o,r,m),s.elementType=re,s.lanes=y,s;case he:return s=Fn(19,o,r,m),s.elementType=he,s.lanes=y,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case G:_=10;break e;case F:_=9;break e;case te:_=11;break e;case j:_=14;break e;case E:_=16,u=null;break e}_=29,o=Error(i(130,s===null?"null":typeof s,"")),u=null}return r=Fn(_,o,r,m),r.elementType=s,r.type=u,r.lanes=y,r}function Ca(s,r,o,u){return s=Fn(7,s,u,r),s.lanes=o,s}function Om(s,r,o){return s=Fn(6,s,null,r),s.lanes=o,s}function Rb(s){var r=Fn(18,null,null,0);return r.stateNode=s,r}function Pm(s,r,o){return r=Fn(4,s.children!==null?s.children:[],s.key,r),r.lanes=o,r.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},r}var Nb=new WeakMap;function is(s,r){if(typeof s=="object"&&s!==null){var o=Nb.get(s);return o!==void 0?o:(r={value:s,source:r,stack:Fl(r)},Nb.set(s,r),r)}return{value:s,source:r,stack:Fl(r)}}var ko=[],Ro=0,Ch=null,dc=0,rs=[],as=0,pr=null,ni=1,si="";function Ci(s,r){ko[Ro++]=dc,ko[Ro++]=Ch,Ch=s,dc=r}function Ib(s,r,o){rs[as++]=ni,rs[as++]=si,rs[as++]=pr,pr=s;var u=ni;s=si;var m=32-kt(u)-1;u&=~(1<<m),o+=1;var y=32-kt(r)+m;if(30<y){var _=m-m%5;y=(u&(1<<_)-1).toString(32),u>>=_,m-=_,ni=1<<32-kt(r)+m|o<<m|u,si=y+s}else ni=1<<y|o<<m|u,si=s}function Lm(s){s.return!==null&&(Ci(s,1),Ib(s,1,0))}function Um(s){for(;s===Ch;)Ch=ko[--Ro],ko[Ro]=null,dc=ko[--Ro],ko[Ro]=null;for(;s===pr;)pr=rs[--as],rs[as]=null,si=rs[--as],rs[as]=null,ni=rs[--as],rs[as]=null}function Db(s,r){rs[as++]=ni,rs[as++]=si,rs[as++]=pr,ni=r.id,si=r.overflow,pr=s}var rn=null,dt=null,Qe=!1,gr=null,os=!1,zm=Error(i(519));function yr(s){var r=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw fc(is(r,s)),zm}function jb(s){var r=s.stateNode,o=s.type,u=s.memoizedProps;switch(r[Vt]=s,r[Wt]=u,o){case"dialog":He("cancel",r),He("close",r);break;case"iframe":case"object":case"embed":He("load",r);break;case"video":case"audio":for(o=0;o<Vc.length;o++)He(Vc[o],r);break;case"source":He("error",r);break;case"img":case"image":case"link":He("error",r),He("load",r);break;case"details":He("toggle",r);break;case"input":He("invalid",r),ah(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":He("invalid",r);break;case"textarea":He("invalid",r),lr(r,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||X_(r.textContent,o)?(u.popover!=null&&(He("beforetoggle",r),He("toggle",r)),u.onScroll!=null&&He("scroll",r),u.onScrollEnd!=null&&He("scrollend",r),u.onClick!=null&&(r.onclick=Ts),r=!0):r=!1,r||yr(s,!0)}function Mb(s){for(rn=s.return;rn;)switch(rn.tag){case 5:case 31:case 13:os=!1;return;case 27:case 3:os=!0;return;default:rn=rn.return}}function No(s){if(s!==rn)return!1;if(!Qe)return Mb(s),Qe=!0,!1;var r=s.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=s.type,o=!(o!=="form"&&o!=="button")||ig(s.type,s.memoizedProps)),o=!o),o&&dt&&yr(s),Mb(s),r===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));dt=r1(s)}else if(r===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));dt=r1(s)}else r===27?(r=dt,Ir(s.type)?(s=cg,cg=null,dt=s):dt=r):dt=rn?cs(s.stateNode.nextSibling):null;return!0}function ka(){dt=rn=null,Qe=!1}function Bm(){var s=gr;return s!==null&&(Mn===null?Mn=s:Mn.push.apply(Mn,s),gr=null),s}function fc(s){gr===null?gr=[s]:gr.push(s)}var Fm=U(null),Ra=null,ki=null;function vr(s,r,o){ce(Fm,r._currentValue),r._currentValue=o}function Ri(s){s._currentValue=Fm.current,ee(Fm)}function Hm(s,r,o){for(;s!==null;){var u=s.alternate;if((s.childLanes&r)!==r?(s.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),s===o)break;s=s.return}}function qm(s,r,o,u){var m=s.child;for(m!==null&&(m.return=s);m!==null;){var y=m.dependencies;if(y!==null){var _=m.child;y=y.firstContext;e:for(;y!==null;){var A=y;y=m;for(var L=0;L<r.length;L++)if(A.context===r[L]){y.lanes|=o,A=y.alternate,A!==null&&(A.lanes|=o),Hm(y.return,o,s),u||(_=null);break e}y=A.next}}else if(m.tag===18){if(_=m.return,_===null)throw Error(i(341));_.lanes|=o,y=_.alternate,y!==null&&(y.lanes|=o),Hm(_,o,s),_=null}else _=m.child;if(_!==null)_.return=m;else for(_=m;_!==null;){if(_===s){_=null;break}if(m=_.sibling,m!==null){m.return=_.return,_=m;break}_=_.return}m=_}}function Io(s,r,o,u){s=null;for(var m=r,y=!1;m!==null;){if(!y){if((m.flags&524288)!==0)y=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var _=m.alternate;if(_===null)throw Error(i(387));if(_=_.memoizedProps,_!==null){var A=m.type;Bn(m.pendingProps.value,_.value)||(s!==null?s.push(A):s=[A])}}else if(m===le.current){if(_=m.alternate,_===null)throw Error(i(387));_.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(s!==null?s.push(zc):s=[zc])}m=m.return}s!==null&&qm(r,s,o,u),r.flags|=262144}function kh(s){for(s=s.firstContext;s!==null;){if(!Bn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Na(s){Ra=s,ki=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function an(s){return Vb(Ra,s)}function Rh(s,r){return Ra===null&&Na(s),Vb(s,r)}function Vb(s,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},ki===null){if(s===null)throw Error(i(308));ki=r,s.dependencies={lanes:0,firstContext:r},s.flags|=524288}else ki=ki.next=r;return o}var PR=typeof AbortController<"u"?AbortController:function(){var s=[],r=this.signal={aborted:!1,addEventListener:function(o,u){s.push(u)}};this.abort=function(){r.aborted=!0,s.forEach(function(o){return o()})}},LR=t.unstable_scheduleCallback,UR=t.unstable_NormalPriority,Lt={$$typeof:G,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Gm(){return{controller:new PR,data:new Map,refCount:0}}function mc(s){s.refCount--,s.refCount===0&&LR(UR,function(){s.controller.abort()})}var pc=null,$m=0,Do=0,jo=null;function zR(s,r){if(pc===null){var o=pc=[];$m=0,Do=Qp(),jo={status:"pending",value:void 0,then:function(u){o.push(u)}}}return $m++,r.then(Ob,Ob),r}function Ob(){if(--$m===0&&pc!==null){jo!==null&&(jo.status="fulfilled");var s=pc;pc=null,Do=0,jo=null;for(var r=0;r<s.length;r++)(0,s[r])()}}function BR(s,r){var o=[],u={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return s.then(function(){u.status="fulfilled",u.value=r;for(var m=0;m<o.length;m++)(0,o[m])(r)},function(m){for(u.status="rejected",u.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),u}var Pb=H.S;H.S=function(s,r){x_=_n(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&zR(s,r),Pb!==null&&Pb(s,r)};var Ia=U(null);function Km(){var s=Ia.current;return s!==null?s:ct.pooledCache}function Nh(s,r){r===null?ce(Ia,Ia.current):ce(Ia,r.pool)}function Lb(){var s=Km();return s===null?null:{parent:Lt._currentValue,pool:s}}var Mo=Error(i(460)),Ym=Error(i(474)),Ih=Error(i(542)),Dh={then:function(){}};function Ub(s){return s=s.status,s==="fulfilled"||s==="rejected"}function zb(s,r,o){switch(o=s[o],o===void 0?s.push(r):o!==r&&(r.then(Ts,Ts),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,Fb(s),s;default:if(typeof r.status=="string")r.then(Ts,Ts);else{if(s=ct,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=r,s.status="pending",s.then(function(u){if(r.status==="pending"){var m=r;m.status="fulfilled",m.value=u}},function(u){if(r.status==="pending"){var m=r;m.status="rejected",m.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,Fb(s),s}throw ja=r,Mo}}function Da(s){try{var r=s._init;return r(s._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(ja=o,Mo):o}}var ja=null;function Bb(){if(ja===null)throw Error(i(459));var s=ja;return ja=null,s}function Fb(s){if(s===Mo||s===Ih)throw Error(i(483))}var Vo=null,gc=0;function jh(s){var r=gc;return gc+=1,Vo===null&&(Vo=[]),zb(Vo,s,r)}function yc(s,r){r=r.props.ref,s.ref=r!==void 0?r:null}function Mh(s,r){throw r.$$typeof===w?Error(i(525)):(s=Object.prototype.toString.call(r),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":s)))}function Hb(s){function r(q,B){if(s){var Y=q.deletions;Y===null?(q.deletions=[B],q.flags|=16):Y.push(B)}}function o(q,B){if(!s)return null;for(;B!==null;)r(q,B),B=B.sibling;return null}function u(q){for(var B=new Map;q!==null;)q.key!==null?B.set(q.key,q):B.set(q.index,q),q=q.sibling;return B}function m(q,B){return q=Ai(q,B),q.index=0,q.sibling=null,q}function y(q,B,Y){return q.index=Y,s?(Y=q.alternate,Y!==null?(Y=Y.index,Y<B?(q.flags|=67108866,B):Y):(q.flags|=67108866,B)):(q.flags|=1048576,B)}function _(q){return s&&q.alternate===null&&(q.flags|=67108866),q}function A(q,B,Y,se){return B===null||B.tag!==6?(B=Om(Y,q.mode,se),B.return=q,B):(B=m(B,Y),B.return=q,B)}function L(q,B,Y,se){var Ce=Y.type;return Ce===O?ne(q,B,Y.props.children,se,Y.key):B!==null&&(B.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===E&&Da(Ce)===B.type)?(B=m(B,Y.props),yc(B,Y),B.return=q,B):(B=Ah(Y.type,Y.key,Y.props,null,q.mode,se),yc(B,Y),B.return=q,B)}function Q(q,B,Y,se){return B===null||B.tag!==4||B.stateNode.containerInfo!==Y.containerInfo||B.stateNode.implementation!==Y.implementation?(B=Pm(Y,q.mode,se),B.return=q,B):(B=m(B,Y.children||[]),B.return=q,B)}function ne(q,B,Y,se,Ce){return B===null||B.tag!==7?(B=Ca(Y,q.mode,se,Ce),B.return=q,B):(B=m(B,Y),B.return=q,B)}function ae(q,B,Y){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=Om(""+B,q.mode,Y),B.return=q,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case S:return Y=Ah(B.type,B.key,B.props,null,q.mode,Y),yc(Y,B),Y.return=q,Y;case D:return B=Pm(B,q.mode,Y),B.return=q,B;case E:return B=Da(B),ae(q,B,Y)}if(Ee(B)||P(B))return B=Ca(B,q.mode,Y,null),B.return=q,B;if(typeof B.then=="function")return ae(q,jh(B),Y);if(B.$$typeof===G)return ae(q,Rh(q,B),Y);Mh(q,B)}return null}function X(q,B,Y,se){var Ce=B!==null?B.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Ce!==null?null:A(q,B,""+Y,se);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case S:return Y.key===Ce?L(q,B,Y,se):null;case D:return Y.key===Ce?Q(q,B,Y,se):null;case E:return Y=Da(Y),X(q,B,Y,se)}if(Ee(Y)||P(Y))return Ce!==null?null:ne(q,B,Y,se,null);if(typeof Y.then=="function")return X(q,B,jh(Y),se);if(Y.$$typeof===G)return X(q,B,Rh(q,Y),se);Mh(q,Y)}return null}function J(q,B,Y,se,Ce){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return q=q.get(Y)||null,A(B,q,""+se,Ce);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case S:return q=q.get(se.key===null?Y:se.key)||null,L(B,q,se,Ce);case D:return q=q.get(se.key===null?Y:se.key)||null,Q(B,q,se,Ce);case E:return se=Da(se),J(q,B,Y,se,Ce)}if(Ee(se)||P(se))return q=q.get(Y)||null,ne(B,q,se,Ce,null);if(typeof se.then=="function")return J(q,B,Y,jh(se),Ce);if(se.$$typeof===G)return J(q,B,Y,Rh(B,se),Ce);Mh(B,se)}return null}function ge(q,B,Y,se){for(var Ce=null,We=null,Te=B,ze=B=0,Ge=null;Te!==null&&ze<Y.length;ze++){Te.index>ze?(Ge=Te,Te=null):Ge=Te.sibling;var Je=X(q,Te,Y[ze],se);if(Je===null){Te===null&&(Te=Ge);break}s&&Te&&Je.alternate===null&&r(q,Te),B=y(Je,B,ze),We===null?Ce=Je:We.sibling=Je,We=Je,Te=Ge}if(ze===Y.length)return o(q,Te),Qe&&Ci(q,ze),Ce;if(Te===null){for(;ze<Y.length;ze++)Te=ae(q,Y[ze],se),Te!==null&&(B=y(Te,B,ze),We===null?Ce=Te:We.sibling=Te,We=Te);return Qe&&Ci(q,ze),Ce}for(Te=u(Te);ze<Y.length;ze++)Ge=J(Te,q,ze,Y[ze],se),Ge!==null&&(s&&Ge.alternate!==null&&Te.delete(Ge.key===null?ze:Ge.key),B=y(Ge,B,ze),We===null?Ce=Ge:We.sibling=Ge,We=Ge);return s&&Te.forEach(function(Or){return r(q,Or)}),Qe&&Ci(q,ze),Ce}function Re(q,B,Y,se){if(Y==null)throw Error(i(151));for(var Ce=null,We=null,Te=B,ze=B=0,Ge=null,Je=Y.next();Te!==null&&!Je.done;ze++,Je=Y.next()){Te.index>ze?(Ge=Te,Te=null):Ge=Te.sibling;var Or=X(q,Te,Je.value,se);if(Or===null){Te===null&&(Te=Ge);break}s&&Te&&Or.alternate===null&&r(q,Te),B=y(Or,B,ze),We===null?Ce=Or:We.sibling=Or,We=Or,Te=Ge}if(Je.done)return o(q,Te),Qe&&Ci(q,ze),Ce;if(Te===null){for(;!Je.done;ze++,Je=Y.next())Je=ae(q,Je.value,se),Je!==null&&(B=y(Je,B,ze),We===null?Ce=Je:We.sibling=Je,We=Je);return Qe&&Ci(q,ze),Ce}for(Te=u(Te);!Je.done;ze++,Je=Y.next())Je=J(Te,q,ze,Je.value,se),Je!==null&&(s&&Je.alternate!==null&&Te.delete(Je.key===null?ze:Je.key),B=y(Je,B,ze),We===null?Ce=Je:We.sibling=Je,We=Je);return s&&Te.forEach(function(JN){return r(q,JN)}),Qe&&Ci(q,ze),Ce}function lt(q,B,Y,se){if(typeof Y=="object"&&Y!==null&&Y.type===O&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case S:e:{for(var Ce=Y.key;B!==null;){if(B.key===Ce){if(Ce=Y.type,Ce===O){if(B.tag===7){o(q,B.sibling),se=m(B,Y.props.children),se.return=q,q=se;break e}}else if(B.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===E&&Da(Ce)===B.type){o(q,B.sibling),se=m(B,Y.props),yc(se,Y),se.return=q,q=se;break e}o(q,B);break}else r(q,B);B=B.sibling}Y.type===O?(se=Ca(Y.props.children,q.mode,se,Y.key),se.return=q,q=se):(se=Ah(Y.type,Y.key,Y.props,null,q.mode,se),yc(se,Y),se.return=q,q=se)}return _(q);case D:e:{for(Ce=Y.key;B!==null;){if(B.key===Ce)if(B.tag===4&&B.stateNode.containerInfo===Y.containerInfo&&B.stateNode.implementation===Y.implementation){o(q,B.sibling),se=m(B,Y.children||[]),se.return=q,q=se;break e}else{o(q,B);break}else r(q,B);B=B.sibling}se=Pm(Y,q.mode,se),se.return=q,q=se}return _(q);case E:return Y=Da(Y),lt(q,B,Y,se)}if(Ee(Y))return ge(q,B,Y,se);if(P(Y)){if(Ce=P(Y),typeof Ce!="function")throw Error(i(150));return Y=Ce.call(Y),Re(q,B,Y,se)}if(typeof Y.then=="function")return lt(q,B,jh(Y),se);if(Y.$$typeof===G)return lt(q,B,Rh(q,Y),se);Mh(q,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,B!==null&&B.tag===6?(o(q,B.sibling),se=m(B,Y),se.return=q,q=se):(o(q,B),se=Om(Y,q.mode,se),se.return=q,q=se),_(q)):o(q,B)}return function(q,B,Y,se){try{gc=0;var Ce=lt(q,B,Y,se);return Vo=null,Ce}catch(Te){if(Te===Mo||Te===Ih)throw Te;var We=Fn(29,Te,null,q.mode);return We.lanes=se,We.return=q,We}}}var Ma=Hb(!0),qb=Hb(!1),br=!1;function Qm(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xm(s,r){s=s.updateQueue,r.updateQueue===s&&(r.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function xr(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function _r(s,r,o){var u=s.updateQueue;if(u===null)return null;if(u=u.shared,(et&2)!==0){var m=u.pending;return m===null?r.next=r:(r.next=m.next,m.next=r),u.pending=r,r=Sh(s),Cb(s,null,o),r}return Eh(s,u,r,o),Sh(s)}function vc(s,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=s.pendingLanes,o|=u,r.lanes=o,Gl(s,o)}}function Wm(s,r){var o=s.updateQueue,u=s.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var m=null,y=null;if(o=o.firstBaseUpdate,o!==null){do{var _={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};y===null?m=y=_:y=y.next=_,o=o.next}while(o!==null);y===null?m=y=r:y=y.next=r}else m=y=r;o={baseState:u.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:u.shared,callbacks:u.callbacks},s.updateQueue=o;return}s=o.lastBaseUpdate,s===null?o.firstBaseUpdate=r:s.next=r,o.lastBaseUpdate=r}var Jm=!1;function bc(){if(Jm){var s=jo;if(s!==null)throw s}}function xc(s,r,o,u){Jm=!1;var m=s.updateQueue;br=!1;var y=m.firstBaseUpdate,_=m.lastBaseUpdate,A=m.shared.pending;if(A!==null){m.shared.pending=null;var L=A,Q=L.next;L.next=null,_===null?y=Q:_.next=Q,_=L;var ne=s.alternate;ne!==null&&(ne=ne.updateQueue,A=ne.lastBaseUpdate,A!==_&&(A===null?ne.firstBaseUpdate=Q:A.next=Q,ne.lastBaseUpdate=L))}if(y!==null){var ae=m.baseState;_=0,ne=Q=L=null,A=y;do{var X=A.lane&-536870913,J=X!==A.lane;if(J?(qe&X)===X:(u&X)===X){X!==0&&X===Do&&(Jm=!0),ne!==null&&(ne=ne.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var ge=s,Re=A;X=r;var lt=o;switch(Re.tag){case 1:if(ge=Re.payload,typeof ge=="function"){ae=ge.call(lt,ae,X);break e}ae=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=Re.payload,X=typeof ge=="function"?ge.call(lt,ae,X):ge,X==null)break e;ae=b({},ae,X);break e;case 2:br=!0}}X=A.callback,X!==null&&(s.flags|=64,J&&(s.flags|=8192),J=m.callbacks,J===null?m.callbacks=[X]:J.push(X))}else J={lane:X,tag:A.tag,payload:A.payload,callback:A.callback,next:null},ne===null?(Q=ne=J,L=ae):ne=ne.next=J,_|=X;if(A=A.next,A===null){if(A=m.shared.pending,A===null)break;J=A,A=J.next,J.next=null,m.lastBaseUpdate=J,m.shared.pending=null}}while(!0);ne===null&&(L=ae),m.baseState=L,m.firstBaseUpdate=Q,m.lastBaseUpdate=ne,y===null&&(m.shared.lanes=0),Ar|=_,s.lanes=_,s.memoizedState=ae}}function Gb(s,r){if(typeof s!="function")throw Error(i(191,s));s.call(r)}function $b(s,r){var o=s.callbacks;if(o!==null)for(s.callbacks=null,s=0;s<o.length;s++)Gb(o[s],r)}var Oo=U(null),Vh=U(0);function Kb(s,r){s=Li,ce(Vh,s),ce(Oo,r),Li=s|r.baseLanes}function Zm(){ce(Vh,Li),ce(Oo,Oo.current)}function ep(){Li=Vh.current,ee(Oo),ee(Vh)}var Hn=U(null),ls=null;function wr(s){var r=s.alternate;ce(Nt,Nt.current&1),ce(Hn,s),ls===null&&(r===null||Oo.current!==null||r.memoizedState!==null)&&(ls=s)}function tp(s){ce(Nt,Nt.current),ce(Hn,s),ls===null&&(ls=s)}function Yb(s){s.tag===22?(ce(Nt,Nt.current),ce(Hn,s),ls===null&&(ls=s)):Tr()}function Tr(){ce(Nt,Nt.current),ce(Hn,Hn.current)}function qn(s){ee(Hn),ls===s&&(ls=null),ee(Nt)}var Nt=U(0);function Oh(s){for(var r=s;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||og(o)||lg(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Ni=0,Ue=null,at=null,Ut=null,Ph=!1,Po=!1,Va=!1,Lh=0,_c=0,Lo=null,FR=0;function _t(){throw Error(i(321))}function np(s,r){if(r===null)return!1;for(var o=0;o<r.length&&o<s.length;o++)if(!Bn(s[o],r[o]))return!1;return!0}function sp(s,r,o,u,m,y){return Ni=y,Ue=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,H.H=s===null||s.memoizedState===null?Ix:vp,Va=!1,y=o(u,m),Va=!1,Po&&(y=Xb(r,o,u,m)),Qb(s),y}function Qb(s){H.H=Ec;var r=at!==null&&at.next!==null;if(Ni=0,Ut=at=Ue=null,Ph=!1,_c=0,Lo=null,r)throw Error(i(300));s===null||zt||(s=s.dependencies,s!==null&&kh(s)&&(zt=!0))}function Xb(s,r,o,u){Ue=s;var m=0;do{if(Po&&(Lo=null),_c=0,Po=!1,25<=m)throw Error(i(301));if(m+=1,Ut=at=null,s.updateQueue!=null){var y=s.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}H.H=Dx,y=r(o,u)}while(Po);return y}function HR(){var s=H.H,r=s.useState()[0];return r=typeof r.then=="function"?wc(r):r,s=s.useState()[0],(at!==null?at.memoizedState:null)!==s&&(Ue.flags|=1024),r}function ip(){var s=Lh!==0;return Lh=0,s}function rp(s,r,o){r.updateQueue=s.updateQueue,r.flags&=-2053,s.lanes&=~o}function ap(s){if(Ph){for(s=s.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}Ph=!1}Ni=0,Ut=at=Ue=null,Po=!1,_c=Lh=0,Lo=null}function Tn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?Ue.memoizedState=Ut=s:Ut=Ut.next=s,Ut}function It(){if(at===null){var s=Ue.alternate;s=s!==null?s.memoizedState:null}else s=at.next;var r=Ut===null?Ue.memoizedState:Ut.next;if(r!==null)Ut=r,at=s;else{if(s===null)throw Ue.alternate===null?Error(i(467)):Error(i(310));at=s,s={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},Ut===null?Ue.memoizedState=Ut=s:Ut=Ut.next=s}return Ut}function Uh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function wc(s){var r=_c;return _c+=1,Lo===null&&(Lo=[]),s=zb(Lo,s,r),r=Ue,(Ut===null?r.memoizedState:Ut.next)===null&&(r=r.alternate,H.H=r===null||r.memoizedState===null?Ix:vp),s}function zh(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return wc(s);if(s.$$typeof===G)return an(s)}throw Error(i(438,String(s)))}function op(s){var r=null,o=Ue.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=Ue.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(m){return m.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=Uh(),Ue.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(s),u=0;u<s;u++)o[u]=M;return r.index++,o}function Ii(s,r){return typeof r=="function"?r(s):r}function Bh(s){var r=It();return lp(r,at,s)}function lp(s,r,o){var u=s.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var m=s.baseQueue,y=u.pending;if(y!==null){if(m!==null){var _=m.next;m.next=y.next,y.next=_}r.baseQueue=m=y,u.pending=null}if(y=s.baseState,m===null)s.memoizedState=y;else{r=m.next;var A=_=null,L=null,Q=r,ne=!1;do{var ae=Q.lane&-536870913;if(ae!==Q.lane?(qe&ae)===ae:(Ni&ae)===ae){var X=Q.revertLane;if(X===0)L!==null&&(L=L.next={lane:0,revertLane:0,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),ae===Do&&(ne=!0);else if((Ni&X)===X){Q=Q.next,X===Do&&(ne=!0);continue}else ae={lane:0,revertLane:Q.revertLane,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},L===null?(A=L=ae,_=y):L=L.next=ae,Ue.lanes|=X,Ar|=X;ae=Q.action,Va&&o(y,ae),y=Q.hasEagerState?Q.eagerState:o(y,ae)}else X={lane:ae,revertLane:Q.revertLane,gesture:Q.gesture,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},L===null?(A=L=X,_=y):L=L.next=X,Ue.lanes|=ae,Ar|=ae;Q=Q.next}while(Q!==null&&Q!==r);if(L===null?_=y:L.next=A,!Bn(y,s.memoizedState)&&(zt=!0,ne&&(o=jo,o!==null)))throw o;s.memoizedState=y,s.baseState=_,s.baseQueue=L,u.lastRenderedState=y}return m===null&&(u.lanes=0),[s.memoizedState,u.dispatch]}function cp(s){var r=It(),o=r.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=s;var u=o.dispatch,m=o.pending,y=r.memoizedState;if(m!==null){o.pending=null;var _=m=m.next;do y=s(y,_.action),_=_.next;while(_!==m);Bn(y,r.memoizedState)||(zt=!0),r.memoizedState=y,r.baseQueue===null&&(r.baseState=y),o.lastRenderedState=y}return[y,u]}function Wb(s,r,o){var u=Ue,m=It(),y=Qe;if(y){if(o===void 0)throw Error(i(407));o=o()}else o=r();var _=!Bn((at||m).memoizedState,o);if(_&&(m.memoizedState=o,zt=!0),m=m.queue,dp(ex.bind(null,u,m,s),[s]),m.getSnapshot!==r||_||Ut!==null&&Ut.memoizedState.tag&1){if(u.flags|=2048,Uo(9,{destroy:void 0},Zb.bind(null,u,m,o,r),null),ct===null)throw Error(i(349));y||(Ni&127)!==0||Jb(u,r,o)}return o}function Jb(s,r,o){s.flags|=16384,s={getSnapshot:r,value:o},r=Ue.updateQueue,r===null?(r=Uh(),Ue.updateQueue=r,r.stores=[s]):(o=r.stores,o===null?r.stores=[s]:o.push(s))}function Zb(s,r,o,u){r.value=o,r.getSnapshot=u,tx(r)&&nx(s)}function ex(s,r,o){return o(function(){tx(r)&&nx(s)})}function tx(s){var r=s.getSnapshot;s=s.value;try{var o=r();return!Bn(s,o)}catch{return!0}}function nx(s){var r=Aa(s,2);r!==null&&Vn(r,s,2)}function up(s){var r=Tn();if(typeof s=="function"){var o=s;if(s=o(),Va){Jn(!0);try{o()}finally{Jn(!1)}}}return r.memoizedState=r.baseState=s,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:s},r}function sx(s,r,o,u){return s.baseState=o,lp(s,at,typeof u=="function"?u:Ii)}function qR(s,r,o,u,m){if(qh(s))throw Error(i(485));if(s=r.action,s!==null){var y={payload:m,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){y.listeners.push(_)}};H.T!==null?o(!0):y.isTransition=!1,u(y),o=r.pending,o===null?(y.next=r.pending=y,ix(r,y)):(y.next=o.next,r.pending=o.next=y)}}function ix(s,r){var o=r.action,u=r.payload,m=s.state;if(r.isTransition){var y=H.T,_={};H.T=_;try{var A=o(m,u),L=H.S;L!==null&&L(_,A),rx(s,r,A)}catch(Q){hp(s,r,Q)}finally{y!==null&&_.types!==null&&(y.types=_.types),H.T=y}}else try{y=o(m,u),rx(s,r,y)}catch(Q){hp(s,r,Q)}}function rx(s,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){ax(s,r,u)},function(u){return hp(s,r,u)}):ax(s,r,o)}function ax(s,r,o){r.status="fulfilled",r.value=o,ox(r),s.state=o,r=s.pending,r!==null&&(o=r.next,o===r?s.pending=null:(o=o.next,r.next=o,ix(s,o)))}function hp(s,r,o){var u=s.pending;if(s.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,ox(r),r=r.next;while(r!==u)}s.action=null}function ox(s){s=s.listeners;for(var r=0;r<s.length;r++)(0,s[r])()}function lx(s,r){return r}function cx(s,r){if(Qe){var o=ct.formState;if(o!==null){e:{var u=Ue;if(Qe){if(dt){t:{for(var m=dt,y=os;m.nodeType!==8;){if(!y){m=null;break t}if(m=cs(m.nextSibling),m===null){m=null;break t}}y=m.data,m=y==="F!"||y==="F"?m:null}if(m){dt=cs(m.nextSibling),u=m.data==="F!";break e}}yr(u)}u=!1}u&&(r=o[0])}}return o=Tn(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lx,lastRenderedState:r},o.queue=u,o=kx.bind(null,Ue,u),u.dispatch=o,u=up(!1),y=yp.bind(null,Ue,!1,u.queue),u=Tn(),m={state:r,dispatch:null,action:s,pending:null},u.queue=m,o=qR.bind(null,Ue,m,y,o),m.dispatch=o,u.memoizedState=s,[r,o,!1]}function ux(s){var r=It();return hx(r,at,s)}function hx(s,r,o){if(r=lp(s,r,lx)[0],s=Bh(Ii)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=wc(r)}catch(_){throw _===Mo?Ih:_}else u=r;r=It();var m=r.queue,y=m.dispatch;return o!==r.memoizedState&&(Ue.flags|=2048,Uo(9,{destroy:void 0},GR.bind(null,m,o),null)),[u,y,s]}function GR(s,r){s.action=r}function dx(s){var r=It(),o=at;if(o!==null)return hx(r,o,s);It(),r=r.memoizedState,o=It();var u=o.queue.dispatch;return o.memoizedState=s,[r,u,!1]}function Uo(s,r,o,u){return s={tag:s,create:o,deps:u,inst:r,next:null},r=Ue.updateQueue,r===null&&(r=Uh(),Ue.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=s.next=s:(u=o.next,o.next=s,s.next=u,r.lastEffect=s),s}function fx(){return It().memoizedState}function Fh(s,r,o,u){var m=Tn();Ue.flags|=s,m.memoizedState=Uo(1|r,{destroy:void 0},o,u===void 0?null:u)}function Hh(s,r,o,u){var m=It();u=u===void 0?null:u;var y=m.memoizedState.inst;at!==null&&u!==null&&np(u,at.memoizedState.deps)?m.memoizedState=Uo(r,y,o,u):(Ue.flags|=s,m.memoizedState=Uo(1|r,y,o,u))}function mx(s,r){Fh(8390656,8,s,r)}function dp(s,r){Hh(2048,8,s,r)}function $R(s){Ue.flags|=4;var r=Ue.updateQueue;if(r===null)r=Uh(),Ue.updateQueue=r,r.events=[s];else{var o=r.events;o===null?r.events=[s]:o.push(s)}}function px(s){var r=It().memoizedState;return $R({ref:r,nextImpl:s}),function(){if((et&2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}function gx(s,r){return Hh(4,2,s,r)}function yx(s,r){return Hh(4,4,s,r)}function vx(s,r){if(typeof r=="function"){s=s();var o=r(s);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return s=s(),r.current=s,function(){r.current=null}}function bx(s,r,o){o=o!=null?o.concat([s]):null,Hh(4,4,vx.bind(null,r,s),o)}function fp(){}function xx(s,r){var o=It();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&np(r,u[1])?u[0]:(o.memoizedState=[s,r],s)}function _x(s,r){var o=It();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&np(r,u[1]))return u[0];if(u=s(),Va){Jn(!0);try{s()}finally{Jn(!1)}}return o.memoizedState=[u,r],u}function mp(s,r,o){return o===void 0||(Ni&1073741824)!==0&&(qe&261930)===0?s.memoizedState=r:(s.memoizedState=o,s=w_(),Ue.lanes|=s,Ar|=s,o)}function wx(s,r,o,u){return Bn(o,r)?o:Oo.current!==null?(s=mp(s,o,u),Bn(s,r)||(zt=!0),s):(Ni&42)===0||(Ni&1073741824)!==0&&(qe&261930)===0?(zt=!0,s.memoizedState=o):(s=w_(),Ue.lanes|=s,Ar|=s,r)}function Tx(s,r,o,u,m){var y=Z.p;Z.p=y!==0&&8>y?y:8;var _=H.T,A={};H.T=A,yp(s,!1,r,o);try{var L=m(),Q=H.S;if(Q!==null&&Q(A,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var ne=BR(L,u);Tc(s,r,ne,Kn(s))}else Tc(s,r,u,Kn(s))}catch(ae){Tc(s,r,{then:function(){},status:"rejected",reason:ae},Kn())}finally{Z.p=y,_!==null&&A.types!==null&&(_.types=A.types),H.T=_}}function KR(){}function pp(s,r,o,u){if(s.tag!==5)throw Error(i(476));var m=Ex(s).queue;Tx(s,m,r,$,o===null?KR:function(){return Sx(s),o(u)})}function Ex(s){var r=s.memoizedState;if(r!==null)return r;r={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:$},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:o},next:null},s.memoizedState=r,s=s.alternate,s!==null&&(s.memoizedState=r),r}function Sx(s){var r=Ex(s);r.next===null&&(r=s.alternate.memoizedState),Tc(s,r.next.queue,{},Kn())}function gp(){return an(zc)}function Ax(){return It().memoizedState}function Cx(){return It().memoizedState}function YR(s){for(var r=s.return;r!==null;){switch(r.tag){case 24:case 3:var o=Kn();s=xr(o);var u=_r(r,s,o);u!==null&&(Vn(u,r,o),vc(u,r,o)),r={cache:Gm()},s.payload=r;return}r=r.return}}function QR(s,r,o){var u=Kn();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},qh(s)?Rx(r,o):(o=Mm(s,r,o,u),o!==null&&(Vn(o,s,u),Nx(o,r,u)))}function kx(s,r,o){var u=Kn();Tc(s,r,o,u)}function Tc(s,r,o,u){var m={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(qh(s))Rx(r,m);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=r.lastRenderedReducer,y!==null))try{var _=r.lastRenderedState,A=y(_,o);if(m.hasEagerState=!0,m.eagerState=A,Bn(A,_))return Eh(s,r,m,0),ct===null&&Th(),!1}catch{}if(o=Mm(s,r,m,u),o!==null)return Vn(o,s,u),Nx(o,r,u),!0}return!1}function yp(s,r,o,u){if(u={lane:2,revertLane:Qp(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},qh(s)){if(r)throw Error(i(479))}else r=Mm(s,o,u,2),r!==null&&Vn(r,s,2)}function qh(s){var r=s.alternate;return s===Ue||r!==null&&r===Ue}function Rx(s,r){Po=Ph=!0;var o=s.pending;o===null?r.next=r:(r.next=o.next,o.next=r),s.pending=r}function Nx(s,r,o){if((o&4194048)!==0){var u=r.lanes;u&=s.pendingLanes,o|=u,r.lanes=o,Gl(s,o)}}var Ec={readContext:an,use:zh,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useLayoutEffect:_t,useInsertionEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useSyncExternalStore:_t,useId:_t,useHostTransitionStatus:_t,useFormState:_t,useActionState:_t,useOptimistic:_t,useMemoCache:_t,useCacheRefresh:_t};Ec.useEffectEvent=_t;var Ix={readContext:an,use:zh,useCallback:function(s,r){return Tn().memoizedState=[s,r===void 0?null:r],s},useContext:an,useEffect:mx,useImperativeHandle:function(s,r,o){o=o!=null?o.concat([s]):null,Fh(4194308,4,vx.bind(null,r,s),o)},useLayoutEffect:function(s,r){return Fh(4194308,4,s,r)},useInsertionEffect:function(s,r){Fh(4,2,s,r)},useMemo:function(s,r){var o=Tn();r=r===void 0?null:r;var u=s();if(Va){Jn(!0);try{s()}finally{Jn(!1)}}return o.memoizedState=[u,r],u},useReducer:function(s,r,o){var u=Tn();if(o!==void 0){var m=o(r);if(Va){Jn(!0);try{o(r)}finally{Jn(!1)}}}else m=r;return u.memoizedState=u.baseState=m,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:m},u.queue=s,s=s.dispatch=QR.bind(null,Ue,s),[u.memoizedState,s]},useRef:function(s){var r=Tn();return s={current:s},r.memoizedState=s},useState:function(s){s=up(s);var r=s.queue,o=kx.bind(null,Ue,r);return r.dispatch=o,[s.memoizedState,o]},useDebugValue:fp,useDeferredValue:function(s,r){var o=Tn();return mp(o,s,r)},useTransition:function(){var s=up(!1);return s=Tx.bind(null,Ue,s.queue,!0,!1),Tn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,r,o){var u=Ue,m=Tn();if(Qe){if(o===void 0)throw Error(i(407));o=o()}else{if(o=r(),ct===null)throw Error(i(349));(qe&127)!==0||Jb(u,r,o)}m.memoizedState=o;var y={value:o,getSnapshot:r};return m.queue=y,mx(ex.bind(null,u,y,s),[s]),u.flags|=2048,Uo(9,{destroy:void 0},Zb.bind(null,u,y,o,r),null),o},useId:function(){var s=Tn(),r=ct.identifierPrefix;if(Qe){var o=si,u=ni;o=(u&~(1<<32-kt(u)-1)).toString(32)+o,r="_"+r+"R_"+o,o=Lh++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=FR++,r="_"+r+"r_"+o.toString(32)+"_";return s.memoizedState=r},useHostTransitionStatus:gp,useFormState:cx,useActionState:cx,useOptimistic:function(s){var r=Tn();r.memoizedState=r.baseState=s;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=yp.bind(null,Ue,!0,o),o.dispatch=r,[s,r]},useMemoCache:op,useCacheRefresh:function(){return Tn().memoizedState=YR.bind(null,Ue)},useEffectEvent:function(s){var r=Tn(),o={impl:s};return r.memoizedState=o,function(){if((et&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}},vp={readContext:an,use:zh,useCallback:xx,useContext:an,useEffect:dp,useImperativeHandle:bx,useInsertionEffect:gx,useLayoutEffect:yx,useMemo:_x,useReducer:Bh,useRef:fx,useState:function(){return Bh(Ii)},useDebugValue:fp,useDeferredValue:function(s,r){var o=It();return wx(o,at.memoizedState,s,r)},useTransition:function(){var s=Bh(Ii)[0],r=It().memoizedState;return[typeof s=="boolean"?s:wc(s),r]},useSyncExternalStore:Wb,useId:Ax,useHostTransitionStatus:gp,useFormState:ux,useActionState:ux,useOptimistic:function(s,r){var o=It();return sx(o,at,s,r)},useMemoCache:op,useCacheRefresh:Cx};vp.useEffectEvent=px;var Dx={readContext:an,use:zh,useCallback:xx,useContext:an,useEffect:dp,useImperativeHandle:bx,useInsertionEffect:gx,useLayoutEffect:yx,useMemo:_x,useReducer:cp,useRef:fx,useState:function(){return cp(Ii)},useDebugValue:fp,useDeferredValue:function(s,r){var o=It();return at===null?mp(o,s,r):wx(o,at.memoizedState,s,r)},useTransition:function(){var s=cp(Ii)[0],r=It().memoizedState;return[typeof s=="boolean"?s:wc(s),r]},useSyncExternalStore:Wb,useId:Ax,useHostTransitionStatus:gp,useFormState:dx,useActionState:dx,useOptimistic:function(s,r){var o=It();return at!==null?sx(o,at,s,r):(o.baseState=s,[s,o.queue.dispatch])},useMemoCache:op,useCacheRefresh:Cx};Dx.useEffectEvent=px;function bp(s,r,o,u){r=s.memoizedState,o=o(u,r),o=o==null?r:b({},r,o),s.memoizedState=o,s.lanes===0&&(s.updateQueue.baseState=o)}var xp={enqueueSetState:function(s,r,o){s=s._reactInternals;var u=Kn(),m=xr(u);m.payload=r,o!=null&&(m.callback=o),r=_r(s,m,u),r!==null&&(Vn(r,s,u),vc(r,s,u))},enqueueReplaceState:function(s,r,o){s=s._reactInternals;var u=Kn(),m=xr(u);m.tag=1,m.payload=r,o!=null&&(m.callback=o),r=_r(s,m,u),r!==null&&(Vn(r,s,u),vc(r,s,u))},enqueueForceUpdate:function(s,r){s=s._reactInternals;var o=Kn(),u=xr(o);u.tag=2,r!=null&&(u.callback=r),r=_r(s,u,o),r!==null&&(Vn(r,s,o),vc(r,s,o))}};function jx(s,r,o,u,m,y,_){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(u,y,_):r.prototype&&r.prototype.isPureReactComponent?!uc(o,u)||!uc(m,y):!0}function Mx(s,r,o,u){s=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==s&&xp.enqueueReplaceState(r,r.state,null)}function Oa(s,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(s=s.defaultProps){o===r&&(o=b({},o));for(var m in s)o[m]===void 0&&(o[m]=s[m])}return o}function Vx(s){wh(s)}function Ox(s){console.error(s)}function Px(s){wh(s)}function Gh(s,r){try{var o=s.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function Lx(s,r,o){try{var u=s.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function _p(s,r,o){return o=xr(o),o.tag=3,o.payload={element:null},o.callback=function(){Gh(s,r)},o}function Ux(s){return s=xr(s),s.tag=3,s}function zx(s,r,o,u){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var y=u.value;s.payload=function(){return m(y)},s.callback=function(){Lx(r,o,u)}}var _=o.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(s.callback=function(){Lx(r,o,u),typeof m!="function"&&(Cr===null?Cr=new Set([this]):Cr.add(this));var A=u.stack;this.componentDidCatch(u.value,{componentStack:A!==null?A:""})})}function XR(s,r,o,u,m){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&Io(r,o,m,!0),o=Hn.current,o!==null){switch(o.tag){case 31:case 13:return ls===null?sd():o.alternate===null&&wt===0&&(wt=3),o.flags&=-257,o.flags|=65536,o.lanes=m,u===Dh?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),$p(s,u,m)),!1;case 22:return o.flags|=65536,u===Dh?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),$p(s,u,m)),!1}throw Error(i(435,o.tag))}return $p(s,u,m),sd(),!1}if(Qe)return r=Hn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=m,u!==zm&&(s=Error(i(422),{cause:u}),fc(is(s,o)))):(u!==zm&&(r=Error(i(423),{cause:u}),fc(is(r,o))),s=s.current.alternate,s.flags|=65536,m&=-m,s.lanes|=m,u=is(u,o),m=_p(s.stateNode,u,m),Wm(s,m),wt!==4&&(wt=2)),!1;var y=Error(i(520),{cause:u});if(y=is(y,o),Dc===null?Dc=[y]:Dc.push(y),wt!==4&&(wt=2),r===null)return!0;u=is(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,s=m&-m,o.lanes|=s,s=_p(o.stateNode,u,s),Wm(o,s),!1;case 1:if(r=o.type,y=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Cr===null||!Cr.has(y))))return o.flags|=65536,m&=-m,o.lanes|=m,m=Ux(m),zx(m,s,o,u),Wm(o,m),!1}o=o.return}while(o!==null);return!1}var wp=Error(i(461)),zt=!1;function on(s,r,o,u){r.child=s===null?qb(r,null,o,u):Ma(r,s.child,o,u)}function Bx(s,r,o,u,m){o=o.render;var y=r.ref;if("ref"in u){var _={};for(var A in u)A!=="ref"&&(_[A]=u[A])}else _=u;return Na(r),u=sp(s,r,o,_,y,m),A=ip(),s!==null&&!zt?(rp(s,r,m),Di(s,r,m)):(Qe&&A&&Lm(r),r.flags|=1,on(s,r,u,m),r.child)}function Fx(s,r,o,u,m){if(s===null){var y=o.type;return typeof y=="function"&&!Vm(y)&&y.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=y,Hx(s,r,y,u,m)):(s=Ah(o.type,null,u,r,r.mode,m),s.ref=r.ref,s.return=r,r.child=s)}if(y=s.child,!Np(s,m)){var _=y.memoizedProps;if(o=o.compare,o=o!==null?o:uc,o(_,u)&&s.ref===r.ref)return Di(s,r,m)}return r.flags|=1,s=Ai(y,u),s.ref=r.ref,s.return=r,r.child=s}function Hx(s,r,o,u,m){if(s!==null){var y=s.memoizedProps;if(uc(y,u)&&s.ref===r.ref)if(zt=!1,r.pendingProps=u=y,Np(s,m))(s.flags&131072)!==0&&(zt=!0);else return r.lanes=s.lanes,Di(s,r,m)}return Tp(s,r,o,u,m)}function qx(s,r,o,u){var m=u.children,y=s!==null?s.memoizedState:null;if(s===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(y=y!==null?y.baseLanes|o:o,s!==null){for(u=r.child=s.child,m=0;u!==null;)m=m|u.lanes|u.childLanes,u=u.sibling;u=m&~y}else u=0,r.child=null;return Gx(s,r,y,o,u)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},s!==null&&Nh(r,y!==null?y.cachePool:null),y!==null?Kb(r,y):Zm(),Yb(r);else return u=r.lanes=536870912,Gx(s,r,y!==null?y.baseLanes|o:o,o,u)}else y!==null?(Nh(r,y.cachePool),Kb(r,y),Tr(),r.memoizedState=null):(s!==null&&Nh(r,null),Zm(),Tr());return on(s,r,m,o),r.child}function Sc(s,r){return s!==null&&s.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function Gx(s,r,o,u,m){var y=Km();return y=y===null?null:{parent:Lt._currentValue,pool:y},r.memoizedState={baseLanes:o,cachePool:y},s!==null&&Nh(r,null),Zm(),Yb(r),s!==null&&Io(s,r,u,!0),r.childLanes=m,null}function $h(s,r){return r=Yh({mode:r.mode,children:r.children},s.mode),r.ref=s.ref,s.child=r,r.return=s,r}function $x(s,r,o){return Ma(r,s.child,null,o),s=$h(r,r.pendingProps),s.flags|=2,qn(r),r.memoizedState=null,s}function WR(s,r,o){var u=r.pendingProps,m=(r.flags&128)!==0;if(r.flags&=-129,s===null){if(Qe){if(u.mode==="hidden")return s=$h(r,u),r.lanes=536870912,Sc(null,s);if(tp(r),(s=dt)?(s=i1(s,os),s=s!==null&&s.data==="&"?s:null,s!==null&&(r.memoizedState={dehydrated:s,treeContext:pr!==null?{id:ni,overflow:si}:null,retryLane:536870912,hydrationErrors:null},o=Rb(s),o.return=r,r.child=o,rn=r,dt=null)):s=null,s===null)throw yr(r);return r.lanes=536870912,null}return $h(r,u)}var y=s.memoizedState;if(y!==null){var _=y.dehydrated;if(tp(r),m)if(r.flags&256)r.flags&=-257,r=$x(s,r,o);else if(r.memoizedState!==null)r.child=s.child,r.flags|=128,r=null;else throw Error(i(558));else if(zt||Io(s,r,o,!1),m=(o&s.childLanes)!==0,zt||m){if(u=ct,u!==null&&(_=$l(u,o),_!==0&&_!==y.retryLane))throw y.retryLane=_,Aa(s,_),Vn(u,s,_),wp;sd(),r=$x(s,r,o)}else s=y.treeContext,dt=cs(_.nextSibling),rn=r,Qe=!0,gr=null,os=!1,s!==null&&Db(r,s),r=$h(r,u),r.flags|=4096;return r}return s=Ai(s.child,{mode:u.mode,children:u.children}),s.ref=r.ref,r.child=s,s.return=r,s}function Kh(s,r){var o=r.ref;if(o===null)s!==null&&s.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(s===null||s.ref!==o)&&(r.flags|=4194816)}}function Tp(s,r,o,u,m){return Na(r),o=sp(s,r,o,u,void 0,m),u=ip(),s!==null&&!zt?(rp(s,r,m),Di(s,r,m)):(Qe&&u&&Lm(r),r.flags|=1,on(s,r,o,m),r.child)}function Kx(s,r,o,u,m,y){return Na(r),r.updateQueue=null,o=Xb(r,u,o,m),Qb(s),u=ip(),s!==null&&!zt?(rp(s,r,y),Di(s,r,y)):(Qe&&u&&Lm(r),r.flags|=1,on(s,r,o,y),r.child)}function Yx(s,r,o,u,m){if(Na(r),r.stateNode===null){var y=Co,_=o.contextType;typeof _=="object"&&_!==null&&(y=an(_)),y=new o(u,y),r.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=xp,r.stateNode=y,y._reactInternals=r,y=r.stateNode,y.props=u,y.state=r.memoizedState,y.refs={},Qm(r),_=o.contextType,y.context=typeof _=="object"&&_!==null?an(_):Co,y.state=r.memoizedState,_=o.getDerivedStateFromProps,typeof _=="function"&&(bp(r,o,_,u),y.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(_=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),_!==y.state&&xp.enqueueReplaceState(y,y.state,null),xc(r,u,y,m),bc(),y.state=r.memoizedState),typeof y.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(s===null){y=r.stateNode;var A=r.memoizedProps,L=Oa(o,A);y.props=L;var Q=y.context,ne=o.contextType;_=Co,typeof ne=="object"&&ne!==null&&(_=an(ne));var ae=o.getDerivedStateFromProps;ne=typeof ae=="function"||typeof y.getSnapshotBeforeUpdate=="function",A=r.pendingProps!==A,ne||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(A||Q!==_)&&Mx(r,y,u,_),br=!1;var X=r.memoizedState;y.state=X,xc(r,u,y,m),bc(),Q=r.memoizedState,A||X!==Q||br?(typeof ae=="function"&&(bp(r,o,ae,u),Q=r.memoizedState),(L=br||jx(r,o,L,u,X,Q,_))?(ne||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(r.flags|=4194308)):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=Q),y.props=u,y.state=Q,y.context=_,u=L):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{y=r.stateNode,Xm(s,r),_=r.memoizedProps,ne=Oa(o,_),y.props=ne,ae=r.pendingProps,X=y.context,Q=o.contextType,L=Co,typeof Q=="object"&&Q!==null&&(L=an(Q)),A=o.getDerivedStateFromProps,(Q=typeof A=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(_!==ae||X!==L)&&Mx(r,y,u,L),br=!1,X=r.memoizedState,y.state=X,xc(r,u,y,m),bc();var J=r.memoizedState;_!==ae||X!==J||br||s!==null&&s.dependencies!==null&&kh(s.dependencies)?(typeof A=="function"&&(bp(r,o,A,u),J=r.memoizedState),(ne=br||jx(r,o,ne,u,X,J,L)||s!==null&&s.dependencies!==null&&kh(s.dependencies))?(Q||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,J,L),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,J,L)),typeof y.componentDidUpdate=="function"&&(r.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof y.componentDidUpdate!="function"||_===s.memoizedProps&&X===s.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||_===s.memoizedProps&&X===s.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=J),y.props=u,y.state=J,y.context=L,u=ne):(typeof y.componentDidUpdate!="function"||_===s.memoizedProps&&X===s.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||_===s.memoizedProps&&X===s.memoizedState||(r.flags|=1024),u=!1)}return y=u,Kh(s,r),u=(r.flags&128)!==0,y||u?(y=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:y.render(),r.flags|=1,s!==null&&u?(r.child=Ma(r,s.child,null,m),r.child=Ma(r,null,o,m)):on(s,r,o,m),r.memoizedState=y.state,s=r.child):s=Di(s,r,m),s}function Qx(s,r,o,u){return ka(),r.flags|=256,on(s,r,o,u),r.child}var Ep={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Sp(s){return{baseLanes:s,cachePool:Lb()}}function Ap(s,r,o){return s=s!==null?s.childLanes&~o:0,r&&(s|=$n),s}function Xx(s,r,o){var u=r.pendingProps,m=!1,y=(r.flags&128)!==0,_;if((_=y)||(_=s!==null&&s.memoizedState===null?!1:(Nt.current&2)!==0),_&&(m=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,s===null){if(Qe){if(m?wr(r):Tr(),(s=dt)?(s=i1(s,os),s=s!==null&&s.data!=="&"?s:null,s!==null&&(r.memoizedState={dehydrated:s,treeContext:pr!==null?{id:ni,overflow:si}:null,retryLane:536870912,hydrationErrors:null},o=Rb(s),o.return=r,r.child=o,rn=r,dt=null)):s=null,s===null)throw yr(r);return lg(s)?r.lanes=32:r.lanes=536870912,null}var A=u.children;return u=u.fallback,m?(Tr(),m=r.mode,A=Yh({mode:"hidden",children:A},m),u=Ca(u,m,o,null),A.return=r,u.return=r,A.sibling=u,r.child=A,u=r.child,u.memoizedState=Sp(o),u.childLanes=Ap(s,_,o),r.memoizedState=Ep,Sc(null,u)):(wr(r),Cp(r,A))}var L=s.memoizedState;if(L!==null&&(A=L.dehydrated,A!==null)){if(y)r.flags&256?(wr(r),r.flags&=-257,r=kp(s,r,o)):r.memoizedState!==null?(Tr(),r.child=s.child,r.flags|=128,r=null):(Tr(),A=u.fallback,m=r.mode,u=Yh({mode:"visible",children:u.children},m),A=Ca(A,m,o,null),A.flags|=2,u.return=r,A.return=r,u.sibling=A,r.child=u,Ma(r,s.child,null,o),u=r.child,u.memoizedState=Sp(o),u.childLanes=Ap(s,_,o),r.memoizedState=Ep,r=Sc(null,u));else if(wr(r),lg(A)){if(_=A.nextSibling&&A.nextSibling.dataset,_)var Q=_.dgst;_=Q,u=Error(i(419)),u.stack="",u.digest=_,fc({value:u,source:null,stack:null}),r=kp(s,r,o)}else if(zt||Io(s,r,o,!1),_=(o&s.childLanes)!==0,zt||_){if(_=ct,_!==null&&(u=$l(_,o),u!==0&&u!==L.retryLane))throw L.retryLane=u,Aa(s,u),Vn(_,s,u),wp;og(A)||sd(),r=kp(s,r,o)}else og(A)?(r.flags|=192,r.child=s.child,r=null):(s=L.treeContext,dt=cs(A.nextSibling),rn=r,Qe=!0,gr=null,os=!1,s!==null&&Db(r,s),r=Cp(r,u.children),r.flags|=4096);return r}return m?(Tr(),A=u.fallback,m=r.mode,L=s.child,Q=L.sibling,u=Ai(L,{mode:"hidden",children:u.children}),u.subtreeFlags=L.subtreeFlags&65011712,Q!==null?A=Ai(Q,A):(A=Ca(A,m,o,null),A.flags|=2),A.return=r,u.return=r,u.sibling=A,r.child=u,Sc(null,u),u=r.child,A=s.child.memoizedState,A===null?A=Sp(o):(m=A.cachePool,m!==null?(L=Lt._currentValue,m=m.parent!==L?{parent:L,pool:L}:m):m=Lb(),A={baseLanes:A.baseLanes|o,cachePool:m}),u.memoizedState=A,u.childLanes=Ap(s,_,o),r.memoizedState=Ep,Sc(s.child,u)):(wr(r),o=s.child,s=o.sibling,o=Ai(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,s!==null&&(_=r.deletions,_===null?(r.deletions=[s],r.flags|=16):_.push(s)),r.child=o,r.memoizedState=null,o)}function Cp(s,r){return r=Yh({mode:"visible",children:r},s.mode),r.return=s,s.child=r}function Yh(s,r){return s=Fn(22,s,null,r),s.lanes=0,s}function kp(s,r,o){return Ma(r,s.child,null,o),s=Cp(r,r.pendingProps.children),s.flags|=2,r.memoizedState=null,s}function Wx(s,r,o){s.lanes|=r;var u=s.alternate;u!==null&&(u.lanes|=r),Hm(s.return,r,o)}function Rp(s,r,o,u,m,y){var _=s.memoizedState;_===null?s.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:m,treeForkCount:y}:(_.isBackwards=r,_.rendering=null,_.renderingStartTime=0,_.last=u,_.tail=o,_.tailMode=m,_.treeForkCount=y)}function Jx(s,r,o){var u=r.pendingProps,m=u.revealOrder,y=u.tail;u=u.children;var _=Nt.current,A=(_&2)!==0;if(A?(_=_&1|2,r.flags|=128):_&=1,ce(Nt,_),on(s,r,u,o),u=Qe?dc:0,!A&&s!==null&&(s.flags&128)!==0)e:for(s=r.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Wx(s,o,r);else if(s.tag===19)Wx(s,o,r);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(m){case"forwards":for(o=r.child,m=null;o!==null;)s=o.alternate,s!==null&&Oh(s)===null&&(m=o),o=o.sibling;o=m,o===null?(m=r.child,r.child=null):(m=o.sibling,o.sibling=null),Rp(r,!1,m,o,y,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,m=r.child,r.child=null;m!==null;){if(s=m.alternate,s!==null&&Oh(s)===null){r.child=m;break}s=m.sibling,m.sibling=o,o=m,m=s}Rp(r,!0,o,null,y,u);break;case"together":Rp(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function Di(s,r,o){if(s!==null&&(r.dependencies=s.dependencies),Ar|=r.lanes,(o&r.childLanes)===0)if(s!==null){if(Io(s,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(s!==null&&r.child!==s.child)throw Error(i(153));if(r.child!==null){for(s=r.child,o=Ai(s,s.pendingProps),r.child=o,o.return=r;s.sibling!==null;)s=s.sibling,o=o.sibling=Ai(s,s.pendingProps),o.return=r;o.sibling=null}return r.child}function Np(s,r){return(s.lanes&r)!==0?!0:(s=s.dependencies,!!(s!==null&&kh(s)))}function JR(s,r,o){switch(r.tag){case 3:Ne(r,r.stateNode.containerInfo),vr(r,Lt,s.memoizedState.cache),ka();break;case 27:case 5:xt(r);break;case 4:Ne(r,r.stateNode.containerInfo);break;case 10:vr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,tp(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(wr(r),r.flags|=128,null):(o&r.child.childLanes)!==0?Xx(s,r,o):(wr(r),s=Di(s,r,o),s!==null?s.sibling:null);wr(r);break;case 19:var m=(s.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(Io(s,r,o,!1),u=(o&r.childLanes)!==0),m){if(u)return Jx(s,r,o);r.flags|=128}if(m=r.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),ce(Nt,Nt.current),u)break;return null;case 22:return r.lanes=0,qx(s,r,o,r.pendingProps);case 24:vr(r,Lt,s.memoizedState.cache)}return Di(s,r,o)}function Zx(s,r,o){if(s!==null)if(s.memoizedProps!==r.pendingProps)zt=!0;else{if(!Np(s,o)&&(r.flags&128)===0)return zt=!1,JR(s,r,o);zt=(s.flags&131072)!==0}else zt=!1,Qe&&(r.flags&1048576)!==0&&Ib(r,dc,r.index);switch(r.lanes=0,r.tag){case 16:e:{var u=r.pendingProps;if(s=Da(r.elementType),r.type=s,typeof s=="function")Vm(s)?(u=Oa(s,u),r.tag=1,r=Yx(null,r,s,u,o)):(r.tag=0,r=Tp(null,r,s,u,o));else{if(s!=null){var m=s.$$typeof;if(m===te){r.tag=11,r=Bx(null,r,s,u,o);break e}else if(m===j){r.tag=14,r=Fx(null,r,s,u,o);break e}}throw r=xe(s)||s,Error(i(306,r,""))}}return r;case 0:return Tp(s,r,r.type,r.pendingProps,o);case 1:return u=r.type,m=Oa(u,r.pendingProps),Yx(s,r,u,m,o);case 3:e:{if(Ne(r,r.stateNode.containerInfo),s===null)throw Error(i(387));u=r.pendingProps;var y=r.memoizedState;m=y.element,Xm(s,r),xc(r,u,null,o);var _=r.memoizedState;if(u=_.cache,vr(r,Lt,u),u!==y.cache&&qm(r,[Lt],o,!0),bc(),u=_.element,y.isDehydrated)if(y={element:u,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=y,r.memoizedState=y,r.flags&256){r=Qx(s,r,u,o);break e}else if(u!==m){m=is(Error(i(424)),r),fc(m),r=Qx(s,r,u,o);break e}else for(s=r.stateNode.containerInfo,s.nodeType===9?s=s.body:s=s.nodeName==="HTML"?s.ownerDocument.body:s,dt=cs(s.firstChild),rn=r,Qe=!0,gr=null,os=!0,o=qb(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(ka(),u===m){r=Di(s,r,o);break e}on(s,r,u,o)}r=r.child}return r;case 26:return Kh(s,r),s===null?(o=u1(r.type,null,r.pendingProps,null))?r.memoizedState=o:Qe||(o=r.type,s=r.pendingProps,u=ud(De.current).createElement(o),u[Vt]=r,u[Wt]=s,ln(u,o,s),Ot(u),r.stateNode=u):r.memoizedState=u1(r.type,s.memoizedProps,r.pendingProps,s.memoizedState),null;case 27:return xt(r),s===null&&Qe&&(u=r.stateNode=o1(r.type,r.pendingProps,De.current),rn=r,os=!0,m=dt,Ir(r.type)?(cg=m,dt=cs(u.firstChild)):dt=m),on(s,r,r.pendingProps.children,o),Kh(s,r),s===null&&(r.flags|=4194304),r.child;case 5:return s===null&&Qe&&((m=u=dt)&&(u=kN(u,r.type,r.pendingProps,os),u!==null?(r.stateNode=u,rn=r,dt=cs(u.firstChild),os=!1,m=!0):m=!1),m||yr(r)),xt(r),m=r.type,y=r.pendingProps,_=s!==null?s.memoizedProps:null,u=y.children,ig(m,y)?u=null:_!==null&&ig(m,_)&&(r.flags|=32),r.memoizedState!==null&&(m=sp(s,r,HR,null,null,o),zc._currentValue=m),Kh(s,r),on(s,r,u,o),r.child;case 6:return s===null&&Qe&&((s=o=dt)&&(o=RN(o,r.pendingProps,os),o!==null?(r.stateNode=o,rn=r,dt=null,s=!0):s=!1),s||yr(r)),null;case 13:return Xx(s,r,o);case 4:return Ne(r,r.stateNode.containerInfo),u=r.pendingProps,s===null?r.child=Ma(r,null,u,o):on(s,r,u,o),r.child;case 11:return Bx(s,r,r.type,r.pendingProps,o);case 7:return on(s,r,r.pendingProps,o),r.child;case 8:return on(s,r,r.pendingProps.children,o),r.child;case 12:return on(s,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,vr(r,r.type,u.value),on(s,r,u.children,o),r.child;case 9:return m=r.type._context,u=r.pendingProps.children,Na(r),m=an(m),u=u(m),r.flags|=1,on(s,r,u,o),r.child;case 14:return Fx(s,r,r.type,r.pendingProps,o);case 15:return Hx(s,r,r.type,r.pendingProps,o);case 19:return Jx(s,r,o);case 31:return WR(s,r,o);case 22:return qx(s,r,o,r.pendingProps);case 24:return Na(r),u=an(Lt),s===null?(m=Km(),m===null&&(m=ct,y=Gm(),m.pooledCache=y,y.refCount++,y!==null&&(m.pooledCacheLanes|=o),m=y),r.memoizedState={parent:u,cache:m},Qm(r),vr(r,Lt,m)):((s.lanes&o)!==0&&(Xm(s,r),xc(r,null,null,o),bc()),m=s.memoizedState,y=r.memoizedState,m.parent!==u?(m={parent:u,cache:u},r.memoizedState=m,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=m),vr(r,Lt,u)):(u=y.cache,vr(r,Lt,u),u!==m.cache&&qm(r,[Lt],o,!0))),on(s,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function ji(s){s.flags|=4}function Ip(s,r,o,u,m){if((r=(s.mode&32)!==0)&&(r=!1),r){if(s.flags|=16777216,(m&335544128)===m)if(s.stateNode.complete)s.flags|=8192;else if(A_())s.flags|=8192;else throw ja=Dh,Ym}else s.flags&=-16777217}function e_(s,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!p1(r))if(A_())s.flags|=8192;else throw ja=Dh,Ym}function Qh(s,r){r!==null&&(s.flags|=4),s.flags&16384&&(r=s.tag!==22?th():536870912,s.lanes|=r,Ho|=r)}function Ac(s,r){if(!Qe)switch(s.tailMode){case"hidden":r=s.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?s.tail=null:o.sibling=null;break;case"collapsed":o=s.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||s.tail===null?s.tail=null:s.tail.sibling=null:u.sibling=null}}function ft(s){var r=s.alternate!==null&&s.alternate.child===s.child,o=0,u=0;if(r)for(var m=s.child;m!==null;)o|=m.lanes|m.childLanes,u|=m.subtreeFlags&65011712,u|=m.flags&65011712,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)o|=m.lanes|m.childLanes,u|=m.subtreeFlags,u|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=u,s.childLanes=o,r}function ZR(s,r,o){var u=r.pendingProps;switch(Um(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(r),null;case 1:return ft(r),null;case 3:return o=r.stateNode,u=null,s!==null&&(u=s.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),Ri(Lt),Me(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(s===null||s.child===null)&&(No(r)?ji(r):s===null||s.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Bm())),ft(r),null;case 26:var m=r.type,y=r.memoizedState;return s===null?(ji(r),y!==null?(ft(r),e_(r,y)):(ft(r),Ip(r,m,null,u,o))):y?y!==s.memoizedState?(ji(r),ft(r),e_(r,y)):(ft(r),r.flags&=-16777217):(s=s.memoizedProps,s!==u&&ji(r),ft(r),Ip(r,m,s,u,o)),null;case 27:if(Cn(r),o=De.current,m=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==u&&ji(r);else{if(!u){if(r.stateNode===null)throw Error(i(166));return ft(r),null}s=ue.current,No(r)?jb(r):(s=o1(m,u,o),r.stateNode=s,ji(r))}return ft(r),null;case 5:if(Cn(r),m=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==u&&ji(r);else{if(!u){if(r.stateNode===null)throw Error(i(166));return ft(r),null}if(y=ue.current,No(r))jb(r);else{var _=ud(De.current);switch(y){case 1:y=_.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:y=_.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":y=_.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":y=_.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":y=_.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof u.is=="string"?_.createElement("select",{is:u.is}):_.createElement("select"),u.multiple?y.multiple=!0:u.size&&(y.size=u.size);break;default:y=typeof u.is=="string"?_.createElement(m,{is:u.is}):_.createElement(m)}}y[Vt]=r,y[Wt]=u;e:for(_=r.child;_!==null;){if(_.tag===5||_.tag===6)y.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===r)break e;for(;_.sibling===null;){if(_.return===null||_.return===r)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}r.stateNode=y;e:switch(ln(y,m,u),m){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&ji(r)}}return ft(r),Ip(r,r.type,s===null?null:s.memoizedProps,r.pendingProps,o),null;case 6:if(s&&r.stateNode!=null)s.memoizedProps!==u&&ji(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(i(166));if(s=De.current,No(r)){if(s=r.stateNode,o=r.memoizedProps,u=null,m=rn,m!==null)switch(m.tag){case 27:case 5:u=m.memoizedProps}s[Vt]=r,s=!!(s.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||X_(s.nodeValue,o)),s||yr(r,!0)}else s=ud(s).createTextNode(u),s[Vt]=r,r.stateNode=s}return ft(r),null;case 31:if(o=r.memoizedState,s===null||s.memoizedState!==null){if(u=No(r),o!==null){if(s===null){if(!u)throw Error(i(318));if(s=r.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(557));s[Vt]=r}else ka(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ft(r),s=!1}else o=Bm(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=o),s=!0;if(!s)return r.flags&256?(qn(r),r):(qn(r),null);if((r.flags&128)!==0)throw Error(i(558))}return ft(r),null;case 13:if(u=r.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(m=No(r),u!==null&&u.dehydrated!==null){if(s===null){if(!m)throw Error(i(318));if(m=r.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[Vt]=r}else ka(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ft(r),m=!1}else m=Bm(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=m),m=!0;if(!m)return r.flags&256?(qn(r),r):(qn(r),null)}return qn(r),(r.flags&128)!==0?(r.lanes=o,r):(o=u!==null,s=s!==null&&s.memoizedState!==null,o&&(u=r.child,m=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(m=u.alternate.memoizedState.cachePool.pool),y=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==m&&(u.flags|=2048)),o!==s&&o&&(r.child.flags|=8192),Qh(r,r.updateQueue),ft(r),null);case 4:return Me(),s===null&&Zp(r.stateNode.containerInfo),ft(r),null;case 10:return Ri(r.type),ft(r),null;case 19:if(ee(Nt),u=r.memoizedState,u===null)return ft(r),null;if(m=(r.flags&128)!==0,y=u.rendering,y===null)if(m)Ac(u,!1);else{if(wt!==0||s!==null&&(s.flags&128)!==0)for(s=r.child;s!==null;){if(y=Oh(s),y!==null){for(r.flags|=128,Ac(u,!1),s=y.updateQueue,r.updateQueue=s,Qh(r,s),r.subtreeFlags=0,s=o,o=r.child;o!==null;)kb(o,s),o=o.sibling;return ce(Nt,Nt.current&1|2),Qe&&Ci(r,u.treeForkCount),r.child}s=s.sibling}u.tail!==null&&_n()>ed&&(r.flags|=128,m=!0,Ac(u,!1),r.lanes=4194304)}else{if(!m)if(s=Oh(y),s!==null){if(r.flags|=128,m=!0,s=s.updateQueue,r.updateQueue=s,Qh(r,s),Ac(u,!0),u.tail===null&&u.tailMode==="hidden"&&!y.alternate&&!Qe)return ft(r),null}else 2*_n()-u.renderingStartTime>ed&&o!==536870912&&(r.flags|=128,m=!0,Ac(u,!1),r.lanes=4194304);u.isBackwards?(y.sibling=r.child,r.child=y):(s=u.last,s!==null?s.sibling=y:r.child=y,u.last=y)}return u.tail!==null?(s=u.tail,u.rendering=s,u.tail=s.sibling,u.renderingStartTime=_n(),s.sibling=null,o=Nt.current,ce(Nt,m?o&1|2:o&1),Qe&&Ci(r,u.treeForkCount),s):(ft(r),null);case 22:case 23:return qn(r),ep(),u=r.memoizedState!==null,s!==null?s.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(ft(r),r.subtreeFlags&6&&(r.flags|=8192)):ft(r),o=r.updateQueue,o!==null&&Qh(r,o.retryQueue),o=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),s!==null&&ee(Ia),null;case 24:return o=null,s!==null&&(o=s.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),Ri(Lt),ft(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function eN(s,r){switch(Um(r),r.tag){case 1:return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 3:return Ri(Lt),Me(),s=r.flags,(s&65536)!==0&&(s&128)===0?(r.flags=s&-65537|128,r):null;case 26:case 27:case 5:return Cn(r),null;case 31:if(r.memoizedState!==null){if(qn(r),r.alternate===null)throw Error(i(340));ka()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 13:if(qn(r),s=r.memoizedState,s!==null&&s.dehydrated!==null){if(r.alternate===null)throw Error(i(340));ka()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 19:return ee(Nt),null;case 4:return Me(),null;case 10:return Ri(r.type),null;case 22:case 23:return qn(r),ep(),s!==null&&ee(Ia),s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 24:return Ri(Lt),null;case 25:return null;default:return null}}function t_(s,r){switch(Um(r),r.tag){case 3:Ri(Lt),Me();break;case 26:case 27:case 5:Cn(r);break;case 4:Me();break;case 31:r.memoizedState!==null&&qn(r);break;case 13:qn(r);break;case 19:ee(Nt);break;case 10:Ri(r.type);break;case 22:case 23:qn(r),ep(),s!==null&&ee(Ia);break;case 24:Ri(Lt)}}function Cc(s,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var m=u.next;o=m;do{if((o.tag&s)===s){u=void 0;var y=o.create,_=o.inst;u=y(),_.destroy=u}o=o.next}while(o!==m)}}catch(A){it(r,r.return,A)}}function Er(s,r,o){try{var u=r.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var y=m.next;u=y;do{if((u.tag&s)===s){var _=u.inst,A=_.destroy;if(A!==void 0){_.destroy=void 0,m=r;var L=o,Q=A;try{Q()}catch(ne){it(m,L,ne)}}}u=u.next}while(u!==y)}}catch(ne){it(r,r.return,ne)}}function n_(s){var r=s.updateQueue;if(r!==null){var o=s.stateNode;try{$b(r,o)}catch(u){it(s,s.return,u)}}}function s_(s,r,o){o.props=Oa(s.type,s.memoizedProps),o.state=s.memoizedState;try{o.componentWillUnmount()}catch(u){it(s,r,u)}}function kc(s,r){try{var o=s.ref;if(o!==null){switch(s.tag){case 26:case 27:case 5:var u=s.stateNode;break;case 30:u=s.stateNode;break;default:u=s.stateNode}typeof o=="function"?s.refCleanup=o(u):o.current=u}}catch(m){it(s,r,m)}}function ii(s,r){var o=s.ref,u=s.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(m){it(s,r,m)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){it(s,r,m)}else o.current=null}function i_(s){var r=s.type,o=s.memoizedProps,u=s.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(m){it(s,s.return,m)}}function Dp(s,r,o){try{var u=s.stateNode;wN(u,s.type,o,r),u[Wt]=r}catch(m){it(s,s.return,m)}}function r_(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Ir(s.type)||s.tag===4}function jp(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||r_(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Ir(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Mp(s,r,o){var u=s.tag;if(u===5||u===6)s=s.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(s,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(s),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Ts));else if(u!==4&&(u===27&&Ir(s.type)&&(o=s.stateNode,r=null),s=s.child,s!==null))for(Mp(s,r,o),s=s.sibling;s!==null;)Mp(s,r,o),s=s.sibling}function Xh(s,r,o){var u=s.tag;if(u===5||u===6)s=s.stateNode,r?o.insertBefore(s,r):o.appendChild(s);else if(u!==4&&(u===27&&Ir(s.type)&&(o=s.stateNode),s=s.child,s!==null))for(Xh(s,r,o),s=s.sibling;s!==null;)Xh(s,r,o),s=s.sibling}function a_(s){var r=s.stateNode,o=s.memoizedProps;try{for(var u=s.type,m=r.attributes;m.length;)r.removeAttributeNode(m[0]);ln(r,u,o),r[Vt]=s,r[Wt]=o}catch(y){it(s,s.return,y)}}var Mi=!1,Bt=!1,Vp=!1,o_=typeof WeakSet=="function"?WeakSet:Set,Zt=null;function tN(s,r){if(s=s.containerInfo,ng=yd,s=bb(s),km(s)){if("selectionStart"in s)var o={start:s.selectionStart,end:s.selectionEnd};else e:{o=(o=s.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var m=u.anchorOffset,y=u.focusNode;u=u.focusOffset;try{o.nodeType,y.nodeType}catch{o=null;break e}var _=0,A=-1,L=-1,Q=0,ne=0,ae=s,X=null;t:for(;;){for(var J;ae!==o||m!==0&&ae.nodeType!==3||(A=_+m),ae!==y||u!==0&&ae.nodeType!==3||(L=_+u),ae.nodeType===3&&(_+=ae.nodeValue.length),(J=ae.firstChild)!==null;)X=ae,ae=J;for(;;){if(ae===s)break t;if(X===o&&++Q===m&&(A=_),X===y&&++ne===u&&(L=_),(J=ae.nextSibling)!==null)break;ae=X,X=ae.parentNode}ae=J}o=A===-1||L===-1?null:{start:A,end:L}}else o=null}o=o||{start:0,end:0}}else o=null;for(sg={focusedElem:s,selectionRange:o},yd=!1,Zt=r;Zt!==null;)if(r=Zt,s=r.child,(r.subtreeFlags&1028)!==0&&s!==null)s.return=r,Zt=s;else for(;Zt!==null;){switch(r=Zt,y=r.alternate,s=r.flags,r.tag){case 0:if((s&4)!==0&&(s=r.updateQueue,s=s!==null?s.events:null,s!==null))for(o=0;o<s.length;o++)m=s[o],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&y!==null){s=void 0,o=r,m=y.memoizedProps,y=y.memoizedState,u=o.stateNode;try{var ge=Oa(o.type,m);s=u.getSnapshotBeforeUpdate(ge,y),u.__reactInternalSnapshotBeforeUpdate=s}catch(Re){it(o,o.return,Re)}}break;case 3:if((s&1024)!==0){if(s=r.stateNode.containerInfo,o=s.nodeType,o===9)ag(s);else if(o===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":ag(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=r.sibling,s!==null){s.return=r.return,Zt=s;break}Zt=r.return}}function l_(s,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Oi(s,o),u&4&&Cc(5,o);break;case 1:if(Oi(s,o),u&4)if(s=o.stateNode,r===null)try{s.componentDidMount()}catch(_){it(o,o.return,_)}else{var m=Oa(o.type,r.memoizedProps);r=r.memoizedState;try{s.componentDidUpdate(m,r,s.__reactInternalSnapshotBeforeUpdate)}catch(_){it(o,o.return,_)}}u&64&&n_(o),u&512&&kc(o,o.return);break;case 3:if(Oi(s,o),u&64&&(s=o.updateQueue,s!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{$b(s,r)}catch(_){it(o,o.return,_)}}break;case 27:r===null&&u&4&&a_(o);case 26:case 5:Oi(s,o),r===null&&u&4&&i_(o),u&512&&kc(o,o.return);break;case 12:Oi(s,o);break;case 31:Oi(s,o),u&4&&h_(s,o);break;case 13:Oi(s,o),u&4&&d_(s,o),u&64&&(s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(o=uN.bind(null,o),NN(s,o))));break;case 22:if(u=o.memoizedState!==null||Mi,!u){r=r!==null&&r.memoizedState!==null||Bt,m=Mi;var y=Bt;Mi=u,(Bt=r)&&!y?Pi(s,o,(o.subtreeFlags&8772)!==0):Oi(s,o),Mi=m,Bt=y}break;case 30:break;default:Oi(s,o)}}function c_(s){var r=s.alternate;r!==null&&(s.alternate=null,c_(r)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(r=s.stateNode,r!==null&&fo(r)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var gt=null,In=!1;function Vi(s,r,o){for(o=o.child;o!==null;)u_(s,r,o),o=o.sibling}function u_(s,r,o){if(nn&&typeof nn.onCommitFiberUnmount=="function")try{nn.onCommitFiberUnmount(bs,o)}catch{}switch(o.tag){case 26:Bt||ii(o,r),Vi(s,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Bt||ii(o,r);var u=gt,m=In;Ir(o.type)&&(gt=o.stateNode,In=!1),Vi(s,r,o),Pc(o.stateNode),gt=u,In=m;break;case 5:Bt||ii(o,r);case 6:if(u=gt,m=In,gt=null,Vi(s,r,o),gt=u,In=m,gt!==null)if(In)try{(gt.nodeType===9?gt.body:gt.nodeName==="HTML"?gt.ownerDocument.body:gt).removeChild(o.stateNode)}catch(y){it(o,r,y)}else try{gt.removeChild(o.stateNode)}catch(y){it(o,r,y)}break;case 18:gt!==null&&(In?(s=gt,n1(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,o.stateNode),Wo(s)):n1(gt,o.stateNode));break;case 4:u=gt,m=In,gt=o.stateNode.containerInfo,In=!0,Vi(s,r,o),gt=u,In=m;break;case 0:case 11:case 14:case 15:Er(2,o,r),Bt||Er(4,o,r),Vi(s,r,o);break;case 1:Bt||(ii(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&s_(o,r,u)),Vi(s,r,o);break;case 21:Vi(s,r,o);break;case 22:Bt=(u=Bt)||o.memoizedState!==null,Vi(s,r,o),Bt=u;break;default:Vi(s,r,o)}}function h_(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Wo(s)}catch(o){it(r,r.return,o)}}}function d_(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Wo(s)}catch(o){it(r,r.return,o)}}function nN(s){switch(s.tag){case 31:case 13:case 19:var r=s.stateNode;return r===null&&(r=s.stateNode=new o_),r;case 22:return s=s.stateNode,r=s._retryCache,r===null&&(r=s._retryCache=new o_),r;default:throw Error(i(435,s.tag))}}function Wh(s,r){var o=nN(s);r.forEach(function(u){if(!o.has(u)){o.add(u);var m=hN.bind(null,s,u);u.then(m,m)}})}function Dn(s,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var m=o[u],y=s,_=r,A=_;e:for(;A!==null;){switch(A.tag){case 27:if(Ir(A.type)){gt=A.stateNode,In=!1;break e}break;case 5:gt=A.stateNode,In=!1;break e;case 3:case 4:gt=A.stateNode.containerInfo,In=!0;break e}A=A.return}if(gt===null)throw Error(i(160));u_(y,_,m),gt=null,In=!1,y=m.alternate,y!==null&&(y.return=null),m.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)f_(r,s),r=r.sibling}var Rs=null;function f_(s,r){var o=s.alternate,u=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Dn(r,s),jn(s),u&4&&(Er(3,s,s.return),Cc(3,s),Er(5,s,s.return));break;case 1:Dn(r,s),jn(s),u&512&&(Bt||o===null||ii(o,o.return)),u&64&&Mi&&(s=s.updateQueue,s!==null&&(u=s.callbacks,u!==null&&(o=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var m=Rs;if(Dn(r,s),jn(s),u&512&&(Bt||o===null||ii(o,o.return)),u&4){var y=o!==null?o.memoizedState:null;if(u=s.memoizedState,o===null)if(u===null)if(s.stateNode===null){e:{u=s.type,o=s.memoizedProps,m=m.ownerDocument||m;t:switch(u){case"title":y=m.getElementsByTagName("title")[0],(!y||y[qs]||y[Vt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=m.createElement(u),m.head.insertBefore(y,m.querySelector("head > title"))),ln(y,u,o),y[Vt]=s,Ot(y),u=y;break e;case"link":var _=f1("link","href",m).get(u+(o.href||""));if(_){for(var A=0;A<_.length;A++)if(y=_[A],y.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&y.getAttribute("rel")===(o.rel==null?null:o.rel)&&y.getAttribute("title")===(o.title==null?null:o.title)&&y.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){_.splice(A,1);break t}}y=m.createElement(u),ln(y,u,o),m.head.appendChild(y);break;case"meta":if(_=f1("meta","content",m).get(u+(o.content||""))){for(A=0;A<_.length;A++)if(y=_[A],y.getAttribute("content")===(o.content==null?null:""+o.content)&&y.getAttribute("name")===(o.name==null?null:o.name)&&y.getAttribute("property")===(o.property==null?null:o.property)&&y.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&y.getAttribute("charset")===(o.charSet==null?null:o.charSet)){_.splice(A,1);break t}}y=m.createElement(u),ln(y,u,o),m.head.appendChild(y);break;default:throw Error(i(468,u))}y[Vt]=s,Ot(y),u=y}s.stateNode=u}else m1(m,s.type,s.stateNode);else s.stateNode=d1(m,u,s.memoizedProps);else y!==u?(y===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):y.count--,u===null?m1(m,s.type,s.stateNode):d1(m,u,s.memoizedProps)):u===null&&s.stateNode!==null&&Dp(s,s.memoizedProps,o.memoizedProps)}break;case 27:Dn(r,s),jn(s),u&512&&(Bt||o===null||ii(o,o.return)),o!==null&&u&4&&Dp(s,s.memoizedProps,o.memoizedProps);break;case 5:if(Dn(r,s),jn(s),u&512&&(Bt||o===null||ii(o,o.return)),s.flags&32){m=s.stateNode;try{Nn(m,"")}catch(ge){it(s,s.return,ge)}}u&4&&s.stateNode!=null&&(m=s.memoizedProps,Dp(s,m,o!==null?o.memoizedProps:m)),u&1024&&(Vp=!0);break;case 6:if(Dn(r,s),jn(s),u&4){if(s.stateNode===null)throw Error(i(162));u=s.memoizedProps,o=s.stateNode;try{o.nodeValue=u}catch(ge){it(s,s.return,ge)}}break;case 3:if(fd=null,m=Rs,Rs=hd(r.containerInfo),Dn(r,s),Rs=m,jn(s),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Wo(r.containerInfo)}catch(ge){it(s,s.return,ge)}Vp&&(Vp=!1,m_(s));break;case 4:u=Rs,Rs=hd(s.stateNode.containerInfo),Dn(r,s),jn(s),Rs=u;break;case 12:Dn(r,s),jn(s);break;case 31:Dn(r,s),jn(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Wh(s,u)));break;case 13:Dn(r,s),jn(s),s.child.flags&8192&&s.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Zh=_n()),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Wh(s,u)));break;case 22:m=s.memoizedState!==null;var L=o!==null&&o.memoizedState!==null,Q=Mi,ne=Bt;if(Mi=Q||m,Bt=ne||L,Dn(r,s),Bt=ne,Mi=Q,jn(s),u&8192)e:for(r=s.stateNode,r._visibility=m?r._visibility&-2:r._visibility|1,m&&(o===null||L||Mi||Bt||Pa(s)),o=null,r=s;;){if(r.tag===5||r.tag===26){if(o===null){L=o=r;try{if(y=L.stateNode,m)_=y.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{A=L.stateNode;var ae=L.memoizedProps.style,X=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;A.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(ge){it(L,L.return,ge)}}}else if(r.tag===6){if(o===null){L=r;try{L.stateNode.nodeValue=m?"":L.memoizedProps}catch(ge){it(L,L.return,ge)}}}else if(r.tag===18){if(o===null){L=r;try{var J=L.stateNode;m?s1(J,!0):s1(L.stateNode,!1)}catch(ge){it(L,L.return,ge)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===s)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=s.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Wh(s,o))));break;case 19:Dn(r,s),jn(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Wh(s,u)));break;case 30:break;case 21:break;default:Dn(r,s),jn(s)}}function jn(s){var r=s.flags;if(r&2){try{for(var o,u=s.return;u!==null;){if(r_(u)){o=u;break}u=u.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var m=o.stateNode,y=jp(s);Xh(s,y,m);break;case 5:var _=o.stateNode;o.flags&32&&(Nn(_,""),o.flags&=-33);var A=jp(s);Xh(s,A,_);break;case 3:case 4:var L=o.stateNode.containerInfo,Q=jp(s);Mp(s,Q,L);break;default:throw Error(i(161))}}catch(ne){it(s,s.return,ne)}s.flags&=-3}r&4096&&(s.flags&=-4097)}function m_(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var r=s;m_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),s=s.sibling}}function Oi(s,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)l_(s,r.alternate,r),r=r.sibling}function Pa(s){for(s=s.child;s!==null;){var r=s;switch(r.tag){case 0:case 11:case 14:case 15:Er(4,r,r.return),Pa(r);break;case 1:ii(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&s_(r,r.return,o),Pa(r);break;case 27:Pc(r.stateNode);case 26:case 5:ii(r,r.return),Pa(r);break;case 22:r.memoizedState===null&&Pa(r);break;case 30:Pa(r);break;default:Pa(r)}s=s.sibling}}function Pi(s,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,m=s,y=r,_=y.flags;switch(y.tag){case 0:case 11:case 15:Pi(m,y,o),Cc(4,y);break;case 1:if(Pi(m,y,o),u=y,m=u.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(Q){it(u,u.return,Q)}if(u=y,m=u.updateQueue,m!==null){var A=u.stateNode;try{var L=m.shared.hiddenCallbacks;if(L!==null)for(m.shared.hiddenCallbacks=null,m=0;m<L.length;m++)Gb(L[m],A)}catch(Q){it(u,u.return,Q)}}o&&_&64&&n_(y),kc(y,y.return);break;case 27:a_(y);case 26:case 5:Pi(m,y,o),o&&u===null&&_&4&&i_(y),kc(y,y.return);break;case 12:Pi(m,y,o);break;case 31:Pi(m,y,o),o&&_&4&&h_(m,y);break;case 13:Pi(m,y,o),o&&_&4&&d_(m,y);break;case 22:y.memoizedState===null&&Pi(m,y,o),kc(y,y.return);break;case 30:break;default:Pi(m,y,o)}r=r.sibling}}function Op(s,r){var o=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),s=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==o&&(s!=null&&s.refCount++,o!=null&&mc(o))}function Pp(s,r){s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&mc(s))}function Ns(s,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)p_(s,r,o,u),r=r.sibling}function p_(s,r,o,u){var m=r.flags;switch(r.tag){case 0:case 11:case 15:Ns(s,r,o,u),m&2048&&Cc(9,r);break;case 1:Ns(s,r,o,u);break;case 3:Ns(s,r,o,u),m&2048&&(s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&mc(s)));break;case 12:if(m&2048){Ns(s,r,o,u),s=r.stateNode;try{var y=r.memoizedProps,_=y.id,A=y.onPostCommit;typeof A=="function"&&A(_,r.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(L){it(r,r.return,L)}}else Ns(s,r,o,u);break;case 31:Ns(s,r,o,u);break;case 13:Ns(s,r,o,u);break;case 23:break;case 22:y=r.stateNode,_=r.alternate,r.memoizedState!==null?y._visibility&2?Ns(s,r,o,u):Rc(s,r):y._visibility&2?Ns(s,r,o,u):(y._visibility|=2,zo(s,r,o,u,(r.subtreeFlags&10256)!==0||!1)),m&2048&&Op(_,r);break;case 24:Ns(s,r,o,u),m&2048&&Pp(r.alternate,r);break;default:Ns(s,r,o,u)}}function zo(s,r,o,u,m){for(m=m&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var y=s,_=r,A=o,L=u,Q=_.flags;switch(_.tag){case 0:case 11:case 15:zo(y,_,A,L,m),Cc(8,_);break;case 23:break;case 22:var ne=_.stateNode;_.memoizedState!==null?ne._visibility&2?zo(y,_,A,L,m):Rc(y,_):(ne._visibility|=2,zo(y,_,A,L,m)),m&&Q&2048&&Op(_.alternate,_);break;case 24:zo(y,_,A,L,m),m&&Q&2048&&Pp(_.alternate,_);break;default:zo(y,_,A,L,m)}r=r.sibling}}function Rc(s,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=s,u=r,m=u.flags;switch(u.tag){case 22:Rc(o,u),m&2048&&Op(u.alternate,u);break;case 24:Rc(o,u),m&2048&&Pp(u.alternate,u);break;default:Rc(o,u)}r=r.sibling}}var Nc=8192;function Bo(s,r,o){if(s.subtreeFlags&Nc)for(s=s.child;s!==null;)g_(s,r,o),s=s.sibling}function g_(s,r,o){switch(s.tag){case 26:Bo(s,r,o),s.flags&Nc&&s.memoizedState!==null&&FN(o,Rs,s.memoizedState,s.memoizedProps);break;case 5:Bo(s,r,o);break;case 3:case 4:var u=Rs;Rs=hd(s.stateNode.containerInfo),Bo(s,r,o),Rs=u;break;case 22:s.memoizedState===null&&(u=s.alternate,u!==null&&u.memoizedState!==null?(u=Nc,Nc=16777216,Bo(s,r,o),Nc=u):Bo(s,r,o));break;default:Bo(s,r,o)}}function y_(s){var r=s.alternate;if(r!==null&&(s=r.child,s!==null)){r.child=null;do r=s.sibling,s.sibling=null,s=r;while(s!==null)}}function Ic(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Zt=u,b_(u,s)}y_(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)v_(s),s=s.sibling}function v_(s){switch(s.tag){case 0:case 11:case 15:Ic(s),s.flags&2048&&Er(9,s,s.return);break;case 3:Ic(s);break;case 12:Ic(s);break;case 22:var r=s.stateNode;s.memoizedState!==null&&r._visibility&2&&(s.return===null||s.return.tag!==13)?(r._visibility&=-3,Jh(s)):Ic(s);break;default:Ic(s)}}function Jh(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Zt=u,b_(u,s)}y_(s)}for(s=s.child;s!==null;){switch(r=s,r.tag){case 0:case 11:case 15:Er(8,r,r.return),Jh(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,Jh(r));break;default:Jh(r)}s=s.sibling}}function b_(s,r){for(;Zt!==null;){var o=Zt;switch(o.tag){case 0:case 11:case 15:Er(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:mc(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Zt=u;else e:for(o=s;Zt!==null;){u=Zt;var m=u.sibling,y=u.return;if(c_(u),u===o){Zt=null;break e}if(m!==null){m.return=y,Zt=m;break e}Zt=y}}}var sN={getCacheForType:function(s){var r=an(Lt),o=r.data.get(s);return o===void 0&&(o=s(),r.data.set(s,o)),o},cacheSignal:function(){return an(Lt).controller.signal}},iN=typeof WeakMap=="function"?WeakMap:Map,et=0,ct=null,Fe=null,qe=0,st=0,Gn=null,Sr=!1,Fo=!1,Lp=!1,Li=0,wt=0,Ar=0,La=0,Up=0,$n=0,Ho=0,Dc=null,Mn=null,zp=!1,Zh=0,x_=0,ed=1/0,td=null,Cr=null,Kt=0,kr=null,qo=null,Ui=0,Bp=0,Fp=null,__=null,jc=0,Hp=null;function Kn(){return(et&2)!==0&&qe!==0?qe&-qe:H.T!==null?Qp():nh()}function w_(){if($n===0)if((qe&536870912)===0||Qe){var s=ha;ha<<=1,(ha&3932160)===0&&(ha=262144),$n=s}else $n=536870912;return s=Hn.current,s!==null&&(s.flags|=32),$n}function Vn(s,r,o){(s===ct&&(st===2||st===9)||s.cancelPendingCommit!==null)&&(Go(s,0),Rr(s,qe,$n,!1)),da(s,o),((et&2)===0||s!==ct)&&(s===ct&&((et&2)===0&&(La|=o),wt===4&&Rr(s,qe,$n,!1)),ri(s))}function T_(s,r,o){if((et&6)!==0)throw Error(i(327));var u=!o&&(r&127)===0&&(r&s.expiredLanes)===0||xs(s,r),m=u?oN(s,r):Gp(s,r,!0),y=u;do{if(m===0){Fo&&!u&&Rr(s,r,0,!1);break}else{if(o=s.current.alternate,y&&!rN(o)){m=Gp(s,r,!1),y=!1;continue}if(m===2){if(y=r,s.errorRecoveryDisabledLanes&y)var _=0;else _=s.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;e:{var A=s;m=Dc;var L=A.current.memoizedState.isDehydrated;if(L&&(Go(A,_).flags|=256),_=Gp(A,_,!1),_!==2){if(Lp&&!L){A.errorRecoveryDisabledLanes|=y,La|=y,m=4;break e}y=Mn,Mn=m,y!==null&&(Mn===null?Mn=y:Mn.push.apply(Mn,y))}m=_}if(y=!1,m!==2)continue}}if(m===1){Go(s,0),Rr(s,r,0,!0);break}e:{switch(u=s,y=m,y){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:Rr(u,r,$n,!Sr);break e;case 2:Mn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(m=Zh+300-_n(),10<m)){if(Rr(u,r,$n,!Sr),Bs(u,0,!0)!==0)break e;Ui=r,u.timeoutHandle=e1(E_.bind(null,u,o,Mn,td,zp,r,$n,La,Ho,Sr,y,"Throttled",-0,0),m);break e}E_(u,o,Mn,td,zp,r,$n,La,Ho,Sr,y,null,-0,0)}}break}while(!0);ri(s)}function E_(s,r,o,u,m,y,_,A,L,Q,ne,ae,X,J){if(s.timeoutHandle=-1,ae=r.subtreeFlags,ae&8192||(ae&16785408)===16785408){ae={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ts},g_(r,y,ae);var ge=(y&62914560)===y?Zh-_n():(y&4194048)===y?x_-_n():0;if(ge=HN(ae,ge),ge!==null){Ui=y,s.cancelPendingCommit=ge(D_.bind(null,s,r,y,o,u,m,_,A,L,ne,ae,null,X,J)),Rr(s,y,_,!Q);return}}D_(s,r,y,o,u,m,_,A,L)}function rN(s){for(var r=s;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var m=o[u],y=m.getSnapshot;m=m.value;try{if(!Bn(y(),m))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Rr(s,r,o,u){r&=~Up,r&=~La,s.suspendedLanes|=r,s.pingedLanes&=~r,u&&(s.warmLanes|=r),u=s.expirationTimes;for(var m=r;0<m;){var y=31-kt(m),_=1<<y;u[y]=-1,m&=~_}o!==0&&fa(s,o,r)}function nd(){return(et&6)===0?(Mc(0),!1):!0}function qp(){if(Fe!==null){if(st===0)var s=Fe.return;else s=Fe,ki=Ra=null,ap(s),Vo=null,gc=0,s=Fe;for(;s!==null;)t_(s.alternate,s),s=s.return;Fe=null}}function Go(s,r){var o=s.timeoutHandle;o!==-1&&(s.timeoutHandle=-1,SN(o)),o=s.cancelPendingCommit,o!==null&&(s.cancelPendingCommit=null,o()),Ui=0,qp(),ct=s,Fe=o=Ai(s.current,null),qe=r,st=0,Gn=null,Sr=!1,Fo=xs(s,r),Lp=!1,Ho=$n=Up=La=Ar=wt=0,Mn=Dc=null,zp=!1,(r&8)!==0&&(r|=r&32);var u=s.entangledLanes;if(u!==0)for(s=s.entanglements,u&=r;0<u;){var m=31-kt(u),y=1<<m;r|=s[m],u&=~y}return Li=r,Th(),o}function S_(s,r){Ue=null,H.H=Ec,r===Mo||r===Ih?(r=Bb(),st=3):r===Ym?(r=Bb(),st=4):st=r===wp?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Gn=r,Fe===null&&(wt=1,Gh(s,is(r,s.current)))}function A_(){var s=Hn.current;return s===null?!0:(qe&4194048)===qe?ls===null:(qe&62914560)===qe||(qe&536870912)!==0?s===ls:!1}function C_(){var s=H.H;return H.H=Ec,s===null?Ec:s}function k_(){var s=H.A;return H.A=sN,s}function sd(){wt=4,Sr||(qe&4194048)!==qe&&Hn.current!==null||(Fo=!0),(Ar&134217727)===0&&(La&134217727)===0||ct===null||Rr(ct,qe,$n,!1)}function Gp(s,r,o){var u=et;et|=2;var m=C_(),y=k_();(ct!==s||qe!==r)&&(td=null,Go(s,r)),r=!1;var _=wt;e:do try{if(st!==0&&Fe!==null){var A=Fe,L=Gn;switch(st){case 8:qp(),_=6;break e;case 3:case 2:case 9:case 6:Hn.current===null&&(r=!0);var Q=st;if(st=0,Gn=null,$o(s,A,L,Q),o&&Fo){_=0;break e}break;default:Q=st,st=0,Gn=null,$o(s,A,L,Q)}}aN(),_=wt;break}catch(ne){S_(s,ne)}while(!0);return r&&s.shellSuspendCounter++,ki=Ra=null,et=u,H.H=m,H.A=y,Fe===null&&(ct=null,qe=0,Th()),_}function aN(){for(;Fe!==null;)R_(Fe)}function oN(s,r){var o=et;et|=2;var u=C_(),m=k_();ct!==s||qe!==r?(td=null,ed=_n()+500,Go(s,r)):Fo=xs(s,r);e:do try{if(st!==0&&Fe!==null){r=Fe;var y=Gn;t:switch(st){case 1:st=0,Gn=null,$o(s,r,y,1);break;case 2:case 9:if(Ub(y)){st=0,Gn=null,N_(r);break}r=function(){st!==2&&st!==9||ct!==s||(st=7),ri(s)},y.then(r,r);break e;case 3:st=7;break e;case 4:st=5;break e;case 7:Ub(y)?(st=0,Gn=null,N_(r)):(st=0,Gn=null,$o(s,r,y,7));break;case 5:var _=null;switch(Fe.tag){case 26:_=Fe.memoizedState;case 5:case 27:var A=Fe;if(_?p1(_):A.stateNode.complete){st=0,Gn=null;var L=A.sibling;if(L!==null)Fe=L;else{var Q=A.return;Q!==null?(Fe=Q,id(Q)):Fe=null}break t}}st=0,Gn=null,$o(s,r,y,5);break;case 6:st=0,Gn=null,$o(s,r,y,6);break;case 8:qp(),wt=6;break e;default:throw Error(i(462))}}lN();break}catch(ne){S_(s,ne)}while(!0);return ki=Ra=null,H.H=u,H.A=m,et=o,Fe!==null?0:(ct=null,qe=0,Th(),wt)}function lN(){for(;Fe!==null&&!_m();)R_(Fe)}function R_(s){var r=Zx(s.alternate,s,Li);s.memoizedProps=s.pendingProps,r===null?id(s):Fe=r}function N_(s){var r=s,o=r.alternate;switch(r.tag){case 15:case 0:r=Kx(o,r,r.pendingProps,r.type,void 0,qe);break;case 11:r=Kx(o,r,r.pendingProps,r.type.render,r.ref,qe);break;case 5:ap(r);default:t_(o,r),r=Fe=kb(r,Li),r=Zx(o,r,Li)}s.memoizedProps=s.pendingProps,r===null?id(s):Fe=r}function $o(s,r,o,u){ki=Ra=null,ap(r),Vo=null,gc=0;var m=r.return;try{if(XR(s,m,r,o,qe)){wt=1,Gh(s,is(o,s.current)),Fe=null;return}}catch(y){if(m!==null)throw Fe=m,y;wt=1,Gh(s,is(o,s.current)),Fe=null;return}r.flags&32768?(Qe||u===1?s=!0:Fo||(qe&536870912)!==0?s=!1:(Sr=s=!0,(u===2||u===9||u===3||u===6)&&(u=Hn.current,u!==null&&u.tag===13&&(u.flags|=16384))),I_(r,s)):id(r)}function id(s){var r=s;do{if((r.flags&32768)!==0){I_(r,Sr);return}s=r.return;var o=ZR(r.alternate,r,Li);if(o!==null){Fe=o;return}if(r=r.sibling,r!==null){Fe=r;return}Fe=r=s}while(r!==null);wt===0&&(wt=5)}function I_(s,r){do{var o=eN(s.alternate,s);if(o!==null){o.flags&=32767,Fe=o;return}if(o=s.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(s=s.sibling,s!==null)){Fe=s;return}Fe=s=o}while(s!==null);wt=6,Fe=null}function D_(s,r,o,u,m,y,_,A,L){s.cancelPendingCommit=null;do rd();while(Kt!==0);if((et&6)!==0)throw Error(i(327));if(r!==null){if(r===s.current)throw Error(i(177));if(y=r.lanes|r.childLanes,y|=jm,Em(s,o,y,_,A,L),s===ct&&(Fe=ct=null,qe=0),qo=r,kr=s,Ui=o,Bp=y,Fp=m,__=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,dN(rr,function(){return P_(),null})):(s.callbackNode=null,s.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=H.T,H.T=null,m=Z.p,Z.p=2,_=et,et|=4;try{tN(s,r,o)}finally{et=_,Z.p=m,H.T=u}}Kt=1,j_(),M_(),V_()}}function j_(){if(Kt===1){Kt=0;var s=kr,r=qo,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=H.T,H.T=null;var u=Z.p;Z.p=2;var m=et;et|=4;try{f_(r,s);var y=sg,_=bb(s.containerInfo),A=y.focusedElem,L=y.selectionRange;if(_!==A&&A&&A.ownerDocument&&vb(A.ownerDocument.documentElement,A)){if(L!==null&&km(A)){var Q=L.start,ne=L.end;if(ne===void 0&&(ne=Q),"selectionStart"in A)A.selectionStart=Q,A.selectionEnd=Math.min(ne,A.value.length);else{var ae=A.ownerDocument||document,X=ae&&ae.defaultView||window;if(X.getSelection){var J=X.getSelection(),ge=A.textContent.length,Re=Math.min(L.start,ge),lt=L.end===void 0?Re:Math.min(L.end,ge);!J.extend&&Re>lt&&(_=lt,lt=Re,Re=_);var q=yb(A,Re),B=yb(A,lt);if(q&&B&&(J.rangeCount!==1||J.anchorNode!==q.node||J.anchorOffset!==q.offset||J.focusNode!==B.node||J.focusOffset!==B.offset)){var Y=ae.createRange();Y.setStart(q.node,q.offset),J.removeAllRanges(),Re>lt?(J.addRange(Y),J.extend(B.node,B.offset)):(Y.setEnd(B.node,B.offset),J.addRange(Y))}}}}for(ae=[],J=A;J=J.parentNode;)J.nodeType===1&&ae.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<ae.length;A++){var se=ae[A];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}yd=!!ng,sg=ng=null}finally{et=m,Z.p=u,H.T=o}}s.current=r,Kt=2}}function M_(){if(Kt===2){Kt=0;var s=kr,r=qo,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=H.T,H.T=null;var u=Z.p;Z.p=2;var m=et;et|=4;try{l_(s,r.alternate,r)}finally{et=m,Z.p=u,H.T=o}}Kt=3}}function V_(){if(Kt===4||Kt===3){Kt=0,Qu();var s=kr,r=qo,o=Ui,u=__;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Kt=5:(Kt=0,qo=kr=null,O_(s,s.pendingLanes));var m=s.pendingLanes;if(m===0&&(Cr=null),wi(o),r=r.stateNode,nn&&typeof nn.onCommitFiberRoot=="function")try{nn.onCommitFiberRoot(bs,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=H.T,m=Z.p,Z.p=2,H.T=null;try{for(var y=s.onRecoverableError,_=0;_<u.length;_++){var A=u[_];y(A.value,{componentStack:A.stack})}}finally{H.T=r,Z.p=m}}(Ui&3)!==0&&rd(),ri(s),m=s.pendingLanes,(o&261930)!==0&&(m&42)!==0?s===Hp?jc++:(jc=0,Hp=s):jc=0,Mc(0)}}function O_(s,r){(s.pooledCacheLanes&=r)===0&&(r=s.pooledCache,r!=null&&(s.pooledCache=null,mc(r)))}function rd(){return j_(),M_(),V_(),P_()}function P_(){if(Kt!==5)return!1;var s=kr,r=Bp;Bp=0;var o=wi(Ui),u=H.T,m=Z.p;try{Z.p=32>o?32:o,H.T=null,o=Fp,Fp=null;var y=kr,_=Ui;if(Kt=0,qo=kr=null,Ui=0,(et&6)!==0)throw Error(i(331));var A=et;if(et|=4,v_(y.current),p_(y,y.current,_,o),et=A,Mc(0,!1),nn&&typeof nn.onPostCommitFiberRoot=="function")try{nn.onPostCommitFiberRoot(bs,y)}catch{}return!0}finally{Z.p=m,H.T=u,O_(s,r)}}function L_(s,r,o){r=is(o,r),r=_p(s.stateNode,r,2),s=_r(s,r,2),s!==null&&(da(s,2),ri(s))}function it(s,r,o){if(s.tag===3)L_(s,s,o);else for(;r!==null;){if(r.tag===3){L_(r,s,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Cr===null||!Cr.has(u))){s=is(o,s),o=Ux(2),u=_r(r,o,2),u!==null&&(zx(o,u,r,s),da(u,2),ri(u));break}}r=r.return}}function $p(s,r,o){var u=s.pingCache;if(u===null){u=s.pingCache=new iN;var m=new Set;u.set(r,m)}else m=u.get(r),m===void 0&&(m=new Set,u.set(r,m));m.has(o)||(Lp=!0,m.add(o),s=cN.bind(null,s,r,o),r.then(s,s))}function cN(s,r,o){var u=s.pingCache;u!==null&&u.delete(r),s.pingedLanes|=s.suspendedLanes&o,s.warmLanes&=~o,ct===s&&(qe&o)===o&&(wt===4||wt===3&&(qe&62914560)===qe&&300>_n()-Zh?(et&2)===0&&Go(s,0):Up|=o,Ho===qe&&(Ho=0)),ri(s)}function U_(s,r){r===0&&(r=th()),s=Aa(s,r),s!==null&&(da(s,r),ri(s))}function uN(s){var r=s.memoizedState,o=0;r!==null&&(o=r.retryLane),U_(s,o)}function hN(s,r){var o=0;switch(s.tag){case 31:case 13:var u=s.stateNode,m=s.memoizedState;m!==null&&(o=m.retryLane);break;case 19:u=s.stateNode;break;case 22:u=s.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(r),U_(s,o)}function dN(s,r){return $t(s,r)}var ad=null,Ko=null,Kp=!1,od=!1,Yp=!1,Nr=0;function ri(s){s!==Ko&&s.next===null&&(Ko===null?ad=Ko=s:Ko=Ko.next=s),od=!0,Kp||(Kp=!0,mN())}function Mc(s,r){if(!Yp&&od){Yp=!0;do for(var o=!1,u=ad;u!==null;){if(s!==0){var m=u.pendingLanes;if(m===0)var y=0;else{var _=u.suspendedLanes,A=u.pingedLanes;y=(1<<31-kt(42|s)+1)-1,y&=m&~(_&~A),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(o=!0,H_(u,y))}else y=qe,y=Bs(u,u===ct?y:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(y&3)===0||xs(u,y)||(o=!0,H_(u,y));u=u.next}while(o);Yp=!1}}function fN(){z_()}function z_(){od=Kp=!1;var s=0;Nr!==0&&EN()&&(s=Nr);for(var r=_n(),o=null,u=ad;u!==null;){var m=u.next,y=B_(u,r);y===0?(u.next=null,o===null?ad=m:o.next=m,m===null&&(Ko=o)):(o=u,(s!==0||(y&3)!==0)&&(od=!0)),u=m}Kt!==0&&Kt!==5||Mc(s),Nr!==0&&(Nr=0)}function B_(s,r){for(var o=s.suspendedLanes,u=s.pingedLanes,m=s.expirationTimes,y=s.pendingLanes&-62914561;0<y;){var _=31-kt(y),A=1<<_,L=m[_];L===-1?((A&o)===0||(A&u)!==0)&&(m[_]=Tm(A,r)):L<=r&&(s.expiredLanes|=A),y&=~A}if(r=ct,o=qe,o=Bs(s,s===r?o:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u=s.callbackNode,o===0||s===r&&(st===2||st===9)||s.cancelPendingCommit!==null)return u!==null&&u!==null&&ir(u),s.callbackNode=null,s.callbackPriority=0;if((o&3)===0||xs(s,o)){if(r=o&-o,r===s.callbackPriority)return r;switch(u!==null&&ir(u),wi(o)){case 2:case 8:o=ql;break;case 32:o=rr;break;case 268435456:o=Xu;break;default:o=rr}return u=F_.bind(null,s),o=$t(o,u),s.callbackPriority=r,s.callbackNode=o,r}return u!==null&&u!==null&&ir(u),s.callbackPriority=2,s.callbackNode=null,2}function F_(s,r){if(Kt!==0&&Kt!==5)return s.callbackNode=null,s.callbackPriority=0,null;var o=s.callbackNode;if(rd()&&s.callbackNode!==o)return null;var u=qe;return u=Bs(s,s===ct?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u===0?null:(T_(s,u,r),B_(s,_n()),s.callbackNode!=null&&s.callbackNode===o?F_.bind(null,s):null)}function H_(s,r){if(rd())return null;T_(s,r,!0)}function mN(){AN(function(){(et&6)!==0?$t(Hl,fN):z_()})}function Qp(){if(Nr===0){var s=Do;s===0&&(s=Us,Us<<=1,(Us&261888)===0&&(Us=256)),Nr=s}return Nr}function q_(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:yo(""+s)}function G_(s,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,s.id&&o.setAttribute("form",s.id),r.parentNode.insertBefore(o,r),s=new FormData(s),o.parentNode.removeChild(o),s}function pN(s,r,o,u,m){if(r==="submit"&&o&&o.stateNode===m){var y=q_((m[Wt]||null).action),_=u.submitter;_&&(r=(r=_[Wt]||null)?q_(r.formAction):_.getAttribute("formAction"),r!==null&&(y=r,_=null));var A=new Js("action","action",null,u,m);s.push({event:A,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Nr!==0){var L=_?G_(m,_):new FormData(m);pp(o,{pending:!0,data:L,method:m.method,action:y},null,L)}}else typeof y=="function"&&(A.preventDefault(),L=_?G_(m,_):new FormData(m),pp(o,{pending:!0,data:L,method:m.method,action:y},y,L))},currentTarget:m}]})}}for(var Xp=0;Xp<Dm.length;Xp++){var Wp=Dm[Xp],gN=Wp.toLowerCase(),yN=Wp[0].toUpperCase()+Wp.slice(1);ks(gN,"on"+yN)}ks(wb,"onAnimationEnd"),ks(Tb,"onAnimationIteration"),ks(Eb,"onAnimationStart"),ks("dblclick","onDoubleClick"),ks("focusin","onFocus"),ks("focusout","onBlur"),ks(jR,"onTransitionRun"),ks(MR,"onTransitionStart"),ks(VR,"onTransitionCancel"),ks(Sb,"onTransitionEnd"),Ys("onMouseEnter",["mouseout","mouseover"]),Ys("onMouseLeave",["mouseout","mouseover"]),Ys("onPointerEnter",["pointerout","pointerover"]),Ys("onPointerLeave",["pointerout","pointerover"]),Ks("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ks("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ks("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ks("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ks("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ks("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vc));function $_(s,r){r=(r&4)!==0;for(var o=0;o<s.length;o++){var u=s[o],m=u.event;u=u.listeners;e:{var y=void 0;if(r)for(var _=u.length-1;0<=_;_--){var A=u[_],L=A.instance,Q=A.currentTarget;if(A=A.listener,L!==y&&m.isPropagationStopped())break e;y=A,m.currentTarget=Q;try{y(m)}catch(ne){wh(ne)}m.currentTarget=null,y=L}else for(_=0;_<u.length;_++){if(A=u[_],L=A.instance,Q=A.currentTarget,A=A.listener,L!==y&&m.isPropagationStopped())break e;y=A,m.currentTarget=Q;try{y(m)}catch(ne){wh(ne)}m.currentTarget=null,y=L}}}}function He(s,r){var o=r[ho];o===void 0&&(o=r[ho]=new Set);var u=s+"__bubble";o.has(u)||(K_(r,s,2,!1),o.add(u))}function Jp(s,r,o){var u=0;r&&(u|=4),K_(o,s,u,r)}var ld="_reactListening"+Math.random().toString(36).slice(2);function Zp(s){if(!s[ld]){s[ld]=!0,Kl.forEach(function(o){o!=="selectionchange"&&(vN.has(o)||Jp(o,!1,s),Jp(o,!0,s))});var r=s.nodeType===9?s:s.ownerDocument;r===null||r[ld]||(r[ld]=!0,Jp("selectionchange",!1,r))}}function K_(s,r,o,u){switch(w1(r)){case 2:var m=$N;break;case 8:m=KN;break;default:m=mg}o=m.bind(null,r,o,s),m=void 0,!va||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(m=!0),u?m!==void 0?s.addEventListener(r,o,{capture:!0,passive:m}):s.addEventListener(r,o,!0):m!==void 0?s.addEventListener(r,o,{passive:m}):s.addEventListener(r,o,!1)}function eg(s,r,o,u,m){var y=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var _=u.tag;if(_===3||_===4){var A=u.stateNode.containerInfo;if(A===m)break;if(_===4)for(_=u.return;_!==null;){var L=_.tag;if((L===3||L===4)&&_.stateNode.containerInfo===m)return;_=_.return}for(;A!==null;){if(_=Gs(A),_===null)return;if(L=_.tag,L===5||L===6||L===26||L===27){u=y=_;continue e}A=A.parentNode}}u=u.return}hr(function(){var Q=y,ne=es(o),ae=[];e:{var X=Ab.get(s);if(X!==void 0){var J=Js,ge=s;switch(s){case"keypress":if(xa(o)===0)break e;case"keydown":case"keyup":J=bh;break;case"focusin":ge="focus",J=wa;break;case"focusout":ge="blur",J=wa;break;case"beforeblur":case"afterblur":J=wa;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=ac;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=uh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=x;break;case wb:case Tb:case Eb:J=dh;break;case Sb:J=k;break;case"scroll":case"scrollend":J=rc;break;case"wheel":J=W;break;case"copy":case"cut":case"paste":J=fh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=Si;break;case"toggle":case"beforetoggle":J=Le}var Re=(r&4)!==0,lt=!Re&&(s==="scroll"||s==="scrollend"),q=Re?X!==null?X+"Capture":null:X;Re=[];for(var B=Q,Y;B!==null;){var se=B;if(Y=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||Y===null||q===null||(se=Es(B,q),se!=null&&Re.push(Oc(B,se,Y))),lt)break;B=B.return}0<Re.length&&(X=new J(X,ge,null,o,ne),ae.push({event:X,listeners:Re}))}}if((r&7)===0){e:{if(X=s==="mouseover"||s==="pointerover",J=s==="mouseout"||s==="pointerout",X&&o!==nc&&(ge=o.relatedTarget||o.fromElement)&&(Gs(ge)||ge[Hs]))break e;if((J||X)&&(X=ne.window===ne?ne:(X=ne.ownerDocument)?X.defaultView||X.parentWindow:window,J?(ge=o.relatedTarget||o.toElement,J=Q,ge=ge?Gs(ge):null,ge!==null&&(lt=l(ge),Re=ge.tag,ge!==lt||Re!==5&&Re!==27&&Re!==6)&&(ge=null)):(J=null,ge=Q),J!==ge)){if(Re=ac,se="onMouseLeave",q="onMouseEnter",B="mouse",(s==="pointerout"||s==="pointerover")&&(Re=Si,se="onPointerLeave",q="onPointerEnter",B="pointer"),lt=J==null?X:Un(J),Y=ge==null?X:Un(ge),X=new Re(se,B+"leave",J,o,ne),X.target=lt,X.relatedTarget=Y,se=null,Gs(ne)===Q&&(Re=new Re(q,B+"enter",ge,o,ne),Re.target=Y,Re.relatedTarget=lt,se=Re),lt=se,J&&ge)t:{for(Re=bN,q=J,B=ge,Y=0,se=q;se;se=Re(se))Y++;se=0;for(var Ce=B;Ce;Ce=Re(Ce))se++;for(;0<Y-se;)q=Re(q),Y--;for(;0<se-Y;)B=Re(B),se--;for(;Y--;){if(q===B||B!==null&&q===B.alternate){Re=q;break t}q=Re(q),B=Re(B)}Re=null}else Re=null;J!==null&&Y_(ae,X,J,Re,!1),ge!==null&&lt!==null&&Y_(ae,lt,ge,Re,!0)}}e:{if(X=Q?Un(Q):window,J=X.nodeName&&X.nodeName.toLowerCase(),J==="select"||J==="input"&&X.type==="file")var We=hb;else if(cb(X))if(db)We=NR;else{We=kR;var Te=CR}else J=X.nodeName,!J||J.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?Q&&go(Q.elementType)&&(We=hb):We=RR;if(We&&(We=We(s,Q))){ub(ae,We,o,ne);break e}Te&&Te(s,X,Q),s==="focusout"&&Q&&X.type==="number"&&Q.memoizedProps.value!=null&&Zl(X,"number",X.value)}switch(Te=Q?Un(Q):window,s){case"focusin":(cb(Te)||Te.contentEditable==="true")&&(Eo=Te,Rm=Q,hc=null);break;case"focusout":hc=Rm=Eo=null;break;case"mousedown":Nm=!0;break;case"contextmenu":case"mouseup":case"dragend":Nm=!1,xb(ae,o,ne);break;case"selectionchange":if(DR)break;case"keydown":case"keyup":xb(ae,o,ne)}var ze;if(Ze)e:{switch(s){case"compositionstart":var Ge="onCompositionStart";break e;case"compositionend":Ge="onCompositionEnd";break e;case"compositionupdate":Ge="onCompositionUpdate";break e}Ge=void 0}else To?Ta(s,o)&&(Ge="onCompositionEnd"):s==="keydown"&&o.keyCode===229&&(Ge="onCompositionStart");Ge&&(ti&&o.locale!=="ko"&&(To||Ge!=="onCompositionStart"?Ge==="onCompositionEnd"&&To&&(ze=ic()):(Ws=ne,sc="value"in Ws?Ws.value:Ws.textContent,To=!0)),Te=cd(Q,Ge),0<Te.length&&(Ge=new ei(Ge,s,null,o,ne),ae.push({event:Ge,listeners:Te}),ze?Ge.data=ze:(ze=wo(o),ze!==null&&(Ge.data=ze)))),(ze=ns?TR(s,o):ER(s,o))&&(Ge=cd(Q,"onBeforeInput"),0<Ge.length&&(Te=new ei("onBeforeInput","beforeinput",null,o,ne),ae.push({event:Te,listeners:Ge}),Te.data=ze)),pN(ae,s,Q,o,ne)}$_(ae,r)})}function Oc(s,r,o){return{instance:s,listener:r,currentTarget:o}}function cd(s,r){for(var o=r+"Capture",u=[];s!==null;){var m=s,y=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||y===null||(m=Es(s,o),m!=null&&u.unshift(Oc(s,m,y)),m=Es(s,r),m!=null&&u.push(Oc(s,m,y))),s.tag===3)return u;s=s.return}return[]}function bN(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function Y_(s,r,o,u,m){for(var y=r._reactName,_=[];o!==null&&o!==u;){var A=o,L=A.alternate,Q=A.stateNode;if(A=A.tag,L!==null&&L===u)break;A!==5&&A!==26&&A!==27||Q===null||(L=Q,m?(Q=Es(o,y),Q!=null&&_.unshift(Oc(o,Q,L))):m||(Q=Es(o,y),Q!=null&&_.push(Oc(o,Q,L)))),o=o.return}_.length!==0&&s.push({event:r,listeners:_})}var xN=/\r\n?/g,_N=/\u0000|\uFFFD/g;function Q_(s){return(typeof s=="string"?s:""+s).replace(xN,`
`).replace(_N,"")}function X_(s,r){return r=Q_(r),Q_(s)===r}function ot(s,r,o,u,m,y){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||Nn(s,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&Nn(s,""+u);break;case"className":zn(s,"class",u);break;case"tabIndex":zn(s,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":zn(s,o,u);break;case"style":tc(s,u,y);break;case"data":if(r!=="object"){zn(s,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){s.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(o);break}u=yo(""+u),s.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){s.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(o==="formAction"?(r!=="input"&&ot(s,r,"name",m.name,m,null),ot(s,r,"formEncType",m.formEncType,m,null),ot(s,r,"formMethod",m.formMethod,m,null),ot(s,r,"formTarget",m.formTarget,m,null)):(ot(s,r,"encType",m.encType,m,null),ot(s,r,"method",m.method,m,null),ot(s,r,"target",m.target,m,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(o);break}u=yo(""+u),s.setAttribute(o,u);break;case"onClick":u!=null&&(s.onclick=Ts);break;case"onScroll":u!=null&&He("scroll",s);break;case"onScrollEnd":u!=null&&He("scrollend",s);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(m.children!=null)throw Error(i(60));s.innerHTML=o}}break;case"multiple":s.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":s.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){s.removeAttribute("xlink:href");break}o=yo(""+u),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(o,""+u):s.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(o,""):s.removeAttribute(o);break;case"capture":case"download":u===!0?s.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(o,u):s.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?s.setAttribute(o,u):s.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?s.removeAttribute(o):s.setAttribute(o,u);break;case"popover":He("beforetoggle",s),He("toggle",s),mo(s,"popover",u);break;case"xlinkActuate":Pt(s,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Pt(s,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Pt(s,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Pt(s,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Pt(s,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Pt(s,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Pt(s,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Pt(s,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Pt(s,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":mo(s,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=ch.get(o)||o,mo(s,o,u))}}function tg(s,r,o,u,m,y){switch(o){case"style":tc(s,u,y);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(m.children!=null)throw Error(i(60));s.innerHTML=o}}break;case"children":typeof u=="string"?Nn(s,u):(typeof u=="number"||typeof u=="bigint")&&Nn(s,""+u);break;case"onScroll":u!=null&&He("scroll",s);break;case"onScrollEnd":u!=null&&He("scrollend",s);break;case"onClick":u!=null&&(s.onclick=Ts);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Yl.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),r=o.slice(2,m?o.length-7:void 0),y=s[Wt]||null,y=y!=null?y[o]:null,typeof y=="function"&&s.removeEventListener(r,y,m),typeof u=="function")){typeof y!="function"&&y!==null&&(o in s?s[o]=null:s.hasAttribute(o)&&s.removeAttribute(o)),s.addEventListener(r,u,m);break e}o in s?s[o]=u:u===!0?s.setAttribute(o,""):mo(s,o,u)}}}function ln(s,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":He("error",s),He("load",s);var u=!1,m=!1,y;for(y in o)if(o.hasOwnProperty(y)){var _=o[y];if(_!=null)switch(y){case"src":u=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:ot(s,r,y,_,o,null)}}m&&ot(s,r,"srcSet",o.srcSet,o,null),u&&ot(s,r,"src",o.src,o,null);return;case"input":He("invalid",s);var A=y=_=m=null,L=null,Q=null;for(u in o)if(o.hasOwnProperty(u)){var ne=o[u];if(ne!=null)switch(u){case"name":m=ne;break;case"type":_=ne;break;case"checked":L=ne;break;case"defaultChecked":Q=ne;break;case"value":y=ne;break;case"defaultValue":A=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(i(137,r));break;default:ot(s,r,u,ne,o,null)}}ah(s,y,A,L,Q,_,m,!1);return;case"select":He("invalid",s),u=_=y=null;for(m in o)if(o.hasOwnProperty(m)&&(A=o[m],A!=null))switch(m){case"value":y=A;break;case"defaultValue":_=A;break;case"multiple":u=A;default:ot(s,r,m,A,o,null)}r=y,o=_,s.multiple=!!u,r!=null?or(s,!!u,r,!1):o!=null&&or(s,!!u,o,!0);return;case"textarea":He("invalid",s),y=m=u=null;for(_ in o)if(o.hasOwnProperty(_)&&(A=o[_],A!=null))switch(_){case"value":u=A;break;case"defaultValue":m=A;break;case"children":y=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(i(91));break;default:ot(s,r,_,A,o,null)}lr(s,u,m,y);return;case"option":for(L in o)o.hasOwnProperty(L)&&(u=o[L],u!=null)&&(L==="selected"?s.selected=u&&typeof u!="function"&&typeof u!="symbol":ot(s,r,L,u,o,null));return;case"dialog":He("beforetoggle",s),He("toggle",s),He("cancel",s),He("close",s);break;case"iframe":case"object":He("load",s);break;case"video":case"audio":for(u=0;u<Vc.length;u++)He(Vc[u],s);break;case"image":He("error",s),He("load",s);break;case"details":He("toggle",s);break;case"embed":case"source":case"link":He("error",s),He("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in o)if(o.hasOwnProperty(Q)&&(u=o[Q],u!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:ot(s,r,Q,u,o,null)}return;default:if(go(r)){for(ne in o)o.hasOwnProperty(ne)&&(u=o[ne],u!==void 0&&tg(s,r,ne,u,o,void 0));return}}for(A in o)o.hasOwnProperty(A)&&(u=o[A],u!=null&&ot(s,r,A,u,o,null))}function wN(s,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,_=null,A=null,L=null,Q=null,ne=null;for(J in o){var ae=o[J];if(o.hasOwnProperty(J)&&ae!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":L=ae;default:u.hasOwnProperty(J)||ot(s,r,J,null,u,ae)}}for(var X in u){var J=u[X];if(ae=o[X],u.hasOwnProperty(X)&&(J!=null||ae!=null))switch(X){case"type":y=J;break;case"name":m=J;break;case"checked":Q=J;break;case"defaultChecked":ne=J;break;case"value":_=J;break;case"defaultValue":A=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,r));break;default:J!==ae&&ot(s,r,X,J,u,ae)}}po(s,_,A,L,Q,ne,y,m);return;case"select":J=_=A=X=null;for(y in o)if(L=o[y],o.hasOwnProperty(y)&&L!=null)switch(y){case"value":break;case"multiple":J=L;default:u.hasOwnProperty(y)||ot(s,r,y,null,u,L)}for(m in u)if(y=u[m],L=o[m],u.hasOwnProperty(m)&&(y!=null||L!=null))switch(m){case"value":X=y;break;case"defaultValue":A=y;break;case"multiple":_=y;default:y!==L&&ot(s,r,m,y,u,L)}r=A,o=_,u=J,X!=null?or(s,!!o,X,!1):!!u!=!!o&&(r!=null?or(s,!!o,r,!0):or(s,!!o,o?[]:"",!1));return;case"textarea":J=X=null;for(A in o)if(m=o[A],o.hasOwnProperty(A)&&m!=null&&!u.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:ot(s,r,A,null,u,m)}for(_ in u)if(m=u[_],y=o[_],u.hasOwnProperty(_)&&(m!=null||y!=null))switch(_){case"value":X=m;break;case"defaultValue":J=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==y&&ot(s,r,_,m,u,y)}oh(s,X,J);return;case"option":for(var ge in o)X=o[ge],o.hasOwnProperty(ge)&&X!=null&&!u.hasOwnProperty(ge)&&(ge==="selected"?s.selected=!1:ot(s,r,ge,null,u,X));for(L in u)X=u[L],J=o[L],u.hasOwnProperty(L)&&X!==J&&(X!=null||J!=null)&&(L==="selected"?s.selected=X&&typeof X!="function"&&typeof X!="symbol":ot(s,r,L,X,u,J));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Re in o)X=o[Re],o.hasOwnProperty(Re)&&X!=null&&!u.hasOwnProperty(Re)&&ot(s,r,Re,null,u,X);for(Q in u)if(X=u[Q],J=o[Q],u.hasOwnProperty(Q)&&X!==J&&(X!=null||J!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,r));break;default:ot(s,r,Q,X,u,J)}return;default:if(go(r)){for(var lt in o)X=o[lt],o.hasOwnProperty(lt)&&X!==void 0&&!u.hasOwnProperty(lt)&&tg(s,r,lt,void 0,u,X);for(ne in u)X=u[ne],J=o[ne],!u.hasOwnProperty(ne)||X===J||X===void 0&&J===void 0||tg(s,r,ne,X,u,J);return}}for(var q in o)X=o[q],o.hasOwnProperty(q)&&X!=null&&!u.hasOwnProperty(q)&&ot(s,r,q,null,u,X);for(ae in u)X=u[ae],J=o[ae],!u.hasOwnProperty(ae)||X===J||X==null&&J==null||ot(s,r,ae,X,u,J)}function W_(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function TN(){if(typeof performance.getEntriesByType=="function"){for(var s=0,r=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var m=o[u],y=m.transferSize,_=m.initiatorType,A=m.duration;if(y&&A&&W_(_)){for(_=0,A=m.responseEnd,u+=1;u<o.length;u++){var L=o[u],Q=L.startTime;if(Q>A)break;var ne=L.transferSize,ae=L.initiatorType;ne&&W_(ae)&&(L=L.responseEnd,_+=ne*(L<A?1:(A-Q)/(L-Q)))}if(--u,r+=8*(y+_)/(m.duration/1e3),s++,10<s)break}}if(0<s)return r/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var ng=null,sg=null;function ud(s){return s.nodeType===9?s:s.ownerDocument}function J_(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Z_(s,r){if(s===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&r==="foreignObject"?0:s}function ig(s,r){return s==="textarea"||s==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var rg=null;function EN(){var s=window.event;return s&&s.type==="popstate"?s===rg?!1:(rg=s,!0):(rg=null,!1)}var e1=typeof setTimeout=="function"?setTimeout:void 0,SN=typeof clearTimeout=="function"?clearTimeout:void 0,t1=typeof Promise=="function"?Promise:void 0,AN=typeof queueMicrotask=="function"?queueMicrotask:typeof t1<"u"?function(s){return t1.resolve(null).then(s).catch(CN)}:e1;function CN(s){setTimeout(function(){throw s})}function Ir(s){return s==="head"}function n1(s,r){var o=r,u=0;do{var m=o.nextSibling;if(s.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"||o==="/&"){if(u===0){s.removeChild(m),Wo(r);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")Pc(s.ownerDocument.documentElement);else if(o==="head"){o=s.ownerDocument.head,Pc(o);for(var y=o.firstChild;y;){var _=y.nextSibling,A=y.nodeName;y[qs]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&y.rel.toLowerCase()==="stylesheet"||o.removeChild(y),y=_}}else o==="body"&&Pc(s.ownerDocument.body);o=m}while(o);Wo(r)}function s1(s,r){var o=s;s=0;do{var u=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(s===0)break;s--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||s++;o=u}while(o)}function ag(s){var r=s.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":ag(o),fo(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}s.removeChild(o)}}function kN(s,r,o,u){for(;s.nodeType===1;){var m=o;if(s.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(u){if(!s[qs])switch(r){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(y=s.getAttribute("rel"),y==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(y!==m.rel||s.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||s.getAttribute("title")!==(m.title==null?null:m.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(y=s.getAttribute("src"),(y!==(m.src==null?null:m.src)||s.getAttribute("type")!==(m.type==null?null:m.type)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&y&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(r==="input"&&s.type==="hidden"){var y=m.name==null?null:""+m.name;if(m.type==="hidden"&&s.getAttribute("name")===y)return s}else return s;if(s=cs(s.nextSibling),s===null)break}return null}function RN(s,r,o){if(r==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!o||(s=cs(s.nextSibling),s===null))return null;return s}function i1(s,r){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!r||(s=cs(s.nextSibling),s===null))return null;return s}function og(s){return s.data==="$?"||s.data==="$~"}function lg(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function NN(s,r){var o=s.ownerDocument;if(s.data==="$~")s._reactRetry=r;else if(s.data!=="$?"||o.readyState!=="loading")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),s._reactRetry=u}}function cs(s){for(;s!=null;s=s.nextSibling){var r=s.nodeType;if(r===1||r===3)break;if(r===8){if(r=s.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return s}var cg=null;function r1(s){s=s.nextSibling;for(var r=0;s;){if(s.nodeType===8){var o=s.data;if(o==="/$"||o==="/&"){if(r===0)return cs(s.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}s=s.nextSibling}return null}function a1(s){s=s.previousSibling;for(var r=0;s;){if(s.nodeType===8){var o=s.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return s;r--}else o!=="/$"&&o!=="/&"||r++}s=s.previousSibling}return null}function o1(s,r,o){switch(r=ud(o),s){case"html":if(s=r.documentElement,!s)throw Error(i(452));return s;case"head":if(s=r.head,!s)throw Error(i(453));return s;case"body":if(s=r.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function Pc(s){for(var r=s.attributes;r.length;)s.removeAttributeNode(r[0]);fo(s)}var us=new Map,l1=new Set;function hd(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var zi=Z.d;Z.d={f:IN,r:DN,D:jN,C:MN,L:VN,m:ON,X:LN,S:PN,M:UN};function IN(){var s=zi.f(),r=nd();return s||r}function DN(s){var r=Zn(s);r!==null&&r.tag===5&&r.type==="form"?Sx(r):zi.r(s)}var Yo=typeof document>"u"?null:document;function c1(s,r,o){var u=Yo;if(u&&typeof r=="string"&&r){var m=Rn(r);m='link[rel="'+s+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),l1.has(m)||(l1.add(m),s={rel:s,crossOrigin:o,href:r},u.querySelector(m)===null&&(r=u.createElement("link"),ln(r,"link",s),Ot(r),u.head.appendChild(r)))}}function jN(s){zi.D(s),c1("dns-prefetch",s,null)}function MN(s,r){zi.C(s,r),c1("preconnect",s,r)}function VN(s,r,o){zi.L(s,r,o);var u=Yo;if(u&&s&&r){var m='link[rel="preload"][as="'+Rn(r)+'"]';r==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+Rn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+Rn(o.imageSizes)+'"]')):m+='[href="'+Rn(s)+'"]';var y=m;switch(r){case"style":y=Qo(s);break;case"script":y=Xo(s)}us.has(y)||(s=b({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:s,as:r},o),us.set(y,s),u.querySelector(m)!==null||r==="style"&&u.querySelector(Lc(y))||r==="script"&&u.querySelector(Uc(y))||(r=u.createElement("link"),ln(r,"link",s),Ot(r),u.head.appendChild(r)))}}function ON(s,r){zi.m(s,r);var o=Yo;if(o&&s){var u=r&&typeof r.as=="string"?r.as:"script",m='link[rel="modulepreload"][as="'+Rn(u)+'"][href="'+Rn(s)+'"]',y=m;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Xo(s)}if(!us.has(y)&&(s=b({rel:"modulepreload",href:s},r),us.set(y,s),o.querySelector(m)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Uc(y)))return}u=o.createElement("link"),ln(u,"link",s),Ot(u),o.head.appendChild(u)}}}function PN(s,r,o){zi.S(s,r,o);var u=Yo;if(u&&s){var m=$s(u).hoistableStyles,y=Qo(s);r=r||"default";var _=m.get(y);if(!_){var A={loading:0,preload:null};if(_=u.querySelector(Lc(y)))A.loading=5;else{s=b({rel:"stylesheet",href:s,"data-precedence":r},o),(o=us.get(y))&&ug(s,o);var L=_=u.createElement("link");Ot(L),ln(L,"link",s),L._p=new Promise(function(Q,ne){L.onload=Q,L.onerror=ne}),L.addEventListener("load",function(){A.loading|=1}),L.addEventListener("error",function(){A.loading|=2}),A.loading|=4,dd(_,r,u)}_={type:"stylesheet",instance:_,count:1,state:A},m.set(y,_)}}}function LN(s,r){zi.X(s,r);var o=Yo;if(o&&s){var u=$s(o).hoistableScripts,m=Xo(s),y=u.get(m);y||(y=o.querySelector(Uc(m)),y||(s=b({src:s,async:!0},r),(r=us.get(m))&&hg(s,r),y=o.createElement("script"),Ot(y),ln(y,"link",s),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(m,y))}}function UN(s,r){zi.M(s,r);var o=Yo;if(o&&s){var u=$s(o).hoistableScripts,m=Xo(s),y=u.get(m);y||(y=o.querySelector(Uc(m)),y||(s=b({src:s,async:!0,type:"module"},r),(r=us.get(m))&&hg(s,r),y=o.createElement("script"),Ot(y),ln(y,"link",s),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(m,y))}}function u1(s,r,o,u){var m=(m=De.current)?hd(m):null;if(!m)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=Qo(o.href),o=$s(m).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){s=Qo(o.href);var y=$s(m).hoistableStyles,_=y.get(s);if(_||(m=m.ownerDocument||m,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(s,_),(y=m.querySelector(Lc(s)))&&!y._p&&(_.instance=y,_.state.loading=5),us.has(s)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},us.set(s,o),y||zN(m,s,o,_.state))),r&&u===null)throw Error(i(528,""));return _}if(r&&u!==null)throw Error(i(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Xo(o),o=$s(m).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function Qo(s){return'href="'+Rn(s)+'"'}function Lc(s){return'link[rel="stylesheet"]['+s+"]"}function h1(s){return b({},s,{"data-precedence":s.precedence,precedence:null})}function zN(s,r,o,u){s.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=s.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),ln(r,"link",o),Ot(r),s.head.appendChild(r))}function Xo(s){return'[src="'+Rn(s)+'"]'}function Uc(s){return"script[async]"+s}function d1(s,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=s.querySelector('style[data-href~="'+Rn(o.href)+'"]');if(u)return r.instance=u,Ot(u),u;var m=b({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(s.ownerDocument||s).createElement("style"),Ot(u),ln(u,"style",m),dd(u,o.precedence,s),r.instance=u;case"stylesheet":m=Qo(o.href);var y=s.querySelector(Lc(m));if(y)return r.state.loading|=4,r.instance=y,Ot(y),y;u=h1(o),(m=us.get(m))&&ug(u,m),y=(s.ownerDocument||s).createElement("link"),Ot(y);var _=y;return _._p=new Promise(function(A,L){_.onload=A,_.onerror=L}),ln(y,"link",u),r.state.loading|=4,dd(y,o.precedence,s),r.instance=y;case"script":return y=Xo(o.src),(m=s.querySelector(Uc(y)))?(r.instance=m,Ot(m),m):(u=o,(m=us.get(y))&&(u=b({},o),hg(u,m)),s=s.ownerDocument||s,m=s.createElement("script"),Ot(m),ln(m,"link",u),s.head.appendChild(m),r.instance=m);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,dd(u,o.precedence,s));return r.instance}function dd(s,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=u.length?u[u.length-1]:null,y=m,_=0;_<u.length;_++){var A=u[_];if(A.dataset.precedence===r)y=A;else if(y!==m)break}y?y.parentNode.insertBefore(s,y.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(s,r.firstChild))}function ug(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.title==null&&(s.title=r.title)}function hg(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.integrity==null&&(s.integrity=r.integrity)}var fd=null;function f1(s,r,o){if(fd===null){var u=new Map,m=fd=new Map;m.set(o,u)}else m=fd,u=m.get(o),u||(u=new Map,m.set(o,u));if(u.has(s))return u;for(u.set(s,null),o=o.getElementsByTagName(s),m=0;m<o.length;m++){var y=o[m];if(!(y[qs]||y[Vt]||s==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var _=y.getAttribute(r)||"";_=s+_;var A=u.get(_);A?A.push(y):u.set(_,[y])}}return u}function m1(s,r,o){s=s.ownerDocument||s,s.head.insertBefore(o,r==="title"?s.querySelector("head > title"):null)}function BN(s,r,o){if(o===1||r.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(s=r.disabled,typeof r.precedence=="string"&&s==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function p1(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function FN(s,r,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var m=Qo(u.href),y=r.querySelector(Lc(m));if(y){r=y._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(s.count++,s=md.bind(s),r.then(s,s)),o.state.loading|=4,o.instance=y,Ot(y);return}y=r.ownerDocument||r,u=h1(u),(m=us.get(m))&&ug(u,m),y=y.createElement("link"),Ot(y);var _=y;_._p=new Promise(function(A,L){_.onload=A,_.onerror=L}),ln(y,"link",u),o.instance=y}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(s.count++,o=md.bind(s),r.addEventListener("load",o),r.addEventListener("error",o))}}var dg=0;function HN(s,r){return s.stylesheets&&s.count===0&&gd(s,s.stylesheets),0<s.count||0<s.imgCount?function(o){var u=setTimeout(function(){if(s.stylesheets&&gd(s,s.stylesheets),s.unsuspend){var y=s.unsuspend;s.unsuspend=null,y()}},6e4+r);0<s.imgBytes&&dg===0&&(dg=62500*TN());var m=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&gd(s,s.stylesheets),s.unsuspend)){var y=s.unsuspend;s.unsuspend=null,y()}},(s.imgBytes>dg?50:800)+r);return s.unsuspend=o,function(){s.unsuspend=null,clearTimeout(u),clearTimeout(m)}}:null}function md(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)gd(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var pd=null;function gd(s,r){s.stylesheets=null,s.unsuspend!==null&&(s.count++,pd=new Map,r.forEach(qN,s),pd=null,md.call(s))}function qN(s,r){if(!(r.state.loading&4)){var o=pd.get(s);if(o)var u=o.get(null);else{o=new Map,pd.set(s,o);for(var m=s.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var _=m[y];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(o.set(_.dataset.precedence,_),u=_)}u&&o.set(null,u)}m=r.instance,_=m.getAttribute("data-precedence"),y=o.get(_)||u,y===u&&o.set(null,m),o.set(_,m),this.count++,u=md.bind(this),m.addEventListener("load",u),m.addEventListener("error",u),y?y.parentNode.insertBefore(m,y.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(m,s.firstChild)),r.state.loading|=4}}var zc={$$typeof:G,Provider:null,Consumer:null,_currentValue:$,_currentValue2:$,_threadCount:0};function GN(s,r,o,u,m,y,_,A,L){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Fs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fs(0),this.hiddenUpdates=Fs(null),this.identifierPrefix=u,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=L,this.incompleteTransitions=new Map}function g1(s,r,o,u,m,y,_,A,L,Q,ne,ae){return s=new GN(s,r,o,_,L,Q,ne,ae,A),r=1,y===!0&&(r|=24),y=Fn(3,null,null,r),s.current=y,y.stateNode=s,r=Gm(),r.refCount++,s.pooledCache=r,r.refCount++,y.memoizedState={element:u,isDehydrated:o,cache:r},Qm(y),s}function y1(s){return s?(s=Co,s):Co}function v1(s,r,o,u,m,y){m=y1(m),u.context===null?u.context=m:u.pendingContext=m,u=xr(r),u.payload={element:o},y=y===void 0?null:y,y!==null&&(u.callback=y),o=_r(s,u,r),o!==null&&(Vn(o,s,r),vc(o,s,r))}function b1(s,r){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var o=s.retryLane;s.retryLane=o!==0&&o<r?o:r}}function fg(s,r){b1(s,r),(s=s.alternate)&&b1(s,r)}function x1(s){if(s.tag===13||s.tag===31){var r=Aa(s,67108864);r!==null&&Vn(r,s,67108864),fg(s,67108864)}}function _1(s){if(s.tag===13||s.tag===31){var r=Kn();r=ma(r);var o=Aa(s,r);o!==null&&Vn(o,s,r),fg(s,r)}}var yd=!0;function $N(s,r,o,u){var m=H.T;H.T=null;var y=Z.p;try{Z.p=2,mg(s,r,o,u)}finally{Z.p=y,H.T=m}}function KN(s,r,o,u){var m=H.T;H.T=null;var y=Z.p;try{Z.p=8,mg(s,r,o,u)}finally{Z.p=y,H.T=m}}function mg(s,r,o,u){if(yd){var m=pg(u);if(m===null)eg(s,r,u,vd,o),T1(s,u);else if(QN(m,s,r,o,u))u.stopPropagation();else if(T1(s,u),r&4&&-1<YN.indexOf(s)){for(;m!==null;){var y=Zn(m);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var _=zs(y.pendingLanes);if(_!==0){var A=y;for(A.pendingLanes|=2,A.entangledLanes|=2;_;){var L=1<<31-kt(_);A.entanglements[1]|=L,_&=~L}ri(y),(et&6)===0&&(ed=_n()+500,Mc(0))}}break;case 31:case 13:A=Aa(y,2),A!==null&&Vn(A,y,2),nd(),fg(y,2)}if(y=pg(u),y===null&&eg(s,r,u,vd,o),y===m)break;m=y}m!==null&&u.stopPropagation()}else eg(s,r,u,null,o)}}function pg(s){return s=es(s),gg(s)}var vd=null;function gg(s){if(vd=null,s=Gs(s),s!==null){var r=l(s);if(r===null)s=null;else{var o=r.tag;if(o===13){if(s=c(r),s!==null)return s;s=null}else if(o===31){if(s=d(r),s!==null)return s;s=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;s=null}else r!==s&&(s=null)}}return vd=s,null}function w1(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ua()){case Hl:return 2;case ql:return 8;case rr:case wm:return 32;case Xu:return 268435456;default:return 32}default:return 32}}var yg=!1,Dr=null,jr=null,Mr=null,Bc=new Map,Fc=new Map,Vr=[],YN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function T1(s,r){switch(s){case"focusin":case"focusout":Dr=null;break;case"dragenter":case"dragleave":jr=null;break;case"mouseover":case"mouseout":Mr=null;break;case"pointerover":case"pointerout":Bc.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fc.delete(r.pointerId)}}function Hc(s,r,o,u,m,y){return s===null||s.nativeEvent!==y?(s={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:y,targetContainers:[m]},r!==null&&(r=Zn(r),r!==null&&x1(r)),s):(s.eventSystemFlags|=u,r=s.targetContainers,m!==null&&r.indexOf(m)===-1&&r.push(m),s)}function QN(s,r,o,u,m){switch(r){case"focusin":return Dr=Hc(Dr,s,r,o,u,m),!0;case"dragenter":return jr=Hc(jr,s,r,o,u,m),!0;case"mouseover":return Mr=Hc(Mr,s,r,o,u,m),!0;case"pointerover":var y=m.pointerId;return Bc.set(y,Hc(Bc.get(y)||null,s,r,o,u,m)),!0;case"gotpointercapture":return y=m.pointerId,Fc.set(y,Hc(Fc.get(y)||null,s,r,o,u,m)),!0}return!1}function E1(s){var r=Gs(s.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){s.blockedOn=r,_s(s.priority,function(){_1(o)});return}}else if(r===31){if(r=d(o),r!==null){s.blockedOn=r,_s(s.priority,function(){_1(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){s.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}s.blockedOn=null}function bd(s){if(s.blockedOn!==null)return!1;for(var r=s.targetContainers;0<r.length;){var o=pg(s.nativeEvent);if(o===null){o=s.nativeEvent;var u=new o.constructor(o.type,o);nc=u,o.target.dispatchEvent(u),nc=null}else return r=Zn(o),r!==null&&x1(r),s.blockedOn=o,!1;r.shift()}return!0}function S1(s,r,o){bd(s)&&o.delete(r)}function XN(){yg=!1,Dr!==null&&bd(Dr)&&(Dr=null),jr!==null&&bd(jr)&&(jr=null),Mr!==null&&bd(Mr)&&(Mr=null),Bc.forEach(S1),Fc.forEach(S1)}function xd(s,r){s.blockedOn===r&&(s.blockedOn=null,yg||(yg=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,XN)))}var _d=null;function A1(s){_d!==s&&(_d=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){_d===s&&(_d=null);for(var r=0;r<s.length;r+=3){var o=s[r],u=s[r+1],m=s[r+2];if(typeof u!="function"){if(gg(u||o)===null)continue;break}var y=Zn(o);y!==null&&(s.splice(r,3),r-=3,pp(y,{pending:!0,data:m,method:o.method,action:u},u,m))}}))}function Wo(s){function r(L){return xd(L,s)}Dr!==null&&xd(Dr,s),jr!==null&&xd(jr,s),Mr!==null&&xd(Mr,s),Bc.forEach(r),Fc.forEach(r);for(var o=0;o<Vr.length;o++){var u=Vr[o];u.blockedOn===s&&(u.blockedOn=null)}for(;0<Vr.length&&(o=Vr[0],o.blockedOn===null);)E1(o),o.blockedOn===null&&Vr.shift();if(o=(s.ownerDocument||s).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var m=o[u],y=o[u+1],_=m[Wt]||null;if(typeof y=="function")_||A1(o);else if(_){var A=null;if(y&&y.hasAttribute("formAction")){if(m=y,_=y[Wt]||null)A=_.formAction;else if(gg(m)!==null)continue}else A=_.action;typeof A=="function"?o[u+1]=A:(o.splice(u,3),u-=3),A1(o)}}}function C1(){function s(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(_){return m=_})},focusReset:"manual",scroll:"manual"})}function r(){m!==null&&(m(),m=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,m=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),m!==null&&(m(),m=null)}}}function vg(s){this._internalRoot=s}wd.prototype.render=vg.prototype.render=function(s){var r=this._internalRoot;if(r===null)throw Error(i(409));var o=r.current,u=Kn();v1(o,u,s,r,null,null)},wd.prototype.unmount=vg.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var r=s.containerInfo;v1(s.current,2,null,s,null,null),nd(),r[Hs]=null}};function wd(s){this._internalRoot=s}wd.prototype.unstable_scheduleHydration=function(s){if(s){var r=nh();s={blockedOn:null,target:s,priority:r};for(var o=0;o<Vr.length&&r!==0&&r<Vr[o].priority;o++);Vr.splice(o,0,s),o===0&&E1(s)}};var k1=e.version;if(k1!=="19.2.4")throw Error(i(527,k1,"19.2.4"));Z.findDOMNode=function(s){var r=s._reactInternals;if(r===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=p(r),s=s!==null?v(s):null,s=s===null?null:s.stateNode,s};var WN={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Td=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Td.isDisabled&&Td.supportsFiber)try{bs=Td.inject(WN),nn=Td}catch{}}return Gc.createRoot=function(s,r){if(!a(s))throw Error(i(299));var o=!1,u="",m=Vx,y=Ox,_=Px;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(m=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError)),r=g1(s,1,!1,null,null,o,u,null,m,y,_,C1),s[Hs]=r.current,Zp(s),new vg(r)},Gc.hydrateRoot=function(s,r,o){if(!a(s))throw Error(i(299));var u=!1,m="",y=Vx,_=Ox,A=Px,L=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(_=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.formState!==void 0&&(L=o.formState)),r=g1(s,1,!0,r,o??null,u,m,L,y,_,A,C1),r.context=y1(null),o=r.current,u=Kn(),u=ma(u),m=xr(u),m.callback=null,_r(o,m,u),o=u,r.current.lanes=o,da(r,o),ri(r),s[Hs]=r.current,Zp(s),new wd(r)},Gc.version="19.2.4",Gc}var L1;function oI(){if(L1)return _g.exports;L1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),_g.exports=aI(),_g.exports}var lI=oI();const cI=eS(lI);var U1="popstate";function uI(t={}){function e(i,a){let{pathname:l,search:c,hash:d}=i.location;return f0("",{pathname:l,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){return typeof a=="string"?a:mu(a)}return dI(e,n,null,t)}function yt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ps(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function hI(){return Math.random().toString(36).substring(2,10)}function z1(t,e){return{usr:t.state,key:t.key,idx:e}}function f0(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Al(e):e,state:n,key:e&&e.key||i||hI()}}function mu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Al(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function dI(t,e,n,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,c=a.history,d="POP",f=null,p=v();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function v(){return(c.state||{idx:null}).idx}function b(){d="POP";let V=v(),z=V==null?null:V-p;p=V,f&&f({action:d,location:O.location,delta:z})}function w(V,z){d="PUSH";let F=f0(O.location,V,z);p=v()+1;let G=z1(F,p),te=O.createHref(F);try{c.pushState(G,"",te)}catch(re){if(re instanceof DOMException&&re.name==="DataCloneError")throw re;a.location.assign(te)}l&&f&&f({action:d,location:O.location,delta:1})}function S(V,z){d="REPLACE";let F=f0(O.location,V,z);p=v();let G=z1(F,p),te=O.createHref(F);c.replaceState(G,"",te),l&&f&&f({action:d,location:O.location,delta:0})}function D(V){return fI(V)}let O={get action(){return d},get location(){return t(a,c)},listen(V){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(U1,b),f=V,()=>{a.removeEventListener(U1,b),f=null}},createHref(V){return e(a,V)},createURL:D,encodeLocation(V){let z=D(V);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:w,replace:S,go(V){return c.go(V)}};return O}function fI(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),yt(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:mu(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function tS(t,e,n="/"){return mI(t,e,n,!1)}function mI(t,e,n,i){let a=typeof e=="string"?Al(e):e,l=Qi(a.pathname||"/",n);if(l==null)return null;let c=nS(t);pI(c);let d=null;for(let f=0;d==null&&f<c.length;++f){let p=AI(l);d=EI(c[f],p,i)}return d}function nS(t,e=[],n=[],i="",a=!1){let l=(c,d,f=a,p)=>{let v={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(i)&&f)return;yt(v.relativePath.startsWith(i),`Absolute route path "${v.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(i.length)}let b=Ki([i,v.relativePath]),w=n.concat(v);c.children&&c.children.length>0&&(yt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),nS(c.children,e,w,b,f)),!(c.path==null&&!c.index)&&e.push({path:b,score:wI(b,c.index),routesMeta:w})};return t.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))l(c,d);else for(let f of sS(c.path))l(c,d,!0,f)}),e}function sS(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let c=sS(i.join("/")),d=[];return d.push(...c.map(f=>f===""?l:[l,f].join("/"))),a&&d.push(...c),d.map(f=>t.startsWith("/")&&f===""?"/":f)}function pI(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:TI(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var gI=/^:[\w-]+$/,yI=3,vI=2,bI=1,xI=10,_I=-2,B1=t=>t==="*";function wI(t,e){let n=t.split("/"),i=n.length;return n.some(B1)&&(i+=_I),e&&(i+=vI),n.filter(a=>!B1(a)).reduce((a,l)=>a+(gI.test(l)?yI:l===""?bI:xI),i)}function TI(t,e){return t.length===e.length&&t.slice(0,-1).every((i,a)=>i===e[a])?t[t.length-1]-e[e.length-1]:0}function EI(t,e,n=!1){let{routesMeta:i}=t,a={},l="/",c=[];for(let d=0;d<i.length;++d){let f=i[d],p=d===i.length-1,v=l==="/"?e:e.slice(l.length)||"/",b=lf({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},v),w=f.route;if(!b&&p&&n&&!i[i.length-1].route.index&&(b=lf({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},v)),!b)return null;Object.assign(a,b.params),c.push({params:a,pathname:Ki([l,b.pathname]),pathnameBase:NI(Ki([l,b.pathnameBase])),route:w}),b.pathnameBase!=="/"&&(l=Ki([l,b.pathnameBase]))}return c}function lf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=SI(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:i.reduce((p,{paramName:v,isOptional:b},w)=>{if(v==="*"){let D=d[w]||"";c=l.slice(0,l.length-D.length).replace(/(.)\/+$/,"$1")}const S=d[w];return b&&!S?p[v]=void 0:p[v]=(S||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:t}}function SI(t,e=!1,n=!0){Ps(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,f)=>(i.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function AI(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ps(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Qi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}var CI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function kI(t,e="/"){let{pathname:n,search:i="",hash:a=""}=typeof t=="string"?Al(t):t,l;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?l=F1(n.substring(1),"/"):l=F1(n,e)):l=e,{pathname:l,search:II(i),hash:DI(a)}}function F1(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Sg(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function RI(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function py(t){let e=RI(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function gy(t,e,n,i=!1){let a;typeof t=="string"?a=Al(t):(a={...t},yt(!a.pathname||!a.pathname.includes("?"),Sg("?","pathname","search",a)),yt(!a.pathname||!a.pathname.includes("#"),Sg("#","pathname","hash",a)),yt(!a.search||!a.search.includes("#"),Sg("#","search","hash",a)));let l=t===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=n;else{let b=e.length-1;if(!i&&c.startsWith("..")){let w=c.split("/");for(;w[0]==="..";)w.shift(),b-=1;a.pathname=w.join("/")}d=b>=0?e[b]:"/"}let f=kI(a,d),p=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(p||v)&&(f.pathname+="/"),f}var Ki=t=>t.join("/").replace(/\/\/+/g,"/"),NI=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),II=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,DI=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,jI=class{constructor(t,e,n,i=!1){this.status=t,this.statusText=e||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function MI(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function VI(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var iS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function rS(t,e){let n=t;if(typeof n!="string"||!CI.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let i=n,a=!1;if(iS)try{let l=new URL(window.location.href),c=n.startsWith("//")?new URL(l.protocol+n):new URL(n),d=Qi(c.pathname,e);c.origin===l.origin&&d!=null?n=d+c.search+c.hash:a=!0}catch{Ps(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var aS=["POST","PUT","PATCH","DELETE"];new Set(aS);var OI=["GET",...aS];new Set(OI);var Cl=R.createContext(null);Cl.displayName="DataRouter";var Bf=R.createContext(null);Bf.displayName="DataRouterState";var PI=R.createContext(!1),oS=R.createContext({isTransitioning:!1});oS.displayName="ViewTransition";var LI=R.createContext(new Map);LI.displayName="Fetchers";var UI=R.createContext(null);UI.displayName="Await";var Wn=R.createContext(null);Wn.displayName="Navigation";var Iu=R.createContext(null);Iu.displayName="Location";var ys=R.createContext({outlet:null,matches:[],isDataRoute:!1});ys.displayName="Route";var yy=R.createContext(null);yy.displayName="RouteError";var lS="REACT_ROUTER_ERROR",zI="REDIRECT",BI="ROUTE_ERROR_RESPONSE";function FI(t){if(t.startsWith(`${lS}:${zI}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function HI(t){if(t.startsWith(`${lS}:${BI}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new jI(e.status,e.statusText,e.data)}catch{}}function qI(t,{relative:e}={}){yt(kl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=R.useContext(Wn),{hash:a,pathname:l,search:c}=Du(t,{relative:e}),d=l;return n!=="/"&&(d=l==="/"?n:Ki([n,l])),i.createHref({pathname:d,search:c,hash:a})}function kl(){return R.useContext(Iu)!=null}function nr(){return yt(kl(),"useLocation() may be used only in the context of a <Router> component."),R.useContext(Iu).location}var cS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function uS(t){R.useContext(Wn).static||R.useLayoutEffect(t)}function Ff(){let{isDataRoute:t}=R.useContext(ys);return t?aD():GI()}function GI(){yt(kl(),"useNavigate() may be used only in the context of a <Router> component.");let t=R.useContext(Cl),{basename:e,navigator:n}=R.useContext(Wn),{matches:i}=R.useContext(ys),{pathname:a}=nr(),l=JSON.stringify(py(i)),c=R.useRef(!1);return uS(()=>{c.current=!0}),R.useCallback((f,p={})=>{if(Ps(c.current,cS),!c.current)return;if(typeof f=="number"){n.go(f);return}let v=gy(f,JSON.parse(l),a,p.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Ki([e,v.pathname])),(p.replace?n.replace:n.push)(v,p.state,p)},[e,n,l,a,t])}var $I=R.createContext(null);function KI(t){let e=R.useContext(ys).outlet;return R.useMemo(()=>e&&R.createElement($I.Provider,{value:t},e),[e,t])}function YI(){let{matches:t}=R.useContext(ys),e=t[t.length-1];return e?e.params:{}}function Du(t,{relative:e}={}){let{matches:n}=R.useContext(ys),{pathname:i}=nr(),a=JSON.stringify(py(n));return R.useMemo(()=>gy(t,JSON.parse(a),i,e==="path"),[t,a,i,e])}function QI(t,e){return hS(t,e)}function hS(t,e,n,i,a){yt(kl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=R.useContext(Wn),{matches:c}=R.useContext(ys),d=c[c.length-1],f=d?d.params:{},p=d?d.pathname:"/",v=d?d.pathnameBase:"/",b=d&&d.route;{let F=b&&b.path||"";fS(p,!b||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let w=nr(),S;if(e){let F=typeof e=="string"?Al(e):e;yt(v==="/"||F.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${F.pathname}" was given in the \`location\` prop.`),S=F}else S=w;let D=S.pathname||"/",O=D;if(v!=="/"){let F=v.replace(/^\//,"").split("/");O="/"+D.replace(/^\//,"").split("/").slice(F.length).join("/")}let V=tS(t,{pathname:O});Ps(b||V!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Ps(V==null||V[V.length-1].route.element!==void 0||V[V.length-1].route.Component!==void 0||V[V.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let z=eD(V&&V.map(F=>Object.assign({},F,{params:Object.assign({},f,F.params),pathname:Ki([v,l.encodeLocation?l.encodeLocation(F.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?v:Ki([v,l.encodeLocation?l.encodeLocation(F.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:F.pathnameBase])})),c,n,i,a);return e&&z?R.createElement(Iu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},z):z}function XI(){let t=rD(),e=MI(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=R.createElement(R.Fragment,null,R.createElement("p",null," Hey developer "),R.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",R.createElement("code",{style:l},"ErrorBoundary")," or"," ",R.createElement("code",{style:l},"errorElement")," prop on your route.")),R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),n?R.createElement("pre",{style:a},n):null,c)}var WI=R.createElement(XI,null),dS=class extends R.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=HI(t.digest);n&&(t=n)}let e=t!==void 0?R.createElement(ys.Provider,{value:this.props.routeContext},R.createElement(yy.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?R.createElement(JI,{error:t},e):e}};dS.contextType=PI;var Ag=new WeakMap;function JI({children:t,error:e}){let{basename:n}=R.useContext(Wn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=FI(e.digest);if(i){let a=Ag.get(e);if(a)throw a;let l=rS(i.location,n);if(iS&&!Ag.get(e))if(l.isExternal||i.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:i.replace}));throw Ag.set(e,c),c}return R.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return t}function ZI({routeContext:t,match:e,children:n}){let i=R.useContext(Cl);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),R.createElement(ys.Provider,{value:t},n)}function eD(t,e=[],n=null,i=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,c=n?.errors;if(c!=null){let v=l.findIndex(b=>b.route.id&&c?.[b.route.id]!==void 0);yt(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,v+1))}let d=!1,f=-1;if(n)for(let v=0;v<l.length;v++){let b=l[v];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(f=v),b.route.id){let{loaderData:w,errors:S}=n,D=b.route.loader&&!w.hasOwnProperty(b.route.id)&&(!S||S[b.route.id]===void 0);if(b.route.lazy||D){d=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}let p=n&&i?(v,b)=>{i(v,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:VI(n.matches),errorInfo:b})}:void 0;return l.reduceRight((v,b,w)=>{let S,D=!1,O=null,V=null;n&&(S=c&&b.route.id?c[b.route.id]:void 0,O=b.route.errorElement||WI,d&&(f<0&&w===0?(fS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),D=!0,V=null):f===w&&(D=!0,V=b.route.hydrateFallbackElement||null)));let z=e.concat(l.slice(0,w+1)),F=()=>{let G;return S?G=O:D?G=V:b.route.Component?G=R.createElement(b.route.Component,null):b.route.element?G=b.route.element:G=v,R.createElement(ZI,{match:b,routeContext:{outlet:v,matches:z,isDataRoute:n!=null},children:G})};return n&&(b.route.ErrorBoundary||b.route.errorElement||w===0)?R.createElement(dS,{location:n.location,revalidation:n.revalidation,component:O,error:S,children:F(),routeContext:{outlet:null,matches:z,isDataRoute:!0},onError:p}):F()},null)}function vy(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tD(t){let e=R.useContext(Cl);return yt(e,vy(t)),e}function nD(t){let e=R.useContext(Bf);return yt(e,vy(t)),e}function sD(t){let e=R.useContext(ys);return yt(e,vy(t)),e}function by(t){let e=sD(t),n=e.matches[e.matches.length-1];return yt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function iD(){return by("useRouteId")}function rD(){let t=R.useContext(yy),e=nD("useRouteError"),n=by("useRouteError");return t!==void 0?t:e.errors?.[n]}function aD(){let{router:t}=tD("useNavigate"),e=by("useNavigate"),n=R.useRef(!1);return uS(()=>{n.current=!0}),R.useCallback(async(a,l={})=>{Ps(n.current,cS),n.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var H1={};function fS(t,e,n){!e&&!H1[t]&&(H1[t]=!0,Ps(!1,n))}R.memo(oD);function oD({routes:t,future:e,state:n,onError:i}){return hS(t,void 0,n,i,e)}function lD({to:t,replace:e,state:n,relative:i}){yt(kl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=R.useContext(Wn);Ps(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=R.useContext(ys),{pathname:c}=nr(),d=Ff(),f=gy(t,py(l),c,i==="path"),p=JSON.stringify(f);return R.useEffect(()=>{d(JSON.parse(p),{replace:e,state:n,relative:i})},[d,p,i,e,n]),null}function Fi(t){yt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function cD({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:a,static:l=!1,unstable_useTransitions:c}){yt(!kl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=t.replace(/^\/*/,"/"),f=R.useMemo(()=>({basename:d,navigator:a,static:l,unstable_useTransitions:c,future:{}}),[d,a,l,c]);typeof n=="string"&&(n=Al(n));let{pathname:p="/",search:v="",hash:b="",state:w=null,key:S="default"}=n,D=R.useMemo(()=>{let O=Qi(p,d);return O==null?null:{location:{pathname:O,search:v,hash:b,state:w,key:S},navigationType:i}},[d,p,v,b,w,S,i]);return Ps(D!=null,`<Router basename="${d}"> is not able to match the URL "${p}${v}${b}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:R.createElement(Wn.Provider,{value:f},R.createElement(Iu.Provider,{children:e,value:D}))}function uD({children:t,location:e}){return QI(m0(t),e)}function m0(t,e=[]){let n=[];return R.Children.forEach(t,(i,a)=>{if(!R.isValidElement(i))return;let l=[...e,a];if(i.type===R.Fragment){n.push.apply(n,m0(i.props.children,l));return}yt(i.type===Fi,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),yt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=m0(i.props.children,l)),n.push(c)}),n}var Fd="get",Hd="application/x-www-form-urlencoded";function Hf(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function hD(t){return Hf(t)&&t.tagName.toLowerCase()==="button"}function dD(t){return Hf(t)&&t.tagName.toLowerCase()==="form"}function fD(t){return Hf(t)&&t.tagName.toLowerCase()==="input"}function mD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function pD(t,e){return t.button===0&&(!e||e==="_self")&&!mD(t)}var Ed=null;function gD(){if(Ed===null)try{new FormData(document.createElement("form"),0),Ed=!1}catch{Ed=!0}return Ed}var yD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Cg(t){return t!=null&&!yD.has(t)?(Ps(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Hd}"`),null):t}function vD(t,e){let n,i,a,l,c;if(dD(t)){let d=t.getAttribute("action");i=d?Qi(d,e):null,n=t.getAttribute("method")||Fd,a=Cg(t.getAttribute("enctype"))||Hd,l=new FormData(t)}else if(hD(t)||fD(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||d.getAttribute("action");if(i=f?Qi(f,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||Fd,a=Cg(t.getAttribute("formenctype"))||Cg(d.getAttribute("enctype"))||Hd,l=new FormData(d,t),!gD()){let{name:p,type:v,value:b}=t;if(v==="image"){let w=p?`${p}.`:"";l.append(`${w}x`,"0"),l.append(`${w}y`,"0")}else p&&l.append(p,b)}}else{if(Hf(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Fd,i=null,a=Hd,c=t}return l&&a==="text/plain"&&(c=l,l=void 0),{action:i,method:n.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function xy(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function bD(t,e,n,i){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${i}`:a.pathname=`${a.pathname}.${i}`:a.pathname==="/"?a.pathname=`_root.${i}`:e&&Qi(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${i}`,a}async function xD(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function _D(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function wD(t,e,n){let i=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await xD(l,n);return c.links?c.links():[]}return[]}));return AD(i.flat(1).filter(_D).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function q1(t,e,n,i,a,l){let c=(f,p)=>n[p]?f.route.id!==n[p].route.id:!0,d=(f,p)=>n[p].pathname!==f.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==f.params["*"];return l==="assets"?e.filter((f,p)=>c(f,p)||d(f,p)):l==="data"?e.filter((f,p)=>{let v=i.routes[f.route.id];if(!v||!v.hasLoader)return!1;if(c(f,p)||d(f,p))return!0;if(f.route.shouldRevalidate){let b=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function TD(t,e,{includeHydrateFallback:n}={}){return ED(t.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function ED(t){return[...new Set(t)]}function SD(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function AD(t,e){let n=new Set;return new Set(e),t.reduce((i,a)=>{let l=JSON.stringify(SD(a));return n.has(l)||(n.add(l),i.push({key:l,link:a})),i},[])}function mS(){let t=R.useContext(Cl);return xy(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function CD(){let t=R.useContext(Bf);return xy(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var _y=R.createContext(void 0);_y.displayName="FrameworkContext";function pS(){let t=R.useContext(_y);return xy(t,"You must render this element inside a <HydratedRouter> element"),t}function kD(t,e){let n=R.useContext(_y),[i,a]=R.useState(!1),[l,c]=R.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:p,onMouseLeave:v,onTouchStart:b}=e,w=R.useRef(null);R.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let O=z=>{z.forEach(F=>{c(F.isIntersecting)})},V=new IntersectionObserver(O,{threshold:.5});return w.current&&V.observe(w.current),()=>{V.disconnect()}}},[t]),R.useEffect(()=>{if(i){let O=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(O)}}},[i]);let S=()=>{a(!0)},D=()=>{a(!1),c(!1)};return n?t!=="intent"?[l,w,{}]:[l,w,{onFocus:$c(d,S),onBlur:$c(f,D),onMouseEnter:$c(p,S),onMouseLeave:$c(v,D),onTouchStart:$c(b,S)}]:[!1,w,{}]}function $c(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function RD({page:t,...e}){let{router:n}=mS(),i=R.useMemo(()=>tS(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?R.createElement(ID,{page:t,matches:i,...e}):null}function ND(t){let{manifest:e,routeModules:n}=pS(),[i,a]=R.useState([]);return R.useEffect(()=>{let l=!1;return wD(t,e,n).then(c=>{l||a(c)}),()=>{l=!0}},[t,e,n]),i}function ID({page:t,matches:e,...n}){let i=nr(),{future:a,manifest:l,routeModules:c}=pS(),{basename:d}=mS(),{loaderData:f,matches:p}=CD(),v=R.useMemo(()=>q1(t,e,p,l,i,"data"),[t,e,p,l,i]),b=R.useMemo(()=>q1(t,e,p,l,i,"assets"),[t,e,p,l,i]),w=R.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let O=new Set,V=!1;if(e.forEach(F=>{let G=l.routes[F.route.id];!G||!G.hasLoader||(!v.some(te=>te.route.id===F.route.id)&&F.route.id in f&&c[F.route.id]?.shouldRevalidate||G.hasClientLoader?V=!0:O.add(F.route.id))}),O.size===0)return[];let z=bD(t,d,a.unstable_trailingSlashAwareDataRequests,"data");return V&&O.size>0&&z.searchParams.set("_routes",e.filter(F=>O.has(F.route.id)).map(F=>F.route.id).join(",")),[z.pathname+z.search]},[d,a.unstable_trailingSlashAwareDataRequests,f,i,l,v,e,t,c]),S=R.useMemo(()=>TD(b,l),[b,l]),D=ND(b);return R.createElement(R.Fragment,null,w.map(O=>R.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...n})),S.map(O=>R.createElement("link",{key:O,rel:"modulepreload",href:O,...n})),D.map(({key:O,link:V})=>R.createElement("link",{key:O,nonce:n.nonce,...V,crossOrigin:V.crossOrigin??n.crossOrigin})))}function DD(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var jD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{jD&&(window.__reactRouterVersion="7.13.0")}catch{}function MD({basename:t,children:e,unstable_useTransitions:n,window:i}){let a=R.useRef();a.current==null&&(a.current=uI({window:i,v5Compat:!0}));let l=a.current,[c,d]=R.useState({action:l.action,location:l.location}),f=R.useCallback(p=>{n===!1?d(p):R.startTransition(()=>d(p))},[n]);return R.useLayoutEffect(()=>l.listen(f),[l,f]),R.createElement(cD,{basename:t,children:e,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:n})}var gS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cn=R.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:a,reloadDocument:l,replace:c,state:d,target:f,to:p,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:w,...S},D){let{basename:O,unstable_useTransitions:V}=R.useContext(Wn),z=typeof p=="string"&&gS.test(p),F=rS(p,O);p=F.to;let G=qI(p,{relative:a}),[te,re,he]=kD(i,S),j=LD(p,{replace:c,state:d,target:f,preventScrollReset:v,relative:a,viewTransition:b,unstable_defaultShouldRevalidate:w,unstable_useTransitions:V});function E(M){e&&e(M),M.defaultPrevented||j(M)}let C=R.createElement("a",{...S,...he,href:F.absoluteURL||G,onClick:F.isExternal||l?e:E,ref:DD(D,re),target:f,"data-discover":!z&&n==="render"?"true":void 0});return te&&!z?R.createElement(R.Fragment,null,C,R.createElement(RD,{page:G})):C});cn.displayName="Link";var VD=R.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:a=!1,style:l,to:c,viewTransition:d,children:f,...p},v){let b=Du(c,{relative:p.relative}),w=nr(),S=R.useContext(Bf),{navigator:D,basename:O}=R.useContext(Wn),V=S!=null&&HD(b)&&d===!0,z=D.encodeLocation?D.encodeLocation(b).pathname:b.pathname,F=w.pathname,G=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;n||(F=F.toLowerCase(),G=G?G.toLowerCase():null,z=z.toLowerCase()),G&&O&&(G=Qi(G,O)||G);const te=z!=="/"&&z.endsWith("/")?z.length-1:z.length;let re=F===z||!a&&F.startsWith(z)&&F.charAt(te)==="/",he=G!=null&&(G===z||!a&&G.startsWith(z)&&G.charAt(z.length)==="/"),j={isActive:re,isPending:he,isTransitioning:V},E=re?e:void 0,C;typeof i=="function"?C=i(j):C=[i,re?"active":null,he?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let M=typeof l=="function"?l(j):l;return R.createElement(cn,{...p,"aria-current":E,className:C,ref:v,style:M,to:c,viewTransition:d},typeof f=="function"?f(j):f)});VD.displayName="NavLink";var OD=R.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:a,state:l,method:c=Fd,action:d,onSubmit:f,relative:p,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:w,...S},D)=>{let{unstable_useTransitions:O}=R.useContext(Wn),V=BD(),z=FD(d,{relative:p}),F=c.toLowerCase()==="get"?"get":"post",G=typeof d=="string"&&gS.test(d),te=re=>{if(f&&f(re),re.defaultPrevented)return;re.preventDefault();let he=re.nativeEvent.submitter,j=he?.getAttribute("formmethod")||c,E=()=>V(he||re.currentTarget,{fetcherKey:e,method:j,navigate:n,replace:a,state:l,relative:p,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:w});O&&n!==!1?R.startTransition(()=>E()):E()};return R.createElement("form",{ref:D,method:F,action:z,onSubmit:i?f:te,...S,"data-discover":!G&&t==="render"?"true":void 0})});OD.displayName="Form";function PD(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yS(t){let e=R.useContext(Cl);return yt(e,PD(t)),e}function LD(t,{target:e,replace:n,state:i,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:d,unstable_useTransitions:f}={}){let p=Ff(),v=nr(),b=Du(t,{relative:l});return R.useCallback(w=>{if(pD(w,e)){w.preventDefault();let S=n!==void 0?n:mu(v)===mu(b),D=()=>p(t,{replace:S,state:i,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:d});f?R.startTransition(()=>D()):D()}},[v,p,b,n,i,e,t,a,l,c,d,f])}var UD=0,zD=()=>`__${String(++UD)}__`;function BD(){let{router:t}=yS("useSubmit"),{basename:e}=R.useContext(Wn),n=iD(),i=t.fetch,a=t.navigate;return R.useCallback(async(l,c={})=>{let{action:d,method:f,encType:p,formData:v,body:b}=vD(l,e);if(c.navigate===!1){let w=c.fetcherKey||zD();await i(w,n,c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:b,formMethod:c.method||f,formEncType:c.encType||p,flushSync:c.flushSync})}else await a(c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:b,formMethod:c.method||f,formEncType:c.encType||p,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[i,a,e,n])}function FD(t,{relative:e}={}){let{basename:n}=R.useContext(Wn),i=R.useContext(ys);yt(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...Du(t||".",{relative:e})},c=nr();if(t==null){l.search=c.search;let d=new URLSearchParams(l.search),f=d.getAll("index");if(f.some(v=>v==="")){d.delete("index"),f.filter(b=>b).forEach(b=>d.append("index",b));let v=d.toString();l.search=v?`?${v}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Ki([n,l.pathname])),mu(l)}function HD(t,{relative:e}={}){let n=R.useContext(oS);yt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=yS("useViewTransitionState"),a=Du(t,{relative:e});if(!n.isTransitioning)return!1;let l=Qi(n.currentLocation.pathname,i)||n.currentLocation.pathname,c=Qi(n.nextLocation.pathname,i)||n.nextLocation.pathname;return lf(a.pathname,c)!=null||lf(a.pathname,l)!=null}const wy=R.createContext({});function Ty(t){const e=R.useRef(null);return e.current===null&&(e.current=t()),e.current}const vS=typeof window<"u",bS=vS?R.useLayoutEffect:R.useEffect,qf=R.createContext(null);function Ey(t,e){t.indexOf(e)===-1&&t.push(e)}function cf(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const gi=(t,e,n)=>n>e?e:n<t?t:n;let Sy=()=>{};const Xi={},xS=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function _S(t){return typeof t=="object"&&t!==null}const wS=t=>/^0[^.\s]+$/u.test(t);function Ay(t){let e;return()=>(e===void 0&&(e=t()),e)}const ms=t=>t,qD=(t,e)=>n=>e(t(n)),ju=(...t)=>t.reduce(qD),pu=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};class Cy{constructor(){this.subscriptions=[]}add(e){return Ey(this.subscriptions,e),()=>cf(this.subscriptions,e)}notify(e,n,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,i);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ms=t=>t*1e3,fs=t=>t/1e3;function TS(t,e){return e?t*(1e3/e):0}const ES=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,GD=1e-7,$D=12;function KD(t,e,n,i,a){let l,c,d=0;do c=e+(n-e)/2,l=ES(c,i,a)-t,l>0?n=c:e=c;while(Math.abs(l)>GD&&++d<$D);return c}function Mu(t,e,n,i){if(t===e&&n===i)return ms;const a=l=>KD(l,0,1,t,n);return l=>l===0||l===1?l:ES(a(l),e,i)}const SS=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,AS=t=>e=>1-t(1-e),CS=Mu(.33,1.53,.69,.99),ky=AS(CS),kS=SS(ky),RS=t=>(t*=2)<1?.5*ky(t):.5*(2-Math.pow(2,-10*(t-1))),Ry=t=>1-Math.sin(Math.acos(t)),NS=AS(Ry),IS=SS(Ry),YD=Mu(.42,0,1,1),QD=Mu(0,0,.58,1),DS=Mu(.42,0,.58,1),XD=t=>Array.isArray(t)&&typeof t[0]!="number",jS=t=>Array.isArray(t)&&typeof t[0]=="number",WD={linear:ms,easeIn:YD,easeInOut:DS,easeOut:QD,circIn:Ry,circInOut:IS,circOut:NS,backIn:ky,backInOut:kS,backOut:CS,anticipate:RS},JD=t=>typeof t=="string",G1=t=>{if(jS(t)){Sy(t.length===4);const[e,n,i,a]=t;return Mu(e,n,i,a)}else if(JD(t))return WD[t];return t},Sd=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function ZD(t,e){let n=new Set,i=new Set,a=!1,l=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function f(v){c.has(v)&&(p.schedule(v),t()),v(d)}const p={schedule:(v,b=!1,w=!1)=>{const D=w&&a?n:i;return b&&c.add(v),D.has(v)||D.add(v),v},cancel:v=>{i.delete(v),c.delete(v)},process:v=>{if(d=v,a){l=!0;return}a=!0,[n,i]=[i,n],n.forEach(f),n.clear(),a=!1,l&&(l=!1,p.process(v))}};return p}const e4=40;function MS(t,e){let n=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=Sd.reduce((G,te)=>(G[te]=ZD(l),G),{}),{setup:d,read:f,resolveKeyframes:p,preUpdate:v,update:b,preRender:w,render:S,postRender:D}=c,O=()=>{const G=Xi.useManualTiming?a.timestamp:performance.now();n=!1,Xi.useManualTiming||(a.delta=i?1e3/60:Math.max(Math.min(G-a.timestamp,e4),1)),a.timestamp=G,a.isProcessing=!0,d.process(a),f.process(a),p.process(a),v.process(a),b.process(a),w.process(a),S.process(a),D.process(a),a.isProcessing=!1,n&&e&&(i=!1,t(O))},V=()=>{n=!0,i=!0,a.isProcessing||t(O)};return{schedule:Sd.reduce((G,te)=>{const re=c[te];return G[te]=(he,j=!1,E=!1)=>(n||V(),re.schedule(he,j,E)),G},{}),cancel:G=>{for(let te=0;te<Sd.length;te++)c[Sd[te]].cancel(G)},state:a,steps:c}}const{schedule:ht,cancel:Xr,state:un,steps:kg}=MS(typeof requestAnimationFrame<"u"?requestAnimationFrame:ms,!0);let qd;function t4(){qd=void 0}const Sn={now:()=>(qd===void 0&&Sn.set(un.isProcessing||Xi.useManualTiming?un.timestamp:performance.now()),qd),set:t=>{qd=t,queueMicrotask(t4)}},VS=t=>e=>typeof e=="string"&&e.startsWith(t),OS=VS("--"),n4=VS("var(--"),Ny=t=>n4(t)?s4.test(t.split("/*")[0].trim()):!1,s4=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function $1(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const Rl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},gu={...Rl,transform:t=>gi(0,1,t)},Ad={...Rl,default:1},nu=t=>Math.round(t*1e5)/1e5,Iy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function i4(t){return t==null}const r4=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Dy=(t,e)=>n=>!!(typeof n=="string"&&r4.test(n)&&n.startsWith(t)||e&&!i4(n)&&Object.prototype.hasOwnProperty.call(n,e)),PS=(t,e,n)=>i=>{if(typeof i!="string")return i;const[a,l,c,d]=i.match(Iy);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},a4=t=>gi(0,255,t),Rg={...Rl,transform:t=>Math.round(a4(t))},Ha={test:Dy("rgb","red"),parse:PS("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+Rg.transform(t)+", "+Rg.transform(e)+", "+Rg.transform(n)+", "+nu(gu.transform(i))+")"};function o4(t){let e="",n="",i="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,i+=i,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const p0={test:Dy("#"),parse:o4,transform:Ha.transform},Vu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ur=Vu("deg"),ui=Vu("%"),be=Vu("px"),l4=Vu("vh"),c4=Vu("vw"),K1={...ui,parse:t=>ui.parse(t)/100,transform:t=>ui.transform(t*100)},rl={test:Dy("hsl","hue"),parse:PS("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+ui.transform(nu(e))+", "+ui.transform(nu(n))+", "+nu(gu.transform(i))+")"},Ht={test:t=>Ha.test(t)||p0.test(t)||rl.test(t),parse:t=>Ha.test(t)?Ha.parse(t):rl.test(t)?rl.parse(t):p0.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ha.transform(t):rl.transform(t),getAnimatableNone:t=>{const e=Ht.parse(t);return e.alpha=0,Ht.transform(e)}},u4=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function h4(t){return isNaN(t)&&typeof t=="string"&&(t.match(Iy)?.length||0)+(t.match(u4)?.length||0)>0}const LS="number",US="color",d4="var",f4="var(",Y1="${}",m4=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function yu(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},a=[];let l=0;const d=e.replace(m4,f=>(Ht.test(f)?(i.color.push(l),a.push(US),n.push(Ht.parse(f))):f.startsWith(f4)?(i.var.push(l),a.push(d4),n.push(f)):(i.number.push(l),a.push(LS),n.push(parseFloat(f))),++l,Y1)).split(Y1);return{values:n,split:d,indexes:i,types:a}}function zS(t){return yu(t).values}function BS(t){const{split:e,types:n}=yu(t),i=e.length;return a=>{let l="";for(let c=0;c<i;c++)if(l+=e[c],a[c]!==void 0){const d=n[c];d===LS?l+=nu(a[c]):d===US?l+=Ht.transform(a[c]):l+=a[c]}return l}}const p4=t=>typeof t=="number"?0:Ht.test(t)?Ht.getAnimatableNone(t):t;function g4(t){const e=zS(t);return BS(t)(e.map(p4))}const Wr={test:h4,parse:zS,createTransformer:BS,getAnimatableNone:g4};function Ng(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function y4({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let a=0,l=0,c=0;if(!e)a=l=c=n;else{const d=n<.5?n*(1+e):n+e-n*e,f=2*n-d;a=Ng(f,d,t+1/3),l=Ng(f,d,t),c=Ng(f,d,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:i}}function uf(t,e){return n=>n>0?e:t}const vt=(t,e,n)=>t+(e-t)*n,Ig=(t,e,n)=>{const i=t*t,a=n*(e*e-i)+i;return a<0?0:Math.sqrt(a)},v4=[p0,Ha,rl],b4=t=>v4.find(e=>e.test(t));function Q1(t){const e=b4(t);if(!e)return!1;let n=e.parse(t);return e===rl&&(n=y4(n)),n}const X1=(t,e)=>{const n=Q1(t),i=Q1(e);if(!n||!i)return uf(t,e);const a={...n};return l=>(a.red=Ig(n.red,i.red,l),a.green=Ig(n.green,i.green,l),a.blue=Ig(n.blue,i.blue,l),a.alpha=vt(n.alpha,i.alpha,l),Ha.transform(a))},g0=new Set(["none","hidden"]);function x4(t,e){return g0.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function _4(t,e){return n=>vt(t,e,n)}function jy(t){return typeof t=="number"?_4:typeof t=="string"?Ny(t)?uf:Ht.test(t)?X1:E4:Array.isArray(t)?FS:typeof t=="object"?Ht.test(t)?X1:w4:uf}function FS(t,e){const n=[...t],i=n.length,a=t.map((l,c)=>jy(l)(l,e[c]));return l=>{for(let c=0;c<i;c++)n[c]=a[c](l);return n}}function w4(t,e){const n={...t,...e},i={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(i[a]=jy(t[a])(t[a],e[a]));return a=>{for(const l in i)n[l]=i[l](a);return n}}function T4(t,e){const n=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],c=t.indexes[l][i[l]],d=t.values[c]??0;n[a]=d,i[l]++}return n}const E4=(t,e)=>{const n=Wr.createTransformer(e),i=yu(t),a=yu(e);return i.indexes.var.length===a.indexes.var.length&&i.indexes.color.length===a.indexes.color.length&&i.indexes.number.length>=a.indexes.number.length?g0.has(t)&&!a.values.length||g0.has(e)&&!i.values.length?x4(t,e):ju(FS(T4(i,a),a.values),n):uf(t,e)};function HS(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?vt(t,e,n):jy(t)(t,e)}const S4=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>ht.update(e,n),stop:()=>Xr(e),now:()=>un.isProcessing?un.timestamp:Sn.now()}},qS=(t,e,n=10)=>{let i="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)i+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},hf=2e4;function My(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<hf;)e+=n,i=t.next(e);return e>=hf?1/0:e}function A4(t,e=100,n){const i=n({...t,keyframes:[0,e]}),a=Math.min(My(i),hf);return{type:"keyframes",ease:l=>i.next(a*l).value/e,duration:fs(a)}}const C4=5;function GS(t,e,n){const i=Math.max(e-C4,0);return TS(n-t(i),e-i)}const Tt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Dg=.001;function k4({duration:t=Tt.duration,bounce:e=Tt.bounce,velocity:n=Tt.velocity,mass:i=Tt.mass}){let a,l,c=1-e;c=gi(Tt.minDamping,Tt.maxDamping,c),t=gi(Tt.minDuration,Tt.maxDuration,fs(t)),c<1?(a=p=>{const v=p*c,b=v*t,w=v-n,S=y0(p,c),D=Math.exp(-b);return Dg-w/S*D},l=p=>{const b=p*c*t,w=b*n+n,S=Math.pow(c,2)*Math.pow(p,2)*t,D=Math.exp(-b),O=y0(Math.pow(p,2),c);return(-a(p)+Dg>0?-1:1)*((w-S)*D)/O}):(a=p=>{const v=Math.exp(-p*t),b=(p-n)*t+1;return-Dg+v*b},l=p=>{const v=Math.exp(-p*t),b=(n-p)*(t*t);return v*b});const d=5/t,f=N4(a,l,d);if(t=Ms(t),isNaN(f))return{stiffness:Tt.stiffness,damping:Tt.damping,duration:t};{const p=Math.pow(f,2)*i;return{stiffness:p,damping:c*2*Math.sqrt(i*p),duration:t}}}const R4=12;function N4(t,e,n){let i=n;for(let a=1;a<R4;a++)i=i-t(i)/e(i);return i}function y0(t,e){return t*Math.sqrt(1-e*e)}const I4=["duration","bounce"],D4=["stiffness","damping","mass"];function W1(t,e){return e.some(n=>t[n]!==void 0)}function j4(t){let e={velocity:Tt.velocity,stiffness:Tt.stiffness,damping:Tt.damping,mass:Tt.mass,isResolvedFromDuration:!1,...t};if(!W1(t,D4)&&W1(t,I4))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),a=i*i,l=2*gi(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:Tt.mass,stiffness:a,damping:l}}else{const n=k4(t);e={...e,...n,mass:Tt.mass},e.isResolvedFromDuration=!0}return e}function df(t=Tt.visualDuration,e=Tt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],d={done:!1,value:l},{stiffness:f,damping:p,mass:v,duration:b,velocity:w,isResolvedFromDuration:S}=j4({...n,velocity:-fs(n.velocity||0)}),D=w||0,O=p/(2*Math.sqrt(f*v)),V=c-l,z=fs(Math.sqrt(f/v)),F=Math.abs(V)<5;i||(i=F?Tt.restSpeed.granular:Tt.restSpeed.default),a||(a=F?Tt.restDelta.granular:Tt.restDelta.default);let G;if(O<1){const re=y0(z,O);G=he=>{const j=Math.exp(-O*z*he);return c-j*((D+O*z*V)/re*Math.sin(re*he)+V*Math.cos(re*he))}}else if(O===1)G=re=>c-Math.exp(-z*re)*(V+(D+z*V)*re);else{const re=z*Math.sqrt(O*O-1);G=he=>{const j=Math.exp(-O*z*he),E=Math.min(re*he,300);return c-j*((D+O*z*V)*Math.sinh(E)+re*V*Math.cosh(E))/re}}const te={calculatedDuration:S&&b||null,next:re=>{const he=G(re);if(S)d.done=re>=b;else{let j=re===0?D:0;O<1&&(j=re===0?Ms(D):GS(G,re,he));const E=Math.abs(j)<=i,C=Math.abs(c-he)<=a;d.done=E&&C}return d.value=d.done?c:he,d},toString:()=>{const re=Math.min(My(te),hf),he=qS(j=>te.next(re*j).value,re,30);return re+"ms "+he},toTransition:()=>{}};return te}df.applyToOptions=t=>{const e=A4(t,100,df);return t.ease=e.ease,t.duration=Ms(e.duration),t.type="keyframes",t};function v0({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:d,max:f,restDelta:p=.5,restSpeed:v}){const b=t[0],w={done:!1,value:b},S=E=>d!==void 0&&E<d||f!==void 0&&E>f,D=E=>d===void 0?f:f===void 0||Math.abs(d-E)<Math.abs(f-E)?d:f;let O=n*e;const V=b+O,z=c===void 0?V:c(V);z!==V&&(O=z-b);const F=E=>-O*Math.exp(-E/i),G=E=>z+F(E),te=E=>{const C=F(E),M=G(E);w.done=Math.abs(C)<=p,w.value=w.done?z:M};let re,he;const j=E=>{S(w.value)&&(re=E,he=df({keyframes:[w.value,D(w.value)],velocity:GS(G,E,w.value),damping:a,stiffness:l,restDelta:p,restSpeed:v}))};return j(0),{calculatedDuration:null,next:E=>{let C=!1;return!he&&re===void 0&&(C=!0,te(E),j(E)),re!==void 0&&E>=re?he.next(E-re):(!C&&te(E),w)}}}function M4(t,e,n){const i=[],a=n||Xi.mix||HS,l=t.length-1;for(let c=0;c<l;c++){let d=a(t[c],t[c+1]);if(e){const f=Array.isArray(e)?e[c]||ms:e;d=ju(f,d)}i.push(d)}return i}function V4(t,e,{clamp:n=!0,ease:i,mixer:a}={}){const l=t.length;if(Sy(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=M4(e,i,a),f=d.length,p=v=>{if(c&&v<t[0])return e[0];let b=0;if(f>1)for(;b<t.length-2&&!(v<t[b+1]);b++);const w=pu(t[b],t[b+1],v);return d[b](w)};return n?v=>p(gi(t[0],t[l-1],v)):p}function O4(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const a=pu(0,e,i);t.push(vt(n,1,a))}}function P4(t){const e=[0];return O4(e,t.length-1),e}function L4(t,e){return t.map(n=>n*e)}function U4(t,e){return t.map(()=>e||DS).splice(0,t.length-1)}function su({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const a=XD(i)?i.map(G1):G1(i),l={done:!1,value:e[0]},c=L4(n&&n.length===e.length?n:P4(e),t),d=V4(c,e,{ease:Array.isArray(a)?a:U4(e,a)});return{calculatedDuration:t,next:f=>(l.value=d(f),l.done=f>=t,l)}}const z4=t=>t!==null;function Vy(t,{repeat:e,repeatType:n="loop"},i,a=1){const l=t.filter(z4),d=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!d||i===void 0?l[d]:i}const B4={decay:v0,inertia:v0,tween:su,keyframes:su,spring:df};function $S(t){typeof t.type=="string"&&(t.type=B4[t.type])}class Oy{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const F4=t=>t/100;class Py extends Oy{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Sn.now()&&this.tick(Sn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;$S(e);const{type:n=su,repeat:i=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=e;let{keyframes:d}=e;const f=n||su;f!==su&&typeof d[0]!="number"&&(this.mixKeyframes=ju(F4,HS(d[0],d[1])),d=[0,100]);const p=f({...e,keyframes:d});l==="mirror"&&(this.mirroredGenerator=f({...e,keyframes:[...d].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=My(p));const{calculatedDuration:v}=p;this.calculatedDuration=v,this.resolvedDuration=v+a,this.totalDuration=this.resolvedDuration*(i+1)-a,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:i,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:f}=this;if(this.startTime===null)return i.next(0);const{delay:p=0,keyframes:v,repeat:b,repeatType:w,repeatDelay:S,type:D,onUpdate:O,finalKeyframe:V}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const z=this.currentTime-p*(this.playbackSpeed>=0?1:-1),F=this.playbackSpeed>=0?z<0:z>a;this.currentTime=Math.max(z,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let G=this.currentTime,te=i;if(b){const E=Math.min(this.currentTime,a)/d;let C=Math.floor(E),M=E%1;!M&&E>=1&&(M=1),M===1&&C--,C=Math.min(C,b+1),C%2&&(w==="reverse"?(M=1-M,S&&(M-=S/d)):w==="mirror"&&(te=c)),G=gi(0,1,M)*d}const re=F?{done:!1,value:v[0]}:te.next(G);l&&(re.value=l(re.value));let{done:he}=re;!F&&f!==null&&(he=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const j=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&he);return j&&D!==v0&&(re.value=Vy(v,this.options,V,this.speed)),O&&O(re.value),j&&this.finish(),re}then(e,n){return this.finished.then(e,n)}get duration(){return fs(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+fs(e)}get time(){return fs(this.currentTime)}set time(e){e=Ms(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Sn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=fs(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=S4,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Sn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function H4(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const qa=t=>t*180/Math.PI,b0=t=>{const e=qa(Math.atan2(t[1],t[0]));return x0(e)},q4={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:b0,rotateZ:b0,skewX:t=>qa(Math.atan(t[1])),skewY:t=>qa(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},x0=t=>(t=t%360,t<0&&(t+=360),t),J1=b0,Z1=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),ew=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),G4={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Z1,scaleY:ew,scale:t=>(Z1(t)+ew(t))/2,rotateX:t=>x0(qa(Math.atan2(t[6],t[5]))),rotateY:t=>x0(qa(Math.atan2(-t[2],t[0]))),rotateZ:J1,rotate:J1,skewX:t=>qa(Math.atan(t[4])),skewY:t=>qa(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function _0(t){return t.includes("scale")?1:0}function w0(t,e){if(!t||t==="none")return _0(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,a;if(n)i=G4,a=n;else{const d=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=q4,a=d}if(!a)return _0(e);const l=i[e],c=a[1].split(",").map(K4);return typeof l=="function"?l(c):c[l]}const $4=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return w0(n,e)};function K4(t){return parseFloat(t.trim())}const Nl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Il=new Set(Nl),tw=t=>t===Rl||t===be,Y4=new Set(["x","y","z"]),Q4=Nl.filter(t=>!Y4.has(t));function X4(t){const e=[];return Q4.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const qr={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>w0(e,"x"),y:(t,{transform:e})=>w0(e,"y")};qr.translateX=qr.x;qr.translateY=qr.y;const Ka=new Set;let T0=!1,E0=!1,S0=!1;function KS(){if(E0){const t=Array.from(Ka).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const a=X4(i);a.length&&(n.set(i,a),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const a=n.get(i);a&&a.forEach(([l,c])=>{i.getValue(l)?.set(c)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}E0=!1,T0=!1,Ka.forEach(t=>t.complete(S0)),Ka.clear()}function YS(){Ka.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(E0=!0)})}function W4(){S0=!0,YS(),KS(),S0=!1}class Ly{constructor(e,n,i,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Ka.add(this),T0||(T0=!0,ht.read(YS),ht.resolveKeyframes(KS))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:a}=this;if(e[0]===null){const l=a?.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(i&&n){const d=i.readValue(n,c);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=c),a&&l===void 0&&a.set(e[0])}H4(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ka.delete(this)}cancel(){this.state==="scheduled"&&(Ka.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const J4=t=>t.startsWith("--");function Z4(t,e,n){J4(e)?t.style.setProperty(e,n):t.style[e]=n}const e5=Ay(()=>window.ScrollTimeline!==void 0),t5={};function n5(t,e){const n=Ay(t);return()=>t5[e]??n()}const QS=n5(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Wc=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,nw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Wc([0,.65,.55,1]),circOut:Wc([.55,0,1,.45]),backIn:Wc([.31,.01,.66,-.59]),backOut:Wc([.33,1.53,.69,.99])};function XS(t,e){if(t)return typeof t=="function"?QS()?qS(t,e):"ease-out":jS(t)?Wc(t):Array.isArray(t)?t.map(n=>XS(n,e)||nw.easeOut):nw[t]}function s5(t,e,n,{delay:i=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:d="easeOut",times:f}={},p=void 0){const v={[e]:n};f&&(v.offset=f);const b=XS(d,a);Array.isArray(b)&&(v.easing=b);const w={delay:i,duration:a,easing:Array.isArray(b)?"linear":b,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return p&&(w.pseudoElement=p),t.animate(v,w)}function WS(t){return typeof t=="function"&&"applyToOptions"in t}function i5({type:t,...e}){return WS(t)&&QS()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class JS extends Oy{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:i,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:d,onComplete:f}=e;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=e,Sy(typeof e.type!="string");const p=i5(e);this.animation=s5(n,i,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const v=Vy(a,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(v):Z4(n,i,v),this.animation.cancel()}f?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){const e=this.options?.element;!this.isPseudoElement&&e?.isConnected&&this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return fs(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+fs(e)}get time(){return fs(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Ms(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&e5()?(this.animation.timeline=e,ms):n(this)}}const ZS={anticipate:RS,backInOut:kS,circInOut:IS};function r5(t){return t in ZS}function a5(t){typeof t.ease=="string"&&r5(t.ease)&&(t.ease=ZS[t.ease])}const jg=10;class o5 extends JS{constructor(e){a5(e),$S(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:i,onComplete:a,element:l,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const d=new Py({...c,autoplay:!1}),f=Math.max(jg,Sn.now()-this.startTime),p=gi(0,jg,f-jg);n.setWithVelocity(d.sample(Math.max(0,f-p)).value,d.sample(f).value,p),d.stop()}}const sw=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Wr.test(t)||t==="0")&&!t.startsWith("url("));function l5(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function c5(t,e,n,i){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=sw(a,e),d=sw(l,e);return!c||!d?!1:l5(t)||(n==="spring"||WS(n))&&i}function A0(t){t.duration=0,t.type="keyframes"}const u5=new Set(["opacity","clipPath","filter","transform"]),h5=Ay(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function d5(t){const{motionValue:e,name:n,repeatDelay:i,repeatType:a,damping:l,type:c}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:p}=e.owner.getProps();return h5()&&n&&u5.has(n)&&(n!=="transform"||!p)&&!f&&!i&&a!=="mirror"&&l!==0&&c!=="inertia"}const f5=40;class m5 extends Oy{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:d,name:f,motionValue:p,element:v,...b}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Sn.now();const w={autoplay:e,delay:n,type:i,repeat:a,repeatDelay:l,repeatType:c,name:f,motionValue:p,element:v,...b},S=v?.KeyframeResolver||Ly;this.keyframeResolver=new S(d,(D,O,V)=>this.onKeyframesResolved(D,O,w,!V),f,p,v),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,i,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:d,delay:f,isHandoff:p,onUpdate:v}=i;this.resolvedAt=Sn.now(),c5(e,l,c,d)||((Xi.instantAnimations||!f)&&v?.(Vy(e,i,n)),e[0]=e[e.length-1],A0(i),i.repeat=0);const w={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>f5?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:e},S=!p&&d5(w),D=w.motionValue?.owner?.current,O=S?new o5({...w,element:D}):new Py(w);O.finished.then(()=>{this.notifyFinished()}).catch(ms),this.pendingTimeline&&(this.stopTimeline=O.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=O}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),W4()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function eA(t,e,n,i=0,a=1){const l=Array.from(t).sort((p,v)=>p.sortNodePosition(v)).indexOf(e),c=t.size,d=(c-1)*i;return typeof n=="function"?n(l,c):a===1?l*i:d-l*i}const p5=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function g5(t){const e=p5.exec(t);if(!e)return[,];const[,n,i,a]=e;return[`--${n??i}`,a]}function tA(t,e,n=1){const[i,a]=g5(t);if(!i)return;const l=window.getComputedStyle(e).getPropertyValue(i);if(l){const c=l.trim();return xS(c)?parseFloat(c):c}return Ny(a)?tA(a,e,n+1):a}const y5={type:"spring",stiffness:500,damping:25,restSpeed:10},v5=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),b5={type:"keyframes",duration:.8},x5={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},_5=(t,{keyframes:e})=>e.length>2?b5:Il.has(t)?t.startsWith("scale")?v5(e[1]):y5:x5,w5=t=>t!==null;function T5(t,{repeat:e,repeatType:n="loop"},i){const a=t.filter(w5),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}function nA(t,e){if(t?.inherit&&e){const{inherit:n,...i}=t;return{...e,...i}}return t}function Uy(t,e){const n=t?.[e]??t?.default??t;return n!==t?nA(n,t):n}function E5({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:d,from:f,elapsed:p,...v}){return!!Object.keys(v).length}const zy=(t,e,n,i={},a,l)=>c=>{const d=Uy(i,t)||{},f=d.delay||i.delay||0;let{elapsed:p=0}=i;p=p-Ms(f);const v={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-p,onUpdate:w=>{e.set(w),d.onUpdate&&d.onUpdate(w)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:l?void 0:a};E5(d)||Object.assign(v,_5(t,v)),v.duration&&(v.duration=Ms(v.duration)),v.repeatDelay&&(v.repeatDelay=Ms(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let b=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(A0(v),v.delay===0&&(b=!0)),(Xi.instantAnimations||Xi.skipAnimations||a?.shouldSkipAnimations)&&(b=!0,A0(v),v.delay=0),v.allowFlatten=!d.type&&!d.ease,b&&!l&&e.get()!==void 0){const w=T5(v.keyframes,d);if(w!==void 0){ht.update(()=>{v.onUpdate(w),v.onComplete()});return}}return d.isSync?new Py(v):new m5(v)};function iw(t){const e=[{},{}];return t?.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function By(t,e,n,i){if(typeof e=="function"){const[a,l]=iw(i);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=iw(i);e=e(n!==void 0?n:t.custom,a,l)}return e}function ul(t,e,n){const i=t.getProps();return By(i,e,n!==void 0?n:i.custom,t)}const sA=new Set(["width","height","top","left","right","bottom",...Nl]),rw=30,S5=t=>!isNaN(parseFloat(t));class A5{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const a=Sn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Sn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=S5(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Cy);const i=this.events[e].add(n);return e==="change"?()=>{i(),ht.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Sn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>rw)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,rw);return TS(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function yl(t,e){return new A5(t,e)}const C0=t=>Array.isArray(t);function C5(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,yl(n))}function k5(t){return C0(t)?t[t.length-1]||0:t}function R5(t,e){const n=ul(t,e);let{transitionEnd:i={},transition:a={},...l}=n||{};l={...l,...i};for(const c in l){const d=k5(l[c]);C5(t,c,d)}}const vn=t=>!!(t&&t.getVelocity);function N5(t){return!!(vn(t)&&t.add)}function k0(t,e){const n=t.getValue("willChange");if(N5(n))return n.add(e);if(!n&&Xi.WillChange){const i=new Xi.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function Fy(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const I5="framerAppearId",iA="data-"+Fy(I5);function rA(t){return t.props[iA]}function D5({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function aA(t,e,{delay:n=0,transitionOverride:i,type:a}={}){let{transition:l,transitionEnd:c,...d}=e;const f=t.getDefaultTransition();l=l?nA(l,f):f;const p=l?.reduceMotion;i&&(l=i);const v=[],b=a&&t.animationState&&t.animationState.getState()[a];for(const w in d){const S=t.getValue(w,t.latestValues[w]??null),D=d[w];if(D===void 0||b&&D5(b,w))continue;const O={delay:n,...Uy(l||{},w)},V=S.get();if(V!==void 0&&!S.isAnimating&&!Array.isArray(D)&&D===V&&!O.velocity)continue;let z=!1;if(window.MotionHandoffAnimation){const te=rA(t);if(te){const re=window.MotionHandoffAnimation(te,w,ht);re!==null&&(O.startTime=re,z=!0)}}k0(t,w);const F=p??t.shouldReduceMotion;S.start(zy(w,S,D,F&&sA.has(w)?{type:!1}:O,t,z));const G=S.animation;G&&v.push(G)}if(c){const w=()=>ht.update(()=>{c&&R5(t,c)});v.length?Promise.all(v).then(w):w()}return v}function R0(t,e,n={}){const i=ul(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(a=n.transitionOverride);const l=i?()=>Promise.all(aA(t,i,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(f=0)=>{const{delayChildren:p=0,staggerChildren:v,staggerDirection:b}=a;return j5(t,e,f,p,v,b,n)}:()=>Promise.resolve(),{when:d}=a;if(d){const[f,p]=d==="beforeChildren"?[l,c]:[c,l];return f().then(()=>p())}else return Promise.all([l(),c(n.delay)])}function j5(t,e,n=0,i=0,a=0,l=1,c){const d=[];for(const f of t.variantChildren)f.notify("AnimationStart",e),d.push(R0(f,e,{...c,delay:n+(typeof i=="function"?0:i)+eA(t.variantChildren,f,i,a,l)}).then(()=>f.notify("AnimationComplete",e)));return Promise.all(d)}function M5(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const a=e.map(l=>R0(t,l,n));i=Promise.all(a)}else if(typeof e=="string")i=R0(t,e,n);else{const a=typeof e=="function"?ul(t,e,n.custom):e;i=Promise.all(aA(t,a,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}const V5={test:t=>t==="auto",parse:t=>t},oA=t=>e=>e.test(t),lA=[Rl,be,ui,Ur,c4,l4,V5],aw=t=>lA.find(oA(t));function O5(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||wS(t):!0}const P5=new Set(["brightness","contrast","saturate","opacity"]);function L5(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(Iy)||[];if(!i)return t;const a=n.replace(i,"");let l=P5.has(e)?1:0;return i!==n&&(l*=100),e+"("+l+a+")"}const U5=/\b([a-z-]*)\(.*?\)/gu,N0={...Wr,getAnimatableNone:t=>{const e=t.match(U5);return e?e.map(L5).join(" "):t}},ow={...Rl,transform:Math.round},z5={rotate:Ur,rotateX:Ur,rotateY:Ur,rotateZ:Ur,scale:Ad,scaleX:Ad,scaleY:Ad,scaleZ:Ad,skew:Ur,skewX:Ur,skewY:Ur,distance:be,translateX:be,translateY:be,translateZ:be,x:be,y:be,z:be,perspective:be,transformPerspective:be,opacity:gu,originX:K1,originY:K1,originZ:be},Hy={borderWidth:be,borderTopWidth:be,borderRightWidth:be,borderBottomWidth:be,borderLeftWidth:be,borderRadius:be,borderTopLeftRadius:be,borderTopRightRadius:be,borderBottomRightRadius:be,borderBottomLeftRadius:be,width:be,maxWidth:be,height:be,maxHeight:be,top:be,right:be,bottom:be,left:be,inset:be,insetBlock:be,insetBlockStart:be,insetBlockEnd:be,insetInline:be,insetInlineStart:be,insetInlineEnd:be,padding:be,paddingTop:be,paddingRight:be,paddingBottom:be,paddingLeft:be,paddingBlock:be,paddingBlockStart:be,paddingBlockEnd:be,paddingInline:be,paddingInlineStart:be,paddingInlineEnd:be,margin:be,marginTop:be,marginRight:be,marginBottom:be,marginLeft:be,marginBlock:be,marginBlockStart:be,marginBlockEnd:be,marginInline:be,marginInlineStart:be,marginInlineEnd:be,fontSize:be,backgroundPositionX:be,backgroundPositionY:be,...z5,zIndex:ow,fillOpacity:gu,strokeOpacity:gu,numOctaves:ow},B5={...Hy,color:Ht,backgroundColor:Ht,outlineColor:Ht,fill:Ht,stroke:Ht,borderColor:Ht,borderTopColor:Ht,borderRightColor:Ht,borderBottomColor:Ht,borderLeftColor:Ht,filter:N0,WebkitFilter:N0},cA=t=>B5[t];function uA(t,e){let n=cA(t);return n!==N0&&(n=Wr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const F5=new Set(["auto","none","0"]);function H5(t,e,n){let i=0,a;for(;i<t.length&&!a;){const l=t[i];typeof l=="string"&&!F5.has(l)&&yu(l).values.length&&(a=t[i]),i++}if(a&&n)for(const l of e)t[l]=uA(n,a)}class q5 extends Ly{constructor(e,n,i,a,l){super(e,n,i,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let v=0;v<e.length;v++){let b=e[v];if(typeof b=="string"&&(b=b.trim(),Ny(b))){const w=tA(b,n.current);w!==void 0&&(e[v]=w),v===e.length-1&&(this.finalKeyframe=b)}}if(this.resolveNoneKeyframes(),!sA.has(i)||e.length!==2)return;const[a,l]=e,c=aw(a),d=aw(l),f=$1(a),p=$1(l);if(f!==p&&qr[i]){this.needsMeasurement=!0;return}if(c!==d)if(tw(c)&&tw(d))for(let v=0;v<e.length;v++){const b=e[v];typeof b=="string"&&(e[v]=parseFloat(b))}else qr[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let a=0;a<e.length;a++)(e[a]===null||O5(e[a]))&&i.push(a);i.length&&H5(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=qr[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(i,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=i.length-1,c=i[l];i[l]=qr[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,f])=>{e.getValue(d).set(f)}),this.resolveNoneKeyframes()}}const G5=new Set(["opacity","clipPath","filter","transform"]);function hA(t,e,n){if(t==null)return[];if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const a=n?.[t]??i.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t).filter(i=>i!=null)}const dA=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function I0(t){return _S(t)&&"offsetHeight"in t}const{schedule:qy}=MS(queueMicrotask,!1),Ds={x:!1,y:!1};function fA(){return Ds.x||Ds.y}function $5(t){return t==="x"||t==="y"?Ds[t]?null:(Ds[t]=!0,()=>{Ds[t]=!1}):Ds.x||Ds.y?null:(Ds.x=Ds.y=!0,()=>{Ds.x=Ds.y=!1})}function mA(t,e){const n=hA(t),i=new AbortController,a={passive:!0,...e,signal:i.signal};return[n,a,()=>i.abort()]}function K5(t){return!(t.pointerType==="touch"||fA())}function Y5(t,e,n={}){const[i,a,l]=mA(t,n);return i.forEach(c=>{let d=!1,f=!1,p;const v=()=>{c.removeEventListener("pointerleave",D)},b=V=>{p&&(p(V),p=void 0),v()},w=V=>{d=!1,window.removeEventListener("pointerup",w),window.removeEventListener("pointercancel",w),f&&(f=!1,b(V))},S=()=>{d=!0,window.addEventListener("pointerup",w,a),window.addEventListener("pointercancel",w,a)},D=V=>{if(V.pointerType!=="touch"){if(d){f=!0;return}b(V)}},O=V=>{if(!K5(V))return;f=!1;const z=e(c,V);typeof z=="function"&&(p=z,c.addEventListener("pointerleave",D,a))};c.addEventListener("pointerenter",O,a),c.addEventListener("pointerdown",S,a)}),l}const pA=(t,e)=>e?t===e?!0:pA(t,e.parentElement):!1,Gy=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Q5=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function X5(t){return Q5.has(t.tagName)||t.isContentEditable===!0}const W5=new Set(["INPUT","SELECT","TEXTAREA"]);function J5(t){return W5.has(t.tagName)||t.isContentEditable===!0}const Gd=new WeakSet;function lw(t){return e=>{e.key==="Enter"&&t(e)}}function Mg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Z5=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=lw(()=>{if(Gd.has(n))return;Mg(n,"down");const a=lw(()=>{Mg(n,"up")}),l=()=>Mg(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function cw(t){return Gy(t)&&!fA()}const uw=new WeakSet;function ej(t,e,n={}){const[i,a,l]=mA(t,n),c=d=>{const f=d.currentTarget;if(!cw(d)||uw.has(d))return;Gd.add(f),n.stopPropagation&&uw.add(d);const p=e(f,d),v=(S,D)=>{window.removeEventListener("pointerup",b),window.removeEventListener("pointercancel",w),Gd.has(f)&&Gd.delete(f),cw(S)&&typeof p=="function"&&p(S,{success:D})},b=S=>{v(S,f===window||f===document||n.useGlobalTarget||pA(f,S.target))},w=S=>{v(S,!1)};window.addEventListener("pointerup",b,a),window.addEventListener("pointercancel",w,a)};return i.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",c,a),I0(d)&&(d.addEventListener("focus",p=>Z5(p,a)),!X5(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}function $y(t){return _S(t)&&"ownerSVGElement"in t}const $d=new WeakMap;let Kd;const gA=(t,e,n)=>(i,a)=>a&&a[0]?a[0][t+"Size"]:$y(i)&&"getBBox"in i?i.getBBox()[e]:i[n],tj=gA("inline","width","offsetWidth"),nj=gA("block","height","offsetHeight");function sj({target:t,borderBoxSize:e}){$d.get(t)?.forEach(n=>{n(t,{get width(){return tj(t,e)},get height(){return nj(t,e)}})})}function ij(t){t.forEach(sj)}function rj(){typeof ResizeObserver>"u"||(Kd=new ResizeObserver(ij))}function aj(t,e){Kd||rj();const n=hA(t);return n.forEach(i=>{let a=$d.get(i);a||(a=new Set,$d.set(i,a)),a.add(e),Kd?.observe(i)}),()=>{n.forEach(i=>{const a=$d.get(i);a?.delete(e),a?.size||Kd?.unobserve(i)})}}const Yd=new Set;let al;function oj(){al=()=>{const t={get width(){return window.innerWidth},get height(){return window.innerHeight}};Yd.forEach(e=>e(t))},window.addEventListener("resize",al)}function lj(t){return Yd.add(t),al||oj(),()=>{Yd.delete(t),!Yd.size&&typeof al=="function"&&(window.removeEventListener("resize",al),al=void 0)}}function hw(t,e){return typeof t=="function"?lj(t):aj(t,e)}function cj(t){return $y(t)&&t.tagName==="svg"}const uj=[...lA,Ht,Wr],hj=t=>uj.find(oA(t)),dw=()=>({translate:0,scale:1,origin:0,originPoint:0}),ol=()=>({x:dw(),y:dw()}),fw=()=>({min:0,max:0}),Qt=()=>({x:fw(),y:fw()}),dj=new WeakMap;function Gf(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function vu(t){return typeof t=="string"||Array.isArray(t)}const Ky=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Yy=["initial",...Ky];function $f(t){return Gf(t.animate)||Yy.some(e=>vu(t[e]))}function yA(t){return!!($f(t)||t.variants)}function fj(t,e,n){for(const i in e){const a=e[i],l=n[i];if(vn(a))t.addValue(i,a);else if(vn(l))t.addValue(i,yl(a,{owner:t}));else if(l!==a)if(t.hasValue(i)){const c=t.getValue(i);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=t.getStaticValue(i);t.addValue(i,yl(c!==void 0?c:a,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const D0={current:null},vA={current:!1},mj=typeof window<"u";function pj(){if(vA.current=!0,!!mj)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>D0.current=t.matches;t.addEventListener("change",e),e()}else D0.current=!1}const mw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let ff={};function bA(t){ff=t}function gj(){return ff}class yj{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:a,skipAnimations:l,blockInitialAnimation:c,visualState:d},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=Ly,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const S=Sn.now();this.renderScheduledAt<S&&(this.renderScheduledAt=S,ht.render(this.render,!1,!0))};const{latestValues:p,renderState:v}=d;this.latestValues=p,this.baseTarget={...p},this.initialValues=n.initial?{...p}:{},this.renderState=v,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.skipAnimationsConfig=l,this.options=f,this.blockInitialAnimation=!!c,this.isControllingVariants=$f(n),this.isVariantNode=yA(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:b,...w}=this.scrapeMotionValuesFromProps(n,{},this);for(const S in w){const D=w[S];p[S]!==void 0&&vn(D)&&D.set(p[S])}}mount(e){if(this.hasBeenMounted)for(const n in this.initialValues)this.values.get(n)?.jump(this.initialValues[n]),this.latestValues[n]=this.initialValues[n];this.current=e,dj.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(vA.current||pj(),this.shouldReduceMotion=D0.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,this.parent?.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){this.projection&&this.projection.unmount(),Xr(this.notifyUpdate),Xr(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){if(this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)(),n.accelerate&&G5.has(e)&&this.current instanceof HTMLElement){const{factory:c,keyframes:d,times:f,ease:p,duration:v}=n.accelerate,b=new JS({element:this.current,name:e,keyframes:d,times:f,ease:p,duration:Ms(v)}),w=c(b);this.valueSubscriptions.set(e,()=>{w(),b.cancel()});return}const i=Il.has(e);i&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&ht.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;typeof window<"u"&&window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ff){const n=ff[e];if(!n)continue;const{isEnabled:i,Feature:a}=n;if(!this.features[e]&&a&&i(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Qt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<mw.length;i++){const a=mw[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=e[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=fj(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=yl(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(xS(i)||wS(i))?i=parseFloat(i):!hj(i)&&Wr.test(n)&&(i=uA(e,n)),this.setBaseTarget(e,vn(i)?i.get():i)),vn(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const l=By(this.props,n,this.presenceContext?.custom);l&&(i=l[e])}if(n&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!vn(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Cy),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){qy.render(this.render)}}class xA extends yj{constructor(){super(...arguments),this.KeyframeResolver=q5}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const i=e.style;return i?i[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;vn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class ra{constructor(e){this.isMounted=!1,this.node=e}update(){}}function _A({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function vj({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function bj(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function Vg(t){return t===void 0||t===1}function j0({scale:t,scaleX:e,scaleY:n}){return!Vg(t)||!Vg(e)||!Vg(n)}function Ba(t){return j0(t)||wA(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function wA(t){return pw(t.x)||pw(t.y)}function pw(t){return t&&t!=="0%"}function mf(t,e,n){const i=t-n,a=e*i;return n+a}function gw(t,e,n,i,a){return a!==void 0&&(t=mf(t,a,i)),mf(t,n,i)+e}function M0(t,e=0,n=1,i,a){t.min=gw(t.min,e,n,i,a),t.max=gw(t.max,e,n,i,a)}function TA(t,{x:e,y:n}){M0(t.x,e.translate,e.scale,e.originPoint),M0(t.y,n.translate,n.scale,n.originPoint)}const yw=.999999999999,vw=1.0000000000001;function xj(t,e,n,i=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,c;for(let d=0;d<a;d++){l=n[d],c=l.projectionDelta;const{visualElement:f}=l.options;f&&f.props.style&&f.props.style.display==="contents"||(i&&l.options.layoutScroll&&l.scroll&&l!==l.root&&cl(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,TA(t,c)),i&&Ba(l.latestValues)&&cl(t,l.latestValues))}e.x<vw&&e.x>yw&&(e.x=1),e.y<vw&&e.y>yw&&(e.y=1)}function ll(t,e){t.min=t.min+e,t.max=t.max+e}function bw(t,e,n,i,a=.5){const l=vt(t.min,t.max,a);M0(t,e,n,l,i)}function cl(t,e){bw(t.x,e.x,e.scaleX,e.scale,e.originX),bw(t.y,e.y,e.scaleY,e.scale,e.originY)}function EA(t,e){return _A(bj(t.getBoundingClientRect(),e))}function _j(t,e,n){const i=EA(t,n),{scroll:a}=e;return a&&(ll(i.x,a.offset.x),ll(i.y,a.offset.y)),i}const wj={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Tj=Nl.length;function Ej(t,e,n){let i="",a=!0;for(let l=0;l<Tj;l++){const c=Nl[l],d=t[c];if(d===void 0)continue;let f=!0;if(typeof d=="number")f=d===(c.startsWith("scale")?1:0);else{const p=parseFloat(d);f=c.startsWith("scale")?p===1:p===0}if(!f||n){const p=dA(d,Hy[c]);if(!f){a=!1;const v=wj[c]||c;i+=`${v}(${p}) `}n&&(e[c]=p)}}return i=i.trim(),n?i=n(e,a?"":i):a&&(i="none"),i}function Qy(t,e,n){const{style:i,vars:a,transformOrigin:l}=t;let c=!1,d=!1;for(const f in e){const p=e[f];if(Il.has(f)){c=!0;continue}else if(OS(f)){a[f]=p;continue}else{const v=dA(p,Hy[f]);f.startsWith("origin")?(d=!0,l[f]=v):i[f]=v}}if(e.transform||(c||n?i.transform=Ej(e,t.transform,n):i.transform&&(i.transform="none")),d){const{originX:f="50%",originY:p="50%",originZ:v=0}=l;i.transformOrigin=`${f} ${p} ${v}`}}function SA(t,{style:e,vars:n},i,a){const l=t.style;let c;for(c in e)l[c]=e[c];a?.applyProjectionStyles(l,i);for(c in n)l.setProperty(c,n[c])}function xw(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Kc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(be.test(t))t=parseFloat(t);else return t;const n=xw(t,e.target.x),i=xw(t,e.target.y);return`${n}% ${i}%`}},Sj={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,a=Wr.parse(t);if(a.length>5)return i;const l=Wr.createTransformer(t),c=typeof a[0]!="number"?1:0,d=n.x.scale*e.x,f=n.y.scale*e.y;a[0+c]/=d,a[1+c]/=f;const p=vt(d,f,.5);return typeof a[2+c]=="number"&&(a[2+c]/=p),typeof a[3+c]=="number"&&(a[3+c]/=p),l(a)}},V0={borderRadius:{...Kc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Kc,borderTopRightRadius:Kc,borderBottomLeftRadius:Kc,borderBottomRightRadius:Kc,boxShadow:Sj};function AA(t,{layout:e,layoutId:n}){return Il.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!V0[t]||t==="opacity")}function Xy(t,e,n){const i=t.style,a=e?.style,l={};if(!i)return l;for(const c in i)(vn(i[c])||a&&vn(a[c])||AA(c,t)||n?.getValue(c)?.liveStyle!==void 0)&&(l[c]=i[c]);return l}function Aj(t){return window.getComputedStyle(t)}class Cj extends xA{constructor(){super(...arguments),this.type="html",this.renderInstance=SA}readValueFromInstance(e,n){if(Il.has(n))return this.projection?.isProjecting?_0(n):$4(e,n);{const i=Aj(e),a=(OS(n)?i.getPropertyValue(n):i[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return EA(e,n)}build(e,n,i){Qy(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return Xy(e,n,i)}}const kj={offset:"stroke-dashoffset",array:"stroke-dasharray"},Rj={offset:"strokeDashoffset",array:"strokeDasharray"};function Nj(t,e,n=1,i=0,a=!0){t.pathLength=1;const l=a?kj:Rj;t[l.offset]=`${-i}`,t[l.array]=`${e} ${n}`}const Ij=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function CA(t,{attrX:e,attrY:n,attrScale:i,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...d},f,p,v){if(Qy(t,d,p),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:b,style:w}=t;b.transform&&(w.transform=b.transform,delete b.transform),(w.transform||b.transformOrigin)&&(w.transformOrigin=b.transformOrigin??"50% 50%",delete b.transformOrigin),w.transform&&(w.transformBox=v?.transformBox??"fill-box",delete b.transformBox);for(const S of Ij)b[S]!==void 0&&(w[S]=b[S],delete b[S]);e!==void 0&&(b.x=e),n!==void 0&&(b.y=n),i!==void 0&&(b.scale=i),a!==void 0&&Nj(b,a,l,c,!1)}const kA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),RA=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Dj(t,e,n,i){SA(t,e,void 0,i);for(const a in e.attrs)t.setAttribute(kA.has(a)?a:Fy(a),e.attrs[a])}function NA(t,e,n){const i=Xy(t,e,n);for(const a in t)if(vn(t[a])||vn(e[a])){const l=Nl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[l]=t[a]}return i}class jj extends xA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Qt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Il.has(n)){const i=cA(n);return i&&i.default||0}return n=kA.has(n)?n:Fy(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return NA(e,n,i)}build(e,n,i){CA(e,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,n,i,a){Dj(e,n,i,a)}mount(e){this.isSVGTag=RA(e.tagName),super.mount(e)}}const Mj=Yy.length;function IA(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?IA(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<Mj;n++){const i=Yy[n],a=t.props[i];(vu(a)||a===!1)&&(e[i]=a)}return e}function DA(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const Vj=[...Ky].reverse(),Oj=Ky.length;function Pj(t){return e=>Promise.all(e.map(({animation:n,options:i})=>M5(t,n,i)))}function Lj(t){let e=Pj(t),n=_w(),i=!0;const a=f=>(p,v)=>{const b=ul(t,v,f==="exit"?t.presenceContext?.custom:void 0);if(b){const{transition:w,transitionEnd:S,...D}=b;p={...p,...D,...S}}return p};function l(f){e=f(t)}function c(f){const{props:p}=t,v=IA(t.parent)||{},b=[],w=new Set;let S={},D=1/0;for(let V=0;V<Oj;V++){const z=Vj[V],F=n[z],G=p[z]!==void 0?p[z]:v[z],te=vu(G),re=z===f?F.isActive:null;re===!1&&(D=V);let he=G===v[z]&&G!==p[z]&&te;if(he&&i&&t.manuallyAnimateOnMount&&(he=!1),F.protectedKeys={...S},!F.isActive&&re===null||!G&&!F.prevProp||Gf(G)||typeof G=="boolean")continue;if(z==="exit"&&F.isActive&&re!==!0){F.prevResolvedValues&&(S={...S,...F.prevResolvedValues});continue}const j=Uj(F.prevProp,G);let E=j||z===f&&F.isActive&&!he&&te||V>D&&te,C=!1;const M=Array.isArray(G)?G:[G];let N=M.reduce(a(z),{});re===!1&&(N={});const{prevResolvedValues:P={}}=F,I={...P,...N},xe=Z=>{E=!0,w.has(Z)&&(C=!0,w.delete(Z)),F.needsAnimating[Z]=!0;const $=t.getValue(Z);$&&($.liveStyle=!1)};for(const Z in I){const $=N[Z],me=P[Z];if(S.hasOwnProperty(Z))continue;let _e=!1;C0($)&&C0(me)?_e=!DA($,me):_e=$!==me,_e?$!=null?xe(Z):w.add(Z):$!==void 0&&w.has(Z)?xe(Z):F.protectedKeys[Z]=!0}F.prevProp=G,F.prevResolvedValues=N,F.isActive&&(S={...S,...N}),i&&t.blockInitialAnimation&&(E=!1);const Ee=he&&j;E&&(!Ee||C)&&b.push(...M.map(Z=>{const $={type:z};if(typeof Z=="string"&&i&&!Ee&&t.manuallyAnimateOnMount&&t.parent){const{parent:me}=t,_e=ul(me,Z);if(me.enteringChildren&&_e){const{delayChildren:U}=_e.transition||{};$.delay=eA(me.enteringChildren,t,U)}}return{animation:Z,options:$}}))}if(w.size){const V={};if(typeof p.initial!="boolean"){const z=ul(t,Array.isArray(p.initial)?p.initial[0]:p.initial);z&&z.transition&&(V.transition=z.transition)}w.forEach(z=>{const F=t.getBaseTarget(z),G=t.getValue(z);G&&(G.liveStyle=!0),V[z]=F??null}),b.push({animation:V})}let O=!!b.length;return i&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(O=!1),i=!1,O?e(b):Promise.resolve()}function d(f,p){if(n[f].isActive===p)return Promise.resolve();t.variantChildren?.forEach(b=>b.animationState?.setActive(f,p)),n[f].isActive=p;const v=c(f);for(const b in n)n[b].protectedKeys={};return v}return{animateChanges:c,setActive:d,setAnimateFunction:l,getState:()=>n,reset:()=>{n=_w()}}}function Uj(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!DA(e,t):!1}function Ua(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function _w(){return{animate:Ua(!0),whileInView:Ua(),whileHover:Ua(),whileTap:Ua(),whileDrag:Ua(),whileFocus:Ua(),exit:Ua()}}function ww(t,e){t.min=e.min,t.max=e.max}function Is(t,e){ww(t.x,e.x),ww(t.y,e.y)}function Tw(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}const jA=1e-4,zj=1-jA,Bj=1+jA,MA=.01,Fj=0-MA,Hj=0+MA;function An(t){return t.max-t.min}function qj(t,e,n){return Math.abs(t-e)<=n}function Ew(t,e,n,i=.5){t.origin=i,t.originPoint=vt(e.min,e.max,t.origin),t.scale=An(n)/An(e),t.translate=vt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=zj&&t.scale<=Bj||isNaN(t.scale))&&(t.scale=1),(t.translate>=Fj&&t.translate<=Hj||isNaN(t.translate))&&(t.translate=0)}function iu(t,e,n,i){Ew(t.x,e.x,n.x,i?i.originX:void 0),Ew(t.y,e.y,n.y,i?i.originY:void 0)}function Sw(t,e,n){t.min=n.min+e.min,t.max=t.min+An(e)}function Gj(t,e,n){Sw(t.x,e.x,n.x),Sw(t.y,e.y,n.y)}function Aw(t,e,n){t.min=e.min-n.min,t.max=t.min+An(e)}function pf(t,e,n){Aw(t.x,e.x,n.x),Aw(t.y,e.y,n.y)}function Cw(t,e,n,i,a){return t-=e,t=mf(t,1/n,i),a!==void 0&&(t=mf(t,1/a,i)),t}function $j(t,e=0,n=1,i=.5,a,l=t,c=t){if(ui.test(e)&&(e=parseFloat(e),e=vt(c.min,c.max,e/100)-c.min),typeof e!="number")return;let d=vt(l.min,l.max,i);t===l&&(d-=e),t.min=Cw(t.min,e,n,d,a),t.max=Cw(t.max,e,n,d,a)}function kw(t,e,[n,i,a],l,c){$j(t,e[n],e[i],e[a],e.scale,l,c)}const Kj=["x","scaleX","originX"],Yj=["y","scaleY","originY"];function Rw(t,e,n,i){kw(t.x,e,Kj,n?n.x:void 0,i?i.x:void 0),kw(t.y,e,Yj,n?n.y:void 0,i?i.y:void 0)}function Nw(t){return t.translate===0&&t.scale===1}function VA(t){return Nw(t.x)&&Nw(t.y)}function Iw(t,e){return t.min===e.min&&t.max===e.max}function Qj(t,e){return Iw(t.x,e.x)&&Iw(t.y,e.y)}function Dw(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function OA(t,e){return Dw(t.x,e.x)&&Dw(t.y,e.y)}function jw(t){return An(t.x)/An(t.y)}function Mw(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function oi(t){return[t("x"),t("y")]}function Xj(t,e,n){let i="";const a=t.x.translate/e.x,l=t.y.translate/e.y,c=n?.z||0;if((a||l||c)&&(i=`translate3d(${a}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:v,rotateX:b,rotateY:w,skewX:S,skewY:D}=n;p&&(i=`perspective(${p}px) ${i}`),v&&(i+=`rotate(${v}deg) `),b&&(i+=`rotateX(${b}deg) `),w&&(i+=`rotateY(${w}deg) `),S&&(i+=`skewX(${S}deg) `),D&&(i+=`skewY(${D}deg) `)}const d=t.x.scale*e.x,f=t.y.scale*e.y;return(d!==1||f!==1)&&(i+=`scale(${d}, ${f})`),i||"none"}const PA=["TopLeft","TopRight","BottomLeft","BottomRight"],Wj=PA.length,Vw=t=>typeof t=="string"?parseFloat(t):t,Ow=t=>typeof t=="number"||be.test(t);function Jj(t,e,n,i,a,l){a?(t.opacity=vt(0,n.opacity??1,Zj(i)),t.opacityExit=vt(e.opacity??1,0,eM(i))):l&&(t.opacity=vt(e.opacity??1,n.opacity??1,i));for(let c=0;c<Wj;c++){const d=`border${PA[c]}Radius`;let f=Pw(e,d),p=Pw(n,d);if(f===void 0&&p===void 0)continue;f||(f=0),p||(p=0),f===0||p===0||Ow(f)===Ow(p)?(t[d]=Math.max(vt(Vw(f),Vw(p),i),0),(ui.test(p)||ui.test(f))&&(t[d]+="%")):t[d]=p}(e.rotate||n.rotate)&&(t.rotate=vt(e.rotate||0,n.rotate||0,i))}function Pw(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Zj=LA(0,.5,NS),eM=LA(.5,.95,ms);function LA(t,e,n){return i=>i<t?0:i>e?1:n(pu(t,e,i))}function tM(t,e,n){const i=vn(t)?t:yl(t);return i.start(zy("",i,e,n)),i.animation}function bu(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}const nM=(t,e)=>t.depth-e.depth;class sM{constructor(){this.children=[],this.isDirty=!1}add(e){Ey(this.children,e),this.isDirty=!0}remove(e){cf(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(nM),this.isDirty=!1,this.children.forEach(e)}}function iM(t,e){const n=Sn.now(),i=({timestamp:a})=>{const l=a-n;l>=e&&(Xr(i),t(l-e))};return ht.setup(i,!0),()=>Xr(i)}function Qd(t){return vn(t)?t.get():t}class rM{constructor(){this.members=[]}add(e){Ey(this.members,e);for(let n=this.members.length-1;n>=0;n--){const i=this.members[n];if(i===e||i===this.lead||i===this.prevLead)continue;const a=i.instance;a&&a.isConnected===!1&&i.isPresent!==!1&&!i.snapshot&&cf(this.members,i)}e.scheduleRender()}remove(e){if(cf(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let i;for(let a=n;a>=0;a--){const l=this.members[a],c=l.instance;if(l.isPresent!==!1&&(!c||c.isConnected!==!1)){i=l;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender();const a=i.options.layoutDependency,l=e.options.layoutDependency;if(!(a!==void 0&&l!==void 0&&a===l)){const f=i.instance;f&&f.isConnected===!1&&!i.snapshot||(e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0))}const{crossfade:d}=e.options;d===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Xd={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Og=["","X","Y","Z"],aM=1e3;let oM=0;function Pg(t,e,n,i){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),i&&(i[t]=0))}function UA(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=rA(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ht,!(a||l))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&UA(i)}function zA({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(c={},d=e?.()){this.id=oM++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(uM),this.nodes.forEach(mM),this.nodes.forEach(pM),this.nodes.forEach(hM)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new sM)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Cy),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const f=this.eventHandlers.get(c);f&&f.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=$y(c)&&!cj(c),this.instance=c;const{layoutId:d,layout:f,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||d)&&(this.isLayoutDirty=!0),t){let v,b=0;const w=()=>this.root.updateBlockedByResize=!1;ht.read(()=>{b=window.innerWidth}),t(c,()=>{const S=window.innerWidth;S!==b&&(b=S,this.root.updateBlockedByResize=!0,v&&v(),v=iM(w,250),Xd.hasAnimatedSinceResize&&(Xd.hasAnimatedSinceResize=!1,this.nodes.forEach(zw)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&p&&(d||f)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:b,hasRelativeLayoutChanged:w,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const D=this.options.transition||p.getDefaultTransition()||xM,{onLayoutAnimationStart:O,onLayoutAnimationComplete:V}=p.getProps(),z=!this.targetLayout||!OA(this.targetLayout,S),F=!b&&w;if(this.options.layoutRoot||this.resumeFrom||F||b&&(z||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const G={...Uy(D,"layout"),onPlay:O,onComplete:V};(p.shouldReduceMotion||this.options.layoutRoot)&&(G.delay=0,G.type=!1),this.startAnimation(G),this.setAnimationOrigin(v,F)}else b||zw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Xr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(gM),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&UA(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const b=this.path[v];b.shouldResetTransform=!0,b.updateScroll("snapshot"),b.options.layoutRoot&&b.willUpdate(!1)}const{layoutId:d,layout:f}=this.options;if(d===void 0&&!f)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Lw);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Uw);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(fM),this.nodes.forEach(lM),this.nodes.forEach(cM)):this.nodes.forEach(Uw),this.clearAllSnapshots();const d=Sn.now();un.delta=gi(0,1e3/60,d-un.timestamp),un.timestamp=d,un.isProcessing=!0,kg.update.process(un),kg.preRender.process(un),kg.render.process(un),un.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,qy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(dM),this.sharedNodes.forEach(yM)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ht.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ht.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!An(this.snapshot.measuredBox.x)&&!An(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Qt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d&&this.instance){const f=i(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!VA(this.projectionDelta),f=this.getTransformTemplate(),p=f?f(this.latestValues,""):void 0,v=p!==this.prevTransformTemplateValue;c&&this.instance&&(d||Ba(this.latestValues)||v)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let f=this.removeElementScroll(d);return c&&(f=this.removeTransform(f)),_M(f),{animationId:this.root.animationId,measuredBox:d,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return Qt();const d=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(wM))){const{scroll:p}=this.root;p&&(ll(d.x,p.offset.x),ll(d.y,p.offset.y))}return d}removeElementScroll(c){const d=Qt();if(Is(d,c),this.scroll?.wasRoot)return d;for(let f=0;f<this.path.length;f++){const p=this.path[f],{scroll:v,options:b}=p;p!==this.root&&v&&b.layoutScroll&&(v.wasRoot&&Is(d,c),ll(d.x,v.offset.x),ll(d.y,v.offset.y))}return d}applyTransform(c,d=!1){const f=Qt();Is(f,c);for(let p=0;p<this.path.length;p++){const v=this.path[p];!d&&v.options.layoutScroll&&v.scroll&&v!==v.root&&cl(f,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),Ba(v.latestValues)&&cl(f,v.latestValues)}return Ba(this.latestValues)&&cl(f,this.latestValues),f}removeTransform(c){const d=Qt();Is(d,c);for(let f=0;f<this.path.length;f++){const p=this.path[f];if(!p.instance||!Ba(p.latestValues))continue;j0(p.latestValues)&&p.updateSnapshot();const v=Qt(),b=p.measurePageBox();Is(v,b),Rw(d,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,v)}return Ba(this.latestValues)&&Rw(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==un.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==d;if(!(c||f&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:b}=this.options;if(!this.layout||!(v||b))return;this.resolvedRelativeTargetAt=un.timestamp;const w=this.getClosestProjectingParent();w&&this.linkedParentVersion!==w.layoutVersion&&!w.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(w&&w.layout?this.createRelativeTarget(w,this.layout.layoutBox,w.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Qt(),this.targetWithTransforms=Qt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Gj(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Is(this.target,this.layout.layoutBox),TA(this.target,this.targetDelta)):Is(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?this.createRelativeTarget(w,this.target,w.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||j0(this.parent.latestValues)||wA(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,d,f){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Qt(),this.relativeTargetOrigin=Qt(),pf(this.relativeTargetOrigin,d,f),Is(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const c=this.getLead(),d=!!this.resumingFrom||this!==c;let f=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(f=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===un.timestamp&&(f=!1),f)return;const{layout:p,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||v))return;Is(this.layoutCorrected,this.layout.layoutBox);const b=this.treeScale.x,w=this.treeScale.y;xj(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Qt());const{target:S}=c;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Tw(this.prevProjectionDelta.x,this.projectionDelta.x),Tw(this.prevProjectionDelta.y,this.projectionDelta.y)),iu(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==b||this.treeScale.y!==w||!Mw(this.projectionDelta.x,this.prevProjectionDelta.x)||!Mw(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ol(),this.projectionDelta=ol(),this.projectionDeltaWithTransform=ol()}setAnimationOrigin(c,d=!1){const f=this.snapshot,p=f?f.latestValues:{},v={...this.latestValues},b=ol();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const w=Qt(),S=f?f.source:void 0,D=this.layout?this.layout.source:void 0,O=S!==D,V=this.getStack(),z=!V||V.members.length<=1,F=!!(O&&!z&&this.options.crossfade===!0&&!this.path.some(bM));this.animationProgress=0;let G;this.mixTargetDelta=te=>{const re=te/1e3;Bw(b.x,c.x,re),Bw(b.y,c.y,re),this.setTargetDelta(b),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(pf(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),vM(this.relativeTarget,this.relativeTargetOrigin,w,re),G&&Qj(this.relativeTarget,G)&&(this.isProjectionDirty=!1),G||(G=Qt()),Is(G,this.relativeTarget)),O&&(this.animationValues=v,Jj(v,p,this.latestValues,re,F,z)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=re},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Xr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ht.update(()=>{Xd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=yl(0)),this.currentAnimation=tM(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),c.onUpdate&&c.onUpdate(d)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(aM),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:f,layout:p,latestValues:v}=c;if(!(!d||!f||!p)){if(this!==c&&this.layout&&p&&BA(this.options.animationType,this.layout.layoutBox,p.layoutBox)){f=this.target||Qt();const b=An(this.layout.layoutBox.x);f.x.min=c.target.x.min,f.x.max=f.x.min+b;const w=An(this.layout.layoutBox.y);f.y.min=c.target.y.min,f.y.max=f.y.min+w}Is(d,f),cl(d,v),iu(this.projectionDeltaWithTransform,this.layoutCorrected,d,v)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new rM),this.sharedNodes.get(c).add(d);const p=d.options.initialPromotionConfig;d.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:f}={}){const p=this.getStack();p&&p.promote(this,f),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:f}=c;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(d=!0),!d)return;const p={};f.z&&Pg("z",c,p,this.animationValues);for(let v=0;v<Og.length;v++)Pg(`rotate${Og[v]}`,c,p,this.animationValues),Pg(`skew${Og[v]}`,c,p,this.animationValues);c.render();for(const v in p)c.setStaticValue(v,p[v]),this.animationValues&&(this.animationValues[v]=p[v]);c.scheduleRender()}applyProjectionStyles(c,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Qd(d?.pointerEvents)||"",c.transform=f?f(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Qd(d?.pointerEvents)||""),this.hasProjected&&!Ba(this.latestValues)&&(c.transform=f?f({},""):"none",this.hasProjected=!1);return}c.visibility="";const v=p.animationValues||p.latestValues;this.applyTransformsToTarget();let b=Xj(this.projectionDeltaWithTransform,this.treeScale,v);f&&(b=f(v,b)),c.transform=b;const{x:w,y:S}=this.projectionDelta;c.transformOrigin=`${w.origin*100}% ${S.origin*100}% 0`,p.animationValues?c.opacity=p===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:c.opacity=p===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const D in V0){if(v[D]===void 0)continue;const{correct:O,applyTo:V,isCSSVariable:z}=V0[D],F=b==="none"?v[D]:O(v[D],p);if(V){const G=V.length;for(let te=0;te<G;te++)c[V[te]]=F}else z?this.options.visualElement.renderState.vars[D]=F:c[D]=F}this.options.layoutId&&(c.pointerEvents=p===this?Qd(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(Lw),this.root.sharedNodes.clear()}}}function lM(t){t.updateLayout()}function cM(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?oi(v=>{const b=l?e.measuredBox[v]:e.layoutBox[v],w=An(b);b.min=n[v].min,b.max=b.min+w}):BA(a,e.layoutBox,n)&&oi(v=>{const b=l?e.measuredBox[v]:e.layoutBox[v],w=An(n[v]);b.max=b.min+w,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[v].max=t.relativeTarget[v].min+w)});const c=ol();iu(c,n,e.layoutBox);const d=ol();l?iu(d,t.applyTransform(i,!0),e.measuredBox):iu(d,n,e.layoutBox);const f=!VA(c);let p=!1;if(!t.resumeFrom){const v=t.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:b,layout:w}=v;if(b&&w){const S=Qt();pf(S,e.layoutBox,b.layoutBox);const D=Qt();pf(D,n,w.layoutBox),OA(S,D)||(p=!0),v.options.layoutRoot&&(t.relativeTarget=D,t.relativeTargetOrigin=S,t.relativeParent=v)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:d,layoutDelta:c,hasLayoutChanged:f,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function uM(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function hM(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function dM(t){t.clearSnapshot()}function Lw(t){t.clearMeasurements()}function Uw(t){t.isLayoutDirty=!1}function fM(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function zw(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function mM(t){t.resolveTargetDelta()}function pM(t){t.calcProjection()}function gM(t){t.resetSkewAndRotation()}function yM(t){t.removeLeadSnapshot()}function Bw(t,e,n){t.translate=vt(e.translate,0,n),t.scale=vt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Fw(t,e,n,i){t.min=vt(e.min,n.min,i),t.max=vt(e.max,n.max,i)}function vM(t,e,n,i){Fw(t.x,e.x,n.x,i),Fw(t.y,e.y,n.y,i)}function bM(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const xM={duration:.45,ease:[.4,0,.1,1]},Hw=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),qw=Hw("applewebkit/")&&!Hw("chrome/")?Math.round:ms;function Gw(t){t.min=qw(t.min),t.max=qw(t.max)}function _M(t){Gw(t.x),Gw(t.y)}function BA(t,e,n){return t==="position"||t==="preserve-aspect"&&!qj(jw(e),jw(n),.2)}function wM(t){return t!==t.root&&t.scroll?.wasRoot}const TM=zA({attachResizeListener:(t,e)=>bu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),Lg={current:void 0},FA=zA({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Lg.current){const t=new TM({});t.mount(window),t.setOptions({layoutScroll:!0}),Lg.current=t}return Lg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Wy=R.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function $w(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function EM(...t){return e=>{let n=!1;const i=t.map(a=>{const l=$w(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<i.length;a++){const l=i[a];typeof l=="function"?l():$w(t[a],null)}}}}function SM(...t){return R.useCallback(EM(...t),t)}class AM extends R.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const i=n.offsetParent,a=I0(i)&&i.offsetWidth||0,l=I0(i)&&i.offsetHeight||0,c=this.props.sizeRef.current;c.height=n.offsetHeight||0,c.width=n.offsetWidth||0,c.top=n.offsetTop,c.left=n.offsetLeft,c.right=a-c.width-c.left,c.bottom=l-c.height-c.top}return null}componentDidUpdate(){}render(){return this.props.children}}function CM({children:t,isPresent:e,anchorX:n,anchorY:i,root:a,pop:l}){const c=R.useId(),d=R.useRef(null),f=R.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:p}=R.useContext(Wy),v=t.props?.ref??t?.ref,b=SM(d,v);return R.useInsertionEffect(()=>{const{width:w,height:S,top:D,left:O,right:V,bottom:z}=f.current;if(e||l===!1||!d.current||!w||!S)return;const F=n==="left"?`left: ${O}`:`right: ${V}`,G=i==="bottom"?`bottom: ${z}`:`top: ${D}`;d.current.dataset.motionPopId=c;const te=document.createElement("style");p&&(te.nonce=p);const re=a??document.head;return re.appendChild(te),te.sheet&&te.sheet.insertRule(`
          [data-motion-pop-id="${c}"] {
            position: absolute !important;
            width: ${w}px !important;
            height: ${S}px !important;
            ${F}px !important;
            ${G}px !important;
          }
        `),()=>{re.contains(te)&&re.removeChild(te)}},[e]),g.jsx(AM,{isPresent:e,childRef:d,sizeRef:f,pop:l,children:l===!1?t:R.cloneElement(t,{ref:b})})}const kM=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:a,presenceAffectsLayout:l,mode:c,anchorX:d,anchorY:f,root:p})=>{const v=Ty(RM),b=R.useId();let w=!0,S=R.useMemo(()=>(w=!1,{id:b,initial:e,isPresent:n,custom:a,onExitComplete:D=>{v.set(D,!0);for(const O of v.values())if(!O)return;i&&i()},register:D=>(v.set(D,!1),()=>v.delete(D))}),[n,v,i]);return l&&w&&(S={...S}),R.useMemo(()=>{v.forEach((D,O)=>v.set(O,!1))},[n]),R.useEffect(()=>{!n&&!v.size&&i&&i()},[n]),t=g.jsx(CM,{pop:c==="popLayout",isPresent:n,anchorX:d,anchorY:f,root:p,children:t}),g.jsx(qf.Provider,{value:S,children:t})};function RM(){return new Map}function HA(t=!0){const e=R.useContext(qf);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:a}=e,l=R.useId();R.useEffect(()=>{if(t)return a(l)},[t]);const c=R.useCallback(()=>t&&i&&i(l),[l,i,t]);return!n&&i?[!1,c]:[!0]}const Cd=t=>t.key||"";function Kw(t){const e=[];return R.Children.forEach(t,n=>{R.isValidElement(n)&&e.push(n)}),e}const Xn=({children:t,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:a=!0,mode:l="sync",propagate:c=!1,anchorX:d="left",anchorY:f="top",root:p})=>{const[v,b]=HA(c),w=R.useMemo(()=>Kw(t),[t]),S=c&&!v?[]:w.map(Cd),D=R.useRef(!0),O=R.useRef(w),V=Ty(()=>new Map),z=R.useRef(new Set),[F,G]=R.useState(w),[te,re]=R.useState(w);bS(()=>{D.current=!1,O.current=w;for(let E=0;E<te.length;E++){const C=Cd(te[E]);S.includes(C)?(V.delete(C),z.current.delete(C)):V.get(C)!==!0&&V.set(C,!1)}},[te,S.length,S.join("-")]);const he=[];if(w!==F){let E=[...w];for(let C=0;C<te.length;C++){const M=te[C],N=Cd(M);S.includes(N)||(E.splice(C,0,M),he.push(M))}return l==="wait"&&he.length&&(E=he),re(Kw(E)),G(w),null}const{forceRender:j}=R.useContext(wy);return g.jsx(g.Fragment,{children:te.map(E=>{const C=Cd(E),M=c&&!v?!1:w===te||S.includes(C),N=()=>{if(z.current.has(C))return;if(z.current.add(C),V.has(C))V.set(C,!0);else return;let P=!0;V.forEach(I=>{I||(P=!1)}),P&&(j?.(),re(O.current),c&&b?.(),i&&i())};return g.jsx(kM,{isPresent:M,initial:!D.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:p,onExitComplete:M?void 0:N,anchorX:d,anchorY:f,children:E},C)})})},qA=R.createContext({strict:!1}),Yw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let Qw=!1;function NM(){if(Qw)return;const t={};for(const e in Yw)t[e]={isEnabled:n=>Yw[e].some(i=>!!n[i])};bA(t),Qw=!0}function GA(){return NM(),gj()}function IM(t){const e=GA();for(const n in t)e[n]={...e[n],...t[n]};bA(e)}const DM=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function gf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||DM.has(t)}let $A=t=>!gf(t);function jM(t){typeof t=="function"&&($A=e=>e.startsWith("on")?!gf(e):t(e))}try{jM(require("@emotion/is-prop-valid").default)}catch{}function MM(t,e,n){const i={};for(const a in t)a==="values"&&typeof t.values=="object"||($A(a)||n===!0&&gf(a)||!e&&!gf(a)||t.draggable&&a.startsWith("onDrag"))&&(i[a]=t[a]);return i}const Kf=R.createContext({});function VM(t,e){if($f(t)){const{initial:n,animate:i}=t;return{initial:n===!1||vu(n)?n:void 0,animate:vu(i)?i:void 0}}return t.inherit!==!1?e:{}}function OM(t){const{initial:e,animate:n}=VM(t,R.useContext(Kf));return R.useMemo(()=>({initial:e,animate:n}),[Xw(e),Xw(n)])}function Xw(t){return Array.isArray(t)?t.join(" "):t}const Jy=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function KA(t,e,n){for(const i in e)!vn(e[i])&&!AA(i,n)&&(t[i]=e[i])}function PM({transformTemplate:t},e){return R.useMemo(()=>{const n=Jy();return Qy(n,e,t),Object.assign({},n.vars,n.style)},[e])}function LM(t,e){const n=t.style||{},i={};return KA(i,n,t),Object.assign(i,PM(t,e)),i}function UM(t,e){const n={},i=LM(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const YA=()=>({...Jy(),attrs:{}});function zM(t,e,n,i){const a=R.useMemo(()=>{const l=YA();return CA(l,e,RA(i),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};KA(l,t.style,t),a.style={...l,...a.style}}return a}const BM=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Zy(t){return typeof t!="string"||t.includes("-")?!1:!!(BM.indexOf(t)>-1||/[A-Z]/u.test(t))}function FM(t,e,n,{latestValues:i},a,l=!1,c){const f=(c??Zy(t)?zM:UM)(e,i,a,t),p=MM(e,typeof t=="string",l),v=t!==R.Fragment?{...p,...f,ref:n}:{},{children:b}=e,w=R.useMemo(()=>vn(b)?b.get():b,[b]);return R.createElement(t,{...v,children:w})}function HM({scrapeMotionValuesFromProps:t,createRenderState:e},n,i,a){return{latestValues:qM(n,i,a,t),renderState:e()}}function qM(t,e,n,i){const a={},l=i(t,{});for(const w in l)a[w]=Qd(l[w]);let{initial:c,animate:d}=t;const f=$f(t),p=yA(t);e&&p&&!f&&t.inherit!==!1&&(c===void 0&&(c=e.initial),d===void 0&&(d=e.animate));let v=n?n.initial===!1:!1;v=v||c===!1;const b=v?d:c;if(b&&typeof b!="boolean"&&!Gf(b)){const w=Array.isArray(b)?b:[b];for(let S=0;S<w.length;S++){const D=By(t,w[S]);if(D){const{transitionEnd:O,transition:V,...z}=D;for(const F in z){let G=z[F];if(Array.isArray(G)){const te=v?G.length-1:0;G=G[te]}G!==null&&(a[F]=G)}for(const F in O)a[F]=O[F]}}}return a}const QA=t=>(e,n)=>{const i=R.useContext(Kf),a=R.useContext(qf),l=()=>HM(t,e,i,a);return n?l():Ty(l)},GM=QA({scrapeMotionValuesFromProps:Xy,createRenderState:Jy}),$M=QA({scrapeMotionValuesFromProps:NA,createRenderState:YA}),KM=Symbol.for("motionComponentSymbol");function YM(t,e,n){const i=R.useRef(n);R.useInsertionEffect(()=>{i.current=n});const a=R.useRef(null);return R.useCallback(l=>{l&&t.onMount?.(l),e&&(l?e.mount(l):e.unmount());const c=i.current;if(typeof c=="function")if(l){const d=c(l);typeof d=="function"&&(a.current=d)}else a.current?(a.current(),a.current=null):c(l);else c&&(c.current=l)},[e])}const XA=R.createContext({});function Zo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function QM(t,e,n,i,a,l){const{visualElement:c}=R.useContext(Kf),d=R.useContext(qA),f=R.useContext(qf),p=R.useContext(Wy),v=p.reducedMotion,b=p.skipAnimations,w=R.useRef(null),S=R.useRef(!1);i=i||d.renderer,!w.current&&i&&(w.current=i(t,{visualState:e,parent:c,props:n,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:v,skipAnimations:b,isSVG:l}),S.current&&w.current&&(w.current.manuallyAnimateOnMount=!0));const D=w.current,O=R.useContext(XA);D&&!D.projection&&a&&(D.type==="html"||D.type==="svg")&&XM(w.current,n,a,O);const V=R.useRef(!1);R.useInsertionEffect(()=>{D&&V.current&&D.update(n,f)});const z=n[iA],F=R.useRef(!!z&&!window.MotionHandoffIsComplete?.(z)&&window.MotionHasOptimisedAnimation?.(z));return bS(()=>{S.current=!0,D&&(V.current=!0,window.MotionIsMounted=!0,D.updateFeatures(),D.scheduleRenderMicrotask(),F.current&&D.animationState&&D.animationState.animateChanges())}),R.useEffect(()=>{D&&(!F.current&&D.animationState&&D.animationState.animateChanges(),F.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(z)}),F.current=!1),D.enteringChildren=void 0)}),D}function XM(t,e,n,i){const{layoutId:a,layout:l,drag:c,dragConstraints:d,layoutScroll:f,layoutRoot:p,layoutCrossfade:v}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:WA(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||d&&Zo(d),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:i,crossfade:v,layoutScroll:f,layoutRoot:p})}function WA(t){if(t)return t.options.allowProjection!==!1?t.projection:WA(t.parent)}function Ug(t,{forwardMotionProps:e=!1,type:n}={},i,a){i&&IM(i);const l=n?n==="svg":Zy(t),c=l?$M:GM;function d(p,v){let b;const w={...R.useContext(Wy),...p,layoutId:WM(p)},{isStatic:S}=w,D=OM(p),O=c(p,S);if(!S&&vS){JM();const V=ZM(w);b=V.MeasureLayout,D.visualElement=QM(t,O,w,a,V.ProjectionNode,l)}return g.jsxs(Kf.Provider,{value:D,children:[b&&D.visualElement?g.jsx(b,{visualElement:D.visualElement,...w}):null,FM(t,p,YM(O,D.visualElement,v),O,S,e,l)]})}d.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const f=R.forwardRef(d);return f[KM]=t,f}function WM({layoutId:t}){const e=R.useContext(wy).id;return e&&t!==void 0?e+"-"+t:t}function JM(t,e){R.useContext(qA).strict}function ZM(t){const e=GA(),{drag:n,layout:i}=e;if(!n&&!i)return{};const a={...n,...i};return{MeasureLayout:n?.isEnabled(t)||i?.isEnabled(t)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function e3(t,e){if(typeof Proxy>"u")return Ug;const n=new Map,i=(l,c)=>Ug(l,c,t,e),a=(l,c)=>i(l,c);return new Proxy(a,{get:(l,c)=>c==="create"?i:(n.has(c)||n.set(c,Ug(c,void 0,t,e)),n.get(c))})}const t3=(t,e)=>e.isSVG??Zy(t)?new jj(e):new Cj(e,{allowProjection:t!==R.Fragment});class n3 extends ra{constructor(e){super(e),e.animationState||(e.animationState=Lj(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Gf(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let s3=0;class i3 extends ra{constructor(){super(...arguments),this.id=s3++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const r3={animation:{Feature:n3},exit:{Feature:i3}};function Ou(t){return{point:{x:t.pageX,y:t.pageY}}}const a3=t=>e=>Gy(e)&&t(e,Ou(e));function ru(t,e,n,i){return bu(t,e,a3(n),i)}const JA=({current:t})=>t?t.ownerDocument.defaultView:null,Ww=(t,e)=>Math.abs(t-e);function o3(t,e){const n=Ww(t.x,e.x),i=Ww(t.y,e.y);return Math.sqrt(n**2+i**2)}const Jw=new Set(["auto","scroll"]);class ZA{constructor(e,n,{transformPagePoint:i,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3,element:d}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=S=>{this.handleScroll(S.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=Bg(this.lastMoveEventInfo,this.history),D=this.startEvent!==null,O=o3(S.offset,{x:0,y:0})>=this.distanceThreshold;if(!D&&!O)return;const{point:V}=S,{timestamp:z}=un;this.history.push({...V,timestamp:z});const{onStart:F,onMove:G}=this.handlers;D||(F&&F(this.lastMoveEvent,S),this.startEvent=this.lastMoveEvent),G&&G(this.lastMoveEvent,S)},this.handlePointerMove=(S,D)=>{this.lastMoveEvent=S,this.lastMoveEventInfo=zg(D,this.transformPagePoint),ht.update(this.updatePoint,!0)},this.handlePointerUp=(S,D)=>{this.end();const{onEnd:O,onSessionEnd:V,resumeAnimation:z}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&z&&z(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const F=Bg(S.type==="pointercancel"?this.lastMoveEventInfo:zg(D,this.transformPagePoint),this.history);this.startEvent&&O&&O(S,F),V&&V(S,F)},!Gy(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=c,this.contextWindow=a||window;const f=Ou(e),p=zg(f,this.transformPagePoint),{point:v}=p,{timestamp:b}=un;this.history=[{...v,timestamp:b}];const{onSessionStart:w}=n;w&&w(e,Bg(p,this.history)),this.removeListeners=ju(ru(this.contextWindow,"pointermove",this.handlePointerMove),ru(this.contextWindow,"pointerup",this.handlePointerUp),ru(this.contextWindow,"pointercancel",this.handlePointerUp)),d&&this.startScrollTracking(d)}startScrollTracking(e){let n=e.parentElement;for(;n;){const i=getComputedStyle(n);(Jw.has(i.overflowX)||Jw.has(i.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const i=e===window,a=i?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},l={x:a.x-n.x,y:a.y-n.y};l.x===0&&l.y===0||(i?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=l.x,this.lastMoveEventInfo.point.y+=l.y):this.history.length>0&&(this.history[0].x-=l.x,this.history[0].y-=l.y),this.scrollPositions.set(e,a),ht.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Xr(this.updatePoint)}}function zg(t,e){return e?{point:e(t.point)}:t}function Zw(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Bg({point:t},e){return{point:t,delta:Zw(t,e2(e)),offset:Zw(t,l3(e)),velocity:c3(e,.1)}}function l3(t){return t[0]}function e2(t){return t[t.length-1]}function c3(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const a=e2(t);for(;n>=0&&(i=t[n],!(a.timestamp-i.timestamp>Ms(e)));)n--;if(!i)return{x:0,y:0};i===t[0]&&t.length>2&&a.timestamp-i.timestamp>Ms(e)*2&&(i=t[1]);const l=fs(a.timestamp-i.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-i.x)/l,y:(a.y-i.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function u3(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?vt(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?vt(n,t,i.max):Math.min(t,n)),t}function eT(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function h3(t,{top:e,left:n,bottom:i,right:a}){return{x:eT(t.x,n,a),y:eT(t.y,e,i)}}function tT(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function d3(t,e){return{x:tT(t.x,e.x),y:tT(t.y,e.y)}}function f3(t,e){let n=.5;const i=An(t),a=An(e);return a>i?n=pu(e.min,e.max-i,t.min):i>a&&(n=pu(t.min,t.max-a,e.min)),gi(0,1,n)}function m3(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const O0=.35;function p3(t=O0){return t===!1?t=0:t===!0&&(t=O0),{x:nT(t,"left","right"),y:nT(t,"top","bottom")}}function nT(t,e,n){return{min:sT(t,e),max:sT(t,n)}}function sT(t,e){return typeof t=="number"?t:t[e]||0}const g3=new WeakMap;class y3{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Qt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=b=>{n&&this.snapToCursor(Ou(b).point),this.stopAnimation()},c=(b,w)=>{const{drag:S,dragPropagation:D,onDragStart:O}=this.getProps();if(S&&!D&&(this.openDragLock&&this.openDragLock(),this.openDragLock=$5(S),!this.openDragLock))return;this.latestPointerEvent=b,this.latestPanInfo=w,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),oi(z=>{let F=this.getAxisMotionValue(z).get()||0;if(ui.test(F)){const{projection:G}=this.visualElement;if(G&&G.layout){const te=G.layout.layoutBox[z];te&&(F=An(te)*(parseFloat(F)/100))}}this.originPoint[z]=F}),O&&ht.update(()=>O(b,w),!1,!0),k0(this.visualElement,"transform");const{animationState:V}=this.visualElement;V&&V.setActive("whileDrag",!0)},d=(b,w)=>{this.latestPointerEvent=b,this.latestPanInfo=w;const{dragPropagation:S,dragDirectionLock:D,onDirectionLock:O,onDrag:V}=this.getProps();if(!S&&!this.openDragLock)return;const{offset:z}=w;if(D&&this.currentDirection===null){this.currentDirection=b3(z),this.currentDirection!==null&&O&&O(this.currentDirection);return}this.updateAxis("x",w.point,z),this.updateAxis("y",w.point,z),this.visualElement.render(),V&&ht.update(()=>V(b,w),!1,!0)},f=(b,w)=>{this.latestPointerEvent=b,this.latestPanInfo=w,this.stop(b,w),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>{const{dragSnapToOrigin:b}=this.getProps();(b||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:v}=this.getProps();this.panSession=new ZA(e,{onSessionStart:l,onStart:c,onMove:d,onSessionEnd:f,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,distanceThreshold:i,contextWindow:JA(this.visualElement),element:this.visualElement.current})}stop(e,n){const i=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!i)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:d}=this.getProps();d&&ht.postRender(()=>d(i,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,n,i){const{drag:a}=this.getProps();if(!i||!kd(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(c=u3(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&Zo(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=h3(i.layoutBox,e):this.constraints=!1,this.elastic=p3(n),a!==this.constraints&&!Zo(e)&&i&&this.constraints&&!this.hasMutatedConstraints&&oi(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=m3(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Zo(e))return!1;const i=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=_j(i,a.root,this.visualElement.getTransformPagePoint());let c=d3(a.layout.layoutBox,l);if(n){const d=n(vj(c));this.hasMutatedConstraints=!!d,d&&(c=_A(d))}return c}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),f=this.constraints||{},p=oi(v=>{if(!kd(v,n,this.currentDirection))return;let b=f&&f[v]||{};c&&(b={min:0,max:0});const w=a?200:1e6,S=a?40:1e7,D={type:"inertia",velocity:i?e[v]:0,bounceStiffness:w,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...l,...b};return this.startAxisValueAnimation(v,D)});return Promise.all(p).then(d)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return k0(this.visualElement,e),i.start(zy(e,i,0,n,this.visualElement,!1))}stopAnimation(){oi(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),a=i[n];return a||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){oi(n=>{const{drag:i}=this.getProps();if(!kd(n,i,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:d}=a.layout.layoutBox[n],f=l.get()||0;l.set(e[n]-vt(c,d,.5)+f)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!Zo(n)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};oi(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const f=d.get();a[c]=f3({min:f,max:f},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.constraints=!1,this.resolveConstraints(),oi(c=>{if(!kd(c,e,null))return;const d=this.getAxisMotionValue(c),{min:f,max:p}=this.constraints[c];d.set(vt(f,p,a[c]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;g3.set(this.visualElement,this);const e=this.visualElement.current,n=ru(e,"pointerdown",p=>{const{drag:v,dragListener:b=!0}=this.getProps(),w=p.target,S=w!==e&&J5(w);v&&b&&!S&&this.start(p)});let i;const a=()=>{const{dragConstraints:p}=this.getProps();Zo(p)&&p.current&&(this.constraints=this.resolveRefConstraints(),i||(i=v3(e,p.current,()=>this.scalePositionWithinConstraints())))},{projection:l}=this.visualElement,c=l.addEventListener("measure",a);l&&!l.layout&&(l.root&&l.root.updateScroll(),l.updateLayout()),ht.read(a);const d=bu(window,"resize",()=>this.scalePositionWithinConstraints()),f=l.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:v})=>{this.isDragging&&v&&(oi(b=>{const w=this.getAxisMotionValue(b);w&&(this.originPoint[b]+=p[b].translate,w.set(w.get()+p[b].translate))}),this.visualElement.render())}));return()=>{d(),n(),c(),f&&f(),i&&i()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=O0,dragMomentum:d=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:d}}}function iT(t){let e=!0;return()=>{if(e){e=!1;return}t()}}function v3(t,e,n){const i=hw(t,iT(n)),a=hw(e,iT(n));return()=>{i(),a()}}function kd(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function b3(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class x3 extends ra{constructor(e){super(e),this.removeGroupControls=ms,this.removeListeners=ms,this.controls=new y3(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ms}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const Fg=t=>(e,n)=>{t&&ht.update(()=>t(e,n),!1,!0)};class _3 extends ra{constructor(){super(...arguments),this.removePointerDownListener=ms}onPointerDown(e){this.session=new ZA(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:JA(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:Fg(e),onStart:Fg(n),onMove:Fg(i),onEnd:(l,c)=>{delete this.session,a&&ht.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=ru(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Hg=!1;class w3 extends R.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:a}=this.props,{projection:l}=e;l&&(n.group&&n.group.add(l),i&&i.register&&a&&i.register(l),Hg&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),Xd.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:a,isPresent:l}=this.props,{projection:c}=i;return c&&(c.isPresent=l,e.layoutDependency!==n&&c.setOptions({...c.options,layoutDependency:n}),Hg=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||ht.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),qy.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:a}=e;Hg=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function t2(t){const[e,n]=HA(),i=R.useContext(wy);return g.jsx(w3,{...t,layoutGroup:i,switchLayoutGroup:R.useContext(XA),isPresent:e,safeToRemove:n})}const T3={pan:{Feature:_3},drag:{Feature:x3,ProjectionNode:FA,MeasureLayout:t2}};function rT(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=i[a];l&&ht.postRender(()=>l(e,Ou(e)))}class E3 extends ra{mount(){const{current:e}=this.node;e&&(this.unmount=Y5(e,(n,i)=>(rT(this.node,i,"Start"),a=>rT(this.node,a,"End"))))}unmount(){}}class S3 extends ra{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ju(bu(this.node.current,"focus",()=>this.onFocus()),bu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function aT(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=i[a];l&&ht.postRender(()=>l(e,Ou(e)))}class A3 extends ra{mount(){const{current:e}=this.node;if(!e)return;const{globalTapTarget:n,propagate:i}=this.node.props;this.unmount=ej(e,(a,l)=>(aT(this.node,l,"Start"),(c,{success:d})=>aT(this.node,c,d?"End":"Cancel")),{useGlobalTarget:n,stopPropagation:i?.tap===!1})}unmount(){}}const P0=new WeakMap,qg=new WeakMap,C3=t=>{const e=P0.get(t.target);e&&e(t)},k3=t=>{t.forEach(C3)};function R3({root:t,...e}){const n=t||document;qg.has(n)||qg.set(n,{});const i=qg.get(n),a=JSON.stringify(e);return i[a]||(i[a]=new IntersectionObserver(k3,{root:t,...e})),i[a]}function N3(t,e,n){const i=R3(e);return P0.set(t,n),i.observe(t),()=>{P0.delete(t),i.unobserve(t)}}const I3={some:0,all:1};class D3 extends ra{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:a="some",once:l}=e,c={root:n?n.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:I3[a]},d=f=>{const{isIntersecting:p}=f;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:v,onViewportLeave:b}=this.node.getProps(),w=p?v:b;w&&w(f)};return N3(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(j3(e,n))&&this.startObserver()}unmount(){}}function j3({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const M3={inView:{Feature:D3},tap:{Feature:A3},focus:{Feature:S3},hover:{Feature:E3}},V3={layout:{ProjectionNode:FA,MeasureLayout:t2}},O3={...r3,...M3,...T3,...V3},Ae=e3(O3,t3),P3=()=>{};var oT={};const n2=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let a=t.charCodeAt(i);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},L3=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const a=t[n++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],c=t[n++],d=t[n++],f=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(f>>10)),e[i++]=String.fromCharCode(56320+(f&1023))}else{const l=t[n++],c=t[n++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},s2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<t.length;a+=3){const l=t[a],c=a+1<t.length,d=c?t[a+1]:0,f=a+2<t.length,p=f?t[a+2]:0,v=l>>2,b=(l&3)<<4|d>>4;let w=(d&15)<<2|p>>6,S=p&63;f||(S=64,c||(w=64)),i.push(n[v],n[b],n[w],n[S])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(n2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):L3(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],d=a<t.length?n[t.charAt(a)]:0;++a;const p=a<t.length?n[t.charAt(a)]:64;++a;const b=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||d==null||p==null||b==null)throw new U3;const w=l<<2|d>>4;if(i.push(w),p!==64){const S=d<<4&240|p>>2;if(i.push(S),b!==64){const D=p<<6&192|b;i.push(D)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class U3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const z3=function(t){const e=n2(t);return s2.encodeByteArray(e,!0)},yf=function(t){return z3(t).replace(/\./g,"")},i2=function(t){try{return s2.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function B3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const F3=()=>B3().__FIREBASE_DEFAULTS__,H3=()=>{if(typeof process>"u"||typeof oT>"u")return;const t=oT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},q3=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&i2(t[1]);return e&&JSON.parse(e)},Yf=()=>{try{return P3()||F3()||H3()||q3()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},r2=t=>Yf()?.emulatorHosts?.[t],a2=t=>{const e=r2(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},o2=()=>Yf()?.config,l2=t=>Yf()?.[`_${t}`];class G3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}function aa(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ev(t){return(await fetch(t,{credentials:"include"})).ok}function c2(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[yf(JSON.stringify(n)),yf(JSON.stringify(c)),""].join(".")}const au={};function $3(){const t={prod:[],emulator:[]};for(const e of Object.keys(au))au[e]?t.emulator.push(e):t.prod.push(e);return t}function K3(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let lT=!1;function tv(t,e){if(typeof window>"u"||typeof document>"u"||!aa(window.location.host)||au[t]===e||au[t]||lT)return;au[t]=e;function n(w){return`__firebase__banner__${w}`}const i="__firebase__banner",l=$3().prod.length>0;function c(){const w=document.getElementById(i);w&&w.remove()}function d(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function f(w,S){w.setAttribute("width","24"),w.setAttribute("id",S),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function p(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{lT=!0,c()},w}function v(w,S){w.setAttribute("id",S),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function b(){const w=K3(i),S=n("text"),D=document.getElementById(S)||document.createElement("span"),O=n("learnmore"),V=document.getElementById(O)||document.createElement("a"),z=n("preprendIcon"),F=document.getElementById(z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const G=w.element;d(G),v(V,O);const te=p();f(F,z),G.append(F,D,V,te),document.body.appendChild(G)}l?(D.innerText="Preview backend disconnected.",F.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(F.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function bn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Y3(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bn())}function Q3(){const t=Yf()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function X3(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function W3(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function J3(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Z3(){const t=bn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function e6(){return!Q3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function t6(){try{return typeof indexedDB=="object"}catch{return!1}}function n6(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}const s6="FirebaseError";class xi extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=s6,Object.setPrototypeOf(this,xi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pu.prototype.create)}}class Pu{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?i6(l,i):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new xi(a,d,i)}}function i6(t,e){return t.replace(r6,(n,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const r6=/\{\$([^}]+)}/g;function a6(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ja(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const a of n){if(!i.includes(a))return!1;const l=t[a],c=e[a];if(cT(l)&&cT(c)){if(!Ja(l,c))return!1}else if(l!==c)return!1}for(const a of i)if(!n.includes(a))return!1;return!0}function cT(t){return t!==null&&typeof t=="object"}function Lu(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function o6(t,e){const n=new l6(t,e);return n.subscribe.bind(n)}class l6{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let a;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");c6(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:i},a.next===void 0&&(a.next=Gg),a.error===void 0&&(a.error=Gg),a.complete===void 0&&(a.complete=Gg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function c6(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Gg(){}function St(t){return t&&t._delegate?t._delegate:t}class Jr{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Fa="[DEFAULT]";class u6{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new G3;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(d6(e))try{this.getOrInitializeService({instanceIdentifier:Fa})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=Fa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fa){return this.instances.has(e)}getOptions(e=Fa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&c.resolve(a)}return a}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(i)??new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const a of i)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:h6(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Fa){return this.component?this.component.multipleInstances?e:Fa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function h6(t){return t===Fa?void 0:t}function d6(t){return t.instantiationMode==="EAGER"}class f6{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new u6(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var $e;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})($e||($e={}));const m6={debug:$e.DEBUG,verbose:$e.VERBOSE,info:$e.INFO,warn:$e.WARN,error:$e.ERROR,silent:$e.SILENT},p6=$e.INFO,g6={[$e.DEBUG]:"log",[$e.VERBOSE]:"log",[$e.INFO]:"info",[$e.WARN]:"warn",[$e.ERROR]:"error"},y6=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),a=g6[e];if(a)console[a](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class nv{constructor(e){this.name=e,this._logLevel=p6,this._logHandler=y6,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in $e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?m6[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,$e.DEBUG,...e),this._logHandler(this,$e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,$e.VERBOSE,...e),this._logHandler(this,$e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,$e.INFO,...e),this._logHandler(this,$e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,$e.WARN,...e),this._logHandler(this,$e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,$e.ERROR,...e),this._logHandler(this,$e.ERROR,...e)}}const v6=(t,e)=>e.some(n=>t instanceof n);let uT,hT;function b6(){return uT||(uT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function x6(){return hT||(hT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const u2=new WeakMap,L0=new WeakMap,h2=new WeakMap,$g=new WeakMap,sv=new WeakMap;function _6(t){const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n($r(t.result)),a()},c=()=>{i(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&u2.set(n,t)}).catch(()=>{}),sv.set(e,t),e}function w6(t){if(L0.has(t))return;const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{i(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});L0.set(t,e)}let U0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return L0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||h2.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $r(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function T6(t){U0=t(U0)}function E6(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Kg(this),e,...n);return h2.set(i,e.sort?e.sort():[e]),$r(i)}:x6().includes(t)?function(...e){return t.apply(Kg(this),e),$r(u2.get(this))}:function(...e){return $r(t.apply(Kg(this),e))}}function S6(t){return typeof t=="function"?E6(t):(t instanceof IDBTransaction&&w6(t),v6(t,b6())?new Proxy(t,U0):t)}function $r(t){if(t instanceof IDBRequest)return _6(t);if($g.has(t))return $g.get(t);const e=S6(t);return e!==t&&($g.set(t,e),sv.set(e,t)),e}const Kg=t=>sv.get(t);function A6(t,e,{blocked:n,upgrade:i,blocking:a,terminated:l}={}){const c=indexedDB.open(t,e),d=$r(c);return i&&c.addEventListener("upgradeneeded",f=>{i($r(c.result),f.oldVersion,f.newVersion,$r(c.transaction),f)}),n&&c.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),d.then(f=>{l&&f.addEventListener("close",()=>l()),a&&f.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const C6=["get","getKey","getAll","getAllKeys","count"],k6=["put","add","delete","clear"],Yg=new Map;function dT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Yg.get(e))return Yg.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,a=k6.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(a||C6.includes(n)))return;const l=async function(c,...d){const f=this.transaction(c,a?"readwrite":"readonly");let p=f.store;return i&&(p=p.index(d.shift())),(await Promise.all([p[n](...d),a&&f.done]))[0]};return Yg.set(e,l),l}T6(t=>({...t,get:(e,n,i)=>dT(e,n)||t.get(e,n,i),has:(e,n)=>!!dT(e,n)||t.has(e,n)}));class R6{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(N6(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function N6(t){return t.getComponent()?.type==="VERSION"}const z0="@firebase/app",fT="0.14.8";const Wi=new nv("@firebase/app"),I6="@firebase/app-compat",D6="@firebase/analytics-compat",j6="@firebase/analytics",M6="@firebase/app-check-compat",V6="@firebase/app-check",O6="@firebase/auth",P6="@firebase/auth-compat",L6="@firebase/database",U6="@firebase/data-connect",z6="@firebase/database-compat",B6="@firebase/functions",F6="@firebase/functions-compat",H6="@firebase/installations",q6="@firebase/installations-compat",G6="@firebase/messaging",$6="@firebase/messaging-compat",K6="@firebase/performance",Y6="@firebase/performance-compat",Q6="@firebase/remote-config",X6="@firebase/remote-config-compat",W6="@firebase/storage",J6="@firebase/storage-compat",Z6="@firebase/firestore",eV="@firebase/ai",tV="@firebase/firestore-compat",nV="firebase",sV="12.9.0";const B0="[DEFAULT]",iV={[z0]:"fire-core",[I6]:"fire-core-compat",[j6]:"fire-analytics",[D6]:"fire-analytics-compat",[V6]:"fire-app-check",[M6]:"fire-app-check-compat",[O6]:"fire-auth",[P6]:"fire-auth-compat",[L6]:"fire-rtdb",[U6]:"fire-data-connect",[z6]:"fire-rtdb-compat",[B6]:"fire-fn",[F6]:"fire-fn-compat",[H6]:"fire-iid",[q6]:"fire-iid-compat",[G6]:"fire-fcm",[$6]:"fire-fcm-compat",[K6]:"fire-perf",[Y6]:"fire-perf-compat",[Q6]:"fire-rc",[X6]:"fire-rc-compat",[W6]:"fire-gcs",[J6]:"fire-gcs-compat",[Z6]:"fire-fst",[tV]:"fire-fst-compat",[eV]:"fire-vertex","fire-js":"fire-js",[nV]:"fire-js-all"};const vf=new Map,rV=new Map,F0=new Map;function mT(t,e){try{t.container.addComponent(e)}catch(n){Wi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Za(t){const e=t.name;if(F0.has(e))return Wi.debug(`There were multiple attempts to register component ${e}.`),!1;F0.set(e,t);for(const n of vf.values())mT(n,t);for(const n of rV.values())mT(n,t);return!0}function Qf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function hs(t){return t==null?!1:t.settings!==void 0}const aV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Kr=new Pu("app","Firebase",aV);class oV{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Jr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Kr.create("app-deleted",{appName:this._name})}}const ao=sV;function d2(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:B0,automaticDataCollectionEnabled:!0,...e},a=i.name;if(typeof a!="string"||!a)throw Kr.create("bad-app-name",{appName:String(a)});if(n||(n=o2()),!n)throw Kr.create("no-options");const l=vf.get(a);if(l){if(Ja(n,l.options)&&Ja(i,l.config))return l;throw Kr.create("duplicate-app",{appName:a})}const c=new f6(a);for(const f of F0.values())c.addComponent(f);const d=new oV(n,i,c);return vf.set(a,d),d}function iv(t=B0){const e=vf.get(t);if(!e&&t===B0&&o2())return d2();if(!e)throw Kr.create("no-app",{appName:t});return e}function hi(t,e,n){let i=iV[t]??t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${i}" with version "${e}":`];a&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Wi.warn(c.join(" "));return}Za(new Jr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const lV="firebase-heartbeat-database",cV=1,xu="firebase-heartbeat-store";let Qg=null;function f2(){return Qg||(Qg=A6(lV,cV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(xu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Kr.create("idb-open",{originalErrorMessage:t.message})})),Qg}async function uV(t){try{const n=(await f2()).transaction(xu),i=await n.objectStore(xu).get(m2(t));return await n.done,i}catch(e){if(e instanceof xi)Wi.warn(e.message);else{const n=Kr.create("idb-get",{originalErrorMessage:e?.message});Wi.warn(n.message)}}}async function pT(t,e){try{const i=(await f2()).transaction(xu,"readwrite");await i.objectStore(xu).put(e,m2(t)),await i.done}catch(n){if(n instanceof xi)Wi.warn(n.message);else{const i=Kr.create("idb-set",{originalErrorMessage:n?.message});Wi.warn(i.message)}}}function m2(t){return`${t.name}!${t.options.appId}`}const hV=1024,dV=30;class fV{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new pV(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=gT();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>dV){const a=gV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Wi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=gT(),{heartbeatsToSend:n,unsentEntries:i}=mV(this._heartbeatsCache.heartbeats),a=yf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Wi.warn(e),""}}}function gT(){return new Date().toISOString().substring(0,10)}function mV(t,e=hV){const n=[];let i=t.slice();for(const a of t){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),yT(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),yT(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class pV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return t6()?n6().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await uV(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return pT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return pT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function yT(t){return yf(JSON.stringify({version:2,heartbeats:t})).length}function gV(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}function yV(t){Za(new Jr("platform-logger",e=>new R6(e),"PRIVATE")),Za(new Jr("heartbeat",e=>new fV(e),"PRIVATE")),hi(z0,fT,t),hi(z0,fT,"esm2020"),hi("fire-js","")}yV("");function p2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const vV=p2,g2=new Pu("auth","Firebase",p2());const bf=new nv("@firebase/auth");function bV(t,...e){bf.logLevel<=$e.WARN&&bf.warn(`Auth (${ao}): ${t}`,...e)}function Wd(t,...e){bf.logLevel<=$e.ERROR&&bf.error(`Auth (${ao}): ${t}`,...e)}function yi(t,...e){throw av(t,...e)}function Vs(t,...e){return av(t,...e)}function rv(t,e,n){const i={...vV(),[e]:n};return new Pu("auth","Firebase",i).create(e,{appName:t.name})}function Ya(t){return rv(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function xV(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&yi(t,"argument-error"),rv(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function av(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return g2.create(t,...e)}function je(t,e,...n){if(!t)throw av(e,...n)}function qi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Wd(e),new Error(e)}function Ji(t,e){t||qi(e)}function H0(){return typeof self<"u"&&self.location?.href||""}function _V(){return vT()==="http:"||vT()==="https:"}function vT(){return typeof self<"u"&&self.location?.protocol||null}function wV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_V()||W3()||"connection"in navigator)?navigator.onLine:!0}function TV(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class Uu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ji(n>e,"Short delay should be less than long delay!"),this.isMobile=Y3()||J3()}get(){return wV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ov(t,e){Ji(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class y2{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;qi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;qi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;qi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const EV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const SV=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],AV=new Uu(3e4,6e4);function lv(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Dl(t,e,n,i,a={}){return v2(t,a,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const d=Lu({key:t.config.apiKey,...c}).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:f,...l};return X3()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&aa(t.emulatorConfig.host)&&(p.credentials="include"),y2.fetch()(await b2(t,t.config.apiHost,n,d),p)})}async function v2(t,e,n){t._canInitEmulator=!1;const i={...EV,...e};try{const a=new kV(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Rd(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[f,p]=d.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Rd(t,"credential-already-in-use",c);if(f==="EMAIL_EXISTS")throw Rd(t,"email-already-in-use",c);if(f==="USER_DISABLED")throw Rd(t,"user-disabled",c);const v=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw rv(t,v,p);yi(t,v)}}catch(a){if(a instanceof xi)throw a;yi(t,"network-request-failed",{message:String(a)})}}async function CV(t,e,n,i,a={}){const l=await Dl(t,e,n,i,a);return"mfaPendingCredential"in l&&yi(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function b2(t,e,n,i){const a=`${e}${n}?${i}`,l=t,c=l.config.emulator?ov(t.config,a):`${t.config.apiScheme}://${a}`;return SV.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}class kV{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Vs(this.auth,"network-request-failed")),AV.get())})}}function Rd(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const a=Vs(t,e,i);return a.customData._tokenResponse=n,a}async function RV(t,e){return Dl(t,"POST","/v1/accounts:delete",e)}async function xf(t,e){return Dl(t,"POST","/v1/accounts:lookup",e)}function ou(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function NV(t,e=!1){const n=St(t),i=await n.getIdToken(e),a=cv(i);je(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:i,authTime:ou(Xg(a.auth_time)),issuedAtTime:ou(Xg(a.iat)),expirationTime:ou(Xg(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Xg(t){return Number(t)*1e3}function cv(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Wd("JWT malformed, contained fewer than 3 sections"),null;try{const a=i2(n);return a?JSON.parse(a):(Wd("Failed to decode base64 JWT payload"),null)}catch(a){return Wd("Caught error parsing JWT payload as JSON",a?.toString()),null}}function bT(t){const e=cv(t);return je(e,"internal-error"),je(typeof e.exp<"u","internal-error"),je(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function _u(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof xi&&IV(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function IV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class DV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class q0{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ou(this.lastLoginAt),this.creationTime=ou(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function _f(t){const e=t.auth,n=await t.getIdToken(),i=await _u(t,xf(e,{idToken:n}));je(i?.users.length,e,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const l=a.providerUserInfo?.length?x2(a.providerUserInfo):[],c=MV(t.providerData,l),d=t.isAnonymous,f=!(t.email&&a.passwordHash)&&!c?.length,p=d?f:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new q0(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(t,v)}async function jV(t){const e=St(t);await _f(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function MV(t,e){return[...t.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function x2(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function VV(t,e){const n=await v2(t,{},async()=>{const i=Lu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,c=await b2(t,a,"/v1/token",`key=${l}`),d=await t._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:d,body:i};return t.emulatorConfig&&aa(t.emulatorConfig.host)&&(f.credentials="include"),y2.fetch()(c,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function OV(t,e){return Dl(t,"POST","/v2/accounts:revokeToken",lv(t,e))}class hl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){je(e.idToken,"internal-error"),je(typeof e.idToken<"u","internal-error"),je(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):bT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){je(e.length!==0,"internal-error");const n=bT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(je(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:a,expiresIn:l}=await VV(e,n);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:a,expirationTime:l}=n,c=new hl;return i&&(je(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),a&&(je(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(je(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new hl,this.toJSON())}_performRefresh(){return qi("not implemented")}}function Pr(t,e){je(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class js{constructor({uid:e,auth:n,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new DV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new q0(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await _u(this,this.stsTokenManager.getToken(this.auth,e));return je(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return NV(this,e)}reload(){return jV(this)}_assign(e){this!==e&&(je(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new js({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){je(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await _f(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(hs(this.auth.app))return Promise.reject(Ya(this.auth));const e=await this.getIdToken();return await _u(this,RV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,d=n.tenantId??void 0,f=n._redirectEventId??void 0,p=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:b,emailVerified:w,isAnonymous:S,providerData:D,stsTokenManager:O}=n;je(b&&O,e,"internal-error");const V=hl.fromJSON(this.name,O);je(typeof b=="string",e,"internal-error"),Pr(i,e.name),Pr(a,e.name),je(typeof w=="boolean",e,"internal-error"),je(typeof S=="boolean",e,"internal-error"),Pr(l,e.name),Pr(c,e.name),Pr(d,e.name),Pr(f,e.name),Pr(p,e.name),Pr(v,e.name);const z=new js({uid:b,auth:e,email:a,emailVerified:w,displayName:i,isAnonymous:S,photoURL:c,phoneNumber:l,tenantId:d,stsTokenManager:V,createdAt:p,lastLoginAt:v});return D&&Array.isArray(D)&&(z.providerData=D.map(F=>({...F}))),f&&(z._redirectEventId=f),z}static async _fromIdTokenResponse(e,n,i=!1){const a=new hl;a.updateFromServerResponse(n);const l=new js({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await _f(l),l}static async _fromGetAccountInfoResponse(e,n,i){const a=n.users[0];je(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?x2(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,d=new hl;d.updateFromIdToken(i);const f=new js({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new q0(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(f,p),f}}const xT=new Map;function Gi(t){Ji(t instanceof Function,"Expected a class definition");let e=xT.get(t);return e?(Ji(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,xT.set(t,e),e)}class _2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}_2.type="NONE";const _T=_2;function Jd(t,e,n){return`firebase:${t}:${e}:${n}`}class dl{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=Jd(this.userKey,a.apiKey,l),this.fullPersistenceKey=Jd("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await xf(this.auth,{idToken:e}).catch(()=>{});return n?js._fromGetAccountInfoResponse(this.auth,n,e):null}return js._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new dl(Gi(_T),e,i);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||Gi(_T);const c=Jd(i,e.config.apiKey,e.name);let d=null;for(const p of n)try{const v=await p._get(c);if(v){let b;if(typeof v=="string"){const w=await xf(e,{idToken:v}).catch(()=>{});if(!w)break;b=await js._fromGetAccountInfoResponse(e,w,v)}else b=js._fromJSON(e,v);p!==l&&(d=b),l=p;break}}catch{}const f=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!f.length?new dl(l,e,i):(l=f[0],d&&await l._set(c,d.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new dl(l,e,i))}}function wT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(S2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(w2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(C2(e))return"Blackberry";if(k2(e))return"Webos";if(T2(e))return"Safari";if((e.includes("chrome/")||E2(e))&&!e.includes("edge/"))return"Chrome";if(A2(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if(i?.length===2)return i[1]}return"Other"}function w2(t=bn()){return/firefox\//i.test(t)}function T2(t=bn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function E2(t=bn()){return/crios\//i.test(t)}function S2(t=bn()){return/iemobile/i.test(t)}function A2(t=bn()){return/android/i.test(t)}function C2(t=bn()){return/blackberry/i.test(t)}function k2(t=bn()){return/webos/i.test(t)}function uv(t=bn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function PV(t=bn()){return uv(t)&&!!window.navigator?.standalone}function LV(){return Z3()&&document.documentMode===10}function R2(t=bn()){return uv(t)||A2(t)||k2(t)||C2(t)||/windows phone/i.test(t)||S2(t)}function N2(t,e=[]){let n;switch(t){case"Browser":n=wT(bn());break;case"Worker":n=`${wT(bn())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ao}/${i}`}class UV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=l=>new Promise((c,d)=>{try{const f=e(l);c(f)}catch(f){d(f)}});i.onAbort=n,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function zV(t,e={}){return Dl(t,"GET","/v2/passwordPolicy",lv(t,e))}const BV=6;class FV{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??BV,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class HV{constructor(e,n,i,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new TT(this),this.idTokenSubscription=new TT(this),this.beforeStateQueue=new UV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=g2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Gi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await dl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await xf(this,{idToken:e}),i=await js._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(hs(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=i?._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===c)&&d?.user&&(i=d.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return je(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await _f(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=TV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(hs(this.app))return Promise.reject(Ya(this));const n=e?St(e):null;return n&&je(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&je(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return hs(this.app)?Promise.reject(Ya(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return hs(this.app)?Promise.reject(Ya(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Gi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await zV(this),n=new FV(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Pu("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await OV(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Gi(e)||this._popupRedirectResolver;je(n,this,"argument-error"),this.redirectPersistenceManager=await dl.create(this,[Gi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(je(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,i,a);return()=>{c=!0,f()}}else{const f=e.addObserver(n);return()=>{c=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return je(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=N2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(hs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&bV(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Xf(t){return St(t)}class TT{constructor(e){this.auth=e,this.observer=null,this.addObserver=o6(n=>this.observer=n)}get next(){return je(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let hv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function qV(t){hv=t}function GV(t){return hv.loadJS(t)}function $V(){return hv.gapiScript}function KV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function YV(t,e){const n=Qf(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Ja(l,e??{}))return a;yi(a,"already-initialized")}return n.initialize({options:e})}function QV(t,e){const n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(Gi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}function XV(t,e,n){const i=Xf(t);je(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=I2(e),{host:c,port:d}=WV(e),f=d===null?"":`:${d}`,p={url:`${l}//${c}${f}/`},v=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){je(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),je(Ja(p,i.config.emulator)&&Ja(v,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=p,i.emulatorConfig=v,i.settings.appVerificationDisabledForTesting=!0,aa(c)?(ev(`${l}//${c}${f}`),tv("Auth",!0)):JV()}function I2(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function WV(t){const e=I2(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:ET(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:ET(c)}}}function ET(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function JV(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class D2{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return qi("not implemented")}_getIdTokenResponse(e){return qi("not implemented")}_linkToIdToken(e,n){return qi("not implemented")}_getReauthenticationResolver(e){return qi("not implemented")}}async function fl(t,e){return CV(t,"POST","/v1/accounts:signInWithIdp",lv(t,e))}const ZV="http://localhost";class eo extends D2{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new eo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):yi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a,...l}=n;if(!i||!a)return null;const c=new eo(i,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return fl(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,fl(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,fl(e,n)}buildRequest(){const e={requestUri:ZV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Lu(n)}return e}}class dv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class zu extends dv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class zr extends zu{constructor(){super("facebook.com")}static credential(e){return eo._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zr.credentialFromTaggedObject(e)}static credentialFromError(e){return zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zr.credential(e.oauthAccessToken)}catch{return null}}}zr.FACEBOOK_SIGN_IN_METHOD="facebook.com";zr.PROVIDER_ID="facebook.com";class Hi extends zu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return eo._fromParams({providerId:Hi.PROVIDER_ID,signInMethod:Hi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Hi.credentialFromTaggedObject(e)}static credentialFromError(e){return Hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Hi.credential(n,i)}catch{return null}}}Hi.GOOGLE_SIGN_IN_METHOD="google.com";Hi.PROVIDER_ID="google.com";class Br extends zu{constructor(){super("github.com")}static credential(e){return eo._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Br.credentialFromTaggedObject(e)}static credentialFromError(e){return Br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Br.credential(e.oauthAccessToken)}catch{return null}}}Br.GITHUB_SIGN_IN_METHOD="github.com";Br.PROVIDER_ID="github.com";class Fr extends zu{constructor(){super("twitter.com")}static credential(e,n){return eo._fromParams({providerId:Fr.PROVIDER_ID,signInMethod:Fr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Fr.credentialFromTaggedObject(e)}static credentialFromError(e){return Fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Fr.credential(n,i)}catch{return null}}}Fr.TWITTER_SIGN_IN_METHOD="twitter.com";Fr.PROVIDER_ID="twitter.com";class vl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,a=!1){const l=await js._fromIdTokenResponse(e,i,a),c=ST(i);return new vl({user:l,providerId:c,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const a=ST(i);return new vl({user:e,providerId:a,_tokenResponse:i,operationType:n})}}function ST(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class wf extends xi{constructor(e,n,i,a){super(n.code,n.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,wf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,a){return new wf(e,n,i,a)}}function j2(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?wf._fromErrorAndOperation(t,l,e,i):l})}async function eO(t,e,n=!1){const i=await _u(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return vl._forOperation(t,"link",i)}async function tO(t,e,n=!1){const{auth:i}=t;if(hs(i.app))return Promise.reject(Ya(i));const a="reauthenticate";try{const l=await _u(t,j2(i,a,e,t),n);je(l.idToken,i,"internal-error");const c=cv(l.idToken);je(c,i,"internal-error");const{sub:d}=c;return je(t.uid===d,i,"user-mismatch"),vl._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&yi(i,"user-mismatch"),l}}async function nO(t,e,n=!1){if(hs(t.app))return Promise.reject(Ya(t));const i="signIn",a=await j2(t,i,e),l=await vl._fromIdTokenResponse(t,i,a);return n||await t._updateCurrentUser(l.user),l}function sO(t,e,n,i){return St(t).onIdTokenChanged(e,n,i)}function iO(t,e,n){return St(t).beforeAuthStateChanged(e,n)}function rO(t,e,n,i){return St(t).onAuthStateChanged(e,n,i)}function aO(t){return St(t).signOut()}const Tf="__sak";class M2{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Tf,"1"),this.storage.removeItem(Tf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const oO=1e3,lO=10;class V2 extends M2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=R2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),a=this.localCache[n];i!==a&&e(n,a,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,d,f)=>{this.notifyListeners(c,f)});return}const i=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!n&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);LV()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,lO):a()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},oO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}V2.type="LOCAL";const cO=V2;class O2 extends M2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}O2.type="SESSION";const P2=O2;function uO(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Wf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const i=new Wf(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const d=Array.from(c).map(async p=>p(n.origin,l)),f=await uO(d);n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Wf.receivers=[];function fv(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}class hO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,f)=>{const p=fv("",20);a.port1.start();const v=setTimeout(()=>{f(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(b){const w=b;if(w.data.eventId===p)switch(w.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(w.data.response);break;default:clearTimeout(v),clearTimeout(l),f(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function di(){return window}function dO(t){di().location.href=t}function L2(){return typeof di().WorkerGlobalScope<"u"&&typeof di().importScripts=="function"}async function fO(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function mO(){return navigator?.serviceWorker?.controller||null}function pO(){return L2()?self:null}const U2="firebaseLocalStorageDb",gO=1,Ef="firebaseLocalStorage",z2="fbase_key";class Bu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Jf(t,e){return t.transaction([Ef],e?"readwrite":"readonly").objectStore(Ef)}function yO(){const t=indexedDB.deleteDatabase(U2);return new Bu(t).toPromise()}function G0(){const t=indexedDB.open(U2,gO);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(Ef,{keyPath:z2})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(Ef)?e(i):(i.close(),await yO(),e(await G0()))})})}async function AT(t,e,n){const i=Jf(t,!0).put({[z2]:e,value:n});return new Bu(i).toPromise()}async function vO(t,e){const n=Jf(t,!1).get(e),i=await new Bu(n).toPromise();return i===void 0?null:i.value}function CT(t,e){const n=Jf(t,!0).delete(e);return new Bu(n).toPromise()}const bO=800,xO=3;class B2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await G0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>xO)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return L2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Wf._getInstance(pO()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await fO(),!this.activeServiceWorker)return;this.sender=new hO(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||mO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await G0();return await AT(e,Tf,"1"),await CT(e,Tf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>AT(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>vO(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>CT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Jf(a,!1).getAll();return new Bu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),bO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}B2.type="LOCAL";const _O=B2;new Uu(3e4,6e4);function F2(t,e){return e?Gi(e):(je(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class mv extends D2{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return fl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return fl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return fl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function wO(t){return nO(t.auth,new mv(t),t.bypassAuthState)}function TO(t){const{auth:e,user:n}=t;return je(n,e,"internal-error"),tO(n,new mv(t),t.bypassAuthState)}async function EO(t){const{auth:e,user:n}=t;return je(n,e,"internal-error"),eO(n,new mv(t),t.bypassAuthState)}class H2{constructor(e,n,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:a,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const f={auth:this.auth,requestUri:n,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return wO;case"linkViaPopup":case"linkViaRedirect":return EO;case"reauthViaPopup":case"reauthViaRedirect":return TO;default:yi(this.auth,"internal-error")}}resolve(e){Ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const SO=new Uu(2e3,1e4);async function AO(t,e,n){if(hs(t.app))return Promise.reject(Vs(t,"operation-not-supported-in-this-environment"));const i=Xf(t);xV(t,e,dv);const a=F2(i,n);return new Ga(i,"signInViaPopup",e,a).executeNotNull()}class Ga extends H2{constructor(e,n,i,a,l){super(e,n,a,l),this.provider=i,this.authWindow=null,this.pollId=null,Ga.currentPopupAction&&Ga.currentPopupAction.cancel(),Ga.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return je(e,this.auth,"internal-error"),e}async onExecution(){Ji(this.filter.length===1,"Popup operations only handle one event");const e=fv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Vs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Vs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ga.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Vs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,SO.get())};e()}}Ga.currentPopupAction=null;const CO="pendingRedirect",Zd=new Map;class kO extends H2{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Zd.get(this.auth._key());if(!e){try{const i=await RO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Zd.set(this.auth._key(),e)}return this.bypassAuthState||Zd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function RO(t,e){const n=DO(e),i=IO(t);if(!await i._isAvailable())return!1;const a=await i._get(n)==="true";return await i._remove(n),a}function NO(t,e){Zd.set(t._key(),e)}function IO(t){return Gi(t._redirectPersistence)}function DO(t){return Jd(CO,t.config.apiKey,t.name)}async function jO(t,e,n=!1){if(hs(t.app))return Promise.reject(Ya(t));const i=Xf(t),a=F2(i,e),c=await new kO(i,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}const MO=600*1e3;class VO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!OO(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!q2(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Vs(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=MO&&this.cachedEventUids.clear(),this.cachedEventUids.has(kT(e))}saveEventToCache(e){this.cachedEventUids.add(kT(e)),this.lastProcessedEventTime=Date.now()}}function kT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function q2({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function OO(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return q2(t);default:return!1}}async function PO(t,e={}){return Dl(t,"GET","/v1/projects",e)}const LO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,UO=/^https?/;async function zO(t){if(t.config.emulator)return;const{authorizedDomains:e}=await PO(t);for(const n of e)try{if(BO(n))return}catch{}yi(t,"unauthorized-domain")}function BO(t){const e=H0(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===i}if(!UO.test(n))return!1;if(LO.test(t))return i===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}const FO=new Uu(3e4,6e4);function RT(){const t=di().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function HO(t){return new Promise((e,n)=>{function i(){RT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{RT(),n(Vs(t,"network-request-failed"))},timeout:FO.get()})}if(di().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(di().gapi?.load)i();else{const a=KV("iframefcb");return di()[a]=()=>{gapi.load?i():n(Vs(t,"network-request-failed"))},GV(`${$V()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw ef=null,e})}let ef=null;function qO(t){return ef=ef||HO(t),ef}const GO=new Uu(5e3,15e3),$O="__/auth/iframe",KO="emulator/auth/iframe",YO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},QO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function XO(t){const e=t.config;je(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?ov(e,KO):`https://${t.config.authDomain}/${$O}`,i={apiKey:e.apiKey,appName:t.name,v:ao},a=QO.get(t.config.apiHost);a&&(i.eid=a);const l=t._getFrameworks();return l.length&&(i.fw=l.join(",")),`${n}?${Lu(i).slice(1)}`}async function WO(t){const e=await qO(t),n=di().gapi;return je(n,t,"internal-error"),e.open({where:document.body,url:XO(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:YO,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const c=Vs(t,"network-request-failed"),d=di().setTimeout(()=>{l(c)},GO.get());function f(){di().clearTimeout(d),a(i)}i.ping(f).then(f,()=>{l(c)})}))}const JO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ZO=500,eP=600,tP="_blank",nP="http://localhost";class NT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function sP(t,e,n,i=ZO,a=eP){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const f={...JO,width:i.toString(),height:a.toString(),top:l,left:c},p=bn().toLowerCase();n&&(d=E2(p)?tP:n),w2(p)&&(e=e||nP,f.scrollbars="yes");const v=Object.entries(f).reduce((w,[S,D])=>`${w}${S}=${D},`,"");if(PV(p)&&d!=="_self")return iP(e||"",d),new NT(null);const b=window.open(e||"",d,v);je(b,t,"popup-blocked");try{b.focus()}catch{}return new NT(b)}function iP(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}const rP="__/auth/handler",aP="emulator/auth/handler",oP=encodeURIComponent("fac");async function IT(t,e,n,i,a,l){je(t.config.authDomain,t,"auth-domain-config-required"),je(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:ao,eventId:a};if(e instanceof dv){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",a6(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,b]of Object.entries({}))c[v]=b}if(e instanceof zu){const v=e.getScopes().filter(b=>b!=="");v.length>0&&(c.scopes=v.join(","))}t.tenantId&&(c.tid=t.tenantId);const d=c;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const f=await t._getAppCheckToken(),p=f?`#${oP}=${encodeURIComponent(f)}`:"";return`${lP(t)}?${Lu(d).slice(1)}${p}`}function lP({config:t}){return t.emulator?ov(t,aP):`https://${t.authDomain}/${rP}`}const Wg="webStorageSupport";class cP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=P2,this._completeRedirectFn=jO,this._overrideRedirectResult=NO}async _openPopup(e,n,i,a){Ji(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await IT(e,n,i,H0(),a);return sP(e,l,fv())}async _openRedirect(e,n,i,a){await this._originValidation(e);const l=await IT(e,n,i,H0(),a);return dO(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Ji(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await WO(e),i=new VO(e);return n.register("authEvent",a=>(je(a?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Wg,{type:Wg},a=>{const l=a?.[0]?.[Wg];l!==void 0&&n(!!l),yi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=zO(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return R2()||T2()||uv()}}const uP=cP;var DT="@firebase/auth",jT="1.12.0";class hP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){je(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function dP(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function fP(t){Za(new Jr("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=i.options;je(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:c,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:N2(t)},p=new HV(i,a,l,f);return QV(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Za(new Jr("auth-internal",e=>{const n=Xf(e.getProvider("auth").getImmediate());return(i=>new hP(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),hi(DT,jT,dP(t)),hi(DT,jT,"esm2020")}const mP=300,pP=l2("authIdTokenMaxAge")||mP;let MT=null;const gP=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>pP)return;const a=n?.token;MT!==a&&(MT=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function yP(t=iv()){const e=Qf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=YV(t,{popupRedirectResolver:uP,persistence:[_O,cO,P2]}),i=l2("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=gP(l.toString());iO(n,c,()=>c(n.currentUser)),sO(n,d=>c(d))}}const a=r2("auth");return a&&XV(n,`http://${a}`),n}function vP(){return document.getElementsByTagName("head")?.[0]??document}qV({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=a=>{const l=Vs("internal-error");l.customData=a,n(l)},i.type="text/javascript",i.charset="UTF-8",vP().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});fP("Browser");var bP="firebase",xP="12.9.0";hi(bP,xP,"app");var VT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Yr,G2;(function(){var t;function e(j,E){function C(){}C.prototype=E.prototype,j.F=E.prototype,j.prototype=new C,j.prototype.constructor=j,j.D=function(M,N,P){for(var I=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)I[xe-2]=arguments[xe];return E.prototype[N].apply(M,I)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(j,E,C){C||(C=0);const M=Array(16);if(typeof E=="string")for(var N=0;N<16;++N)M[N]=E.charCodeAt(C++)|E.charCodeAt(C++)<<8|E.charCodeAt(C++)<<16|E.charCodeAt(C++)<<24;else for(N=0;N<16;++N)M[N]=E[C++]|E[C++]<<8|E[C++]<<16|E[C++]<<24;E=j.g[0],C=j.g[1],N=j.g[2];let P=j.g[3],I;I=E+(P^C&(N^P))+M[0]+3614090360&4294967295,E=C+(I<<7&4294967295|I>>>25),I=P+(N^E&(C^N))+M[1]+3905402710&4294967295,P=E+(I<<12&4294967295|I>>>20),I=N+(C^P&(E^C))+M[2]+606105819&4294967295,N=P+(I<<17&4294967295|I>>>15),I=C+(E^N&(P^E))+M[3]+3250441966&4294967295,C=N+(I<<22&4294967295|I>>>10),I=E+(P^C&(N^P))+M[4]+4118548399&4294967295,E=C+(I<<7&4294967295|I>>>25),I=P+(N^E&(C^N))+M[5]+1200080426&4294967295,P=E+(I<<12&4294967295|I>>>20),I=N+(C^P&(E^C))+M[6]+2821735955&4294967295,N=P+(I<<17&4294967295|I>>>15),I=C+(E^N&(P^E))+M[7]+4249261313&4294967295,C=N+(I<<22&4294967295|I>>>10),I=E+(P^C&(N^P))+M[8]+1770035416&4294967295,E=C+(I<<7&4294967295|I>>>25),I=P+(N^E&(C^N))+M[9]+2336552879&4294967295,P=E+(I<<12&4294967295|I>>>20),I=N+(C^P&(E^C))+M[10]+4294925233&4294967295,N=P+(I<<17&4294967295|I>>>15),I=C+(E^N&(P^E))+M[11]+2304563134&4294967295,C=N+(I<<22&4294967295|I>>>10),I=E+(P^C&(N^P))+M[12]+1804603682&4294967295,E=C+(I<<7&4294967295|I>>>25),I=P+(N^E&(C^N))+M[13]+4254626195&4294967295,P=E+(I<<12&4294967295|I>>>20),I=N+(C^P&(E^C))+M[14]+2792965006&4294967295,N=P+(I<<17&4294967295|I>>>15),I=C+(E^N&(P^E))+M[15]+1236535329&4294967295,C=N+(I<<22&4294967295|I>>>10),I=E+(N^P&(C^N))+M[1]+4129170786&4294967295,E=C+(I<<5&4294967295|I>>>27),I=P+(C^N&(E^C))+M[6]+3225465664&4294967295,P=E+(I<<9&4294967295|I>>>23),I=N+(E^C&(P^E))+M[11]+643717713&4294967295,N=P+(I<<14&4294967295|I>>>18),I=C+(P^E&(N^P))+M[0]+3921069994&4294967295,C=N+(I<<20&4294967295|I>>>12),I=E+(N^P&(C^N))+M[5]+3593408605&4294967295,E=C+(I<<5&4294967295|I>>>27),I=P+(C^N&(E^C))+M[10]+38016083&4294967295,P=E+(I<<9&4294967295|I>>>23),I=N+(E^C&(P^E))+M[15]+3634488961&4294967295,N=P+(I<<14&4294967295|I>>>18),I=C+(P^E&(N^P))+M[4]+3889429448&4294967295,C=N+(I<<20&4294967295|I>>>12),I=E+(N^P&(C^N))+M[9]+568446438&4294967295,E=C+(I<<5&4294967295|I>>>27),I=P+(C^N&(E^C))+M[14]+3275163606&4294967295,P=E+(I<<9&4294967295|I>>>23),I=N+(E^C&(P^E))+M[3]+4107603335&4294967295,N=P+(I<<14&4294967295|I>>>18),I=C+(P^E&(N^P))+M[8]+1163531501&4294967295,C=N+(I<<20&4294967295|I>>>12),I=E+(N^P&(C^N))+M[13]+2850285829&4294967295,E=C+(I<<5&4294967295|I>>>27),I=P+(C^N&(E^C))+M[2]+4243563512&4294967295,P=E+(I<<9&4294967295|I>>>23),I=N+(E^C&(P^E))+M[7]+1735328473&4294967295,N=P+(I<<14&4294967295|I>>>18),I=C+(P^E&(N^P))+M[12]+2368359562&4294967295,C=N+(I<<20&4294967295|I>>>12),I=E+(C^N^P)+M[5]+4294588738&4294967295,E=C+(I<<4&4294967295|I>>>28),I=P+(E^C^N)+M[8]+2272392833&4294967295,P=E+(I<<11&4294967295|I>>>21),I=N+(P^E^C)+M[11]+1839030562&4294967295,N=P+(I<<16&4294967295|I>>>16),I=C+(N^P^E)+M[14]+4259657740&4294967295,C=N+(I<<23&4294967295|I>>>9),I=E+(C^N^P)+M[1]+2763975236&4294967295,E=C+(I<<4&4294967295|I>>>28),I=P+(E^C^N)+M[4]+1272893353&4294967295,P=E+(I<<11&4294967295|I>>>21),I=N+(P^E^C)+M[7]+4139469664&4294967295,N=P+(I<<16&4294967295|I>>>16),I=C+(N^P^E)+M[10]+3200236656&4294967295,C=N+(I<<23&4294967295|I>>>9),I=E+(C^N^P)+M[13]+681279174&4294967295,E=C+(I<<4&4294967295|I>>>28),I=P+(E^C^N)+M[0]+3936430074&4294967295,P=E+(I<<11&4294967295|I>>>21),I=N+(P^E^C)+M[3]+3572445317&4294967295,N=P+(I<<16&4294967295|I>>>16),I=C+(N^P^E)+M[6]+76029189&4294967295,C=N+(I<<23&4294967295|I>>>9),I=E+(C^N^P)+M[9]+3654602809&4294967295,E=C+(I<<4&4294967295|I>>>28),I=P+(E^C^N)+M[12]+3873151461&4294967295,P=E+(I<<11&4294967295|I>>>21),I=N+(P^E^C)+M[15]+530742520&4294967295,N=P+(I<<16&4294967295|I>>>16),I=C+(N^P^E)+M[2]+3299628645&4294967295,C=N+(I<<23&4294967295|I>>>9),I=E+(N^(C|~P))+M[0]+4096336452&4294967295,E=C+(I<<6&4294967295|I>>>26),I=P+(C^(E|~N))+M[7]+1126891415&4294967295,P=E+(I<<10&4294967295|I>>>22),I=N+(E^(P|~C))+M[14]+2878612391&4294967295,N=P+(I<<15&4294967295|I>>>17),I=C+(P^(N|~E))+M[5]+4237533241&4294967295,C=N+(I<<21&4294967295|I>>>11),I=E+(N^(C|~P))+M[12]+1700485571&4294967295,E=C+(I<<6&4294967295|I>>>26),I=P+(C^(E|~N))+M[3]+2399980690&4294967295,P=E+(I<<10&4294967295|I>>>22),I=N+(E^(P|~C))+M[10]+4293915773&4294967295,N=P+(I<<15&4294967295|I>>>17),I=C+(P^(N|~E))+M[1]+2240044497&4294967295,C=N+(I<<21&4294967295|I>>>11),I=E+(N^(C|~P))+M[8]+1873313359&4294967295,E=C+(I<<6&4294967295|I>>>26),I=P+(C^(E|~N))+M[15]+4264355552&4294967295,P=E+(I<<10&4294967295|I>>>22),I=N+(E^(P|~C))+M[6]+2734768916&4294967295,N=P+(I<<15&4294967295|I>>>17),I=C+(P^(N|~E))+M[13]+1309151649&4294967295,C=N+(I<<21&4294967295|I>>>11),I=E+(N^(C|~P))+M[4]+4149444226&4294967295,E=C+(I<<6&4294967295|I>>>26),I=P+(C^(E|~N))+M[11]+3174756917&4294967295,P=E+(I<<10&4294967295|I>>>22),I=N+(E^(P|~C))+M[2]+718787259&4294967295,N=P+(I<<15&4294967295|I>>>17),I=C+(P^(N|~E))+M[9]+3951481745&4294967295,j.g[0]=j.g[0]+E&4294967295,j.g[1]=j.g[1]+(N+(I<<21&4294967295|I>>>11))&4294967295,j.g[2]=j.g[2]+N&4294967295,j.g[3]=j.g[3]+P&4294967295}i.prototype.v=function(j,E){E===void 0&&(E=j.length);const C=E-this.blockSize,M=this.C;let N=this.h,P=0;for(;P<E;){if(N==0)for(;P<=C;)a(this,j,P),P+=this.blockSize;if(typeof j=="string"){for(;P<E;)if(M[N++]=j.charCodeAt(P++),N==this.blockSize){a(this,M),N=0;break}}else for(;P<E;)if(M[N++]=j[P++],N==this.blockSize){a(this,M),N=0;break}}this.h=N,this.o+=E},i.prototype.A=function(){var j=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);j[0]=128;for(var E=1;E<j.length-8;++E)j[E]=0;E=this.o*8;for(var C=j.length-8;C<j.length;++C)j[C]=E&255,E/=256;for(this.v(j),j=Array(16),E=0,C=0;C<4;++C)for(let M=0;M<32;M+=8)j[E++]=this.g[C]>>>M&255;return j};function l(j,E){var C=d;return Object.prototype.hasOwnProperty.call(C,j)?C[j]:C[j]=E(j)}function c(j,E){this.h=E;const C=[];let M=!0;for(let N=j.length-1;N>=0;N--){const P=j[N]|0;M&&P==E||(C[N]=P,M=!1)}this.g=C}var d={};function f(j){return-128<=j&&j<128?l(j,function(E){return new c([E|0],E<0?-1:0)}):new c([j|0],j<0?-1:0)}function p(j){if(isNaN(j)||!isFinite(j))return b;if(j<0)return V(p(-j));const E=[];let C=1;for(let M=0;j>=C;M++)E[M]=j/C|0,C*=4294967296;return new c(E,0)}function v(j,E){if(j.length==0)throw Error("number format error: empty string");if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(j.charAt(0)=="-")return V(v(j.substring(1),E));if(j.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=p(Math.pow(E,8));let M=b;for(let P=0;P<j.length;P+=8){var N=Math.min(8,j.length-P);const I=parseInt(j.substring(P,P+N),E);N<8?(N=p(Math.pow(E,N)),M=M.j(N).add(p(I))):(M=M.j(C),M=M.add(p(I)))}return M}var b=f(0),w=f(1),S=f(16777216);t=c.prototype,t.m=function(){if(O(this))return-V(this).m();let j=0,E=1;for(let C=0;C<this.g.length;C++){const M=this.i(C);j+=(M>=0?M:4294967296+M)*E,E*=4294967296}return j},t.toString=function(j){if(j=j||10,j<2||36<j)throw Error("radix out of range: "+j);if(D(this))return"0";if(O(this))return"-"+V(this).toString(j);const E=p(Math.pow(j,6));var C=this;let M="";for(;;){const N=te(C,E).g;C=z(C,N.j(E));let P=((C.g.length>0?C.g[0]:C.h)>>>0).toString(j);if(C=N,D(C))return P+M;for(;P.length<6;)P="0"+P;M=P+M}},t.i=function(j){return j<0?0:j<this.g.length?this.g[j]:this.h};function D(j){if(j.h!=0)return!1;for(let E=0;E<j.g.length;E++)if(j.g[E]!=0)return!1;return!0}function O(j){return j.h==-1}t.l=function(j){return j=z(this,j),O(j)?-1:D(j)?0:1};function V(j){const E=j.g.length,C=[];for(let M=0;M<E;M++)C[M]=~j.g[M];return new c(C,~j.h).add(w)}t.abs=function(){return O(this)?V(this):this},t.add=function(j){const E=Math.max(this.g.length,j.g.length),C=[];let M=0;for(let N=0;N<=E;N++){let P=M+(this.i(N)&65535)+(j.i(N)&65535),I=(P>>>16)+(this.i(N)>>>16)+(j.i(N)>>>16);M=I>>>16,P&=65535,I&=65535,C[N]=I<<16|P}return new c(C,C[C.length-1]&-2147483648?-1:0)};function z(j,E){return j.add(V(E))}t.j=function(j){if(D(this)||D(j))return b;if(O(this))return O(j)?V(this).j(V(j)):V(V(this).j(j));if(O(j))return V(this.j(V(j)));if(this.l(S)<0&&j.l(S)<0)return p(this.m()*j.m());const E=this.g.length+j.g.length,C=[];for(var M=0;M<2*E;M++)C[M]=0;for(M=0;M<this.g.length;M++)for(let N=0;N<j.g.length;N++){const P=this.i(M)>>>16,I=this.i(M)&65535,xe=j.i(N)>>>16,Ee=j.i(N)&65535;C[2*M+2*N]+=I*Ee,F(C,2*M+2*N),C[2*M+2*N+1]+=P*Ee,F(C,2*M+2*N+1),C[2*M+2*N+1]+=I*xe,F(C,2*M+2*N+1),C[2*M+2*N+2]+=P*xe,F(C,2*M+2*N+2)}for(j=0;j<E;j++)C[j]=C[2*j+1]<<16|C[2*j];for(j=E;j<2*E;j++)C[j]=0;return new c(C,0)};function F(j,E){for(;(j[E]&65535)!=j[E];)j[E+1]+=j[E]>>>16,j[E]&=65535,E++}function G(j,E){this.g=j,this.h=E}function te(j,E){if(D(E))throw Error("division by zero");if(D(j))return new G(b,b);if(O(j))return E=te(V(j),E),new G(V(E.g),V(E.h));if(O(E))return E=te(j,V(E)),new G(V(E.g),E.h);if(j.g.length>30){if(O(j)||O(E))throw Error("slowDivide_ only works with positive integers.");for(var C=w,M=E;M.l(j)<=0;)C=re(C),M=re(M);var N=he(C,1),P=he(M,1);for(M=he(M,2),C=he(C,2);!D(M);){var I=P.add(M);I.l(j)<=0&&(N=N.add(C),P=I),M=he(M,1),C=he(C,1)}return E=z(j,N.j(E)),new G(N,E)}for(N=b;j.l(E)>=0;){for(C=Math.max(1,Math.floor(j.m()/E.m())),M=Math.ceil(Math.log(C)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),P=p(C),I=P.j(E);O(I)||I.l(j)>0;)C-=M,P=p(C),I=P.j(E);D(P)&&(P=w),N=N.add(P),j=z(j,I)}return new G(N,j)}t.B=function(j){return te(this,j).h},t.and=function(j){const E=Math.max(this.g.length,j.g.length),C=[];for(let M=0;M<E;M++)C[M]=this.i(M)&j.i(M);return new c(C,this.h&j.h)},t.or=function(j){const E=Math.max(this.g.length,j.g.length),C=[];for(let M=0;M<E;M++)C[M]=this.i(M)|j.i(M);return new c(C,this.h|j.h)},t.xor=function(j){const E=Math.max(this.g.length,j.g.length),C=[];for(let M=0;M<E;M++)C[M]=this.i(M)^j.i(M);return new c(C,this.h^j.h)};function re(j){const E=j.g.length+1,C=[];for(let M=0;M<E;M++)C[M]=j.i(M)<<1|j.i(M-1)>>>31;return new c(C,j.h)}function he(j,E){const C=E>>5;E%=32;const M=j.g.length-C,N=[];for(let P=0;P<M;P++)N[P]=E>0?j.i(P+C)>>>E|j.i(P+C+1)<<32-E:j.i(P+C);return new c(N,j.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,G2=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=v,Yr=c}).apply(typeof VT<"u"?VT:typeof self<"u"?self:typeof window<"u"?window:{});var Nd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var $2,Jc,K2,tf,$0,Y2,Q2,X2;(function(){var t,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Nd=="object"&&Nd];for(var x=0;x<h.length;++x){var T=h[x];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var i=n(this);function a(h,x){if(x)e:{var T=i;h=h.split(".");for(var k=0;k<h.length-1;k++){var K=h[k];if(!(K in T))break e;T=T[K]}h=h[h.length-1],k=T[h],x=x(k),x!=k&&x!=null&&e(T,h,{configurable:!0,writable:!0,value:x})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(x){var T=[],k;for(k in x)Object.prototype.hasOwnProperty.call(x,k)&&T.push([k,x[k]]);return T}});var l=l||{},c=this||self;function d(h){var x=typeof h;return x=="object"&&h!=null||x=="function"}function f(h,x,T){return h.call.apply(h.bind,arguments)}function p(h,x,T){return p=f,p.apply(null,arguments)}function v(h,x){var T=Array.prototype.slice.call(arguments,1);return function(){var k=T.slice();return k.push.apply(k,arguments),h.apply(this,k)}}function b(h,x){function T(){}T.prototype=x.prototype,h.Z=x.prototype,h.prototype=new T,h.prototype.constructor=h,h.Ob=function(k,K,W){for(var de=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)de[Le-2]=arguments[Le];return x.prototype[K].apply(k,de)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function S(h){const x=h.length;if(x>0){const T=Array(x);for(let k=0;k<x;k++)T[k]=h[k];return T}return[]}function D(h,x){for(let k=1;k<arguments.length;k++){const K=arguments[k];var T=typeof K;if(T=T!="object"?T:K?Array.isArray(K)?"array":T:"null",T=="array"||T=="object"&&typeof K.length=="number"){T=h.length||0;const W=K.length||0;h.length=T+W;for(let de=0;de<W;de++)h[T+de]=K[de]}else h.push(K)}}class O{constructor(x,T){this.i=x,this.j=T,this.h=0,this.g=null}get(){let x;return this.h>0?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function V(h){c.setTimeout(()=>{throw h},0)}function z(){var h=j;let x=null;return h.g&&(x=h.g,h.g=h.g.next,h.g||(h.h=null),x.next=null),x}class F{constructor(){this.h=this.g=null}add(x,T){const k=G.get();k.set(x,T),this.h?this.h.next=k:this.g=k,this.h=k}}var G=new O(()=>new te,h=>h.reset());class te{constructor(){this.next=this.g=this.h=null}set(x,T){this.h=x,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let re,he=!1,j=new F,E=()=>{const h=Promise.resolve(void 0);re=()=>{h.then(C)}};function C(){for(var h;h=z();){try{h.h.call(h.g)}catch(T){V(T)}var x=G;x.j(h),x.h<100&&(x.h++,h.next=x.g,x.g=h)}he=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(h,x){this.type=h,this.g=this.target=x,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,x=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};c.addEventListener("test",T,x),c.removeEventListener("test",T,x)}catch{}return h})();function I(h){return/^[\s\xa0]*$/.test(h)}function xe(h,x){N.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,x)}b(xe,N),xe.prototype.init=function(h,x){const T=this.type=h.type,k=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=x,x=h.relatedTarget,x||(T=="mouseover"?x=h.fromElement:T=="mouseout"&&(x=h.toElement)),this.relatedTarget=x,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&xe.Z.h.call(this)},xe.prototype.h=function(){xe.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Ee="closure_listenable_"+(Math.random()*1e6|0),H=0;function Z(h,x,T,k,K){this.listener=h,this.proxy=null,this.src=x,this.type=T,this.capture=!!k,this.ha=K,this.key=++H,this.da=this.fa=!1}function $(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function me(h,x,T){for(const k in h)x.call(T,h[k],k,h)}function _e(h,x){for(const T in h)x.call(void 0,h[T],T,h)}function U(h){const x={};for(const T in h)x[T]=h[T];return x}const ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ce(h,x){let T,k;for(let K=1;K<arguments.length;K++){k=arguments[K];for(T in k)h[T]=k[T];for(let W=0;W<ee.length;W++)T=ee[W],Object.prototype.hasOwnProperty.call(k,T)&&(h[T]=k[T])}}function ue(h){this.src=h,this.g={},this.h=0}ue.prototype.add=function(h,x,T,k,K){const W=h.toString();h=this.g[W],h||(h=this.g[W]=[],this.h++);const de=De(h,x,k,K);return de>-1?(x=h[de],T||(x.fa=!1)):(x=new Z(x,this.src,W,!!k,K),x.fa=T,h.push(x)),x};function Se(h,x){const T=x.type;if(T in h.g){var k=h.g[T],K=Array.prototype.indexOf.call(k,x,void 0),W;(W=K>=0)&&Array.prototype.splice.call(k,K,1),W&&($(x),h.g[T].length==0&&(delete h.g[T],h.h--))}}function De(h,x,T,k){for(let K=0;K<h.length;++K){const W=h[K];if(!W.da&&W.listener==x&&W.capture==!!T&&W.ha==k)return K}return-1}var le="closure_lm_"+(Math.random()*1e6|0),Ne={};function Me(h,x,T,k,K){if(Array.isArray(x)){for(let W=0;W<x.length;W++)Me(h,x[W],T,k,K);return null}return T=Fl(T),h&&h[Ee]?h.J(x,T,d(k)?!!k.capture:!1,K):xt(h,x,T,!1,k,K)}function xt(h,x,T,k,K,W){if(!x)throw Error("Invalid event type");const de=d(K)?!!K.capture:!!K;let Le=ca(h);if(Le||(h[le]=Le=new ue(h)),T=Le.add(x,T,k,de,W),T.proxy)return T;if(k=Cn(),T.proxy=k,k.src=h,k.listener=T,h.addEventListener)P||(K=de),K===void 0&&(K=!1),h.addEventListener(x.toString(),k,K);else if(h.attachEvent)h.attachEvent(tn(x.toString()),k);else if(h.addListener&&h.removeListener)h.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Cn(){function h(T){return x.call(h.src,h.listener,T)}const x=vs;return h}function kn(h,x,T,k,K){if(Array.isArray(x))for(var W=0;W<x.length;W++)kn(h,x[W],T,k,K);else k=d(k)?!!k.capture:!!k,T=Fl(T),h&&h[Ee]?(h=h.i,W=String(x).toString(),W in h.g&&(x=h.g[W],T=De(x,T,k,K),T>-1&&($(x[T]),Array.prototype.splice.call(x,T,1),x.length==0&&(delete h.g[W],h.h--)))):h&&(h=ca(h))&&(x=h.g[x.toString()],h=-1,x&&(h=De(x,T,k,K)),(T=h>-1?x[h]:null)&&_i(T))}function _i(h){if(typeof h!="number"&&h&&!h.da){var x=h.src;if(x&&x[Ee])Se(x.i,h);else{var T=h.type,k=h.proxy;x.removeEventListener?x.removeEventListener(T,k,h.capture):x.detachEvent?x.detachEvent(tn(T),k):x.addListener&&x.removeListener&&x.removeListener(k),(T=ca(x))?(Se(T,h),T.h==0&&(T.src=null,x[le]=null)):$(h)}}}function tn(h){return h in Ne?Ne[h]:Ne[h]="on"+h}function vs(h,x){if(h.da)h=!0;else{x=new xe(x,this);const T=h.listener,k=h.ha||h.src;h.fa&&_i(h),h=T.call(k,x)}return h}function ca(h){return h=h[le],h instanceof ue?h:null}var Bl="__closure_events_fn_"+(Math.random()*1e9>>>0);function Fl(h){return typeof h=="function"?h:(h[Bl]||(h[Bl]=function(x){return h.handleEvent(x)}),h[Bl])}function jt(){M.call(this),this.i=new ue(this),this.M=this,this.G=null}b(jt,M),jt.prototype[Ee]=!0,jt.prototype.removeEventListener=function(h,x,T,k){kn(this,h,x,T,k)};function $t(h,x){var T,k=h.G;if(k)for(T=[];k;k=k.G)T.push(k);if(h=h.M,k=x.type||x,typeof x=="string")x=new N(x,h);else if(x instanceof N)x.target=x.target||h;else{var K=x;x=new N(k,h),ce(x,K)}K=!0;let W,de;if(T)for(de=T.length-1;de>=0;de--)W=x.g=T[de],K=ir(W,k,!0,x)&&K;if(W=x.g=h,K=ir(W,k,!0,x)&&K,K=ir(W,k,!1,x)&&K,T)for(de=0;de<T.length;de++)W=x.g=T[de],K=ir(W,k,!1,x)&&K}jt.prototype.N=function(){if(jt.Z.N.call(this),this.i){var h=this.i;for(const x in h.g){const T=h.g[x];for(let k=0;k<T.length;k++)$(T[k]);delete h.g[x],h.h--}}this.G=null},jt.prototype.J=function(h,x,T,k){return this.i.add(String(h),x,!1,T,k)},jt.prototype.K=function(h,x,T,k){return this.i.add(String(h),x,!0,T,k)};function ir(h,x,T,k){if(x=h.i.g[String(x)],!x)return!0;x=x.concat();let K=!0;for(let W=0;W<x.length;++W){const de=x[W];if(de&&!de.da&&de.capture==T){const Le=de.listener,Rt=de.ha||de.src;de.fa&&Se(h.i,de),K=Le.call(Rt,k)!==!1&&K}}return K&&!k.defaultPrevented}function _m(h,x){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=p(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(x)>2147483647?-1:c.setTimeout(h,x||0)}function Qu(h){h.g=_m(()=>{h.g=null,h.i&&(h.i=!1,Qu(h))},h.l);const x=h.h;h.h=null,h.m.apply(null,x)}class _n extends M{constructor(x,T){super(),this.m=x,this.l=T,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:Qu(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ua(h){M.call(this),this.h=h,this.g={}}b(ua,M);var Hl=[];function ql(h){me(h.g,function(x,T){this.g.hasOwnProperty(T)&&_i(x)},h),h.g={}}ua.prototype.N=function(){ua.Z.N.call(this),ql(this)},ua.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var rr=c.JSON.stringify,wm=c.JSON.parse,Xu=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function Wu(){}function Ju(){}var bs={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function nn(){N.call(this,"d")}b(nn,N);function Jn(){N.call(this,"c")}b(Jn,N);var kt={},Zu=null;function uo(){return Zu=Zu||new jt}kt.Ia="serverreachability";function eh(h){N.call(this,kt.Ia,h)}b(eh,N);function Us(h){const x=uo();$t(x,new eh(x))}kt.STAT_EVENT="statevent";function ha(h,x){N.call(this,kt.STAT_EVENT,h),this.stat=x}b(ha,N);function Mt(h){const x=uo();$t(x,new ha(x,h))}kt.Ja="timingevent";function zs(h,x){N.call(this,kt.Ja,h),this.size=x}b(zs,N);function Bs(h,x){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},x)}function xs(){this.g=!0}xs.prototype.ua=function(){this.g=!1};function Tm(h,x,T,k,K,W){h.info(function(){if(h.g)if(W){var de="",Le=W.split("&");for(let Ze=0;Ze<Le.length;Ze++){var Rt=Le[Ze].split("=");if(Rt.length>1){const pt=Rt[0];Rt=Rt[1];const ns=pt.split("_");de=ns.length>=2&&ns[1]=="type"?de+(pt+"="+Rt+"&"):de+(pt+"=redacted&")}}}else de=null;else de=W;return"XMLHTTP REQ ("+k+") [attempt "+K+"]: "+x+`
`+T+`
`+de})}function th(h,x,T,k,K,W,de){h.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+K+"]: "+x+`
`+T+`
`+W+" "+de})}function Fs(h,x,T,k){h.info(function(){return"XMLHTTP TEXT ("+x+"): "+Em(h,T)+(k?" "+k:"")})}function da(h,x){h.info(function(){return"TIMEOUT: "+x})}xs.prototype.info=function(){};function Em(h,x){if(!h.g)return x;if(!x)return null;try{const W=JSON.parse(x);if(W){for(h=0;h<W.length;h++)if(Array.isArray(W[h])){var T=W[h];if(!(T.length<2)){var k=T[1];if(Array.isArray(k)&&!(k.length<1)){var K=k[0];if(K!="noop"&&K!="stop"&&K!="close")for(let de=1;de<k.length;de++)k[de]=""}}}}return rr(W)}catch{return x}}var fa={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Gl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},$l;function ma(){}b(ma,Wu),ma.prototype.g=function(){return new XMLHttpRequest},$l=new ma;function wi(h){return encodeURIComponent(String(h))}function nh(h){var x=1;h=h.split(":");const T=[];for(;x>0&&h.length;)T.push(h.shift()),x--;return h.length&&T.push(h.join(":")),T}function _s(h,x,T,k){this.j=h,this.i=x,this.l=T,this.S=k||1,this.V=new ua(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ws}function ws(){this.i=null,this.g="",this.h=!1}var Vt={},Wt={};function Hs(h,x,T){h.M=1,h.A=pa(Pt(x)),h.u=T,h.R=!0,ho(h,null)}function ho(h,x){h.F=Date.now(),qs(h),h.B=Pt(h.A);var T=h.B,k=h.S;Array.isArray(k)||(k=[String(k)]),go(T.i,"t",k),h.C=0,T=h.j.L,h.h=new ws,h.g=yh(h.j,T?x:null,!h.u),h.P>0&&(h.O=new _n(p(h.Y,h,h.g),h.P)),x=h.V,T=h.g,k=h.ba;var K="readystatechange";Array.isArray(K)||(K&&(Hl[0]=K.toString()),K=Hl);for(let W=0;W<K.length;W++){const de=Me(T,K[W],k||x.handleEvent,!1,x.h||x);if(!de)break;x.g[de.key]=de}x=h.J?U(h.J):{},h.u?(h.v||(h.v="POST"),x["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,x)):(h.v="GET",h.g.ea(h.B,h.v,null,x)),Us(),Tm(h.i,h.v,h.B,h.l,h.S,h.u)}_s.prototype.ba=function(h){h=h.target;const x=this.O;x&&Ss(h)==3?x.j():this.Y(h)},_s.prototype.Y=function(h){try{if(h==this.g)e:{const Le=Ss(this.g),Rt=this.g.ya(),Ze=this.g.ca();if(!(Le<3)&&(Le!=3||this.g&&(this.h.h||this.g.la()||sn(this.g)))){this.K||Le!=4||Rt==7||(Rt==8||Ze<=0?Us(3):Us(2)),Gs(this);var x=this.g.ca();this.X=x;var T=Sm(this);if(this.o=x==200,th(this.i,this.v,this.B,this.l,this.S,Le,x),this.o){if(this.U&&!this.L){t:{if(this.g){var k,K=this.g;if((k=K.g?K.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(k)){var W=k;break t}}W=null}if(h=W)Fs(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,$s(this,h);else{this.o=!1,this.m=3,Mt(12),Un(this),Zn(this);break e}}if(this.R){h=!0;let pt;for(;!this.K&&this.C<T.length;)if(pt=ih(this,T),pt==Wt){Le==4&&(this.m=4,Mt(14),h=!1),Fs(this.i,this.l,null,"[Incomplete Response]");break}else if(pt==Vt){this.m=4,Mt(15),Fs(this.i,this.l,T,"[Invalid Chunk]"),h=!1;break}else Fs(this.i,this.l,pt,null),$s(this,pt);if(sh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Le!=4||T.length!=0||this.h.h||(this.m=1,Mt(16),h=!1),this.o=this.o&&h,!h)Fs(this.i,this.l,T,"[Invalid Chunked Response]"),Un(this),Zn(this);else if(T.length>0&&!this.W){this.W=!0;var de=this.j;de.g==this&&de.aa&&!de.P&&(de.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),oc(de),de.P=!0,Mt(11))}}else Fs(this.i,this.l,T,null),$s(this,T);Le==4&&Un(this),this.o&&!this.K&&(Le==4?fh(this.j,this):(this.o=!1,qs(this)))}else Ei(this.g),x==400&&T.indexOf("Unknown SID")>0?(this.m=3,Mt(12)):(this.m=0,Mt(13)),Un(this),Zn(this)}}}catch{}};function Sm(h){if(!sh(h))return h.g.la();const x=sn(h.g);if(x==="")return"";let T="";const k=x.length,K=Ss(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Un(h),Zn(h),"";h.h.i=new c.TextDecoder}for(let W=0;W<k;W++)h.h.h=!0,T+=h.h.i.decode(x[W],{stream:!(K&&W==k-1)});return x.length=0,h.h.g+=T,h.C=0,h.h.g}function sh(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function ih(h,x){var T=h.C,k=x.indexOf(`
`,T);return k==-1?Wt:(T=Number(x.substring(T,k)),isNaN(T)?Vt:(k+=1,k+T>x.length?Wt:(x=x.slice(k,k+T),h.C=k+T,x)))}_s.prototype.cancel=function(){this.K=!0,Un(this)};function qs(h){h.T=Date.now()+h.H,fo(h,h.H)}function fo(h,x){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Bs(p(h.aa,h),x)}function Gs(h){h.D&&(c.clearTimeout(h.D),h.D=null)}_s.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(da(this.i,this.B),this.M!=2&&(Us(),Mt(17)),Un(this),this.m=2,Zn(this)):fo(this,this.T-h)};function Zn(h){h.j.I==0||h.K||fh(h.j,h)}function Un(h){Gs(h);var x=h.O;x&&typeof x.dispose=="function"&&x.dispose(),h.O=null,ql(h.V),h.g&&(x=h.g,h.g=null,x.abort(),x.dispose())}function $s(h,x){try{var T=h.j;if(T.I!=0&&(T.g==h||Ys(T.h,h))){if(!h.L&&Ys(T.h,h)&&T.I==3){try{var k=T.Ba.g.parse(x)}catch{k=null}if(Array.isArray(k)&&k.length==3){var K=k;if(K[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<h.F)_o(T),fr(T);else break e;wa(T),Mt(18)}}else T.xa=K[1],0<T.xa-T.K&&K[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=Bs(p(T.Va,T),6e3));Ks(T.h)<=1&&T.ta&&(T.ta=void 0)}else ei(T,11)}else if((h.L||T.g==h)&&_o(T),!I(x))for(K=T.Ba.g.parse(x),x=0;x<K.length;x++){let Ze=K[x];const pt=Ze[0];if(!(pt<=T.K))if(T.K=pt,Ze=Ze[1],T.I==2)if(Ze[0]=="c"){T.M=Ze[1],T.ba=Ze[2];const ns=Ze[3];ns!=null&&(T.ka=ns,T.j.info("VER="+T.ka));const ti=Ze[4];ti!=null&&(T.za=ti,T.j.info("SVER="+T.za));const As=Ze[5];As!=null&&typeof As=="number"&&As>0&&(k=1.5*As,T.O=k,T.j.info("backChannelRequestTimeoutMs_="+k)),k=T;const Cs=h.g;if(Cs){const Ta=Cs.g?Cs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ta){var W=k.h;W.g||Ta.indexOf("spdy")==-1&&Ta.indexOf("quic")==-1&&Ta.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(Ql(W,W.h),W.h=null))}if(k.G){const wo=Cs.g?Cs.g.getResponseHeader("X-HTTP-Session-Id"):null;wo&&(k.wa=wo,nt(k.J,k.G,wo))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-h.F,T.j.info("Handshake RTT: "+T.T+"ms")),k=T;var de=h;if(k.na=gh(k,k.L?k.ba:null,k.W),de.L){Xl(k.h,de);var Le=de,Rt=k.O;Rt&&(Le.H=Rt),Le.D&&(Gs(Le),qs(Le)),k.g=de}else hh(k);T.i.length>0&&Zs(T)}else Ze[0]!="stop"&&Ze[0]!="close"||ei(T,7);else T.I==3&&(Ze[0]=="stop"||Ze[0]=="close"?Ze[0]=="stop"?ei(T,7):rc(T):Ze[0]!="noop"&&T.l&&T.l.qa(Ze),T.A=0)}}Us(4)}catch{}}var Ot=class{constructor(h,x){this.g=h,this.map=x}};function Kl(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Yl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Ks(h){return h.h?1:h.g?h.g.size:0}function Ys(h,x){return h.h?h.h==x:h.g?h.g.has(x):!1}function Ql(h,x){h.g?h.g.add(x):h.h=x}function Xl(h,x){h.h&&h.h==x?h.h=null:h.g&&h.g.has(x)&&h.g.delete(x)}Kl.prototype.cancel=function(){if(this.i=Wl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Wl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let x=h.i;for(const T of h.g.values())x=x.concat(T.G);return x}return S(h.i)}var rh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mo(h,x){if(h){h=h.split("&");for(let T=0;T<h.length;T++){const k=h[T].indexOf("=");let K,W=null;k>=0?(K=h[T].substring(0,k),W=h[T].substring(k+1)):K=h[T],x(K,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function zn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let x;h instanceof zn?(this.l=h.l,Jt(this,h.j),this.o=h.o,this.g=h.g,ar(this,h.u),this.h=h.h,Jl(this,ch(h.i)),this.m=h.m):h&&(x=String(h).match(rh))?(this.l=!1,Jt(this,x[1]||"",!0),this.o=Qs(x[2]||""),this.g=Qs(x[3]||"",!0),ar(this,x[4]),this.h=Qs(x[5]||"",!0),Jl(this,x[6]||"",!0),this.m=Qs(x[7]||"")):(this.l=!1,this.i=new lr(null,this.l))}zn.prototype.toString=function(){const h=[];var x=this.j;x&&h.push(ga(x,po,!0),":");var T=this.g;return(T||x=="file")&&(h.push("//"),(x=this.o)&&h.push(ga(x,po,!0),"@"),h.push(wi(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&h.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(ga(T,T.charAt(0)=="/"?Zl:ah,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",ga(T,oh)),h.join("")},zn.prototype.resolve=function(h){const x=Pt(this);let T=!!h.j;T?Jt(x,h.j):T=!!h.o,T?x.o=h.o:T=!!h.g,T?x.g=h.g:T=h.u!=null;var k=h.h;if(T)ar(x,h.u);else if(T=!!h.h){if(k.charAt(0)!="/")if(this.g&&!this.h)k="/"+k;else{var K=x.h.lastIndexOf("/");K!=-1&&(k=x.h.slice(0,K+1)+k)}if(K=k,K==".."||K==".")k="";else if(K.indexOf("./")!=-1||K.indexOf("/.")!=-1){k=K.lastIndexOf("/",0)==0,K=K.split("/");const W=[];for(let de=0;de<K.length;){const Le=K[de++];Le=="."?k&&de==K.length&&W.push(""):Le==".."?((W.length>1||W.length==1&&W[0]!="")&&W.pop(),k&&de==K.length&&W.push("")):(W.push(Le),k=!0)}k=W.join("/")}else k=K}return T?x.h=k:T=h.i.toString()!=="",T?Jl(x,ch(h.i)):T=!!h.m,T&&(x.m=h.m),x};function Pt(h){return new zn(h)}function Jt(h,x,T){h.j=T?Qs(x,!0):x,h.j&&(h.j=h.j.replace(/:$/,""))}function ar(h,x){if(x){if(x=Number(x),isNaN(x)||x<0)throw Error("Bad port number "+x);h.u=x}else h.u=null}function Jl(h,x,T){x instanceof lr?(h.i=x,yo(h.i,h.l)):(T||(x=ga(x,or)),h.i=new lr(x,h.l))}function nt(h,x,T){h.i.set(x,T)}function pa(h){return nt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Qs(h,x){return h?x?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function ga(h,x,T){return typeof h=="string"?(h=encodeURI(h).replace(x,Rn),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Rn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var po=/[#\/\?@]/g,ah=/[#\?:]/g,Zl=/[#\?]/g,or=/[#\?@]/g,oh=/#/g;function lr(h,x){this.h=this.g=null,this.i=h||null,this.j=!!x}function Nn(h){h.g||(h.g=new Map,h.h=0,h.i&&mo(h.i,function(x,T){h.add(decodeURIComponent(x.replace(/\+/g," ")),T)}))}t=lr.prototype,t.add=function(h,x){Nn(this),this.i=null,h=cr(this,h);let T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(x),this.h+=1,this};function lh(h,x){Nn(h),x=cr(h,x),h.g.has(x)&&(h.i=null,h.h-=h.g.get(x).length,h.g.delete(x))}function ec(h,x){return Nn(h),x=cr(h,x),h.g.has(x)}t.forEach=function(h,x){Nn(this),this.g.forEach(function(T,k){T.forEach(function(K){h.call(x,K,k,this)},this)},this)};function tc(h,x){Nn(h);let T=[];if(typeof x=="string")ec(h,x)&&(T=T.concat(h.g.get(cr(h,x))));else for(h=Array.from(h.g.values()),x=0;x<h.length;x++)T=T.concat(h[x]);return T}t.set=function(h,x){return Nn(this),this.i=null,h=cr(this,h),ec(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[x]),this.h+=1,this},t.get=function(h,x){return h?(h=tc(this,h),h.length>0?String(h[0]):x):x};function go(h,x,T){lh(h,x),T.length>0&&(h.i=null,h.g.set(cr(h,x),S(T)),h.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],x=Array.from(this.g.keys());for(let k=0;k<x.length;k++){var T=x[k];const K=wi(T);T=tc(this,T);for(let W=0;W<T.length;W++){let de=K;T[W]!==""&&(de+="="+wi(T[W])),h.push(de)}}return this.i=h.join("&")};function ch(h){const x=new lr;return x.i=h.i,h.g&&(x.g=new Map(h.g),x.h=h.h),x}function cr(h,x){return x=String(x),h.j&&(x=x.toLowerCase()),x}function yo(h,x){x&&!h.j&&(Nn(h),h.i=null,h.g.forEach(function(T,k){const K=k.toLowerCase();k!=K&&(lh(this,k),go(this,K,T))},h)),h.j=x}function Ts(h,x){const T=new xs;if(c.Image){const k=new Image;k.onload=v(es,T,"TestLoadImage: loaded",!0,x,k),k.onerror=v(es,T,"TestLoadImage: error",!1,x,k),k.onabort=v(es,T,"TestLoadImage: abort",!1,x,k),k.ontimeout=v(es,T,"TestLoadImage: timeout",!1,x,k),c.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=h}else x(!1)}function nc(h,x){const T=new xs,k=new AbortController,K=setTimeout(()=>{k.abort(),es(T,"TestPingServer: timeout",!1,x)},1e4);fetch(h,{signal:k.signal}).then(W=>{clearTimeout(K),W.ok?es(T,"TestPingServer: ok",!0,x):es(T,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(K),es(T,"TestPingServer: error",!1,x)})}function es(h,x,T,k,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),k(T)}catch{}}function ur(){this.g=new Xu}function Xs(h){this.i=h.Sb||null,this.h=h.ab||!1}b(Xs,Wu),Xs.prototype.g=function(){return new ya(this.i,this.h)};function ya(h,x){jt.call(this),this.H=h,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(ya,jt),t=ya.prototype,t.open=function(h,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=x,this.readyState=1,Es(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const x={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(x.body=h),(this.H||c).fetch(new Request(this.D,x)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,hr(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Es(this)),this.g&&(this.readyState=3,Es(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;vo(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function vo(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var x=h.value?h.value:new Uint8Array(0);(x=this.B.decode(x,{stream:!h.done}))&&(this.response=this.responseText+=x)}h.done?hr(this):Es(this),this.readyState==3&&vo(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,hr(this))},t.Na=function(h){this.g&&(this.response=h,hr(this))},t.ga=function(){this.g&&hr(this)};function hr(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Es(h)}t.setRequestHeader=function(h,x){this.A.append(h,x)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],x=this.h.entries();for(var T=x.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=x.next();return h.join(`\r
`)};function Es(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(ya.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function ts(h){let x="";return me(h,function(T,k){x+=k,x+=":",x+=T,x+=`\r
`}),x}function va(h,x,T){e:{for(k in T){var k=!1;break e}k=!0}k||(T=ts(T),typeof h=="string"?T!=null&&wi(T):nt(h,x,T))}function rt(h){jt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(rt,jt);var Ws=/^https?$/i,sc=["POST","PUT"];t=rt.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,x,T,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);x=x?x.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():$l.g(),this.g.onreadystatechange=w(p(this.Ca,this));try{this.B=!0,this.g.open(x,String(h),!0),this.B=!1}catch(W){ba(this,W);return}if(h=T||"",T=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var K in k)T.set(K,k[K]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const W of k.keys())T.set(W,k.get(W));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(T.keys()).find(W=>W.toLowerCase()=="content-type"),K=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(sc,x,void 0)>=0)||k||K||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,de]of T)this.g.setRequestHeader(W,de);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(W){ba(this,W)}};function ba(h,x){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=x,h.o=5,ic(h),Ti(h)}function ic(h){h.A||(h.A=!0,$t(h,"complete"),$t(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,$t(this,"complete"),$t(this,"abort"),Ti(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ti(this,!0)),rt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?xa(this):this.Xa())},t.Xa=function(){xa(this)};function xa(h){if(h.h&&typeof l<"u"){if(h.v&&Ss(h)==4)setTimeout(h.Ca.bind(h),0);else if($t(h,"readystatechange"),Ss(h)==4){h.h=!1;try{const W=h.ca();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var T;if(!(T=x)){var k;if(k=W===0){let de=String(h.D).match(rh)[1]||null;!de&&c.self&&c.self.location&&(de=c.self.location.protocol.slice(0,-1)),k=!Ws.test(de?de.toLowerCase():"")}T=k}if(T)$t(h,"complete"),$t(h,"success");else{h.o=6;try{var K=Ss(h)>2?h.g.statusText:""}catch{K=""}h.l=K+" ["+h.ca()+"]",ic(h)}}finally{Ti(h)}}}}function Ti(h,x){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const T=h.g;h.g=null,x||$t(h,"ready");try{T.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Ss(h){return h.g?h.g.readyState:0}t.ca=function(){try{return Ss(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var x=this.g.responseText;return h&&x.indexOf(h)==0&&(x=x.substring(h.length)),wm(x)}};function sn(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Ei(h){const x={};h=(h.g&&Ss(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<h.length;k++){if(I(h[k]))continue;var T=nh(h[k]);const K=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const W=x[K]||[];x[K]=W,W.push(T)}_e(x,function(k){return k.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Js(h,x,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||x}function dr(h){this.za=0,this.i=[],this.j=new xs,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Js("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Js("baseRetryDelayMs",5e3,h),this.Za=Js("retryDelaySeedMs",1e4,h),this.Ta=Js("forwardChannelMaxRetries",2,h),this.va=Js("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Kl(h&&h.concurrentRequestLimit),this.Ba=new ur,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=dr.prototype,t.ka=8,t.I=1,t.connect=function(h,x,T,k){Mt(0),this.W=h,this.H=x||{},T&&k!==void 0&&(this.H.OSID=T,this.H.OAID=k),this.F=this.X,this.J=gh(this,null,this.W),Zs(this)};function rc(h){if(bo(h),h.I==3){var x=h.V++,T=Pt(h.J);if(nt(T,"SID",h.M),nt(T,"RID",x),nt(T,"TYPE","terminate"),_a(h,T),x=new _s(h,h.j,x),x.M=2,x.A=pa(Pt(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(x.A.toString(),"")}catch{}!T&&c.Image&&(new Image().src=x.A,T=!0),T||(x.g=yh(x.j,null),x.g.ea(x.A)),x.F=Date.now(),qs(x)}ph(h)}function fr(h){h.g&&(oc(h),h.g.cancel(),h.g=null)}function bo(h){fr(h),h.v&&(c.clearTimeout(h.v),h.v=null),_o(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function Zs(h){if(!Yl(h.h)&&!h.m){h.m=!0;var x=h.Ea;re||E(),he||(re(),he=!0),j.add(x,h),h.D=0}}function xo(h,x){return Ks(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=x.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Bs(p(h.Ea,h,x),mh(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const K=new _s(this,this.j,h);let W=this.o;if(this.U&&(W?(W=U(W),ce(W,this.U)):W=this.U),this.u!==null||this.R||(K.J=W,W=null),this.S)e:{for(var x=0,T=0;T<this.i.length;T++){t:{var k=this.i[T];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(x+=k,x>4096){x=T;break e}if(x===4096||T===this.i.length-1){x=T+1;break e}}x=1e3}else x=1e3;x=uh(this,K,x),T=Pt(this.J),nt(T,"RID",h),nt(T,"CVER",22),this.G&&nt(T,"X-HTTP-Session-Id",this.G),_a(this,T),W&&(this.R?x="headers="+wi(ts(W))+"&"+x:this.u&&va(T,this.u,W)),Ql(this.h,K),this.Ra&&nt(T,"TYPE","init"),this.S?(nt(T,"$req",x),nt(T,"SID","null"),K.U=!0,Hs(K,T,null)):Hs(K,T,x),this.I=2}}else this.I==3&&(h?ac(this,h):this.i.length==0||Yl(this.h)||ac(this))};function ac(h,x){var T;x?T=x.l:T=h.V++;const k=Pt(h.J);nt(k,"SID",h.M),nt(k,"RID",T),nt(k,"AID",h.K),_a(h,k),h.u&&h.o&&va(k,h.u,h.o),T=new _s(h,h.j,T,h.D+1),h.u===null&&(T.J=h.o),x&&(h.i=x.G.concat(h.i)),x=uh(h,T,1e3),T.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Ql(h.h,T),Hs(T,k,x)}function _a(h,x){h.H&&me(h.H,function(T,k){nt(x,k,T)}),h.l&&me({},function(T,k){nt(x,k,T)})}function uh(h,x,T){T=Math.min(h.i.length,T);const k=h.l?p(h.l.Ka,h.l,h):null;e:{var K=h.i;let Le=-1;for(;;){const Rt=["count="+T];Le==-1?T>0?(Le=K[0].g,Rt.push("ofs="+Le)):Le=0:Rt.push("ofs="+Le);let Ze=!0;for(let pt=0;pt<T;pt++){var W=K[pt].g;const ns=K[pt].map;if(W-=Le,W<0)Le=Math.max(0,K[pt].g-100),Ze=!1;else try{W="req"+W+"_"||"";try{var de=ns instanceof Map?ns:Object.entries(ns);for(const[ti,As]of de){let Cs=As;d(As)&&(Cs=rr(As)),Rt.push(W+ti+"="+encodeURIComponent(Cs))}}catch(ti){throw Rt.push(W+"type="+encodeURIComponent("_badmap")),ti}}catch{k&&k(ns)}}if(Ze){de=Rt.join("&");break e}}de=void 0}return h=h.i.splice(0,T),x.G=h,de}function hh(h){if(!h.g&&!h.v){h.Y=1;var x=h.Da;re||E(),he||(re(),he=!0),j.add(x,h),h.A=0}}function wa(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Bs(p(h.Da,h),mh(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,dh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Bs(p(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Mt(10),fr(this),dh(this))};function oc(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function dh(h){h.g=new _s(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var x=Pt(h.na);nt(x,"RID","rpc"),nt(x,"SID",h.M),nt(x,"AID",h.K),nt(x,"CI",h.F?"0":"1"),!h.F&&h.ia&&nt(x,"TO",h.ia),nt(x,"TYPE","xmlhttp"),_a(h,x),h.u&&h.o&&va(x,h.u,h.o),h.O&&(h.g.H=h.O);var T=h.g;h=h.ba,T.M=1,T.A=pa(Pt(x)),T.u=null,T.R=!0,ho(T,h)}t.Va=function(){this.C!=null&&(this.C=null,fr(this),wa(this),Mt(19))};function _o(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function fh(h,x){var T=null;if(h.g==x){_o(h),oc(h),h.g=null;var k=2}else if(Ys(h.h,x))T=x.G,Xl(h.h,x),k=1;else return;if(h.I!=0){if(x.o)if(k==1){T=x.u?x.u.length:0,x=Date.now()-x.F;var K=h.D;k=uo(),$t(k,new zs(k,T)),Zs(h)}else hh(h);else if(K=x.m,K==3||K==0&&x.X>0||!(k==1&&xo(h,x)||k==2&&wa(h)))switch(T&&T.length>0&&(x=h.h,x.i=x.i.concat(T)),K){case 1:ei(h,5);break;case 4:ei(h,10);break;case 3:ei(h,6);break;default:ei(h,2)}}}function mh(h,x){let T=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(T*=2),T*x}function ei(h,x){if(h.j.info("Error code "+x),x==2){var T=p(h.bb,h),k=h.Ua;const K=!k;k=new zn(k||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Jt(k,"https"),pa(k),K?Ts(k.toString(),T):nc(k.toString(),T)}else Mt(2);h.I=0,h.l&&h.l.pa(x),ph(h),bo(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Mt(2)):(this.j.info("Failed to ping google.com"),Mt(1))};function ph(h){if(h.I=0,h.ja=[],h.l){const x=Wl(h.h);(x.length!=0||h.i.length!=0)&&(D(h.ja,x),D(h.ja,h.i),h.h.i.length=0,S(h.i),h.i.length=0),h.l.oa()}}function gh(h,x,T){var k=T instanceof zn?Pt(T):new zn(T);if(k.g!="")x&&(k.g=x+"."+k.g),ar(k,k.u);else{var K=c.location;k=K.protocol,x=x?x+"."+K.hostname:K.hostname,K=+K.port;const W=new zn(null);k&&Jt(W,k),x&&(W.g=x),K&&ar(W,K),T&&(W.h=T),k=W}return T=h.G,x=h.wa,T&&x&&nt(k,T,x),nt(k,"VER",h.ka),_a(h,k),k}function yh(h,x,T){if(x&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return x=h.Aa&&!h.ma?new rt(new Xs({ab:T})):new rt(h.ma),x.Fa(h.L),x}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function vh(){}t=vh.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function mr(){}mr.prototype.g=function(h,x){return new wn(h,x)};function wn(h,x){jt.call(this),this.g=new dr(x),this.l=h,this.h=x&&x.messageUrlParams||null,h=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(h?h["X-WebChannel-Content-Type"]=x.messageContentType:h={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.sa&&(h?h["X-WebChannel-Client-Profile"]=x.sa:h={"X-WebChannel-Client-Profile":x.sa}),this.g.U=h,(h=x&&x.Qb)&&!I(h)&&(this.g.u=h),this.A=x&&x.supportsCrossDomainXhr||!1,this.v=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!I(x)&&(this.g.G=x,h=this.h,h!==null&&x in h&&(h=this.h,x in h&&delete h[x])),this.j=new Si(this)}b(wn,jt),wn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},wn.prototype.close=function(){rc(this.g)},wn.prototype.o=function(h){var x=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.v&&(T={},T.__data__=rr(h),h=T);x.i.push(new Ot(x.Ya++,h)),x.I==3&&Zs(x)},wn.prototype.N=function(){this.g.l=null,delete this.j,rc(this.g),delete this.g,wn.Z.N.call(this)};function bh(h){nn.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var x=h.__sm__;if(x){e:{for(const T in x){h=T;break e}h=void 0}(this.i=h)&&(h=this.i,x=x!==null&&h in x?x[h]:void 0),this.data=x}else this.data=h}b(bh,nn);function xh(){Jn.call(this),this.status=1}b(xh,Jn);function Si(h){this.g=h}b(Si,vh),Si.prototype.ra=function(){$t(this.g,"a")},Si.prototype.qa=function(h){$t(this.g,new bh(h))},Si.prototype.pa=function(h){$t(this.g,new xh)},Si.prototype.oa=function(){$t(this.g,"b")},mr.prototype.createWebChannel=mr.prototype.g,wn.prototype.send=wn.prototype.o,wn.prototype.open=wn.prototype.m,wn.prototype.close=wn.prototype.close,X2=function(){return new mr},Q2=function(){return uo()},Y2=kt,$0={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},fa.NO_ERROR=0,fa.TIMEOUT=8,fa.HTTP_ERROR=6,tf=fa,Gl.COMPLETE="complete",K2=Gl,Ju.EventType=bs,bs.OPEN="a",bs.CLOSE="b",bs.ERROR="c",bs.MESSAGE="d",jt.prototype.listen=jt.prototype.J,Jc=Ju,rt.prototype.listenOnce=rt.prototype.K,rt.prototype.getLastError=rt.prototype.Ha,rt.prototype.getLastErrorCode=rt.prototype.ya,rt.prototype.getStatus=rt.prototype.ca,rt.prototype.getResponseJson=rt.prototype.La,rt.prototype.getResponseText=rt.prototype.la,rt.prototype.send=rt.prototype.ea,rt.prototype.setWithCredentials=rt.prototype.Fa,$2=rt}).apply(typeof Nd<"u"?Nd:typeof self<"u"?self:typeof window<"u"?window:{});class gn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}gn.UNAUTHENTICATED=new gn(null),gn.GOOGLE_CREDENTIALS=new gn("google-credentials-uid"),gn.FIRST_PARTY=new gn("first-party-uid"),gn.MOCK_USER=new gn("mock-user");let jl="12.9.0";function _P(t){jl=t}const to=new nv("@firebase/firestore");function el(){return to.logLevel}function pe(t,...e){if(to.logLevel<=$e.DEBUG){const n=e.map(pv);to.debug(`Firestore (${jl}): ${t}`,...n)}}function Zi(t,...e){if(to.logLevel<=$e.ERROR){const n=e.map(pv);to.error(`Firestore (${jl}): ${t}`,...n)}}function no(t,...e){if(to.logLevel<=$e.WARN){const n=e.map(pv);to.warn(`Firestore (${jl}): ${t}`,...n)}}function pv(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Ie(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,W2(t,i,n)}function W2(t,e,n){let i=`FIRESTORE (${jl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw Zi(i),new Error(i)}function tt(t,e,n,i){let a="Unexpected state";typeof n=="string"?a=n:i=n,t||W2(e,a,i)}function Pe(t,e){return t}const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends xi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Yi{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class J2{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class wP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(gn.UNAUTHENTICATED)))}shutdown(){}}class TP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class EP{constructor(e){this.t=e,this.currentUser=gn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){tt(this.o===void 0,42304);let i=this.i;const a=f=>this.i!==i?(i=this.i,n(f)):Promise.resolve();let l=new Yi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Yi,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const f=l;e.enqueueRetryable((async()=>{await f.promise,await a(this.currentUser)}))},d=f=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((f=>d(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Yi)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(tt(typeof i.accessToken=="string",31837,{l:i}),new J2(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return tt(e===null||typeof e=="string",2055,{h:e}),new gn(e)}}class SP{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=gn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class AP{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new SP(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(gn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class OT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class CP{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,hs(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){tt(this.o===void 0,3512);const i=l=>{l.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,pe("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>i(l)))};const a=l=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new OT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(tt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new OT(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function kP(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}class gv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=kP(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<n&&(i+=e.charAt(a[l]%62))}return i}}function Ke(t,e){return t<e?-1:t>e?1:0}function K0(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const a=t.charAt(i),l=e.charAt(i);if(a!==l)return Jg(a)===Jg(l)?Ke(a,l):Jg(a)?1:-1}return Ke(t.length,e.length)}const RP=55296,NP=57343;function Jg(t){const e=t.charCodeAt(0);return e>=RP&&e<=NP}function bl(t,e,n){return t.length===e.length&&t.every(((i,a)=>n(i,e[a])))}const PT="__name__";class li{constructor(e,n,i){n===void 0?n=0:n>e.length&&Ie(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&Ie(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return li.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof li?e.forEach((i=>{n.push(i)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let a=0;a<i;a++){const l=li.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return Ke(e.length,n.length)}static compareSegments(e,n){const i=li.isNumericId(e),a=li.isNumericId(n);return i&&!a?-1:!i&&a?1:i&&a?li.extractNumericId(e).compare(li.extractNumericId(n)):K0(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Yr.fromString(e.substring(4,e.length-2))}}class ut extends li{construct(e,n,i){return new ut(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new fe(ie.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((a=>a.length>0)))}return new ut(n)}static emptyPath(){return new ut([])}}const IP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class dn extends li{construct(e,n,i){return new dn(e,n,i)}static isValidIdentifier(e){return IP.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),dn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===PT}static keyField(){return new dn([PT])}static fromServerFormat(e){const n=[];let i="",a=0;const l=()=>{if(i.length===0)throw new fe(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new fe(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[a+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new fe(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=f,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(i+=d,a++):(l(),a++)}if(l(),c)throw new fe(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new dn(n)}static emptyPath(){return new dn([])}}class ke{constructor(e){this.path=e}static fromPath(e){return new ke(ut.fromString(e))}static fromName(e){return new ke(ut.fromString(e).popFirst(5))}static empty(){return new ke(ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ut.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ut.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ke(new ut(e.slice()))}}function Z2(t,e,n){if(!n)throw new fe(ie.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function DP(t,e,n,i){if(e===!0&&i===!0)throw new fe(ie.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function LT(t){if(!ke.isDocumentKey(t))throw new fe(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function UT(t){if(ke.isDocumentKey(t))throw new fe(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function eC(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Zf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ie(12329,{type:typeof t})}function Ln(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new fe(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Zf(t);throw new fe(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function jP(t,e){if(e<=0)throw new fe(ie.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}function Gt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Fu(t,e){if(!eC(t))throw new fe(ie.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const a=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const c=t[i];if(a&&typeof c!==a){n=`JSON field '${i}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${i}' field to equal '${l.value}'`;break}}if(n)throw new fe(ie.INVALID_ARGUMENT,n);return!0}const zT=-62135596800,BT=1e6;class mt{static now(){return mt.fromMillis(Date.now())}static fromDate(e){return mt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*BT);return new mt(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<zT)throw new fe(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/BT}_compareTo(e){return this.seconds===e.seconds?Ke(this.nanoseconds,e.nanoseconds):Ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:mt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Fu(e,mt._jsonSchema))return new mt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-zT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}mt._jsonSchemaVersion="firestore/timestamp/1.0",mt._jsonSchema={type:Gt("string",mt._jsonSchemaVersion),seconds:Gt("number"),nanoseconds:Gt("number")};class Ve{static fromTimestamp(e){return new Ve(e)}static min(){return new Ve(new mt(0,0))}static max(){return new Ve(new mt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const wu=-1;function MP(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,a=Ve.fromTimestamp(i===1e9?new mt(n+1,0):new mt(n,i));return new Zr(a,ke.empty(),e)}function VP(t){return new Zr(t.readTime,t.key,wu)}class Zr{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Zr(Ve.min(),ke.empty(),wu)}static max(){return new Zr(Ve.max(),ke.empty(),wu)}}function OP(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ke.comparator(t.documentKey,e.documentKey),n!==0?n:Ke(t.largestBatchId,e.largestBatchId))}const PP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class LP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Ml(t){if(t.code!==ie.FAILED_PRECONDITION||t.message!==PP)throw t;pe("LocalStore","Unexpectedly lost primary lease")}class oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ie(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new oe(((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(i,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof oe?n:oe.resolve(n)}catch(n){return oe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):oe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):oe.reject(n)}static resolve(e){return new oe(((n,i)=>{n(e)}))}static reject(e){return new oe(((n,i)=>{i(e)}))}static waitFor(e){return new oe(((n,i)=>{let a=0,l=0,c=!1;e.forEach((d=>{++a,d.next((()=>{++l,c&&l===a&&n()}),(f=>i(f)))})),c=!0,l===a&&n()}))}static or(e){let n=oe.resolve(!1);for(const i of e)n=n.next((a=>a?oe.resolve(a):i()));return n}static forEach(e,n){const i=[];return e.forEach(((a,l)=>{i.push(n.call(this,a,l))})),this.waitFor(i)}static mapArray(e,n){return new oe(((i,a)=>{const l=e.length,c=new Array(l);let d=0;for(let f=0;f<l;f++){const p=f;n(e[p]).next((v=>{c[p]=v,++d,d===l&&i(c)}),(v=>a(v)))}}))}static doWhile(e,n){return new oe(((i,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):i()};l()}))}}function UP(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Vl(t){return t.name==="IndexedDbTransactionError"}class em{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}em.ce=-1;const yv=-1;function tm(t){return t==null}function Sf(t){return t===0&&1/t==-1/0}function zP(t){return typeof t=="number"&&Number.isInteger(t)&&!Sf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const tC="";function BP(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=FT(e)),e=FP(t.get(n),e);return FT(e)}function FP(t,e){let n=e;const i=t.length;for(let a=0;a<i;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case tC:n+="";break;default:n+=l}}return n}function FT(t){return t+tC+""}function HT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function oa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function nC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class bt{constructor(e,n){this.comparator=e,this.root=n||hn.EMPTY}insert(e,n){return new bt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,hn.BLACK,null,null))}remove(e){return new bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,hn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return n+i.left.size;a<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,i)=>(e(n,i),!1)))}toString(){const e=[];return this.inorderTraversal(((n,i)=>(e.push(`${n}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Id(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Id(this.root,e,this.comparator,!1)}getReverseIterator(){return new Id(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Id(this.root,e,this.comparator,!0)}}class Id{constructor(e,n,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?i(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class hn{constructor(e,n,i,a,l){this.key=e,this.value=n,this.color=i??hn.RED,this.left=a??hn.EMPTY,this.right=l??hn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,a,l){return new hn(e??this.key,n??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,i),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return hn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return hn.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,hn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,hn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ie(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ie(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ie(27949);return e+(this.isRed()?0:1)}}hn.EMPTY=null,hn.RED=!0,hn.BLACK=!1;hn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ie(57766)}get value(){throw Ie(16141)}get color(){throw Ie(16727)}get left(){throw Ie(29726)}get right(){throw Ie(36894)}copy(e,n,i,a,l){return this}insert(e,n,i){return new hn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Xt{constructor(e){this.comparator=e,this.data=new bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,i)=>(e(n),!1)))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new qT(this.data.getIterator())}getIteratorFrom(e){return new qT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((i=>{n=n.add(i)})),n}isEqual(e){if(!(e instanceof Xt)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Xt(this.comparator);return n.data=e,n}}class qT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Yn{constructor(e){this.fields=e,e.sort(dn.comparator)}static empty(){return new Yn([])}unionWith(e){let n=new Xt(dn.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Yn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return bl(this.fields,e.fields,((n,i)=>n.isEqual(i)))}}class sC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class fn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new sC("Invalid base64 string: "+l):l}})(e);return new fn(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(e);return new fn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}fn.EMPTY_BYTE_STRING=new fn("");const HP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ea(t){if(tt(!!t,39018),typeof t=="string"){let e=0;const n=HP.exec(t);if(tt(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Dt(t.seconds),nanos:Dt(t.nanos)}}function Dt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ta(t){return typeof t=="string"?fn.fromBase64String(t):fn.fromUint8Array(t)}const iC="server_timestamp",rC="__type__",aC="__previous_value__",oC="__local_write_time__";function vv(t){return(t?.mapValue?.fields||{})[rC]?.stringValue===iC}function nm(t){const e=t.mapValue.fields[aC];return vv(e)?nm(e):e}function Tu(t){const e=ea(t.mapValue.fields[oC].timestampValue);return new mt(e.seconds,e.nanos)}class qP{constructor(e,n,i,a,l,c,d,f,p,v,b){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=p,this.isUsingEmulator=v,this.apiKey=b}}const Af="(default)";class Eu{constructor(e,n){this.projectId=e,this.database=n||Af}static empty(){return new Eu("","")}get isDefaultDatabase(){return this.database===Af}isEqual(e){return e instanceof Eu&&e.projectId===this.projectId&&e.database===this.database}}function GP(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new fe(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Eu(t.options.projectId,e)}const lC="__type__",$P="__max__",Dd={mapValue:{}},cC="__vector__",Cf="value";function na(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?vv(t)?4:YP(t)?9007199254740991:KP(t)?10:11:Ie(28295,{value:t})}function vi(t,e){if(t===e)return!0;const n=na(t);if(n!==na(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Tu(t).isEqual(Tu(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=ea(a.timestampValue),d=ea(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return ta(a.bytesValue).isEqual(ta(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return Dt(a.geoPointValue.latitude)===Dt(l.geoPointValue.latitude)&&Dt(a.geoPointValue.longitude)===Dt(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Dt(a.integerValue)===Dt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Dt(a.doubleValue),d=Dt(l.doubleValue);return c===d?Sf(c)===Sf(d):isNaN(c)&&isNaN(d)}return!1})(t,e);case 9:return bl(t.arrayValue.values||[],e.arrayValue.values||[],vi);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(HT(c)!==HT(d))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(d[f]===void 0||!vi(c[f],d[f])))return!1;return!0})(t,e);default:return Ie(52216,{left:t})}}function Su(t,e){return(t.values||[]).find((n=>vi(n,e)))!==void 0}function xl(t,e){if(t===e)return 0;const n=na(t),i=na(e);if(n!==i)return Ke(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ke(t.booleanValue,e.booleanValue);case 2:return(function(l,c){const d=Dt(l.integerValue||l.doubleValue),f=Dt(c.integerValue||c.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1})(t,e);case 3:return GT(t.timestampValue,e.timestampValue);case 4:return GT(Tu(t),Tu(e));case 5:return K0(t.stringValue,e.stringValue);case 6:return(function(l,c){const d=ta(l),f=ta(c);return d.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(l,c){const d=l.split("/"),f=c.split("/");for(let p=0;p<d.length&&p<f.length;p++){const v=Ke(d[p],f[p]);if(v!==0)return v}return Ke(d.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,c){const d=Ke(Dt(l.latitude),Dt(c.latitude));return d!==0?d:Ke(Dt(l.longitude),Dt(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return $T(t.arrayValue,e.arrayValue);case 10:return(function(l,c){const d=l.fields||{},f=c.fields||{},p=d[Cf]?.arrayValue,v=f[Cf]?.arrayValue,b=Ke(p?.values?.length||0,v?.values?.length||0);return b!==0?b:$T(p,v)})(t.mapValue,e.mapValue);case 11:return(function(l,c){if(l===Dd.mapValue&&c===Dd.mapValue)return 0;if(l===Dd.mapValue)return 1;if(c===Dd.mapValue)return-1;const d=l.fields||{},f=Object.keys(d),p=c.fields||{},v=Object.keys(p);f.sort(),v.sort();for(let b=0;b<f.length&&b<v.length;++b){const w=K0(f[b],v[b]);if(w!==0)return w;const S=xl(d[f[b]],p[v[b]]);if(S!==0)return S}return Ke(f.length,v.length)})(t.mapValue,e.mapValue);default:throw Ie(23264,{he:n})}}function GT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ke(t,e);const n=ea(t),i=ea(e),a=Ke(n.seconds,i.seconds);return a!==0?a:Ke(n.nanos,i.nanos)}function $T(t,e){const n=t.values||[],i=e.values||[];for(let a=0;a<n.length&&a<i.length;++a){const l=xl(n[a],i[a]);if(l)return l}return Ke(n.length,i.length)}function _l(t){return Y0(t)}function Y0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const i=ea(n);return`time(${i.seconds},${i.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return ta(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return ke.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let i="[",a=!0;for(const l of n.values||[])a?a=!1:i+=",",i+=Y0(l);return i+"]"})(t.arrayValue):"mapValue"in t?(function(n){const i=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of i)l?l=!1:a+=",",a+=`${c}:${Y0(n.fields[c])}`;return a+"}"})(t.mapValue):Ie(61005,{value:t})}function nf(t){switch(na(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=nm(t);return e?16+nf(e):16;case 5:return 2*t.stringValue.length;case 6:return ta(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((a,l)=>a+nf(l)),0)})(t.arrayValue);case 10:case 11:return(function(i){let a=0;return oa(i.fields,((l,c)=>{a+=l.length+nf(c)})),a})(t.mapValue);default:throw Ie(13486,{value:t})}}function KT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Q0(t){return!!t&&"integerValue"in t}function bv(t){return!!t&&"arrayValue"in t}function YT(t){return!!t&&"nullValue"in t}function QT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function sf(t){return!!t&&"mapValue"in t}function KP(t){return(t?.mapValue?.fields||{})[lC]?.stringValue===cC}function lu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return oa(t.mapValue.fields,((n,i)=>e.mapValue.fields[n]=lu(i))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=lu(t.arrayValue.values[n]);return e}return{...t}}function YP(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===$P}class Pn{constructor(e){this.value=e}static empty(){return new Pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!sf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=lu(n)}setAll(e){let n=dn.emptyPath(),i={},a=[];e.forEach(((c,d)=>{if(!n.isImmediateParentOf(d)){const f=this.getFieldsMap(n);this.applyChanges(f,i,a),i={},a=[],n=d.popLast()}c?i[d.lastSegment()]=lu(c):a.push(d.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,i,a)}delete(e){const n=this.field(e.popLast());sf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return vi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=n.mapValue.fields[e.get(i)];sf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,i){oa(n,((a,l)=>e[a]=l));for(const a of i)delete e[a]}clone(){return new Pn(lu(this.value))}}function uC(t){const e=[];return oa(t.fields,((n,i)=>{const a=new dn([n]);if(sf(i)){const l=uC(i.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)})),new Yn(e)}class yn{constructor(e,n,i,a,l,c,d){this.key=e,this.documentType=n,this.version=i,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new yn(e,0,Ve.min(),Ve.min(),Ve.min(),Pn.empty(),0)}static newFoundDocument(e,n,i,a){return new yn(e,1,n,Ve.min(),i,a,0)}static newNoDocument(e,n){return new yn(e,2,n,Ve.min(),Ve.min(),Pn.empty(),0)}static newUnknownDocument(e,n){return new yn(e,3,n,Ve.min(),Ve.min(),Pn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof yn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class kf{constructor(e,n){this.position=e,this.inclusive=n}}function XT(t,e,n){let i=0;for(let a=0;a<t.position.length;a++){const l=e[a],c=t.position[a];if(l.field.isKeyField()?i=ke.comparator(ke.fromName(c.referenceValue),n.key):i=xl(c,n.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function WT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!vi(t.position[n],e.position[n]))return!1;return!0}class Au{constructor(e,n="asc"){this.field=e,this.dir=n}}function QP(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class hC{}class qt extends hC{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new WP(e,n,i):n==="array-contains"?new eL(e,i):n==="in"?new tL(e,i):n==="not-in"?new nL(e,i):n==="array-contains-any"?new sL(e,i):new qt(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new JP(e,i):new ZP(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(xl(n,this.value)):n!==null&&na(this.value)===na(n)&&this.matchesComparison(xl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ie(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ls extends hC{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ls(e,n)}matches(e){return dC(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function dC(t){return t.op==="and"}function fC(t){return XP(t)&&dC(t)}function XP(t){for(const e of t.filters)if(e instanceof Ls)return!1;return!0}function X0(t){if(t instanceof qt)return t.field.canonicalString()+t.op.toString()+_l(t.value);if(fC(t))return t.filters.map((e=>X0(e))).join(",");{const e=t.filters.map((n=>X0(n))).join(",");return`${t.op}(${e})`}}function mC(t,e){return t instanceof qt?(function(i,a){return a instanceof qt&&i.op===a.op&&i.field.isEqual(a.field)&&vi(i.value,a.value)})(t,e):t instanceof Ls?(function(i,a){return a instanceof Ls&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce(((l,c,d)=>l&&mC(c,a.filters[d])),!0):!1})(t,e):void Ie(19439)}function pC(t){return t instanceof qt?(function(n){return`${n.field.canonicalString()} ${n.op} ${_l(n.value)}`})(t):t instanceof Ls?(function(n){return n.op.toString()+" {"+n.getFilters().map(pC).join(" ,")+"}"})(t):"Filter"}class WP extends qt{constructor(e,n,i){super(e,n,i),this.key=ke.fromName(i.referenceValue)}matches(e){const n=ke.comparator(e.key,this.key);return this.matchesComparison(n)}}class JP extends qt{constructor(e,n){super(e,"in",n),this.keys=gC("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class ZP extends qt{constructor(e,n){super(e,"not-in",n),this.keys=gC("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function gC(t,e){return(e.arrayValue?.values||[]).map((n=>ke.fromName(n.referenceValue)))}class eL extends qt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return bv(n)&&Su(n.arrayValue,this.value)}}class tL extends qt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Su(this.value.arrayValue,n)}}class nL extends qt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Su(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Su(this.value.arrayValue,n)}}class sL extends qt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!bv(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>Su(this.value.arrayValue,i)))}}class iL{constructor(e,n=null,i=[],a=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.Te=null}}function JT(t,e=null,n=[],i=[],a=null,l=null,c=null){return new iL(t,e,n,i,a,l,c)}function xv(t){const e=Pe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((i=>X0(i))).join(","),n+="|ob:",n+=e.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),tm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((i=>_l(i))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((i=>_l(i))).join(",")),e.Te=n}return e.Te}function _v(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!QP(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!mC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!WT(t.startAt,e.startAt)&&WT(t.endAt,e.endAt)}function W0(t){return ke.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class Ol{constructor(e,n=null,i=[],a=[],l=null,c="F",d=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=f,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function rL(t,e,n,i,a,l,c,d){return new Ol(t,e,n,i,a,l,c,d)}function sm(t){return new Ol(t)}function ZT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function aL(t){return ke.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function yC(t){return t.collectionGroup!==null}function cu(t){const e=Pe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Xt(dn.comparator);return c.filters.forEach((f=>{f.getFlattenedFilters().forEach((p=>{p.isInequality()&&(d=d.add(p.field))}))})),d})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Au(l,i))})),n.has(dn.keyField().canonicalString())||e.Ie.push(new Au(dn.keyField(),i))}return e.Ie}function fi(t){const e=Pe(t);return e.Ee||(e.Ee=oL(e,cu(t))),e.Ee}function oL(t,e){if(t.limitType==="F")return JT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Au(a.field,l)}));const n=t.endAt?new kf(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new kf(t.startAt.position,t.startAt.inclusive):null;return JT(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function J0(t,e){const n=t.filters.concat([e]);return new Ol(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function lL(t,e){const n=t.explicitOrderBy.concat([e]);return new Ol(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function Rf(t,e,n){return new Ol(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function im(t,e){return _v(fi(t),fi(e))&&t.limitType===e.limitType}function vC(t){return`${xv(fi(t))}|lt:${t.limitType}`}function tl(t){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((a=>pC(a))).join(", ")}]`),tm(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((a=>_l(a))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((a=>_l(a))).join(",")),`Target(${i})`})(fi(t))}; limitType=${t.limitType})`}function rm(t,e){return e.isFoundDocument()&&(function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):ke.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(t,e)&&(function(i,a){for(const l of cu(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(i,a){return!(i.startAt&&!(function(c,d,f){const p=XT(c,d,f);return c.inclusive?p<=0:p<0})(i.startAt,cu(i),a)||i.endAt&&!(function(c,d,f){const p=XT(c,d,f);return c.inclusive?p>=0:p>0})(i.endAt,cu(i),a))})(t,e)}function cL(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function bC(t){return(e,n)=>{let i=!1;for(const a of cu(t)){const l=uL(a,e,n);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function uL(t,e,n){const i=t.field.isKeyField()?ke.comparator(e.key,n.key):(function(l,c,d){const f=c.data.field(l),p=d.data.field(l);return f!==null&&p!==null?xl(f,p):Ie(42886)})(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Ie(19790,{direction:t.dir})}}class oo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[n]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){oa(this.inner,((n,i)=>{for(const[a,l]of i)e(a,l)}))}isEmpty(){return nC(this.inner)}size(){return this.innerSize}}const hL=new bt(ke.comparator);function er(){return hL}const xC=new bt(ke.comparator);function Zc(...t){let e=xC;for(const n of t)e=e.insert(n.key,n);return e}function _C(t){let e=xC;return t.forEach(((n,i)=>e=e.insert(n,i.overlayedDocument))),e}function $a(){return uu()}function wC(){return uu()}function uu(){return new oo((t=>t.toString()),((t,e)=>t.isEqual(e)))}const dL=new bt(ke.comparator),fL=new Xt(ke.comparator);function Ye(...t){let e=fL;for(const n of t)e=e.add(n);return e}const mL=new Xt(Ke);function pL(){return mL}function wv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sf(e)?"-0":e}}function TC(t){return{integerValue:""+t}}function gL(t,e){return zP(e)?TC(e):wv(t,e)}class am{constructor(){this._=void 0}}function yL(t,e,n){return t instanceof Cu?(function(a,l){const c={fields:{[rC]:{stringValue:iC},[oC]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&vv(l)&&(l=nm(l)),l&&(c.fields[aC]=l),{mapValue:c}})(n,e):t instanceof ku?SC(t,e):t instanceof Ru?AC(t,e):(function(a,l){const c=EC(a,l),d=eE(c)+eE(a.Ae);return Q0(c)&&Q0(a.Ae)?TC(d):wv(a.serializer,d)})(t,e)}function vL(t,e,n){return t instanceof ku?SC(t,e):t instanceof Ru?AC(t,e):n}function EC(t,e){return t instanceof Nf?(function(i){return Q0(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(e)?e:{integerValue:0}:null}class Cu extends am{}class ku extends am{constructor(e){super(),this.elements=e}}function SC(t,e){const n=CC(e);for(const i of t.elements)n.some((a=>vi(a,i)))||n.push(i);return{arrayValue:{values:n}}}class Ru extends am{constructor(e){super(),this.elements=e}}function AC(t,e){let n=CC(e);for(const i of t.elements)n=n.filter((a=>!vi(a,i)));return{arrayValue:{values:n}}}class Nf extends am{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function eE(t){return Dt(t.integerValue||t.doubleValue)}function CC(t){return bv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class bL{constructor(e,n){this.field=e,this.transform=n}}function xL(t,e){return t.field.isEqual(e.field)&&(function(i,a){return i instanceof ku&&a instanceof ku||i instanceof Ru&&a instanceof Ru?bl(i.elements,a.elements,vi):i instanceof Nf&&a instanceof Nf?vi(i.Ae,a.Ae):i instanceof Cu&&a instanceof Cu})(t.transform,e.transform)}class _L{constructor(e,n){this.version=e,this.transformResults=n}}class ps{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ps}static exists(e){return new ps(void 0,e)}static updateTime(e){return new ps(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function rf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class om{}function kC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Tv(t.key,ps.none()):new Hu(t.key,t.data,ps.none());{const n=t.data,i=Pn.empty();let a=new Xt(dn.comparator);for(let l of e.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?i.delete(l):i.set(l,c),a=a.add(l)}return new la(t.key,i,new Yn(a.toArray()),ps.none())}}function wL(t,e,n){t instanceof Hu?(function(a,l,c){const d=a.value.clone(),f=nE(a.fieldTransforms,l,c.transformResults);d.setAll(f),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(t,e,n):t instanceof la?(function(a,l,c){if(!rf(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=nE(a.fieldTransforms,l,c.transformResults),f=l.data;f.setAll(RC(a)),f.setAll(d),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(t,e,n):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function hu(t,e,n,i){return t instanceof Hu?(function(l,c,d,f){if(!rf(l.precondition,c))return d;const p=l.value.clone(),v=sE(l.fieldTransforms,f,c);return p.setAll(v),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null})(t,e,n,i):t instanceof la?(function(l,c,d,f){if(!rf(l.precondition,c))return d;const p=sE(l.fieldTransforms,f,c),v=c.data;return v.setAll(RC(l)),v.setAll(p),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((b=>b.field)))})(t,e,n,i):(function(l,c,d){return rf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(t,e,n)}function TL(t,e){let n=null;for(const i of t.fieldTransforms){const a=e.data.field(i.field),l=EC(i.transform,a||null);l!=null&&(n===null&&(n=Pn.empty()),n.set(i.field,l))}return n||null}function tE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&bl(i,a,((l,c)=>xL(l,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Hu extends om{constructor(e,n,i,a=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class la extends om{constructor(e,n,i,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function RC(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}})),e}function nE(t,e,n){const i=new Map;tt(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let a=0;a<n.length;a++){const l=t[a],c=l.transform,d=e.data.field(l.field);i.set(l.field,vL(c,d,n[a]))}return i}function sE(t,e,n){const i=new Map;for(const a of t){const l=a.transform,c=n.data.field(a.field);i.set(a.field,yL(l,c,e))}return i}class Tv extends om{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class EL extends om{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class SL{constructor(e,n,i,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&wL(l,e,i[a])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=hu(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=hu(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=wC();return this.mutations.forEach((a=>{const l=e.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=n.has(a.key)?null:d;const f=kC(c,d);f!==null&&i.set(a.key,f),c.isValidDocument()||c.convertToNoDocument(Ve.min())})),i}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ye())}isEqual(e){return this.batchId===e.batchId&&bl(this.mutations,e.mutations,((n,i)=>tE(n,i)))&&bl(this.baseMutations,e.baseMutations,((n,i)=>tE(n,i)))}}class Ev{constructor(e,n,i,a){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=a}static from(e,n,i){tt(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let a=(function(){return dL})();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,i[c].version);return new Ev(e,n,i,a)}}class AL{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class CL{constructor(e,n){this.count=e,this.unchangedNames=n}}var Ft,Xe;function kL(t){switch(t){case ie.OK:return Ie(64938);case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return Ie(15467,{code:t})}}function NC(t){if(t===void 0)return Zi("GRPC error has no .code"),ie.UNKNOWN;switch(t){case Ft.OK:return ie.OK;case Ft.CANCELLED:return ie.CANCELLED;case Ft.UNKNOWN:return ie.UNKNOWN;case Ft.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case Ft.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case Ft.INTERNAL:return ie.INTERNAL;case Ft.UNAVAILABLE:return ie.UNAVAILABLE;case Ft.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case Ft.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case Ft.NOT_FOUND:return ie.NOT_FOUND;case Ft.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case Ft.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case Ft.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case Ft.ABORTED:return ie.ABORTED;case Ft.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case Ft.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case Ft.DATA_LOSS:return ie.DATA_LOSS;default:return Ie(39323,{code:t})}}(Xe=Ft||(Ft={}))[Xe.OK=0]="OK",Xe[Xe.CANCELLED=1]="CANCELLED",Xe[Xe.UNKNOWN=2]="UNKNOWN",Xe[Xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xe[Xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xe[Xe.NOT_FOUND=5]="NOT_FOUND",Xe[Xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xe[Xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xe[Xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xe[Xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xe[Xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xe[Xe.ABORTED=10]="ABORTED",Xe[Xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xe[Xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xe[Xe.INTERNAL=13]="INTERNAL",Xe[Xe.UNAVAILABLE=14]="UNAVAILABLE",Xe[Xe.DATA_LOSS=15]="DATA_LOSS";function RL(){return new TextEncoder}const NL=new Yr([4294967295,4294967295],0);function iE(t){const e=RL().encode(t),n=new G2;return n.update(e),new Uint8Array(n.digest())}function rE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Yr([n,i],0),new Yr([a,l],0)]}class Sv{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new eu(`Invalid padding: ${n}`);if(i<0)throw new eu(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new eu(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new eu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Yr.fromNumber(this.ge)}ye(e,n,i){let a=e.add(n.multiply(Yr.fromNumber(i)));return a.compare(NL)===1&&(a=new Yr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=iE(e),[i,a]=rE(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,a,l);if(!this.we(c))return!1}return!0}static create(e,n,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Sv(l,a,n);return i.forEach((d=>c.insert(d))),c}insert(e){if(this.ge===0)return;const n=iE(e),[i,a]=rE(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,a,l);this.be(c)}}be(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class eu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class lm{constructor(e,n,i,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const a=new Map;return a.set(e,qu.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new lm(Ve.min(),a,new bt(Ke),er(),Ye())}}class qu{constructor(e,n,i,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new qu(i,n,Ye(),Ye(),Ye())}}class af{constructor(e,n,i,a){this.Se=e,this.removedTargetIds=n,this.key=i,this.De=a}}class IC{constructor(e,n){this.targetId=e,this.Ce=n}}class DC{constructor(e,n,i=fn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=a}}class aE{constructor(){this.ve=0,this.Fe=oE(),this.Me=fn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ye(),n=Ye(),i=Ye();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:i=i.add(a);break;default:Ie(38017,{changeType:l})}})),new qu(this.Me,this.xe,e,n,i)}Ke(){this.Oe=!1,this.Fe=oE()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,tt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class IL{constructor(e){this.Ge=e,this.ze=new Map,this.je=er(),this.He=jd(),this.Je=jd(),this.Ze=new bt(Ke)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.We(),i.Ne||i.Ke(),i.Le(e.resumeToken);break;case 2:i.We(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.Qe(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:Ie(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((i,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,i=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(W0(l))if(i===0){const c=new ke(l.path);this.et(n,c,yn.newNoDocument(c,Ve.min()))}else tt(i===1,20013,{expectedCount:i});else{const c=this._t(n);if(c!==i){const d=this.ut(e),f=d?this.ct(d,e,c):1;if(f!==0){this.it(n);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=n;let c,d;try{c=ta(i).toUint8Array()}catch(f){if(f instanceof sC)return no("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new Sv(c,a,l)}catch(f){return no(f instanceof eu?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.ge===0?null:d}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let a=0;return i.forEach((l=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,c)=>{const d=this.ot(c);if(d){if(l.current&&W0(d.target)){const f=new ke(d.target.path);this.It(f).has(c)||this.Et(c,f)||this.et(c,f,yn.newNoDocument(f,e))}l.Be&&(n.set(c,l.ke()),l.Ke())}}));let i=Ye();this.Je.forEach(((l,c)=>{let d=!0;c.forEachWhile((f=>{const p=this.ot(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(i=i.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const a=new lm(e,n,this.Ze,this.je,i);return this.je=er(),this.He=jd(),this.Je=jd(),this.Ze=new bt(Ke),a}Ye(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,i),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.qe(n,1):a.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new aE,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Xt(Ke),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Xt(Ke),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||pe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new aE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function jd(){return new bt(ke.comparator)}function oE(){return new bt(ke.comparator)}const DL={asc:"ASCENDING",desc:"DESCENDING"},jL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ML={and:"AND",or:"OR"};class VL{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Z0(t,e){return t.useProto3Json||tm(e)?e:{value:e}}function If(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function jC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function OL(t,e){return If(t,e.toTimestamp())}function mi(t){return tt(!!t,49232),Ve.fromTimestamp((function(n){const i=ea(n);return new mt(i.seconds,i.nanos)})(t))}function Av(t,e){return ey(t,e).canonicalString()}function ey(t,e){const n=(function(a){return new ut(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function MC(t){const e=ut.fromString(t);return tt(UC(e),10190,{key:e.toString()}),e}function ty(t,e){return Av(t.databaseId,e.path)}function Zg(t,e){const n=MC(e);if(n.get(1)!==t.databaseId.projectId)throw new fe(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new fe(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ke(OC(n))}function VC(t,e){return Av(t.databaseId,e)}function PL(t){const e=MC(t);return e.length===4?ut.emptyPath():OC(e)}function ny(t){return new ut(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function OC(t){return tt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function lE(t,e,n){return{name:ty(t,e),fields:n.value.mapValue.fields}}function LL(t,e){let n;if("targetChange"in e){e.targetChange;const i=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ie(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(p,v){return p.useProto3Json?(tt(v===void 0||typeof v=="string",58123),fn.fromBase64String(v||"")):(tt(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),fn.fromUint8Array(v||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(p){const v=p.code===void 0?ie.UNKNOWN:NC(p.code);return new fe(v,p.message||"")})(c);n=new DC(i,a,l,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=Zg(t,i.document.name),l=mi(i.document.updateTime),c=i.document.createTime?mi(i.document.createTime):Ve.min(),d=new Pn({mapValue:{fields:i.document.fields}}),f=yn.newFoundDocument(a,l,c,d),p=i.targetIds||[],v=i.removedTargetIds||[];n=new af(p,v,f.key,f)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=Zg(t,i.document),l=i.readTime?mi(i.readTime):Ve.min(),c=yn.newNoDocument(a,l),d=i.removedTargetIds||[];n=new af([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=Zg(t,i.document),l=i.removedTargetIds||[];n=new af([],l,a,null)}else{if(!("filter"in e))return Ie(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,c=new CL(a,l),d=i.targetId;n=new IC(d,c)}}return n}function UL(t,e){let n;if(e instanceof Hu)n={update:lE(t,e.key,e.value)};else if(e instanceof Tv)n={delete:ty(t,e.key)};else if(e instanceof la)n={update:lE(t,e.key,e.data),updateMask:YL(e.fieldMask)};else{if(!(e instanceof EL))return Ie(16599,{dt:e.type});n={verify:ty(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((i=>(function(l,c){const d=c.transform;if(d instanceof Cu)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof ku)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Ru)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Nf)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw Ie(20930,{transform:c.transform})})(0,i)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:OL(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ie(27497)})(t,e.precondition)),n}function zL(t,e){return t&&t.length>0?(tt(e!==void 0,14353),t.map((n=>(function(a,l){let c=a.updateTime?mi(a.updateTime):mi(l);return c.isEqual(Ve.min())&&(c=mi(l)),new _L(c,a.transformResults||[])})(n,e)))):[]}function BL(t,e){return{documents:[VC(t,e.path)]}}function FL(t,e){const n={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=VC(t,a);const l=(function(p){if(p.length!==0)return LC(Ls.create(p,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const c=(function(p){if(p.length!==0)return p.map((v=>(function(w){return{field:nl(w.field),direction:GL(w.dir)}})(v)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const d=Z0(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:a}}function HL(t){let e=PL(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let a=null;if(i>0){tt(i===1,65062);const v=n.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let l=[];n.where&&(l=(function(b){const w=PC(b);return w instanceof Ls&&fC(w)?w.getFilters():[w]})(n.where));let c=[];n.orderBy&&(c=(function(b){return b.map((w=>(function(D){return new Au(sl(D.field),(function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(D.direction))})(w)))})(n.orderBy));let d=null;n.limit&&(d=(function(b){let w;return w=typeof b=="object"?b.value:b,tm(w)?null:w})(n.limit));let f=null;n.startAt&&(f=(function(b){const w=!!b.before,S=b.values||[];return new kf(S,w)})(n.startAt));let p=null;return n.endAt&&(p=(function(b){const w=!b.before,S=b.values||[];return new kf(S,w)})(n.endAt)),rL(e,a,c,l,d,"F",f,p)}function qL(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ie(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function PC(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=sl(n.unaryFilter.field);return qt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=sl(n.unaryFilter.field);return qt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=sl(n.unaryFilter.field);return qt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=sl(n.unaryFilter.field);return qt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ie(61313);default:return Ie(60726)}})(t):t.fieldFilter!==void 0?(function(n){return qt.create(sl(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ie(58110);default:return Ie(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Ls.create(n.compositeFilter.filters.map((i=>PC(i))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ie(1026)}})(n.compositeFilter.op))})(t):Ie(30097,{filter:t})}function GL(t){return DL[t]}function $L(t){return jL[t]}function KL(t){return ML[t]}function nl(t){return{fieldPath:t.canonicalString()}}function sl(t){return dn.fromServerFormat(t.fieldPath)}function LC(t){return t instanceof qt?(function(n){if(n.op==="=="){if(QT(n.value))return{unaryFilter:{field:nl(n.field),op:"IS_NAN"}};if(YT(n.value))return{unaryFilter:{field:nl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(QT(n.value))return{unaryFilter:{field:nl(n.field),op:"IS_NOT_NAN"}};if(YT(n.value))return{unaryFilter:{field:nl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:nl(n.field),op:$L(n.op),value:n.value}}})(t):t instanceof Ls?(function(n){const i=n.getFilters().map((a=>LC(a)));return i.length===1?i[0]:{compositeFilter:{op:KL(n.op),filters:i}}})(t):Ie(54877,{filter:t})}function YL(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function UC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function zC(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}class Gr{constructor(e,n,i,a,l=Ve.min(),c=Ve.min(),d=fn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new Gr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Gr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Gr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Gr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class QL{constructor(e){this.yt=e}}function XL(t){const e=HL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Rf(e,e.limit,"L"):e}class WL{constructor(){this.Sn=new JL}addToCollectionParentIndex(e,n){return this.Sn.add(n),oe.resolve()}getCollectionParents(e,n){return oe.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return oe.resolve()}deleteFieldIndex(e,n){return oe.resolve()}deleteAllFieldIndexes(e){return oe.resolve()}createTargetIndexes(e,n){return oe.resolve()}getDocumentsMatchingTarget(e,n){return oe.resolve(null)}getIndexType(e,n){return oe.resolve(0)}getFieldIndexes(e,n){return oe.resolve([])}getNextCollectionGroupToUpdate(e){return oe.resolve(null)}getMinOffset(e,n){return oe.resolve(Zr.min())}getMinOffsetFromCollectionGroup(e,n){return oe.resolve(Zr.min())}updateCollectionGroup(e,n,i){return oe.resolve()}updateIndexEntries(e,n){return oe.resolve()}}class JL{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n]||new Xt(ut.comparator),l=!a.has(i);return this.index[n]=a.add(i),l}has(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n];return a&&a.has(i)}getEntries(e){return(this.index[e]||new Xt(ut.comparator)).toArray()}}const cE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},BC=41943040;class On{static withCacheSize(e){return new On(e,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}On.DEFAULT_COLLECTION_PERCENTILE=10,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,On.DEFAULT=new On(BC,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),On.DISABLED=new On(-1,0,0);class wl{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new wl(0)}static ar(){return new wl(-1)}}const uE="LruGarbageCollector",ZL=1048576;function hE([t,e],[n,i]){const a=Ke(t,n);return a===0?Ke(e,i):a}class e9{constructor(e){this.Pr=e,this.buffer=new Xt(hE),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();hE(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class t9{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){pe(uE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Vl(n)?pe(uE,"Ignoring IndexedDB error during garbage collection: ",n):await Ml(n)}await this.Ar(3e5)}))}}class n9{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(e,n){if(n===0)return oe.resolve(em.ce);const i=new e9(n);return this.Vr.forEachTarget(e,(a=>i.Er(a.sequenceNumber))).next((()=>this.Vr.mr(e,(a=>i.Er(a))))).next((()=>i.maxValue))}removeTargets(e,n,i){return this.Vr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),oe.resolve(cE)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),cE):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let i,a,l,c,d,f,p;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),a=this.params.maximumSequenceNumbersToCollect):a=b,c=Date.now(),this.nthSequenceNumber(e,a)))).next((b=>(i=b,d=Date.now(),this.removeTargets(e,i,n)))).next((b=>(l=b,f=Date.now(),this.removeOrphanedDocuments(e,i)))).next((b=>(p=Date.now(),el()<=$e.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(f-d)+`ms
	Removed ${b} documents in `+(p-f)+`ms
Total Duration: ${p-v}ms`),oe.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:b}))))}}function s9(t,e){return new n9(t,e)}class i9{constructor(){this.changes=new oo((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,yn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?oe.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class r9{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class a9{constructor(e,n,i,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(i=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(i!==null&&hu(i.mutation,a,Yn.empty(),mt.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.getLocalViewOfDocuments(e,i,Ye()).next((()=>i))))}getLocalViewOfDocuments(e,n,i=Ye()){const a=$a();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,i).next((l=>{let c=Zc();return l.forEach(((d,f)=>{c=c.insert(d,f.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const i=$a();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,Ye())))}populateOverlays(e,n,i){const a=[];return i.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((c,d)=>{n.set(c,d)}))}))}computeViews(e,n,i,a){let l=er();const c=uu(),d=(function(){return uu()})();return n.forEach(((f,p)=>{const v=i.get(p.key);a.has(p.key)&&(v===void 0||v.mutation instanceof la)?l=l.insert(p.key,p):v!==void 0?(c.set(p.key,v.mutation.getFieldMask()),hu(v.mutation,p,v.mutation.getFieldMask(),mt.now())):c.set(p.key,Yn.empty())})),this.recalculateAndSaveOverlays(e,l).next((f=>(f.forEach(((p,v)=>c.set(p,v))),n.forEach(((p,v)=>d.set(p,new r9(v,c.get(p)??null)))),d)))}recalculateAndSaveOverlays(e,n){const i=uu();let a=new bt(((c,d)=>c-d)),l=Ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const d of c)d.keys().forEach((f=>{const p=n.get(f);if(p===null)return;let v=i.get(f)||Yn.empty();v=d.applyToLocalView(p,v),i.set(f,v);const b=(a.get(d.batchId)||Ye()).add(f);a=a.insert(d.batchId,b)}))})).next((()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),p=f.key,v=f.value,b=wC();v.forEach((w=>{if(!l.has(w)){const S=kC(n.get(w),i.get(w));S!==null&&b.set(w,S),l=l.add(w)}})),c.push(this.documentOverlayCache.saveOverlays(e,p,b))}return oe.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,n,i,a){return aL(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):yC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,a):this.getDocumentsMatchingCollectionQuery(e,n,i,a)}getNextDocuments(e,n,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,a-l.size):oe.resolve($a());let d=wu,f=l;return c.next((p=>oe.forEach(p,((v,b)=>(d<b.largestBatchId&&(d=b.largestBatchId),l.get(v)?oe.resolve():this.remoteDocumentCache.getEntry(e,v).next((w=>{f=f.insert(v,w)}))))).next((()=>this.populateOverlays(e,p,l))).next((()=>this.computeViews(e,f,p,Ye()))).next((v=>({batchId:d,changes:_C(v)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ke(n)).next((i=>{let a=Zc();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,i,a){const l=n.collectionGroup;let c=Zc();return this.indexManager.getCollectionParents(e,l).next((d=>oe.forEach(d,(f=>{const p=(function(b,w){return new Ol(w,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,f.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,i,a).next((v=>{v.forEach(((b,w)=>{c=c.insert(b,w)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,l,a)))).next((c=>{l.forEach(((f,p)=>{const v=p.getKey();c.get(v)===null&&(c=c.insert(v,yn.newInvalidDocument(v)))}));let d=Zc();return c.forEach(((f,p)=>{const v=l.get(f);v!==void 0&&hu(v.mutation,p,Yn.empty(),mt.now()),rm(n,p)&&(d=d.insert(f,p))})),d}))}}class o9{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return oe.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:mi(a.createTime)}})(n)),oe.resolve()}getNamedQuery(e,n){return oe.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(a){return{name:a.name,query:XL(a.bundledQuery),readTime:mi(a.readTime)}})(n)),oe.resolve()}}class l9{constructor(){this.overlays=new bt(ke.comparator),this.Lr=new Map}getOverlay(e,n){return oe.resolve(this.overlays.get(n))}getOverlays(e,n){const i=$a();return oe.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&i.set(a,l)})))).next((()=>i))}saveOverlays(e,n,i){return i.forEach(((a,l)=>{this.bt(e,n,l)})),oe.resolve()}removeOverlaysForBatchId(e,n,i){const a=this.Lr.get(i);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(i)),oe.resolve()}getOverlaysForCollection(e,n,i){const a=$a(),l=n.length+1,c=new ke(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const f=d.getNext().value,p=f.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&f.largestBatchId>i&&a.set(f.getKey(),f)}return oe.resolve(a)}getOverlaysForCollectionGroup(e,n,i,a){let l=new bt(((p,v)=>p-v));const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>i){let v=l.get(p.largestBatchId);v===null&&(v=$a(),l=l.insert(p.largestBatchId,v)),v.set(p.getKey(),p)}}const d=$a(),f=l.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((p,v)=>d.set(p,v))),!(d.size()>=a)););return oe.resolve(d)}bt(e,n,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.Lr.get(a.largestBatchId).delete(i.key);this.Lr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new AL(n,i));let l=this.Lr.get(n);l===void 0&&(l=Ye(),this.Lr.set(n,l)),this.Lr.set(n,l.add(i.key))}}class c9{constructor(){this.sessionToken=fn.EMPTY_BYTE_STRING}getSessionToken(e){return oe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,oe.resolve()}}class Cv{constructor(){this.kr=new Xt(en.Kr),this.qr=new Xt(en.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const i=new en(e,n);this.kr=this.kr.add(i),this.qr=this.qr.add(i)}$r(e,n){e.forEach((i=>this.addReference(i,n)))}removeReference(e,n){this.Wr(new en(e,n))}Qr(e,n){e.forEach((i=>this.removeReference(i,n)))}Gr(e){const n=new ke(new ut([])),i=new en(n,e),a=new en(n,e+1),l=[];return this.qr.forEachInRange([i,a],(c=>{this.Wr(c),l.push(c.key)})),l}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new ke(new ut([])),i=new en(n,e),a=new en(n,e+1);let l=Ye();return this.qr.forEachInRange([i,a],(c=>{l=l.add(c.key)})),l}containsKey(e){const n=new en(e,0),i=this.kr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class en{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return ke.comparator(e.key,n.key)||Ke(e.Hr,n.Hr)}static Ur(e,n){return Ke(e.Hr,n.Hr)||ke.comparator(e.key,n.key)}}class u9{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Xt(en.Kr)}checkEmpty(e){return oe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,a){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new SL(l,n,i,a);this.mutationQueue.push(c);for(const d of a)this.Jr=this.Jr.add(new en(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return oe.resolve(c)}lookupMutationBatch(e,n){return oe.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,a=this.Xr(i),l=a<0?0:a;return oe.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(this.mutationQueue.length===0?yv:this.Yn-1)}getAllMutationBatches(e){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new en(n,0),a=new en(n,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([i,a],(c=>{const d=this.Zr(c.Hr);l.push(d)})),oe.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Xt(Ke);return n.forEach((a=>{const l=new en(a,0),c=new en(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,c],(d=>{i=i.add(d.Hr)}))})),oe.resolve(this.Yr(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,a=i.length+1;let l=i;ke.isDocumentKey(l)||(l=l.child(""));const c=new en(new ke(l),0);let d=new Xt(Ke);return this.Jr.forEachWhile((f=>{const p=f.key.path;return!!i.isPrefixOf(p)&&(p.length===a&&(d=d.add(f.Hr)),!0)}),c),oe.resolve(this.Yr(d))}Yr(e){const n=[];return e.forEach((i=>{const a=this.Zr(i);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){tt(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Jr;return oe.forEach(n.mutations,(a=>{const l=new en(a.key,n.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Jr=i}))}nr(e){}containsKey(e,n){const i=new en(n,0),a=this.Jr.firstAfterOrEqual(i);return oe.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,oe.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class h9{constructor(e){this.ti=e,this.docs=(function(){return new bt(ke.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,a=this.docs.get(i),l=a?a.size:0,c=this.ti(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return oe.resolve(i?i.document.mutableCopy():yn.newInvalidDocument(n))}getEntries(e,n){let i=er();return n.forEach((a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():yn.newInvalidDocument(a))})),oe.resolve(i)}getDocumentsMatchingQuery(e,n,i,a){let l=er();const c=n.path,d=new ke(c.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:p,value:{document:v}}=f.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||OP(VP(v),i)<=0||(a.has(v.key)||rm(n,v))&&(l=l.insert(v.key,v.mutableCopy()))}return oe.resolve(l)}getAllFromCollectionGroup(e,n,i,a){Ie(9500)}ni(e,n){return oe.forEach(this.docs,(i=>n(i)))}newChangeBuffer(e){return new d9(this)}getSize(e){return oe.resolve(this.size)}}class d9 extends i9{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((i,a)=>{a.isValidDocument()?n.push(this.Mr.addEntry(e,a)):this.Mr.removeEntry(i)})),oe.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class f9{constructor(e){this.persistence=e,this.ri=new oo((n=>xv(n)),_v),this.lastRemoteSnapshotVersion=Ve.min(),this.highestTargetId=0,this.ii=0,this.si=new Cv,this.targetCount=0,this.oi=wl._r()}forEachTarget(e,n){return this.ri.forEach(((i,a)=>n(a))),oe.resolve()}getLastRemoteSnapshotVersion(e){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oe.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.ii&&(this.ii=n),oe.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new wl(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,oe.resolve()}updateTargetData(e,n){return this.lr(n),oe.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,oe.resolve()}removeTargets(e,n,i){let a=0;const l=[];return this.ri.forEach(((c,d)=>{d.sequenceNumber<=n&&i.get(d.targetId)===null&&(this.ri.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)})),oe.waitFor(l).next((()=>a))}getTargetCount(e){return oe.resolve(this.targetCount)}getTargetData(e,n){const i=this.ri.get(n)||null;return oe.resolve(i)}addMatchingKeys(e,n,i){return this.si.$r(n,i),oe.resolve()}removeMatchingKeys(e,n,i){this.si.Qr(n,i);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((c=>{l.push(a.markPotentiallyOrphaned(e,c))})),oe.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),oe.resolve()}getMatchingKeysForTargetId(e,n){const i=this.si.jr(n);return oe.resolve(i)}containsKey(e,n){return oe.resolve(this.si.containsKey(n))}}class FC{constructor(e,n){this._i={},this.overlays={},this.ai=new em(0),this.ui=!1,this.ui=!0,this.ci=new c9,this.referenceDelegate=e(this),this.li=new f9(this),this.indexManager=new WL,this.remoteDocumentCache=(function(a){return new h9(a)})((i=>this.referenceDelegate.hi(i))),this.serializer=new QL(n),this.Pi=new o9(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new l9,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this._i[e.toKey()];return i||(i=new u9(n,this.referenceDelegate),this._i[e.toKey()]=i),i}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,i){pe("MemoryPersistence","Starting transaction:",e);const a=new m9(this.ai.next());return this.referenceDelegate.Ti(),i(a).next((l=>this.referenceDelegate.Ii(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ei(e,n){return oe.or(Object.values(this._i).map((i=>()=>i.containsKey(e,n))))}}class m9 extends LP{constructor(e){super(),this.currentSequenceNumber=e}}class kv{constructor(e){this.persistence=e,this.Ri=new Cv,this.Ai=null}static Vi(e){return new kv(e)}get di(){if(this.Ai)return this.Ai;throw Ie(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.di.delete(i.toString()),oe.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.di.add(i.toString()),oe.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),oe.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((a=>this.di.add(a.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.di.add(l.toString())))})).next((()=>i.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.di,(i=>{const a=ke.fromPath(i);return this.mi(e,a).next((l=>{l||n.removeEntry(a,Ve.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((i=>{i?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return oe.or([()=>oe.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Df{constructor(e,n){this.persistence=e,this.fi=new oo((i=>BP(i.path)),((i,a)=>i.isEqual(a))),this.garbageCollector=s9(this,n)}static Vi(e,n){return new Df(e,n)}Ti(){}Ii(e){return oe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>n.next((a=>i+a))))}pr(e){let n=0;return this.mr(e,(i=>{n++})).next((()=>n))}mr(e,n){return oe.forEach(this.fi,((i,a)=>this.wr(e,i,a).next((l=>l?oe.resolve():n(a)))))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ni(e,(c=>this.wr(e,c,n).next((d=>{d||(i++,l.removeEntry(c,Ve.min()))})))).next((()=>l.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),oe.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.fi.set(i,e.currentSequenceNumber),oe.resolve()}removeReference(e,n,i){return this.fi.set(i,e.currentSequenceNumber),oe.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),oe.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=nf(e.data.value)),n}wr(e,n,i){return oe.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.fi.get(n);return oe.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Rv{constructor(e,n,i,a){this.targetId=e,this.fromCache=n,this.Ts=i,this.Is=a}static Es(e,n){let i=Ye(),a=Ye();for(const l of n.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Rv(e,n.fromCache,i,a)}}class p9{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class g9{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return e6()?8:UP(bn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,a){const l={result:null};return this.gs(e,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ps(e,n,a,i).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new p9;return this.ys(e,n,c).next((d=>{if(l.result=d,this.As)return this.ws(e,n,c,d.size)}))})).next((()=>l.result))}ws(e,n,i,a){return i.documentReadCount<this.Vs?(el()<=$e.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",tl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),oe.resolve()):(el()<=$e.DEBUG&&pe("QueryEngine","Query:",tl(n),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.ds*a?(el()<=$e.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",tl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,fi(n))):oe.resolve())}gs(e,n){if(ZT(n))return oe.resolve(null);let i=fi(n);return this.indexManager.getIndexType(e,i).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=Rf(n,null,"F"),i=fi(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next((l=>{const c=Ye(...l);return this.fs.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,i).next((f=>{const p=this.bs(n,d);return this.Ss(n,p,c,f.readTime)?this.gs(e,Rf(n,null,"F")):this.Ds(e,p,n,f)}))))})))))}ps(e,n,i,a){return ZT(n)||a.isEqual(Ve.min())?oe.resolve(null):this.fs.getDocuments(e,i).next((l=>{const c=this.bs(n,l);return this.Ss(n,c,i,a)?oe.resolve(null):(el()<=$e.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),tl(n)),this.Ds(e,c,n,MP(a,wu)).next((d=>d)))}))}bs(e,n){let i=new Xt(bC(e));return n.forEach(((a,l)=>{rm(e,l)&&(i=i.add(l))})),i}Ss(e,n,i,a){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}ys(e,n,i){return el()<=$e.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",tl(n)),this.fs.getDocumentsMatchingQuery(e,n,Zr.min(),i)}Ds(e,n,i,a){return this.fs.getDocumentsMatchingQuery(e,i,a).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}const Nv="LocalStore",y9=3e8;class v9{constructor(e,n,i,a){this.persistence=e,this.Cs=n,this.serializer=a,this.vs=new bt(Ke),this.Fs=new oo((l=>xv(l)),_v),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(i)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new a9(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function b9(t,e,n,i){return new v9(t,e,n,i)}async function HC(t,e){const n=Pe(t);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let a;return n.mutationQueue.getAllMutationBatches(i).next((l=>(a=l,n.Os(e),n.mutationQueue.getAllMutationBatches(i)))).next((l=>{const c=[],d=[];let f=Ye();for(const p of a){c.push(p.batchId);for(const v of p.mutations)f=f.add(v.key)}for(const p of l){d.push(p.batchId);for(const v of p.mutations)f=f.add(v.key)}return n.localDocuments.getDocuments(i,f).next((p=>({Ns:p,removedBatchIds:c,addedBatchIds:d})))}))}))}function x9(t,e){const n=Pe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const a=e.batch.keys(),l=n.xs.newChangeBuffer({trackRemovals:!0});return(function(d,f,p,v){const b=p.batch,w=b.keys();let S=oe.resolve();return w.forEach((D=>{S=S.next((()=>v.getEntry(f,D))).next((O=>{const V=p.docVersions.get(D);tt(V!==null,48541),O.version.compareTo(V)<0&&(b.applyToRemoteDocument(O,p),O.isValidDocument()&&(O.setReadTime(p.commitVersion),v.addEntry(O)))}))})),S.next((()=>d.mutationQueue.removeMutationBatch(f,b)))})(n,i,e,l).next((()=>l.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(d){let f=Ye();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(f=f.add(d.batch.mutations[p].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(i,a)))}))}function qC(t){const e=Pe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function _9(t,e){const n=Pe(t),i=e.snapshotVersion;let a=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.xs.newChangeBuffer({trackRemovals:!0});a=n.vs;const d=[];e.targetChanges.forEach(((v,b)=>{const w=a.get(b);if(!w)return;d.push(n.li.removeMatchingKeys(l,v.removedDocuments,b).next((()=>n.li.addMatchingKeys(l,v.addedDocuments,b))));let S=w.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(b)!==null?S=S.withResumeToken(fn.EMPTY_BYTE_STRING,Ve.min()).withLastLimboFreeSnapshotVersion(Ve.min()):v.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(v.resumeToken,i)),a=a.insert(b,S),(function(O,V,z){return O.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=y9?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0})(w,S,v)&&d.push(n.li.updateTargetData(l,S))}));let f=er(),p=Ye();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(l,v))})),d.push(w9(l,c,e.documentUpdates).next((v=>{f=v.Bs,p=v.Ls}))),!i.isEqual(Ve.min())){const v=n.li.getLastRemoteSnapshotVersion(l).next((b=>n.li.setTargetsMetadata(l,l.currentSequenceNumber,i)));d.push(v)}return oe.waitFor(d).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,f,p))).next((()=>f))})).then((l=>(n.vs=a,l)))}function w9(t,e,n){let i=Ye(),a=Ye();return n.forEach((l=>i=i.add(l))),e.getEntries(t,i).next((l=>{let c=er();return n.forEach(((d,f)=>{const p=l.get(d);f.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(d)),f.isNoDocument()&&f.version.isEqual(Ve.min())?(e.removeEntry(d,f.readTime),c=c.insert(d,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),c=c.insert(d,f)):pe(Nv,"Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",f.version)})),{Bs:c,Ls:a}}))}function T9(t,e){const n=Pe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=yv),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function E9(t,e){const n=Pe(t);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let a;return n.li.getTargetData(i,e).next((l=>l?(a=l,oe.resolve(a)):n.li.allocateTargetId(i).next((c=>(a=new Gr(e,c,"TargetPurposeListen",i.currentSequenceNumber),n.li.addTargetData(i,a).next((()=>a)))))))})).then((i=>{const a=n.vs.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.vs=n.vs.insert(i.targetId,i),n.Fs.set(e,i.targetId)),i}))}async function sy(t,e,n){const i=Pe(t),a=i.vs.get(e),l=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",l,(c=>i.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!Vl(c))throw c;pe(Nv,`Failed to update sequence numbers for target ${e}: ${c}`)}i.vs=i.vs.remove(e),i.Fs.delete(a.target)}function dE(t,e,n){const i=Pe(t);let a=Ve.min(),l=Ye();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(f,p,v){const b=Pe(f),w=b.Fs.get(v);return w!==void 0?oe.resolve(b.vs.get(w)):b.li.getTargetData(p,v)})(i,c,fi(e)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,i.li.getMatchingKeysForTargetId(c,d.targetId).next((f=>{l=f}))})).next((()=>i.Cs.getDocumentsMatchingQuery(c,e,n?a:Ve.min(),n?l:Ye()))).next((d=>(S9(i,cL(e),d),{documents:d,ks:l})))))}function S9(t,e,n){let i=t.Ms.get(e)||Ve.min();n.forEach(((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),t.Ms.set(e,i)}class fE{constructor(){this.activeTargetIds=pL()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class A9{constructor(){this.vo=new fE,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,i){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new fE,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class C9{Mo(e){}shutdown(){}}const mE="ConnectivityMonitor";class pE{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){pe(mE,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){pe(mE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Md=null;function iy(){return Md===null?Md=(function(){return 268435456+Math.round(2147483648*Math.random())})():Md++,"0x"+Md.toString(16)}const e0="RestConnection",k9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class R9{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${i}/databases/${a}`,this.$o=this.databaseId.database===Af?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Wo(e,n,i,a,l){const c=iy(),d=this.Qo(e,n.toUriEncodedString());pe(e0,`Sending RPC '${e}' ${c}:`,d,i);const f={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(f,a,l);const{host:p}=new URL(d),v=aa(p);return this.zo(e,d,f,i,v).then((b=>(pe(e0,`Received RPC '${e}' ${c}: `,b),b)),(b=>{throw no(e0,`RPC '${e}' ${c} failed with error: `,b,"url: ",d,"request:",i),b}))}jo(e,n,i,a,l,c){return this.Wo(e,n,i,a,l)}Go(e,n,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+jl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),i&&i.headers.forEach(((a,l)=>e[l]=a))}Qo(e,n){const i=k9[e];let a=`${this.qo}/v1/${n}:${i}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}class N9{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const pn="WebChannelConnection",Yc=(t,e,n)=>{t.listen(e,(i=>{try{n(i)}catch(a){setTimeout((()=>{throw a}),0)}}))};class ml extends R9{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!ml.c_){const e=Q2();Yc(e,Y2.STAT_EVENT,(n=>{n.stat===$0.PROXY?pe(pn,"STAT_EVENT: detected buffering proxy"):n.stat===$0.NOPROXY&&pe(pn,"STAT_EVENT: detected no buffering proxy")})),ml.c_=!0}}zo(e,n,i,a,l){const c=iy();return new Promise(((d,f)=>{const p=new $2;p.setWithCredentials(!0),p.listenOnce(K2.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case tf.NO_ERROR:const b=p.getResponseJson();pe(pn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(b)),d(b);break;case tf.TIMEOUT:pe(pn,`RPC '${e}' ${c} timed out`),f(new fe(ie.DEADLINE_EXCEEDED,"Request time out"));break;case tf.HTTP_ERROR:const w=p.getStatus();if(pe(pn,`RPC '${e}' ${c} failed with status:`,w,"response text:",p.getResponseText()),w>0){let S=p.getResponseJson();Array.isArray(S)&&(S=S[0]);const D=S?.error;if(D&&D.status&&D.message){const O=(function(z){const F=z.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(F)>=0?F:ie.UNKNOWN})(D.status);f(new fe(O,D.message))}else f(new fe(ie.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new fe(ie.UNAVAILABLE,"Connection failed."));break;default:Ie(9055,{l_:e,streamId:c,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{pe(pn,`RPC '${e}' ${c} completed.`)}}));const v=JSON.stringify(a);pe(pn,`RPC '${e}' ${c} sending request:`,a),p.send(n,"POST",v,i,15)}))}T_(e,n,i){const a=iy(),l=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=this.createWebChannelTransport(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(d.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Go(d.initMessageHeaders,n,i),d.encodeInitMessageHeaders=!0;const p=l.join("");pe(pn,`Creating RPC '${e}' stream ${a}: ${p}`,d);const v=c.createWebChannel(p,d);this.I_(v);let b=!1,w=!1;const S=new N9({Ho:D=>{w?pe(pn,`Not sending because RPC '${e}' stream ${a} is closed:`,D):(b||(pe(pn,`Opening RPC '${e}' stream ${a} transport.`),v.open(),b=!0),pe(pn,`RPC '${e}' stream ${a} sending:`,D),v.send(D))},Jo:()=>v.close()});return Yc(v,Jc.EventType.OPEN,(()=>{w||(pe(pn,`RPC '${e}' stream ${a} transport opened.`),S.i_())})),Yc(v,Jc.EventType.CLOSE,(()=>{w||(w=!0,pe(pn,`RPC '${e}' stream ${a} transport closed`),S.o_(),this.E_(v))})),Yc(v,Jc.EventType.ERROR,(D=>{w||(w=!0,no(pn,`RPC '${e}' stream ${a} transport errored. Name:`,D.name,"Message:",D.message),S.o_(new fe(ie.UNAVAILABLE,"The operation could not be completed")))})),Yc(v,Jc.EventType.MESSAGE,(D=>{if(!w){const O=D.data[0];tt(!!O,16349);const V=O,z=V?.error||V[0]?.error;if(z){pe(pn,`RPC '${e}' stream ${a} received error:`,z);const F=z.status;let G=(function(he){const j=Ft[he];if(j!==void 0)return NC(j)})(F),te=z.message;F==="NOT_FOUND"&&te.includes("database")&&te.includes("does not exist")&&te.includes(this.databaseId.database)&&no(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),G===void 0&&(G=ie.INTERNAL,te="Unknown error status: "+F+" with message "+z.message),w=!0,S.o_(new fe(G,te)),v.close()}else pe(pn,`RPC '${e}' stream ${a} received:`,O),S.__(O)}})),ml.u_(),setTimeout((()=>{S.s_()}),0),S}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,i){super.Go(e,n,i),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return X2()}}function I9(t){return new ml(t)}function t0(){return typeof document<"u"?document:null}function cm(t){return new VL(t,!0)}ml.c_=!1;class GC{constructor(e,n,i=1e3,a=1.5,l=6e4){this.Ci=e,this.timerId=n,this.R_=i,this.A_=a,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-i);a>0&&pe("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const gE="PersistentStream";class $C{constructor(e,n,i,a,l,c,d,f){this.Ci=e,this.b_=i,this.S_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new GC(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ie.RESOURCE_EXHAUSTED?(Zi(n.toString()),Zi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,a])=>{this.D_===n&&this.G_(i,a)}),(i=>{e((()=>{const a=new fe(ie.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)}))}))}G_(e,n){const i=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{i((()=>this.listener.Zo()))})),this.stream.Yo((()=>{i((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{i((()=>this.z_(a)))})),this.stream.onMessage((a=>{i((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return pe(gE,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(pe(gE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class D9 extends $C{constructor(e,n,i,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,a,c),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=LL(this.serializer,e),i=(function(l){if(!("targetChange"in l))return Ve.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Ve.min():c.readTime?mi(c.readTime):Ve.min()})(e);return this.listener.J_(n,i)}Z_(e){const n={};n.database=ny(this.serializer),n.addTarget=(function(l,c){let d;const f=c.target;if(d=W0(f)?{documents:BL(l,f)}:{query:FL(l,f).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=jC(l,c.resumeToken);const p=Z0(l,c.expectedCount);p!==null&&(d.expectedCount=p)}else if(c.snapshotVersion.compareTo(Ve.min())>0){d.readTime=If(l,c.snapshotVersion.toTimestamp());const p=Z0(l,c.expectedCount);p!==null&&(d.expectedCount=p)}return d})(this.serializer,e);const i=qL(this.serializer,e);i&&(n.labels=i),this.K_(n)}X_(e){const n={};n.database=ny(this.serializer),n.removeTarget=e,this.K_(n)}}class j9 extends $C{constructor(e,n,i,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,a,c),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return tt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,tt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){tt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=zL(e.writeResults,e.commitTime),i=mi(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=ny(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((i=>UL(this.serializer,i)))};this.K_(n)}}class M9{}class V9 extends M9{constructor(e,n,i,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new fe(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Wo(e,ey(n,i),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new fe(ie.UNKNOWN,l.toString())}))}jo(e,n,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.jo(e,ey(n,i),a,c,d,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new fe(ie.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function O9(t,e,n,i){return new V9(t,e,n,i)}class P9{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Zi(n),this.aa=!1):pe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const so="RemoteStore";class L9{constructor(e,n,i,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((c=>{i.enqueueAndForget((async()=>{lo(this)&&(pe(so,"Restarting streams for network reachability change."),await(async function(f){const p=Pe(f);p.Ea.add(4),await Gu(p),p.Va.set("Unknown"),p.Ea.delete(4),await um(p)})(this))}))})),this.Va=new P9(i,a)}}async function um(t){if(lo(t))for(const e of t.Ra)await e(!0)}async function Gu(t){for(const e of t.Ra)await e(!1)}function KC(t,e){const n=Pe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Mv(n)?jv(n):Pl(n).O_()&&Dv(n,e))}function Iv(t,e){const n=Pe(t),i=Pl(n);n.Ia.delete(e),i.O_()&&YC(n,e),n.Ia.size===0&&(i.O_()?i.L_():lo(n)&&n.Va.set("Unknown"))}function Dv(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ve.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Pl(t).Z_(e)}function YC(t,e){t.da.$e(e),Pl(t).X_(e)}function jv(t){t.da=new IL({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Pl(t).start(),t.Va.ua()}function Mv(t){return lo(t)&&!Pl(t).x_()&&t.Ia.size>0}function lo(t){return Pe(t).Ea.size===0}function QC(t){t.da=void 0}async function U9(t){t.Va.set("Online")}async function z9(t){t.Ia.forEach(((e,n)=>{Dv(t,e)}))}async function B9(t,e){QC(t),Mv(t)?(t.Va.ha(e),jv(t)):t.Va.set("Unknown")}async function F9(t,e,n){if(t.Va.set("Online"),e instanceof DC&&e.state===2&&e.cause)try{await(async function(a,l){const c=l.cause;for(const d of l.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Ia.delete(d),a.da.removeTarget(d))})(t,e)}catch(i){pe(so,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await jf(t,i)}else if(e instanceof af?t.da.Xe(e):e instanceof IC?t.da.st(e):t.da.tt(e),!n.isEqual(Ve.min()))try{const i=await qC(t.localStore);n.compareTo(i)>=0&&await(function(l,c){const d=l.da.Tt(c);return d.targetChanges.forEach(((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const v=l.Ia.get(p);v&&l.Ia.set(p,v.withResumeToken(f.resumeToken,c))}})),d.targetMismatches.forEach(((f,p)=>{const v=l.Ia.get(f);if(!v)return;l.Ia.set(f,v.withResumeToken(fn.EMPTY_BYTE_STRING,v.snapshotVersion)),YC(l,f);const b=new Gr(v.target,f,p,v.sequenceNumber);Dv(l,b)})),l.remoteSyncer.applyRemoteEvent(d)})(t,n)}catch(i){pe(so,"Failed to raise snapshot:",i),await jf(t,i)}}async function jf(t,e,n){if(!Vl(e))throw e;t.Ea.add(1),await Gu(t),t.Va.set("Offline"),n||(n=()=>qC(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{pe(so,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await um(t)}))}function XC(t,e){return e().catch((n=>jf(t,n,e)))}async function hm(t){const e=Pe(t),n=sa(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:yv;for(;H9(e);)try{const a=await T9(e.localStore,i);if(a===null){e.Ta.length===0&&n.L_();break}i=a.batchId,q9(e,a)}catch(a){await jf(e,a)}WC(e)&&JC(e)}function H9(t){return lo(t)&&t.Ta.length<10}function q9(t,e){t.Ta.push(e);const n=sa(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function WC(t){return lo(t)&&!sa(t).x_()&&t.Ta.length>0}function JC(t){sa(t).start()}async function G9(t){sa(t).ra()}async function $9(t){const e=sa(t);for(const n of t.Ta)e.ea(n.mutations)}async function K9(t,e,n){const i=t.Ta.shift(),a=Ev.from(i,e,n);await XC(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await hm(t)}async function Y9(t,e){e&&sa(t).Y_&&await(async function(i,a){if((function(c){return kL(c)&&c!==ie.ABORTED})(a.code)){const l=i.Ta.shift();sa(i).B_(),await XC(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a))),await hm(i)}})(t,e),WC(t)&&JC(t)}async function yE(t,e){const n=Pe(t);n.asyncQueue.verifyOperationInProgress(),pe(so,"RemoteStore received new credentials");const i=lo(n);n.Ea.add(3),await Gu(n),i&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await um(n)}async function Q9(t,e){const n=Pe(t);e?(n.Ea.delete(2),await um(n)):e||(n.Ea.add(2),await Gu(n),n.Va.set("Unknown"))}function Pl(t){return t.ma||(t.ma=(function(n,i,a){const l=Pe(n);return l.sa(),new D9(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:U9.bind(null,t),Yo:z9.bind(null,t),t_:B9.bind(null,t),J_:F9.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),Mv(t)?jv(t):t.Va.set("Unknown")):(await t.ma.stop(),QC(t))}))),t.ma}function sa(t){return t.fa||(t.fa=(function(n,i,a){const l=Pe(n);return l.sa(),new j9(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:G9.bind(null,t),t_:Y9.bind(null,t),ta:$9.bind(null,t),na:K9.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await hm(t)):(await t.fa.stop(),t.Ta.length>0&&(pe(so,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class Vv{constructor(e,n,i,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new Yi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,a,l){const c=Date.now()+i,d=new Vv(e,n,c,a,l);return d.start(i),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ov(t,e){if(Zi("AsyncQueue",`${e}: ${t}`),Vl(t))return new fe(ie.UNAVAILABLE,`${e}: ${t}`);throw t}class pl{static emptySet(e){return new pl(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||ke.comparator(n.key,i.key):(n,i)=>ke.comparator(n.key,i.key),this.keyedMap=Zc(),this.sortedSet=new bt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,i)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof pl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new pl;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}class vE{constructor(){this.ga=new bt(ke.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ie(63341,{Vt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,i)=>{e.push(i)})),e}}class Tl{constructor(e,n,i,a,l,c,d,f,p){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,n,i,a,l){const c=[];return n.forEach((d=>{c.push({type:0,doc:d})})),new Tl(e,n,pl.emptySet(n),c,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&im(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==i[a].type||!n[a].doc.isEqual(i[a].doc))return!1;return!0}}class X9{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class W9{constructor(){this.queries=bE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const a=Pe(n),l=a.queries;a.queries=bE(),l.forEach(((c,d)=>{for(const f of d.ba)f.onError(i)}))})(this,new fe(ie.ABORTED,"Firestore shutting down"))}}function bE(){return new oo((t=>vC(t)),im)}async function Pv(t,e){const n=Pe(t);let i=3;const a=e.query;let l=n.queries.get(a);l?!l.Sa()&&e.Da()&&(i=2):(l=new X9,i=e.Da()?0:1);try{switch(i){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const d=Ov(c,`Initialization of query '${tl(e.query)}' failed`);return void e.onError(d)}n.queries.set(a,l),l.ba.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&Uv(n)}async function Lv(t,e){const n=Pe(t),i=e.query;let a=3;const l=n.queries.get(i);if(l){const c=l.ba.indexOf(e);c>=0&&(l.ba.splice(c,1),l.ba.length===0?a=e.Da()?0:1:!l.Sa()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function J9(t,e){const n=Pe(t);let i=!1;for(const a of e){const l=a.query,c=n.queries.get(l);if(c){for(const d of c.ba)d.Fa(a)&&(i=!0);c.wa=a}}i&&Uv(n)}function Z9(t,e,n){const i=Pe(t),a=i.queries.get(e);if(a)for(const l of a.ba)l.onError(n);i.queries.delete(e)}function Uv(t){t.Ca.forEach((e=>{e.next()}))}var ry,xE;(xE=ry||(ry={})).Ma="default",xE.Cache="cache";class zv{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new Tl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.Ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Tl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ry.Cache}}class ZC{constructor(e){this.key=e}}class ek{constructor(e){this.key=e}}class eU{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ye(),this.mutatedKeys=Ye(),this.eu=bC(e),this.tu=new pl(this.eu)}get nu(){return this.Za}ru(e,n){const i=n?n.iu:new vE,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,d=!1;const f=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((v,b)=>{const w=a.get(v),S=rm(this.query,b)?b:null,D=!!w&&this.mutatedKeys.has(w.key),O=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let V=!1;w&&S?w.data.isEqual(S.data)?D!==O&&(i.track({type:3,doc:S}),V=!0):this.su(w,S)||(i.track({type:2,doc:S}),V=!0,(f&&this.eu(S,f)>0||p&&this.eu(S,p)<0)&&(d=!0)):!w&&S?(i.track({type:0,doc:S}),V=!0):w&&!S&&(i.track({type:1,doc:w}),V=!0,(f||p)&&(d=!0)),V&&(S?(c=c.add(S),l=O?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),i.track({type:1,doc:v})}return{tu:c,iu:i,Ss:d,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((v,b)=>(function(S,D){const O=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ie(20277,{Vt:V})}};return O(S)-O(D)})(v.type,b.type)||this.eu(v.doc,b.doc))),this.ou(i),a=a??!1;const d=n&&!a?this._u():[],f=this.Ya.size===0&&this.current&&!a?1:0,p=f!==this.Xa;return this.Xa=f,c.length!==0||p?{snapshot:new Tl(this.query,e.tu,l,c,e.mutatedKeys,f===0,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new vE,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Ye(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Ya=this.Ya.add(i.key))}));const n=[];return e.forEach((i=>{this.Ya.has(i)||n.push(new ek(i))})),this.Ya.forEach((i=>{e.has(i)||n.push(new ZC(i))})),n}cu(e){this.Za=e.ks,this.Ya=Ye();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Tl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Bv="SyncEngine";class tU{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class nU{constructor(e){this.key=e,this.hu=!1}}class sU{constructor(e,n,i,a,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new oo((d=>vC(d)),im),this.Iu=new Map,this.Eu=new Set,this.Ru=new bt(ke.comparator),this.Au=new Map,this.Vu=new Cv,this.du={},this.mu=new Map,this.fu=wl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function iU(t,e,n=!0){const i=ak(t);let a;const l=i.Tu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await tk(i,e,n,!0),a}async function rU(t,e){const n=ak(t);await tk(n,e,!0,!1)}async function tk(t,e,n,i){const a=await E9(t.localStore,fi(e)),l=a.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let d;return i&&(d=await aU(t,e,l,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&KC(t.remoteStore,a),d}async function aU(t,e,n,i,a){t.pu=(b,w,S)=>(async function(O,V,z,F){let G=V.view.ru(z);G.Ss&&(G=await dE(O.localStore,V.query,!1).then((({documents:j})=>V.view.ru(j,G))));const te=F&&F.targetChanges.get(V.targetId),re=F&&F.targetMismatches.get(V.targetId)!=null,he=V.view.applyChanges(G,O.isPrimaryClient,te,re);return wE(O,V.targetId,he.au),he.snapshot})(t,b,w,S);const l=await dE(t.localStore,e,!0),c=new eU(e,l.ks),d=c.ru(l.documents),f=qu.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",a),p=c.applyChanges(d,t.isPrimaryClient,f);wE(t,n,p.au);const v=new tU(e,n,c);return t.Tu.set(e,v),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function oU(t,e,n){const i=Pe(t),a=i.Tu.get(e),l=i.Iu.get(a.targetId);if(l.length>1)return i.Iu.set(a.targetId,l.filter((c=>!im(c,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await sy(i.localStore,a.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(a.targetId),n&&Iv(i.remoteStore,a.targetId),ay(i,a.targetId)})).catch(Ml)):(ay(i,a.targetId),await sy(i.localStore,a.targetId,!0))}async function lU(t,e){const n=Pe(t),i=n.Tu.get(e),a=n.Iu.get(i.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Iv(n.remoteStore,i.targetId))}async function cU(t,e,n){const i=gU(t);try{const a=await(function(c,d){const f=Pe(c),p=mt.now(),v=d.reduce(((S,D)=>S.add(D.key)),Ye());let b,w;return f.persistence.runTransaction("Locally write mutations","readwrite",(S=>{let D=er(),O=Ye();return f.xs.getEntries(S,v).next((V=>{D=V,D.forEach(((z,F)=>{F.isValidDocument()||(O=O.add(z))}))})).next((()=>f.localDocuments.getOverlayedDocuments(S,D))).next((V=>{b=V;const z=[];for(const F of d){const G=TL(F,b.get(F.key).overlayedDocument);G!=null&&z.push(new la(F.key,G,uC(G.value.mapValue),ps.exists(!0)))}return f.mutationQueue.addMutationBatch(S,p,z,d)})).next((V=>{w=V;const z=V.applyToLocalDocumentSet(b,O);return f.documentOverlayCache.saveOverlays(S,V.batchId,z)}))})).then((()=>({batchId:w.batchId,changes:_C(b)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),(function(c,d,f){let p=c.du[c.currentUser.toKey()];p||(p=new bt(Ke)),p=p.insert(d,f),c.du[c.currentUser.toKey()]=p})(i,a.batchId,n),await $u(i,a.changes),await hm(i.remoteStore)}catch(a){const l=Ov(a,"Failed to persist write");n.reject(l)}}async function nk(t,e){const n=Pe(t);try{const i=await _9(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const c=n.Au.get(l);c&&(tt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?tt(c.hu,14607):a.removedDocuments.size>0&&(tt(c.hu,42227),c.hu=!1))})),await $u(n,i,e)}catch(i){await Ml(i)}}function _E(t,e,n){const i=Pe(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const a=[];i.Tu.forEach(((l,c)=>{const d=c.view.va(e);d.snapshot&&a.push(d.snapshot)})),(function(c,d){const f=Pe(c);f.onlineState=d;let p=!1;f.queries.forEach(((v,b)=>{for(const w of b.ba)w.va(d)&&(p=!0)})),p&&Uv(f)})(i.eventManager,e),a.length&&i.Pu.J_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function uU(t,e,n){const i=Pe(t);i.sharedClientState.updateQueryState(e,"rejected",n);const a=i.Au.get(e),l=a&&a.key;if(l){let c=new bt(ke.comparator);c=c.insert(l,yn.newNoDocument(l,Ve.min()));const d=Ye().add(l),f=new lm(Ve.min(),new Map,new bt(Ke),c,d);await nk(i,f),i.Ru=i.Ru.remove(l),i.Au.delete(e),Fv(i)}else await sy(i.localStore,e,!1).then((()=>ay(i,e,n))).catch(Ml)}async function hU(t,e){const n=Pe(t),i=e.batch.batchId;try{const a=await x9(n.localStore,e);ik(n,i,null),sk(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await $u(n,a)}catch(a){await Ml(a)}}async function dU(t,e,n){const i=Pe(t);try{const a=await(function(c,d){const f=Pe(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let v;return f.mutationQueue.lookupMutationBatch(p,d).next((b=>(tt(b!==null,37113),v=b.keys(),f.mutationQueue.removeMutationBatch(p,b)))).next((()=>f.mutationQueue.performConsistencyCheck(p))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(p,v,d))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v))).next((()=>f.localDocuments.getDocuments(p,v)))}))})(i.localStore,e);ik(i,e,n),sk(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await $u(i,a)}catch(a){await Ml(a)}}function sk(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function ik(t,e,n){const i=Pe(t);let a=i.du[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),i.du[i.currentUser.toKey()]=a}}function ay(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Iu.get(e))t.Tu.delete(i),n&&t.Pu.yu(i,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((i=>{t.Vu.containsKey(i)||rk(t,i)}))}function rk(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(Iv(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),Fv(t))}function wE(t,e,n){for(const i of n)i instanceof ZC?(t.Vu.addReference(i.key,e),fU(t,i)):i instanceof ek?(pe(Bv,"Document no longer in limbo: "+i.key),t.Vu.removeReference(i.key,e),t.Vu.containsKey(i.key)||rk(t,i.key)):Ie(19791,{wu:i})}function fU(t,e){const n=e.key,i=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(i)||(pe(Bv,"New document in limbo: "+n),t.Eu.add(i),Fv(t))}function Fv(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ke(ut.fromString(e)),i=t.fu.next();t.Au.set(i,new nU(n)),t.Ru=t.Ru.insert(n,i),KC(t.remoteStore,new Gr(fi(sm(n.path)),i,"TargetPurposeLimboResolution",em.ce))}}async function $u(t,e,n){const i=Pe(t),a=[],l=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach(((d,f)=>{c.push(i.pu(f,e,n).then((p=>{if((p||n)&&i.isPrimaryClient){const v=p?!p.fromCache:n?.targetChanges.get(f.targetId)?.current;i.sharedClientState.updateQueryState(f.targetId,v?"current":"not-current")}if(p){a.push(p);const v=Rv.Es(f.targetId,p);l.push(v)}})))})),await Promise.all(c),i.Pu.J_(a),await(async function(f,p){const v=Pe(f);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>oe.forEach(p,(w=>oe.forEach(w.Ts,(S=>v.persistence.referenceDelegate.addReference(b,w.targetId,S))).next((()=>oe.forEach(w.Is,(S=>v.persistence.referenceDelegate.removeReference(b,w.targetId,S)))))))))}catch(b){if(!Vl(b))throw b;pe(Nv,"Failed to update sequence numbers: "+b)}for(const b of p){const w=b.targetId;if(!b.fromCache){const S=v.vs.get(w),D=S.snapshotVersion,O=S.withLastLimboFreeSnapshotVersion(D);v.vs=v.vs.insert(w,O)}}})(i.localStore,l))}async function mU(t,e){const n=Pe(t);if(!n.currentUser.isEqual(e)){pe(Bv,"User change. New user:",e.toKey());const i=await HC(n.localStore,e);n.currentUser=e,(function(l,c){l.mu.forEach((d=>{d.forEach((f=>{f.reject(new fe(ie.CANCELLED,c))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await $u(n,i.Ns)}}function pU(t,e){const n=Pe(t),i=n.Au.get(e);if(i&&i.hu)return Ye().add(i.key);{let a=Ye();const l=n.Iu.get(e);if(!l)return a;for(const c of l){const d=n.Tu.get(c);a=a.unionWith(d.view.nu)}return a}}function ak(t){const e=Pe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=nk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=pU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=uU.bind(null,e),e.Pu.J_=J9.bind(null,e.eventManager),e.Pu.yu=Z9.bind(null,e.eventManager),e}function gU(t){const e=Pe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=hU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=dU.bind(null,e),e}class Mf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=cm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return b9(this.persistence,new g9,e.initialUser,this.serializer)}Cu(e){return new FC(kv.Vi,this.serializer)}Du(e){return new A9}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Mf.provider={build:()=>new Mf};class yU extends Mf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){tt(this.persistence.referenceDelegate instanceof Df,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new t9(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?On.withCacheSize(this.cacheSizeBytes):On.DEFAULT;return new FC((i=>Df.Vi(i,n)),this.serializer)}}class oy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>_E(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=mU.bind(null,this.syncEngine),await Q9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new W9})()}createDatastore(e){const n=cm(e.databaseInfo.databaseId),i=I9(e.databaseInfo);return O9(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return(function(i,a,l,c,d){return new L9(i,a,l,c,d)})(this.localStore,this.datastore,e.asyncQueue,(n=>_E(this.syncEngine,n,0)),(function(){return pE.v()?new pE:new C9})())}createSyncEngine(e,n){return(function(a,l,c,d,f,p,v){const b=new sU(a,l,c,d,f,p);return v&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const i=Pe(n);pe(so,"RemoteStore shutting down."),i.Ea.add(5),await Gu(i),i.Aa.shutdown(),i.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}oy.provider={build:()=>new oy};class Hv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Zi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const ia="FirestoreClient";class vU{constructor(e,n,i,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this._databaseInfo=a,this.user=gn.UNAUTHENTICATED,this.clientId=gv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async c=>{pe(ia,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(pe(ia,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Yi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=Ov(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function n0(t,e){t.asyncQueue.verifyOperationInProgress(),pe(ia,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener((async a=>{i.isEqual(a)||(await HC(e.localStore,a),i=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function TE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await bU(t);pe(ia,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((i=>yE(e.remoteStore,i))),t.setAppCheckTokenChangeListener(((i,a)=>yE(e.remoteStore,a))),t._onlineComponents=e}async function bU(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){pe(ia,"Using user provided OfflineComponentProvider");try{await n0(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===ie.FAILED_PRECONDITION||a.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;no("Error using user provided cache. Falling back to memory cache: "+n),await n0(t,new Mf)}}else pe(ia,"Using default OfflineComponentProvider"),await n0(t,new yU(void 0));return t._offlineComponents}async function ok(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(pe(ia,"Using user provided OnlineComponentProvider"),await TE(t,t._uninitializedComponentsProvider._online)):(pe(ia,"Using default OnlineComponentProvider"),await TE(t,new oy))),t._onlineComponents}function xU(t){return ok(t).then((e=>e.syncEngine))}async function Vf(t){const e=await ok(t),n=e.eventManager;return n.onListen=iU.bind(null,e.syncEngine),n.onUnlisten=oU.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=rU.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=lU.bind(null,e.syncEngine),n}function _U(t,e,n,i){const a=new Hv(i),l=new zv(e,a,n);return t.asyncQueue.enqueueAndForget((async()=>Pv(await Vf(t),l))),()=>{a.Nu(),t.asyncQueue.enqueueAndForget((async()=>Lv(await Vf(t),l)))}}function wU(t,e,n={}){const i=new Yi;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,f,p){const v=new Hv({next:w=>{v.Nu(),c.enqueueAndForget((()=>Lv(l,b)));const S=w.docs.has(d);!S&&w.fromCache?p.reject(new fe(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&w.fromCache&&f&&f.source==="server"?p.reject(new fe(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(w)},error:w=>p.reject(w)}),b=new zv(sm(d.path),v,{includeMetadataChanges:!0,Ka:!0});return Pv(l,b)})(await Vf(t),t.asyncQueue,e,n,i))),i.promise}function TU(t,e,n={}){const i=new Yi;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,f,p){const v=new Hv({next:w=>{v.Nu(),c.enqueueAndForget((()=>Lv(l,b))),w.fromCache&&f.source==="server"?p.reject(new fe(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(w)},error:w=>p.reject(w)}),b=new zv(d,v,{includeMetadataChanges:!0,Ka:!0});return Pv(l,b)})(await Vf(t),t.asyncQueue,e,n,i))),i.promise}function EU(t,e){const n=new Yi;return t.asyncQueue.enqueueAndForget((async()=>cU(await xU(t),e,n))),n.promise}function lk(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const SU="ComponentProvider",EE=new Map;function AU(t,e,n,i,a){return new qP(t,e,n,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,lk(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,i)}const ck="firestore.googleapis.com",SE=!0;class AE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new fe(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ck,this.ssl=SE}else this.host=e.host,this.ssl=e.ssl??SE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=BC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<ZL)throw new fe(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}DP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=lk(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new fe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new fe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new fe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,a){return i.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class dm{constructor(e,n,i,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new AE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new AE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new wP;switch(i.type){case"firstParty":return new AP(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new fe(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=EE.get(n);i&&(pe(SU,"Removing Datastore"),EE.delete(n),i.terminate())})(this),Promise.resolve()}}function CU(t,e,n,i={}){t=Ln(t,dm);const a=aa(e),l=t._getSettings(),c={...l,emulatorOptions:t._getEmulatorOptions()},d=`${e}:${n}`;a&&(ev(`https://${d}`),tv("Firestore",!0)),l.host!==ck&&l.host!==d&&no("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...l,host:d,ssl:a,emulatorOptions:i};if(!Ja(f,c)&&(t._setSettings(f),i.mockUserToken)){let p,v;if(typeof i.mockUserToken=="string")p=i.mockUserToken,v=gn.MOCK_USER;else{p=c2(i.mockUserToken,t._app?.options.projectId);const b=i.mockUserToken.sub||i.mockUserToken.user_id;if(!b)throw new fe(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new gn(b)}t._authCredentials=new TP(new J2(p,v))}}class sr{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new sr(this.firestore,e,this._query)}}class Et{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Et(this.firestore,e,this._key)}toJSON(){return{type:Et._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(Fu(n,Et._jsonSchema))return new Et(e,i||null,new ke(ut.fromString(n.referencePath)))}}Et._jsonSchemaVersion="firestore/documentReference/1.0",Et._jsonSchema={type:Gt("string",Et._jsonSchemaVersion),referencePath:Gt("string")};class Qr extends sr{constructor(e,n,i){super(e,n,sm(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Et(this.firestore,null,new ke(e))}withConverter(e){return new Qr(this.firestore,e,this._path)}}function Of(t,e,...n){if(t=St(t),Z2("collection","path",e),t instanceof dm){const i=ut.fromString(e,...n);return UT(i),new Qr(t,null,i)}{if(!(t instanceof Et||t instanceof Qr))throw new fe(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(ut.fromString(e,...n));return UT(i),new Qr(t.firestore,null,i)}}function El(t,e,...n){if(t=St(t),arguments.length===1&&(e=gv.newId()),Z2("doc","path",e),t instanceof dm){const i=ut.fromString(e,...n);return LT(i),new Et(t,null,new ke(i))}{if(!(t instanceof Et||t instanceof Qr))throw new fe(ie.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(ut.fromString(e,...n));return LT(i),new Et(t.firestore,t instanceof Qr?t.converter:null,new ke(i))}}const CE="AsyncQueue";class kE{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new GC(this,"async_queue_retry"),this._c=()=>{const i=t0();i&&pe(CE,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=t0();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=t0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Yi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Vl(e))throw e;pe(CE,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,Zi("INTERNAL UNHANDLED ERROR: ",RE(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=Vv.createAndSchedule(this,e,n,i,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Ie(47125,{Pc:RE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function RE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class tr extends dm{constructor(e,n,i,a){super(e,n,i,a),this.type="firestore",this._queue=new kE,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new kE(e),this._firestoreClient=void 0,await e}}}function kU(t,e){const n=typeof t=="object"?t:iv(),i=typeof t=="string"?t:Af,a=Qf(n,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=a2("firestore");l&&CU(a,...l)}return a}function fm(t){if(t._terminated)throw new fe(ie.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||RU(t),t._firestoreClient}function RU(t){const e=t._freezeSettings(),n=AU(t._databaseId,t._app?.options.appId||"",t._persistenceKey,t._app?.options.apiKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new vU(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(t._componentsProvider))}class ds{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ds(fn.fromBase64String(e))}catch(n){throw new fe(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ds(fn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ds._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Fu(e,ds._jsonSchema))return ds.fromBase64String(e.bytes)}}ds._jsonSchemaVersion="firestore/bytes/1.0",ds._jsonSchema={type:Gt("string",ds._jsonSchemaVersion),bytes:Gt("string")};class qv{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class mm{constructor(e){this._methodName=e}}class pi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ke(this._lat,e._lat)||Ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:pi._jsonSchemaVersion}}static fromJSON(e){if(Fu(e,pi._jsonSchema))return new pi(e.latitude,e.longitude)}}pi._jsonSchemaVersion="firestore/geoPoint/1.0",pi._jsonSchema={type:Gt("string",pi._jsonSchemaVersion),latitude:Gt("number"),longitude:Gt("number")};class Os{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Os._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Fu(e,Os._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Os(e.vectorValues);throw new fe(ie.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Os._jsonSchemaVersion="firestore/vectorValue/1.0",Os._jsonSchema={type:Gt("string",Os._jsonSchemaVersion),vectorValues:Gt("object")};const NU=/^__.*__$/;class IU{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new la(e,this.data,this.fieldMask,n,this.fieldTransforms):new Hu(e,this.data,n,this.fieldTransforms)}}class uk{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new la(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function hk(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie(40011,{dataSource:t})}}class Gv{constructor(e,n,i,a,l,c){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Gv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),i=this.contextWith({path:n,arrayElement:!1});return i.validatePathSegment(e),i}childContextForFieldPath(e){const n=this.path?.child(e),i=this.contextWith({path:n,arrayElement:!1});return i.validatePath(),i}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Pf(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(hk(this.dataSource)&&NU.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class DU{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||cm(e)}createContext(e,n,i,a=!1){return new Gv({dataSource:e,methodName:n,targetDoc:i,path:dn.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function pm(t){const e=t._freezeSettings(),n=cm(t._databaseId);return new DU(t._databaseId,!!e.ignoreUndefinedProperties,n)}function dk(t,e,n,i,a,l={}){const c=t.createContext(l.merge||l.mergeFields?2:0,e,n,a);Kv("Data must be an object, but it was:",c,i);const d=fk(i,c);let f,p;if(l.merge)f=new Yn(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const b of l.mergeFields){const w=io(e,b,n);if(!c.contains(w))throw new fe(ie.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);gk(v,w)||v.push(w)}f=new Yn(v),p=c.fieldTransforms.filter((b=>f.covers(b.field)))}else f=null,p=c.fieldTransforms;return new IU(new Pn(d),f,p)}class gm extends mm{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof gm}}class $v extends mm{_toFieldTransform(e){return new bL(e.path,new Cu)}isEqual(e){return e instanceof $v}}function jU(t,e,n,i){const a=t.createContext(1,e,n);Kv("Data must be an object, but it was:",a,i);const l=[],c=Pn.empty();oa(i,((f,p)=>{const v=pk(e,f,n);p=St(p);const b=a.childContextForFieldPath(v);if(p instanceof gm)l.push(v);else{const w=Ku(p,b);w!=null&&(l.push(v),c.set(v,w))}}));const d=new Yn(l);return new uk(c,d,a.fieldTransforms)}function MU(t,e,n,i,a,l){const c=t.createContext(1,e,n),d=[io(e,i,n)],f=[a];if(l.length%2!=0)throw new fe(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<l.length;w+=2)d.push(io(e,l[w])),f.push(l[w+1]);const p=[],v=Pn.empty();for(let w=d.length-1;w>=0;--w)if(!gk(p,d[w])){const S=d[w];let D=f[w];D=St(D);const O=c.childContextForFieldPath(S);if(D instanceof gm)p.push(S);else{const V=Ku(D,O);V!=null&&(p.push(S),v.set(S,V))}}const b=new Yn(p);return new uk(v,b,c.fieldTransforms)}function VU(t,e,n,i=!1){return Ku(n,t.createContext(i?4:3,e))}function Ku(t,e){if(mk(t=St(t)))return Kv("Unsupported field value:",e,t),fk(t,e);if(t instanceof mm)return(function(i,a){if(!hk(a.dataSource))throw a.createError(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(i,a){const l=[];let c=0;for(const d of i){let f=Ku(d,a.childContextForArray(c));f==null&&(f={nullValue:"NULL_VALUE"}),l.push(f),c++}return{arrayValue:{values:l}}})(t,e)}return(function(i,a){if((i=St(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return gL(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=mt.fromDate(i);return{timestampValue:If(a.serializer,l)}}if(i instanceof mt){const l=new mt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:If(a.serializer,l)}}if(i instanceof pi)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ds)return{bytesValue:jC(a.serializer,i._byteString)};if(i instanceof Et){const l=a.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw a.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Av(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof Os)return(function(c,d){const f=c instanceof Os?c.toArray():c;return{mapValue:{fields:{[lC]:{stringValue:cC},[Cf]:{arrayValue:{values:f.map((v=>{if(typeof v!="number")throw d.createError("VectorValues must only contain numeric values.");return wv(d.serializer,v)}))}}}}}})(i,a);if(zC(i))return i._toProto(a.serializer);throw a.createError(`Unsupported field value: ${Zf(i)}`)})(t,e)}function fk(t,e){const n={};return nC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):oa(t,((i,a)=>{const l=Ku(a,e.childContextForField(i));l!=null&&(n[i]=l)})),{mapValue:{fields:n}}}function mk(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof mt||t instanceof pi||t instanceof ds||t instanceof Et||t instanceof mm||t instanceof Os||zC(t))}function Kv(t,e,n){if(!mk(n)||!eC(n)){const i=Zf(n);throw i==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+i)}}function io(t,e,n){if((e=St(e))instanceof qv)return e._internalPath;if(typeof e=="string")return pk(t,e);throw Pf("Field path arguments must be of type string or ",t,!1,void 0,n)}const OU=new RegExp("[~\\*/\\[\\]]");function pk(t,e,n){if(e.search(OU)>=0)throw Pf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new qv(...e.split("."))._internalPath}catch{throw Pf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Pf(t,e,n,i,a){const l=i&&!i.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(l||c)&&(f+=" (found",l&&(f+=` in field ${i}`),c&&(f+=` in document ${a}`),f+=")"),new fe(ie.INVALID_ARGUMENT,d+t+f)}function gk(t,e){return t.some((n=>n.isEqual(e)))}class PU{convertValue(e,n="none"){switch(na(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ta(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ie(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return oa(e,((a,l)=>{i[a]=this.convertValue(l,n)})),i}convertVectorValue(e){const n=e.fields?.[Cf].arrayValue?.values?.map((i=>Dt(i.doubleValue)));return new Os(n)}convertGeoPoint(e){return new pi(Dt(e.latitude),Dt(e.longitude))}convertArray(e,n){return(e.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const i=nm(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Tu(e));default:return null}}convertTimestamp(e){const n=ea(e);return new mt(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=ut.fromString(e);tt(UC(i),9688,{name:e});const a=new Eu(i.get(1),i.get(3)),l=new ke(i.popFirst(5));return a.isEqual(n)||Zi(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}class Yv extends PU{constructor(e){super(),this.firestore=e}convertBytes(e){return new ds(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Et(this.firestore,null,n)}}function LU(){return new $v("serverTimestamp")}const NE="@firebase/firestore",IE="4.11.0";function DE(t){return(function(n,i){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of i)if(l in a&&typeof a[l]=="function")return!0;return!1})(t,["next","error","complete"])}class yk{constructor(e,n,i,a,l){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Et(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new UU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(io("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class UU extends yk{data(){return super.data()}}function vk(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new fe(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Qv{}class Xv extends Qv{}function bk(t,e,...n){let i=[];e instanceof Qv&&i.push(e),i=i.concat(n),(function(l){const c=l.filter((f=>f instanceof Wv)).length,d=l.filter((f=>f instanceof ym)).length;if(c>1||c>0&&d>0)throw new fe(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const a of i)t=a._apply(t);return t}class ym extends Xv{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new ym(e,n,i)}_apply(e){const n=this._parse(e);return wk(e._query,n),new sr(e.firestore,e.converter,J0(e._query,n))}_parse(e){const n=pm(e.firestore);return(function(l,c,d,f,p,v,b){let w;if(p.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new fe(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){ME(b,v);const D=[];for(const O of b)D.push(jE(f,l,O));w={arrayValue:{values:D}}}else w=jE(f,l,b)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||ME(b,v),w=VU(d,c,b,v==="in"||v==="not-in");return qt.create(p,v,w)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function zU(t,e,n){const i=e,a=io("where",t);return ym._create(a,i,n)}class Wv extends Qv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Wv(e,n)}_parse(e){const n=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return n.length===1?n[0]:Ls.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let c=a;const d=l.getFlattenedFilters();for(const f of d)wk(c,f),c=J0(c,f)})(e._query,n),new sr(e.firestore,e.converter,J0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Jv extends Xv{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Jv(e,n)}_apply(e){const n=(function(a,l,c){if(a.startAt!==null)throw new fe(ie.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new fe(ie.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Au(l,c)})(e._query,this._field,this._direction);return new sr(e.firestore,e.converter,lL(e._query,n))}}function xk(t,e="asc"){const n=e,i=io("orderBy",t);return Jv._create(i,n)}class Zv extends Xv{constructor(e,n,i){super(),this.type=e,this._limit=n,this._limitType=i}static _create(e,n,i){return new Zv(e,n,i)}_apply(e){return new sr(e.firestore,e.converter,Rf(e._query,this._limit,this._limitType))}}function _k(t){return jP("limit",t),Zv._create("limit",t,"F")}function jE(t,e,n){if(typeof(n=St(n))=="string"){if(n==="")throw new fe(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!yC(e)&&n.indexOf("/")!==-1)throw new fe(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(ut.fromString(n));if(!ke.isDocumentKey(i))throw new fe(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return KT(t,new ke(i))}if(n instanceof Et)return KT(t,n._key);throw new fe(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Zf(n)}.`)}function ME(t,e){if(!Array.isArray(t)||t.length===0)throw new fe(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function wk(t,e){const n=(function(a,l){for(const c of a)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new fe(ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function Tk(t,e,n){let i;return i=t?t.toFirestore(e):e,i}class tu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Qa extends yk{constructor(e,n,i,a,l,c){super(e,n,i,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new of(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(io("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(ie.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Qa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Qa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Qa._jsonSchema={type:Gt("string",Qa._jsonSchemaVersion),bundleSource:Gt("string","DocumentSnapshot"),bundleName:Gt("string"),bundle:Gt("string")};class of extends Qa{data(e={}){return super.data(e)}}class Xa{constructor(e,n,i,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new tu(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((i=>{e.call(n,new of(this._firestore,this._userDataWriter,i.key,i,new tu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((d=>{const f=new of(a._firestore,a._userDataWriter,d.doc.key,d.doc,new tu(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:f,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const f=new of(a._firestore,a._userDataWriter,d.doc.key,d.doc,new tu(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,v=-1;return d.type!==0&&(p=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),v=c.indexOf(d.doc.key)),{type:BU(d.type),doc:f,oldIndex:p,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(ie.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Xa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=gv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function BU(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ie(61501,{type:t})}}Xa._jsonSchemaVersion="firestore/querySnapshot/1.0",Xa._jsonSchema={type:Gt("string",Xa._jsonSchemaVersion),bundleSource:Gt("string","QuerySnapshot"),bundleName:Gt("string"),bundle:Gt("string")};function FU(t){t=Ln(t,Et);const e=Ln(t.firestore,tr),n=fm(e);return wU(n,t._key).then((i=>Ak(e,t,i)))}function HU(t){t=Ln(t,sr);const e=Ln(t.firestore,tr),n=fm(e),i=new Yv(e);return vk(t._query),TU(n,t._query).then((a=>new Xa(e,i,t,a)))}function VE(t,e,n){t=Ln(t,Et);const i=Ln(t.firestore,tr),a=Tk(t.converter,e),l=pm(i);return vm(i,[dk(l,"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,ps.none())])}function qU(t,e,n,...i){t=Ln(t,Et);const a=Ln(t.firestore,tr),l=pm(a);let c;return c=typeof(e=St(e))=="string"||e instanceof qv?MU(l,"updateDoc",t._key,e,n,i):jU(l,"updateDoc",t._key,e),vm(a,[c.toMutation(t._key,ps.exists(!0))])}function GU(t){return vm(Ln(t.firestore,tr),[new Tv(t._key,ps.none())])}function Ek(t,e){const n=Ln(t.firestore,tr),i=El(t),a=Tk(t.converter,e),l=pm(t.firestore);return vm(n,[dk(l,"addDoc",i._key,a,t.converter!==null,{}).toMutation(i._key,ps.exists(!1))]).then((()=>i))}function Sk(t,...e){t=St(t);let n={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||DE(e[i])||(n=e[i++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(DE(e[i])){const p=e[i];e[i]=p.next?.bind(p),e[i+1]=p.error?.bind(p),e[i+2]=p.complete?.bind(p)}let l,c,d;if(t instanceof Et)c=Ln(t.firestore,tr),d=sm(t._key.path),l={next:p=>{e[i]&&e[i](Ak(c,t,p))},error:e[i+1],complete:e[i+2]};else{const p=Ln(t,sr);c=Ln(p.firestore,tr),d=p._query;const v=new Yv(c);l={next:b=>{e[i]&&e[i](new Xa(c,v,p,b))},error:e[i+1],complete:e[i+2]},vk(t._query)}const f=fm(c);return _U(f,d,a,l)}function vm(t,e){const n=fm(t);return EU(n,e)}function Ak(t,e,n){const i=n.docs.get(e._key),a=new Yv(t);return new Qa(t,a,e._key,i,new tu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){_P(ao),Za(new Jr("firestore",((i,{instanceIdentifier:a,options:l})=>{const c=i.getProvider("app").getImmediate(),d=new tr(new EP(i.getProvider("auth-internal")),new CP(c,i.getProvider("app-check-internal")),GP(c,a),c);return l={useFetchStreams:n,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),hi(NE,IE,e),hi(NE,IE,"esm2020")})();const Ck="firebasestorage.googleapis.com",kk="storageBucket",$U=120*1e3,KU=600*1e3;class Ct extends xi{constructor(e,n,i=0){super(s0(e),`Firebase Storage: ${n} (${s0(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ct.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return s0(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var At;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(At||(At={}));function s0(t){return"storage/"+t}function eb(){const t="An unknown error occurred, please check the error payload for server response.";return new Ct(At.UNKNOWN,t)}function YU(t){return new Ct(At.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function QU(t){return new Ct(At.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function XU(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ct(At.UNAUTHENTICATED,t)}function WU(){return new Ct(At.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function JU(t){return new Ct(At.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function ZU(){return new Ct(At.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function e8(){return new Ct(At.CANCELED,"User canceled the upload/download.")}function t8(t){return new Ct(At.INVALID_URL,"Invalid URL '"+t+"'.")}function n8(t){return new Ct(At.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function s8(){return new Ct(At.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+kk+"' property when initializing the app?")}function i8(){return new Ct(At.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function r8(){return new Ct(At.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function a8(t){return new Ct(At.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function ly(t){return new Ct(At.INVALID_ARGUMENT,t)}function Rk(){return new Ct(At.APP_DELETED,"The Firebase app was deleted.")}function o8(t){return new Ct(At.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function du(t,e){return new Ct(At.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Qc(t){throw new Ct(At.INTERNAL_ERROR,"Internal error: "+t)}class Qn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=Qn.makeFromUrl(e,n)}catch{return new Qn(e,"")}if(i.path==="")return i;throw n8(e)}static makeFromUrl(e,n){let i=null;const a="([A-Za-z0-9.\\-_]+)";function l(te){te.path.charAt(te.path.length-1)==="/"&&(te.path_=te.path_.slice(0,-1))}const c="(/(.*))?$",d=new RegExp("^gs://"+a+c,"i"),f={bucket:1,path:3};function p(te){te.path_=decodeURIComponent(te.path)}const v="v[A-Za-z0-9_]+",b=n.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",S=new RegExp(`^https?://${b}/${v}/b/${a}/o${w}`,"i"),D={bucket:1,path:3},O=n===Ck?"(?:storage.googleapis.com|storage.cloud.google.com)":n,V="([^?#]*)",z=new RegExp(`^https?://${O}/${a}/${V}`,"i"),G=[{regex:d,indices:f,postModify:l},{regex:S,indices:D,postModify:p},{regex:z,indices:{bucket:1,path:2},postModify:p}];for(let te=0;te<G.length;te++){const re=G[te],he=re.regex.exec(e);if(he){const j=he[re.indices.bucket];let E=he[re.indices.path];E||(E=""),i=new Qn(j,E),re.postModify(i);break}}if(i==null)throw t8(e);return i}}class l8{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function c8(t,e,n){let i=1,a=null,l=null,c=!1,d=0;function f(){return d===2}let p=!1;function v(...V){p||(p=!0,e.apply(null,V))}function b(V){a=setTimeout(()=>{a=null,t(S,f())},V)}function w(){l&&clearTimeout(l)}function S(V,...z){if(p){w();return}if(V){w(),v.call(null,V,...z);return}if(f()||c){w(),v.call(null,V,...z);return}i<64&&(i*=2);let G;d===1?(d=2,G=0):G=(i+Math.random())*1e3,b(G)}let D=!1;function O(V){D||(D=!0,w(),!p&&(a!==null?(V||(d=2),clearTimeout(a),b(0)):V||(d=1)))}return b(0),l=setTimeout(()=>{c=!0,O(!0)},n),O}function u8(t){t(!1)}function h8(t){return t!==void 0}function d8(t){return typeof t=="object"&&!Array.isArray(t)}function tb(t){return typeof t=="string"||t instanceof String}function OE(t){return nb()&&t instanceof Blob}function nb(){return typeof Blob<"u"}function PE(t,e,n,i){if(i<e)throw ly(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw ly(`Invalid value for '${t}'. Expected ${n} or less.`)}function sb(t,e,n){let i=e;return n==null&&(i=`https://${e}`),`${n}://${i}/v0${t}`}function Nk(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const a=e(i)+"="+e(t[i]);n=n+a+"&"}return n=n.slice(0,-1),n}var Wa;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Wa||(Wa={}));function f8(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,l=e.indexOf(t)!==-1;return n||a||l}class m8{constructor(e,n,i,a,l,c,d,f,p,v,b,w=!0,S=!1){this.url_=e,this.method_=n,this.headers_=i,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=f,this.timeout_=p,this.progressCallback_=v,this.connectionFactory_=b,this.retry=w,this.isUsingEmulator=S,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((D,O)=>{this.resolve_=D,this.reject_=O,this.start_()})}start_(){const e=(i,a)=>{if(a){i(!1,new Vd(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=d=>{const f=d.loaded,p=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,p)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const d=l.getErrorCode()===Wa.NO_ERROR,f=l.getStatus();if(!d||f8(f,this.additionalRetryCodes_)&&this.retry){const v=l.getErrorCode()===Wa.ABORT;i(!1,new Vd(!1,null,v));return}const p=this.successCodes_.indexOf(f)!==-1;i(!0,new Vd(p,l))})},n=(i,a)=>{const l=this.resolve_,c=this.reject_,d=a.connection;if(a.wasSuccessCode)try{const f=this.callback_(d,d.getResponse());h8(f)?l(f):l()}catch(f){c(f)}else if(d!==null){const f=eb();f.serverResponse=d.getErrorText(),this.errorCallback_?c(this.errorCallback_(d,f)):c(f)}else if(a.canceled){const f=this.appDelete_?Rk():e8();c(f)}else{const f=ZU();c(f)}};this.canceled_?n(!1,new Vd(!1,null,!0)):this.backoffId_=c8(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&u8(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Vd{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function p8(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function g8(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function y8(t,e){e&&(t["X-Firebase-GMPID"]=e)}function v8(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function b8(t,e,n,i,a,l,c=!0,d=!1){const f=Nk(t.urlParams),p=t.url+f,v=Object.assign({},t.headers);return y8(v,e),p8(v,n),g8(v,l),v8(v,i),new m8(p,t.method,v,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,c,d)}function x8(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function _8(...t){const e=x8();if(e!==void 0){const n=new e;for(let i=0;i<t.length;i++)n.append(t[i]);return n.getBlob()}else{if(nb())return new Blob(t);throw new Ct(At.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function w8(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}function T8(t){if(typeof atob>"u")throw a8("base-64");return atob(t)}const ci={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class i0{constructor(e,n){this.data=e,this.contentType=n||null}}function E8(t,e){switch(t){case ci.RAW:return new i0(Ik(e));case ci.BASE64:case ci.BASE64URL:return new i0(Dk(t,e));case ci.DATA_URL:return new i0(A8(e),C8(e))}throw eb()}function Ik(t){const e=[];for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const l=i,c=t.charCodeAt(++n);i=65536|(l&1023)<<10|c&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function S8(t){let e;try{e=decodeURIComponent(t)}catch{throw du(ci.DATA_URL,"Malformed data URL.")}return Ik(e)}function Dk(t,e){switch(t){case ci.BASE64:{const a=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(a||l)throw du(t,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case ci.BASE64URL:{const a=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(a||l)throw du(t,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=T8(e)}catch(a){throw a.message.includes("polyfill")?a:du(t,"Invalid character found")}const i=new Uint8Array(n.length);for(let a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return i}class jk{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw du(ci.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=n[1]||null;i!=null&&(this.base64=k8(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function A8(t){const e=new jk(t);return e.base64?Dk(ci.BASE64,e.rest):S8(e.rest)}function C8(t){return new jk(t).contentType}function k8(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}class Hr{constructor(e,n){let i=0,a="";OE(e)?(this.data_=e,i=e.size,a=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=a}size(){return this.size_}type(){return this.type_}slice(e,n){if(OE(this.data_)){const i=this.data_,a=w8(i,e,n);return a===null?null:new Hr(a)}else{const i=new Uint8Array(this.data_.buffer,e,n-e);return new Hr(i,!0)}}static getBlob(...e){if(nb()){const n=e.map(i=>i instanceof Hr?i.data_:i);return new Hr(_8.apply(null,n))}else{const n=e.map(c=>tb(c)?E8(ci.RAW,c).data:c.data_);let i=0;n.forEach(c=>{i+=c.byteLength});const a=new Uint8Array(i);let l=0;return n.forEach(c=>{for(let d=0;d<c.length;d++)a[l++]=c[d]}),new Hr(a,!0)}}uploadData(){return this.data_}}function Mk(t){let e;try{e=JSON.parse(t)}catch{return null}return d8(e)?e:null}function R8(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function N8(t,e){const n=e.split("/").filter(i=>i.length>0).join("/");return t.length===0?n:t+"/"+n}function Vk(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}function I8(t,e){return e}class En{constructor(e,n,i,a){this.server=e,this.local=n||e,this.writable=!!i,this.xform=a||I8}}let Od=null;function D8(t){return!tb(t)||t.length<2?t:Vk(t)}function Ok(){if(Od)return Od;const t=[];t.push(new En("bucket")),t.push(new En("generation")),t.push(new En("metageneration")),t.push(new En("name","fullPath",!0));function e(l,c){return D8(c)}const n=new En("name");n.xform=e,t.push(n);function i(l,c){return c!==void 0?Number(c):c}const a=new En("size");return a.xform=i,t.push(a),t.push(new En("timeCreated")),t.push(new En("updated")),t.push(new En("md5Hash",null,!0)),t.push(new En("cacheControl",null,!0)),t.push(new En("contentDisposition",null,!0)),t.push(new En("contentEncoding",null,!0)),t.push(new En("contentLanguage",null,!0)),t.push(new En("contentType",null,!0)),t.push(new En("metadata","customMetadata",!0)),Od=t,Od}function j8(t,e){function n(){const i=t.bucket,a=t.fullPath,l=new Qn(i,a);return e._makeStorageReference(l)}Object.defineProperty(t,"ref",{get:n})}function M8(t,e,n){const i={};i.type="file";const a=n.length;for(let l=0;l<a;l++){const c=n[l];i[c.local]=c.xform(i,e[c.server])}return j8(i,t),i}function Pk(t,e,n){const i=Mk(e);return i===null?null:M8(t,i,n)}function V8(t,e,n,i){const a=Mk(e);if(a===null||!tb(a.downloadTokens))return null;const l=a.downloadTokens;if(l.length===0)return null;const c=encodeURIComponent;return l.split(",").map(p=>{const v=t.bucket,b=t.fullPath,w="/b/"+c(v)+"/o/"+c(b),S=sb(w,n,i),D=Nk({alt:"media",token:p});return S+D})[0]}function O8(t,e){const n={},i=e.length;for(let a=0;a<i;a++){const l=e[a];l.writable&&(n[l.server]=t[l.local])}return JSON.stringify(n)}class Lk{constructor(e,n,i,a){this.url=e,this.method=n,this.handler=i,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Uk(t){if(!t)throw eb()}function P8(t,e){function n(i,a){const l=Pk(t,a,e);return Uk(l!==null),l}return n}function L8(t,e){function n(i,a){const l=Pk(t,a,e);return Uk(l!==null),V8(l,a,t.host,t._protocol)}return n}function zk(t){function e(n,i){let a;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?a=WU():a=XU():n.getStatus()===402?a=QU(t.bucket):n.getStatus()===403?a=JU(t.path):a=i,a.status=n.getStatus(),a.serverResponse=i.serverResponse,a}return e}function U8(t){const e=zk(t);function n(i,a){let l=e(i,a);return i.getStatus()===404&&(l=YU(t.path)),l.serverResponse=a.serverResponse,l}return n}function z8(t,e,n){const i=e.fullServerUrl(),a=sb(i,t.host,t._protocol),l="GET",c=t.maxOperationRetryTime,d=new Lk(a,l,L8(t,n),c);return d.errorHandler=U8(e),d}function B8(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function F8(t,e,n){const i=Object.assign({},n);return i.fullPath=t.path,i.size=e.size(),i.contentType||(i.contentType=B8(null,e)),i}function H8(t,e,n,i,a){const l=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function d(){let G="";for(let te=0;te<2;te++)G=G+Math.random().toString().slice(2);return G}const f=d();c["Content-Type"]="multipart/related; boundary="+f;const p=F8(e,i,a),v=O8(p,n),b="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+f+`\r
Content-Type: `+p.contentType+`\r
\r
`,w=`\r
--`+f+"--",S=Hr.getBlob(b,i,w);if(S===null)throw i8();const D={name:p.fullPath},O=sb(l,t.host,t._protocol),V="POST",z=t.maxUploadRetryTime,F=new Lk(O,V,P8(t,n),z);return F.urlParams=D,F.headers=c,F.body=S.uploadData(),F.errorHandler=zk(e),F}class q8{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Wa.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Wa.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Wa.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,i,a,l){if(this.sent_)throw Qc("cannot .send() more than once");if(aa(e)&&i&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),l!==void 0)for(const c in l)l.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,l[c].toString());return a!==void 0?this.xhr_.send(a):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Qc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Qc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Qc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Qc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class G8 extends q8{initXhr(){this.xhr_.responseType="text"}}function Bk(){return new G8}class ro{constructor(e,n){this._service=e,n instanceof Qn?this._location=n:this._location=Qn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ro(e,n)}get root(){const e=new Qn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Vk(this._location.path)}get storage(){return this._service}get parent(){const e=R8(this._location.path);if(e===null)return null;const n=new Qn(this._location.bucket,e);return new ro(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw o8(e)}}function $8(t,e,n){t._throwIfRoot("uploadBytes");const i=H8(t.storage,t._location,Ok(),new Hr(e,!0),n);return t.storage.makeRequestWithTokens(i,Bk).then(a=>({metadata:a,ref:t}))}function K8(t){t._throwIfRoot("getDownloadURL");const e=z8(t.storage,t._location,Ok());return t.storage.makeRequestWithTokens(e,Bk).then(n=>{if(n===null)throw r8();return n})}function Y8(t,e){const n=N8(t._location.path,e),i=new Qn(t._location.bucket,n);return new ro(t.storage,i)}function Q8(t){return/^[A-Za-z]+:\/\//.test(t)}function X8(t,e){return new ro(t,e)}function Fk(t,e){if(t instanceof ib){const n=t;if(n._bucket==null)throw s8();const i=new ro(n,n._bucket);return e!=null?Fk(i,e):i}else return e!==void 0?Y8(t,e):t}function W8(t,e){if(e&&Q8(e)){if(t instanceof ib)return X8(t,e);throw ly("To use ref(service, url), the first argument must be a Storage instance.")}else return Fk(t,e)}function LE(t,e){const n=e?.[kk];return n==null?null:Qn.makeFromBucketSpec(n,t)}function J8(t,e,n,i={}){t.host=`${e}:${n}`;const a=aa(e);a&&(ev(`https://${t.host}/b`),tv("Storage",!0)),t._isUsingEmulator=!0,t._protocol=a?"https":"http";const{mockUserToken:l}=i;l&&(t._overrideAuthToken=typeof l=="string"?l:c2(l,t.app.options.projectId))}class ib{constructor(e,n,i,a,l,c=!1){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=c,this._bucket=null,this._host=Ck,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=$U,this._maxUploadRetryTime=KU,this._requests=new Set,a!=null?this._bucket=Qn.makeFromBucketSpec(a,this._host):this._bucket=LE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Qn.makeFromBucketSpec(this._url,e):this._bucket=LE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){PE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){PE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(hs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ro(this,e)}_makeRequest(e,n,i,a,l=!0){if(this._deleted)return new l8(Rk());{const c=b8(e,this._appId,i,a,n,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,n){const[i,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,a).getPromise()}}const UE="@firebase/storage",zE="0.14.0";const Hk="storage";function Z8(t,e,n){return t=St(t),$8(t,e,n)}function e7(t){return t=St(t),K8(t)}function t7(t,e){return t=St(t),W8(t,e)}function n7(t=iv(),e){t=St(t);const i=Qf(t,Hk).getImmediate({identifier:e}),a=a2("storage");return a&&s7(i,...a),i}function s7(t,e,n,i={}){J8(t,e,n,i)}function i7(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new ib(n,i,a,e,ao)}function r7(){Za(new Jr(Hk,i7,"PUBLIC").setMultipleInstances(!0)),hi(UE,zE,""),hi(UE,zE,"esm2020")}r7();const a7={apiKey:"AIzaSyBxYxsLtsHK1cKKn6IP_wY5FLyG3Gqje5c",authDomain:"study-tracker-9d996.firebaseapp.com",projectId:"study-tracker-9d996",storageBucket:"study-tracker-9d996.firebasestorage.app",messagingSenderId:"896578359034",appId:"1:896578359034:web:730cec1b11329f22960343",measurementId:"G-ZDH3EW4063"},rb=d2(a7),r0=yP(rb),o7=new Hi,$i=kU(rb),l7=n7(rb),qk=R.createContext(void 0);function c7({children:t}){const[e,n]=R.useState(null),[i,a]=R.useState(!0);R.useEffect(()=>{const d=rO(r0,f=>{n(f),a(!1)});return()=>d()},[]);const l=async()=>{try{await AO(r0,o7)}catch(d){console.error("Error signing in with Google",d)}},c=async()=>{try{await aO(r0)}catch(d){console.error("Error signing out",d)}};return g.jsx(qk.Provider,{value:{user:e,loading:i,signInWithGoogle:l,logout:c},children:!i&&t})}function co(){const t=R.useContext(qk);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}const fu=[{id:"hsc-science-2026-bn",name:"HSC Science",subjects:[{name:"  ",icon:"Book",color:"bg-emerald-500",chapters:[{name:"",topics:[{name:""},{name:""},{name:"-"},{name:""},{name:"    "},{name:" "},{name:""},{name:" "},{name:"  "},{name:" "},{name:"   "},{name:""}]},{name:"",topics:[{name:" "},{name:""},{name:""},{name:"  "},{name:" "},{name:"-"},{name:"  "},{name:""},{name:""},{name:"  "},{name:"   "},{name:" "}]},{name:"",topics:[{name:""}]},{name:"",topics:[{name:""}]}]},{name:"  ",icon:"Book",color:"bg-emerald-500",chapters:[{name:"",topics:[{name:""},{name:""},{name:""}]},{name:"",topics:[{name:" "},{name:""},{name:""},{name:""}]}]},{name:"  ",icon:"Book",color:"bg-teal-500",chapters:[{name:"  -   ",topics:[{name:" "},{name:"  "},{name:"  "},{name:" "},{name:"  "}]},{name:"  - ",topics:[{name:"  "},{name:" "},{name:" "},{name:" "},{name:"  "},{name:" "},{name:"  "},{name:" "},{name:"   "},{name:"   "},{name:"  "},{name:"  "}]},{name:"  - ",topics:[{name:"  "},{name:"  "},{name:" "},{name:"  "},{name:"   "},{name:" "},{name:""},{name:"    "},{name:"   "},{name:"  "},{name:"   "},{name:"   "}]},{name:"  -  ",topics:[{name:" "},{name:"   "},{name:"   "},{name:"   "},{name:"  "},{name:"  "},{name:" "},{name:"    "},{name:"  "},{name:"  "},{name:"   "},{name:"  "}]},{name:"  - ,   ",topics:[{name:"    "},{name:"    "},{name:""},{name:""},{name:"    "},{name:"  "},{name:""}]},{name:"  -   ",topics:[{name:""},{name:" "},{name:"   "},{name:"   "},{name:"  "},{name:"   "},{name:"  "},{name:" "},{name:"  - "}]},{name:"  -   ",topics:[{name:" "},{name:""},{name:" "},{name:" "},{name:"  "},{name:" "},{name:"   "}]},{name:"  -  ",topics:[{name:" "},{name:"  "},{name:"     "},{name:"       "},{name:"   "},{name:"   "},{name:"  "}]},{name:"  - ",topics:[{name:" "},{name:"  "},{name:"  "},{name:"  "},{name:" "},{name:" "},{name:"  "}]},{name:"  -     ",topics:[{name:" "},{name:" "},{name:" "},{name:"   "},{name:"      "},{name:" "},{name:"    "},{name:" "},{name:"  "}]}]},{name:"  ",icon:"Zap",color:"bg-violet-500",chapters:[{name:"",topics:[{name:" "},{name:"  "},{name:"   "},{name:"   "},{name:""},{name:"  "}]},{name:" ",topics:[{name:" "},{name:"   "},{name:" "},{name:" "},{name:"  "},{name:" "}]},{name:" ",topics:[{name:"   "},{name:" "},{name:" "},{name:" "},{name:""},{name:"   "}]},{name:"   ",topics:[{name:"- "},{name:" "},{name:" "},{name:" "}]},{name:" ",topics:[{name:" "},{name:" "},{name:"    "},{name:""}]},{name:" ",topics:[{name:""},{name:"   "},{name:"   "},{name:" "}]},{name:" ",topics:[{name:" "},{name:""},{name:""},{name:""}]},{name:"  ",topics:[{name:"  "},{name:"- "},{name:" "},{name:"- "},{name:"-"}]},{name:" ",topics:[{name:"   "},{name:" "},{name:""},{name:"   "},{name:"   "}]},{name:"  ",topics:[{name:" "},{name:"- "},{name:""},{name:" "},{name:""}]}]},{name:"  ",icon:"Beaker",color:"bg-rose-500",chapters:[{name:"  ",topics:[{name:"  "},{name:"  "},{name:"   "},{name:" "},{name:" "}]},{name:" ",topics:[{name:"  (  )"},{name:" "},{name:",    "},{name:" "},{name:"  "},{name:" "},{name:"   "},{name:" "},{name:""}]},{name:"  ",topics:[{name:"  (s, p, d, f )"},{name:"  ( ,  )"},{name:" "},{name:" "},{name:" (Hybridization)"},{name:"VSEPR    "},{name:" "},{name:"  "}]},{name:" ",topics:[{name:"   "},{name:" "},{name:"- "},{name:"   Kc, Kp"},{name:"- "},{name:"pH   "},{name:"    "}]},{name:" ",topics:[{name:"   "},{name:"  (, )"},{name:"  "},{name:"   "}]}]},{name:"  ",icon:"Beaker",color:"bg-rose-500",chapters:[{name:" ",topics:[{name:"  (, )"},{name:"   "},{name:"   "},{name:"  "},{name:"   "},{name:"    "},{name:"    (BOD, COD)"}]},{name:" ",topics:[{name:"     "},{name:""},{name:" (IUPAC)"},{name:" (, , )"},{name:"   "},{name:" "},{name:"  "},{name:"  "},{name:"    "},{name:""},{name:"  "}]},{name:" ",topics:[{name:"    "},{name:"  (, )"},{name:"- "},{name:"- "},{name:""},{name:"- "}]},{name:" ",topics:[{name:"   "},{name:" "},{name:"  "},{name:"    "},{name:"   "},{name:"pH "}]},{name:" ",topics:[{name:"   "},{name:"  "},{name:"   "},{name:"   "},{name:"   "}]}]},{name:"   ",icon:"Calculator",color:"bg-blue-500",chapters:[{name:"  ",topics:[{name:" "},{name:" ,   "},{name:"   "},{name:" "},{name:" "}]},{name:"",topics:[{name:" "},{name:"   "},{name:"   "},{name:" "}]},{name:"",topics:[{name:"   "},{name:"   "},{name:"  "},{name:"   "}]},{name:"",topics:[{name:" "},{name:"  "},{name:"  "}]},{name:"  ",topics:[{name:"    "},{name:""},{name:""},{name:"   "}]},{name:"",topics:[{name:"   "},{name:" "},{name:" "},{name:""}]},{name:"   ",topics:[{name:"  -"},{name:"-   "},{name:" "},{name:" "}]},{name:"",topics:[{name:"  "},{name:""},{name:"  "},{name:" "},{name:"  "}]},{name:"",topics:[{name:" "},{name:" "},{name:" "},{name:" "},{name:" "}]}]},{name:"   ",icon:"Calculator",color:"bg-blue-500",chapters:[{name:"   ",topics:[{name:"  "},{name:"  "},{name:" "}]},{name:" ",topics:[{name:"  "},{name:" "},{name:"  "}]},{name:" ",topics:[{name:"   "},{name:"  "},{name:" "},{name:" "}]},{name:"   ",topics:[{name:" "},{name:"   "},{name:"   "},{name:"  "}]},{name:" ",topics:[{name:" "},{name:"  "},{name:""},{name:"  "}]},{name:"",topics:[{name:" (Parabola)"},{name:" (Ellipse)"},{name:" (Hyperbola)"},{name:" "}]},{name:"  ",topics:[{name:"   "},{name:"  "},{name:"  "}]},{name:"",topics:[{name:"   "},{name:" "},{name:" "},{name:"    "}]},{name:"",topics:[{name:" "},{name:""},{name:" "},{name:" "}]},{name:"   ",topics:[{name:", , "},{name:"   "},{name:" "},{name:"   "},{name:" "}]}]},{name:"  ",icon:"Dna",color:"bg-green-500",chapters:[{name:"   ",topics:[{name:"    "},{name:"  "},{name:"  "},{name:""},{name:""},{name:"DNA  RNA  "},{name:"DNA "},{name:"  "}]},{name:" ",topics:[{name:"  "},{name:" "},{name:"   "},{name:" "}]},{name:"",topics:[{name:"   "},{name:""},{name:"   "},{name:" "}]},{name:"  ",topics:[{name:" (Riccia)"},{name:" (Pteris)"}]},{name:"  ",topics:[{name:" (Cycas)"},{name:" (Poaceae) "},{name:" (Malvaceae) "}]},{name:"  ",topics:[{name:" "},{name:" "},{name:" "},{name:"   /"}]},{name:" ",topics:[{name:"  "},{name:""},{name:" (   )"},{name:"C3  C4 "},{name:" (  )"},{name:"   "}]},{name:" ",topics:[{name:" "},{name:"   "},{name:""}]},{name:"",topics:[{name:"  "},{name:" DNA "},{name:" "},{name:" "}]}]},{name:"  ",icon:"Dna",color:"bg-green-500",chapters:[{name:"   ",topics:[{name:" "},{name:"-  (Major Phyla)"},{name:"   "}]},{name:" ",topics:[{name:" (, , )"},{name:" (, ,  )"},{name:"  (,  , )"}]},{name:"  ",topics:[{name:"   "},{name:"   (, , )"},{name:"   "},{name:""}]},{name:"  ",topics:[{name:"   "},{name:" "},{name:"   "},{name:" "},{name:"  "}]},{name:"  ",topics:[{name:" "},{name:" "},{name:" "}]},{name:"  ",topics:[{name:" "},{name:" "},{name:"  "},{name:"   "}]},{name:"  ",topics:[{name:"   "},{name:"  "},{name:" "},{name:""}]}]},{name:"   ",icon:"Cpu",color:"bg-indigo-500",chapters:[{name:"  -    ",topics:[{name:" "},{name:" "},{name:""},{name:""},{name:" "},{name:""},{name:""},{name:" "},{name:""}]},{name:"  -  ",topics:[{name:"    "},{name:""},{name:"  ( )"},{name:"  (Bluetooth, WiFi, WiMax)"},{name:" "},{name:"   "},{name:" "}]},{name:"  -     ",topics:[{name:"  "},{name:"  "},{name:" (BCD, ASCII)"},{name:" "},{name:"  (  )"},{name:"  "},{name:" (  )"},{name:"  "}]},{name:"  -   ",topics:[{name:" "},{name:"HTML  "},{name:"   "},{name:"  "},{name:" "},{name:" "}]},{name:"  -   (C)",topics:[{name:"  "},{name:"  "},{name:"   "},{name:"  "},{name:"  (if-else)"},{name:" (for, while)"},{name:""},{name:""}]}]}]}],a0={name:"Student",grade:"Class 10",language:"en",totalStudyTime:0,earnedBadges:[],currentStreak:0,dailyGoal:7200,todayStudyTime:0,weeklyStudyTime:0,monthlyStudyTime:0},Pd="study-tracker-data",BE=()=>{const t=fu[0];return t?t.subjects.map(e=>({id:crypto.randomUUID(),name:e.name,color:e.color,icon:e.icon,chapters:e.chapters.map(n=>({id:crypto.randomUUID(),name:n.name,isCompleted:!1,completedAt:null,topics:n.topics.map(i=>({id:crypto.randomUUID(),name:i.name,isCompleted:!1,completedAt:null}))}))})):[]},Gk=R.createContext(void 0);function u7({children:t}){const{user:e}=co(),[n,i]=R.useState(()=>{try{const E=localStorage.getItem(Pd);if(E){const C=JSON.parse(E);if(C.userProfile)return C.userProfile}}catch(E){console.error("Failed to load user profile:",E)}return a0}),[a,l]=R.useState(()=>{try{const E=localStorage.getItem(Pd);if(E){const C=JSON.parse(E);if(C.subjects&&C.subjects.length>0)return C.subjects.map(M=>({...M,chapters:M.chapters.map(N=>({...N,topics:N.topics||[]}))}))}}catch(E){console.error("Failed to load subjects, falling back to default:",E)}return BE()});R.useEffect(()=>{if(e){const E=El($i,"users",e.uid),C=Sk(E,M=>{if(M.exists()){const N=M.data();N.userProfile&&i(N.userProfile),N.subjects&&l(N.subjects)}else{const N={userProfile:a0,subjects:a.length>0?a:BE()};try{const P=localStorage.getItem(Pd);if(P){const I=JSON.parse(P);I.userProfile&&(N.userProfile=I.userProfile),I.subjects&&(N.subjects=I.subjects.map(xe=>({...xe,chapters:xe.chapters.map(Ee=>({...Ee,topics:Ee.topics||[]}))})))}}catch(P){console.error("Error reading local storage for migration:",P)}VE(E,N).catch(P=>console.error("Migration failed",P))}},M=>{console.error("Firestore sync error:",M)});return()=>C()}},[e]);const c=my.useCallback(async(E,C)=>{if(i(E),l(C),e)try{await VE(El($i,"users",e.uid),{userProfile:E,subjects:C})}catch(M){console.error("Failed to save to cloud:",M)}else localStorage.setItem(Pd,JSON.stringify({userProfile:E,subjects:C}))},[e]);R.useEffect(()=>{const E=fu[0];if(!E)return;let C=!1;const M=[...a];E.subjects.forEach(N=>{const P=M.findIndex(I=>I.name===N.name);if(P===-1){const I={id:crypto.randomUUID(),name:N.name,color:N.color,icon:N.icon,chapters:N.chapters.map(xe=>({id:crypto.randomUUID(),name:xe.name,isCompleted:!1,completedAt:null,topics:xe.topics.map(Ee=>({id:crypto.randomUUID(),name:Ee.name,isCompleted:!1,completedAt:null}))}))};M.push(I),C=!0}else{const I=M[P];let xe=!1,Ee=I.color;Ee.startsWith("text-")&&(Ee=Ee.replace("text-","bg-"),xe=!0);const H=I.chapters.map(Z=>{const $=N.chapters.find(me=>me.name===Z.name);return $&&Z.topics.length===0&&$.topics.length>0?(xe=!0,{...Z,topics:$.topics.map(me=>({id:crypto.randomUUID(),name:me.name,isCompleted:!1,completedAt:null}))}):Z});xe&&(M[P]={...I,color:Ee,chapters:H},C=!0)}}),C&&(console.log("Syncing default subjects..."),c(n,M))},[a,n,c]);const d=E=>{c({...n,...E},a)},f=E=>{const C=crypto.randomUUID(),M={...E,id:C,chapters:[]};c(n,[...a,M])},p=(E,C)=>{const M=a.map(N=>N.id===E?{...N,...C}:N);c(n,M)},v=E=>{c(n,a.filter(C=>C.id!==E))},b=(E,C)=>{const M=a.map(N=>N.id===E?{...N,chapters:[...N.chapters,{id:crypto.randomUUID(),name:C,isCompleted:!1,topics:[]}]}:N);c(n,M)},w=(E,C,M)=>{const N=a.map(P=>P.id===E?{...P,chapters:P.chapters.map(I=>I.id===C?{...I,name:M}:I)}:P);c(n,N)},S=(E,C)=>{const M=a.map(N=>N.id===E?{...N,chapters:N.chapters.map(P=>P.id===C?{...P,isCompleted:!P.isCompleted,completedAt:P.isCompleted?null:new Date().toISOString()}:P)}:N);c(n,M)},D=(E,C)=>{const M=a.map(N=>N.id===E?{...N,chapters:N.chapters.filter(P=>P.id!==C)}:N);c(n,M)},O=(E,C,M)=>{const N=a.map(P=>P.id===E?{...P,chapters:P.chapters.map(I=>I.id===C?{...I,topics:[...I.topics,{id:crypto.randomUUID(),name:M,isCompleted:!1,completedAt:null}]}:I)}:P);c(n,N)},V=(E,C,M,N)=>{const P=a.map(I=>I.id===E?{...I,chapters:I.chapters.map(xe=>xe.id===C?{...xe,topics:xe.topics.map(Ee=>Ee.id===M?{...Ee,name:N}:Ee)}:xe)}:I);c(n,P)},z=(E,C,M)=>{const N=a.map(P=>P.id===E?{...P,chapters:P.chapters.map(I=>{if(I.id===C){const xe=I.topics.map(H=>H.id===M?{...H,isCompleted:!H.isCompleted,completedAt:H.isCompleted?null:new Date().toISOString()}:H),Ee=xe.length>0&&xe.every(H=>H.isCompleted);return{...I,topics:xe,isCompleted:Ee,completedAt:Ee?new Date().toISOString():null}}return I})}:P);c(n,N)},F=(E,C,M)=>{const N=a.map(P=>P.id===E?{...P,chapters:P.chapters.map(I=>I.id===C?{...I,topics:I.topics.filter(xe=>xe.id!==M)}:I)}:P);c(n,N)},G=()=>{const E={userProfile:n,subjects:a,timestamp:new Date().toISOString(),version:"1.0"},C=new Blob([JSON.stringify(E,null,2)],{type:"application/json"}),M=URL.createObjectURL(C),N=document.createElement("a");N.href=M,N.download=`study-tracker-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(N),N.click(),document.body.removeChild(N),URL.revokeObjectURL(M)},te=E=>{try{const C=JSON.parse(E);return C.userProfile&&Array.isArray(C.subjects)?(c(C.userProfile,C.subjects),!0):(alert("Invalid backup file format."),!1)}catch(C){return console.error("Import error:",C),alert("Failed to parse backup file."),!1}},re=E=>{const C=E.map(M=>({id:crypto.randomUUID(),name:M.name,color:M.color,icon:M.icon,chapters:M.chapters.map(P=>({id:crypto.randomUUID(),name:P.name,isCompleted:!1,completedAt:null,topics:P.topics.map(xe=>({id:crypto.randomUUID(),name:xe.name,isCompleted:!1,completedAt:null}))}))}));c(n,[...a,...C])},he=()=>{confirm("Are you sure you want to reset all data?")&&c(a0,[])},j=async(E,C,M)=>{const N=new Date,P=N.toISOString().split("T")[0],I=(n.totalStudyTime||0)+E;let xe=n.currentStreak||0,Ee=n.lastStudyDate,H=n.todayStudyTime||0;if(Ee!==P){const Ne=new Date;Ne.setDate(Ne.getDate()-1);const Me=Ne.toISOString().split("T")[0];Ee===Me?xe+=1:xe=1,Ee=P,H=E}else H+=E;let Z=n.weeklyStudyTime||0,$=n.monthlyStudyTime||0;const me=n.lastStudyDate?new Date(n.lastStudyDate):new Date(0),_e=Ne=>{const Me=new Date(Ne),xt=Me.getDay(),Cn=Me.getDate()-xt+(xt===0?-6:1);return new Date(Me.setDate(Cn)).toDateString()};_e(me)!==_e(N)&&(Z=0),(me.getMonth()!==N.getMonth()||me.getFullYear()!==N.getFullYear())&&($=0),Z+=E,$+=E;const U=[...n.earnedBadges||[]],ee=[],ce=N.getHours(),ue=ce>=22||ce<4,Se=U.some(Ne=>Ne.type==="night_owl");ue&&!Se&&ee.push({type:"night_owl",earnedAt:N.toISOString()});const De=U.some(Ne=>Ne.type==="streak_master");xe>=3&&!De&&ee.push({type:"streak_master",earnedAt:N.toISOString()});const le={...n,totalStudyTime:I,todayStudyTime:H,currentStreak:xe,lastStudyDate:Ee,earnedBadges:[...U,...ee],dailyGoal:n.dailyGoal||7200,weeklyStudyTime:Z,monthlyStudyTime:$};if(d(le),e)try{await Ek(Of($i,"study_sessions"),{userId:e.uid,userName:e.displayName||n.name,startTime:new Date(Date.now()-E*1e3).toISOString(),endTime:new Date().toISOString(),durationInSeconds:E,subjectId:C||null,sessionGoal:M||null,createdAt:new Date().toISOString()})}catch(Ne){console.error("Error saving study session:",Ne)}};return g.jsx(Gk.Provider,{value:{userProfile:n,subjects:a,updateProfile:d,addSubject:f,editSubject:p,deleteSubject:v,addChapter:b,editChapter:w,toggleChapter:S,deleteChapter:D,addTopic:O,editTopic:V,toggleTopic:z,deleteTopic:F,resetData:he,exportData:G,importData:te,importSyllabusData:re,saveStudySession:j},children:t})}function xn(){const t=R.useContext(Gk);if(t===void 0)throw new Error("useStudy must be used within a StudyProvider");return t}const $k=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim();const h7=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const d7=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase());const FE=t=>{const e=d7(t);return e.charAt(0).toUpperCase()+e.slice(1)};var f7={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const m7=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const p7=R.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:a="",children:l,iconNode:c,...d},f)=>R.createElement("svg",{ref:f,...f7,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:$k("lucide",a),...!l&&!m7(d)&&{"aria-hidden":"true"},...d},[...c.map(([p,v])=>R.createElement(p,v)),...Array.isArray(l)?l:[l]]));const we=(t,e)=>{const n=R.forwardRef(({className:i,...a},l)=>R.createElement(p7,{ref:l,iconNode:e,className:$k(`lucide-${h7(FE(t))}`,`lucide-${t}`,i),...a}));return n.displayName=FE(t),n};const g7=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],y7=we("arrow-left",g7);const v7=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],ab=we("arrow-right",v7);const b7=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Kk=we("award",b7);const x7=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M17 17H4a1 1 0 0 1-.74-1.673C4.59 13.956 6 12.499 6 8a6 6 0 0 1 .258-1.742",key:"178tsu"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.668 3.01A6 6 0 0 1 18 8c0 2.687.77 4.653 1.707 6.05",key:"1hqiys"}]],_7=we("bell-off",x7);const w7=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],T7=we("bell",w7);const E7=[["path",{d:"M10 2v8l3-3 3 3V2",key:"sqw3rj"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],Yk=we("book-marked",E7);const S7=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],gs=we("book-open",S7);const A7=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],C7=we("book",A7);const k7=[["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M14 7a4 4 0 0 1 4 4v3a6 6 0 0 1-12 0v-3a4 4 0 0 1 4-4z",key:"uouzyp"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M21 21a4 4 0 0 0-3.81-4",key:"1b0z45"}],["path",{d:"M21 5a4 4 0 0 1-3.55 3.97",key:"5cxbf6"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M3 21a4 4 0 0 1 3.81-4",key:"1fjd4g"}],["path",{d:"M3 5a4 4 0 0 0 3.55 3.97",key:"1d7oge"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M9 7.13V6a3 3 0 1 1 6 0v1.13",key:"1vgav8"}]],R7=we("bug",k7);const N7=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],I7=we("chart-column",N7);const D7=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],j7=we("chart-pie",D7);const M7=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Qk=we("check",M7);const V7=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],O7=we("chevron-down",V7);const P7=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Xk=we("chevron-left",P7);const L7=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],U7=we("chevron-right",L7);const z7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Ll=we("circle-check",z7);const B7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],cy=we("circle-user",B7);const F7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],H7=we("circle",F7);const q7=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],G7=we("clock",q7);const $7=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Wk=we("download",$7);const K7=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],Jk=we("flame",K7);const Y7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 16s-1.5-2-4-2-4 2-4 2",key:"epbg0q"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],Q7=we("frown",Y7);const X7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],W7=we("globe",X7);const J7=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],Zk=we("graduation-cap",J7);const Z7=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],il=we("hash",Z7);const ez=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],o0=we("heart",ez);const tz=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],nz=we("image",tz);const sz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M18 13a6 6 0 0 1-6 5 6 6 0 0 1-6-5h12Z",key:"b2q4dd"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],iz=we("laugh",sz);const rz=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],HE=we("layout-dashboard",rz);const az=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],oz=we("loader-circle",az);const lz=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],eR=we("log-out",lz);const cz=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],uz=we("menu",cz);const hz=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],gl=we("message-circle",hz);const dz=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],fz=we("monitor",dz);const mz=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Lf=we("moon",mz);const pz=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],gz=we("pause",pz);const yz=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],tR=we("pen-tool",yz);const vz=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],bz=we("pen",vz);const xz=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],bm=we("pencil",xz);const _z=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],nR=we("play",_z);const wz=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Nu=we("plus",wz);const Tz=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],Ez=we("quote",Tz);const Sz=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Az=we("refresh-cw",Sz);const Cz=[["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}],["path",{d:"m9 17-5-5 5-5",key:"nvlc11"}]],kz=we("reply",Cz);const Rz=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],sR=we("rotate-ccw",Rz);const Nz=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Uf=we("save",Nz);const Iz=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Dz=we("send",Iz);const jz=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],l0=we("settings",jz);const Mz=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Vz=we("shield",Mz);const Oz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],Pz=we("smile",Oz);const Lz=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],qE=we("square-pen",Lz);const Uz=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],uy=we("sun",Uz);const zz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Bz=we("target",zz);const Fz=[["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}],["path",{d:"M7 10v12",key:"1qc93n"}]],Hz=we("thumbs-up",Fz);const qz=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],GE=we("timer",qz);const Gz=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Yu=we("trash-2",Gz);const $z=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],hy=we("trending-up",$z);const Kz=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Sl=we("trophy",Kz);const Yz=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Qz=we("upload",Yz);const Xz=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],iR=we("volume-2",Xz);const Wz=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],rR=we("volume-x",Wz);const Jz=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],bi=we("x",Jz),Zz=["bg-blue-500","bg-indigo-500","bg-violet-500","bg-purple-500","bg-fuchsia-500","bg-pink-500","bg-rose-500","bg-red-500","bg-orange-500","bg-amber-500","bg-yellow-500","bg-lime-500","bg-green-500","bg-emerald-500","bg-teal-500","bg-cyan-500","bg-sky-500","bg-slate-500"];function aR({subject:t,onClose:e}){const{editSubject:n}=xn(),[i,a]=R.useState(t.name),[l,c]=R.useState(t.color);R.useEffect(()=>{a(t.name),c(t.color)},[t]);const d=f=>{f.preventDefault(),i.trim()&&(n(t.id,{name:i.trim(),color:l}),e())};return g.jsx(Xn,{children:g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:g.jsxs(Ae.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white dark:bg-slate-800 rounded-2xl w-full max-w-md shadow-xl border border-slate-100 dark:border-slate-700 overflow-hidden",children:[g.jsxs("div",{className:"p-4 border-b border-slate-100 dark:border-slate-700 flex items-center justify-between bg-slate-50/50 dark:bg-slate-800/50",children:[g.jsx("h2",{className:"text-lg font-bold text-slate-800 dark:text-white",children:"Edit Subject"}),g.jsx("button",{onClick:e,className:"p-1 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 transition-colors rounded-full hover:bg-slate-100 dark:hover:bg-slate-700",children:g.jsx(bi,{className:"w-5 h-5"})})]}),g.jsxs("form",{onSubmit:d,className:"p-6 space-y-6",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Subject Name"}),g.jsxs("div",{className:"relative",children:[g.jsx(gs,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),g.jsx("input",{type:"text",value:i,onChange:f=>a(f.target.value),placeholder:"e.g. Mathematics",className:"w-full bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl py-3 pl-10 pr-4 text-slate-800 dark:text-white placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all",autoFocus:!0})]})]}),g.jsxs("div",{className:"space-y-3",children:[g.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Color Theme"}),g.jsx("div",{className:"flex flex-wrap gap-2",children:Zz.map(f=>g.jsx("button",{type:"button",onClick:()=>c(f),className:`w-8 h-8 rounded-full transition-transform ${f} ${l===f?"ring-2 ring-offset-2 ring-slate-400 dark:ring-slate-500 scale-110":"hover:scale-110 opacity-70 hover:opacity-100"}`},f))})]}),g.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-900 rounded-xl border border-slate-100 dark:border-slate-700 flex items-center gap-3",children:[g.jsx("div",{className:`w-10 h-10 rounded-lg ${l} flex items-center justify-center text-white shadow-sm`,children:g.jsx(gs,{className:"w-5 h-5"})}),g.jsxs("div",{children:[g.jsx("p",{className:"font-bold text-slate-800 dark:text-white",children:i||"Subject Name"}),g.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Preview"})]})]}),g.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[g.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-slate-600 dark:text-slate-400 font-medium hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:"Cancel"}),g.jsx("button",{type:"submit",disabled:!i.trim(),className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg shadow-sm shadow-blue-500/20 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:"Save Changes"})]})]})]})})})}const eB=Ae(cn);function tB({subject:t,index:e=0}){const[n,i]=R.useState(!1),a=t.chapters.length,l=t.chapters.filter(f=>f.isCompleted).length;let c=0;t.chapters.forEach(f=>{f.topics&&f.topics.length>0?c+=f.topics.filter(p=>p.isCompleted).length/f.topics.length*100:c+=f.isCompleted?100:0});const d=a===0?0:Math.round(c/a);return g.jsxs(g.Fragment,{children:[g.jsxs(eB,{to:`/subject/${t.id}`,whileHover:{y:-8,transition:{duration:.3,ease:[.25,1,.5,1]}},whileTap:{scale:.98},className:"group relative block bg-white dark:bg-slate-800 rounded-3xl p-5 border border-slate-100 dark:border-slate-700 shadow-sm hover:shadow-2xl hover:shadow-blue-500/15 dark:hover:shadow-blue-900/20 transition-all overflow-hidden",children:[g.jsx("div",{className:`absolute top-0 right-0 w-32 h-32 bg-gradient-to-br ${t.color.replace("bg-","from-").replace("-500","-500/10")} to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500 rounded-bl-full pointer-events-none`}),g.jsx(Ae.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:f=>{f.preventDefault(),f.stopPropagation(),i(!0)},className:"absolute top-4 right-4 p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/30 dark:hover:text-blue-400 rounded-xl transition-colors opacity-0 group-hover:opacity-100 z-10",title:"Edit Subject",children:g.jsx(bm,{className:"w-4 h-4"})}),g.jsxs("div",{className:"flex items-start justify-between mb-6 relative z-10",children:[g.jsx(Ae.div,{whileHover:{rotate:15,scale:1.1},className:`w-14 h-14 rounded-2xl ${t.color} flex items-center justify-center text-white shadow-lg shadow-blue-500/20`,children:g.jsx(gs,{className:"w-7 h-7"})}),g.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700/50 backdrop-blur-sm px-3 py-1.5 rounded-xl text-xs font-bold text-slate-700 dark:text-slate-200 border border-slate-100 dark:border-slate-600",children:[d,"%"]})]}),g.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-2 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors line-clamp-1",children:t.name}),g.jsxs("div",{className:"flex items-center gap-3 text-sm text-slate-500 dark:text-slate-400 mb-6",children:[g.jsxs("div",{className:"flex items-center gap-1.5 bg-slate-50 dark:bg-slate-700/50 px-2 py-1 rounded-lg",children:[g.jsx(gs,{className:"w-3.5 h-3.5"}),g.jsx("span",{children:a})]}),l>0&&g.jsxs("div",{className:"flex items-center gap-1.5 bg-emerald-50 dark:bg-emerald-900/20 text-emerald-600 dark:text-emerald-400 px-2 py-1 rounded-lg",children:[g.jsx(Ll,{className:"w-3.5 h-3.5"}),g.jsx("span",{children:l})]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{className:"flex justify-between text-xs text-slate-400 dark:text-slate-500 font-medium",children:[g.jsx("span",{children:"Progress"}),g.jsxs("span",{children:[d,"%"]})]}),g.jsx("div",{className:"h-2.5 w-full bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden",children:g.jsx(Ae.div,{initial:{width:0},animate:{width:`${d}%`},transition:{duration:1,delay:.5+e*.1,ease:"easeOut"},className:`h-full ${t.color} rounded-full`})})]}),g.jsxs("div",{className:"mt-5 pt-4 border-t border-slate-100 dark:border-slate-700 flex items-center justify-between text-sm",children:[g.jsx("span",{className:"text-slate-400 dark:text-slate-500 group-hover:text-slate-600 dark:group-hover:text-slate-300 transition-colors",children:"View Details"}),g.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-50 dark:bg-slate-700 flex items-center justify-center group-hover:bg-blue-600 group-hover:text-white transition-all duration-300",children:g.jsx(ab,{className:"w-4 h-4"})})]})]}),n&&g.jsx(aR,{subject:t,onClose:()=>i(!1)})]})}const $E=["bg-blue-500","bg-emerald-500","bg-violet-500","bg-amber-500","bg-rose-500","bg-cyan-500","bg-fuchsia-500","bg-orange-500"];function nB({onClose:t}){const{addSubject:e}=xn(),[n,i]=R.useState(""),[a,l]=R.useState($E[0]),c=d=>{d.preventDefault(),n.trim()&&(e({name:n.trim(),color:a,icon:"book"}),t())};return g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm animate-in fade-in duration-200",children:g.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl w-full max-w-md overflow-hidden animate-in zoom-in-95 duration-200 transition-colors",children:[g.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-slate-100 dark:border-slate-700",children:[g.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white flex items-center gap-2 transition-colors",children:[g.jsx(C7,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),"Add New Subject"]}),g.jsx("button",{onClick:t,className:"p-2 text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full transition-colors",children:g.jsx(bi,{className:"w-5 h-5"})})]}),g.jsxs("form",{onSubmit:c,className:"p-6 space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1 transition-colors",children:"Subject Name"}),g.jsx("input",{autoFocus:!0,type:"text",value:n,onChange:d=>i(d.target.value),placeholder:"e.g. Physics",className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all font-medium placeholder:font-normal placeholder:text-slate-400 dark:placeholder:text-slate-500"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2 transition-colors",children:"Color Tag"}),g.jsx("div",{className:"flex flex-wrap gap-2",children:$E.map(d=>g.jsx("button",{type:"button",onClick:()=>l(d),className:`w-8 h-8 rounded-full ${d} transition-all ${a===d?"ring-2 ring-offset-2 ring-slate-400 dark:ring-slate-500 scale-110":"hover:scale-105 opacity-80 hover:opacity-100"}`},d))})]}),g.jsx("div",{className:"pt-2",children:g.jsxs("button",{type:"submit",disabled:!n.trim(),className:"w-full bg-blue-600 hover:bg-blue-700 dark:bg-blue-600 dark:hover:bg-blue-500 disabled:opacity-50 disabled:cursor-not-allowed text-white font-medium py-3 rounded-xl flex items-center justify-center gap-2 transition-all active:scale-[0.98]",children:[g.jsx(Uf,{className:"w-5 h-5"}),"Create Subject"]})})]})]})})}const sB={start_strong:{icon:Ll,label:"Start Strong",description:"Completed your first topic!",color:"text-emerald-500 bg-emerald-100 dark:bg-emerald-900/30"},streak_master:{icon:Jk,label:"Streak Master",description:"Studied for 3 days in a row.",color:"text-orange-500 bg-orange-100 dark:bg-orange-900/30"},subject_conqueror:{icon:Kk,label:"Subject Conqueror",description:"Completed 100% of a subject.",color:"text-purple-500 bg-purple-100 dark:bg-purple-900/30"},night_owl:{icon:Lf,label:"Night Owl",description:"Completed a session late at night (10PM - 4AM).",color:"text-blue-500 bg-blue-100 dark:bg-blue-900/30"}};function iB({type:t,isLocked:e=!1,dateEarned:n}){const i=sB[t],a=i.icon,[l,c]=R.useState(!1);return g.jsxs("div",{className:"relative flex flex-col items-center gap-2 group cursor-pointer",onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),onClick:()=>c(!l),children:[g.jsx(Ae.div,{whileHover:{scale:1.05},className:`w-16 h-16 rounded-full flex items-center justify-center shadow-sm border-2 transition-colors ${e?"bg-slate-100 dark:bg-slate-800 border-slate-200 dark:border-slate-700 opacity-60 grayscale":`${i.color} border-transparent`}`,children:g.jsx(a,{className:`w-8 h-8 ${e?"text-slate-400":""}`})}),g.jsx("span",{className:`text-xs font-medium text-center max-w-[5rem] ${e?"text-slate-400":"text-slate-700 dark:text-slate-300"}`,children:i.label}),l&&g.jsxs(Ae.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"absolute bottom-full mb-2 bg-slate-800 dark:bg-slate-700 text-white text-xs p-2 rounded-lg shadow-xl whitespace-nowrap z-50 pointer-events-none",children:[g.jsx("p",{className:"font-semibold",children:i.label}),g.jsx("p",{className:"text-slate-300",children:i.description}),!e&&n&&g.jsxs("p",{className:"text-slate-400 mt-1 text-[10px]",children:["Earned: ",new Date(n).toLocaleDateString()]})]})]})}function rB(){const{updateProfile:t}=xn(),[e,n]=R.useState(""),[i,a]=R.useState(""),l=c=>{if(c.preventDefault(),!e.trim()){alert("Please enter your name");return}t({name:e.trim(),grade:i.trim()||"Not specified"})};return g.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm",children:g.jsxs(Ae.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-md overflow-hidden",children:[g.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-indigo-600 p-6 text-white",children:[g.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Welcome to TrackEd! "}),g.jsx("p",{className:"text-blue-100 text-sm",children:"Let's get started by setting up your profile"})]}),g.jsxs("form",{onSubmit:l,className:"p-6 space-y-5",children:[g.jsxs("div",{children:[g.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:[g.jsx(cy,{className:"w-4 h-4"}),"Your Name ",g.jsx("span",{className:"text-red-500",children:"*"})]}),g.jsx("input",{type:"text",value:e,onChange:c=>n(c.target.value),className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 transition-all placeholder:text-slate-400 dark:placeholder:text-slate-500",placeholder:"Enter your name",autoFocus:!0})]}),g.jsxs("div",{children:[g.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:[g.jsx(Zk,{className:"w-4 h-4"}),"Class / Grade"]}),g.jsx("input",{type:"text",value:i,onChange:c=>a(c.target.value),className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 transition-all placeholder:text-slate-400 dark:placeholder:text-slate-500",placeholder:"e.g., HSC 2026, SSC 2024"})]}),g.jsx("div",{className:"pt-2",children:g.jsx("button",{type:"submit",className:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white font-semibold py-3 rounded-xl transition-all shadow-lg shadow-blue-500/25 active:scale-[0.98]",children:"Get Started"})}),g.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 text-center",children:"You can update these details anytime in Settings"})]})]})})}function aB(){const{userProfile:t,updateProfile:e}=xn(),[n,i]=R.useState(!1),[a,l]=R.useState(t.dailyGoal?t.dailyGoal/3600:2),c=t.dailyGoal||7200,d=t.todayStudyTime||0,f=Math.min(100,Math.round(d/c*100)),p=()=>{e({dailyGoal:a*3600}),i(!1)};return g.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm md:h-full flex flex-col relative overflow-hidden",children:[g.jsxs("div",{className:"flex items-center justify-between mb-2 z-10",children:[g.jsxs("h3",{className:"text-slate-500 dark:text-slate-400 font-medium flex items-center gap-2 text-sm",children:[g.jsx(Bz,{className:"w-4 h-4"}),"Daily Goal"]}),n?g.jsxs("button",{onClick:p,className:"text-xs text-green-600 dark:text-green-400 hover:underline flex items-center gap-1 font-bold",children:["Save ",g.jsx(Qk,{className:"w-3 h-3"})]}):g.jsxs("button",{onClick:()=>i(!0),className:"text-xs text-blue-600 dark:text-blue-400 hover:underline flex items-center gap-1",children:["Edit ",g.jsx(bz,{className:"w-3 h-3"})]})]}),g.jsxs("div",{className:"flex-1 flex items-center justify-between z-10 mt-2",children:[g.jsxs("div",{className:"space-y-1",children:[n?g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("input",{type:"number",min:"0.5",max:"24",step:"0.5",value:a,onChange:v=>l(parseFloat(v.target.value)),className:"w-16 p-1 border rounded text-lg font-bold bg-slate-50 dark:bg-slate-700 dark:text-white",autoFocus:!0}),g.jsx("span",{className:"text-slate-500",children:"hrs"})]}):g.jsxs("div",{className:"text-3xl font-bold text-slate-800 dark:text-white",children:[Math.floor(d/3600),g.jsx("span",{className:"text-lg text-slate-400 font-normal",children:"h"})," ",Math.floor(d%3600/60),g.jsx("span",{className:"text-lg text-slate-400 font-normal",children:"m"})]}),g.jsxs("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:["of ",Math.floor(c/3600),"h goal"]})]}),g.jsxs("div",{className:"relative w-20 h-20 flex-shrink-0",children:[g.jsxs("svg",{className:"w-full h-full transform -rotate-90",children:[g.jsx("circle",{cx:"40",cy:"40",r:"36",stroke:"currentColor",strokeWidth:"8",fill:"transparent",className:"text-slate-100 dark:text-slate-700"}),g.jsx(Ae.circle,{initial:{strokeDashoffset:226},animate:{strokeDashoffset:226-226*f/100},transition:{duration:1,ease:"easeOut"},cx:"40",cy:"40",r:"36",stroke:"currentColor",strokeWidth:"8",fill:"transparent",strokeDasharray:"226",strokeLinecap:"round",className:`${f>=100?"text-green-500":"text-blue-500"}`})]}),g.jsxs("div",{className:"absolute inset-0 flex items-center justify-center text-xs font-bold text-slate-700 dark:text-slate-300",children:[f,"%"]})]})]}),f>=100&&g.jsxs(Ae.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"absolute inset-0 bg-green-50/90 dark:bg-green-900/90 flex items-center justify-center flex-col z-20 backdrop-blur-sm",children:[g.jsx(Sl,{className:"w-10 h-10 text-green-600 dark:text-green-400 mb-2"}),g.jsx("span",{className:"text-green-800 dark:text-green-100 font-bold",children:"Goal Reached!"})]})]})}function oB(){const{subjects:t}=xn();let e=null,n=null,i=null;for(const a of t)if(a.chapters.some(c=>!c.isCompleted&&(!c.topics.length||c.topics.some(d=>!d.isCompleted)))){e=a;for(const c of a.chapters)if(!c.isCompleted)if(c.topics.length>0){const d=c.topics.find(f=>!f.isCompleted);if(d){n=c,i=d;break}}else{n=c;break}break}return!e||!n?g.jsxs("div",{className:"bg-gradient-to-r from-emerald-500 to-teal-600 rounded-2xl p-6 text-white shadow-lg shadow-emerald-500/20 flex flex-col items-center justify-center text-center h-full min-h-[160px]",children:[g.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center mb-3 text-2xl",children:""}),g.jsx("h3",{className:"font-bold text-xl mb-1",children:"All Caught Up!"}),g.jsx("p",{className:"text-emerald-100 text-sm",children:"You've completed everything in your syllabus."}),g.jsx("div",{className:"mt-4 px-4 py-2 bg-white/20 rounded-lg text-sm font-medium backdrop-blur-sm",children:"Time to review or rest!"})]}):g.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm relative overflow-hidden h-full flex flex-col justify-between group",children:[g.jsxs("div",{className:"relative z-10",children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsxs("h3",{className:"text-slate-500 dark:text-slate-400 font-medium flex items-center gap-2 text-sm",children:[g.jsx(nR,{className:"w-4 h-4 text-blue-500 fill-current"}),"Continue Learning"]}),g.jsx("span",{className:`text-xs font-semibold px-2 py-1 rounded-full text-white ${e.color}`,children:e.name})]}),g.jsxs("div",{className:"mb-4",children:[g.jsx("h4",{className:"text-xl font-bold text-slate-800 dark:text-white line-clamp-1 mb-1",children:i?i.name:n.name}),g.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 flex items-center gap-2",children:[g.jsx(gs,{className:"w-3.5 h-3.5"}),n.name]})]})]}),g.jsx("div",{className:"relative z-10",children:g.jsxs(cn,{to:`/subject/${e.id}`,className:"flex items-center justify-center gap-2 w-full py-2.5 bg-slate-900 hover:bg-slate-800 dark:bg-slate-700 dark:hover:bg-slate-600 text-white rounded-xl font-medium transition-all group-hover:translate-x-1",children:["Resume Study ",g.jsx(ab,{className:"w-4 h-4"})]})}),g.jsx("div",{className:`absolute top-0 right-0 w-32 h-32 opacity-10 rounded-full blur-2xl -translate-y-1/2 translate-x-1/2 ${e.color.replace("text-","bg-")}`})]})}const Ld=[{text:"The expert in anything was once a beginner.",author:"Helen Hayes"},{text:"It always seems impossible until it's done.",author:"Nelson Mandela"},{text:"Don't watch the clock; do what it does. Keep going.",author:"Sam Levenson"},{text:"Success is the sum of small efforts, repeated day in and day out.",author:"Robert Collier"},{text:"There is no substitute for hard work.",author:"Thomas Edison"},{text:"The future depends on what you do today.",author:"Mahatma Gandhi"},{text:"Believe you can and you're halfway there.",author:"Theodore Roosevelt"},{text:"Quality is not an act, it is a habit.",author:"Aristotle"},{text:"Your limitationit's only your imagination.",author:"Unknown"},{text:"Push yourself, because no one else is going to do it for you.",author:"Unknown"},{text:"Great things never come from comfort zones.",author:"Unknown"},{text:"Dream it. Wish it. Do it.",author:"Unknown"},{text:"Success doesn't just find you. You have to go out and get it.",author:"Unknown"},{text:"The harder you work for something, the greater you'll feel when you achieve it.",author:"Unknown"},{text:"Dream bigger. Do bigger.",author:"Unknown"},{text:"Don't stop when you're tired. Stop when you're done.",author:"Unknown"},{text:"Wake up with determination. Go to bed with satisfaction.",author:"Unknown"},{text:"Do something today that your future self will thank you for.",author:"Unknown"},{text:"Little things make big days.",author:"Unknown"},{text:"It's going to be hard, but hard does not mean impossible.",author:"Unknown"}];function lB(){const[t,e]=R.useState(()=>Math.floor(Math.random()*Ld.length)),n=()=>{e(i=>(i+1)%Ld.length)};return g.jsxs("div",{className:"bg-gradient-to-br from-indigo-500 to-purple-600 rounded-2xl p-6 text-white relative overflow-hidden shadow-lg shadow-indigo-500/20 md:h-full flex flex-col justify-between",children:[g.jsxs("div",{className:"flex items-start justify-between mb-4",children:[g.jsx("div",{className:"p-2 bg-white/20 backdrop-blur-sm rounded-lg",children:g.jsx(Ez,{className:"w-5 h-5 text-white"})}),g.jsx("button",{onClick:n,className:"p-2 text-white/50 hover:text-white hover:bg-white/10 rounded-full transition-colors",title:"Next Quote",children:g.jsx(Az,{className:"w-4 h-4"})})]}),g.jsx(Xn,{mode:"wait",children:g.jsxs(Ae.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},children:[g.jsxs("p",{className:"text-lg md:text-xl font-medium mb-3 leading-relaxed",children:['"',Ld[t].text,'"']}),g.jsxs("p",{className:"text-indigo-200 text-sm font-medium",children:[" ",Ld[t].author]})]},t)}),g.jsx("div",{className:"absolute -bottom-4 -right-4 w-24 h-24 bg-white/10 rounded-full blur-xl"}),g.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-purple-500/20 rounded-full blur-2xl"})]})}const KE={hidden:{opacity:0,y:10},show:{opacity:1,y:0,transition:{duration:.4,when:"beforeChildren",staggerChildren:.1}},exit:{opacity:0,y:-10}},c0={hidden:{opacity:0,y:20},show:{opacity:1,y:0,transition:{type:"spring",stiffness:100,damping:12}}};function cB(){const{userProfile:t,subjects:e}=xn(),[n,i]=R.useState(!1),a=t.name==="Student",l=e.reduce((p,v)=>p+v.chapters.length,0),c=e.reduce((p,v)=>p+v.chapters.filter(b=>b.isCompleted).length,0);let d=0;e.forEach(p=>{p.chapters.forEach(v=>{v.topics&&v.topics.length>0?d+=v.topics.filter(b=>b.isCompleted).length/v.topics.length*100:d+=v.isCompleted?100:0})});const f=l===0?0:Math.round(d/l);return g.jsxs(Ae.div,{className:"space-y-6 md:space-y-8",variants:KE,initial:"hidden",animate:"show",exit:"exit",children:[g.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 mb-8",children:[g.jsxs("div",{children:[g.jsxs("h1",{className:"text-3xl md:text-4xl font-bold text-slate-800 dark:text-white transition-colors tracking-tight",children:["Hello, ",g.jsx("span",{className:"bg-gradient-to-r from-blue-600 to-teal-500 dark:from-blue-400 dark:to-teal-400 bg-clip-text text-transparent",children:t.name}),g.jsx("span",{className:"inline-block animate-wave ml-2",children:""})]}),g.jsxs("p",{className:"text-base text-slate-500 dark:text-slate-400 mt-2 transition-colors",children:[g.jsx("span",{className:"font-semibold text-slate-700 dark:text-slate-300 px-2 py-0.5 bg-slate-100 dark:bg-slate-800 rounded-md mr-2",children:t.grade}),"Ready to crush your goals today?"]})]}),g.jsxs(Ae.button,{id:"add-subject-btn",whileHover:{scale:1.05,boxShadow:"0 10px 25px -5px rgba(37, 99, 235, 0.4)"},whileTap:{scale:.95},onClick:()=>i(!0),className:"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white px-6 py-3.5 rounded-2xl font-semibold flex items-center justify-center gap-2 shadow-lg shadow-blue-500/30 transition-all text-sm md:text-base w-full md:w-auto",children:[g.jsx(Nu,{className:"w-5 h-5"}),"New Subject"]})]}),g.jsxs("div",{className:"flex overflow-x-auto snap-x snap-mandatory -mx-4 px-4 pb-4 gap-4 md:grid md:grid-cols-2 lg:grid-cols-3 md:mx-0 md:px-0 md:pb-0 md:overflow-visible no-scrollbar",children:[g.jsx("div",{className:"snap-center shrink-0 w-[85vw] md:w-auto lg:col-span-1 h-full",children:g.jsx(oB,{})}),g.jsxs("div",{className:"snap-center shrink-0 w-[85vw] md:w-auto grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-1 gap-4 lg:gap-6 h-full",children:[g.jsx(aB,{}),g.jsx(lB,{})]}),g.jsx("div",{className:"snap-center shrink-0 w-[85vw] md:w-auto grid grid-cols-1 gap-4 lg:gap-6 h-full",children:g.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm relative overflow-hidden",children:[g.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-10",children:g.jsx(j7,{className:"w-32 h-32 text-blue-500"})}),g.jsxs("div",{className:"flex items-center justify-between relative z-10 h-full",children:[g.jsxs("div",{children:[g.jsxs("h3",{className:"text-slate-500 dark:text-slate-400 font-medium mb-1 flex items-center gap-2 text-sm",children:[g.jsx(Sl,{className:"w-4 h-4 text-amber-500"})," Syllabus Progress"]}),g.jsxs("div",{className:"mt-4 space-y-3",children:[g.jsxs("div",{children:[g.jsxs("div",{className:"flex items-end gap-2 mb-1",children:[g.jsx("span",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:c}),g.jsxs("span",{className:"text-sm text-slate-400 dark:text-slate-500 mb-1",children:["/ ",l," Chapters"]})]}),g.jsx("div",{className:"h-2 w-full bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden",children:g.jsx(Ae.div,{initial:{width:0},animate:{width:`${c/(l||1)*100}%`},className:"h-full bg-blue-500 rounded-full"})})]}),g.jsxs("div",{children:[g.jsxs("div",{className:"flex items-end gap-2 mb-1",children:[g.jsxs("span",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:[f,"%"]}),g.jsx("span",{className:"text-sm text-slate-400 dark:text-slate-500 mb-1",children:"Total Completion"})]}),g.jsx("div",{className:"h-2 w-full bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden",children:g.jsx(Ae.div,{initial:{width:0},animate:{width:`${f}%`},className:"h-full bg-emerald-500 rounded-full"})})]})]})]}),g.jsxs("div",{className:"relative w-28 h-28 flex-shrink-0",children:[g.jsxs("svg",{className:"w-full h-full transform -rotate-90",viewBox:"0 0 100 100",children:[g.jsx("circle",{className:"text-slate-100 dark:text-slate-700",strokeWidth:"8",stroke:"currentColor",fill:"transparent",r:"40",cx:"50",cy:"50"}),g.jsx(Ae.circle,{className:"text-blue-600 dark:text-blue-500 drop-shadow-lg",strokeWidth:"8",strokeDasharray:251.2,strokeDashoffset:251.2-251.2*f/100,strokeLinecap:"round",stroke:"currentColor",fill:"transparent",r:"40",cx:"50",cy:"50",initial:{strokeDashoffset:251.2},animate:{strokeDashoffset:251.2-251.2*f/100},transition:{duration:1.5,ease:"easeOut"}})]}),g.jsx("div",{className:"absolute top-0 left-0 w-full h-full flex items-center justify-center flex-col",children:g.jsxs("span",{className:"text-xl font-bold text-slate-800 dark:text-white",children:[f,"%"]})})]})]})]})})]}),t.earnedBadges&&t.earnedBadges.length>0&&g.jsxs(Ae.div,{variants:c0,className:"bg-white dark:bg-slate-800 rounded-2xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm transition-colors",children:[g.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4 flex items-center gap-2",children:[g.jsx(Sl,{className:"w-5 h-5 text-yellow-500"}),"Recent Achievements"]}),g.jsx("div",{className:"flex flex-wrap gap-4",children:t.earnedBadges.map((p,v)=>g.jsx(iB,{type:p.type,dateEarned:p.earnedAt},`${p.type}-${v}`))})]}),g.jsxs("div",{children:[g.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4 flex items-center gap-2 transition-colors",children:["Your Subjects",g.jsx("span",{className:"text-sm font-normal text-slate-400 dark:text-slate-500 bg-slate-100 dark:bg-slate-800 px-2 py-0.5 rounded-full",children:e.length})]}),e.length>0?g.jsxs(Ae.div,{variants:KE,initial:"hidden",animate:"show",className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.map((p,v)=>g.jsx(Ae.div,{variants:c0,children:g.jsx(tB,{subject:p,index:v})},p.id)),g.jsxs(Ae.button,{variants:c0,whileHover:{scale:1.02,backgroundColor:"rgba(239, 246, 255, 0.5)"},whileTap:{scale:.98},onClick:()=>i(!0),className:"group border-2 border-dashed border-slate-200 dark:border-slate-700 rounded-2xl p-6 flex flex-col items-center justify-center text-slate-400 dark:text-slate-500 hover:border-blue-400 dark:hover:border-blue-500 hover:text-blue-600 dark:hover:text-blue-400 transition-all cursor-pointer h-full min-h-[180px] w-full",children:[g.jsx("div",{className:"w-12 h-12 rounded-full bg-slate-100 dark:bg-slate-800 group-hover:bg-blue-100 dark:group-hover:bg-blue-900/20 flex items-center justify-center mb-3 transition-colors",children:g.jsx(Nu,{className:"w-6 h-6"})}),g.jsx("span",{className:"font-medium",children:"Add Another Subject"})]})]}):g.jsxs(Ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-16 bg-white dark:bg-slate-800 rounded-2xl border border-dashed border-slate-200 dark:border-slate-700 transition-colors",children:[g.jsx("div",{className:"w-16 h-16 bg-slate-50 dark:bg-slate-700 rounded-full flex items-center justify-center mx-auto mb-4",children:g.jsx(Yk,{className:"w-8 h-8 text-slate-300 dark:text-slate-500"})}),g.jsx("h3",{className:"text-lg font-semibold text-slate-700 dark:text-slate-200 mb-2",children:"No subjects yet"}),g.jsx("p",{className:"text-slate-500 dark:text-slate-400 max-w-sm mx-auto mb-6",children:"Start by adding the subjects you want to track to organize your study plan."}),g.jsx("button",{onClick:()=>i(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2.5 rounded-xl font-medium transition-all",children:"Add Your First Subject"})]})]}),n&&g.jsx(nB,{onClose:()=>i(!1)}),a&&g.jsx(rB,{})]})}function uB({subjectId:t,onClose:e}){const{addChapter:n}=xn(),[i,a]=R.useState(""),l=c=>{c.preventDefault(),i.trim()&&(n(t,i.trim()),a(""))};return g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm animate-in fade-in duration-200",children:g.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl w-full max-w-md overflow-hidden animate-in zoom-in-95 duration-200 transition-colors",children:[g.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-slate-100 dark:border-slate-700",children:[g.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white flex items-center gap-2 transition-colors",children:[g.jsx(Yk,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),"Add Chapters"]}),g.jsx("button",{onClick:e,className:"p-2 text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full transition-colors",children:g.jsx(bi,{className:"w-5 h-5"})})]}),g.jsxs("form",{onSubmit:l,className:"p-6 space-y-4",children:[g.jsxs("div",{children:[g.jsxs("div",{className:"flex justify-between items-center mb-1",children:[g.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 transition-colors",children:"Chapter Name / Topic"}),g.jsx("span",{className:"text-xs text-slate-400 dark:text-slate-500 transition-colors",children:"Press Enter to add & continue"})]}),g.jsx("input",{autoFocus:!0,type:"text",value:i,onChange:c=>a(c.target.value),placeholder:"e.g. Newton's Laws",className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all placeholder:text-slate-400 dark:placeholder:text-slate-500"})]}),g.jsxs("div",{className:"flex gap-3 pt-2",children:[g.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-3 border border-slate-200 dark:border-slate-600 text-slate-600 dark:text-slate-300 font-medium rounded-xl hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",children:"Done"}),g.jsxs("button",{type:"submit",disabled:!i.trim(),className:"flex-1 bg-blue-600 hover:bg-blue-700 dark:bg-blue-600 dark:hover:bg-blue-500 disabled:opacity-50 disabled:cursor-not-allowed text-white font-medium py-3 rounded-xl flex items-center justify-center gap-2 transition-all active:scale-[0.98]",children:[g.jsx(Nu,{className:"w-5 h-5"}),"Add"]})]})]})]})})}const hB={initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10}};function xm({children:t,className:e=""}){return g.jsx(Ae.div,{variants:hB,initial:"initial",animate:"animate",exit:"exit",transition:{duration:.3,ease:"easeOut"},className:e,children:t})}const oR=R.createContext(void 0);function dB({children:t}){const[e,n]=R.useState(()=>typeof window<"u"?localStorage.getItem("sound-muted")==="true":!1),i=R.useRef(null);R.useEffect(()=>{localStorage.setItem("sound-muted",String(e))},[e]);const a=()=>{i.current||(i.current=new(window.AudioContext||window.webkitAudioContext)),i.current.state==="suspended"&&i.current.resume()},l=p=>{if(e)return;i.current||(i.current=new(window.AudioContext||window.webkitAudioContext));const v=i.current,b=v.createOscillator(),w=v.createGain();b.connect(w),w.connect(v.destination);const S=v.currentTime;switch(p){case"pop":b.type="sine",b.frequency.setValueAtTime(800,S),b.frequency.exponentialRampToValueAtTime(1200,S+.1),w.gain.setValueAtTime(.1,S),w.gain.exponentialRampToValueAtTime(.01,S+.1),b.start(S),b.stop(S+.1);break;case"success":c(v,523.25,S,.1,"sine"),c(v,659.25,S+.1,.1,"sine"),c(v,783.99,S+.2,.2,"sine");break;case"complete":b.type="triangle",b.frequency.setValueAtTime(440,S),b.frequency.linearRampToValueAtTime(880,S+.5),w.gain.setValueAtTime(.1,S),w.gain.linearRampToValueAtTime(.3,S+.2),w.gain.linearRampToValueAtTime(0,S+1.5),b.start(S),b.stop(S+1.5);break;case"click":b.type="square",b.frequency.setValueAtTime(200,S),w.gain.setValueAtTime(.05,S),w.gain.exponentialRampToValueAtTime(.01,S+.05),b.start(S),b.stop(S+.05);break;case"error":b.type="sawtooth",b.frequency.setValueAtTime(150,S),b.frequency.linearRampToValueAtTime(100,S+.2),w.gain.setValueAtTime(.1,S),w.gain.linearRampToValueAtTime(0,S+.3),b.start(S),b.stop(S+.3);break}},c=(p,v,b,w,S="sine")=>{const D=p.createOscillator(),O=p.createGain();D.connect(O),O.connect(p.destination),D.type=S,D.frequency.setValueAtTime(v,b),O.gain.setValueAtTime(.1,b),O.gain.exponentialRampToValueAtTime(.01,b+w),D.start(b),D.stop(b+w)},d=p=>{i.current?.state==="suspended"&&i.current.resume().catch(()=>{}),l(p)},f=()=>{n(p=>!p),e&&a()};return g.jsx(oR.Provider,{value:{isMuted:e,toggleMute:f,playSound:d},children:t})}function ob(){const t=R.useContext(oR);if(t===void 0)throw new Error("useSound must be used within a SoundProvider");return t}function fB({subjectId:t,chapterId:e,topicId:n,currentName:i,onClose:a}){const{editTopic:l}=xn(),[c,d]=R.useState(i);R.useEffect(()=>{d(i)},[i]);const f=p=>{p.preventDefault(),c.trim()&&(l(t,e,n,c.trim()),a())};return g.jsx(Xn,{children:g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:g.jsxs(Ae.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white dark:bg-slate-800 rounded-2xl w-full max-w-sm shadow-xl border border-slate-100 dark:border-slate-700 overflow-hidden",children:[g.jsxs("div",{className:"p-4 border-b border-slate-100 dark:border-slate-700 flex items-center justify-between bg-slate-50/50 dark:bg-slate-800/50",children:[g.jsx("h2",{className:"text-lg font-bold text-slate-800 dark:text-white",children:"Edit Topic"}),g.jsx("button",{onClick:a,className:"p-1 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 transition-colors rounded-full hover:bg-slate-100 dark:hover:bg-slate-700",children:g.jsx(bi,{className:"w-5 h-5"})})]}),g.jsxs("form",{onSubmit:f,className:"p-6 space-y-6",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Topic Name"}),g.jsxs("div",{className:"relative",children:[g.jsx(tR,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),g.jsx("input",{type:"text",value:c,onChange:p=>d(p.target.value),placeholder:"e.g. Algebra Basics",className:"w-full bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl py-3 pl-10 pr-4 text-slate-800 dark:text-white placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all",autoFocus:!0})]})]}),g.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[g.jsx("button",{type:"button",onClick:a,className:"px-4 py-2 text-slate-600 dark:text-slate-400 font-medium hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:"Cancel"}),g.jsx("button",{type:"submit",disabled:!c.trim(),className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg shadow-sm shadow-blue-500/20 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:"Save Changes"})]})]})]})})})}function mB({subjectId:t,chapterId:e,topic:n}){const{toggleTopic:i,deleteTopic:a}=xn(),{playSound:l}=ob(),[c,d]=R.useState(!1);return g.jsxs(g.Fragment,{children:[g.jsxs(Ae.div,{layout:!0,initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:-10},className:"flex items-center gap-3 py-2 pl-4 pr-2 group/topic hover:bg-slate-50 dark:hover:bg-slate-700/50 rounded-lg transition-colors ml-8 border-l border-slate-100 dark:border-slate-700",children:[g.jsx(Ae.button,{whileTap:{scale:.8},onClick:()=>{i(t,e,n.id),n.isCompleted||l("pop")},className:`flex-shrink-0 w-4 h-4 rounded-full border flex items-center justify-center transition-colors ${n.isCompleted?"border-emerald-500 bg-emerald-500 text-white":"border-slate-300 dark:border-slate-500 text-transparent hover:border-slate-400 dark:hover:border-slate-400"}`,children:g.jsx(Ll,{className:"w-3 h-3"})}),g.jsx("span",{className:`flex-1 text-sm font-google-sans transition-all ${n.isCompleted?"text-slate-400 line-through":"text-slate-600 dark:text-slate-300"}`,children:n.name}),g.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover/topic:opacity-100 transition-opacity",children:[g.jsx("button",{onClick:()=>d(!0),className:"p-1.5 text-slate-300 hover:text-amber-500 dark:text-slate-600 dark:hover:text-amber-400 transition-all",title:"Edit Topic",children:g.jsx(bm,{className:"w-3.5 h-3.5"})}),g.jsx("button",{onClick:()=>confirm("Delete this topic?")&&a(t,e,n.id),className:"p-1.5 text-slate-300 hover:text-red-500 dark:text-slate-600 dark:hover:text-red-400 transition-all",title:"Delete Topic",children:g.jsx(Yu,{className:"w-3.5 h-3.5"})})]})]}),c&&g.jsx(fB,{subjectId:t,chapterId:e,topicId:n.id,currentName:n.name,onClose:()=>d(!1)})]})}function pB({subjectId:t,chapterId:e,currentName:n,onClose:i}){const{editChapter:a}=xn(),[l,c]=R.useState(n);R.useEffect(()=>{c(n)},[n]);const d=f=>{f.preventDefault(),l.trim()&&(a(t,e,l.trim()),i())};return g.jsx(Xn,{children:g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:g.jsxs(Ae.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white dark:bg-slate-800 rounded-2xl w-full max-w-md shadow-xl border border-slate-100 dark:border-slate-700 overflow-hidden",children:[g.jsxs("div",{className:"p-4 border-b border-slate-100 dark:border-slate-700 flex items-center justify-between bg-slate-50/50 dark:bg-slate-800/50",children:[g.jsx("h2",{className:"text-lg font-bold text-slate-800 dark:text-white",children:"Edit Chapter"}),g.jsx("button",{onClick:i,className:"p-1 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 transition-colors rounded-full hover:bg-slate-100 dark:hover:bg-slate-700",children:g.jsx(bi,{className:"w-5 h-5"})})]}),g.jsxs("form",{onSubmit:d,className:"p-6 space-y-6",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Chapter Name"}),g.jsxs("div",{className:"relative",children:[g.jsx(tR,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),g.jsx("input",{type:"text",value:l,onChange:f=>c(f.target.value),placeholder:"e.g. Differentiation",className:"w-full bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl py-3 pl-10 pr-4 text-slate-800 dark:text-white placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all",autoFocus:!0})]})]}),g.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[g.jsx("button",{type:"button",onClick:i,className:"px-4 py-2 text-slate-600 dark:text-slate-400 font-medium hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:"Cancel"}),g.jsx("button",{type:"submit",disabled:!l.trim(),className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg shadow-sm shadow-blue-500/20 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:"Save Changes"})]})]})]})})})}function gB({subjectId:t,chapter:e,isExpanded:n,onToggle:i}){const{deleteChapter:a,addTopic:l}=xn(),[c,d]=R.useState(!1),[f,p]=R.useState(!1),v=b=>{b.preventDefault();const w=b.target.elements.namedItem("topicName");w.value.trim()&&(l(t,e.id,w.value.trim()),w.value="",d(!1))};return g.jsxs("div",{className:"group transition-colors",children:[g.jsxs("div",{className:`flex items-center gap-3 p-4 pr-14 relative hover:bg-slate-50/80 dark:hover:bg-slate-700/50 cursor-pointer transition-colors ${e.isCompleted?"bg-slate-50/30 dark:bg-slate-700/30":""}`,onClick:i,children:[g.jsx("button",{className:"p-1 text-slate-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:g.jsx(Ae.div,{animate:{rotate:n?180:0},transition:{duration:.2},children:g.jsx(O7,{className:"w-5 h-5"})})}),g.jsxs("div",{className:"flex-1",children:[g.jsx("span",{className:`block font-bold text-lg transition-all ${e.isCompleted?"text-emerald-700 dark:text-emerald-400":"text-slate-800 dark:text-slate-200"}`,children:e.name}),g.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[g.jsxs("span",{className:"text-xs text-slate-400 dark:text-slate-500 font-medium whitespace-nowrap transition-colors",children:[e.topics?.filter(b=>b.isCompleted).length||0,"/",e.topics?.length||0," Topics",e.isCompleted&&g.jsxs("span",{className:"text-emerald-600 dark:text-emerald-400 ml-2 font-bold inline-flex items-center gap-1",children:[g.jsx(Ll,{className:"w-3 h-3"})," Done"]})]}),e.topics&&e.topics.length>0&&g.jsx("div",{className:"h-1.5 w-24 bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden flex-shrink-0 transition-colors",children:g.jsx(Ae.div,{initial:{width:0},animate:{width:`${Math.round(e.topics.filter(b=>b.isCompleted).length/e.topics.length*100)}%`},transition:{duration:.5,ease:"easeOut"},className:`h-full ${e.isCompleted?"bg-emerald-500":"bg-blue-500"}`})})]})]}),g.jsxs("div",{className:"flex items-center gap-2 absolute right-4 top-1/2 -translate-y-1/2",children:[g.jsx(Ae.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:b=>{b.stopPropagation(),d(!0),n||i()},className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/30 dark:hover:text-blue-400 rounded-lg transition-colors",title:"Add Topic",children:g.jsx(Nu,{className:"w-4 h-4"})}),g.jsx(Ae.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:b=>{b.stopPropagation(),p(!0)},className:"p-2 text-slate-400 hover:text-amber-500 hover:bg-amber-50 dark:hover:bg-amber-900/30 dark:hover:text-amber-400 rounded-lg transition-colors",title:"Edit Chapter",children:g.jsx(bm,{className:"w-4 h-4"})}),g.jsx(Ae.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:b=>{b.stopPropagation(),confirm("Delete this chapter?")&&a(t,e.id)},className:"p-2 text-slate-300 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/30 dark:hover:text-red-400 rounded-lg transition-colors",title:"Delete Chapter",children:g.jsx(Yu,{className:"w-4 h-4"})})]})]}),g.jsx(Xn,{children:n&&g.jsx(Ae.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2,ease:"easeInOut"},className:"overflow-hidden bg-slate-50/50 dark:bg-slate-800/50 transition-colors",children:g.jsxs("div",{className:"pb-2",children:[e.topics&&e.topics.length>0?e.topics.map(b=>g.jsx(mB,{subjectId:t,chapterId:e.id,topic:b},b.id)):g.jsx("div",{className:"pl-12 py-3 text-sm text-slate-400 italic",children:"No topics yet. Click + to add one."}),c&&g.jsxs(Ae.form,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},onSubmit:v,className:"pl-12 pr-4 py-2 flex items-center gap-2",children:[g.jsx(H7,{className:"w-4 h-4 text-slate-300 dark:text-slate-500"}),g.jsx("input",{autoFocus:!0,name:"topicName",type:"text",placeholder:"Topic name...",className:"flex-1 bg-white dark:bg-slate-700 px-3 py-1.5 rounded-lg border border-slate-200 dark:border-slate-600 text-sm text-slate-800 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-colors",onBlur:()=>setTimeout(()=>d(!1),200)}),g.jsx("button",{type:"submit",className:"hidden",children:"Add"})]})]})})}),f&&g.jsx(pB,{subjectId:t,chapterId:e.id,currentName:e.name,onClose:()=>p(!1)})]})}function yB(){const{id:t}=YI(),e=Ff(),{subjects:n,deleteSubject:i}=xn(),[a,l]=R.useState(!1),[c,d]=R.useState(!1),[f,p]=R.useState({}),v=n.find(z=>z.id===t);if(!v)return g.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[50vh] text-center p-8",children:[g.jsx("div",{className:"w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mb-4",children:g.jsx(gs,{className:"w-8 h-8 text-slate-300"})}),g.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Subject Not Found"}),g.jsx(cn,{to:"/",className:"mt-4 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Go Back Home"})]});const b=()=>{confirm(`Are you sure you want to delete ${v.name}? ALL progress will be lost.`)&&(i(v.id),e("/"))},w=z=>{p(F=>({...F,[z]:!F[z]}))},S=v.chapters.length,D=v.chapters.filter(z=>z.isCompleted).length;let O=0;v.chapters.forEach(z=>{z.topics&&z.topics.length>0?O+=z.topics.filter(F=>F.isCompleted).length/z.topics.length*100:O+=z.isCompleted?100:0});const V=S===0?0:Math.round(O/S);return g.jsxs(xm,{className:"max-w-3xl mx-auto pb-12",children:[g.jsxs("div",{className:"mb-8",children:[g.jsxs(cn,{to:"/",className:"inline-flex items-center gap-2 text-slate-500 hover:text-slate-800 dark:text-slate-400 dark:hover:text-slate-200 mb-6 transition-colors group",children:[g.jsx(y7,{className:"w-4 h-4 group-hover:-translate-x-1 transition-transform"}),"Back to Dashboard"]}),g.jsxs("div",{className:"flex flex-col md:flex-row md:items-start justify-between gap-4",children:[g.jsxs("div",{children:[g.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1 rounded-full text-xs font-semibold text-white mb-3 ${v.color}`,children:[g.jsx(gs,{className:"w-3 h-3"}),v.name]}),g.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-800 dark:text-white transition-colors",children:v.name}),g.jsxs("p",{className:"text-slate-500 dark:text-slate-400 mt-2 transition-colors",children:[D," of ",S," chapters completed"]})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("button",{onClick:()=>d(!0),className:"text-slate-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/30 dark:hover:text-blue-400 p-2 rounded-lg transition-colors",title:"Edit Subject",children:g.jsx(bm,{className:"w-5 h-5"})}),g.jsx("button",{onClick:b,className:"text-red-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/30 dark:hover:text-red-400 p-2 rounded-lg transition-colors",title:"Delete Subject",children:g.jsx(Yu,{className:"w-5 h-5"})})]})]}),g.jsxs("div",{className:"mt-6",children:[g.jsxs("div",{className:"flex justify-between items-end mb-2",children:[g.jsxs("span",{className:"text-3xl font-bold text-slate-800 dark:text-white transition-colors",children:[V,"%"]}),g.jsx("span",{className:"text-sm font-medium text-slate-400 dark:text-slate-500 transition-colors",children:"Progress"})]}),g.jsx("div",{className:"h-3 w-full bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden transition-colors",children:g.jsx(Ae.div,{initial:{width:0},animate:{width:`${V}%`},transition:{duration:1,ease:"easeOut"},className:`h-full ${v.color}`})})]})]}),g.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl border border-slate-100 dark:border-slate-700 shadow-sm overflow-hidden transition-colors",children:[g.jsxs("div",{className:"p-6 border-b border-slate-50 dark:border-slate-700 flex items-center justify-between bg-slate-50/50 dark:bg-slate-700/30 transition-colors",children:[g.jsx("h2",{className:"text-lg font-bold text-slate-800 dark:text-white transition-colors",children:"Syllabus / Chapters"}),g.jsxs(Ae.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>l(!0),className:"bg-slate-900 hover:bg-slate-800 dark:bg-slate-700 dark:hover:bg-slate-600 text-white px-4 py-2 rounded-lg text-sm font-medium flex items-center gap-2 transition-colors",children:[g.jsx(Nu,{className:"w-4 h-4"}),"Add Chapter"]})]}),g.jsx("div",{className:"divide-y divide-slate-50 dark:divide-slate-700 transition-colors",children:v.chapters.length>0?v.chapters.map(z=>g.jsx(gB,{subjectId:v.id,chapter:z,isExpanded:!!f[z.id],onToggle:()=>w(z.id)},z.id)):g.jsxs("div",{className:"p-12 text-center",children:[g.jsx("div",{className:"w-16 h-16 bg-slate-50 dark:bg-slate-700/50 rounded-full flex items-center justify-center mx-auto mb-3 transition-colors",children:g.jsx(gs,{className:"w-6 h-6 text-slate-300 dark:text-slate-500"})}),g.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-4 transition-colors",children:"No chapters added yet."}),g.jsx("button",{onClick:()=>l(!0),className:"text-blue-600 dark:text-blue-400 font-medium hover:underline transition-colors",children:"Add your first chapter"})]})})]}),a&&g.jsx(uB,{subjectId:v.id,onClose:()=>l(!1)}),c&&g.jsx(aR,{subject:v,onClose:()=>d(!1)})]})}const lR=R.createContext(void 0);function vB({children:t}){const[e,n]=R.useState(()=>typeof window<"u"&&localStorage.getItem("theme")?localStorage.getItem("theme"):typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");R.useEffect(()=>{const a=window.document.documentElement;a.classList.remove("light","dark"),a.classList.add(e),localStorage.setItem("theme",e)},[e]);const i=()=>{n(a=>a==="light"?"dark":"light")};return g.jsx(lR.Provider,{value:{theme:e,toggleTheme:i},children:t})}function cR(){const t=R.useContext(lR);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t}function bB({onClose:t}){const[e,n]=R.useState(fu[0].id),[i,a]=R.useState(new Set),l=fu.find(f=>f.id===e),c=f=>{const p=new Set(i);p.has(f)?p.delete(f):p.add(f),a(p)},d=()=>{if(l)if(i.size===l.subjects.length)a(new Set);else{const f=new Set(l.subjects.map(p=>p.name));a(f)}};return g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm animate-in fade-in duration-200",children:g.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl w-full max-w-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[g.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-slate-100 dark:border-slate-700",children:[g.jsxs("div",{children:[g.jsxs("h3",{className:"text-xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[g.jsx(gs,{className:"w-6 h-6 text-blue-600"}),"Import Syllabus"]}),g.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:"Select a curriculum to quick-start your study plan."})]}),g.jsx("button",{onClick:t,className:"p-2 text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full transition-colors",children:g.jsx(bi,{className:"w-5 h-5"})})]}),g.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col md:flex-row",children:[g.jsxs("div",{className:"w-full md:w-48 bg-slate-50 dark:bg-slate-900/50 border-r border-slate-100 dark:border-slate-700 p-4",children:[g.jsx("h4",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider mb-3",children:"Curriculums"}),g.jsx("div",{className:"space-y-2",children:fu.map(f=>g.jsx("button",{onClick:()=>{n(f.id),a(new Set)},className:`w-full text-left px-3 py-2 rounded-lg text-sm font-medium transition-colors ${e===f.id?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400":"text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800"}`,children:f.name},f.id))})]}),g.jsxs("div",{className:"flex-1 p-6 overflow-y-auto",children:[g.jsxs("div",{className:"flex justify-between items-center mb-4",children:[g.jsxs("h4",{className:"font-semibold text-slate-800 dark:text-white",children:[l?.name," Subjects"]}),g.jsx("button",{onClick:d,className:"text-xs font-medium text-blue-600 dark:text-blue-400 hover:underline",children:i.size===l?.subjects.length?"Deselect All":"Select All"})]}),g.jsx("div",{className:"space-y-3",children:l?.subjects.map(f=>g.jsxs("div",{onClick:()=>c(f.name),className:`relative flex items-start gap-4 p-4 rounded-xl border cursor-pointer transition-all ${i.has(f.name)?"border-blue-500 bg-blue-50/50 dark:bg-blue-900/10":"border-slate-200 dark:border-slate-700 hover:border-slate-300 dark:hover:border-slate-600"}`,children:[g.jsx("div",{className:`mt-1 flex-shrink-0 w-5 h-5 rounded border flex items-center justify-center transition-colors ${i.has(f.name)?"bg-blue-500 border-blue-500":"bg-white dark:bg-slate-800 border-slate-300 dark:border-slate-600"}`,children:i.has(f.name)&&g.jsx(Qk,{className:"w-3.5 h-3.5 text-white"})}),g.jsxs("div",{className:"flex-1",children:[g.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[g.jsx("span",{className:`font-semibold ${i.has(f.name)?"text-blue-700 dark:text-blue-300":"text-slate-700 dark:text-slate-300"}`,children:f.name}),g.jsxs("span",{className:"text-xs px-2 py-0.5 rounded-full bg-slate-100 dark:bg-slate-700 text-slate-500",children:[f.chapters.length," Chapters"]})]}),g.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 line-clamp-1",children:[f.chapters.slice(0,3).map(p=>p.name).join(", "),"..."]})]})]},f.name))})]})]}),g.jsxs("div",{className:"p-6 border-t border-slate-100 dark:border-slate-700 flex justify-end gap-3 bg-slate-50/50 dark:bg-slate-900/50",children:[g.jsx("button",{onClick:t,className:"px-5 py-2.5 rounded-xl font-medium text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors",children:"Cancel"}),g.jsx(xB,{count:i.size,currentTemplate:l,selectedSubjects:i,onClose:t})]})]})})}function xB({count:t,currentTemplate:e,selectedSubjects:n,onClose:i}){const{importSyllabusData:a}=xn(),l=()=>{if(t===0||!e)return;const c=e.subjects.filter(d=>n.has(d.name));a(c),i()};return g.jsxs("button",{onClick:l,disabled:t===0,className:"px-6 py-2.5 rounded-xl font-medium bg-blue-600 hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed text-white shadow-lg shadow-blue-500/20 transition-all active:scale-95 flex items-center gap-2",children:[g.jsx(Wk,{className:"w-4 h-4"}),"Import ",t>0?`${t} Subjects`:""]})}function _B(){const{user:t,logout:e}=co(),{userProfile:n,updateProfile:i,resetData:a,exportData:l,importData:c}=xn(),{isMuted:d,toggleMute:f}=ob(),{theme:p,toggleTheme:v}=cR(),b=R.useRef(null),w=R.useRef(null),[S,D]=R.useState(!1),[O,V]=R.useState(!1),[z,F]=R.useState("Notification"in window&&Notification.permission==="granted"),G=()=>{const j=b.current?.value.trim()||"",E=w.current?.value.trim()||"";if(!j){alert("Please enter your name");return}i({name:j,grade:E}),V(!1),alert(` Profile updated successfully!

You can update your profile anytime.`)},te=()=>{const j=document.createElement("input");j.type="file",j.accept=".json",j.onchange=E=>{const C=E.target.files?.[0];if(C){const M=new FileReader;M.onload=N=>{const P=N.target?.result;c(P)&&alert("Data imported successfully!")},M.readAsText(C)}},j.click()},re=()=>{confirm("Do you want to restart the welcome tour?")&&(localStorage.removeItem("tracked_tour_completed"),window.location.reload())},he=async()=>{if(!("Notification"in window)){alert("This browser does not support desktop notifications");return}if(Notification.permission==="granted")F(!z);else if(Notification.permission!=="denied"){const j=await Notification.requestPermission();F(j==="granted")}else alert("Notifications are blocked. Please enable them in your browser settings.")};return g.jsxs(xm,{className:"max-w-2xl mx-auto space-y-8 pb-10",children:[g.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[g.jsx(cy,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"}),g.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-white transition-colors",children:"Settings"})]}),g.jsxs(Ae.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden transition-colors",children:[g.jsx("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700",children:g.jsxs("h2",{className:"text-lg font-semibold text-slate-800 dark:text-white flex items-center gap-2",children:[g.jsx(cy,{className:"w-5 h-5 text-blue-500"}),"Profile Information"]})}),g.jsxs("div",{className:"p-6 space-y-4",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1 transition-colors",children:"Student Name"}),g.jsx("input",{ref:b,type:"text",defaultValue:n?.name||"",disabled:!O,className:`w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all placeholder:text-slate-400 dark:placeholder:text-slate-500 ${O?"":"opacity-60 cursor-not-allowed bg-slate-50 dark:bg-slate-800/50"}`,placeholder:"Enter your name"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1 transition-colors",children:"Class / Grade"}),g.jsx("input",{ref:w,type:"text",defaultValue:n?.grade||"",disabled:!O,className:`w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all placeholder:text-slate-400 dark:placeholder:text-slate-500 ${O?"":"opacity-60 cursor-not-allowed bg-slate-50 dark:bg-slate-800/50"}`,placeholder:"e.g. HSC 2026"})]})]}),g.jsx("div",{className:"pt-2 flex gap-3",children:O?g.jsxs(g.Fragment,{children:[g.jsx("button",{onClick:()=>V(!1),className:"px-5 py-2.5 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-200 font-medium rounded-lg hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors text-sm",children:"Cancel"}),g.jsxs("button",{onClick:G,className:"px-5 py-2.5 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition-colors flex items-center gap-2 text-sm shadow-sm",children:[g.jsx(Uf,{className:"w-4 h-4"}),"Save Changes"]})]}):g.jsxs("button",{onClick:()=>V(!0),className:"px-5 py-2.5 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-200 font-medium rounded-lg hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors flex items-center gap-2 text-sm",children:[g.jsx(qE,{className:"w-4 h-4"}),"Edit Profile"]})})]})]}),g.jsxs(Ae.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden transition-colors",children:[g.jsx("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700",children:g.jsxs("h2",{className:"text-lg font-semibold text-slate-800 dark:text-white flex items-center gap-2",children:[g.jsx(fz,{className:"w-5 h-5 text-purple-500"}),"Appearance & Preferences"]})}),g.jsxs("div",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:[g.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:`p-2 rounded-lg ${p==="dark"?"bg-slate-700 text-slate-300":"bg-orange-100 text-orange-600"}`,children:p==="dark"?g.jsx(Lf,{className:"w-5 h-5"}):g.jsx(uy,{className:"w-5 h-5"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"App Theme"}),g.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Switch between light and dark mode"})]})]}),g.jsx("button",{onClick:v,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${p==="dark"?"bg-blue-600":"bg-slate-200"}`,children:g.jsx("span",{className:`${p==="dark"?"translate-x-6":"translate-x-1"} inline-block h-4 w-4 transform rounded-full bg-white transition-transform`})})]}),g.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:`p-2 rounded-lg ${d?"bg-slate-100 dark:bg-slate-700 text-slate-400":"bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400"}`,children:d?g.jsx(rR,{className:"w-5 h-5"}):g.jsx(iR,{className:"w-5 h-5"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"Sound Effects"}),g.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Play sounds for timer and interactions"})]})]}),g.jsx("button",{onClick:f,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${d?"bg-slate-200 dark:bg-slate-600":"bg-blue-600"}`,children:g.jsx("span",{className:`${d?"translate-x-1":"translate-x-6"} inline-block h-4 w-4 transform rounded-full bg-white transition-transform`})})]}),g.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:`p-2 rounded-lg ${z?"bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400":"bg-slate-100 dark:bg-slate-700 text-slate-400"}`,children:z?g.jsx(T7,{className:"w-5 h-5"}):g.jsx(_7,{className:"w-5 h-5"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"Notifications"}),g.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Get reminders for study sessions"})]})]}),g.jsx("button",{onClick:he,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${z?"bg-blue-600":"bg-slate-200 dark:bg-slate-600"}`,children:g.jsx("span",{className:`${z?"translate-x-6":"translate-x-1"} inline-block h-4 w-4 transform rounded-full bg-white transition-transform`})})]}),g.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"p-2 rounded-lg bg-pink-100 dark:bg-pink-900/30 text-pink-600 dark:text-pink-400",children:g.jsx(W7,{className:"w-5 h-5"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"Language"}),g.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"App language preference"})]})]}),g.jsxs("select",{className:"bg-transparent border border-slate-200 dark:border-slate-600 rounded-lg text-sm px-2 py-1 text-slate-700 dark:text-slate-300 focus:ring-2 focus:ring-blue-500 outline-none",children:[g.jsx("option",{children:"English"}),g.jsx("option",{disabled:!0,children:"Bengali (Coming Soon)"})]})]})]})]}),g.jsxs(Ae.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden transition-colors",children:[g.jsx("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700",children:g.jsxs("h2",{className:"text-lg font-semibold text-slate-800 dark:text-white flex items-center gap-2",children:[g.jsx(Uf,{className:"w-5 h-5 text-green-500"}),"Data & Backup"]})}),g.jsxs("div",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:[g.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors cursor-pointer",onClick:()=>D(!0),children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"p-2 rounded-lg bg-indigo-100 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400",children:g.jsx(gs,{className:"w-5 h-5"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"Import Syllabus Template"}),g.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Quickly add pre-made subject templates"})]})]}),g.jsx("button",{className:"text-slate-400",children:g.jsx(qE,{className:"w-4 h-4"})})]}),g.jsxs("div",{className:"p-4 grid grid-cols-2 gap-4",children:[g.jsxs("button",{onClick:l,className:"flex items-center justify-center gap-2 py-2.5 border border-slate-200 dark:border-slate-600 rounded-lg text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors text-sm font-medium",children:[g.jsx(Wk,{className:"w-4 h-4"}),"Export Data"]}),g.jsxs("button",{onClick:te,className:"flex items-center justify-center gap-2 py-2.5 border border-slate-200 dark:border-slate-600 rounded-lg text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors text-sm font-medium",children:[g.jsx(Qz,{className:"w-4 h-4"}),"Import Data"]})]}),g.jsx("div",{className:"p-4 bg-red-50/50 dark:bg-red-900/10",children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"p-2 rounded-lg bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400",children:g.jsx(Yu,{className:"w-5 h-5"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-red-700 dark:text-red-400 font-medium",children:"Reset Application"}),g.jsx("p",{className:"text-xs text-red-600/70 dark:text-red-400/70",children:"Permanently delete all study data"})]})]}),g.jsx("button",{onClick:()=>{confirm("Are you absolutely sure? This cannot be undone.")&&a()},className:"px-4 py-2 bg-white dark:bg-slate-800 border border-red-200 dark:border-red-800 text-red-600 dark:text-red-400 font-medium rounded-lg hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors text-xs shadow-sm",children:"Reset Data"})]})})]})]}),g.jsxs(Ae.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden transition-colors",children:[g.jsx("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700",children:g.jsxs("h2",{className:"text-lg font-semibold text-slate-800 dark:text-white flex items-center gap-2",children:[g.jsx(Vz,{className:"w-5 h-5 text-gray-500"}),"Support & Info"]})}),g.jsxs("div",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:[g.jsx("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors cursor-pointer",onClick:re,children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"p-2 rounded-lg bg-cyan-100 dark:bg-cyan-900/30 text-cyan-600 dark:text-cyan-400",children:g.jsx(sR,{className:"w-5 h-5"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"Restart Welcome Tour"}),g.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Show the onboarding guide again"})]})]})}),g.jsx("a",{href:"https://github.com/shahnewajsrabon/Study-Mate/issues/new?title=Bug%3A%20&body=%23%23%20Bug%20Description",target:"_blank",rel:"noopener noreferrer",className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors",children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"p-2 rounded-lg bg-orange-100 dark:bg-orange-900/30 text-orange-600 dark:text-orange-400",children:g.jsx(R7,{className:"w-5 h-5"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"Report a Bug"}),g.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Help us improve by reporting issues"})]})]})}),g.jsx("a",{href:"https://chat.whatsapp.com/K9mUpCp6Moo4poVbW5zgfr",target:"_blank",rel:"noopener noreferrer",className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors",children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"p-2 rounded-lg bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400",children:g.jsx(gl,{className:"w-5 h-5"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"Join WhatsApp Group"}),g.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Get help & discuss with community"})]})]})}),g.jsx("div",{className:"p-4 bg-slate-50 dark:bg-slate-800/50 flex items-center justify-center",children:g.jsx("p",{className:"text-xs text-slate-400 font-medium",children:"TrackEd v1.0.0  Made with  for Students"})})]})]}),t&&g.jsxs(Ae.button,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},onClick:e,className:"w-full p-4 rounded-xl border border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-400 font-medium hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors flex items-center justify-center gap-2",children:[g.jsx(eR,{className:"w-5 h-5"}),"Sign Out"]}),g.jsx(Xn,{children:S&&g.jsx(bB,{onClose:()=>D(!1)})})]})}function Ud({title:t,value:e,icon:n,colorClass:i,bgClass:a,delay:l=0}){return g.jsxs(Ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:l,type:"spring"},className:"bg-white dark:bg-slate-800 rounded-2xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm flex items-center justify-between transition-colors",children:[g.jsxs("div",{children:[g.jsxs("h3",{className:"text-slate-400 dark:text-slate-400 font-medium text-sm flex items-center gap-1.5 mb-2",children:[g.jsx(n,{className:`w-4 h-4 ${i}`})," ",t]}),g.jsx("div",{className:"text-3xl font-bold text-slate-800 dark:text-white transition-colors",children:e})]}),g.jsx("div",{className:`w-12 h-12 ${a} rounded-full flex items-center justify-center transition-colors`,children:g.jsx(n,{className:`w-6 h-6 ${i}`})})]})}function wB(t){let e=0,n=0,i=0,a=0;return t.forEach(l=>{e+=l.chapters.length,l.chapters.forEach(c=>{c.isCompleted&&n++,c.topics&&(i+=c.topics.length,c.topics.forEach(d=>{d.isCompleted&&a++}))})}),{totalChapters:e,completedChapters:n,totalTopics:i,completedTopics:a}}function TB(t){const e=new Date,i=Array.from({length:7},(l,c)=>{const d=new Date;return d.setDate(e.getDate()-(6-c)),d.toISOString().split("T")[0]}).map(l=>{let c=0;return t.forEach(d=>{d.chapters.forEach(f=>{f.topics&&f.topics.forEach(p=>{p.isCompleted&&p.completedAt&&p.completedAt.startsWith(l)&&c++})})}),{date:l,count:c}}),a=Math.max(...i.map(l=>l.count),1);return{activityData:i,maxCount:a}}function EB(t){const e=new Set;t.forEach(d=>d.chapters.forEach(f=>f.topics?.forEach(p=>{p.isCompleted&&p.completedAt&&e.add(p.completedAt.split("T")[0])})));const n=Array.from(e).sort((d,f)=>new Date(f).getTime()-new Date(d).getTime());let i=0;const a=new Date().toISOString().split("T")[0],l=new Date;l.setDate(l.getDate()-1);const c=l.toISOString().split("T")[0];if(n.length>0){const d=n[0];if(d===a||d===c){i=1;let f=new Date(d);for(let p=1;p<n.length;p++){const v=new Date(n[p]),b=Math.abs(f.getTime()-v.getTime());if(Math.round(b/(1e3*60*60*24))===1)i++,f=v;else break}}}return i}function SB(){const{subjects:t}=xn(),{totalChapters:e,completedChapters:n,totalTopics:i,completedTopics:a}=wB(t),{activityData:l,maxCount:c}=TB(t),d=EB(t),f=i>0?Math.round(a/i*100):0,p={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}};return g.jsxs(xm,{className:"max-w-4xl mx-auto pb-12",children:[g.jsxs("h1",{className:"text-3xl font-bold text-slate-800 dark:text-white mb-8 flex items-center gap-3 transition-colors",children:[g.jsx(hy,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"}),"Study Analytics"]}),g.jsxs(Ae.div,{variants:p,initial:"hidden",animate:"show",className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[g.jsx("div",{className:"sm:col-span-1",children:g.jsx(Ud,{title:"Total Streak",value:`${d} days`,icon:Kk,colorClass:"text-orange-500",bgClass:"bg-orange-50 dark:bg-orange-900/20",delay:.1})}),g.jsx("div",{className:"sm:col-span-1",children:g.jsx(Ud,{title:"Topics Done",value:`${a} / ${i}`,icon:gs,colorClass:"text-blue-500",bgClass:"bg-blue-50 dark:bg-blue-900/20",delay:.2})}),g.jsx("div",{className:"sm:col-span-1",children:g.jsx(Ud,{title:"Chapters Done",value:`${n} / ${e}`,icon:Sl,colorClass:"text-amber-500",bgClass:"bg-amber-50 dark:bg-amber-900/20",delay:.3})}),g.jsx("div",{className:"sm:col-span-1",children:g.jsx(Ud,{title:"Completion",value:`${f}%`,icon:Ll,colorClass:"text-emerald-500",bgClass:"bg-emerald-50 dark:bg-emerald-900/20",delay:.4})})]}),g.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[g.jsxs(Ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"md:col-span-2 bg-white dark:bg-slate-800 p-6 rounded-3xl border border-slate-100 dark:border-slate-700 shadow-sm transition-colors",children:[g.jsxs("h2",{className:"text-lg font-bold text-slate-800 dark:text-white mb-6 flex items-center gap-2 transition-colors",children:[g.jsx(I7,{className:"w-5 h-5 text-slate-400"}),"Last 7 Days Activity"]}),g.jsx("div",{className:"flex items-end justify-between gap-2 h-48",children:l.map((v,b)=>g.jsxs("div",{className:"flex-1 flex flex-col items-center gap-2 group",children:[g.jsx("div",{className:"w-full bg-slate-100 dark:bg-slate-700 rounded-t-lg relative h-full flex items-end overflow-hidden transition-colors",children:g.jsx(Ae.div,{initial:{height:0},animate:{height:`${v.count/c*100}%`},transition:{duration:1,delay:b*.1,ease:"easeOut"},className:"w-full bg-blue-500 dark:bg-blue-600 rounded-t-lg transition-colors duration-300 group-hover:bg-blue-600 dark:group-hover:bg-blue-500 relative",children:g.jsxs("div",{className:"absolute -top-8 left-1/2 -translate-x-1/2 bg-slate-800 text-white text-xs py-1 px-2 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10",children:[v.count," Topics"]})})}),g.jsx("span",{className:"text-xs text-slate-400 dark:text-slate-500 font-medium transition-colors",children:new Date(v.date).toLocaleDateString("en-US",{weekday:"short"})})]},v.date))})]}),g.jsxs(Ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white dark:bg-slate-800 p-6 rounded-3xl border border-slate-100 dark:border-slate-700 shadow-sm transition-colors",children:[g.jsxs("h2",{className:"text-lg font-bold text-slate-800 dark:text-white mb-6 flex items-center gap-2 transition-colors",children:[g.jsx(gs,{className:"w-5 h-5 text-slate-400"}),"Subject Progress"]}),g.jsxs("div",{className:"space-y-4 max-h-[300px] overflow-y-auto pr-2 custom-scrollbar",children:[t.map(v=>{const b=v.chapters.reduce((D,O)=>D+(O.topics?.length||0),0),w=v.chapters.reduce((D,O)=>D+(O.topics?.filter(V=>V.isCompleted).length||0),0),S=b>0?Math.round(w/b*100):0;return g.jsxs("div",{children:[g.jsxs("div",{className:"flex justify-between items-center mb-1",children:[g.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 transition-colors",children:v.name}),g.jsxs("span",{className:"text-xs text-slate-400 dark:text-slate-500 transition-colors",children:[S,"%"]})]}),g.jsx("div",{className:"h-2 bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden transition-colors",children:g.jsx(Ae.div,{initial:{width:0},animate:{width:`${S}%`},transition:{duration:1,ease:"easeOut"},className:`h-full ${v.color}`})})]},v.id)}),t.length===0&&g.jsx("div",{className:"text-center text-slate-400 text-sm py-8",children:"No subjects added."})]})]})]})]})}function AB(){const{saveStudySession:t,subjects:e}=xn(),{user:n}=co(),{playSound:i,isMuted:a,toggleMute:l}=ob(),[c,d]=R.useState("stopwatch"),[f,p]=R.useState(!1),[v,b]=R.useState(0),[w,S]=R.useState(0),[D,O]=R.useState(30),[V,z]=R.useState("timer"),[F,G]=R.useState("today"),[te,re]=R.useState(""),[he,j]=R.useState(""),[E,C]=R.useState(""),[M,N]=R.useState(!1),[P,I]=R.useState([]),[xe,Ee]=R.useState(!0),H=R.useRef(null);R.useEffect(()=>{Notification.permission==="default"&&Notification.requestPermission()},[]);const Z=(le,Ne)=>{Notification.permission==="granted"&&new Notification(le,{body:Ne,icon:"/vite.svg"})};R.useEffect(()=>(f?H.current=window.setInterval(()=>{b(le=>c==="stopwatch"?le+1:le<=1?(p(!1),i("complete"),Z("Time's Up! ","Your study session is complete. Take a break!"),0):le-1)},1e3):H.current&&clearInterval(H.current),()=>{H.current&&clearInterval(H.current)}),[f,c,i]),R.useEffect(()=>{if(p(!1),N(!1),c==="stopwatch")b(0),S(0);else if(c==="pomodoro"||c==="countdown"){const le=D*60;b(le),S(le)}},[c,D]),R.useEffect(()=>{(async()=>{if(n){Ee(!0);try{const Ne=Of($i,"users");let Me="userProfile.todayStudyTime";F==="week"?Me="userProfile.weeklyStudyTime":F==="month"?Me="userProfile.monthlyStudyTime":F==="all_time"&&(Me="userProfile.totalStudyTime");const xt=bk(Ne,xk(Me,"desc"),_k(10)),Cn=await HU(xt),kn=[];Cn.forEach(_i=>{const tn=_i.data();if(tn.userProfile){let vs=0;F==="today"?vs=tn.userProfile.todayStudyTime||0:F==="week"?vs=tn.userProfile.weeklyStudyTime||0:F==="month"?vs=tn.userProfile.monthlyStudyTime||0:vs=tn.userProfile.totalStudyTime||0,kn.push({userId:_i.id,userName:tn.userProfile.name||"Anonymous",displayTime:vs})}}),I(kn)}catch(Ne){console.error("Error fetching leaderboard:",Ne)}finally{Ee(!1)}}})()},[n,V,F]),R.useEffect(()=>(f?document.title=`${U(v)} - ${E||(c==="pomodoro"?"Focus":"Timer")}`:document.title="Study Tracker",()=>{document.title="Study Tracker"}),[f,v,c,E]);const $=()=>{!f&&c!=="stopwatch"&&v===0&&b(w),p(!f),i("click")},me=()=>{p(!1),N(!1),b(c==="stopwatch"?0:w),i("click")},_e=async()=>{if(!he){alert("Please select a subject to save session.");return}let le=0;if(c==="stopwatch"?le=v:le=w-v,le<60){alert("Session must be at least 1 minute to save.");return}await t(le,he,E),N(!0),i("success")},U=le=>{const Ne=Math.floor(le/3600),Me=Math.floor(le%3600/60),xt=le%60;return Ne>0?`${Ne}:${Me.toString().padStart(2,"0")}:${xt.toString().padStart(2,"0")}`:`${Me.toString().padStart(2,"0")}:${xt.toString().padStart(2,"0")}`},ee=le=>{const Ne=Math.floor(le/3600),Me=Math.floor(le%3600/60),xt=le%60;return`${Ne.toString().padStart(2,"0")}:${Me.toString().padStart(2,"0")}:${xt.toString().padStart(2,"0")}`},ce=c==="stopwatch"?100:Math.max(0,v/w*100),ue=120,Se=2*Math.PI*ue,De=Se-ce/100*Se;return g.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[g.jsxs("header",{className:"flex items-center justify-between",children:[g.jsx("div",{children:g.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-slate-900 dark:text-white transition-colors",children:"Focus Timer"})}),g.jsx("button",{onClick:l,className:"p-2 text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 transition-colors",children:a?g.jsx(rR,{className:"w-6 h-6"}):g.jsx(iR,{className:"w-6 h-6"})})]}),g.jsxs("div",{className:"flex p-1 bg-slate-100 dark:bg-slate-800 rounded-xl mb-6 md:hidden",children:[g.jsx("button",{onClick:()=>z("timer"),className:`flex-1 py-2 text-sm font-medium rounded-lg transition-all ${V==="timer"?"bg-white dark:bg-slate-700 text-blue-600 dark:text-blue-400 shadow-sm":"text-slate-500 dark:text-slate-400"}`,children:"Timer"}),g.jsx("button",{onClick:()=>z("leaderboard"),className:`flex-1 py-2 text-sm font-medium rounded-lg transition-all ${V==="leaderboard"?"bg-white dark:bg-slate-700 text-blue-600 dark:text-blue-400 shadow-sm":"text-slate-500 dark:text-slate-400"}`,children:"Leaderboard"})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[g.jsxs("div",{className:`${V==="timer"?"block":"hidden"} md:block flex flex-col space-y-6`,children:[g.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 transition-colors",children:[g.jsx("label",{className:"block text-sm font-medium text-slate-500 mb-2",children:"My Focus Goal"}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("input",{type:"text",placeholder:"What are you working on? (e.g. Physics Chapter 3)",className:"flex-1 bg-slate-50 dark:bg-slate-700 border-none rounded-xl px-4 py-3 text-slate-800 dark:text-white placeholder:text-slate-400 focus:ring-2 focus:ring-blue-500 transition-all font-medium",value:E,onChange:le=>C(le.target.value),disabled:f}),g.jsxs("select",{className:"w-1/3 bg-slate-50 dark:bg-slate-700 border-none rounded-xl px-3 py-3 text-slate-600 dark:text-slate-300 font-medium focus:ring-2 focus:ring-blue-500 cursor-pointer text-sm",value:he,onChange:le=>j(le.target.value),disabled:f,children:[g.jsx("option",{value:"",children:"Subject"}),e.map(le=>g.jsx("option",{value:le.id,children:le.name},le.id))]})]})]}),g.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl p-8 shadow-sm border border-slate-100 dark:border-slate-700 flex flex-col items-center justify-center relative overflow-hidden transition-colors min-h-[400px]",children:[g.jsxs("div",{className:"relative w-64 h-64 md:w-72 md:h-72 mb-8 flex items-center justify-center",children:[g.jsxs("svg",{className:"w-full h-full transform -rotate-90",children:[g.jsx("circle",{cx:"50%",cy:"50%",r:ue,stroke:"currentColor",strokeWidth:"12",fill:"transparent",className:"text-slate-100 dark:text-slate-700"}),g.jsx("circle",{cx:"50%",cy:"50%",r:ue,stroke:"currentColor",strokeWidth:"12",fill:"transparent",strokeDasharray:Se,strokeDashoffset:c==="stopwatch"?0:De,strokeLinecap:"round",className:`transition-all duration-1000 ease-linear ${f?c==="pomodoro"?"text-rose-500":"text-blue-500":"text-slate-300 dark:text-slate-600"}`})]}),g.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center z-10",children:[g.jsx("div",{className:`text-5xl md:text-6xl font-bold tracking-tight tabular-nums mb-2 ${f?c==="pomodoro"?"text-rose-500":"text-blue-600":"text-slate-800 dark:text-white"}`,children:U(v)}),g.jsx("div",{className:"text-slate-400 dark:text-slate-500 font-medium uppercase tracking-widest text-sm",children:f?"Running":"Paused"})]})]}),g.jsxs("div",{className:"flex items-center gap-6 z-10",children:[!f&&g.jsx("button",{onClick:me,className:"p-3 rounded-full bg-slate-100 dark:bg-slate-700 text-slate-500 hover:bg-slate-200 dark:hover:bg-slate-600 transition-all hover:scale-110",title:"Reset",children:g.jsx(sR,{className:"w-5 h-5"})}),g.jsx("button",{onClick:$,className:`p-6 rounded-full shadow-xl transition-all hover:scale-105 active:scale-95 ${f?"bg-amber-100 text-amber-600 hover:bg-amber-200":"bg-blue-600 text-white hover:bg-blue-700"}`,children:f?g.jsx(gz,{className:"w-8 h-8 fill-current"}):g.jsx(nR,{className:"w-8 h-8 ml-1 fill-current"})}),!f&&(c==="stopwatch"&&v>60||c!=="stopwatch"&&v!==w)&&!M&&g.jsx("button",{onClick:_e,className:"p-3 rounded-full bg-emerald-100 text-emerald-600 hover:bg-emerald-200 transition-all hover:scale-110 animate-pulse",title:"Save Session",children:g.jsx(Uf,{className:"w-5 h-5"})})]}),g.jsxs("div",{className:"mt-8 flex gap-2",children:[g.jsx("button",{onClick:()=>{d("stopwatch"),O(0)},className:`px-4 py-2 text-sm font-medium rounded-full transition-all ${c==="stopwatch"?"bg-blue-100 text-blue-700":"text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:"Stopwatch"}),g.jsx("button",{onClick:()=>{d("pomodoro"),O(25)},className:`px-4 py-2 text-sm font-medium rounded-full transition-all ${c==="pomodoro"?"bg-rose-100 text-rose-700":"text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:"Pomodoro"}),g.jsx("button",{onClick:()=>{d("countdown"),O(30)},className:`px-4 py-2 text-sm font-medium rounded-full transition-all ${c==="countdown"?"bg-amber-100 text-amber-700":"text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:"Countdown"})]}),!f&&(c==="pomodoro"||c==="countdown")&&g.jsxs("div",{className:"mt-4 flex items-center gap-2 animate-in fade-in slide-in-from-bottom-2",children:[g.jsx("span",{className:"text-slate-400 text-sm",children:"Duration:"}),g.jsx("input",{type:"range",min:"5",max:"120",step:"5",value:D,onChange:le=>O(Number(le.target.value)),className:"w-32 accent-blue-600 cursor-pointer"}),g.jsxs("span",{className:"text-slate-700 dark:text-slate-300 font-bold w-12 text-center",children:[D,"m"]})]})]})]}),g.jsxs("div",{className:`${V==="leaderboard"?"block":"hidden"} md:block bg-white dark:bg-slate-800 rounded-3xl p-6 shadow-xl border border-slate-100 dark:border-slate-700 h-fit transition-colors sticky top-24`,children:[g.jsxs("div",{className:"flex flex-col gap-4 mb-6",children:[g.jsx("div",{className:"flex items-center justify-between",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(Sl,{className:"w-6 h-6 text-yellow-500"}),g.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Leaderboard"})]})}),g.jsxs("div",{className:"relative",children:[g.jsx("input",{type:"text",placeholder:"Search name...",value:te,onChange:le=>re(le.target.value),className:"w-full pl-10 pr-4 py-3 bg-slate-50 dark:bg-slate-700/50 border border-slate-200 dark:border-slate-600 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500/50 text-slate-800 dark:text-white placeholder:text-slate-400 transition-all font-medium"}),g.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:g.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})})})]}),g.jsx("div",{className:"flex p-1.5 bg-slate-100 dark:bg-slate-700/50 rounded-xl",children:["today","week","month","all_time"].map(le=>g.jsx("button",{onClick:()=>G(le),className:`flex-1 py-2 text-xs font-bold rounded-lg transition-all capitalize ${F===le?"bg-blue-600 text-white shadow-md":"text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-200 hover:bg-white/50 dark:hover:bg-white/5"}`,children:le==="all_time"?"Lifetime":le==="today"?"24 Hours":le==="week"?"7 Days":"1 Month"},le))})]}),xe?g.jsxs("div",{className:"text-center py-12 text-slate-400 flex flex-col items-center",children:[g.jsx("div",{className:"w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mb-3"}),g.jsx("p",{className:"text-sm font-medium",children:"Loading rankings..."})]}):g.jsxs("div",{className:"space-y-3",children:[P.filter(le=>le.userName.toLowerCase().includes(te.toLowerCase())).map((le,Ne)=>g.jsxs("div",{className:`flex items-center justify-between p-3 rounded-2xl transition-all ${le.userId===n?.uid?"bg-blue-50/50 dark:bg-blue-900/20 border border-blue-100 dark:border-blue-800":"hover:bg-slate-50 dark:hover:bg-slate-700/30 border border-transparent"}`,children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsxs("div",{className:"font-bold text-slate-400 w-6 text-center text-sm",children:[Ne+1,"."]}),g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:`
                                                w-10 h-10 rounded-full flex items-center justify-center font-bold text-lg shadow-sm border-2
                                                ${Ne===0?"bg-yellow-100 text-yellow-600 border-yellow-200":Ne===1?"bg-slate-200 text-slate-600 border-slate-300":Ne===2?"bg-orange-100 text-orange-600 border-orange-200":"bg-slate-100 dark:bg-slate-700 text-slate-500 dark:text-slate-400 border-white dark:border-slate-600"}
                                            `,children:le.userName.charAt(0).toUpperCase()}),g.jsxs("div",{children:[g.jsx("p",{className:`font-bold text-sm ${le.userId===n?.uid?"text-blue-700 dark:text-blue-400":"text-slate-800 dark:text-white"}`,children:le.userName}),g.jsxs("div",{className:"flex items-center gap-1.5 mt-0.5",children:[g.jsx("span",{className:`w-2 h-2 rounded-full ${le.displayTime>3600?"bg-emerald-400":"bg-slate-300 dark:bg-slate-600"}`}),g.jsx("span",{className:"text-xs text-slate-400 font-medium",children:le.displayTime>3600?"Studying":"Offline"})]})]})]})]}),g.jsx("div",{className:"text-right",children:g.jsx("div",{className:"font-bold text-blue-600 dark:text-blue-400 text-base md:text-lg tabular-nums tracking-tight",children:ee(le.displayTime)})})]},le.userId)),P.length===0&&g.jsxs("div",{className:"text-center py-10 px-6 text-slate-500 bg-slate-50 dark:bg-slate-700/30 rounded-2xl border border-dashed border-slate-200 dark:border-slate-700",children:[g.jsx("p",{className:"text-sm",children:"No records found for this period."}),g.jsx("p",{className:"text-xs mt-1 text-slate-400",children:"Be the first to start studying!"})]})]})]})]}),g.jsx(Xn,{children:M&&g.jsxs(Ae.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"fixed bottom-20 left-1/2 -translate-x-1/2 md:bottom-8 bg-slate-900 text-white px-6 py-3 rounded-full shadow-lg flex items-center gap-3 z-50",children:[g.jsx("div",{className:"bg-emerald-500 rounded-full p-1",children:g.jsx(Ll,{className:"w-4 h-4 text-white"})}),g.jsx("span",{className:"font-medium",children:"Session Saved! Great Job."})]})})]})}const CB={start_strong:"",streak_master:"",subject_conqueror:"",night_owl:""},kB={start_strong:"Fast Starter",streak_master:"Streak Master",subject_conqueror:"Subject Conqueror",night_owl:"Night Owl"};function RB({uid:t,isOpen:e,onClose:n}){const[i,a]=R.useState(null),[l,c]=R.useState(!1);return R.useEffect(()=>{e&&t?(async()=>{c(!0);try{const f=El($i,"users",t),p=await FU(f);p.exists()?a(p.data().userProfile):a(null)}catch(f){console.error("Error fetching user profile:",f)}finally{c(!1)}})():a(null)},[e,t]),g.jsx(Xn,{children:e&&g.jsx(g.Fragment,{children:g.jsx(Ae.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:n,className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:g.jsxs(Ae.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:d=>d.stopPropagation(),className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl w-full max-w-md overflow-hidden border border-slate-200 dark:border-slate-700",children:[g.jsxs("div",{className:"relative h-24 bg-gradient-to-r from-indigo-500 to-purple-600",children:[g.jsx("button",{onClick:n,className:"absolute top-4 right-4 p-1 bg-white/20 hover:bg-white/30 rounded-full text-white transition-colors",children:g.jsx(bi,{className:"w-5 h-5"})}),g.jsx("div",{className:"absolute -bottom-10 left-6",children:g.jsx("div",{className:"w-20 h-20 rounded-full bg-white dark:bg-slate-800 p-1 shadow-lg",children:g.jsx("div",{className:"w-full h-full rounded-full bg-indigo-100 dark:bg-indigo-900 flex items-center justify-center text-2xl font-bold text-indigo-600 dark:text-indigo-300",children:i?.name?.charAt(0).toUpperCase()||"?"})})})]}),g.jsx("div",{className:"pt-12 pb-6 px-6",children:l?g.jsx("div",{className:"flex justify-center py-8",children:g.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})}):i?g.jsxs("div",{className:"space-y-6",children:[g.jsx("div",{children:g.jsxs("h2",{className:"text-xl font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[i.name,g.jsx("span",{className:"text-xs font-normal px-2 py-0.5 bg-slate-100 dark:bg-slate-700 text-slate-500 rounded-full",children:i.grade})]})}),g.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[g.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/20 p-3 rounded-xl border border-orange-100 dark:border-orange-800/50",children:[g.jsxs("div",{className:"flex items-center gap-2 text-orange-600 dark:text-orange-400 mb-1",children:[g.jsx(Jk,{className:"w-4 h-4"}),g.jsx("span",{className:"text-xs font-bold uppercase",children:"Streak"})]}),g.jsxs("p",{className:"text-lg font-bold text-slate-800 dark:text-slate-100",children:[i.currentStreak," Days"]})]}),g.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-3 rounded-xl border border-blue-100 dark:border-blue-800/50",children:[g.jsxs("div",{className:"flex items-center gap-2 text-blue-600 dark:text-blue-400 mb-1",children:[g.jsx(G7,{className:"w-4 h-4"}),g.jsx("span",{className:"text-xs font-bold uppercase",children:"Total Study"})]}),g.jsxs("p",{className:"text-lg font-bold text-slate-800 dark:text-slate-100",children:[Math.floor(i.totalStudyTime/3600),"h ",Math.floor(i.totalStudyTime%3600/60),"m"]})]})]}),g.jsxs("div",{children:[g.jsxs("h3",{className:"text-sm font-bold text-slate-500 dark:text-slate-400 uppercase mb-3 flex items-center gap-2",children:[g.jsx(Sl,{className:"w-4 h-4"}),"Badges Earned (",i.earnedBadges?.length||0,")"]}),i.earnedBadges&&i.earnedBadges.length>0?g.jsx("div",{className:"grid grid-cols-4 gap-2",children:i.earnedBadges.map((d,f)=>g.jsx("div",{className:"flex flex-col items-center gap-1 p-2 bg-slate-50 dark:bg-slate-800/50 rounded-lg border border-slate-100 dark:border-slate-700",title:kB[d.type],children:g.jsx("span",{className:"text-2xl",children:CB[d.type]})},f))}):g.jsx("p",{className:"text-sm text-slate-400 italic",children:"No badges earned yet."})]})]}):g.jsx("div",{className:"text-center text-slate-500",children:"User profile not found."})})]})})})})}const NB=t=>t?t.split(/(`[^`]+`|\*\*[^*]+\*\*|\*[^*]+\*|https?:\/\/[^\s]+)/g).map((n,i)=>n.startsWith("`")&&n.endsWith("`")&&n.length>2?g.jsx("code",{className:"bg-slate-200 dark:bg-slate-700 px-1.5 py-0.5 rounded text-sm font-mono text-slate-800 dark:text-slate-200",children:n.slice(1,-1)},i):n.startsWith("**")&&n.endsWith("**")&&n.length>4?g.jsx("strong",{className:"font-bold",children:n.slice(2,-2)},i):n.startsWith("*")&&n.endsWith("*")&&n.length>2?g.jsx("em",{className:"italic",children:n.slice(1,-1)},i):n.match(/^https?:\/\//)?g.jsx("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 dark:text-blue-400 hover:underline break-all",onClick:a=>a.stopPropagation(),children:n},i):n):[];function uR(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=uR(t[e]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}function IB(){for(var t,e,n=0,i="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=uR(t))&&(i&&(i+=" "),i+=e);return i}const DB=(t,e)=>{const n=new Array(t.length+e.length);for(let i=0;i<t.length;i++)n[i]=t[i];for(let i=0;i<e.length;i++)n[t.length+i]=e[i];return n},jB=(t,e)=>({classGroupId:t,validator:e}),hR=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),zf="-",YE=[],MB="arbitrary..",VB=t=>{const e=PB(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:i}=t;return{getClassGroupId:c=>{if(c.startsWith("[")&&c.endsWith("]"))return OB(c);const d=c.split(zf),f=d[0]===""&&d.length>1?1:0;return dR(d,f,e)},getConflictingClassGroupIds:(c,d)=>{if(d){const f=i[c],p=n[c];return f?p?DB(p,f):f:p||YE}return n[c]||YE}}},dR=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const a=t[e],l=n.nextPart.get(a);if(l){const p=dR(t,e+1,l);if(p)return p}const c=n.validators;if(c===null)return;const d=e===0?t.join(zf):t.slice(e).join(zf),f=c.length;for(let p=0;p<f;p++){const v=c[p];if(v.validator(d))return v.classGroupId}},OB=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),i=e.slice(0,n);return i?MB+i:void 0})(),PB=t=>{const{theme:e,classGroups:n}=t;return LB(n,e)},LB=(t,e)=>{const n=hR();for(const i in t){const a=t[i];lb(a,n,i,e)}return n},lb=(t,e,n,i)=>{const a=t.length;for(let l=0;l<a;l++){const c=t[l];UB(c,e,n,i)}},UB=(t,e,n,i)=>{if(typeof t=="string"){zB(t,e,n);return}if(typeof t=="function"){BB(t,e,n,i);return}FB(t,e,n,i)},zB=(t,e,n)=>{const i=t===""?e:fR(e,t);i.classGroupId=n},BB=(t,e,n,i)=>{if(HB(t)){lb(t(i),e,n,i);return}e.validators===null&&(e.validators=[]),e.validators.push(jB(n,t))},FB=(t,e,n,i)=>{const a=Object.entries(t),l=a.length;for(let c=0;c<l;c++){const[d,f]=a[c];lb(f,fR(e,d),n,i)}},fR=(t,e)=>{let n=t;const i=e.split(zf),a=i.length;for(let l=0;l<a;l++){const c=i[l];let d=n.nextPart.get(c);d||(d=hR(),n.nextPart.set(c,d)),n=d}return n},HB=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,qB=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),i=Object.create(null);const a=(l,c)=>{n[l]=c,e++,e>t&&(e=0,i=n,n=Object.create(null))};return{get(l){let c=n[l];if(c!==void 0)return c;if((c=i[l])!==void 0)return a(l,c),c},set(l,c){l in n?n[l]=c:a(l,c)}}},dy="!",QE=":",GB=[],XE=(t,e,n,i,a)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:i,isExternal:a}),$B=t=>{const{prefix:e,experimentalParseClassName:n}=t;let i=a=>{const l=[];let c=0,d=0,f=0,p;const v=a.length;for(let O=0;O<v;O++){const V=a[O];if(c===0&&d===0){if(V===QE){l.push(a.slice(f,O)),f=O+1;continue}if(V==="/"){p=O;continue}}V==="["?c++:V==="]"?c--:V==="("?d++:V===")"&&d--}const b=l.length===0?a:a.slice(f);let w=b,S=!1;b.endsWith(dy)?(w=b.slice(0,-1),S=!0):b.startsWith(dy)&&(w=b.slice(1),S=!0);const D=p&&p>f?p-f:void 0;return XE(l,S,w,D)};if(e){const a=e+QE,l=i;i=c=>c.startsWith(a)?l(c.slice(a.length)):XE(GB,!1,c,void 0,!0)}if(n){const a=i;i=l=>n({className:l,parseClassName:a})}return i},KB=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,i)=>{e.set(n,1e6+i)}),n=>{const i=[];let a=[];for(let l=0;l<n.length;l++){const c=n[l],d=c[0]==="[",f=e.has(c);d||f?(a.length>0&&(a.sort(),i.push(...a),a=[]),i.push(c)):a.push(c)}return a.length>0&&(a.sort(),i.push(...a)),i}},YB=t=>({cache:qB(t.cacheSize),parseClassName:$B(t),sortModifiers:KB(t),...VB(t)}),QB=/\s+/,XB=(t,e)=>{const{parseClassName:n,getClassGroupId:i,getConflictingClassGroupIds:a,sortModifiers:l}=e,c=[],d=t.trim().split(QB);let f="";for(let p=d.length-1;p>=0;p-=1){const v=d[p],{isExternal:b,modifiers:w,hasImportantModifier:S,baseClassName:D,maybePostfixModifierPosition:O}=n(v);if(b){f=v+(f.length>0?" "+f:f);continue}let V=!!O,z=i(V?D.substring(0,O):D);if(!z){if(!V){f=v+(f.length>0?" "+f:f);continue}if(z=i(D),!z){f=v+(f.length>0?" "+f:f);continue}V=!1}const F=w.length===0?"":w.length===1?w[0]:l(w).join(":"),G=S?F+dy:F,te=G+z;if(c.indexOf(te)>-1)continue;c.push(te);const re=a(z,V);for(let he=0;he<re.length;++he){const j=re[he];c.push(G+j)}f=v+(f.length>0?" "+f:f)}return f},WB=(...t)=>{let e=0,n,i,a="";for(;e<t.length;)(n=t[e++])&&(i=mR(n))&&(a&&(a+=" "),a+=i);return a},mR=t=>{if(typeof t=="string")return t;let e,n="";for(let i=0;i<t.length;i++)t[i]&&(e=mR(t[i]))&&(n&&(n+=" "),n+=e);return n},JB=(t,...e)=>{let n,i,a,l;const c=f=>{const p=e.reduce((v,b)=>b(v),t());return n=YB(p),i=n.cache.get,a=n.cache.set,l=d,d(f)},d=f=>{const p=i(f);if(p)return p;const v=XB(f,n);return a(f,v),v};return l=c,(...f)=>l(WB(...f))},ZB=[],Yt=t=>{const e=n=>n[t]||ZB;return e.isThemeGetter=!0,e},pR=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,gR=/^\((?:(\w[\w-]*):)?(.+)\)$/i,eF=/^\d+\/\d+$/,tF=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,nF=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,sF=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,iF=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,rF=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Jo=t=>eF.test(t),Be=t=>!!t&&!Number.isNaN(Number(t)),Lr=t=>!!t&&Number.isInteger(Number(t)),u0=t=>t.endsWith("%")&&Be(t.slice(0,-1)),Bi=t=>tF.test(t),aF=()=>!0,oF=t=>nF.test(t)&&!sF.test(t),yR=()=>!1,lF=t=>iF.test(t),cF=t=>rF.test(t),uF=t=>!ye(t)&&!ve(t),hF=t=>Ul(t,xR,yR),ye=t=>pR.test(t),za=t=>Ul(t,_R,oF),h0=t=>Ul(t,gF,Be),WE=t=>Ul(t,vR,yR),dF=t=>Ul(t,bR,cF),zd=t=>Ul(t,wR,lF),ve=t=>gR.test(t),Xc=t=>zl(t,_R),fF=t=>zl(t,yF),JE=t=>zl(t,vR),mF=t=>zl(t,xR),pF=t=>zl(t,bR),Bd=t=>zl(t,wR,!0),Ul=(t,e,n)=>{const i=pR.exec(t);return i?i[1]?e(i[1]):n(i[2]):!1},zl=(t,e,n=!1)=>{const i=gR.exec(t);return i?i[1]?e(i[1]):n:!1},vR=t=>t==="position"||t==="percentage",bR=t=>t==="image"||t==="url",xR=t=>t==="length"||t==="size"||t==="bg-size",_R=t=>t==="length",gF=t=>t==="number",yF=t=>t==="family-name",wR=t=>t==="shadow",vF=()=>{const t=Yt("color"),e=Yt("font"),n=Yt("text"),i=Yt("font-weight"),a=Yt("tracking"),l=Yt("leading"),c=Yt("breakpoint"),d=Yt("container"),f=Yt("spacing"),p=Yt("radius"),v=Yt("shadow"),b=Yt("inset-shadow"),w=Yt("text-shadow"),S=Yt("drop-shadow"),D=Yt("blur"),O=Yt("perspective"),V=Yt("aspect"),z=Yt("ease"),F=Yt("animate"),G=()=>["auto","avoid","all","avoid-page","page","left","right","column"],te=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],re=()=>[...te(),ve,ye],he=()=>["auto","hidden","clip","visible","scroll"],j=()=>["auto","contain","none"],E=()=>[ve,ye,f],C=()=>[Jo,"full","auto",...E()],M=()=>[Lr,"none","subgrid",ve,ye],N=()=>["auto",{span:["full",Lr,ve,ye]},Lr,ve,ye],P=()=>[Lr,"auto",ve,ye],I=()=>["auto","min","max","fr",ve,ye],xe=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Ee=()=>["start","end","center","stretch","center-safe","end-safe"],H=()=>["auto",...E()],Z=()=>[Jo,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...E()],$=()=>[t,ve,ye],me=()=>[...te(),JE,WE,{position:[ve,ye]}],_e=()=>["no-repeat",{repeat:["","x","y","space","round"]}],U=()=>["auto","cover","contain",mF,hF,{size:[ve,ye]}],ee=()=>[u0,Xc,za],ce=()=>["","none","full",p,ve,ye],ue=()=>["",Be,Xc,za],Se=()=>["solid","dashed","dotted","double"],De=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],le=()=>[Be,u0,JE,WE],Ne=()=>["","none",D,ve,ye],Me=()=>["none",Be,ve,ye],xt=()=>["none",Be,ve,ye],Cn=()=>[Be,ve,ye],kn=()=>[Jo,"full",...E()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Bi],breakpoint:[Bi],color:[aF],container:[Bi],"drop-shadow":[Bi],ease:["in","out","in-out"],font:[uF],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Bi],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Bi],shadow:[Bi],spacing:["px",Be],text:[Bi],"text-shadow":[Bi],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Jo,ye,ve,V]}],container:["container"],columns:[{columns:[Be,ye,ve,d]}],"break-after":[{"break-after":G()}],"break-before":[{"break-before":G()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:re()}],overflow:[{overflow:he()}],"overflow-x":[{"overflow-x":he()}],"overflow-y":[{"overflow-y":he()}],overscroll:[{overscroll:j()}],"overscroll-x":[{"overscroll-x":j()}],"overscroll-y":[{"overscroll-y":j()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:C()}],"inset-x":[{"inset-x":C()}],"inset-y":[{"inset-y":C()}],start:[{start:C()}],end:[{end:C()}],top:[{top:C()}],right:[{right:C()}],bottom:[{bottom:C()}],left:[{left:C()}],visibility:["visible","invisible","collapse"],z:[{z:[Lr,"auto",ve,ye]}],basis:[{basis:[Jo,"full","auto",d,...E()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Be,Jo,"auto","initial","none",ye]}],grow:[{grow:["",Be,ve,ye]}],shrink:[{shrink:["",Be,ve,ye]}],order:[{order:[Lr,"first","last","none",ve,ye]}],"grid-cols":[{"grid-cols":M()}],"col-start-end":[{col:N()}],"col-start":[{"col-start":P()}],"col-end":[{"col-end":P()}],"grid-rows":[{"grid-rows":M()}],"row-start-end":[{row:N()}],"row-start":[{"row-start":P()}],"row-end":[{"row-end":P()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":I()}],"auto-rows":[{"auto-rows":I()}],gap:[{gap:E()}],"gap-x":[{"gap-x":E()}],"gap-y":[{"gap-y":E()}],"justify-content":[{justify:[...xe(),"normal"]}],"justify-items":[{"justify-items":[...Ee(),"normal"]}],"justify-self":[{"justify-self":["auto",...Ee()]}],"align-content":[{content:["normal",...xe()]}],"align-items":[{items:[...Ee(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Ee(),{baseline:["","last"]}]}],"place-content":[{"place-content":xe()}],"place-items":[{"place-items":[...Ee(),"baseline"]}],"place-self":[{"place-self":["auto",...Ee()]}],p:[{p:E()}],px:[{px:E()}],py:[{py:E()}],ps:[{ps:E()}],pe:[{pe:E()}],pt:[{pt:E()}],pr:[{pr:E()}],pb:[{pb:E()}],pl:[{pl:E()}],m:[{m:H()}],mx:[{mx:H()}],my:[{my:H()}],ms:[{ms:H()}],me:[{me:H()}],mt:[{mt:H()}],mr:[{mr:H()}],mb:[{mb:H()}],ml:[{ml:H()}],"space-x":[{"space-x":E()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":E()}],"space-y-reverse":["space-y-reverse"],size:[{size:Z()}],w:[{w:[d,"screen",...Z()]}],"min-w":[{"min-w":[d,"screen","none",...Z()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[c]},...Z()]}],h:[{h:["screen","lh",...Z()]}],"min-h":[{"min-h":["screen","lh","none",...Z()]}],"max-h":[{"max-h":["screen","lh",...Z()]}],"font-size":[{text:["base",n,Xc,za]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,ve,h0]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",u0,ye]}],"font-family":[{font:[fF,ye,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,ve,ye]}],"line-clamp":[{"line-clamp":[Be,"none",ve,h0]}],leading:[{leading:[l,...E()]}],"list-image":[{"list-image":["none",ve,ye]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ve,ye]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:$()}],"text-color":[{text:$()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Se(),"wavy"]}],"text-decoration-thickness":[{decoration:[Be,"from-font","auto",ve,za]}],"text-decoration-color":[{decoration:$()}],"underline-offset":[{"underline-offset":[Be,"auto",ve,ye]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:E()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ve,ye]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ve,ye]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:me()}],"bg-repeat":[{bg:_e()}],"bg-size":[{bg:U()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Lr,ve,ye],radial:["",ve,ye],conic:[Lr,ve,ye]},pF,dF]}],"bg-color":[{bg:$()}],"gradient-from-pos":[{from:ee()}],"gradient-via-pos":[{via:ee()}],"gradient-to-pos":[{to:ee()}],"gradient-from":[{from:$()}],"gradient-via":[{via:$()}],"gradient-to":[{to:$()}],rounded:[{rounded:ce()}],"rounded-s":[{"rounded-s":ce()}],"rounded-e":[{"rounded-e":ce()}],"rounded-t":[{"rounded-t":ce()}],"rounded-r":[{"rounded-r":ce()}],"rounded-b":[{"rounded-b":ce()}],"rounded-l":[{"rounded-l":ce()}],"rounded-ss":[{"rounded-ss":ce()}],"rounded-se":[{"rounded-se":ce()}],"rounded-ee":[{"rounded-ee":ce()}],"rounded-es":[{"rounded-es":ce()}],"rounded-tl":[{"rounded-tl":ce()}],"rounded-tr":[{"rounded-tr":ce()}],"rounded-br":[{"rounded-br":ce()}],"rounded-bl":[{"rounded-bl":ce()}],"border-w":[{border:ue()}],"border-w-x":[{"border-x":ue()}],"border-w-y":[{"border-y":ue()}],"border-w-s":[{"border-s":ue()}],"border-w-e":[{"border-e":ue()}],"border-w-t":[{"border-t":ue()}],"border-w-r":[{"border-r":ue()}],"border-w-b":[{"border-b":ue()}],"border-w-l":[{"border-l":ue()}],"divide-x":[{"divide-x":ue()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ue()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Se(),"hidden","none"]}],"divide-style":[{divide:[...Se(),"hidden","none"]}],"border-color":[{border:$()}],"border-color-x":[{"border-x":$()}],"border-color-y":[{"border-y":$()}],"border-color-s":[{"border-s":$()}],"border-color-e":[{"border-e":$()}],"border-color-t":[{"border-t":$()}],"border-color-r":[{"border-r":$()}],"border-color-b":[{"border-b":$()}],"border-color-l":[{"border-l":$()}],"divide-color":[{divide:$()}],"outline-style":[{outline:[...Se(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Be,ve,ye]}],"outline-w":[{outline:["",Be,Xc,za]}],"outline-color":[{outline:$()}],shadow:[{shadow:["","none",v,Bd,zd]}],"shadow-color":[{shadow:$()}],"inset-shadow":[{"inset-shadow":["none",b,Bd,zd]}],"inset-shadow-color":[{"inset-shadow":$()}],"ring-w":[{ring:ue()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:$()}],"ring-offset-w":[{"ring-offset":[Be,za]}],"ring-offset-color":[{"ring-offset":$()}],"inset-ring-w":[{"inset-ring":ue()}],"inset-ring-color":[{"inset-ring":$()}],"text-shadow":[{"text-shadow":["none",w,Bd,zd]}],"text-shadow-color":[{"text-shadow":$()}],opacity:[{opacity:[Be,ve,ye]}],"mix-blend":[{"mix-blend":[...De(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":De()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Be]}],"mask-image-linear-from-pos":[{"mask-linear-from":le()}],"mask-image-linear-to-pos":[{"mask-linear-to":le()}],"mask-image-linear-from-color":[{"mask-linear-from":$()}],"mask-image-linear-to-color":[{"mask-linear-to":$()}],"mask-image-t-from-pos":[{"mask-t-from":le()}],"mask-image-t-to-pos":[{"mask-t-to":le()}],"mask-image-t-from-color":[{"mask-t-from":$()}],"mask-image-t-to-color":[{"mask-t-to":$()}],"mask-image-r-from-pos":[{"mask-r-from":le()}],"mask-image-r-to-pos":[{"mask-r-to":le()}],"mask-image-r-from-color":[{"mask-r-from":$()}],"mask-image-r-to-color":[{"mask-r-to":$()}],"mask-image-b-from-pos":[{"mask-b-from":le()}],"mask-image-b-to-pos":[{"mask-b-to":le()}],"mask-image-b-from-color":[{"mask-b-from":$()}],"mask-image-b-to-color":[{"mask-b-to":$()}],"mask-image-l-from-pos":[{"mask-l-from":le()}],"mask-image-l-to-pos":[{"mask-l-to":le()}],"mask-image-l-from-color":[{"mask-l-from":$()}],"mask-image-l-to-color":[{"mask-l-to":$()}],"mask-image-x-from-pos":[{"mask-x-from":le()}],"mask-image-x-to-pos":[{"mask-x-to":le()}],"mask-image-x-from-color":[{"mask-x-from":$()}],"mask-image-x-to-color":[{"mask-x-to":$()}],"mask-image-y-from-pos":[{"mask-y-from":le()}],"mask-image-y-to-pos":[{"mask-y-to":le()}],"mask-image-y-from-color":[{"mask-y-from":$()}],"mask-image-y-to-color":[{"mask-y-to":$()}],"mask-image-radial":[{"mask-radial":[ve,ye]}],"mask-image-radial-from-pos":[{"mask-radial-from":le()}],"mask-image-radial-to-pos":[{"mask-radial-to":le()}],"mask-image-radial-from-color":[{"mask-radial-from":$()}],"mask-image-radial-to-color":[{"mask-radial-to":$()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":te()}],"mask-image-conic-pos":[{"mask-conic":[Be]}],"mask-image-conic-from-pos":[{"mask-conic-from":le()}],"mask-image-conic-to-pos":[{"mask-conic-to":le()}],"mask-image-conic-from-color":[{"mask-conic-from":$()}],"mask-image-conic-to-color":[{"mask-conic-to":$()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:me()}],"mask-repeat":[{mask:_e()}],"mask-size":[{mask:U()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ve,ye]}],filter:[{filter:["","none",ve,ye]}],blur:[{blur:Ne()}],brightness:[{brightness:[Be,ve,ye]}],contrast:[{contrast:[Be,ve,ye]}],"drop-shadow":[{"drop-shadow":["","none",S,Bd,zd]}],"drop-shadow-color":[{"drop-shadow":$()}],grayscale:[{grayscale:["",Be,ve,ye]}],"hue-rotate":[{"hue-rotate":[Be,ve,ye]}],invert:[{invert:["",Be,ve,ye]}],saturate:[{saturate:[Be,ve,ye]}],sepia:[{sepia:["",Be,ve,ye]}],"backdrop-filter":[{"backdrop-filter":["","none",ve,ye]}],"backdrop-blur":[{"backdrop-blur":Ne()}],"backdrop-brightness":[{"backdrop-brightness":[Be,ve,ye]}],"backdrop-contrast":[{"backdrop-contrast":[Be,ve,ye]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Be,ve,ye]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Be,ve,ye]}],"backdrop-invert":[{"backdrop-invert":["",Be,ve,ye]}],"backdrop-opacity":[{"backdrop-opacity":[Be,ve,ye]}],"backdrop-saturate":[{"backdrop-saturate":[Be,ve,ye]}],"backdrop-sepia":[{"backdrop-sepia":["",Be,ve,ye]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":E()}],"border-spacing-x":[{"border-spacing-x":E()}],"border-spacing-y":[{"border-spacing-y":E()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ve,ye]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Be,"initial",ve,ye]}],ease:[{ease:["linear","initial",z,ve,ye]}],delay:[{delay:[Be,ve,ye]}],animate:[{animate:["none",F,ve,ye]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[O,ve,ye]}],"perspective-origin":[{"perspective-origin":re()}],rotate:[{rotate:Me()}],"rotate-x":[{"rotate-x":Me()}],"rotate-y":[{"rotate-y":Me()}],"rotate-z":[{"rotate-z":Me()}],scale:[{scale:xt()}],"scale-x":[{"scale-x":xt()}],"scale-y":[{"scale-y":xt()}],"scale-z":[{"scale-z":xt()}],"scale-3d":["scale-3d"],skew:[{skew:Cn()}],"skew-x":[{"skew-x":Cn()}],"skew-y":[{"skew-y":Cn()}],transform:[{transform:[ve,ye,"","none","gpu","cpu"]}],"transform-origin":[{origin:re()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:kn()}],"translate-x":[{"translate-x":kn()}],"translate-y":[{"translate-y":kn()}],"translate-z":[{"translate-z":kn()}],"translate-none":["translate-none"],accent:[{accent:$()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:$()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ve,ye]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":E()}],"scroll-mx":[{"scroll-mx":E()}],"scroll-my":[{"scroll-my":E()}],"scroll-ms":[{"scroll-ms":E()}],"scroll-me":[{"scroll-me":E()}],"scroll-mt":[{"scroll-mt":E()}],"scroll-mr":[{"scroll-mr":E()}],"scroll-mb":[{"scroll-mb":E()}],"scroll-ml":[{"scroll-ml":E()}],"scroll-p":[{"scroll-p":E()}],"scroll-px":[{"scroll-px":E()}],"scroll-py":[{"scroll-py":E()}],"scroll-ps":[{"scroll-ps":E()}],"scroll-pe":[{"scroll-pe":E()}],"scroll-pt":[{"scroll-pt":E()}],"scroll-pr":[{"scroll-pr":E()}],"scroll-pb":[{"scroll-pb":E()}],"scroll-pl":[{"scroll-pl":E()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ve,ye]}],fill:[{fill:["none",...$()]}],"stroke-w":[{stroke:[Be,Xc,za,h0]}],stroke:[{stroke:["none",...$()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},bF=JB(vF),d0=[{id:"general",name:"General",description:"General discussion",icon:il},{id:"science",name:"HSC Science",description:"Physics, Chemistry, Biology",icon:il},{id:"math",name:"Math Problems",description:"Higher Math & General Math",icon:il},{id:"english",name:"English & Bangla",description:"Language and Literature",icon:il},{id:"off-topic",name:"Off Topic",description:"Chill zone",icon:il}],xF=[{emoji:"",icon:o0},{emoji:"",icon:Hz},{emoji:"",icon:iz},{emoji:"",icon:Q7},{emoji:"",icon:o0},{emoji:"",icon:o0}];function ai(...t){return bF(IB(t))}function _F(){const{user:t}=co(),[e,n]=R.useState([]),[i,a]=R.useState(""),[l,c]=R.useState(null),d=R.useRef(null),[f,p]=R.useState(!1),[v,b]=R.useState(null),[w,S]=R.useState(null),[D,O]=R.useState("general"),[V,z]=R.useState(!1),[F,G]=R.useState(null),[te,re]=R.useState(null),he=R.useRef(null);R.useEffect(()=>{n([]);const H=bk(Of($i,"messages"),zU("channelId","==",D),xk("createdAt","asc"),_k(100)),Z=Sk(H,$=>{const me=[];$.forEach(_e=>{me.push({id:_e.id,..._e.data()})}),n(me)});return()=>Z()},[D]),R.useEffect(()=>{d.current?.scrollIntoView({behavior:"smooth"})},[e.length,D,te]);const j=H=>{if(H.target.files&&H.target.files[0]){const Z=H.target.files[0];G(Z);const $=new FileReader;$.onloadend=()=>{re($.result)},$.readAsDataURL(Z)}},E=()=>{G(null),re(null),he.current&&(he.current.value="")},C=async H=>{H.preventDefault();const Z=i.trim();if(!(!Z&&!F||!t||f)){p(!0);try{let $="";if(F){const _e=t7(l7,`chat_images/${Date.now()}_${F.name}`),U=await Z8(_e,F);$=await e7(U.ref)}const me={text:Z,uid:t.uid,displayName:t.displayName||"Anonymous",createdAt:LU(),channelId:D,...$&&{imageUrl:$},...l&&{replyTo:{id:l.id,displayName:l.displayName,text:l.text}}};await Ek(Of($i,"messages"),me),a(""),c(null),E()}catch($){console.error("Error sending message:",$),alert("Failed to send message. Please try again.")}finally{p(!1)}}},M=async(H,Z)=>{if(!t)return;b(null);const $=El($i,"messages",H),me=e.find(ce=>ce.id===H);if(!me)return;const _e=me.reactions||{},U=_e[t.uid]===Z,ee={..._e};U?delete ee[t.uid]:ee[t.uid]=Z;try{await qU($,{reactions:ee})}catch(ce){console.error("Failed to update reaction",ce)}},N=async H=>{if(confirm("Delete this message?"))try{await GU(El($i,"messages",H))}catch(Z){console.error("Error deleting message:",Z),alert("Failed to delete message.")}},P=H=>H?H.toDate().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"...",I=H=>{if(!H)return"";const Z=H.toDate(),$=new Date,me=new Date;return me.setDate(me.getDate()-1),Z.toDateString()===$.toDateString()?"Today":Z.toDateString()===me.toDateString()?"Yesterday":Z.toLocaleDateString()},xe=e.reduce((H,Z)=>{const $=I(Z.createdAt),me=H[H.length-1];return me&&me.date===$?me.msgs.push(Z):H.push({date:$,msgs:[Z]}),H},[]),Ee=d0.find(H=>H.id===D)||d0[0];return g.jsxs(xm,{className:"h-[calc(100vh-8rem)] md:h-[calc(100vh-4rem)] flex flex-col md:flex-row overflow-hidden",children:[g.jsxs("div",{className:"md:hidden flex items-center justify-between p-4 bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(gl,{className:"w-6 h-6 text-indigo-500"}),g.jsx("span",{className:"font-bold text-slate-800 dark:text-white",children:Ee.name})]}),g.jsx("button",{onClick:()=>z(!0),className:"p-2 -mr-2 text-slate-600 dark:text-slate-300",children:g.jsx(uz,{className:"w-6 h-6"})})]}),g.jsx(Xn,{children:(V||window.innerWidth>=768)&&g.jsxs(g.Fragment,{children:[g.jsx(Ae.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>z(!1),className:"md:hidden fixed inset-0 bg-black/50 z-40"}),g.jsxs(Ae.div,{initial:{x:-280},animate:{x:0},exit:{x:-280},transition:{type:"spring",damping:25,stiffness:200},className:ai("fixed md:static inset-y-0 left-0 z-50 w-72 bg-slate-50 dark:bg-slate-900 border-r border-slate-200 dark:border-slate-700 flex flex-col","md:transform-none"),children:[g.jsxs("div",{className:"p-4 border-b border-slate-200 dark:border-slate-700 flex justify-between items-center",children:[g.jsxs("h2",{className:"font-bold text-xl text-slate-800 dark:text-white flex items-center gap-2",children:[g.jsx(gl,{className:"w-6 h-6 text-indigo-500"}),"Community"]}),g.jsx("button",{onClick:()=>z(!1),className:"md:hidden p-1 rounded-full hover:bg-slate-200 dark:hover:bg-slate-800",children:g.jsx(Xk,{className:"w-6 h-6"})})]}),g.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-1",children:[g.jsx("h3",{className:"text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider mb-2 px-2",children:"Text Channels"}),d0.map(H=>g.jsxs("button",{onClick:()=>{O(H.id),z(!1)},className:ai("w-full text-left px-3 py-2 rounded-lg flex items-center gap-2 transition-colors",D===H.id?"bg-indigo-100 text-indigo-700 dark:bg-indigo-900/50 dark:text-indigo-300 font-medium":"text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800"),children:[g.jsx(H.icon,{className:"w-4 h-4 opacity-70"}),g.jsx("span",{children:H.name})]},H.id))]}),g.jsx("div",{className:"p-4 border-t border-slate-200 dark:border-slate-700",children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"w-10 h-10 rounded-full bg-indigo-100 dark:bg-indigo-900 flex items-center justify-center text-indigo-600 dark:text-indigo-300 font-bold",children:t?.displayName?.[0]?.toUpperCase()||"U"}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsx("p",{className:"text-sm font-medium text-slate-800 dark:text-white truncate",children:t?.displayName||"User"}),g.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 truncate",children:"Online"})]})]})})]})]})}),g.jsxs("div",{className:"flex-1 flex flex-col bg-white dark:bg-slate-800 h-full relative",children:[g.jsxs("div",{className:"hidden md:flex items-center gap-2 p-4 border-b border-slate-100 dark:border-slate-700 shadow-sm z-10",children:[g.jsx(il,{className:"w-5 h-5 text-slate-400"}),g.jsx("h2",{className:"font-bold text-slate-800 dark:text-white",children:Ee.name}),g.jsx("span",{className:"text-slate-400 dark:text-slate-500 text-sm border-l pl-2 ml-2 border-slate-300 dark:border-slate-600",children:Ee.description})]}),g.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-6 scrollbar-thin scrollbar-thumb-slate-200 dark:scrollbar-thumb-slate-700",children:[e.length===0&&g.jsxs("div",{className:"flex flex-col items-center justify-center h-full opacity-50",children:[g.jsx(gl,{className:"w-16 h-16 mb-4 text-slate-300"}),g.jsxs("p",{className:"text-slate-500 text-center",children:["No messages yet in #",Ee.name,".",g.jsx("br",{}),"Be the first to say hello!"]})]}),xe.map((H,Z)=>g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:"h-px flex-1 bg-slate-200 dark:bg-slate-700"}),g.jsx("span",{className:"text-xs font-medium text-slate-400 dark:text-slate-500",children:H.date}),g.jsx("div",{className:"h-px flex-1 bg-slate-200 dark:bg-slate-700"})]}),H.msgs.map(($,me)=>{const _e=$.uid===t?.uid,U=me===0||H.msgs[me-1].uid!==$.uid,ee=$.reactions&&Object.keys($.reactions).length>0,ce={};return Object.values($.reactions||{}).forEach(ue=>{ce[ue]=(ce[ue]||0)+1}),g.jsxs(Ae.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:ai("group flex gap-4",_e?"flex-row-reverse":"flex-row"),onMouseLeave:()=>b(null),children:[g.jsx("div",{className:"flex-shrink-0 w-10",children:U?g.jsx("button",{onClick:()=>S($.uid),className:"w-10 h-10 rounded-full bg-slate-200 dark:bg-slate-700 flex items-center justify-center text-sm font-bold text-slate-600 dark:text-slate-300 overflow-hidden shadow-sm transition-transform hover:scale-105",children:$.displayName?.[0]?.toUpperCase()||"?"}):g.jsx("div",{className:"w-10"})}),g.jsxs("div",{className:ai("flex flex-col max-w-[80%] md:max-w-[70%]",_e?"items-end":"items-start"),children:[U&&g.jsxs("div",{className:"flex items-baseline gap-2 mb-1",children:[g.jsx("span",{className:ai("text-sm font-bold cursor-pointer hover:underline",_e?"text-indigo-600 dark:text-indigo-400":"text-slate-700 dark:text-slate-300"),onClick:()=>S($.uid),children:$.displayName}),g.jsx("span",{className:"text-[10px] text-slate-400",children:P($.createdAt)})]}),$.replyTo&&g.jsxs("div",{className:"mb-1 text-xs px-2 py-1 -ml-2 rounded-r bg-slate-100 dark:bg-slate-800 border-l-2 border-indigo-400 opacity-80 cursor-pointer",onClick:()=>{},children:[g.jsx("span",{className:"font-bold mr-1",children:$.replyTo.displayName}),g.jsx("span",{className:"italic truncate",children:$.replyTo.text})]}),g.jsxs("div",{className:"relative group/bubble",children:[g.jsxs("div",{className:ai("px-4 py-2 text-sm shadow-sm relative whitespace-pre-wrap leading-relaxed",_e?"bg-indigo-600 text-white rounded-2xl rounded-tr-none":"bg-slate-100 dark:bg-slate-700 text-slate-800 dark:text-slate-200 rounded-2xl rounded-tl-none",!U&&(_e?"rounded-tr-2xl":"rounded-tl-2xl"),$.imageUrl?"p-2":""),children:[$.imageUrl&&g.jsx("div",{className:"mb-2 rounded-lg overflow-hidden max-w-full",children:g.jsx("img",{src:$.imageUrl,alt:"Shared",className:"w-full h-auto max-h-64 object-cover cursor-pointer hover:scale-105 transition-transform",onClick:()=>window.open($.imageUrl,"_blank")})}),$.text&&NB($.text),ee&&g.jsx("div",{className:ai("absolute -bottom-3 flex gap-1 bg-white dark:bg-slate-800 rounded-full px-1.5 py-0.5 shadow-sm border border-slate-100 dark:border-slate-600 text-[10px]",_e?"right-0":"left-0"),children:Object.entries(ce).map(([ue,Se])=>g.jsxs("span",{className:"flex items-center",children:[ue," ",Se>1&&g.jsx("span",{className:"ml-0.5 font-bold text-slate-500",children:Se})]},ue))})]}),g.jsxs("div",{className:ai("absolute -top-6 hidden group-hover/bubble:flex items-center bg-white dark:bg-slate-800 shadow-md rounded-lg p-0.5 border border-slate-100 dark:border-slate-700 z-20",_e?"right-0":"left-0"),children:[g.jsx("button",{onClick:()=>b($.id),className:"p-1 hover:bg-slate-100 dark:hover:bg-slate-700 rounded text-slate-500",children:g.jsx(Pz,{className:"w-4 h-4"})}),g.jsx("button",{onClick:()=>c($),className:"p-1 hover:bg-slate-100 dark:hover:bg-slate-700 rounded text-slate-500",children:g.jsx(kz,{className:"w-4 h-4"})}),_e&&g.jsx("button",{onClick:()=>N($.id),className:"p-1 hover:bg-red-100 dark:hover:bg-red-900/30 rounded text-red-500",children:g.jsx(Yu,{className:"w-4 h-4"})})]}),g.jsx(Xn,{children:v===$.id&&g.jsx(Ae.div,{initial:{opacity:0,scale:.9,y:5},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9},className:ai("absolute -top-12 z-50 flex gap-1 bg-white dark:bg-slate-800 rounded-full shadow-xl border border-slate-200 dark:border-slate-600 p-1",_e?"right-0":"left-0"),children:xF.map(ue=>g.jsx("button",{onClick:()=>M($.id,ue.emoji),className:ai("p-1.5 rounded-full hover:bg-slate-100 dark:hover:bg-slate-700 text-lg transition-transform hover:scale-125",$.reactions?.[t?.uid||""]===ue.emoji&&"bg-indigo-100 dark:bg-indigo-900"),children:ue.emoji},ue.emoji))})})]})]})]},$.id)})]},Z)),g.jsx("div",{ref:d,className:"h-2"})]}),g.jsxs("div",{className:"p-4 bg-white dark:bg-slate-800/90 border-t border-slate-200 dark:border-slate-700 backdrop-blur-sm z-20",children:[g.jsxs(Xn,{children:[te&&g.jsxs(Ae.div,{initial:{opacity:0,scale:.9,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:10},className:"relative mb-3 w-fit",children:[g.jsx("img",{src:te,alt:"Preview",className:"h-24 rounded-lg border border-slate-200 dark:border-slate-600 shadow-sm"}),g.jsx("button",{onClick:E,className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 shadow-md hover:bg-red-600 transition-colors",children:g.jsx(bi,{className:"w-3 h-3"})})]}),l&&g.jsxs(Ae.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"flex items-center justify-between bg-slate-50 dark:bg-slate-900 p-2 rounded-lg mb-2 text-sm border-l-4 border-indigo-500",children:[g.jsxs("span",{className:"truncate text-slate-500 dark:text-slate-400",children:["Replying to ",g.jsx("span",{className:"font-bold text-slate-700 dark:text-slate-200",children:l.displayName}),": ",l.text]}),g.jsx("button",{onClick:()=>c(null),className:"p-1 hover:bg-slate-200 dark:hover:bg-slate-800 rounded-full",children:g.jsx(bi,{className:"w-4 h-4"})})]})]}),g.jsxs("form",{onSubmit:C,className:"flex gap-2 items-center",children:[g.jsx("input",{type:"file",accept:"image/*",ref:he,onChange:j,className:"hidden"}),g.jsx("button",{type:"button",onClick:()=>he.current?.click(),className:"p-3 text-slate-500 hover:text-indigo-600 hover:bg-indigo-50 dark:hover:bg-slate-700 rounded-xl transition-colors",title:"Upload Image",children:g.jsx(nz,{className:"w-5 h-5"})}),g.jsx("input",{type:"text",value:i,onChange:H=>a(H.target.value),placeholder:te?"Add a caption...":`Message #${Ee.name}`,className:"flex-1 px-4 py-3 bg-slate-100 dark:bg-slate-900 border-none rounded-xl focus:ring-2 focus:ring-indigo-500 focus:bg-white dark:focus:bg-black transition-all"}),g.jsx("button",{type:"submit",disabled:!i.trim()&&!F||f,className:"p-3 bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl shadow-lg shadow-indigo-500/30 transition-all disabled:opacity-50 disabled:shadow-none flex items-center justify-center min-w-[3rem]",children:f?g.jsx(oz,{className:"w-5 h-5 animate-spin"}):g.jsx(Dz,{className:"w-5 h-5"})})]})]})]}),g.jsx(RB,{uid:w||"",isOpen:!!w,onClose:()=>S(null)})]})}function wF({steps:t,onComplete:e,onSkip:n}){const[i,a]=R.useState(0),[l,c]=R.useState(null),d=t[i];R.useEffect(()=>{if(d.targetId){const v=document.getElementById(d.targetId);v?(c(v.getBoundingClientRect()),v.scrollIntoView({behavior:"smooth",block:"center"})):c(null)}else c(null)},[i,d,t]);const f=()=>{i<t.length-1?a(v=>v+1):e()},p=()=>{i>0&&a(v=>v-1)};return g.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center pointer-events-none",children:[g.jsx("div",{className:"absolute inset-0 bg-black/60 pointer-events-none"}),l&&g.jsx(Ae.div,{layoutId:"highlight-box",className:"absolute border-4 border-blue-500 rounded-xl shadow-[0_0_0_9999px_rgba(0,0,0,0.6)] pointer-events-none transition-all duration-300",style:{top:l.top-4,left:l.left-4,width:l.width+8,height:l.height+8}}),g.jsx(Xn,{mode:"wait",children:g.jsxs(Ae.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:`pointer-events-auto absolute bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-2xl border border-slate-100 dark:border-slate-700 max-w-sm w-full mx-4 ${l?"":"static"}`,style:l&&d.position!=="center"?{top:d.position==="bottom"?l.bottom+20:d.position==="top"?l.top-200:void 0,left:d.position==="right"?l.right+20:d.position==="left"?l.left-340:Math.max(16,l.left+l.width/2-160),marginTop:(d.position==="bottom",0)}:{},children:[g.jsxs("div",{className:"flex justify-between items-start mb-2",children:[g.jsxs("span",{className:"text-xs font-bold text-blue-600 dark:text-blue-400 uppercase tracking-wider",children:["Step ",i+1," of ",t.length]}),g.jsx("button",{onClick:n,className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200",children:g.jsx(bi,{className:"w-4 h-4"})})]}),g.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-2",children:d.title}),g.jsx("p",{className:"text-slate-600 dark:text-slate-300 mb-6 leading-relaxed",children:d.description}),g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("button",{onClick:p,disabled:i===0,className:`flex items-center gap-1 text-sm font-medium ${i===0?"text-slate-300":"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200"}`,children:[g.jsx(Xk,{className:"w-4 h-4"})," Back"]}),g.jsxs("button",{onClick:f,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-full font-medium text-sm flex items-center gap-2 shadow-sm transition-transform active:scale-95",children:[i===t.length-1?"Finish":"Next",i<t.length-1&&g.jsx(U7,{className:"w-4 h-4"})]})]})]},i)})]})}const ZE="/Study-Mate/assets/logo-C0C7fgvJ.png",TF=[{title:"Welcome to TrackEd! ",description:"Your personal companion for academic success. Let's take a quick tour to get you started.",position:"center"},{targetId:"add-subject-btn",title:"Add Your Subjects ",description:"Start by adding the subjects you want to track. You can organize them by chapters and topics.",position:"bottom"},{targetId:"nav-timer",title:"Focus Timer ",description:"Use the Pomodoro timer or stopwatch to track your study sessions and build streaks.",position:"right"},{targetId:"nav-settings",title:"Customize Experience ",description:"Manage your profile, data, and switch between light/dark modes here.",position:"top"}];function EF(){const{logout:t}=co(),{theme:e,toggleTheme:n}=cR(),i=nr(),a=KI(),[l,c]=R.useState(!1);R.useEffect(()=>{localStorage.setItem("tracked_tour_completed","true")},[]);const d=()=>{c(!1),localStorage.setItem("tracked_tour_completed","true")},f=p=>i.pathname===p;return g.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-slate-100 pb-20 md:pb-0 font-sans transition-colors duration-300",children:[l&&g.jsx(wF,{steps:TF,onComplete:d,onSkip:d}),g.jsxs("header",{className:"glass sticky top-0 z-20 px-4 py-3 flex items-center justify-between md:hidden transition-colors duration-300",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("img",{src:ZE,alt:"TrackEd Logo",className:"w-9 h-9 rounded-xl object-contain shadow-sm"}),g.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 dark:from-blue-400 dark:to-indigo-400 bg-clip-text text-transparent",children:"TrackEd"})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("button",{onClick:n,className:"p-2 text-slate-500 dark:text-slate-400 hover:bg-slate-100/50 dark:hover:bg-slate-700/50 rounded-full transition-colors backdrop-blur-sm","aria-label":"Toggle Theme",children:e==="light"?g.jsx(Lf,{className:"w-5 h-5"}):g.jsx(uy,{className:"w-5 h-5"})}),g.jsx(cn,{to:"/settings",className:"p-2 text-slate-500 dark:text-slate-400 hover:bg-slate-100/50 dark:hover:bg-slate-700/50 rounded-full transition-colors backdrop-blur-sm",children:g.jsx(l0,{className:"w-5 h-5"})})]})]}),g.jsxs("div",{className:"md:flex max-w-7xl mx-auto",children:[g.jsxs("aside",{className:"hidden md:flex flex-col w-72 h-[calc(100vh-2rem)] sticky top-4 m-4 rounded-3xl glass shadow-2xl shadow-slate-200/60 dark:shadow-slate-900/50 p-6 transition-all duration-300 z-10",children:[g.jsxs("div",{className:"flex items-center justify-between mb-10 pl-2",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("img",{src:ZE,alt:"TrackEd Logo",className:"w-10 h-10 rounded-xl object-contain shadow-md"}),g.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-white tracking-tight",children:"TrackEd"})]}),g.jsx("button",{onClick:n,className:"p-2 text-slate-500 dark:text-slate-400 hover:bg-slate-100/80 dark:hover:bg-slate-700/50 rounded-xl transition-colors","aria-label":"Toggle Theme",children:e==="light"?g.jsx(Lf,{className:"w-5 h-5"}):g.jsx(uy,{className:"w-5 h-5"})})]}),g.jsxs("nav",{className:"space-y-1.5 flex-1",children:[g.jsxs(cn,{to:"/",className:`flex items-center gap-3 px-4 py-3.5 rounded-xl transition-all duration-200 ${f("/")?"bg-blue-600 text-white shadow-lg shadow-blue-500/30 font-medium translate-x-1":"text-slate-600 dark:text-slate-400 hover:bg-slate-100/80 dark:hover:bg-slate-800/50 hover:text-slate-900 dark:hover:text-white"}`,children:[g.jsx(HE,{className:"w-5 h-5"}),"Dashboard"]}),g.jsxs(cn,{to:"/analytics",className:`flex items-center gap-3 px-4 py-3.5 rounded-xl transition-all duration-200 ${f("/analytics")?"bg-blue-600 text-white shadow-lg shadow-blue-500/30 font-medium translate-x-1":"text-slate-600 dark:text-slate-400 hover:bg-slate-100/80 dark:hover:bg-slate-800/50 hover:text-slate-900 dark:hover:text-white"}`,children:[g.jsx(hy,{className:"w-5 h-5"}),"Analytics"]}),g.jsxs(cn,{to:"/timer",id:"nav-timer",className:`flex items-center gap-3 px-4 py-3.5 rounded-xl transition-all duration-200 ${i.pathname==="/timer"?"bg-blue-600 text-white shadow-lg shadow-blue-500/30 font-medium translate-x-1":"text-slate-600 dark:text-slate-400 hover:bg-slate-100/80 dark:hover:bg-slate-800/50 hover:text-slate-900 dark:hover:text-white"}`,children:[g.jsx(GE,{className:"w-5 h-5"}),"Timer"]}),g.jsxs(cn,{to:"/chat",className:`flex items-center gap-3 px-4 py-3.5 rounded-xl transition-all duration-200 ${f("/chat")?"bg-blue-600 text-white shadow-lg shadow-blue-500/30 font-medium translate-x-1":"text-slate-600 dark:text-slate-400 hover:bg-slate-100/80 dark:hover:bg-slate-800/50 hover:text-slate-900 dark:hover:text-white"}`,children:[g.jsx(gl,{className:"w-5 h-5"}),"Community"]}),g.jsxs(cn,{to:"/settings",id:"nav-settings",className:`flex items-center gap-3 px-4 py-3.5 rounded-xl transition-all duration-200 ${f("/settings")?"bg-blue-600 text-white shadow-lg shadow-blue-500/30 font-medium translate-x-1":"text-slate-600 dark:text-slate-400 hover:bg-slate-100/80 dark:hover:bg-slate-800/50 hover:text-slate-900 dark:hover:text-white"}`,children:[g.jsx(l0,{className:"w-5 h-5"}),"Settings"]})]}),g.jsxs("div",{className:"mt-auto pt-6 border-t border-slate-200/50 dark:border-slate-700/50",children:[g.jsxs("button",{onClick:t,className:"flex items-center gap-3 px-4 py-3.5 rounded-xl text-slate-600 dark:text-slate-400 hover:bg-red-50 dark:hover:bg-red-900/20 hover:text-red-600 dark:hover:text-red-400 transition-colors w-full text-left mb-4 group",children:[g.jsx(eR,{className:"w-5 h-5 group-hover:-translate-x-0.5 transition-transform"}),"Sign Out"]}),g.jsxs("div",{className:"text-xs text-center text-slate-400 dark:text-slate-500 font-medium",children:[g.jsx("p",{children:"Empowering Students"}),g.jsx("p",{className:"mt-1 opacity-70",children:" 2026 TrackEd"})]})]})]}),g.jsx("main",{className:"flex-1 p-4 md:p-8",children:g.jsx(Xn,{mode:"wait",children:a&&R.cloneElement(a,{key:i.pathname})})})]}),g.jsxs("nav",{className:"fixed bottom-0 left-0 right-0 bg-white dark:bg-slate-800 border-t border-slate-200 dark:border-slate-700 flex justify-around pt-3 px-3 pb-[calc(0.75rem+env(safe-area-inset-bottom))] md:hidden z-20 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.05)] transition-colors duration-300",children:[g.jsxs(cn,{to:"/",className:`flex flex-col items-center gap-1 text-xs ${f("/")?"text-blue-600 dark:text-blue-400 font-medium":"text-slate-400 dark:text-slate-500"}`,children:[g.jsx(HE,{className:"w-6 h-6"}),g.jsx("span",{children:"Home"})]}),g.jsxs(cn,{to:"/analytics",className:`flex flex-col items-center gap-1 text-xs ${f("/analytics")?"text-blue-600 dark:text-blue-400 font-medium":"text-slate-400 dark:text-slate-500"}`,children:[g.jsx(hy,{className:"w-6 h-6"}),g.jsx("span",{children:"Stats"})]}),g.jsxs(cn,{to:"/timer",className:`flex flex-col items-center gap-1 text-xs ${f("/timer")?"text-blue-600 dark:text-blue-400 font-medium":"text-slate-400 dark:text-slate-500"}`,children:[g.jsx(GE,{className:"w-6 h-6"}),g.jsx("span",{children:"Timer"})]}),g.jsxs(cn,{to:"/chat",className:`flex flex-col items-center gap-1 text-xs ${f("/chat")?"text-blue-600 dark:text-blue-400 font-medium":"text-slate-400 dark:text-slate-500"}`,children:[g.jsx(gl,{className:"w-6 h-6"}),g.jsx("span",{children:"Comm.."})]}),g.jsxs(cn,{to:"/settings",className:`flex flex-col items-center gap-1 text-xs ${f("/settings")?"text-blue-600 dark:text-blue-400 font-medium":"text-slate-400 dark:text-slate-500"}`,children:[g.jsx(l0,{className:"w-6 h-6"}),g.jsx("span",{children:"Settings"})]})]})]})}function SF(){const{signInWithGoogle:t,user:e}=co(),n=Ff();return my.useEffect(()=>{e&&n("/")},[e,n]),g.jsxs("div",{className:"min-h-screen flex items-center justify-center relative overflow-hidden bg-slate-50 dark:bg-slate-900 transition-colors",children:[g.jsxs("div",{className:"absolute inset-0 z-0",children:[g.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[40%] h-[40%] bg-blue-400/20 dark:bg-blue-600/10 rounded-full blur-3xl animate-pulse"}),g.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[40%] h-[40%] bg-indigo-400/20 dark:bg-indigo-600/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}}),g.jsx("div",{className:"absolute top-[20%] right-[10%] w-[20%] h-[20%] bg-purple-400/20 dark:bg-purple-600/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"2s"}})]}),g.jsxs(Ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,ease:"easeOut"},className:"relative z-10 w-full max-w-md px-6",children:[g.jsxs("div",{className:"bg-white/80 dark:bg-slate-800/80 backdrop-blur-xl rounded-3xl shadow-2xl border border-white/50 dark:border-slate-700/50 p-8 md:p-12 text-center transition-colors",children:[g.jsx("div",{className:"flex justify-center mb-8",children:g.jsx("div",{className:"p-4 bg-indigo-600 rounded-2xl shadow-lg transform rotate-3 hover:rotate-6 transition-transform duration-300",children:g.jsx(Zk,{className:"w-10 h-10 text-white"})})}),g.jsxs("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white mb-3 tracking-tight transition-colors",children:["Welcome to ",g.jsx("span",{className:"text-indigo-600 dark:text-indigo-400",children:"TrackEd"})]}),g.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-10 text-lg leading-relaxed transition-colors",children:"Master your study habits and achieve your goals."}),g.jsxs(Ae.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:t,className:"group w-full relative flex items-center justify-center gap-3 py-3.5 px-6 border border-transparent rounded-xl shadow-md text-base font-semibold text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-all duration-200",children:[g.jsx("div",{className:"bg-white p-1 rounded-full",children:g.jsx("img",{src:"https://www.google.com/favicon.ico",alt:"G",className:"w-4 h-4"})}),g.jsx("span",{children:"Sign in with Google"}),g.jsx(ab,{className:"w-4 h-4 opacity-0 group-hover:opacity-100 group-hover:translate-x-1 transition-all"})]}),g.jsx("p",{className:"mt-8 text-xs text-slate-400 dark:text-slate-500 transition-colors",children:"By signing in, you agree to our Terms of Service and Privacy Policy."})]}),g.jsx("div",{className:"mt-8 text-center",children:g.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400 transition-colors",children:"Focus. Track. Succeed."})})]})]})}function AF({children:t}){const{user:e,loading:n}=co();return n?g.jsx("div",{children:"Loading..."}):e?g.jsx(g.Fragment,{children:t}):g.jsx(lD,{to:"/login"})}function CF(){return g.jsx(MD,{basename:"/Study-Mate/",children:g.jsxs(uD,{children:[g.jsx(Fi,{path:"/login",element:g.jsx(SF,{})}),g.jsxs(Fi,{path:"/",element:g.jsx(AF,{children:g.jsx(EF,{})}),children:[g.jsx(Fi,{index:!0,element:g.jsx(cB,{})}),g.jsx(Fi,{path:"subject/:id",element:g.jsx(yB,{})}),g.jsx(Fi,{path:"analytics",element:g.jsx(SB,{})}),g.jsx(Fi,{path:"timer",element:g.jsx(AB,{})}),g.jsx(Fi,{path:"chat",element:g.jsx(_F,{})}),g.jsx(Fi,{path:"settings",element:g.jsx(_B,{})})]})]})})}class kF extends R.Component{state={hasError:!1,error:null};static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("Uncaught error:",e,n)}render(){return this.state.hasError?g.jsx("div",{className:"min-h-screen flex items-center justify-center bg-red-50 p-4",children:g.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg max-w-lg w-full",children:[g.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Something went wrong"}),g.jsx("p",{className:"text-slate-600 mb-4",children:"We encountered an unexpected error."}),g.jsx("pre",{className:"bg-slate-100 p-4 rounded text-xs text-slate-800 overflow-auto mb-4",children:this.state.error?.message}),g.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Reload Page"})]})}):this.props.children}}console.log("TrackEd v1.1 - Dark Mode Enabled");cI.createRoot(document.getElementById("root")).render(g.jsx(my.StrictMode,{children:g.jsx(kF,{children:g.jsx(c7,{children:g.jsx(u7,{children:g.jsx(vB,{children:g.jsx(dB,{children:g.jsx(CF,{})})})})})})}));
