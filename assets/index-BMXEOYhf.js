(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function BE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var og={exports:{}},Pc={};var y1;function CR(){if(y1)return Pc;y1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var h in a)h!=="key"&&(l[h]=a[h])}else l=a;return a=l.ref,{$$typeof:t,type:i,key:c,ref:a!==void 0?a:null,props:l}}return Pc.Fragment=e,Pc.jsx=n,Pc.jsxs=n,Pc}var v1;function NR(){return v1||(v1=1,og.exports=CR()),og.exports}var g=NR(),lg={exports:{}},Oe={};var b1;function RR(){if(b1)return Oe;b1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),w=Symbol.iterator;function S(z){return z===null||typeof z!="object"?null:(z=w&&z[w]||z["@@iterator"],typeof z=="function"?z:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,V={};function P(z,te,ce){this.props=z,this.context=te,this.refs=V,this.updater=ce||M}P.prototype.isReactComponent={},P.prototype.setState=function(z,te){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,te,"setState")},P.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function F(){}F.prototype=P.prototype;function H(z,te,ce){this.props=z,this.context=te,this.refs=V,this.updater=ce||M}var ee=H.prototype=new F;ee.constructor=H,O(ee,P.prototype),ee.isPureReactComponent=!0;var se=Array.isArray;function re(){}var j={H:null,A:null,T:null,S:null},E=Object.prototype.hasOwnProperty;function R(z,te,ce){var ue=ce.ref;return{$$typeof:t,type:z,key:te,ref:ue!==void 0?ue:null,props:ce}}function I(z,te){return R(z.type,te,z.props)}function D(z){return typeof z=="object"&&z!==null&&z.$$typeof===t}function L(z){var te={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(ce){return te[ce]})}var C=/\/+/g;function fe(z,te){return typeof z=="object"&&z!==null&&z.key!=null?L(""+z.key):te.toString(36)}function me(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(re,re):(z.status="pending",z.then(function(te){z.status==="pending"&&(z.status="fulfilled",z.value=te)},function(te){z.status==="pending"&&(z.status="rejected",z.reason=te)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function G(z,te,ce,ue,_e){var Ne=typeof z;(Ne==="undefined"||Ne==="boolean")&&(z=null);var Se=!1;if(z===null)Se=!0;else switch(Ne){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(z.$$typeof){case t:case e:Se=!0;break;case v:return Se=z._init,G(Se(z._payload),te,ce,ue,_e)}}if(Se)return _e=_e(z),Se=ue===""?"."+fe(z,0):ue,se(_e)?(ce="",Se!=null&&(ce=Se.replace(C,"$&/")+"/"),G(_e,te,ce,"",function(ht){return ht})):_e!=null&&(D(_e)&&(_e=I(_e,ce+(_e.key==null||z&&z.key===_e.key?"":(""+_e.key).replace(C,"$&/")+"/")+Se)),te.push(_e)),1;Se=0;var he=ue===""?".":ue+":";if(se(z))for(var je=0;je<z.length;je++)ue=z[je],Ne=he+fe(ue,je),Se+=G(ue,te,ce,Ne,_e);else if(je=S(z),typeof je=="function")for(z=je.call(z),je=0;!(ue=z.next()).done;)ue=ue.value,Ne=he+fe(ue,je++),Se+=G(ue,te,ce,Ne,_e);else if(Ne==="object"){if(typeof z.then=="function")return G(me(z),te,ce,ue,_e);throw te=String(z),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return Se}function W(z,te,ce){if(z==null)return z;var ue=[],_e=0;return G(z,ue,"","",function(Ne){return te.call(ce,Ne,_e++)}),ue}function Z(z){if(z._status===-1){var te=z._result;te=te(),te.then(function(ce){(z._status===0||z._status===-1)&&(z._status=1,z._result=ce)},function(ce){(z._status===0||z._status===-1)&&(z._status=2,z._result=ce)}),z._status===-1&&(z._status=0,z._result=te)}if(z._status===1)return z._result.default;throw z._result}var Ae=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},Re={map:W,forEach:function(z,te,ce){W(z,function(){te.apply(this,arguments)},ce)},count:function(z){var te=0;return W(z,function(){te++}),te},toArray:function(z){return W(z,function(te){return te})||[]},only:function(z){if(!D(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return Oe.Activity=b,Oe.Children=Re,Oe.Component=P,Oe.Fragment=n,Oe.Profiler=a,Oe.PureComponent=H,Oe.StrictMode=i,Oe.Suspense=f,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,Oe.__COMPILER_RUNTIME={__proto__:null,c:function(z){return j.H.useMemoCache(z)}},Oe.cache=function(z){return function(){return z.apply(null,arguments)}},Oe.cacheSignal=function(){return null},Oe.cloneElement=function(z,te,ce){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var ue=O({},z.props),_e=z.key;if(te!=null)for(Ne in te.key!==void 0&&(_e=""+te.key),te)!E.call(te,Ne)||Ne==="key"||Ne==="__self"||Ne==="__source"||Ne==="ref"&&te.ref===void 0||(ue[Ne]=te[Ne]);var Ne=arguments.length-2;if(Ne===1)ue.children=ce;else if(1<Ne){for(var Se=Array(Ne),he=0;he<Ne;he++)Se[he]=arguments[he+2];ue.children=Se}return R(z.type,_e,ue)},Oe.createContext=function(z){return z={$$typeof:c,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:l,_context:z},z},Oe.createElement=function(z,te,ce){var ue,_e={},Ne=null;if(te!=null)for(ue in te.key!==void 0&&(Ne=""+te.key),te)E.call(te,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(_e[ue]=te[ue]);var Se=arguments.length-2;if(Se===1)_e.children=ce;else if(1<Se){for(var he=Array(Se),je=0;je<Se;je++)he[je]=arguments[je+2];_e.children=he}if(z&&z.defaultProps)for(ue in Se=z.defaultProps,Se)_e[ue]===void 0&&(_e[ue]=Se[ue]);return R(z,Ne,_e)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(z){return{$$typeof:h,render:z}},Oe.isValidElement=D,Oe.lazy=function(z){return{$$typeof:v,_payload:{_status:-1,_result:z},_init:Z}},Oe.memo=function(z,te){return{$$typeof:p,type:z,compare:te===void 0?null:te}},Oe.startTransition=function(z){var te=j.T,ce={};j.T=ce;try{var ue=z(),_e=j.S;_e!==null&&_e(ce,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(re,Ae)}catch(Ne){Ae(Ne)}finally{te!==null&&ce.types!==null&&(te.types=ce.types),j.T=te}},Oe.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},Oe.use=function(z){return j.H.use(z)},Oe.useActionState=function(z,te,ce){return j.H.useActionState(z,te,ce)},Oe.useCallback=function(z,te){return j.H.useCallback(z,te)},Oe.useContext=function(z){return j.H.useContext(z)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(z,te){return j.H.useDeferredValue(z,te)},Oe.useEffect=function(z,te){return j.H.useEffect(z,te)},Oe.useEffectEvent=function(z){return j.H.useEffectEvent(z)},Oe.useId=function(){return j.H.useId()},Oe.useImperativeHandle=function(z,te,ce){return j.H.useImperativeHandle(z,te,ce)},Oe.useInsertionEffect=function(z,te){return j.H.useInsertionEffect(z,te)},Oe.useLayoutEffect=function(z,te){return j.H.useLayoutEffect(z,te)},Oe.useMemo=function(z,te){return j.H.useMemo(z,te)},Oe.useOptimistic=function(z,te){return j.H.useOptimistic(z,te)},Oe.useReducer=function(z,te,ce){return j.H.useReducer(z,te,ce)},Oe.useRef=function(z){return j.H.useRef(z)},Oe.useState=function(z){return j.H.useState(z)},Oe.useSyncExternalStore=function(z,te,ce){return j.H.useSyncExternalStore(z,te,ce)},Oe.useTransition=function(){return j.H.useTransition()},Oe.version="19.2.4",Oe}var x1;function ny(){return x1||(x1=1,lg.exports=RR()),lg.exports}var N=ny();const sy=BE(N);var cg={exports:{}},Lc={},ug={exports:{}},hg={};var _1;function IR(){return _1||(_1=1,(function(t){function e(G,W){var Z=G.length;G.push(W);e:for(;0<Z;){var Ae=Z-1>>>1,Re=G[Ae];if(0<a(Re,W))G[Ae]=W,G[Z]=Re,Z=Ae;else break e}}function n(G){return G.length===0?null:G[0]}function i(G){if(G.length===0)return null;var W=G[0],Z=G.pop();if(Z!==W){G[0]=Z;e:for(var Ae=0,Re=G.length,z=Re>>>1;Ae<z;){var te=2*(Ae+1)-1,ce=G[te],ue=te+1,_e=G[ue];if(0>a(ce,Z))ue<Re&&0>a(_e,ce)?(G[Ae]=_e,G[ue]=Z,Ae=ue):(G[Ae]=ce,G[te]=Z,Ae=te);else if(ue<Re&&0>a(_e,Z))G[Ae]=_e,G[ue]=Z,Ae=ue;else break e}}return W}function a(G,W){var Z=G.sortIndex-W.sortIndex;return Z!==0?Z:G.id-W.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,h=c.now();t.unstable_now=function(){return c.now()-h}}var f=[],p=[],v=1,b=null,w=3,S=!1,M=!1,O=!1,V=!1,P=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function ee(G){for(var W=n(p);W!==null;){if(W.callback===null)i(p);else if(W.startTime<=G)i(p),W.sortIndex=W.expirationTime,e(f,W);else break;W=n(p)}}function se(G){if(O=!1,ee(G),!M)if(n(f)!==null)M=!0,re||(re=!0,L());else{var W=n(p);W!==null&&me(se,W.startTime-G)}}var re=!1,j=-1,E=5,R=-1;function I(){return V?!0:!(t.unstable_now()-R<E)}function D(){if(V=!1,re){var G=t.unstable_now();R=G;var W=!0;try{e:{M=!1,O&&(O=!1,F(j),j=-1),S=!0;var Z=w;try{t:{for(ee(G),b=n(f);b!==null&&!(b.expirationTime>G&&I());){var Ae=b.callback;if(typeof Ae=="function"){b.callback=null,w=b.priorityLevel;var Re=Ae(b.expirationTime<=G);if(G=t.unstable_now(),typeof Re=="function"){b.callback=Re,ee(G),W=!0;break t}b===n(f)&&i(f),ee(G)}else i(f);b=n(f)}if(b!==null)W=!0;else{var z=n(p);z!==null&&me(se,z.startTime-G),W=!1}}break e}finally{b=null,w=Z,S=!1}W=void 0}}finally{W?L():re=!1}}}var L;if(typeof H=="function")L=function(){H(D)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,fe=C.port2;C.port1.onmessage=D,L=function(){fe.postMessage(null)}}else L=function(){P(D,0)};function me(G,W){j=P(function(){G(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_next=function(G){switch(w){case 1:case 2:case 3:var W=3;break;default:W=w}var Z=w;w=W;try{return G()}finally{w=Z}},t.unstable_requestPaint=function(){V=!0},t.unstable_runWithPriority=function(G,W){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var Z=w;w=G;try{return W()}finally{w=Z}},t.unstable_scheduleCallback=function(G,W,Z){var Ae=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?Ae+Z:Ae):Z=Ae,G){case 1:var Re=-1;break;case 2:Re=250;break;case 5:Re=1073741823;break;case 4:Re=1e4;break;default:Re=5e3}return Re=Z+Re,G={id:v++,callback:W,priorityLevel:G,startTime:Z,expirationTime:Re,sortIndex:-1},Z>Ae?(G.sortIndex=Z,e(p,G),n(f)===null&&G===n(p)&&(O?(F(j),j=-1):O=!0,me(se,Z-Ae))):(G.sortIndex=Re,e(f,G),M||S||(M=!0,re||(re=!0,L()))),G},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(G){var W=w;return function(){var Z=w;w=W;try{return G.apply(this,arguments)}finally{w=Z}}}})(hg)),hg}var w1;function DR(){return w1||(w1=1,ug.exports=IR()),ug.exports}var dg={exports:{}},fn={};var T1;function jR(){if(T1)return fn;T1=1;var t=ny();function e(f){var p="https://react.dev/errors/"+f;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(f,p,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:b==null?null:""+b,children:f,containerInfo:p,implementation:v}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,p){if(f==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return fn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,fn.createPortal=function(f,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(f,p,null,v)},fn.flushSync=function(f){var p=c.T,v=i.p;try{if(c.T=null,i.p=2,f)return f()}finally{c.T=p,i.p=v,i.d.f()}},fn.preconnect=function(f,p){typeof f=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(f,p))},fn.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},fn.preinit=function(f,p){if(typeof f=="string"&&p&&typeof p.as=="string"){var v=p.as,b=h(v,p.crossOrigin),w=typeof p.integrity=="string"?p.integrity:void 0,S=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?i.d.S(f,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:w,fetchPriority:S}):v==="script"&&i.d.X(f,{crossOrigin:b,integrity:w,fetchPriority:S,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},fn.preinitModule=function(f,p){if(typeof f=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=h(p.as,p.crossOrigin);i.d.M(f,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(f)},fn.preload=function(f,p){if(typeof f=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,b=h(v,p.crossOrigin);i.d.L(f,v,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},fn.preloadModule=function(f,p){if(typeof f=="string")if(p){var v=h(p.as,p.crossOrigin);i.d.m(f,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(f)},fn.requestFormReset=function(f){i.d.r(f)},fn.unstable_batchedUpdates=function(f,p){return f(p)},fn.useFormState=function(f,p,v){return c.H.useFormState(f,p,v)},fn.useFormStatus=function(){return c.H.useHostTransitionStatus()},fn.version="19.2.4",fn}var E1;function FE(){if(E1)return dg.exports;E1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),dg.exports=jR(),dg.exports}var S1;function MR(){if(S1)return Lc;S1=1;var t=DR(),e=ny(),n=FE();function i(s){var r="https://react.dev/errors/"+s;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+s+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function l(s){var r=s,o=s;if(s.alternate)for(;r.return;)r=r.return;else{s=r;do r=s,(r.flags&4098)!==0&&(o=r.return),s=r.return;while(s)}return r.tag===3?o:null}function c(s){if(s.tag===13){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function h(s){if(s.tag===31){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function f(s){if(l(s)!==s)throw Error(i(188))}function p(s){var r=s.alternate;if(!r){if(r=l(s),r===null)throw Error(i(188));return r!==s?null:s}for(var o=s,u=r;;){var m=o.return;if(m===null)break;var y=m.alternate;if(y===null){if(u=m.return,u!==null){o=u;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===o)return f(m),s;if(y===u)return f(m),r;y=y.sibling}throw Error(i(188))}if(o.return!==u.return)o=m,u=y;else{for(var _=!1,A=m.child;A;){if(A===o){_=!0,o=m,u=y;break}if(A===u){_=!0,u=m,o=y;break}A=A.sibling}if(!_){for(A=y.child;A;){if(A===o){_=!0,o=y,u=m;break}if(A===u){_=!0,u=y,o=m;break}A=A.sibling}if(!_)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?s:r}function v(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s;for(s=s.child;s!==null;){if(r=v(s),r!==null)return r;s=s.sibling}return null}var b=Object.assign,w=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),F=Symbol.for("react.consumer"),H=Symbol.for("react.context"),ee=Symbol.for("react.forward_ref"),se=Symbol.for("react.suspense"),re=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function L(s){return s===null||typeof s!="object"?null:(s=D&&s[D]||s["@@iterator"],typeof s=="function"?s:null)}var C=Symbol.for("react.client.reference");function fe(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===C?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case O:return"Fragment";case P:return"Profiler";case V:return"StrictMode";case se:return"Suspense";case re:return"SuspenseList";case R:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case M:return"Portal";case H:return s.displayName||"Context";case F:return(s._context.displayName||"Context")+".Consumer";case ee:var r=s.render;return s=s.displayName,s||(s=r.displayName||r.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case j:return r=s.displayName||null,r!==null?r:fe(s.type)||"Memo";case E:r=s._payload,s=s._init;try{return fe(s(r))}catch{}}return null}var me=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},Ae=[],Re=-1;function z(s){return{current:s}}function te(s){0>Re||(s.current=Ae[Re],Ae[Re]=null,Re--)}function ce(s,r){Re++,Ae[Re]=s.current,s.current=r}var ue=z(null),_e=z(null),Ne=z(null),Se=z(null);function he(s,r){switch(ce(Ne,r),ce(_e,s),ce(ue,null),r.nodeType){case 9:case 11:s=(s=r.documentElement)&&(s=s.namespaceURI)?z_(s):0;break;default:if(s=r.tagName,r=r.namespaceURI)r=z_(r),s=B_(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}te(ue),ce(ue,s)}function je(){te(ue),te(_e),te(Ne)}function ht(s){s.memoizedState!==null&&ce(Se,s);var r=ue.current,o=B_(r,s.type);r!==o&&(ce(_e,s),ce(ue,o))}function nt(s){_e.current===s&&(te(ue),te(_e)),Se.current===s&&(te(Se),jc._currentValue=Z)}var qt,Gn;function xn(s){if(qt===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);qt=r&&r[1]||"",Gn=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+qt+s+Gn}var $n=!1;function Mn(s,r){if(!s||$n)return"";$n=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(J){var X=J}Reflect.construct(s,[],ae)}else{try{ae.call()}catch(J){X=J}s.call(ae.prototype)}}else{try{throw Error()}catch(J){X=J}(ae=s())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(J){if(J&&X&&typeof J.stack=="string")return[J.stack,X.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=u.DetermineComponentFrameRoot(),_=y[0],A=y[1];if(_&&A){var U=_.split(`
`),Y=A.split(`
`);for(m=u=0;u<U.length&&!U[u].includes("DetermineComponentFrameRoot");)u++;for(;m<Y.length&&!Y[m].includes("DetermineComponentFrameRoot");)m++;if(u===U.length||m===Y.length)for(u=U.length-1,m=Y.length-1;1<=u&&0<=m&&U[u]!==Y[m];)m--;for(;1<=u&&0<=m;u--,m--)if(U[u]!==Y[m]){if(u!==1||m!==1)do if(u--,m--,0>m||U[u]!==Y[m]){var ne=`
`+U[u].replace(" at new "," at ");return s.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",s.displayName)),ne}while(1<=u&&0<=m);break}}}finally{$n=!1,Error.prepareStackTrace=o}return(o=s?s.displayName||s.name:"")?xn(o):""}function Ml(s,r){switch(s.tag){case 26:case 27:case 5:return xn(s.type);case 16:return xn("Lazy");case 13:return s.child!==r&&r!==null?xn("Suspense Fallback"):xn("Suspense");case 19:return xn("SuspenseList");case 0:case 15:return Mn(s.type,!1);case 11:return Mn(s.type.render,!1);case 1:return Mn(s.type,!0);case 31:return xn("Activity");default:return""}}function Vl(s){try{var r="",o=null;do r+=Ml(s,o),o=s,s=s.return;while(s);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Rt=Object.prototype.hasOwnProperty,Gt=t.unstable_scheduleCallback,tr=t.unstable_cancelCallback,cm=t.unstable_shouldYield,Uu=t.unstable_requestPaint,_n=t.unstable_now,sa=t.unstable_getCurrentPriorityLevel,Ol=t.unstable_ImmediatePriority,Pl=t.unstable_UserBlockingPriority,nr=t.unstable_NormalPriority,um=t.unstable_LowPriority,zu=t.unstable_IdlePriority,Bu=t.log,Fu=t.unstable_setDisableYieldValue,ms=null,nn=null;function Kn(s){if(typeof Bu=="function"&&Fu(s),nn&&typeof nn.setStrictMode=="function")try{nn.setStrictMode(ms,s)}catch{}}var St=Math.clz32?Math.clz32:qu,Hu=Math.log,ro=Math.LN2;function qu(s){return s>>>=0,s===0?32:31-(Hu(s)/ro|0)|0}var Os=256,ia=262144,It=4194304;function Ps(s){var r=s&42;if(r!==0)return r;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Ls(s,r,o){var u=s.pendingLanes;if(u===0)return 0;var m=0,y=s.suspendedLanes,_=s.pingedLanes;s=s.warmLanes;var A=u&134217727;return A!==0?(u=A&~y,u!==0?m=Ps(u):(_&=A,_!==0?m=Ps(_):o||(o=A&~s,o!==0&&(m=Ps(o))))):(A=u&~y,A!==0?m=Ps(A):_!==0?m=Ps(_):o||(o=u&~s,o!==0&&(m=Ps(o)))),m===0?0:r!==0&&r!==m&&(r&y)===0&&(y=m&-m,o=r&-r,y>=o||y===32&&(o&4194048)!==0)?r:m}function ps(s,r){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&r)===0}function hm(s,r){switch(s){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gu(){var s=It;return It<<=1,(It&62914560)===0&&(It=4194304),s}function Us(s){for(var r=[],o=0;31>o;o++)r.push(s);return r}function ra(s,r){s.pendingLanes|=r,r!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function dm(s,r,o,u,m,y){var _=s.pendingLanes;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=o,s.entangledLanes&=o,s.errorRecoveryDisabledLanes&=o,s.shellSuspendCounter=0;var A=s.entanglements,U=s.expirationTimes,Y=s.hiddenUpdates;for(o=_&~o;0<o;){var ne=31-St(o),ae=1<<ne;A[ne]=0,U[ne]=-1;var X=Y[ne];if(X!==null)for(Y[ne]=null,ne=0;ne<X.length;ne++){var J=X[ne];J!==null&&(J.lane&=-536870913)}o&=~ae}u!==0&&aa(s,u,0),y!==0&&m===0&&s.tag!==0&&(s.suspendedLanes|=y&~(_&~r))}function aa(s,r,o){s.pendingLanes|=r,s.suspendedLanes&=~r;var u=31-St(r);s.entangledLanes|=r,s.entanglements[u]=s.entanglements[u]|1073741824|o&261930}function Ll(s,r){var o=s.entangledLanes|=r;for(s=s.entanglements;o;){var u=31-St(o),m=1<<u;m&r|s[u]&r&&(s[u]|=r),o&=~m}}function Ul(s,r){var o=r&-r;return o=(o&42)!==0?1:oa(o),(o&(s.suspendedLanes|r))!==0?0:o}function oa(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function bi(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function $u(){var s=W.p;return s!==0?s:(s=window.event,s===void 0?32:u1(s.type))}function gs(s,r){var o=W.p;try{return W.p=s,r()}finally{W.p=o}}var ys=Math.random().toString(36).slice(2),Dt="__reactFiber$"+ys,Wt="__reactProps$"+ys,zs="__reactContainer$"+ys,ao="__reactEvents$"+ys,fm="__reactListeners$"+ys,Ku="__reactHandles$"+ys,Yu="__reactResources$"+ys,Bs="__reactMarker$"+ys;function oo(s){delete s[Dt],delete s[Wt],delete s[ao],delete s[fm],delete s[Ku]}function Fs(s){var r=s[Dt];if(r)return r;for(var o=s.parentNode;o;){if(r=o[zs]||o[Dt]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(s=Y_(s);s!==null;){if(o=s[Dt])return o;s=Y_(s)}return r}s=o,o=s.parentNode}return null}function Yn(s){if(s=s[Dt]||s[zs]){var r=s.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return s}return null}function Vn(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s.stateNode;throw Error(i(33))}function Hs(s){var r=s[Yu];return r||(r=s[Yu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function jt(s){s[Bs]=!0}var zl=new Set,Bl={};function qs(s,r){Gs(s,r),Gs(s+"Capture",r)}function Gs(s,r){for(Bl[s]=r,s=0;s<r.length;s++)zl.add(r[s])}var Fl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Hl={},ql={};function Xu(s){return Rt.call(ql,s)?!0:Rt.call(Hl,s)?!1:Fl.test(s)?ql[s]=!0:(Hl[s]=!0,!1)}function lo(s,r,o){if(Xu(r))if(o===null)s.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":s.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){s.removeAttribute(r);return}}s.setAttribute(r,""+o)}}function On(s,r,o){if(o===null)s.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(r);return}s.setAttribute(r,""+o)}}function Mt(s,r,o,u){if(u===null)s.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttributeNS(r,o,""+u)}}function Jt(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function sr(s){var r=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Gl(s,r,o){var u=Object.getOwnPropertyDescriptor(s.constructor.prototype,r);if(!s.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,y=u.set;return Object.defineProperty(s,r,{configurable:!0,get:function(){return m.call(this)},set:function(_){o=""+_,y.call(this,_)}}),Object.defineProperty(s,r,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(_){o=""+_},stopTracking:function(){s._valueTracker=null,delete s[r]}}}}function st(s){if(!s._valueTracker){var r=sr(s)?"checked":"value";s._valueTracker=Gl(s,r,""+s[r])}}function la(s){if(!s)return!1;var r=s._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return s&&(u=sr(s)?s.checked?"true":"false":s.value),s=u,s!==o?(r.setValue(s),!0):!1}function $s(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var ca=/[\n"\\]/g;function An(s){return s.replace(ca,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function co(s,r,o,u,m,y,_,A){s.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?s.type=_:s.removeAttribute("type"),r!=null?_==="number"?(r===0&&s.value===""||s.value!=r)&&(s.value=""+Jt(r)):s.value!==""+Jt(r)&&(s.value=""+Jt(r)):_!=="submit"&&_!=="reset"||s.removeAttribute("value"),r!=null?$l(s,_,Jt(r)):o!=null?$l(s,_,Jt(o)):u!=null&&s.removeAttribute("value"),m==null&&y!=null&&(s.defaultChecked=!!y),m!=null&&(s.checked=m&&typeof m!="function"&&typeof m!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?s.name=""+Jt(A):s.removeAttribute("name")}function Qu(s,r,o,u,m,y,_,A){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(s.type=y),r!=null||o!=null){if(!(y!=="submit"&&y!=="reset"||r!=null)){st(s);return}o=o!=null?""+Jt(o):"",r=r!=null?""+Jt(r):o,A||r===s.value||(s.value=r),s.defaultValue=r}u=u??m,u=typeof u!="function"&&typeof u!="symbol"&&!!u,s.checked=A?s.checked:!!u,s.defaultChecked=!!u,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(s.name=_),st(s)}function $l(s,r,o){r==="number"&&$s(s.ownerDocument)===s||s.defaultValue===""+o||(s.defaultValue=""+o)}function ir(s,r,o,u){if(s=s.options,r){r={};for(var m=0;m<o.length;m++)r["$"+o[m]]=!0;for(o=0;o<s.length;o++)m=r.hasOwnProperty("$"+s[o].value),s[o].selected!==m&&(s[o].selected=m),m&&u&&(s[o].defaultSelected=!0)}else{for(o=""+Jt(o),r=null,m=0;m<s.length;m++){if(s[m].value===o){s[m].selected=!0,u&&(s[m].defaultSelected=!0);return}r!==null||s[m].disabled||(r=s[m])}r!==null&&(r.selected=!0)}}function Wu(s,r,o){if(r!=null&&(r=""+Jt(r),r!==s.value&&(s.value=r),o==null)){s.defaultValue!==r&&(s.defaultValue=r);return}s.defaultValue=o!=null?""+Jt(o):""}function rr(s,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(i(92));if(me(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=Jt(r),s.defaultValue=o,u=s.textContent,u===o&&u!==""&&u!==null&&(s.value=u),st(s)}function kn(s,r){if(r){var o=s.firstChild;if(o&&o===s.lastChild&&o.nodeType===3){o.nodeValue=r;return}}s.textContent=r}var Ju=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Kl(s,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?s.setProperty(r,""):r==="float"?s.cssFloat="":s[r]="":u?s.setProperty(r,o):typeof o!="number"||o===0||Ju.has(r)?r==="float"?s.cssFloat=o:s[r]=(""+o).trim():s[r]=o+"px"}function Yl(s,r,o){if(r!=null&&typeof r!="object")throw Error(i(62));if(s=s.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?s.setProperty(u,""):u==="float"?s.cssFloat="":s[u]="");for(var m in r)u=r[m],r.hasOwnProperty(m)&&o[m]!==u&&Kl(s,m,u)}else for(var y in r)r.hasOwnProperty(y)&&Kl(s,y,r[y])}function uo(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ar=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ho(s){return ar.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function vs(){}var Xl=null;function Xn(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var or=null,Ks=null;function ua(s){var r=Yn(s);if(r&&(s=r.stateNode)){var o=s[Wt]||null;e:switch(s=r.stateNode,r.type){case"input":if(co(s,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=s;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+An(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==s&&u.form===s.form){var m=u[Wt]||null;if(!m)throw Error(i(90));co(u,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===s.form&&la(u)}break e;case"textarea":Wu(s,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&ir(s,!!o.multiple,r,!1)}}}var fo=!1;function lr(s,r,o){if(fo)return s(r,o);fo=!0;try{var u=s(r);return u}finally{if(fo=!1,(or!==null||Ks!==null)&&($h(),or&&(r=or,s=Ks,Ks=or=null,ua(r),s)))for(r=0;r<s.length;r++)ua(s[r])}}function bs(s,r){var o=s.stateNode;if(o===null)return null;var u=o[Wt]||null;if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(s=s.type,u=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!u;break e;default:s=!1}if(s)return null;if(o&&typeof o!="function")throw Error(i(231,r,typeof o));return o}var Qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ha=!1;if(Qn)try{var at={};Object.defineProperty(at,"passive",{get:function(){ha=!0}}),window.addEventListener("test",at,at),window.removeEventListener("test",at,at)}catch{ha=!1}var Ys=null,Ql=null,da=null;function Wl(){if(da)return da;var s,r=Ql,o=r.length,u,m="value"in Ys?Ys.value:Ys.textContent,y=m.length;for(s=0;s<o&&r[s]===m[s];s++);var _=o-s;for(u=1;u<=_&&r[o-u]===m[y-u];u++);return da=m.slice(s,1<u?1-u:void 0)}function fa(s){var r=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&r===13&&(s=13)):s=r,s===10&&(s=13),32<=s||s===13?s:0}function xi(){return!0}function xs(){return!1}function sn(s){function r(o,u,m,y,_){this._reactName=o,this._targetInst=m,this.type=u,this.nativeEvent=y,this.target=_,this.currentTarget=null;for(var A in s)s.hasOwnProperty(A)&&(o=s[A],this[A]=o?o(y):y[A]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?xi:xs,this.isPropagationStopped=xs,this}return b(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=xi)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=xi)},persist:function(){},isPersistent:xi}),r}var _i={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xs=sn(_i),cr=b({},_i,{view:0,detail:0}),Jl=sn(cr),ur,mo,Qs,po=b({},cr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Qs&&(Qs&&s.type==="mousemove"?(ur=s.screenX-Qs.screenX,mo=s.screenY-Qs.screenY):mo=ur=0,Qs=s),ur)},movementY:function(s){return"movementY"in s?s.movementY:mo}}),Zl=sn(po),ma=b({},po,{dataTransfer:0}),eh=sn(ma),th=b({},cr,{relatedTarget:0}),pa=sn(th),ec=b({},_i,{animationName:0,elapsedTime:0,pseudoElement:0}),nh=sn(ec),go=b({},_i,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),sh=sn(go),ih=b({},_i,{data:0}),Ws=sn(ih),rh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ah={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lh(s){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(s):(s=oh[s])?!!r[s]:!1}function hr(){return lh}var wn=b({},cr,{key:function(s){if(s.key){var r=rh[s.key]||s.key;if(r!=="Unidentified")return r}return s.type==="keypress"?(s=fa(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?ah[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hr,charCode:function(s){return s.type==="keypress"?fa(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?fa(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),ch=sn(wn),uh=b({},po,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wi=sn(uh),d=b({},cr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hr}),x=sn(d),T=b({},_i,{propertyName:0,elapsedTime:0,pseudoElement:0}),k=sn(T),$=b({},po,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Q=sn($),de=b({},_i,{newState:0,oldState:0}),Le=sn(de),At=[9,13,27,32],Ze=Qn&&"CompositionEvent"in window,yt=null;Qn&&"documentMode"in document&&(yt=document.documentMode);var Wn=Qn&&"TextEvent"in window&&!yt,Js=Qn&&(!Ze||yt&&8<yt&&11>=yt),_s=" ",ws=!1;function ga(s,r){switch(s){case"keyup":return At.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yo(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var vo=!1;function JC(s,r){switch(s){case"compositionend":return yo(r);case"keypress":return r.which!==32?null:(ws=!0,_s);case"textInput":return s=r.data,s===_s&&ws?null:s;default:return null}}function ZC(s,r){if(vo)return s==="compositionend"||!Ze&&ga(s,r)?(s=Wl(),da=Ql=Ys=null,vo=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Js&&r.locale!=="ko"?null:r.data;default:return null}}var eN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wv(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r==="input"?!!eN[s.type]:r==="textarea"}function Jv(s,r,o,u){or?Ks?Ks.push(u):Ks=[u]:or=u,r=Zh(r,"onChange"),0<r.length&&(o=new Xs("onChange","change",null,o,u),s.push({event:o,listeners:r}))}var tc=null,nc=null;function tN(s){M_(s,0)}function hh(s){var r=Vn(s);if(la(r))return s}function Zv(s,r){if(s==="change")return r}var eb=!1;if(Qn){var mm;if(Qn){var pm="oninput"in document;if(!pm){var tb=document.createElement("div");tb.setAttribute("oninput","return;"),pm=typeof tb.oninput=="function"}mm=pm}else mm=!1;eb=mm&&(!document.documentMode||9<document.documentMode)}function nb(){tc&&(tc.detachEvent("onpropertychange",sb),nc=tc=null)}function sb(s){if(s.propertyName==="value"&&hh(nc)){var r=[];Jv(r,nc,s,Xn(s)),lr(tN,r)}}function nN(s,r,o){s==="focusin"?(nb(),tc=r,nc=o,tc.attachEvent("onpropertychange",sb)):s==="focusout"&&nb()}function sN(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return hh(nc)}function iN(s,r){if(s==="click")return hh(r)}function rN(s,r){if(s==="input"||s==="change")return hh(r)}function aN(s,r){return s===r&&(s!==0||1/s===1/r)||s!==s&&r!==r}var Pn=typeof Object.is=="function"?Object.is:aN;function sc(s,r){if(Pn(s,r))return!0;if(typeof s!="object"||s===null||typeof r!="object"||r===null)return!1;var o=Object.keys(s),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var m=o[u];if(!Rt.call(r,m)||!Pn(s[m],r[m]))return!1}return!0}function ib(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function rb(s,r){var o=ib(s);s=0;for(var u;o;){if(o.nodeType===3){if(u=s+o.textContent.length,s<=r&&u>=r)return{node:o,offset:r-s};s=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=ib(o)}}function ab(s,r){return s&&r?s===r?!0:s&&s.nodeType===3?!1:r&&r.nodeType===3?ab(s,r.parentNode):"contains"in s?s.contains(r):s.compareDocumentPosition?!!(s.compareDocumentPosition(r)&16):!1:!1}function ob(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var r=$s(s.document);r instanceof s.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)s=r.contentWindow;else break;r=$s(s.document)}return r}function gm(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r&&(r==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||r==="textarea"||s.contentEditable==="true")}var oN=Qn&&"documentMode"in document&&11>=document.documentMode,bo=null,ym=null,ic=null,vm=!1;function lb(s,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;vm||bo==null||bo!==$s(u)||(u=bo,"selectionStart"in u&&gm(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),ic&&sc(ic,u)||(ic=u,u=Zh(ym,"onSelect"),0<u.length&&(r=new Xs("onSelect","select",null,r,o),s.push({event:r,listeners:u}),r.target=bo)))}function ya(s,r){var o={};return o[s.toLowerCase()]=r.toLowerCase(),o["Webkit"+s]="webkit"+r,o["Moz"+s]="moz"+r,o}var xo={animationend:ya("Animation","AnimationEnd"),animationiteration:ya("Animation","AnimationIteration"),animationstart:ya("Animation","AnimationStart"),transitionrun:ya("Transition","TransitionRun"),transitionstart:ya("Transition","TransitionStart"),transitioncancel:ya("Transition","TransitionCancel"),transitionend:ya("Transition","TransitionEnd")},bm={},cb={};Qn&&(cb=document.createElement("div").style,"AnimationEvent"in window||(delete xo.animationend.animation,delete xo.animationiteration.animation,delete xo.animationstart.animation),"TransitionEvent"in window||delete xo.transitionend.transition);function va(s){if(bm[s])return bm[s];if(!xo[s])return s;var r=xo[s],o;for(o in r)if(r.hasOwnProperty(o)&&o in cb)return bm[s]=r[o];return s}var ub=va("animationend"),hb=va("animationiteration"),db=va("animationstart"),lN=va("transitionrun"),cN=va("transitionstart"),uN=va("transitioncancel"),fb=va("transitionend"),mb=new Map,xm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xm.push("scrollEnd");function Ts(s,r){mb.set(s,r),qs(r,[s])}var dh=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Jn=[],_o=0,_m=0;function fh(){for(var s=_o,r=_m=_o=0;r<s;){var o=Jn[r];Jn[r++]=null;var u=Jn[r];Jn[r++]=null;var m=Jn[r];Jn[r++]=null;var y=Jn[r];if(Jn[r++]=null,u!==null&&m!==null){var _=u.pending;_===null?m.next=m:(m.next=_.next,_.next=m),u.pending=m}y!==0&&pb(o,m,y)}}function mh(s,r,o,u){Jn[_o++]=s,Jn[_o++]=r,Jn[_o++]=o,Jn[_o++]=u,_m|=u,s.lanes|=u,s=s.alternate,s!==null&&(s.lanes|=u)}function wm(s,r,o,u){return mh(s,r,o,u),ph(s)}function ba(s,r){return mh(s,null,null,r),ph(s)}function pb(s,r,o){s.lanes|=o;var u=s.alternate;u!==null&&(u.lanes|=o);for(var m=!1,y=s.return;y!==null;)y.childLanes|=o,u=y.alternate,u!==null&&(u.childLanes|=o),y.tag===22&&(s=y.stateNode,s===null||s._visibility&1||(m=!0)),s=y,y=y.return;return s.tag===3?(y=s.stateNode,m&&r!==null&&(m=31-St(o),s=y.hiddenUpdates,u=s[m],u===null?s[m]=[r]:u.push(r),r.lane=o|536870912),y):null}function ph(s){if(50<Ac)throw Ac=0,Ip=null,Error(i(185));for(var r=s.return;r!==null;)s=r,r=s.return;return s.tag===3?s.stateNode:null}var wo={};function hN(s,r,o,u){this.tag=s,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ln(s,r,o,u){return new hN(s,r,o,u)}function Tm(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Ti(s,r){var o=s.alternate;return o===null?(o=Ln(s.tag,r,s.key,s.mode),o.elementType=s.elementType,o.type=s.type,o.stateNode=s.stateNode,o.alternate=s,s.alternate=o):(o.pendingProps=r,o.type=s.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=s.flags&65011712,o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,r=s.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=s.sibling,o.index=s.index,o.ref=s.ref,o.refCleanup=s.refCleanup,o}function gb(s,r){s.flags&=65011714;var o=s.alternate;return o===null?(s.childLanes=0,s.lanes=r,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,r=o.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),s}function gh(s,r,o,u,m,y){var _=0;if(u=s,typeof s=="function")Tm(s)&&(_=1);else if(typeof s=="string")_=gR(s,o,ue.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case R:return s=Ln(31,o,r,m),s.elementType=R,s.lanes=y,s;case O:return xa(o.children,m,y,r);case V:_=8,m|=24;break;case P:return s=Ln(12,o,r,m|2),s.elementType=P,s.lanes=y,s;case se:return s=Ln(13,o,r,m),s.elementType=se,s.lanes=y,s;case re:return s=Ln(19,o,r,m),s.elementType=re,s.lanes=y,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case H:_=10;break e;case F:_=9;break e;case ee:_=11;break e;case j:_=14;break e;case E:_=16,u=null;break e}_=29,o=Error(i(130,s===null?"null":typeof s,"")),u=null}return r=Ln(_,o,r,m),r.elementType=s,r.type=u,r.lanes=y,r}function xa(s,r,o,u){return s=Ln(7,s,u,r),s.lanes=o,s}function Em(s,r,o){return s=Ln(6,s,null,r),s.lanes=o,s}function yb(s){var r=Ln(18,null,null,0);return r.stateNode=s,r}function Sm(s,r,o){return r=Ln(4,s.children!==null?s.children:[],s.key,r),r.lanes=o,r.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},r}var vb=new WeakMap;function Zn(s,r){if(typeof s=="object"&&s!==null){var o=vb.get(s);return o!==void 0?o:(r={value:s,source:r,stack:Vl(r)},vb.set(s,r),r)}return{value:s,source:r,stack:Vl(r)}}var To=[],Eo=0,yh=null,rc=0,es=[],ts=0,dr=null,Zs=1,ei="";function Ei(s,r){To[Eo++]=rc,To[Eo++]=yh,yh=s,rc=r}function bb(s,r,o){es[ts++]=Zs,es[ts++]=ei,es[ts++]=dr,dr=s;var u=Zs;s=ei;var m=32-St(u)-1;u&=~(1<<m),o+=1;var y=32-St(r)+m;if(30<y){var _=m-m%5;y=(u&(1<<_)-1).toString(32),u>>=_,m-=_,Zs=1<<32-St(r)+m|o<<m|u,ei=y+s}else Zs=1<<y|o<<m|u,ei=s}function Am(s){s.return!==null&&(Ei(s,1),bb(s,1,0))}function km(s){for(;s===yh;)yh=To[--Eo],To[Eo]=null,rc=To[--Eo],To[Eo]=null;for(;s===dr;)dr=es[--ts],es[ts]=null,ei=es[--ts],es[ts]=null,Zs=es[--ts],es[ts]=null}function xb(s,r){es[ts++]=Zs,es[ts++]=ei,es[ts++]=dr,Zs=r.id,ei=r.overflow,dr=s}var rn=null,mt=null,Xe=!1,fr=null,ns=!1,Cm=Error(i(519));function mr(s){var r=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ac(Zn(r,s)),Cm}function _b(s){var r=s.stateNode,o=s.type,u=s.memoizedProps;switch(r[Dt]=s,r[Wt]=u,o){case"dialog":He("cancel",r),He("close",r);break;case"iframe":case"object":case"embed":He("load",r);break;case"video":case"audio":for(o=0;o<Cc.length;o++)He(Cc[o],r);break;case"source":He("error",r);break;case"img":case"image":case"link":He("error",r),He("load",r);break;case"details":He("toggle",r);break;case"input":He("invalid",r),Qu(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":He("invalid",r);break;case"textarea":He("invalid",r),rr(r,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||L_(r.textContent,o)?(u.popover!=null&&(He("beforetoggle",r),He("toggle",r)),u.onScroll!=null&&He("scroll",r),u.onScrollEnd!=null&&He("scrollend",r),u.onClick!=null&&(r.onclick=vs),r=!0):r=!1,r||mr(s,!0)}function wb(s){for(rn=s.return;rn;)switch(rn.tag){case 5:case 31:case 13:ns=!1;return;case 27:case 3:ns=!0;return;default:rn=rn.return}}function So(s){if(s!==rn)return!1;if(!Xe)return wb(s),Xe=!0,!1;var r=s.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=s.type,o=!(o!=="form"&&o!=="button")||$p(s.type,s.memoizedProps)),o=!o),o&&mt&&mr(s),wb(s),r===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));mt=K_(s)}else if(r===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));mt=K_(s)}else r===27?(r=mt,Cr(s.type)?(s=Wp,Wp=null,mt=s):mt=r):mt=rn?is(s.stateNode.nextSibling):null;return!0}function _a(){mt=rn=null,Xe=!1}function Nm(){var s=fr;return s!==null&&(In===null?In=s:In.push.apply(In,s),fr=null),s}function ac(s){fr===null?fr=[s]:fr.push(s)}var Rm=z(null),wa=null,Si=null;function pr(s,r,o){ce(Rm,r._currentValue),r._currentValue=o}function Ai(s){s._currentValue=Rm.current,te(Rm)}function Im(s,r,o){for(;s!==null;){var u=s.alternate;if((s.childLanes&r)!==r?(s.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),s===o)break;s=s.return}}function Dm(s,r,o,u){var m=s.child;for(m!==null&&(m.return=s);m!==null;){var y=m.dependencies;if(y!==null){var _=m.child;y=y.firstContext;e:for(;y!==null;){var A=y;y=m;for(var U=0;U<r.length;U++)if(A.context===r[U]){y.lanes|=o,A=y.alternate,A!==null&&(A.lanes|=o),Im(y.return,o,s),u||(_=null);break e}y=A.next}}else if(m.tag===18){if(_=m.return,_===null)throw Error(i(341));_.lanes|=o,y=_.alternate,y!==null&&(y.lanes|=o),Im(_,o,s),_=null}else _=m.child;if(_!==null)_.return=m;else for(_=m;_!==null;){if(_===s){_=null;break}if(m=_.sibling,m!==null){m.return=_.return,_=m;break}_=_.return}m=_}}function Ao(s,r,o,u){s=null;for(var m=r,y=!1;m!==null;){if(!y){if((m.flags&524288)!==0)y=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var _=m.alternate;if(_===null)throw Error(i(387));if(_=_.memoizedProps,_!==null){var A=m.type;Pn(m.pendingProps.value,_.value)||(s!==null?s.push(A):s=[A])}}else if(m===Se.current){if(_=m.alternate,_===null)throw Error(i(387));_.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(s!==null?s.push(jc):s=[jc])}m=m.return}s!==null&&Dm(r,s,o,u),r.flags|=262144}function vh(s){for(s=s.firstContext;s!==null;){if(!Pn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Ta(s){wa=s,Si=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function an(s){return Tb(wa,s)}function bh(s,r){return wa===null&&Ta(s),Tb(s,r)}function Tb(s,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},Si===null){if(s===null)throw Error(i(308));Si=r,s.dependencies={lanes:0,firstContext:r},s.flags|=524288}else Si=Si.next=r;return o}var dN=typeof AbortController<"u"?AbortController:function(){var s=[],r=this.signal={aborted:!1,addEventListener:function(o,u){s.push(u)}};this.abort=function(){r.aborted=!0,s.forEach(function(o){return o()})}},fN=t.unstable_scheduleCallback,mN=t.unstable_NormalPriority,Vt={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jm(){return{controller:new dN,data:new Map,refCount:0}}function oc(s){s.refCount--,s.refCount===0&&fN(mN,function(){s.controller.abort()})}var lc=null,Mm=0,ko=0,Co=null;function pN(s,r){if(lc===null){var o=lc=[];Mm=0,ko=Pp(),Co={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Mm++,r.then(Eb,Eb),r}function Eb(){if(--Mm===0&&lc!==null){Co!==null&&(Co.status="fulfilled");var s=lc;lc=null,ko=0,Co=null;for(var r=0;r<s.length;r++)(0,s[r])()}}function gN(s,r){var o=[],u={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return s.then(function(){u.status="fulfilled",u.value=r;for(var m=0;m<o.length;m++)(0,o[m])(r)},function(m){for(u.status="rejected",u.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),u}var Sb=G.S;G.S=function(s,r){l_=_n(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&pN(s,r),Sb!==null&&Sb(s,r)};var Ea=z(null);function Vm(){var s=Ea.current;return s!==null?s:ut.pooledCache}function xh(s,r){r===null?ce(Ea,Ea.current):ce(Ea,r.pool)}function Ab(){var s=Vm();return s===null?null:{parent:Vt._currentValue,pool:s}}var No=Error(i(460)),Om=Error(i(474)),_h=Error(i(542)),wh={then:function(){}};function kb(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Cb(s,r,o){switch(o=s[o],o===void 0?s.push(r):o!==r&&(r.then(vs,vs),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,Rb(s),s;default:if(typeof r.status=="string")r.then(vs,vs);else{if(s=ut,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=r,s.status="pending",s.then(function(u){if(r.status==="pending"){var m=r;m.status="fulfilled",m.value=u}},function(u){if(r.status==="pending"){var m=r;m.status="rejected",m.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,Rb(s),s}throw Aa=r,No}}function Sa(s){try{var r=s._init;return r(s._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Aa=o,No):o}}var Aa=null;function Nb(){if(Aa===null)throw Error(i(459));var s=Aa;return Aa=null,s}function Rb(s){if(s===No||s===_h)throw Error(i(483))}var Ro=null,cc=0;function Th(s){var r=cc;return cc+=1,Ro===null&&(Ro=[]),Cb(Ro,s,r)}function uc(s,r){r=r.props.ref,s.ref=r!==void 0?r:null}function Eh(s,r){throw r.$$typeof===w?Error(i(525)):(s=Object.prototype.toString.call(r),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":s)))}function Ib(s){function r(q,B){if(s){var K=q.deletions;K===null?(q.deletions=[B],q.flags|=16):K.push(B)}}function o(q,B){if(!s)return null;for(;B!==null;)r(q,B),B=B.sibling;return null}function u(q){for(var B=new Map;q!==null;)q.key!==null?B.set(q.key,q):B.set(q.index,q),q=q.sibling;return B}function m(q,B){return q=Ti(q,B),q.index=0,q.sibling=null,q}function y(q,B,K){return q.index=K,s?(K=q.alternate,K!==null?(K=K.index,K<B?(q.flags|=67108866,B):K):(q.flags|=67108866,B)):(q.flags|=1048576,B)}function _(q){return s&&q.alternate===null&&(q.flags|=67108866),q}function A(q,B,K,ie){return B===null||B.tag!==6?(B=Em(K,q.mode,ie),B.return=q,B):(B=m(B,K),B.return=q,B)}function U(q,B,K,ie){var ke=K.type;return ke===O?ne(q,B,K.props.children,ie,K.key):B!==null&&(B.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===E&&Sa(ke)===B.type)?(B=m(B,K.props),uc(B,K),B.return=q,B):(B=gh(K.type,K.key,K.props,null,q.mode,ie),uc(B,K),B.return=q,B)}function Y(q,B,K,ie){return B===null||B.tag!==4||B.stateNode.containerInfo!==K.containerInfo||B.stateNode.implementation!==K.implementation?(B=Sm(K,q.mode,ie),B.return=q,B):(B=m(B,K.children||[]),B.return=q,B)}function ne(q,B,K,ie,ke){return B===null||B.tag!==7?(B=xa(K,q.mode,ie,ke),B.return=q,B):(B=m(B,K),B.return=q,B)}function ae(q,B,K){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=Em(""+B,q.mode,K),B.return=q,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case S:return K=gh(B.type,B.key,B.props,null,q.mode,K),uc(K,B),K.return=q,K;case M:return B=Sm(B,q.mode,K),B.return=q,B;case E:return B=Sa(B),ae(q,B,K)}if(me(B)||L(B))return B=xa(B,q.mode,K,null),B.return=q,B;if(typeof B.then=="function")return ae(q,Th(B),K);if(B.$$typeof===H)return ae(q,bh(q,B),K);Eh(q,B)}return null}function X(q,B,K,ie){var ke=B!==null?B.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return ke!==null?null:A(q,B,""+K,ie);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case S:return K.key===ke?U(q,B,K,ie):null;case M:return K.key===ke?Y(q,B,K,ie):null;case E:return K=Sa(K),X(q,B,K,ie)}if(me(K)||L(K))return ke!==null?null:ne(q,B,K,ie,null);if(typeof K.then=="function")return X(q,B,Th(K),ie);if(K.$$typeof===H)return X(q,B,bh(q,K),ie);Eh(q,K)}return null}function J(q,B,K,ie,ke){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return q=q.get(K)||null,A(B,q,""+ie,ke);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case S:return q=q.get(ie.key===null?K:ie.key)||null,U(B,q,ie,ke);case M:return q=q.get(ie.key===null?K:ie.key)||null,Y(B,q,ie,ke);case E:return ie=Sa(ie),J(q,B,K,ie,ke)}if(me(ie)||L(ie))return q=q.get(K)||null,ne(B,q,ie,ke,null);if(typeof ie.then=="function")return J(q,B,K,Th(ie),ke);if(ie.$$typeof===H)return J(q,B,K,bh(B,ie),ke);Eh(B,ie)}return null}function ye(q,B,K,ie){for(var ke=null,We=null,Te=B,ze=B=0,Ge=null;Te!==null&&ze<K.length;ze++){Te.index>ze?(Ge=Te,Te=null):Ge=Te.sibling;var Je=X(q,Te,K[ze],ie);if(Je===null){Te===null&&(Te=Ge);break}s&&Te&&Je.alternate===null&&r(q,Te),B=y(Je,B,ze),We===null?ke=Je:We.sibling=Je,We=Je,Te=Ge}if(ze===K.length)return o(q,Te),Xe&&Ei(q,ze),ke;if(Te===null){for(;ze<K.length;ze++)Te=ae(q,K[ze],ie),Te!==null&&(B=y(Te,B,ze),We===null?ke=Te:We.sibling=Te,We=Te);return Xe&&Ei(q,ze),ke}for(Te=u(Te);ze<K.length;ze++)Ge=J(Te,q,ze,K[ze],ie),Ge!==null&&(s&&Ge.alternate!==null&&Te.delete(Ge.key===null?ze:Ge.key),B=y(Ge,B,ze),We===null?ke=Ge:We.sibling=Ge,We=Ge);return s&&Te.forEach(function(jr){return r(q,jr)}),Xe&&Ei(q,ze),ke}function Ie(q,B,K,ie){if(K==null)throw Error(i(151));for(var ke=null,We=null,Te=B,ze=B=0,Ge=null,Je=K.next();Te!==null&&!Je.done;ze++,Je=K.next()){Te.index>ze?(Ge=Te,Te=null):Ge=Te.sibling;var jr=X(q,Te,Je.value,ie);if(jr===null){Te===null&&(Te=Ge);break}s&&Te&&jr.alternate===null&&r(q,Te),B=y(jr,B,ze),We===null?ke=jr:We.sibling=jr,We=jr,Te=Ge}if(Je.done)return o(q,Te),Xe&&Ei(q,ze),ke;if(Te===null){for(;!Je.done;ze++,Je=K.next())Je=ae(q,Je.value,ie),Je!==null&&(B=y(Je,B,ze),We===null?ke=Je:We.sibling=Je,We=Je);return Xe&&Ei(q,ze),ke}for(Te=u(Te);!Je.done;ze++,Je=K.next())Je=J(Te,q,ze,Je.value,ie),Je!==null&&(s&&Je.alternate!==null&&Te.delete(Je.key===null?ze:Je.key),B=y(Je,B,ze),We===null?ke=Je:We.sibling=Je,We=Je);return s&&Te.forEach(function(kR){return r(q,kR)}),Xe&&Ei(q,ze),ke}function ct(q,B,K,ie){if(typeof K=="object"&&K!==null&&K.type===O&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case S:e:{for(var ke=K.key;B!==null;){if(B.key===ke){if(ke=K.type,ke===O){if(B.tag===7){o(q,B.sibling),ie=m(B,K.props.children),ie.return=q,q=ie;break e}}else if(B.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===E&&Sa(ke)===B.type){o(q,B.sibling),ie=m(B,K.props),uc(ie,K),ie.return=q,q=ie;break e}o(q,B);break}else r(q,B);B=B.sibling}K.type===O?(ie=xa(K.props.children,q.mode,ie,K.key),ie.return=q,q=ie):(ie=gh(K.type,K.key,K.props,null,q.mode,ie),uc(ie,K),ie.return=q,q=ie)}return _(q);case M:e:{for(ke=K.key;B!==null;){if(B.key===ke)if(B.tag===4&&B.stateNode.containerInfo===K.containerInfo&&B.stateNode.implementation===K.implementation){o(q,B.sibling),ie=m(B,K.children||[]),ie.return=q,q=ie;break e}else{o(q,B);break}else r(q,B);B=B.sibling}ie=Sm(K,q.mode,ie),ie.return=q,q=ie}return _(q);case E:return K=Sa(K),ct(q,B,K,ie)}if(me(K))return ye(q,B,K,ie);if(L(K)){if(ke=L(K),typeof ke!="function")throw Error(i(150));return K=ke.call(K),Ie(q,B,K,ie)}if(typeof K.then=="function")return ct(q,B,Th(K),ie);if(K.$$typeof===H)return ct(q,B,bh(q,K),ie);Eh(q,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,B!==null&&B.tag===6?(o(q,B.sibling),ie=m(B,K),ie.return=q,q=ie):(o(q,B),ie=Em(K,q.mode,ie),ie.return=q,q=ie),_(q)):o(q,B)}return function(q,B,K,ie){try{cc=0;var ke=ct(q,B,K,ie);return Ro=null,ke}catch(Te){if(Te===No||Te===_h)throw Te;var We=Ln(29,Te,null,q.mode);return We.lanes=ie,We.return=q,We}}}var ka=Ib(!0),Db=Ib(!1),gr=!1;function Pm(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Lm(s,r){s=s.updateQueue,r.updateQueue===s&&(r.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function yr(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function vr(s,r,o){var u=s.updateQueue;if(u===null)return null;if(u=u.shared,(et&2)!==0){var m=u.pending;return m===null?r.next=r:(r.next=m.next,m.next=r),u.pending=r,r=ph(s),pb(s,null,o),r}return mh(s,u,r,o),ph(s)}function hc(s,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=s.pendingLanes,o|=u,r.lanes=o,Ll(s,o)}}function Um(s,r){var o=s.updateQueue,u=s.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var m=null,y=null;if(o=o.firstBaseUpdate,o!==null){do{var _={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};y===null?m=y=_:y=y.next=_,o=o.next}while(o!==null);y===null?m=y=r:y=y.next=r}else m=y=r;o={baseState:u.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:u.shared,callbacks:u.callbacks},s.updateQueue=o;return}s=o.lastBaseUpdate,s===null?o.firstBaseUpdate=r:s.next=r,o.lastBaseUpdate=r}var zm=!1;function dc(){if(zm){var s=Co;if(s!==null)throw s}}function fc(s,r,o,u){zm=!1;var m=s.updateQueue;gr=!1;var y=m.firstBaseUpdate,_=m.lastBaseUpdate,A=m.shared.pending;if(A!==null){m.shared.pending=null;var U=A,Y=U.next;U.next=null,_===null?y=Y:_.next=Y,_=U;var ne=s.alternate;ne!==null&&(ne=ne.updateQueue,A=ne.lastBaseUpdate,A!==_&&(A===null?ne.firstBaseUpdate=Y:A.next=Y,ne.lastBaseUpdate=U))}if(y!==null){var ae=m.baseState;_=0,ne=Y=U=null,A=y;do{var X=A.lane&-536870913,J=X!==A.lane;if(J?(qe&X)===X:(u&X)===X){X!==0&&X===ko&&(zm=!0),ne!==null&&(ne=ne.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var ye=s,Ie=A;X=r;var ct=o;switch(Ie.tag){case 1:if(ye=Ie.payload,typeof ye=="function"){ae=ye.call(ct,ae,X);break e}ae=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=Ie.payload,X=typeof ye=="function"?ye.call(ct,ae,X):ye,X==null)break e;ae=b({},ae,X);break e;case 2:gr=!0}}X=A.callback,X!==null&&(s.flags|=64,J&&(s.flags|=8192),J=m.callbacks,J===null?m.callbacks=[X]:J.push(X))}else J={lane:X,tag:A.tag,payload:A.payload,callback:A.callback,next:null},ne===null?(Y=ne=J,U=ae):ne=ne.next=J,_|=X;if(A=A.next,A===null){if(A=m.shared.pending,A===null)break;J=A,A=J.next,J.next=null,m.lastBaseUpdate=J,m.shared.pending=null}}while(!0);ne===null&&(U=ae),m.baseState=U,m.firstBaseUpdate=Y,m.lastBaseUpdate=ne,y===null&&(m.shared.lanes=0),Tr|=_,s.lanes=_,s.memoizedState=ae}}function jb(s,r){if(typeof s!="function")throw Error(i(191,s));s.call(r)}function Mb(s,r){var o=s.callbacks;if(o!==null)for(s.callbacks=null,s=0;s<o.length;s++)jb(o[s],r)}var Io=z(null),Sh=z(0);function Vb(s,r){s=Vi,ce(Sh,s),ce(Io,r),Vi=s|r.baseLanes}function Bm(){ce(Sh,Vi),ce(Io,Io.current)}function Fm(){Vi=Sh.current,te(Io),te(Sh)}var Un=z(null),ss=null;function br(s){var r=s.alternate;ce(kt,kt.current&1),ce(Un,s),ss===null&&(r===null||Io.current!==null||r.memoizedState!==null)&&(ss=s)}function Hm(s){ce(kt,kt.current),ce(Un,s),ss===null&&(ss=s)}function Ob(s){s.tag===22?(ce(kt,kt.current),ce(Un,s),ss===null&&(ss=s)):xr()}function xr(){ce(kt,kt.current),ce(Un,Un.current)}function zn(s){te(Un),ss===s&&(ss=null),te(kt)}var kt=z(0);function Ah(s){for(var r=s;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Xp(o)||Qp(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var ki=0,Ue=null,ot=null,Ot=null,kh=!1,Do=!1,Ca=!1,Ch=0,mc=0,jo=null,yN=0;function wt(){throw Error(i(321))}function qm(s,r){if(r===null)return!1;for(var o=0;o<r.length&&o<s.length;o++)if(!Pn(s[o],r[o]))return!1;return!0}function Gm(s,r,o,u,m,y){return ki=y,Ue=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,G.H=s===null||s.memoizedState===null?bx:ap,Ca=!1,y=o(u,m),Ca=!1,Do&&(y=Lb(r,o,u,m)),Pb(s),y}function Pb(s){G.H=yc;var r=ot!==null&&ot.next!==null;if(ki=0,Ot=ot=Ue=null,kh=!1,mc=0,jo=null,r)throw Error(i(300));s===null||Pt||(s=s.dependencies,s!==null&&vh(s)&&(Pt=!0))}function Lb(s,r,o,u){Ue=s;var m=0;do{if(Do&&(jo=null),mc=0,Do=!1,25<=m)throw Error(i(301));if(m+=1,Ot=ot=null,s.updateQueue!=null){var y=s.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}G.H=xx,y=r(o,u)}while(Do);return y}function vN(){var s=G.H,r=s.useState()[0];return r=typeof r.then=="function"?pc(r):r,s=s.useState()[0],(ot!==null?ot.memoizedState:null)!==s&&(Ue.flags|=1024),r}function $m(){var s=Ch!==0;return Ch=0,s}function Km(s,r,o){r.updateQueue=s.updateQueue,r.flags&=-2053,s.lanes&=~o}function Ym(s){if(kh){for(s=s.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}kh=!1}ki=0,Ot=ot=Ue=null,Do=!1,mc=Ch=0,jo=null}function Tn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?Ue.memoizedState=Ot=s:Ot=Ot.next=s,Ot}function Ct(){if(ot===null){var s=Ue.alternate;s=s!==null?s.memoizedState:null}else s=ot.next;var r=Ot===null?Ue.memoizedState:Ot.next;if(r!==null)Ot=r,ot=s;else{if(s===null)throw Ue.alternate===null?Error(i(467)):Error(i(310));ot=s,s={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},Ot===null?Ue.memoizedState=Ot=s:Ot=Ot.next=s}return Ot}function Nh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function pc(s){var r=mc;return mc+=1,jo===null&&(jo=[]),s=Cb(jo,s,r),r=Ue,(Ot===null?r.memoizedState:Ot.next)===null&&(r=r.alternate,G.H=r===null||r.memoizedState===null?bx:ap),s}function Rh(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return pc(s);if(s.$$typeof===H)return an(s)}throw Error(i(438,String(s)))}function Xm(s){var r=null,o=Ue.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=Ue.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(m){return m.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=Nh(),Ue.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(s),u=0;u<s;u++)o[u]=I;return r.index++,o}function Ci(s,r){return typeof r=="function"?r(s):r}function Ih(s){var r=Ct();return Qm(r,ot,s)}function Qm(s,r,o){var u=s.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var m=s.baseQueue,y=u.pending;if(y!==null){if(m!==null){var _=m.next;m.next=y.next,y.next=_}r.baseQueue=m=y,u.pending=null}if(y=s.baseState,m===null)s.memoizedState=y;else{r=m.next;var A=_=null,U=null,Y=r,ne=!1;do{var ae=Y.lane&-536870913;if(ae!==Y.lane?(qe&ae)===ae:(ki&ae)===ae){var X=Y.revertLane;if(X===0)U!==null&&(U=U.next={lane:0,revertLane:0,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),ae===ko&&(ne=!0);else if((ki&X)===X){Y=Y.next,X===ko&&(ne=!0);continue}else ae={lane:0,revertLane:Y.revertLane,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},U===null?(A=U=ae,_=y):U=U.next=ae,Ue.lanes|=X,Tr|=X;ae=Y.action,Ca&&o(y,ae),y=Y.hasEagerState?Y.eagerState:o(y,ae)}else X={lane:ae,revertLane:Y.revertLane,gesture:Y.gesture,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},U===null?(A=U=X,_=y):U=U.next=X,Ue.lanes|=ae,Tr|=ae;Y=Y.next}while(Y!==null&&Y!==r);if(U===null?_=y:U.next=A,!Pn(y,s.memoizedState)&&(Pt=!0,ne&&(o=Co,o!==null)))throw o;s.memoizedState=y,s.baseState=_,s.baseQueue=U,u.lastRenderedState=y}return m===null&&(u.lanes=0),[s.memoizedState,u.dispatch]}function Wm(s){var r=Ct(),o=r.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=s;var u=o.dispatch,m=o.pending,y=r.memoizedState;if(m!==null){o.pending=null;var _=m=m.next;do y=s(y,_.action),_=_.next;while(_!==m);Pn(y,r.memoizedState)||(Pt=!0),r.memoizedState=y,r.baseQueue===null&&(r.baseState=y),o.lastRenderedState=y}return[y,u]}function Ub(s,r,o){var u=Ue,m=Ct(),y=Xe;if(y){if(o===void 0)throw Error(i(407));o=o()}else o=r();var _=!Pn((ot||m).memoizedState,o);if(_&&(m.memoizedState=o,Pt=!0),m=m.queue,ep(Fb.bind(null,u,m,s),[s]),m.getSnapshot!==r||_||Ot!==null&&Ot.memoizedState.tag&1){if(u.flags|=2048,Mo(9,{destroy:void 0},Bb.bind(null,u,m,o,r),null),ut===null)throw Error(i(349));y||(ki&127)!==0||zb(u,r,o)}return o}function zb(s,r,o){s.flags|=16384,s={getSnapshot:r,value:o},r=Ue.updateQueue,r===null?(r=Nh(),Ue.updateQueue=r,r.stores=[s]):(o=r.stores,o===null?r.stores=[s]:o.push(s))}function Bb(s,r,o,u){r.value=o,r.getSnapshot=u,Hb(r)&&qb(s)}function Fb(s,r,o){return o(function(){Hb(r)&&qb(s)})}function Hb(s){var r=s.getSnapshot;s=s.value;try{var o=r();return!Pn(s,o)}catch{return!0}}function qb(s){var r=ba(s,2);r!==null&&Dn(r,s,2)}function Jm(s){var r=Tn();if(typeof s=="function"){var o=s;if(s=o(),Ca){Kn(!0);try{o()}finally{Kn(!1)}}}return r.memoizedState=r.baseState=s,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:s},r}function Gb(s,r,o,u){return s.baseState=o,Qm(s,ot,typeof u=="function"?u:Ci)}function bN(s,r,o,u,m){if(Mh(s))throw Error(i(485));if(s=r.action,s!==null){var y={payload:m,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){y.listeners.push(_)}};G.T!==null?o(!0):y.isTransition=!1,u(y),o=r.pending,o===null?(y.next=r.pending=y,$b(r,y)):(y.next=o.next,r.pending=o.next=y)}}function $b(s,r){var o=r.action,u=r.payload,m=s.state;if(r.isTransition){var y=G.T,_={};G.T=_;try{var A=o(m,u),U=G.S;U!==null&&U(_,A),Kb(s,r,A)}catch(Y){Zm(s,r,Y)}finally{y!==null&&_.types!==null&&(y.types=_.types),G.T=y}}else try{y=o(m,u),Kb(s,r,y)}catch(Y){Zm(s,r,Y)}}function Kb(s,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){Yb(s,r,u)},function(u){return Zm(s,r,u)}):Yb(s,r,o)}function Yb(s,r,o){r.status="fulfilled",r.value=o,Xb(r),s.state=o,r=s.pending,r!==null&&(o=r.next,o===r?s.pending=null:(o=o.next,r.next=o,$b(s,o)))}function Zm(s,r,o){var u=s.pending;if(s.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,Xb(r),r=r.next;while(r!==u)}s.action=null}function Xb(s){s=s.listeners;for(var r=0;r<s.length;r++)(0,s[r])()}function Qb(s,r){return r}function Wb(s,r){if(Xe){var o=ut.formState;if(o!==null){e:{var u=Ue;if(Xe){if(mt){t:{for(var m=mt,y=ns;m.nodeType!==8;){if(!y){m=null;break t}if(m=is(m.nextSibling),m===null){m=null;break t}}y=m.data,m=y==="F!"||y==="F"?m:null}if(m){mt=is(m.nextSibling),u=m.data==="F!";break e}}mr(u)}u=!1}u&&(r=o[0])}}return o=Tn(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qb,lastRenderedState:r},o.queue=u,o=gx.bind(null,Ue,u),u.dispatch=o,u=Jm(!1),y=rp.bind(null,Ue,!1,u.queue),u=Tn(),m={state:r,dispatch:null,action:s,pending:null},u.queue=m,o=bN.bind(null,Ue,m,y,o),m.dispatch=o,u.memoizedState=s,[r,o,!1]}function Jb(s){var r=Ct();return Zb(r,ot,s)}function Zb(s,r,o){if(r=Qm(s,r,Qb)[0],s=Ih(Ci)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=pc(r)}catch(_){throw _===No?_h:_}else u=r;r=Ct();var m=r.queue,y=m.dispatch;return o!==r.memoizedState&&(Ue.flags|=2048,Mo(9,{destroy:void 0},xN.bind(null,m,o),null)),[u,y,s]}function xN(s,r){s.action=r}function ex(s){var r=Ct(),o=ot;if(o!==null)return Zb(r,o,s);Ct(),r=r.memoizedState,o=Ct();var u=o.queue.dispatch;return o.memoizedState=s,[r,u,!1]}function Mo(s,r,o,u){return s={tag:s,create:o,deps:u,inst:r,next:null},r=Ue.updateQueue,r===null&&(r=Nh(),Ue.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=s.next=s:(u=o.next,o.next=s,s.next=u,r.lastEffect=s),s}function tx(){return Ct().memoizedState}function Dh(s,r,o,u){var m=Tn();Ue.flags|=s,m.memoizedState=Mo(1|r,{destroy:void 0},o,u===void 0?null:u)}function jh(s,r,o,u){var m=Ct();u=u===void 0?null:u;var y=m.memoizedState.inst;ot!==null&&u!==null&&qm(u,ot.memoizedState.deps)?m.memoizedState=Mo(r,y,o,u):(Ue.flags|=s,m.memoizedState=Mo(1|r,y,o,u))}function nx(s,r){Dh(8390656,8,s,r)}function ep(s,r){jh(2048,8,s,r)}function _N(s){Ue.flags|=4;var r=Ue.updateQueue;if(r===null)r=Nh(),Ue.updateQueue=r,r.events=[s];else{var o=r.events;o===null?r.events=[s]:o.push(s)}}function sx(s){var r=Ct().memoizedState;return _N({ref:r,nextImpl:s}),function(){if((et&2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}function ix(s,r){return jh(4,2,s,r)}function rx(s,r){return jh(4,4,s,r)}function ax(s,r){if(typeof r=="function"){s=s();var o=r(s);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return s=s(),r.current=s,function(){r.current=null}}function ox(s,r,o){o=o!=null?o.concat([s]):null,jh(4,4,ax.bind(null,r,s),o)}function tp(){}function lx(s,r){var o=Ct();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&qm(r,u[1])?u[0]:(o.memoizedState=[s,r],s)}function cx(s,r){var o=Ct();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&qm(r,u[1]))return u[0];if(u=s(),Ca){Kn(!0);try{s()}finally{Kn(!1)}}return o.memoizedState=[u,r],u}function np(s,r,o){return o===void 0||(ki&1073741824)!==0&&(qe&261930)===0?s.memoizedState=r:(s.memoizedState=o,s=u_(),Ue.lanes|=s,Tr|=s,o)}function ux(s,r,o,u){return Pn(o,r)?o:Io.current!==null?(s=np(s,o,u),Pn(s,r)||(Pt=!0),s):(ki&42)===0||(ki&1073741824)!==0&&(qe&261930)===0?(Pt=!0,s.memoizedState=o):(s=u_(),Ue.lanes|=s,Tr|=s,r)}function hx(s,r,o,u,m){var y=W.p;W.p=y!==0&&8>y?y:8;var _=G.T,A={};G.T=A,rp(s,!1,r,o);try{var U=m(),Y=G.S;if(Y!==null&&Y(A,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var ne=gN(U,u);gc(s,r,ne,Hn(s))}else gc(s,r,u,Hn(s))}catch(ae){gc(s,r,{then:function(){},status:"rejected",reason:ae},Hn())}finally{W.p=y,_!==null&&A.types!==null&&(_.types=A.types),G.T=_}}function wN(){}function sp(s,r,o,u){if(s.tag!==5)throw Error(i(476));var m=dx(s).queue;hx(s,m,r,Z,o===null?wN:function(){return fx(s),o(u)})}function dx(s){var r=s.memoizedState;if(r!==null)return r;r={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:Z},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:o},next:null},s.memoizedState=r,s=s.alternate,s!==null&&(s.memoizedState=r),r}function fx(s){var r=dx(s);r.next===null&&(r=s.alternate.memoizedState),gc(s,r.next.queue,{},Hn())}function ip(){return an(jc)}function mx(){return Ct().memoizedState}function px(){return Ct().memoizedState}function TN(s){for(var r=s.return;r!==null;){switch(r.tag){case 24:case 3:var o=Hn();s=yr(o);var u=vr(r,s,o);u!==null&&(Dn(u,r,o),hc(u,r,o)),r={cache:jm()},s.payload=r;return}r=r.return}}function EN(s,r,o){var u=Hn();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Mh(s)?yx(r,o):(o=wm(s,r,o,u),o!==null&&(Dn(o,s,u),vx(o,r,u)))}function gx(s,r,o){var u=Hn();gc(s,r,o,u)}function gc(s,r,o,u){var m={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Mh(s))yx(r,m);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=r.lastRenderedReducer,y!==null))try{var _=r.lastRenderedState,A=y(_,o);if(m.hasEagerState=!0,m.eagerState=A,Pn(A,_))return mh(s,r,m,0),ut===null&&fh(),!1}catch{}if(o=wm(s,r,m,u),o!==null)return Dn(o,s,u),vx(o,r,u),!0}return!1}function rp(s,r,o,u){if(u={lane:2,revertLane:Pp(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Mh(s)){if(r)throw Error(i(479))}else r=wm(s,o,u,2),r!==null&&Dn(r,s,2)}function Mh(s){var r=s.alternate;return s===Ue||r!==null&&r===Ue}function yx(s,r){Do=kh=!0;var o=s.pending;o===null?r.next=r:(r.next=o.next,o.next=r),s.pending=r}function vx(s,r,o){if((o&4194048)!==0){var u=r.lanes;u&=s.pendingLanes,o|=u,r.lanes=o,Ll(s,o)}}var yc={readContext:an,use:Rh,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useLayoutEffect:wt,useInsertionEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useSyncExternalStore:wt,useId:wt,useHostTransitionStatus:wt,useFormState:wt,useActionState:wt,useOptimistic:wt,useMemoCache:wt,useCacheRefresh:wt};yc.useEffectEvent=wt;var bx={readContext:an,use:Rh,useCallback:function(s,r){return Tn().memoizedState=[s,r===void 0?null:r],s},useContext:an,useEffect:nx,useImperativeHandle:function(s,r,o){o=o!=null?o.concat([s]):null,Dh(4194308,4,ax.bind(null,r,s),o)},useLayoutEffect:function(s,r){return Dh(4194308,4,s,r)},useInsertionEffect:function(s,r){Dh(4,2,s,r)},useMemo:function(s,r){var o=Tn();r=r===void 0?null:r;var u=s();if(Ca){Kn(!0);try{s()}finally{Kn(!1)}}return o.memoizedState=[u,r],u},useReducer:function(s,r,o){var u=Tn();if(o!==void 0){var m=o(r);if(Ca){Kn(!0);try{o(r)}finally{Kn(!1)}}}else m=r;return u.memoizedState=u.baseState=m,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:m},u.queue=s,s=s.dispatch=EN.bind(null,Ue,s),[u.memoizedState,s]},useRef:function(s){var r=Tn();return s={current:s},r.memoizedState=s},useState:function(s){s=Jm(s);var r=s.queue,o=gx.bind(null,Ue,r);return r.dispatch=o,[s.memoizedState,o]},useDebugValue:tp,useDeferredValue:function(s,r){var o=Tn();return np(o,s,r)},useTransition:function(){var s=Jm(!1);return s=hx.bind(null,Ue,s.queue,!0,!1),Tn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,r,o){var u=Ue,m=Tn();if(Xe){if(o===void 0)throw Error(i(407));o=o()}else{if(o=r(),ut===null)throw Error(i(349));(qe&127)!==0||zb(u,r,o)}m.memoizedState=o;var y={value:o,getSnapshot:r};return m.queue=y,nx(Fb.bind(null,u,y,s),[s]),u.flags|=2048,Mo(9,{destroy:void 0},Bb.bind(null,u,y,o,r),null),o},useId:function(){var s=Tn(),r=ut.identifierPrefix;if(Xe){var o=ei,u=Zs;o=(u&~(1<<32-St(u)-1)).toString(32)+o,r="_"+r+"R_"+o,o=Ch++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=yN++,r="_"+r+"r_"+o.toString(32)+"_";return s.memoizedState=r},useHostTransitionStatus:ip,useFormState:Wb,useActionState:Wb,useOptimistic:function(s){var r=Tn();r.memoizedState=r.baseState=s;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=rp.bind(null,Ue,!0,o),o.dispatch=r,[s,r]},useMemoCache:Xm,useCacheRefresh:function(){return Tn().memoizedState=TN.bind(null,Ue)},useEffectEvent:function(s){var r=Tn(),o={impl:s};return r.memoizedState=o,function(){if((et&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}},ap={readContext:an,use:Rh,useCallback:lx,useContext:an,useEffect:ep,useImperativeHandle:ox,useInsertionEffect:ix,useLayoutEffect:rx,useMemo:cx,useReducer:Ih,useRef:tx,useState:function(){return Ih(Ci)},useDebugValue:tp,useDeferredValue:function(s,r){var o=Ct();return ux(o,ot.memoizedState,s,r)},useTransition:function(){var s=Ih(Ci)[0],r=Ct().memoizedState;return[typeof s=="boolean"?s:pc(s),r]},useSyncExternalStore:Ub,useId:mx,useHostTransitionStatus:ip,useFormState:Jb,useActionState:Jb,useOptimistic:function(s,r){var o=Ct();return Gb(o,ot,s,r)},useMemoCache:Xm,useCacheRefresh:px};ap.useEffectEvent=sx;var xx={readContext:an,use:Rh,useCallback:lx,useContext:an,useEffect:ep,useImperativeHandle:ox,useInsertionEffect:ix,useLayoutEffect:rx,useMemo:cx,useReducer:Wm,useRef:tx,useState:function(){return Wm(Ci)},useDebugValue:tp,useDeferredValue:function(s,r){var o=Ct();return ot===null?np(o,s,r):ux(o,ot.memoizedState,s,r)},useTransition:function(){var s=Wm(Ci)[0],r=Ct().memoizedState;return[typeof s=="boolean"?s:pc(s),r]},useSyncExternalStore:Ub,useId:mx,useHostTransitionStatus:ip,useFormState:ex,useActionState:ex,useOptimistic:function(s,r){var o=Ct();return ot!==null?Gb(o,ot,s,r):(o.baseState=s,[s,o.queue.dispatch])},useMemoCache:Xm,useCacheRefresh:px};xx.useEffectEvent=sx;function op(s,r,o,u){r=s.memoizedState,o=o(u,r),o=o==null?r:b({},r,o),s.memoizedState=o,s.lanes===0&&(s.updateQueue.baseState=o)}var lp={enqueueSetState:function(s,r,o){s=s._reactInternals;var u=Hn(),m=yr(u);m.payload=r,o!=null&&(m.callback=o),r=vr(s,m,u),r!==null&&(Dn(r,s,u),hc(r,s,u))},enqueueReplaceState:function(s,r,o){s=s._reactInternals;var u=Hn(),m=yr(u);m.tag=1,m.payload=r,o!=null&&(m.callback=o),r=vr(s,m,u),r!==null&&(Dn(r,s,u),hc(r,s,u))},enqueueForceUpdate:function(s,r){s=s._reactInternals;var o=Hn(),u=yr(o);u.tag=2,r!=null&&(u.callback=r),r=vr(s,u,o),r!==null&&(Dn(r,s,o),hc(r,s,o))}};function _x(s,r,o,u,m,y,_){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(u,y,_):r.prototype&&r.prototype.isPureReactComponent?!sc(o,u)||!sc(m,y):!0}function wx(s,r,o,u){s=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==s&&lp.enqueueReplaceState(r,r.state,null)}function Na(s,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(s=s.defaultProps){o===r&&(o=b({},o));for(var m in s)o[m]===void 0&&(o[m]=s[m])}return o}function Tx(s){dh(s)}function Ex(s){console.error(s)}function Sx(s){dh(s)}function Vh(s,r){try{var o=s.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function Ax(s,r,o){try{var u=s.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function cp(s,r,o){return o=yr(o),o.tag=3,o.payload={element:null},o.callback=function(){Vh(s,r)},o}function kx(s){return s=yr(s),s.tag=3,s}function Cx(s,r,o,u){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var y=u.value;s.payload=function(){return m(y)},s.callback=function(){Ax(r,o,u)}}var _=o.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(s.callback=function(){Ax(r,o,u),typeof m!="function"&&(Er===null?Er=new Set([this]):Er.add(this));var A=u.stack;this.componentDidCatch(u.value,{componentStack:A!==null?A:""})})}function SN(s,r,o,u,m){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&Ao(r,o,m,!0),o=Un.current,o!==null){switch(o.tag){case 31:case 13:return ss===null?Kh():o.alternate===null&&Tt===0&&(Tt=3),o.flags&=-257,o.flags|=65536,o.lanes=m,u===wh?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),Mp(s,u,m)),!1;case 22:return o.flags|=65536,u===wh?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),Mp(s,u,m)),!1}throw Error(i(435,o.tag))}return Mp(s,u,m),Kh(),!1}if(Xe)return r=Un.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=m,u!==Cm&&(s=Error(i(422),{cause:u}),ac(Zn(s,o)))):(u!==Cm&&(r=Error(i(423),{cause:u}),ac(Zn(r,o))),s=s.current.alternate,s.flags|=65536,m&=-m,s.lanes|=m,u=Zn(u,o),m=cp(s.stateNode,u,m),Um(s,m),Tt!==4&&(Tt=2)),!1;var y=Error(i(520),{cause:u});if(y=Zn(y,o),Sc===null?Sc=[y]:Sc.push(y),Tt!==4&&(Tt=2),r===null)return!0;u=Zn(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,s=m&-m,o.lanes|=s,s=cp(o.stateNode,u,s),Um(o,s),!1;case 1:if(r=o.type,y=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Er===null||!Er.has(y))))return o.flags|=65536,m&=-m,o.lanes|=m,m=kx(m),Cx(m,s,o,u),Um(o,m),!1}o=o.return}while(o!==null);return!1}var up=Error(i(461)),Pt=!1;function on(s,r,o,u){r.child=s===null?Db(r,null,o,u):ka(r,s.child,o,u)}function Nx(s,r,o,u,m){o=o.render;var y=r.ref;if("ref"in u){var _={};for(var A in u)A!=="ref"&&(_[A]=u[A])}else _=u;return Ta(r),u=Gm(s,r,o,_,y,m),A=$m(),s!==null&&!Pt?(Km(s,r,m),Ni(s,r,m)):(Xe&&A&&Am(r),r.flags|=1,on(s,r,u,m),r.child)}function Rx(s,r,o,u,m){if(s===null){var y=o.type;return typeof y=="function"&&!Tm(y)&&y.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=y,Ix(s,r,y,u,m)):(s=gh(o.type,null,u,r,r.mode,m),s.ref=r.ref,s.return=r,r.child=s)}if(y=s.child,!vp(s,m)){var _=y.memoizedProps;if(o=o.compare,o=o!==null?o:sc,o(_,u)&&s.ref===r.ref)return Ni(s,r,m)}return r.flags|=1,s=Ti(y,u),s.ref=r.ref,s.return=r,r.child=s}function Ix(s,r,o,u,m){if(s!==null){var y=s.memoizedProps;if(sc(y,u)&&s.ref===r.ref)if(Pt=!1,r.pendingProps=u=y,vp(s,m))(s.flags&131072)!==0&&(Pt=!0);else return r.lanes=s.lanes,Ni(s,r,m)}return hp(s,r,o,u,m)}function Dx(s,r,o,u){var m=u.children,y=s!==null?s.memoizedState:null;if(s===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(y=y!==null?y.baseLanes|o:o,s!==null){for(u=r.child=s.child,m=0;u!==null;)m=m|u.lanes|u.childLanes,u=u.sibling;u=m&~y}else u=0,r.child=null;return jx(s,r,y,o,u)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},s!==null&&xh(r,y!==null?y.cachePool:null),y!==null?Vb(r,y):Bm(),Ob(r);else return u=r.lanes=536870912,jx(s,r,y!==null?y.baseLanes|o:o,o,u)}else y!==null?(xh(r,y.cachePool),Vb(r,y),xr(),r.memoizedState=null):(s!==null&&xh(r,null),Bm(),xr());return on(s,r,m,o),r.child}function vc(s,r){return s!==null&&s.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function jx(s,r,o,u,m){var y=Vm();return y=y===null?null:{parent:Vt._currentValue,pool:y},r.memoizedState={baseLanes:o,cachePool:y},s!==null&&xh(r,null),Bm(),Ob(r),s!==null&&Ao(s,r,u,!0),r.childLanes=m,null}function Oh(s,r){return r=Lh({mode:r.mode,children:r.children},s.mode),r.ref=s.ref,s.child=r,r.return=s,r}function Mx(s,r,o){return ka(r,s.child,null,o),s=Oh(r,r.pendingProps),s.flags|=2,zn(r),r.memoizedState=null,s}function AN(s,r,o){var u=r.pendingProps,m=(r.flags&128)!==0;if(r.flags&=-129,s===null){if(Xe){if(u.mode==="hidden")return s=Oh(r,u),r.lanes=536870912,vc(null,s);if(Hm(r),(s=mt)?(s=$_(s,ns),s=s!==null&&s.data==="&"?s:null,s!==null&&(r.memoizedState={dehydrated:s,treeContext:dr!==null?{id:Zs,overflow:ei}:null,retryLane:536870912,hydrationErrors:null},o=yb(s),o.return=r,r.child=o,rn=r,mt=null)):s=null,s===null)throw mr(r);return r.lanes=536870912,null}return Oh(r,u)}var y=s.memoizedState;if(y!==null){var _=y.dehydrated;if(Hm(r),m)if(r.flags&256)r.flags&=-257,r=Mx(s,r,o);else if(r.memoizedState!==null)r.child=s.child,r.flags|=128,r=null;else throw Error(i(558));else if(Pt||Ao(s,r,o,!1),m=(o&s.childLanes)!==0,Pt||m){if(u=ut,u!==null&&(_=Ul(u,o),_!==0&&_!==y.retryLane))throw y.retryLane=_,ba(s,_),Dn(u,s,_),up;Kh(),r=Mx(s,r,o)}else s=y.treeContext,mt=is(_.nextSibling),rn=r,Xe=!0,fr=null,ns=!1,s!==null&&xb(r,s),r=Oh(r,u),r.flags|=4096;return r}return s=Ti(s.child,{mode:u.mode,children:u.children}),s.ref=r.ref,r.child=s,s.return=r,s}function Ph(s,r){var o=r.ref;if(o===null)s!==null&&s.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(s===null||s.ref!==o)&&(r.flags|=4194816)}}function hp(s,r,o,u,m){return Ta(r),o=Gm(s,r,o,u,void 0,m),u=$m(),s!==null&&!Pt?(Km(s,r,m),Ni(s,r,m)):(Xe&&u&&Am(r),r.flags|=1,on(s,r,o,m),r.child)}function Vx(s,r,o,u,m,y){return Ta(r),r.updateQueue=null,o=Lb(r,u,o,m),Pb(s),u=$m(),s!==null&&!Pt?(Km(s,r,y),Ni(s,r,y)):(Xe&&u&&Am(r),r.flags|=1,on(s,r,o,y),r.child)}function Ox(s,r,o,u,m){if(Ta(r),r.stateNode===null){var y=wo,_=o.contextType;typeof _=="object"&&_!==null&&(y=an(_)),y=new o(u,y),r.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=lp,r.stateNode=y,y._reactInternals=r,y=r.stateNode,y.props=u,y.state=r.memoizedState,y.refs={},Pm(r),_=o.contextType,y.context=typeof _=="object"&&_!==null?an(_):wo,y.state=r.memoizedState,_=o.getDerivedStateFromProps,typeof _=="function"&&(op(r,o,_,u),y.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(_=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),_!==y.state&&lp.enqueueReplaceState(y,y.state,null),fc(r,u,y,m),dc(),y.state=r.memoizedState),typeof y.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(s===null){y=r.stateNode;var A=r.memoizedProps,U=Na(o,A);y.props=U;var Y=y.context,ne=o.contextType;_=wo,typeof ne=="object"&&ne!==null&&(_=an(ne));var ae=o.getDerivedStateFromProps;ne=typeof ae=="function"||typeof y.getSnapshotBeforeUpdate=="function",A=r.pendingProps!==A,ne||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(A||Y!==_)&&wx(r,y,u,_),gr=!1;var X=r.memoizedState;y.state=X,fc(r,u,y,m),dc(),Y=r.memoizedState,A||X!==Y||gr?(typeof ae=="function"&&(op(r,o,ae,u),Y=r.memoizedState),(U=gr||_x(r,o,U,u,X,Y,_))?(ne||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(r.flags|=4194308)):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=Y),y.props=u,y.state=Y,y.context=_,u=U):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{y=r.stateNode,Lm(s,r),_=r.memoizedProps,ne=Na(o,_),y.props=ne,ae=r.pendingProps,X=y.context,Y=o.contextType,U=wo,typeof Y=="object"&&Y!==null&&(U=an(Y)),A=o.getDerivedStateFromProps,(Y=typeof A=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(_!==ae||X!==U)&&wx(r,y,u,U),gr=!1,X=r.memoizedState,y.state=X,fc(r,u,y,m),dc();var J=r.memoizedState;_!==ae||X!==J||gr||s!==null&&s.dependencies!==null&&vh(s.dependencies)?(typeof A=="function"&&(op(r,o,A,u),J=r.memoizedState),(ne=gr||_x(r,o,ne,u,X,J,U)||s!==null&&s.dependencies!==null&&vh(s.dependencies))?(Y||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,J,U),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,J,U)),typeof y.componentDidUpdate=="function"&&(r.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof y.componentDidUpdate!="function"||_===s.memoizedProps&&X===s.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||_===s.memoizedProps&&X===s.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=J),y.props=u,y.state=J,y.context=U,u=ne):(typeof y.componentDidUpdate!="function"||_===s.memoizedProps&&X===s.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||_===s.memoizedProps&&X===s.memoizedState||(r.flags|=1024),u=!1)}return y=u,Ph(s,r),u=(r.flags&128)!==0,y||u?(y=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:y.render(),r.flags|=1,s!==null&&u?(r.child=ka(r,s.child,null,m),r.child=ka(r,null,o,m)):on(s,r,o,m),r.memoizedState=y.state,s=r.child):s=Ni(s,r,m),s}function Px(s,r,o,u){return _a(),r.flags|=256,on(s,r,o,u),r.child}var dp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function fp(s){return{baseLanes:s,cachePool:Ab()}}function mp(s,r,o){return s=s!==null?s.childLanes&~o:0,r&&(s|=Fn),s}function Lx(s,r,o){var u=r.pendingProps,m=!1,y=(r.flags&128)!==0,_;if((_=y)||(_=s!==null&&s.memoizedState===null?!1:(kt.current&2)!==0),_&&(m=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,s===null){if(Xe){if(m?br(r):xr(),(s=mt)?(s=$_(s,ns),s=s!==null&&s.data!=="&"?s:null,s!==null&&(r.memoizedState={dehydrated:s,treeContext:dr!==null?{id:Zs,overflow:ei}:null,retryLane:536870912,hydrationErrors:null},o=yb(s),o.return=r,r.child=o,rn=r,mt=null)):s=null,s===null)throw mr(r);return Qp(s)?r.lanes=32:r.lanes=536870912,null}var A=u.children;return u=u.fallback,m?(xr(),m=r.mode,A=Lh({mode:"hidden",children:A},m),u=xa(u,m,o,null),A.return=r,u.return=r,A.sibling=u,r.child=A,u=r.child,u.memoizedState=fp(o),u.childLanes=mp(s,_,o),r.memoizedState=dp,vc(null,u)):(br(r),pp(r,A))}var U=s.memoizedState;if(U!==null&&(A=U.dehydrated,A!==null)){if(y)r.flags&256?(br(r),r.flags&=-257,r=gp(s,r,o)):r.memoizedState!==null?(xr(),r.child=s.child,r.flags|=128,r=null):(xr(),A=u.fallback,m=r.mode,u=Lh({mode:"visible",children:u.children},m),A=xa(A,m,o,null),A.flags|=2,u.return=r,A.return=r,u.sibling=A,r.child=u,ka(r,s.child,null,o),u=r.child,u.memoizedState=fp(o),u.childLanes=mp(s,_,o),r.memoizedState=dp,r=vc(null,u));else if(br(r),Qp(A)){if(_=A.nextSibling&&A.nextSibling.dataset,_)var Y=_.dgst;_=Y,u=Error(i(419)),u.stack="",u.digest=_,ac({value:u,source:null,stack:null}),r=gp(s,r,o)}else if(Pt||Ao(s,r,o,!1),_=(o&s.childLanes)!==0,Pt||_){if(_=ut,_!==null&&(u=Ul(_,o),u!==0&&u!==U.retryLane))throw U.retryLane=u,ba(s,u),Dn(_,s,u),up;Xp(A)||Kh(),r=gp(s,r,o)}else Xp(A)?(r.flags|=192,r.child=s.child,r=null):(s=U.treeContext,mt=is(A.nextSibling),rn=r,Xe=!0,fr=null,ns=!1,s!==null&&xb(r,s),r=pp(r,u.children),r.flags|=4096);return r}return m?(xr(),A=u.fallback,m=r.mode,U=s.child,Y=U.sibling,u=Ti(U,{mode:"hidden",children:u.children}),u.subtreeFlags=U.subtreeFlags&65011712,Y!==null?A=Ti(Y,A):(A=xa(A,m,o,null),A.flags|=2),A.return=r,u.return=r,u.sibling=A,r.child=u,vc(null,u),u=r.child,A=s.child.memoizedState,A===null?A=fp(o):(m=A.cachePool,m!==null?(U=Vt._currentValue,m=m.parent!==U?{parent:U,pool:U}:m):m=Ab(),A={baseLanes:A.baseLanes|o,cachePool:m}),u.memoizedState=A,u.childLanes=mp(s,_,o),r.memoizedState=dp,vc(s.child,u)):(br(r),o=s.child,s=o.sibling,o=Ti(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,s!==null&&(_=r.deletions,_===null?(r.deletions=[s],r.flags|=16):_.push(s)),r.child=o,r.memoizedState=null,o)}function pp(s,r){return r=Lh({mode:"visible",children:r},s.mode),r.return=s,s.child=r}function Lh(s,r){return s=Ln(22,s,null,r),s.lanes=0,s}function gp(s,r,o){return ka(r,s.child,null,o),s=pp(r,r.pendingProps.children),s.flags|=2,r.memoizedState=null,s}function Ux(s,r,o){s.lanes|=r;var u=s.alternate;u!==null&&(u.lanes|=r),Im(s.return,r,o)}function yp(s,r,o,u,m,y){var _=s.memoizedState;_===null?s.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:m,treeForkCount:y}:(_.isBackwards=r,_.rendering=null,_.renderingStartTime=0,_.last=u,_.tail=o,_.tailMode=m,_.treeForkCount=y)}function zx(s,r,o){var u=r.pendingProps,m=u.revealOrder,y=u.tail;u=u.children;var _=kt.current,A=(_&2)!==0;if(A?(_=_&1|2,r.flags|=128):_&=1,ce(kt,_),on(s,r,u,o),u=Xe?rc:0,!A&&s!==null&&(s.flags&128)!==0)e:for(s=r.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Ux(s,o,r);else if(s.tag===19)Ux(s,o,r);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(m){case"forwards":for(o=r.child,m=null;o!==null;)s=o.alternate,s!==null&&Ah(s)===null&&(m=o),o=o.sibling;o=m,o===null?(m=r.child,r.child=null):(m=o.sibling,o.sibling=null),yp(r,!1,m,o,y,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,m=r.child,r.child=null;m!==null;){if(s=m.alternate,s!==null&&Ah(s)===null){r.child=m;break}s=m.sibling,m.sibling=o,o=m,m=s}yp(r,!0,o,null,y,u);break;case"together":yp(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function Ni(s,r,o){if(s!==null&&(r.dependencies=s.dependencies),Tr|=r.lanes,(o&r.childLanes)===0)if(s!==null){if(Ao(s,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(s!==null&&r.child!==s.child)throw Error(i(153));if(r.child!==null){for(s=r.child,o=Ti(s,s.pendingProps),r.child=o,o.return=r;s.sibling!==null;)s=s.sibling,o=o.sibling=Ti(s,s.pendingProps),o.return=r;o.sibling=null}return r.child}function vp(s,r){return(s.lanes&r)!==0?!0:(s=s.dependencies,!!(s!==null&&vh(s)))}function kN(s,r,o){switch(r.tag){case 3:he(r,r.stateNode.containerInfo),pr(r,Vt,s.memoizedState.cache),_a();break;case 27:case 5:ht(r);break;case 4:he(r,r.stateNode.containerInfo);break;case 10:pr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Hm(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(br(r),r.flags|=128,null):(o&r.child.childLanes)!==0?Lx(s,r,o):(br(r),s=Ni(s,r,o),s!==null?s.sibling:null);br(r);break;case 19:var m=(s.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(Ao(s,r,o,!1),u=(o&r.childLanes)!==0),m){if(u)return zx(s,r,o);r.flags|=128}if(m=r.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),ce(kt,kt.current),u)break;return null;case 22:return r.lanes=0,Dx(s,r,o,r.pendingProps);case 24:pr(r,Vt,s.memoizedState.cache)}return Ni(s,r,o)}function Bx(s,r,o){if(s!==null)if(s.memoizedProps!==r.pendingProps)Pt=!0;else{if(!vp(s,o)&&(r.flags&128)===0)return Pt=!1,kN(s,r,o);Pt=(s.flags&131072)!==0}else Pt=!1,Xe&&(r.flags&1048576)!==0&&bb(r,rc,r.index);switch(r.lanes=0,r.tag){case 16:e:{var u=r.pendingProps;if(s=Sa(r.elementType),r.type=s,typeof s=="function")Tm(s)?(u=Na(s,u),r.tag=1,r=Ox(null,r,s,u,o)):(r.tag=0,r=hp(null,r,s,u,o));else{if(s!=null){var m=s.$$typeof;if(m===ee){r.tag=11,r=Nx(null,r,s,u,o);break e}else if(m===j){r.tag=14,r=Rx(null,r,s,u,o);break e}}throw r=fe(s)||s,Error(i(306,r,""))}}return r;case 0:return hp(s,r,r.type,r.pendingProps,o);case 1:return u=r.type,m=Na(u,r.pendingProps),Ox(s,r,u,m,o);case 3:e:{if(he(r,r.stateNode.containerInfo),s===null)throw Error(i(387));u=r.pendingProps;var y=r.memoizedState;m=y.element,Lm(s,r),fc(r,u,null,o);var _=r.memoizedState;if(u=_.cache,pr(r,Vt,u),u!==y.cache&&Dm(r,[Vt],o,!0),dc(),u=_.element,y.isDehydrated)if(y={element:u,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=y,r.memoizedState=y,r.flags&256){r=Px(s,r,u,o);break e}else if(u!==m){m=Zn(Error(i(424)),r),ac(m),r=Px(s,r,u,o);break e}else for(s=r.stateNode.containerInfo,s.nodeType===9?s=s.body:s=s.nodeName==="HTML"?s.ownerDocument.body:s,mt=is(s.firstChild),rn=r,Xe=!0,fr=null,ns=!0,o=Db(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(_a(),u===m){r=Ni(s,r,o);break e}on(s,r,u,o)}r=r.child}return r;case 26:return Ph(s,r),s===null?(o=J_(r.type,null,r.pendingProps,null))?r.memoizedState=o:Xe||(o=r.type,s=r.pendingProps,u=ed(Ne.current).createElement(o),u[Dt]=r,u[Wt]=s,ln(u,o,s),jt(u),r.stateNode=u):r.memoizedState=J_(r.type,s.memoizedProps,r.pendingProps,s.memoizedState),null;case 27:return ht(r),s===null&&Xe&&(u=r.stateNode=X_(r.type,r.pendingProps,Ne.current),rn=r,ns=!0,m=mt,Cr(r.type)?(Wp=m,mt=is(u.firstChild)):mt=m),on(s,r,r.pendingProps.children,o),Ph(s,r),s===null&&(r.flags|=4194304),r.child;case 5:return s===null&&Xe&&((m=u=mt)&&(u=sR(u,r.type,r.pendingProps,ns),u!==null?(r.stateNode=u,rn=r,mt=is(u.firstChild),ns=!1,m=!0):m=!1),m||mr(r)),ht(r),m=r.type,y=r.pendingProps,_=s!==null?s.memoizedProps:null,u=y.children,$p(m,y)?u=null:_!==null&&$p(m,_)&&(r.flags|=32),r.memoizedState!==null&&(m=Gm(s,r,vN,null,null,o),jc._currentValue=m),Ph(s,r),on(s,r,u,o),r.child;case 6:return s===null&&Xe&&((s=o=mt)&&(o=iR(o,r.pendingProps,ns),o!==null?(r.stateNode=o,rn=r,mt=null,s=!0):s=!1),s||mr(r)),null;case 13:return Lx(s,r,o);case 4:return he(r,r.stateNode.containerInfo),u=r.pendingProps,s===null?r.child=ka(r,null,u,o):on(s,r,u,o),r.child;case 11:return Nx(s,r,r.type,r.pendingProps,o);case 7:return on(s,r,r.pendingProps,o),r.child;case 8:return on(s,r,r.pendingProps.children,o),r.child;case 12:return on(s,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,pr(r,r.type,u.value),on(s,r,u.children,o),r.child;case 9:return m=r.type._context,u=r.pendingProps.children,Ta(r),m=an(m),u=u(m),r.flags|=1,on(s,r,u,o),r.child;case 14:return Rx(s,r,r.type,r.pendingProps,o);case 15:return Ix(s,r,r.type,r.pendingProps,o);case 19:return zx(s,r,o);case 31:return AN(s,r,o);case 22:return Dx(s,r,o,r.pendingProps);case 24:return Ta(r),u=an(Vt),s===null?(m=Vm(),m===null&&(m=ut,y=jm(),m.pooledCache=y,y.refCount++,y!==null&&(m.pooledCacheLanes|=o),m=y),r.memoizedState={parent:u,cache:m},Pm(r),pr(r,Vt,m)):((s.lanes&o)!==0&&(Lm(s,r),fc(r,null,null,o),dc()),m=s.memoizedState,y=r.memoizedState,m.parent!==u?(m={parent:u,cache:u},r.memoizedState=m,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=m),pr(r,Vt,u)):(u=y.cache,pr(r,Vt,u),u!==m.cache&&Dm(r,[Vt],o,!0))),on(s,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function Ri(s){s.flags|=4}function bp(s,r,o,u,m){if((r=(s.mode&32)!==0)&&(r=!1),r){if(s.flags|=16777216,(m&335544128)===m)if(s.stateNode.complete)s.flags|=8192;else if(m_())s.flags|=8192;else throw Aa=wh,Om}else s.flags&=-16777217}function Fx(s,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!s1(r))if(m_())s.flags|=8192;else throw Aa=wh,Om}function Uh(s,r){r!==null&&(s.flags|=4),s.flags&16384&&(r=s.tag!==22?Gu():536870912,s.lanes|=r,Lo|=r)}function bc(s,r){if(!Xe)switch(s.tailMode){case"hidden":r=s.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?s.tail=null:o.sibling=null;break;case"collapsed":o=s.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||s.tail===null?s.tail=null:s.tail.sibling=null:u.sibling=null}}function pt(s){var r=s.alternate!==null&&s.alternate.child===s.child,o=0,u=0;if(r)for(var m=s.child;m!==null;)o|=m.lanes|m.childLanes,u|=m.subtreeFlags&65011712,u|=m.flags&65011712,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)o|=m.lanes|m.childLanes,u|=m.subtreeFlags,u|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=u,s.childLanes=o,r}function CN(s,r,o){var u=r.pendingProps;switch(km(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pt(r),null;case 1:return pt(r),null;case 3:return o=r.stateNode,u=null,s!==null&&(u=s.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),Ai(Vt),je(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(s===null||s.child===null)&&(So(r)?Ri(r):s===null||s.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Nm())),pt(r),null;case 26:var m=r.type,y=r.memoizedState;return s===null?(Ri(r),y!==null?(pt(r),Fx(r,y)):(pt(r),bp(r,m,null,u,o))):y?y!==s.memoizedState?(Ri(r),pt(r),Fx(r,y)):(pt(r),r.flags&=-16777217):(s=s.memoizedProps,s!==u&&Ri(r),pt(r),bp(r,m,s,u,o)),null;case 27:if(nt(r),o=Ne.current,m=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==u&&Ri(r);else{if(!u){if(r.stateNode===null)throw Error(i(166));return pt(r),null}s=ue.current,So(r)?_b(r):(s=X_(m,u,o),r.stateNode=s,Ri(r))}return pt(r),null;case 5:if(nt(r),m=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==u&&Ri(r);else{if(!u){if(r.stateNode===null)throw Error(i(166));return pt(r),null}if(y=ue.current,So(r))_b(r);else{var _=ed(Ne.current);switch(y){case 1:y=_.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:y=_.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":y=_.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":y=_.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":y=_.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof u.is=="string"?_.createElement("select",{is:u.is}):_.createElement("select"),u.multiple?y.multiple=!0:u.size&&(y.size=u.size);break;default:y=typeof u.is=="string"?_.createElement(m,{is:u.is}):_.createElement(m)}}y[Dt]=r,y[Wt]=u;e:for(_=r.child;_!==null;){if(_.tag===5||_.tag===6)y.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===r)break e;for(;_.sibling===null;){if(_.return===null||_.return===r)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}r.stateNode=y;e:switch(ln(y,m,u),m){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Ri(r)}}return pt(r),bp(r,r.type,s===null?null:s.memoizedProps,r.pendingProps,o),null;case 6:if(s&&r.stateNode!=null)s.memoizedProps!==u&&Ri(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(i(166));if(s=Ne.current,So(r)){if(s=r.stateNode,o=r.memoizedProps,u=null,m=rn,m!==null)switch(m.tag){case 27:case 5:u=m.memoizedProps}s[Dt]=r,s=!!(s.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||L_(s.nodeValue,o)),s||mr(r,!0)}else s=ed(s).createTextNode(u),s[Dt]=r,r.stateNode=s}return pt(r),null;case 31:if(o=r.memoizedState,s===null||s.memoizedState!==null){if(u=So(r),o!==null){if(s===null){if(!u)throw Error(i(318));if(s=r.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(557));s[Dt]=r}else _a(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;pt(r),s=!1}else o=Nm(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=o),s=!0;if(!s)return r.flags&256?(zn(r),r):(zn(r),null);if((r.flags&128)!==0)throw Error(i(558))}return pt(r),null;case 13:if(u=r.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(m=So(r),u!==null&&u.dehydrated!==null){if(s===null){if(!m)throw Error(i(318));if(m=r.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[Dt]=r}else _a(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;pt(r),m=!1}else m=Nm(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=m),m=!0;if(!m)return r.flags&256?(zn(r),r):(zn(r),null)}return zn(r),(r.flags&128)!==0?(r.lanes=o,r):(o=u!==null,s=s!==null&&s.memoizedState!==null,o&&(u=r.child,m=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(m=u.alternate.memoizedState.cachePool.pool),y=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==m&&(u.flags|=2048)),o!==s&&o&&(r.child.flags|=8192),Uh(r,r.updateQueue),pt(r),null);case 4:return je(),s===null&&Bp(r.stateNode.containerInfo),pt(r),null;case 10:return Ai(r.type),pt(r),null;case 19:if(te(kt),u=r.memoizedState,u===null)return pt(r),null;if(m=(r.flags&128)!==0,y=u.rendering,y===null)if(m)bc(u,!1);else{if(Tt!==0||s!==null&&(s.flags&128)!==0)for(s=r.child;s!==null;){if(y=Ah(s),y!==null){for(r.flags|=128,bc(u,!1),s=y.updateQueue,r.updateQueue=s,Uh(r,s),r.subtreeFlags=0,s=o,o=r.child;o!==null;)gb(o,s),o=o.sibling;return ce(kt,kt.current&1|2),Xe&&Ei(r,u.treeForkCount),r.child}s=s.sibling}u.tail!==null&&_n()>qh&&(r.flags|=128,m=!0,bc(u,!1),r.lanes=4194304)}else{if(!m)if(s=Ah(y),s!==null){if(r.flags|=128,m=!0,s=s.updateQueue,r.updateQueue=s,Uh(r,s),bc(u,!0),u.tail===null&&u.tailMode==="hidden"&&!y.alternate&&!Xe)return pt(r),null}else 2*_n()-u.renderingStartTime>qh&&o!==536870912&&(r.flags|=128,m=!0,bc(u,!1),r.lanes=4194304);u.isBackwards?(y.sibling=r.child,r.child=y):(s=u.last,s!==null?s.sibling=y:r.child=y,u.last=y)}return u.tail!==null?(s=u.tail,u.rendering=s,u.tail=s.sibling,u.renderingStartTime=_n(),s.sibling=null,o=kt.current,ce(kt,m?o&1|2:o&1),Xe&&Ei(r,u.treeForkCount),s):(pt(r),null);case 22:case 23:return zn(r),Fm(),u=r.memoizedState!==null,s!==null?s.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(pt(r),r.subtreeFlags&6&&(r.flags|=8192)):pt(r),o=r.updateQueue,o!==null&&Uh(r,o.retryQueue),o=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),s!==null&&te(Ea),null;case 24:return o=null,s!==null&&(o=s.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),Ai(Vt),pt(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function NN(s,r){switch(km(r),r.tag){case 1:return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 3:return Ai(Vt),je(),s=r.flags,(s&65536)!==0&&(s&128)===0?(r.flags=s&-65537|128,r):null;case 26:case 27:case 5:return nt(r),null;case 31:if(r.memoizedState!==null){if(zn(r),r.alternate===null)throw Error(i(340));_a()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 13:if(zn(r),s=r.memoizedState,s!==null&&s.dehydrated!==null){if(r.alternate===null)throw Error(i(340));_a()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 19:return te(kt),null;case 4:return je(),null;case 10:return Ai(r.type),null;case 22:case 23:return zn(r),Fm(),s!==null&&te(Ea),s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 24:return Ai(Vt),null;case 25:return null;default:return null}}function Hx(s,r){switch(km(r),r.tag){case 3:Ai(Vt),je();break;case 26:case 27:case 5:nt(r);break;case 4:je();break;case 31:r.memoizedState!==null&&zn(r);break;case 13:zn(r);break;case 19:te(kt);break;case 10:Ai(r.type);break;case 22:case 23:zn(r),Fm(),s!==null&&te(Ea);break;case 24:Ai(Vt)}}function xc(s,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var m=u.next;o=m;do{if((o.tag&s)===s){u=void 0;var y=o.create,_=o.inst;u=y(),_.destroy=u}o=o.next}while(o!==m)}}catch(A){rt(r,r.return,A)}}function _r(s,r,o){try{var u=r.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var y=m.next;u=y;do{if((u.tag&s)===s){var _=u.inst,A=_.destroy;if(A!==void 0){_.destroy=void 0,m=r;var U=o,Y=A;try{Y()}catch(ne){rt(m,U,ne)}}}u=u.next}while(u!==y)}}catch(ne){rt(r,r.return,ne)}}function qx(s){var r=s.updateQueue;if(r!==null){var o=s.stateNode;try{Mb(r,o)}catch(u){rt(s,s.return,u)}}}function Gx(s,r,o){o.props=Na(s.type,s.memoizedProps),o.state=s.memoizedState;try{o.componentWillUnmount()}catch(u){rt(s,r,u)}}function _c(s,r){try{var o=s.ref;if(o!==null){switch(s.tag){case 26:case 27:case 5:var u=s.stateNode;break;case 30:u=s.stateNode;break;default:u=s.stateNode}typeof o=="function"?s.refCleanup=o(u):o.current=u}}catch(m){rt(s,r,m)}}function ti(s,r){var o=s.ref,u=s.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(m){rt(s,r,m)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){rt(s,r,m)}else o.current=null}function $x(s){var r=s.type,o=s.memoizedProps,u=s.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(m){rt(s,s.return,m)}}function xp(s,r,o){try{var u=s.stateNode;WN(u,s.type,o,r),u[Wt]=r}catch(m){rt(s,s.return,m)}}function Kx(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Cr(s.type)||s.tag===4}function _p(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Kx(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Cr(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function wp(s,r,o){var u=s.tag;if(u===5||u===6)s=s.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(s,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(s),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=vs));else if(u!==4&&(u===27&&Cr(s.type)&&(o=s.stateNode,r=null),s=s.child,s!==null))for(wp(s,r,o),s=s.sibling;s!==null;)wp(s,r,o),s=s.sibling}function zh(s,r,o){var u=s.tag;if(u===5||u===6)s=s.stateNode,r?o.insertBefore(s,r):o.appendChild(s);else if(u!==4&&(u===27&&Cr(s.type)&&(o=s.stateNode),s=s.child,s!==null))for(zh(s,r,o),s=s.sibling;s!==null;)zh(s,r,o),s=s.sibling}function Yx(s){var r=s.stateNode,o=s.memoizedProps;try{for(var u=s.type,m=r.attributes;m.length;)r.removeAttributeNode(m[0]);ln(r,u,o),r[Dt]=s,r[Wt]=o}catch(y){rt(s,s.return,y)}}var Ii=!1,Lt=!1,Tp=!1,Xx=typeof WeakSet=="function"?WeakSet:Set,Zt=null;function RN(s,r){if(s=s.containerInfo,qp=od,s=ob(s),gm(s)){if("selectionStart"in s)var o={start:s.selectionStart,end:s.selectionEnd};else e:{o=(o=s.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var m=u.anchorOffset,y=u.focusNode;u=u.focusOffset;try{o.nodeType,y.nodeType}catch{o=null;break e}var _=0,A=-1,U=-1,Y=0,ne=0,ae=s,X=null;t:for(;;){for(var J;ae!==o||m!==0&&ae.nodeType!==3||(A=_+m),ae!==y||u!==0&&ae.nodeType!==3||(U=_+u),ae.nodeType===3&&(_+=ae.nodeValue.length),(J=ae.firstChild)!==null;)X=ae,ae=J;for(;;){if(ae===s)break t;if(X===o&&++Y===m&&(A=_),X===y&&++ne===u&&(U=_),(J=ae.nextSibling)!==null)break;ae=X,X=ae.parentNode}ae=J}o=A===-1||U===-1?null:{start:A,end:U}}else o=null}o=o||{start:0,end:0}}else o=null;for(Gp={focusedElem:s,selectionRange:o},od=!1,Zt=r;Zt!==null;)if(r=Zt,s=r.child,(r.subtreeFlags&1028)!==0&&s!==null)s.return=r,Zt=s;else for(;Zt!==null;){switch(r=Zt,y=r.alternate,s=r.flags,r.tag){case 0:if((s&4)!==0&&(s=r.updateQueue,s=s!==null?s.events:null,s!==null))for(o=0;o<s.length;o++)m=s[o],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&y!==null){s=void 0,o=r,m=y.memoizedProps,y=y.memoizedState,u=o.stateNode;try{var ye=Na(o.type,m);s=u.getSnapshotBeforeUpdate(ye,y),u.__reactInternalSnapshotBeforeUpdate=s}catch(Ie){rt(o,o.return,Ie)}}break;case 3:if((s&1024)!==0){if(s=r.stateNode.containerInfo,o=s.nodeType,o===9)Yp(s);else if(o===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Yp(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=r.sibling,s!==null){s.return=r.return,Zt=s;break}Zt=r.return}}function Qx(s,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:ji(s,o),u&4&&xc(5,o);break;case 1:if(ji(s,o),u&4)if(s=o.stateNode,r===null)try{s.componentDidMount()}catch(_){rt(o,o.return,_)}else{var m=Na(o.type,r.memoizedProps);r=r.memoizedState;try{s.componentDidUpdate(m,r,s.__reactInternalSnapshotBeforeUpdate)}catch(_){rt(o,o.return,_)}}u&64&&qx(o),u&512&&_c(o,o.return);break;case 3:if(ji(s,o),u&64&&(s=o.updateQueue,s!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{Mb(s,r)}catch(_){rt(o,o.return,_)}}break;case 27:r===null&&u&4&&Yx(o);case 26:case 5:ji(s,o),r===null&&u&4&&$x(o),u&512&&_c(o,o.return);break;case 12:ji(s,o);break;case 31:ji(s,o),u&4&&Zx(s,o);break;case 13:ji(s,o),u&4&&e_(s,o),u&64&&(s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(o=UN.bind(null,o),rR(s,o))));break;case 22:if(u=o.memoizedState!==null||Ii,!u){r=r!==null&&r.memoizedState!==null||Lt,m=Ii;var y=Lt;Ii=u,(Lt=r)&&!y?Mi(s,o,(o.subtreeFlags&8772)!==0):ji(s,o),Ii=m,Lt=y}break;case 30:break;default:ji(s,o)}}function Wx(s){var r=s.alternate;r!==null&&(s.alternate=null,Wx(r)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(r=s.stateNode,r!==null&&oo(r)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var vt=null,Cn=!1;function Di(s,r,o){for(o=o.child;o!==null;)Jx(s,r,o),o=o.sibling}function Jx(s,r,o){if(nn&&typeof nn.onCommitFiberUnmount=="function")try{nn.onCommitFiberUnmount(ms,o)}catch{}switch(o.tag){case 26:Lt||ti(o,r),Di(s,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Lt||ti(o,r);var u=vt,m=Cn;Cr(o.type)&&(vt=o.stateNode,Cn=!1),Di(s,r,o),Rc(o.stateNode),vt=u,Cn=m;break;case 5:Lt||ti(o,r);case 6:if(u=vt,m=Cn,vt=null,Di(s,r,o),vt=u,Cn=m,vt!==null)if(Cn)try{(vt.nodeType===9?vt.body:vt.nodeName==="HTML"?vt.ownerDocument.body:vt).removeChild(o.stateNode)}catch(y){rt(o,r,y)}else try{vt.removeChild(o.stateNode)}catch(y){rt(o,r,y)}break;case 18:vt!==null&&(Cn?(s=vt,q_(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,o.stateNode),$o(s)):q_(vt,o.stateNode));break;case 4:u=vt,m=Cn,vt=o.stateNode.containerInfo,Cn=!0,Di(s,r,o),vt=u,Cn=m;break;case 0:case 11:case 14:case 15:_r(2,o,r),Lt||_r(4,o,r),Di(s,r,o);break;case 1:Lt||(ti(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&Gx(o,r,u)),Di(s,r,o);break;case 21:Di(s,r,o);break;case 22:Lt=(u=Lt)||o.memoizedState!==null,Di(s,r,o),Lt=u;break;default:Di(s,r,o)}}function Zx(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{$o(s)}catch(o){rt(r,r.return,o)}}}function e_(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{$o(s)}catch(o){rt(r,r.return,o)}}function IN(s){switch(s.tag){case 31:case 13:case 19:var r=s.stateNode;return r===null&&(r=s.stateNode=new Xx),r;case 22:return s=s.stateNode,r=s._retryCache,r===null&&(r=s._retryCache=new Xx),r;default:throw Error(i(435,s.tag))}}function Bh(s,r){var o=IN(s);r.forEach(function(u){if(!o.has(u)){o.add(u);var m=zN.bind(null,s,u);u.then(m,m)}})}function Nn(s,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var m=o[u],y=s,_=r,A=_;e:for(;A!==null;){switch(A.tag){case 27:if(Cr(A.type)){vt=A.stateNode,Cn=!1;break e}break;case 5:vt=A.stateNode,Cn=!1;break e;case 3:case 4:vt=A.stateNode.containerInfo,Cn=!0;break e}A=A.return}if(vt===null)throw Error(i(160));Jx(y,_,m),vt=null,Cn=!1,y=m.alternate,y!==null&&(y.return=null),m.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)t_(r,s),r=r.sibling}var Es=null;function t_(s,r){var o=s.alternate,u=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Nn(r,s),Rn(s),u&4&&(_r(3,s,s.return),xc(3,s),_r(5,s,s.return));break;case 1:Nn(r,s),Rn(s),u&512&&(Lt||o===null||ti(o,o.return)),u&64&&Ii&&(s=s.updateQueue,s!==null&&(u=s.callbacks,u!==null&&(o=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var m=Es;if(Nn(r,s),Rn(s),u&512&&(Lt||o===null||ti(o,o.return)),u&4){var y=o!==null?o.memoizedState:null;if(u=s.memoizedState,o===null)if(u===null)if(s.stateNode===null){e:{u=s.type,o=s.memoizedProps,m=m.ownerDocument||m;t:switch(u){case"title":y=m.getElementsByTagName("title")[0],(!y||y[Bs]||y[Dt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=m.createElement(u),m.head.insertBefore(y,m.querySelector("head > title"))),ln(y,u,o),y[Dt]=s,jt(y),u=y;break e;case"link":var _=t1("link","href",m).get(u+(o.href||""));if(_){for(var A=0;A<_.length;A++)if(y=_[A],y.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&y.getAttribute("rel")===(o.rel==null?null:o.rel)&&y.getAttribute("title")===(o.title==null?null:o.title)&&y.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){_.splice(A,1);break t}}y=m.createElement(u),ln(y,u,o),m.head.appendChild(y);break;case"meta":if(_=t1("meta","content",m).get(u+(o.content||""))){for(A=0;A<_.length;A++)if(y=_[A],y.getAttribute("content")===(o.content==null?null:""+o.content)&&y.getAttribute("name")===(o.name==null?null:o.name)&&y.getAttribute("property")===(o.property==null?null:o.property)&&y.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&y.getAttribute("charset")===(o.charSet==null?null:o.charSet)){_.splice(A,1);break t}}y=m.createElement(u),ln(y,u,o),m.head.appendChild(y);break;default:throw Error(i(468,u))}y[Dt]=s,jt(y),u=y}s.stateNode=u}else n1(m,s.type,s.stateNode);else s.stateNode=e1(m,u,s.memoizedProps);else y!==u?(y===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):y.count--,u===null?n1(m,s.type,s.stateNode):e1(m,u,s.memoizedProps)):u===null&&s.stateNode!==null&&xp(s,s.memoizedProps,o.memoizedProps)}break;case 27:Nn(r,s),Rn(s),u&512&&(Lt||o===null||ti(o,o.return)),o!==null&&u&4&&xp(s,s.memoizedProps,o.memoizedProps);break;case 5:if(Nn(r,s),Rn(s),u&512&&(Lt||o===null||ti(o,o.return)),s.flags&32){m=s.stateNode;try{kn(m,"")}catch(ye){rt(s,s.return,ye)}}u&4&&s.stateNode!=null&&(m=s.memoizedProps,xp(s,m,o!==null?o.memoizedProps:m)),u&1024&&(Tp=!0);break;case 6:if(Nn(r,s),Rn(s),u&4){if(s.stateNode===null)throw Error(i(162));u=s.memoizedProps,o=s.stateNode;try{o.nodeValue=u}catch(ye){rt(s,s.return,ye)}}break;case 3:if(sd=null,m=Es,Es=td(r.containerInfo),Nn(r,s),Es=m,Rn(s),u&4&&o!==null&&o.memoizedState.isDehydrated)try{$o(r.containerInfo)}catch(ye){rt(s,s.return,ye)}Tp&&(Tp=!1,n_(s));break;case 4:u=Es,Es=td(s.stateNode.containerInfo),Nn(r,s),Rn(s),Es=u;break;case 12:Nn(r,s),Rn(s);break;case 31:Nn(r,s),Rn(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Bh(s,u)));break;case 13:Nn(r,s),Rn(s),s.child.flags&8192&&s.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Hh=_n()),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Bh(s,u)));break;case 22:m=s.memoizedState!==null;var U=o!==null&&o.memoizedState!==null,Y=Ii,ne=Lt;if(Ii=Y||m,Lt=ne||U,Nn(r,s),Lt=ne,Ii=Y,Rn(s),u&8192)e:for(r=s.stateNode,r._visibility=m?r._visibility&-2:r._visibility|1,m&&(o===null||U||Ii||Lt||Ra(s)),o=null,r=s;;){if(r.tag===5||r.tag===26){if(o===null){U=o=r;try{if(y=U.stateNode,m)_=y.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{A=U.stateNode;var ae=U.memoizedProps.style,X=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;A.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(ye){rt(U,U.return,ye)}}}else if(r.tag===6){if(o===null){U=r;try{U.stateNode.nodeValue=m?"":U.memoizedProps}catch(ye){rt(U,U.return,ye)}}}else if(r.tag===18){if(o===null){U=r;try{var J=U.stateNode;m?G_(J,!0):G_(U.stateNode,!1)}catch(ye){rt(U,U.return,ye)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===s)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=s.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Bh(s,o))));break;case 19:Nn(r,s),Rn(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Bh(s,u)));break;case 30:break;case 21:break;default:Nn(r,s),Rn(s)}}function Rn(s){var r=s.flags;if(r&2){try{for(var o,u=s.return;u!==null;){if(Kx(u)){o=u;break}u=u.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var m=o.stateNode,y=_p(s);zh(s,y,m);break;case 5:var _=o.stateNode;o.flags&32&&(kn(_,""),o.flags&=-33);var A=_p(s);zh(s,A,_);break;case 3:case 4:var U=o.stateNode.containerInfo,Y=_p(s);wp(s,Y,U);break;default:throw Error(i(161))}}catch(ne){rt(s,s.return,ne)}s.flags&=-3}r&4096&&(s.flags&=-4097)}function n_(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var r=s;n_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),s=s.sibling}}function ji(s,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Qx(s,r.alternate,r),r=r.sibling}function Ra(s){for(s=s.child;s!==null;){var r=s;switch(r.tag){case 0:case 11:case 14:case 15:_r(4,r,r.return),Ra(r);break;case 1:ti(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&Gx(r,r.return,o),Ra(r);break;case 27:Rc(r.stateNode);case 26:case 5:ti(r,r.return),Ra(r);break;case 22:r.memoizedState===null&&Ra(r);break;case 30:Ra(r);break;default:Ra(r)}s=s.sibling}}function Mi(s,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,m=s,y=r,_=y.flags;switch(y.tag){case 0:case 11:case 15:Mi(m,y,o),xc(4,y);break;case 1:if(Mi(m,y,o),u=y,m=u.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(Y){rt(u,u.return,Y)}if(u=y,m=u.updateQueue,m!==null){var A=u.stateNode;try{var U=m.shared.hiddenCallbacks;if(U!==null)for(m.shared.hiddenCallbacks=null,m=0;m<U.length;m++)jb(U[m],A)}catch(Y){rt(u,u.return,Y)}}o&&_&64&&qx(y),_c(y,y.return);break;case 27:Yx(y);case 26:case 5:Mi(m,y,o),o&&u===null&&_&4&&$x(y),_c(y,y.return);break;case 12:Mi(m,y,o);break;case 31:Mi(m,y,o),o&&_&4&&Zx(m,y);break;case 13:Mi(m,y,o),o&&_&4&&e_(m,y);break;case 22:y.memoizedState===null&&Mi(m,y,o),_c(y,y.return);break;case 30:break;default:Mi(m,y,o)}r=r.sibling}}function Ep(s,r){var o=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),s=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==o&&(s!=null&&s.refCount++,o!=null&&oc(o))}function Sp(s,r){s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&oc(s))}function Ss(s,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)s_(s,r,o,u),r=r.sibling}function s_(s,r,o,u){var m=r.flags;switch(r.tag){case 0:case 11:case 15:Ss(s,r,o,u),m&2048&&xc(9,r);break;case 1:Ss(s,r,o,u);break;case 3:Ss(s,r,o,u),m&2048&&(s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&oc(s)));break;case 12:if(m&2048){Ss(s,r,o,u),s=r.stateNode;try{var y=r.memoizedProps,_=y.id,A=y.onPostCommit;typeof A=="function"&&A(_,r.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(U){rt(r,r.return,U)}}else Ss(s,r,o,u);break;case 31:Ss(s,r,o,u);break;case 13:Ss(s,r,o,u);break;case 23:break;case 22:y=r.stateNode,_=r.alternate,r.memoizedState!==null?y._visibility&2?Ss(s,r,o,u):wc(s,r):y._visibility&2?Ss(s,r,o,u):(y._visibility|=2,Vo(s,r,o,u,(r.subtreeFlags&10256)!==0||!1)),m&2048&&Ep(_,r);break;case 24:Ss(s,r,o,u),m&2048&&Sp(r.alternate,r);break;default:Ss(s,r,o,u)}}function Vo(s,r,o,u,m){for(m=m&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var y=s,_=r,A=o,U=u,Y=_.flags;switch(_.tag){case 0:case 11:case 15:Vo(y,_,A,U,m),xc(8,_);break;case 23:break;case 22:var ne=_.stateNode;_.memoizedState!==null?ne._visibility&2?Vo(y,_,A,U,m):wc(y,_):(ne._visibility|=2,Vo(y,_,A,U,m)),m&&Y&2048&&Ep(_.alternate,_);break;case 24:Vo(y,_,A,U,m),m&&Y&2048&&Sp(_.alternate,_);break;default:Vo(y,_,A,U,m)}r=r.sibling}}function wc(s,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=s,u=r,m=u.flags;switch(u.tag){case 22:wc(o,u),m&2048&&Ep(u.alternate,u);break;case 24:wc(o,u),m&2048&&Sp(u.alternate,u);break;default:wc(o,u)}r=r.sibling}}var Tc=8192;function Oo(s,r,o){if(s.subtreeFlags&Tc)for(s=s.child;s!==null;)i_(s,r,o),s=s.sibling}function i_(s,r,o){switch(s.tag){case 26:Oo(s,r,o),s.flags&Tc&&s.memoizedState!==null&&yR(o,Es,s.memoizedState,s.memoizedProps);break;case 5:Oo(s,r,o);break;case 3:case 4:var u=Es;Es=td(s.stateNode.containerInfo),Oo(s,r,o),Es=u;break;case 22:s.memoizedState===null&&(u=s.alternate,u!==null&&u.memoizedState!==null?(u=Tc,Tc=16777216,Oo(s,r,o),Tc=u):Oo(s,r,o));break;default:Oo(s,r,o)}}function r_(s){var r=s.alternate;if(r!==null&&(s=r.child,s!==null)){r.child=null;do r=s.sibling,s.sibling=null,s=r;while(s!==null)}}function Ec(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Zt=u,o_(u,s)}r_(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)a_(s),s=s.sibling}function a_(s){switch(s.tag){case 0:case 11:case 15:Ec(s),s.flags&2048&&_r(9,s,s.return);break;case 3:Ec(s);break;case 12:Ec(s);break;case 22:var r=s.stateNode;s.memoizedState!==null&&r._visibility&2&&(s.return===null||s.return.tag!==13)?(r._visibility&=-3,Fh(s)):Ec(s);break;default:Ec(s)}}function Fh(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Zt=u,o_(u,s)}r_(s)}for(s=s.child;s!==null;){switch(r=s,r.tag){case 0:case 11:case 15:_r(8,r,r.return),Fh(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,Fh(r));break;default:Fh(r)}s=s.sibling}}function o_(s,r){for(;Zt!==null;){var o=Zt;switch(o.tag){case 0:case 11:case 15:_r(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:oc(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Zt=u;else e:for(o=s;Zt!==null;){u=Zt;var m=u.sibling,y=u.return;if(Wx(u),u===o){Zt=null;break e}if(m!==null){m.return=y,Zt=m;break e}Zt=y}}}var DN={getCacheForType:function(s){var r=an(Vt),o=r.data.get(s);return o===void 0&&(o=s(),r.data.set(s,o)),o},cacheSignal:function(){return an(Vt).controller.signal}},jN=typeof WeakMap=="function"?WeakMap:Map,et=0,ut=null,Fe=null,qe=0,it=0,Bn=null,wr=!1,Po=!1,Ap=!1,Vi=0,Tt=0,Tr=0,Ia=0,kp=0,Fn=0,Lo=0,Sc=null,In=null,Cp=!1,Hh=0,l_=0,qh=1/0,Gh=null,Er=null,$t=0,Sr=null,Uo=null,Oi=0,Np=0,Rp=null,c_=null,Ac=0,Ip=null;function Hn(){return(et&2)!==0&&qe!==0?qe&-qe:G.T!==null?Pp():$u()}function u_(){if(Fn===0)if((qe&536870912)===0||Xe){var s=ia;ia<<=1,(ia&3932160)===0&&(ia=262144),Fn=s}else Fn=536870912;return s=Un.current,s!==null&&(s.flags|=32),Fn}function Dn(s,r,o){(s===ut&&(it===2||it===9)||s.cancelPendingCommit!==null)&&(zo(s,0),Ar(s,qe,Fn,!1)),ra(s,o),((et&2)===0||s!==ut)&&(s===ut&&((et&2)===0&&(Ia|=o),Tt===4&&Ar(s,qe,Fn,!1)),ni(s))}function h_(s,r,o){if((et&6)!==0)throw Error(i(327));var u=!o&&(r&127)===0&&(r&s.expiredLanes)===0||ps(s,r),m=u?ON(s,r):jp(s,r,!0),y=u;do{if(m===0){Po&&!u&&Ar(s,r,0,!1);break}else{if(o=s.current.alternate,y&&!MN(o)){m=jp(s,r,!1),y=!1;continue}if(m===2){if(y=r,s.errorRecoveryDisabledLanes&y)var _=0;else _=s.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;e:{var A=s;m=Sc;var U=A.current.memoizedState.isDehydrated;if(U&&(zo(A,_).flags|=256),_=jp(A,_,!1),_!==2){if(Ap&&!U){A.errorRecoveryDisabledLanes|=y,Ia|=y,m=4;break e}y=In,In=m,y!==null&&(In===null?In=y:In.push.apply(In,y))}m=_}if(y=!1,m!==2)continue}}if(m===1){zo(s,0),Ar(s,r,0,!0);break}e:{switch(u=s,y=m,y){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:Ar(u,r,Fn,!wr);break e;case 2:In=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(m=Hh+300-_n(),10<m)){if(Ar(u,r,Fn,!wr),Ls(u,0,!0)!==0)break e;Oi=r,u.timeoutHandle=F_(d_.bind(null,u,o,In,Gh,Cp,r,Fn,Ia,Lo,wr,y,"Throttled",-0,0),m);break e}d_(u,o,In,Gh,Cp,r,Fn,Ia,Lo,wr,y,null,-0,0)}}break}while(!0);ni(s)}function d_(s,r,o,u,m,y,_,A,U,Y,ne,ae,X,J){if(s.timeoutHandle=-1,ae=r.subtreeFlags,ae&8192||(ae&16785408)===16785408){ae={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:vs},i_(r,y,ae);var ye=(y&62914560)===y?Hh-_n():(y&4194048)===y?l_-_n():0;if(ye=vR(ae,ye),ye!==null){Oi=y,s.cancelPendingCommit=ye(x_.bind(null,s,r,y,o,u,m,_,A,U,ne,ae,null,X,J)),Ar(s,y,_,!Y);return}}x_(s,r,y,o,u,m,_,A,U)}function MN(s){for(var r=s;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var m=o[u],y=m.getSnapshot;m=m.value;try{if(!Pn(y(),m))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Ar(s,r,o,u){r&=~kp,r&=~Ia,s.suspendedLanes|=r,s.pingedLanes&=~r,u&&(s.warmLanes|=r),u=s.expirationTimes;for(var m=r;0<m;){var y=31-St(m),_=1<<y;u[y]=-1,m&=~_}o!==0&&aa(s,o,r)}function $h(){return(et&6)===0?(kc(0),!1):!0}function Dp(){if(Fe!==null){if(it===0)var s=Fe.return;else s=Fe,Si=wa=null,Ym(s),Ro=null,cc=0,s=Fe;for(;s!==null;)Hx(s.alternate,s),s=s.return;Fe=null}}function zo(s,r){var o=s.timeoutHandle;o!==-1&&(s.timeoutHandle=-1,eR(o)),o=s.cancelPendingCommit,o!==null&&(s.cancelPendingCommit=null,o()),Oi=0,Dp(),ut=s,Fe=o=Ti(s.current,null),qe=r,it=0,Bn=null,wr=!1,Po=ps(s,r),Ap=!1,Lo=Fn=kp=Ia=Tr=Tt=0,In=Sc=null,Cp=!1,(r&8)!==0&&(r|=r&32);var u=s.entangledLanes;if(u!==0)for(s=s.entanglements,u&=r;0<u;){var m=31-St(u),y=1<<m;r|=s[m],u&=~y}return Vi=r,fh(),o}function f_(s,r){Ue=null,G.H=yc,r===No||r===_h?(r=Nb(),it=3):r===Om?(r=Nb(),it=4):it=r===up?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Bn=r,Fe===null&&(Tt=1,Vh(s,Zn(r,s.current)))}function m_(){var s=Un.current;return s===null?!0:(qe&4194048)===qe?ss===null:(qe&62914560)===qe||(qe&536870912)!==0?s===ss:!1}function p_(){var s=G.H;return G.H=yc,s===null?yc:s}function g_(){var s=G.A;return G.A=DN,s}function Kh(){Tt=4,wr||(qe&4194048)!==qe&&Un.current!==null||(Po=!0),(Tr&134217727)===0&&(Ia&134217727)===0||ut===null||Ar(ut,qe,Fn,!1)}function jp(s,r,o){var u=et;et|=2;var m=p_(),y=g_();(ut!==s||qe!==r)&&(Gh=null,zo(s,r)),r=!1;var _=Tt;e:do try{if(it!==0&&Fe!==null){var A=Fe,U=Bn;switch(it){case 8:Dp(),_=6;break e;case 3:case 2:case 9:case 6:Un.current===null&&(r=!0);var Y=it;if(it=0,Bn=null,Bo(s,A,U,Y),o&&Po){_=0;break e}break;default:Y=it,it=0,Bn=null,Bo(s,A,U,Y)}}VN(),_=Tt;break}catch(ne){f_(s,ne)}while(!0);return r&&s.shellSuspendCounter++,Si=wa=null,et=u,G.H=m,G.A=y,Fe===null&&(ut=null,qe=0,fh()),_}function VN(){for(;Fe!==null;)y_(Fe)}function ON(s,r){var o=et;et|=2;var u=p_(),m=g_();ut!==s||qe!==r?(Gh=null,qh=_n()+500,zo(s,r)):Po=ps(s,r);e:do try{if(it!==0&&Fe!==null){r=Fe;var y=Bn;t:switch(it){case 1:it=0,Bn=null,Bo(s,r,y,1);break;case 2:case 9:if(kb(y)){it=0,Bn=null,v_(r);break}r=function(){it!==2&&it!==9||ut!==s||(it=7),ni(s)},y.then(r,r);break e;case 3:it=7;break e;case 4:it=5;break e;case 7:kb(y)?(it=0,Bn=null,v_(r)):(it=0,Bn=null,Bo(s,r,y,7));break;case 5:var _=null;switch(Fe.tag){case 26:_=Fe.memoizedState;case 5:case 27:var A=Fe;if(_?s1(_):A.stateNode.complete){it=0,Bn=null;var U=A.sibling;if(U!==null)Fe=U;else{var Y=A.return;Y!==null?(Fe=Y,Yh(Y)):Fe=null}break t}}it=0,Bn=null,Bo(s,r,y,5);break;case 6:it=0,Bn=null,Bo(s,r,y,6);break;case 8:Dp(),Tt=6;break e;default:throw Error(i(462))}}PN();break}catch(ne){f_(s,ne)}while(!0);return Si=wa=null,G.H=u,G.A=m,et=o,Fe!==null?0:(ut=null,qe=0,fh(),Tt)}function PN(){for(;Fe!==null&&!cm();)y_(Fe)}function y_(s){var r=Bx(s.alternate,s,Vi);s.memoizedProps=s.pendingProps,r===null?Yh(s):Fe=r}function v_(s){var r=s,o=r.alternate;switch(r.tag){case 15:case 0:r=Vx(o,r,r.pendingProps,r.type,void 0,qe);break;case 11:r=Vx(o,r,r.pendingProps,r.type.render,r.ref,qe);break;case 5:Ym(r);default:Hx(o,r),r=Fe=gb(r,Vi),r=Bx(o,r,Vi)}s.memoizedProps=s.pendingProps,r===null?Yh(s):Fe=r}function Bo(s,r,o,u){Si=wa=null,Ym(r),Ro=null,cc=0;var m=r.return;try{if(SN(s,m,r,o,qe)){Tt=1,Vh(s,Zn(o,s.current)),Fe=null;return}}catch(y){if(m!==null)throw Fe=m,y;Tt=1,Vh(s,Zn(o,s.current)),Fe=null;return}r.flags&32768?(Xe||u===1?s=!0:Po||(qe&536870912)!==0?s=!1:(wr=s=!0,(u===2||u===9||u===3||u===6)&&(u=Un.current,u!==null&&u.tag===13&&(u.flags|=16384))),b_(r,s)):Yh(r)}function Yh(s){var r=s;do{if((r.flags&32768)!==0){b_(r,wr);return}s=r.return;var o=CN(r.alternate,r,Vi);if(o!==null){Fe=o;return}if(r=r.sibling,r!==null){Fe=r;return}Fe=r=s}while(r!==null);Tt===0&&(Tt=5)}function b_(s,r){do{var o=NN(s.alternate,s);if(o!==null){o.flags&=32767,Fe=o;return}if(o=s.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(s=s.sibling,s!==null)){Fe=s;return}Fe=s=o}while(s!==null);Tt=6,Fe=null}function x_(s,r,o,u,m,y,_,A,U){s.cancelPendingCommit=null;do Xh();while($t!==0);if((et&6)!==0)throw Error(i(327));if(r!==null){if(r===s.current)throw Error(i(177));if(y=r.lanes|r.childLanes,y|=_m,dm(s,o,y,_,A,U),s===ut&&(Fe=ut=null,qe=0),Uo=r,Sr=s,Oi=o,Np=y,Rp=m,c_=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,BN(nr,function(){return S_(),null})):(s.callbackNode=null,s.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=G.T,G.T=null,m=W.p,W.p=2,_=et,et|=4;try{RN(s,r,o)}finally{et=_,W.p=m,G.T=u}}$t=1,__(),w_(),T_()}}function __(){if($t===1){$t=0;var s=Sr,r=Uo,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=G.T,G.T=null;var u=W.p;W.p=2;var m=et;et|=4;try{t_(r,s);var y=Gp,_=ob(s.containerInfo),A=y.focusedElem,U=y.selectionRange;if(_!==A&&A&&A.ownerDocument&&ab(A.ownerDocument.documentElement,A)){if(U!==null&&gm(A)){var Y=U.start,ne=U.end;if(ne===void 0&&(ne=Y),"selectionStart"in A)A.selectionStart=Y,A.selectionEnd=Math.min(ne,A.value.length);else{var ae=A.ownerDocument||document,X=ae&&ae.defaultView||window;if(X.getSelection){var J=X.getSelection(),ye=A.textContent.length,Ie=Math.min(U.start,ye),ct=U.end===void 0?Ie:Math.min(U.end,ye);!J.extend&&Ie>ct&&(_=ct,ct=Ie,Ie=_);var q=rb(A,Ie),B=rb(A,ct);if(q&&B&&(J.rangeCount!==1||J.anchorNode!==q.node||J.anchorOffset!==q.offset||J.focusNode!==B.node||J.focusOffset!==B.offset)){var K=ae.createRange();K.setStart(q.node,q.offset),J.removeAllRanges(),Ie>ct?(J.addRange(K),J.extend(B.node,B.offset)):(K.setEnd(B.node,B.offset),J.addRange(K))}}}}for(ae=[],J=A;J=J.parentNode;)J.nodeType===1&&ae.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<ae.length;A++){var ie=ae[A];ie.element.scrollLeft=ie.left,ie.element.scrollTop=ie.top}}od=!!qp,Gp=qp=null}finally{et=m,W.p=u,G.T=o}}s.current=r,$t=2}}function w_(){if($t===2){$t=0;var s=Sr,r=Uo,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=G.T,G.T=null;var u=W.p;W.p=2;var m=et;et|=4;try{Qx(s,r.alternate,r)}finally{et=m,W.p=u,G.T=o}}$t=3}}function T_(){if($t===4||$t===3){$t=0,Uu();var s=Sr,r=Uo,o=Oi,u=c_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?$t=5:($t=0,Uo=Sr=null,E_(s,s.pendingLanes));var m=s.pendingLanes;if(m===0&&(Er=null),bi(o),r=r.stateNode,nn&&typeof nn.onCommitFiberRoot=="function")try{nn.onCommitFiberRoot(ms,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=G.T,m=W.p,W.p=2,G.T=null;try{for(var y=s.onRecoverableError,_=0;_<u.length;_++){var A=u[_];y(A.value,{componentStack:A.stack})}}finally{G.T=r,W.p=m}}(Oi&3)!==0&&Xh(),ni(s),m=s.pendingLanes,(o&261930)!==0&&(m&42)!==0?s===Ip?Ac++:(Ac=0,Ip=s):Ac=0,kc(0)}}function E_(s,r){(s.pooledCacheLanes&=r)===0&&(r=s.pooledCache,r!=null&&(s.pooledCache=null,oc(r)))}function Xh(){return __(),w_(),T_(),S_()}function S_(){if($t!==5)return!1;var s=Sr,r=Np;Np=0;var o=bi(Oi),u=G.T,m=W.p;try{W.p=32>o?32:o,G.T=null,o=Rp,Rp=null;var y=Sr,_=Oi;if($t=0,Uo=Sr=null,Oi=0,(et&6)!==0)throw Error(i(331));var A=et;if(et|=4,a_(y.current),s_(y,y.current,_,o),et=A,kc(0,!1),nn&&typeof nn.onPostCommitFiberRoot=="function")try{nn.onPostCommitFiberRoot(ms,y)}catch{}return!0}finally{W.p=m,G.T=u,E_(s,r)}}function A_(s,r,o){r=Zn(o,r),r=cp(s.stateNode,r,2),s=vr(s,r,2),s!==null&&(ra(s,2),ni(s))}function rt(s,r,o){if(s.tag===3)A_(s,s,o);else for(;r!==null;){if(r.tag===3){A_(r,s,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Er===null||!Er.has(u))){s=Zn(o,s),o=kx(2),u=vr(r,o,2),u!==null&&(Cx(o,u,r,s),ra(u,2),ni(u));break}}r=r.return}}function Mp(s,r,o){var u=s.pingCache;if(u===null){u=s.pingCache=new jN;var m=new Set;u.set(r,m)}else m=u.get(r),m===void 0&&(m=new Set,u.set(r,m));m.has(o)||(Ap=!0,m.add(o),s=LN.bind(null,s,r,o),r.then(s,s))}function LN(s,r,o){var u=s.pingCache;u!==null&&u.delete(r),s.pingedLanes|=s.suspendedLanes&o,s.warmLanes&=~o,ut===s&&(qe&o)===o&&(Tt===4||Tt===3&&(qe&62914560)===qe&&300>_n()-Hh?(et&2)===0&&zo(s,0):kp|=o,Lo===qe&&(Lo=0)),ni(s)}function k_(s,r){r===0&&(r=Gu()),s=ba(s,r),s!==null&&(ra(s,r),ni(s))}function UN(s){var r=s.memoizedState,o=0;r!==null&&(o=r.retryLane),k_(s,o)}function zN(s,r){var o=0;switch(s.tag){case 31:case 13:var u=s.stateNode,m=s.memoizedState;m!==null&&(o=m.retryLane);break;case 19:u=s.stateNode;break;case 22:u=s.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(r),k_(s,o)}function BN(s,r){return Gt(s,r)}var Qh=null,Fo=null,Vp=!1,Wh=!1,Op=!1,kr=0;function ni(s){s!==Fo&&s.next===null&&(Fo===null?Qh=Fo=s:Fo=Fo.next=s),Wh=!0,Vp||(Vp=!0,HN())}function kc(s,r){if(!Op&&Wh){Op=!0;do for(var o=!1,u=Qh;u!==null;){if(s!==0){var m=u.pendingLanes;if(m===0)var y=0;else{var _=u.suspendedLanes,A=u.pingedLanes;y=(1<<31-St(42|s)+1)-1,y&=m&~(_&~A),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(o=!0,I_(u,y))}else y=qe,y=Ls(u,u===ut?y:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(y&3)===0||ps(u,y)||(o=!0,I_(u,y));u=u.next}while(o);Op=!1}}function FN(){C_()}function C_(){Wh=Vp=!1;var s=0;kr!==0&&ZN()&&(s=kr);for(var r=_n(),o=null,u=Qh;u!==null;){var m=u.next,y=N_(u,r);y===0?(u.next=null,o===null?Qh=m:o.next=m,m===null&&(Fo=o)):(o=u,(s!==0||(y&3)!==0)&&(Wh=!0)),u=m}$t!==0&&$t!==5||kc(s),kr!==0&&(kr=0)}function N_(s,r){for(var o=s.suspendedLanes,u=s.pingedLanes,m=s.expirationTimes,y=s.pendingLanes&-62914561;0<y;){var _=31-St(y),A=1<<_,U=m[_];U===-1?((A&o)===0||(A&u)!==0)&&(m[_]=hm(A,r)):U<=r&&(s.expiredLanes|=A),y&=~A}if(r=ut,o=qe,o=Ls(s,s===r?o:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u=s.callbackNode,o===0||s===r&&(it===2||it===9)||s.cancelPendingCommit!==null)return u!==null&&u!==null&&tr(u),s.callbackNode=null,s.callbackPriority=0;if((o&3)===0||ps(s,o)){if(r=o&-o,r===s.callbackPriority)return r;switch(u!==null&&tr(u),bi(o)){case 2:case 8:o=Pl;break;case 32:o=nr;break;case 268435456:o=zu;break;default:o=nr}return u=R_.bind(null,s),o=Gt(o,u),s.callbackPriority=r,s.callbackNode=o,r}return u!==null&&u!==null&&tr(u),s.callbackPriority=2,s.callbackNode=null,2}function R_(s,r){if($t!==0&&$t!==5)return s.callbackNode=null,s.callbackPriority=0,null;var o=s.callbackNode;if(Xh()&&s.callbackNode!==o)return null;var u=qe;return u=Ls(s,s===ut?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u===0?null:(h_(s,u,r),N_(s,_n()),s.callbackNode!=null&&s.callbackNode===o?R_.bind(null,s):null)}function I_(s,r){if(Xh())return null;h_(s,r,!0)}function HN(){tR(function(){(et&6)!==0?Gt(Ol,FN):C_()})}function Pp(){if(kr===0){var s=ko;s===0&&(s=Os,Os<<=1,(Os&261888)===0&&(Os=256)),kr=s}return kr}function D_(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:ho(""+s)}function j_(s,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,s.id&&o.setAttribute("form",s.id),r.parentNode.insertBefore(o,r),s=new FormData(s),o.parentNode.removeChild(o),s}function qN(s,r,o,u,m){if(r==="submit"&&o&&o.stateNode===m){var y=D_((m[Wt]||null).action),_=u.submitter;_&&(r=(r=_[Wt]||null)?D_(r.formAction):_.getAttribute("formAction"),r!==null&&(y=r,_=null));var A=new Xs("action","action",null,u,m);s.push({event:A,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(kr!==0){var U=_?j_(m,_):new FormData(m);sp(o,{pending:!0,data:U,method:m.method,action:y},null,U)}}else typeof y=="function"&&(A.preventDefault(),U=_?j_(m,_):new FormData(m),sp(o,{pending:!0,data:U,method:m.method,action:y},y,U))},currentTarget:m}]})}}for(var Lp=0;Lp<xm.length;Lp++){var Up=xm[Lp],GN=Up.toLowerCase(),$N=Up[0].toUpperCase()+Up.slice(1);Ts(GN,"on"+$N)}Ts(ub,"onAnimationEnd"),Ts(hb,"onAnimationIteration"),Ts(db,"onAnimationStart"),Ts("dblclick","onDoubleClick"),Ts("focusin","onFocus"),Ts("focusout","onBlur"),Ts(lN,"onTransitionRun"),Ts(cN,"onTransitionStart"),Ts(uN,"onTransitionCancel"),Ts(fb,"onTransitionEnd"),Gs("onMouseEnter",["mouseout","mouseover"]),Gs("onMouseLeave",["mouseout","mouseover"]),Gs("onPointerEnter",["pointerout","pointerover"]),Gs("onPointerLeave",["pointerout","pointerover"]),qs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),qs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),qs("onBeforeInput",["compositionend","keypress","textInput","paste"]),qs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),qs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),qs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cc));function M_(s,r){r=(r&4)!==0;for(var o=0;o<s.length;o++){var u=s[o],m=u.event;u=u.listeners;e:{var y=void 0;if(r)for(var _=u.length-1;0<=_;_--){var A=u[_],U=A.instance,Y=A.currentTarget;if(A=A.listener,U!==y&&m.isPropagationStopped())break e;y=A,m.currentTarget=Y;try{y(m)}catch(ne){dh(ne)}m.currentTarget=null,y=U}else for(_=0;_<u.length;_++){if(A=u[_],U=A.instance,Y=A.currentTarget,A=A.listener,U!==y&&m.isPropagationStopped())break e;y=A,m.currentTarget=Y;try{y(m)}catch(ne){dh(ne)}m.currentTarget=null,y=U}}}}function He(s,r){var o=r[ao];o===void 0&&(o=r[ao]=new Set);var u=s+"__bubble";o.has(u)||(V_(r,s,2,!1),o.add(u))}function zp(s,r,o){var u=0;r&&(u|=4),V_(o,s,u,r)}var Jh="_reactListening"+Math.random().toString(36).slice(2);function Bp(s){if(!s[Jh]){s[Jh]=!0,zl.forEach(function(o){o!=="selectionchange"&&(KN.has(o)||zp(o,!1,s),zp(o,!0,s))});var r=s.nodeType===9?s:s.ownerDocument;r===null||r[Jh]||(r[Jh]=!0,zp("selectionchange",!1,r))}}function V_(s,r,o,u){switch(u1(r)){case 2:var m=_R;break;case 8:m=wR;break;default:m=ng}o=m.bind(null,r,o,s),m=void 0,!ha||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(m=!0),u?m!==void 0?s.addEventListener(r,o,{capture:!0,passive:m}):s.addEventListener(r,o,!0):m!==void 0?s.addEventListener(r,o,{passive:m}):s.addEventListener(r,o,!1)}function Fp(s,r,o,u,m){var y=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var _=u.tag;if(_===3||_===4){var A=u.stateNode.containerInfo;if(A===m)break;if(_===4)for(_=u.return;_!==null;){var U=_.tag;if((U===3||U===4)&&_.stateNode.containerInfo===m)return;_=_.return}for(;A!==null;){if(_=Fs(A),_===null)return;if(U=_.tag,U===5||U===6||U===26||U===27){u=y=_;continue e}A=A.parentNode}}u=u.return}lr(function(){var Y=y,ne=Xn(o),ae=[];e:{var X=mb.get(s);if(X!==void 0){var J=Xs,ye=s;switch(s){case"keypress":if(fa(o)===0)break e;case"keydown":case"keyup":J=ch;break;case"focusin":ye="focus",J=pa;break;case"focusout":ye="blur",J=pa;break;case"beforeblur":case"afterblur":J=pa;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=Zl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=eh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=x;break;case ub:case hb:case db:J=nh;break;case fb:J=k;break;case"scroll":case"scrollend":J=Jl;break;case"wheel":J=Q;break;case"copy":case"cut":case"paste":J=sh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=wi;break;case"toggle":case"beforetoggle":J=Le}var Ie=(r&4)!==0,ct=!Ie&&(s==="scroll"||s==="scrollend"),q=Ie?X!==null?X+"Capture":null:X;Ie=[];for(var B=Y,K;B!==null;){var ie=B;if(K=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||K===null||q===null||(ie=bs(B,q),ie!=null&&Ie.push(Nc(B,ie,K))),ct)break;B=B.return}0<Ie.length&&(X=new J(X,ye,null,o,ne),ae.push({event:X,listeners:Ie}))}}if((r&7)===0){e:{if(X=s==="mouseover"||s==="pointerover",J=s==="mouseout"||s==="pointerout",X&&o!==Xl&&(ye=o.relatedTarget||o.fromElement)&&(Fs(ye)||ye[zs]))break e;if((J||X)&&(X=ne.window===ne?ne:(X=ne.ownerDocument)?X.defaultView||X.parentWindow:window,J?(ye=o.relatedTarget||o.toElement,J=Y,ye=ye?Fs(ye):null,ye!==null&&(ct=l(ye),Ie=ye.tag,ye!==ct||Ie!==5&&Ie!==27&&Ie!==6)&&(ye=null)):(J=null,ye=Y),J!==ye)){if(Ie=Zl,ie="onMouseLeave",q="onMouseEnter",B="mouse",(s==="pointerout"||s==="pointerover")&&(Ie=wi,ie="onPointerLeave",q="onPointerEnter",B="pointer"),ct=J==null?X:Vn(J),K=ye==null?X:Vn(ye),X=new Ie(ie,B+"leave",J,o,ne),X.target=ct,X.relatedTarget=K,ie=null,Fs(ne)===Y&&(Ie=new Ie(q,B+"enter",ye,o,ne),Ie.target=K,Ie.relatedTarget=ct,ie=Ie),ct=ie,J&&ye)t:{for(Ie=YN,q=J,B=ye,K=0,ie=q;ie;ie=Ie(ie))K++;ie=0;for(var ke=B;ke;ke=Ie(ke))ie++;for(;0<K-ie;)q=Ie(q),K--;for(;0<ie-K;)B=Ie(B),ie--;for(;K--;){if(q===B||B!==null&&q===B.alternate){Ie=q;break t}q=Ie(q),B=Ie(B)}Ie=null}else Ie=null;J!==null&&O_(ae,X,J,Ie,!1),ye!==null&&ct!==null&&O_(ae,ct,ye,Ie,!0)}}e:{if(X=Y?Vn(Y):window,J=X.nodeName&&X.nodeName.toLowerCase(),J==="select"||J==="input"&&X.type==="file")var We=Zv;else if(Wv(X))if(eb)We=rN;else{We=sN;var Te=nN}else J=X.nodeName,!J||J.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?Y&&uo(Y.elementType)&&(We=Zv):We=iN;if(We&&(We=We(s,Y))){Jv(ae,We,o,ne);break e}Te&&Te(s,X,Y),s==="focusout"&&Y&&X.type==="number"&&Y.memoizedProps.value!=null&&$l(X,"number",X.value)}switch(Te=Y?Vn(Y):window,s){case"focusin":(Wv(Te)||Te.contentEditable==="true")&&(bo=Te,ym=Y,ic=null);break;case"focusout":ic=ym=bo=null;break;case"mousedown":vm=!0;break;case"contextmenu":case"mouseup":case"dragend":vm=!1,lb(ae,o,ne);break;case"selectionchange":if(oN)break;case"keydown":case"keyup":lb(ae,o,ne)}var ze;if(Ze)e:{switch(s){case"compositionstart":var Ge="onCompositionStart";break e;case"compositionend":Ge="onCompositionEnd";break e;case"compositionupdate":Ge="onCompositionUpdate";break e}Ge=void 0}else vo?ga(s,o)&&(Ge="onCompositionEnd"):s==="keydown"&&o.keyCode===229&&(Ge="onCompositionStart");Ge&&(Js&&o.locale!=="ko"&&(vo||Ge!=="onCompositionStart"?Ge==="onCompositionEnd"&&vo&&(ze=Wl()):(Ys=ne,Ql="value"in Ys?Ys.value:Ys.textContent,vo=!0)),Te=Zh(Y,Ge),0<Te.length&&(Ge=new Ws(Ge,s,null,o,ne),ae.push({event:Ge,listeners:Te}),ze?Ge.data=ze:(ze=yo(o),ze!==null&&(Ge.data=ze)))),(ze=Wn?JC(s,o):ZC(s,o))&&(Ge=Zh(Y,"onBeforeInput"),0<Ge.length&&(Te=new Ws("onBeforeInput","beforeinput",null,o,ne),ae.push({event:Te,listeners:Ge}),Te.data=ze)),qN(ae,s,Y,o,ne)}M_(ae,r)})}function Nc(s,r,o){return{instance:s,listener:r,currentTarget:o}}function Zh(s,r){for(var o=r+"Capture",u=[];s!==null;){var m=s,y=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||y===null||(m=bs(s,o),m!=null&&u.unshift(Nc(s,m,y)),m=bs(s,r),m!=null&&u.push(Nc(s,m,y))),s.tag===3)return u;s=s.return}return[]}function YN(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function O_(s,r,o,u,m){for(var y=r._reactName,_=[];o!==null&&o!==u;){var A=o,U=A.alternate,Y=A.stateNode;if(A=A.tag,U!==null&&U===u)break;A!==5&&A!==26&&A!==27||Y===null||(U=Y,m?(Y=bs(o,y),Y!=null&&_.unshift(Nc(o,Y,U))):m||(Y=bs(o,y),Y!=null&&_.push(Nc(o,Y,U)))),o=o.return}_.length!==0&&s.push({event:r,listeners:_})}var XN=/\r\n?/g,QN=/\u0000|\uFFFD/g;function P_(s){return(typeof s=="string"?s:""+s).replace(XN,`
`).replace(QN,"")}function L_(s,r){return r=P_(r),P_(s)===r}function lt(s,r,o,u,m,y){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||kn(s,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&kn(s,""+u);break;case"className":On(s,"class",u);break;case"tabIndex":On(s,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":On(s,o,u);break;case"style":Yl(s,u,y);break;case"data":if(r!=="object"){On(s,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){s.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(o);break}u=ho(""+u),s.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){s.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(o==="formAction"?(r!=="input"&&lt(s,r,"name",m.name,m,null),lt(s,r,"formEncType",m.formEncType,m,null),lt(s,r,"formMethod",m.formMethod,m,null),lt(s,r,"formTarget",m.formTarget,m,null)):(lt(s,r,"encType",m.encType,m,null),lt(s,r,"method",m.method,m,null),lt(s,r,"target",m.target,m,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(o);break}u=ho(""+u),s.setAttribute(o,u);break;case"onClick":u!=null&&(s.onclick=vs);break;case"onScroll":u!=null&&He("scroll",s);break;case"onScrollEnd":u!=null&&He("scrollend",s);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(m.children!=null)throw Error(i(60));s.innerHTML=o}}break;case"multiple":s.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":s.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){s.removeAttribute("xlink:href");break}o=ho(""+u),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(o,""+u):s.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(o,""):s.removeAttribute(o);break;case"capture":case"download":u===!0?s.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(o,u):s.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?s.setAttribute(o,u):s.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?s.removeAttribute(o):s.setAttribute(o,u);break;case"popover":He("beforetoggle",s),He("toggle",s),lo(s,"popover",u);break;case"xlinkActuate":Mt(s,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Mt(s,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Mt(s,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Mt(s,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Mt(s,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Mt(s,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Mt(s,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Mt(s,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Mt(s,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":lo(s,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Zu.get(o)||o,lo(s,o,u))}}function Hp(s,r,o,u,m,y){switch(o){case"style":Yl(s,u,y);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(m.children!=null)throw Error(i(60));s.innerHTML=o}}break;case"children":typeof u=="string"?kn(s,u):(typeof u=="number"||typeof u=="bigint")&&kn(s,""+u);break;case"onScroll":u!=null&&He("scroll",s);break;case"onScrollEnd":u!=null&&He("scrollend",s);break;case"onClick":u!=null&&(s.onclick=vs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Bl.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),r=o.slice(2,m?o.length-7:void 0),y=s[Wt]||null,y=y!=null?y[o]:null,typeof y=="function"&&s.removeEventListener(r,y,m),typeof u=="function")){typeof y!="function"&&y!==null&&(o in s?s[o]=null:s.hasAttribute(o)&&s.removeAttribute(o)),s.addEventListener(r,u,m);break e}o in s?s[o]=u:u===!0?s.setAttribute(o,""):lo(s,o,u)}}}function ln(s,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":He("error",s),He("load",s);var u=!1,m=!1,y;for(y in o)if(o.hasOwnProperty(y)){var _=o[y];if(_!=null)switch(y){case"src":u=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:lt(s,r,y,_,o,null)}}m&&lt(s,r,"srcSet",o.srcSet,o,null),u&&lt(s,r,"src",o.src,o,null);return;case"input":He("invalid",s);var A=y=_=m=null,U=null,Y=null;for(u in o)if(o.hasOwnProperty(u)){var ne=o[u];if(ne!=null)switch(u){case"name":m=ne;break;case"type":_=ne;break;case"checked":U=ne;break;case"defaultChecked":Y=ne;break;case"value":y=ne;break;case"defaultValue":A=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(i(137,r));break;default:lt(s,r,u,ne,o,null)}}Qu(s,y,A,U,Y,_,m,!1);return;case"select":He("invalid",s),u=_=y=null;for(m in o)if(o.hasOwnProperty(m)&&(A=o[m],A!=null))switch(m){case"value":y=A;break;case"defaultValue":_=A;break;case"multiple":u=A;default:lt(s,r,m,A,o,null)}r=y,o=_,s.multiple=!!u,r!=null?ir(s,!!u,r,!1):o!=null&&ir(s,!!u,o,!0);return;case"textarea":He("invalid",s),y=m=u=null;for(_ in o)if(o.hasOwnProperty(_)&&(A=o[_],A!=null))switch(_){case"value":u=A;break;case"defaultValue":m=A;break;case"children":y=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(i(91));break;default:lt(s,r,_,A,o,null)}rr(s,u,m,y);return;case"option":for(U in o)o.hasOwnProperty(U)&&(u=o[U],u!=null)&&(U==="selected"?s.selected=u&&typeof u!="function"&&typeof u!="symbol":lt(s,r,U,u,o,null));return;case"dialog":He("beforetoggle",s),He("toggle",s),He("cancel",s),He("close",s);break;case"iframe":case"object":He("load",s);break;case"video":case"audio":for(u=0;u<Cc.length;u++)He(Cc[u],s);break;case"image":He("error",s),He("load",s);break;case"details":He("toggle",s);break;case"embed":case"source":case"link":He("error",s),He("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in o)if(o.hasOwnProperty(Y)&&(u=o[Y],u!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:lt(s,r,Y,u,o,null)}return;default:if(uo(r)){for(ne in o)o.hasOwnProperty(ne)&&(u=o[ne],u!==void 0&&Hp(s,r,ne,u,o,void 0));return}}for(A in o)o.hasOwnProperty(A)&&(u=o[A],u!=null&&lt(s,r,A,u,o,null))}function WN(s,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,_=null,A=null,U=null,Y=null,ne=null;for(J in o){var ae=o[J];if(o.hasOwnProperty(J)&&ae!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":U=ae;default:u.hasOwnProperty(J)||lt(s,r,J,null,u,ae)}}for(var X in u){var J=u[X];if(ae=o[X],u.hasOwnProperty(X)&&(J!=null||ae!=null))switch(X){case"type":y=J;break;case"name":m=J;break;case"checked":Y=J;break;case"defaultChecked":ne=J;break;case"value":_=J;break;case"defaultValue":A=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,r));break;default:J!==ae&&lt(s,r,X,J,u,ae)}}co(s,_,A,U,Y,ne,y,m);return;case"select":J=_=A=X=null;for(y in o)if(U=o[y],o.hasOwnProperty(y)&&U!=null)switch(y){case"value":break;case"multiple":J=U;default:u.hasOwnProperty(y)||lt(s,r,y,null,u,U)}for(m in u)if(y=u[m],U=o[m],u.hasOwnProperty(m)&&(y!=null||U!=null))switch(m){case"value":X=y;break;case"defaultValue":A=y;break;case"multiple":_=y;default:y!==U&&lt(s,r,m,y,u,U)}r=A,o=_,u=J,X!=null?ir(s,!!o,X,!1):!!u!=!!o&&(r!=null?ir(s,!!o,r,!0):ir(s,!!o,o?[]:"",!1));return;case"textarea":J=X=null;for(A in o)if(m=o[A],o.hasOwnProperty(A)&&m!=null&&!u.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:lt(s,r,A,null,u,m)}for(_ in u)if(m=u[_],y=o[_],u.hasOwnProperty(_)&&(m!=null||y!=null))switch(_){case"value":X=m;break;case"defaultValue":J=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==y&&lt(s,r,_,m,u,y)}Wu(s,X,J);return;case"option":for(var ye in o)X=o[ye],o.hasOwnProperty(ye)&&X!=null&&!u.hasOwnProperty(ye)&&(ye==="selected"?s.selected=!1:lt(s,r,ye,null,u,X));for(U in u)X=u[U],J=o[U],u.hasOwnProperty(U)&&X!==J&&(X!=null||J!=null)&&(U==="selected"?s.selected=X&&typeof X!="function"&&typeof X!="symbol":lt(s,r,U,X,u,J));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ie in o)X=o[Ie],o.hasOwnProperty(Ie)&&X!=null&&!u.hasOwnProperty(Ie)&&lt(s,r,Ie,null,u,X);for(Y in u)if(X=u[Y],J=o[Y],u.hasOwnProperty(Y)&&X!==J&&(X!=null||J!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,r));break;default:lt(s,r,Y,X,u,J)}return;default:if(uo(r)){for(var ct in o)X=o[ct],o.hasOwnProperty(ct)&&X!==void 0&&!u.hasOwnProperty(ct)&&Hp(s,r,ct,void 0,u,X);for(ne in u)X=u[ne],J=o[ne],!u.hasOwnProperty(ne)||X===J||X===void 0&&J===void 0||Hp(s,r,ne,X,u,J);return}}for(var q in o)X=o[q],o.hasOwnProperty(q)&&X!=null&&!u.hasOwnProperty(q)&&lt(s,r,q,null,u,X);for(ae in u)X=u[ae],J=o[ae],!u.hasOwnProperty(ae)||X===J||X==null&&J==null||lt(s,r,ae,X,u,J)}function U_(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function JN(){if(typeof performance.getEntriesByType=="function"){for(var s=0,r=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var m=o[u],y=m.transferSize,_=m.initiatorType,A=m.duration;if(y&&A&&U_(_)){for(_=0,A=m.responseEnd,u+=1;u<o.length;u++){var U=o[u],Y=U.startTime;if(Y>A)break;var ne=U.transferSize,ae=U.initiatorType;ne&&U_(ae)&&(U=U.responseEnd,_+=ne*(U<A?1:(A-Y)/(U-Y)))}if(--u,r+=8*(y+_)/(m.duration/1e3),s++,10<s)break}}if(0<s)return r/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var qp=null,Gp=null;function ed(s){return s.nodeType===9?s:s.ownerDocument}function z_(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function B_(s,r){if(s===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&r==="foreignObject"?0:s}function $p(s,r){return s==="textarea"||s==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Kp=null;function ZN(){var s=window.event;return s&&s.type==="popstate"?s===Kp?!1:(Kp=s,!0):(Kp=null,!1)}var F_=typeof setTimeout=="function"?setTimeout:void 0,eR=typeof clearTimeout=="function"?clearTimeout:void 0,H_=typeof Promise=="function"?Promise:void 0,tR=typeof queueMicrotask=="function"?queueMicrotask:typeof H_<"u"?function(s){return H_.resolve(null).then(s).catch(nR)}:F_;function nR(s){setTimeout(function(){throw s})}function Cr(s){return s==="head"}function q_(s,r){var o=r,u=0;do{var m=o.nextSibling;if(s.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"||o==="/&"){if(u===0){s.removeChild(m),$o(r);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")Rc(s.ownerDocument.documentElement);else if(o==="head"){o=s.ownerDocument.head,Rc(o);for(var y=o.firstChild;y;){var _=y.nextSibling,A=y.nodeName;y[Bs]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&y.rel.toLowerCase()==="stylesheet"||o.removeChild(y),y=_}}else o==="body"&&Rc(s.ownerDocument.body);o=m}while(o);$o(r)}function G_(s,r){var o=s;s=0;do{var u=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(s===0)break;s--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||s++;o=u}while(o)}function Yp(s){var r=s.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Yp(o),oo(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}s.removeChild(o)}}function sR(s,r,o,u){for(;s.nodeType===1;){var m=o;if(s.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(u){if(!s[Bs])switch(r){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(y=s.getAttribute("rel"),y==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(y!==m.rel||s.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||s.getAttribute("title")!==(m.title==null?null:m.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(y=s.getAttribute("src"),(y!==(m.src==null?null:m.src)||s.getAttribute("type")!==(m.type==null?null:m.type)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&y&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(r==="input"&&s.type==="hidden"){var y=m.name==null?null:""+m.name;if(m.type==="hidden"&&s.getAttribute("name")===y)return s}else return s;if(s=is(s.nextSibling),s===null)break}return null}function iR(s,r,o){if(r==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!o||(s=is(s.nextSibling),s===null))return null;return s}function $_(s,r){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!r||(s=is(s.nextSibling),s===null))return null;return s}function Xp(s){return s.data==="$?"||s.data==="$~"}function Qp(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function rR(s,r){var o=s.ownerDocument;if(s.data==="$~")s._reactRetry=r;else if(s.data!=="$?"||o.readyState!=="loading")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),s._reactRetry=u}}function is(s){for(;s!=null;s=s.nextSibling){var r=s.nodeType;if(r===1||r===3)break;if(r===8){if(r=s.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return s}var Wp=null;function K_(s){s=s.nextSibling;for(var r=0;s;){if(s.nodeType===8){var o=s.data;if(o==="/$"||o==="/&"){if(r===0)return is(s.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}s=s.nextSibling}return null}function Y_(s){s=s.previousSibling;for(var r=0;s;){if(s.nodeType===8){var o=s.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return s;r--}else o!=="/$"&&o!=="/&"||r++}s=s.previousSibling}return null}function X_(s,r,o){switch(r=ed(o),s){case"html":if(s=r.documentElement,!s)throw Error(i(452));return s;case"head":if(s=r.head,!s)throw Error(i(453));return s;case"body":if(s=r.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function Rc(s){for(var r=s.attributes;r.length;)s.removeAttributeNode(r[0]);oo(s)}var rs=new Map,Q_=new Set;function td(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Pi=W.d;W.d={f:aR,r:oR,D:lR,C:cR,L:uR,m:hR,X:fR,S:dR,M:mR};function aR(){var s=Pi.f(),r=$h();return s||r}function oR(s){var r=Yn(s);r!==null&&r.tag===5&&r.type==="form"?fx(r):Pi.r(s)}var Ho=typeof document>"u"?null:document;function W_(s,r,o){var u=Ho;if(u&&typeof r=="string"&&r){var m=An(r);m='link[rel="'+s+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),Q_.has(m)||(Q_.add(m),s={rel:s,crossOrigin:o,href:r},u.querySelector(m)===null&&(r=u.createElement("link"),ln(r,"link",s),jt(r),u.head.appendChild(r)))}}function lR(s){Pi.D(s),W_("dns-prefetch",s,null)}function cR(s,r){Pi.C(s,r),W_("preconnect",s,r)}function uR(s,r,o){Pi.L(s,r,o);var u=Ho;if(u&&s&&r){var m='link[rel="preload"][as="'+An(r)+'"]';r==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+An(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+An(o.imageSizes)+'"]')):m+='[href="'+An(s)+'"]';var y=m;switch(r){case"style":y=qo(s);break;case"script":y=Go(s)}rs.has(y)||(s=b({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:s,as:r},o),rs.set(y,s),u.querySelector(m)!==null||r==="style"&&u.querySelector(Ic(y))||r==="script"&&u.querySelector(Dc(y))||(r=u.createElement("link"),ln(r,"link",s),jt(r),u.head.appendChild(r)))}}function hR(s,r){Pi.m(s,r);var o=Ho;if(o&&s){var u=r&&typeof r.as=="string"?r.as:"script",m='link[rel="modulepreload"][as="'+An(u)+'"][href="'+An(s)+'"]',y=m;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Go(s)}if(!rs.has(y)&&(s=b({rel:"modulepreload",href:s},r),rs.set(y,s),o.querySelector(m)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Dc(y)))return}u=o.createElement("link"),ln(u,"link",s),jt(u),o.head.appendChild(u)}}}function dR(s,r,o){Pi.S(s,r,o);var u=Ho;if(u&&s){var m=Hs(u).hoistableStyles,y=qo(s);r=r||"default";var _=m.get(y);if(!_){var A={loading:0,preload:null};if(_=u.querySelector(Ic(y)))A.loading=5;else{s=b({rel:"stylesheet",href:s,"data-precedence":r},o),(o=rs.get(y))&&Jp(s,o);var U=_=u.createElement("link");jt(U),ln(U,"link",s),U._p=new Promise(function(Y,ne){U.onload=Y,U.onerror=ne}),U.addEventListener("load",function(){A.loading|=1}),U.addEventListener("error",function(){A.loading|=2}),A.loading|=4,nd(_,r,u)}_={type:"stylesheet",instance:_,count:1,state:A},m.set(y,_)}}}function fR(s,r){Pi.X(s,r);var o=Ho;if(o&&s){var u=Hs(o).hoistableScripts,m=Go(s),y=u.get(m);y||(y=o.querySelector(Dc(m)),y||(s=b({src:s,async:!0},r),(r=rs.get(m))&&Zp(s,r),y=o.createElement("script"),jt(y),ln(y,"link",s),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(m,y))}}function mR(s,r){Pi.M(s,r);var o=Ho;if(o&&s){var u=Hs(o).hoistableScripts,m=Go(s),y=u.get(m);y||(y=o.querySelector(Dc(m)),y||(s=b({src:s,async:!0,type:"module"},r),(r=rs.get(m))&&Zp(s,r),y=o.createElement("script"),jt(y),ln(y,"link",s),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(m,y))}}function J_(s,r,o,u){var m=(m=Ne.current)?td(m):null;if(!m)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=qo(o.href),o=Hs(m).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){s=qo(o.href);var y=Hs(m).hoistableStyles,_=y.get(s);if(_||(m=m.ownerDocument||m,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(s,_),(y=m.querySelector(Ic(s)))&&!y._p&&(_.instance=y,_.state.loading=5),rs.has(s)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},rs.set(s,o),y||pR(m,s,o,_.state))),r&&u===null)throw Error(i(528,""));return _}if(r&&u!==null)throw Error(i(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Go(o),o=Hs(m).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function qo(s){return'href="'+An(s)+'"'}function Ic(s){return'link[rel="stylesheet"]['+s+"]"}function Z_(s){return b({},s,{"data-precedence":s.precedence,precedence:null})}function pR(s,r,o,u){s.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=s.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),ln(r,"link",o),jt(r),s.head.appendChild(r))}function Go(s){return'[src="'+An(s)+'"]'}function Dc(s){return"script[async]"+s}function e1(s,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=s.querySelector('style[data-href~="'+An(o.href)+'"]');if(u)return r.instance=u,jt(u),u;var m=b({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(s.ownerDocument||s).createElement("style"),jt(u),ln(u,"style",m),nd(u,o.precedence,s),r.instance=u;case"stylesheet":m=qo(o.href);var y=s.querySelector(Ic(m));if(y)return r.state.loading|=4,r.instance=y,jt(y),y;u=Z_(o),(m=rs.get(m))&&Jp(u,m),y=(s.ownerDocument||s).createElement("link"),jt(y);var _=y;return _._p=new Promise(function(A,U){_.onload=A,_.onerror=U}),ln(y,"link",u),r.state.loading|=4,nd(y,o.precedence,s),r.instance=y;case"script":return y=Go(o.src),(m=s.querySelector(Dc(y)))?(r.instance=m,jt(m),m):(u=o,(m=rs.get(y))&&(u=b({},o),Zp(u,m)),s=s.ownerDocument||s,m=s.createElement("script"),jt(m),ln(m,"link",u),s.head.appendChild(m),r.instance=m);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,nd(u,o.precedence,s));return r.instance}function nd(s,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=u.length?u[u.length-1]:null,y=m,_=0;_<u.length;_++){var A=u[_];if(A.dataset.precedence===r)y=A;else if(y!==m)break}y?y.parentNode.insertBefore(s,y.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(s,r.firstChild))}function Jp(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.title==null&&(s.title=r.title)}function Zp(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.integrity==null&&(s.integrity=r.integrity)}var sd=null;function t1(s,r,o){if(sd===null){var u=new Map,m=sd=new Map;m.set(o,u)}else m=sd,u=m.get(o),u||(u=new Map,m.set(o,u));if(u.has(s))return u;for(u.set(s,null),o=o.getElementsByTagName(s),m=0;m<o.length;m++){var y=o[m];if(!(y[Bs]||y[Dt]||s==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var _=y.getAttribute(r)||"";_=s+_;var A=u.get(_);A?A.push(y):u.set(_,[y])}}return u}function n1(s,r,o){s=s.ownerDocument||s,s.head.insertBefore(o,r==="title"?s.querySelector("head > title"):null)}function gR(s,r,o){if(o===1||r.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(s=r.disabled,typeof r.precedence=="string"&&s==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function s1(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function yR(s,r,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var m=qo(u.href),y=r.querySelector(Ic(m));if(y){r=y._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(s.count++,s=id.bind(s),r.then(s,s)),o.state.loading|=4,o.instance=y,jt(y);return}y=r.ownerDocument||r,u=Z_(u),(m=rs.get(m))&&Jp(u,m),y=y.createElement("link"),jt(y);var _=y;_._p=new Promise(function(A,U){_.onload=A,_.onerror=U}),ln(y,"link",u),o.instance=y}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(s.count++,o=id.bind(s),r.addEventListener("load",o),r.addEventListener("error",o))}}var eg=0;function vR(s,r){return s.stylesheets&&s.count===0&&ad(s,s.stylesheets),0<s.count||0<s.imgCount?function(o){var u=setTimeout(function(){if(s.stylesheets&&ad(s,s.stylesheets),s.unsuspend){var y=s.unsuspend;s.unsuspend=null,y()}},6e4+r);0<s.imgBytes&&eg===0&&(eg=62500*JN());var m=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&ad(s,s.stylesheets),s.unsuspend)){var y=s.unsuspend;s.unsuspend=null,y()}},(s.imgBytes>eg?50:800)+r);return s.unsuspend=o,function(){s.unsuspend=null,clearTimeout(u),clearTimeout(m)}}:null}function id(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ad(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var rd=null;function ad(s,r){s.stylesheets=null,s.unsuspend!==null&&(s.count++,rd=new Map,r.forEach(bR,s),rd=null,id.call(s))}function bR(s,r){if(!(r.state.loading&4)){var o=rd.get(s);if(o)var u=o.get(null);else{o=new Map,rd.set(s,o);for(var m=s.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var _=m[y];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(o.set(_.dataset.precedence,_),u=_)}u&&o.set(null,u)}m=r.instance,_=m.getAttribute("data-precedence"),y=o.get(_)||u,y===u&&o.set(null,m),o.set(_,m),this.count++,u=id.bind(this),m.addEventListener("load",u),m.addEventListener("error",u),y?y.parentNode.insertBefore(m,y.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(m,s.firstChild)),r.state.loading|=4}}var jc={$$typeof:H,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function xR(s,r,o,u,m,y,_,A,U){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Us(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Us(0),this.hiddenUpdates=Us(null),this.identifierPrefix=u,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function i1(s,r,o,u,m,y,_,A,U,Y,ne,ae){return s=new xR(s,r,o,_,U,Y,ne,ae,A),r=1,y===!0&&(r|=24),y=Ln(3,null,null,r),s.current=y,y.stateNode=s,r=jm(),r.refCount++,s.pooledCache=r,r.refCount++,y.memoizedState={element:u,isDehydrated:o,cache:r},Pm(y),s}function r1(s){return s?(s=wo,s):wo}function a1(s,r,o,u,m,y){m=r1(m),u.context===null?u.context=m:u.pendingContext=m,u=yr(r),u.payload={element:o},y=y===void 0?null:y,y!==null&&(u.callback=y),o=vr(s,u,r),o!==null&&(Dn(o,s,r),hc(o,s,r))}function o1(s,r){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var o=s.retryLane;s.retryLane=o!==0&&o<r?o:r}}function tg(s,r){o1(s,r),(s=s.alternate)&&o1(s,r)}function l1(s){if(s.tag===13||s.tag===31){var r=ba(s,67108864);r!==null&&Dn(r,s,67108864),tg(s,67108864)}}function c1(s){if(s.tag===13||s.tag===31){var r=Hn();r=oa(r);var o=ba(s,r);o!==null&&Dn(o,s,r),tg(s,r)}}var od=!0;function _R(s,r,o,u){var m=G.T;G.T=null;var y=W.p;try{W.p=2,ng(s,r,o,u)}finally{W.p=y,G.T=m}}function wR(s,r,o,u){var m=G.T;G.T=null;var y=W.p;try{W.p=8,ng(s,r,o,u)}finally{W.p=y,G.T=m}}function ng(s,r,o,u){if(od){var m=sg(u);if(m===null)Fp(s,r,u,ld,o),h1(s,u);else if(ER(m,s,r,o,u))u.stopPropagation();else if(h1(s,u),r&4&&-1<TR.indexOf(s)){for(;m!==null;){var y=Yn(m);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var _=Ps(y.pendingLanes);if(_!==0){var A=y;for(A.pendingLanes|=2,A.entangledLanes|=2;_;){var U=1<<31-St(_);A.entanglements[1]|=U,_&=~U}ni(y),(et&6)===0&&(qh=_n()+500,kc(0))}}break;case 31:case 13:A=ba(y,2),A!==null&&Dn(A,y,2),$h(),tg(y,2)}if(y=sg(u),y===null&&Fp(s,r,u,ld,o),y===m)break;m=y}m!==null&&u.stopPropagation()}else Fp(s,r,u,null,o)}}function sg(s){return s=Xn(s),ig(s)}var ld=null;function ig(s){if(ld=null,s=Fs(s),s!==null){var r=l(s);if(r===null)s=null;else{var o=r.tag;if(o===13){if(s=c(r),s!==null)return s;s=null}else if(o===31){if(s=h(r),s!==null)return s;s=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;s=null}else r!==s&&(s=null)}}return ld=s,null}function u1(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(sa()){case Ol:return 2;case Pl:return 8;case nr:case um:return 32;case zu:return 268435456;default:return 32}default:return 32}}var rg=!1,Nr=null,Rr=null,Ir=null,Mc=new Map,Vc=new Map,Dr=[],TR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function h1(s,r){switch(s){case"focusin":case"focusout":Nr=null;break;case"dragenter":case"dragleave":Rr=null;break;case"mouseover":case"mouseout":Ir=null;break;case"pointerover":case"pointerout":Mc.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vc.delete(r.pointerId)}}function Oc(s,r,o,u,m,y){return s===null||s.nativeEvent!==y?(s={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:y,targetContainers:[m]},r!==null&&(r=Yn(r),r!==null&&l1(r)),s):(s.eventSystemFlags|=u,r=s.targetContainers,m!==null&&r.indexOf(m)===-1&&r.push(m),s)}function ER(s,r,o,u,m){switch(r){case"focusin":return Nr=Oc(Nr,s,r,o,u,m),!0;case"dragenter":return Rr=Oc(Rr,s,r,o,u,m),!0;case"mouseover":return Ir=Oc(Ir,s,r,o,u,m),!0;case"pointerover":var y=m.pointerId;return Mc.set(y,Oc(Mc.get(y)||null,s,r,o,u,m)),!0;case"gotpointercapture":return y=m.pointerId,Vc.set(y,Oc(Vc.get(y)||null,s,r,o,u,m)),!0}return!1}function d1(s){var r=Fs(s.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){s.blockedOn=r,gs(s.priority,function(){c1(o)});return}}else if(r===31){if(r=h(o),r!==null){s.blockedOn=r,gs(s.priority,function(){c1(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){s.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}s.blockedOn=null}function cd(s){if(s.blockedOn!==null)return!1;for(var r=s.targetContainers;0<r.length;){var o=sg(s.nativeEvent);if(o===null){o=s.nativeEvent;var u=new o.constructor(o.type,o);Xl=u,o.target.dispatchEvent(u),Xl=null}else return r=Yn(o),r!==null&&l1(r),s.blockedOn=o,!1;r.shift()}return!0}function f1(s,r,o){cd(s)&&o.delete(r)}function SR(){rg=!1,Nr!==null&&cd(Nr)&&(Nr=null),Rr!==null&&cd(Rr)&&(Rr=null),Ir!==null&&cd(Ir)&&(Ir=null),Mc.forEach(f1),Vc.forEach(f1)}function ud(s,r){s.blockedOn===r&&(s.blockedOn=null,rg||(rg=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,SR)))}var hd=null;function m1(s){hd!==s&&(hd=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){hd===s&&(hd=null);for(var r=0;r<s.length;r+=3){var o=s[r],u=s[r+1],m=s[r+2];if(typeof u!="function"){if(ig(u||o)===null)continue;break}var y=Yn(o);y!==null&&(s.splice(r,3),r-=3,sp(y,{pending:!0,data:m,method:o.method,action:u},u,m))}}))}function $o(s){function r(U){return ud(U,s)}Nr!==null&&ud(Nr,s),Rr!==null&&ud(Rr,s),Ir!==null&&ud(Ir,s),Mc.forEach(r),Vc.forEach(r);for(var o=0;o<Dr.length;o++){var u=Dr[o];u.blockedOn===s&&(u.blockedOn=null)}for(;0<Dr.length&&(o=Dr[0],o.blockedOn===null);)d1(o),o.blockedOn===null&&Dr.shift();if(o=(s.ownerDocument||s).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var m=o[u],y=o[u+1],_=m[Wt]||null;if(typeof y=="function")_||m1(o);else if(_){var A=null;if(y&&y.hasAttribute("formAction")){if(m=y,_=y[Wt]||null)A=_.formAction;else if(ig(m)!==null)continue}else A=_.action;typeof A=="function"?o[u+1]=A:(o.splice(u,3),u-=3),m1(o)}}}function p1(){function s(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(_){return m=_})},focusReset:"manual",scroll:"manual"})}function r(){m!==null&&(m(),m=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,m=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),m!==null&&(m(),m=null)}}}function ag(s){this._internalRoot=s}dd.prototype.render=ag.prototype.render=function(s){var r=this._internalRoot;if(r===null)throw Error(i(409));var o=r.current,u=Hn();a1(o,u,s,r,null,null)},dd.prototype.unmount=ag.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var r=s.containerInfo;a1(s.current,2,null,s,null,null),$h(),r[zs]=null}};function dd(s){this._internalRoot=s}dd.prototype.unstable_scheduleHydration=function(s){if(s){var r=$u();s={blockedOn:null,target:s,priority:r};for(var o=0;o<Dr.length&&r!==0&&r<Dr[o].priority;o++);Dr.splice(o,0,s),o===0&&d1(s)}};var g1=e.version;if(g1!=="19.2.4")throw Error(i(527,g1,"19.2.4"));W.findDOMNode=function(s){var r=s._reactInternals;if(r===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=p(r),s=s!==null?v(s):null,s=s===null?null:s.stateNode,s};var AR={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fd.isDisabled&&fd.supportsFiber)try{ms=fd.inject(AR),nn=fd}catch{}}return Lc.createRoot=function(s,r){if(!a(s))throw Error(i(299));var o=!1,u="",m=Tx,y=Ex,_=Sx;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(m=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError)),r=i1(s,1,!1,null,null,o,u,null,m,y,_,p1),s[zs]=r.current,Bp(s),new ag(r)},Lc.hydrateRoot=function(s,r,o){if(!a(s))throw Error(i(299));var u=!1,m="",y=Tx,_=Ex,A=Sx,U=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(_=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.formState!==void 0&&(U=o.formState)),r=i1(s,1,!0,r,o??null,u,m,U,y,_,A,p1),r.context=r1(null),o=r.current,u=Hn(),u=oa(u),m=yr(u),m.callback=null,vr(o,m,u),o=u,r.current.lanes=o,ra(r,o),ni(r),s[zs]=r.current,Bp(s),new dd(r)},Lc.version="19.2.4",Lc}var A1;function VR(){if(A1)return cg.exports;A1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),cg.exports=MR(),cg.exports}var OR=VR();const PR=BE(OR);var k1="popstate";function LR(t={}){function e(i,a){let{pathname:l,search:c,hash:h}=i.location;return e0("",{pathname:l,search:c,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){return typeof a=="string"?a:au(a)}return zR(e,n,null,t)}function bt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ms(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function UR(){return Math.random().toString(36).substring(2,10)}function C1(t,e){return{usr:t.state,key:t.key,idx:e}}function e0(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?xl(e):e,state:n,key:e&&e.key||i||UR()}}function au({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function xl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function zR(t,e,n,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,c=a.history,h="POP",f=null,p=v();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function v(){return(c.state||{idx:null}).idx}function b(){h="POP";let V=v(),P=V==null?null:V-p;p=V,f&&f({action:h,location:O.location,delta:P})}function w(V,P){h="PUSH";let F=e0(O.location,V,P);p=v()+1;let H=C1(F,p),ee=O.createHref(F);try{c.pushState(H,"",ee)}catch(se){if(se instanceof DOMException&&se.name==="DataCloneError")throw se;a.location.assign(ee)}l&&f&&f({action:h,location:O.location,delta:1})}function S(V,P){h="REPLACE";let F=e0(O.location,V,P);p=v();let H=C1(F,p),ee=O.createHref(F);c.replaceState(H,"",ee),l&&f&&f({action:h,location:O.location,delta:0})}function M(V){return BR(V)}let O={get action(){return h},get location(){return t(a,c)},listen(V){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(k1,b),f=V,()=>{a.removeEventListener(k1,b),f=null}},createHref(V){return e(a,V)},createURL:M,encodeLocation(V){let P=M(V);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:w,replace:S,go(V){return c.go(V)}};return O}function BR(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),bt(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:au(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function HE(t,e,n="/"){return FR(t,e,n,!1)}function FR(t,e,n,i){let a=typeof e=="string"?xl(e):e,l=Gi(a.pathname||"/",n);if(l==null)return null;let c=qE(t);HR(c);let h=null;for(let f=0;h==null&&f<c.length;++f){let p=eI(l);h=JR(c[f],p,i)}return h}function qE(t,e=[],n=[],i="",a=!1){let l=(c,h,f=a,p)=>{let v={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(i)&&f)return;bt(v.relativePath.startsWith(i),`Absolute route path "${v.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(i.length)}let b=Fi([i,v.relativePath]),w=n.concat(v);c.children&&c.children.length>0&&(bt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),qE(c.children,e,w,b,f)),!(c.path==null&&!c.index)&&e.push({path:b,score:QR(b,c.index),routesMeta:w})};return t.forEach((c,h)=>{if(c.path===""||!c.path?.includes("?"))l(c,h);else for(let f of GE(c.path))l(c,h,!0,f)}),e}function GE(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let c=GE(i.join("/")),h=[];return h.push(...c.map(f=>f===""?l:[l,f].join("/"))),a&&h.push(...c),h.map(f=>t.startsWith("/")&&f===""?"/":f)}function HR(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:WR(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var qR=/^:[\w-]+$/,GR=3,$R=2,KR=1,YR=10,XR=-2,N1=t=>t==="*";function QR(t,e){let n=t.split("/"),i=n.length;return n.some(N1)&&(i+=XR),e&&(i+=$R),n.filter(a=>!N1(a)).reduce((a,l)=>a+(qR.test(l)?GR:l===""?KR:YR),i)}function WR(t,e){return t.length===e.length&&t.slice(0,-1).every((i,a)=>i===e[a])?t[t.length-1]-e[e.length-1]:0}function JR(t,e,n=!1){let{routesMeta:i}=t,a={},l="/",c=[];for(let h=0;h<i.length;++h){let f=i[h],p=h===i.length-1,v=l==="/"?e:e.slice(l.length)||"/",b=Wd({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},v),w=f.route;if(!b&&p&&n&&!i[i.length-1].route.index&&(b=Wd({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},v)),!b)return null;Object.assign(a,b.params),c.push({params:a,pathname:Fi([l,b.pathname]),pathnameBase:iI(Fi([l,b.pathnameBase])),route:w}),b.pathnameBase!=="/"&&(l=Fi([l,b.pathnameBase]))}return c}function Wd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=ZR(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:i.reduce((p,{paramName:v,isOptional:b},w)=>{if(v==="*"){let M=h[w]||"";c=l.slice(0,l.length-M.length).replace(/(.)\/+$/,"$1")}const S=h[w];return b&&!S?p[v]=void 0:p[v]=(S||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:t}}function ZR(t,e=!1,n=!0){Ms(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,f)=>(i.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function eI(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ms(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Gi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}var tI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function nI(t,e="/"){let{pathname:n,search:i="",hash:a=""}=typeof t=="string"?xl(t):t,l;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?l=R1(n.substring(1),"/"):l=R1(n,e)):l=e,{pathname:l,search:rI(i),hash:aI(a)}}function R1(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function fg(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function sI(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function iy(t){let e=sI(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function ry(t,e,n,i=!1){let a;typeof t=="string"?a=xl(t):(a={...t},bt(!a.pathname||!a.pathname.includes("?"),fg("?","pathname","search",a)),bt(!a.pathname||!a.pathname.includes("#"),fg("#","pathname","hash",a)),bt(!a.search||!a.search.includes("#"),fg("#","search","hash",a)));let l=t===""||a.pathname==="",c=l?"/":a.pathname,h;if(c==null)h=n;else{let b=e.length-1;if(!i&&c.startsWith("..")){let w=c.split("/");for(;w[0]==="..";)w.shift(),b-=1;a.pathname=w.join("/")}h=b>=0?e[b]:"/"}let f=nI(a,h),p=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(p||v)&&(f.pathname+="/"),f}var Fi=t=>t.join("/").replace(/\/\/+/g,"/"),iI=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),rI=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,aI=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,oI=class{constructor(t,e,n,i=!1){this.status=t,this.statusText=e||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function lI(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function cI(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var $E=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function KE(t,e){let n=t;if(typeof n!="string"||!tI.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let i=n,a=!1;if($E)try{let l=new URL(window.location.href),c=n.startsWith("//")?new URL(l.protocol+n):new URL(n),h=Gi(c.pathname,e);c.origin===l.origin&&h!=null?n=h+c.search+c.hash:a=!0}catch{Ms(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var YE=["POST","PUT","PATCH","DELETE"];new Set(YE);var uI=["GET",...YE];new Set(uI);var _l=N.createContext(null);_l.displayName="DataRouter";var If=N.createContext(null);If.displayName="DataRouterState";var hI=N.createContext(!1),XE=N.createContext({isTransitioning:!1});XE.displayName="ViewTransition";var dI=N.createContext(new Map);dI.displayName="Fetchers";var fI=N.createContext(null);fI.displayName="Await";var qn=N.createContext(null);qn.displayName="Navigation";var wu=N.createContext(null);wu.displayName="Location";var ds=N.createContext({outlet:null,matches:[],isDataRoute:!1});ds.displayName="Route";var ay=N.createContext(null);ay.displayName="RouteError";var QE="REACT_ROUTER_ERROR",mI="REDIRECT",pI="ROUTE_ERROR_RESPONSE";function gI(t){if(t.startsWith(`${QE}:${mI}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function yI(t){if(t.startsWith(`${QE}:${pI}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new oI(e.status,e.statusText,e.data)}catch{}}function vI(t,{relative:e}={}){bt(wl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=N.useContext(qn),{hash:a,pathname:l,search:c}=Tu(t,{relative:e}),h=l;return n!=="/"&&(h=l==="/"?n:Fi([n,l])),i.createHref({pathname:h,search:c,hash:a})}function wl(){return N.useContext(wu)!=null}function Wi(){return bt(wl(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(wu).location}var WE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function JE(t){N.useContext(qn).static||N.useLayoutEffect(t)}function Df(){let{isDataRoute:t}=N.useContext(ds);return t?MI():bI()}function bI(){bt(wl(),"useNavigate() may be used only in the context of a <Router> component.");let t=N.useContext(_l),{basename:e,navigator:n}=N.useContext(qn),{matches:i}=N.useContext(ds),{pathname:a}=Wi(),l=JSON.stringify(iy(i)),c=N.useRef(!1);return JE(()=>{c.current=!0}),N.useCallback((f,p={})=>{if(Ms(c.current,WE),!c.current)return;if(typeof f=="number"){n.go(f);return}let v=ry(f,JSON.parse(l),a,p.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Fi([e,v.pathname])),(p.replace?n.replace:n.push)(v,p.state,p)},[e,n,l,a,t])}var xI=N.createContext(null);function _I(t){let e=N.useContext(ds).outlet;return N.useMemo(()=>e&&N.createElement(xI.Provider,{value:t},e),[e,t])}function wI(){let{matches:t}=N.useContext(ds),e=t[t.length-1];return e?e.params:{}}function Tu(t,{relative:e}={}){let{matches:n}=N.useContext(ds),{pathname:i}=Wi(),a=JSON.stringify(iy(n));return N.useMemo(()=>ry(t,JSON.parse(a),i,e==="path"),[t,a,i,e])}function TI(t,e){return ZE(t,e)}function ZE(t,e,n,i,a){bt(wl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=N.useContext(qn),{matches:c}=N.useContext(ds),h=c[c.length-1],f=h?h.params:{},p=h?h.pathname:"/",v=h?h.pathnameBase:"/",b=h&&h.route;{let F=b&&b.path||"";tS(p,!b||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let w=Wi(),S;if(e){let F=typeof e=="string"?xl(e):e;bt(v==="/"||F.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${F.pathname}" was given in the \`location\` prop.`),S=F}else S=w;let M=S.pathname||"/",O=M;if(v!=="/"){let F=v.replace(/^\//,"").split("/");O="/"+M.replace(/^\//,"").split("/").slice(F.length).join("/")}let V=HE(t,{pathname:O});Ms(b||V!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Ms(V==null||V[V.length-1].route.element!==void 0||V[V.length-1].route.Component!==void 0||V[V.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let P=CI(V&&V.map(F=>Object.assign({},F,{params:Object.assign({},f,F.params),pathname:Fi([v,l.encodeLocation?l.encodeLocation(F.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?v:Fi([v,l.encodeLocation?l.encodeLocation(F.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:F.pathnameBase])})),c,n,i,a);return e&&P?N.createElement(wu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},P):P}function EI(){let t=jI(),e=lI(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=N.createElement(N.Fragment,null,N.createElement("p",null," Hey developer "),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:l},"ErrorBoundary")," or"," ",N.createElement("code",{style:l},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),n?N.createElement("pre",{style:a},n):null,c)}var SI=N.createElement(EI,null),eS=class extends N.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=yI(t.digest);n&&(t=n)}let e=t!==void 0?N.createElement(ds.Provider,{value:this.props.routeContext},N.createElement(ay.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?N.createElement(AI,{error:t},e):e}};eS.contextType=hI;var mg=new WeakMap;function AI({children:t,error:e}){let{basename:n}=N.useContext(qn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=gI(e.digest);if(i){let a=mg.get(e);if(a)throw a;let l=KE(i.location,n);if($E&&!mg.get(e))if(l.isExternal||i.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:i.replace}));throw mg.set(e,c),c}return N.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return t}function kI({routeContext:t,match:e,children:n}){let i=N.useContext(_l);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),N.createElement(ds.Provider,{value:t},n)}function CI(t,e=[],n=null,i=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,c=n?.errors;if(c!=null){let v=l.findIndex(b=>b.route.id&&c?.[b.route.id]!==void 0);bt(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,v+1))}let h=!1,f=-1;if(n)for(let v=0;v<l.length;v++){let b=l[v];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(f=v),b.route.id){let{loaderData:w,errors:S}=n,M=b.route.loader&&!w.hasOwnProperty(b.route.id)&&(!S||S[b.route.id]===void 0);if(b.route.lazy||M){h=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}let p=n&&i?(v,b)=>{i(v,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:cI(n.matches),errorInfo:b})}:void 0;return l.reduceRight((v,b,w)=>{let S,M=!1,O=null,V=null;n&&(S=c&&b.route.id?c[b.route.id]:void 0,O=b.route.errorElement||SI,h&&(f<0&&w===0?(tS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),M=!0,V=null):f===w&&(M=!0,V=b.route.hydrateFallbackElement||null)));let P=e.concat(l.slice(0,w+1)),F=()=>{let H;return S?H=O:M?H=V:b.route.Component?H=N.createElement(b.route.Component,null):b.route.element?H=b.route.element:H=v,N.createElement(kI,{match:b,routeContext:{outlet:v,matches:P,isDataRoute:n!=null},children:H})};return n&&(b.route.ErrorBoundary||b.route.errorElement||w===0)?N.createElement(eS,{location:n.location,revalidation:n.revalidation,component:O,error:S,children:F(),routeContext:{outlet:null,matches:P,isDataRoute:!0},onError:p}):F()},null)}function oy(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function NI(t){let e=N.useContext(_l);return bt(e,oy(t)),e}function RI(t){let e=N.useContext(If);return bt(e,oy(t)),e}function II(t){let e=N.useContext(ds);return bt(e,oy(t)),e}function ly(t){let e=II(t),n=e.matches[e.matches.length-1];return bt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function DI(){return ly("useRouteId")}function jI(){let t=N.useContext(ay),e=RI("useRouteError"),n=ly("useRouteError");return t!==void 0?t:e.errors?.[n]}function MI(){let{router:t}=NI("useNavigate"),e=ly("useNavigate"),n=N.useRef(!1);return JE(()=>{n.current=!0}),N.useCallback(async(a,l={})=>{Ms(n.current,WE),n.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var I1={};function tS(t,e,n){!e&&!I1[t]&&(I1[t]=!0,Ms(!1,n))}N.memo(VI);function VI({routes:t,future:e,state:n,onError:i}){return ZE(t,void 0,n,i,e)}function OI({to:t,replace:e,state:n,relative:i}){bt(wl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=N.useContext(qn);Ms(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=N.useContext(ds),{pathname:c}=Wi(),h=Df(),f=ry(t,iy(l),c,i==="path"),p=JSON.stringify(f);return N.useEffect(()=>{h(JSON.parse(p),{replace:e,state:n,relative:i})},[h,p,i,e,n]),null}function si(t){bt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function PI({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:a,static:l=!1,unstable_useTransitions:c}){bt(!wl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=t.replace(/^\/*/,"/"),f=N.useMemo(()=>({basename:h,navigator:a,static:l,unstable_useTransitions:c,future:{}}),[h,a,l,c]);typeof n=="string"&&(n=xl(n));let{pathname:p="/",search:v="",hash:b="",state:w=null,key:S="default"}=n,M=N.useMemo(()=>{let O=Gi(p,h);return O==null?null:{location:{pathname:O,search:v,hash:b,state:w,key:S},navigationType:i}},[h,p,v,b,w,S,i]);return Ms(M!=null,`<Router basename="${h}"> is not able to match the URL "${p}${v}${b}" because it does not start with the basename, so the <Router> won't render anything.`),M==null?null:N.createElement(qn.Provider,{value:f},N.createElement(wu.Provider,{children:e,value:M}))}function LI({children:t,location:e}){return TI(t0(t),e)}function t0(t,e=[]){let n=[];return N.Children.forEach(t,(i,a)=>{if(!N.isValidElement(i))return;let l=[...e,a];if(i.type===N.Fragment){n.push.apply(n,t0(i.props.children,l));return}bt(i.type===si,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),bt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=t0(i.props.children,l)),n.push(c)}),n}var Id="get",Dd="application/x-www-form-urlencoded";function jf(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function UI(t){return jf(t)&&t.tagName.toLowerCase()==="button"}function zI(t){return jf(t)&&t.tagName.toLowerCase()==="form"}function BI(t){return jf(t)&&t.tagName.toLowerCase()==="input"}function FI(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function HI(t,e){return t.button===0&&(!e||e==="_self")&&!FI(t)}var md=null;function qI(){if(md===null)try{new FormData(document.createElement("form"),0),md=!1}catch{md=!0}return md}var GI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function pg(t){return t!=null&&!GI.has(t)?(Ms(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Dd}"`),null):t}function $I(t,e){let n,i,a,l,c;if(zI(t)){let h=t.getAttribute("action");i=h?Gi(h,e):null,n=t.getAttribute("method")||Id,a=pg(t.getAttribute("enctype"))||Dd,l=new FormData(t)}else if(UI(t)||BI(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||h.getAttribute("action");if(i=f?Gi(f,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||Id,a=pg(t.getAttribute("formenctype"))||pg(h.getAttribute("enctype"))||Dd,l=new FormData(h,t),!qI()){let{name:p,type:v,value:b}=t;if(v==="image"){let w=p?`${p}.`:"";l.append(`${w}x`,"0"),l.append(`${w}y`,"0")}else p&&l.append(p,b)}}else{if(jf(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Id,i=null,a=Dd,c=t}return l&&a==="text/plain"&&(c=l,l=void 0),{action:i,method:n.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function cy(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function KI(t,e,n,i){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${i}`:a.pathname=`${a.pathname}.${i}`:a.pathname==="/"?a.pathname=`_root.${i}`:e&&Gi(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${i}`,a}async function YI(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function XI(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function QI(t,e,n){let i=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await YI(l,n);return c.links?c.links():[]}return[]}));return eD(i.flat(1).filter(XI).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function D1(t,e,n,i,a,l){let c=(f,p)=>n[p]?f.route.id!==n[p].route.id:!0,h=(f,p)=>n[p].pathname!==f.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==f.params["*"];return l==="assets"?e.filter((f,p)=>c(f,p)||h(f,p)):l==="data"?e.filter((f,p)=>{let v=i.routes[f.route.id];if(!v||!v.hasLoader)return!1;if(c(f,p)||h(f,p))return!0;if(f.route.shouldRevalidate){let b=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function WI(t,e,{includeHydrateFallback:n}={}){return JI(t.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function JI(t){return[...new Set(t)]}function ZI(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function eD(t,e){let n=new Set;return new Set(e),t.reduce((i,a)=>{let l=JSON.stringify(ZI(a));return n.has(l)||(n.add(l),i.push({key:l,link:a})),i},[])}function nS(){let t=N.useContext(_l);return cy(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function tD(){let t=N.useContext(If);return cy(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var uy=N.createContext(void 0);uy.displayName="FrameworkContext";function sS(){let t=N.useContext(uy);return cy(t,"You must render this element inside a <HydratedRouter> element"),t}function nD(t,e){let n=N.useContext(uy),[i,a]=N.useState(!1),[l,c]=N.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:p,onMouseLeave:v,onTouchStart:b}=e,w=N.useRef(null);N.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let O=P=>{P.forEach(F=>{c(F.isIntersecting)})},V=new IntersectionObserver(O,{threshold:.5});return w.current&&V.observe(w.current),()=>{V.disconnect()}}},[t]),N.useEffect(()=>{if(i){let O=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(O)}}},[i]);let S=()=>{a(!0)},M=()=>{a(!1),c(!1)};return n?t!=="intent"?[l,w,{}]:[l,w,{onFocus:Uc(h,S),onBlur:Uc(f,M),onMouseEnter:Uc(p,S),onMouseLeave:Uc(v,M),onTouchStart:Uc(b,S)}]:[!1,w,{}]}function Uc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function sD({page:t,...e}){let{router:n}=nS(),i=N.useMemo(()=>HE(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?N.createElement(rD,{page:t,matches:i,...e}):null}function iD(t){let{manifest:e,routeModules:n}=sS(),[i,a]=N.useState([]);return N.useEffect(()=>{let l=!1;return QI(t,e,n).then(c=>{l||a(c)}),()=>{l=!0}},[t,e,n]),i}function rD({page:t,matches:e,...n}){let i=Wi(),{future:a,manifest:l,routeModules:c}=sS(),{basename:h}=nS(),{loaderData:f,matches:p}=tD(),v=N.useMemo(()=>D1(t,e,p,l,i,"data"),[t,e,p,l,i]),b=N.useMemo(()=>D1(t,e,p,l,i,"assets"),[t,e,p,l,i]),w=N.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let O=new Set,V=!1;if(e.forEach(F=>{let H=l.routes[F.route.id];!H||!H.hasLoader||(!v.some(ee=>ee.route.id===F.route.id)&&F.route.id in f&&c[F.route.id]?.shouldRevalidate||H.hasClientLoader?V=!0:O.add(F.route.id))}),O.size===0)return[];let P=KI(t,h,a.unstable_trailingSlashAwareDataRequests,"data");return V&&O.size>0&&P.searchParams.set("_routes",e.filter(F=>O.has(F.route.id)).map(F=>F.route.id).join(",")),[P.pathname+P.search]},[h,a.unstable_trailingSlashAwareDataRequests,f,i,l,v,e,t,c]),S=N.useMemo(()=>WI(b,l),[b,l]),M=iD(b);return N.createElement(N.Fragment,null,w.map(O=>N.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...n})),S.map(O=>N.createElement("link",{key:O,rel:"modulepreload",href:O,...n})),M.map(({key:O,link:V})=>N.createElement("link",{key:O,nonce:n.nonce,...V,crossOrigin:V.crossOrigin??n.crossOrigin})))}function aD(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var oD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{oD&&(window.__reactRouterVersion="7.13.0")}catch{}function lD({basename:t,children:e,unstable_useTransitions:n,window:i}){let a=N.useRef();a.current==null&&(a.current=LR({window:i,v5Compat:!0}));let l=a.current,[c,h]=N.useState({action:l.action,location:l.location}),f=N.useCallback(p=>{n===!1?h(p):N.startTransition(()=>h(p))},[n]);return N.useLayoutEffect(()=>l.listen(f),[l,f]),N.createElement(PI,{basename:t,children:e,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:n})}var iS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,en=N.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:a,reloadDocument:l,replace:c,state:h,target:f,to:p,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:w,...S},M){let{basename:O,unstable_useTransitions:V}=N.useContext(qn),P=typeof p=="string"&&iS.test(p),F=KE(p,O);p=F.to;let H=vI(p,{relative:a}),[ee,se,re]=nD(i,S),j=dD(p,{replace:c,state:h,target:f,preventScrollReset:v,relative:a,viewTransition:b,unstable_defaultShouldRevalidate:w,unstable_useTransitions:V});function E(I){e&&e(I),I.defaultPrevented||j(I)}let R=N.createElement("a",{...S,...re,href:F.absoluteURL||H,onClick:F.isExternal||l?e:E,ref:aD(M,se),target:f,"data-discover":!P&&n==="render"?"true":void 0});return ee&&!P?N.createElement(N.Fragment,null,R,N.createElement(sD,{page:H})):R});en.displayName="Link";var cD=N.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:a=!1,style:l,to:c,viewTransition:h,children:f,...p},v){let b=Tu(c,{relative:p.relative}),w=Wi(),S=N.useContext(If),{navigator:M,basename:O}=N.useContext(qn),V=S!=null&&yD(b)&&h===!0,P=M.encodeLocation?M.encodeLocation(b).pathname:b.pathname,F=w.pathname,H=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;n||(F=F.toLowerCase(),H=H?H.toLowerCase():null,P=P.toLowerCase()),H&&O&&(H=Gi(H,O)||H);const ee=P!=="/"&&P.endsWith("/")?P.length-1:P.length;let se=F===P||!a&&F.startsWith(P)&&F.charAt(ee)==="/",re=H!=null&&(H===P||!a&&H.startsWith(P)&&H.charAt(P.length)==="/"),j={isActive:se,isPending:re,isTransitioning:V},E=se?e:void 0,R;typeof i=="function"?R=i(j):R=[i,se?"active":null,re?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let I=typeof l=="function"?l(j):l;return N.createElement(en,{...p,"aria-current":E,className:R,ref:v,style:I,to:c,viewTransition:h},typeof f=="function"?f(j):f)});cD.displayName="NavLink";var uD=N.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:a,state:l,method:c=Id,action:h,onSubmit:f,relative:p,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:w,...S},M)=>{let{unstable_useTransitions:O}=N.useContext(qn),V=pD(),P=gD(h,{relative:p}),F=c.toLowerCase()==="get"?"get":"post",H=typeof h=="string"&&iS.test(h),ee=se=>{if(f&&f(se),se.defaultPrevented)return;se.preventDefault();let re=se.nativeEvent.submitter,j=re?.getAttribute("formmethod")||c,E=()=>V(re||se.currentTarget,{fetcherKey:e,method:j,navigate:n,replace:a,state:l,relative:p,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:w});O&&n!==!1?N.startTransition(()=>E()):E()};return N.createElement("form",{ref:M,method:F,action:P,onSubmit:i?f:ee,...S,"data-discover":!H&&t==="render"?"true":void 0})});uD.displayName="Form";function hD(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rS(t){let e=N.useContext(_l);return bt(e,hD(t)),e}function dD(t,{target:e,replace:n,state:i,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:h,unstable_useTransitions:f}={}){let p=Df(),v=Wi(),b=Tu(t,{relative:l});return N.useCallback(w=>{if(HI(w,e)){w.preventDefault();let S=n!==void 0?n:au(v)===au(b),M=()=>p(t,{replace:S,state:i,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:h});f?N.startTransition(()=>M()):M()}},[v,p,b,n,i,e,t,a,l,c,h,f])}var fD=0,mD=()=>`__${String(++fD)}__`;function pD(){let{router:t}=rS("useSubmit"),{basename:e}=N.useContext(qn),n=DI(),i=t.fetch,a=t.navigate;return N.useCallback(async(l,c={})=>{let{action:h,method:f,encType:p,formData:v,body:b}=$I(l,e);if(c.navigate===!1){let w=c.fetcherKey||mD();await i(w,n,c.action||h,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:b,formMethod:c.method||f,formEncType:c.encType||p,flushSync:c.flushSync})}else await a(c.action||h,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:b,formMethod:c.method||f,formEncType:c.encType||p,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[i,a,e,n])}function gD(t,{relative:e}={}){let{basename:n}=N.useContext(qn),i=N.useContext(ds);bt(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...Tu(t||".",{relative:e})},c=Wi();if(t==null){l.search=c.search;let h=new URLSearchParams(l.search),f=h.getAll("index");if(f.some(v=>v==="")){h.delete("index"),f.filter(b=>b).forEach(b=>h.append("index",b));let v=h.toString();l.search=v?`?${v}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Fi([n,l.pathname])),au(l)}function yD(t,{relative:e}={}){let n=N.useContext(XE);bt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=rS("useViewTransitionState"),a=Tu(t,{relative:e});if(!n.isTransitioning)return!1;let l=Gi(n.currentLocation.pathname,i)||n.currentLocation.pathname,c=Gi(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Wd(a.pathname,c)!=null||Wd(a.pathname,l)!=null}var vD=FE();const hy=N.createContext({});function dy(t){const e=N.useRef(null);return e.current===null&&(e.current=t()),e.current}const aS=typeof window<"u",oS=aS?N.useLayoutEffect:N.useEffect,Mf=N.createContext(null);function fy(t,e){t.indexOf(e)===-1&&t.push(e)}function Jd(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const fi=(t,e,n)=>n>e?e:n<t?t:n;let my=()=>{};const $i={},lS=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function cS(t){return typeof t=="object"&&t!==null}const uS=t=>/^0[^.\s]+$/u.test(t);function py(t){let e;return()=>(e===void 0&&(e=t()),e)}const us=t=>t,bD=(t,e)=>n=>e(t(n)),Eu=(...t)=>t.reduce(bD),ou=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};class gy{constructor(){this.subscriptions=[]}add(e){return fy(this.subscriptions,e),()=>Jd(this.subscriptions,e)}notify(e,n,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,i);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Is=t=>t*1e3,cs=t=>t/1e3;function hS(t,e){return e?t*(1e3/e):0}const dS=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,xD=1e-7,_D=12;function wD(t,e,n,i,a){let l,c,h=0;do c=e+(n-e)/2,l=dS(c,i,a)-t,l>0?n=c:e=c;while(Math.abs(l)>xD&&++h<_D);return c}function Su(t,e,n,i){if(t===e&&n===i)return us;const a=l=>wD(l,0,1,t,n);return l=>l===0||l===1?l:dS(a(l),e,i)}const fS=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,mS=t=>e=>1-t(1-e),pS=Su(.33,1.53,.69,.99),yy=mS(pS),gS=fS(yy),yS=t=>(t*=2)<1?.5*yy(t):.5*(2-Math.pow(2,-10*(t-1))),vy=t=>1-Math.sin(Math.acos(t)),vS=mS(vy),bS=fS(vy),TD=Su(.42,0,1,1),ED=Su(0,0,.58,1),xS=Su(.42,0,.58,1),SD=t=>Array.isArray(t)&&typeof t[0]!="number",_S=t=>Array.isArray(t)&&typeof t[0]=="number",AD={linear:us,easeIn:TD,easeInOut:xS,easeOut:ED,circIn:vy,circInOut:bS,circOut:vS,backIn:yy,backInOut:gS,backOut:pS,anticipate:yS},kD=t=>typeof t=="string",j1=t=>{if(_S(t)){my(t.length===4);const[e,n,i,a]=t;return Su(e,n,i,a)}else if(kD(t))return AD[t];return t},pd=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function CD(t,e){let n=new Set,i=new Set,a=!1,l=!1;const c=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function f(v){c.has(v)&&(p.schedule(v),t()),v(h)}const p={schedule:(v,b=!1,w=!1)=>{const M=w&&a?n:i;return b&&c.add(v),M.has(v)||M.add(v),v},cancel:v=>{i.delete(v),c.delete(v)},process:v=>{if(h=v,a){l=!0;return}a=!0,[n,i]=[i,n],n.forEach(f),n.clear(),a=!1,l&&(l=!1,p.process(v))}};return p}const ND=40;function wS(t,e){let n=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=pd.reduce((H,ee)=>(H[ee]=CD(l),H),{}),{setup:h,read:f,resolveKeyframes:p,preUpdate:v,update:b,preRender:w,render:S,postRender:M}=c,O=()=>{const H=$i.useManualTiming?a.timestamp:performance.now();n=!1,$i.useManualTiming||(a.delta=i?1e3/60:Math.max(Math.min(H-a.timestamp,ND),1)),a.timestamp=H,a.isProcessing=!0,h.process(a),f.process(a),p.process(a),v.process(a),b.process(a),w.process(a),S.process(a),M.process(a),a.isProcessing=!1,n&&e&&(i=!1,t(O))},V=()=>{n=!0,i=!0,a.isProcessing||t(O)};return{schedule:pd.reduce((H,ee)=>{const se=c[ee];return H[ee]=(re,j=!1,E=!1)=>(n||V(),se.schedule(re,j,E)),H},{}),cancel:H=>{for(let ee=0;ee<pd.length;ee++)c[pd[ee]].cancel(H)},state:a,steps:c}}const{schedule:ft,cancel:Kr,state:cn,steps:gg}=wS(typeof requestAnimationFrame<"u"?requestAnimationFrame:us,!0);let jd;function RD(){jd=void 0}const En={now:()=>(jd===void 0&&En.set(cn.isProcessing||$i.useManualTiming?cn.timestamp:performance.now()),jd),set:t=>{jd=t,queueMicrotask(RD)}},TS=t=>e=>typeof e=="string"&&e.startsWith(t),ES=TS("--"),ID=TS("var(--"),by=t=>ID(t)?DD.test(t.split("/*")[0].trim()):!1,DD=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function M1(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const Tl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},lu={...Tl,transform:t=>fi(0,1,t)},gd={...Tl,default:1},Xc=t=>Math.round(t*1e5)/1e5,xy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function jD(t){return t==null}const MD=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,_y=(t,e)=>n=>!!(typeof n=="string"&&MD.test(n)&&n.startsWith(t)||e&&!jD(n)&&Object.prototype.hasOwnProperty.call(n,e)),SS=(t,e,n)=>i=>{if(typeof i!="string")return i;const[a,l,c,h]=i.match(xy);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(c),alpha:h!==void 0?parseFloat(h):1}},VD=t=>fi(0,255,t),yg={...Tl,transform:t=>Math.round(VD(t))},Oa={test:_y("rgb","red"),parse:SS("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+yg.transform(t)+", "+yg.transform(e)+", "+yg.transform(n)+", "+Xc(lu.transform(i))+")"};function OD(t){let e="",n="",i="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,i+=i,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const n0={test:_y("#"),parse:OD,transform:Oa.transform},Au=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Or=Au("deg"),ai=Au("%"),xe=Au("px"),PD=Au("vh"),LD=Au("vw"),V1={...ai,parse:t=>ai.parse(t)/100,transform:t=>ai.transform(t*100)},el={test:_y("hsl","hue"),parse:SS("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+ai.transform(Xc(e))+", "+ai.transform(Xc(n))+", "+Xc(lu.transform(i))+")"},zt={test:t=>Oa.test(t)||n0.test(t)||el.test(t),parse:t=>Oa.test(t)?Oa.parse(t):el.test(t)?el.parse(t):n0.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Oa.transform(t):el.transform(t),getAnimatableNone:t=>{const e=zt.parse(t);return e.alpha=0,zt.transform(e)}},UD=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function zD(t){return isNaN(t)&&typeof t=="string"&&(t.match(xy)?.length||0)+(t.match(UD)?.length||0)>0}const AS="number",kS="color",BD="var",FD="var(",O1="${}",HD=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function cu(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},a=[];let l=0;const h=e.replace(HD,f=>(zt.test(f)?(i.color.push(l),a.push(kS),n.push(zt.parse(f))):f.startsWith(FD)?(i.var.push(l),a.push(BD),n.push(f)):(i.number.push(l),a.push(AS),n.push(parseFloat(f))),++l,O1)).split(O1);return{values:n,split:h,indexes:i,types:a}}function CS(t){return cu(t).values}function NS(t){const{split:e,types:n}=cu(t),i=e.length;return a=>{let l="";for(let c=0;c<i;c++)if(l+=e[c],a[c]!==void 0){const h=n[c];h===AS?l+=Xc(a[c]):h===kS?l+=zt.transform(a[c]):l+=a[c]}return l}}const qD=t=>typeof t=="number"?0:zt.test(t)?zt.getAnimatableNone(t):t;function GD(t){const e=CS(t);return NS(t)(e.map(qD))}const Yr={test:zD,parse:CS,createTransformer:NS,getAnimatableNone:GD};function vg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function $D({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let a=0,l=0,c=0;if(!e)a=l=c=n;else{const h=n<.5?n*(1+e):n+e-n*e,f=2*n-h;a=vg(f,h,t+1/3),l=vg(f,h,t),c=vg(f,h,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:i}}function Zd(t,e){return n=>n>0?e:t}const xt=(t,e,n)=>t+(e-t)*n,bg=(t,e,n)=>{const i=t*t,a=n*(e*e-i)+i;return a<0?0:Math.sqrt(a)},KD=[n0,Oa,el],YD=t=>KD.find(e=>e.test(t));function P1(t){const e=YD(t);if(!e)return!1;let n=e.parse(t);return e===el&&(n=$D(n)),n}const L1=(t,e)=>{const n=P1(t),i=P1(e);if(!n||!i)return Zd(t,e);const a={...n};return l=>(a.red=bg(n.red,i.red,l),a.green=bg(n.green,i.green,l),a.blue=bg(n.blue,i.blue,l),a.alpha=xt(n.alpha,i.alpha,l),Oa.transform(a))},s0=new Set(["none","hidden"]);function XD(t,e){return s0.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function QD(t,e){return n=>xt(t,e,n)}function wy(t){return typeof t=="number"?QD:typeof t=="string"?by(t)?Zd:zt.test(t)?L1:ZD:Array.isArray(t)?RS:typeof t=="object"?zt.test(t)?L1:WD:Zd}function RS(t,e){const n=[...t],i=n.length,a=t.map((l,c)=>wy(l)(l,e[c]));return l=>{for(let c=0;c<i;c++)n[c]=a[c](l);return n}}function WD(t,e){const n={...t,...e},i={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(i[a]=wy(t[a])(t[a],e[a]));return a=>{for(const l in i)n[l]=i[l](a);return n}}function JD(t,e){const n=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],c=t.indexes[l][i[l]],h=t.values[c]??0;n[a]=h,i[l]++}return n}const ZD=(t,e)=>{const n=Yr.createTransformer(e),i=cu(t),a=cu(e);return i.indexes.var.length===a.indexes.var.length&&i.indexes.color.length===a.indexes.color.length&&i.indexes.number.length>=a.indexes.number.length?s0.has(t)&&!a.values.length||s0.has(e)&&!i.values.length?XD(t,e):Eu(RS(JD(i,a),a.values),n):Zd(t,e)};function IS(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?xt(t,e,n):wy(t)(t,e)}const e4=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>ft.update(e,n),stop:()=>Kr(e),now:()=>cn.isProcessing?cn.timestamp:En.now()}},DS=(t,e,n=10)=>{let i="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)i+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},ef=2e4;function Ty(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<ef;)e+=n,i=t.next(e);return e>=ef?1/0:e}function t4(t,e=100,n){const i=n({...t,keyframes:[0,e]}),a=Math.min(Ty(i),ef);return{type:"keyframes",ease:l=>i.next(a*l).value/e,duration:cs(a)}}const n4=5;function jS(t,e,n){const i=Math.max(e-n4,0);return hS(n-t(i),e-i)}const Et={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},xg=.001;function s4({duration:t=Et.duration,bounce:e=Et.bounce,velocity:n=Et.velocity,mass:i=Et.mass}){let a,l,c=1-e;c=fi(Et.minDamping,Et.maxDamping,c),t=fi(Et.minDuration,Et.maxDuration,cs(t)),c<1?(a=p=>{const v=p*c,b=v*t,w=v-n,S=i0(p,c),M=Math.exp(-b);return xg-w/S*M},l=p=>{const b=p*c*t,w=b*n+n,S=Math.pow(c,2)*Math.pow(p,2)*t,M=Math.exp(-b),O=i0(Math.pow(p,2),c);return(-a(p)+xg>0?-1:1)*((w-S)*M)/O}):(a=p=>{const v=Math.exp(-p*t),b=(p-n)*t+1;return-xg+v*b},l=p=>{const v=Math.exp(-p*t),b=(n-p)*(t*t);return v*b});const h=5/t,f=r4(a,l,h);if(t=Is(t),isNaN(f))return{stiffness:Et.stiffness,damping:Et.damping,duration:t};{const p=Math.pow(f,2)*i;return{stiffness:p,damping:c*2*Math.sqrt(i*p),duration:t}}}const i4=12;function r4(t,e,n){let i=n;for(let a=1;a<i4;a++)i=i-t(i)/e(i);return i}function i0(t,e){return t*Math.sqrt(1-e*e)}const a4=["duration","bounce"],o4=["stiffness","damping","mass"];function U1(t,e){return e.some(n=>t[n]!==void 0)}function l4(t){let e={velocity:Et.velocity,stiffness:Et.stiffness,damping:Et.damping,mass:Et.mass,isResolvedFromDuration:!1,...t};if(!U1(t,o4)&&U1(t,a4))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),a=i*i,l=2*fi(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:Et.mass,stiffness:a,damping:l}}else{const n=s4(t);e={...e,...n,mass:Et.mass},e.isResolvedFromDuration=!0}return e}function tf(t=Et.visualDuration,e=Et.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],h={done:!1,value:l},{stiffness:f,damping:p,mass:v,duration:b,velocity:w,isResolvedFromDuration:S}=l4({...n,velocity:-cs(n.velocity||0)}),M=w||0,O=p/(2*Math.sqrt(f*v)),V=c-l,P=cs(Math.sqrt(f/v)),F=Math.abs(V)<5;i||(i=F?Et.restSpeed.granular:Et.restSpeed.default),a||(a=F?Et.restDelta.granular:Et.restDelta.default);let H;if(O<1){const se=i0(P,O);H=re=>{const j=Math.exp(-O*P*re);return c-j*((M+O*P*V)/se*Math.sin(se*re)+V*Math.cos(se*re))}}else if(O===1)H=se=>c-Math.exp(-P*se)*(V+(M+P*V)*se);else{const se=P*Math.sqrt(O*O-1);H=re=>{const j=Math.exp(-O*P*re),E=Math.min(se*re,300);return c-j*((M+O*P*V)*Math.sinh(E)+se*V*Math.cosh(E))/se}}const ee={calculatedDuration:S&&b||null,next:se=>{const re=H(se);if(S)h.done=se>=b;else{let j=se===0?M:0;O<1&&(j=se===0?Is(M):jS(H,se,re));const E=Math.abs(j)<=i,R=Math.abs(c-re)<=a;h.done=E&&R}return h.value=h.done?c:re,h},toString:()=>{const se=Math.min(Ty(ee),ef),re=DS(j=>ee.next(se*j).value,se,30);return se+"ms "+re},toTransition:()=>{}};return ee}tf.applyToOptions=t=>{const e=t4(t,100,tf);return t.ease=e.ease,t.duration=Is(e.duration),t.type="keyframes",t};function r0({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:h,max:f,restDelta:p=.5,restSpeed:v}){const b=t[0],w={done:!1,value:b},S=E=>h!==void 0&&E<h||f!==void 0&&E>f,M=E=>h===void 0?f:f===void 0||Math.abs(h-E)<Math.abs(f-E)?h:f;let O=n*e;const V=b+O,P=c===void 0?V:c(V);P!==V&&(O=P-b);const F=E=>-O*Math.exp(-E/i),H=E=>P+F(E),ee=E=>{const R=F(E),I=H(E);w.done=Math.abs(R)<=p,w.value=w.done?P:I};let se,re;const j=E=>{S(w.value)&&(se=E,re=tf({keyframes:[w.value,M(w.value)],velocity:jS(H,E,w.value),damping:a,stiffness:l,restDelta:p,restSpeed:v}))};return j(0),{calculatedDuration:null,next:E=>{let R=!1;return!re&&se===void 0&&(R=!0,ee(E),j(E)),se!==void 0&&E>=se?re.next(E-se):(!R&&ee(E),w)}}}function c4(t,e,n){const i=[],a=n||$i.mix||IS,l=t.length-1;for(let c=0;c<l;c++){let h=a(t[c],t[c+1]);if(e){const f=Array.isArray(e)?e[c]||us:e;h=Eu(f,h)}i.push(h)}return i}function u4(t,e,{clamp:n=!0,ease:i,mixer:a}={}){const l=t.length;if(my(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=c4(e,i,a),f=h.length,p=v=>{if(c&&v<t[0])return e[0];let b=0;if(f>1)for(;b<t.length-2&&!(v<t[b+1]);b++);const w=ou(t[b],t[b+1],v);return h[b](w)};return n?v=>p(fi(t[0],t[l-1],v)):p}function h4(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const a=ou(0,e,i);t.push(xt(n,1,a))}}function d4(t){const e=[0];return h4(e,t.length-1),e}function f4(t,e){return t.map(n=>n*e)}function m4(t,e){return t.map(()=>e||xS).splice(0,t.length-1)}function Qc({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const a=SD(i)?i.map(j1):j1(i),l={done:!1,value:e[0]},c=f4(n&&n.length===e.length?n:d4(e),t),h=u4(c,e,{ease:Array.isArray(a)?a:m4(e,a)});return{calculatedDuration:t,next:f=>(l.value=h(f),l.done=f>=t,l)}}const p4=t=>t!==null;function Ey(t,{repeat:e,repeatType:n="loop"},i,a=1){const l=t.filter(p4),h=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!h||i===void 0?l[h]:i}const g4={decay:r0,inertia:r0,tween:Qc,keyframes:Qc,spring:tf};function MS(t){typeof t.type=="string"&&(t.type=g4[t.type])}class Sy{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const y4=t=>t/100;class Ay extends Sy{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==En.now()&&this.tick(En.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;MS(e);const{type:n=Qc,repeat:i=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=e;let{keyframes:h}=e;const f=n||Qc;f!==Qc&&typeof h[0]!="number"&&(this.mixKeyframes=Eu(y4,IS(h[0],h[1])),h=[0,100]);const p=f({...e,keyframes:h});l==="mirror"&&(this.mirroredGenerator=f({...e,keyframes:[...h].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=Ty(p));const{calculatedDuration:v}=p;this.calculatedDuration=v,this.resolvedDuration=v+a,this.totalDuration=this.resolvedDuration*(i+1)-a,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:i,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:h,calculatedDuration:f}=this;if(this.startTime===null)return i.next(0);const{delay:p=0,keyframes:v,repeat:b,repeatType:w,repeatDelay:S,type:M,onUpdate:O,finalKeyframe:V}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const P=this.currentTime-p*(this.playbackSpeed>=0?1:-1),F=this.playbackSpeed>=0?P<0:P>a;this.currentTime=Math.max(P,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let H=this.currentTime,ee=i;if(b){const E=Math.min(this.currentTime,a)/h;let R=Math.floor(E),I=E%1;!I&&E>=1&&(I=1),I===1&&R--,R=Math.min(R,b+1),R%2&&(w==="reverse"?(I=1-I,S&&(I-=S/h)):w==="mirror"&&(ee=c)),H=fi(0,1,I)*h}const se=F?{done:!1,value:v[0]}:ee.next(H);l&&(se.value=l(se.value));let{done:re}=se;!F&&f!==null&&(re=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const j=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&re);return j&&M!==r0&&(se.value=Ey(v,this.options,V,this.speed)),O&&O(se.value),j&&this.finish(),se}then(e,n){return this.finished.then(e,n)}get duration(){return cs(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+cs(e)}get time(){return cs(this.currentTime)}set time(e){e=Is(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(En.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=cs(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=e4,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(En.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function v4(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Pa=t=>t*180/Math.PI,a0=t=>{const e=Pa(Math.atan2(t[1],t[0]));return o0(e)},b4={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:a0,rotateZ:a0,skewX:t=>Pa(Math.atan(t[1])),skewY:t=>Pa(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},o0=t=>(t=t%360,t<0&&(t+=360),t),z1=a0,B1=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),F1=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),x4={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:B1,scaleY:F1,scale:t=>(B1(t)+F1(t))/2,rotateX:t=>o0(Pa(Math.atan2(t[6],t[5]))),rotateY:t=>o0(Pa(Math.atan2(-t[2],t[0]))),rotateZ:z1,rotate:z1,skewX:t=>Pa(Math.atan(t[4])),skewY:t=>Pa(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function l0(t){return t.includes("scale")?1:0}function c0(t,e){if(!t||t==="none")return l0(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,a;if(n)i=x4,a=n;else{const h=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=b4,a=h}if(!a)return l0(e);const l=i[e],c=a[1].split(",").map(w4);return typeof l=="function"?l(c):c[l]}const _4=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return c0(n,e)};function w4(t){return parseFloat(t.trim())}const El=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Sl=new Set(El),H1=t=>t===Tl||t===xe,T4=new Set(["x","y","z"]),E4=El.filter(t=>!T4.has(t));function S4(t){const e=[];return E4.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const zr={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>c0(e,"x"),y:(t,{transform:e})=>c0(e,"y")};zr.translateX=zr.x;zr.translateY=zr.y;const za=new Set;let u0=!1,h0=!1,d0=!1;function VS(){if(h0){const t=Array.from(za).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const a=S4(i);a.length&&(n.set(i,a),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const a=n.get(i);a&&a.forEach(([l,c])=>{i.getValue(l)?.set(c)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}h0=!1,u0=!1,za.forEach(t=>t.complete(d0)),za.clear()}function OS(){za.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(h0=!0)})}function A4(){d0=!0,OS(),VS(),d0=!1}class ky{constructor(e,n,i,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(za.add(this),u0||(u0=!0,ft.read(OS),ft.resolveKeyframes(VS))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:a}=this;if(e[0]===null){const l=a?.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(i&&n){const h=i.readValue(n,c);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=c),a&&l===void 0&&a.set(e[0])}v4(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),za.delete(this)}cancel(){this.state==="scheduled"&&(za.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const k4=t=>t.startsWith("--");function C4(t,e,n){k4(e)?t.style.setProperty(e,n):t.style[e]=n}const N4=py(()=>window.ScrollTimeline!==void 0),R4={};function I4(t,e){const n=py(t);return()=>R4[e]??n()}const PS=I4(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Hc=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,q1={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Hc([0,.65,.55,1]),circOut:Hc([.55,0,1,.45]),backIn:Hc([.31,.01,.66,-.59]),backOut:Hc([.33,1.53,.69,.99])};function LS(t,e){if(t)return typeof t=="function"?PS()?DS(t,e):"ease-out":_S(t)?Hc(t):Array.isArray(t)?t.map(n=>LS(n,e)||q1.easeOut):q1[t]}function D4(t,e,n,{delay:i=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:h="easeOut",times:f}={},p=void 0){const v={[e]:n};f&&(v.offset=f);const b=LS(h,a);Array.isArray(b)&&(v.easing=b);const w={delay:i,duration:a,easing:Array.isArray(b)?"linear":b,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return p&&(w.pseudoElement=p),t.animate(v,w)}function US(t){return typeof t=="function"&&"applyToOptions"in t}function j4({type:t,...e}){return US(t)&&PS()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class zS extends Sy{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:i,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:h,onComplete:f}=e;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=e,my(typeof e.type!="string");const p=j4(e);this.animation=D4(n,i,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const v=Ey(a,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(v):C4(n,i,v),this.animation.cancel()}f?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){const e=this.options?.element;!this.isPseudoElement&&e?.isConnected&&this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return cs(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+cs(e)}get time(){return cs(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Is(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&N4()?(this.animation.timeline=e,us):n(this)}}const BS={anticipate:yS,backInOut:gS,circInOut:bS};function M4(t){return t in BS}function V4(t){typeof t.ease=="string"&&M4(t.ease)&&(t.ease=BS[t.ease])}const _g=10;class O4 extends zS{constructor(e){V4(e),MS(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:i,onComplete:a,element:l,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const h=new Ay({...c,autoplay:!1}),f=Math.max(_g,En.now()-this.startTime),p=fi(0,_g,f-_g);n.setWithVelocity(h.sample(Math.max(0,f-p)).value,h.sample(f).value,p),h.stop()}}const G1=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Yr.test(t)||t==="0")&&!t.startsWith("url("));function P4(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function L4(t,e,n,i){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=G1(a,e),h=G1(l,e);return!c||!h?!1:P4(t)||(n==="spring"||US(n))&&i}function f0(t){t.duration=0,t.type="keyframes"}const U4=new Set(["opacity","clipPath","filter","transform"]),z4=py(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function B4(t){const{motionValue:e,name:n,repeatDelay:i,repeatType:a,damping:l,type:c}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:p}=e.owner.getProps();return z4()&&n&&U4.has(n)&&(n!=="transform"||!p)&&!f&&!i&&a!=="mirror"&&l!==0&&c!=="inertia"}const F4=40;class H4 extends Sy{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:h,name:f,motionValue:p,element:v,...b}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=En.now();const w={autoplay:e,delay:n,type:i,repeat:a,repeatDelay:l,repeatType:c,name:f,motionValue:p,element:v,...b},S=v?.KeyframeResolver||ky;this.keyframeResolver=new S(h,(M,O,V)=>this.onKeyframesResolved(M,O,w,!V),f,p,v),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,i,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:h,delay:f,isHandoff:p,onUpdate:v}=i;this.resolvedAt=En.now(),L4(e,l,c,h)||(($i.instantAnimations||!f)&&v?.(Ey(e,i,n)),e[0]=e[e.length-1],f0(i),i.repeat=0);const w={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>F4?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:e},S=!p&&B4(w),M=w.motionValue?.owner?.current,O=S?new O4({...w,element:M}):new Ay(w);O.finished.then(()=>{this.notifyFinished()}).catch(us),this.pendingTimeline&&(this.stopTimeline=O.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=O}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),A4()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function FS(t,e,n,i=0,a=1){const l=Array.from(t).sort((p,v)=>p.sortNodePosition(v)).indexOf(e),c=t.size,h=(c-1)*i;return typeof n=="function"?n(l,c):a===1?l*i:h-l*i}const q4=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function G4(t){const e=q4.exec(t);if(!e)return[,];const[,n,i,a]=e;return[`--${n??i}`,a]}function HS(t,e,n=1){const[i,a]=G4(t);if(!i)return;const l=window.getComputedStyle(e).getPropertyValue(i);if(l){const c=l.trim();return lS(c)?parseFloat(c):c}return by(a)?HS(a,e,n+1):a}const $4={type:"spring",stiffness:500,damping:25,restSpeed:10},K4=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Y4={type:"keyframes",duration:.8},X4={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Q4=(t,{keyframes:e})=>e.length>2?Y4:Sl.has(t)?t.startsWith("scale")?K4(e[1]):$4:X4,W4=t=>t!==null;function J4(t,{repeat:e,repeatType:n="loop"},i){const a=t.filter(W4),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}function qS(t,e){if(t?.inherit&&e){const{inherit:n,...i}=t;return{...e,...i}}return t}function Cy(t,e){const n=t?.[e]??t?.default??t;return n!==t?qS(n,t):n}function Z4({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:h,from:f,elapsed:p,...v}){return!!Object.keys(v).length}const Ny=(t,e,n,i={},a,l)=>c=>{const h=Cy(i,t)||{},f=h.delay||i.delay||0;let{elapsed:p=0}=i;p=p-Is(f);const v={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-p,onUpdate:w=>{e.set(w),h.onUpdate&&h.onUpdate(w)},onComplete:()=>{c(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:l?void 0:a};Z4(h)||Object.assign(v,Q4(t,v)),v.duration&&(v.duration=Is(v.duration)),v.repeatDelay&&(v.repeatDelay=Is(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let b=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(f0(v),v.delay===0&&(b=!0)),($i.instantAnimations||$i.skipAnimations||a?.shouldSkipAnimations)&&(b=!0,f0(v),v.delay=0),v.allowFlatten=!h.type&&!h.ease,b&&!l&&e.get()!==void 0){const w=J4(v.keyframes,h);if(w!==void 0){ft.update(()=>{v.onUpdate(w),v.onComplete()});return}}return h.isSync?new Ay(v):new H4(v)};function $1(t){const e=[{},{}];return t?.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function Ry(t,e,n,i){if(typeof e=="function"){const[a,l]=$1(i);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=$1(i);e=e(n!==void 0?n:t.custom,a,l)}return e}function rl(t,e,n){const i=t.getProps();return Ry(i,e,n!==void 0?n:i.custom,t)}const GS=new Set(["width","height","top","left","right","bottom",...El]),K1=30,e5=t=>!isNaN(parseFloat(t));class t5{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const a=En.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=En.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=e5(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new gy);const i=this.events[e].add(n);return e==="change"?()=>{i(),ft.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=En.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>K1)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,K1);return hS(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function hl(t,e){return new t5(t,e)}const m0=t=>Array.isArray(t);function n5(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,hl(n))}function s5(t){return m0(t)?t[t.length-1]||0:t}function i5(t,e){const n=rl(t,e);let{transitionEnd:i={},transition:a={},...l}=n||{};l={...l,...i};for(const c in l){const h=s5(l[c]);n5(t,c,h)}}const yn=t=>!!(t&&t.getVelocity);function r5(t){return!!(yn(t)&&t.add)}function p0(t,e){const n=t.getValue("willChange");if(r5(n))return n.add(e);if(!n&&$i.WillChange){const i=new $i.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function Iy(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const a5="framerAppearId",$S="data-"+Iy(a5);function KS(t){return t.props[$S]}function o5({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function YS(t,e,{delay:n=0,transitionOverride:i,type:a}={}){let{transition:l,transitionEnd:c,...h}=e;const f=t.getDefaultTransition();l=l?qS(l,f):f;const p=l?.reduceMotion;i&&(l=i);const v=[],b=a&&t.animationState&&t.animationState.getState()[a];for(const w in h){const S=t.getValue(w,t.latestValues[w]??null),M=h[w];if(M===void 0||b&&o5(b,w))continue;const O={delay:n,...Cy(l||{},w)},V=S.get();if(V!==void 0&&!S.isAnimating&&!Array.isArray(M)&&M===V&&!O.velocity)continue;let P=!1;if(window.MotionHandoffAnimation){const ee=KS(t);if(ee){const se=window.MotionHandoffAnimation(ee,w,ft);se!==null&&(O.startTime=se,P=!0)}}p0(t,w);const F=p??t.shouldReduceMotion;S.start(Ny(w,S,M,F&&GS.has(w)?{type:!1}:O,t,P));const H=S.animation;H&&v.push(H)}if(c){const w=()=>ft.update(()=>{c&&i5(t,c)});v.length?Promise.all(v).then(w):w()}return v}function g0(t,e,n={}){const i=rl(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(a=n.transitionOverride);const l=i?()=>Promise.all(YS(t,i,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(f=0)=>{const{delayChildren:p=0,staggerChildren:v,staggerDirection:b}=a;return l5(t,e,f,p,v,b,n)}:()=>Promise.resolve(),{when:h}=a;if(h){const[f,p]=h==="beforeChildren"?[l,c]:[c,l];return f().then(()=>p())}else return Promise.all([l(),c(n.delay)])}function l5(t,e,n=0,i=0,a=0,l=1,c){const h=[];for(const f of t.variantChildren)f.notify("AnimationStart",e),h.push(g0(f,e,{...c,delay:n+(typeof i=="function"?0:i)+FS(t.variantChildren,f,i,a,l)}).then(()=>f.notify("AnimationComplete",e)));return Promise.all(h)}function c5(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const a=e.map(l=>g0(t,l,n));i=Promise.all(a)}else if(typeof e=="string")i=g0(t,e,n);else{const a=typeof e=="function"?rl(t,e,n.custom):e;i=Promise.all(YS(t,a,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}const u5={test:t=>t==="auto",parse:t=>t},XS=t=>e=>e.test(t),QS=[Tl,xe,ai,Or,LD,PD,u5],Y1=t=>QS.find(XS(t));function h5(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||uS(t):!0}const d5=new Set(["brightness","contrast","saturate","opacity"]);function f5(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(xy)||[];if(!i)return t;const a=n.replace(i,"");let l=d5.has(e)?1:0;return i!==n&&(l*=100),e+"("+l+a+")"}const m5=/\b([a-z-]*)\(.*?\)/gu,y0={...Yr,getAnimatableNone:t=>{const e=t.match(m5);return e?e.map(f5).join(" "):t}},X1={...Tl,transform:Math.round},p5={rotate:Or,rotateX:Or,rotateY:Or,rotateZ:Or,scale:gd,scaleX:gd,scaleY:gd,scaleZ:gd,skew:Or,skewX:Or,skewY:Or,distance:xe,translateX:xe,translateY:xe,translateZ:xe,x:xe,y:xe,z:xe,perspective:xe,transformPerspective:xe,opacity:lu,originX:V1,originY:V1,originZ:xe},Dy={borderWidth:xe,borderTopWidth:xe,borderRightWidth:xe,borderBottomWidth:xe,borderLeftWidth:xe,borderRadius:xe,borderTopLeftRadius:xe,borderTopRightRadius:xe,borderBottomRightRadius:xe,borderBottomLeftRadius:xe,width:xe,maxWidth:xe,height:xe,maxHeight:xe,top:xe,right:xe,bottom:xe,left:xe,inset:xe,insetBlock:xe,insetBlockStart:xe,insetBlockEnd:xe,insetInline:xe,insetInlineStart:xe,insetInlineEnd:xe,padding:xe,paddingTop:xe,paddingRight:xe,paddingBottom:xe,paddingLeft:xe,paddingBlock:xe,paddingBlockStart:xe,paddingBlockEnd:xe,paddingInline:xe,paddingInlineStart:xe,paddingInlineEnd:xe,margin:xe,marginTop:xe,marginRight:xe,marginBottom:xe,marginLeft:xe,marginBlock:xe,marginBlockStart:xe,marginBlockEnd:xe,marginInline:xe,marginInlineStart:xe,marginInlineEnd:xe,fontSize:xe,backgroundPositionX:xe,backgroundPositionY:xe,...p5,zIndex:X1,fillOpacity:lu,strokeOpacity:lu,numOctaves:X1},g5={...Dy,color:zt,backgroundColor:zt,outlineColor:zt,fill:zt,stroke:zt,borderColor:zt,borderTopColor:zt,borderRightColor:zt,borderBottomColor:zt,borderLeftColor:zt,filter:y0,WebkitFilter:y0},WS=t=>g5[t];function JS(t,e){let n=WS(t);return n!==y0&&(n=Yr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const y5=new Set(["auto","none","0"]);function v5(t,e,n){let i=0,a;for(;i<t.length&&!a;){const l=t[i];typeof l=="string"&&!y5.has(l)&&cu(l).values.length&&(a=t[i]),i++}if(a&&n)for(const l of e)t[l]=JS(n,a)}class b5 extends ky{constructor(e,n,i,a,l){super(e,n,i,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let v=0;v<e.length;v++){let b=e[v];if(typeof b=="string"&&(b=b.trim(),by(b))){const w=HS(b,n.current);w!==void 0&&(e[v]=w),v===e.length-1&&(this.finalKeyframe=b)}}if(this.resolveNoneKeyframes(),!GS.has(i)||e.length!==2)return;const[a,l]=e,c=Y1(a),h=Y1(l),f=M1(a),p=M1(l);if(f!==p&&zr[i]){this.needsMeasurement=!0;return}if(c!==h)if(H1(c)&&H1(h))for(let v=0;v<e.length;v++){const b=e[v];typeof b=="string"&&(e[v]=parseFloat(b))}else zr[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let a=0;a<e.length;a++)(e[a]===null||h5(e[a]))&&i.push(a);i.length&&v5(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=zr[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(i,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=i.length-1,c=i[l];i[l]=zr[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([h,f])=>{e.getValue(h).set(f)}),this.resolveNoneKeyframes()}}const x5=new Set(["opacity","clipPath","filter","transform"]);function ZS(t,e,n){if(t==null)return[];if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const a=n?.[t]??i.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t).filter(i=>i!=null)}const eA=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function v0(t){return cS(t)&&"offsetHeight"in t}const{schedule:jy}=wS(queueMicrotask,!1),ks={x:!1,y:!1};function tA(){return ks.x||ks.y}function _5(t){return t==="x"||t==="y"?ks[t]?null:(ks[t]=!0,()=>{ks[t]=!1}):ks.x||ks.y?null:(ks.x=ks.y=!0,()=>{ks.x=ks.y=!1})}function nA(t,e){const n=ZS(t),i=new AbortController,a={passive:!0,...e,signal:i.signal};return[n,a,()=>i.abort()]}function w5(t){return!(t.pointerType==="touch"||tA())}function T5(t,e,n={}){const[i,a,l]=nA(t,n);return i.forEach(c=>{let h=!1,f=!1,p;const v=()=>{c.removeEventListener("pointerleave",M)},b=V=>{p&&(p(V),p=void 0),v()},w=V=>{h=!1,window.removeEventListener("pointerup",w),window.removeEventListener("pointercancel",w),f&&(f=!1,b(V))},S=()=>{h=!0,window.addEventListener("pointerup",w,a),window.addEventListener("pointercancel",w,a)},M=V=>{if(V.pointerType!=="touch"){if(h){f=!0;return}b(V)}},O=V=>{if(!w5(V))return;f=!1;const P=e(c,V);typeof P=="function"&&(p=P,c.addEventListener("pointerleave",M,a))};c.addEventListener("pointerenter",O,a),c.addEventListener("pointerdown",S,a)}),l}const sA=(t,e)=>e?t===e?!0:sA(t,e.parentElement):!1,My=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,E5=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function S5(t){return E5.has(t.tagName)||t.isContentEditable===!0}const A5=new Set(["INPUT","SELECT","TEXTAREA"]);function k5(t){return A5.has(t.tagName)||t.isContentEditable===!0}const Md=new WeakSet;function Q1(t){return e=>{e.key==="Enter"&&t(e)}}function wg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const C5=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=Q1(()=>{if(Md.has(n))return;wg(n,"down");const a=Q1(()=>{wg(n,"up")}),l=()=>wg(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function W1(t){return My(t)&&!tA()}const J1=new WeakSet;function N5(t,e,n={}){const[i,a,l]=nA(t,n),c=h=>{const f=h.currentTarget;if(!W1(h)||J1.has(h))return;Md.add(f),n.stopPropagation&&J1.add(h);const p=e(f,h),v=(S,M)=>{window.removeEventListener("pointerup",b),window.removeEventListener("pointercancel",w),Md.has(f)&&Md.delete(f),W1(S)&&typeof p=="function"&&p(S,{success:M})},b=S=>{v(S,f===window||f===document||n.useGlobalTarget||sA(f,S.target))},w=S=>{v(S,!1)};window.addEventListener("pointerup",b,a),window.addEventListener("pointercancel",w,a)};return i.forEach(h=>{(n.useGlobalTarget?window:h).addEventListener("pointerdown",c,a),v0(h)&&(h.addEventListener("focus",p=>C5(p,a)),!S5(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),l}function Vy(t){return cS(t)&&"ownerSVGElement"in t}const Vd=new WeakMap;let Od;const iA=(t,e,n)=>(i,a)=>a&&a[0]?a[0][t+"Size"]:Vy(i)&&"getBBox"in i?i.getBBox()[e]:i[n],R5=iA("inline","width","offsetWidth"),I5=iA("block","height","offsetHeight");function D5({target:t,borderBoxSize:e}){Vd.get(t)?.forEach(n=>{n(t,{get width(){return R5(t,e)},get height(){return I5(t,e)}})})}function j5(t){t.forEach(D5)}function M5(){typeof ResizeObserver>"u"||(Od=new ResizeObserver(j5))}function V5(t,e){Od||M5();const n=ZS(t);return n.forEach(i=>{let a=Vd.get(i);a||(a=new Set,Vd.set(i,a)),a.add(e),Od?.observe(i)}),()=>{n.forEach(i=>{const a=Vd.get(i);a?.delete(e),a?.size||Od?.unobserve(i)})}}const Pd=new Set;let tl;function O5(){tl=()=>{const t={get width(){return window.innerWidth},get height(){return window.innerHeight}};Pd.forEach(e=>e(t))},window.addEventListener("resize",tl)}function P5(t){return Pd.add(t),tl||O5(),()=>{Pd.delete(t),!Pd.size&&typeof tl=="function"&&(window.removeEventListener("resize",tl),tl=void 0)}}function Z1(t,e){return typeof t=="function"?P5(t):V5(t,e)}function L5(t){return Vy(t)&&t.tagName==="svg"}const U5=[...QS,zt,Yr],z5=t=>U5.find(XS(t)),ew=()=>({translate:0,scale:1,origin:0,originPoint:0}),nl=()=>({x:ew(),y:ew()}),tw=()=>({min:0,max:0}),Yt=()=>({x:tw(),y:tw()}),B5=new WeakMap;function Vf(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function uu(t){return typeof t=="string"||Array.isArray(t)}const Oy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Py=["initial",...Oy];function Of(t){return Vf(t.animate)||Py.some(e=>uu(t[e]))}function rA(t){return!!(Of(t)||t.variants)}function F5(t,e,n){for(const i in e){const a=e[i],l=n[i];if(yn(a))t.addValue(i,a);else if(yn(l))t.addValue(i,hl(a,{owner:t}));else if(l!==a)if(t.hasValue(i)){const c=t.getValue(i);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=t.getStaticValue(i);t.addValue(i,hl(c!==void 0?c:a,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const b0={current:null},aA={current:!1},H5=typeof window<"u";function q5(){if(aA.current=!0,!!H5)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>b0.current=t.matches;t.addEventListener("change",e),e()}else b0.current=!1}const nw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let nf={};function oA(t){nf=t}function G5(){return nf}class $5{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:a,skipAnimations:l,blockInitialAnimation:c,visualState:h},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=ky,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const S=En.now();this.renderScheduledAt<S&&(this.renderScheduledAt=S,ft.render(this.render,!1,!0))};const{latestValues:p,renderState:v}=h;this.latestValues=p,this.baseTarget={...p},this.initialValues=n.initial?{...p}:{},this.renderState=v,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.skipAnimationsConfig=l,this.options=f,this.blockInitialAnimation=!!c,this.isControllingVariants=Of(n),this.isVariantNode=rA(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:b,...w}=this.scrapeMotionValuesFromProps(n,{},this);for(const S in w){const M=w[S];p[S]!==void 0&&yn(M)&&M.set(p[S])}}mount(e){if(this.hasBeenMounted)for(const n in this.initialValues)this.values.get(n)?.jump(this.initialValues[n]),this.latestValues[n]=this.initialValues[n];this.current=e,B5.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(aA.current||q5(),this.shouldReduceMotion=b0.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,this.parent?.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){this.projection&&this.projection.unmount(),Kr(this.notifyUpdate),Kr(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){if(this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)(),n.accelerate&&x5.has(e)&&this.current instanceof HTMLElement){const{factory:c,keyframes:h,times:f,ease:p,duration:v}=n.accelerate,b=new zS({element:this.current,name:e,keyframes:h,times:f,ease:p,duration:Is(v)}),w=c(b);this.valueSubscriptions.set(e,()=>{w(),b.cancel()});return}const i=Sl.has(e);i&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&ft.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;typeof window<"u"&&window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in nf){const n=nf[e];if(!n)continue;const{isEnabled:i,Feature:a}=n;if(!this.features[e]&&a&&i(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Yt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<nw.length;i++){const a=nw[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=e[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=F5(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=hl(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(lS(i)||uS(i))?i=parseFloat(i):!z5(i)&&Yr.test(n)&&(i=JS(e,n)),this.setBaseTarget(e,yn(i)?i.get():i)),yn(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const l=Ry(this.props,n,this.presenceContext?.custom);l&&(i=l[e])}if(n&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!yn(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new gy),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){jy.render(this.render)}}class lA extends $5{constructor(){super(...arguments),this.KeyframeResolver=b5}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const i=e.style;return i?i[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;yn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class na{constructor(e){this.isMounted=!1,this.node=e}update(){}}function cA({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function K5({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Y5(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function Tg(t){return t===void 0||t===1}function x0({scale:t,scaleX:e,scaleY:n}){return!Tg(t)||!Tg(e)||!Tg(n)}function Ma(t){return x0(t)||uA(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function uA(t){return sw(t.x)||sw(t.y)}function sw(t){return t&&t!=="0%"}function sf(t,e,n){const i=t-n,a=e*i;return n+a}function iw(t,e,n,i,a){return a!==void 0&&(t=sf(t,a,i)),sf(t,n,i)+e}function _0(t,e=0,n=1,i,a){t.min=iw(t.min,e,n,i,a),t.max=iw(t.max,e,n,i,a)}function hA(t,{x:e,y:n}){_0(t.x,e.translate,e.scale,e.originPoint),_0(t.y,n.translate,n.scale,n.originPoint)}const rw=.999999999999,aw=1.0000000000001;function X5(t,e,n,i=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,c;for(let h=0;h<a;h++){l=n[h],c=l.projectionDelta;const{visualElement:f}=l.options;f&&f.props.style&&f.props.style.display==="contents"||(i&&l.options.layoutScroll&&l.scroll&&l!==l.root&&il(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,hA(t,c)),i&&Ma(l.latestValues)&&il(t,l.latestValues))}e.x<aw&&e.x>rw&&(e.x=1),e.y<aw&&e.y>rw&&(e.y=1)}function sl(t,e){t.min=t.min+e,t.max=t.max+e}function ow(t,e,n,i,a=.5){const l=xt(t.min,t.max,a);_0(t,e,n,l,i)}function il(t,e){ow(t.x,e.x,e.scaleX,e.scale,e.originX),ow(t.y,e.y,e.scaleY,e.scale,e.originY)}function dA(t,e){return cA(Y5(t.getBoundingClientRect(),e))}function Q5(t,e,n){const i=dA(t,n),{scroll:a}=e;return a&&(sl(i.x,a.offset.x),sl(i.y,a.offset.y)),i}const W5={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},J5=El.length;function Z5(t,e,n){let i="",a=!0;for(let l=0;l<J5;l++){const c=El[l],h=t[c];if(h===void 0)continue;let f=!0;if(typeof h=="number")f=h===(c.startsWith("scale")?1:0);else{const p=parseFloat(h);f=c.startsWith("scale")?p===1:p===0}if(!f||n){const p=eA(h,Dy[c]);if(!f){a=!1;const v=W5[c]||c;i+=`${v}(${p}) `}n&&(e[c]=p)}}return i=i.trim(),n?i=n(e,a?"":i):a&&(i="none"),i}function Ly(t,e,n){const{style:i,vars:a,transformOrigin:l}=t;let c=!1,h=!1;for(const f in e){const p=e[f];if(Sl.has(f)){c=!0;continue}else if(ES(f)){a[f]=p;continue}else{const v=eA(p,Dy[f]);f.startsWith("origin")?(h=!0,l[f]=v):i[f]=v}}if(e.transform||(c||n?i.transform=Z5(e,t.transform,n):i.transform&&(i.transform="none")),h){const{originX:f="50%",originY:p="50%",originZ:v=0}=l;i.transformOrigin=`${f} ${p} ${v}`}}function fA(t,{style:e,vars:n},i,a){const l=t.style;let c;for(c in e)l[c]=e[c];a?.applyProjectionStyles(l,i);for(c in n)l.setProperty(c,n[c])}function lw(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const zc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(xe.test(t))t=parseFloat(t);else return t;const n=lw(t,e.target.x),i=lw(t,e.target.y);return`${n}% ${i}%`}},ej={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,a=Yr.parse(t);if(a.length>5)return i;const l=Yr.createTransformer(t),c=typeof a[0]!="number"?1:0,h=n.x.scale*e.x,f=n.y.scale*e.y;a[0+c]/=h,a[1+c]/=f;const p=xt(h,f,.5);return typeof a[2+c]=="number"&&(a[2+c]/=p),typeof a[3+c]=="number"&&(a[3+c]/=p),l(a)}},w0={borderRadius:{...zc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:zc,borderTopRightRadius:zc,borderBottomLeftRadius:zc,borderBottomRightRadius:zc,boxShadow:ej};function mA(t,{layout:e,layoutId:n}){return Sl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!w0[t]||t==="opacity")}function Uy(t,e,n){const i=t.style,a=e?.style,l={};if(!i)return l;for(const c in i)(yn(i[c])||a&&yn(a[c])||mA(c,t)||n?.getValue(c)?.liveStyle!==void 0)&&(l[c]=i[c]);return l}function tj(t){return window.getComputedStyle(t)}class nj extends lA{constructor(){super(...arguments),this.type="html",this.renderInstance=fA}readValueFromInstance(e,n){if(Sl.has(n))return this.projection?.isProjecting?l0(n):_4(e,n);{const i=tj(e),a=(ES(n)?i.getPropertyValue(n):i[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return dA(e,n)}build(e,n,i){Ly(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return Uy(e,n,i)}}const sj={offset:"stroke-dashoffset",array:"stroke-dasharray"},ij={offset:"strokeDashoffset",array:"strokeDasharray"};function rj(t,e,n=1,i=0,a=!0){t.pathLength=1;const l=a?sj:ij;t[l.offset]=`${-i}`,t[l.array]=`${e} ${n}`}const aj=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function pA(t,{attrX:e,attrY:n,attrScale:i,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...h},f,p,v){if(Ly(t,h,p),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:b,style:w}=t;b.transform&&(w.transform=b.transform,delete b.transform),(w.transform||b.transformOrigin)&&(w.transformOrigin=b.transformOrigin??"50% 50%",delete b.transformOrigin),w.transform&&(w.transformBox=v?.transformBox??"fill-box",delete b.transformBox);for(const S of aj)b[S]!==void 0&&(w[S]=b[S],delete b[S]);e!==void 0&&(b.x=e),n!==void 0&&(b.y=n),i!==void 0&&(b.scale=i),a!==void 0&&rj(b,a,l,c,!1)}const gA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),yA=t=>typeof t=="string"&&t.toLowerCase()==="svg";function oj(t,e,n,i){fA(t,e,void 0,i);for(const a in e.attrs)t.setAttribute(gA.has(a)?a:Iy(a),e.attrs[a])}function vA(t,e,n){const i=Uy(t,e,n);for(const a in t)if(yn(t[a])||yn(e[a])){const l=El.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[l]=t[a]}return i}class lj extends lA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Yt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Sl.has(n)){const i=WS(n);return i&&i.default||0}return n=gA.has(n)?n:Iy(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return vA(e,n,i)}build(e,n,i){pA(e,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,n,i,a){oj(e,n,i,a)}mount(e){this.isSVGTag=yA(e.tagName),super.mount(e)}}const cj=Py.length;function bA(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?bA(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<cj;n++){const i=Py[n],a=t.props[i];(uu(a)||a===!1)&&(e[i]=a)}return e}function xA(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const uj=[...Oy].reverse(),hj=Oy.length;function dj(t){return e=>Promise.all(e.map(({animation:n,options:i})=>c5(t,n,i)))}function fj(t){let e=dj(t),n=cw(),i=!0;const a=f=>(p,v)=>{const b=rl(t,v,f==="exit"?t.presenceContext?.custom:void 0);if(b){const{transition:w,transitionEnd:S,...M}=b;p={...p,...M,...S}}return p};function l(f){e=f(t)}function c(f){const{props:p}=t,v=bA(t.parent)||{},b=[],w=new Set;let S={},M=1/0;for(let V=0;V<hj;V++){const P=uj[V],F=n[P],H=p[P]!==void 0?p[P]:v[P],ee=uu(H),se=P===f?F.isActive:null;se===!1&&(M=V);let re=H===v[P]&&H!==p[P]&&ee;if(re&&i&&t.manuallyAnimateOnMount&&(re=!1),F.protectedKeys={...S},!F.isActive&&se===null||!H&&!F.prevProp||Vf(H)||typeof H=="boolean")continue;if(P==="exit"&&F.isActive&&se!==!0){F.prevResolvedValues&&(S={...S,...F.prevResolvedValues});continue}const j=mj(F.prevProp,H);let E=j||P===f&&F.isActive&&!re&&ee||V>M&&ee,R=!1;const I=Array.isArray(H)?H:[H];let D=I.reduce(a(P),{});se===!1&&(D={});const{prevResolvedValues:L={}}=F,C={...L,...D},fe=W=>{E=!0,w.has(W)&&(R=!0,w.delete(W)),F.needsAnimating[W]=!0;const Z=t.getValue(W);Z&&(Z.liveStyle=!1)};for(const W in C){const Z=D[W],Ae=L[W];if(S.hasOwnProperty(W))continue;let Re=!1;m0(Z)&&m0(Ae)?Re=!xA(Z,Ae):Re=Z!==Ae,Re?Z!=null?fe(W):w.add(W):Z!==void 0&&w.has(W)?fe(W):F.protectedKeys[W]=!0}F.prevProp=H,F.prevResolvedValues=D,F.isActive&&(S={...S,...D}),i&&t.blockInitialAnimation&&(E=!1);const me=re&&j;E&&(!me||R)&&b.push(...I.map(W=>{const Z={type:P};if(typeof W=="string"&&i&&!me&&t.manuallyAnimateOnMount&&t.parent){const{parent:Ae}=t,Re=rl(Ae,W);if(Ae.enteringChildren&&Re){const{delayChildren:z}=Re.transition||{};Z.delay=FS(Ae.enteringChildren,t,z)}}return{animation:W,options:Z}}))}if(w.size){const V={};if(typeof p.initial!="boolean"){const P=rl(t,Array.isArray(p.initial)?p.initial[0]:p.initial);P&&P.transition&&(V.transition=P.transition)}w.forEach(P=>{const F=t.getBaseTarget(P),H=t.getValue(P);H&&(H.liveStyle=!0),V[P]=F??null}),b.push({animation:V})}let O=!!b.length;return i&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(O=!1),i=!1,O?e(b):Promise.resolve()}function h(f,p){if(n[f].isActive===p)return Promise.resolve();t.variantChildren?.forEach(b=>b.animationState?.setActive(f,p)),n[f].isActive=p;const v=c(f);for(const b in n)n[b].protectedKeys={};return v}return{animateChanges:c,setActive:h,setAnimateFunction:l,getState:()=>n,reset:()=>{n=cw()}}}function mj(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!xA(e,t):!1}function Da(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function cw(){return{animate:Da(!0),whileInView:Da(),whileHover:Da(),whileTap:Da(),whileDrag:Da(),whileFocus:Da(),exit:Da()}}function uw(t,e){t.min=e.min,t.max=e.max}function As(t,e){uw(t.x,e.x),uw(t.y,e.y)}function hw(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}const _A=1e-4,pj=1-_A,gj=1+_A,wA=.01,yj=0-wA,vj=0+wA;function Sn(t){return t.max-t.min}function bj(t,e,n){return Math.abs(t-e)<=n}function dw(t,e,n,i=.5){t.origin=i,t.originPoint=xt(e.min,e.max,t.origin),t.scale=Sn(n)/Sn(e),t.translate=xt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=pj&&t.scale<=gj||isNaN(t.scale))&&(t.scale=1),(t.translate>=yj&&t.translate<=vj||isNaN(t.translate))&&(t.translate=0)}function Wc(t,e,n,i){dw(t.x,e.x,n.x,i?i.originX:void 0),dw(t.y,e.y,n.y,i?i.originY:void 0)}function fw(t,e,n){t.min=n.min+e.min,t.max=t.min+Sn(e)}function xj(t,e,n){fw(t.x,e.x,n.x),fw(t.y,e.y,n.y)}function mw(t,e,n){t.min=e.min-n.min,t.max=t.min+Sn(e)}function rf(t,e,n){mw(t.x,e.x,n.x),mw(t.y,e.y,n.y)}function pw(t,e,n,i,a){return t-=e,t=sf(t,1/n,i),a!==void 0&&(t=sf(t,1/a,i)),t}function _j(t,e=0,n=1,i=.5,a,l=t,c=t){if(ai.test(e)&&(e=parseFloat(e),e=xt(c.min,c.max,e/100)-c.min),typeof e!="number")return;let h=xt(l.min,l.max,i);t===l&&(h-=e),t.min=pw(t.min,e,n,h,a),t.max=pw(t.max,e,n,h,a)}function gw(t,e,[n,i,a],l,c){_j(t,e[n],e[i],e[a],e.scale,l,c)}const wj=["x","scaleX","originX"],Tj=["y","scaleY","originY"];function yw(t,e,n,i){gw(t.x,e,wj,n?n.x:void 0,i?i.x:void 0),gw(t.y,e,Tj,n?n.y:void 0,i?i.y:void 0)}function vw(t){return t.translate===0&&t.scale===1}function TA(t){return vw(t.x)&&vw(t.y)}function bw(t,e){return t.min===e.min&&t.max===e.max}function Ej(t,e){return bw(t.x,e.x)&&bw(t.y,e.y)}function xw(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function EA(t,e){return xw(t.x,e.x)&&xw(t.y,e.y)}function _w(t){return Sn(t.x)/Sn(t.y)}function ww(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function ii(t){return[t("x"),t("y")]}function Sj(t,e,n){let i="";const a=t.x.translate/e.x,l=t.y.translate/e.y,c=n?.z||0;if((a||l||c)&&(i=`translate3d(${a}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:v,rotateX:b,rotateY:w,skewX:S,skewY:M}=n;p&&(i=`perspective(${p}px) ${i}`),v&&(i+=`rotate(${v}deg) `),b&&(i+=`rotateX(${b}deg) `),w&&(i+=`rotateY(${w}deg) `),S&&(i+=`skewX(${S}deg) `),M&&(i+=`skewY(${M}deg) `)}const h=t.x.scale*e.x,f=t.y.scale*e.y;return(h!==1||f!==1)&&(i+=`scale(${h}, ${f})`),i||"none"}const SA=["TopLeft","TopRight","BottomLeft","BottomRight"],Aj=SA.length,Tw=t=>typeof t=="string"?parseFloat(t):t,Ew=t=>typeof t=="number"||xe.test(t);function kj(t,e,n,i,a,l){a?(t.opacity=xt(0,n.opacity??1,Cj(i)),t.opacityExit=xt(e.opacity??1,0,Nj(i))):l&&(t.opacity=xt(e.opacity??1,n.opacity??1,i));for(let c=0;c<Aj;c++){const h=`border${SA[c]}Radius`;let f=Sw(e,h),p=Sw(n,h);if(f===void 0&&p===void 0)continue;f||(f=0),p||(p=0),f===0||p===0||Ew(f)===Ew(p)?(t[h]=Math.max(xt(Tw(f),Tw(p),i),0),(ai.test(p)||ai.test(f))&&(t[h]+="%")):t[h]=p}(e.rotate||n.rotate)&&(t.rotate=xt(e.rotate||0,n.rotate||0,i))}function Sw(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Cj=AA(0,.5,vS),Nj=AA(.5,.95,us);function AA(t,e,n){return i=>i<t?0:i>e?1:n(ou(t,e,i))}function Rj(t,e,n){const i=yn(t)?t:hl(t);return i.start(Ny("",i,e,n)),i.animation}function hu(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}const Ij=(t,e)=>t.depth-e.depth;class Dj{constructor(){this.children=[],this.isDirty=!1}add(e){fy(this.children,e),this.isDirty=!0}remove(e){Jd(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Ij),this.isDirty=!1,this.children.forEach(e)}}function jj(t,e){const n=En.now(),i=({timestamp:a})=>{const l=a-n;l>=e&&(Kr(i),t(l-e))};return ft.setup(i,!0),()=>Kr(i)}function Ld(t){return yn(t)?t.get():t}class Mj{constructor(){this.members=[]}add(e){fy(this.members,e);for(let n=this.members.length-1;n>=0;n--){const i=this.members[n];if(i===e||i===this.lead||i===this.prevLead)continue;const a=i.instance;a&&a.isConnected===!1&&i.isPresent!==!1&&!i.snapshot&&Jd(this.members,i)}e.scheduleRender()}remove(e){if(Jd(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let i;for(let a=n;a>=0;a--){const l=this.members[a],c=l.instance;if(l.isPresent!==!1&&(!c||c.isConnected!==!1)){i=l;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender();const a=i.options.layoutDependency,l=e.options.layoutDependency;if(!(a!==void 0&&l!==void 0&&a===l)){const f=i.instance;f&&f.isConnected===!1&&!i.snapshot||(e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0))}const{crossfade:h}=e.options;h===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Ud={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Eg=["","X","Y","Z"],Vj=1e3;let Oj=0;function Sg(t,e,n,i){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),i&&(i[t]=0))}function kA(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=KS(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ft,!(a||l))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&kA(i)}function CA({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(c={},h=e?.()){this.id=Oj++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Uj),this.nodes.forEach(Hj),this.nodes.forEach(qj),this.nodes.forEach(zj)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new Dj)}addEventListener(c,h){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new gy),this.eventHandlers.get(c).add(h)}notifyListeners(c,...h){const f=this.eventHandlers.get(c);f&&f.notify(...h)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=Vy(c)&&!L5(c),this.instance=c;const{layoutId:h,layout:f,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||h)&&(this.isLayoutDirty=!0),t){let v,b=0;const w=()=>this.root.updateBlockedByResize=!1;ft.read(()=>{b=window.innerWidth}),t(c,()=>{const S=window.innerWidth;S!==b&&(b=S,this.root.updateBlockedByResize=!0,v&&v(),v=jj(w,250),Ud.hasAnimatedSinceResize&&(Ud.hasAnimatedSinceResize=!1,this.nodes.forEach(Cw)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&p&&(h||f)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:b,hasRelativeLayoutChanged:w,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const M=this.options.transition||p.getDefaultTransition()||Xj,{onLayoutAnimationStart:O,onLayoutAnimationComplete:V}=p.getProps(),P=!this.targetLayout||!EA(this.targetLayout,S),F=!b&&w;if(this.options.layoutRoot||this.resumeFrom||F||b&&(P||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const H={...Cy(M,"layout"),onPlay:O,onComplete:V};(p.shouldReduceMotion||this.options.layoutRoot)&&(H.delay=0,H.type=!1),this.startAnimation(H),this.setAnimationOrigin(v,F)}else b||Cw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Kr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Gj),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&kA(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const b=this.path[v];b.shouldResetTransform=!0,b.updateScroll("snapshot"),b.options.layoutRoot&&b.willUpdate(!1)}const{layoutId:h,layout:f}=this.options;if(h===void 0&&!f)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Aw);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(kw);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Fj),this.nodes.forEach(Pj),this.nodes.forEach(Lj)):this.nodes.forEach(kw),this.clearAllSnapshots();const h=En.now();cn.delta=fi(0,1e3/60,h-cn.timestamp),cn.timestamp=h,cn.isProcessing=!0,gg.update.process(cn),gg.preRender.process(cn),gg.render.process(cn),cn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,jy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Bj),this.sharedNodes.forEach($j)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ft.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ft.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Sn(this.snapshot.measuredBox.x)&&!Sn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Yt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(h=!1),h&&this.instance){const f=i(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!TA(this.projectionDelta),f=this.getTransformTemplate(),p=f?f(this.latestValues,""):void 0,v=p!==this.prevTransformTemplateValue;c&&this.instance&&(h||Ma(this.latestValues)||v)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const h=this.measurePageBox();let f=this.removeElementScroll(h);return c&&(f=this.removeTransform(f)),Qj(f),{animationId:this.root.animationId,measuredBox:h,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return Yt();const h=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(Wj))){const{scroll:p}=this.root;p&&(sl(h.x,p.offset.x),sl(h.y,p.offset.y))}return h}removeElementScroll(c){const h=Yt();if(As(h,c),this.scroll?.wasRoot)return h;for(let f=0;f<this.path.length;f++){const p=this.path[f],{scroll:v,options:b}=p;p!==this.root&&v&&b.layoutScroll&&(v.wasRoot&&As(h,c),sl(h.x,v.offset.x),sl(h.y,v.offset.y))}return h}applyTransform(c,h=!1){const f=Yt();As(f,c);for(let p=0;p<this.path.length;p++){const v=this.path[p];!h&&v.options.layoutScroll&&v.scroll&&v!==v.root&&il(f,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),Ma(v.latestValues)&&il(f,v.latestValues)}return Ma(this.latestValues)&&il(f,this.latestValues),f}removeTransform(c){const h=Yt();As(h,c);for(let f=0;f<this.path.length;f++){const p=this.path[f];if(!p.instance||!Ma(p.latestValues))continue;x0(p.latestValues)&&p.updateSnapshot();const v=Yt(),b=p.measurePageBox();As(v,b),yw(h,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,v)}return Ma(this.latestValues)&&yw(h,this.latestValues),h}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==cn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==h;if(!(c||f&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:b}=this.options;if(!this.layout||!(v||b))return;this.resolvedRelativeTargetAt=cn.timestamp;const w=this.getClosestProjectingParent();w&&this.linkedParentVersion!==w.layoutVersion&&!w.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(w&&w.layout?this.createRelativeTarget(w,this.layout.layoutBox,w.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Yt(),this.targetWithTransforms=Yt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),xj(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):As(this.target,this.layout.layoutBox),hA(this.target,this.targetDelta)):As(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?this.createRelativeTarget(w,this.target,w.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||x0(this.parent.latestValues)||uA(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,h,f){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Yt(),this.relativeTargetOrigin=Yt(),rf(this.relativeTargetOrigin,h,f),As(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const c=this.getLead(),h=!!this.resumingFrom||this!==c;let f=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(f=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===cn.timestamp&&(f=!1),f)return;const{layout:p,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||v))return;As(this.layoutCorrected,this.layout.layoutBox);const b=this.treeScale.x,w=this.treeScale.y;X5(this.layoutCorrected,this.treeScale,this.path,h),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Yt());const{target:S}=c;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(hw(this.prevProjectionDelta.x,this.projectionDelta.x),hw(this.prevProjectionDelta.y,this.projectionDelta.y)),Wc(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==b||this.treeScale.y!==w||!ww(this.projectionDelta.x,this.prevProjectionDelta.x)||!ww(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=nl(),this.projectionDelta=nl(),this.projectionDeltaWithTransform=nl()}setAnimationOrigin(c,h=!1){const f=this.snapshot,p=f?f.latestValues:{},v={...this.latestValues},b=nl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const w=Yt(),S=f?f.source:void 0,M=this.layout?this.layout.source:void 0,O=S!==M,V=this.getStack(),P=!V||V.members.length<=1,F=!!(O&&!P&&this.options.crossfade===!0&&!this.path.some(Yj));this.animationProgress=0;let H;this.mixTargetDelta=ee=>{const se=ee/1e3;Nw(b.x,c.x,se),Nw(b.y,c.y,se),this.setTargetDelta(b),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(rf(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Kj(this.relativeTarget,this.relativeTargetOrigin,w,se),H&&Ej(this.relativeTarget,H)&&(this.isProjectionDirty=!1),H||(H=Yt()),As(H,this.relativeTarget)),O&&(this.animationValues=v,kj(v,p,this.latestValues,se,F,P)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=se},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Kr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ft.update(()=>{Ud.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=hl(0)),this.currentAnimation=Rj(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),c.onUpdate&&c.onUpdate(h)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Vj),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:h,target:f,layout:p,latestValues:v}=c;if(!(!h||!f||!p)){if(this!==c&&this.layout&&p&&NA(this.options.animationType,this.layout.layoutBox,p.layoutBox)){f=this.target||Yt();const b=Sn(this.layout.layoutBox.x);f.x.min=c.target.x.min,f.x.max=f.x.min+b;const w=Sn(this.layout.layoutBox.y);f.y.min=c.target.y.min,f.y.max=f.y.min+w}As(h,f),il(h,v),Wc(this.projectionDeltaWithTransform,this.layoutCorrected,h,v)}}registerSharedNode(c,h){this.sharedNodes.has(c)||this.sharedNodes.set(c,new Mj),this.sharedNodes.get(c).add(h);const p=h.options.initialPromotionConfig;h.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(h):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:h,preserveFollowOpacity:f}={}){const p=this.getStack();p&&p.promote(this,f),c&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let h=!1;const{latestValues:f}=c;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(h=!0),!h)return;const p={};f.z&&Sg("z",c,p,this.animationValues);for(let v=0;v<Eg.length;v++)Sg(`rotate${Eg[v]}`,c,p,this.animationValues),Sg(`skew${Eg[v]}`,c,p,this.animationValues);c.render();for(const v in p)c.setStaticValue(v,p[v]),this.animationValues&&(this.animationValues[v]=p[v]);c.scheduleRender()}applyProjectionStyles(c,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Ld(h?.pointerEvents)||"",c.transform=f?f(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Ld(h?.pointerEvents)||""),this.hasProjected&&!Ma(this.latestValues)&&(c.transform=f?f({},""):"none",this.hasProjected=!1);return}c.visibility="";const v=p.animationValues||p.latestValues;this.applyTransformsToTarget();let b=Sj(this.projectionDeltaWithTransform,this.treeScale,v);f&&(b=f(v,b)),c.transform=b;const{x:w,y:S}=this.projectionDelta;c.transformOrigin=`${w.origin*100}% ${S.origin*100}% 0`,p.animationValues?c.opacity=p===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:c.opacity=p===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const M in w0){if(v[M]===void 0)continue;const{correct:O,applyTo:V,isCSSVariable:P}=w0[M],F=b==="none"?v[M]:O(v[M],p);if(V){const H=V.length;for(let ee=0;ee<H;ee++)c[V[ee]]=F}else P?this.options.visualElement.renderState.vars[M]=F:c[M]=F}this.options.layoutId&&(c.pointerEvents=p===this?Ld(h?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(Aw),this.root.sharedNodes.clear()}}}function Pj(t){t.updateLayout()}function Lj(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?ii(v=>{const b=l?e.measuredBox[v]:e.layoutBox[v],w=Sn(b);b.min=n[v].min,b.max=b.min+w}):NA(a,e.layoutBox,n)&&ii(v=>{const b=l?e.measuredBox[v]:e.layoutBox[v],w=Sn(n[v]);b.max=b.min+w,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[v].max=t.relativeTarget[v].min+w)});const c=nl();Wc(c,n,e.layoutBox);const h=nl();l?Wc(h,t.applyTransform(i,!0),e.measuredBox):Wc(h,n,e.layoutBox);const f=!TA(c);let p=!1;if(!t.resumeFrom){const v=t.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:b,layout:w}=v;if(b&&w){const S=Yt();rf(S,e.layoutBox,b.layoutBox);const M=Yt();rf(M,n,w.layoutBox),EA(S,M)||(p=!0),v.options.layoutRoot&&(t.relativeTarget=M,t.relativeTargetOrigin=S,t.relativeParent=v)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:h,layoutDelta:c,hasLayoutChanged:f,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function Uj(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function zj(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Bj(t){t.clearSnapshot()}function Aw(t){t.clearMeasurements()}function kw(t){t.isLayoutDirty=!1}function Fj(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Cw(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Hj(t){t.resolveTargetDelta()}function qj(t){t.calcProjection()}function Gj(t){t.resetSkewAndRotation()}function $j(t){t.removeLeadSnapshot()}function Nw(t,e,n){t.translate=xt(e.translate,0,n),t.scale=xt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Rw(t,e,n,i){t.min=xt(e.min,n.min,i),t.max=xt(e.max,n.max,i)}function Kj(t,e,n,i){Rw(t.x,e.x,n.x,i),Rw(t.y,e.y,n.y,i)}function Yj(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Xj={duration:.45,ease:[.4,0,.1,1]},Iw=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Dw=Iw("applewebkit/")&&!Iw("chrome/")?Math.round:us;function jw(t){t.min=Dw(t.min),t.max=Dw(t.max)}function Qj(t){jw(t.x),jw(t.y)}function NA(t,e,n){return t==="position"||t==="preserve-aspect"&&!bj(_w(e),_w(n),.2)}function Wj(t){return t!==t.root&&t.scroll?.wasRoot}const Jj=CA({attachResizeListener:(t,e)=>hu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),Ag={current:void 0},RA=CA({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Ag.current){const t=new Jj({});t.mount(window),t.setOptions({layoutScroll:!0}),Ag.current=t}return Ag.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),zy=N.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function Mw(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Zj(...t){return e=>{let n=!1;const i=t.map(a=>{const l=Mw(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<i.length;a++){const l=i[a];typeof l=="function"?l():Mw(t[a],null)}}}}function eM(...t){return N.useCallback(Zj(...t),t)}class tM extends N.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const i=n.offsetParent,a=v0(i)&&i.offsetWidth||0,l=v0(i)&&i.offsetHeight||0,c=this.props.sizeRef.current;c.height=n.offsetHeight||0,c.width=n.offsetWidth||0,c.top=n.offsetTop,c.left=n.offsetLeft,c.right=a-c.width-c.left,c.bottom=l-c.height-c.top}return null}componentDidUpdate(){}render(){return this.props.children}}function nM({children:t,isPresent:e,anchorX:n,anchorY:i,root:a,pop:l}){const c=N.useId(),h=N.useRef(null),f=N.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:p}=N.useContext(zy),v=t.props?.ref??t?.ref,b=eM(h,v);return N.useInsertionEffect(()=>{const{width:w,height:S,top:M,left:O,right:V,bottom:P}=f.current;if(e||l===!1||!h.current||!w||!S)return;const F=n==="left"?`left: ${O}`:`right: ${V}`,H=i==="bottom"?`bottom: ${P}`:`top: ${M}`;h.current.dataset.motionPopId=c;const ee=document.createElement("style");p&&(ee.nonce=p);const se=a??document.head;return se.appendChild(ee),ee.sheet&&ee.sheet.insertRule(`
          [data-motion-pop-id="${c}"] {
            position: absolute !important;
            width: ${w}px !important;
            height: ${S}px !important;
            ${F}px !important;
            ${H}px !important;
          }
        `),()=>{se.contains(ee)&&se.removeChild(ee)}},[e]),g.jsx(tM,{isPresent:e,childRef:h,sizeRef:f,pop:l,children:l===!1?t:N.cloneElement(t,{ref:b})})}const sM=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:a,presenceAffectsLayout:l,mode:c,anchorX:h,anchorY:f,root:p})=>{const v=dy(iM),b=N.useId();let w=!0,S=N.useMemo(()=>(w=!1,{id:b,initial:e,isPresent:n,custom:a,onExitComplete:M=>{v.set(M,!0);for(const O of v.values())if(!O)return;i&&i()},register:M=>(v.set(M,!1),()=>v.delete(M))}),[n,v,i]);return l&&w&&(S={...S}),N.useMemo(()=>{v.forEach((M,O)=>v.set(O,!1))},[n]),N.useEffect(()=>{!n&&!v.size&&i&&i()},[n]),t=g.jsx(nM,{pop:c==="popLayout",isPresent:n,anchorX:h,anchorY:f,root:p,children:t}),g.jsx(Mf.Provider,{value:S,children:t})};function iM(){return new Map}function IA(t=!0){const e=N.useContext(Mf);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:a}=e,l=N.useId();N.useEffect(()=>{if(t)return a(l)},[t]);const c=N.useCallback(()=>t&&i&&i(l),[l,i,t]);return!n&&i?[!1,c]:[!0]}const yd=t=>t.key||"";function Vw(t){const e=[];return N.Children.forEach(t,n=>{N.isValidElement(n)&&e.push(n)}),e}const fs=({children:t,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:a=!0,mode:l="sync",propagate:c=!1,anchorX:h="left",anchorY:f="top",root:p})=>{const[v,b]=IA(c),w=N.useMemo(()=>Vw(t),[t]),S=c&&!v?[]:w.map(yd),M=N.useRef(!0),O=N.useRef(w),V=dy(()=>new Map),P=N.useRef(new Set),[F,H]=N.useState(w),[ee,se]=N.useState(w);oS(()=>{M.current=!1,O.current=w;for(let E=0;E<ee.length;E++){const R=yd(ee[E]);S.includes(R)?(V.delete(R),P.current.delete(R)):V.get(R)!==!0&&V.set(R,!1)}},[ee,S.length,S.join("-")]);const re=[];if(w!==F){let E=[...w];for(let R=0;R<ee.length;R++){const I=ee[R],D=yd(I);S.includes(D)||(E.splice(R,0,I),re.push(I))}return l==="wait"&&re.length&&(E=re),se(Vw(E)),H(w),null}const{forceRender:j}=N.useContext(hy);return g.jsx(g.Fragment,{children:ee.map(E=>{const R=yd(E),I=c&&!v?!1:w===ee||S.includes(R),D=()=>{if(P.current.has(R))return;if(P.current.add(R),V.has(R))V.set(R,!0);else return;let L=!0;V.forEach(C=>{C||(L=!1)}),L&&(j?.(),se(O.current),c&&b?.(),i&&i())};return g.jsx(sM,{isPresent:I,initial:!M.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:p,onExitComplete:I?void 0:D,anchorX:h,anchorY:f,children:E},R)})})},DA=N.createContext({strict:!1}),Ow={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let Pw=!1;function rM(){if(Pw)return;const t={};for(const e in Ow)t[e]={isEnabled:n=>Ow[e].some(i=>!!n[i])};oA(t),Pw=!0}function jA(){return rM(),G5()}function aM(t){const e=jA();for(const n in t)e[n]={...e[n],...t[n]};oA(e)}const oM=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function af(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||oM.has(t)}let MA=t=>!af(t);function lM(t){typeof t=="function"&&(MA=e=>e.startsWith("on")?!af(e):t(e))}try{lM(require("@emotion/is-prop-valid").default)}catch{}function cM(t,e,n){const i={};for(const a in t)a==="values"&&typeof t.values=="object"||(MA(a)||n===!0&&af(a)||!e&&!af(a)||t.draggable&&a.startsWith("onDrag"))&&(i[a]=t[a]);return i}const Pf=N.createContext({});function uM(t,e){if(Of(t)){const{initial:n,animate:i}=t;return{initial:n===!1||uu(n)?n:void 0,animate:uu(i)?i:void 0}}return t.inherit!==!1?e:{}}function hM(t){const{initial:e,animate:n}=uM(t,N.useContext(Pf));return N.useMemo(()=>({initial:e,animate:n}),[Lw(e),Lw(n)])}function Lw(t){return Array.isArray(t)?t.join(" "):t}const By=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function VA(t,e,n){for(const i in e)!yn(e[i])&&!mA(i,n)&&(t[i]=e[i])}function dM({transformTemplate:t},e){return N.useMemo(()=>{const n=By();return Ly(n,e,t),Object.assign({},n.vars,n.style)},[e])}function fM(t,e){const n=t.style||{},i={};return VA(i,n,t),Object.assign(i,dM(t,e)),i}function mM(t,e){const n={},i=fM(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const OA=()=>({...By(),attrs:{}});function pM(t,e,n,i){const a=N.useMemo(()=>{const l=OA();return pA(l,e,yA(i),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};VA(l,t.style,t),a.style={...l,...a.style}}return a}const gM=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Fy(t){return typeof t!="string"||t.includes("-")?!1:!!(gM.indexOf(t)>-1||/[A-Z]/u.test(t))}function yM(t,e,n,{latestValues:i},a,l=!1,c){const f=(c??Fy(t)?pM:mM)(e,i,a,t),p=cM(e,typeof t=="string",l),v=t!==N.Fragment?{...p,...f,ref:n}:{},{children:b}=e,w=N.useMemo(()=>yn(b)?b.get():b,[b]);return N.createElement(t,{...v,children:w})}function vM({scrapeMotionValuesFromProps:t,createRenderState:e},n,i,a){return{latestValues:bM(n,i,a,t),renderState:e()}}function bM(t,e,n,i){const a={},l=i(t,{});for(const w in l)a[w]=Ld(l[w]);let{initial:c,animate:h}=t;const f=Of(t),p=rA(t);e&&p&&!f&&t.inherit!==!1&&(c===void 0&&(c=e.initial),h===void 0&&(h=e.animate));let v=n?n.initial===!1:!1;v=v||c===!1;const b=v?h:c;if(b&&typeof b!="boolean"&&!Vf(b)){const w=Array.isArray(b)?b:[b];for(let S=0;S<w.length;S++){const M=Ry(t,w[S]);if(M){const{transitionEnd:O,transition:V,...P}=M;for(const F in P){let H=P[F];if(Array.isArray(H)){const ee=v?H.length-1:0;H=H[ee]}H!==null&&(a[F]=H)}for(const F in O)a[F]=O[F]}}}return a}const PA=t=>(e,n)=>{const i=N.useContext(Pf),a=N.useContext(Mf),l=()=>vM(t,e,i,a);return n?l():dy(l)},xM=PA({scrapeMotionValuesFromProps:Uy,createRenderState:By}),_M=PA({scrapeMotionValuesFromProps:vA,createRenderState:OA}),wM=Symbol.for("motionComponentSymbol");function TM(t,e,n){const i=N.useRef(n);N.useInsertionEffect(()=>{i.current=n});const a=N.useRef(null);return N.useCallback(l=>{l&&t.onMount?.(l),e&&(l?e.mount(l):e.unmount());const c=i.current;if(typeof c=="function")if(l){const h=c(l);typeof h=="function"&&(a.current=h)}else a.current?(a.current(),a.current=null):c(l);else c&&(c.current=l)},[e])}const LA=N.createContext({});function Xo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function EM(t,e,n,i,a,l){const{visualElement:c}=N.useContext(Pf),h=N.useContext(DA),f=N.useContext(Mf),p=N.useContext(zy),v=p.reducedMotion,b=p.skipAnimations,w=N.useRef(null),S=N.useRef(!1);i=i||h.renderer,!w.current&&i&&(w.current=i(t,{visualState:e,parent:c,props:n,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:v,skipAnimations:b,isSVG:l}),S.current&&w.current&&(w.current.manuallyAnimateOnMount=!0));const M=w.current,O=N.useContext(LA);M&&!M.projection&&a&&(M.type==="html"||M.type==="svg")&&SM(w.current,n,a,O);const V=N.useRef(!1);N.useInsertionEffect(()=>{M&&V.current&&M.update(n,f)});const P=n[$S],F=N.useRef(!!P&&!window.MotionHandoffIsComplete?.(P)&&window.MotionHasOptimisedAnimation?.(P));return oS(()=>{S.current=!0,M&&(V.current=!0,window.MotionIsMounted=!0,M.updateFeatures(),M.scheduleRenderMicrotask(),F.current&&M.animationState&&M.animationState.animateChanges())}),N.useEffect(()=>{M&&(!F.current&&M.animationState&&M.animationState.animateChanges(),F.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(P)}),F.current=!1),M.enteringChildren=void 0)}),M}function SM(t,e,n,i){const{layoutId:a,layout:l,drag:c,dragConstraints:h,layoutScroll:f,layoutRoot:p,layoutCrossfade:v}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:UA(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||h&&Xo(h),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:i,crossfade:v,layoutScroll:f,layoutRoot:p})}function UA(t){if(t)return t.options.allowProjection!==!1?t.projection:UA(t.parent)}function kg(t,{forwardMotionProps:e=!1,type:n}={},i,a){i&&aM(i);const l=n?n==="svg":Fy(t),c=l?_M:xM;function h(p,v){let b;const w={...N.useContext(zy),...p,layoutId:AM(p)},{isStatic:S}=w,M=hM(p),O=c(p,S);if(!S&&aS){kM();const V=CM(w);b=V.MeasureLayout,M.visualElement=EM(t,O,w,a,V.ProjectionNode,l)}return g.jsxs(Pf.Provider,{value:M,children:[b&&M.visualElement?g.jsx(b,{visualElement:M.visualElement,...w}):null,yM(t,p,TM(O,M.visualElement,v),O,S,e,l)]})}h.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const f=N.forwardRef(h);return f[wM]=t,f}function AM({layoutId:t}){const e=N.useContext(hy).id;return e&&t!==void 0?e+"-"+t:t}function kM(t,e){N.useContext(DA).strict}function CM(t){const e=jA(),{drag:n,layout:i}=e;if(!n&&!i)return{};const a={...n,...i};return{MeasureLayout:n?.isEnabled(t)||i?.isEnabled(t)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function NM(t,e){if(typeof Proxy>"u")return kg;const n=new Map,i=(l,c)=>kg(l,c,t,e),a=(l,c)=>i(l,c);return new Proxy(a,{get:(l,c)=>c==="create"?i:(n.has(c)||n.set(c,kg(c,void 0,t,e)),n.get(c))})}const RM=(t,e)=>e.isSVG??Fy(t)?new lj(e):new nj(e,{allowProjection:t!==N.Fragment});class IM extends na{constructor(e){super(e),e.animationState||(e.animationState=fj(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Vf(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let DM=0;class jM extends na{constructor(){super(...arguments),this.id=DM++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const MM={animation:{Feature:IM},exit:{Feature:jM}};function ku(t){return{point:{x:t.pageX,y:t.pageY}}}const VM=t=>e=>My(e)&&t(e,ku(e));function Jc(t,e,n,i){return hu(t,e,VM(n),i)}const zA=({current:t})=>t?t.ownerDocument.defaultView:null,Uw=(t,e)=>Math.abs(t-e);function OM(t,e){const n=Uw(t.x,e.x),i=Uw(t.y,e.y);return Math.sqrt(n**2+i**2)}const zw=new Set(["auto","scroll"]);class BA{constructor(e,n,{transformPagePoint:i,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3,element:h}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=S=>{this.handleScroll(S.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=Ng(this.lastMoveEventInfo,this.history),M=this.startEvent!==null,O=OM(S.offset,{x:0,y:0})>=this.distanceThreshold;if(!M&&!O)return;const{point:V}=S,{timestamp:P}=cn;this.history.push({...V,timestamp:P});const{onStart:F,onMove:H}=this.handlers;M||(F&&F(this.lastMoveEvent,S),this.startEvent=this.lastMoveEvent),H&&H(this.lastMoveEvent,S)},this.handlePointerMove=(S,M)=>{this.lastMoveEvent=S,this.lastMoveEventInfo=Cg(M,this.transformPagePoint),ft.update(this.updatePoint,!0)},this.handlePointerUp=(S,M)=>{this.end();const{onEnd:O,onSessionEnd:V,resumeAnimation:P}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&P&&P(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const F=Ng(S.type==="pointercancel"?this.lastMoveEventInfo:Cg(M,this.transformPagePoint),this.history);this.startEvent&&O&&O(S,F),V&&V(S,F)},!My(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=c,this.contextWindow=a||window;const f=ku(e),p=Cg(f,this.transformPagePoint),{point:v}=p,{timestamp:b}=cn;this.history=[{...v,timestamp:b}];const{onSessionStart:w}=n;w&&w(e,Ng(p,this.history)),this.removeListeners=Eu(Jc(this.contextWindow,"pointermove",this.handlePointerMove),Jc(this.contextWindow,"pointerup",this.handlePointerUp),Jc(this.contextWindow,"pointercancel",this.handlePointerUp)),h&&this.startScrollTracking(h)}startScrollTracking(e){let n=e.parentElement;for(;n;){const i=getComputedStyle(n);(zw.has(i.overflowX)||zw.has(i.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const i=e===window,a=i?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},l={x:a.x-n.x,y:a.y-n.y};l.x===0&&l.y===0||(i?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=l.x,this.lastMoveEventInfo.point.y+=l.y):this.history.length>0&&(this.history[0].x-=l.x,this.history[0].y-=l.y),this.scrollPositions.set(e,a),ft.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Kr(this.updatePoint)}}function Cg(t,e){return e?{point:e(t.point)}:t}function Bw(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Ng({point:t},e){return{point:t,delta:Bw(t,FA(e)),offset:Bw(t,PM(e)),velocity:LM(e,.1)}}function PM(t){return t[0]}function FA(t){return t[t.length-1]}function LM(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const a=FA(t);for(;n>=0&&(i=t[n],!(a.timestamp-i.timestamp>Is(e)));)n--;if(!i)return{x:0,y:0};i===t[0]&&t.length>2&&a.timestamp-i.timestamp>Is(e)*2&&(i=t[1]);const l=cs(a.timestamp-i.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-i.x)/l,y:(a.y-i.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function UM(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?xt(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?xt(n,t,i.max):Math.min(t,n)),t}function Fw(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function zM(t,{top:e,left:n,bottom:i,right:a}){return{x:Fw(t.x,n,a),y:Fw(t.y,e,i)}}function Hw(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function BM(t,e){return{x:Hw(t.x,e.x),y:Hw(t.y,e.y)}}function FM(t,e){let n=.5;const i=Sn(t),a=Sn(e);return a>i?n=ou(e.min,e.max-i,t.min):i>a&&(n=ou(t.min,t.max-a,e.min)),fi(0,1,n)}function HM(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const T0=.35;function qM(t=T0){return t===!1?t=0:t===!0&&(t=T0),{x:qw(t,"left","right"),y:qw(t,"top","bottom")}}function qw(t,e,n){return{min:Gw(t,e),max:Gw(t,n)}}function Gw(t,e){return typeof t=="number"?t:t[e]||0}const GM=new WeakMap;class $M{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Yt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=b=>{n&&this.snapToCursor(ku(b).point),this.stopAnimation()},c=(b,w)=>{const{drag:S,dragPropagation:M,onDragStart:O}=this.getProps();if(S&&!M&&(this.openDragLock&&this.openDragLock(),this.openDragLock=_5(S),!this.openDragLock))return;this.latestPointerEvent=b,this.latestPanInfo=w,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ii(P=>{let F=this.getAxisMotionValue(P).get()||0;if(ai.test(F)){const{projection:H}=this.visualElement;if(H&&H.layout){const ee=H.layout.layoutBox[P];ee&&(F=Sn(ee)*(parseFloat(F)/100))}}this.originPoint[P]=F}),O&&ft.update(()=>O(b,w),!1,!0),p0(this.visualElement,"transform");const{animationState:V}=this.visualElement;V&&V.setActive("whileDrag",!0)},h=(b,w)=>{this.latestPointerEvent=b,this.latestPanInfo=w;const{dragPropagation:S,dragDirectionLock:M,onDirectionLock:O,onDrag:V}=this.getProps();if(!S&&!this.openDragLock)return;const{offset:P}=w;if(M&&this.currentDirection===null){this.currentDirection=YM(P),this.currentDirection!==null&&O&&O(this.currentDirection);return}this.updateAxis("x",w.point,P),this.updateAxis("y",w.point,P),this.visualElement.render(),V&&ft.update(()=>V(b,w),!1,!0)},f=(b,w)=>{this.latestPointerEvent=b,this.latestPanInfo=w,this.stop(b,w),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>{const{dragSnapToOrigin:b}=this.getProps();(b||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:v}=this.getProps();this.panSession=new BA(e,{onSessionStart:l,onStart:c,onMove:h,onSessionEnd:f,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,distanceThreshold:i,contextWindow:zA(this.visualElement),element:this.visualElement.current})}stop(e,n){const i=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!i)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:h}=this.getProps();h&&ft.postRender(()=>h(i,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,n,i){const{drag:a}=this.getProps();if(!i||!vd(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(c=UM(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&Xo(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=zM(i.layoutBox,e):this.constraints=!1,this.elastic=qM(n),a!==this.constraints&&!Xo(e)&&i&&this.constraints&&!this.hasMutatedConstraints&&ii(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=HM(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Xo(e))return!1;const i=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=Q5(i,a.root,this.visualElement.getTransformPagePoint());let c=BM(a.layout.layoutBox,l);if(n){const h=n(K5(c));this.hasMutatedConstraints=!!h,h&&(c=cA(h))}return c}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:h}=this.getProps(),f=this.constraints||{},p=ii(v=>{if(!vd(v,n,this.currentDirection))return;let b=f&&f[v]||{};c&&(b={min:0,max:0});const w=a?200:1e6,S=a?40:1e7,M={type:"inertia",velocity:i?e[v]:0,bounceStiffness:w,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...l,...b};return this.startAxisValueAnimation(v,M)});return Promise.all(p).then(h)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return p0(this.visualElement,e),i.start(Ny(e,i,0,n,this.visualElement,!1))}stopAnimation(){ii(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),a=i[n];return a||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){ii(n=>{const{drag:i}=this.getProps();if(!vd(n,i,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:h}=a.layout.layoutBox[n],f=l.get()||0;l.set(e[n]-xt(c,h,.5)+f)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!Xo(n)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};ii(c=>{const h=this.getAxisMotionValue(c);if(h&&this.constraints!==!1){const f=h.get();a[c]=FM({min:f,max:f},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.constraints=!1,this.resolveConstraints(),ii(c=>{if(!vd(c,e,null))return;const h=this.getAxisMotionValue(c),{min:f,max:p}=this.constraints[c];h.set(xt(f,p,a[c]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;GM.set(this.visualElement,this);const e=this.visualElement.current,n=Jc(e,"pointerdown",p=>{const{drag:v,dragListener:b=!0}=this.getProps(),w=p.target,S=w!==e&&k5(w);v&&b&&!S&&this.start(p)});let i;const a=()=>{const{dragConstraints:p}=this.getProps();Xo(p)&&p.current&&(this.constraints=this.resolveRefConstraints(),i||(i=KM(e,p.current,()=>this.scalePositionWithinConstraints())))},{projection:l}=this.visualElement,c=l.addEventListener("measure",a);l&&!l.layout&&(l.root&&l.root.updateScroll(),l.updateLayout()),ft.read(a);const h=hu(window,"resize",()=>this.scalePositionWithinConstraints()),f=l.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:v})=>{this.isDragging&&v&&(ii(b=>{const w=this.getAxisMotionValue(b);w&&(this.originPoint[b]+=p[b].translate,w.set(w.get()+p[b].translate))}),this.visualElement.render())}));return()=>{h(),n(),c(),f&&f(),i&&i()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=T0,dragMomentum:h=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:h}}}function $w(t){let e=!0;return()=>{if(e){e=!1;return}t()}}function KM(t,e,n){const i=Z1(t,$w(n)),a=Z1(e,$w(n));return()=>{i(),a()}}function vd(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function YM(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class XM extends na{constructor(e){super(e),this.removeGroupControls=us,this.removeListeners=us,this.controls=new $M(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||us}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const Rg=t=>(e,n)=>{t&&ft.update(()=>t(e,n),!1,!0)};class QM extends na{constructor(){super(...arguments),this.removePointerDownListener=us}onPointerDown(e){this.session=new BA(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:zA(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:Rg(e),onStart:Rg(n),onMove:Rg(i),onEnd:(l,c)=>{delete this.session,a&&ft.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=Jc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Ig=!1;class WM extends N.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:a}=this.props,{projection:l}=e;l&&(n.group&&n.group.add(l),i&&i.register&&a&&i.register(l),Ig&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),Ud.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:a,isPresent:l}=this.props,{projection:c}=i;return c&&(c.isPresent=l,e.layoutDependency!==n&&c.setOptions({...c.options,layoutDependency:n}),Ig=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||ft.postRender(()=>{const h=c.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),jy.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:a}=e;Ig=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function HA(t){const[e,n]=IA(),i=N.useContext(hy);return g.jsx(WM,{...t,layoutGroup:i,switchLayoutGroup:N.useContext(LA),isPresent:e,safeToRemove:n})}const JM={pan:{Feature:QM},drag:{Feature:XM,ProjectionNode:RA,MeasureLayout:HA}};function Kw(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=i[a];l&&ft.postRender(()=>l(e,ku(e)))}class ZM extends na{mount(){const{current:e}=this.node;e&&(this.unmount=T5(e,(n,i)=>(Kw(this.node,i,"Start"),a=>Kw(this.node,a,"End"))))}unmount(){}}class e3 extends na{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Eu(hu(this.node.current,"focus",()=>this.onFocus()),hu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Yw(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=i[a];l&&ft.postRender(()=>l(e,ku(e)))}class t3 extends na{mount(){const{current:e}=this.node;if(!e)return;const{globalTapTarget:n,propagate:i}=this.node.props;this.unmount=N5(e,(a,l)=>(Yw(this.node,l,"Start"),(c,{success:h})=>Yw(this.node,c,h?"End":"Cancel")),{useGlobalTarget:n,stopPropagation:i?.tap===!1})}unmount(){}}const E0=new WeakMap,Dg=new WeakMap,n3=t=>{const e=E0.get(t.target);e&&e(t)},s3=t=>{t.forEach(n3)};function i3({root:t,...e}){const n=t||document;Dg.has(n)||Dg.set(n,{});const i=Dg.get(n),a=JSON.stringify(e);return i[a]||(i[a]=new IntersectionObserver(s3,{root:t,...e})),i[a]}function r3(t,e,n){const i=i3(e);return E0.set(t,n),i.observe(t),()=>{E0.delete(t),i.unobserve(t)}}const a3={some:0,all:1};class o3 extends na{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:a="some",once:l}=e,c={root:n?n.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:a3[a]},h=f=>{const{isIntersecting:p}=f;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:v,onViewportLeave:b}=this.node.getProps(),w=p?v:b;w&&w(f)};return r3(this.node.current,c,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(l3(e,n))&&this.startObserver()}unmount(){}}function l3({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const c3={inView:{Feature:o3},tap:{Feature:t3},focus:{Feature:e3},hover:{Feature:ZM}},u3={layout:{ProjectionNode:RA,MeasureLayout:HA}},h3={...MM,...c3,...JM,...u3},Ee=NM(h3,RM),d3=()=>{};var Xw={};const qA=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let a=t.charCodeAt(i);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},f3=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const a=t[n++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],c=t[n++],h=t[n++],f=((a&7)<<18|(l&63)<<12|(c&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(f>>10)),e[i++]=String.fromCharCode(56320+(f&1023))}else{const l=t[n++],c=t[n++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},GA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<t.length;a+=3){const l=t[a],c=a+1<t.length,h=c?t[a+1]:0,f=a+2<t.length,p=f?t[a+2]:0,v=l>>2,b=(l&3)<<4|h>>4;let w=(h&15)<<2|p>>6,S=p&63;f||(S=64,c||(w=64)),i.push(n[v],n[b],n[w],n[S])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(qA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):f3(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],h=a<t.length?n[t.charAt(a)]:0;++a;const p=a<t.length?n[t.charAt(a)]:64;++a;const b=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||h==null||p==null||b==null)throw new m3;const w=l<<2|h>>4;if(i.push(w),p!==64){const S=h<<4&240|p>>2;if(i.push(S),b!==64){const M=p<<6&192|b;i.push(M)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class m3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const p3=function(t){const e=qA(t);return GA.encodeByteArray(e,!0)},of=function(t){return p3(t).replace(/\./g,"")},$A=function(t){try{return GA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function g3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const y3=()=>g3().__FIREBASE_DEFAULTS__,v3=()=>{if(typeof process>"u"||typeof Xw>"u")return;const t=Xw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},b3=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&$A(t[1]);return e&&JSON.parse(e)},Lf=()=>{try{return d3()||y3()||v3()||b3()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},KA=t=>Lf()?.emulatorHosts?.[t],YA=t=>{const e=KA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},XA=()=>Lf()?.config,QA=t=>Lf()?.[`_${t}`];class x3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}function Ja(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Hy(t){return(await fetch(t,{credentials:"include"})).ok}function WA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[of(JSON.stringify(n)),of(JSON.stringify(c)),""].join(".")}const Zc={};function _3(){const t={prod:[],emulator:[]};for(const e of Object.keys(Zc))Zc[e]?t.emulator.push(e):t.prod.push(e);return t}function w3(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Qw=!1;function qy(t,e){if(typeof window>"u"||typeof document>"u"||!Ja(window.location.host)||Zc[t]===e||Zc[t]||Qw)return;Zc[t]=e;function n(w){return`__firebase__banner__${w}`}const i="__firebase__banner",l=_3().prod.length>0;function c(){const w=document.getElementById(i);w&&w.remove()}function h(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function f(w,S){w.setAttribute("width","24"),w.setAttribute("id",S),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function p(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{Qw=!0,c()},w}function v(w,S){w.setAttribute("id",S),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function b(){const w=w3(i),S=n("text"),M=document.getElementById(S)||document.createElement("span"),O=n("learnmore"),V=document.getElementById(O)||document.createElement("a"),P=n("preprendIcon"),F=document.getElementById(P)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const H=w.element;h(H),v(V,O);const ee=p();f(F,P),H.append(F,M,V,ee),document.body.appendChild(H)}l?(M.innerText="Preview backend disconnected.",F.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(F.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,M.innerText="Preview backend running in this workspace."),M.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function vn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function T3(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vn())}function E3(){const t=Lf()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function S3(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function A3(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function k3(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function C3(){const t=vn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function N3(){return!E3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function R3(){try{return typeof indexedDB=="object"}catch{return!1}}function I3(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}const D3="FirebaseError";class yi extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=D3,Object.setPrototypeOf(this,yi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Cu.prototype.create)}}class Cu{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?j3(l,i):"Error",h=`${this.serviceName}: ${c} (${a}).`;return new yi(a,h,i)}}function j3(t,e){return t.replace(M3,(n,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const M3=/\{\$([^}]+)}/g;function V3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ga(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const a of n){if(!i.includes(a))return!1;const l=t[a],c=e[a];if(Ww(l)&&Ww(c)){if(!Ga(l,c))return!1}else if(l!==c)return!1}for(const a of i)if(!n.includes(a))return!1;return!0}function Ww(t){return t!==null&&typeof t=="object"}function Nu(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function O3(t,e){const n=new P3(t,e);return n.subscribe.bind(n)}class P3{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let a;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");L3(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:i},a.next===void 0&&(a.next=jg),a.error===void 0&&(a.error=jg),a.complete===void 0&&(a.complete=jg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function L3(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function jg(){}function bn(t){return t&&t._delegate?t._delegate:t}class Xr{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Va="[DEFAULT]";class U3{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new x3;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(B3(e))try{this.getOrInitializeService({instanceIdentifier:Va})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=Va){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Va){return this.instances.has(e)}getOptions(e=Va){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[l,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);i===h&&c.resolve(a)}return a}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(i)??new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const a of i)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:z3(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Va){return this.component?this.component.multipleInstances?e:Va:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function z3(t){return t===Va?void 0:t}function B3(t){return t.instantiationMode==="EAGER"}class F3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new U3(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var $e;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})($e||($e={}));const H3={debug:$e.DEBUG,verbose:$e.VERBOSE,info:$e.INFO,warn:$e.WARN,error:$e.ERROR,silent:$e.SILENT},q3=$e.INFO,G3={[$e.DEBUG]:"log",[$e.VERBOSE]:"log",[$e.INFO]:"info",[$e.WARN]:"warn",[$e.ERROR]:"error"},$3=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),a=G3[e];if(a)console[a](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Gy{constructor(e){this.name=e,this._logLevel=q3,this._logHandler=$3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in $e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?H3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,$e.DEBUG,...e),this._logHandler(this,$e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,$e.VERBOSE,...e),this._logHandler(this,$e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,$e.INFO,...e),this._logHandler(this,$e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,$e.WARN,...e),this._logHandler(this,$e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,$e.ERROR,...e),this._logHandler(this,$e.ERROR,...e)}}const K3=(t,e)=>e.some(n=>t instanceof n);let Jw,Zw;function Y3(){return Jw||(Jw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function X3(){return Zw||(Zw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const JA=new WeakMap,S0=new WeakMap,ZA=new WeakMap,Mg=new WeakMap,$y=new WeakMap;function Q3(t){const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(Fr(t.result)),a()},c=()=>{i(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&JA.set(n,t)}).catch(()=>{}),$y.set(e,t),e}function W3(t){if(S0.has(t))return;const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{i(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});S0.set(t,e)}let A0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return S0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ZA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Fr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function J3(t){A0=t(A0)}function Z3(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Vg(this),e,...n);return ZA.set(i,e.sort?e.sort():[e]),Fr(i)}:X3().includes(t)?function(...e){return t.apply(Vg(this),e),Fr(JA.get(this))}:function(...e){return Fr(t.apply(Vg(this),e))}}function e6(t){return typeof t=="function"?Z3(t):(t instanceof IDBTransaction&&W3(t),K3(t,Y3())?new Proxy(t,A0):t)}function Fr(t){if(t instanceof IDBRequest)return Q3(t);if(Mg.has(t))return Mg.get(t);const e=e6(t);return e!==t&&(Mg.set(t,e),$y.set(e,t)),e}const Vg=t=>$y.get(t);function t6(t,e,{blocked:n,upgrade:i,blocking:a,terminated:l}={}){const c=indexedDB.open(t,e),h=Fr(c);return i&&c.addEventListener("upgradeneeded",f=>{i(Fr(c.result),f.oldVersion,f.newVersion,Fr(c.transaction),f)}),n&&c.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),h.then(f=>{l&&f.addEventListener("close",()=>l()),a&&f.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const n6=["get","getKey","getAll","getAllKeys","count"],s6=["put","add","delete","clear"],Og=new Map;function eT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Og.get(e))return Og.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,a=s6.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(a||n6.includes(n)))return;const l=async function(c,...h){const f=this.transaction(c,a?"readwrite":"readonly");let p=f.store;return i&&(p=p.index(h.shift())),(await Promise.all([p[n](...h),a&&f.done]))[0]};return Og.set(e,l),l}J3(t=>({...t,get:(e,n,i)=>eT(e,n)||t.get(e,n,i),has:(e,n)=>!!eT(e,n)||t.has(e,n)}));class i6{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(r6(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function r6(t){return t.getComponent()?.type==="VERSION"}const k0="@firebase/app",tT="0.14.8";const Ki=new Gy("@firebase/app"),a6="@firebase/app-compat",o6="@firebase/analytics-compat",l6="@firebase/analytics",c6="@firebase/app-check-compat",u6="@firebase/app-check",h6="@firebase/auth",d6="@firebase/auth-compat",f6="@firebase/database",m6="@firebase/data-connect",p6="@firebase/database-compat",g6="@firebase/functions",y6="@firebase/functions-compat",v6="@firebase/installations",b6="@firebase/installations-compat",x6="@firebase/messaging",_6="@firebase/messaging-compat",w6="@firebase/performance",T6="@firebase/performance-compat",E6="@firebase/remote-config",S6="@firebase/remote-config-compat",A6="@firebase/storage",k6="@firebase/storage-compat",C6="@firebase/firestore",N6="@firebase/ai",R6="@firebase/firestore-compat",I6="firebase",D6="12.9.0";const C0="[DEFAULT]",j6={[k0]:"fire-core",[a6]:"fire-core-compat",[l6]:"fire-analytics",[o6]:"fire-analytics-compat",[u6]:"fire-app-check",[c6]:"fire-app-check-compat",[h6]:"fire-auth",[d6]:"fire-auth-compat",[f6]:"fire-rtdb",[m6]:"fire-data-connect",[p6]:"fire-rtdb-compat",[g6]:"fire-fn",[y6]:"fire-fn-compat",[v6]:"fire-iid",[b6]:"fire-iid-compat",[x6]:"fire-fcm",[_6]:"fire-fcm-compat",[w6]:"fire-perf",[T6]:"fire-perf-compat",[E6]:"fire-rc",[S6]:"fire-rc-compat",[A6]:"fire-gcs",[k6]:"fire-gcs-compat",[C6]:"fire-fst",[R6]:"fire-fst-compat",[N6]:"fire-vertex","fire-js":"fire-js",[I6]:"fire-js-all"};const lf=new Map,M6=new Map,N0=new Map;function nT(t,e){try{t.container.addComponent(e)}catch(n){Ki.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function $a(t){const e=t.name;if(N0.has(e))return Ki.debug(`There were multiple attempts to register component ${e}.`),!1;N0.set(e,t);for(const n of lf.values())nT(n,t);for(const n of M6.values())nT(n,t);return!0}function Uf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function as(t){return t==null?!1:t.settings!==void 0}const V6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hr=new Cu("app","Firebase",V6);class O6{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Xr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hr.create("app-deleted",{appName:this._name})}}const Za=D6;function e2(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:C0,automaticDataCollectionEnabled:!0,...e},a=i.name;if(typeof a!="string"||!a)throw Hr.create("bad-app-name",{appName:String(a)});if(n||(n=XA()),!n)throw Hr.create("no-options");const l=lf.get(a);if(l){if(Ga(n,l.options)&&Ga(i,l.config))return l;throw Hr.create("duplicate-app",{appName:a})}const c=new F3(a);for(const f of N0.values())c.addComponent(f);const h=new O6(n,i,c);return lf.set(a,h),h}function Ky(t=C0){const e=lf.get(t);if(!e&&t===C0&&XA())return e2();if(!e)throw Hr.create("no-app",{appName:t});return e}function oi(t,e,n){let i=j6[t]??t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${i}" with version "${e}":`];a&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ki.warn(c.join(" "));return}$a(new Xr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const P6="firebase-heartbeat-database",L6=1,du="firebase-heartbeat-store";let Pg=null;function t2(){return Pg||(Pg=t6(P6,L6,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(du)}catch(n){console.warn(n)}}}}).catch(t=>{throw Hr.create("idb-open",{originalErrorMessage:t.message})})),Pg}async function U6(t){try{const n=(await t2()).transaction(du),i=await n.objectStore(du).get(n2(t));return await n.done,i}catch(e){if(e instanceof yi)Ki.warn(e.message);else{const n=Hr.create("idb-get",{originalErrorMessage:e?.message});Ki.warn(n.message)}}}async function sT(t,e){try{const i=(await t2()).transaction(du,"readwrite");await i.objectStore(du).put(e,n2(t)),await i.done}catch(n){if(n instanceof yi)Ki.warn(n.message);else{const i=Hr.create("idb-set",{originalErrorMessage:n?.message});Ki.warn(i.message)}}}function n2(t){return`${t.name}!${t.options.appId}`}const z6=1024,B6=30;class F6{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new q6(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=iT();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>B6){const a=G6(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ki.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=iT(),{heartbeatsToSend:n,unsentEntries:i}=H6(this._heartbeatsCache.heartbeats),a=of(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Ki.warn(e),""}}}function iT(){return new Date().toISOString().substring(0,10)}function H6(t,e=z6){const n=[];let i=t.slice();for(const a of t){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),rT(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),rT(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class q6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return R3()?I3().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await U6(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return sT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return sT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function rT(t){return of(JSON.stringify({version:2,heartbeats:t})).length}function G6(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}function $6(t){$a(new Xr("platform-logger",e=>new i6(e),"PRIVATE")),$a(new Xr("heartbeat",e=>new F6(e),"PRIVATE")),oi(k0,tT,t),oi(k0,tT,"esm2020"),oi("fire-js","")}$6("");function s2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const K6=s2,i2=new Cu("auth","Firebase",s2());const cf=new Gy("@firebase/auth");function Y6(t,...e){cf.logLevel<=$e.WARN&&cf.warn(`Auth (${Za}): ${t}`,...e)}function zd(t,...e){cf.logLevel<=$e.ERROR&&cf.error(`Auth (${Za}): ${t}`,...e)}function mi(t,...e){throw Xy(t,...e)}function Ds(t,...e){return Xy(t,...e)}function Yy(t,e,n){const i={...K6(),[e]:n};return new Cu("auth","Firebase",i).create(e,{appName:t.name})}function Ba(t){return Yy(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function X6(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&mi(t,"argument-error"),Yy(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Xy(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return i2.create(t,...e)}function Me(t,e,...n){if(!t)throw Xy(e,...n)}function zi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw zd(e),new Error(e)}function Yi(t,e){t||zi(e)}function R0(){return typeof self<"u"&&self.location?.href||""}function Q6(){return aT()==="http:"||aT()==="https:"}function aT(){return typeof self<"u"&&self.location?.protocol||null}function W6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Q6()||A3()||"connection"in navigator)?navigator.onLine:!0}function J6(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class Ru{constructor(e,n){this.shortDelay=e,this.longDelay=n,Yi(n>e,"Short delay should be less than long delay!"),this.isMobile=T3()||k3()}get(){return W6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Qy(t,e){Yi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class r2{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;zi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;zi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;zi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Z6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const eV=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],tV=new Ru(3e4,6e4);function Wy(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Al(t,e,n,i,a={}){return a2(t,a,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const h=Nu({key:t.config.apiKey,...c}).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:f,...l};return S3()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&Ja(t.emulatorConfig.host)&&(p.credentials="include"),r2.fetch()(await o2(t,t.config.apiHost,n,h),p)})}async function a2(t,e,n){t._canInitEmulator=!1;const i={...Z6,...e};try{const a=new sV(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw bd(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const h=l.ok?c.errorMessage:c.error.message,[f,p]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw bd(t,"credential-already-in-use",c);if(f==="EMAIL_EXISTS")throw bd(t,"email-already-in-use",c);if(f==="USER_DISABLED")throw bd(t,"user-disabled",c);const v=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Yy(t,v,p);mi(t,v)}}catch(a){if(a instanceof yi)throw a;mi(t,"network-request-failed",{message:String(a)})}}async function nV(t,e,n,i,a={}){const l=await Al(t,e,n,i,a);return"mfaPendingCredential"in l&&mi(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function o2(t,e,n,i){const a=`${e}${n}?${i}`,l=t,c=l.config.emulator?Qy(t.config,a):`${t.config.apiScheme}://${a}`;return eV.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}class sV{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Ds(this.auth,"network-request-failed")),tV.get())})}}function bd(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const a=Ds(t,e,i);return a.customData._tokenResponse=n,a}async function iV(t,e){return Al(t,"POST","/v1/accounts:delete",e)}async function uf(t,e){return Al(t,"POST","/v1/accounts:lookup",e)}function eu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function rV(t,e=!1){const n=bn(t),i=await n.getIdToken(e),a=Jy(i);Me(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:i,authTime:eu(Lg(a.auth_time)),issuedAtTime:eu(Lg(a.iat)),expirationTime:eu(Lg(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Lg(t){return Number(t)*1e3}function Jy(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return zd("JWT malformed, contained fewer than 3 sections"),null;try{const a=$A(n);return a?JSON.parse(a):(zd("Failed to decode base64 JWT payload"),null)}catch(a){return zd("Caught error parsing JWT payload as JSON",a?.toString()),null}}function oT(t){const e=Jy(t);return Me(e,"internal-error"),Me(typeof e.exp<"u","internal-error"),Me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function fu(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof yi&&aV(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function aV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class oV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class I0{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=eu(this.lastLoginAt),this.creationTime=eu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function hf(t){const e=t.auth,n=await t.getIdToken(),i=await fu(t,uf(e,{idToken:n}));Me(i?.users.length,e,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const l=a.providerUserInfo?.length?l2(a.providerUserInfo):[],c=cV(t.providerData,l),h=t.isAnonymous,f=!(t.email&&a.passwordHash)&&!c?.length,p=h?f:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new I0(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(t,v)}async function lV(t){const e=bn(t);await hf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function cV(t,e){return[...t.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function l2(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function uV(t,e){const n=await a2(t,{},async()=>{const i=Nu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,c=await o2(t,a,"/v1/token",`key=${l}`),h=await t._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:h,body:i};return t.emulatorConfig&&Ja(t.emulatorConfig.host)&&(f.credentials="include"),r2.fetch()(c,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function hV(t,e){return Al(t,"POST","/v2/accounts:revokeToken",Wy(t,e))}class al{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Me(e.idToken,"internal-error"),Me(typeof e.idToken<"u","internal-error"),Me(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):oT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Me(e.length!==0,"internal-error");const n=oT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Me(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:a,expiresIn:l}=await uV(e,n);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:a,expirationTime:l}=n,c=new al;return i&&(Me(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),a&&(Me(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Me(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new al,this.toJSON())}_performRefresh(){return zi("not implemented")}}function Mr(t,e){Me(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Cs{constructor({uid:e,auth:n,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new oV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new I0(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await fu(this,this.stsTokenManager.getToken(this.auth,e));return Me(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return rV(this,e)}reload(){return lV(this)}_assign(e){this!==e&&(Me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Cs({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await hf(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(as(this.auth.app))return Promise.reject(Ba(this.auth));const e=await this.getIdToken();return await fu(this,iV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,h=n.tenantId??void 0,f=n._redirectEventId??void 0,p=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:b,emailVerified:w,isAnonymous:S,providerData:M,stsTokenManager:O}=n;Me(b&&O,e,"internal-error");const V=al.fromJSON(this.name,O);Me(typeof b=="string",e,"internal-error"),Mr(i,e.name),Mr(a,e.name),Me(typeof w=="boolean",e,"internal-error"),Me(typeof S=="boolean",e,"internal-error"),Mr(l,e.name),Mr(c,e.name),Mr(h,e.name),Mr(f,e.name),Mr(p,e.name),Mr(v,e.name);const P=new Cs({uid:b,auth:e,email:a,emailVerified:w,displayName:i,isAnonymous:S,photoURL:c,phoneNumber:l,tenantId:h,stsTokenManager:V,createdAt:p,lastLoginAt:v});return M&&Array.isArray(M)&&(P.providerData=M.map(F=>({...F}))),f&&(P._redirectEventId=f),P}static async _fromIdTokenResponse(e,n,i=!1){const a=new al;a.updateFromServerResponse(n);const l=new Cs({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await hf(l),l}static async _fromGetAccountInfoResponse(e,n,i){const a=n.users[0];Me(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?l2(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,h=new al;h.updateFromIdToken(i);const f=new Cs({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new I0(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(f,p),f}}const lT=new Map;function Bi(t){Yi(t instanceof Function,"Expected a class definition");let e=lT.get(t);return e?(Yi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,lT.set(t,e),e)}class c2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}c2.type="NONE";const cT=c2;function Bd(t,e,n){return`firebase:${t}:${e}:${n}`}class ol{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=Bd(this.userKey,a.apiKey,l),this.fullPersistenceKey=Bd("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await uf(this.auth,{idToken:e}).catch(()=>{});return n?Cs._fromGetAccountInfoResponse(this.auth,n,e):null}return Cs._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new ol(Bi(cT),e,i);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||Bi(cT);const c=Bd(i,e.config.apiKey,e.name);let h=null;for(const p of n)try{const v=await p._get(c);if(v){let b;if(typeof v=="string"){const w=await uf(e,{idToken:v}).catch(()=>{});if(!w)break;b=await Cs._fromGetAccountInfoResponse(e,w,v)}else b=Cs._fromJSON(e,v);p!==l&&(h=b),l=p;break}}catch{}const f=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!f.length?new ol(l,e,i):(l=f[0],h&&await l._set(c,h.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new ol(l,e,i))}}function uT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(f2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(u2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(p2(e))return"Blackberry";if(g2(e))return"Webos";if(h2(e))return"Safari";if((e.includes("chrome/")||d2(e))&&!e.includes("edge/"))return"Chrome";if(m2(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if(i?.length===2)return i[1]}return"Other"}function u2(t=vn()){return/firefox\//i.test(t)}function h2(t=vn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function d2(t=vn()){return/crios\//i.test(t)}function f2(t=vn()){return/iemobile/i.test(t)}function m2(t=vn()){return/android/i.test(t)}function p2(t=vn()){return/blackberry/i.test(t)}function g2(t=vn()){return/webos/i.test(t)}function Zy(t=vn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function dV(t=vn()){return Zy(t)&&!!window.navigator?.standalone}function fV(){return C3()&&document.documentMode===10}function y2(t=vn()){return Zy(t)||m2(t)||g2(t)||p2(t)||/windows phone/i.test(t)||f2(t)}function v2(t,e=[]){let n;switch(t){case"Browser":n=uT(vn());break;case"Worker":n=`${uT(vn())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Za}/${i}`}class mV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=l=>new Promise((c,h)=>{try{const f=e(l);c(f)}catch(f){h(f)}});i.onAbort=n,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function pV(t,e={}){return Al(t,"GET","/v2/passwordPolicy",Wy(t,e))}const gV=6;class yV{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??gV,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class vV{constructor(e,n,i,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new hT(this),this.idTokenSubscription=new hT(this),this.beforeStateQueue=new mV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=i2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Bi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ol.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await uf(this,{idToken:e}),i=await Cs._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(as(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=i?._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===c)&&h?.user&&(i=h.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await hf(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=J6()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(as(this.app))return Promise.reject(Ba(this));const n=e?bn(e):null;return n&&Me(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return as(this.app)?Promise.reject(Ba(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return as(this.app)?Promise.reject(Ba(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Bi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await pV(this),n=new yV(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Cu("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await hV(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Bi(e)||this._popupRedirectResolver;Me(n,this,"argument-error"),this.redirectPersistenceManager=await ol.create(this,[Bi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Me(h,this,"internal-error"),h.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,i,a);return()=>{c=!0,f()}}else{const f=e.addObserver(n);return()=>{c=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=v2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(as(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Y6(`Error while retrieving App Check token: ${e.error}`),e?.token}}function zf(t){return bn(t)}class hT{constructor(e){this.auth=e,this.observer=null,this.addObserver=O3(n=>this.observer=n)}get next(){return Me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ev={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function bV(t){ev=t}function xV(t){return ev.loadJS(t)}function _V(){return ev.gapiScript}function wV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function TV(t,e){const n=Uf(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Ga(l,e??{}))return a;mi(a,"already-initialized")}return n.initialize({options:e})}function EV(t,e){const n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(Bi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}function SV(t,e,n){const i=zf(t);Me(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=b2(e),{host:c,port:h}=AV(e),f=h===null?"":`:${h}`,p={url:`${l}//${c}${f}/`},v=Object.freeze({host:c,port:h,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){Me(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Me(Ga(p,i.config.emulator)&&Ga(v,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=p,i.emulatorConfig=v,i.settings.appVerificationDisabledForTesting=!0,Ja(c)?(Hy(`${l}//${c}${f}`),qy("Auth",!0)):kV()}function b2(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function AV(t){const e=b2(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:dT(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:dT(c)}}}function dT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function kV(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class x2{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return zi("not implemented")}_getIdTokenResponse(e){return zi("not implemented")}_linkToIdToken(e,n){return zi("not implemented")}_getReauthenticationResolver(e){return zi("not implemented")}}async function ll(t,e){return nV(t,"POST","/v1/accounts:signInWithIdp",Wy(t,e))}const CV="http://localhost";class Ka extends x2{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ka(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):mi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a,...l}=n;if(!i||!a)return null;const c=new Ka(i,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return ll(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,ll(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ll(e,n)}buildRequest(){const e={requestUri:CV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Nu(n)}return e}}class tv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Iu extends tv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Pr extends Iu{constructor(){super("facebook.com")}static credential(e){return Ka._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pr.credentialFromTaggedObject(e)}static credentialFromError(e){return Pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pr.credential(e.oauthAccessToken)}catch{return null}}}Pr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Pr.PROVIDER_ID="facebook.com";class Ui extends Iu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ka._fromParams({providerId:Ui.PROVIDER_ID,signInMethod:Ui.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ui.credentialFromTaggedObject(e)}static credentialFromError(e){return Ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Ui.credential(n,i)}catch{return null}}}Ui.GOOGLE_SIGN_IN_METHOD="google.com";Ui.PROVIDER_ID="google.com";class Lr extends Iu{constructor(){super("github.com")}static credential(e){return Ka._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Lr.credentialFromTaggedObject(e)}static credentialFromError(e){return Lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Lr.credential(e.oauthAccessToken)}catch{return null}}}Lr.GITHUB_SIGN_IN_METHOD="github.com";Lr.PROVIDER_ID="github.com";class Ur extends Iu{constructor(){super("twitter.com")}static credential(e,n){return Ka._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ur.credentialFromTaggedObject(e)}static credentialFromError(e){return Ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Ur.credential(n,i)}catch{return null}}}Ur.TWITTER_SIGN_IN_METHOD="twitter.com";Ur.PROVIDER_ID="twitter.com";class dl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,a=!1){const l=await Cs._fromIdTokenResponse(e,i,a),c=fT(i);return new dl({user:l,providerId:c,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const a=fT(i);return new dl({user:e,providerId:a,_tokenResponse:i,operationType:n})}}function fT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class df extends yi{constructor(e,n,i,a){super(n.code,n.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,df.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,a){return new df(e,n,i,a)}}function _2(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?df._fromErrorAndOperation(t,l,e,i):l})}async function NV(t,e,n=!1){const i=await fu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return dl._forOperation(t,"link",i)}async function RV(t,e,n=!1){const{auth:i}=t;if(as(i.app))return Promise.reject(Ba(i));const a="reauthenticate";try{const l=await fu(t,_2(i,a,e,t),n);Me(l.idToken,i,"internal-error");const c=Jy(l.idToken);Me(c,i,"internal-error");const{sub:h}=c;return Me(t.uid===h,i,"user-mismatch"),dl._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&mi(i,"user-mismatch"),l}}async function IV(t,e,n=!1){if(as(t.app))return Promise.reject(Ba(t));const i="signIn",a=await _2(t,i,e),l=await dl._fromIdTokenResponse(t,i,a);return n||await t._updateCurrentUser(l.user),l}function DV(t,e,n,i){return bn(t).onIdTokenChanged(e,n,i)}function jV(t,e,n){return bn(t).beforeAuthStateChanged(e,n)}function MV(t,e,n,i){return bn(t).onAuthStateChanged(e,n,i)}function VV(t){return bn(t).signOut()}const ff="__sak";class w2{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ff,"1"),this.storage.removeItem(ff),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const OV=1e3,PV=10;class T2 extends w2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=y2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),a=this.localCache[n];i!==a&&e(n,a,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,h,f)=>{this.notifyListeners(c,f)});return}const i=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!n&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);fV()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,PV):a()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},OV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}T2.type="LOCAL";const LV=T2;class E2 extends w2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}E2.type="SESSION";const S2=E2;function UV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Bf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const i=new Bf(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const h=Array.from(c).map(async p=>p(n.origin,l)),f=await UV(h);n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Bf.receivers=[];function nv(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}class zV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((h,f)=>{const p=nv("",20);a.port1.start();const v=setTimeout(()=>{f(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(b){const w=b;if(w.data.eventId===p)switch(w.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),h(w.data.response);break;default:clearTimeout(v),clearTimeout(l),f(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function li(){return window}function BV(t){li().location.href=t}function A2(){return typeof li().WorkerGlobalScope<"u"&&typeof li().importScripts=="function"}async function FV(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function HV(){return navigator?.serviceWorker?.controller||null}function qV(){return A2()?self:null}const k2="firebaseLocalStorageDb",GV=1,mf="firebaseLocalStorage",C2="fbase_key";class Du{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ff(t,e){return t.transaction([mf],e?"readwrite":"readonly").objectStore(mf)}function $V(){const t=indexedDB.deleteDatabase(k2);return new Du(t).toPromise()}function D0(){const t=indexedDB.open(k2,GV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(mf,{keyPath:C2})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(mf)?e(i):(i.close(),await $V(),e(await D0()))})})}async function mT(t,e,n){const i=Ff(t,!0).put({[C2]:e,value:n});return new Du(i).toPromise()}async function KV(t,e){const n=Ff(t,!1).get(e),i=await new Du(n).toPromise();return i===void 0?null:i.value}function pT(t,e){const n=Ff(t,!0).delete(e);return new Du(n).toPromise()}const YV=800,XV=3;class N2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await D0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>XV)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return A2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Bf._getInstance(qV()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await FV(),!this.activeServiceWorker)return;this.sender=new zV(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||HV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await D0();return await mT(e,ff,"1"),await pT(e,ff),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>mT(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>KV(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>pT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Ff(a,!1).getAll();return new Du(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),YV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}N2.type="LOCAL";const QV=N2;new Ru(3e4,6e4);function R2(t,e){return e?Bi(e):(Me(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class sv extends x2{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ll(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ll(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ll(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function WV(t){return IV(t.auth,new sv(t),t.bypassAuthState)}function JV(t){const{auth:e,user:n}=t;return Me(n,e,"internal-error"),RV(n,new sv(t),t.bypassAuthState)}async function ZV(t){const{auth:e,user:n}=t;return Me(n,e,"internal-error"),NV(n,new sv(t),t.bypassAuthState)}class I2{constructor(e,n,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:a,tenantId:l,error:c,type:h}=e;if(c){this.reject(c);return}const f={auth:this.auth,requestUri:n,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return WV;case"linkViaPopup":case"linkViaRedirect":return ZV;case"reauthViaPopup":case"reauthViaRedirect":return JV;default:mi(this.auth,"internal-error")}}resolve(e){Yi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Yi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const eO=new Ru(2e3,1e4);async function tO(t,e,n){if(as(t.app))return Promise.reject(Ds(t,"operation-not-supported-in-this-environment"));const i=zf(t);X6(t,e,tv);const a=R2(i,n);return new La(i,"signInViaPopup",e,a).executeNotNull()}class La extends I2{constructor(e,n,i,a,l){super(e,n,a,l),this.provider=i,this.authWindow=null,this.pollId=null,La.currentPopupAction&&La.currentPopupAction.cancel(),La.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Me(e,this.auth,"internal-error"),e}async onExecution(){Yi(this.filter.length===1,"Popup operations only handle one event");const e=nv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ds(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ds(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,La.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ds(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,eO.get())};e()}}La.currentPopupAction=null;const nO="pendingRedirect",Fd=new Map;class sO extends I2{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Fd.get(this.auth._key());if(!e){try{const i=await iO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Fd.set(this.auth._key(),e)}return this.bypassAuthState||Fd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function iO(t,e){const n=oO(e),i=aO(t);if(!await i._isAvailable())return!1;const a=await i._get(n)==="true";return await i._remove(n),a}function rO(t,e){Fd.set(t._key(),e)}function aO(t){return Bi(t._redirectPersistence)}function oO(t){return Bd(nO,t.config.apiKey,t.name)}async function lO(t,e,n=!1){if(as(t.app))return Promise.reject(Ba(t));const i=zf(t),a=R2(i,e),c=await new sO(i,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}const cO=600*1e3;class uO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!hO(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!D2(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Ds(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=cO&&this.cachedEventUids.clear(),this.cachedEventUids.has(gT(e))}saveEventToCache(e){this.cachedEventUids.add(gT(e)),this.lastProcessedEventTime=Date.now()}}function gT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function D2({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function hO(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return D2(t);default:return!1}}async function dO(t,e={}){return Al(t,"GET","/v1/projects",e)}const fO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mO=/^https?/;async function pO(t){if(t.config.emulator)return;const{authorizedDomains:e}=await dO(t);for(const n of e)try{if(gO(n))return}catch{}mi(t,"unauthorized-domain")}function gO(t){const e=R0(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===i}if(!mO.test(n))return!1;if(fO.test(t))return i===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}const yO=new Ru(3e4,6e4);function yT(){const t=li().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function vO(t){return new Promise((e,n)=>{function i(){yT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{yT(),n(Ds(t,"network-request-failed"))},timeout:yO.get()})}if(li().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(li().gapi?.load)i();else{const a=wV("iframefcb");return li()[a]=()=>{gapi.load?i():n(Ds(t,"network-request-failed"))},xV(`${_V()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Hd=null,e})}let Hd=null;function bO(t){return Hd=Hd||vO(t),Hd}const xO=new Ru(5e3,15e3),_O="__/auth/iframe",wO="emulator/auth/iframe",TO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},EO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function SO(t){const e=t.config;Me(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Qy(e,wO):`https://${t.config.authDomain}/${_O}`,i={apiKey:e.apiKey,appName:t.name,v:Za},a=EO.get(t.config.apiHost);a&&(i.eid=a);const l=t._getFrameworks();return l.length&&(i.fw=l.join(",")),`${n}?${Nu(i).slice(1)}`}async function AO(t){const e=await bO(t),n=li().gapi;return Me(n,t,"internal-error"),e.open({where:document.body,url:SO(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:TO,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const c=Ds(t,"network-request-failed"),h=li().setTimeout(()=>{l(c)},xO.get());function f(){li().clearTimeout(h),a(i)}i.ping(f).then(f,()=>{l(c)})}))}const kO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},CO=500,NO=600,RO="_blank",IO="http://localhost";class vT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function DO(t,e,n,i=CO,a=NO){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const f={...kO,width:i.toString(),height:a.toString(),top:l,left:c},p=vn().toLowerCase();n&&(h=d2(p)?RO:n),u2(p)&&(e=e||IO,f.scrollbars="yes");const v=Object.entries(f).reduce((w,[S,M])=>`${w}${S}=${M},`,"");if(dV(p)&&h!=="_self")return jO(e||"",h),new vT(null);const b=window.open(e||"",h,v);Me(b,t,"popup-blocked");try{b.focus()}catch{}return new vT(b)}function jO(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}const MO="__/auth/handler",VO="emulator/auth/handler",OO=encodeURIComponent("fac");async function bT(t,e,n,i,a,l){Me(t.config.authDomain,t,"auth-domain-config-required"),Me(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:Za,eventId:a};if(e instanceof tv){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",V3(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,b]of Object.entries({}))c[v]=b}if(e instanceof Iu){const v=e.getScopes().filter(b=>b!=="");v.length>0&&(c.scopes=v.join(","))}t.tenantId&&(c.tid=t.tenantId);const h=c;for(const v of Object.keys(h))h[v]===void 0&&delete h[v];const f=await t._getAppCheckToken(),p=f?`#${OO}=${encodeURIComponent(f)}`:"";return`${PO(t)}?${Nu(h).slice(1)}${p}`}function PO({config:t}){return t.emulator?Qy(t,VO):`https://${t.authDomain}/${MO}`}const Ug="webStorageSupport";class LO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=S2,this._completeRedirectFn=lO,this._overrideRedirectResult=rO}async _openPopup(e,n,i,a){Yi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await bT(e,n,i,R0(),a);return DO(e,l,nv())}async _openRedirect(e,n,i,a){await this._originValidation(e);const l=await bT(e,n,i,R0(),a);return BV(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Yi(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await AO(e),i=new uO(e);return n.register("authEvent",a=>(Me(a?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ug,{type:Ug},a=>{const l=a?.[0]?.[Ug];l!==void 0&&n(!!l),mi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=pO(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return y2()||h2()||Zy()}}const UO=LO;var xT="@firebase/auth",_T="1.12.0";class zO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function BO(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function FO(t){$a(new Xr("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=i.options;Me(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:c,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:v2(t)},p=new vV(i,a,l,f);return EV(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),$a(new Xr("auth-internal",e=>{const n=zf(e.getProvider("auth").getImmediate());return(i=>new zO(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),oi(xT,_T,BO(t)),oi(xT,_T,"esm2020")}const HO=300,qO=QA("authIdTokenMaxAge")||HO;let wT=null;const GO=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>qO)return;const a=n?.token;wT!==a&&(wT=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function $O(t=Ky()){const e=Uf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=TV(t,{popupRedirectResolver:UO,persistence:[QV,LV,S2]}),i=QA("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=GO(l.toString());jV(n,c,()=>c(n.currentUser)),DV(n,h=>c(h))}}const a=KA("auth");return a&&SV(n,`http://${a}`),n}function KO(){return document.getElementsByTagName("head")?.[0]??document}bV({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=a=>{const l=Ds("internal-error");l.customData=a,n(l)},i.type="text/javascript",i.charset="UTF-8",KO().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});FO("Browser");var YO="firebase",XO="12.9.0";oi(YO,XO,"app");var TT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var qr,j2;(function(){var t;function e(j,E){function R(){}R.prototype=E.prototype,j.F=E.prototype,j.prototype=new R,j.prototype.constructor=j,j.D=function(I,D,L){for(var C=Array(arguments.length-2),fe=2;fe<arguments.length;fe++)C[fe-2]=arguments[fe];return E.prototype[D].apply(I,C)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(j,E,R){R||(R=0);const I=Array(16);if(typeof E=="string")for(var D=0;D<16;++D)I[D]=E.charCodeAt(R++)|E.charCodeAt(R++)<<8|E.charCodeAt(R++)<<16|E.charCodeAt(R++)<<24;else for(D=0;D<16;++D)I[D]=E[R++]|E[R++]<<8|E[R++]<<16|E[R++]<<24;E=j.g[0],R=j.g[1],D=j.g[2];let L=j.g[3],C;C=E+(L^R&(D^L))+I[0]+3614090360&4294967295,E=R+(C<<7&4294967295|C>>>25),C=L+(D^E&(R^D))+I[1]+3905402710&4294967295,L=E+(C<<12&4294967295|C>>>20),C=D+(R^L&(E^R))+I[2]+606105819&4294967295,D=L+(C<<17&4294967295|C>>>15),C=R+(E^D&(L^E))+I[3]+3250441966&4294967295,R=D+(C<<22&4294967295|C>>>10),C=E+(L^R&(D^L))+I[4]+4118548399&4294967295,E=R+(C<<7&4294967295|C>>>25),C=L+(D^E&(R^D))+I[5]+1200080426&4294967295,L=E+(C<<12&4294967295|C>>>20),C=D+(R^L&(E^R))+I[6]+2821735955&4294967295,D=L+(C<<17&4294967295|C>>>15),C=R+(E^D&(L^E))+I[7]+4249261313&4294967295,R=D+(C<<22&4294967295|C>>>10),C=E+(L^R&(D^L))+I[8]+1770035416&4294967295,E=R+(C<<7&4294967295|C>>>25),C=L+(D^E&(R^D))+I[9]+2336552879&4294967295,L=E+(C<<12&4294967295|C>>>20),C=D+(R^L&(E^R))+I[10]+4294925233&4294967295,D=L+(C<<17&4294967295|C>>>15),C=R+(E^D&(L^E))+I[11]+2304563134&4294967295,R=D+(C<<22&4294967295|C>>>10),C=E+(L^R&(D^L))+I[12]+1804603682&4294967295,E=R+(C<<7&4294967295|C>>>25),C=L+(D^E&(R^D))+I[13]+4254626195&4294967295,L=E+(C<<12&4294967295|C>>>20),C=D+(R^L&(E^R))+I[14]+2792965006&4294967295,D=L+(C<<17&4294967295|C>>>15),C=R+(E^D&(L^E))+I[15]+1236535329&4294967295,R=D+(C<<22&4294967295|C>>>10),C=E+(D^L&(R^D))+I[1]+4129170786&4294967295,E=R+(C<<5&4294967295|C>>>27),C=L+(R^D&(E^R))+I[6]+3225465664&4294967295,L=E+(C<<9&4294967295|C>>>23),C=D+(E^R&(L^E))+I[11]+643717713&4294967295,D=L+(C<<14&4294967295|C>>>18),C=R+(L^E&(D^L))+I[0]+3921069994&4294967295,R=D+(C<<20&4294967295|C>>>12),C=E+(D^L&(R^D))+I[5]+3593408605&4294967295,E=R+(C<<5&4294967295|C>>>27),C=L+(R^D&(E^R))+I[10]+38016083&4294967295,L=E+(C<<9&4294967295|C>>>23),C=D+(E^R&(L^E))+I[15]+3634488961&4294967295,D=L+(C<<14&4294967295|C>>>18),C=R+(L^E&(D^L))+I[4]+3889429448&4294967295,R=D+(C<<20&4294967295|C>>>12),C=E+(D^L&(R^D))+I[9]+568446438&4294967295,E=R+(C<<5&4294967295|C>>>27),C=L+(R^D&(E^R))+I[14]+3275163606&4294967295,L=E+(C<<9&4294967295|C>>>23),C=D+(E^R&(L^E))+I[3]+4107603335&4294967295,D=L+(C<<14&4294967295|C>>>18),C=R+(L^E&(D^L))+I[8]+1163531501&4294967295,R=D+(C<<20&4294967295|C>>>12),C=E+(D^L&(R^D))+I[13]+2850285829&4294967295,E=R+(C<<5&4294967295|C>>>27),C=L+(R^D&(E^R))+I[2]+4243563512&4294967295,L=E+(C<<9&4294967295|C>>>23),C=D+(E^R&(L^E))+I[7]+1735328473&4294967295,D=L+(C<<14&4294967295|C>>>18),C=R+(L^E&(D^L))+I[12]+2368359562&4294967295,R=D+(C<<20&4294967295|C>>>12),C=E+(R^D^L)+I[5]+4294588738&4294967295,E=R+(C<<4&4294967295|C>>>28),C=L+(E^R^D)+I[8]+2272392833&4294967295,L=E+(C<<11&4294967295|C>>>21),C=D+(L^E^R)+I[11]+1839030562&4294967295,D=L+(C<<16&4294967295|C>>>16),C=R+(D^L^E)+I[14]+4259657740&4294967295,R=D+(C<<23&4294967295|C>>>9),C=E+(R^D^L)+I[1]+2763975236&4294967295,E=R+(C<<4&4294967295|C>>>28),C=L+(E^R^D)+I[4]+1272893353&4294967295,L=E+(C<<11&4294967295|C>>>21),C=D+(L^E^R)+I[7]+4139469664&4294967295,D=L+(C<<16&4294967295|C>>>16),C=R+(D^L^E)+I[10]+3200236656&4294967295,R=D+(C<<23&4294967295|C>>>9),C=E+(R^D^L)+I[13]+681279174&4294967295,E=R+(C<<4&4294967295|C>>>28),C=L+(E^R^D)+I[0]+3936430074&4294967295,L=E+(C<<11&4294967295|C>>>21),C=D+(L^E^R)+I[3]+3572445317&4294967295,D=L+(C<<16&4294967295|C>>>16),C=R+(D^L^E)+I[6]+76029189&4294967295,R=D+(C<<23&4294967295|C>>>9),C=E+(R^D^L)+I[9]+3654602809&4294967295,E=R+(C<<4&4294967295|C>>>28),C=L+(E^R^D)+I[12]+3873151461&4294967295,L=E+(C<<11&4294967295|C>>>21),C=D+(L^E^R)+I[15]+530742520&4294967295,D=L+(C<<16&4294967295|C>>>16),C=R+(D^L^E)+I[2]+3299628645&4294967295,R=D+(C<<23&4294967295|C>>>9),C=E+(D^(R|~L))+I[0]+4096336452&4294967295,E=R+(C<<6&4294967295|C>>>26),C=L+(R^(E|~D))+I[7]+1126891415&4294967295,L=E+(C<<10&4294967295|C>>>22),C=D+(E^(L|~R))+I[14]+2878612391&4294967295,D=L+(C<<15&4294967295|C>>>17),C=R+(L^(D|~E))+I[5]+4237533241&4294967295,R=D+(C<<21&4294967295|C>>>11),C=E+(D^(R|~L))+I[12]+1700485571&4294967295,E=R+(C<<6&4294967295|C>>>26),C=L+(R^(E|~D))+I[3]+2399980690&4294967295,L=E+(C<<10&4294967295|C>>>22),C=D+(E^(L|~R))+I[10]+4293915773&4294967295,D=L+(C<<15&4294967295|C>>>17),C=R+(L^(D|~E))+I[1]+2240044497&4294967295,R=D+(C<<21&4294967295|C>>>11),C=E+(D^(R|~L))+I[8]+1873313359&4294967295,E=R+(C<<6&4294967295|C>>>26),C=L+(R^(E|~D))+I[15]+4264355552&4294967295,L=E+(C<<10&4294967295|C>>>22),C=D+(E^(L|~R))+I[6]+2734768916&4294967295,D=L+(C<<15&4294967295|C>>>17),C=R+(L^(D|~E))+I[13]+1309151649&4294967295,R=D+(C<<21&4294967295|C>>>11),C=E+(D^(R|~L))+I[4]+4149444226&4294967295,E=R+(C<<6&4294967295|C>>>26),C=L+(R^(E|~D))+I[11]+3174756917&4294967295,L=E+(C<<10&4294967295|C>>>22),C=D+(E^(L|~R))+I[2]+718787259&4294967295,D=L+(C<<15&4294967295|C>>>17),C=R+(L^(D|~E))+I[9]+3951481745&4294967295,j.g[0]=j.g[0]+E&4294967295,j.g[1]=j.g[1]+(D+(C<<21&4294967295|C>>>11))&4294967295,j.g[2]=j.g[2]+D&4294967295,j.g[3]=j.g[3]+L&4294967295}i.prototype.v=function(j,E){E===void 0&&(E=j.length);const R=E-this.blockSize,I=this.C;let D=this.h,L=0;for(;L<E;){if(D==0)for(;L<=R;)a(this,j,L),L+=this.blockSize;if(typeof j=="string"){for(;L<E;)if(I[D++]=j.charCodeAt(L++),D==this.blockSize){a(this,I),D=0;break}}else for(;L<E;)if(I[D++]=j[L++],D==this.blockSize){a(this,I),D=0;break}}this.h=D,this.o+=E},i.prototype.A=function(){var j=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);j[0]=128;for(var E=1;E<j.length-8;++E)j[E]=0;E=this.o*8;for(var R=j.length-8;R<j.length;++R)j[R]=E&255,E/=256;for(this.v(j),j=Array(16),E=0,R=0;R<4;++R)for(let I=0;I<32;I+=8)j[E++]=this.g[R]>>>I&255;return j};function l(j,E){var R=h;return Object.prototype.hasOwnProperty.call(R,j)?R[j]:R[j]=E(j)}function c(j,E){this.h=E;const R=[];let I=!0;for(let D=j.length-1;D>=0;D--){const L=j[D]|0;I&&L==E||(R[D]=L,I=!1)}this.g=R}var h={};function f(j){return-128<=j&&j<128?l(j,function(E){return new c([E|0],E<0?-1:0)}):new c([j|0],j<0?-1:0)}function p(j){if(isNaN(j)||!isFinite(j))return b;if(j<0)return V(p(-j));const E=[];let R=1;for(let I=0;j>=R;I++)E[I]=j/R|0,R*=4294967296;return new c(E,0)}function v(j,E){if(j.length==0)throw Error("number format error: empty string");if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(j.charAt(0)=="-")return V(v(j.substring(1),E));if(j.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=p(Math.pow(E,8));let I=b;for(let L=0;L<j.length;L+=8){var D=Math.min(8,j.length-L);const C=parseInt(j.substring(L,L+D),E);D<8?(D=p(Math.pow(E,D)),I=I.j(D).add(p(C))):(I=I.j(R),I=I.add(p(C)))}return I}var b=f(0),w=f(1),S=f(16777216);t=c.prototype,t.m=function(){if(O(this))return-V(this).m();let j=0,E=1;for(let R=0;R<this.g.length;R++){const I=this.i(R);j+=(I>=0?I:4294967296+I)*E,E*=4294967296}return j},t.toString=function(j){if(j=j||10,j<2||36<j)throw Error("radix out of range: "+j);if(M(this))return"0";if(O(this))return"-"+V(this).toString(j);const E=p(Math.pow(j,6));var R=this;let I="";for(;;){const D=ee(R,E).g;R=P(R,D.j(E));let L=((R.g.length>0?R.g[0]:R.h)>>>0).toString(j);if(R=D,M(R))return L+I;for(;L.length<6;)L="0"+L;I=L+I}},t.i=function(j){return j<0?0:j<this.g.length?this.g[j]:this.h};function M(j){if(j.h!=0)return!1;for(let E=0;E<j.g.length;E++)if(j.g[E]!=0)return!1;return!0}function O(j){return j.h==-1}t.l=function(j){return j=P(this,j),O(j)?-1:M(j)?0:1};function V(j){const E=j.g.length,R=[];for(let I=0;I<E;I++)R[I]=~j.g[I];return new c(R,~j.h).add(w)}t.abs=function(){return O(this)?V(this):this},t.add=function(j){const E=Math.max(this.g.length,j.g.length),R=[];let I=0;for(let D=0;D<=E;D++){let L=I+(this.i(D)&65535)+(j.i(D)&65535),C=(L>>>16)+(this.i(D)>>>16)+(j.i(D)>>>16);I=C>>>16,L&=65535,C&=65535,R[D]=C<<16|L}return new c(R,R[R.length-1]&-2147483648?-1:0)};function P(j,E){return j.add(V(E))}t.j=function(j){if(M(this)||M(j))return b;if(O(this))return O(j)?V(this).j(V(j)):V(V(this).j(j));if(O(j))return V(this.j(V(j)));if(this.l(S)<0&&j.l(S)<0)return p(this.m()*j.m());const E=this.g.length+j.g.length,R=[];for(var I=0;I<2*E;I++)R[I]=0;for(I=0;I<this.g.length;I++)for(let D=0;D<j.g.length;D++){const L=this.i(I)>>>16,C=this.i(I)&65535,fe=j.i(D)>>>16,me=j.i(D)&65535;R[2*I+2*D]+=C*me,F(R,2*I+2*D),R[2*I+2*D+1]+=L*me,F(R,2*I+2*D+1),R[2*I+2*D+1]+=C*fe,F(R,2*I+2*D+1),R[2*I+2*D+2]+=L*fe,F(R,2*I+2*D+2)}for(j=0;j<E;j++)R[j]=R[2*j+1]<<16|R[2*j];for(j=E;j<2*E;j++)R[j]=0;return new c(R,0)};function F(j,E){for(;(j[E]&65535)!=j[E];)j[E+1]+=j[E]>>>16,j[E]&=65535,E++}function H(j,E){this.g=j,this.h=E}function ee(j,E){if(M(E))throw Error("division by zero");if(M(j))return new H(b,b);if(O(j))return E=ee(V(j),E),new H(V(E.g),V(E.h));if(O(E))return E=ee(j,V(E)),new H(V(E.g),E.h);if(j.g.length>30){if(O(j)||O(E))throw Error("slowDivide_ only works with positive integers.");for(var R=w,I=E;I.l(j)<=0;)R=se(R),I=se(I);var D=re(R,1),L=re(I,1);for(I=re(I,2),R=re(R,2);!M(I);){var C=L.add(I);C.l(j)<=0&&(D=D.add(R),L=C),I=re(I,1),R=re(R,1)}return E=P(j,D.j(E)),new H(D,E)}for(D=b;j.l(E)>=0;){for(R=Math.max(1,Math.floor(j.m()/E.m())),I=Math.ceil(Math.log(R)/Math.LN2),I=I<=48?1:Math.pow(2,I-48),L=p(R),C=L.j(E);O(C)||C.l(j)>0;)R-=I,L=p(R),C=L.j(E);M(L)&&(L=w),D=D.add(L),j=P(j,C)}return new H(D,j)}t.B=function(j){return ee(this,j).h},t.and=function(j){const E=Math.max(this.g.length,j.g.length),R=[];for(let I=0;I<E;I++)R[I]=this.i(I)&j.i(I);return new c(R,this.h&j.h)},t.or=function(j){const E=Math.max(this.g.length,j.g.length),R=[];for(let I=0;I<E;I++)R[I]=this.i(I)|j.i(I);return new c(R,this.h|j.h)},t.xor=function(j){const E=Math.max(this.g.length,j.g.length),R=[];for(let I=0;I<E;I++)R[I]=this.i(I)^j.i(I);return new c(R,this.h^j.h)};function se(j){const E=j.g.length+1,R=[];for(let I=0;I<E;I++)R[I]=j.i(I)<<1|j.i(I-1)>>>31;return new c(R,j.h)}function re(j,E){const R=E>>5;E%=32;const I=j.g.length-R,D=[];for(let L=0;L<I;L++)D[L]=E>0?j.i(L+R)>>>E|j.i(L+R+1)<<32-E:j.i(L+R);return new c(D,j.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,j2=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=v,qr=c}).apply(typeof TT<"u"?TT:typeof self<"u"?self:typeof window<"u"?window:{});var xd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var M2,qc,V2,qd,j0,O2,P2,L2;(function(){var t,e=Object.defineProperty;function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof xd=="object"&&xd];for(var x=0;x<d.length;++x){var T=d[x];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var i=n(this);function a(d,x){if(x)e:{var T=i;d=d.split(".");for(var k=0;k<d.length-1;k++){var $=d[k];if(!($ in T))break e;T=T[$]}d=d[d.length-1],k=T[d],x=x(k),x!=k&&x!=null&&e(T,d,{configurable:!0,writable:!0,value:x})}}a("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(d){return d||function(x){var T=[],k;for(k in x)Object.prototype.hasOwnProperty.call(x,k)&&T.push([k,x[k]]);return T}});var l=l||{},c=this||self;function h(d){var x=typeof d;return x=="object"&&d!=null||x=="function"}function f(d,x,T){return d.call.apply(d.bind,arguments)}function p(d,x,T){return p=f,p.apply(null,arguments)}function v(d,x){var T=Array.prototype.slice.call(arguments,1);return function(){var k=T.slice();return k.push.apply(k,arguments),d.apply(this,k)}}function b(d,x){function T(){}T.prototype=x.prototype,d.Z=x.prototype,d.prototype=new T,d.prototype.constructor=d,d.Ob=function(k,$,Q){for(var de=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)de[Le-2]=arguments[Le];return x.prototype[$].apply(k,de)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function S(d){const x=d.length;if(x>0){const T=Array(x);for(let k=0;k<x;k++)T[k]=d[k];return T}return[]}function M(d,x){for(let k=1;k<arguments.length;k++){const $=arguments[k];var T=typeof $;if(T=T!="object"?T:$?Array.isArray($)?"array":T:"null",T=="array"||T=="object"&&typeof $.length=="number"){T=d.length||0;const Q=$.length||0;d.length=T+Q;for(let de=0;de<Q;de++)d[T+de]=$[de]}else d.push($)}}class O{constructor(x,T){this.i=x,this.j=T,this.h=0,this.g=null}get(){let x;return this.h>0?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function V(d){c.setTimeout(()=>{throw d},0)}function P(){var d=j;let x=null;return d.g&&(x=d.g,d.g=d.g.next,d.g||(d.h=null),x.next=null),x}class F{constructor(){this.h=this.g=null}add(x,T){const k=H.get();k.set(x,T),this.h?this.h.next=k:this.g=k,this.h=k}}var H=new O(()=>new ee,d=>d.reset());class ee{constructor(){this.next=this.g=this.h=null}set(x,T){this.h=x,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let se,re=!1,j=new F,E=()=>{const d=Promise.resolve(void 0);se=()=>{d.then(R)}};function R(){for(var d;d=P();){try{d.h.call(d.g)}catch(T){V(T)}var x=H;x.j(d),x.h<100&&(x.h++,d.next=x.g,x.g=d)}re=!1}function I(){this.u=this.u,this.C=this.C}I.prototype.u=!1,I.prototype.dispose=function(){this.u||(this.u=!0,this.N())},I.prototype[Symbol.dispose]=function(){this.dispose()},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(d,x){this.type=d,this.g=this.target=x,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var d=!1,x=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const T=()=>{};c.addEventListener("test",T,x),c.removeEventListener("test",T,x)}catch{}return d})();function C(d){return/^[\s\xa0]*$/.test(d)}function fe(d,x){D.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,x)}b(fe,D),fe.prototype.init=function(d,x){const T=this.type=d.type,k=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=x,x=d.relatedTarget,x||(T=="mouseover"?x=d.fromElement:T=="mouseout"&&(x=d.toElement)),this.relatedTarget=x,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&fe.Z.h.call(this)},fe.prototype.h=function(){fe.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var me="closure_listenable_"+(Math.random()*1e6|0),G=0;function W(d,x,T,k,$){this.listener=d,this.proxy=null,this.src=x,this.type=T,this.capture=!!k,this.ha=$,this.key=++G,this.da=this.fa=!1}function Z(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Ae(d,x,T){for(const k in d)x.call(T,d[k],k,d)}function Re(d,x){for(const T in d)x.call(void 0,d[T],T,d)}function z(d){const x={};for(const T in d)x[T]=d[T];return x}const te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ce(d,x){let T,k;for(let $=1;$<arguments.length;$++){k=arguments[$];for(T in k)d[T]=k[T];for(let Q=0;Q<te.length;Q++)T=te[Q],Object.prototype.hasOwnProperty.call(k,T)&&(d[T]=k[T])}}function ue(d){this.src=d,this.g={},this.h=0}ue.prototype.add=function(d,x,T,k,$){const Q=d.toString();d=this.g[Q],d||(d=this.g[Q]=[],this.h++);const de=Ne(d,x,k,$);return de>-1?(x=d[de],T||(x.fa=!1)):(x=new W(x,this.src,Q,!!k,$),x.fa=T,d.push(x)),x};function _e(d,x){const T=x.type;if(T in d.g){var k=d.g[T],$=Array.prototype.indexOf.call(k,x,void 0),Q;(Q=$>=0)&&Array.prototype.splice.call(k,$,1),Q&&(Z(x),d.g[T].length==0&&(delete d.g[T],d.h--))}}function Ne(d,x,T,k){for(let $=0;$<d.length;++$){const Q=d[$];if(!Q.da&&Q.listener==x&&Q.capture==!!T&&Q.ha==k)return $}return-1}var Se="closure_lm_"+(Math.random()*1e6|0),he={};function je(d,x,T,k,$){if(Array.isArray(x)){for(let Q=0;Q<x.length;Q++)je(d,x[Q],T,k,$);return null}return T=Vl(T),d&&d[me]?d.J(x,T,h(k)?!!k.capture:!1,$):ht(d,x,T,!1,k,$)}function ht(d,x,T,k,$,Q){if(!x)throw Error("Invalid event type");const de=h($)?!!$.capture:!!$;let Le=Mn(d);if(Le||(d[Se]=Le=new ue(d)),T=Le.add(x,T,k,de,Q),T.proxy)return T;if(k=nt(),T.proxy=k,k.src=d,k.listener=T,d.addEventListener)L||($=de),$===void 0&&($=!1),d.addEventListener(x.toString(),k,$);else if(d.attachEvent)d.attachEvent(xn(x.toString()),k);else if(d.addListener&&d.removeListener)d.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return T}function nt(){function d(T){return x.call(d.src,d.listener,T)}const x=$n;return d}function qt(d,x,T,k,$){if(Array.isArray(x))for(var Q=0;Q<x.length;Q++)qt(d,x[Q],T,k,$);else k=h(k)?!!k.capture:!!k,T=Vl(T),d&&d[me]?(d=d.i,Q=String(x).toString(),Q in d.g&&(x=d.g[Q],T=Ne(x,T,k,$),T>-1&&(Z(x[T]),Array.prototype.splice.call(x,T,1),x.length==0&&(delete d.g[Q],d.h--)))):d&&(d=Mn(d))&&(x=d.g[x.toString()],d=-1,x&&(d=Ne(x,T,k,$)),(T=d>-1?x[d]:null)&&Gn(T))}function Gn(d){if(typeof d!="number"&&d&&!d.da){var x=d.src;if(x&&x[me])_e(x.i,d);else{var T=d.type,k=d.proxy;x.removeEventListener?x.removeEventListener(T,k,d.capture):x.detachEvent?x.detachEvent(xn(T),k):x.addListener&&x.removeListener&&x.removeListener(k),(T=Mn(x))?(_e(T,d),T.h==0&&(T.src=null,x[Se]=null)):Z(d)}}}function xn(d){return d in he?he[d]:he[d]="on"+d}function $n(d,x){if(d.da)d=!0;else{x=new fe(x,this);const T=d.listener,k=d.ha||d.src;d.fa&&Gn(d),d=T.call(k,x)}return d}function Mn(d){return d=d[Se],d instanceof ue?d:null}var Ml="__closure_events_fn_"+(Math.random()*1e9>>>0);function Vl(d){return typeof d=="function"?d:(d[Ml]||(d[Ml]=function(x){return d.handleEvent(x)}),d[Ml])}function Rt(){I.call(this),this.i=new ue(this),this.M=this,this.G=null}b(Rt,I),Rt.prototype[me]=!0,Rt.prototype.removeEventListener=function(d,x,T,k){qt(this,d,x,T,k)};function Gt(d,x){var T,k=d.G;if(k)for(T=[];k;k=k.G)T.push(k);if(d=d.M,k=x.type||x,typeof x=="string")x=new D(x,d);else if(x instanceof D)x.target=x.target||d;else{var $=x;x=new D(k,d),ce(x,$)}$=!0;let Q,de;if(T)for(de=T.length-1;de>=0;de--)Q=x.g=T[de],$=tr(Q,k,!0,x)&&$;if(Q=x.g=d,$=tr(Q,k,!0,x)&&$,$=tr(Q,k,!1,x)&&$,T)for(de=0;de<T.length;de++)Q=x.g=T[de],$=tr(Q,k,!1,x)&&$}Rt.prototype.N=function(){if(Rt.Z.N.call(this),this.i){var d=this.i;for(const x in d.g){const T=d.g[x];for(let k=0;k<T.length;k++)Z(T[k]);delete d.g[x],d.h--}}this.G=null},Rt.prototype.J=function(d,x,T,k){return this.i.add(String(d),x,!1,T,k)},Rt.prototype.K=function(d,x,T,k){return this.i.add(String(d),x,!0,T,k)};function tr(d,x,T,k){if(x=d.i.g[String(x)],!x)return!0;x=x.concat();let $=!0;for(let Q=0;Q<x.length;++Q){const de=x[Q];if(de&&!de.da&&de.capture==T){const Le=de.listener,At=de.ha||de.src;de.fa&&_e(d.i,de),$=Le.call(At,k)!==!1&&$}}return $&&!k.defaultPrevented}function cm(d,x){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=p(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(x)>2147483647?-1:c.setTimeout(d,x||0)}function Uu(d){d.g=cm(()=>{d.g=null,d.i&&(d.i=!1,Uu(d))},d.l);const x=d.h;d.h=null,d.m.apply(null,x)}class _n extends I{constructor(x,T){super(),this.m=x,this.l=T,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:Uu(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function sa(d){I.call(this),this.h=d,this.g={}}b(sa,I);var Ol=[];function Pl(d){Ae(d.g,function(x,T){this.g.hasOwnProperty(T)&&Gn(x)},d),d.g={}}sa.prototype.N=function(){sa.Z.N.call(this),Pl(this)},sa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var nr=c.JSON.stringify,um=c.JSON.parse,zu=class{stringify(d){return c.JSON.stringify(d,void 0)}parse(d){return c.JSON.parse(d,void 0)}};function Bu(){}function Fu(){}var ms={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function nn(){D.call(this,"d")}b(nn,D);function Kn(){D.call(this,"c")}b(Kn,D);var St={},Hu=null;function ro(){return Hu=Hu||new Rt}St.Ia="serverreachability";function qu(d){D.call(this,St.Ia,d)}b(qu,D);function Os(d){const x=ro();Gt(x,new qu(x))}St.STAT_EVENT="statevent";function ia(d,x){D.call(this,St.STAT_EVENT,d),this.stat=x}b(ia,D);function It(d){const x=ro();Gt(x,new ia(x,d))}St.Ja="timingevent";function Ps(d,x){D.call(this,St.Ja,d),this.size=x}b(Ps,D);function Ls(d,x){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){d()},x)}function ps(){this.g=!0}ps.prototype.ua=function(){this.g=!1};function hm(d,x,T,k,$,Q){d.info(function(){if(d.g)if(Q){var de="",Le=Q.split("&");for(let Ze=0;Ze<Le.length;Ze++){var At=Le[Ze].split("=");if(At.length>1){const yt=At[0];At=At[1];const Wn=yt.split("_");de=Wn.length>=2&&Wn[1]=="type"?de+(yt+"="+At+"&"):de+(yt+"=redacted&")}}}else de=null;else de=Q;return"XMLHTTP REQ ("+k+") [attempt "+$+"]: "+x+`
`+T+`
`+de})}function Gu(d,x,T,k,$,Q,de){d.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+$+"]: "+x+`
`+T+`
`+Q+" "+de})}function Us(d,x,T,k){d.info(function(){return"XMLHTTP TEXT ("+x+"): "+dm(d,T)+(k?" "+k:"")})}function ra(d,x){d.info(function(){return"TIMEOUT: "+x})}ps.prototype.info=function(){};function dm(d,x){if(!d.g)return x;if(!x)return null;try{const Q=JSON.parse(x);if(Q){for(d=0;d<Q.length;d++)if(Array.isArray(Q[d])){var T=Q[d];if(!(T.length<2)){var k=T[1];if(Array.isArray(k)&&!(k.length<1)){var $=k[0];if($!="noop"&&$!="stop"&&$!="close")for(let de=1;de<k.length;de++)k[de]=""}}}}return nr(Q)}catch{return x}}var aa={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ll={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ul;function oa(){}b(oa,Bu),oa.prototype.g=function(){return new XMLHttpRequest},Ul=new oa;function bi(d){return encodeURIComponent(String(d))}function $u(d){var x=1;d=d.split(":");const T=[];for(;x>0&&d.length;)T.push(d.shift()),x--;return d.length&&T.push(d.join(":")),T}function gs(d,x,T,k){this.j=d,this.i=x,this.l=T,this.S=k||1,this.V=new sa(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ys}function ys(){this.i=null,this.g="",this.h=!1}var Dt={},Wt={};function zs(d,x,T){d.M=1,d.A=la(Mt(x)),d.u=T,d.R=!0,ao(d,null)}function ao(d,x){d.F=Date.now(),Bs(d),d.B=Mt(d.A);var T=d.B,k=d.S;Array.isArray(k)||(k=[String(k)]),uo(T.i,"t",k),d.C=0,T=d.j.L,d.h=new ys,d.g=oh(d.j,T?x:null,!d.u),d.P>0&&(d.O=new _n(p(d.Y,d,d.g),d.P)),x=d.V,T=d.g,k=d.ba;var $="readystatechange";Array.isArray($)||($&&(Ol[0]=$.toString()),$=Ol);for(let Q=0;Q<$.length;Q++){const de=je(T,$[Q],k||x.handleEvent,!1,x.h||x);if(!de)break;x.g[de.key]=de}x=d.J?z(d.J):{},d.u?(d.v||(d.v="POST"),x["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,x)):(d.v="GET",d.g.ea(d.B,d.v,null,x)),Os(),hm(d.i,d.v,d.B,d.l,d.S,d.u)}gs.prototype.ba=function(d){d=d.target;const x=this.O;x&&xs(d)==3?x.j():this.Y(d)},gs.prototype.Y=function(d){try{if(d==this.g)e:{const Le=xs(this.g),At=this.g.ya(),Ze=this.g.ca();if(!(Le<3)&&(Le!=3||this.g&&(this.h.h||this.g.la()||sn(this.g)))){this.K||Le!=4||At==7||(At==8||Ze<=0?Os(3):Os(2)),Fs(this);var x=this.g.ca();this.X=x;var T=fm(this);if(this.o=x==200,Gu(this.i,this.v,this.B,this.l,this.S,Le,x),this.o){if(this.U&&!this.L){t:{if(this.g){var k,$=this.g;if((k=$.g?$.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(k)){var Q=k;break t}}Q=null}if(d=Q)Us(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Hs(this,d);else{this.o=!1,this.m=3,It(12),Vn(this),Yn(this);break e}}if(this.R){d=!0;let yt;for(;!this.K&&this.C<T.length;)if(yt=Yu(this,T),yt==Wt){Le==4&&(this.m=4,It(14),d=!1),Us(this.i,this.l,null,"[Incomplete Response]");break}else if(yt==Dt){this.m=4,It(15),Us(this.i,this.l,T,"[Invalid Chunk]"),d=!1;break}else Us(this.i,this.l,yt,null),Hs(this,yt);if(Ku(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Le!=4||T.length!=0||this.h.h||(this.m=1,It(16),d=!1),this.o=this.o&&d,!d)Us(this.i,this.l,T,"[Invalid Chunked Response]"),Vn(this),Yn(this);else if(T.length>0&&!this.W){this.W=!0;var de=this.j;de.g==this&&de.aa&&!de.P&&(de.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),ec(de),de.P=!0,It(11))}}else Us(this.i,this.l,T,null),Hs(this,T);Le==4&&Vn(this),this.o&&!this.K&&(Le==4?sh(this.j,this):(this.o=!1,Bs(this)))}else _i(this.g),x==400&&T.indexOf("Unknown SID")>0?(this.m=3,It(12)):(this.m=0,It(13)),Vn(this),Yn(this)}}}catch{}};function fm(d){if(!Ku(d))return d.g.la();const x=sn(d.g);if(x==="")return"";let T="";const k=x.length,$=xs(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return Vn(d),Yn(d),"";d.h.i=new c.TextDecoder}for(let Q=0;Q<k;Q++)d.h.h=!0,T+=d.h.i.decode(x[Q],{stream:!($&&Q==k-1)});return x.length=0,d.h.g+=T,d.C=0,d.h.g}function Ku(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function Yu(d,x){var T=d.C,k=x.indexOf(`
`,T);return k==-1?Wt:(T=Number(x.substring(T,k)),isNaN(T)?Dt:(k+=1,k+T>x.length?Wt:(x=x.slice(k,k+T),d.C=k+T,x)))}gs.prototype.cancel=function(){this.K=!0,Vn(this)};function Bs(d){d.T=Date.now()+d.H,oo(d,d.H)}function oo(d,x){if(d.D!=null)throw Error("WatchDog timer not null");d.D=Ls(p(d.aa,d),x)}function Fs(d){d.D&&(c.clearTimeout(d.D),d.D=null)}gs.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(ra(this.i,this.B),this.M!=2&&(Os(),It(17)),Vn(this),this.m=2,Yn(this)):oo(this,this.T-d)};function Yn(d){d.j.I==0||d.K||sh(d.j,d)}function Vn(d){Fs(d);var x=d.O;x&&typeof x.dispose=="function"&&x.dispose(),d.O=null,Pl(d.V),d.g&&(x=d.g,d.g=null,x.abort(),x.dispose())}function Hs(d,x){try{var T=d.j;if(T.I!=0&&(T.g==d||Gs(T.h,d))){if(!d.L&&Gs(T.h,d)&&T.I==3){try{var k=T.Ba.g.parse(x)}catch{k=null}if(Array.isArray(k)&&k.length==3){var $=k;if($[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<d.F)go(T),ur(T);else break e;pa(T),It(18)}}else T.xa=$[1],0<T.xa-T.K&&$[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=Ls(p(T.Va,T),6e3));qs(T.h)<=1&&T.ta&&(T.ta=void 0)}else Ws(T,11)}else if((d.L||T.g==d)&&go(T),!C(x))for($=T.Ba.g.parse(x),x=0;x<$.length;x++){let Ze=$[x];const yt=Ze[0];if(!(yt<=T.K))if(T.K=yt,Ze=Ze[1],T.I==2)if(Ze[0]=="c"){T.M=Ze[1],T.ba=Ze[2];const Wn=Ze[3];Wn!=null&&(T.ka=Wn,T.j.info("VER="+T.ka));const Js=Ze[4];Js!=null&&(T.za=Js,T.j.info("SVER="+T.za));const _s=Ze[5];_s!=null&&typeof _s=="number"&&_s>0&&(k=1.5*_s,T.O=k,T.j.info("backChannelRequestTimeoutMs_="+k)),k=T;const ws=d.g;if(ws){const ga=ws.g?ws.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ga){var Q=k.h;Q.g||ga.indexOf("spdy")==-1&&ga.indexOf("quic")==-1&&ga.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Fl(Q,Q.h),Q.h=null))}if(k.G){const yo=ws.g?ws.g.getResponseHeader("X-HTTP-Session-Id"):null;yo&&(k.wa=yo,st(k.J,k.G,yo))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-d.F,T.j.info("Handshake RTT: "+T.T+"ms")),k=T;var de=d;if(k.na=ah(k,k.L?k.ba:null,k.W),de.L){Hl(k.h,de);var Le=de,At=k.O;At&&(Le.H=At),Le.D&&(Fs(Le),Bs(Le)),k.g=de}else th(k);T.i.length>0&&Qs(T)}else Ze[0]!="stop"&&Ze[0]!="close"||Ws(T,7);else T.I==3&&(Ze[0]=="stop"||Ze[0]=="close"?Ze[0]=="stop"?Ws(T,7):Jl(T):Ze[0]!="noop"&&T.l&&T.l.qa(Ze),T.A=0)}}Os(4)}catch{}}var jt=class{constructor(d,x){this.g=d,this.map=x}};function zl(d){this.l=d||10,c.PerformanceNavigationTiming?(d=c.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Bl(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function qs(d){return d.h?1:d.g?d.g.size:0}function Gs(d,x){return d.h?d.h==x:d.g?d.g.has(x):!1}function Fl(d,x){d.g?d.g.add(x):d.h=x}function Hl(d,x){d.h&&d.h==x?d.h=null:d.g&&d.g.has(x)&&d.g.delete(x)}zl.prototype.cancel=function(){if(this.i=ql(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function ql(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let x=d.i;for(const T of d.g.values())x=x.concat(T.G);return x}return S(d.i)}var Xu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function lo(d,x){if(d){d=d.split("&");for(let T=0;T<d.length;T++){const k=d[T].indexOf("=");let $,Q=null;k>=0?($=d[T].substring(0,k),Q=d[T].substring(k+1)):$=d[T],x($,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function On(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let x;d instanceof On?(this.l=d.l,Jt(this,d.j),this.o=d.o,this.g=d.g,sr(this,d.u),this.h=d.h,Gl(this,Zu(d.i)),this.m=d.m):d&&(x=String(d).match(Xu))?(this.l=!1,Jt(this,x[1]||"",!0),this.o=$s(x[2]||""),this.g=$s(x[3]||"",!0),sr(this,x[4]),this.h=$s(x[5]||"",!0),Gl(this,x[6]||"",!0),this.m=$s(x[7]||"")):(this.l=!1,this.i=new rr(null,this.l))}On.prototype.toString=function(){const d=[];var x=this.j;x&&d.push(ca(x,co,!0),":");var T=this.g;return(T||x=="file")&&(d.push("//"),(x=this.o)&&d.push(ca(x,co,!0),"@"),d.push(bi(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&d.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&d.push("/"),d.push(ca(T,T.charAt(0)=="/"?$l:Qu,!0))),(T=this.i.toString())&&d.push("?",T),(T=this.m)&&d.push("#",ca(T,Wu)),d.join("")},On.prototype.resolve=function(d){const x=Mt(this);let T=!!d.j;T?Jt(x,d.j):T=!!d.o,T?x.o=d.o:T=!!d.g,T?x.g=d.g:T=d.u!=null;var k=d.h;if(T)sr(x,d.u);else if(T=!!d.h){if(k.charAt(0)!="/")if(this.g&&!this.h)k="/"+k;else{var $=x.h.lastIndexOf("/");$!=-1&&(k=x.h.slice(0,$+1)+k)}if($=k,$==".."||$==".")k="";else if($.indexOf("./")!=-1||$.indexOf("/.")!=-1){k=$.lastIndexOf("/",0)==0,$=$.split("/");const Q=[];for(let de=0;de<$.length;){const Le=$[de++];Le=="."?k&&de==$.length&&Q.push(""):Le==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),k&&de==$.length&&Q.push("")):(Q.push(Le),k=!0)}k=Q.join("/")}else k=$}return T?x.h=k:T=d.i.toString()!=="",T?Gl(x,Zu(d.i)):T=!!d.m,T&&(x.m=d.m),x};function Mt(d){return new On(d)}function Jt(d,x,T){d.j=T?$s(x,!0):x,d.j&&(d.j=d.j.replace(/:$/,""))}function sr(d,x){if(x){if(x=Number(x),isNaN(x)||x<0)throw Error("Bad port number "+x);d.u=x}else d.u=null}function Gl(d,x,T){x instanceof rr?(d.i=x,ho(d.i,d.l)):(T||(x=ca(x,ir)),d.i=new rr(x,d.l))}function st(d,x,T){d.i.set(x,T)}function la(d){return st(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function $s(d,x){return d?x?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function ca(d,x,T){return typeof d=="string"?(d=encodeURI(d).replace(x,An),T&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function An(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var co=/[#\/\?@]/g,Qu=/[#\?:]/g,$l=/[#\?]/g,ir=/[#\?@]/g,Wu=/#/g;function rr(d,x){this.h=this.g=null,this.i=d||null,this.j=!!x}function kn(d){d.g||(d.g=new Map,d.h=0,d.i&&lo(d.i,function(x,T){d.add(decodeURIComponent(x.replace(/\+/g," ")),T)}))}t=rr.prototype,t.add=function(d,x){kn(this),this.i=null,d=ar(this,d);let T=this.g.get(d);return T||this.g.set(d,T=[]),T.push(x),this.h+=1,this};function Ju(d,x){kn(d),x=ar(d,x),d.g.has(x)&&(d.i=null,d.h-=d.g.get(x).length,d.g.delete(x))}function Kl(d,x){return kn(d),x=ar(d,x),d.g.has(x)}t.forEach=function(d,x){kn(this),this.g.forEach(function(T,k){T.forEach(function($){d.call(x,$,k,this)},this)},this)};function Yl(d,x){kn(d);let T=[];if(typeof x=="string")Kl(d,x)&&(T=T.concat(d.g.get(ar(d,x))));else for(d=Array.from(d.g.values()),x=0;x<d.length;x++)T=T.concat(d[x]);return T}t.set=function(d,x){return kn(this),this.i=null,d=ar(this,d),Kl(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[x]),this.h+=1,this},t.get=function(d,x){return d?(d=Yl(this,d),d.length>0?String(d[0]):x):x};function uo(d,x,T){Ju(d,x),T.length>0&&(d.i=null,d.g.set(ar(d,x),S(T)),d.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],x=Array.from(this.g.keys());for(let k=0;k<x.length;k++){var T=x[k];const $=bi(T);T=Yl(this,T);for(let Q=0;Q<T.length;Q++){let de=$;T[Q]!==""&&(de+="="+bi(T[Q])),d.push(de)}}return this.i=d.join("&")};function Zu(d){const x=new rr;return x.i=d.i,d.g&&(x.g=new Map(d.g),x.h=d.h),x}function ar(d,x){return x=String(x),d.j&&(x=x.toLowerCase()),x}function ho(d,x){x&&!d.j&&(kn(d),d.i=null,d.g.forEach(function(T,k){const $=k.toLowerCase();k!=$&&(Ju(this,k),uo(this,$,T))},d)),d.j=x}function vs(d,x){const T=new ps;if(c.Image){const k=new Image;k.onload=v(Xn,T,"TestLoadImage: loaded",!0,x,k),k.onerror=v(Xn,T,"TestLoadImage: error",!1,x,k),k.onabort=v(Xn,T,"TestLoadImage: abort",!1,x,k),k.ontimeout=v(Xn,T,"TestLoadImage: timeout",!1,x,k),c.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=d}else x(!1)}function Xl(d,x){const T=new ps,k=new AbortController,$=setTimeout(()=>{k.abort(),Xn(T,"TestPingServer: timeout",!1,x)},1e4);fetch(d,{signal:k.signal}).then(Q=>{clearTimeout($),Q.ok?Xn(T,"TestPingServer: ok",!0,x):Xn(T,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout($),Xn(T,"TestPingServer: error",!1,x)})}function Xn(d,x,T,k,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),k(T)}catch{}}function or(){this.g=new zu}function Ks(d){this.i=d.Sb||null,this.h=d.ab||!1}b(Ks,Bu),Ks.prototype.g=function(){return new ua(this.i,this.h)};function ua(d,x){Rt.call(this),this.H=d,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(ua,Rt),t=ua.prototype,t.open=function(d,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=x,this.readyState=1,bs(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const x={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(x.body=d),(this.H||c).fetch(new Request(this.D,x)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,lr(this)),this.readyState=0},t.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,bs(this)),this.g&&(this.readyState=3,bs(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;fo(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function fo(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}t.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var x=d.value?d.value:new Uint8Array(0);(x=this.B.decode(x,{stream:!d.done}))&&(this.response=this.responseText+=x)}d.done?lr(this):bs(this),this.readyState==3&&fo(this)}},t.Oa=function(d){this.g&&(this.response=this.responseText=d,lr(this))},t.Na=function(d){this.g&&(this.response=d,lr(this))},t.ga=function(){this.g&&lr(this)};function lr(d){d.readyState=4,d.l=null,d.j=null,d.B=null,bs(d)}t.setRequestHeader=function(d,x){this.A.append(d,x)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],x=this.h.entries();for(var T=x.next();!T.done;)T=T.value,d.push(T[0]+": "+T[1]),T=x.next();return d.join(`\r
`)};function bs(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(ua.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Qn(d){let x="";return Ae(d,function(T,k){x+=k,x+=":",x+=T,x+=`\r
`}),x}function ha(d,x,T){e:{for(k in T){var k=!1;break e}k=!0}k||(T=Qn(T),typeof d=="string"?T!=null&&bi(T):st(d,x,T))}function at(d){Rt.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(at,Rt);var Ys=/^https?$/i,Ql=["POST","PUT"];t=at.prototype,t.Fa=function(d){this.H=d},t.ea=function(d,x,T,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);x=x?x.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ul.g(),this.g.onreadystatechange=w(p(this.Ca,this));try{this.B=!0,this.g.open(x,String(d),!0),this.B=!1}catch(Q){da(this,Q);return}if(d=T||"",T=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var $ in k)T.set($,k[$]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const Q of k.keys())T.set(Q,k.get(Q));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(T.keys()).find(Q=>Q.toLowerCase()=="content-type"),$=c.FormData&&d instanceof c.FormData,!(Array.prototype.indexOf.call(Ql,x,void 0)>=0)||k||$||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,de]of T)this.g.setRequestHeader(Q,de);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(Q){da(this,Q)}};function da(d,x){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=x,d.o=5,Wl(d),xi(d)}function Wl(d){d.A||(d.A=!0,Gt(d,"complete"),Gt(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,Gt(this,"complete"),Gt(this,"abort"),xi(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xi(this,!0)),at.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?fa(this):this.Xa())},t.Xa=function(){fa(this)};function fa(d){if(d.h&&typeof l<"u"){if(d.v&&xs(d)==4)setTimeout(d.Ca.bind(d),0);else if(Gt(d,"readystatechange"),xs(d)==4){d.h=!1;try{const Q=d.ca();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var T;if(!(T=x)){var k;if(k=Q===0){let de=String(d.D).match(Xu)[1]||null;!de&&c.self&&c.self.location&&(de=c.self.location.protocol.slice(0,-1)),k=!Ys.test(de?de.toLowerCase():"")}T=k}if(T)Gt(d,"complete"),Gt(d,"success");else{d.o=6;try{var $=xs(d)>2?d.g.statusText:""}catch{$=""}d.l=$+" ["+d.ca()+"]",Wl(d)}}finally{xi(d)}}}}function xi(d,x){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const T=d.g;d.g=null,x||Gt(d,"ready");try{T.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function xs(d){return d.g?d.g.readyState:0}t.ca=function(){try{return xs(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(d){if(this.g){var x=this.g.responseText;return d&&x.indexOf(d)==0&&(x=x.substring(d.length)),um(x)}};function sn(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function _i(d){const x={};d=(d.g&&xs(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<d.length;k++){if(C(d[k]))continue;var T=$u(d[k]);const $=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const Q=x[$]||[];x[$]=Q,Q.push(T)}Re(x,function(k){return k.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xs(d,x,T){return T&&T.internalChannelParams&&T.internalChannelParams[d]||x}function cr(d){this.za=0,this.i=[],this.j=new ps,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Xs("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Xs("baseRetryDelayMs",5e3,d),this.Za=Xs("retryDelaySeedMs",1e4,d),this.Ta=Xs("forwardChannelMaxRetries",2,d),this.va=Xs("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new zl(d&&d.concurrentRequestLimit),this.Ba=new or,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=cr.prototype,t.ka=8,t.I=1,t.connect=function(d,x,T,k){It(0),this.W=d,this.H=x||{},T&&k!==void 0&&(this.H.OSID=T,this.H.OAID=k),this.F=this.X,this.J=ah(this,null,this.W),Qs(this)};function Jl(d){if(mo(d),d.I==3){var x=d.V++,T=Mt(d.J);if(st(T,"SID",d.M),st(T,"RID",x),st(T,"TYPE","terminate"),ma(d,T),x=new gs(d,d.j,x),x.M=2,x.A=la(Mt(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(x.A.toString(),"")}catch{}!T&&c.Image&&(new Image().src=x.A,T=!0),T||(x.g=oh(x.j,null),x.g.ea(x.A)),x.F=Date.now(),Bs(x)}rh(d)}function ur(d){d.g&&(ec(d),d.g.cancel(),d.g=null)}function mo(d){ur(d),d.v&&(c.clearTimeout(d.v),d.v=null),go(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&c.clearTimeout(d.m),d.m=null)}function Qs(d){if(!Bl(d.h)&&!d.m){d.m=!0;var x=d.Ea;se||E(),re||(se(),re=!0),j.add(x,d),d.D=0}}function po(d,x){return qs(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=x.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=Ls(p(d.Ea,d,x),ih(d,d.D)),d.D++,!0)}t.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const $=new gs(this,this.j,d);let Q=this.o;if(this.U&&(Q?(Q=z(Q),ce(Q,this.U)):Q=this.U),this.u!==null||this.R||($.J=Q,Q=null),this.S)e:{for(var x=0,T=0;T<this.i.length;T++){t:{var k=this.i[T];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(x+=k,x>4096){x=T;break e}if(x===4096||T===this.i.length-1){x=T+1;break e}}x=1e3}else x=1e3;x=eh(this,$,x),T=Mt(this.J),st(T,"RID",d),st(T,"CVER",22),this.G&&st(T,"X-HTTP-Session-Id",this.G),ma(this,T),Q&&(this.R?x="headers="+bi(Qn(Q))+"&"+x:this.u&&ha(T,this.u,Q)),Fl(this.h,$),this.Ra&&st(T,"TYPE","init"),this.S?(st(T,"$req",x),st(T,"SID","null"),$.U=!0,zs($,T,null)):zs($,T,x),this.I=2}}else this.I==3&&(d?Zl(this,d):this.i.length==0||Bl(this.h)||Zl(this))};function Zl(d,x){var T;x?T=x.l:T=d.V++;const k=Mt(d.J);st(k,"SID",d.M),st(k,"RID",T),st(k,"AID",d.K),ma(d,k),d.u&&d.o&&ha(k,d.u,d.o),T=new gs(d,d.j,T,d.D+1),d.u===null&&(T.J=d.o),x&&(d.i=x.G.concat(d.i)),x=eh(d,T,1e3),T.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),Fl(d.h,T),zs(T,k,x)}function ma(d,x){d.H&&Ae(d.H,function(T,k){st(x,k,T)}),d.l&&Ae({},function(T,k){st(x,k,T)})}function eh(d,x,T){T=Math.min(d.i.length,T);const k=d.l?p(d.l.Ka,d.l,d):null;e:{var $=d.i;let Le=-1;for(;;){const At=["count="+T];Le==-1?T>0?(Le=$[0].g,At.push("ofs="+Le)):Le=0:At.push("ofs="+Le);let Ze=!0;for(let yt=0;yt<T;yt++){var Q=$[yt].g;const Wn=$[yt].map;if(Q-=Le,Q<0)Le=Math.max(0,$[yt].g-100),Ze=!1;else try{Q="req"+Q+"_"||"";try{var de=Wn instanceof Map?Wn:Object.entries(Wn);for(const[Js,_s]of de){let ws=_s;h(_s)&&(ws=nr(_s)),At.push(Q+Js+"="+encodeURIComponent(ws))}}catch(Js){throw At.push(Q+"type="+encodeURIComponent("_badmap")),Js}}catch{k&&k(Wn)}}if(Ze){de=At.join("&");break e}}de=void 0}return d=d.i.splice(0,T),x.G=d,de}function th(d){if(!d.g&&!d.v){d.Y=1;var x=d.Da;se||E(),re||(se(),re=!0),j.add(x,d),d.A=0}}function pa(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=Ls(p(d.Da,d),ih(d,d.A)),d.A++,!0)}t.Da=function(){if(this.v=null,nh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=Ls(p(this.Wa,this),d)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,It(10),ur(this),nh(this))};function ec(d){d.B!=null&&(c.clearTimeout(d.B),d.B=null)}function nh(d){d.g=new gs(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var x=Mt(d.na);st(x,"RID","rpc"),st(x,"SID",d.M),st(x,"AID",d.K),st(x,"CI",d.F?"0":"1"),!d.F&&d.ia&&st(x,"TO",d.ia),st(x,"TYPE","xmlhttp"),ma(d,x),d.u&&d.o&&ha(x,d.u,d.o),d.O&&(d.g.H=d.O);var T=d.g;d=d.ba,T.M=1,T.A=la(Mt(x)),T.u=null,T.R=!0,ao(T,d)}t.Va=function(){this.C!=null&&(this.C=null,ur(this),pa(this),It(19))};function go(d){d.C!=null&&(c.clearTimeout(d.C),d.C=null)}function sh(d,x){var T=null;if(d.g==x){go(d),ec(d),d.g=null;var k=2}else if(Gs(d.h,x))T=x.G,Hl(d.h,x),k=1;else return;if(d.I!=0){if(x.o)if(k==1){T=x.u?x.u.length:0,x=Date.now()-x.F;var $=d.D;k=ro(),Gt(k,new Ps(k,T)),Qs(d)}else th(d);else if($=x.m,$==3||$==0&&x.X>0||!(k==1&&po(d,x)||k==2&&pa(d)))switch(T&&T.length>0&&(x=d.h,x.i=x.i.concat(T)),$){case 1:Ws(d,5);break;case 4:Ws(d,10);break;case 3:Ws(d,6);break;default:Ws(d,2)}}}function ih(d,x){let T=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(T*=2),T*x}function Ws(d,x){if(d.j.info("Error code "+x),x==2){var T=p(d.bb,d),k=d.Ua;const $=!k;k=new On(k||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Jt(k,"https"),la(k),$?vs(k.toString(),T):Xl(k.toString(),T)}else It(2);d.I=0,d.l&&d.l.pa(x),rh(d),mo(d)}t.bb=function(d){d?(this.j.info("Successfully pinged google.com"),It(2)):(this.j.info("Failed to ping google.com"),It(1))};function rh(d){if(d.I=0,d.ja=[],d.l){const x=ql(d.h);(x.length!=0||d.i.length!=0)&&(M(d.ja,x),M(d.ja,d.i),d.h.i.length=0,S(d.i),d.i.length=0),d.l.oa()}}function ah(d,x,T){var k=T instanceof On?Mt(T):new On(T);if(k.g!="")x&&(k.g=x+"."+k.g),sr(k,k.u);else{var $=c.location;k=$.protocol,x=x?x+"."+$.hostname:$.hostname,$=+$.port;const Q=new On(null);k&&Jt(Q,k),x&&(Q.g=x),$&&sr(Q,$),T&&(Q.h=T),k=Q}return T=d.G,x=d.wa,T&&x&&st(k,T,x),st(k,"VER",d.ka),ma(d,k),k}function oh(d,x,T){if(x&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return x=d.Aa&&!d.ma?new at(new Ks({ab:T})):new at(d.ma),x.Fa(d.L),x}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function lh(){}t=lh.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function hr(){}hr.prototype.g=function(d,x){return new wn(d,x)};function wn(d,x){Rt.call(this),this.g=new cr(x),this.l=d,this.h=x&&x.messageUrlParams||null,d=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(d?d["X-WebChannel-Content-Type"]=x.messageContentType:d={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.sa&&(d?d["X-WebChannel-Client-Profile"]=x.sa:d={"X-WebChannel-Client-Profile":x.sa}),this.g.U=d,(d=x&&x.Qb)&&!C(d)&&(this.g.u=d),this.A=x&&x.supportsCrossDomainXhr||!1,this.v=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!C(x)&&(this.g.G=x,d=this.h,d!==null&&x in d&&(d=this.h,x in d&&delete d[x])),this.j=new wi(this)}b(wn,Rt),wn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},wn.prototype.close=function(){Jl(this.g)},wn.prototype.o=function(d){var x=this.g;if(typeof d=="string"){var T={};T.__data__=d,d=T}else this.v&&(T={},T.__data__=nr(d),d=T);x.i.push(new jt(x.Ya++,d)),x.I==3&&Qs(x)},wn.prototype.N=function(){this.g.l=null,delete this.j,Jl(this.g),delete this.g,wn.Z.N.call(this)};function ch(d){nn.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var x=d.__sm__;if(x){e:{for(const T in x){d=T;break e}d=void 0}(this.i=d)&&(d=this.i,x=x!==null&&d in x?x[d]:void 0),this.data=x}else this.data=d}b(ch,nn);function uh(){Kn.call(this),this.status=1}b(uh,Kn);function wi(d){this.g=d}b(wi,lh),wi.prototype.ra=function(){Gt(this.g,"a")},wi.prototype.qa=function(d){Gt(this.g,new ch(d))},wi.prototype.pa=function(d){Gt(this.g,new uh)},wi.prototype.oa=function(){Gt(this.g,"b")},hr.prototype.createWebChannel=hr.prototype.g,wn.prototype.send=wn.prototype.o,wn.prototype.open=wn.prototype.m,wn.prototype.close=wn.prototype.close,L2=function(){return new hr},P2=function(){return ro()},O2=St,j0={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},aa.NO_ERROR=0,aa.TIMEOUT=8,aa.HTTP_ERROR=6,qd=aa,Ll.COMPLETE="complete",V2=Ll,Fu.EventType=ms,ms.OPEN="a",ms.CLOSE="b",ms.ERROR="c",ms.MESSAGE="d",Rt.prototype.listen=Rt.prototype.J,qc=Fu,at.prototype.listenOnce=at.prototype.K,at.prototype.getLastError=at.prototype.Ha,at.prototype.getLastErrorCode=at.prototype.ya,at.prototype.getStatus=at.prototype.ca,at.prototype.getResponseJson=at.prototype.La,at.prototype.getResponseText=at.prototype.la,at.prototype.send=at.prototype.ea,at.prototype.setWithCredentials=at.prototype.Fa,M2=at}).apply(typeof xd<"u"?xd:typeof self<"u"?self:typeof window<"u"?window:{});class pn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}pn.UNAUTHENTICATED=new pn(null),pn.GOOGLE_CREDENTIALS=new pn("google-credentials-uid"),pn.FIRST_PARTY=new pn("first-party-uid"),pn.MOCK_USER=new pn("mock-user");let kl="12.9.0";function QO(t){kl=t}const Ya=new Gy("@firebase/firestore");function Qo(){return Ya.logLevel}function ge(t,...e){if(Ya.logLevel<=$e.DEBUG){const n=e.map(iv);Ya.debug(`Firestore (${kl}): ${t}`,...n)}}function Xi(t,...e){if(Ya.logLevel<=$e.ERROR){const n=e.map(iv);Ya.error(`Firestore (${kl}): ${t}`,...n)}}function Xa(t,...e){if(Ya.logLevel<=$e.WARN){const n=e.map(iv);Ya.warn(`Firestore (${kl}): ${t}`,...n)}}function iv(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function De(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,U2(t,i,n)}function U2(t,e,n){let i=`FIRESTORE (${kl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw Xi(i),new Error(i)}function tt(t,e,n,i){let a="Unexpected state";typeof n=="string"?a=n:i=n,t||U2(e,a,i)}function Pe(t,e){return t}const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends yi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Gr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class z2{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class WO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(pn.UNAUTHENTICATED)))}shutdown(){}}class JO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class ZO{constructor(e){this.t=e,this.currentUser=pn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){tt(this.o===void 0,42304);let i=this.i;const a=f=>this.i!==i?(i=this.i,n(f)):Promise.resolve();let l=new Gr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Gr,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const f=l;e.enqueueRetryable((async()=>{await f.promise,await a(this.currentUser)}))},h=f=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((f=>h(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Gr)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(tt(typeof i.accessToken=="string",31837,{l:i}),new z2(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return tt(e===null||typeof e=="string",2055,{h:e}),new pn(e)}}class eP{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=pn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class tP{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new eP(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(pn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class ET{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nP{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,as(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){tt(this.o===void 0,3512);const i=l=>{l.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,ge("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>i(l)))};const a=l=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new ET(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(tt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new ET(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function sP(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}class rv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=sP(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<n&&(i+=e.charAt(a[l]%62))}return i}}function Ke(t,e){return t<e?-1:t>e?1:0}function M0(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const a=t.charAt(i),l=e.charAt(i);if(a!==l)return zg(a)===zg(l)?Ke(a,l):zg(a)?1:-1}return Ke(t.length,e.length)}const iP=55296,rP=57343;function zg(t){const e=t.charCodeAt(0);return e>=iP&&e<=rP}function fl(t,e,n){return t.length===e.length&&t.every(((i,a)=>n(i,e[a])))}const ST="__name__";class ri{constructor(e,n,i){n===void 0?n=0:n>e.length&&De(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&De(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return ri.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ri?e.forEach((i=>{n.push(i)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let a=0;a<i;a++){const l=ri.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return Ke(e.length,n.length)}static compareSegments(e,n){const i=ri.isNumericId(e),a=ri.isNumericId(n);return i&&!a?-1:!i&&a?1:i&&a?ri.extractNumericId(e).compare(ri.extractNumericId(n)):M0(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return qr.fromString(e.substring(4,e.length-2))}}class dt extends ri{construct(e,n,i){return new dt(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new pe(oe.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((a=>a.length>0)))}return new dt(n)}static emptyPath(){return new dt([])}}const aP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hn extends ri{construct(e,n,i){return new hn(e,n,i)}static isValidIdentifier(e){return aP.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ST}static keyField(){return new hn([ST])}static fromServerFormat(e){const n=[];let i="",a=0;const l=()=>{if(i.length===0)throw new pe(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let c=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new pe(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[a+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new pe(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=f,a+=2}else h==="`"?(c=!c,a++):h!=="."||c?(i+=h,a++):(l(),a++)}if(l(),c)throw new pe(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new hn(n)}static emptyPath(){return new hn([])}}class Ce{constructor(e){this.path=e}static fromPath(e){return new Ce(dt.fromString(e))}static fromName(e){return new Ce(dt.fromString(e).popFirst(5))}static empty(){return new Ce(dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&dt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return dt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ce(new dt(e.slice()))}}function B2(t,e,n){if(!n)throw new pe(oe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function oP(t,e,n,i){if(e===!0&&i===!0)throw new pe(oe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function AT(t){if(!Ce.isDocumentKey(t))throw new pe(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function kT(t){if(Ce.isDocumentKey(t))throw new pe(oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function F2(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Hf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":De(12329,{type:typeof t})}function Hi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new pe(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Hf(t);throw new pe(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function lP(t,e){if(e<=0)throw new pe(oe.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}function Ft(t,e){const n={typeString:t};return e&&(n.value=e),n}function ju(t,e){if(!F2(t))throw new pe(oe.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const a=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const c=t[i];if(a&&typeof c!==a){n=`JSON field '${i}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${i}' field to equal '${l.value}'`;break}}if(n)throw new pe(oe.INVALID_ARGUMENT,n);return!0}const CT=-62135596800,NT=1e6;class gt{static now(){return gt.fromMillis(Date.now())}static fromDate(e){return gt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*NT);return new gt(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new pe(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pe(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<CT)throw new pe(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/NT}_compareTo(e){return this.seconds===e.seconds?Ke(this.nanoseconds,e.nanoseconds):Ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:gt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ju(e,gt._jsonSchema))return new gt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-CT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}gt._jsonSchemaVersion="firestore/timestamp/1.0",gt._jsonSchema={type:Ft("string",gt._jsonSchemaVersion),seconds:Ft("number"),nanoseconds:Ft("number")};class Ve{static fromTimestamp(e){return new Ve(e)}static min(){return new Ve(new gt(0,0))}static max(){return new Ve(new gt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const mu=-1;function cP(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,a=Ve.fromTimestamp(i===1e9?new gt(n+1,0):new gt(n,i));return new Qr(a,Ce.empty(),e)}function uP(t){return new Qr(t.readTime,t.key,mu)}class Qr{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Qr(Ve.min(),Ce.empty(),mu)}static max(){return new Qr(Ve.max(),Ce.empty(),mu)}}function hP(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ce.comparator(t.documentKey,e.documentKey),n!==0?n:Ke(t.largestBatchId,e.largestBatchId))}const dP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Cl(t){if(t.code!==oe.FAILED_PRECONDITION||t.message!==dP)throw t;ge("LocalStore","Unexpectedly lost primary lease")}class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&De(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new le(((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(i,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof le?n:le.resolve(n)}catch(n){return le.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):le.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):le.reject(n)}static resolve(e){return new le(((n,i)=>{n(e)}))}static reject(e){return new le(((n,i)=>{i(e)}))}static waitFor(e){return new le(((n,i)=>{let a=0,l=0,c=!1;e.forEach((h=>{++a,h.next((()=>{++l,c&&l===a&&n()}),(f=>i(f)))})),c=!0,l===a&&n()}))}static or(e){let n=le.resolve(!1);for(const i of e)n=n.next((a=>a?le.resolve(a):i()));return n}static forEach(e,n){const i=[];return e.forEach(((a,l)=>{i.push(n.call(this,a,l))})),this.waitFor(i)}static mapArray(e,n){return new le(((i,a)=>{const l=e.length,c=new Array(l);let h=0;for(let f=0;f<l;f++){const p=f;n(e[p]).next((v=>{c[p]=v,++h,h===l&&i(c)}),(v=>a(v)))}}))}static doWhile(e,n){return new le(((i,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):i()};l()}))}}function mP(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Nl(t){return t.name==="IndexedDbTransactionError"}class qf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}qf.ce=-1;const av=-1;function Gf(t){return t==null}function pf(t){return t===0&&1/t==-1/0}function pP(t){return typeof t=="number"&&Number.isInteger(t)&&!pf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const H2="";function gP(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=RT(e)),e=yP(t.get(n),e);return RT(e)}function yP(t,e){let n=e;const i=t.length;for(let a=0;a<i;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case H2:n+="";break;default:n+=l}}return n}function RT(t){return t+H2+""}function IT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function eo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function q2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class _t{constructor(e,n){this.comparator=e,this.root=n||un.EMPTY}insert(e,n){return new _t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,un.BLACK,null,null))}remove(e){return new _t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,un.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return n+i.left.size;a<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,i)=>(e(n,i),!1)))}toString(){const e=[];return this.inorderTraversal(((n,i)=>(e.push(`${n}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _d(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _d(this.root,e,this.comparator,!1)}getReverseIterator(){return new _d(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _d(this.root,e,this.comparator,!0)}}class _d{constructor(e,n,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?i(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class un{constructor(e,n,i,a,l){this.key=e,this.value=n,this.color=i??un.RED,this.left=a??un.EMPTY,this.right=l??un.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,a,l){return new un(e??this.key,n??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,i),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return un.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return un.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,un.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,un.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw De(43730,{key:this.key,value:this.value});if(this.right.isRed())throw De(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw De(27949);return e+(this.isRed()?0:1)}}un.EMPTY=null,un.RED=!0,un.BLACK=!1;un.EMPTY=new class{constructor(){this.size=0}get key(){throw De(57766)}get value(){throw De(16141)}get color(){throw De(16727)}get left(){throw De(29726)}get right(){throw De(36894)}copy(e,n,i,a,l){return this}insert(e,n,i){return new un(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Xt{constructor(e){this.comparator=e,this.data=new _t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,i)=>(e(n),!1)))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new DT(this.data.getIterator())}getIteratorFrom(e){return new DT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((i=>{n=n.add(i)})),n}isEqual(e){if(!(e instanceof Xt)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Xt(this.comparator);return n.data=e,n}}class DT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ns{constructor(e){this.fields=e,e.sort(hn.comparator)}static empty(){return new Ns([])}unionWith(e){let n=new Xt(hn.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Ns(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return fl(this.fields,e.fields,((n,i)=>n.isEqual(i)))}}class G2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class dn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new G2("Invalid base64 string: "+l):l}})(e);return new dn(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(e);return new dn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}dn.EMPTY_BYTE_STRING=new dn("");const vP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wr(t){if(tt(!!t,39018),typeof t=="string"){let e=0;const n=vP.exec(t);if(tt(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Nt(t.seconds),nanos:Nt(t.nanos)}}function Nt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Jr(t){return typeof t=="string"?dn.fromBase64String(t):dn.fromUint8Array(t)}const $2="server_timestamp",K2="__type__",Y2="__previous_value__",X2="__local_write_time__";function ov(t){return(t?.mapValue?.fields||{})[K2]?.stringValue===$2}function $f(t){const e=t.mapValue.fields[Y2];return ov(e)?$f(e):e}function pu(t){const e=Wr(t.mapValue.fields[X2].timestampValue);return new gt(e.seconds,e.nanos)}class bP{constructor(e,n,i,a,l,c,h,f,p,v,b){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=p,this.isUsingEmulator=v,this.apiKey=b}}const gf="(default)";class gu{constructor(e,n){this.projectId=e,this.database=n||gf}static empty(){return new gu("","")}get isDefaultDatabase(){return this.database===gf}isEqual(e){return e instanceof gu&&e.projectId===this.projectId&&e.database===this.database}}function xP(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new pe(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gu(t.options.projectId,e)}const Q2="__type__",_P="__max__",wd={mapValue:{}},W2="__vector__",yf="value";function Zr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ov(t)?4:TP(t)?9007199254740991:wP(t)?10:11:De(28295,{value:t})}function pi(t,e){if(t===e)return!0;const n=Zr(t);if(n!==Zr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return pu(t).isEqual(pu(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Wr(a.timestampValue),h=Wr(l.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return Jr(a.bytesValue).isEqual(Jr(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return Nt(a.geoPointValue.latitude)===Nt(l.geoPointValue.latitude)&&Nt(a.geoPointValue.longitude)===Nt(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Nt(a.integerValue)===Nt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Nt(a.doubleValue),h=Nt(l.doubleValue);return c===h?pf(c)===pf(h):isNaN(c)&&isNaN(h)}return!1})(t,e);case 9:return fl(t.arrayValue.values||[],e.arrayValue.values||[],pi);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},h=l.mapValue.fields||{};if(IT(c)!==IT(h))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(h[f]===void 0||!pi(c[f],h[f])))return!1;return!0})(t,e);default:return De(52216,{left:t})}}function yu(t,e){return(t.values||[]).find((n=>pi(n,e)))!==void 0}function ml(t,e){if(t===e)return 0;const n=Zr(t),i=Zr(e);if(n!==i)return Ke(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ke(t.booleanValue,e.booleanValue);case 2:return(function(l,c){const h=Nt(l.integerValue||l.doubleValue),f=Nt(c.integerValue||c.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1})(t,e);case 3:return jT(t.timestampValue,e.timestampValue);case 4:return jT(pu(t),pu(e));case 5:return M0(t.stringValue,e.stringValue);case 6:return(function(l,c){const h=Jr(l),f=Jr(c);return h.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(l,c){const h=l.split("/"),f=c.split("/");for(let p=0;p<h.length&&p<f.length;p++){const v=Ke(h[p],f[p]);if(v!==0)return v}return Ke(h.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,c){const h=Ke(Nt(l.latitude),Nt(c.latitude));return h!==0?h:Ke(Nt(l.longitude),Nt(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return MT(t.arrayValue,e.arrayValue);case 10:return(function(l,c){const h=l.fields||{},f=c.fields||{},p=h[yf]?.arrayValue,v=f[yf]?.arrayValue,b=Ke(p?.values?.length||0,v?.values?.length||0);return b!==0?b:MT(p,v)})(t.mapValue,e.mapValue);case 11:return(function(l,c){if(l===wd.mapValue&&c===wd.mapValue)return 0;if(l===wd.mapValue)return 1;if(c===wd.mapValue)return-1;const h=l.fields||{},f=Object.keys(h),p=c.fields||{},v=Object.keys(p);f.sort(),v.sort();for(let b=0;b<f.length&&b<v.length;++b){const w=M0(f[b],v[b]);if(w!==0)return w;const S=ml(h[f[b]],p[v[b]]);if(S!==0)return S}return Ke(f.length,v.length)})(t.mapValue,e.mapValue);default:throw De(23264,{he:n})}}function jT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ke(t,e);const n=Wr(t),i=Wr(e),a=Ke(n.seconds,i.seconds);return a!==0?a:Ke(n.nanos,i.nanos)}function MT(t,e){const n=t.values||[],i=e.values||[];for(let a=0;a<n.length&&a<i.length;++a){const l=ml(n[a],i[a]);if(l)return l}return Ke(n.length,i.length)}function pl(t){return V0(t)}function V0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const i=Wr(n);return`time(${i.seconds},${i.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Jr(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ce.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let i="[",a=!0;for(const l of n.values||[])a?a=!1:i+=",",i+=V0(l);return i+"]"})(t.arrayValue):"mapValue"in t?(function(n){const i=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of i)l?l=!1:a+=",",a+=`${c}:${V0(n.fields[c])}`;return a+"}"})(t.mapValue):De(61005,{value:t})}function Gd(t){switch(Zr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=$f(t);return e?16+Gd(e):16;case 5:return 2*t.stringValue.length;case 6:return Jr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((a,l)=>a+Gd(l)),0)})(t.arrayValue);case 10:case 11:return(function(i){let a=0;return eo(i.fields,((l,c)=>{a+=l.length+Gd(c)})),a})(t.mapValue);default:throw De(13486,{value:t})}}function VT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function O0(t){return!!t&&"integerValue"in t}function lv(t){return!!t&&"arrayValue"in t}function OT(t){return!!t&&"nullValue"in t}function PT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function $d(t){return!!t&&"mapValue"in t}function wP(t){return(t?.mapValue?.fields||{})[Q2]?.stringValue===W2}function tu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return eo(t.mapValue.fields,((n,i)=>e.mapValue.fields[n]=tu(i))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=tu(t.arrayValue.values[n]);return e}return{...t}}function TP(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===_P}class os{constructor(e){this.value=e}static empty(){return new os({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!$d(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=tu(n)}setAll(e){let n=hn.emptyPath(),i={},a=[];e.forEach(((c,h)=>{if(!n.isImmediateParentOf(h)){const f=this.getFieldsMap(n);this.applyChanges(f,i,a),i={},a=[],n=h.popLast()}c?i[h.lastSegment()]=tu(c):a.push(h.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,i,a)}delete(e){const n=this.field(e.popLast());$d(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return pi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=n.mapValue.fields[e.get(i)];$d(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,i){eo(n,((a,l)=>e[a]=l));for(const a of i)delete e[a]}clone(){return new os(tu(this.value))}}function J2(t){const e=[];return eo(t.fields,((n,i)=>{const a=new hn([n]);if($d(i)){const l=J2(i.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)})),new Ns(e)}class gn{constructor(e,n,i,a,l,c,h){this.key=e,this.documentType=n,this.version=i,this.readTime=a,this.createTime=l,this.data=c,this.documentState=h}static newInvalidDocument(e){return new gn(e,0,Ve.min(),Ve.min(),Ve.min(),os.empty(),0)}static newFoundDocument(e,n,i,a){return new gn(e,1,n,Ve.min(),i,a,0)}static newNoDocument(e,n){return new gn(e,2,n,Ve.min(),Ve.min(),os.empty(),0)}static newUnknownDocument(e,n){return new gn(e,3,n,Ve.min(),Ve.min(),os.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=os.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=os.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof gn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class vf{constructor(e,n){this.position=e,this.inclusive=n}}function LT(t,e,n){let i=0;for(let a=0;a<t.position.length;a++){const l=e[a],c=t.position[a];if(l.field.isKeyField()?i=Ce.comparator(Ce.fromName(c.referenceValue),n.key):i=ml(c,n.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function UT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!pi(t.position[n],e.position[n]))return!1;return!0}class vu{constructor(e,n="asc"){this.field=e,this.dir=n}}function EP(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class Z2{}class Bt extends Z2{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new AP(e,n,i):n==="array-contains"?new NP(e,i):n==="in"?new RP(e,i):n==="not-in"?new IP(e,i):n==="array-contains-any"?new DP(e,i):new Bt(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new kP(e,i):new CP(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ml(n,this.value)):n!==null&&Zr(this.value)===Zr(n)&&this.matchesComparison(ml(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return De(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Vs extends Z2{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Vs(e,n)}matches(e){return ek(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function ek(t){return t.op==="and"}function tk(t){return SP(t)&&ek(t)}function SP(t){for(const e of t.filters)if(e instanceof Vs)return!1;return!0}function P0(t){if(t instanceof Bt)return t.field.canonicalString()+t.op.toString()+pl(t.value);if(tk(t))return t.filters.map((e=>P0(e))).join(",");{const e=t.filters.map((n=>P0(n))).join(",");return`${t.op}(${e})`}}function nk(t,e){return t instanceof Bt?(function(i,a){return a instanceof Bt&&i.op===a.op&&i.field.isEqual(a.field)&&pi(i.value,a.value)})(t,e):t instanceof Vs?(function(i,a){return a instanceof Vs&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce(((l,c,h)=>l&&nk(c,a.filters[h])),!0):!1})(t,e):void De(19439)}function sk(t){return t instanceof Bt?(function(n){return`${n.field.canonicalString()} ${n.op} ${pl(n.value)}`})(t):t instanceof Vs?(function(n){return n.op.toString()+" {"+n.getFilters().map(sk).join(" ,")+"}"})(t):"Filter"}class AP extends Bt{constructor(e,n,i){super(e,n,i),this.key=Ce.fromName(i.referenceValue)}matches(e){const n=Ce.comparator(e.key,this.key);return this.matchesComparison(n)}}class kP extends Bt{constructor(e,n){super(e,"in",n),this.keys=ik("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class CP extends Bt{constructor(e,n){super(e,"not-in",n),this.keys=ik("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function ik(t,e){return(e.arrayValue?.values||[]).map((n=>Ce.fromName(n.referenceValue)))}class NP extends Bt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return lv(n)&&yu(n.arrayValue,this.value)}}class RP extends Bt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&yu(this.value.arrayValue,n)}}class IP extends Bt{constructor(e,n){super(e,"not-in",n)}matches(e){if(yu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!yu(this.value.arrayValue,n)}}class DP extends Bt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!lv(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>yu(this.value.arrayValue,i)))}}class jP{constructor(e,n=null,i=[],a=[],l=null,c=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=c,this.endAt=h,this.Te=null}}function zT(t,e=null,n=[],i=[],a=null,l=null,c=null){return new jP(t,e,n,i,a,l,c)}function cv(t){const e=Pe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((i=>P0(i))).join(","),n+="|ob:",n+=e.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),Gf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((i=>pl(i))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((i=>pl(i))).join(",")),e.Te=n}return e.Te}function uv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!EP(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!nk(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!UT(t.startAt,e.startAt)&&UT(t.endAt,e.endAt)}function L0(t){return Ce.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class Rl{constructor(e,n=null,i=[],a=[],l=null,c="F",h=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=c,this.startAt=h,this.endAt=f,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function MP(t,e,n,i,a,l,c,h){return new Rl(t,e,n,i,a,l,c,h)}function hv(t){return new Rl(t)}function BT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function VP(t){return Ce.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function rk(t){return t.collectionGroup!==null}function nu(t){const e=Pe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new Xt(hn.comparator);return c.filters.forEach((f=>{f.getFlattenedFilters().forEach((p=>{p.isInequality()&&(h=h.add(p.field))}))})),h})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new vu(l,i))})),n.has(hn.keyField().canonicalString())||e.Ie.push(new vu(hn.keyField(),i))}return e.Ie}function ci(t){const e=Pe(t);return e.Ee||(e.Ee=OP(e,nu(t))),e.Ee}function OP(t,e){if(t.limitType==="F")return zT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new vu(a.field,l)}));const n=t.endAt?new vf(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new vf(t.startAt.position,t.startAt.inclusive):null;return zT(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function U0(t,e){const n=t.filters.concat([e]);return new Rl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function PP(t,e){const n=t.explicitOrderBy.concat([e]);return new Rl(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function bf(t,e,n){return new Rl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Kf(t,e){return uv(ci(t),ci(e))&&t.limitType===e.limitType}function ak(t){return`${cv(ci(t))}|lt:${t.limitType}`}function Wo(t){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((a=>sk(a))).join(", ")}]`),Gf(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((a=>pl(a))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((a=>pl(a))).join(",")),`Target(${i})`})(ci(t))}; limitType=${t.limitType})`}function Yf(t,e){return e.isFoundDocument()&&(function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Ce.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(t,e)&&(function(i,a){for(const l of nu(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(i,a){return!(i.startAt&&!(function(c,h,f){const p=LT(c,h,f);return c.inclusive?p<=0:p<0})(i.startAt,nu(i),a)||i.endAt&&!(function(c,h,f){const p=LT(c,h,f);return c.inclusive?p>=0:p>0})(i.endAt,nu(i),a))})(t,e)}function LP(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function ok(t){return(e,n)=>{let i=!1;for(const a of nu(t)){const l=UP(a,e,n);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function UP(t,e,n){const i=t.field.isKeyField()?Ce.comparator(e.key,n.key):(function(l,c,h){const f=c.data.field(l),p=h.data.field(l);return f!==null&&p!==null?ml(f,p):De(42886)})(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return De(19790,{direction:t.dir})}}class to{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[n]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){eo(this.inner,((n,i)=>{for(const[a,l]of i)e(a,l)}))}isEmpty(){return q2(this.inner)}size(){return this.innerSize}}const zP=new _t(Ce.comparator);function Qi(){return zP}const lk=new _t(Ce.comparator);function Gc(...t){let e=lk;for(const n of t)e=e.insert(n.key,n);return e}function ck(t){let e=lk;return t.forEach(((n,i)=>e=e.insert(n,i.overlayedDocument))),e}function Ua(){return su()}function uk(){return su()}function su(){return new to((t=>t.toString()),((t,e)=>t.isEqual(e)))}const BP=new _t(Ce.comparator),FP=new Xt(Ce.comparator);function Ye(...t){let e=FP;for(const n of t)e=e.add(n);return e}const HP=new Xt(Ke);function qP(){return HP}function dv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pf(e)?"-0":e}}function hk(t){return{integerValue:""+t}}function GP(t,e){return pP(e)?hk(e):dv(t,e)}class Xf{constructor(){this._=void 0}}function $P(t,e,n){return t instanceof bu?(function(a,l){const c={fields:{[K2]:{stringValue:$2},[X2]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&ov(l)&&(l=$f(l)),l&&(c.fields[Y2]=l),{mapValue:c}})(n,e):t instanceof xu?fk(t,e):t instanceof _u?mk(t,e):(function(a,l){const c=dk(a,l),h=FT(c)+FT(a.Ae);return O0(c)&&O0(a.Ae)?hk(h):dv(a.serializer,h)})(t,e)}function KP(t,e,n){return t instanceof xu?fk(t,e):t instanceof _u?mk(t,e):n}function dk(t,e){return t instanceof xf?(function(i){return O0(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(e)?e:{integerValue:0}:null}class bu extends Xf{}class xu extends Xf{constructor(e){super(),this.elements=e}}function fk(t,e){const n=pk(e);for(const i of t.elements)n.some((a=>pi(a,i)))||n.push(i);return{arrayValue:{values:n}}}class _u extends Xf{constructor(e){super(),this.elements=e}}function mk(t,e){let n=pk(e);for(const i of t.elements)n=n.filter((a=>!pi(a,i)));return{arrayValue:{values:n}}}class xf extends Xf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function FT(t){return Nt(t.integerValue||t.doubleValue)}function pk(t){return lv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class YP{constructor(e,n){this.field=e,this.transform=n}}function XP(t,e){return t.field.isEqual(e.field)&&(function(i,a){return i instanceof xu&&a instanceof xu||i instanceof _u&&a instanceof _u?fl(i.elements,a.elements,pi):i instanceof xf&&a instanceof xf?pi(i.Ae,a.Ae):i instanceof bu&&a instanceof bu})(t.transform,e.transform)}class QP{constructor(e,n){this.version=e,this.transformResults=n}}class ui{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ui}static exists(e){return new ui(void 0,e)}static updateTime(e){return new ui(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Kd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Qf{}function gk(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new vk(t.key,ui.none()):new Mu(t.key,t.data,ui.none());{const n=t.data,i=os.empty();let a=new Xt(hn.comparator);for(let l of e.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?i.delete(l):i.set(l,c),a=a.add(l)}return new no(t.key,i,new Ns(a.toArray()),ui.none())}}function WP(t,e,n){t instanceof Mu?(function(a,l,c){const h=a.value.clone(),f=qT(a.fieldTransforms,l,c.transformResults);h.setAll(f),l.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(t,e,n):t instanceof no?(function(a,l,c){if(!Kd(a.precondition,l))return void l.convertToUnknownDocument(c.version);const h=qT(a.fieldTransforms,l,c.transformResults),f=l.data;f.setAll(yk(a)),f.setAll(h),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(t,e,n):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function iu(t,e,n,i){return t instanceof Mu?(function(l,c,h,f){if(!Kd(l.precondition,c))return h;const p=l.value.clone(),v=GT(l.fieldTransforms,f,c);return p.setAll(v),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null})(t,e,n,i):t instanceof no?(function(l,c,h,f){if(!Kd(l.precondition,c))return h;const p=GT(l.fieldTransforms,f,c),v=c.data;return v.setAll(yk(l)),v.setAll(p),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((b=>b.field)))})(t,e,n,i):(function(l,c,h){return Kd(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(t,e,n)}function JP(t,e){let n=null;for(const i of t.fieldTransforms){const a=e.data.field(i.field),l=dk(i.transform,a||null);l!=null&&(n===null&&(n=os.empty()),n.set(i.field,l))}return n||null}function HT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&fl(i,a,((l,c)=>XP(l,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Mu extends Qf{constructor(e,n,i,a=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class no extends Qf{constructor(e,n,i,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function yk(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}})),e}function qT(t,e,n){const i=new Map;tt(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let a=0;a<n.length;a++){const l=t[a],c=l.transform,h=e.data.field(l.field);i.set(l.field,KP(c,h,n[a]))}return i}function GT(t,e,n){const i=new Map;for(const a of t){const l=a.transform,c=n.data.field(a.field);i.set(a.field,$P(l,c,e))}return i}class vk extends Qf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ZP extends Qf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class eL{constructor(e,n,i,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&WP(l,e,i[a])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=iu(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=iu(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=uk();return this.mutations.forEach((a=>{const l=e.get(a.key),c=l.overlayedDocument;let h=this.applyToLocalView(c,l.mutatedFields);h=n.has(a.key)?null:h;const f=gk(c,h);f!==null&&i.set(a.key,f),c.isValidDocument()||c.convertToNoDocument(Ve.min())})),i}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ye())}isEqual(e){return this.batchId===e.batchId&&fl(this.mutations,e.mutations,((n,i)=>HT(n,i)))&&fl(this.baseMutations,e.baseMutations,((n,i)=>HT(n,i)))}}class fv{constructor(e,n,i,a){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=a}static from(e,n,i){tt(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let a=(function(){return BP})();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,i[c].version);return new fv(e,n,i,a)}}class tL{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class nL{constructor(e,n){this.count=e,this.unchangedNames=n}}var Ut,Qe;function sL(t){switch(t){case oe.OK:return De(64938);case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0;default:return De(15467,{code:t})}}function bk(t){if(t===void 0)return Xi("GRPC error has no .code"),oe.UNKNOWN;switch(t){case Ut.OK:return oe.OK;case Ut.CANCELLED:return oe.CANCELLED;case Ut.UNKNOWN:return oe.UNKNOWN;case Ut.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case Ut.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case Ut.INTERNAL:return oe.INTERNAL;case Ut.UNAVAILABLE:return oe.UNAVAILABLE;case Ut.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case Ut.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case Ut.NOT_FOUND:return oe.NOT_FOUND;case Ut.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case Ut.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case Ut.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case Ut.ABORTED:return oe.ABORTED;case Ut.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case Ut.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case Ut.DATA_LOSS:return oe.DATA_LOSS;default:return De(39323,{code:t})}}(Qe=Ut||(Ut={}))[Qe.OK=0]="OK",Qe[Qe.CANCELLED=1]="CANCELLED",Qe[Qe.UNKNOWN=2]="UNKNOWN",Qe[Qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qe[Qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qe[Qe.NOT_FOUND=5]="NOT_FOUND",Qe[Qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qe[Qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qe[Qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qe[Qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qe[Qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qe[Qe.ABORTED=10]="ABORTED",Qe[Qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qe[Qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qe[Qe.INTERNAL=13]="INTERNAL",Qe[Qe.UNAVAILABLE=14]="UNAVAILABLE",Qe[Qe.DATA_LOSS=15]="DATA_LOSS";function iL(){return new TextEncoder}const rL=new qr([4294967295,4294967295],0);function $T(t){const e=iL().encode(t),n=new j2;return n.update(e),new Uint8Array(n.digest())}function KT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new qr([n,i],0),new qr([a,l],0)]}class mv{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new $c(`Invalid padding: ${n}`);if(i<0)throw new $c(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new $c(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new $c(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=qr.fromNumber(this.ge)}ye(e,n,i){let a=e.add(n.multiply(qr.fromNumber(i)));return a.compare(rL)===1&&(a=new qr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=$T(e),[i,a]=KT(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,a,l);if(!this.we(c))return!1}return!0}static create(e,n,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new mv(l,a,n);return i.forEach((h=>c.insert(h))),c}insert(e){if(this.ge===0)return;const n=$T(e),[i,a]=KT(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,a,l);this.be(c)}}be(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class $c extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Wf{constructor(e,n,i,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const a=new Map;return a.set(e,Vu.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Wf(Ve.min(),a,new _t(Ke),Qi(),Ye())}}class Vu{constructor(e,n,i,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Vu(i,n,Ye(),Ye(),Ye())}}class Yd{constructor(e,n,i,a){this.Se=e,this.removedTargetIds=n,this.key=i,this.De=a}}class xk{constructor(e,n){this.targetId=e,this.Ce=n}}class _k{constructor(e,n,i=dn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=a}}class YT{constructor(){this.ve=0,this.Fe=XT(),this.Me=dn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ye(),n=Ye(),i=Ye();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:i=i.add(a);break;default:De(38017,{changeType:l})}})),new Vu(this.Me,this.xe,e,n,i)}Ke(){this.Oe=!1,this.Fe=XT()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,tt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class aL{constructor(e){this.Ge=e,this.ze=new Map,this.je=Qi(),this.He=Td(),this.Je=Td(),this.Ze=new _t(Ke)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.We(),i.Ne||i.Ke(),i.Le(e.resumeToken);break;case 2:i.We(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.Qe(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:De(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((i,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,i=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(L0(l))if(i===0){const c=new Ce(l.path);this.et(n,c,gn.newNoDocument(c,Ve.min()))}else tt(i===1,20013,{expectedCount:i});else{const c=this._t(n);if(c!==i){const h=this.ut(e),f=h?this.ct(h,e,c):1;if(f!==0){this.it(n);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=n;let c,h;try{c=Jr(i).toUint8Array()}catch(f){if(f instanceof G2)return Xa("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new mv(c,a,l)}catch(f){return Xa(f instanceof $c?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.ge===0?null:h}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let a=0;return i.forEach((l=>{const c=this.Ge.ht(),h=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(h)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,c)=>{const h=this.ot(c);if(h){if(l.current&&L0(h.target)){const f=new Ce(h.target.path);this.It(f).has(c)||this.Et(c,f)||this.et(c,f,gn.newNoDocument(f,e))}l.Be&&(n.set(c,l.ke()),l.Ke())}}));let i=Ye();this.Je.forEach(((l,c)=>{let h=!0;c.forEachWhile((f=>{const p=this.ot(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(i=i.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const a=new Wf(e,n,this.Ze,this.je,i);return this.je=Qi(),this.He=Td(),this.Je=Td(),this.Ze=new _t(Ke),a}Ye(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,i),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.qe(n,1):a.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new YT,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Xt(Ke),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Xt(Ke),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ge("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new YT),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Td(){return new _t(Ce.comparator)}function XT(){return new _t(Ce.comparator)}const oL={asc:"ASCENDING",desc:"DESCENDING"},lL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},cL={and:"AND",or:"OR"};class uL{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function z0(t,e){return t.useProto3Json||Gf(e)?e:{value:e}}function _f(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function wk(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function hL(t,e){return _f(t,e.toTimestamp())}function hi(t){return tt(!!t,49232),Ve.fromTimestamp((function(n){const i=Wr(n);return new gt(i.seconds,i.nanos)})(t))}function pv(t,e){return B0(t,e).canonicalString()}function B0(t,e){const n=(function(a){return new dt(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function Tk(t){const e=dt.fromString(t);return tt(Ck(e),10190,{key:e.toString()}),e}function F0(t,e){return pv(t.databaseId,e.path)}function Bg(t,e){const n=Tk(e);if(n.get(1)!==t.databaseId.projectId)throw new pe(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new pe(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ce(Sk(n))}function Ek(t,e){return pv(t.databaseId,e)}function dL(t){const e=Tk(t);return e.length===4?dt.emptyPath():Sk(e)}function H0(t){return new dt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Sk(t){return tt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function QT(t,e,n){return{name:F0(t,e),fields:n.value.mapValue.fields}}function fL(t,e){let n;if("targetChange"in e){e.targetChange;const i=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:De(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(p,v){return p.useProto3Json?(tt(v===void 0||typeof v=="string",58123),dn.fromBase64String(v||"")):(tt(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),dn.fromUint8Array(v||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&(function(p){const v=p.code===void 0?oe.UNKNOWN:bk(p.code);return new pe(v,p.message||"")})(c);n=new _k(i,a,l,h||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=Bg(t,i.document.name),l=hi(i.document.updateTime),c=i.document.createTime?hi(i.document.createTime):Ve.min(),h=new os({mapValue:{fields:i.document.fields}}),f=gn.newFoundDocument(a,l,c,h),p=i.targetIds||[],v=i.removedTargetIds||[];n=new Yd(p,v,f.key,f)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=Bg(t,i.document),l=i.readTime?hi(i.readTime):Ve.min(),c=gn.newNoDocument(a,l),h=i.removedTargetIds||[];n=new Yd([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=Bg(t,i.document),l=i.removedTargetIds||[];n=new Yd([],l,a,null)}else{if(!("filter"in e))return De(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,c=new nL(a,l),h=i.targetId;n=new xk(h,c)}}return n}function mL(t,e){let n;if(e instanceof Mu)n={update:QT(t,e.key,e.value)};else if(e instanceof vk)n={delete:F0(t,e.key)};else if(e instanceof no)n={update:QT(t,e.key,e.data),updateMask:TL(e.fieldMask)};else{if(!(e instanceof ZP))return De(16599,{dt:e.type});n={verify:F0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((i=>(function(l,c){const h=c.transform;if(h instanceof bu)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof xu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof _u)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof xf)return{fieldPath:c.field.canonicalString(),increment:h.Ae};throw De(20930,{transform:c.transform})})(0,i)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:hL(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:De(27497)})(t,e.precondition)),n}function pL(t,e){return t&&t.length>0?(tt(e!==void 0,14353),t.map((n=>(function(a,l){let c=a.updateTime?hi(a.updateTime):hi(l);return c.isEqual(Ve.min())&&(c=hi(l)),new QP(c,a.transformResults||[])})(n,e)))):[]}function gL(t,e){return{documents:[Ek(t,e.path)]}}function yL(t,e){const n={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=Ek(t,a);const l=(function(p){if(p.length!==0)return kk(Vs.create(p,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const c=(function(p){if(p.length!==0)return p.map((v=>(function(w){return{field:Jo(w.field),direction:xL(w.dir)}})(v)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const h=z0(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:a}}function vL(t){let e=dL(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let a=null;if(i>0){tt(i===1,65062);const v=n.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let l=[];n.where&&(l=(function(b){const w=Ak(b);return w instanceof Vs&&tk(w)?w.getFilters():[w]})(n.where));let c=[];n.orderBy&&(c=(function(b){return b.map((w=>(function(M){return new vu(Zo(M.field),(function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(M.direction))})(w)))})(n.orderBy));let h=null;n.limit&&(h=(function(b){let w;return w=typeof b=="object"?b.value:b,Gf(w)?null:w})(n.limit));let f=null;n.startAt&&(f=(function(b){const w=!!b.before,S=b.values||[];return new vf(S,w)})(n.startAt));let p=null;return n.endAt&&(p=(function(b){const w=!b.before,S=b.values||[];return new vf(S,w)})(n.endAt)),MP(e,a,c,l,h,"F",f,p)}function bL(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return De(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Ak(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Zo(n.unaryFilter.field);return Bt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=Zo(n.unaryFilter.field);return Bt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Zo(n.unaryFilter.field);return Bt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Zo(n.unaryFilter.field);return Bt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return De(61313);default:return De(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Bt.create(Zo(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return De(58110);default:return De(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Vs.create(n.compositeFilter.filters.map((i=>Ak(i))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return De(1026)}})(n.compositeFilter.op))})(t):De(30097,{filter:t})}function xL(t){return oL[t]}function _L(t){return lL[t]}function wL(t){return cL[t]}function Jo(t){return{fieldPath:t.canonicalString()}}function Zo(t){return hn.fromServerFormat(t.fieldPath)}function kk(t){return t instanceof Bt?(function(n){if(n.op==="=="){if(PT(n.value))return{unaryFilter:{field:Jo(n.field),op:"IS_NAN"}};if(OT(n.value))return{unaryFilter:{field:Jo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(PT(n.value))return{unaryFilter:{field:Jo(n.field),op:"IS_NOT_NAN"}};if(OT(n.value))return{unaryFilter:{field:Jo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Jo(n.field),op:_L(n.op),value:n.value}}})(t):t instanceof Vs?(function(n){const i=n.getFilters().map((a=>kk(a)));return i.length===1?i[0]:{compositeFilter:{op:wL(n.op),filters:i}}})(t):De(54877,{filter:t})}function TL(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Ck(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function Nk(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}class Br{constructor(e,n,i,a,l=Ve.min(),c=Ve.min(),h=dn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new Br(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class EL{constructor(e){this.yt=e}}function SL(t){const e=vL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?bf(e,e.limit,"L"):e}class AL{constructor(){this.Sn=new kL}addToCollectionParentIndex(e,n){return this.Sn.add(n),le.resolve()}getCollectionParents(e,n){return le.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return le.resolve()}deleteFieldIndex(e,n){return le.resolve()}deleteAllFieldIndexes(e){return le.resolve()}createTargetIndexes(e,n){return le.resolve()}getDocumentsMatchingTarget(e,n){return le.resolve(null)}getIndexType(e,n){return le.resolve(0)}getFieldIndexes(e,n){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,n){return le.resolve(Qr.min())}getMinOffsetFromCollectionGroup(e,n){return le.resolve(Qr.min())}updateCollectionGroup(e,n,i){return le.resolve()}updateIndexEntries(e,n){return le.resolve()}}class kL{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n]||new Xt(dt.comparator),l=!a.has(i);return this.index[n]=a.add(i),l}has(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n];return a&&a.has(i)}getEntries(e){return(this.index[e]||new Xt(dt.comparator)).toArray()}}const WT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Rk=41943040;class jn{static withCacheSize(e){return new jn(e,jn.DEFAULT_COLLECTION_PERCENTILE,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}jn.DEFAULT_COLLECTION_PERCENTILE=10,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,jn.DEFAULT=new jn(Rk,jn.DEFAULT_COLLECTION_PERCENTILE,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),jn.DISABLED=new jn(-1,0,0);class gl{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new gl(0)}static ar(){return new gl(-1)}}const JT="LruGarbageCollector",CL=1048576;function ZT([t,e],[n,i]){const a=Ke(t,n);return a===0?Ke(e,i):a}class NL{constructor(e){this.Pr=e,this.buffer=new Xt(ZT),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();ZT(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class RL{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ge(JT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Nl(n)?ge(JT,"Ignoring IndexedDB error during garbage collection: ",n):await Cl(n)}await this.Ar(3e5)}))}}class IL{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(e,n){if(n===0)return le.resolve(qf.ce);const i=new NL(n);return this.Vr.forEachTarget(e,(a=>i.Er(a.sequenceNumber))).next((()=>this.Vr.mr(e,(a=>i.Er(a))))).next((()=>i.maxValue))}removeTargets(e,n,i){return this.Vr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ge("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(WT)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),WT):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let i,a,l,c,h,f,p;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),a=this.params.maximumSequenceNumbersToCollect):a=b,c=Date.now(),this.nthSequenceNumber(e,a)))).next((b=>(i=b,h=Date.now(),this.removeTargets(e,i,n)))).next((b=>(l=b,f=Date.now(),this.removeOrphanedDocuments(e,i)))).next((b=>(p=Date.now(),Qo()<=$e.DEBUG&&ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${a} in `+(h-c)+`ms
	Removed ${l} targets in `+(f-h)+`ms
	Removed ${b} documents in `+(p-f)+`ms
Total Duration: ${p-v}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:b}))))}}function DL(t,e){return new IL(t,e)}class jL{constructor(){this.changes=new to((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,gn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?le.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ML{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class VL{constructor(e,n,i,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(i=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(i!==null&&iu(i.mutation,a,Ns.empty(),gt.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.getLocalViewOfDocuments(e,i,Ye()).next((()=>i))))}getLocalViewOfDocuments(e,n,i=Ye()){const a=Ua();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,i).next((l=>{let c=Gc();return l.forEach(((h,f)=>{c=c.insert(h,f.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const i=Ua();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,Ye())))}populateOverlays(e,n,i){const a=[];return i.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((c,h)=>{n.set(c,h)}))}))}computeViews(e,n,i,a){let l=Qi();const c=su(),h=(function(){return su()})();return n.forEach(((f,p)=>{const v=i.get(p.key);a.has(p.key)&&(v===void 0||v.mutation instanceof no)?l=l.insert(p.key,p):v!==void 0?(c.set(p.key,v.mutation.getFieldMask()),iu(v.mutation,p,v.mutation.getFieldMask(),gt.now())):c.set(p.key,Ns.empty())})),this.recalculateAndSaveOverlays(e,l).next((f=>(f.forEach(((p,v)=>c.set(p,v))),n.forEach(((p,v)=>h.set(p,new ML(v,c.get(p)??null)))),h)))}recalculateAndSaveOverlays(e,n){const i=su();let a=new _t(((c,h)=>c-h)),l=Ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const h of c)h.keys().forEach((f=>{const p=n.get(f);if(p===null)return;let v=i.get(f)||Ns.empty();v=h.applyToLocalView(p,v),i.set(f,v);const b=(a.get(h.batchId)||Ye()).add(f);a=a.insert(h.batchId,b)}))})).next((()=>{const c=[],h=a.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),p=f.key,v=f.value,b=uk();v.forEach((w=>{if(!l.has(w)){const S=gk(n.get(w),i.get(w));S!==null&&b.set(w,S),l=l.add(w)}})),c.push(this.documentOverlayCache.saveOverlays(e,p,b))}return le.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,n,i,a){return VP(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):rk(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,a):this.getDocumentsMatchingCollectionQuery(e,n,i,a)}getNextDocuments(e,n,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,a-l.size):le.resolve(Ua());let h=mu,f=l;return c.next((p=>le.forEach(p,((v,b)=>(h<b.largestBatchId&&(h=b.largestBatchId),l.get(v)?le.resolve():this.remoteDocumentCache.getEntry(e,v).next((w=>{f=f.insert(v,w)}))))).next((()=>this.populateOverlays(e,p,l))).next((()=>this.computeViews(e,f,p,Ye()))).next((v=>({batchId:h,changes:ck(v)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ce(n)).next((i=>{let a=Gc();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,i,a){const l=n.collectionGroup;let c=Gc();return this.indexManager.getCollectionParents(e,l).next((h=>le.forEach(h,(f=>{const p=(function(b,w){return new Rl(w,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,f.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,i,a).next((v=>{v.forEach(((b,w)=>{c=c.insert(b,w)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,l,a)))).next((c=>{l.forEach(((f,p)=>{const v=p.getKey();c.get(v)===null&&(c=c.insert(v,gn.newInvalidDocument(v)))}));let h=Gc();return c.forEach(((f,p)=>{const v=l.get(f);v!==void 0&&iu(v.mutation,p,Ns.empty(),gt.now()),Yf(n,p)&&(h=h.insert(f,p))})),h}))}}class OL{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return le.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:hi(a.createTime)}})(n)),le.resolve()}getNamedQuery(e,n){return le.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(a){return{name:a.name,query:SL(a.bundledQuery),readTime:hi(a.readTime)}})(n)),le.resolve()}}class PL{constructor(){this.overlays=new _t(Ce.comparator),this.Lr=new Map}getOverlay(e,n){return le.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Ua();return le.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&i.set(a,l)})))).next((()=>i))}saveOverlays(e,n,i){return i.forEach(((a,l)=>{this.bt(e,n,l)})),le.resolve()}removeOverlaysForBatchId(e,n,i){const a=this.Lr.get(i);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(i)),le.resolve()}getOverlaysForCollection(e,n,i){const a=Ua(),l=n.length+1,c=new Ce(n.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const f=h.getNext().value,p=f.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&f.largestBatchId>i&&a.set(f.getKey(),f)}return le.resolve(a)}getOverlaysForCollectionGroup(e,n,i,a){let l=new _t(((p,v)=>p-v));const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>i){let v=l.get(p.largestBatchId);v===null&&(v=Ua(),l=l.insert(p.largestBatchId,v)),v.set(p.getKey(),p)}}const h=Ua(),f=l.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((p,v)=>h.set(p,v))),!(h.size()>=a)););return le.resolve(h)}bt(e,n,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.Lr.get(a.largestBatchId).delete(i.key);this.Lr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new tL(n,i));let l=this.Lr.get(n);l===void 0&&(l=Ye(),this.Lr.set(n,l)),this.Lr.set(n,l.add(i.key))}}class LL{constructor(){this.sessionToken=dn.EMPTY_BYTE_STRING}getSessionToken(e){return le.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,le.resolve()}}class gv{constructor(){this.kr=new Xt(tn.Kr),this.qr=new Xt(tn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const i=new tn(e,n);this.kr=this.kr.add(i),this.qr=this.qr.add(i)}$r(e,n){e.forEach((i=>this.addReference(i,n)))}removeReference(e,n){this.Wr(new tn(e,n))}Qr(e,n){e.forEach((i=>this.removeReference(i,n)))}Gr(e){const n=new Ce(new dt([])),i=new tn(n,e),a=new tn(n,e+1),l=[];return this.qr.forEachInRange([i,a],(c=>{this.Wr(c),l.push(c.key)})),l}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new Ce(new dt([])),i=new tn(n,e),a=new tn(n,e+1);let l=Ye();return this.qr.forEachInRange([i,a],(c=>{l=l.add(c.key)})),l}containsKey(e){const n=new tn(e,0),i=this.kr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class tn{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return Ce.comparator(e.key,n.key)||Ke(e.Hr,n.Hr)}static Ur(e,n){return Ke(e.Hr,n.Hr)||Ce.comparator(e.key,n.key)}}class UL{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Xt(tn.Kr)}checkEmpty(e){return le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,a){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new eL(l,n,i,a);this.mutationQueue.push(c);for(const h of a)this.Jr=this.Jr.add(new tn(h.key,l)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return le.resolve(c)}lookupMutationBatch(e,n){return le.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,a=this.Xr(i),l=a<0?0:a;return le.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(this.mutationQueue.length===0?av:this.Yn-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new tn(n,0),a=new tn(n,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([i,a],(c=>{const h=this.Zr(c.Hr);l.push(h)})),le.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Xt(Ke);return n.forEach((a=>{const l=new tn(a,0),c=new tn(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,c],(h=>{i=i.add(h.Hr)}))})),le.resolve(this.Yr(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,a=i.length+1;let l=i;Ce.isDocumentKey(l)||(l=l.child(""));const c=new tn(new Ce(l),0);let h=new Xt(Ke);return this.Jr.forEachWhile((f=>{const p=f.key.path;return!!i.isPrefixOf(p)&&(p.length===a&&(h=h.add(f.Hr)),!0)}),c),le.resolve(this.Yr(h))}Yr(e){const n=[];return e.forEach((i=>{const a=this.Zr(i);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){tt(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Jr;return le.forEach(n.mutations,(a=>{const l=new tn(a.key,n.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Jr=i}))}nr(e){}containsKey(e,n){const i=new tn(n,0),a=this.Jr.firstAfterOrEqual(i);return le.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,le.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class zL{constructor(e){this.ti=e,this.docs=(function(){return new _t(Ce.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,a=this.docs.get(i),l=a?a.size:0,c=this.ti(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return le.resolve(i?i.document.mutableCopy():gn.newInvalidDocument(n))}getEntries(e,n){let i=Qi();return n.forEach((a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():gn.newInvalidDocument(a))})),le.resolve(i)}getDocumentsMatchingQuery(e,n,i,a){let l=Qi();const c=n.path,h=new Ce(c.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:p,value:{document:v}}=f.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||hP(uP(v),i)<=0||(a.has(v.key)||Yf(n,v))&&(l=l.insert(v.key,v.mutableCopy()))}return le.resolve(l)}getAllFromCollectionGroup(e,n,i,a){De(9500)}ni(e,n){return le.forEach(this.docs,(i=>n(i)))}newChangeBuffer(e){return new BL(this)}getSize(e){return le.resolve(this.size)}}class BL extends jL{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((i,a)=>{a.isValidDocument()?n.push(this.Mr.addEntry(e,a)):this.Mr.removeEntry(i)})),le.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class FL{constructor(e){this.persistence=e,this.ri=new to((n=>cv(n)),uv),this.lastRemoteSnapshotVersion=Ve.min(),this.highestTargetId=0,this.ii=0,this.si=new gv,this.targetCount=0,this.oi=gl._r()}forEachTarget(e,n){return this.ri.forEach(((i,a)=>n(a))),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.ii&&(this.ii=n),le.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new gl(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,le.resolve()}updateTargetData(e,n){return this.lr(n),le.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,n,i){let a=0;const l=[];return this.ri.forEach(((c,h)=>{h.sequenceNumber<=n&&i.get(h.targetId)===null&&(this.ri.delete(c),l.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)})),le.waitFor(l).next((()=>a))}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,n){const i=this.ri.get(n)||null;return le.resolve(i)}addMatchingKeys(e,n,i){return this.si.$r(n,i),le.resolve()}removeMatchingKeys(e,n,i){this.si.Qr(n,i);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((c=>{l.push(a.markPotentiallyOrphaned(e,c))})),le.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),le.resolve()}getMatchingKeysForTargetId(e,n){const i=this.si.jr(n);return le.resolve(i)}containsKey(e,n){return le.resolve(this.si.containsKey(n))}}class Ik{constructor(e,n){this._i={},this.overlays={},this.ai=new qf(0),this.ui=!1,this.ui=!0,this.ci=new LL,this.referenceDelegate=e(this),this.li=new FL(this),this.indexManager=new AL,this.remoteDocumentCache=(function(a){return new zL(a)})((i=>this.referenceDelegate.hi(i))),this.serializer=new EL(n),this.Pi=new OL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new PL,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this._i[e.toKey()];return i||(i=new UL(n,this.referenceDelegate),this._i[e.toKey()]=i),i}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,i){ge("MemoryPersistence","Starting transaction:",e);const a=new HL(this.ai.next());return this.referenceDelegate.Ti(),i(a).next((l=>this.referenceDelegate.Ii(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ei(e,n){return le.or(Object.values(this._i).map((i=>()=>i.containsKey(e,n))))}}class HL extends fP{constructor(e){super(),this.currentSequenceNumber=e}}class yv{constructor(e){this.persistence=e,this.Ri=new gv,this.Ai=null}static Vi(e){return new yv(e)}get di(){if(this.Ai)return this.Ai;throw De(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.di.delete(i.toString()),le.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.di.add(i.toString()),le.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),le.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((a=>this.di.add(a.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.di.add(l.toString())))})).next((()=>i.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.di,(i=>{const a=Ce.fromPath(i);return this.mi(e,a).next((l=>{l||n.removeEntry(a,Ve.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((i=>{i?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return le.or([()=>le.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class wf{constructor(e,n){this.persistence=e,this.fi=new to((i=>gP(i.path)),((i,a)=>i.isEqual(a))),this.garbageCollector=DL(this,n)}static Vi(e,n){return new wf(e,n)}Ti(){}Ii(e){return le.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>n.next((a=>i+a))))}pr(e){let n=0;return this.mr(e,(i=>{n++})).next((()=>n))}mr(e,n){return le.forEach(this.fi,((i,a)=>this.wr(e,i,a).next((l=>l?le.resolve():n(a)))))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ni(e,(c=>this.wr(e,c,n).next((h=>{h||(i++,l.removeEntry(c,Ve.min()))})))).next((()=>l.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),le.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.fi.set(i,e.currentSequenceNumber),le.resolve()}removeReference(e,n,i){return this.fi.set(i,e.currentSequenceNumber),le.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),le.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Gd(e.data.value)),n}wr(e,n,i){return le.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.fi.get(n);return le.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class vv{constructor(e,n,i,a){this.targetId=e,this.fromCache=n,this.Ts=i,this.Is=a}static Es(e,n){let i=Ye(),a=Ye();for(const l of n.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new vv(e,n.fromCache,i,a)}}class qL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class GL{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return N3()?8:mP(vn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,a){const l={result:null};return this.gs(e,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ps(e,n,a,i).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new qL;return this.ys(e,n,c).next((h=>{if(l.result=h,this.As)return this.ws(e,n,c,h.size)}))})).next((()=>l.result))}ws(e,n,i,a){return i.documentReadCount<this.Vs?(Qo()<=$e.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",Wo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),le.resolve()):(Qo()<=$e.DEBUG&&ge("QueryEngine","Query:",Wo(n),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.ds*a?(Qo()<=$e.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",Wo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ci(n))):le.resolve())}gs(e,n){if(BT(n))return le.resolve(null);let i=ci(n);return this.indexManager.getIndexType(e,i).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=bf(n,null,"F"),i=ci(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next((l=>{const c=Ye(...l);return this.fs.getDocuments(e,c).next((h=>this.indexManager.getMinOffset(e,i).next((f=>{const p=this.bs(n,h);return this.Ss(n,p,c,f.readTime)?this.gs(e,bf(n,null,"F")):this.Ds(e,p,n,f)}))))})))))}ps(e,n,i,a){return BT(n)||a.isEqual(Ve.min())?le.resolve(null):this.fs.getDocuments(e,i).next((l=>{const c=this.bs(n,l);return this.Ss(n,c,i,a)?le.resolve(null):(Qo()<=$e.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Wo(n)),this.Ds(e,c,n,cP(a,mu)).next((h=>h)))}))}bs(e,n){let i=new Xt(ok(e));return n.forEach(((a,l)=>{Yf(e,l)&&(i=i.add(l))})),i}Ss(e,n,i,a){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}ys(e,n,i){return Qo()<=$e.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",Wo(n)),this.fs.getDocumentsMatchingQuery(e,n,Qr.min(),i)}Ds(e,n,i,a){return this.fs.getDocumentsMatchingQuery(e,i,a).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}const bv="LocalStore",$L=3e8;class KL{constructor(e,n,i,a){this.persistence=e,this.Cs=n,this.serializer=a,this.vs=new _t(Ke),this.Fs=new to((l=>cv(l)),uv),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(i)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new VL(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function YL(t,e,n,i){return new KL(t,e,n,i)}async function Dk(t,e){const n=Pe(t);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let a;return n.mutationQueue.getAllMutationBatches(i).next((l=>(a=l,n.Os(e),n.mutationQueue.getAllMutationBatches(i)))).next((l=>{const c=[],h=[];let f=Ye();for(const p of a){c.push(p.batchId);for(const v of p.mutations)f=f.add(v.key)}for(const p of l){h.push(p.batchId);for(const v of p.mutations)f=f.add(v.key)}return n.localDocuments.getDocuments(i,f).next((p=>({Ns:p,removedBatchIds:c,addedBatchIds:h})))}))}))}function XL(t,e){const n=Pe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const a=e.batch.keys(),l=n.xs.newChangeBuffer({trackRemovals:!0});return(function(h,f,p,v){const b=p.batch,w=b.keys();let S=le.resolve();return w.forEach((M=>{S=S.next((()=>v.getEntry(f,M))).next((O=>{const V=p.docVersions.get(M);tt(V!==null,48541),O.version.compareTo(V)<0&&(b.applyToRemoteDocument(O,p),O.isValidDocument()&&(O.setReadTime(p.commitVersion),v.addEntry(O)))}))})),S.next((()=>h.mutationQueue.removeMutationBatch(f,b)))})(n,i,e,l).next((()=>l.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(h){let f=Ye();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(f=f.add(h.batch.mutations[p].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(i,a)))}))}function jk(t){const e=Pe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function QL(t,e){const n=Pe(t),i=e.snapshotVersion;let a=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.xs.newChangeBuffer({trackRemovals:!0});a=n.vs;const h=[];e.targetChanges.forEach(((v,b)=>{const w=a.get(b);if(!w)return;h.push(n.li.removeMatchingKeys(l,v.removedDocuments,b).next((()=>n.li.addMatchingKeys(l,v.addedDocuments,b))));let S=w.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(b)!==null?S=S.withResumeToken(dn.EMPTY_BYTE_STRING,Ve.min()).withLastLimboFreeSnapshotVersion(Ve.min()):v.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(v.resumeToken,i)),a=a.insert(b,S),(function(O,V,P){return O.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=$L?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0})(w,S,v)&&h.push(n.li.updateTargetData(l,S))}));let f=Qi(),p=Ye();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(l,v))})),h.push(WL(l,c,e.documentUpdates).next((v=>{f=v.Bs,p=v.Ls}))),!i.isEqual(Ve.min())){const v=n.li.getLastRemoteSnapshotVersion(l).next((b=>n.li.setTargetsMetadata(l,l.currentSequenceNumber,i)));h.push(v)}return le.waitFor(h).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,f,p))).next((()=>f))})).then((l=>(n.vs=a,l)))}function WL(t,e,n){let i=Ye(),a=Ye();return n.forEach((l=>i=i.add(l))),e.getEntries(t,i).next((l=>{let c=Qi();return n.forEach(((h,f)=>{const p=l.get(h);f.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(h)),f.isNoDocument()&&f.version.isEqual(Ve.min())?(e.removeEntry(h,f.readTime),c=c.insert(h,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),c=c.insert(h,f)):ge(bv,"Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",f.version)})),{Bs:c,Ls:a}}))}function JL(t,e){const n=Pe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=av),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function ZL(t,e){const n=Pe(t);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let a;return n.li.getTargetData(i,e).next((l=>l?(a=l,le.resolve(a)):n.li.allocateTargetId(i).next((c=>(a=new Br(e,c,"TargetPurposeListen",i.currentSequenceNumber),n.li.addTargetData(i,a).next((()=>a)))))))})).then((i=>{const a=n.vs.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.vs=n.vs.insert(i.targetId,i),n.Fs.set(e,i.targetId)),i}))}async function q0(t,e,n){const i=Pe(t),a=i.vs.get(e),l=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",l,(c=>i.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!Nl(c))throw c;ge(bv,`Failed to update sequence numbers for target ${e}: ${c}`)}i.vs=i.vs.remove(e),i.Fs.delete(a.target)}function eE(t,e,n){const i=Pe(t);let a=Ve.min(),l=Ye();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(f,p,v){const b=Pe(f),w=b.Fs.get(v);return w!==void 0?le.resolve(b.vs.get(w)):b.li.getTargetData(p,v)})(i,c,ci(e)).next((h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,i.li.getMatchingKeysForTargetId(c,h.targetId).next((f=>{l=f}))})).next((()=>i.Cs.getDocumentsMatchingQuery(c,e,n?a:Ve.min(),n?l:Ye()))).next((h=>(e9(i,LP(e),h),{documents:h,ks:l})))))}function e9(t,e,n){let i=t.Ms.get(e)||Ve.min();n.forEach(((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),t.Ms.set(e,i)}class tE{constructor(){this.activeTargetIds=qP()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class t9{constructor(){this.vo=new tE,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,i){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new tE,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class n9{Mo(e){}shutdown(){}}const nE="ConnectivityMonitor";class sE{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ge(nE,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ge(nE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Ed=null;function G0(){return Ed===null?Ed=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ed++,"0x"+Ed.toString(16)}const Fg="RestConnection",s9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class i9{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${i}/databases/${a}`,this.$o=this.databaseId.database===gf?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Wo(e,n,i,a,l){const c=G0(),h=this.Qo(e,n.toUriEncodedString());ge(Fg,`Sending RPC '${e}' ${c}:`,h,i);const f={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(f,a,l);const{host:p}=new URL(h),v=Ja(p);return this.zo(e,h,f,i,v).then((b=>(ge(Fg,`Received RPC '${e}' ${c}: `,b),b)),(b=>{throw Xa(Fg,`RPC '${e}' ${c} failed with error: `,b,"url: ",h,"request:",i),b}))}jo(e,n,i,a,l,c){return this.Wo(e,n,i,a,l)}Go(e,n,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+kl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),i&&i.headers.forEach(((a,l)=>e[l]=a))}Qo(e,n){const i=s9[e];let a=`${this.qo}/v1/${n}:${i}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}class r9{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const mn="WebChannelConnection",Bc=(t,e,n)=>{t.listen(e,(i=>{try{n(i)}catch(a){setTimeout((()=>{throw a}),0)}}))};class cl extends i9{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!cl.c_){const e=P2();Bc(e,O2.STAT_EVENT,(n=>{n.stat===j0.PROXY?ge(mn,"STAT_EVENT: detected buffering proxy"):n.stat===j0.NOPROXY&&ge(mn,"STAT_EVENT: detected no buffering proxy")})),cl.c_=!0}}zo(e,n,i,a,l){const c=G0();return new Promise(((h,f)=>{const p=new M2;p.setWithCredentials(!0),p.listenOnce(V2.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case qd.NO_ERROR:const b=p.getResponseJson();ge(mn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(b)),h(b);break;case qd.TIMEOUT:ge(mn,`RPC '${e}' ${c} timed out`),f(new pe(oe.DEADLINE_EXCEEDED,"Request time out"));break;case qd.HTTP_ERROR:const w=p.getStatus();if(ge(mn,`RPC '${e}' ${c} failed with status:`,w,"response text:",p.getResponseText()),w>0){let S=p.getResponseJson();Array.isArray(S)&&(S=S[0]);const M=S?.error;if(M&&M.status&&M.message){const O=(function(P){const F=P.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(F)>=0?F:oe.UNKNOWN})(M.status);f(new pe(O,M.message))}else f(new pe(oe.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new pe(oe.UNAVAILABLE,"Connection failed."));break;default:De(9055,{l_:e,streamId:c,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ge(mn,`RPC '${e}' ${c} completed.`)}}));const v=JSON.stringify(a);ge(mn,`RPC '${e}' ${c} sending request:`,a),p.send(n,"POST",v,i,15)}))}T_(e,n,i){const a=G0(),l=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=this.createWebChannelTransport(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(h.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Go(h.initMessageHeaders,n,i),h.encodeInitMessageHeaders=!0;const p=l.join("");ge(mn,`Creating RPC '${e}' stream ${a}: ${p}`,h);const v=c.createWebChannel(p,h);this.I_(v);let b=!1,w=!1;const S=new r9({Ho:M=>{w?ge(mn,`Not sending because RPC '${e}' stream ${a} is closed:`,M):(b||(ge(mn,`Opening RPC '${e}' stream ${a} transport.`),v.open(),b=!0),ge(mn,`RPC '${e}' stream ${a} sending:`,M),v.send(M))},Jo:()=>v.close()});return Bc(v,qc.EventType.OPEN,(()=>{w||(ge(mn,`RPC '${e}' stream ${a} transport opened.`),S.i_())})),Bc(v,qc.EventType.CLOSE,(()=>{w||(w=!0,ge(mn,`RPC '${e}' stream ${a} transport closed`),S.o_(),this.E_(v))})),Bc(v,qc.EventType.ERROR,(M=>{w||(w=!0,Xa(mn,`RPC '${e}' stream ${a} transport errored. Name:`,M.name,"Message:",M.message),S.o_(new pe(oe.UNAVAILABLE,"The operation could not be completed")))})),Bc(v,qc.EventType.MESSAGE,(M=>{if(!w){const O=M.data[0];tt(!!O,16349);const V=O,P=V?.error||V[0]?.error;if(P){ge(mn,`RPC '${e}' stream ${a} received error:`,P);const F=P.status;let H=(function(re){const j=Ut[re];if(j!==void 0)return bk(j)})(F),ee=P.message;F==="NOT_FOUND"&&ee.includes("database")&&ee.includes("does not exist")&&ee.includes(this.databaseId.database)&&Xa(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),H===void 0&&(H=oe.INTERNAL,ee="Unknown error status: "+F+" with message "+P.message),w=!0,S.o_(new pe(H,ee)),v.close()}else ge(mn,`RPC '${e}' stream ${a} received:`,O),S.__(O)}})),cl.u_(),setTimeout((()=>{S.s_()}),0),S}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,i){super.Go(e,n,i),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return L2()}}function a9(t){return new cl(t)}function Hg(){return typeof document<"u"?document:null}function Jf(t){return new uL(t,!0)}cl.c_=!1;class Mk{constructor(e,n,i=1e3,a=1.5,l=6e4){this.Ci=e,this.timerId=n,this.R_=i,this.A_=a,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-i);a>0&&ge("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const iE="PersistentStream";class Vk{constructor(e,n,i,a,l,c,h,f){this.Ci=e,this.b_=i,this.S_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Mk(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===oe.RESOURCE_EXHAUSTED?(Xi(n.toString()),Xi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,a])=>{this.D_===n&&this.G_(i,a)}),(i=>{e((()=>{const a=new pe(oe.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)}))}))}G_(e,n){const i=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{i((()=>this.listener.Zo()))})),this.stream.Yo((()=>{i((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{i((()=>this.z_(a)))})),this.stream.onMessage((a=>{i((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ge(iE,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(ge(iE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class o9 extends Vk{constructor(e,n,i,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,a,c),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=fL(this.serializer,e),i=(function(l){if(!("targetChange"in l))return Ve.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Ve.min():c.readTime?hi(c.readTime):Ve.min()})(e);return this.listener.J_(n,i)}Z_(e){const n={};n.database=H0(this.serializer),n.addTarget=(function(l,c){let h;const f=c.target;if(h=L0(f)?{documents:gL(l,f)}:{query:yL(l,f).ft},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=wk(l,c.resumeToken);const p=z0(l,c.expectedCount);p!==null&&(h.expectedCount=p)}else if(c.snapshotVersion.compareTo(Ve.min())>0){h.readTime=_f(l,c.snapshotVersion.toTimestamp());const p=z0(l,c.expectedCount);p!==null&&(h.expectedCount=p)}return h})(this.serializer,e);const i=bL(this.serializer,e);i&&(n.labels=i),this.K_(n)}X_(e){const n={};n.database=H0(this.serializer),n.removeTarget=e,this.K_(n)}}class l9 extends Vk{constructor(e,n,i,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,a,c),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return tt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,tt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){tt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=pL(e.writeResults,e.commitTime),i=hi(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=H0(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((i=>mL(this.serializer,i)))};this.K_(n)}}class c9{}class u9 extends c9{constructor(e,n,i,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new pe(oe.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Wo(e,B0(n,i),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new pe(oe.UNKNOWN,l.toString())}))}jo(e,n,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.jo(e,B0(n,i),a,c,h,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new pe(oe.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function h9(t,e,n,i){return new u9(t,e,n,i)}class d9{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Xi(n),this.aa=!1):ge("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Qa="RemoteStore";class f9{constructor(e,n,i,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((c=>{i.enqueueAndForget((async()=>{so(this)&&(ge(Qa,"Restarting streams for network reachability change."),await(async function(f){const p=Pe(f);p.Ea.add(4),await Ou(p),p.Va.set("Unknown"),p.Ea.delete(4),await Zf(p)})(this))}))})),this.Va=new d9(i,a)}}async function Zf(t){if(so(t))for(const e of t.Ra)await e(!0)}async function Ou(t){for(const e of t.Ra)await e(!1)}function Ok(t,e){const n=Pe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Tv(n)?wv(n):Il(n).O_()&&_v(n,e))}function xv(t,e){const n=Pe(t),i=Il(n);n.Ia.delete(e),i.O_()&&Pk(n,e),n.Ia.size===0&&(i.O_()?i.L_():so(n)&&n.Va.set("Unknown"))}function _v(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ve.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Il(t).Z_(e)}function Pk(t,e){t.da.$e(e),Il(t).X_(e)}function wv(t){t.da=new aL({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Il(t).start(),t.Va.ua()}function Tv(t){return so(t)&&!Il(t).x_()&&t.Ia.size>0}function so(t){return Pe(t).Ea.size===0}function Lk(t){t.da=void 0}async function m9(t){t.Va.set("Online")}async function p9(t){t.Ia.forEach(((e,n)=>{_v(t,e)}))}async function g9(t,e){Lk(t),Tv(t)?(t.Va.ha(e),wv(t)):t.Va.set("Unknown")}async function y9(t,e,n){if(t.Va.set("Online"),e instanceof _k&&e.state===2&&e.cause)try{await(async function(a,l){const c=l.cause;for(const h of l.targetIds)a.Ia.has(h)&&(await a.remoteSyncer.rejectListen(h,c),a.Ia.delete(h),a.da.removeTarget(h))})(t,e)}catch(i){ge(Qa,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Tf(t,i)}else if(e instanceof Yd?t.da.Xe(e):e instanceof xk?t.da.st(e):t.da.tt(e),!n.isEqual(Ve.min()))try{const i=await jk(t.localStore);n.compareTo(i)>=0&&await(function(l,c){const h=l.da.Tt(c);return h.targetChanges.forEach(((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const v=l.Ia.get(p);v&&l.Ia.set(p,v.withResumeToken(f.resumeToken,c))}})),h.targetMismatches.forEach(((f,p)=>{const v=l.Ia.get(f);if(!v)return;l.Ia.set(f,v.withResumeToken(dn.EMPTY_BYTE_STRING,v.snapshotVersion)),Pk(l,f);const b=new Br(v.target,f,p,v.sequenceNumber);_v(l,b)})),l.remoteSyncer.applyRemoteEvent(h)})(t,n)}catch(i){ge(Qa,"Failed to raise snapshot:",i),await Tf(t,i)}}async function Tf(t,e,n){if(!Nl(e))throw e;t.Ea.add(1),await Ou(t),t.Va.set("Offline"),n||(n=()=>jk(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ge(Qa,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Zf(t)}))}function Uk(t,e){return e().catch((n=>Tf(t,n,e)))}async function em(t){const e=Pe(t),n=ea(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:av;for(;v9(e);)try{const a=await JL(e.localStore,i);if(a===null){e.Ta.length===0&&n.L_();break}i=a.batchId,b9(e,a)}catch(a){await Tf(e,a)}zk(e)&&Bk(e)}function v9(t){return so(t)&&t.Ta.length<10}function b9(t,e){t.Ta.push(e);const n=ea(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function zk(t){return so(t)&&!ea(t).x_()&&t.Ta.length>0}function Bk(t){ea(t).start()}async function x9(t){ea(t).ra()}async function _9(t){const e=ea(t);for(const n of t.Ta)e.ea(n.mutations)}async function w9(t,e,n){const i=t.Ta.shift(),a=fv.from(i,e,n);await Uk(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await em(t)}async function T9(t,e){e&&ea(t).Y_&&await(async function(i,a){if((function(c){return sL(c)&&c!==oe.ABORTED})(a.code)){const l=i.Ta.shift();ea(i).B_(),await Uk(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a))),await em(i)}})(t,e),zk(t)&&Bk(t)}async function rE(t,e){const n=Pe(t);n.asyncQueue.verifyOperationInProgress(),ge(Qa,"RemoteStore received new credentials");const i=so(n);n.Ea.add(3),await Ou(n),i&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Zf(n)}async function E9(t,e){const n=Pe(t);e?(n.Ea.delete(2),await Zf(n)):e||(n.Ea.add(2),await Ou(n),n.Va.set("Unknown"))}function Il(t){return t.ma||(t.ma=(function(n,i,a){const l=Pe(n);return l.sa(),new o9(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:m9.bind(null,t),Yo:p9.bind(null,t),t_:g9.bind(null,t),J_:y9.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),Tv(t)?wv(t):t.Va.set("Unknown")):(await t.ma.stop(),Lk(t))}))),t.ma}function ea(t){return t.fa||(t.fa=(function(n,i,a){const l=Pe(n);return l.sa(),new l9(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:x9.bind(null,t),t_:T9.bind(null,t),ta:_9.bind(null,t),na:w9.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await em(t)):(await t.fa.stop(),t.Ta.length>0&&(ge(Qa,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class Ev{constructor(e,n,i,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new Gr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,a,l){const c=Date.now()+i,h=new Ev(e,n,c,a,l);return h.start(i),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Sv(t,e){if(Xi("AsyncQueue",`${e}: ${t}`),Nl(t))return new pe(oe.UNAVAILABLE,`${e}: ${t}`);throw t}class ul{static emptySet(e){return new ul(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||Ce.comparator(n.key,i.key):(n,i)=>Ce.comparator(n.key,i.key),this.keyedMap=Gc(),this.sortedSet=new _t(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,i)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ul)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new ul;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}class aE{constructor(){this.ga=new _t(Ce.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):De(63341,{Vt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,i)=>{e.push(i)})),e}}class yl{constructor(e,n,i,a,l,c,h,f,p){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,n,i,a,l){const c=[];return n.forEach((h=>{c.push({type:0,doc:h})})),new yl(e,n,ul.emptySet(n),c,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Kf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==i[a].type||!n[a].doc.isEqual(i[a].doc))return!1;return!0}}class S9{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class A9{constructor(){this.queries=oE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const a=Pe(n),l=a.queries;a.queries=oE(),l.forEach(((c,h)=>{for(const f of h.ba)f.onError(i)}))})(this,new pe(oe.ABORTED,"Firestore shutting down"))}}function oE(){return new to((t=>ak(t)),Kf)}async function Fk(t,e){const n=Pe(t);let i=3;const a=e.query;let l=n.queries.get(a);l?!l.Sa()&&e.Da()&&(i=2):(l=new S9,i=e.Da()?0:1);try{switch(i){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const h=Sv(c,`Initialization of query '${Wo(e.query)}' failed`);return void e.onError(h)}n.queries.set(a,l),l.ba.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&Av(n)}async function Hk(t,e){const n=Pe(t),i=e.query;let a=3;const l=n.queries.get(i);if(l){const c=l.ba.indexOf(e);c>=0&&(l.ba.splice(c,1),l.ba.length===0?a=e.Da()?0:1:!l.Sa()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function k9(t,e){const n=Pe(t);let i=!1;for(const a of e){const l=a.query,c=n.queries.get(l);if(c){for(const h of c.ba)h.Fa(a)&&(i=!0);c.wa=a}}i&&Av(n)}function C9(t,e,n){const i=Pe(t),a=i.queries.get(e);if(a)for(const l of a.ba)l.onError(n);i.queries.delete(e)}function Av(t){t.Ca.forEach((e=>{e.next()}))}var $0,lE;(lE=$0||($0={})).Ma="default",lE.Cache="cache";class qk{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new yl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.Ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=yl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==$0.Cache}}class Gk{constructor(e){this.key=e}}class $k{constructor(e){this.key=e}}class N9{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ye(),this.mutatedKeys=Ye(),this.eu=ok(e),this.tu=new ul(this.eu)}get nu(){return this.Za}ru(e,n){const i=n?n.iu:new aE,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,h=!1;const f=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((v,b)=>{const w=a.get(v),S=Yf(this.query,b)?b:null,M=!!w&&this.mutatedKeys.has(w.key),O=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let V=!1;w&&S?w.data.isEqual(S.data)?M!==O&&(i.track({type:3,doc:S}),V=!0):this.su(w,S)||(i.track({type:2,doc:S}),V=!0,(f&&this.eu(S,f)>0||p&&this.eu(S,p)<0)&&(h=!0)):!w&&S?(i.track({type:0,doc:S}),V=!0):w&&!S&&(i.track({type:1,doc:w}),V=!0,(f||p)&&(h=!0)),V&&(S?(c=c.add(S),l=O?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),i.track({type:1,doc:v})}return{tu:c,iu:i,Ss:h,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((v,b)=>(function(S,M){const O=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return De(20277,{Vt:V})}};return O(S)-O(M)})(v.type,b.type)||this.eu(v.doc,b.doc))),this.ou(i),a=a??!1;const h=n&&!a?this._u():[],f=this.Ya.size===0&&this.current&&!a?1:0,p=f!==this.Xa;return this.Xa=f,c.length!==0||p?{snapshot:new yl(this.query,e.tu,l,c,e.mutatedKeys,f===0,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new aE,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Ye(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Ya=this.Ya.add(i.key))}));const n=[];return e.forEach((i=>{this.Ya.has(i)||n.push(new $k(i))})),this.Ya.forEach((i=>{e.has(i)||n.push(new Gk(i))})),n}cu(e){this.Za=e.ks,this.Ya=Ye();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return yl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const kv="SyncEngine";class R9{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class I9{constructor(e){this.key=e,this.hu=!1}}class D9{constructor(e,n,i,a,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new to((h=>ak(h)),Kf),this.Iu=new Map,this.Eu=new Set,this.Ru=new _t(Ce.comparator),this.Au=new Map,this.Vu=new gv,this.du={},this.mu=new Map,this.fu=gl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function j9(t,e,n=!0){const i=Jk(t);let a;const l=i.Tu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await Kk(i,e,n,!0),a}async function M9(t,e){const n=Jk(t);await Kk(n,e,!0,!1)}async function Kk(t,e,n,i){const a=await ZL(t.localStore,ci(e)),l=a.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let h;return i&&(h=await V9(t,e,l,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&Ok(t.remoteStore,a),h}async function V9(t,e,n,i,a){t.pu=(b,w,S)=>(async function(O,V,P,F){let H=V.view.ru(P);H.Ss&&(H=await eE(O.localStore,V.query,!1).then((({documents:j})=>V.view.ru(j,H))));const ee=F&&F.targetChanges.get(V.targetId),se=F&&F.targetMismatches.get(V.targetId)!=null,re=V.view.applyChanges(H,O.isPrimaryClient,ee,se);return uE(O,V.targetId,re.au),re.snapshot})(t,b,w,S);const l=await eE(t.localStore,e,!0),c=new N9(e,l.ks),h=c.ru(l.documents),f=Vu.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",a),p=c.applyChanges(h,t.isPrimaryClient,f);uE(t,n,p.au);const v=new R9(e,n,c);return t.Tu.set(e,v),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function O9(t,e,n){const i=Pe(t),a=i.Tu.get(e),l=i.Iu.get(a.targetId);if(l.length>1)return i.Iu.set(a.targetId,l.filter((c=>!Kf(c,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await q0(i.localStore,a.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(a.targetId),n&&xv(i.remoteStore,a.targetId),K0(i,a.targetId)})).catch(Cl)):(K0(i,a.targetId),await q0(i.localStore,a.targetId,!0))}async function P9(t,e){const n=Pe(t),i=n.Tu.get(e),a=n.Iu.get(i.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),xv(n.remoteStore,i.targetId))}async function L9(t,e,n){const i=G9(t);try{const a=await(function(c,h){const f=Pe(c),p=gt.now(),v=h.reduce(((S,M)=>S.add(M.key)),Ye());let b,w;return f.persistence.runTransaction("Locally write mutations","readwrite",(S=>{let M=Qi(),O=Ye();return f.xs.getEntries(S,v).next((V=>{M=V,M.forEach(((P,F)=>{F.isValidDocument()||(O=O.add(P))}))})).next((()=>f.localDocuments.getOverlayedDocuments(S,M))).next((V=>{b=V;const P=[];for(const F of h){const H=JP(F,b.get(F.key).overlayedDocument);H!=null&&P.push(new no(F.key,H,J2(H.value.mapValue),ui.exists(!0)))}return f.mutationQueue.addMutationBatch(S,p,P,h)})).next((V=>{w=V;const P=V.applyToLocalDocumentSet(b,O);return f.documentOverlayCache.saveOverlays(S,V.batchId,P)}))})).then((()=>({batchId:w.batchId,changes:ck(b)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),(function(c,h,f){let p=c.du[c.currentUser.toKey()];p||(p=new _t(Ke)),p=p.insert(h,f),c.du[c.currentUser.toKey()]=p})(i,a.batchId,n),await Pu(i,a.changes),await em(i.remoteStore)}catch(a){const l=Sv(a,"Failed to persist write");n.reject(l)}}async function Yk(t,e){const n=Pe(t);try{const i=await QL(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const c=n.Au.get(l);c&&(tt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?tt(c.hu,14607):a.removedDocuments.size>0&&(tt(c.hu,42227),c.hu=!1))})),await Pu(n,i,e)}catch(i){await Cl(i)}}function cE(t,e,n){const i=Pe(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const a=[];i.Tu.forEach(((l,c)=>{const h=c.view.va(e);h.snapshot&&a.push(h.snapshot)})),(function(c,h){const f=Pe(c);f.onlineState=h;let p=!1;f.queries.forEach(((v,b)=>{for(const w of b.ba)w.va(h)&&(p=!0)})),p&&Av(f)})(i.eventManager,e),a.length&&i.Pu.J_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function U9(t,e,n){const i=Pe(t);i.sharedClientState.updateQueryState(e,"rejected",n);const a=i.Au.get(e),l=a&&a.key;if(l){let c=new _t(Ce.comparator);c=c.insert(l,gn.newNoDocument(l,Ve.min()));const h=Ye().add(l),f=new Wf(Ve.min(),new Map,new _t(Ke),c,h);await Yk(i,f),i.Ru=i.Ru.remove(l),i.Au.delete(e),Cv(i)}else await q0(i.localStore,e,!1).then((()=>K0(i,e,n))).catch(Cl)}async function z9(t,e){const n=Pe(t),i=e.batch.batchId;try{const a=await XL(n.localStore,e);Qk(n,i,null),Xk(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Pu(n,a)}catch(a){await Cl(a)}}async function B9(t,e,n){const i=Pe(t);try{const a=await(function(c,h){const f=Pe(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let v;return f.mutationQueue.lookupMutationBatch(p,h).next((b=>(tt(b!==null,37113),v=b.keys(),f.mutationQueue.removeMutationBatch(p,b)))).next((()=>f.mutationQueue.performConsistencyCheck(p))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(p,v,h))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v))).next((()=>f.localDocuments.getDocuments(p,v)))}))})(i.localStore,e);Qk(i,e,n),Xk(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Pu(i,a)}catch(a){await Cl(a)}}function Xk(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function Qk(t,e,n){const i=Pe(t);let a=i.du[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),i.du[i.currentUser.toKey()]=a}}function K0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Iu.get(e))t.Tu.delete(i),n&&t.Pu.yu(i,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((i=>{t.Vu.containsKey(i)||Wk(t,i)}))}function Wk(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(xv(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),Cv(t))}function uE(t,e,n){for(const i of n)i instanceof Gk?(t.Vu.addReference(i.key,e),F9(t,i)):i instanceof $k?(ge(kv,"Document no longer in limbo: "+i.key),t.Vu.removeReference(i.key,e),t.Vu.containsKey(i.key)||Wk(t,i.key)):De(19791,{wu:i})}function F9(t,e){const n=e.key,i=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(i)||(ge(kv,"New document in limbo: "+n),t.Eu.add(i),Cv(t))}function Cv(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ce(dt.fromString(e)),i=t.fu.next();t.Au.set(i,new I9(n)),t.Ru=t.Ru.insert(n,i),Ok(t.remoteStore,new Br(ci(hv(n.path)),i,"TargetPurposeLimboResolution",qf.ce))}}async function Pu(t,e,n){const i=Pe(t),a=[],l=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach(((h,f)=>{c.push(i.pu(f,e,n).then((p=>{if((p||n)&&i.isPrimaryClient){const v=p?!p.fromCache:n?.targetChanges.get(f.targetId)?.current;i.sharedClientState.updateQueryState(f.targetId,v?"current":"not-current")}if(p){a.push(p);const v=vv.Es(f.targetId,p);l.push(v)}})))})),await Promise.all(c),i.Pu.J_(a),await(async function(f,p){const v=Pe(f);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>le.forEach(p,(w=>le.forEach(w.Ts,(S=>v.persistence.referenceDelegate.addReference(b,w.targetId,S))).next((()=>le.forEach(w.Is,(S=>v.persistence.referenceDelegate.removeReference(b,w.targetId,S)))))))))}catch(b){if(!Nl(b))throw b;ge(bv,"Failed to update sequence numbers: "+b)}for(const b of p){const w=b.targetId;if(!b.fromCache){const S=v.vs.get(w),M=S.snapshotVersion,O=S.withLastLimboFreeSnapshotVersion(M);v.vs=v.vs.insert(w,O)}}})(i.localStore,l))}async function H9(t,e){const n=Pe(t);if(!n.currentUser.isEqual(e)){ge(kv,"User change. New user:",e.toKey());const i=await Dk(n.localStore,e);n.currentUser=e,(function(l,c){l.mu.forEach((h=>{h.forEach((f=>{f.reject(new pe(oe.CANCELLED,c))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Pu(n,i.Ns)}}function q9(t,e){const n=Pe(t),i=n.Au.get(e);if(i&&i.hu)return Ye().add(i.key);{let a=Ye();const l=n.Iu.get(e);if(!l)return a;for(const c of l){const h=n.Tu.get(c);a=a.unionWith(h.view.nu)}return a}}function Jk(t){const e=Pe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Yk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=q9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=U9.bind(null,e),e.Pu.J_=k9.bind(null,e.eventManager),e.Pu.yu=C9.bind(null,e.eventManager),e}function G9(t){const e=Pe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=z9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=B9.bind(null,e),e}class Ef{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Jf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return YL(this.persistence,new GL,e.initialUser,this.serializer)}Cu(e){return new Ik(yv.Vi,this.serializer)}Du(e){return new t9}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ef.provider={build:()=>new Ef};class $9 extends Ef{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){tt(this.persistence.referenceDelegate instanceof wf,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new RL(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?jn.withCacheSize(this.cacheSizeBytes):jn.DEFAULT;return new Ik((i=>wf.Vi(i,n)),this.serializer)}}class Y0{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>cE(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=H9.bind(null,this.syncEngine),await E9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new A9})()}createDatastore(e){const n=Jf(e.databaseInfo.databaseId),i=a9(e.databaseInfo);return h9(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return(function(i,a,l,c,h){return new f9(i,a,l,c,h)})(this.localStore,this.datastore,e.asyncQueue,(n=>cE(this.syncEngine,n,0)),(function(){return sE.v()?new sE:new n9})())}createSyncEngine(e,n){return(function(a,l,c,h,f,p,v){const b=new D9(a,l,c,h,f,p);return v&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const i=Pe(n);ge(Qa,"RemoteStore shutting down."),i.Ea.add(5),await Ou(i),i.Aa.shutdown(),i.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Y0.provider={build:()=>new Y0};class Zk{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Xi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const ta="FirestoreClient";class K9{constructor(e,n,i,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this._databaseInfo=a,this.user=pn.UNAUTHENTICATED,this.clientId=rv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async c=>{ge(ta,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(ge(ta,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Gr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=Sv(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function qg(t,e){t.asyncQueue.verifyOperationInProgress(),ge(ta,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener((async a=>{i.isEqual(a)||(await Dk(e.localStore,a),i=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function hE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Y9(t);ge(ta,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((i=>rE(e.remoteStore,i))),t.setAppCheckTokenChangeListener(((i,a)=>rE(e.remoteStore,a))),t._onlineComponents=e}async function Y9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ge(ta,"Using user provided OfflineComponentProvider");try{await qg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===oe.FAILED_PRECONDITION||a.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;Xa("Error using user provided cache. Falling back to memory cache: "+n),await qg(t,new Ef)}}else ge(ta,"Using default OfflineComponentProvider"),await qg(t,new $9(void 0));return t._offlineComponents}async function eC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ge(ta,"Using user provided OnlineComponentProvider"),await hE(t,t._uninitializedComponentsProvider._online)):(ge(ta,"Using default OnlineComponentProvider"),await hE(t,new Y0))),t._onlineComponents}function X9(t){return eC(t).then((e=>e.syncEngine))}async function X0(t){const e=await eC(t),n=e.eventManager;return n.onListen=j9.bind(null,e.syncEngine),n.onUnlisten=O9.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=M9.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=P9.bind(null,e.syncEngine),n}function Q9(t,e,n,i){const a=new Zk(i),l=new qk(e,a,n);return t.asyncQueue.enqueueAndForget((async()=>Fk(await X0(t),l))),()=>{a.Nu(),t.asyncQueue.enqueueAndForget((async()=>Hk(await X0(t),l)))}}function W9(t,e,n={}){const i=new Gr;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,h,f,p){const v=new Zk({next:w=>{v.Nu(),c.enqueueAndForget((()=>Hk(l,b))),w.fromCache&&f.source==="server"?p.reject(new pe(oe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(w)},error:w=>p.reject(w)}),b=new qk(h,v,{includeMetadataChanges:!0,Ka:!0});return Fk(l,b)})(await X0(t),t.asyncQueue,e,n,i))),i.promise}function J9(t,e){const n=new Gr;return t.asyncQueue.enqueueAndForget((async()=>L9(await X9(t),e,n))),n.promise}function tC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const Z9="ComponentProvider",dE=new Map;function eU(t,e,n,i,a){return new bP(t,e,n,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,tC(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,i)}const nC="firestore.googleapis.com",fE=!0;class mE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new pe(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=nC,this.ssl=fE}else this.host=e.host,this.ssl=e.ssl??fE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Rk;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<CL)throw new pe(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}oP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=tC(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new pe(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new pe(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new pe(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,a){return i.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class tm{constructor(e,n,i,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new WO;switch(i.type){case"firstParty":return new tP(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new pe(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=dE.get(n);i&&(ge(Z9,"Removing Datastore"),dE.delete(n),i.terminate())})(this),Promise.resolve()}}function tU(t,e,n,i={}){t=Hi(t,tm);const a=Ja(e),l=t._getSettings(),c={...l,emulatorOptions:t._getEmulatorOptions()},h=`${e}:${n}`;a&&(Hy(`https://${h}`),qy("Firestore",!0)),l.host!==nC&&l.host!==h&&Xa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...l,host:h,ssl:a,emulatorOptions:i};if(!Ga(f,c)&&(t._setSettings(f),i.mockUserToken)){let p,v;if(typeof i.mockUserToken=="string")p=i.mockUserToken,v=pn.MOCK_USER;else{p=WA(i.mockUserToken,t._app?.options.projectId);const b=i.mockUserToken.sub||i.mockUserToken.user_id;if(!b)throw new pe(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new pn(b)}t._authCredentials=new JO(new z2(p,v))}}class Ji{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Ji(this.firestore,e,this._query)}}class Ht{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $r(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ht(this.firestore,e,this._key)}toJSON(){return{type:Ht._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(ju(n,Ht._jsonSchema))return new Ht(e,i||null,new Ce(dt.fromString(n.referencePath)))}}Ht._jsonSchemaVersion="firestore/documentReference/1.0",Ht._jsonSchema={type:Ft("string",Ht._jsonSchemaVersion),referencePath:Ft("string")};class $r extends Ji{constructor(e,n,i){super(e,n,hv(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ht(this.firestore,null,new Ce(e))}withConverter(e){return new $r(this.firestore,e,this._path)}}function Fa(t,e,...n){if(t=bn(t),B2("collection","path",e),t instanceof tm){const i=dt.fromString(e,...n);return kT(i),new $r(t,null,i)}{if(!(t instanceof Ht||t instanceof $r))throw new pe(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(dt.fromString(e,...n));return kT(i),new $r(t.firestore,null,i)}}function Q0(t,e,...n){if(t=bn(t),arguments.length===1&&(e=rv.newId()),B2("doc","path",e),t instanceof tm){const i=dt.fromString(e,...n);return AT(i),new Ht(t,null,new Ce(i))}{if(!(t instanceof Ht||t instanceof $r))throw new pe(oe.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(dt.fromString(e,...n));return AT(i),new Ht(t.firestore,t instanceof $r?t.converter:null,new Ce(i))}}const pE="AsyncQueue";class gE{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Mk(this,"async_queue_retry"),this._c=()=>{const i=Hg();i&&ge(pE,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=Hg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Hg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Gr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Nl(e))throw e;ge(pE,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,Xi("INTERNAL UNHANDLED ERROR: ",yE(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=Ev.createAndSchedule(this,e,n,i,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&De(47125,{Pc:yE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function yE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class vl extends tm{constructor(e,n,i,a){super(e,n,i,a),this.type="firestore",this._queue=new gE,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new gE(e),this._firestoreClient=void 0,await e}}}function nU(t,e){const n=typeof t=="object"?t:Ky(),i=typeof t=="string"?t:gf,a=Uf(n,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=YA("firestore");l&&tU(a,...l)}return a}function Nv(t){if(t._terminated)throw new pe(oe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||sU(t),t._firestoreClient}function sU(t){const e=t._freezeSettings(),n=eU(t._databaseId,t._app?.options.appId||"",t._persistenceKey,t._app?.options.apiKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new K9(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(t._componentsProvider))}class ls{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ls(dn.fromBase64String(e))}catch(n){throw new pe(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ls(dn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ls._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ju(e,ls._jsonSchema))return ls.fromBase64String(e.bytes)}}ls._jsonSchemaVersion="firestore/bytes/1.0",ls._jsonSchema={type:Ft("string",ls._jsonSchemaVersion),bytes:Ft("string")};class sC{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new pe(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Rv{constructor(e){this._methodName=e}}class di{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new pe(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new pe(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ke(this._lat,e._lat)||Ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:di._jsonSchemaVersion}}static fromJSON(e){if(ju(e,di._jsonSchema))return new di(e.latitude,e.longitude)}}di._jsonSchemaVersion="firestore/geoPoint/1.0",di._jsonSchema={type:Ft("string",di._jsonSchemaVersion),latitude:Ft("number"),longitude:Ft("number")};class js{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:js._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ju(e,js._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new js(e.vectorValues);throw new pe(oe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}js._jsonSchemaVersion="firestore/vectorValue/1.0",js._jsonSchema={type:Ft("string",js._jsonSchemaVersion),vectorValues:Ft("object")};const iU=/^__.*__$/;class rU{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new no(e,this.data,this.fieldMask,n,this.fieldTransforms):new Mu(e,this.data,n,this.fieldTransforms)}}function iC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw De(40011,{dataSource:t})}}class Iv{constructor(e,n,i,a,l,c){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Iv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),i=this.contextWith({path:n,arrayElement:!1});return i.validatePathSegment(e),i}childContextForFieldPath(e){const n=this.path?.child(e),i=this.contextWith({path:n,arrayElement:!1});return i.validatePath(),i}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Sf(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(iC(this.dataSource)&&iU.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class aU{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Jf(e)}createContext(e,n,i,a=!1){return new Iv({dataSource:e,methodName:n,targetDoc:i,path:hn.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Dv(t){const e=t._freezeSettings(),n=Jf(t._databaseId);return new aU(t._databaseId,!!e.ignoreUndefinedProperties,n)}function rC(t,e,n,i,a,l={}){const c=t.createContext(l.merge||l.mergeFields?2:0,e,n,a);lC("Data must be an object, but it was:",c,i);const h=aC(i,c);let f,p;if(l.merge)f=new Ns(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const b of l.mergeFields){const w=Lu(e,b,n);if(!c.contains(w))throw new pe(oe.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);uU(v,w)||v.push(w)}f=new Ns(v),p=c.fieldTransforms.filter((b=>f.covers(b.field)))}else f=null,p=c.fieldTransforms;return new rU(new os(h),f,p)}class jv extends Rv{_toFieldTransform(e){return new YP(e.path,new bu)}isEqual(e){return e instanceof jv}}function oU(t,e,n,i=!1){return Mv(n,t.createContext(i?4:3,e))}function Mv(t,e){if(oC(t=bn(t)))return lC("Unsupported field value:",e,t),aC(t,e);if(t instanceof Rv)return(function(i,a){if(!iC(a.dataSource))throw a.createError(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(i,a){const l=[];let c=0;for(const h of i){let f=Mv(h,a.childContextForArray(c));f==null&&(f={nullValue:"NULL_VALUE"}),l.push(f),c++}return{arrayValue:{values:l}}})(t,e)}return(function(i,a){if((i=bn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return GP(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=gt.fromDate(i);return{timestampValue:_f(a.serializer,l)}}if(i instanceof gt){const l=new gt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:_f(a.serializer,l)}}if(i instanceof di)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ls)return{bytesValue:wk(a.serializer,i._byteString)};if(i instanceof Ht){const l=a.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw a.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:pv(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof js)return(function(c,h){const f=c instanceof js?c.toArray():c;return{mapValue:{fields:{[Q2]:{stringValue:W2},[yf]:{arrayValue:{values:f.map((v=>{if(typeof v!="number")throw h.createError("VectorValues must only contain numeric values.");return dv(h.serializer,v)}))}}}}}})(i,a);if(Nk(i))return i._toProto(a.serializer);throw a.createError(`Unsupported field value: ${Hf(i)}`)})(t,e)}function aC(t,e){const n={};return q2(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):eo(t,((i,a)=>{const l=Mv(a,e.childContextForField(i));l!=null&&(n[i]=l)})),{mapValue:{fields:n}}}function oC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof gt||t instanceof di||t instanceof ls||t instanceof Ht||t instanceof Rv||t instanceof js||Nk(t))}function lC(t,e,n){if(!oC(n)||!F2(n)){const i=Hf(n);throw i==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+i)}}function Lu(t,e,n){if((e=bn(e))instanceof sC)return e._internalPath;if(typeof e=="string")return cU(t,e);throw Sf("Field path arguments must be of type string or ",t,!1,void 0,n)}const lU=new RegExp("[~\\*/\\[\\]]");function cU(t,e,n){if(e.search(lU)>=0)throw Sf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new sC(...e.split("."))._internalPath}catch{throw Sf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Sf(t,e,n,i,a){const l=i&&!i.isEmpty(),c=a!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(l||c)&&(f+=" (found",l&&(f+=` in field ${i}`),c&&(f+=` in document ${a}`),f+=")"),new pe(oe.INVALID_ARGUMENT,h+t+f)}function uU(t,e){return t.some((n=>n.isEqual(e)))}class hU{convertValue(e,n="none"){switch(Zr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Jr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw De(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return eo(e,((a,l)=>{i[a]=this.convertValue(l,n)})),i}convertVectorValue(e){const n=e.fields?.[yf].arrayValue?.values?.map((i=>Nt(i.doubleValue)));return new js(n)}convertGeoPoint(e){return new di(Nt(e.latitude),Nt(e.longitude))}convertArray(e,n){return(e.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const i=$f(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(pu(e));default:return null}}convertTimestamp(e){const n=Wr(e);return new gt(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=dt.fromString(e);tt(Ck(i),9688,{name:e});const a=new gu(i.get(1),i.get(3)),l=new Ce(i.popFirst(5));return a.isEqual(n)||Xi(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}class Vv extends hU{constructor(e){super(),this.firestore=e}convertBytes(e){return new ls(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ht(this.firestore,null,n)}}function dU(){return new jv("serverTimestamp")}const vE="@firebase/firestore",bE="4.11.0";function xE(t){return(function(n,i){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of i)if(l in a&&typeof a[l]=="function")return!0;return!1})(t,["next","error","complete"])}class cC{constructor(e,n,i,a,l){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Ht(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new fU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(Lu("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class fU extends cC{data(){return super.data()}}function uC(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new pe(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ov{}class Pv extends Ov{}function nm(t,e,...n){let i=[];e instanceof Ov&&i.push(e),i=i.concat(n),(function(l){const c=l.filter((f=>f instanceof Lv)).length,h=l.filter((f=>f instanceof sm)).length;if(c>1||c>0&&h>0)throw new pe(oe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const a of i)t=a._apply(t);return t}class sm extends Pv{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new sm(e,n,i)}_apply(e){const n=this._parse(e);return hC(e._query,n),new Ji(e.firestore,e.converter,U0(e._query,n))}_parse(e){const n=Dv(e.firestore);return(function(l,c,h,f,p,v,b){let w;if(p.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new pe(oe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){wE(b,v);const M=[];for(const O of b)M.push(_E(f,l,O));w={arrayValue:{values:M}}}else w=_E(f,l,b)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||wE(b,v),w=oU(h,c,b,v==="in"||v==="not-in");return Bt.create(p,v,w)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function mU(t,e,n){const i=e,a=Lu("where",t);return sm._create(a,i,n)}class Lv extends Ov{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Lv(e,n)}_parse(e){const n=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return n.length===1?n[0]:Vs.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let c=a;const h=l.getFlattenedFilters();for(const f of h)hC(c,f),c=U0(c,f)})(e._query,n),new Ji(e.firestore,e.converter,U0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Uv extends Pv{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Uv(e,n)}_apply(e){const n=(function(a,l,c){if(a.startAt!==null)throw new pe(oe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new pe(oe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new vu(l,c)})(e._query,this._field,this._direction);return new Ji(e.firestore,e.converter,PP(e._query,n))}}function zv(t,e="asc"){const n=e,i=Lu("orderBy",t);return Uv._create(i,n)}class Bv extends Pv{constructor(e,n,i){super(),this.type=e,this._limit=n,this._limitType=i}static _create(e,n,i){return new Bv(e,n,i)}_apply(e){return new Ji(e.firestore,e.converter,bf(e._query,this._limit,this._limitType))}}function Fv(t){return lP("limit",t),Bv._create("limit",t,"F")}function _E(t,e,n){if(typeof(n=bn(n))=="string"){if(n==="")throw new pe(oe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!rk(e)&&n.indexOf("/")!==-1)throw new pe(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(dt.fromString(n));if(!Ce.isDocumentKey(i))throw new pe(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return VT(t,new Ce(i))}if(n instanceof Ht)return VT(t,n._key);throw new pe(oe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Hf(n)}.`)}function wE(t,e){if(!Array.isArray(t)||t.length===0)throw new pe(oe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function hC(t,e){const n=(function(a,l){for(const c of a)for(const h of c.getFlattenedFilters())if(l.indexOf(h.op)>=0)return h.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new pe(oe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new pe(oe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function dC(t,e,n){let i;return i=t?t.toFirestore(e):e,i}class Kc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ha extends cC{constructor(e,n,i,a,l,c){super(e,n,i,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Xd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(Lu("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(oe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ha._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ha._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ha._jsonSchema={type:Ft("string",Ha._jsonSchemaVersion),bundleSource:Ft("string","DocumentSnapshot"),bundleName:Ft("string"),bundle:Ft("string")};class Xd extends Ha{data(e={}){return super.data(e)}}class qa{constructor(e,n,i,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Kc(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((i=>{e.call(n,new Xd(this._firestore,this._userDataWriter,i.key,i,new Kc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new pe(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((h=>{const f=new Xd(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Kc(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>l||h.type!==3)).map((h=>{const f=new Xd(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Kc(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,v=-1;return h.type!==0&&(p=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),v=c.indexOf(h.doc.key)),{type:pU(h.type),doc:f,oldIndex:p,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(oe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=qa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=rv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function pU(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return De(61501,{type:t})}}qa._jsonSchemaVersion="firestore/querySnapshot/1.0",qa._jsonSchema={type:Ft("string",qa._jsonSchemaVersion),bundleSource:Ft("string","QuerySnapshot"),bundleName:Ft("string"),bundle:Ft("string")};function fC(t){t=Hi(t,Ji);const e=Hi(t.firestore,vl),n=Nv(e),i=new Vv(e);return uC(t._query),W9(n,t._query).then((a=>new qa(e,i,t,a)))}function TE(t,e,n){t=Hi(t,Ht);const i=Hi(t.firestore,vl),a=dC(t.converter,e),l=Dv(i);return mC(i,[rC(l,"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,ui.none())])}function W0(t,e){const n=Hi(t.firestore,vl),i=Q0(t),a=dC(t.converter,e),l=Dv(t.firestore);return mC(n,[rC(l,"addDoc",i._key,a,t.converter!==null,{}).toMutation(i._key,ui.exists(!1))]).then((()=>i))}function Hv(t,...e){t=bn(t);let n={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||xE(e[i])||(n=e[i++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(xE(e[i])){const p=e[i];e[i]=p.next?.bind(p),e[i+1]=p.error?.bind(p),e[i+2]=p.complete?.bind(p)}let l,c,h;if(t instanceof Ht)c=Hi(t.firestore,vl),h=hv(t._key.path),l={next:p=>{e[i]&&e[i](gU(c,t,p))},error:e[i+1],complete:e[i+2]};else{const p=Hi(t,Ji);c=Hi(p.firestore,vl),h=p._query;const v=new Vv(c);l={next:b=>{e[i]&&e[i](new qa(c,v,p,b))},error:e[i+1],complete:e[i+2]},uC(t._query)}const f=Nv(c);return Q9(f,h,a,l)}function mC(t,e){const n=Nv(t);return J9(n,e)}function gU(t,e,n){const i=n.docs.get(e._key),a=new Vv(t);return new Ha(t,a,e._key,i,new Kc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){QO(Za),$a(new Xr("firestore",((i,{instanceIdentifier:a,options:l})=>{const c=i.getProvider("app").getImmediate(),h=new vl(new ZO(i.getProvider("auth-internal")),new nP(c,i.getProvider("app-check-internal")),xP(c,a),c);return l={useFetchStreams:n,...l},h._setSettings(l),h}),"PUBLIC").setMultipleInstances(!0)),oi(vE,bE,e),oi(vE,bE,"esm2020")})();const pC="firebasestorage.googleapis.com",yU="storageBucket",vU=120*1e3,bU=600*1e3;class vi extends yi{constructor(e,n,i=0){super(Gg(e),`Firebase Storage: ${n} (${Gg(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,vi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Gg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var gi;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(gi||(gi={}));function Gg(t){return"storage/"+t}function xU(){const t="An unknown error occurred, please check the error payload for server response.";return new vi(gi.UNKNOWN,t)}function _U(){return new vi(gi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function wU(){return new vi(gi.CANCELED,"User canceled the upload/download.")}function TU(t){return new vi(gi.INVALID_URL,"Invalid URL '"+t+"'.")}function EU(t){return new vi(gi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function EE(t){return new vi(gi.INVALID_ARGUMENT,t)}function gC(){return new vi(gi.APP_DELETED,"The Firebase app was deleted.")}function SU(t){return new vi(gi.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class Rs{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=Rs.makeFromUrl(e,n)}catch{return new Rs(e,"")}if(i.path==="")return i;throw EU(e)}static makeFromUrl(e,n){let i=null;const a="([A-Za-z0-9.\\-_]+)";function l(ee){ee.path.charAt(ee.path.length-1)==="/"&&(ee.path_=ee.path_.slice(0,-1))}const c="(/(.*))?$",h=new RegExp("^gs://"+a+c,"i"),f={bucket:1,path:3};function p(ee){ee.path_=decodeURIComponent(ee.path)}const v="v[A-Za-z0-9_]+",b=n.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",S=new RegExp(`^https?://${b}/${v}/b/${a}/o${w}`,"i"),M={bucket:1,path:3},O=n===pC?"(?:storage.googleapis.com|storage.cloud.google.com)":n,V="([^?#]*)",P=new RegExp(`^https?://${O}/${a}/${V}`,"i"),H=[{regex:h,indices:f,postModify:l},{regex:S,indices:M,postModify:p},{regex:P,indices:{bucket:1,path:2},postModify:p}];for(let ee=0;ee<H.length;ee++){const se=H[ee],re=se.regex.exec(e);if(re){const j=re[se.indices.bucket];let E=re[se.indices.path];E||(E=""),i=new Rs(j,E),se.postModify(i);break}}if(i==null)throw TU(e);return i}}class AU{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function kU(t,e,n){let i=1,a=null,l=null,c=!1,h=0;function f(){return h===2}let p=!1;function v(...V){p||(p=!0,e.apply(null,V))}function b(V){a=setTimeout(()=>{a=null,t(S,f())},V)}function w(){l&&clearTimeout(l)}function S(V,...P){if(p){w();return}if(V){w(),v.call(null,V,...P);return}if(f()||c){w(),v.call(null,V,...P);return}i<64&&(i*=2);let H;h===1?(h=2,H=0):H=(i+Math.random())*1e3,b(H)}let M=!1;function O(V){M||(M=!0,w(),!p&&(a!==null?(V||(h=2),clearTimeout(a),b(0)):V||(h=1)))}return b(0),l=setTimeout(()=>{c=!0,O(!0)},n),O}function CU(t){t(!1)}function NU(t){return t!==void 0}function SE(t,e,n,i){if(i<e)throw EE(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw EE(`Invalid value for '${t}'. Expected ${n} or less.`)}function RU(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const a=e(i)+"="+e(t[i]);n=n+a+"&"}return n=n.slice(0,-1),n}var Af;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Af||(Af={}));function IU(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,l=e.indexOf(t)!==-1;return n||a||l}class DU{constructor(e,n,i,a,l,c,h,f,p,v,b,w=!0,S=!1){this.url_=e,this.method_=n,this.headers_=i,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=h,this.errorCallback_=f,this.timeout_=p,this.progressCallback_=v,this.connectionFactory_=b,this.retry=w,this.isUsingEmulator=S,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((M,O)=>{this.resolve_=M,this.reject_=O,this.start_()})}start_(){const e=(i,a)=>{if(a){i(!1,new Sd(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=h=>{const f=h.loaded,p=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,p)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const h=l.getErrorCode()===Af.NO_ERROR,f=l.getStatus();if(!h||IU(f,this.additionalRetryCodes_)&&this.retry){const v=l.getErrorCode()===Af.ABORT;i(!1,new Sd(!1,null,v));return}const p=this.successCodes_.indexOf(f)!==-1;i(!0,new Sd(p,l))})},n=(i,a)=>{const l=this.resolve_,c=this.reject_,h=a.connection;if(a.wasSuccessCode)try{const f=this.callback_(h,h.getResponse());NU(f)?l(f):l()}catch(f){c(f)}else if(h!==null){const f=xU();f.serverResponse=h.getErrorText(),this.errorCallback_?c(this.errorCallback_(h,f)):c(f)}else if(a.canceled){const f=this.appDelete_?gC():wU();c(f)}else{const f=_U();c(f)}};this.canceled_?n(!1,new Sd(!1,null,!0)):this.backoffId_=kU(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&CU(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Sd{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function jU(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function MU(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function VU(t,e){e&&(t["X-Firebase-GMPID"]=e)}function OU(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function PU(t,e,n,i,a,l,c=!0,h=!1){const f=RU(t.urlParams),p=t.url+f,v=Object.assign({},t.headers);return VU(v,e),jU(v,n),MU(v,l),OU(v,i),new DU(p,t.method,v,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,c,h)}function LU(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function UU(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}class kf{constructor(e,n){this._service=e,n instanceof Rs?this._location=n:this._location=Rs.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new kf(e,n)}get root(){const e=new Rs(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return UU(this._location.path)}get storage(){return this._service}get parent(){const e=LU(this._location.path);if(e===null)return null;const n=new Rs(this._location.bucket,e);return new kf(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw SU(e)}}function AE(t,e){const n=e?.[yU];return n==null?null:Rs.makeFromBucketSpec(n,t)}function zU(t,e,n,i={}){t.host=`${e}:${n}`;const a=Ja(e);a&&(Hy(`https://${t.host}/b`),qy("Storage",!0)),t._isUsingEmulator=!0,t._protocol=a?"https":"http";const{mockUserToken:l}=i;l&&(t._overrideAuthToken=typeof l=="string"?l:WA(l,t.app.options.projectId))}class BU{constructor(e,n,i,a,l,c=!1){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=c,this._bucket=null,this._host=pC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=vU,this._maxUploadRetryTime=bU,this._requests=new Set,a!=null?this._bucket=Rs.makeFromBucketSpec(a,this._host):this._bucket=AE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Rs.makeFromBucketSpec(this._url,e):this._bucket=AE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){SE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){SE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(as(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new kf(this,e)}_makeRequest(e,n,i,a,l=!0){if(this._deleted)return new AU(gC());{const c=PU(e,this._appId,i,a,n,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,n){const[i,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,a).getPromise()}}const kE="@firebase/storage",CE="0.14.0";const yC="storage";function FU(t=Ky(),e){t=bn(t);const i=Uf(t,yC).getImmediate({identifier:e}),a=YA("storage");return a&&HU(i,...a),i}function HU(t,e,n,i={}){zU(t,e,n,i)}function qU(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new BU(n,i,a,e,Za)}function GU(){$a(new Xr(yC,qU,"PUBLIC").setMultipleInstances(!0)),oi(kE,CE,""),oi(kE,CE,"esm2020")}GU();const $U={apiKey:"AIzaSyBxYxsLtsHK1cKKn6IP_wY5FLyG3Gqje5c",authDomain:"study-tracker-9d996.firebaseapp.com",projectId:"study-tracker-9d996",storageBucket:"study-tracker-9d996.firebasestorage.app",messagingSenderId:"896578359034",appId:"1:896578359034:web:730cec1b11329f22960343",measurementId:"G-ZDH3EW4063"},qv=e2($U),$g=$O(qv),KU=new Ui,qi=nU(qv);FU(qv);const vC=N.createContext(void 0);function YU({children:t}){const[e,n]=N.useState(null),[i,a]=N.useState(!0);N.useEffect(()=>{const h=MV($g,f=>{n(f),a(!1)});return()=>h()},[]);const l=async()=>{try{await tO($g,KU)}catch(h){console.error("Error signing in with Google",h)}},c=async()=>{try{await VV($g)}catch(h){console.error("Error signing out",h)}};return g.jsx(vC.Provider,{value:{user:e,loading:i,signInWithGoogle:l,logout:c},children:!i&&t})}function Zi(){const t=N.useContext(vC);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}const bC=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim();const XU=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const QU=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase());const NE=t=>{const e=QU(t);return e.charAt(0).toUpperCase()+e.slice(1)};var WU={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const JU=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const ZU=N.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:a="",children:l,iconNode:c,...h},f)=>N.createElement("svg",{ref:f,...WU,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:bC("lucide",a),...!l&&!JU(h)&&{"aria-hidden":"true"},...h},[...c.map(([p,v])=>N.createElement(p,v)),...Array.isArray(l)?l:[l]]));const we=(t,e)=>{const n=N.forwardRef(({className:i,...a},l)=>N.createElement(ZU,{ref:l,iconNode:e,className:bC(`lucide-${XU(NE(t))}`,`lucide-${t}`,i),...a}));return n.displayName=NE(t),n};const e8=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],t8=we("arrow-left",e8);const n8=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Gv=we("arrow-right",n8);const s8=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],xC=we("award",s8);const i8=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M17 17H4a1 1 0 0 1-.74-1.673C4.59 13.956 6 12.499 6 8a6 6 0 0 1 .258-1.742",key:"178tsu"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.668 3.01A6 6 0 0 1 18 8c0 2.687.77 4.653 1.707 6.05",key:"1hqiys"}]],r8=we("bell-off",i8);const a8=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],o8=we("bell",a8);const l8=[["path",{d:"M10 2v8l3-3 3 3V2",key:"sqw3rj"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],_C=we("book-marked",l8);const c8=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],hs=we("book-open",c8);const u8=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],h8=we("book",u8);const d8=[["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M14 7a4 4 0 0 1 4 4v3a6 6 0 0 1-12 0v-3a4 4 0 0 1 4-4z",key:"uouzyp"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M21 21a4 4 0 0 0-3.81-4",key:"1b0z45"}],["path",{d:"M21 5a4 4 0 0 1-3.55 3.97",key:"5cxbf6"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M3 21a4 4 0 0 1 3.81-4",key:"1fjd4g"}],["path",{d:"M3 5a4 4 0 0 0 3.55 3.97",key:"1d7oge"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M9 7.13V6a3 3 0 1 1 6 0v1.13",key:"1vgav8"}]],f8=we("bug",d8);const m8=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],wC=we("calendar",m8);const p8=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],g8=we("chart-column",p8);const y8=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],v8=we("chart-pie",y8);const b8=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],TC=we("check",b8);const x8=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],_8=we("chevron-down",x8);const w8=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],$v=we("chevron-left",w8);const T8=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],EC=we("chevron-right",T8);const E8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],SC=we("circle-alert",E8);const S8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],io=we("circle-check",S8);const A8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],J0=we("circle-user",A8);const k8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],C8=we("circle",k8);const N8=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],R8=we("clock",N8);const I8=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],D8=we("copy",I8);const j8=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],im=we("download",j8);const M8=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],V8=we("flame",M8);const O8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],P8=we("globe",O8);const L8=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],AC=we("graduation-cap",L8);const U8=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],z8=we("hash",U8);const B8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],F8=we("info",B8);const H8=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],RE=we("layout-dashboard",H8);const q8=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],G8=we("loader-circle",q8);const $8=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Kv=we("log-out",$8);const K8=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],Kg=we("medal",K8);const Y8=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],X8=we("menu",Y8);const Q8=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],Yv=we("message-circle",Q8);const W8=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],J8=we("monitor",W8);const Z8=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Cf=we("moon",Z8);const e7=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],t7=we("pause",e7);const n7=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],kC=we("pen-tool",n7);const s7=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],i7=we("pen",s7);const r7=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],rm=we("pencil",r7);const a7=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],CC=we("play",a7);const o7=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],bl=we("plus",o7);const l7=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],c7=we("quote",l7);const u7=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],h7=we("refresh-cw",u7);const d7=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],NC=we("rotate-ccw",d7);const f7=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Nf=we("save",f7);const m7=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],p7=we("send",m7);const g7=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Yg=we("settings",g7);const y7=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],v7=we("shield",y7);const b7=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],IE=we("square-pen",b7);const x7=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Z0=we("sun",x7);const _7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],w7=we("target",_7);const T7=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],DE=we("timer",T7);const E7=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],am=we("trash-2",E7);const S7=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],ey=we("trending-up",S7);const A7=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],k7=we("triangle-alert",A7);const C7=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Wa=we("trophy",C7);const N7=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],R7=we("upload",N7);const I7=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Qd=we("users",I7);const D7=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],RC=we("volume-2",D7);const j7=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],IC=we("volume-x",j7);const M7=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],er=we("x",M7),DC=N.createContext(void 0);function om(){const t=N.useContext(DC);if(!t)throw new Error("useToast must be used within a ToastProvider");return t.toast}function V7({children:t}){const[e,n]=N.useState([]),i=N.useCallback((c,h)=>{const f=Math.random().toString(36).substring(2,9);n(p=>[...p,{id:f,message:c,type:h}]),setTimeout(()=>{n(p=>p.filter(v=>v.id!==f))},3e3)},[]),a=N.useCallback(c=>{n(h=>h.filter(f=>f.id!==c))},[]),l={success:c=>i(c,"success"),error:c=>i(c,"error"),info:c=>i(c,"info"),warning:c=>i(c,"warning")};return g.jsxs(DC.Provider,{value:{toast:l,removeToast:a},children:[t,vD.createPortal(g.jsx("div",{className:"fixed top-4 right-4 z-[9999] flex flex-col gap-2 pointer-events-none",children:g.jsx(fs,{children:e.map(c=>g.jsx(O7,{toast:c,onRemove:a},c.id))})}),document.body)]})}function O7({toast:t,onRemove:e}){const n={success:g.jsx(io,{className:"w-5 h-5 text-emerald-500"}),error:g.jsx(SC,{className:"w-5 h-5 text-red-500"}),info:g.jsx(F8,{className:"w-5 h-5 text-blue-500"}),warning:g.jsx(k7,{className:"w-5 h-5 text-amber-500"})},i={success:"bg-white dark:bg-slate-800 border-emerald-100 dark:border-emerald-900/30",error:"bg-white dark:bg-slate-800 border-red-100 dark:border-red-900/30",info:"bg-white dark:bg-slate-800 border-blue-100 dark:border-blue-900/30",warning:"bg-white dark:bg-slate-800 border-amber-100 dark:border-amber-900/30"};return g.jsxs(Ee.div,{layout:!0,initial:{opacity:0,y:-20,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.9,transition:{duration:.2}},className:`pointer-events-auto flex items-center gap-3 px-4 py-3 rounded-xl shadow-lg border ${i[t.type]} min-w-[300px] max-w-sm backdrop-blur-sm`,children:[g.jsx("div",{className:"shrink-0",children:n[t.type]}),g.jsx("p",{className:"text-sm font-medium text-slate-700 dark:text-slate-200 flex-1",children:t.message}),g.jsx("button",{onClick:()=>e(t.id),className:"p-1 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg text-slate-400 dark:text-slate-500 transition-colors",children:g.jsx(er,{className:"w-4 h-4"})})]})}const ru=[{id:"hsc-science-2026-bn",name:"HSC Science",subjects:[{name:"  ",icon:"Book",color:"bg-emerald-500",chapters:[{name:"",topics:[{name:""},{name:""},{name:"-"},{name:""},{name:"    "},{name:" "},{name:""},{name:" "},{name:"  "},{name:" "},{name:"   "},{name:""}]},{name:"",topics:[{name:" "},{name:""},{name:""},{name:"  "},{name:" "},{name:"-"},{name:"  "},{name:""},{name:""},{name:"  "},{name:"   "},{name:" "}]},{name:"",topics:[{name:""}]},{name:"",topics:[{name:""}]}]},{name:"  ",icon:"Book",color:"bg-emerald-500",chapters:[{name:"",topics:[{name:""},{name:""},{name:""}]},{name:"",topics:[{name:" "},{name:""},{name:""},{name:""}]}]},{name:"  ",icon:"Book",color:"bg-teal-500",chapters:[{name:"  -   ",topics:[{name:" "},{name:"  "},{name:"  "},{name:" "},{name:"  "}]},{name:"  - ",topics:[{name:"  "},{name:" "},{name:" "},{name:" "},{name:"  "},{name:" "},{name:"  "},{name:" "},{name:"   "},{name:"   "},{name:"  "},{name:"  "}]},{name:"  - ",topics:[{name:"  "},{name:"  "},{name:" "},{name:"  "},{name:"   "},{name:" "},{name:""},{name:"    "},{name:"   "},{name:"  "},{name:"   "},{name:"   "}]},{name:"  -  ",topics:[{name:" "},{name:"   "},{name:"   "},{name:"   "},{name:"  "},{name:"  "},{name:" "},{name:"    "},{name:"  "},{name:"  "},{name:"   "},{name:"  "}]},{name:"  - ,   ",topics:[{name:"    "},{name:"    "},{name:""},{name:""},{name:"    "},{name:"  "},{name:""}]},{name:"  -   ",topics:[{name:""},{name:" "},{name:"   "},{name:"   "},{name:"  "},{name:"   "},{name:"  "},{name:" "},{name:"  - "}]},{name:"  -   ",topics:[{name:" "},{name:""},{name:" "},{name:" "},{name:"  "},{name:" "},{name:"   "}]},{name:"  -  ",topics:[{name:" "},{name:"  "},{name:"     "},{name:"       "},{name:"   "},{name:"   "},{name:"  "}]},{name:"  - ",topics:[{name:" "},{name:"  "},{name:"  "},{name:"  "},{name:" "},{name:" "},{name:"  "}]},{name:"  -     ",topics:[{name:" "},{name:" "},{name:" "},{name:"   "},{name:"      "},{name:" "},{name:"    "},{name:" "},{name:"  "}]}]},{name:"  ",icon:"Zap",color:"bg-violet-500",chapters:[{name:"",topics:[{name:" "},{name:"  "},{name:"   "},{name:"   "},{name:""},{name:"  "}]},{name:" ",topics:[{name:" "},{name:"   "},{name:" "},{name:" "},{name:"  "},{name:" "}]},{name:" ",topics:[{name:"   "},{name:" "},{name:" "},{name:" "},{name:""},{name:"   "}]},{name:"   ",topics:[{name:"- "},{name:" "},{name:" "},{name:" "}]},{name:" ",topics:[{name:" "},{name:" "},{name:"    "},{name:""}]},{name:" ",topics:[{name:""},{name:"   "},{name:"   "},{name:" "}]},{name:" ",topics:[{name:" "},{name:""},{name:""},{name:""}]},{name:"  ",topics:[{name:"  "},{name:"- "},{name:" "},{name:"- "},{name:"-"}]},{name:" ",topics:[{name:"   "},{name:" "},{name:""},{name:"   "},{name:"   "}]},{name:"  ",topics:[{name:" "},{name:"- "},{name:""},{name:" "},{name:""}]}]},{name:"  ",icon:"Beaker",color:"bg-rose-500",chapters:[{name:"  ",topics:[{name:"  "},{name:"  "},{name:"   "},{name:" "},{name:" "}]},{name:" ",topics:[{name:"  (  )"},{name:" "},{name:",    "},{name:" "},{name:"  "},{name:" "},{name:"   "},{name:" "},{name:""}]},{name:"  ",topics:[{name:"  (s, p, d, f )"},{name:"  ( ,  )"},{name:" "},{name:" "},{name:" (Hybridization)"},{name:"VSEPR    "},{name:" "},{name:"  "}]},{name:" ",topics:[{name:"   "},{name:" "},{name:"- "},{name:"   Kc, Kp"},{name:"- "},{name:"pH   "},{name:"    "}]},{name:" ",topics:[{name:"   "},{name:"  (, )"},{name:"  "},{name:"   "}]}]},{name:"  ",icon:"Beaker",color:"bg-rose-500",chapters:[{name:" ",topics:[{name:"  (, )"},{name:"   "},{name:"   "},{name:"  "},{name:"   "},{name:"    "},{name:"    (BOD, COD)"}]},{name:" ",topics:[{name:"     "},{name:""},{name:" (IUPAC)"},{name:" (, , )"},{name:"   "},{name:" "},{name:"  "},{name:"  "},{name:"    "},{name:""},{name:"  "}]},{name:" ",topics:[{name:"    "},{name:"  (, )"},{name:"- "},{name:"- "},{name:""},{name:"- "}]},{name:" ",topics:[{name:"   "},{name:" "},{name:"  "},{name:"    "},{name:"   "},{name:"pH "}]},{name:" ",topics:[{name:"   "},{name:"  "},{name:"   "},{name:"   "},{name:"   "}]}]},{name:"   ",icon:"Calculator",color:"bg-blue-500",chapters:[{name:"  ",topics:[{name:" "},{name:" ,   "},{name:"   "},{name:" "},{name:" "}]},{name:"",topics:[{name:" "},{name:"   "},{name:"   "},{name:" "}]},{name:"",topics:[{name:"   "},{name:"   "},{name:"  "},{name:"   "}]},{name:"",topics:[{name:" "},{name:"  "},{name:"  "}]},{name:"  ",topics:[{name:"    "},{name:""},{name:""},{name:"   "}]},{name:"",topics:[{name:"   "},{name:" "},{name:" "},{name:""}]},{name:"   ",topics:[{name:"  -"},{name:"-   "},{name:" "},{name:" "}]},{name:"",topics:[{name:"  "},{name:""},{name:"  "},{name:" "},{name:"  "}]},{name:"",topics:[{name:" "},{name:" "},{name:" "},{name:" "},{name:" "}]}]},{name:"   ",icon:"Calculator",color:"bg-blue-500",chapters:[{name:"   ",topics:[{name:"  "},{name:"  "},{name:" "}]},{name:" ",topics:[{name:"  "},{name:" "},{name:"  "}]},{name:" ",topics:[{name:"   "},{name:"  "},{name:" "},{name:" "}]},{name:"   ",topics:[{name:" "},{name:"   "},{name:"   "},{name:"  "}]},{name:" ",topics:[{name:" "},{name:"  "},{name:""},{name:"  "}]},{name:"",topics:[{name:" (Parabola)"},{name:" (Ellipse)"},{name:" (Hyperbola)"},{name:" "}]},{name:"  ",topics:[{name:"   "},{name:"  "},{name:"  "}]},{name:"",topics:[{name:"   "},{name:" "},{name:" "},{name:"    "}]},{name:"",topics:[{name:" "},{name:""},{name:" "},{name:" "}]},{name:"   ",topics:[{name:", , "},{name:"   "},{name:" "},{name:"   "},{name:" "}]}]},{name:"  ",icon:"Dna",color:"bg-green-500",chapters:[{name:"   ",topics:[{name:"    "},{name:"  "},{name:"  "},{name:""},{name:""},{name:"DNA  RNA  "},{name:"DNA "},{name:"  "}]},{name:" ",topics:[{name:"  "},{name:" "},{name:"   "},{name:" "}]},{name:"",topics:[{name:"   "},{name:""},{name:"   "},{name:" "}]},{name:"  ",topics:[{name:" (Riccia)"},{name:" (Pteris)"}]},{name:"  ",topics:[{name:" (Cycas)"},{name:" (Poaceae) "},{name:" (Malvaceae) "}]},{name:"  ",topics:[{name:" "},{name:" "},{name:" "},{name:"   /"}]},{name:" ",topics:[{name:"  "},{name:""},{name:" (   )"},{name:"C3  C4 "},{name:" (  )"},{name:"   "}]},{name:" ",topics:[{name:" "},{name:"   "},{name:""}]},{name:"",topics:[{name:"  "},{name:" DNA "},{name:" "},{name:" "}]}]},{name:"  ",icon:"Dna",color:"bg-green-500",chapters:[{name:"   ",topics:[{name:" "},{name:"-  (Major Phyla)"},{name:"   "}]},{name:" ",topics:[{name:" (, , )"},{name:" (, ,  )"},{name:"  (,  , )"}]},{name:"  ",topics:[{name:"   "},{name:"   (, , )"},{name:"   "},{name:""}]},{name:"  ",topics:[{name:"   "},{name:" "},{name:"   "},{name:" "},{name:"  "}]},{name:"  ",topics:[{name:" "},{name:" "},{name:" "}]},{name:"  ",topics:[{name:" "},{name:" "},{name:"  "},{name:"   "}]},{name:"  ",topics:[{name:"   "},{name:"  "},{name:" "},{name:""}]}]},{name:"   ",icon:"Cpu",color:"bg-indigo-500",chapters:[{name:"  -    ",topics:[{name:" "},{name:" "},{name:""},{name:""},{name:" "},{name:""},{name:""},{name:" "},{name:""}]},{name:"  -  ",topics:[{name:"    "},{name:""},{name:"  ( )"},{name:"  (Bluetooth, WiFi, WiMax)"},{name:" "},{name:"   "},{name:" "}]},{name:"  -     ",topics:[{name:"  "},{name:"  "},{name:" (BCD, ASCII)"},{name:" "},{name:"  (  )"},{name:"  "},{name:" (  )"},{name:"  "}]},{name:"  -   ",topics:[{name:" "},{name:"HTML  "},{name:"   "},{name:"  "},{name:" "},{name:" "}]},{name:"  -   (C)",topics:[{name:"  "},{name:"  "},{name:"   "},{name:"  "},{name:"  (if-else)"},{name:" (for, while)"},{name:""},{name:""}]}]}]}],Xg=[{level:1,minXP:0,title:"Novice"},{level:2,minXP:500,title:"Apprentice"},{level:3,minXP:1200,title:"Scholar"},{level:4,minXP:2500,title:"Sage"},{level:5,minXP:5e3,title:"Master"},{level:6,minXP:1e4,title:"Grandmaster"},{level:7,minXP:2e4,title:"Legend"}],Yc=t=>{const e=[...Xg].reverse().find(i=>t>=i.minXP)||Xg[0],n=Xg.find(i=>i.level===e.level+1);return{currentLevel:e.level,currentTitle:e.title,nextLevelXP:n?n.minXP:null,progress:n?(t-e.minXP)/(n.minXP-e.minXP)*100:100}},Qg={name:"Student",grade:"Class 10",language:"en",totalStudyTime:0,earnedBadges:[],currentStreak:0,dailyGoal:7200,todayStudyTime:0,weeklyStudyTime:0,monthlyStudyTime:0,xp:0,level:1},Ad="study-tracker-data",jE=()=>{const t=ru[0];return t?t.subjects.map(e=>({id:crypto.randomUUID(),name:e.name,color:e.color,icon:e.icon,chapters:e.chapters.map(n=>({id:crypto.randomUUID(),name:n.name,isCompleted:!1,completedAt:null,topics:n.topics.map(i=>({id:crypto.randomUUID(),name:i.name,isCompleted:!1,completedAt:null}))}))})):[]},jC=N.createContext(void 0);function P7({children:t}){const{user:e}=Zi(),n=om(),[i,a]=N.useState(()=>{try{const I=localStorage.getItem(Ad);if(I){const D=JSON.parse(I);if(D.userProfile)return D.userProfile}}catch(I){console.error("Failed to load user profile:",I)}return Qg}),[l,c]=N.useState(()=>{try{const I=localStorage.getItem(Ad);if(I){const D=JSON.parse(I);if(D.subjects&&D.subjects.length>0)return D.subjects.map(L=>({...L,chapters:L.chapters.map(C=>({...C,topics:C.topics||[]}))}))}}catch(I){console.error("Failed to load subjects, falling back to default:",I)}return jE()});N.useEffect(()=>{if(e){const I=Q0(qi,"users",e.uid),D=Hv(I,L=>{if(L.exists()){const C=L.data();C.userProfile&&a(C.userProfile),C.subjects&&c(C.subjects)}else{const C={userProfile:Qg,subjects:l.length>0?l:jE()};try{const fe=localStorage.getItem(Ad);if(fe){const me=JSON.parse(fe);me.userProfile&&(C.userProfile=me.userProfile),me.subjects&&(C.subjects=me.subjects.map(G=>({...G,chapters:G.chapters.map(W=>({...W,topics:W.topics||[]}))})))}}catch(fe){console.error("Error reading local storage for migration:",fe)}TE(I,C).catch(fe=>console.error("Migration failed",fe))}},L=>{console.error("Firestore sync error:",L)});return()=>D()}},[e]);const h=sy.useCallback(async(I,D)=>{const L=D.reduce((G,W)=>G+W.chapters.length,0);let C=0;D.forEach(G=>{G.chapters.forEach(W=>{W.topics&&W.topics.length>0?C+=W.topics.filter(Z=>Z.isCompleted).length/W.topics.length*100:C+=W.isCompleted?100:0})});const fe=L===0?0:Math.round(C/L),me={...I,syllabusCompletionPercentage:fe};if(a(me),c(D),e)try{await TE(Q0(qi,"users",e.uid),{userProfile:me,subjects:D})}catch(G){console.error("Failed to save to cloud:",G)}else localStorage.setItem(Ad,JSON.stringify({userProfile:me,subjects:D}))},[e]),f=(I,D)=>{const L=i.xp||0,C=L+I,{currentLevel:fe}=Yc(L),{currentLevel:me,currentTitle:G}=Yc(C),W={...i,xp:C,level:me};p(W),me>fe&&n.success(` Level Up! You are now a ${G}!`)};N.useEffect(()=>{const I=ru[0];if(!I)return;let D=!1;const L=[...l];I.subjects.forEach(C=>{const fe=L.findIndex(me=>me.name===C.name);if(fe===-1){const me={id:crypto.randomUUID(),name:C.name,color:C.color,icon:C.icon,chapters:C.chapters.map(G=>({id:crypto.randomUUID(),name:G.name,isCompleted:!1,completedAt:null,topics:G.topics.map(W=>({id:crypto.randomUUID(),name:W.name,isCompleted:!1,completedAt:null}))}))};L.push(me),D=!0}else{const me=L[fe];let G=!1,W=me.color;W.startsWith("text-")&&(W=W.replace("text-","bg-"),G=!0);const Z=me.chapters.map(Ae=>{const Re=C.chapters.find(z=>z.name===Ae.name);return Re&&Ae.topics.length===0&&Re.topics.length>0?(G=!0,{...Ae,topics:Re.topics.map(z=>({id:crypto.randomUUID(),name:z.name,isCompleted:!1,completedAt:null}))}):Ae});G&&(L[fe]={...me,color:W,chapters:Z},D=!0)}}),D&&(console.log("Syncing default subjects..."),h(i,L))},[l,i,h]);const p=I=>{h({...i,...I},l)},v=I=>{const D=crypto.randomUUID(),L={...I,id:D,chapters:[]};h(i,[...l,L])},b=(I,D)=>{const L=l.map(C=>C.id===I?{...C,...D}:C);h(i,L)},w=I=>{h(i,l.filter(D=>D.id!==I))},S=(I,D)=>{const L=l.map(C=>C.id===I?{...C,chapters:[...C.chapters,{id:crypto.randomUUID(),name:D,isCompleted:!1,topics:[]}]}:C);h(i,L)},M=(I,D,L)=>{const C=l.map(fe=>fe.id===I?{...fe,chapters:fe.chapters.map(me=>me.id===D?{...me,name:L}:me)}:fe);h(i,C)},O=(I,D)=>{const L=l.map(C=>C.id===I?{...C,chapters:C.chapters.map(fe=>fe.id===D?{...fe,isCompleted:!fe.isCompleted,completedAt:fe.isCompleted?null:new Date().toISOString()}:fe)}:C);h(i,L)},V=(I,D)=>{const L=l.map(C=>C.id===I?{...C,chapters:C.chapters.filter(fe=>fe.id!==D)}:C);h(i,L)},P=(I,D,L)=>{const C=l.map(fe=>fe.id===I?{...fe,chapters:fe.chapters.map(me=>me.id===D?{...me,topics:[...me.topics,{id:crypto.randomUUID(),name:L,isCompleted:!1,completedAt:null}]}:me)}:fe);h(i,C)},F=(I,D,L,C)=>{const fe=l.map(me=>me.id===I?{...me,chapters:me.chapters.map(G=>G.id===D?{...G,topics:G.topics.map(W=>W.id===L?{...W,name:C}:W)}:G)}:me);h(i,fe)},H=(I,D,L)=>{const C=l.map(ue=>ue.id===I?{...ue,chapters:ue.chapters.map(_e=>{if(_e.id===D){const Ne=_e.topics.map(he=>he.id===L?{...he,isCompleted:!he.isCompleted,completedAt:he.isCompleted?null:new Date().toISOString()}:he),Se=Ne.length>0&&Ne.every(he=>he.isCompleted);return{..._e,topics:Ne,isCompleted:Se,completedAt:Se?new Date().toISOString():null}}return _e})}:ue),G=l.find(ue=>ue.id===I)?.chapters.find(ue=>ue.id===D)?.topics.find(ue=>ue.id===L);let W=0;G&&!G.isCompleted&&(W=50);const Z=i.xp||0,Ae=Z+W,{currentLevel:Re,currentTitle:z}=Yc(Ae),{currentLevel:te}=Yc(Z),ce={...i,xp:Ae,level:Re};Re>te?n.success(` Level Up! You are now a ${z}!`):W>0&&n.success("+50 XP: Topic Completed!"),h(ce,C)},ee=(I,D,L)=>{const C=l.map(fe=>fe.id===I?{...fe,chapters:fe.chapters.map(me=>me.id===D?{...me,topics:me.topics.filter(G=>G.id!==L)}:me)}:fe);h(i,C)},se=()=>{const I={userProfile:i,subjects:l,timestamp:new Date().toISOString(),version:"1.0"},D=new Blob([JSON.stringify(I,null,2)],{type:"application/json"}),L=URL.createObjectURL(D),C=document.createElement("a");C.href=L,C.download=`study-tracker-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(C),C.click(),document.body.removeChild(C),URL.revokeObjectURL(L)},re=I=>{try{const D=JSON.parse(I);return D.userProfile&&Array.isArray(D.subjects)?(h(D.userProfile,D.subjects),!0):(alert("Invalid backup file format."),!1)}catch(D){return console.error("Import error:",D),alert("Failed to parse backup file."),!1}},j=I=>{const D=I.map(L=>({id:crypto.randomUUID(),name:L.name,color:L.color,icon:L.icon,chapters:L.chapters.map(fe=>({id:crypto.randomUUID(),name:fe.name,isCompleted:!1,completedAt:null,topics:fe.topics.map(G=>({id:crypto.randomUUID(),name:G.name,isCompleted:!1,completedAt:null}))}))}));h(i,[...l,...D])},E=()=>{confirm("Are you sure you want to reset all data?")&&h(Qg,[])},R=async(I,D,L)=>{const C=new Date,fe=C.toISOString().split("T")[0],me=(i.totalStudyTime||0)+I;let G=i.currentStreak||0,W=i.lastStudyDate,Z=i.todayStudyTime||0;if(W!==fe){const nt=new Date;nt.setDate(nt.getDate()-1);const qt=nt.toISOString().split("T")[0];W===qt?G+=1:G=1,W=fe,Z=I}else Z+=I;let Ae=i.weeklyStudyTime||0,Re=i.monthlyStudyTime||0;const z=i.lastStudyDate?new Date(i.lastStudyDate):new Date(0),te=nt=>{const qt=new Date(nt),Gn=qt.getDay(),xn=qt.getDate()-Gn+(Gn===0?-6:1);return new Date(qt.setDate(xn)).toDateString()};te(z)!==te(C)&&(Ae=0),(z.getMonth()!==C.getMonth()||z.getFullYear()!==C.getFullYear())&&(Re=0),Ae+=I,Re+=I;const ce=[...i.earnedBadges||[]],ue=[],_e=C.getHours(),Ne=_e>=22||_e<4,Se=ce.some(nt=>nt.type==="night_owl");Ne&&!Se&&ue.push({type:"night_owl",earnedAt:C.toISOString()});const he=ce.some(nt=>nt.type==="streak_master");G>=3&&!he&&ue.push({type:"streak_master",earnedAt:C.toISOString()});const je={...i,totalStudyTime:me,todayStudyTime:Z,currentStreak:G,lastStudyDate:W,earnedBadges:[...ce,...ue],dailyGoal:i.dailyGoal||7200,weeklyStudyTime:Ae,monthlyStudyTime:Re};if(p(je),e)try{await W0(Fa(qi,"study_sessions"),{userId:e.uid,userName:e.displayName||i.name,startTime:new Date(Date.now()-I*1e3).toISOString(),endTime:new Date().toISOString(),durationInSeconds:I,subjectId:D||null,sessionGoal:L||null,createdAt:new Date().toISOString()})}catch(nt){console.error("Error saving study session:",nt)}const ht=Math.floor(I/300)*10;ht>0&&(f(ht),n.success(`+${ht} XP: Study Session!`))};return g.jsx(jC.Provider,{value:{userProfile:i,subjects:l,updateProfile:p,addSubject:v,editSubject:b,deleteSubject:w,addChapter:S,editChapter:M,toggleChapter:O,deleteChapter:V,addTopic:P,editTopic:F,toggleTopic:H,deleteTopic:ee,resetData:E,exportData:se,importData:re,importSyllabusData:j,saveStudySession:R},children:t})}function Qt(){const t=N.useContext(jC);if(t===void 0)throw new Error("useStudy must be used within a StudyProvider");return t}const L7=["bg-blue-500","bg-indigo-500","bg-violet-500","bg-purple-500","bg-fuchsia-500","bg-pink-500","bg-rose-500","bg-red-500","bg-orange-500","bg-amber-500","bg-yellow-500","bg-lime-500","bg-green-500","bg-emerald-500","bg-teal-500","bg-cyan-500","bg-sky-500","bg-slate-500"];function MC({subject:t,onClose:e}){const{editSubject:n}=Qt(),[i,a]=N.useState(t.name),[l,c]=N.useState(t.color);N.useEffect(()=>{a(t.name),c(t.color)},[t]);const h=f=>{f.preventDefault(),i.trim()&&(n(t.id,{name:i.trim(),color:l}),e())};return g.jsx(fs,{children:g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:g.jsxs(Ee.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white dark:bg-slate-800 rounded-2xl w-full max-w-md shadow-xl border border-slate-100 dark:border-slate-700 overflow-hidden",children:[g.jsxs("div",{className:"p-4 border-b border-slate-100 dark:border-slate-700 flex items-center justify-between bg-slate-50/50 dark:bg-slate-800/50",children:[g.jsx("h2",{className:"text-lg font-bold text-slate-800 dark:text-white",children:"Edit Subject"}),g.jsx("button",{onClick:e,className:"p-1 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 transition-colors rounded-full hover:bg-slate-100 dark:hover:bg-slate-700",children:g.jsx(er,{className:"w-5 h-5"})})]}),g.jsxs("form",{onSubmit:h,className:"p-6 space-y-6",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Subject Name"}),g.jsxs("div",{className:"relative",children:[g.jsx(hs,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),g.jsx("input",{type:"text",value:i,onChange:f=>a(f.target.value),placeholder:"e.g. Mathematics",className:"w-full bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl py-3 pl-10 pr-4 text-slate-800 dark:text-white placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all",autoFocus:!0})]})]}),g.jsxs("div",{className:"space-y-3",children:[g.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Color Theme"}),g.jsx("div",{className:"flex flex-wrap gap-2",children:L7.map(f=>g.jsx("button",{type:"button",onClick:()=>c(f),className:`w-8 h-8 rounded-full transition-transform ${f} ${l===f?"ring-2 ring-offset-2 ring-slate-400 dark:ring-slate-500 scale-110":"hover:scale-110 opacity-70 hover:opacity-100"}`},f))})]}),g.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-900 rounded-xl border border-slate-100 dark:border-slate-700 flex items-center gap-3",children:[g.jsx("div",{className:`w-10 h-10 rounded-lg ${l} flex items-center justify-center text-white shadow-sm`,children:g.jsx(hs,{className:"w-5 h-5"})}),g.jsxs("div",{children:[g.jsx("p",{className:"font-bold text-slate-800 dark:text-white",children:i||"Subject Name"}),g.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Preview"})]})]}),g.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[g.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-slate-600 dark:text-slate-400 font-medium hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:"Cancel"}),g.jsx("button",{type:"submit",disabled:!i.trim(),className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg shadow-sm shadow-blue-500/20 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:"Save Changes"})]})]})]})})})}const U7=Ee(en);function z7({subject:t,index:e=0}){const[n,i]=N.useState(!1),a=t.chapters.length,l=t.chapters.filter(f=>f.isCompleted).length;let c=0;t.chapters.forEach(f=>{f.topics&&f.topics.length>0?c+=f.topics.filter(p=>p.isCompleted).length/f.topics.length*100:c+=f.isCompleted?100:0});const h=a===0?0:Math.round(c/a);return g.jsxs(g.Fragment,{children:[g.jsxs(U7,{to:`/subject/${t.id}`,whileHover:{y:-8,transition:{duration:.3,ease:[.25,1,.5,1]}},whileTap:{scale:.98},className:"group relative block bg-white dark:bg-slate-800 rounded-2xl md:rounded-3xl p-4 md:p-5 border border-slate-100 dark:border-slate-700 shadow-sm hover:shadow-2xl hover:shadow-blue-500/15 dark:hover:shadow-blue-900/20 transition-all overflow-hidden h-full flex flex-col",children:[g.jsx("div",{className:`absolute top-0 right-0 w-24 h-24 md:w-32 md:h-32 bg-gradient-to-br ${t.color.replace("bg-","from-").replace("-500","-500/10")} to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500 rounded-bl-full pointer-events-none`}),g.jsx(Ee.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:f=>{f.preventDefault(),f.stopPropagation(),i(!0)},className:"absolute top-2 right-2 md:top-4 md:right-4 p-1.5 md:p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/30 dark:hover:text-blue-400 rounded-xl transition-colors opacity-100 md:opacity-0 md:group-hover:opacity-100 z-10",title:"Edit Subject",children:g.jsx(rm,{className:"w-3.5 h-3.5 md:w-4 md:h-4"})}),g.jsxs("div",{className:"flex items-start justify-between mb-4 md:mb-6 relative z-10",children:[g.jsx(Ee.div,{whileHover:{rotate:15,scale:1.1},className:`w-10 h-10 md:w-14 md:h-14 rounded-xl md:rounded-2xl ${t.color} flex items-center justify-center text-white shadow-lg shadow-blue-500/20`,children:g.jsx(hs,{className:"w-5 h-5 md:w-7 md:h-7"})}),g.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700/50 backdrop-blur-sm px-2 py-1 md:px-3 md:py-1.5 rounded-lg md:rounded-xl text-[10px] md:text-xs font-bold text-slate-700 dark:text-slate-200 border border-slate-100 dark:border-slate-600",children:[h,"%"]})]}),g.jsx("h3",{className:"text-sm md:text-xl font-bold text-slate-800 dark:text-white mb-2 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors line-clamp-1",children:t.name}),g.jsxs("div",{className:"flex items-center gap-2 md:gap-3 text-xs md:text-sm text-slate-500 dark:text-slate-400 mb-4 md:mb-6 mt-auto",children:[g.jsxs("div",{className:"flex items-center gap-1 md:gap-1.5 bg-slate-50 dark:bg-slate-700/50 px-1.5 py-0.5 md:px-2 md:py-1 rounded-md md:rounded-lg",children:[g.jsx(hs,{className:"w-3 h-3 md:w-3.5 md:h-3.5"}),g.jsx("span",{children:a})]}),l>0&&g.jsxs("div",{className:"flex items-center gap-1 md:gap-1.5 bg-emerald-50 dark:bg-emerald-900/20 text-emerald-600 dark:text-emerald-400 px-1.5 py-0.5 md:px-2 md:py-1 rounded-md md:rounded-lg",children:[g.jsx(io,{className:"w-3 h-3 md:w-3.5 md:h-3.5"}),g.jsx("span",{children:l})]})]}),g.jsxs("div",{className:"space-y-1.5 md:space-y-2",children:[g.jsxs("div",{className:"hidden md:flex justify-between text-xs text-slate-400 dark:text-slate-500 font-medium",children:[g.jsx("span",{children:"Progress"}),g.jsxs("span",{children:[h,"%"]})]}),g.jsx("div",{className:"h-1.5 md:h-2.5 w-full bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden",children:g.jsx(Ee.div,{initial:{width:0},animate:{width:`${h}%`},transition:{duration:1,delay:.5+e*.1,ease:"easeOut"},className:`h-full ${t.color} rounded-full`})})]}),g.jsxs("div",{className:"mt-4 md:mt-5 pt-3 md:pt-4 border-t border-slate-100 dark:border-slate-700 flex items-center justify-between text-xs md:text-sm",children:[g.jsx("span",{className:"text-slate-400 dark:text-slate-500 group-hover:text-slate-600 dark:group-hover:text-slate-300 transition-colors",children:"Details"}),g.jsx("div",{className:"w-6 h-6 md:w-8 md:h-8 rounded-full bg-slate-50 dark:bg-slate-700 flex items-center justify-center group-hover:bg-blue-600 group-hover:text-white transition-all duration-300",children:g.jsx(Gv,{className:"w-3 h-3 md:w-4 md:h-4"})})]})]}),n&&g.jsx(MC,{subject:t,onClose:()=>i(!1)})]})}const ME=["bg-blue-500","bg-emerald-500","bg-violet-500","bg-amber-500","bg-rose-500","bg-cyan-500","bg-fuchsia-500","bg-orange-500"];function B7({onClose:t}){const{addSubject:e}=Qt(),[n,i]=N.useState(""),[a,l]=N.useState(ME[0]),c=h=>{h.preventDefault(),n.trim()&&(e({name:n.trim(),color:a,icon:"book"}),t())};return g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm animate-in fade-in duration-200",children:g.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl w-full max-w-md overflow-hidden animate-in zoom-in-95 duration-200 transition-colors",children:[g.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-slate-100 dark:border-slate-700",children:[g.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white flex items-center gap-2 transition-colors",children:[g.jsx(h8,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),"Add New Subject"]}),g.jsx("button",{onClick:t,className:"p-2 text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full transition-colors",children:g.jsx(er,{className:"w-5 h-5"})})]}),g.jsxs("form",{onSubmit:c,className:"p-6 space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1 transition-colors",children:"Subject Name"}),g.jsx("input",{autoFocus:!0,type:"text",value:n,onChange:h=>i(h.target.value),placeholder:"e.g. Physics",className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all font-medium placeholder:font-normal placeholder:text-slate-400 dark:placeholder:text-slate-500"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2 transition-colors",children:"Color Tag"}),g.jsx("div",{className:"flex flex-wrap gap-2",children:ME.map(h=>g.jsx("button",{type:"button",onClick:()=>l(h),className:`w-8 h-8 rounded-full ${h} transition-all ${a===h?"ring-2 ring-offset-2 ring-slate-400 dark:ring-slate-500 scale-110":"hover:scale-105 opacity-80 hover:opacity-100"}`},h))})]}),g.jsx("div",{className:"pt-2",children:g.jsxs("button",{type:"submit",disabled:!n.trim(),className:"w-full bg-blue-600 hover:bg-blue-700 dark:bg-blue-600 dark:hover:bg-blue-500 disabled:opacity-50 disabled:cursor-not-allowed text-white font-medium py-3 rounded-xl flex items-center justify-center gap-2 transition-all active:scale-[0.98]",children:[g.jsx(Nf,{className:"w-5 h-5"}),"Create Subject"]})})]})]})})}const F7={start_strong:{icon:io,label:"Start Strong",description:"Completed your first topic!",color:"text-emerald-500 bg-emerald-100 dark:bg-emerald-900/30"},streak_master:{icon:V8,label:"Streak Master",description:"Studied for 3 days in a row.",color:"text-orange-500 bg-orange-100 dark:bg-orange-900/30"},subject_conqueror:{icon:xC,label:"Subject Conqueror",description:"Completed 100% of a subject.",color:"text-purple-500 bg-purple-100 dark:bg-purple-900/30"},night_owl:{icon:Cf,label:"Night Owl",description:"Completed a session late at night (10PM - 4AM).",color:"text-blue-500 bg-blue-100 dark:bg-blue-900/30"}};function H7({type:t,isLocked:e=!1,dateEarned:n}){const i=F7[t],a=i.icon,[l,c]=N.useState(!1);return g.jsxs("div",{className:"relative flex flex-col items-center gap-2 group cursor-pointer",onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),onClick:()=>c(!l),children:[g.jsx(Ee.div,{whileHover:{scale:1.05},className:`w-16 h-16 rounded-full flex items-center justify-center shadow-sm border-2 transition-colors ${e?"bg-slate-100 dark:bg-slate-800 border-slate-200 dark:border-slate-700 opacity-60 grayscale":`${i.color} border-transparent`}`,children:g.jsx(a,{className:`w-8 h-8 ${e?"text-slate-400":""}`})}),g.jsx("span",{className:`text-xs font-medium text-center max-w-[5rem] ${e?"text-slate-400":"text-slate-700 dark:text-slate-300"}`,children:i.label}),l&&g.jsxs(Ee.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"absolute bottom-full mb-2 bg-slate-800 dark:bg-slate-700 text-white text-xs p-2 rounded-lg shadow-xl whitespace-nowrap z-50 pointer-events-none",children:[g.jsx("p",{className:"font-semibold",children:i.label}),g.jsx("p",{className:"text-slate-300",children:i.description}),!e&&n&&g.jsxs("p",{className:"text-slate-400 mt-1 text-[10px]",children:["Earned: ",new Date(n).toLocaleDateString()]})]})]})}function q7(){const{updateProfile:t}=Qt(),[e,n]=N.useState(""),[i,a]=N.useState(""),l=c=>{if(c.preventDefault(),!e.trim()){alert("Please enter your name");return}t({name:e.trim(),grade:i.trim()||"Not specified"})};return g.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm",children:g.jsxs(Ee.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-md overflow-hidden",children:[g.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-indigo-600 p-6 text-white",children:[g.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Welcome to TrackEd! "}),g.jsx("p",{className:"text-blue-100 text-sm",children:"Let's get started by setting up your profile"})]}),g.jsxs("form",{onSubmit:l,className:"p-6 space-y-5",children:[g.jsxs("div",{children:[g.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:[g.jsx(J0,{className:"w-4 h-4"}),"Your Name ",g.jsx("span",{className:"text-red-500",children:"*"})]}),g.jsx("input",{type:"text",value:e,onChange:c=>n(c.target.value),className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 transition-all placeholder:text-slate-400 dark:placeholder:text-slate-500",placeholder:"Enter your name",autoFocus:!0})]}),g.jsxs("div",{children:[g.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:[g.jsx(AC,{className:"w-4 h-4"}),"Class / Grade"]}),g.jsx("input",{type:"text",value:i,onChange:c=>a(c.target.value),className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 transition-all placeholder:text-slate-400 dark:placeholder:text-slate-500",placeholder:"e.g., HSC 2026, SSC 2024"})]}),g.jsx("div",{className:"pt-2",children:g.jsx("button",{type:"submit",className:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white font-semibold py-3 rounded-xl transition-all shadow-lg shadow-blue-500/25 active:scale-[0.98]",children:"Get Started"})}),g.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 text-center",children:"You can update these details anytime in Settings"})]})]})})}function G7(){const{userProfile:t,updateProfile:e}=Qt(),[n,i]=N.useState(!1),[a,l]=N.useState(t.dailyGoal?t.dailyGoal/3600:2),c=t.dailyGoal||7200,h=t.todayStudyTime||0,f=Math.min(100,Math.round(h/c*100)),p=()=>{e({dailyGoal:a*3600}),i(!1)};return g.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm md:h-full flex flex-col relative overflow-hidden",children:[g.jsxs("div",{className:"flex items-center justify-between mb-2 z-10",children:[g.jsxs("h3",{className:"text-slate-500 dark:text-slate-400 font-medium flex items-center gap-2 text-sm",children:[g.jsx(w7,{className:"w-4 h-4"}),"Daily Goal"]}),n?g.jsxs("button",{onClick:p,className:"text-xs text-green-600 dark:text-green-400 hover:underline flex items-center gap-1 font-bold",children:["Save ",g.jsx(TC,{className:"w-3 h-3"})]}):g.jsxs("button",{onClick:()=>i(!0),className:"text-xs text-blue-600 dark:text-blue-400 hover:underline flex items-center gap-1",children:["Edit ",g.jsx(i7,{className:"w-3 h-3"})]})]}),g.jsxs("div",{className:"flex-1 flex items-center justify-between z-10 mt-2",children:[g.jsxs("div",{className:"space-y-1",children:[n?g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("input",{type:"number",min:"0.5",max:"24",step:"0.5",value:a,onChange:v=>l(parseFloat(v.target.value)),className:"w-16 p-1 border rounded text-lg font-bold bg-slate-50 dark:bg-slate-700 dark:text-white",autoFocus:!0}),g.jsx("span",{className:"text-slate-500",children:"hrs"})]}):g.jsxs("div",{className:"text-3xl font-bold text-slate-800 dark:text-white",children:[Math.floor(h/3600),g.jsx("span",{className:"text-lg text-slate-400 font-normal",children:"h"})," ",Math.floor(h%3600/60),g.jsx("span",{className:"text-lg text-slate-400 font-normal",children:"m"})]}),g.jsxs("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:["of ",Math.floor(c/3600),"h goal"]})]}),g.jsxs("div",{className:"relative w-20 h-20 flex-shrink-0",children:[g.jsxs("svg",{className:"w-full h-full transform -rotate-90",children:[g.jsx("circle",{cx:"40",cy:"40",r:"36",stroke:"currentColor",strokeWidth:"8",fill:"transparent",className:"text-slate-100 dark:text-slate-700"}),g.jsx(Ee.circle,{initial:{strokeDashoffset:226},animate:{strokeDashoffset:226-226*f/100},transition:{duration:1,ease:"easeOut"},cx:"40",cy:"40",r:"36",stroke:"currentColor",strokeWidth:"8",fill:"transparent",strokeDasharray:"226",strokeLinecap:"round",className:`${f>=100?"text-green-500":"text-blue-500"}`})]}),g.jsxs("div",{className:"absolute inset-0 flex items-center justify-center text-xs font-bold text-slate-700 dark:text-slate-300",children:[f,"%"]})]})]}),f>=100&&g.jsxs(Ee.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"absolute inset-0 bg-green-50/90 dark:bg-green-900/90 flex items-center justify-center flex-col z-20 backdrop-blur-sm",children:[g.jsx(Wa,{className:"w-10 h-10 text-green-600 dark:text-green-400 mb-2"}),g.jsx("span",{className:"text-green-800 dark:text-green-100 font-bold",children:"Goal Reached!"})]})]})}function $7(){const{subjects:t}=Qt();let e=null,n=null,i=null;for(const a of t)if(a.chapters.some(c=>!c.isCompleted&&(!c.topics.length||c.topics.some(h=>!h.isCompleted)))){e=a;for(const c of a.chapters)if(!c.isCompleted)if(c.topics.length>0){const h=c.topics.find(f=>!f.isCompleted);if(h){n=c,i=h;break}}else{n=c;break}break}return!e||!n?g.jsxs("div",{className:"bg-gradient-to-r from-emerald-500 to-teal-600 rounded-2xl p-6 text-white shadow-lg shadow-emerald-500/20 flex flex-col items-center justify-center text-center h-full min-h-[160px]",children:[g.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center mb-3 text-2xl",children:""}),g.jsx("h3",{className:"font-bold text-xl mb-1",children:"All Caught Up!"}),g.jsx("p",{className:"text-emerald-100 text-sm",children:"You've completed everything in your syllabus."}),g.jsx("div",{className:"mt-4 px-4 py-2 bg-white/20 rounded-lg text-sm font-medium backdrop-blur-sm",children:"Time to review or rest!"})]}):g.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm relative overflow-hidden h-full flex flex-col justify-between group",children:[g.jsxs("div",{className:"relative z-10",children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsxs("h3",{className:"text-slate-500 dark:text-slate-400 font-medium flex items-center gap-2 text-sm",children:[g.jsx(CC,{className:"w-4 h-4 text-blue-500 fill-current"}),"Continue Learning"]}),g.jsx("span",{className:`text-xs font-semibold px-2 py-1 rounded-full text-white ${e.color}`,children:e.name})]}),g.jsxs("div",{className:"mb-4",children:[g.jsx("h4",{className:"text-xl font-bold text-slate-800 dark:text-white line-clamp-1 mb-1",children:i?i.name:n.name}),g.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 flex items-center gap-2",children:[g.jsx(hs,{className:"w-3.5 h-3.5"}),n.name]})]})]}),g.jsx("div",{className:"relative z-10",children:g.jsxs(en,{to:`/subject/${e.id}`,className:"flex items-center justify-center gap-2 w-full py-2.5 bg-slate-900 hover:bg-slate-800 dark:bg-slate-700 dark:hover:bg-slate-600 text-white rounded-xl font-medium transition-all group-hover:translate-x-1",children:["Resume Study ",g.jsx(Gv,{className:"w-4 h-4"})]})}),g.jsx("div",{className:`absolute top-0 right-0 w-32 h-32 opacity-10 rounded-full blur-2xl -translate-y-1/2 translate-x-1/2 ${e.color.replace("text-","bg-")}`})]})}const kd=[{text:"The expert in anything was once a beginner.",author:"Helen Hayes"},{text:"It always seems impossible until it's done.",author:"Nelson Mandela"},{text:"Don't watch the clock; do what it does. Keep going.",author:"Sam Levenson"},{text:"Success is the sum of small efforts, repeated day in and day out.",author:"Robert Collier"},{text:"There is no substitute for hard work.",author:"Thomas Edison"},{text:"The future depends on what you do today.",author:"Mahatma Gandhi"},{text:"Believe you can and you're halfway there.",author:"Theodore Roosevelt"},{text:"Quality is not an act, it is a habit.",author:"Aristotle"},{text:"Your limitationit's only your imagination.",author:"Unknown"},{text:"Push yourself, because no one else is going to do it for you.",author:"Unknown"},{text:"Great things never come from comfort zones.",author:"Unknown"},{text:"Dream it. Wish it. Do it.",author:"Unknown"},{text:"Success doesn't just find you. You have to go out and get it.",author:"Unknown"},{text:"The harder you work for something, the greater you'll feel when you achieve it.",author:"Unknown"},{text:"Dream bigger. Do bigger.",author:"Unknown"},{text:"Don't stop when you're tired. Stop when you're done.",author:"Unknown"},{text:"Wake up with determination. Go to bed with satisfaction.",author:"Unknown"},{text:"Do something today that your future self will thank you for.",author:"Unknown"},{text:"Little things make big days.",author:"Unknown"},{text:"It's going to be hard, but hard does not mean impossible.",author:"Unknown"}];function K7(){const[t,e]=N.useState(()=>Math.floor(Math.random()*kd.length)),n=()=>{e(i=>(i+1)%kd.length)};return g.jsxs("div",{className:"bg-gradient-to-br from-indigo-500 to-purple-600 rounded-2xl p-6 text-white relative overflow-hidden shadow-lg shadow-indigo-500/20 md:h-full flex flex-col justify-between",children:[g.jsxs("div",{className:"flex items-start justify-between mb-4",children:[g.jsx("div",{className:"p-2 bg-white/20 backdrop-blur-sm rounded-lg",children:g.jsx(c7,{className:"w-5 h-5 text-white"})}),g.jsx("button",{onClick:n,className:"p-2 text-white/50 hover:text-white hover:bg-white/10 rounded-full transition-colors",title:"Next Quote",children:g.jsx(h7,{className:"w-4 h-4"})})]}),g.jsx(fs,{mode:"wait",children:g.jsxs(Ee.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},children:[g.jsxs("p",{className:"text-lg md:text-xl font-medium mb-3 leading-relaxed",children:['"',kd[t].text,'"']}),g.jsxs("p",{className:"text-indigo-200 text-sm font-medium",children:[" ",kd[t].author]})]},t)}),g.jsx("div",{className:"absolute -bottom-4 -right-4 w-24 h-24 bg-white/10 rounded-full blur-xl"}),g.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-purple-500/20 rounded-full blur-2xl"})]})}function Y7(){const{user:t}=Zi(),[e,n]=N.useState([]),[i,a]=N.useState(!0);return N.useEffect(()=>{(async()=>{try{const c=nm(Fa(qi,"users"),zv("userProfile.syllabusCompletionPercentage","desc"),Fv(10)),h=await fC(c),f=[];h.forEach(p=>{const v=p.data();v.userProfile&&f.push({uid:p.id,name:v.userProfile.name||"Anonymous",percentage:v.userProfile.syllabusCompletionPercentage||0,grade:v.userProfile.grade||"Student"})}),n(f)}catch(c){console.error("Error fetching leaderboard:",c)}finally{a(!1)}})()},[]),i?g.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-3xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm h-full flex items-center justify-center min-h-[300px]",children:g.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-500"})}):g.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm h-full flex flex-col",children:[g.jsxs("h3",{className:"text-slate-800 dark:text-white font-bold text-lg mb-4 flex items-center gap-2",children:[g.jsx(Wa,{className:"w-5 h-5 text-amber-500"}),"Leaderboard"]}),g.jsx("div",{className:"flex-1 overflow-y-auto pr-2 space-y-3 scrollbar-thin scrollbar-thumb-slate-200 dark:scrollbar-thumb-slate-700",children:e.length===0?g.jsxs("div",{className:"flex flex-col items-center justify-center text-center text-slate-500 dark:text-slate-400 py-8 h-full",children:[g.jsx("div",{className:"w-16 h-16 bg-slate-50 dark:bg-slate-700/50 rounded-full flex items-center justify-center mb-3",children:g.jsx(Wa,{className:"w-8 h-8 text-slate-300 dark:text-slate-500 opacity-50"})}),g.jsx("p",{className:"font-medium text-slate-600 dark:text-slate-300",children:"No champions yet!"}),g.jsx("p",{className:"text-xs max-w-[150px] mt-1",children:"Complete chapters to climb the ranks."})]}):e.map((l,c)=>{const h=t?.uid===l.uid;let f=null;return c===0?f=g.jsx(Kg,{className:"w-5 h-5 text-yellow-500"}):c===1?f=g.jsx(Kg,{className:"w-5 h-5 text-slate-400"}):c===2?f=g.jsx(Kg,{className:"w-5 h-5 text-amber-700"}):f=g.jsx("span",{className:"text-sm font-bold text-slate-400 w-5 text-center",children:c+1}),g.jsxs(Ee.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:c*.1},className:`flex items-center gap-3 p-3 rounded-xl transition-colors ${h?"bg-indigo-50 dark:bg-indigo-900/30 border border-indigo-100 dark:border-indigo-800":"hover:bg-slate-50 dark:hover:bg-slate-700/50"}`,children:[g.jsx("div",{className:"flex-shrink-0 flex items-center justify-center w-8",children:f}),g.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-slate-200 dark:bg-slate-700 flex items-center justify-center text-xs font-bold text-slate-600 dark:text-slate-300",children:l.name[0].toUpperCase()}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsxs("p",{className:`text-sm font-medium truncate ${h?"text-indigo-700 dark:text-indigo-300":"text-slate-700 dark:text-slate-200"}`,children:[l.name," ",h&&"(You)"]}),g.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 truncate",children:l.grade})]}),g.jsxs("div",{className:"font-bold text-slate-800 dark:text-white text-sm",children:[l.percentage,"%"]})]},l.uid)})})]})}const VE={hidden:{opacity:0,y:10},show:{opacity:1,y:0,transition:{duration:.4,when:"beforeChildren",staggerChildren:.1}},exit:{opacity:0,y:-10}},Wg={hidden:{opacity:0,y:20},show:{opacity:1,y:0,transition:{type:"spring",stiffness:100,damping:12}}};function X7(){const{userProfile:t,subjects:e}=Qt(),[n,i]=N.useState(!1),a=t.name==="Student",l=e.reduce((p,v)=>p+v.chapters.length,0),c=e.reduce((p,v)=>p+v.chapters.filter(b=>b.isCompleted).length,0);let h=0;e.forEach(p=>{p.chapters.forEach(v=>{v.topics&&v.topics.length>0?h+=v.topics.filter(b=>b.isCompleted).length/v.topics.length*100:h+=v.isCompleted?100:0})});const f=l===0?0:Math.round(h/l);return g.jsxs(Ee.div,{className:"space-y-6 md:space-y-8",variants:VE,initial:"hidden",animate:"show",exit:"exit",children:[g.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 mb-8",children:[g.jsxs("div",{children:[g.jsxs("h1",{className:"text-3xl md:text-4xl font-bold text-slate-800 dark:text-white transition-colors tracking-tight",children:["Hello, ",g.jsx("span",{className:"bg-gradient-to-r from-blue-600 to-teal-500 dark:from-blue-400 dark:to-teal-400 bg-clip-text text-transparent",children:t.name}),g.jsx("span",{className:"inline-block animate-wave ml-2",children:""})]}),g.jsxs("p",{className:"text-base text-slate-500 dark:text-slate-400 mt-2 transition-colors",children:[g.jsx("span",{className:"font-semibold text-slate-700 dark:text-slate-300 px-2 py-0.5 bg-slate-100 dark:bg-slate-800 rounded-md mr-2",children:t.grade}),"Ready to crush your goals today?"]})]}),g.jsxs(Ee.button,{id:"add-subject-btn",whileHover:{scale:1.05,boxShadow:"0 10px 25px -5px rgba(37, 99, 235, 0.4)"},whileTap:{scale:.95},onClick:()=>i(!0),className:"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white px-6 py-3.5 rounded-2xl font-semibold flex items-center justify-center gap-2 shadow-lg shadow-blue-500/30 transition-all text-sm md:text-base w-full md:w-auto",children:[g.jsx(bl,{className:"w-5 h-5"}),"New Subject"]})]}),"import AdBanner from '../components/AdBanner'; // ... (imports) // ... inside Dashboard component ...",g.jsxs("div",{className:"flex overflow-x-auto snap-x snap-mandatory -mx-4 px-4 pb-4 gap-3 md:grid md:grid-cols-2 lg:grid-cols-3 md:gap-6 md:mx-0 md:px-0 md:pb-0 md:overflow-visible no-scrollbar",children:[g.jsx("div",{className:"snap-center shrink-0 w-[70vw] sm:w-[50vw] md:w-auto lg:col-span-1 h-full",children:g.jsx($7,{})}),g.jsxs("div",{className:"snap-center shrink-0 w-[70vw] sm:w-[50vw] md:w-auto grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-1 gap-3 lg:gap-6 h-full",children:[g.jsx(G7,{}),g.jsx(K7,{})]}),g.jsx("div",{className:"snap-center shrink-0 w-[70vw] sm:w-[50vw] md:w-auto grid grid-cols-1 gap-3 lg:gap-6 h-full",children:g.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl md:rounded-3xl p-4 md:p-6 border border-slate-100 dark:border-slate-700 shadow-sm relative overflow-hidden",children:[g.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-10",children:g.jsx(v8,{className:"w-24 h-24 md:w-32 md:h-32 text-blue-500"})}),g.jsxs("div",{className:"flex items-center justify-between relative z-10 h-full",children:[g.jsxs("div",{children:[g.jsxs("h3",{className:"text-slate-500 dark:text-slate-400 font-medium mb-1 flex items-center gap-2 text-xs md:text-sm",children:[g.jsx(Wa,{className:"w-3.5 h-3.5 md:w-4 md:h-4 text-amber-500"})," Syllabus Progress"]}),g.jsxs("div",{className:"mt-3 md:mt-4 space-y-2 md:space-y-3",children:[g.jsxs("div",{children:[g.jsxs("div",{className:"flex items-end gap-2 mb-1",children:[g.jsx("span",{className:"text-xl md:text-2xl font-bold text-slate-800 dark:text-white",children:c}),g.jsxs("span",{className:"text-xs md:text-sm text-slate-400 dark:text-slate-500 mb-0.5 md:mb-1",children:["/ ",l," Chapters"]})]}),g.jsx("div",{className:"h-1.5 md:h-2 w-full bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden",children:g.jsx(Ee.div,{initial:{width:0},animate:{width:`${c/(l||1)*100}%`},className:"h-full bg-blue-500 rounded-full"})})]}),g.jsxs("div",{children:[g.jsxs("div",{className:"flex items-end gap-2 mb-1",children:[g.jsxs("span",{className:"text-xl md:text-2xl font-bold text-slate-800 dark:text-white",children:[f,"%"]}),g.jsx("span",{className:"text-xs md:text-sm text-slate-400 dark:text-slate-500 mb-0.5 md:mb-1",children:"Total Completion"})]}),g.jsx("div",{className:"h-1.5 md:h-2 w-full bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden",children:g.jsx(Ee.div,{initial:{width:0},animate:{width:`${f}%`},className:"h-full bg-emerald-500 rounded-full"})})]})]})]}),g.jsxs("div",{className:"relative w-20 h-20 md:w-28 md:h-28 flex-shrink-0",children:[g.jsxs("svg",{className:"w-full h-full transform -rotate-90",viewBox:"0 0 100 100",children:[g.jsx("circle",{className:"text-slate-100 dark:text-slate-700",strokeWidth:"8",stroke:"currentColor",fill:"transparent",r:"40",cx:"50",cy:"50"}),g.jsx(Ee.circle,{className:"text-blue-600 dark:text-blue-500 drop-shadow-lg",strokeWidth:"8",strokeDasharray:251.2,strokeDashoffset:251.2-251.2*f/100,strokeLinecap:"round",stroke:"currentColor",fill:"transparent",r:"40",cx:"50",cy:"50",initial:{strokeDashoffset:251.2},animate:{strokeDashoffset:251.2-251.2*f/100},transition:{duration:1.5,ease:"easeOut"}})]}),g.jsx("div",{className:"absolute top-0 left-0 w-full h-full flex items-center justify-center flex-col",children:g.jsxs("span",{className:"text-xl font-bold text-slate-800 dark:text-white",children:[f,"%"]})})]})]})]})}),g.jsx("div",{className:"snap-center shrink-0 w-[85vw] md:w-auto lg:col-span-1 h-full min-h-[400px]",children:g.jsx(Y7,{})})]}),t.earnedBadges&&t.earnedBadges.length>0&&g.jsxs(Ee.div,{variants:Wg,className:"bg-white dark:bg-slate-800 rounded-2xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm transition-colors",children:[g.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4 flex items-center gap-2",children:[g.jsx(Wa,{className:"w-5 h-5 text-yellow-500"}),"Recent Achievements"]}),g.jsx("div",{className:"flex flex-wrap gap-4",children:t.earnedBadges.map((p,v)=>g.jsx(H7,{type:p.type,dateEarned:p.earnedAt},`${p.type}-${v}`))})]}),g.jsxs("div",{children:[g.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4 flex items-center gap-2 transition-colors",children:["Your Subjects",g.jsx("span",{className:"text-sm font-normal text-slate-400 dark:text-slate-500 bg-slate-100 dark:bg-slate-800 px-2 py-0.5 rounded-full",children:e.length})]}),e.length>0?g.jsxs(Ee.div,{variants:VE,initial:"hidden",animate:"show",className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-3 gap-3 md:gap-4",children:[e.map((p,v)=>g.jsx(Ee.div,{variants:Wg,children:g.jsx(z7,{subject:p,index:v})},p.id)),g.jsxs(Ee.button,{variants:Wg,whileHover:{scale:1.02,backgroundColor:"rgba(239, 246, 255, 0.5)"},whileTap:{scale:.98},onClick:()=>i(!0),className:"group border-2 border-dashed border-slate-200 dark:border-slate-700 rounded-2xl p-6 flex flex-col items-center justify-center text-slate-400 dark:text-slate-500 hover:border-blue-400 dark:hover:border-blue-500 hover:text-blue-600 dark:hover:text-blue-400 transition-all cursor-pointer h-full min-h-[180px] w-full",children:[g.jsx("div",{className:"w-12 h-12 rounded-full bg-slate-100 dark:bg-slate-800 group-hover:bg-blue-100 dark:group-hover:bg-blue-900/20 flex items-center justify-center mb-3 transition-colors",children:g.jsx(bl,{className:"w-6 h-6"})}),g.jsx("span",{className:"font-medium",children:"Add Another Subject"})]})]}):g.jsxs(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-16 bg-white dark:bg-slate-800 rounded-2xl border border-dashed border-slate-200 dark:border-slate-700 transition-colors",children:[g.jsx("div",{className:"w-16 h-16 bg-slate-50 dark:bg-slate-700 rounded-full flex items-center justify-center mx-auto mb-4",children:g.jsx(_C,{className:"w-8 h-8 text-slate-300 dark:text-slate-500"})}),g.jsx("h3",{className:"text-lg font-semibold text-slate-700 dark:text-slate-200 mb-2",children:"No subjects yet"}),g.jsx("p",{className:"text-slate-500 dark:text-slate-400 max-w-sm mx-auto mb-6",children:"Start by adding the subjects you want to track to organize your study plan."}),g.jsx("button",{onClick:()=>i(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2.5 rounded-xl font-medium transition-all",children:"Add Your First Subject"})]})]}),n&&g.jsx(B7,{onClose:()=>i(!1)}),a&&g.jsx(q7,{})]})}function Q7({subjectId:t,onClose:e}){const{addChapter:n}=Qt(),[i,a]=N.useState(""),l=c=>{c.preventDefault(),i.trim()&&(n(t,i.trim()),a(""))};return g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm animate-in fade-in duration-200",children:g.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl w-full max-w-md overflow-hidden animate-in zoom-in-95 duration-200 transition-colors",children:[g.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-slate-100 dark:border-slate-700",children:[g.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white flex items-center gap-2 transition-colors",children:[g.jsx(_C,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),"Add Chapters"]}),g.jsx("button",{onClick:e,className:"p-2 text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full transition-colors",children:g.jsx(er,{className:"w-5 h-5"})})]}),g.jsxs("form",{onSubmit:l,className:"p-6 space-y-4",children:[g.jsxs("div",{children:[g.jsxs("div",{className:"flex justify-between items-center mb-1",children:[g.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 transition-colors",children:"Chapter Name / Topic"}),g.jsx("span",{className:"text-xs text-slate-400 dark:text-slate-500 transition-colors",children:"Press Enter to add & continue"})]}),g.jsx("input",{autoFocus:!0,type:"text",value:i,onChange:c=>a(c.target.value),placeholder:"e.g. Newton's Laws",className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all placeholder:text-slate-400 dark:placeholder:text-slate-500"})]}),g.jsxs("div",{className:"flex gap-3 pt-2",children:[g.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-3 border border-slate-200 dark:border-slate-600 text-slate-600 dark:text-slate-300 font-medium rounded-xl hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",children:"Done"}),g.jsxs("button",{type:"submit",disabled:!i.trim(),className:"flex-1 bg-blue-600 hover:bg-blue-700 dark:bg-blue-600 dark:hover:bg-blue-500 disabled:opacity-50 disabled:cursor-not-allowed text-white font-medium py-3 rounded-xl flex items-center justify-center gap-2 transition-all active:scale-[0.98]",children:[g.jsx(bl,{className:"w-5 h-5"}),"Add"]})]})]})]})})}const W7={initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10}};function lm({children:t,className:e=""}){return g.jsx(Ee.div,{variants:W7,initial:"initial",animate:"animate",exit:"exit",transition:{duration:.3,ease:"easeOut"},className:e,children:t})}const VC=N.createContext(void 0);function J7({children:t}){const[e,n]=N.useState(()=>typeof window<"u"?localStorage.getItem("sound-muted")==="true":!1),i=N.useRef(null);N.useEffect(()=>{localStorage.setItem("sound-muted",String(e))},[e]);const a=()=>{i.current||(i.current=new(window.AudioContext||window.webkitAudioContext)),i.current.state==="suspended"&&i.current.resume()},l=p=>{if(e)return;i.current||(i.current=new(window.AudioContext||window.webkitAudioContext));const v=i.current,b=v.createOscillator(),w=v.createGain();b.connect(w),w.connect(v.destination);const S=v.currentTime;switch(p){case"pop":b.type="sine",b.frequency.setValueAtTime(800,S),b.frequency.exponentialRampToValueAtTime(1200,S+.1),w.gain.setValueAtTime(.1,S),w.gain.exponentialRampToValueAtTime(.01,S+.1),b.start(S),b.stop(S+.1);break;case"success":c(v,523.25,S,.1,"sine"),c(v,659.25,S+.1,.1,"sine"),c(v,783.99,S+.2,.2,"sine");break;case"complete":b.type="triangle",b.frequency.setValueAtTime(440,S),b.frequency.linearRampToValueAtTime(880,S+.5),w.gain.setValueAtTime(.1,S),w.gain.linearRampToValueAtTime(.3,S+.2),w.gain.linearRampToValueAtTime(0,S+1.5),b.start(S),b.stop(S+1.5);break;case"click":b.type="square",b.frequency.setValueAtTime(200,S),w.gain.setValueAtTime(.05,S),w.gain.exponentialRampToValueAtTime(.01,S+.05),b.start(S),b.stop(S+.05);break;case"error":b.type="sawtooth",b.frequency.setValueAtTime(150,S),b.frequency.linearRampToValueAtTime(100,S+.2),w.gain.setValueAtTime(.1,S),w.gain.linearRampToValueAtTime(0,S+.3),b.start(S),b.stop(S+.3);break}},c=(p,v,b,w,S="sine")=>{const M=p.createOscillator(),O=p.createGain();M.connect(O),O.connect(p.destination),M.type=S,M.frequency.setValueAtTime(v,b),O.gain.setValueAtTime(.1,b),O.gain.exponentialRampToValueAtTime(.01,b+w),M.start(b),M.stop(b+w)},h=p=>{i.current?.state==="suspended"&&i.current.resume().catch(()=>{}),l(p)},f=()=>{n(p=>!p),e&&a()};return g.jsx(VC.Provider,{value:{isMuted:e,toggleMute:f,playSound:h},children:t})}function Xv(){const t=N.useContext(VC);if(t===void 0)throw new Error("useSound must be used within a SoundProvider");return t}function Z7({subjectId:t,chapterId:e,topicId:n,currentName:i,onClose:a}){const{editTopic:l}=Qt(),[c,h]=N.useState(i);N.useEffect(()=>{h(i)},[i]);const f=p=>{p.preventDefault(),c.trim()&&(l(t,e,n,c.trim()),a())};return g.jsx(fs,{children:g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:g.jsxs(Ee.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white dark:bg-slate-800 rounded-2xl w-full max-w-sm shadow-xl border border-slate-100 dark:border-slate-700 overflow-hidden",children:[g.jsxs("div",{className:"p-4 border-b border-slate-100 dark:border-slate-700 flex items-center justify-between bg-slate-50/50 dark:bg-slate-800/50",children:[g.jsx("h2",{className:"text-lg font-bold text-slate-800 dark:text-white",children:"Edit Topic"}),g.jsx("button",{onClick:a,className:"p-1 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 transition-colors rounded-full hover:bg-slate-100 dark:hover:bg-slate-700",children:g.jsx(er,{className:"w-5 h-5"})})]}),g.jsxs("form",{onSubmit:f,className:"p-6 space-y-6",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Topic Name"}),g.jsxs("div",{className:"relative",children:[g.jsx(kC,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),g.jsx("input",{type:"text",value:c,onChange:p=>h(p.target.value),placeholder:"e.g. Algebra Basics",className:"w-full bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl py-3 pl-10 pr-4 text-slate-800 dark:text-white placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all",autoFocus:!0})]})]}),g.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[g.jsx("button",{type:"button",onClick:a,className:"px-4 py-2 text-slate-600 dark:text-slate-400 font-medium hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:"Cancel"}),g.jsx("button",{type:"submit",disabled:!c.trim(),className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg shadow-sm shadow-blue-500/20 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:"Save Changes"})]})]})]})})})}function ez({subjectId:t,chapterId:e,topic:n}){const{toggleTopic:i,deleteTopic:a}=Qt(),{playSound:l}=Xv(),[c,h]=N.useState(!1);return g.jsxs(g.Fragment,{children:[g.jsxs(Ee.div,{layout:!0,initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:-10},className:"flex items-center gap-3 py-2 pl-4 pr-2 group/topic hover:bg-slate-50 dark:hover:bg-slate-700/50 rounded-lg transition-colors ml-8 border-l border-slate-100 dark:border-slate-700",children:[g.jsx(Ee.button,{whileTap:{scale:.8},onClick:()=>{i(t,e,n.id),n.isCompleted||l("pop")},className:`flex-shrink-0 w-4 h-4 rounded-full border flex items-center justify-center transition-colors ${n.isCompleted?"border-emerald-500 bg-emerald-500 text-white":"border-slate-300 dark:border-slate-500 text-transparent hover:border-slate-400 dark:hover:border-slate-400"}`,children:g.jsx(io,{className:"w-3 h-3"})}),g.jsx("span",{className:`flex-1 text-sm font-google-sans transition-all ${n.isCompleted?"text-slate-400 line-through":"text-slate-600 dark:text-slate-300"}`,children:n.name}),g.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover/topic:opacity-100 transition-opacity",children:[g.jsx("button",{onClick:()=>h(!0),className:"p-1.5 text-slate-300 hover:text-amber-500 dark:text-slate-600 dark:hover:text-amber-400 transition-all",title:"Edit Topic",children:g.jsx(rm,{className:"w-3.5 h-3.5"})}),g.jsx("button",{onClick:()=>confirm("Delete this topic?")&&a(t,e,n.id),className:"p-1.5 text-slate-300 hover:text-red-500 dark:text-slate-600 dark:hover:text-red-400 transition-all",title:"Delete Topic",children:g.jsx(am,{className:"w-3.5 h-3.5"})})]})]}),c&&g.jsx(Z7,{subjectId:t,chapterId:e,topicId:n.id,currentName:n.name,onClose:()=>h(!1)})]})}function tz({subjectId:t,chapterId:e,currentName:n,onClose:i}){const{editChapter:a}=Qt(),[l,c]=N.useState(n);N.useEffect(()=>{c(n)},[n]);const h=f=>{f.preventDefault(),l.trim()&&(a(t,e,l.trim()),i())};return g.jsx(fs,{children:g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:g.jsxs(Ee.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white dark:bg-slate-800 rounded-2xl w-full max-w-md shadow-xl border border-slate-100 dark:border-slate-700 overflow-hidden",children:[g.jsxs("div",{className:"p-4 border-b border-slate-100 dark:border-slate-700 flex items-center justify-between bg-slate-50/50 dark:bg-slate-800/50",children:[g.jsx("h2",{className:"text-lg font-bold text-slate-800 dark:text-white",children:"Edit Chapter"}),g.jsx("button",{onClick:i,className:"p-1 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 transition-colors rounded-full hover:bg-slate-100 dark:hover:bg-slate-700",children:g.jsx(er,{className:"w-5 h-5"})})]}),g.jsxs("form",{onSubmit:h,className:"p-6 space-y-6",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Chapter Name"}),g.jsxs("div",{className:"relative",children:[g.jsx(kC,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),g.jsx("input",{type:"text",value:l,onChange:f=>c(f.target.value),placeholder:"e.g. Differentiation",className:"w-full bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl py-3 pl-10 pr-4 text-slate-800 dark:text-white placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all",autoFocus:!0})]})]}),g.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[g.jsx("button",{type:"button",onClick:i,className:"px-4 py-2 text-slate-600 dark:text-slate-400 font-medium hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:"Cancel"}),g.jsx("button",{type:"submit",disabled:!l.trim(),className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg shadow-sm shadow-blue-500/20 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:"Save Changes"})]})]})]})})})}function nz({subjectId:t,chapter:e,isExpanded:n,onToggle:i}){const{deleteChapter:a,addTopic:l}=Qt(),[c,h]=N.useState(!1),[f,p]=N.useState(!1),v=b=>{b.preventDefault();const w=b.target.elements.namedItem("topicName");w.value.trim()&&(l(t,e.id,w.value.trim()),w.value="",h(!1))};return g.jsxs("div",{className:"group transition-colors",children:[g.jsxs("div",{className:`flex items-center gap-3 p-4 pr-14 relative hover:bg-slate-50/80 dark:hover:bg-slate-700/50 cursor-pointer transition-colors ${e.isCompleted?"bg-slate-50/30 dark:bg-slate-700/30":""}`,onClick:i,children:[g.jsx("button",{className:"p-1 text-slate-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:g.jsx(Ee.div,{animate:{rotate:n?180:0},transition:{duration:.2},children:g.jsx(_8,{className:"w-5 h-5"})})}),g.jsxs("div",{className:"flex-1",children:[g.jsx("span",{className:`block font-bold text-lg transition-all ${e.isCompleted?"text-emerald-700 dark:text-emerald-400":"text-slate-800 dark:text-slate-200"}`,children:e.name}),g.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[g.jsxs("span",{className:"text-xs text-slate-400 dark:text-slate-500 font-medium whitespace-nowrap transition-colors",children:[e.topics?.filter(b=>b.isCompleted).length||0,"/",e.topics?.length||0," Topics",e.isCompleted&&g.jsxs("span",{className:"text-emerald-600 dark:text-emerald-400 ml-2 font-bold inline-flex items-center gap-1",children:[g.jsx(io,{className:"w-3 h-3"})," Done"]})]}),e.topics&&e.topics.length>0&&g.jsx("div",{className:"h-1.5 w-24 bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden flex-shrink-0 transition-colors",children:g.jsx(Ee.div,{initial:{width:0},animate:{width:`${Math.round(e.topics.filter(b=>b.isCompleted).length/e.topics.length*100)}%`},transition:{duration:.5,ease:"easeOut"},className:`h-full ${e.isCompleted?"bg-emerald-500":"bg-blue-500"}`})})]})]}),g.jsxs("div",{className:"flex items-center gap-2 absolute right-4 top-1/2 -translate-y-1/2",children:[g.jsx(Ee.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:b=>{b.stopPropagation(),h(!0),n||i()},className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/30 dark:hover:text-blue-400 rounded-lg transition-colors",title:"Add Topic",children:g.jsx(bl,{className:"w-4 h-4"})}),g.jsx(Ee.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:b=>{b.stopPropagation(),p(!0)},className:"p-2 text-slate-400 hover:text-amber-500 hover:bg-amber-50 dark:hover:bg-amber-900/30 dark:hover:text-amber-400 rounded-lg transition-colors",title:"Edit Chapter",children:g.jsx(rm,{className:"w-4 h-4"})}),g.jsx(Ee.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:b=>{b.stopPropagation(),confirm("Delete this chapter?")&&a(t,e.id)},className:"p-2 text-slate-300 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/30 dark:hover:text-red-400 rounded-lg transition-colors",title:"Delete Chapter",children:g.jsx(am,{className:"w-4 h-4"})})]})]}),g.jsx(fs,{children:n&&g.jsx(Ee.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2,ease:"easeInOut"},className:"overflow-hidden bg-slate-50/50 dark:bg-slate-800/50 transition-colors",children:g.jsxs("div",{className:"pb-2",children:[e.topics&&e.topics.length>0?e.topics.map(b=>g.jsx(ez,{subjectId:t,chapterId:e.id,topic:b},b.id)):g.jsx("div",{className:"pl-12 py-3 text-sm text-slate-400 italic",children:"No topics yet. Click + to add one."}),c&&g.jsxs(Ee.form,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},onSubmit:v,className:"pl-12 pr-4 py-2 flex items-center gap-2",children:[g.jsx(C8,{className:"w-4 h-4 text-slate-300 dark:text-slate-500"}),g.jsx("input",{autoFocus:!0,name:"topicName",type:"text",placeholder:"Topic name...",className:"flex-1 bg-white dark:bg-slate-700 px-3 py-1.5 rounded-lg border border-slate-200 dark:border-slate-600 text-sm text-slate-800 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-colors",onBlur:()=>setTimeout(()=>h(!1),200)}),g.jsx("button",{type:"submit",className:"hidden",children:"Add"})]})]})})}),f&&g.jsx(tz,{subjectId:t,chapterId:e.id,currentName:e.name,onClose:()=>p(!1)})]})}function sz(){const{id:t}=wI(),e=Df(),{subjects:n,deleteSubject:i}=Qt(),[a,l]=N.useState(!1),[c,h]=N.useState(!1),[f,p]=N.useState({}),v=n.find(P=>P.id===t);if(!v)return g.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[50vh] text-center p-8",children:[g.jsx("div",{className:"w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mb-4",children:g.jsx(hs,{className:"w-8 h-8 text-slate-300"})}),g.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Subject Not Found"}),g.jsx(en,{to:"/",className:"mt-4 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Go Back Home"})]});const b=()=>{confirm(`Are you sure you want to delete ${v.name}? ALL progress will be lost.`)&&(i(v.id),e("/"))},w=P=>{p(F=>({...F,[P]:!F[P]}))},S=v.chapters.length,M=v.chapters.filter(P=>P.isCompleted).length;let O=0;v.chapters.forEach(P=>{P.topics&&P.topics.length>0?O+=P.topics.filter(F=>F.isCompleted).length/P.topics.length*100:O+=P.isCompleted?100:0});const V=S===0?0:Math.round(O/S);return g.jsxs(lm,{className:"max-w-3xl mx-auto pb-12",children:[g.jsxs("div",{className:"mb-8",children:[g.jsxs(en,{to:"/",className:"inline-flex items-center gap-2 text-slate-500 hover:text-slate-800 dark:text-slate-400 dark:hover:text-slate-200 mb-6 transition-colors group",children:[g.jsx(t8,{className:"w-4 h-4 group-hover:-translate-x-1 transition-transform"}),"Back to Dashboard"]}),g.jsxs("div",{className:"flex flex-col md:flex-row md:items-start justify-between gap-4",children:[g.jsxs("div",{children:[g.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1 rounded-full text-xs font-semibold text-white mb-3 ${v.color}`,children:[g.jsx(hs,{className:"w-3 h-3"}),v.name]}),g.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-800 dark:text-white transition-colors",children:v.name}),g.jsxs("p",{className:"text-slate-500 dark:text-slate-400 mt-2 transition-colors",children:[M," of ",S," chapters completed"]})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("button",{onClick:()=>h(!0),className:"text-slate-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/30 dark:hover:text-blue-400 p-2 rounded-lg transition-colors",title:"Edit Subject",children:g.jsx(rm,{className:"w-5 h-5"})}),g.jsx("button",{onClick:b,className:"text-red-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/30 dark:hover:text-red-400 p-2 rounded-lg transition-colors",title:"Delete Subject",children:g.jsx(am,{className:"w-5 h-5"})})]})]}),g.jsxs("div",{className:"mt-6",children:[g.jsxs("div",{className:"flex justify-between items-end mb-2",children:[g.jsxs("span",{className:"text-3xl font-bold text-slate-800 dark:text-white transition-colors",children:[V,"%"]}),g.jsx("span",{className:"text-sm font-medium text-slate-400 dark:text-slate-500 transition-colors",children:"Progress"})]}),g.jsx("div",{className:"h-3 w-full bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden transition-colors",children:g.jsx(Ee.div,{initial:{width:0},animate:{width:`${V}%`},transition:{duration:1,ease:"easeOut"},className:`h-full ${v.color}`})})]})]}),g.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl border border-slate-100 dark:border-slate-700 shadow-sm overflow-hidden transition-colors",children:[g.jsxs("div",{className:"p-6 border-b border-slate-50 dark:border-slate-700 flex items-center justify-between bg-slate-50/50 dark:bg-slate-700/30 transition-colors",children:[g.jsx("h2",{className:"text-lg font-bold text-slate-800 dark:text-white transition-colors",children:"Syllabus / Chapters"}),g.jsxs(Ee.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>l(!0),className:"bg-slate-900 hover:bg-slate-800 dark:bg-slate-700 dark:hover:bg-slate-600 text-white px-4 py-2 rounded-lg text-sm font-medium flex items-center gap-2 transition-colors",children:[g.jsx(bl,{className:"w-4 h-4"}),"Add Chapter"]})]}),g.jsx("div",{className:"divide-y divide-slate-50 dark:divide-slate-700 transition-colors",children:v.chapters.length>0?v.chapters.map(P=>g.jsx(nz,{subjectId:v.id,chapter:P,isExpanded:!!f[P.id],onToggle:()=>w(P.id)},P.id)):g.jsxs("div",{className:"p-12 text-center",children:[g.jsx("div",{className:"w-16 h-16 bg-slate-50 dark:bg-slate-700/50 rounded-full flex items-center justify-center mx-auto mb-3 transition-colors",children:g.jsx(hs,{className:"w-6 h-6 text-slate-300 dark:text-slate-500"})}),g.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-4 transition-colors",children:"No chapters added yet."}),g.jsx("button",{onClick:()=>l(!0),className:"text-blue-600 dark:text-blue-400 font-medium hover:underline transition-colors",children:"Add your first chapter"})]})})]}),a&&g.jsx(Q7,{subjectId:v.id,onClose:()=>l(!1)}),c&&g.jsx(MC,{subject:v,onClose:()=>h(!1)})]})}const OC=N.createContext(void 0);function iz({children:t}){const[e,n]=N.useState(()=>typeof window<"u"&&localStorage.getItem("theme")?localStorage.getItem("theme"):typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");N.useEffect(()=>{const a=window.document.documentElement;a.classList.remove("light","dark"),a.classList.add(e),localStorage.setItem("theme",e)},[e]);const i=()=>{n(a=>a==="light"?"dark":"light")};return g.jsx(OC.Provider,{value:{theme:e,toggleTheme:i},children:t})}function PC(){const t=N.useContext(OC);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t}function rz({onClose:t}){const[e,n]=N.useState(ru[0].id),[i,a]=N.useState(new Set),l=ru.find(f=>f.id===e),c=f=>{const p=new Set(i);p.has(f)?p.delete(f):p.add(f),a(p)},h=()=>{if(l)if(i.size===l.subjects.length)a(new Set);else{const f=new Set(l.subjects.map(p=>p.name));a(f)}};return g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm animate-in fade-in duration-200",children:g.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl w-full max-w-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[g.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-slate-100 dark:border-slate-700",children:[g.jsxs("div",{children:[g.jsxs("h3",{className:"text-xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[g.jsx(hs,{className:"w-6 h-6 text-blue-600"}),"Import Syllabus"]}),g.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:"Select a curriculum to quick-start your study plan."})]}),g.jsx("button",{onClick:t,className:"p-2 text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full transition-colors",children:g.jsx(er,{className:"w-5 h-5"})})]}),g.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col md:flex-row",children:[g.jsxs("div",{className:"w-full md:w-48 bg-slate-50 dark:bg-slate-900/50 border-r border-slate-100 dark:border-slate-700 p-4",children:[g.jsx("h4",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider mb-3",children:"Curriculums"}),g.jsx("div",{className:"space-y-2",children:ru.map(f=>g.jsx("button",{onClick:()=>{n(f.id),a(new Set)},className:`w-full text-left px-3 py-2 rounded-lg text-sm font-medium transition-colors ${e===f.id?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400":"text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800"}`,children:f.name},f.id))})]}),g.jsxs("div",{className:"flex-1 p-6 overflow-y-auto",children:[g.jsxs("div",{className:"flex justify-between items-center mb-4",children:[g.jsxs("h4",{className:"font-semibold text-slate-800 dark:text-white",children:[l?.name," Subjects"]}),g.jsx("button",{onClick:h,className:"text-xs font-medium text-blue-600 dark:text-blue-400 hover:underline",children:i.size===l?.subjects.length?"Deselect All":"Select All"})]}),g.jsx("div",{className:"space-y-3",children:l?.subjects.map(f=>g.jsxs("div",{onClick:()=>c(f.name),className:`relative flex items-start gap-4 p-4 rounded-xl border cursor-pointer transition-all ${i.has(f.name)?"border-blue-500 bg-blue-50/50 dark:bg-blue-900/10":"border-slate-200 dark:border-slate-700 hover:border-slate-300 dark:hover:border-slate-600"}`,children:[g.jsx("div",{className:`mt-1 flex-shrink-0 w-5 h-5 rounded border flex items-center justify-center transition-colors ${i.has(f.name)?"bg-blue-500 border-blue-500":"bg-white dark:bg-slate-800 border-slate-300 dark:border-slate-600"}`,children:i.has(f.name)&&g.jsx(TC,{className:"w-3.5 h-3.5 text-white"})}),g.jsxs("div",{className:"flex-1",children:[g.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[g.jsx("span",{className:`font-semibold ${i.has(f.name)?"text-blue-700 dark:text-blue-300":"text-slate-700 dark:text-slate-300"}`,children:f.name}),g.jsxs("span",{className:"text-xs px-2 py-0.5 rounded-full bg-slate-100 dark:bg-slate-700 text-slate-500",children:[f.chapters.length," Chapters"]})]}),g.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 line-clamp-1",children:[f.chapters.slice(0,3).map(p=>p.name).join(", "),"..."]})]})]},f.name))})]})]}),g.jsxs("div",{className:"p-6 border-t border-slate-100 dark:border-slate-700 flex justify-end gap-3 bg-slate-50/50 dark:bg-slate-900/50",children:[g.jsx("button",{onClick:t,className:"px-5 py-2.5 rounded-xl font-medium text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors",children:"Cancel"}),g.jsx(az,{count:i.size,currentTemplate:l,selectedSubjects:i,onClose:t})]})]})})}function az({count:t,currentTemplate:e,selectedSubjects:n,onClose:i}){const{importSyllabusData:a}=Qt(),l=()=>{if(t===0||!e)return;const c=e.subjects.filter(h=>n.has(h.name));a(c),i()};return g.jsxs("button",{onClick:l,disabled:t===0,className:"px-6 py-2.5 rounded-xl font-medium bg-blue-600 hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed text-white shadow-lg shadow-blue-500/20 transition-all active:scale-95 flex items-center gap-2",children:[g.jsx(im,{className:"w-4 h-4"}),"Import ",t>0?`${t} Subjects`:""]})}function oz(){const{user:t,logout:e}=Zi(),{userProfile:n,updateProfile:i,resetData:a,exportData:l,importData:c}=Qt(),{isMuted:h,toggleMute:f}=Xv(),{theme:p,toggleTheme:v}=PC(),b=N.useRef(null),w=N.useRef(null),[S,M]=N.useState(!1),[O,V]=N.useState(!1),[P,F]=N.useState("Notification"in window&&Notification.permission==="granted"),H=om(),ee=()=>{const E=b.current?.value.trim()||"",R=w.current?.value.trim()||"";if(!E){H.error("Please enter your name");return}i({name:E,grade:R}),V(!1),H.success("Profile updated successfully!")},se=()=>{const E=document.createElement("input");E.type="file",E.accept=".json",E.onchange=R=>{const I=R.target.files?.[0];if(I){const D=new FileReader;D.onload=L=>{const C=L.target?.result;c(C)&&alert("Data imported successfully!")},D.readAsText(I)}},E.click()},re=()=>{confirm("Do you want to restart the welcome tour?")&&(localStorage.removeItem("tracked_tour_completed"),window.location.reload())},j=async()=>{if(!("Notification"in window)){alert("This browser does not support desktop notifications");return}if(Notification.permission==="granted")F(!P);else if(Notification.permission!=="denied"){const E=await Notification.requestPermission();F(E==="granted")}else alert("Notifications are blocked. Please enable them in your browser settings.")};return g.jsxs(lm,{className:"max-w-2xl mx-auto space-y-8 pb-10",children:[g.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[g.jsx(J0,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"}),g.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-white transition-colors",children:"Settings"})]}),g.jsxs(Ee.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden transition-colors",children:[g.jsx("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700",children:g.jsxs("h2",{className:"text-lg font-semibold text-slate-800 dark:text-white flex items-center gap-2",children:[g.jsx(J0,{className:"w-5 h-5 text-blue-500"}),"Profile Information"]})}),g.jsxs("div",{className:"p-6 space-y-4",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1 transition-colors",children:"Student Name"}),g.jsx("input",{ref:b,type:"text",defaultValue:n?.name||"",disabled:!O,className:`w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all placeholder:text-slate-400 dark:placeholder:text-slate-500 ${O?"":"opacity-60 cursor-not-allowed bg-slate-50 dark:bg-slate-800/50"}`,placeholder:"Enter your name"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1 transition-colors",children:"Class / Grade"}),g.jsx("input",{ref:w,type:"text",defaultValue:n?.grade||"",disabled:!O,className:`w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all placeholder:text-slate-400 dark:placeholder:text-slate-500 ${O?"":"opacity-60 cursor-not-allowed bg-slate-50 dark:bg-slate-800/50"}`,placeholder:"e.g. HSC 2026"})]})]}),g.jsx("div",{className:"pt-2 flex gap-3",children:O?g.jsxs(g.Fragment,{children:[g.jsx("button",{onClick:()=>V(!1),className:"px-5 py-2.5 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-200 font-medium rounded-lg hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors text-sm",children:"Cancel"}),g.jsxs("button",{onClick:ee,className:"px-5 py-2.5 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition-colors flex items-center gap-2 text-sm shadow-sm",children:[g.jsx(Nf,{className:"w-4 h-4"}),"Save Changes"]})]}):g.jsxs("button",{onClick:()=>V(!0),className:"px-5 py-2.5 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-200 font-medium rounded-lg hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors flex items-center gap-2 text-sm",children:[g.jsx(IE,{className:"w-4 h-4"}),"Edit Profile"]})})]})]}),g.jsxs(Ee.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden transition-colors",children:[g.jsx("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700",children:g.jsxs("h2",{className:"text-lg font-semibold text-slate-800 dark:text-white flex items-center gap-2",children:[g.jsx(J8,{className:"w-5 h-5 text-purple-500"}),"Appearance & Preferences"]})}),g.jsxs("div",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:[g.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:`p-2 rounded-lg ${p==="dark"?"bg-slate-700 text-slate-300":"bg-orange-100 text-orange-600"}`,children:p==="dark"?g.jsx(Cf,{className:"w-5 h-5"}):g.jsx(Z0,{className:"w-5 h-5"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"App Theme"}),g.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Switch between light and dark mode"})]})]}),g.jsx("button",{onClick:v,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${p==="dark"?"bg-blue-600":"bg-slate-200"}`,children:g.jsx("span",{className:`${p==="dark"?"translate-x-6":"translate-x-1"} inline-block h-4 w-4 transform rounded-full bg-white transition-transform`})})]}),g.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:`p-2 rounded-lg ${h?"bg-slate-100 dark:bg-slate-700 text-slate-400":"bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400"}`,children:h?g.jsx(IC,{className:"w-5 h-5"}):g.jsx(RC,{className:"w-5 h-5"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"Sound Effects"}),g.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Play sounds for timer and interactions"})]})]}),g.jsx("button",{onClick:f,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${h?"bg-slate-200 dark:bg-slate-600":"bg-blue-600"}`,children:g.jsx("span",{className:`${h?"translate-x-1":"translate-x-6"} inline-block h-4 w-4 transform rounded-full bg-white transition-transform`})})]}),g.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:`p-2 rounded-lg ${P?"bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400":"bg-slate-100 dark:bg-slate-700 text-slate-400"}`,children:P?g.jsx(o8,{className:"w-5 h-5"}):g.jsx(r8,{className:"w-5 h-5"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"Notifications"}),g.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Get reminders for study sessions"})]})]}),g.jsx("button",{onClick:j,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${P?"bg-blue-600":"bg-slate-200 dark:bg-slate-600"}`,children:g.jsx("span",{className:`${P?"translate-x-6":"translate-x-1"} inline-block h-4 w-4 transform rounded-full bg-white transition-transform`})})]}),g.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"p-2 rounded-lg bg-pink-100 dark:bg-pink-900/30 text-pink-600 dark:text-pink-400",children:g.jsx(P8,{className:"w-5 h-5"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"Language"}),g.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"App language preference"})]})]}),g.jsxs("select",{className:"bg-transparent border border-slate-200 dark:border-slate-600 rounded-lg text-sm px-2 py-1 text-slate-700 dark:text-slate-300 focus:ring-2 focus:ring-blue-500 outline-none",children:[g.jsx("option",{children:"English"}),g.jsx("option",{disabled:!0,children:"Bengali (Coming Soon)"})]})]})]})]}),g.jsxs(Ee.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden transition-colors",children:[g.jsx("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700",children:g.jsxs("h2",{className:"text-lg font-semibold text-slate-800 dark:text-white flex items-center gap-2",children:[g.jsx(Nf,{className:"w-5 h-5 text-green-500"}),"Data & Backup"]})}),g.jsxs("div",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:[g.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors cursor-pointer",onClick:()=>M(!0),children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"p-2 rounded-lg bg-indigo-100 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400",children:g.jsx(hs,{className:"w-5 h-5"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"Import Syllabus Template"}),g.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Quickly add pre-made subject templates"})]})]}),g.jsx("button",{className:"text-slate-400",children:g.jsx(IE,{className:"w-4 h-4"})})]}),g.jsxs("div",{className:"p-4 grid grid-cols-2 gap-4",children:[g.jsxs("button",{onClick:l,className:"flex items-center justify-center gap-2 py-2.5 border border-slate-200 dark:border-slate-600 rounded-lg text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors text-sm font-medium",children:[g.jsx(im,{className:"w-4 h-4"}),"Export Data"]}),g.jsxs("button",{onClick:se,className:"flex items-center justify-center gap-2 py-2.5 border border-slate-200 dark:border-slate-600 rounded-lg text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors text-sm font-medium",children:[g.jsx(R7,{className:"w-4 h-4"}),"Import Data"]})]}),g.jsx("div",{className:"p-4 bg-red-50/50 dark:bg-red-900/10",children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"p-2 rounded-lg bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400",children:g.jsx(am,{className:"w-5 h-5"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-red-700 dark:text-red-400 font-medium",children:"Reset Application"}),g.jsx("p",{className:"text-xs text-red-600/70 dark:text-red-400/70",children:"Permanently delete all study data"})]})]}),g.jsx("button",{onClick:()=>{confirm("Are you absolutely sure? This cannot be undone.")&&a()},className:"px-4 py-2 bg-white dark:bg-slate-800 border border-red-200 dark:border-red-800 text-red-600 dark:text-red-400 font-medium rounded-lg hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors text-xs shadow-sm",children:"Reset Data"})]})})]})]}),g.jsxs(Ee.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden transition-colors",children:[g.jsx("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700",children:g.jsxs("h2",{className:"text-lg font-semibold text-slate-800 dark:text-white flex items-center gap-2",children:[g.jsx(v7,{className:"w-5 h-5 text-gray-500"}),"Support & Info"]})}),g.jsxs("div",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:[g.jsx("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors cursor-pointer",onClick:re,children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"p-2 rounded-lg bg-cyan-100 dark:bg-cyan-900/30 text-cyan-600 dark:text-cyan-400",children:g.jsx(NC,{className:"w-5 h-5"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"Restart Welcome Tour"}),g.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Show the onboarding guide again"})]})]})}),g.jsx("a",{href:"https://chat.whatsapp.com/K9mUpCp6Moo4poVbW5zgfr",target:"_blank",rel:"noopener noreferrer",className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors",children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"p-2 rounded-lg bg-orange-100 dark:bg-orange-900/30 text-orange-600 dark:text-orange-400",children:g.jsx(f8,{className:"w-5 h-5"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"Report a Bug"}),g.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Report issues via our WhatsApp group"})]})]})}),g.jsx("a",{href:"https://chat.whatsapp.com/K9mUpCp6Moo4poVbW5zgfr",target:"_blank",rel:"noopener noreferrer",className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors",children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"p-2 rounded-lg bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400",children:g.jsx(Yv,{className:"w-5 h-5"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"Join WhatsApp Group"}),g.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Get help & discuss with community"})]})]})}),g.jsx("div",{className:"p-4 bg-slate-50 dark:bg-slate-800/50 flex items-center justify-center",children:g.jsx("p",{className:"text-xs text-slate-400 font-medium",children:"TrackEd v1.0.0  Made with  for Students"})})]})]}),t&&g.jsxs(Ee.button,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},onClick:e,className:"w-full p-4 rounded-xl border border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-400 font-medium hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors flex items-center justify-center gap-2",children:[g.jsx(Kv,{className:"w-5 h-5"}),"Sign Out"]}),g.jsx(fs,{children:S&&g.jsx(rz,{onClose:()=>M(!1)})})]})}function Cd({title:t,value:e,icon:n,colorClass:i,bgClass:a,delay:l=0}){return g.jsxs(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:l,type:"spring"},className:"bg-white dark:bg-slate-800 rounded-2xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm flex items-center justify-between transition-colors",children:[g.jsxs("div",{children:[g.jsxs("h3",{className:"text-slate-400 dark:text-slate-400 font-medium text-sm flex items-center gap-1.5 mb-2",children:[g.jsx(n,{className:`w-4 h-4 ${i}`})," ",t]}),g.jsx("div",{className:"text-3xl font-bold text-slate-800 dark:text-white transition-colors",children:e})]}),g.jsx("div",{className:`w-12 h-12 ${a} rounded-full flex items-center justify-center transition-colors`,children:g.jsx(n,{className:`w-6 h-6 ${i}`})})]})}function lz(t){let e=0,n=0,i=0,a=0;return t.forEach(l=>{e+=l.chapters.length,l.chapters.forEach(c=>{c.isCompleted&&n++,c.topics&&(i+=c.topics.length,c.topics.forEach(h=>{h.isCompleted&&a++}))})}),{totalChapters:e,completedChapters:n,totalTopics:i,completedTopics:a}}function cz(t){const e=new Date,i=Array.from({length:7},(l,c)=>{const h=new Date;return h.setDate(e.getDate()-(6-c)),h.toISOString().split("T")[0]}).map(l=>{let c=0;return t.forEach(h=>{h.chapters.forEach(f=>{f.topics&&f.topics.forEach(p=>{p.isCompleted&&p.completedAt&&p.completedAt.startsWith(l)&&c++})})}),{date:l,count:c}}),a=Math.max(...i.map(l=>l.count),1);return{activityData:i,maxCount:a}}function uz(t){const e=new Set;t.forEach(h=>h.chapters.forEach(f=>f.topics?.forEach(p=>{p.isCompleted&&p.completedAt&&e.add(p.completedAt.split("T")[0])})));const n=Array.from(e).sort((h,f)=>new Date(f).getTime()-new Date(h).getTime());let i=0;const a=new Date().toISOString().split("T")[0],l=new Date;l.setDate(l.getDate()-1);const c=l.toISOString().split("T")[0];if(n.length>0){const h=n[0];if(h===a||h===c){i=1;let f=new Date(h);for(let p=1;p<n.length;p++){const v=new Date(n[p]),b=Math.abs(f.getTime()-v.getTime());if(Math.round(b/(1e3*60*60*24))===1)i++,f=v;else break}}}return i}function hz(){const{subjects:t}=Qt(),{totalChapters:e,completedChapters:n,totalTopics:i,completedTopics:a}=lz(t),{activityData:l,maxCount:c}=cz(t),h=uz(t),f=i>0?Math.round(a/i*100):0,p={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}};return g.jsxs(lm,{className:"max-w-4xl mx-auto pb-12",children:[g.jsxs("h1",{className:"text-3xl font-bold text-slate-800 dark:text-white mb-8 flex items-center gap-3 transition-colors",children:[g.jsx(ey,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"}),"Study Analytics"]}),g.jsxs(Ee.div,{variants:p,initial:"hidden",animate:"show",className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[g.jsx("div",{className:"sm:col-span-1",children:g.jsx(Cd,{title:"Total Streak",value:`${h} days`,icon:xC,colorClass:"text-orange-500",bgClass:"bg-orange-50 dark:bg-orange-900/20",delay:.1})}),g.jsx("div",{className:"sm:col-span-1",children:g.jsx(Cd,{title:"Topics Done",value:`${a} / ${i}`,icon:hs,colorClass:"text-blue-500",bgClass:"bg-blue-50 dark:bg-blue-900/20",delay:.2})}),g.jsx("div",{className:"sm:col-span-1",children:g.jsx(Cd,{title:"Chapters Done",value:`${n} / ${e}`,icon:Wa,colorClass:"text-amber-500",bgClass:"bg-amber-50 dark:bg-amber-900/20",delay:.3})}),g.jsx("div",{className:"sm:col-span-1",children:g.jsx(Cd,{title:"Completion",value:`${f}%`,icon:io,colorClass:"text-emerald-500",bgClass:"bg-emerald-50 dark:bg-emerald-900/20",delay:.4})})]}),g.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[g.jsxs(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"md:col-span-2 bg-white dark:bg-slate-800 p-6 rounded-3xl border border-slate-100 dark:border-slate-700 shadow-sm transition-colors",children:[g.jsxs("h2",{className:"text-lg font-bold text-slate-800 dark:text-white mb-6 flex items-center gap-2 transition-colors",children:[g.jsx(g8,{className:"w-5 h-5 text-slate-400"}),"Last 7 Days Activity"]}),g.jsx("div",{className:"flex items-end justify-between gap-2 h-48",children:l.map((v,b)=>g.jsxs("div",{className:"flex-1 flex flex-col items-center gap-2 group",children:[g.jsx("div",{className:"w-full bg-slate-100 dark:bg-slate-700 rounded-t-lg relative h-full flex items-end overflow-hidden transition-colors",children:g.jsx(Ee.div,{initial:{height:0},animate:{height:`${v.count/c*100}%`},transition:{duration:1,delay:b*.1,ease:"easeOut"},className:"w-full bg-blue-500 dark:bg-blue-600 rounded-t-lg transition-colors duration-300 group-hover:bg-blue-600 dark:group-hover:bg-blue-500 relative",children:g.jsxs("div",{className:"absolute -top-8 left-1/2 -translate-x-1/2 bg-slate-800 text-white text-xs py-1 px-2 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10",children:[v.count," Topics"]})})}),g.jsx("span",{className:"text-xs text-slate-400 dark:text-slate-500 font-medium transition-colors",children:new Date(v.date).toLocaleDateString("en-US",{weekday:"short"})})]},v.date))})]}),g.jsxs(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white dark:bg-slate-800 p-6 rounded-3xl border border-slate-100 dark:border-slate-700 shadow-sm transition-colors",children:[g.jsxs("h2",{className:"text-lg font-bold text-slate-800 dark:text-white mb-6 flex items-center gap-2 transition-colors",children:[g.jsx(hs,{className:"w-5 h-5 text-slate-400"}),"Subject Progress"]}),g.jsxs("div",{className:"space-y-4 max-h-[300px] overflow-y-auto pr-2 custom-scrollbar",children:[t.map(v=>{const b=v.chapters.reduce((M,O)=>M+(O.topics?.length||0),0),w=v.chapters.reduce((M,O)=>M+(O.topics?.filter(V=>V.isCompleted).length||0),0),S=b>0?Math.round(w/b*100):0;return g.jsxs("div",{children:[g.jsxs("div",{className:"flex justify-between items-center mb-1",children:[g.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 transition-colors",children:v.name}),g.jsxs("span",{className:"text-xs text-slate-400 dark:text-slate-500 transition-colors",children:[S,"%"]})]}),g.jsx("div",{className:"h-2 bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden transition-colors",children:g.jsx(Ee.div,{initial:{width:0},animate:{width:`${S}%`},transition:{duration:1,ease:"easeOut"},className:`h-full ${v.color}`})})]},v.id)}),t.length===0&&g.jsx("div",{className:"text-center text-slate-400 text-sm py-8",children:"No subjects added."})]})]})]})]})}function dz(){const t=om(),{saveStudySession:e,subjects:n}=Qt(),{user:i}=Zi(),{playSound:a,isMuted:l,toggleMute:c}=Xv(),[h,f]=N.useState("stopwatch"),[p,v]=N.useState(!1),[b,w]=N.useState(0),[S,M]=N.useState(0),[O,V]=N.useState(30),[P,F]=N.useState("timer"),[H,ee]=N.useState("today"),[se,re]=N.useState(""),[j,E]=N.useState(""),[R,I]=N.useState(""),[D,L]=N.useState(!1),[C,fe]=N.useState([]),[me,G]=N.useState(!0),W=N.useRef(null);N.useEffect(()=>{Notification.permission==="default"&&Notification.requestPermission()},[]);const Z=(he,je)=>{Notification.permission==="granted"&&new Notification(he,{body:je,icon:"/vite.svg"})};N.useEffect(()=>(p?W.current=window.setInterval(()=>{w(he=>h==="stopwatch"?he+1:he<=1?(v(!1),a("complete"),Z("Time's Up! ","Your study session is complete. Take a break!"),0):he-1)},1e3):W.current&&clearInterval(W.current),()=>{W.current&&clearInterval(W.current)}),[p,h,a]),N.useEffect(()=>{if(v(!1),L(!1),h==="stopwatch")w(0),M(0);else if(h==="pomodoro"||h==="countdown"){const he=O*60;w(he),M(he)}},[h,O]),N.useEffect(()=>{(async()=>{if(i){G(!0);try{const je=Fa(qi,"users");let ht="userProfile.todayStudyTime";H==="week"?ht="userProfile.weeklyStudyTime":H==="month"?ht="userProfile.monthlyStudyTime":H==="all_time"&&(ht="userProfile.totalStudyTime");const nt=nm(je,zv(ht,"desc"),Fv(10)),qt=await fC(nt),Gn=[];qt.forEach(xn=>{const $n=xn.data();if($n.userProfile){let Mn=0;H==="today"?Mn=$n.userProfile.todayStudyTime||0:H==="week"?Mn=$n.userProfile.weeklyStudyTime||0:H==="month"?Mn=$n.userProfile.monthlyStudyTime||0:Mn=$n.userProfile.totalStudyTime||0,Gn.push({userId:xn.id,userName:$n.userProfile.name||"Anonymous",displayTime:Mn})}}),fe(Gn)}catch(je){console.error("Error fetching leaderboard:",je)}finally{G(!1)}}})()},[i,P,H]),N.useEffect(()=>(p?document.title=`${te(b)} - ${R||(h==="pomodoro"?"Focus":"Timer")}`:document.title="Study Tracker",()=>{document.title="Study Tracker"}),[p,b,h,R]);const Ae=()=>{!p&&h!=="stopwatch"&&b===0&&w(S),v(!p),a("click")},Re=()=>{v(!1),L(!1),w(h==="stopwatch"?0:S),a("click")},z=async()=>{if(!j){t.error("Please select a subject to save session.");return}let he=0;if(h==="stopwatch"?he=b:he=S-b,he<60){t.error("Session must be at least 1 minute to save.");return}await e(he,j,R),L(!0),a("success"),t.success("Session Saved! Great Job.")},te=he=>{const je=Math.floor(he/3600),ht=Math.floor(he%3600/60),nt=he%60;return je>0?`${je}:${ht.toString().padStart(2,"0")}:${nt.toString().padStart(2,"0")}`:`${ht.toString().padStart(2,"0")}:${nt.toString().padStart(2,"0")}`},ce=he=>{const je=Math.floor(he/3600),ht=Math.floor(he%3600/60),nt=he%60;return`${je.toString().padStart(2,"0")}:${ht.toString().padStart(2,"0")}:${nt.toString().padStart(2,"0")}`},ue=h==="stopwatch"?100:Math.max(0,b/S*100),_e=120,Ne=2*Math.PI*_e,Se=Ne-ue/100*Ne;return g.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[g.jsxs("header",{className:"flex items-center justify-between",children:[g.jsx("div",{children:g.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-slate-900 dark:text-white transition-colors",children:"Focus Timer"})}),g.jsx("button",{onClick:c,className:"p-2 text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 transition-colors",children:l?g.jsx(IC,{className:"w-6 h-6"}):g.jsx(RC,{className:"w-6 h-6"})})]}),g.jsxs("div",{className:"flex p-1 bg-slate-100 dark:bg-slate-800 rounded-xl mb-6 md:hidden",children:[g.jsx("button",{onClick:()=>F("timer"),className:`flex-1 py-2 text-sm font-medium rounded-lg transition-all ${P==="timer"?"bg-white dark:bg-slate-700 text-blue-600 dark:text-blue-400 shadow-sm":"text-slate-500 dark:text-slate-400"}`,children:"Timer"}),g.jsx("button",{onClick:()=>F("leaderboard"),className:`flex-1 py-2 text-sm font-medium rounded-lg transition-all ${P==="leaderboard"?"bg-white dark:bg-slate-700 text-blue-600 dark:text-blue-400 shadow-sm":"text-slate-500 dark:text-slate-400"}`,children:"Leaderboard"})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[g.jsxs("div",{className:`${P==="timer"?"block":"hidden"} md:block flex flex-col space-y-6`,children:[g.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 transition-colors",children:[g.jsx("label",{className:"block text-sm font-medium text-slate-500 mb-2",children:"My Focus Goal"}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("input",{type:"text",placeholder:"What are you working on? (e.g. Physics Chapter 3)",className:"flex-1 bg-slate-50 dark:bg-slate-700 border-none rounded-xl px-4 py-3 text-slate-800 dark:text-white placeholder:text-slate-400 focus:ring-2 focus:ring-blue-500 transition-all font-medium",value:R,onChange:he=>I(he.target.value),disabled:p}),g.jsxs("select",{className:"w-1/3 bg-slate-50 dark:bg-slate-700 border-none rounded-xl px-3 py-3 text-slate-600 dark:text-slate-300 font-medium focus:ring-2 focus:ring-blue-500 cursor-pointer text-sm",value:j,onChange:he=>E(he.target.value),disabled:p,children:[g.jsx("option",{value:"",children:"Subject"}),n.map(he=>g.jsx("option",{value:he.id,children:he.name},he.id))]})]})]}),g.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl p-8 shadow-sm border border-slate-100 dark:border-slate-700 flex flex-col items-center justify-center relative overflow-hidden transition-colors min-h-[400px]",children:[g.jsxs("div",{className:"relative w-64 h-64 md:w-72 md:h-72 mb-8 flex items-center justify-center",children:[g.jsxs("svg",{className:"w-full h-full transform -rotate-90",children:[g.jsx("circle",{cx:"50%",cy:"50%",r:_e,stroke:"currentColor",strokeWidth:"12",fill:"transparent",className:"text-slate-100 dark:text-slate-700"}),g.jsx("circle",{cx:"50%",cy:"50%",r:_e,stroke:"currentColor",strokeWidth:"12",fill:"transparent",strokeDasharray:Ne,strokeDashoffset:h==="stopwatch"?0:Se,strokeLinecap:"round",className:`transition-all duration-1000 ease-linear ${p?h==="pomodoro"?"text-rose-500":"text-blue-500":"text-slate-300 dark:text-slate-600"}`})]}),g.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center z-10",children:[g.jsx("div",{className:`text-5xl md:text-6xl font-bold tracking-tight tabular-nums mb-2 ${p?h==="pomodoro"?"text-rose-500":"text-blue-600":"text-slate-800 dark:text-white"}`,children:te(b)}),g.jsx("div",{className:"text-slate-400 dark:text-slate-500 font-medium uppercase tracking-widest text-sm",children:p?"Running":"Paused"})]})]}),g.jsxs("div",{className:"flex items-center gap-6 z-10",children:[!p&&g.jsx("button",{onClick:Re,className:"p-3 rounded-full bg-slate-100 dark:bg-slate-700 text-slate-500 hover:bg-slate-200 dark:hover:bg-slate-600 transition-all hover:scale-110",title:"Reset",children:g.jsx(NC,{className:"w-5 h-5"})}),g.jsx("button",{onClick:Ae,className:`p-6 rounded-full shadow-xl transition-all hover:scale-105 active:scale-95 ${p?"bg-amber-100 text-amber-600 hover:bg-amber-200":"bg-blue-600 text-white hover:bg-blue-700"}`,children:p?g.jsx(t7,{className:"w-8 h-8 fill-current"}):g.jsx(CC,{className:"w-8 h-8 ml-1 fill-current"})}),!p&&(h==="stopwatch"&&b>60||h!=="stopwatch"&&b!==S)&&!D&&g.jsx("button",{onClick:z,className:"p-3 rounded-full bg-emerald-100 text-emerald-600 hover:bg-emerald-200 transition-all hover:scale-110 animate-pulse",title:"Save Session",children:g.jsx(Nf,{className:"w-5 h-5"})})]}),g.jsxs("div",{className:"mt-8 flex gap-2",children:[g.jsx("button",{onClick:()=>{f("stopwatch"),V(0)},className:`px-4 py-2 text-sm font-medium rounded-full transition-all ${h==="stopwatch"?"bg-blue-100 text-blue-700":"text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:"Stopwatch"}),g.jsx("button",{onClick:()=>{f("pomodoro"),V(25)},className:`px-4 py-2 text-sm font-medium rounded-full transition-all ${h==="pomodoro"?"bg-rose-100 text-rose-700":"text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:"Pomodoro"}),g.jsx("button",{onClick:()=>{f("countdown"),V(30)},className:`px-4 py-2 text-sm font-medium rounded-full transition-all ${h==="countdown"?"bg-amber-100 text-amber-700":"text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:"Countdown"})]}),!p&&(h==="pomodoro"||h==="countdown")&&g.jsxs("div",{className:"mt-4 flex items-center gap-2 animate-in fade-in slide-in-from-bottom-2",children:[g.jsx("span",{className:"text-slate-400 text-sm",children:"Duration:"}),g.jsx("input",{type:"range",min:"5",max:"120",step:"5",value:O,onChange:he=>V(Number(he.target.value)),className:"w-32 accent-blue-600 cursor-pointer"}),g.jsxs("span",{className:"text-slate-700 dark:text-slate-300 font-bold w-12 text-center",children:[O,"m"]})]})]})]}),g.jsxs("div",{className:`${P==="leaderboard"?"block":"hidden"} md:block bg-white dark:bg-slate-800 rounded-3xl p-6 shadow-xl border border-slate-100 dark:border-slate-700 h-fit transition-colors sticky top-24`,children:[g.jsxs("div",{className:"flex flex-col gap-4 mb-6",children:[g.jsx("div",{className:"flex items-center justify-between",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(Wa,{className:"w-6 h-6 text-yellow-500"}),g.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Leaderboard"})]})}),g.jsxs("div",{className:"relative",children:[g.jsx("input",{type:"text",placeholder:"Search name...",value:se,onChange:he=>re(he.target.value),className:"w-full pl-10 pr-4 py-3 bg-slate-50 dark:bg-slate-700/50 border border-slate-200 dark:border-slate-600 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500/50 text-slate-800 dark:text-white placeholder:text-slate-400 transition-all font-medium"}),g.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:g.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})})})]}),g.jsx("div",{className:"flex p-1.5 bg-slate-100 dark:bg-slate-700/50 rounded-xl",children:["today","week","month","all_time"].map(he=>g.jsx("button",{onClick:()=>ee(he),className:`flex-1 py-2 text-xs font-bold rounded-lg transition-all capitalize ${H===he?"bg-blue-600 text-white shadow-md":"text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-200 hover:bg-white/50 dark:hover:bg-white/5"}`,children:he==="all_time"?"Lifetime":he==="today"?"24 Hours":he==="week"?"7 Days":"1 Month"},he))})]}),me?g.jsxs("div",{className:"text-center py-12 text-slate-400 flex flex-col items-center",children:[g.jsx("div",{className:"w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mb-3"}),g.jsx("p",{className:"text-sm font-medium",children:"Loading rankings..."})]}):g.jsxs("div",{className:"space-y-3",children:[C.filter(he=>he.userName.toLowerCase().includes(se.toLowerCase())).map((he,je)=>g.jsxs("div",{className:`flex items-center justify-between p-3 rounded-2xl transition-all ${he.userId===i?.uid?"bg-blue-50/50 dark:bg-blue-900/20 border border-blue-100 dark:border-blue-800":"hover:bg-slate-50 dark:hover:bg-slate-700/30 border border-transparent"}`,children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsxs("div",{className:"font-bold text-slate-400 w-6 text-center text-sm",children:[je+1,"."]}),g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:`
                                                w-10 h-10 rounded-full flex items-center justify-center font-bold text-lg shadow-sm border-2
                                                ${je===0?"bg-yellow-100 text-yellow-600 border-yellow-200":je===1?"bg-slate-200 text-slate-600 border-slate-300":je===2?"bg-orange-100 text-orange-600 border-orange-200":"bg-slate-100 dark:bg-slate-700 text-slate-500 dark:text-slate-400 border-white dark:border-slate-600"}
                                            `,children:he.userName.charAt(0).toUpperCase()}),g.jsxs("div",{children:[g.jsx("p",{className:`font-bold text-sm ${he.userId===i?.uid?"text-blue-700 dark:text-blue-400":"text-slate-800 dark:text-white"}`,children:he.userName}),g.jsxs("div",{className:"flex items-center gap-1.5 mt-0.5",children:[g.jsx("span",{className:`w-2 h-2 rounded-full ${he.displayTime>3600?"bg-emerald-400":"bg-slate-300 dark:bg-slate-600"}`}),g.jsx("span",{className:"text-xs text-slate-400 font-medium",children:he.displayTime>3600?"Studying":"Offline"})]})]})]})]}),g.jsx("div",{className:"text-right",children:g.jsx("div",{className:"font-bold text-blue-600 dark:text-blue-400 text-base md:text-lg tabular-nums tracking-tight",children:ce(he.displayTime)})})]},he.userId)),C.length===0&&g.jsxs("div",{className:"text-center py-10 px-6 text-slate-500 bg-slate-50 dark:bg-slate-700/30 rounded-2xl border border-dashed border-slate-200 dark:border-slate-700",children:[g.jsx("p",{className:"text-sm",children:"No records found for this period."}),g.jsx("p",{className:"text-xs mt-1 text-slate-400",children:"Be the first to start studying!"})]})]})]})]}),g.jsx(fs,{children:D&&g.jsxs(Ee.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"fixed bottom-20 left-1/2 -translate-x-1/2 md:bottom-8 bg-slate-900 text-white px-6 py-3 rounded-full shadow-lg flex items-center gap-3 z-50",children:[g.jsx("div",{className:"bg-emerald-500 rounded-full p-1",children:g.jsx(io,{className:"w-4 h-4 text-white"})}),g.jsx("span",{className:"font-medium",children:"Session Saved! Great Job."})]})})]})}const LC=N.createContext(void 0);function fz({children:t}){const{user:e}=Zi(),n=om(),[i,a]=N.useState([]);N.useEffect(()=>{if(!e){a([]);return}const p=nm(Fa(qi,"groups"),mU("memberIds","array-contains",e.uid)),v=Hv(p,b=>{const w=[];b.forEach(S=>{w.push({id:S.id,...S.data()})}),a(w)},b=>{console.error("Error loading groups:",b)});return()=>v()},[e]);const l=async(p,v)=>{if(e)try{const b={name:p,description:v,createdBy:e.uid,createdAt:new Date().toISOString(),members:[{userId:e.uid,name:e.displayName||"Unknown",joinedAt:new Date().toISOString(),role:"admin"}],memberIds:[e.uid],inviteCode:Math.random().toString(36).substring(2,8).toUpperCase()};await W0(Fa(qi,"groups"),b),n.success("Group created successfully!")}catch(b){console.error("Error creating group:",b),n.error("Failed to create group.")}},c=async p=>{console.log(p),e&&n.info("Join functionality coming soon!")},h=async p=>{console.log(p),e&&n.info("Leave functionality coming soon!")},f=async(p,v)=>{if(e)try{await W0(Fa(qi,"groups",p,"messages"),{senderId:e.uid,senderName:e.displayName||"User",text:v,timestamp:dU()})}catch(b){console.error("Error sending message:",b),n.error("Failed to send message.")}};return g.jsx(LC.Provider,{value:{groups:i,createGroup:l,joinGroup:c,leaveGroup:h,sendMessage:f},children:t})}function mz(){const t=N.useContext(LC);if(t===void 0)throw new Error("useSocial must be used within a SocialProvider");return t}function UC(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=UC(t[e]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}function pz(){for(var t,e,n=0,i="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=UC(t))&&(i&&(i+=" "),i+=e);return i}const gz=(t,e)=>{const n=new Array(t.length+e.length);for(let i=0;i<t.length;i++)n[i]=t[i];for(let i=0;i<e.length;i++)n[t.length+i]=e[i];return n},yz=(t,e)=>({classGroupId:t,validator:e}),zC=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),Rf="-",OE=[],vz="arbitrary..",bz=t=>{const e=_z(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:i}=t;return{getClassGroupId:c=>{if(c.startsWith("[")&&c.endsWith("]"))return xz(c);const h=c.split(Rf),f=h[0]===""&&h.length>1?1:0;return BC(h,f,e)},getConflictingClassGroupIds:(c,h)=>{if(h){const f=i[c],p=n[c];return f?p?gz(p,f):f:p||OE}return n[c]||OE}}},BC=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const a=t[e],l=n.nextPart.get(a);if(l){const p=BC(t,e+1,l);if(p)return p}const c=n.validators;if(c===null)return;const h=e===0?t.join(Rf):t.slice(e).join(Rf),f=c.length;for(let p=0;p<f;p++){const v=c[p];if(v.validator(h))return v.classGroupId}},xz=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),i=e.slice(0,n);return i?vz+i:void 0})(),_z=t=>{const{theme:e,classGroups:n}=t;return wz(n,e)},wz=(t,e)=>{const n=zC();for(const i in t){const a=t[i];Qv(a,n,i,e)}return n},Qv=(t,e,n,i)=>{const a=t.length;for(let l=0;l<a;l++){const c=t[l];Tz(c,e,n,i)}},Tz=(t,e,n,i)=>{if(typeof t=="string"){Ez(t,e,n);return}if(typeof t=="function"){Sz(t,e,n,i);return}Az(t,e,n,i)},Ez=(t,e,n)=>{const i=t===""?e:FC(e,t);i.classGroupId=n},Sz=(t,e,n,i)=>{if(kz(t)){Qv(t(i),e,n,i);return}e.validators===null&&(e.validators=[]),e.validators.push(yz(n,t))},Az=(t,e,n,i)=>{const a=Object.entries(t),l=a.length;for(let c=0;c<l;c++){const[h,f]=a[c];Qv(f,FC(e,h),n,i)}},FC=(t,e)=>{let n=t;const i=e.split(Rf),a=i.length;for(let l=0;l<a;l++){const c=i[l];let h=n.nextPart.get(c);h||(h=zC(),n.nextPart.set(c,h)),n=h}return n},kz=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,Cz=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),i=Object.create(null);const a=(l,c)=>{n[l]=c,e++,e>t&&(e=0,i=n,n=Object.create(null))};return{get(l){let c=n[l];if(c!==void 0)return c;if((c=i[l])!==void 0)return a(l,c),c},set(l,c){l in n?n[l]=c:a(l,c)}}},ty="!",PE=":",Nz=[],LE=(t,e,n,i,a)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:i,isExternal:a}),Rz=t=>{const{prefix:e,experimentalParseClassName:n}=t;let i=a=>{const l=[];let c=0,h=0,f=0,p;const v=a.length;for(let O=0;O<v;O++){const V=a[O];if(c===0&&h===0){if(V===PE){l.push(a.slice(f,O)),f=O+1;continue}if(V==="/"){p=O;continue}}V==="["?c++:V==="]"?c--:V==="("?h++:V===")"&&h--}const b=l.length===0?a:a.slice(f);let w=b,S=!1;b.endsWith(ty)?(w=b.slice(0,-1),S=!0):b.startsWith(ty)&&(w=b.slice(1),S=!0);const M=p&&p>f?p-f:void 0;return LE(l,S,w,M)};if(e){const a=e+PE,l=i;i=c=>c.startsWith(a)?l(c.slice(a.length)):LE(Nz,!1,c,void 0,!0)}if(n){const a=i;i=l=>n({className:l,parseClassName:a})}return i},Iz=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,i)=>{e.set(n,1e6+i)}),n=>{const i=[];let a=[];for(let l=0;l<n.length;l++){const c=n[l],h=c[0]==="[",f=e.has(c);h||f?(a.length>0&&(a.sort(),i.push(...a),a=[]),i.push(c)):a.push(c)}return a.length>0&&(a.sort(),i.push(...a)),i}},Dz=t=>({cache:Cz(t.cacheSize),parseClassName:Rz(t),sortModifiers:Iz(t),...bz(t)}),jz=/\s+/,Mz=(t,e)=>{const{parseClassName:n,getClassGroupId:i,getConflictingClassGroupIds:a,sortModifiers:l}=e,c=[],h=t.trim().split(jz);let f="";for(let p=h.length-1;p>=0;p-=1){const v=h[p],{isExternal:b,modifiers:w,hasImportantModifier:S,baseClassName:M,maybePostfixModifierPosition:O}=n(v);if(b){f=v+(f.length>0?" "+f:f);continue}let V=!!O,P=i(V?M.substring(0,O):M);if(!P){if(!V){f=v+(f.length>0?" "+f:f);continue}if(P=i(M),!P){f=v+(f.length>0?" "+f:f);continue}V=!1}const F=w.length===0?"":w.length===1?w[0]:l(w).join(":"),H=S?F+ty:F,ee=H+P;if(c.indexOf(ee)>-1)continue;c.push(ee);const se=a(P,V);for(let re=0;re<se.length;++re){const j=se[re];c.push(H+j)}f=v+(f.length>0?" "+f:f)}return f},Vz=(...t)=>{let e=0,n,i,a="";for(;e<t.length;)(n=t[e++])&&(i=HC(n))&&(a&&(a+=" "),a+=i);return a},HC=t=>{if(typeof t=="string")return t;let e,n="";for(let i=0;i<t.length;i++)t[i]&&(e=HC(t[i]))&&(n&&(n+=" "),n+=e);return n},Oz=(t,...e)=>{let n,i,a,l;const c=f=>{const p=e.reduce((v,b)=>b(v),t());return n=Dz(p),i=n.cache.get,a=n.cache.set,l=h,h(f)},h=f=>{const p=i(f);if(p)return p;const v=Mz(f,n);return a(f,v),v};return l=c,(...f)=>l(Vz(...f))},Pz=[],Kt=t=>{const e=n=>n[t]||Pz;return e.isThemeGetter=!0,e},qC=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,GC=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Lz=/^\d+\/\d+$/,Uz=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,zz=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Bz=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Fz=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Hz=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ko=t=>Lz.test(t),Be=t=>!!t&&!Number.isNaN(Number(t)),Vr=t=>!!t&&Number.isInteger(Number(t)),Jg=t=>t.endsWith("%")&&Be(t.slice(0,-1)),Li=t=>Uz.test(t),qz=()=>!0,Gz=t=>zz.test(t)&&!Bz.test(t),$C=()=>!1,$z=t=>Fz.test(t),Kz=t=>Hz.test(t),Yz=t=>!ve(t)&&!be(t),Xz=t=>Dl(t,XC,$C),ve=t=>qC.test(t),ja=t=>Dl(t,QC,Gz),Zg=t=>Dl(t,eB,Be),UE=t=>Dl(t,KC,$C),Qz=t=>Dl(t,YC,Kz),Nd=t=>Dl(t,WC,$z),be=t=>GC.test(t),Fc=t=>jl(t,QC),Wz=t=>jl(t,tB),zE=t=>jl(t,KC),Jz=t=>jl(t,XC),Zz=t=>jl(t,YC),Rd=t=>jl(t,WC,!0),Dl=(t,e,n)=>{const i=qC.exec(t);return i?i[1]?e(i[1]):n(i[2]):!1},jl=(t,e,n=!1)=>{const i=GC.exec(t);return i?i[1]?e(i[1]):n:!1},KC=t=>t==="position"||t==="percentage",YC=t=>t==="image"||t==="url",XC=t=>t==="length"||t==="size"||t==="bg-size",QC=t=>t==="length",eB=t=>t==="number",tB=t=>t==="family-name",WC=t=>t==="shadow",nB=()=>{const t=Kt("color"),e=Kt("font"),n=Kt("text"),i=Kt("font-weight"),a=Kt("tracking"),l=Kt("leading"),c=Kt("breakpoint"),h=Kt("container"),f=Kt("spacing"),p=Kt("radius"),v=Kt("shadow"),b=Kt("inset-shadow"),w=Kt("text-shadow"),S=Kt("drop-shadow"),M=Kt("blur"),O=Kt("perspective"),V=Kt("aspect"),P=Kt("ease"),F=Kt("animate"),H=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ee=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],se=()=>[...ee(),be,ve],re=()=>["auto","hidden","clip","visible","scroll"],j=()=>["auto","contain","none"],E=()=>[be,ve,f],R=()=>[Ko,"full","auto",...E()],I=()=>[Vr,"none","subgrid",be,ve],D=()=>["auto",{span:["full",Vr,be,ve]},Vr,be,ve],L=()=>[Vr,"auto",be,ve],C=()=>["auto","min","max","fr",be,ve],fe=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],me=()=>["start","end","center","stretch","center-safe","end-safe"],G=()=>["auto",...E()],W=()=>[Ko,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...E()],Z=()=>[t,be,ve],Ae=()=>[...ee(),zE,UE,{position:[be,ve]}],Re=()=>["no-repeat",{repeat:["","x","y","space","round"]}],z=()=>["auto","cover","contain",Jz,Xz,{size:[be,ve]}],te=()=>[Jg,Fc,ja],ce=()=>["","none","full",p,be,ve],ue=()=>["",Be,Fc,ja],_e=()=>["solid","dashed","dotted","double"],Ne=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Se=()=>[Be,Jg,zE,UE],he=()=>["","none",M,be,ve],je=()=>["none",Be,be,ve],ht=()=>["none",Be,be,ve],nt=()=>[Be,be,ve],qt=()=>[Ko,"full",...E()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Li],breakpoint:[Li],color:[qz],container:[Li],"drop-shadow":[Li],ease:["in","out","in-out"],font:[Yz],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Li],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Li],shadow:[Li],spacing:["px",Be],text:[Li],"text-shadow":[Li],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ko,ve,be,V]}],container:["container"],columns:[{columns:[Be,ve,be,h]}],"break-after":[{"break-after":H()}],"break-before":[{"break-before":H()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:se()}],overflow:[{overflow:re()}],"overflow-x":[{"overflow-x":re()}],"overflow-y":[{"overflow-y":re()}],overscroll:[{overscroll:j()}],"overscroll-x":[{"overscroll-x":j()}],"overscroll-y":[{"overscroll-y":j()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:R()}],"inset-x":[{"inset-x":R()}],"inset-y":[{"inset-y":R()}],start:[{start:R()}],end:[{end:R()}],top:[{top:R()}],right:[{right:R()}],bottom:[{bottom:R()}],left:[{left:R()}],visibility:["visible","invisible","collapse"],z:[{z:[Vr,"auto",be,ve]}],basis:[{basis:[Ko,"full","auto",h,...E()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Be,Ko,"auto","initial","none",ve]}],grow:[{grow:["",Be,be,ve]}],shrink:[{shrink:["",Be,be,ve]}],order:[{order:[Vr,"first","last","none",be,ve]}],"grid-cols":[{"grid-cols":I()}],"col-start-end":[{col:D()}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":I()}],"row-start-end":[{row:D()}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":C()}],"auto-rows":[{"auto-rows":C()}],gap:[{gap:E()}],"gap-x":[{"gap-x":E()}],"gap-y":[{"gap-y":E()}],"justify-content":[{justify:[...fe(),"normal"]}],"justify-items":[{"justify-items":[...me(),"normal"]}],"justify-self":[{"justify-self":["auto",...me()]}],"align-content":[{content:["normal",...fe()]}],"align-items":[{items:[...me(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...me(),{baseline:["","last"]}]}],"place-content":[{"place-content":fe()}],"place-items":[{"place-items":[...me(),"baseline"]}],"place-self":[{"place-self":["auto",...me()]}],p:[{p:E()}],px:[{px:E()}],py:[{py:E()}],ps:[{ps:E()}],pe:[{pe:E()}],pt:[{pt:E()}],pr:[{pr:E()}],pb:[{pb:E()}],pl:[{pl:E()}],m:[{m:G()}],mx:[{mx:G()}],my:[{my:G()}],ms:[{ms:G()}],me:[{me:G()}],mt:[{mt:G()}],mr:[{mr:G()}],mb:[{mb:G()}],ml:[{ml:G()}],"space-x":[{"space-x":E()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":E()}],"space-y-reverse":["space-y-reverse"],size:[{size:W()}],w:[{w:[h,"screen",...W()]}],"min-w":[{"min-w":[h,"screen","none",...W()]}],"max-w":[{"max-w":[h,"screen","none","prose",{screen:[c]},...W()]}],h:[{h:["screen","lh",...W()]}],"min-h":[{"min-h":["screen","lh","none",...W()]}],"max-h":[{"max-h":["screen","lh",...W()]}],"font-size":[{text:["base",n,Fc,ja]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,be,Zg]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Jg,ve]}],"font-family":[{font:[Wz,ve,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,be,ve]}],"line-clamp":[{"line-clamp":[Be,"none",be,Zg]}],leading:[{leading:[l,...E()]}],"list-image":[{"list-image":["none",be,ve]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",be,ve]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:Z()}],"text-color":[{text:Z()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[..._e(),"wavy"]}],"text-decoration-thickness":[{decoration:[Be,"from-font","auto",be,ja]}],"text-decoration-color":[{decoration:Z()}],"underline-offset":[{"underline-offset":[Be,"auto",be,ve]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:E()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",be,ve]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",be,ve]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Ae()}],"bg-repeat":[{bg:Re()}],"bg-size":[{bg:z()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Vr,be,ve],radial:["",be,ve],conic:[Vr,be,ve]},Zz,Qz]}],"bg-color":[{bg:Z()}],"gradient-from-pos":[{from:te()}],"gradient-via-pos":[{via:te()}],"gradient-to-pos":[{to:te()}],"gradient-from":[{from:Z()}],"gradient-via":[{via:Z()}],"gradient-to":[{to:Z()}],rounded:[{rounded:ce()}],"rounded-s":[{"rounded-s":ce()}],"rounded-e":[{"rounded-e":ce()}],"rounded-t":[{"rounded-t":ce()}],"rounded-r":[{"rounded-r":ce()}],"rounded-b":[{"rounded-b":ce()}],"rounded-l":[{"rounded-l":ce()}],"rounded-ss":[{"rounded-ss":ce()}],"rounded-se":[{"rounded-se":ce()}],"rounded-ee":[{"rounded-ee":ce()}],"rounded-es":[{"rounded-es":ce()}],"rounded-tl":[{"rounded-tl":ce()}],"rounded-tr":[{"rounded-tr":ce()}],"rounded-br":[{"rounded-br":ce()}],"rounded-bl":[{"rounded-bl":ce()}],"border-w":[{border:ue()}],"border-w-x":[{"border-x":ue()}],"border-w-y":[{"border-y":ue()}],"border-w-s":[{"border-s":ue()}],"border-w-e":[{"border-e":ue()}],"border-w-t":[{"border-t":ue()}],"border-w-r":[{"border-r":ue()}],"border-w-b":[{"border-b":ue()}],"border-w-l":[{"border-l":ue()}],"divide-x":[{"divide-x":ue()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ue()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[..._e(),"hidden","none"]}],"divide-style":[{divide:[..._e(),"hidden","none"]}],"border-color":[{border:Z()}],"border-color-x":[{"border-x":Z()}],"border-color-y":[{"border-y":Z()}],"border-color-s":[{"border-s":Z()}],"border-color-e":[{"border-e":Z()}],"border-color-t":[{"border-t":Z()}],"border-color-r":[{"border-r":Z()}],"border-color-b":[{"border-b":Z()}],"border-color-l":[{"border-l":Z()}],"divide-color":[{divide:Z()}],"outline-style":[{outline:[..._e(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Be,be,ve]}],"outline-w":[{outline:["",Be,Fc,ja]}],"outline-color":[{outline:Z()}],shadow:[{shadow:["","none",v,Rd,Nd]}],"shadow-color":[{shadow:Z()}],"inset-shadow":[{"inset-shadow":["none",b,Rd,Nd]}],"inset-shadow-color":[{"inset-shadow":Z()}],"ring-w":[{ring:ue()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:Z()}],"ring-offset-w":[{"ring-offset":[Be,ja]}],"ring-offset-color":[{"ring-offset":Z()}],"inset-ring-w":[{"inset-ring":ue()}],"inset-ring-color":[{"inset-ring":Z()}],"text-shadow":[{"text-shadow":["none",w,Rd,Nd]}],"text-shadow-color":[{"text-shadow":Z()}],opacity:[{opacity:[Be,be,ve]}],"mix-blend":[{"mix-blend":[...Ne(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ne()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Be]}],"mask-image-linear-from-pos":[{"mask-linear-from":Se()}],"mask-image-linear-to-pos":[{"mask-linear-to":Se()}],"mask-image-linear-from-color":[{"mask-linear-from":Z()}],"mask-image-linear-to-color":[{"mask-linear-to":Z()}],"mask-image-t-from-pos":[{"mask-t-from":Se()}],"mask-image-t-to-pos":[{"mask-t-to":Se()}],"mask-image-t-from-color":[{"mask-t-from":Z()}],"mask-image-t-to-color":[{"mask-t-to":Z()}],"mask-image-r-from-pos":[{"mask-r-from":Se()}],"mask-image-r-to-pos":[{"mask-r-to":Se()}],"mask-image-r-from-color":[{"mask-r-from":Z()}],"mask-image-r-to-color":[{"mask-r-to":Z()}],"mask-image-b-from-pos":[{"mask-b-from":Se()}],"mask-image-b-to-pos":[{"mask-b-to":Se()}],"mask-image-b-from-color":[{"mask-b-from":Z()}],"mask-image-b-to-color":[{"mask-b-to":Z()}],"mask-image-l-from-pos":[{"mask-l-from":Se()}],"mask-image-l-to-pos":[{"mask-l-to":Se()}],"mask-image-l-from-color":[{"mask-l-from":Z()}],"mask-image-l-to-color":[{"mask-l-to":Z()}],"mask-image-x-from-pos":[{"mask-x-from":Se()}],"mask-image-x-to-pos":[{"mask-x-to":Se()}],"mask-image-x-from-color":[{"mask-x-from":Z()}],"mask-image-x-to-color":[{"mask-x-to":Z()}],"mask-image-y-from-pos":[{"mask-y-from":Se()}],"mask-image-y-to-pos":[{"mask-y-to":Se()}],"mask-image-y-from-color":[{"mask-y-from":Z()}],"mask-image-y-to-color":[{"mask-y-to":Z()}],"mask-image-radial":[{"mask-radial":[be,ve]}],"mask-image-radial-from-pos":[{"mask-radial-from":Se()}],"mask-image-radial-to-pos":[{"mask-radial-to":Se()}],"mask-image-radial-from-color":[{"mask-radial-from":Z()}],"mask-image-radial-to-color":[{"mask-radial-to":Z()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":ee()}],"mask-image-conic-pos":[{"mask-conic":[Be]}],"mask-image-conic-from-pos":[{"mask-conic-from":Se()}],"mask-image-conic-to-pos":[{"mask-conic-to":Se()}],"mask-image-conic-from-color":[{"mask-conic-from":Z()}],"mask-image-conic-to-color":[{"mask-conic-to":Z()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Ae()}],"mask-repeat":[{mask:Re()}],"mask-size":[{mask:z()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",be,ve]}],filter:[{filter:["","none",be,ve]}],blur:[{blur:he()}],brightness:[{brightness:[Be,be,ve]}],contrast:[{contrast:[Be,be,ve]}],"drop-shadow":[{"drop-shadow":["","none",S,Rd,Nd]}],"drop-shadow-color":[{"drop-shadow":Z()}],grayscale:[{grayscale:["",Be,be,ve]}],"hue-rotate":[{"hue-rotate":[Be,be,ve]}],invert:[{invert:["",Be,be,ve]}],saturate:[{saturate:[Be,be,ve]}],sepia:[{sepia:["",Be,be,ve]}],"backdrop-filter":[{"backdrop-filter":["","none",be,ve]}],"backdrop-blur":[{"backdrop-blur":he()}],"backdrop-brightness":[{"backdrop-brightness":[Be,be,ve]}],"backdrop-contrast":[{"backdrop-contrast":[Be,be,ve]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Be,be,ve]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Be,be,ve]}],"backdrop-invert":[{"backdrop-invert":["",Be,be,ve]}],"backdrop-opacity":[{"backdrop-opacity":[Be,be,ve]}],"backdrop-saturate":[{"backdrop-saturate":[Be,be,ve]}],"backdrop-sepia":[{"backdrop-sepia":["",Be,be,ve]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":E()}],"border-spacing-x":[{"border-spacing-x":E()}],"border-spacing-y":[{"border-spacing-y":E()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",be,ve]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Be,"initial",be,ve]}],ease:[{ease:["linear","initial",P,be,ve]}],delay:[{delay:[Be,be,ve]}],animate:[{animate:["none",F,be,ve]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[O,be,ve]}],"perspective-origin":[{"perspective-origin":se()}],rotate:[{rotate:je()}],"rotate-x":[{"rotate-x":je()}],"rotate-y":[{"rotate-y":je()}],"rotate-z":[{"rotate-z":je()}],scale:[{scale:ht()}],"scale-x":[{"scale-x":ht()}],"scale-y":[{"scale-y":ht()}],"scale-z":[{"scale-z":ht()}],"scale-3d":["scale-3d"],skew:[{skew:nt()}],"skew-x":[{"skew-x":nt()}],"skew-y":[{"skew-y":nt()}],transform:[{transform:[be,ve,"","none","gpu","cpu"]}],"transform-origin":[{origin:se()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:qt()}],"translate-x":[{"translate-x":qt()}],"translate-y":[{"translate-y":qt()}],"translate-z":[{"translate-z":qt()}],"translate-none":["translate-none"],accent:[{accent:Z()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:Z()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",be,ve]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":E()}],"scroll-mx":[{"scroll-mx":E()}],"scroll-my":[{"scroll-my":E()}],"scroll-ms":[{"scroll-ms":E()}],"scroll-me":[{"scroll-me":E()}],"scroll-mt":[{"scroll-mt":E()}],"scroll-mr":[{"scroll-mr":E()}],"scroll-mb":[{"scroll-mb":E()}],"scroll-ml":[{"scroll-ml":E()}],"scroll-p":[{"scroll-p":E()}],"scroll-px":[{"scroll-px":E()}],"scroll-py":[{"scroll-py":E()}],"scroll-ps":[{"scroll-ps":E()}],"scroll-pe":[{"scroll-pe":E()}],"scroll-pt":[{"scroll-pt":E()}],"scroll-pr":[{"scroll-pr":E()}],"scroll-pb":[{"scroll-pb":E()}],"scroll-pl":[{"scroll-pl":E()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",be,ve]}],fill:[{fill:["none",...Z()]}],"stroke-w":[{stroke:[Be,Fc,ja,Zg]}],stroke:[{stroke:["none",...Z()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},sB=Oz(nB);function Yo(...t){return sB(pz(t))}const iB=t=>t?(typeof t=="object"&&"toDate"in t&&typeof t.toDate=="function"?t.toDate():new Date(t)).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"...";function rB(){const{user:t}=Zi(),{groups:e,createGroup:n,joinGroup:i,sendMessage:a,leaveGroup:l}=mz(),[c,h]=N.useState(null),[f,p]=N.useState([]),[v,b]=N.useState(""),[w,S]=N.useState(!1),[M,O]=N.useState(!1),V=N.useRef(null);N.useEffect(()=>{!c&&e.length>0&&h(e[0])},[e,c]),N.useEffect(()=>{if(!c)return;const re=nm(Fa(qi,"groups",c.id,"messages"),zv("timestamp","asc"),Fv(50)),j=Hv(re,E=>{const R=[];E.forEach(I=>{R.push({id:I.id,...I.data()})}),p(R)},E=>console.error("Msg Load Err",E));return()=>{j(),p([])}},[c]),N.useEffect(()=>{V.current?.scrollIntoView({behavior:"smooth"})},[f]);const P=async re=>{re.preventDefault(),!(!v.trim()||!c||M)&&(O(!0),await a(c.id,v.trim()),b(""),O(!1))},F=()=>{const re=prompt("Enter Group Name:");if(!re)return;const j=prompt("Enter Description (optional):")||"";n(re,j)},H=()=>{const re=prompt("Enter Invitation Code:");re&&i(re)},ee=()=>{c&&confirm(`Leave group "${c.name}"?`)&&(l(c.id),h(null))},se=()=>{c&&(navigator.clipboard.writeText(c.inviteCode),alert("Invite code copied: "+c.inviteCode))};return g.jsxs(lm,{className:"h-[calc(100vh-8rem)] md:h-[calc(100vh-4rem)] flex flex-col md:flex-row overflow-hidden",children:[g.jsxs("div",{className:"md:hidden flex items-center justify-between p-4 bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(Qd,{className:"w-6 h-6 text-indigo-500"}),g.jsx("span",{className:"font-bold text-slate-800 dark:text-white truncate max-w-[200px]",children:c?c.name:"Study Groups"})]}),g.jsx("button",{onClick:()=>S(!0),className:"p-2 -mr-2 text-slate-600 dark:text-slate-300",children:g.jsx(X8,{className:"w-6 h-6"})})]}),g.jsx(fs,{children:(w||window.innerWidth>=768)&&g.jsxs(g.Fragment,{children:[g.jsx(Ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>S(!1),className:"md:hidden fixed inset-0 bg-black/50 z-40"}),g.jsxs(Ee.div,{initial:{x:-280},animate:{x:0},exit:{x:-280},className:"fixed md:static inset-y-0 left-0 z-50 w-72 bg-slate-50 dark:bg-slate-900 border-r border-slate-200 dark:border-slate-700 flex flex-col",children:[g.jsxs("div",{className:"p-4 border-b border-slate-200 dark:border-slate-700 flex justify-between items-center",children:[g.jsxs("h2",{className:"font-bold text-xl text-slate-800 dark:text-white flex items-center gap-2",children:[g.jsx(Qd,{className:"w-6 h-6 text-indigo-500"}),"My Groups"]}),g.jsx("button",{onClick:()=>S(!1),className:"md:hidden",children:g.jsx($v,{})})]}),g.jsxs("div",{className:"p-4 space-y-2",children:[g.jsxs("button",{onClick:F,className:"w-full flex items-center justify-center gap-2 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-medium transition-colors",children:[g.jsx(bl,{className:"w-4 h-4"})," Create Group"]}),g.jsxs("button",{onClick:H,className:"w-full flex items-center justify-center gap-2 py-2 bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 hover:bg-slate-50 dark:hover:bg-slate-700 text-slate-700 dark:text-slate-200 rounded-lg font-medium transition-colors",children:[g.jsx(z8,{className:"w-4 h-4"})," Join via Code"]})]}),g.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-1",children:[e.length===0&&g.jsx("div",{className:"text-center text-slate-500 text-sm py-4",children:"You haven't joined any groups yet."}),e.map(re=>g.jsxs("button",{onClick:()=>{h(re),S(!1)},className:Yo("w-full text-left px-3 py-3 rounded-xl flex items-center gap-3 transition-all",c?.id===re.id?"bg-white dark:bg-slate-800 shadow-sm ring-1 ring-indigo-500/20":"hover:bg-slate-100 dark:hover:bg-slate-800"),children:[g.jsx("div",{className:Yo("w-10 h-10 rounded-full flex items-center justify-center text-white font-bold text-sm",c?.id===re.id?"bg-indigo-500":"bg-slate-400"),children:re.name[0].toUpperCase()}),g.jsxs("div",{children:[g.jsx("div",{className:Yo("font-medium text-sm",c?.id===re.id?"text-indigo-900 dark:text-indigo-100":"text-slate-700 dark:text-slate-300"),children:re.name}),g.jsxs("div",{className:"text-xs text-slate-500 truncate max-w-[140px]",children:[re.members.length," members"]})]})]},re.id))]})]})]})}),g.jsx("div",{className:"flex-1 flex flex-col bg-white dark:bg-slate-800 relative",children:c?g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"hidden md:flex items-center justify-between p-4 border-b border-slate-100 dark:border-slate-700 shadow-sm z-10",children:[g.jsxs("div",{children:[g.jsxs("h2",{className:"font-bold text-lg text-slate-800 dark:text-white flex items-center gap-2",children:[c.name,g.jsxs("span",{className:"text-xs font-normal px-2 py-0.5 bg-indigo-100 text-indigo-700 dark:bg-indigo-900 dark:text-indigo-300 rounded-full",children:[c.members.length," Members"]})]}),g.jsx("p",{className:"text-xs text-slate-500",children:c.description})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("button",{onClick:se,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg text-slate-500",title:"Copy Invite Code",children:g.jsx(D8,{className:"w-5 h-5"})}),g.jsx("button",{onClick:ee,className:"p-2 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg text-red-500",title:"Leave Group",children:g.jsx(Kv,{className:"w-5 h-5"})})]})]}),g.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-slate-50/50 dark:bg-slate-900/50",children:[f.length===0&&g.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-slate-400",children:[g.jsx(Yv,{className:"w-12 h-12 mb-2 opacity-50"}),g.jsx("p",{children:"No messages yet. Start the conversation!"}),g.jsxs("p",{className:"text-xs mt-2",children:["Invite Code: ",g.jsx("span",{className:"font-mono bg-slate-100 dark:bg-slate-800 px-1 rounded select-all",children:c.inviteCode})]})]}),f.map(re=>{const j=re.senderId===t?.uid;return g.jsxs(Ee.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:Yo("flex gap-3",j?"flex-row-reverse":""),children:[g.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-100 dark:bg-indigo-900 flex items-center justify-center text-xs font-bold text-indigo-700 dark:text-indigo-300 flex-shrink-0",children:re.senderName[0]}),g.jsxs("div",{className:Yo("max-w-[75%]",j?"items-end":"items-start"),children:[g.jsxs("div",{className:"flex items-baseline gap-2 mb-1",children:[g.jsx("span",{className:"text-xs font-bold text-slate-600 dark:text-slate-400",children:re.senderName}),g.jsx("span",{className:"text-[10px] text-slate-400",children:iB(re.timestamp)})]}),g.jsx("div",{className:Yo("px-4 py-2 rounded-2xl text-sm shadow-sm",j?"bg-indigo-600 text-white rounded-tr-sm":"bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-200 rounded-tl-sm"),children:re.text})]})]},re.id)}),g.jsx("div",{ref:V})]}),g.jsx("div",{className:"p-4 bg-white dark:bg-slate-800 border-t border-slate-200 dark:border-slate-700",children:g.jsxs("form",{onSubmit:P,className:"flex gap-2",children:[g.jsx("input",{value:v,onChange:re=>b(re.target.value),placeholder:`Message #${c.name}`,className:"flex-1 px-4 py-2 bg-slate-100 dark:bg-slate-900 rounded-xl border-none focus:ring-2 focus:ring-indigo-500"}),g.jsx("button",{disabled:M||!v.trim(),className:"p-2 bg-indigo-600 text-white rounded-xl hover:bg-indigo-700 disabled:opacity-50",children:M?g.jsx(G8,{className:"animate-spin w-5 h-5"}):g.jsx(p7,{className:"w-5 h-5"})})]})})]}):g.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-slate-400",children:[g.jsx(Qd,{className:"w-16 h-16 mb-4 opacity-50"}),g.jsx("h3",{className:"text-lg font-medium text-slate-600 dark:text-slate-300",children:"Select a Group"}),g.jsx("p",{className:"max-w-xs text-center mt-2",children:"Join a study group or create your own to collaborate with friends."})]})})]})}function aB({steps:t,onComplete:e,onSkip:n}){const[i,a]=N.useState(0),[l,c]=N.useState(null),h=t[i];N.useEffect(()=>{if(h.targetId){const v=document.getElementById(h.targetId);v?(c(v.getBoundingClientRect()),v.scrollIntoView({behavior:"smooth",block:"center"})):c(null)}else c(null)},[i,h,t]);const f=()=>{i<t.length-1?a(v=>v+1):e()},p=()=>{i>0&&a(v=>v-1)};return g.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center pointer-events-none",children:[g.jsx("div",{className:"absolute inset-0 bg-black/60 pointer-events-none"}),l&&g.jsx(Ee.div,{layoutId:"highlight-box",className:"absolute border-4 border-blue-500 rounded-xl shadow-[0_0_0_9999px_rgba(0,0,0,0.6)] pointer-events-none transition-all duration-300",style:{top:l.top-4,left:l.left-4,width:l.width+8,height:l.height+8}}),g.jsx(fs,{mode:"wait",children:g.jsxs(Ee.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:`pointer-events-auto absolute bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-2xl border border-slate-100 dark:border-slate-700 max-w-sm w-full mx-4 ${l?"":"static"}`,style:l&&h.position!=="center"?{top:h.position==="bottom"?l.bottom+20:h.position==="top"?l.top-200:void 0,left:h.position==="right"?l.right+20:h.position==="left"?l.left-340:Math.max(16,l.left+l.width/2-160),marginTop:(h.position==="bottom",0)}:{},children:[g.jsxs("div",{className:"flex justify-between items-start mb-2",children:[g.jsxs("span",{className:"text-xs font-bold text-blue-600 dark:text-blue-400 uppercase tracking-wider",children:["Step ",i+1," of ",t.length]}),g.jsx("button",{onClick:n,className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200",children:g.jsx(er,{className:"w-4 h-4"})})]}),g.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-2",children:h.title}),g.jsx("p",{className:"text-slate-600 dark:text-slate-300 mb-6 leading-relaxed",children:h.description}),g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("button",{onClick:p,disabled:i===0,className:`flex items-center gap-1 text-sm font-medium ${i===0?"text-slate-300":"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200"}`,children:[g.jsx($v,{className:"w-4 h-4"})," Back"]}),g.jsxs("button",{onClick:f,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-full font-medium text-sm flex items-center gap-2 shadow-sm transition-transform active:scale-95",children:[i===t.length-1?"Finish":"Next",i<t.length-1&&g.jsx(EC,{className:"w-4 h-4"})]})]})]},i)})]})}const oB="/Study-Mate/assets/logo-C0C7fgvJ.png";function lB({deferredPrompt:t,onInstall:e}){const[n,i]=N.useState(!1);N.useEffect(()=>{const l=setTimeout(()=>i(!0),3e3);return()=>clearTimeout(l)},[]);const a=()=>{i(!1)};return!n||!t?null:g.jsx(fs,{children:g.jsx(Ee.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"fixed bottom-24 md:bottom-6 left-1/2 transform -translate-x-1/2 z-50 w-[90%] md:w-auto",children:g.jsxs("div",{className:"bg-slate-900/90 dark:bg-white/90 backdrop-blur-md text-white dark:text-slate-900 px-6 py-4 rounded-2xl shadow-2xl flex items-center gap-4 border border-white/10 dark:border-slate-200/20",children:[g.jsx("div",{className:"bg-indigo-500 rounded-xl p-2",children:g.jsx(im,{className:"w-5 h-5 text-white"})}),g.jsxs("div",{className:"flex-1",children:[g.jsx("h4",{className:"font-bold text-sm",children:"Install App"}),g.jsx("p",{className:"text-xs text-slate-300 dark:text-slate-600",children:"Add to home screen for better experience"})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("button",{onClick:a,className:"p-2 hover:bg-white/10 dark:hover:bg-slate-200/50 rounded-lg transition-colors",children:g.jsx(er,{className:"w-4 h-4"})}),g.jsx("button",{onClick:e,className:"bg-white dark:bg-slate-900 text-slate-900 dark:text-white px-4 py-2 rounded-lg text-sm font-bold shadow-lg active:scale-95 transition-transform",children:"Install"})]})]})})})}function cB(){const{userProfile:t}=Qt();N.useEffect(()=>{"Notification"in window&&Notification.permission==="default"&&Notification.requestPermission();const e=()=>{if(!("Notification"in window)||Notification.permission!=="granted")return;const a=t.lastStudyDate?new Date(t.lastStudyDate):null;if(!a)return;const l=new Date,c=Math.abs(l.getTime()-a.getTime()),h=Math.ceil(c/(1e3*60*60*24));if(h>=3){const f=localStorage.getItem("tracked_last_reminder"),p=f?new Date(f):null;(p?(l.getTime()-p.getTime())/(1e3*60*60):999)>24&&(new Notification("Miss you! ",{body:`It's been ${h} days since your last study session. Keep your streak alive!`,icon:"/pwa-icon.svg",tag:"inactivity-reminder"}),localStorage.setItem("tracked_last_reminder",l.toISOString()))}},n=()=>{if(!("Notification"in window)||Notification.permission!=="granted")return;const a=t.dailyGoal||7200,l=t.todayStudyTime||0,c=a-l;if(c>0&&c<=1800){const h=localStorage.getItem("tracked_goal_reminder"),f=new Date().toISOString().split("T")[0];h!==f&&(new Notification("Almost there! ",{body:"You're less than 30 minutes away from your daily goal. Finish strong!",icon:"/pwa-icon.svg",tag:"goal-reminder"}),localStorage.setItem("tracked_goal_reminder",f))}},i=setTimeout(()=>{e(),n()},5e3);return()=>clearTimeout(i)},[t.lastStudyDate,t.todayStudyTime,t.dailyGoal])}const uB=[{title:"Welcome to TrackEd! ",description:"Your personal companion for academic success. Let's take a quick tour to get you started.",position:"center"},{targetId:"add-subject-btn",title:"Add Your Subjects ",description:"Start by adding the subjects you want to track. You can organize them by chapters and topics.",position:"bottom"},{targetId:"nav-timer",title:"Focus Timer ",description:"Use the Pomodoro timer or stopwatch to track your study sessions and build streaks.",position:"right"},{targetId:"nav-settings",title:"Customize Experience ",description:"Manage your profile, data, and switch between light/dark modes here.",position:"top"}];function hB(){const{logout:t}=Zi(),{theme:e,toggleTheme:n}=PC(),{userProfile:i}=Qt(),{currentTitle:a,nextLevelXP:l,progress:c}=Yc(i.xp||0),h=i.level||1,f=Wi(),p=_I();cB();const[v,b]=N.useState(!1),[w,S]=N.useState(null);N.useEffect(()=>{localStorage.setItem("tracked_tour_completed","true");const P=F=>{F.preventDefault(),S(F)};return window.addEventListener("beforeinstallprompt",P),()=>window.removeEventListener("beforeinstallprompt",P)},[]);const M=()=>{b(!1),localStorage.setItem("tracked_tour_completed","true")},O=async()=>{if(!w)return;w.prompt();const{outcome:P}=await w.userChoice;P==="accepted"&&S(null)},V=P=>f.pathname===P;return g.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-slate-100 pb-20 md:pb-0 font-sans transition-colors duration-300",children:[v&&g.jsx(aB,{steps:uB,onComplete:M,onSkip:M}),g.jsxs("header",{className:"glass sticky top-0 z-20 px-4 py-3 flex items-center justify-between md:hidden transition-colors duration-300",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-tr from-blue-500 to-indigo-600 flex items-center justify-center text-white font-bold text-xs shadow-md",children:h}),g.jsx("div",{children:g.jsx("h1",{className:"text-lg font-bold bg-gradient-to-r from-blue-600 to-indigo-600 dark:from-blue-400 dark:to-indigo-400 bg-clip-text text-transparent",children:"TrackEd"})})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("button",{onClick:n,className:"p-2 text-slate-500 dark:text-slate-400 hover:bg-slate-100/50 dark:hover:bg-slate-700/50 rounded-full transition-colors backdrop-blur-sm","aria-label":"Toggle Theme",children:e==="light"?g.jsx(Cf,{className:"w-5 h-5"}):g.jsx(Z0,{className:"w-5 h-5"})}),g.jsx(en,{to:"/settings",className:"p-2 text-slate-500 dark:text-slate-400 hover:bg-slate-100/50 dark:hover:bg-slate-700/50 rounded-full transition-colors backdrop-blur-sm",children:g.jsx(Yg,{className:"w-5 h-5"})})]})]}),g.jsxs("div",{className:"md:flex max-w-7xl mx-auto",children:[g.jsxs("aside",{className:"hidden md:flex flex-col w-72 h-[calc(100vh-2rem)] sticky top-4 m-4 rounded-3xl glass shadow-2xl shadow-slate-200/60 dark:shadow-slate-900/50 p-6 transition-all duration-300 z-10",children:[g.jsxs("div",{className:"flex items-center justify-between mb-10 pl-2",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("img",{src:oB,alt:"TrackEd Logo",className:"w-10 h-10 rounded-xl object-contain shadow-md"}),g.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-white tracking-tight",children:"TrackEd"})]}),g.jsx("button",{onClick:n,className:"p-2 text-slate-500 dark:text-slate-400 hover:bg-slate-100/80 dark:hover:bg-slate-700/50 rounded-xl transition-colors","aria-label":"Toggle Theme",children:e==="light"?g.jsx(Cf,{className:"w-5 h-5"}):g.jsx(Z0,{className:"w-5 h-5"})})]}),g.jsxs("div",{className:"mb-8 px-2",children:[g.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[g.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-tr from-blue-500 to-indigo-600 flex items-center justify-center text-white font-bold text-lg shadow-lg shadow-blue-500/30 ring-2 ring-white dark:ring-slate-700",children:h}),g.jsxs("div",{children:[g.jsx("h3",{className:"font-bold text-slate-800 dark:text-white leading-tight",children:i.name}),g.jsx("p",{className:"text-xs font-medium text-blue-600 dark:text-blue-400",children:a})]})]}),g.jsxs("div",{className:"space-y-1.5",children:[g.jsxs("div",{className:"flex justify-between text-[10px] font-semibold text-slate-400 uppercase tracking-wider",children:[g.jsxs("span",{children:[i.xp," XP"]}),g.jsx("span",{children:l?`${l} XP`:"MAX"})]}),g.jsx("div",{className:"w-full h-2.5 bg-slate-100 dark:bg-slate-800 rounded-full overflow-hidden shadow-inner ring-1 ring-slate-900/5 dark:ring-white/5",children:g.jsx(Ee.div,{className:"h-full bg-gradient-to-r from-blue-500 to-indigo-500 rounded-full",initial:{width:0},animate:{width:`${c}%`},transition:{duration:1,ease:"easeOut"}})})]})]}),g.jsxs("nav",{className:"space-y-1.5 flex-1",children:[g.jsxs(en,{to:"/",className:`flex items-center gap-3 px-4 py-3.5 rounded-xl transition-all duration-200 ${V("/")?"bg-blue-600 text-white shadow-lg shadow-blue-500/30 font-medium translate-x-1":"text-slate-600 dark:text-slate-400 hover:bg-slate-100/80 dark:hover:bg-slate-800/50 hover:text-slate-900 dark:hover:text-white"}`,children:[g.jsx(RE,{className:"w-5 h-5"}),"Dashboard"]}),g.jsxs(en,{to:"/planner",className:`flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200 group relative ${V("/planner")?"bg-gradient-to-r from-blue-600 to-indigo-600 text-white shadow-lg shadow-blue-500/30":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[g.jsx(wC,{className:`w-5 h-5 transition-transform group-hover:scale-110 ${V("/planner")?"text-white":"text-slate-500 group-hover:text-blue-600 dark:text-slate-500 dark:group-hover:text-blue-400"}`}),g.jsx("span",{className:"font-medium",children:"Planner"}),V("/planner")&&g.jsx(Ee.div,{layoutId:"activeTab",className:"absolute left-0 w-1 h-8 bg-white rounded-r-full opacity-30"})]}),g.jsxs(en,{to:"/analytics",className:`flex items-center gap-3 px-4 py-3.5 rounded-xl transition-all duration-200 ${V("/analytics")?"bg-blue-600 text-white shadow-lg shadow-blue-500/30 font-medium translate-x-1":"text-slate-600 dark:text-slate-400 hover:bg-slate-100/80 dark:hover:bg-slate-800/50 hover:text-slate-900 dark:hover:text-white"}`,children:[g.jsx(ey,{className:"w-5 h-5"}),"Analytics"]}),g.jsxs(en,{to:"/timer",id:"nav-timer",className:`flex items-center gap-3 px-4 py-3.5 rounded-xl transition-all duration-200 ${f.pathname==="/timer"?"bg-blue-600 text-white shadow-lg shadow-blue-500/30 font-medium translate-x-1":"text-slate-600 dark:text-slate-400 hover:bg-slate-100/80 dark:hover:bg-slate-800/50 hover:text-slate-900 dark:hover:text-white"}`,children:[g.jsx(DE,{className:"w-5 h-5"}),"Timer"]}),g.jsxs(en,{to:"/chat",className:`flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200 group relative ${V("/chat")?"bg-gradient-to-r from-blue-600 to-indigo-600 text-white shadow-lg shadow-blue-500/30":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[g.jsx(Qd,{className:`w-5 h-5 transition-transform group-hover:scale-110 ${V("/chat")?"text-white":"text-slate-500 group-hover:text-blue-600 dark:text-slate-500 dark:group-hover:text-blue-400"}`}),g.jsx("span",{className:"font-medium",children:"Study Groups"}),V("/chat")&&g.jsx(Ee.div,{layoutId:"activeTab",className:"absolute left-0 w-1 h-8 bg-white rounded-r-full opacity-30"})]}),g.jsxs(en,{to:"/settings",id:"nav-settings",className:`flex items-center gap-3 px-4 py-3.5 rounded-xl transition-all duration-200 ${V("/settings")?"bg-blue-600 text-white shadow-lg shadow-blue-500/30 font-medium translate-x-1":"text-slate-600 dark:text-slate-400 hover:bg-slate-100/80 dark:hover:bg-slate-800/50 hover:text-slate-900 dark:hover:text-white"}`,children:[g.jsx(Yg,{className:"w-5 h-5"}),"Settings"]})]}),g.jsxs("div",{className:"mt-auto pt-6 border-t border-slate-200/50 dark:border-slate-700/50",children:[g.jsxs("button",{onClick:t,className:"flex items-center gap-3 px-4 py-3.5 rounded-xl text-slate-600 dark:text-slate-400 hover:bg-red-50 dark:hover:bg-red-900/20 hover:text-red-600 dark:hover:text-red-400 transition-colors w-full text-left mb-4 group",children:[g.jsx(Kv,{className:"w-5 h-5 group-hover:-translate-x-0.5 transition-transform"}),"Sign Out"]}),g.jsxs("div",{className:"text-xs text-center text-slate-400 dark:text-slate-500 font-medium",children:[g.jsx("p",{children:"Empowering Students"}),g.jsx("p",{className:"mt-1 opacity-70",children:" 2026 TrackEd"})]})]})]}),g.jsx("main",{className:"flex-1 p-4 md:p-8",children:g.jsx(fs,{mode:"wait",children:p&&N.cloneElement(p,{key:f.pathname})})})]}),g.jsxs("nav",{className:"fixed bottom-0 left-0 right-0 bg-white dark:bg-slate-800 border-t border-slate-200 dark:border-slate-700 flex justify-around pt-3 px-3 pb-[calc(0.75rem+env(safe-area-inset-bottom))] md:hidden z-20 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.05)] transition-colors duration-300",children:[g.jsxs(en,{to:"/",className:`flex flex-col items-center gap-1 text-xs ${V("/")?"text-blue-600 dark:text-blue-400 font-medium":"text-slate-400 dark:text-slate-500"}`,children:[g.jsx(RE,{className:"w-6 h-6"}),g.jsx("span",{children:"Home"})]}),g.jsxs(en,{to:"/analytics",className:`flex flex-col items-center gap-1 text-xs ${V("/analytics")?"text-blue-600 dark:text-blue-400 font-medium":"text-slate-400 dark:text-slate-500"}`,children:[g.jsx(ey,{className:"w-6 h-6"}),g.jsx("span",{children:"Stats"})]}),g.jsxs(en,{to:"/timer",className:`flex flex-col items-center gap-1 text-xs ${V("/timer")?"text-blue-600 dark:text-blue-400 font-medium":"text-slate-400 dark:text-slate-500"}`,children:[g.jsx(DE,{className:"w-6 h-6"}),g.jsx("span",{children:"Timer"})]}),g.jsxs(en,{to:"/chat",className:`flex flex-col items-center gap-1 text-xs ${V("/chat")?"text-blue-600 dark:text-blue-400 font-medium":"text-slate-400 dark:text-slate-500"}`,children:[g.jsx(Yv,{className:"w-6 h-6"}),g.jsx("span",{children:"Comm.."})]}),w&&g.jsxs("button",{onClick:O,className:"flex flex-col items-center gap-1 text-xs text-slate-400 dark:text-slate-500 hover:text-indigo-600 dark:hover:text-indigo-400",children:[g.jsx(im,{className:"w-6 h-6"}),g.jsx("span",{children:"Install"})]}),g.jsxs(en,{to:"/settings",className:`flex flex-col items-center gap-1 text-xs ${V("/settings")?"text-blue-600 dark:text-blue-400 font-medium":"text-slate-400 dark:text-slate-500"}`,children:[g.jsx(Yg,{className:"w-6 h-6"}),g.jsx("span",{children:"Settings"})]})]}),w&&g.jsx(lB,{deferredPrompt:w,onInstall:O})]})}function dB(){const{signInWithGoogle:t,user:e}=Zi(),n=Df();return sy.useEffect(()=>{e&&n("/")},[e,n]),g.jsxs("div",{className:"min-h-screen flex items-center justify-center relative overflow-hidden bg-slate-50 dark:bg-slate-900 transition-colors",children:[g.jsxs("div",{className:"absolute inset-0 z-0",children:[g.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[40%] h-[40%] bg-blue-400/20 dark:bg-blue-600/10 rounded-full blur-3xl animate-pulse"}),g.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[40%] h-[40%] bg-indigo-400/20 dark:bg-indigo-600/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}}),g.jsx("div",{className:"absolute top-[20%] right-[10%] w-[20%] h-[20%] bg-purple-400/20 dark:bg-purple-600/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"2s"}})]}),g.jsxs(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,ease:"easeOut"},className:"relative z-10 w-full max-w-md px-6",children:[g.jsxs("div",{className:"bg-white/80 dark:bg-slate-800/80 backdrop-blur-xl rounded-3xl shadow-2xl border border-white/50 dark:border-slate-700/50 p-8 md:p-12 text-center transition-colors",children:[g.jsx("div",{className:"flex justify-center mb-8",children:g.jsx("div",{className:"p-4 bg-indigo-600 rounded-2xl shadow-lg transform rotate-3 hover:rotate-6 transition-transform duration-300",children:g.jsx(AC,{className:"w-10 h-10 text-white"})})}),g.jsxs("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white mb-3 tracking-tight transition-colors",children:["Welcome to ",g.jsx("span",{className:"text-indigo-600 dark:text-indigo-400",children:"TrackEd"})]}),g.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-10 text-lg leading-relaxed transition-colors",children:"Master your study habits and achieve your goals."}),g.jsxs(Ee.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:t,className:"group w-full relative flex items-center justify-center gap-3 py-3.5 px-6 border border-transparent rounded-xl shadow-md text-base font-semibold text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-all duration-200",children:[g.jsx("div",{className:"bg-white p-1 rounded-full",children:g.jsx("img",{src:"https://www.google.com/favicon.ico",alt:"G",className:"w-4 h-4"})}),g.jsx("span",{children:"Sign in with Google"}),g.jsx(Gv,{className:"w-4 h-4 opacity-0 group-hover:opacity-100 group-hover:translate-x-1 transition-all"})]}),g.jsx("p",{className:"mt-8 text-xs text-slate-400 dark:text-slate-500 transition-colors",children:"By signing in, you agree to our Terms of Service and Privacy Policy."})]}),g.jsx("div",{className:"mt-8 text-center",children:g.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400 transition-colors",children:"Focus. Track. Succeed."})})]})]})}const fB=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];function mB(){const{subjects:t}=Qt(),[e,n]=N.useState(new Date),[i,a]=N.useState(new Date),l=(P,F)=>new Date(P,F+1,0).getDate(),c=(P,F)=>new Date(P,F,1).getDay(),h=e.getFullYear(),f=e.getMonth(),p=l(h,f),v=c(h,f),b=()=>n(new Date(h,f-1,1)),w=()=>n(new Date(h,f+1,1)),S=new Date,M=P=>P===S.getDate()&&f===S.getMonth()&&h===S.getFullYear(),O=P=>i&&P===i.getDate()&&f===i.getMonth()&&h===i.getFullYear(),V=N.useMemo(()=>{const P=[];return t.forEach(F=>{F.chapters.forEach(H=>{H.isCompleted||H.topics.forEach(ee=>{ee.isCompleted||P.push({subjectName:F.name,chapterName:H.name,topicName:ee.name,priority:Math.random()})})})}),P.sort((F,H)=>H.priority-F.priority).slice(0,3)},[t]);return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("header",{children:[g.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 dark:from-blue-400 dark:to-indigo-400 bg-clip-text text-transparent",children:"Study Planner"}),g.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Manage your schedule and stay on track."})]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[g.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-slate-800 rounded-2xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:[g.jsxs("div",{className:"flex items-center justify-between mb-6",children:[g.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[g.jsx(wC,{className:"w-5 h-5 text-blue-500"}),e.toLocaleString("default",{month:"long",year:"numeric"})]}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{onClick:b,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full transition-colors",children:g.jsx($v,{className:"w-5 h-5 text-slate-600 dark:text-slate-300"})}),g.jsx("button",{onClick:w,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full transition-colors",children:g.jsx(EC,{className:"w-5 h-5 text-slate-600 dark:text-slate-300"})})]})]}),g.jsx("div",{className:"grid grid-cols-7 gap-2 mb-2 text-center",children:fB.map(P=>g.jsx("div",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider py-2",children:P},P))}),g.jsxs("div",{className:"grid grid-cols-7 gap-2",children:[Array.from({length:v}).map((P,F)=>g.jsx("div",{className:"aspect-square"},`empty-${F}`)),Array.from({length:p}).map((P,F)=>{const H=F+1,ee=M(H)?"bg-blue-500 text-white shadow-lg shadow-blue-500/30 font-bold":"",se=O(H)&&!M(H)?"ring-2 ring-blue-500 bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 font-semibold":"";return g.jsx(Ee.div,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>a(new Date(h,f,H)),className:`aspect-square rounded-xl flex items-center justify-center text-sm cursor-pointer transition-all hover:bg-slate-100 dark:hover:bg-slate-700 text-slate-700 dark:text-slate-300 ${ee} ${se}`,children:H},H)})]})]}),g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:[g.jsxs("h3",{className:"font-bold text-slate-800 dark:text-white mb-4 flex items-center gap-2",children:[g.jsx(R8,{className:"w-5 h-5 text-indigo-500"}),i?.toLocaleDateString()]}),g.jsxs("div",{className:"text-center py-8 text-slate-400 text-sm",children:[g.jsx("p",{children:"No study sessions scheduled."}),g.jsx("button",{className:"mt-4 px-4 py-2 bg-indigo-50 text-indigo-600 dark:bg-indigo-900/20 dark:text-indigo-400 rounded-lg text-sm font-semibold hover:bg-indigo-100 dark:hover:bg-indigo-900/30 transition-colors",children:"+ Schedule Session"})]})]}),g.jsxs("div",{className:"bg-gradient-to-br from-indigo-500 to-purple-600 rounded-2xl p-6 text-white shadow-lg",children:[g.jsxs("h3",{className:"font-bold text-lg mb-1 flex items-center gap-2",children:[g.jsx(SC,{className:"w-5 h-5"}),"Smart Suggestions"]}),g.jsx("p",{className:"text-indigo-100 text-sm mb-4",children:"Focus on these topics today:"}),g.jsx("div",{className:"space-y-3",children:V.length>0?V.map((P,F)=>g.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-3 border border-white/10 hover:bg-white/20 transition-colors cursor-pointer",children:[g.jsx("div",{className:"text-xs font-medium text-indigo-200 uppercase tracking-wider mb-1",children:P.subjectName}),g.jsx("div",{className:"font-semibold text-sm line-clamp-1",children:P.topicName}),g.jsx("div",{className:"text-xs text-indigo-100 opacity-80 mt-0.5 line-clamp-1",children:P.chapterName})]},F)):g.jsxs("div",{className:"text-center py-4 text-indigo-100",children:[g.jsx("p",{children:" All caught up!"}),g.jsx("p",{className:"text-xs opacity-70 mt-1",children:"Great job clearing your backlog."})]})})]})]})]})]})}function pB({children:t}){const{user:e,loading:n}=Zi();return n?g.jsx("div",{children:"Loading..."}):e?g.jsx(g.Fragment,{children:t}):g.jsx(OI,{to:"/login"})}function gB(){return g.jsx(V7,{children:g.jsx(P7,{children:g.jsx(fz,{children:g.jsx(lD,{basename:"/Study-Mate/",children:g.jsxs(LI,{children:[g.jsx(si,{path:"/login",element:g.jsx(dB,{})}),g.jsxs(si,{path:"/",element:g.jsx(pB,{children:g.jsx(hB,{})}),children:[g.jsx(si,{index:!0,element:g.jsx(X7,{})}),g.jsx(si,{path:"subject/:id",element:g.jsx(sz,{})}),g.jsx(si,{path:"planner",element:g.jsx(mB,{})}),g.jsx(si,{path:"analytics",element:g.jsx(hz,{})}),g.jsx(si,{path:"timer",element:g.jsx(dz,{})}),g.jsx(si,{path:"chat",element:g.jsx(rB,{})}),g.jsx(si,{path:"settings",element:g.jsx(oz,{})})]})]})})})})})}class yB extends N.Component{state={hasError:!1,error:null};static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("Uncaught error:",e,n)}render(){return this.state.hasError?g.jsx("div",{className:"min-h-screen flex items-center justify-center bg-red-50 p-4",children:g.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg max-w-lg w-full",children:[g.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Something went wrong"}),g.jsx("p",{className:"text-slate-600 mb-4",children:"We encountered an unexpected error."}),g.jsx("pre",{className:"bg-slate-100 p-4 rounded text-xs text-slate-800 overflow-auto mb-4",children:this.state.error?.message}),g.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Reload Page"})]})}):this.props.children}}console.log("TrackEd v1.1 - Dark Mode Enabled");PR.createRoot(document.getElementById("root")).render(g.jsx(sy.StrictMode,{children:g.jsx(yB,{children:g.jsx(YU,{children:g.jsx(iz,{children:g.jsx(J7,{children:g.jsx(gB,{})})})})})}));
