(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function SE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ag={exports:{}},Oc={};var r_;function cR(){if(r_)return Oc;r_=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:t,type:i,key:c,ref:a!==void 0?a:null,props:l}}return Oc.Fragment=e,Oc.jsx=n,Oc.jsxs=n,Oc}var a_;function uR(){return a_||(a_=1,ag.exports=cR()),ag.exports}var g=uR(),og={exports:{}},Oe={};var o_;function hR(){if(o_)return Oe;o_=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),w=Symbol.iterator;function C(z){return z===null||typeof z!="object"?null:(z=w&&z[w]||z["@@iterator"],typeof z=="function"?z:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,O={};function U(z,te,ce){this.props=z,this.context=te,this.refs=O,this.updater=ce||M}U.prototype.isReactComponent={},U.prototype.setState=function(z,te){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,te,"setState")},U.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function F(){}F.prototype=U.prototype;function $(z,te,ce){this.props=z,this.context=te,this.refs=O,this.updater=ce||M}var oe=$.prototype=new F;oe.constructor=$,P(oe,U.prototype),oe.isPureReactComponent=!0;var re=Array.isArray;function ue(){}var j={H:null,A:null,T:null,S:null},E=Object.prototype.hasOwnProperty;function S(z,te,ce){var he=ce.ref;return{$$typeof:t,type:z,key:te,ref:he!==void 0?he:null,props:ce}}function I(z,te){return S(z.type,te,z.props)}function k(z){return typeof z=="object"&&z!==null&&z.$$typeof===t}function V(z){var te={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(ce){return te[ce]})}var R=/\/+/g;function pe(z,te){return typeof z=="object"&&z!==null&&z.key!=null?V(""+z.key):te.toString(36)}function _e(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(ue,ue):(z.status="pending",z.then(function(te){z.status==="pending"&&(z.status="fulfilled",z.value=te)},function(te){z.status==="pending"&&(z.status="rejected",z.reason=te)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function q(z,te,ce,he,Ee){var Ie=typeof z;(Ie==="undefined"||Ie==="boolean")&&(z=null);var le=!1;if(z===null)le=!0;else switch(Ie){case"bigint":case"string":case"number":le=!0;break;case"object":switch(z.$$typeof){case t:case e:le=!0;break;case v:return le=z._init,q(le(z._payload),te,ce,he,Ee)}}if(le)return Ee=Ee(z),le=he===""?"."+pe(z,0):he,re(Ee)?(ce="",le!=null&&(ce=le.replace(R,"$&/")+"/"),q(Ee,te,ce,"",function(xt){return xt})):Ee!=null&&(k(Ee)&&(Ee=I(Ee,ce+(Ee.key==null||z&&z.key===Ee.key?"":(""+Ee.key).replace(R,"$&/")+"/")+le)),te.push(Ee)),1;le=0;var Ne=he===""?".":he+":";if(re(z))for(var je=0;je<z.length;je++)he=z[je],Ie=Ne+pe(he,je),le+=q(he,te,ce,Ie,Ee);else if(je=C(z),typeof je=="function")for(z=je.call(z),je=0;!(he=z.next()).done;)he=he.value,Ie=Ne+pe(he,je++),le+=q(he,te,ce,Ie,Ee);else if(Ie==="object"){if(typeof z.then=="function")return q(_e(z),te,ce,he,Ee);throw te=String(z),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return le}function ee(z,te,ce){if(z==null)return z;var he=[],Ee=0;return q(z,he,"","",function(Ie){return te.call(ce,Ie,Ee++)}),he}function J(z){if(z._status===-1){var te=z._result;te=te(),te.then(function(ce){(z._status===0||z._status===-1)&&(z._status=1,z._result=ce)},function(ce){(z._status===0||z._status===-1)&&(z._status=2,z._result=ce)}),z._status===-1&&(z._status=0,z._result=te)}if(z._status===1)return z._result.default;throw z._result}var Ce=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},Ve={map:ee,forEach:function(z,te,ce){ee(z,function(){te.apply(this,arguments)},ce)},count:function(z){var te=0;return ee(z,function(){te++}),te},toArray:function(z){return ee(z,function(te){return te})||[]},only:function(z){if(!k(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return Oe.Activity=b,Oe.Children=Ve,Oe.Component=U,Oe.Fragment=n,Oe.Profiler=a,Oe.PureComponent=$,Oe.StrictMode=i,Oe.Suspense=m,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,Oe.__COMPILER_RUNTIME={__proto__:null,c:function(z){return j.H.useMemoCache(z)}},Oe.cache=function(z){return function(){return z.apply(null,arguments)}},Oe.cacheSignal=function(){return null},Oe.cloneElement=function(z,te,ce){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var he=P({},z.props),Ee=z.key;if(te!=null)for(Ie in te.key!==void 0&&(Ee=""+te.key),te)!E.call(te,Ie)||Ie==="key"||Ie==="__self"||Ie==="__source"||Ie==="ref"&&te.ref===void 0||(he[Ie]=te[Ie]);var Ie=arguments.length-2;if(Ie===1)he.children=ce;else if(1<Ie){for(var le=Array(Ie),Ne=0;Ne<Ie;Ne++)le[Ne]=arguments[Ne+2];he.children=le}return S(z.type,Ee,he)},Oe.createContext=function(z){return z={$$typeof:c,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:l,_context:z},z},Oe.createElement=function(z,te,ce){var he,Ee={},Ie=null;if(te!=null)for(he in te.key!==void 0&&(Ie=""+te.key),te)E.call(te,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(Ee[he]=te[he]);var le=arguments.length-2;if(le===1)Ee.children=ce;else if(1<le){for(var Ne=Array(le),je=0;je<le;je++)Ne[je]=arguments[je+2];Ee.children=Ne}if(z&&z.defaultProps)for(he in le=z.defaultProps,le)Ee[he]===void 0&&(Ee[he]=le[he]);return S(z,Ie,Ee)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(z){return{$$typeof:d,render:z}},Oe.isValidElement=k,Oe.lazy=function(z){return{$$typeof:v,_payload:{_status:-1,_result:z},_init:J}},Oe.memo=function(z,te){return{$$typeof:p,type:z,compare:te===void 0?null:te}},Oe.startTransition=function(z){var te=j.T,ce={};j.T=ce;try{var he=z(),Ee=j.S;Ee!==null&&Ee(ce,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(ue,Ce)}catch(Ie){Ce(Ie)}finally{te!==null&&ce.types!==null&&(te.types=ce.types),j.T=te}},Oe.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},Oe.use=function(z){return j.H.use(z)},Oe.useActionState=function(z,te,ce){return j.H.useActionState(z,te,ce)},Oe.useCallback=function(z,te){return j.H.useCallback(z,te)},Oe.useContext=function(z){return j.H.useContext(z)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(z,te){return j.H.useDeferredValue(z,te)},Oe.useEffect=function(z,te){return j.H.useEffect(z,te)},Oe.useEffectEvent=function(z){return j.H.useEffectEvent(z)},Oe.useId=function(){return j.H.useId()},Oe.useImperativeHandle=function(z,te,ce){return j.H.useImperativeHandle(z,te,ce)},Oe.useInsertionEffect=function(z,te){return j.H.useInsertionEffect(z,te)},Oe.useLayoutEffect=function(z,te){return j.H.useLayoutEffect(z,te)},Oe.useMemo=function(z,te){return j.H.useMemo(z,te)},Oe.useOptimistic=function(z,te){return j.H.useOptimistic(z,te)},Oe.useReducer=function(z,te,ce){return j.H.useReducer(z,te,ce)},Oe.useRef=function(z){return j.H.useRef(z)},Oe.useState=function(z){return j.H.useState(z)},Oe.useSyncExternalStore=function(z,te,ce){return j.H.useSyncExternalStore(z,te,ce)},Oe.useTransition=function(){return j.H.useTransition()},Oe.version="19.2.4",Oe}var l_;function W0(){return l_||(l_=1,og.exports=hR()),og.exports}var D=W0();const J0=SE(D);var lg={exports:{}},Pc={},cg={exports:{}},ug={};var c_;function dR(){return c_||(c_=1,(function(t){function e(q,ee){var J=q.length;q.push(ee);e:for(;0<J;){var Ce=J-1>>>1,Ve=q[Ce];if(0<a(Ve,ee))q[Ce]=ee,q[J]=Ve,J=Ce;else break e}}function n(q){return q.length===0?null:q[0]}function i(q){if(q.length===0)return null;var ee=q[0],J=q.pop();if(J!==ee){q[0]=J;e:for(var Ce=0,Ve=q.length,z=Ve>>>1;Ce<z;){var te=2*(Ce+1)-1,ce=q[te],he=te+1,Ee=q[he];if(0>a(ce,J))he<Ve&&0>a(Ee,ce)?(q[Ce]=Ee,q[he]=J,Ce=he):(q[Ce]=ce,q[te]=J,Ce=te);else if(he<Ve&&0>a(Ee,J))q[Ce]=Ee,q[he]=J,Ce=he;else break e}}return ee}function a(q,ee){var J=q.sortIndex-ee.sortIndex;return J!==0?J:q.id-ee.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var m=[],p=[],v=1,b=null,w=3,C=!1,M=!1,P=!1,O=!1,U=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function oe(q){for(var ee=n(p);ee!==null;){if(ee.callback===null)i(p);else if(ee.startTime<=q)i(p),ee.sortIndex=ee.expirationTime,e(m,ee);else break;ee=n(p)}}function re(q){if(P=!1,oe(q),!M)if(n(m)!==null)M=!0,ue||(ue=!0,V());else{var ee=n(p);ee!==null&&_e(re,ee.startTime-q)}}var ue=!1,j=-1,E=5,S=-1;function I(){return O?!0:!(t.unstable_now()-S<E)}function k(){if(O=!1,ue){var q=t.unstable_now();S=q;var ee=!0;try{e:{M=!1,P&&(P=!1,F(j),j=-1),C=!0;var J=w;try{t:{for(oe(q),b=n(m);b!==null&&!(b.expirationTime>q&&I());){var Ce=b.callback;if(typeof Ce=="function"){b.callback=null,w=b.priorityLevel;var Ve=Ce(b.expirationTime<=q);if(q=t.unstable_now(),typeof Ve=="function"){b.callback=Ve,oe(q),ee=!0;break t}b===n(m)&&i(m),oe(q)}else i(m);b=n(m)}if(b!==null)ee=!0;else{var z=n(p);z!==null&&_e(re,z.startTime-q),ee=!1}}break e}finally{b=null,w=J,C=!1}ee=void 0}}finally{ee?V():ue=!1}}}var V;if(typeof $=="function")V=function(){$(k)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,pe=R.port2;R.port1.onmessage=k,V=function(){pe.postMessage(null)}}else V=function(){U(k,0)};function _e(q,ee){j=U(function(){q(t.unstable_now())},ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_next=function(q){switch(w){case 1:case 2:case 3:var ee=3;break;default:ee=w}var J=w;w=ee;try{return q()}finally{w=J}},t.unstable_requestPaint=function(){O=!0},t.unstable_runWithPriority=function(q,ee){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var J=w;w=q;try{return ee()}finally{w=J}},t.unstable_scheduleCallback=function(q,ee,J){var Ce=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?Ce+J:Ce):J=Ce,q){case 1:var Ve=-1;break;case 2:Ve=250;break;case 5:Ve=1073741823;break;case 4:Ve=1e4;break;default:Ve=5e3}return Ve=J+Ve,q={id:v++,callback:ee,priorityLevel:q,startTime:J,expirationTime:Ve,sortIndex:-1},J>Ce?(q.sortIndex=J,e(p,q),n(m)===null&&q===n(p)&&(P?(F(j),j=-1):P=!0,_e(re,J-Ce))):(q.sortIndex=Ve,e(m,q),M||C||(M=!0,ue||(ue=!0,V()))),q},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(q){var ee=w;return function(){var J=w;w=ee;try{return q.apply(this,arguments)}finally{w=J}}}})(ug)),ug}var u_;function fR(){return u_||(u_=1,cg.exports=dR()),cg.exports}var hg={exports:{}},dn={};var h_;function mR(){if(h_)return dn;h_=1;var t=W0();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,p,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:b==null?null:""+b,children:m,containerInfo:p,implementation:v}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return dn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,dn.createPortal=function(m,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(m,p,null,v)},dn.flushSync=function(m){var p=c.T,v=i.p;try{if(c.T=null,i.p=2,m)return m()}finally{c.T=p,i.p=v,i.d.f()}},dn.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(m,p))},dn.prefetchDNS=function(m){typeof m=="string"&&i.d.D(m)},dn.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var v=p.as,b=d(v,p.crossOrigin),w=typeof p.integrity=="string"?p.integrity:void 0,C=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?i.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:w,fetchPriority:C}):v==="script"&&i.d.X(m,{crossOrigin:b,integrity:w,fetchPriority:C,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},dn.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=d(p.as,p.crossOrigin);i.d.M(m,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(m)},dn.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,b=d(v,p.crossOrigin);i.d.L(m,v,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},dn.preloadModule=function(m,p){if(typeof m=="string")if(p){var v=d(p.as,p.crossOrigin);i.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(m)},dn.requestFormReset=function(m){i.d.r(m)},dn.unstable_batchedUpdates=function(m,p){return m(p)},dn.useFormState=function(m,p,v){return c.H.useFormState(m,p,v)},dn.useFormStatus=function(){return c.H.useHostTransitionStatus()},dn.version="19.2.4",dn}var d_;function pR(){if(d_)return hg.exports;d_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),hg.exports=mR(),hg.exports}var f_;function gR(){if(f_)return Pc;f_=1;var t=fR(),e=W0(),n=pR();function i(s){var r="https://react.dev/errors/"+s;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+s+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function l(s){var r=s,o=s;if(s.alternate)for(;r.return;)r=r.return;else{s=r;do r=s,(r.flags&4098)!==0&&(o=r.return),s=r.return;while(s)}return r.tag===3?o:null}function c(s){if(s.tag===13){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function d(s){if(s.tag===31){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function m(s){if(l(s)!==s)throw Error(i(188))}function p(s){var r=s.alternate;if(!r){if(r=l(s),r===null)throw Error(i(188));return r!==s?null:s}for(var o=s,u=r;;){var f=o.return;if(f===null)break;var y=f.alternate;if(y===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===y.child){for(y=f.child;y;){if(y===o)return m(f),s;if(y===u)return m(f),r;y=y.sibling}throw Error(i(188))}if(o.return!==u.return)o=f,u=y;else{for(var _=!1,A=f.child;A;){if(A===o){_=!0,o=f,u=y;break}if(A===u){_=!0,u=f,o=y;break}A=A.sibling}if(!_){for(A=y.child;A;){if(A===o){_=!0,o=y,u=f;break}if(A===u){_=!0,u=y,o=f;break}A=A.sibling}if(!_)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?s:r}function v(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s;for(s=s.child;s!==null;){if(r=v(s),r!==null)return r;s=s.sibling}return null}var b=Object.assign,w=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),F=Symbol.for("react.consumer"),$=Symbol.for("react.context"),oe=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),ue=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function V(s){return s===null||typeof s!="object"?null:(s=k&&s[k]||s["@@iterator"],typeof s=="function"?s:null)}var R=Symbol.for("react.client.reference");function pe(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===R?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case P:return"Fragment";case U:return"Profiler";case O:return"StrictMode";case re:return"Suspense";case ue:return"SuspenseList";case S:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case M:return"Portal";case $:return s.displayName||"Context";case F:return(s._context.displayName||"Context")+".Consumer";case oe:var r=s.render;return s=s.displayName,s||(s=r.displayName||r.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case j:return r=s.displayName||null,r!==null?r:pe(s.type)||"Memo";case E:r=s._payload,s=s._init;try{return pe(s(r))}catch{}}return null}var _e=Array.isArray,q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J={pending:!1,data:null,method:null,action:null},Ce=[],Ve=-1;function z(s){return{current:s}}function te(s){0>Ve||(s.current=Ce[Ve],Ce[Ve]=null,Ve--)}function ce(s,r){Ve++,Ce[Ve]=s.current,s.current=r}var he=z(null),Ee=z(null),Ie=z(null),le=z(null);function Ne(s,r){switch(ce(Ie,r),ce(Ee,s),ce(he,null),r.nodeType){case 9:case 11:s=(s=r.documentElement)&&(s=s.namespaceURI)?k1(s):0;break;default:if(s=r.tagName,r=r.namespaceURI)r=k1(r),s=N1(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}te(he),ce(he,s)}function je(){te(he),te(Ee),te(Ie)}function xt(s){s.memoizedState!==null&&ce(le,s);var r=he.current,o=N1(r,s.type);r!==o&&(ce(Ee,s),ce(he,o))}function En(s){Ee.current===s&&(te(he),te(Ee)),le.current===s&&(te(le),Dc._currentValue=J)}var Sn,fi;function Zt(s){if(Sn===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);Sn=r&&r[1]||"",fi=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Sn+s+fi}var fs=!1;function ta(s,r){if(!s||fs)return"";fs=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(W){var Q=W}Reflect.construct(s,[],ie)}else{try{ie.call()}catch(W){Q=W}s.call(ie.prototype)}}else{try{throw Error()}catch(W){Q=W}(ie=s())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(W){if(W&&Q&&typeof W.stack=="string")return[W.stack,Q.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=u.DetermineComponentFrameRoot(),_=y[0],A=y[1];if(_&&A){var L=_.split(`
`),Y=A.split(`
`);for(f=u=0;u<L.length&&!L[u].includes("DetermineComponentFrameRoot");)u++;for(;f<Y.length&&!Y[f].includes("DetermineComponentFrameRoot");)f++;if(u===L.length||f===Y.length)for(u=L.length-1,f=Y.length-1;1<=u&&0<=f&&L[u]!==Y[f];)f--;for(;1<=u&&0<=f;u--,f--)if(L[u]!==Y[f]){if(u!==1||f!==1)do if(u--,f--,0>f||L[u]!==Y[f]){var Z=`
`+L[u].replace(" at new "," at ");return s.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",s.displayName)),Z}while(1<=u&&0<=f);break}}}finally{fs=!1,Error.prepareStackTrace=o}return(o=s?s.displayName||s.name:"")?Zt(o):""}function jl(s,r){switch(s.tag){case 26:case 27:case 5:return Zt(s.type);case 16:return Zt("Lazy");case 13:return s.child!==r&&r!==null?Zt("Suspense Fallback"):Zt("Suspense");case 19:return Zt("SuspenseList");case 0:case 15:return ta(s.type,!1);case 11:return ta(s.type.render,!1);case 1:return ta(s.type,!0);case 31:return Zt("Activity");default:return""}}function Ml(s){try{var r="",o=null;do r+=jl(s,o),o=s,s=s.return;while(s);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Rt=Object.prototype.hasOwnProperty,Ht=t.unstable_scheduleCallback,Ji=t.unstable_cancelCallback,lm=t.unstable_shouldYield,Uu=t.unstable_requestPaint,bn=t.unstable_now,na=t.unstable_getCurrentPriorityLevel,Vl=t.unstable_ImmediatePriority,Ol=t.unstable_UserBlockingPriority,Zi=t.unstable_NormalPriority,cm=t.unstable_LowPriority,zu=t.unstable_IdlePriority,Bu=t.log,Fu=t.unstable_setDisableYieldValue,ms=null,en=null;function Yn(s){if(typeof Bu=="function"&&Fu(s),en&&typeof en.setStrictMode=="function")try{en.setStrictMode(ms,s)}catch{}}var St=Math.clz32?Math.clz32:qu,Hu=Math.log,Za=Math.LN2;function qu(s){return s>>>=0,s===0?32:31-(Hu(s)/Za|0)|0}var Vs=256,sa=262144,It=4194304;function Os(s){var r=s&42;if(r!==0)return r;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Ps(s,r,o){var u=s.pendingLanes;if(u===0)return 0;var f=0,y=s.suspendedLanes,_=s.pingedLanes;s=s.warmLanes;var A=u&134217727;return A!==0?(u=A&~y,u!==0?f=Os(u):(_&=A,_!==0?f=Os(_):o||(o=A&~s,o!==0&&(f=Os(o))))):(A=u&~y,A!==0?f=Os(A):_!==0?f=Os(_):o||(o=u&~s,o!==0&&(f=Os(o)))),f===0?0:r!==0&&r!==f&&(r&y)===0&&(y=f&-f,o=r&-r,y>=o||y===32&&(o&4194048)!==0)?r:f}function ps(s,r){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&r)===0}function um(s,r){switch(s){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gu(){var s=It;return It<<=1,(It&62914560)===0&&(It=4194304),s}function Ls(s){for(var r=[],o=0;31>o;o++)r.push(s);return r}function ia(s,r){s.pendingLanes|=r,r!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function hm(s,r,o,u,f,y){var _=s.pendingLanes;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=o,s.entangledLanes&=o,s.errorRecoveryDisabledLanes&=o,s.shellSuspendCounter=0;var A=s.entanglements,L=s.expirationTimes,Y=s.hiddenUpdates;for(o=_&~o;0<o;){var Z=31-St(o),ie=1<<Z;A[Z]=0,L[Z]=-1;var Q=Y[Z];if(Q!==null)for(Y[Z]=null,Z=0;Z<Q.length;Z++){var W=Q[Z];W!==null&&(W.lane&=-536870913)}o&=~ie}u!==0&&ra(s,u,0),y!==0&&f===0&&s.tag!==0&&(s.suspendedLanes|=y&~(_&~r))}function ra(s,r,o){s.pendingLanes|=r,s.suspendedLanes&=~r;var u=31-St(r);s.entangledLanes|=r,s.entanglements[u]=s.entanglements[u]|1073741824|o&261930}function Pl(s,r){var o=s.entangledLanes|=r;for(s=s.entanglements;o;){var u=31-St(o),f=1<<u;f&r|s[u]&r&&(s[u]|=r),o&=~f}}function Ll(s,r){var o=r&-r;return o=(o&42)!==0?1:aa(o),(o&(s.suspendedLanes|r))!==0?0:o}function aa(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function mi(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function $u(){var s=ee.p;return s!==0?s:(s=window.event,s===void 0?32:J1(s.type))}function gs(s,r){var o=ee.p;try{return ee.p=s,r()}finally{ee.p=o}}var ys=Math.random().toString(36).slice(2),Dt="__reactFiber$"+ys,Yt="__reactProps$"+ys,Us="__reactContainer$"+ys,eo="__reactEvents$"+ys,dm="__reactListeners$"+ys,Ku="__reactHandles$"+ys,Yu="__reactResources$"+ys,zs="__reactMarker$"+ys;function to(s){delete s[Dt],delete s[Yt],delete s[eo],delete s[dm],delete s[Ku]}function Bs(s){var r=s[Dt];if(r)return r;for(var o=s.parentNode;o;){if(r=o[Us]||o[Dt]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(s=O1(s);s!==null;){if(o=s[Dt])return o;s=O1(s)}return r}s=o,o=s.parentNode}return null}function Qn(s){if(s=s[Dt]||s[Us]){var r=s.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return s}return null}function On(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s.stateNode;throw Error(i(33))}function Fs(s){var r=s[Yu];return r||(r=s[Yu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function jt(s){s[zs]=!0}var Ul=new Set,zl={};function Hs(s,r){qs(s,r),qs(s+"Capture",r)}function qs(s,r){for(zl[s]=r,s=0;s<r.length;s++)Ul.add(r[s])}var Bl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Fl={},Hl={};function Qu(s){return Rt.call(Hl,s)?!0:Rt.call(Fl,s)?!1:Bl.test(s)?Hl[s]=!0:(Fl[s]=!0,!1)}function no(s,r,o){if(Qu(r))if(o===null)s.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":s.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){s.removeAttribute(r);return}}s.setAttribute(r,""+o)}}function Pn(s,r,o){if(o===null)s.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(r);return}s.setAttribute(r,""+o)}}function Mt(s,r,o,u){if(u===null)s.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttributeNS(r,o,""+u)}}function Qt(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function er(s){var r=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function ql(s,r,o){var u=Object.getOwnPropertyDescriptor(s.constructor.prototype,r);if(!s.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var f=u.get,y=u.set;return Object.defineProperty(s,r,{configurable:!0,get:function(){return f.call(this)},set:function(_){o=""+_,y.call(this,_)}}),Object.defineProperty(s,r,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(_){o=""+_},stopTracking:function(){s._valueTracker=null,delete s[r]}}}}function nt(s){if(!s._valueTracker){var r=er(s)?"checked":"value";s._valueTracker=ql(s,r,""+s[r])}}function oa(s){if(!s)return!1;var r=s._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return s&&(u=er(s)?s.checked?"true":"false":s.value),s=u,s!==o?(r.setValue(s),!0):!1}function Gs(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var la=/[\n"\\]/g;function An(s){return s.replace(la,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function so(s,r,o,u,f,y,_,A){s.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?s.type=_:s.removeAttribute("type"),r!=null?_==="number"?(r===0&&s.value===""||s.value!=r)&&(s.value=""+Qt(r)):s.value!==""+Qt(r)&&(s.value=""+Qt(r)):_!=="submit"&&_!=="reset"||s.removeAttribute("value"),r!=null?Gl(s,_,Qt(r)):o!=null?Gl(s,_,Qt(o)):u!=null&&s.removeAttribute("value"),f==null&&y!=null&&(s.defaultChecked=!!y),f!=null&&(s.checked=f&&typeof f!="function"&&typeof f!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?s.name=""+Qt(A):s.removeAttribute("name")}function Xu(s,r,o,u,f,y,_,A){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(s.type=y),r!=null||o!=null){if(!(y!=="submit"&&y!=="reset"||r!=null)){nt(s);return}o=o!=null?""+Qt(o):"",r=r!=null?""+Qt(r):o,A||r===s.value||(s.value=r),s.defaultValue=r}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,s.checked=A?s.checked:!!u,s.defaultChecked=!!u,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(s.name=_),nt(s)}function Gl(s,r,o){r==="number"&&Gs(s.ownerDocument)===s||s.defaultValue===""+o||(s.defaultValue=""+o)}function tr(s,r,o,u){if(s=s.options,r){r={};for(var f=0;f<o.length;f++)r["$"+o[f]]=!0;for(o=0;o<s.length;o++)f=r.hasOwnProperty("$"+s[o].value),s[o].selected!==f&&(s[o].selected=f),f&&u&&(s[o].defaultSelected=!0)}else{for(o=""+Qt(o),r=null,f=0;f<s.length;f++){if(s[f].value===o){s[f].selected=!0,u&&(s[f].defaultSelected=!0);return}r!==null||s[f].disabled||(r=s[f])}r!==null&&(r.selected=!0)}}function Wu(s,r,o){if(r!=null&&(r=""+Qt(r),r!==s.value&&(s.value=r),o==null)){s.defaultValue!==r&&(s.defaultValue=r);return}s.defaultValue=o!=null?""+Qt(o):""}function nr(s,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(i(92));if(_e(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=Qt(r),s.defaultValue=o,u=s.textContent,u===o&&u!==""&&u!==null&&(s.value=u),nt(s)}function Cn(s,r){if(r){var o=s.firstChild;if(o&&o===s.lastChild&&o.nodeType===3){o.nodeValue=r;return}}s.textContent=r}var Ju=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $l(s,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?s.setProperty(r,""):r==="float"?s.cssFloat="":s[r]="":u?s.setProperty(r,o):typeof o!="number"||o===0||Ju.has(r)?r==="float"?s.cssFloat=o:s[r]=(""+o).trim():s[r]=o+"px"}function Kl(s,r,o){if(r!=null&&typeof r!="object")throw Error(i(62));if(s=s.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?s.setProperty(u,""):u==="float"?s.cssFloat="":s[u]="");for(var f in r)u=r[f],r.hasOwnProperty(f)&&o[f]!==u&&$l(s,f,u)}else for(var y in r)r.hasOwnProperty(y)&&$l(s,y,r[y])}function io(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),sr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ro(s){return sr.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function vs(){}var Yl=null;function Xn(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var ir=null,$s=null;function ca(s){var r=Qn(s);if(r&&(s=r.stateNode)){var o=s[Yt]||null;e:switch(s=r.stateNode,r.type){case"input":if(so(s,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=s;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+An(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==s&&u.form===s.form){var f=u[Yt]||null;if(!f)throw Error(i(90));so(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===s.form&&oa(u)}break e;case"textarea":Wu(s,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&tr(s,!!o.multiple,r,!1)}}}var ao=!1;function rr(s,r,o){if(ao)return s(r,o);ao=!0;try{var u=s(r);return u}finally{if(ao=!1,(ir!==null||$s!==null)&&($h(),ir&&(r=ir,s=$s,$s=ir=null,ca(r),s)))for(r=0;r<s.length;r++)ca(s[r])}}function bs(s,r){var o=s.stateNode;if(o===null)return null;var u=o[Yt]||null;if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(s=s.type,u=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!u;break e;default:s=!1}if(s)return null;if(o&&typeof o!="function")throw Error(i(231,r,typeof o));return o}var Wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ua=!1;if(Wn)try{var rt={};Object.defineProperty(rt,"passive",{get:function(){ua=!0}}),window.addEventListener("test",rt,rt),window.removeEventListener("test",rt,rt)}catch{ua=!1}var Ks=null,Ql=null,ha=null;function Xl(){if(ha)return ha;var s,r=Ql,o=r.length,u,f="value"in Ks?Ks.value:Ks.textContent,y=f.length;for(s=0;s<o&&r[s]===f[s];s++);var _=o-s;for(u=1;u<=_&&r[o-u]===f[y-u];u++);return ha=f.slice(s,1<u?1-u:void 0)}function da(s){var r=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&r===13&&(s=13)):s=r,s===10&&(s=13),32<=s||s===13?s:0}function pi(){return!0}function xs(){return!1}function tn(s){function r(o,u,f,y,_){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=y,this.target=_,this.currentTarget=null;for(var A in s)s.hasOwnProperty(A)&&(o=s[A],this[A]=o?o(y):y[A]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?pi:xs,this.isPropagationStopped=xs,this}return b(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=pi)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=pi)},persist:function(){},isPersistent:pi}),r}var gi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ys=tn(gi),ar=b({},gi,{view:0,detail:0}),Wl=tn(ar),or,oo,Qs,lo=b({},ar,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Qs&&(Qs&&s.type==="mousemove"?(or=s.screenX-Qs.screenX,oo=s.screenY-Qs.screenY):oo=or=0,Qs=s),or)},movementY:function(s){return"movementY"in s?s.movementY:oo}}),Jl=tn(lo),fa=b({},lo,{dataTransfer:0}),eh=tn(fa),th=b({},ar,{relatedTarget:0}),ma=tn(th),Zl=b({},gi,{animationName:0,elapsedTime:0,pseudoElement:0}),nh=tn(Zl),co=b({},gi,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),sh=tn(co),ih=b({},gi,{data:0}),Xs=tn(ih),rh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ah={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lh(s){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(s):(s=oh[s])?!!r[s]:!1}function lr(){return lh}var xn=b({},ar,{key:function(s){if(s.key){var r=rh[s.key]||s.key;if(r!=="Unidentified")return r}return s.type==="keypress"?(s=da(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?ah[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lr,charCode:function(s){return s.type==="keypress"?da(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?da(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),ch=tn(xn),uh=b({},lo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yi=tn(uh),h=b({},ar,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lr}),x=tn(h),T=b({},gi,{propertyName:0,elapsedTime:0,pseudoElement:0}),N=tn(T),G=b({},lo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),X=tn(G),de=b({},gi,{newState:0,oldState:0}),Le=tn(de),At=[9,13,27,32],Ze=Wn&&"CompositionEvent"in window,pt=null;Wn&&"documentMode"in document&&(pt=document.documentMode);var Jn=Wn&&"TextEvent"in window&&!pt,Ws=Wn&&(!Ze||pt&&8<pt&&11>=pt),_s=" ",ws=!1;function pa(s,r){switch(s){case"keyup":return At.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uo(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ho=!1;function jk(s,r){switch(s){case"compositionend":return uo(r);case"keypress":return r.which!==32?null:(ws=!0,_s);case"textInput":return s=r.data,s===_s&&ws?null:s;default:return null}}function Mk(s,r){if(ho)return s==="compositionend"||!Ze&&pa(s,r)?(s=Xl(),ha=Ql=Ks=null,ho=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Ws&&r.locale!=="ko"?null:r.data;default:return null}}var Vk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Uv(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r==="input"?!!Vk[s.type]:r==="textarea"}function zv(s,r,o,u){ir?$s?$s.push(u):$s=[u]:ir=u,r=Zh(r,"onChange"),0<r.length&&(o=new Ys("onChange","change",null,o,u),s.push({event:o,listeners:r}))}var ec=null,tc=null;function Ok(s){w1(s,0)}function hh(s){var r=On(s);if(oa(r))return s}function Bv(s,r){if(s==="change")return r}var Fv=!1;if(Wn){var fm;if(Wn){var mm="oninput"in document;if(!mm){var Hv=document.createElement("div");Hv.setAttribute("oninput","return;"),mm=typeof Hv.oninput=="function"}fm=mm}else fm=!1;Fv=fm&&(!document.documentMode||9<document.documentMode)}function qv(){ec&&(ec.detachEvent("onpropertychange",Gv),tc=ec=null)}function Gv(s){if(s.propertyName==="value"&&hh(tc)){var r=[];zv(r,tc,s,Xn(s)),rr(Ok,r)}}function Pk(s,r,o){s==="focusin"?(qv(),ec=r,tc=o,ec.attachEvent("onpropertychange",Gv)):s==="focusout"&&qv()}function Lk(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return hh(tc)}function Uk(s,r){if(s==="click")return hh(r)}function zk(s,r){if(s==="input"||s==="change")return hh(r)}function Bk(s,r){return s===r&&(s!==0||1/s===1/r)||s!==s&&r!==r}var Ln=typeof Object.is=="function"?Object.is:Bk;function nc(s,r){if(Ln(s,r))return!0;if(typeof s!="object"||s===null||typeof r!="object"||r===null)return!1;var o=Object.keys(s),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!Rt.call(r,f)||!Ln(s[f],r[f]))return!1}return!0}function $v(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Kv(s,r){var o=$v(s);s=0;for(var u;o;){if(o.nodeType===3){if(u=s+o.textContent.length,s<=r&&u>=r)return{node:o,offset:r-s};s=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=$v(o)}}function Yv(s,r){return s&&r?s===r?!0:s&&s.nodeType===3?!1:r&&r.nodeType===3?Yv(s,r.parentNode):"contains"in s?s.contains(r):s.compareDocumentPosition?!!(s.compareDocumentPosition(r)&16):!1:!1}function Qv(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var r=Gs(s.document);r instanceof s.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)s=r.contentWindow;else break;r=Gs(s.document)}return r}function pm(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r&&(r==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||r==="textarea"||s.contentEditable==="true")}var Fk=Wn&&"documentMode"in document&&11>=document.documentMode,fo=null,gm=null,sc=null,ym=!1;function Xv(s,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;ym||fo==null||fo!==Gs(u)||(u=fo,"selectionStart"in u&&pm(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),sc&&nc(sc,u)||(sc=u,u=Zh(gm,"onSelect"),0<u.length&&(r=new Ys("onSelect","select",null,r,o),s.push({event:r,listeners:u}),r.target=fo)))}function ga(s,r){var o={};return o[s.toLowerCase()]=r.toLowerCase(),o["Webkit"+s]="webkit"+r,o["Moz"+s]="moz"+r,o}var mo={animationend:ga("Animation","AnimationEnd"),animationiteration:ga("Animation","AnimationIteration"),animationstart:ga("Animation","AnimationStart"),transitionrun:ga("Transition","TransitionRun"),transitionstart:ga("Transition","TransitionStart"),transitioncancel:ga("Transition","TransitionCancel"),transitionend:ga("Transition","TransitionEnd")},vm={},Wv={};Wn&&(Wv=document.createElement("div").style,"AnimationEvent"in window||(delete mo.animationend.animation,delete mo.animationiteration.animation,delete mo.animationstart.animation),"TransitionEvent"in window||delete mo.transitionend.transition);function ya(s){if(vm[s])return vm[s];if(!mo[s])return s;var r=mo[s],o;for(o in r)if(r.hasOwnProperty(o)&&o in Wv)return vm[s]=r[o];return s}var Jv=ya("animationend"),Zv=ya("animationiteration"),eb=ya("animationstart"),Hk=ya("transitionrun"),qk=ya("transitionstart"),Gk=ya("transitioncancel"),tb=ya("transitionend"),nb=new Map,bm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");bm.push("scrollEnd");function Ts(s,r){nb.set(s,r),Hs(r,[s])}var dh=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Zn=[],po=0,xm=0;function fh(){for(var s=po,r=xm=po=0;r<s;){var o=Zn[r];Zn[r++]=null;var u=Zn[r];Zn[r++]=null;var f=Zn[r];Zn[r++]=null;var y=Zn[r];if(Zn[r++]=null,u!==null&&f!==null){var _=u.pending;_===null?f.next=f:(f.next=_.next,_.next=f),u.pending=f}y!==0&&sb(o,f,y)}}function mh(s,r,o,u){Zn[po++]=s,Zn[po++]=r,Zn[po++]=o,Zn[po++]=u,xm|=u,s.lanes|=u,s=s.alternate,s!==null&&(s.lanes|=u)}function _m(s,r,o,u){return mh(s,r,o,u),ph(s)}function va(s,r){return mh(s,null,null,r),ph(s)}function sb(s,r,o){s.lanes|=o;var u=s.alternate;u!==null&&(u.lanes|=o);for(var f=!1,y=s.return;y!==null;)y.childLanes|=o,u=y.alternate,u!==null&&(u.childLanes|=o),y.tag===22&&(s=y.stateNode,s===null||s._visibility&1||(f=!0)),s=y,y=y.return;return s.tag===3?(y=s.stateNode,f&&r!==null&&(f=31-St(o),s=y.hiddenUpdates,u=s[f],u===null?s[f]=[r]:u.push(r),r.lane=o|536870912),y):null}function ph(s){if(50<Sc)throw Sc=0,Rp=null,Error(i(185));for(var r=s.return;r!==null;)s=r,r=s.return;return s.tag===3?s.stateNode:null}var go={};function $k(s,r,o,u){this.tag=s,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Un(s,r,o,u){return new $k(s,r,o,u)}function wm(s){return s=s.prototype,!(!s||!s.isReactComponent)}function vi(s,r){var o=s.alternate;return o===null?(o=Un(s.tag,r,s.key,s.mode),o.elementType=s.elementType,o.type=s.type,o.stateNode=s.stateNode,o.alternate=s,s.alternate=o):(o.pendingProps=r,o.type=s.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=s.flags&65011712,o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,r=s.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=s.sibling,o.index=s.index,o.ref=s.ref,o.refCleanup=s.refCleanup,o}function ib(s,r){s.flags&=65011714;var o=s.alternate;return o===null?(s.childLanes=0,s.lanes=r,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,r=o.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),s}function gh(s,r,o,u,f,y){var _=0;if(u=s,typeof s=="function")wm(s)&&(_=1);else if(typeof s=="string")_=WN(s,o,he.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case S:return s=Un(31,o,r,f),s.elementType=S,s.lanes=y,s;case P:return ba(o.children,f,y,r);case O:_=8,f|=24;break;case U:return s=Un(12,o,r,f|2),s.elementType=U,s.lanes=y,s;case re:return s=Un(13,o,r,f),s.elementType=re,s.lanes=y,s;case ue:return s=Un(19,o,r,f),s.elementType=ue,s.lanes=y,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case $:_=10;break e;case F:_=9;break e;case oe:_=11;break e;case j:_=14;break e;case E:_=16,u=null;break e}_=29,o=Error(i(130,s===null?"null":typeof s,"")),u=null}return r=Un(_,o,r,f),r.elementType=s,r.type=u,r.lanes=y,r}function ba(s,r,o,u){return s=Un(7,s,u,r),s.lanes=o,s}function Tm(s,r,o){return s=Un(6,s,null,r),s.lanes=o,s}function rb(s){var r=Un(18,null,null,0);return r.stateNode=s,r}function Em(s,r,o){return r=Un(4,s.children!==null?s.children:[],s.key,r),r.lanes=o,r.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},r}var ab=new WeakMap;function es(s,r){if(typeof s=="object"&&s!==null){var o=ab.get(s);return o!==void 0?o:(r={value:s,source:r,stack:Ml(r)},ab.set(s,r),r)}return{value:s,source:r,stack:Ml(r)}}var yo=[],vo=0,yh=null,ic=0,ts=[],ns=0,cr=null,Js=1,Zs="";function bi(s,r){yo[vo++]=ic,yo[vo++]=yh,yh=s,ic=r}function ob(s,r,o){ts[ns++]=Js,ts[ns++]=Zs,ts[ns++]=cr,cr=s;var u=Js;s=Zs;var f=32-St(u)-1;u&=~(1<<f),o+=1;var y=32-St(r)+f;if(30<y){var _=f-f%5;y=(u&(1<<_)-1).toString(32),u>>=_,f-=_,Js=1<<32-St(r)+f|o<<f|u,Zs=y+s}else Js=1<<y|o<<f|u,Zs=s}function Sm(s){s.return!==null&&(bi(s,1),ob(s,1,0))}function Am(s){for(;s===yh;)yh=yo[--vo],yo[vo]=null,ic=yo[--vo],yo[vo]=null;for(;s===cr;)cr=ts[--ns],ts[ns]=null,Zs=ts[--ns],ts[ns]=null,Js=ts[--ns],ts[ns]=null}function lb(s,r){ts[ns++]=Js,ts[ns++]=Zs,ts[ns++]=cr,Js=r.id,Zs=r.overflow,cr=s}var nn=null,dt=null,Qe=!1,ur=null,ss=!1,Cm=Error(i(519));function hr(s){var r=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw rc(es(r,s)),Cm}function cb(s){var r=s.stateNode,o=s.type,u=s.memoizedProps;switch(r[Dt]=s,r[Yt]=u,o){case"dialog":He("cancel",r),He("close",r);break;case"iframe":case"object":case"embed":He("load",r);break;case"video":case"audio":for(o=0;o<Cc.length;o++)He(Cc[o],r);break;case"source":He("error",r);break;case"img":case"image":case"link":He("error",r),He("load",r);break;case"details":He("toggle",r);break;case"input":He("invalid",r),Xu(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":He("invalid",r);break;case"textarea":He("invalid",r),nr(r,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||A1(r.textContent,o)?(u.popover!=null&&(He("beforetoggle",r),He("toggle",r)),u.onScroll!=null&&He("scroll",r),u.onScrollEnd!=null&&He("scrollend",r),u.onClick!=null&&(r.onclick=vs),r=!0):r=!1,r||hr(s,!0)}function ub(s){for(nn=s.return;nn;)switch(nn.tag){case 5:case 31:case 13:ss=!1;return;case 27:case 3:ss=!0;return;default:nn=nn.return}}function bo(s){if(s!==nn)return!1;if(!Qe)return ub(s),Qe=!0,!1;var r=s.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=s.type,o=!(o!=="form"&&o!=="button")||Gp(s.type,s.memoizedProps)),o=!o),o&&dt&&hr(s),ub(s),r===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));dt=V1(s)}else if(r===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));dt=V1(s)}else r===27?(r=dt,Sr(s.type)?(s=Xp,Xp=null,dt=s):dt=r):dt=nn?rs(s.stateNode.nextSibling):null;return!0}function xa(){dt=nn=null,Qe=!1}function km(){var s=ur;return s!==null&&(In===null?In=s:In.push.apply(In,s),ur=null),s}function rc(s){ur===null?ur=[s]:ur.push(s)}var Nm=z(null),_a=null,xi=null;function dr(s,r,o){ce(Nm,r._currentValue),r._currentValue=o}function _i(s){s._currentValue=Nm.current,te(Nm)}function Rm(s,r,o){for(;s!==null;){var u=s.alternate;if((s.childLanes&r)!==r?(s.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),s===o)break;s=s.return}}function Im(s,r,o,u){var f=s.child;for(f!==null&&(f.return=s);f!==null;){var y=f.dependencies;if(y!==null){var _=f.child;y=y.firstContext;e:for(;y!==null;){var A=y;y=f;for(var L=0;L<r.length;L++)if(A.context===r[L]){y.lanes|=o,A=y.alternate,A!==null&&(A.lanes|=o),Rm(y.return,o,s),u||(_=null);break e}y=A.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(i(341));_.lanes|=o,y=_.alternate,y!==null&&(y.lanes|=o),Rm(_,o,s),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===s){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function xo(s,r,o,u){s=null;for(var f=r,y=!1;f!==null;){if(!y){if((f.flags&524288)!==0)y=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(i(387));if(_=_.memoizedProps,_!==null){var A=f.type;Ln(f.pendingProps.value,_.value)||(s!==null?s.push(A):s=[A])}}else if(f===le.current){if(_=f.alternate,_===null)throw Error(i(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(s!==null?s.push(Dc):s=[Dc])}f=f.return}s!==null&&Im(r,s,o,u),r.flags|=262144}function vh(s){for(s=s.firstContext;s!==null;){if(!Ln(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function wa(s){_a=s,xi=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function sn(s){return hb(_a,s)}function bh(s,r){return _a===null&&wa(s),hb(s,r)}function hb(s,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},xi===null){if(s===null)throw Error(i(308));xi=r,s.dependencies={lanes:0,firstContext:r},s.flags|=524288}else xi=xi.next=r;return o}var Kk=typeof AbortController<"u"?AbortController:function(){var s=[],r=this.signal={aborted:!1,addEventListener:function(o,u){s.push(u)}};this.abort=function(){r.aborted=!0,s.forEach(function(o){return o()})}},Yk=t.unstable_scheduleCallback,Qk=t.unstable_NormalPriority,Vt={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Dm(){return{controller:new Kk,data:new Map,refCount:0}}function ac(s){s.refCount--,s.refCount===0&&Yk(Qk,function(){s.controller.abort()})}var oc=null,jm=0,_o=0,wo=null;function Xk(s,r){if(oc===null){var o=oc=[];jm=0,_o=Op(),wo={status:"pending",value:void 0,then:function(u){o.push(u)}}}return jm++,r.then(db,db),r}function db(){if(--jm===0&&oc!==null){wo!==null&&(wo.status="fulfilled");var s=oc;oc=null,_o=0,wo=null;for(var r=0;r<s.length;r++)(0,s[r])()}}function Wk(s,r){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return s.then(function(){u.status="fulfilled",u.value=r;for(var f=0;f<o.length;f++)(0,o[f])(r)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var fb=q.S;q.S=function(s,r){Xx=bn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&Xk(s,r),fb!==null&&fb(s,r)};var Ta=z(null);function Mm(){var s=Ta.current;return s!==null?s:ct.pooledCache}function xh(s,r){r===null?ce(Ta,Ta.current):ce(Ta,r.pool)}function mb(){var s=Mm();return s===null?null:{parent:Vt._currentValue,pool:s}}var To=Error(i(460)),Vm=Error(i(474)),_h=Error(i(542)),wh={then:function(){}};function pb(s){return s=s.status,s==="fulfilled"||s==="rejected"}function gb(s,r,o){switch(o=s[o],o===void 0?s.push(r):o!==r&&(r.then(vs,vs),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,vb(s),s;default:if(typeof r.status=="string")r.then(vs,vs);else{if(s=ct,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=r,s.status="pending",s.then(function(u){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=u}},function(u){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,vb(s),s}throw Sa=r,To}}function Ea(s){try{var r=s._init;return r(s._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Sa=o,To):o}}var Sa=null;function yb(){if(Sa===null)throw Error(i(459));var s=Sa;return Sa=null,s}function vb(s){if(s===To||s===_h)throw Error(i(483))}var Eo=null,lc=0;function Th(s){var r=lc;return lc+=1,Eo===null&&(Eo=[]),gb(Eo,s,r)}function cc(s,r){r=r.props.ref,s.ref=r!==void 0?r:null}function Eh(s,r){throw r.$$typeof===w?Error(i(525)):(s=Object.prototype.toString.call(r),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":s)))}function bb(s){function r(H,B){if(s){var K=H.deletions;K===null?(H.deletions=[B],H.flags|=16):K.push(B)}}function o(H,B){if(!s)return null;for(;B!==null;)r(H,B),B=B.sibling;return null}function u(H){for(var B=new Map;H!==null;)H.key!==null?B.set(H.key,H):B.set(H.index,H),H=H.sibling;return B}function f(H,B){return H=vi(H,B),H.index=0,H.sibling=null,H}function y(H,B,K){return H.index=K,s?(K=H.alternate,K!==null?(K=K.index,K<B?(H.flags|=67108866,B):K):(H.flags|=67108866,B)):(H.flags|=1048576,B)}function _(H){return s&&H.alternate===null&&(H.flags|=67108866),H}function A(H,B,K,ne){return B===null||B.tag!==6?(B=Tm(K,H.mode,ne),B.return=H,B):(B=f(B,K),B.return=H,B)}function L(H,B,K,ne){var Se=K.type;return Se===P?Z(H,B,K.props.children,ne,K.key):B!==null&&(B.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===E&&Ea(Se)===B.type)?(B=f(B,K.props),cc(B,K),B.return=H,B):(B=gh(K.type,K.key,K.props,null,H.mode,ne),cc(B,K),B.return=H,B)}function Y(H,B,K,ne){return B===null||B.tag!==4||B.stateNode.containerInfo!==K.containerInfo||B.stateNode.implementation!==K.implementation?(B=Em(K,H.mode,ne),B.return=H,B):(B=f(B,K.children||[]),B.return=H,B)}function Z(H,B,K,ne,Se){return B===null||B.tag!==7?(B=ba(K,H.mode,ne,Se),B.return=H,B):(B=f(B,K),B.return=H,B)}function ie(H,B,K){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=Tm(""+B,H.mode,K),B.return=H,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case C:return K=gh(B.type,B.key,B.props,null,H.mode,K),cc(K,B),K.return=H,K;case M:return B=Em(B,H.mode,K),B.return=H,B;case E:return B=Ea(B),ie(H,B,K)}if(_e(B)||V(B))return B=ba(B,H.mode,K,null),B.return=H,B;if(typeof B.then=="function")return ie(H,Th(B),K);if(B.$$typeof===$)return ie(H,bh(H,B),K);Eh(H,B)}return null}function Q(H,B,K,ne){var Se=B!==null?B.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return Se!==null?null:A(H,B,""+K,ne);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case C:return K.key===Se?L(H,B,K,ne):null;case M:return K.key===Se?Y(H,B,K,ne):null;case E:return K=Ea(K),Q(H,B,K,ne)}if(_e(K)||V(K))return Se!==null?null:Z(H,B,K,ne,null);if(typeof K.then=="function")return Q(H,B,Th(K),ne);if(K.$$typeof===$)return Q(H,B,bh(H,K),ne);Eh(H,K)}return null}function W(H,B,K,ne,Se){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return H=H.get(K)||null,A(B,H,""+ne,Se);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case C:return H=H.get(ne.key===null?K:ne.key)||null,L(B,H,ne,Se);case M:return H=H.get(ne.key===null?K:ne.key)||null,Y(B,H,ne,Se);case E:return ne=Ea(ne),W(H,B,K,ne,Se)}if(_e(ne)||V(ne))return H=H.get(K)||null,Z(B,H,ne,Se,null);if(typeof ne.then=="function")return W(H,B,K,Th(ne),Se);if(ne.$$typeof===$)return W(H,B,K,bh(B,ne),Se);Eh(B,ne)}return null}function ge(H,B,K,ne){for(var Se=null,We=null,xe=B,ze=B=0,Ge=null;xe!==null&&ze<K.length;ze++){xe.index>ze?(Ge=xe,xe=null):Ge=xe.sibling;var Je=Q(H,xe,K[ze],ne);if(Je===null){xe===null&&(xe=Ge);break}s&&xe&&Je.alternate===null&&r(H,xe),B=y(Je,B,ze),We===null?Se=Je:We.sibling=Je,We=Je,xe=Ge}if(ze===K.length)return o(H,xe),Qe&&bi(H,ze),Se;if(xe===null){for(;ze<K.length;ze++)xe=ie(H,K[ze],ne),xe!==null&&(B=y(xe,B,ze),We===null?Se=xe:We.sibling=xe,We=xe);return Qe&&bi(H,ze),Se}for(xe=u(xe);ze<K.length;ze++)Ge=W(xe,H,ze,K[ze],ne),Ge!==null&&(s&&Ge.alternate!==null&&xe.delete(Ge.key===null?ze:Ge.key),B=y(Ge,B,ze),We===null?Se=Ge:We.sibling=Ge,We=Ge);return s&&xe.forEach(function(Rr){return r(H,Rr)}),Qe&&bi(H,ze),Se}function ke(H,B,K,ne){if(K==null)throw Error(i(151));for(var Se=null,We=null,xe=B,ze=B=0,Ge=null,Je=K.next();xe!==null&&!Je.done;ze++,Je=K.next()){xe.index>ze?(Ge=xe,xe=null):Ge=xe.sibling;var Rr=Q(H,xe,Je.value,ne);if(Rr===null){xe===null&&(xe=Ge);break}s&&xe&&Rr.alternate===null&&r(H,xe),B=y(Rr,B,ze),We===null?Se=Rr:We.sibling=Rr,We=Rr,xe=Ge}if(Je.done)return o(H,xe),Qe&&bi(H,ze),Se;if(xe===null){for(;!Je.done;ze++,Je=K.next())Je=ie(H,Je.value,ne),Je!==null&&(B=y(Je,B,ze),We===null?Se=Je:We.sibling=Je,We=Je);return Qe&&bi(H,ze),Se}for(xe=u(xe);!Je.done;ze++,Je=K.next())Je=W(xe,H,ze,Je.value,ne),Je!==null&&(s&&Je.alternate!==null&&xe.delete(Je.key===null?ze:Je.key),B=y(Je,B,ze),We===null?Se=Je:We.sibling=Je,We=Je);return s&&xe.forEach(function(lR){return r(H,lR)}),Qe&&bi(H,ze),Se}function lt(H,B,K,ne){if(typeof K=="object"&&K!==null&&K.type===P&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case C:e:{for(var Se=K.key;B!==null;){if(B.key===Se){if(Se=K.type,Se===P){if(B.tag===7){o(H,B.sibling),ne=f(B,K.props.children),ne.return=H,H=ne;break e}}else if(B.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===E&&Ea(Se)===B.type){o(H,B.sibling),ne=f(B,K.props),cc(ne,K),ne.return=H,H=ne;break e}o(H,B);break}else r(H,B);B=B.sibling}K.type===P?(ne=ba(K.props.children,H.mode,ne,K.key),ne.return=H,H=ne):(ne=gh(K.type,K.key,K.props,null,H.mode,ne),cc(ne,K),ne.return=H,H=ne)}return _(H);case M:e:{for(Se=K.key;B!==null;){if(B.key===Se)if(B.tag===4&&B.stateNode.containerInfo===K.containerInfo&&B.stateNode.implementation===K.implementation){o(H,B.sibling),ne=f(B,K.children||[]),ne.return=H,H=ne;break e}else{o(H,B);break}else r(H,B);B=B.sibling}ne=Em(K,H.mode,ne),ne.return=H,H=ne}return _(H);case E:return K=Ea(K),lt(H,B,K,ne)}if(_e(K))return ge(H,B,K,ne);if(V(K)){if(Se=V(K),typeof Se!="function")throw Error(i(150));return K=Se.call(K),ke(H,B,K,ne)}if(typeof K.then=="function")return lt(H,B,Th(K),ne);if(K.$$typeof===$)return lt(H,B,bh(H,K),ne);Eh(H,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,B!==null&&B.tag===6?(o(H,B.sibling),ne=f(B,K),ne.return=H,H=ne):(o(H,B),ne=Tm(K,H.mode,ne),ne.return=H,H=ne),_(H)):o(H,B)}return function(H,B,K,ne){try{lc=0;var Se=lt(H,B,K,ne);return Eo=null,Se}catch(xe){if(xe===To||xe===_h)throw xe;var We=Un(29,xe,null,H.mode);return We.lanes=ne,We.return=H,We}}}var Aa=bb(!0),xb=bb(!1),fr=!1;function Om(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Pm(s,r){s=s.updateQueue,r.updateQueue===s&&(r.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function mr(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function pr(s,r,o){var u=s.updateQueue;if(u===null)return null;if(u=u.shared,(et&2)!==0){var f=u.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),u.pending=r,r=ph(s),sb(s,null,o),r}return mh(s,u,r,o),ph(s)}function uc(s,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=s.pendingLanes,o|=u,r.lanes=o,Pl(s,o)}}function Lm(s,r){var o=s.updateQueue,u=s.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,y=null;if(o=o.firstBaseUpdate,o!==null){do{var _={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};y===null?f=y=_:y=y.next=_,o=o.next}while(o!==null);y===null?f=y=r:y=y.next=r}else f=y=r;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:y,shared:u.shared,callbacks:u.callbacks},s.updateQueue=o;return}s=o.lastBaseUpdate,s===null?o.firstBaseUpdate=r:s.next=r,o.lastBaseUpdate=r}var Um=!1;function hc(){if(Um){var s=wo;if(s!==null)throw s}}function dc(s,r,o,u){Um=!1;var f=s.updateQueue;fr=!1;var y=f.firstBaseUpdate,_=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var L=A,Y=L.next;L.next=null,_===null?y=Y:_.next=Y,_=L;var Z=s.alternate;Z!==null&&(Z=Z.updateQueue,A=Z.lastBaseUpdate,A!==_&&(A===null?Z.firstBaseUpdate=Y:A.next=Y,Z.lastBaseUpdate=L))}if(y!==null){var ie=f.baseState;_=0,Z=Y=L=null,A=y;do{var Q=A.lane&-536870913,W=Q!==A.lane;if(W?(qe&Q)===Q:(u&Q)===Q){Q!==0&&Q===_o&&(Um=!0),Z!==null&&(Z=Z.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var ge=s,ke=A;Q=r;var lt=o;switch(ke.tag){case 1:if(ge=ke.payload,typeof ge=="function"){ie=ge.call(lt,ie,Q);break e}ie=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=ke.payload,Q=typeof ge=="function"?ge.call(lt,ie,Q):ge,Q==null)break e;ie=b({},ie,Q);break e;case 2:fr=!0}}Q=A.callback,Q!==null&&(s.flags|=64,W&&(s.flags|=8192),W=f.callbacks,W===null?f.callbacks=[Q]:W.push(Q))}else W={lane:Q,tag:A.tag,payload:A.payload,callback:A.callback,next:null},Z===null?(Y=Z=W,L=ie):Z=Z.next=W,_|=Q;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;W=A,A=W.next,W.next=null,f.lastBaseUpdate=W,f.shared.pending=null}}while(!0);Z===null&&(L=ie),f.baseState=L,f.firstBaseUpdate=Y,f.lastBaseUpdate=Z,y===null&&(f.shared.lanes=0),xr|=_,s.lanes=_,s.memoizedState=ie}}function _b(s,r){if(typeof s!="function")throw Error(i(191,s));s.call(r)}function wb(s,r){var o=s.callbacks;if(o!==null)for(s.callbacks=null,s=0;s<o.length;s++)_b(o[s],r)}var So=z(null),Sh=z(0);function Tb(s,r){s=Ri,ce(Sh,s),ce(So,r),Ri=s|r.baseLanes}function zm(){ce(Sh,Ri),ce(So,So.current)}function Bm(){Ri=Sh.current,te(So),te(Sh)}var zn=z(null),is=null;function gr(s){var r=s.alternate;ce(Ct,Ct.current&1),ce(zn,s),is===null&&(r===null||So.current!==null||r.memoizedState!==null)&&(is=s)}function Fm(s){ce(Ct,Ct.current),ce(zn,s),is===null&&(is=s)}function Eb(s){s.tag===22?(ce(Ct,Ct.current),ce(zn,s),is===null&&(is=s)):yr()}function yr(){ce(Ct,Ct.current),ce(zn,zn.current)}function Bn(s){te(zn),is===s&&(is=null),te(Ct)}var Ct=z(0);function Ah(s){for(var r=s;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Yp(o)||Qp(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var wi=0,Ue=null,at=null,Ot=null,Ch=!1,Ao=!1,Ca=!1,kh=0,fc=0,Co=null,Jk=0;function _t(){throw Error(i(321))}function Hm(s,r){if(r===null)return!1;for(var o=0;o<r.length&&o<s.length;o++)if(!Ln(s[o],r[o]))return!1;return!0}function qm(s,r,o,u,f,y){return wi=y,Ue=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,q.H=s===null||s.memoizedState===null?ox:rp,Ca=!1,y=o(u,f),Ca=!1,Ao&&(y=Ab(r,o,u,f)),Sb(s),y}function Sb(s){q.H=gc;var r=at!==null&&at.next!==null;if(wi=0,Ot=at=Ue=null,Ch=!1,fc=0,Co=null,r)throw Error(i(300));s===null||Pt||(s=s.dependencies,s!==null&&vh(s)&&(Pt=!0))}function Ab(s,r,o,u){Ue=s;var f=0;do{if(Ao&&(Co=null),fc=0,Ao=!1,25<=f)throw Error(i(301));if(f+=1,Ot=at=null,s.updateQueue!=null){var y=s.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}q.H=lx,y=r(o,u)}while(Ao);return y}function Zk(){var s=q.H,r=s.useState()[0];return r=typeof r.then=="function"?mc(r):r,s=s.useState()[0],(at!==null?at.memoizedState:null)!==s&&(Ue.flags|=1024),r}function Gm(){var s=kh!==0;return kh=0,s}function $m(s,r,o){r.updateQueue=s.updateQueue,r.flags&=-2053,s.lanes&=~o}function Km(s){if(Ch){for(s=s.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}Ch=!1}wi=0,Ot=at=Ue=null,Ao=!1,fc=kh=0,Co=null}function _n(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?Ue.memoizedState=Ot=s:Ot=Ot.next=s,Ot}function kt(){if(at===null){var s=Ue.alternate;s=s!==null?s.memoizedState:null}else s=at.next;var r=Ot===null?Ue.memoizedState:Ot.next;if(r!==null)Ot=r,at=s;else{if(s===null)throw Ue.alternate===null?Error(i(467)):Error(i(310));at=s,s={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},Ot===null?Ue.memoizedState=Ot=s:Ot=Ot.next=s}return Ot}function Nh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function mc(s){var r=fc;return fc+=1,Co===null&&(Co=[]),s=gb(Co,s,r),r=Ue,(Ot===null?r.memoizedState:Ot.next)===null&&(r=r.alternate,q.H=r===null||r.memoizedState===null?ox:rp),s}function Rh(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return mc(s);if(s.$$typeof===$)return sn(s)}throw Error(i(438,String(s)))}function Ym(s){var r=null,o=Ue.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=Ue.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=Nh(),Ue.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(s),u=0;u<s;u++)o[u]=I;return r.index++,o}function Ti(s,r){return typeof r=="function"?r(s):r}function Ih(s){var r=kt();return Qm(r,at,s)}function Qm(s,r,o){var u=s.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var f=s.baseQueue,y=u.pending;if(y!==null){if(f!==null){var _=f.next;f.next=y.next,y.next=_}r.baseQueue=f=y,u.pending=null}if(y=s.baseState,f===null)s.memoizedState=y;else{r=f.next;var A=_=null,L=null,Y=r,Z=!1;do{var ie=Y.lane&-536870913;if(ie!==Y.lane?(qe&ie)===ie:(wi&ie)===ie){var Q=Y.revertLane;if(Q===0)L!==null&&(L=L.next={lane:0,revertLane:0,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),ie===_o&&(Z=!0);else if((wi&Q)===Q){Y=Y.next,Q===_o&&(Z=!0);continue}else ie={lane:0,revertLane:Y.revertLane,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},L===null?(A=L=ie,_=y):L=L.next=ie,Ue.lanes|=Q,xr|=Q;ie=Y.action,Ca&&o(y,ie),y=Y.hasEagerState?Y.eagerState:o(y,ie)}else Q={lane:ie,revertLane:Y.revertLane,gesture:Y.gesture,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},L===null?(A=L=Q,_=y):L=L.next=Q,Ue.lanes|=ie,xr|=ie;Y=Y.next}while(Y!==null&&Y!==r);if(L===null?_=y:L.next=A,!Ln(y,s.memoizedState)&&(Pt=!0,Z&&(o=wo,o!==null)))throw o;s.memoizedState=y,s.baseState=_,s.baseQueue=L,u.lastRenderedState=y}return f===null&&(u.lanes=0),[s.memoizedState,u.dispatch]}function Xm(s){var r=kt(),o=r.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=s;var u=o.dispatch,f=o.pending,y=r.memoizedState;if(f!==null){o.pending=null;var _=f=f.next;do y=s(y,_.action),_=_.next;while(_!==f);Ln(y,r.memoizedState)||(Pt=!0),r.memoizedState=y,r.baseQueue===null&&(r.baseState=y),o.lastRenderedState=y}return[y,u]}function Cb(s,r,o){var u=Ue,f=kt(),y=Qe;if(y){if(o===void 0)throw Error(i(407));o=o()}else o=r();var _=!Ln((at||f).memoizedState,o);if(_&&(f.memoizedState=o,Pt=!0),f=f.queue,Zm(Rb.bind(null,u,f,s),[s]),f.getSnapshot!==r||_||Ot!==null&&Ot.memoizedState.tag&1){if(u.flags|=2048,ko(9,{destroy:void 0},Nb.bind(null,u,f,o,r),null),ct===null)throw Error(i(349));y||(wi&127)!==0||kb(u,r,o)}return o}function kb(s,r,o){s.flags|=16384,s={getSnapshot:r,value:o},r=Ue.updateQueue,r===null?(r=Nh(),Ue.updateQueue=r,r.stores=[s]):(o=r.stores,o===null?r.stores=[s]:o.push(s))}function Nb(s,r,o,u){r.value=o,r.getSnapshot=u,Ib(r)&&Db(s)}function Rb(s,r,o){return o(function(){Ib(r)&&Db(s)})}function Ib(s){var r=s.getSnapshot;s=s.value;try{var o=r();return!Ln(s,o)}catch{return!0}}function Db(s){var r=va(s,2);r!==null&&Dn(r,s,2)}function Wm(s){var r=_n();if(typeof s=="function"){var o=s;if(s=o(),Ca){Yn(!0);try{o()}finally{Yn(!1)}}}return r.memoizedState=r.baseState=s,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ti,lastRenderedState:s},r}function jb(s,r,o,u){return s.baseState=o,Qm(s,at,typeof u=="function"?u:Ti)}function eN(s,r,o,u,f){if(Mh(s))throw Error(i(485));if(s=r.action,s!==null){var y={payload:f,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){y.listeners.push(_)}};q.T!==null?o(!0):y.isTransition=!1,u(y),o=r.pending,o===null?(y.next=r.pending=y,Mb(r,y)):(y.next=o.next,r.pending=o.next=y)}}function Mb(s,r){var o=r.action,u=r.payload,f=s.state;if(r.isTransition){var y=q.T,_={};q.T=_;try{var A=o(f,u),L=q.S;L!==null&&L(_,A),Vb(s,r,A)}catch(Y){Jm(s,r,Y)}finally{y!==null&&_.types!==null&&(y.types=_.types),q.T=y}}else try{y=o(f,u),Vb(s,r,y)}catch(Y){Jm(s,r,Y)}}function Vb(s,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){Ob(s,r,u)},function(u){return Jm(s,r,u)}):Ob(s,r,o)}function Ob(s,r,o){r.status="fulfilled",r.value=o,Pb(r),s.state=o,r=s.pending,r!==null&&(o=r.next,o===r?s.pending=null:(o=o.next,r.next=o,Mb(s,o)))}function Jm(s,r,o){var u=s.pending;if(s.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,Pb(r),r=r.next;while(r!==u)}s.action=null}function Pb(s){s=s.listeners;for(var r=0;r<s.length;r++)(0,s[r])()}function Lb(s,r){return r}function Ub(s,r){if(Qe){var o=ct.formState;if(o!==null){e:{var u=Ue;if(Qe){if(dt){t:{for(var f=dt,y=ss;f.nodeType!==8;){if(!y){f=null;break t}if(f=rs(f.nextSibling),f===null){f=null;break t}}y=f.data,f=y==="F!"||y==="F"?f:null}if(f){dt=rs(f.nextSibling),u=f.data==="F!";break e}}hr(u)}u=!1}u&&(r=o[0])}}return o=_n(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lb,lastRenderedState:r},o.queue=u,o=ix.bind(null,Ue,u),u.dispatch=o,u=Wm(!1),y=ip.bind(null,Ue,!1,u.queue),u=_n(),f={state:r,dispatch:null,action:s,pending:null},u.queue=f,o=eN.bind(null,Ue,f,y,o),f.dispatch=o,u.memoizedState=s,[r,o,!1]}function zb(s){var r=kt();return Bb(r,at,s)}function Bb(s,r,o){if(r=Qm(s,r,Lb)[0],s=Ih(Ti)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=mc(r)}catch(_){throw _===To?_h:_}else u=r;r=kt();var f=r.queue,y=f.dispatch;return o!==r.memoizedState&&(Ue.flags|=2048,ko(9,{destroy:void 0},tN.bind(null,f,o),null)),[u,y,s]}function tN(s,r){s.action=r}function Fb(s){var r=kt(),o=at;if(o!==null)return Bb(r,o,s);kt(),r=r.memoizedState,o=kt();var u=o.queue.dispatch;return o.memoizedState=s,[r,u,!1]}function ko(s,r,o,u){return s={tag:s,create:o,deps:u,inst:r,next:null},r=Ue.updateQueue,r===null&&(r=Nh(),Ue.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=s.next=s:(u=o.next,o.next=s,s.next=u,r.lastEffect=s),s}function Hb(){return kt().memoizedState}function Dh(s,r,o,u){var f=_n();Ue.flags|=s,f.memoizedState=ko(1|r,{destroy:void 0},o,u===void 0?null:u)}function jh(s,r,o,u){var f=kt();u=u===void 0?null:u;var y=f.memoizedState.inst;at!==null&&u!==null&&Hm(u,at.memoizedState.deps)?f.memoizedState=ko(r,y,o,u):(Ue.flags|=s,f.memoizedState=ko(1|r,y,o,u))}function qb(s,r){Dh(8390656,8,s,r)}function Zm(s,r){jh(2048,8,s,r)}function nN(s){Ue.flags|=4;var r=Ue.updateQueue;if(r===null)r=Nh(),Ue.updateQueue=r,r.events=[s];else{var o=r.events;o===null?r.events=[s]:o.push(s)}}function Gb(s){var r=kt().memoizedState;return nN({ref:r,nextImpl:s}),function(){if((et&2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}function $b(s,r){return jh(4,2,s,r)}function Kb(s,r){return jh(4,4,s,r)}function Yb(s,r){if(typeof r=="function"){s=s();var o=r(s);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return s=s(),r.current=s,function(){r.current=null}}function Qb(s,r,o){o=o!=null?o.concat([s]):null,jh(4,4,Yb.bind(null,r,s),o)}function ep(){}function Xb(s,r){var o=kt();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&Hm(r,u[1])?u[0]:(o.memoizedState=[s,r],s)}function Wb(s,r){var o=kt();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&Hm(r,u[1]))return u[0];if(u=s(),Ca){Yn(!0);try{s()}finally{Yn(!1)}}return o.memoizedState=[u,r],u}function tp(s,r,o){return o===void 0||(wi&1073741824)!==0&&(qe&261930)===0?s.memoizedState=r:(s.memoizedState=o,s=Jx(),Ue.lanes|=s,xr|=s,o)}function Jb(s,r,o,u){return Ln(o,r)?o:So.current!==null?(s=tp(s,o,u),Ln(s,r)||(Pt=!0),s):(wi&42)===0||(wi&1073741824)!==0&&(qe&261930)===0?(Pt=!0,s.memoizedState=o):(s=Jx(),Ue.lanes|=s,xr|=s,r)}function Zb(s,r,o,u,f){var y=ee.p;ee.p=y!==0&&8>y?y:8;var _=q.T,A={};q.T=A,ip(s,!1,r,o);try{var L=f(),Y=q.S;if(Y!==null&&Y(A,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var Z=Wk(L,u);pc(s,r,Z,qn(s))}else pc(s,r,u,qn(s))}catch(ie){pc(s,r,{then:function(){},status:"rejected",reason:ie},qn())}finally{ee.p=y,_!==null&&A.types!==null&&(_.types=A.types),q.T=_}}function sN(){}function np(s,r,o,u){if(s.tag!==5)throw Error(i(476));var f=ex(s).queue;Zb(s,f,r,J,o===null?sN:function(){return tx(s),o(u)})}function ex(s){var r=s.memoizedState;if(r!==null)return r;r={memoizedState:J,baseState:J,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ti,lastRenderedState:J},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ti,lastRenderedState:o},next:null},s.memoizedState=r,s=s.alternate,s!==null&&(s.memoizedState=r),r}function tx(s){var r=ex(s);r.next===null&&(r=s.alternate.memoizedState),pc(s,r.next.queue,{},qn())}function sp(){return sn(Dc)}function nx(){return kt().memoizedState}function sx(){return kt().memoizedState}function iN(s){for(var r=s.return;r!==null;){switch(r.tag){case 24:case 3:var o=qn();s=mr(o);var u=pr(r,s,o);u!==null&&(Dn(u,r,o),uc(u,r,o)),r={cache:Dm()},s.payload=r;return}r=r.return}}function rN(s,r,o){var u=qn();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Mh(s)?rx(r,o):(o=_m(s,r,o,u),o!==null&&(Dn(o,s,u),ax(o,r,u)))}function ix(s,r,o){var u=qn();pc(s,r,o,u)}function pc(s,r,o,u){var f={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Mh(s))rx(r,f);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=r.lastRenderedReducer,y!==null))try{var _=r.lastRenderedState,A=y(_,o);if(f.hasEagerState=!0,f.eagerState=A,Ln(A,_))return mh(s,r,f,0),ct===null&&fh(),!1}catch{}if(o=_m(s,r,f,u),o!==null)return Dn(o,s,u),ax(o,r,u),!0}return!1}function ip(s,r,o,u){if(u={lane:2,revertLane:Op(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Mh(s)){if(r)throw Error(i(479))}else r=_m(s,o,u,2),r!==null&&Dn(r,s,2)}function Mh(s){var r=s.alternate;return s===Ue||r!==null&&r===Ue}function rx(s,r){Ao=Ch=!0;var o=s.pending;o===null?r.next=r:(r.next=o.next,o.next=r),s.pending=r}function ax(s,r,o){if((o&4194048)!==0){var u=r.lanes;u&=s.pendingLanes,o|=u,r.lanes=o,Pl(s,o)}}var gc={readContext:sn,use:Rh,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useLayoutEffect:_t,useInsertionEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useSyncExternalStore:_t,useId:_t,useHostTransitionStatus:_t,useFormState:_t,useActionState:_t,useOptimistic:_t,useMemoCache:_t,useCacheRefresh:_t};gc.useEffectEvent=_t;var ox={readContext:sn,use:Rh,useCallback:function(s,r){return _n().memoizedState=[s,r===void 0?null:r],s},useContext:sn,useEffect:qb,useImperativeHandle:function(s,r,o){o=o!=null?o.concat([s]):null,Dh(4194308,4,Yb.bind(null,r,s),o)},useLayoutEffect:function(s,r){return Dh(4194308,4,s,r)},useInsertionEffect:function(s,r){Dh(4,2,s,r)},useMemo:function(s,r){var o=_n();r=r===void 0?null:r;var u=s();if(Ca){Yn(!0);try{s()}finally{Yn(!1)}}return o.memoizedState=[u,r],u},useReducer:function(s,r,o){var u=_n();if(o!==void 0){var f=o(r);if(Ca){Yn(!0);try{o(r)}finally{Yn(!1)}}}else f=r;return u.memoizedState=u.baseState=f,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:f},u.queue=s,s=s.dispatch=rN.bind(null,Ue,s),[u.memoizedState,s]},useRef:function(s){var r=_n();return s={current:s},r.memoizedState=s},useState:function(s){s=Wm(s);var r=s.queue,o=ix.bind(null,Ue,r);return r.dispatch=o,[s.memoizedState,o]},useDebugValue:ep,useDeferredValue:function(s,r){var o=_n();return tp(o,s,r)},useTransition:function(){var s=Wm(!1);return s=Zb.bind(null,Ue,s.queue,!0,!1),_n().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,r,o){var u=Ue,f=_n();if(Qe){if(o===void 0)throw Error(i(407));o=o()}else{if(o=r(),ct===null)throw Error(i(349));(qe&127)!==0||kb(u,r,o)}f.memoizedState=o;var y={value:o,getSnapshot:r};return f.queue=y,qb(Rb.bind(null,u,y,s),[s]),u.flags|=2048,ko(9,{destroy:void 0},Nb.bind(null,u,y,o,r),null),o},useId:function(){var s=_n(),r=ct.identifierPrefix;if(Qe){var o=Zs,u=Js;o=(u&~(1<<32-St(u)-1)).toString(32)+o,r="_"+r+"R_"+o,o=kh++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=Jk++,r="_"+r+"r_"+o.toString(32)+"_";return s.memoizedState=r},useHostTransitionStatus:sp,useFormState:Ub,useActionState:Ub,useOptimistic:function(s){var r=_n();r.memoizedState=r.baseState=s;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=ip.bind(null,Ue,!0,o),o.dispatch=r,[s,r]},useMemoCache:Ym,useCacheRefresh:function(){return _n().memoizedState=iN.bind(null,Ue)},useEffectEvent:function(s){var r=_n(),o={impl:s};return r.memoizedState=o,function(){if((et&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}},rp={readContext:sn,use:Rh,useCallback:Xb,useContext:sn,useEffect:Zm,useImperativeHandle:Qb,useInsertionEffect:$b,useLayoutEffect:Kb,useMemo:Wb,useReducer:Ih,useRef:Hb,useState:function(){return Ih(Ti)},useDebugValue:ep,useDeferredValue:function(s,r){var o=kt();return Jb(o,at.memoizedState,s,r)},useTransition:function(){var s=Ih(Ti)[0],r=kt().memoizedState;return[typeof s=="boolean"?s:mc(s),r]},useSyncExternalStore:Cb,useId:nx,useHostTransitionStatus:sp,useFormState:zb,useActionState:zb,useOptimistic:function(s,r){var o=kt();return jb(o,at,s,r)},useMemoCache:Ym,useCacheRefresh:sx};rp.useEffectEvent=Gb;var lx={readContext:sn,use:Rh,useCallback:Xb,useContext:sn,useEffect:Zm,useImperativeHandle:Qb,useInsertionEffect:$b,useLayoutEffect:Kb,useMemo:Wb,useReducer:Xm,useRef:Hb,useState:function(){return Xm(Ti)},useDebugValue:ep,useDeferredValue:function(s,r){var o=kt();return at===null?tp(o,s,r):Jb(o,at.memoizedState,s,r)},useTransition:function(){var s=Xm(Ti)[0],r=kt().memoizedState;return[typeof s=="boolean"?s:mc(s),r]},useSyncExternalStore:Cb,useId:nx,useHostTransitionStatus:sp,useFormState:Fb,useActionState:Fb,useOptimistic:function(s,r){var o=kt();return at!==null?jb(o,at,s,r):(o.baseState=s,[s,o.queue.dispatch])},useMemoCache:Ym,useCacheRefresh:sx};lx.useEffectEvent=Gb;function ap(s,r,o,u){r=s.memoizedState,o=o(u,r),o=o==null?r:b({},r,o),s.memoizedState=o,s.lanes===0&&(s.updateQueue.baseState=o)}var op={enqueueSetState:function(s,r,o){s=s._reactInternals;var u=qn(),f=mr(u);f.payload=r,o!=null&&(f.callback=o),r=pr(s,f,u),r!==null&&(Dn(r,s,u),uc(r,s,u))},enqueueReplaceState:function(s,r,o){s=s._reactInternals;var u=qn(),f=mr(u);f.tag=1,f.payload=r,o!=null&&(f.callback=o),r=pr(s,f,u),r!==null&&(Dn(r,s,u),uc(r,s,u))},enqueueForceUpdate:function(s,r){s=s._reactInternals;var o=qn(),u=mr(o);u.tag=2,r!=null&&(u.callback=r),r=pr(s,u,o),r!==null&&(Dn(r,s,o),uc(r,s,o))}};function cx(s,r,o,u,f,y,_){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(u,y,_):r.prototype&&r.prototype.isPureReactComponent?!nc(o,u)||!nc(f,y):!0}function ux(s,r,o,u){s=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==s&&op.enqueueReplaceState(r,r.state,null)}function ka(s,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(s=s.defaultProps){o===r&&(o=b({},o));for(var f in s)o[f]===void 0&&(o[f]=s[f])}return o}function hx(s){dh(s)}function dx(s){console.error(s)}function fx(s){dh(s)}function Vh(s,r){try{var o=s.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function mx(s,r,o){try{var u=s.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function lp(s,r,o){return o=mr(o),o.tag=3,o.payload={element:null},o.callback=function(){Vh(s,r)},o}function px(s){return s=mr(s),s.tag=3,s}function gx(s,r,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var y=u.value;s.payload=function(){return f(y)},s.callback=function(){mx(r,o,u)}}var _=o.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(s.callback=function(){mx(r,o,u),typeof f!="function"&&(_r===null?_r=new Set([this]):_r.add(this));var A=u.stack;this.componentDidCatch(u.value,{componentStack:A!==null?A:""})})}function aN(s,r,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&xo(r,o,f,!0),o=zn.current,o!==null){switch(o.tag){case 31:case 13:return is===null?Kh():o.alternate===null&&wt===0&&(wt=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===wh?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),jp(s,u,f)),!1;case 22:return o.flags|=65536,u===wh?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),jp(s,u,f)),!1}throw Error(i(435,o.tag))}return jp(s,u,f),Kh(),!1}if(Qe)return r=zn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,u!==Cm&&(s=Error(i(422),{cause:u}),rc(es(s,o)))):(u!==Cm&&(r=Error(i(423),{cause:u}),rc(es(r,o))),s=s.current.alternate,s.flags|=65536,f&=-f,s.lanes|=f,u=es(u,o),f=lp(s.stateNode,u,f),Lm(s,f),wt!==4&&(wt=2)),!1;var y=Error(i(520),{cause:u});if(y=es(y,o),Ec===null?Ec=[y]:Ec.push(y),wt!==4&&(wt=2),r===null)return!0;u=es(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,s=f&-f,o.lanes|=s,s=lp(o.stateNode,u,s),Lm(o,s),!1;case 1:if(r=o.type,y=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(_r===null||!_r.has(y))))return o.flags|=65536,f&=-f,o.lanes|=f,f=px(f),gx(f,s,o,u),Lm(o,f),!1}o=o.return}while(o!==null);return!1}var cp=Error(i(461)),Pt=!1;function rn(s,r,o,u){r.child=s===null?xb(r,null,o,u):Aa(r,s.child,o,u)}function yx(s,r,o,u,f){o=o.render;var y=r.ref;if("ref"in u){var _={};for(var A in u)A!=="ref"&&(_[A]=u[A])}else _=u;return wa(r),u=qm(s,r,o,_,y,f),A=Gm(),s!==null&&!Pt?($m(s,r,f),Ei(s,r,f)):(Qe&&A&&Sm(r),r.flags|=1,rn(s,r,u,f),r.child)}function vx(s,r,o,u,f){if(s===null){var y=o.type;return typeof y=="function"&&!wm(y)&&y.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=y,bx(s,r,y,u,f)):(s=gh(o.type,null,u,r,r.mode,f),s.ref=r.ref,s.return=r,r.child=s)}if(y=s.child,!yp(s,f)){var _=y.memoizedProps;if(o=o.compare,o=o!==null?o:nc,o(_,u)&&s.ref===r.ref)return Ei(s,r,f)}return r.flags|=1,s=vi(y,u),s.ref=r.ref,s.return=r,r.child=s}function bx(s,r,o,u,f){if(s!==null){var y=s.memoizedProps;if(nc(y,u)&&s.ref===r.ref)if(Pt=!1,r.pendingProps=u=y,yp(s,f))(s.flags&131072)!==0&&(Pt=!0);else return r.lanes=s.lanes,Ei(s,r,f)}return up(s,r,o,u,f)}function xx(s,r,o,u){var f=u.children,y=s!==null?s.memoizedState:null;if(s===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(y=y!==null?y.baseLanes|o:o,s!==null){for(u=r.child=s.child,f=0;u!==null;)f=f|u.lanes|u.childLanes,u=u.sibling;u=f&~y}else u=0,r.child=null;return _x(s,r,y,o,u)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},s!==null&&xh(r,y!==null?y.cachePool:null),y!==null?Tb(r,y):zm(),Eb(r);else return u=r.lanes=536870912,_x(s,r,y!==null?y.baseLanes|o:o,o,u)}else y!==null?(xh(r,y.cachePool),Tb(r,y),yr(),r.memoizedState=null):(s!==null&&xh(r,null),zm(),yr());return rn(s,r,f,o),r.child}function yc(s,r){return s!==null&&s.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function _x(s,r,o,u,f){var y=Mm();return y=y===null?null:{parent:Vt._currentValue,pool:y},r.memoizedState={baseLanes:o,cachePool:y},s!==null&&xh(r,null),zm(),Eb(r),s!==null&&xo(s,r,u,!0),r.childLanes=f,null}function Oh(s,r){return r=Lh({mode:r.mode,children:r.children},s.mode),r.ref=s.ref,s.child=r,r.return=s,r}function wx(s,r,o){return Aa(r,s.child,null,o),s=Oh(r,r.pendingProps),s.flags|=2,Bn(r),r.memoizedState=null,s}function oN(s,r,o){var u=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,s===null){if(Qe){if(u.mode==="hidden")return s=Oh(r,u),r.lanes=536870912,yc(null,s);if(Fm(r),(s=dt)?(s=M1(s,ss),s=s!==null&&s.data==="&"?s:null,s!==null&&(r.memoizedState={dehydrated:s,treeContext:cr!==null?{id:Js,overflow:Zs}:null,retryLane:536870912,hydrationErrors:null},o=rb(s),o.return=r,r.child=o,nn=r,dt=null)):s=null,s===null)throw hr(r);return r.lanes=536870912,null}return Oh(r,u)}var y=s.memoizedState;if(y!==null){var _=y.dehydrated;if(Fm(r),f)if(r.flags&256)r.flags&=-257,r=wx(s,r,o);else if(r.memoizedState!==null)r.child=s.child,r.flags|=128,r=null;else throw Error(i(558));else if(Pt||xo(s,r,o,!1),f=(o&s.childLanes)!==0,Pt||f){if(u=ct,u!==null&&(_=Ll(u,o),_!==0&&_!==y.retryLane))throw y.retryLane=_,va(s,_),Dn(u,s,_),cp;Kh(),r=wx(s,r,o)}else s=y.treeContext,dt=rs(_.nextSibling),nn=r,Qe=!0,ur=null,ss=!1,s!==null&&lb(r,s),r=Oh(r,u),r.flags|=4096;return r}return s=vi(s.child,{mode:u.mode,children:u.children}),s.ref=r.ref,r.child=s,s.return=r,s}function Ph(s,r){var o=r.ref;if(o===null)s!==null&&s.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(s===null||s.ref!==o)&&(r.flags|=4194816)}}function up(s,r,o,u,f){return wa(r),o=qm(s,r,o,u,void 0,f),u=Gm(),s!==null&&!Pt?($m(s,r,f),Ei(s,r,f)):(Qe&&u&&Sm(r),r.flags|=1,rn(s,r,o,f),r.child)}function Tx(s,r,o,u,f,y){return wa(r),r.updateQueue=null,o=Ab(r,u,o,f),Sb(s),u=Gm(),s!==null&&!Pt?($m(s,r,y),Ei(s,r,y)):(Qe&&u&&Sm(r),r.flags|=1,rn(s,r,o,y),r.child)}function Ex(s,r,o,u,f){if(wa(r),r.stateNode===null){var y=go,_=o.contextType;typeof _=="object"&&_!==null&&(y=sn(_)),y=new o(u,y),r.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=op,r.stateNode=y,y._reactInternals=r,y=r.stateNode,y.props=u,y.state=r.memoizedState,y.refs={},Om(r),_=o.contextType,y.context=typeof _=="object"&&_!==null?sn(_):go,y.state=r.memoizedState,_=o.getDerivedStateFromProps,typeof _=="function"&&(ap(r,o,_,u),y.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(_=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),_!==y.state&&op.enqueueReplaceState(y,y.state,null),dc(r,u,y,f),hc(),y.state=r.memoizedState),typeof y.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(s===null){y=r.stateNode;var A=r.memoizedProps,L=ka(o,A);y.props=L;var Y=y.context,Z=o.contextType;_=go,typeof Z=="object"&&Z!==null&&(_=sn(Z));var ie=o.getDerivedStateFromProps;Z=typeof ie=="function"||typeof y.getSnapshotBeforeUpdate=="function",A=r.pendingProps!==A,Z||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(A||Y!==_)&&ux(r,y,u,_),fr=!1;var Q=r.memoizedState;y.state=Q,dc(r,u,y,f),hc(),Y=r.memoizedState,A||Q!==Y||fr?(typeof ie=="function"&&(ap(r,o,ie,u),Y=r.memoizedState),(L=fr||cx(r,o,L,u,Q,Y,_))?(Z||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(r.flags|=4194308)):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=Y),y.props=u,y.state=Y,y.context=_,u=L):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{y=r.stateNode,Pm(s,r),_=r.memoizedProps,Z=ka(o,_),y.props=Z,ie=r.pendingProps,Q=y.context,Y=o.contextType,L=go,typeof Y=="object"&&Y!==null&&(L=sn(Y)),A=o.getDerivedStateFromProps,(Y=typeof A=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(_!==ie||Q!==L)&&ux(r,y,u,L),fr=!1,Q=r.memoizedState,y.state=Q,dc(r,u,y,f),hc();var W=r.memoizedState;_!==ie||Q!==W||fr||s!==null&&s.dependencies!==null&&vh(s.dependencies)?(typeof A=="function"&&(ap(r,o,A,u),W=r.memoizedState),(Z=fr||cx(r,o,Z,u,Q,W,L)||s!==null&&s.dependencies!==null&&vh(s.dependencies))?(Y||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,W,L),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,W,L)),typeof y.componentDidUpdate=="function"&&(r.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof y.componentDidUpdate!="function"||_===s.memoizedProps&&Q===s.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||_===s.memoizedProps&&Q===s.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=W),y.props=u,y.state=W,y.context=L,u=Z):(typeof y.componentDidUpdate!="function"||_===s.memoizedProps&&Q===s.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||_===s.memoizedProps&&Q===s.memoizedState||(r.flags|=1024),u=!1)}return y=u,Ph(s,r),u=(r.flags&128)!==0,y||u?(y=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:y.render(),r.flags|=1,s!==null&&u?(r.child=Aa(r,s.child,null,f),r.child=Aa(r,null,o,f)):rn(s,r,o,f),r.memoizedState=y.state,s=r.child):s=Ei(s,r,f),s}function Sx(s,r,o,u){return xa(),r.flags|=256,rn(s,r,o,u),r.child}var hp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function dp(s){return{baseLanes:s,cachePool:mb()}}function fp(s,r,o){return s=s!==null?s.childLanes&~o:0,r&&(s|=Hn),s}function Ax(s,r,o){var u=r.pendingProps,f=!1,y=(r.flags&128)!==0,_;if((_=y)||(_=s!==null&&s.memoizedState===null?!1:(Ct.current&2)!==0),_&&(f=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,s===null){if(Qe){if(f?gr(r):yr(),(s=dt)?(s=M1(s,ss),s=s!==null&&s.data!=="&"?s:null,s!==null&&(r.memoizedState={dehydrated:s,treeContext:cr!==null?{id:Js,overflow:Zs}:null,retryLane:536870912,hydrationErrors:null},o=rb(s),o.return=r,r.child=o,nn=r,dt=null)):s=null,s===null)throw hr(r);return Qp(s)?r.lanes=32:r.lanes=536870912,null}var A=u.children;return u=u.fallback,f?(yr(),f=r.mode,A=Lh({mode:"hidden",children:A},f),u=ba(u,f,o,null),A.return=r,u.return=r,A.sibling=u,r.child=A,u=r.child,u.memoizedState=dp(o),u.childLanes=fp(s,_,o),r.memoizedState=hp,yc(null,u)):(gr(r),mp(r,A))}var L=s.memoizedState;if(L!==null&&(A=L.dehydrated,A!==null)){if(y)r.flags&256?(gr(r),r.flags&=-257,r=pp(s,r,o)):r.memoizedState!==null?(yr(),r.child=s.child,r.flags|=128,r=null):(yr(),A=u.fallback,f=r.mode,u=Lh({mode:"visible",children:u.children},f),A=ba(A,f,o,null),A.flags|=2,u.return=r,A.return=r,u.sibling=A,r.child=u,Aa(r,s.child,null,o),u=r.child,u.memoizedState=dp(o),u.childLanes=fp(s,_,o),r.memoizedState=hp,r=yc(null,u));else if(gr(r),Qp(A)){if(_=A.nextSibling&&A.nextSibling.dataset,_)var Y=_.dgst;_=Y,u=Error(i(419)),u.stack="",u.digest=_,rc({value:u,source:null,stack:null}),r=pp(s,r,o)}else if(Pt||xo(s,r,o,!1),_=(o&s.childLanes)!==0,Pt||_){if(_=ct,_!==null&&(u=Ll(_,o),u!==0&&u!==L.retryLane))throw L.retryLane=u,va(s,u),Dn(_,s,u),cp;Yp(A)||Kh(),r=pp(s,r,o)}else Yp(A)?(r.flags|=192,r.child=s.child,r=null):(s=L.treeContext,dt=rs(A.nextSibling),nn=r,Qe=!0,ur=null,ss=!1,s!==null&&lb(r,s),r=mp(r,u.children),r.flags|=4096);return r}return f?(yr(),A=u.fallback,f=r.mode,L=s.child,Y=L.sibling,u=vi(L,{mode:"hidden",children:u.children}),u.subtreeFlags=L.subtreeFlags&65011712,Y!==null?A=vi(Y,A):(A=ba(A,f,o,null),A.flags|=2),A.return=r,u.return=r,u.sibling=A,r.child=u,yc(null,u),u=r.child,A=s.child.memoizedState,A===null?A=dp(o):(f=A.cachePool,f!==null?(L=Vt._currentValue,f=f.parent!==L?{parent:L,pool:L}:f):f=mb(),A={baseLanes:A.baseLanes|o,cachePool:f}),u.memoizedState=A,u.childLanes=fp(s,_,o),r.memoizedState=hp,yc(s.child,u)):(gr(r),o=s.child,s=o.sibling,o=vi(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,s!==null&&(_=r.deletions,_===null?(r.deletions=[s],r.flags|=16):_.push(s)),r.child=o,r.memoizedState=null,o)}function mp(s,r){return r=Lh({mode:"visible",children:r},s.mode),r.return=s,s.child=r}function Lh(s,r){return s=Un(22,s,null,r),s.lanes=0,s}function pp(s,r,o){return Aa(r,s.child,null,o),s=mp(r,r.pendingProps.children),s.flags|=2,r.memoizedState=null,s}function Cx(s,r,o){s.lanes|=r;var u=s.alternate;u!==null&&(u.lanes|=r),Rm(s.return,r,o)}function gp(s,r,o,u,f,y){var _=s.memoizedState;_===null?s.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f,treeForkCount:y}:(_.isBackwards=r,_.rendering=null,_.renderingStartTime=0,_.last=u,_.tail=o,_.tailMode=f,_.treeForkCount=y)}function kx(s,r,o){var u=r.pendingProps,f=u.revealOrder,y=u.tail;u=u.children;var _=Ct.current,A=(_&2)!==0;if(A?(_=_&1|2,r.flags|=128):_&=1,ce(Ct,_),rn(s,r,u,o),u=Qe?ic:0,!A&&s!==null&&(s.flags&128)!==0)e:for(s=r.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Cx(s,o,r);else if(s.tag===19)Cx(s,o,r);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(f){case"forwards":for(o=r.child,f=null;o!==null;)s=o.alternate,s!==null&&Ah(s)===null&&(f=o),o=o.sibling;o=f,o===null?(f=r.child,r.child=null):(f=o.sibling,o.sibling=null),gp(r,!1,f,o,y,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,f=r.child,r.child=null;f!==null;){if(s=f.alternate,s!==null&&Ah(s)===null){r.child=f;break}s=f.sibling,f.sibling=o,o=f,f=s}gp(r,!0,o,null,y,u);break;case"together":gp(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function Ei(s,r,o){if(s!==null&&(r.dependencies=s.dependencies),xr|=r.lanes,(o&r.childLanes)===0)if(s!==null){if(xo(s,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(s!==null&&r.child!==s.child)throw Error(i(153));if(r.child!==null){for(s=r.child,o=vi(s,s.pendingProps),r.child=o,o.return=r;s.sibling!==null;)s=s.sibling,o=o.sibling=vi(s,s.pendingProps),o.return=r;o.sibling=null}return r.child}function yp(s,r){return(s.lanes&r)!==0?!0:(s=s.dependencies,!!(s!==null&&vh(s)))}function lN(s,r,o){switch(r.tag){case 3:Ne(r,r.stateNode.containerInfo),dr(r,Vt,s.memoizedState.cache),xa();break;case 27:case 5:xt(r);break;case 4:Ne(r,r.stateNode.containerInfo);break;case 10:dr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Fm(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(gr(r),r.flags|=128,null):(o&r.child.childLanes)!==0?Ax(s,r,o):(gr(r),s=Ei(s,r,o),s!==null?s.sibling:null);gr(r);break;case 19:var f=(s.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(xo(s,r,o,!1),u=(o&r.childLanes)!==0),f){if(u)return kx(s,r,o);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ce(Ct,Ct.current),u)break;return null;case 22:return r.lanes=0,xx(s,r,o,r.pendingProps);case 24:dr(r,Vt,s.memoizedState.cache)}return Ei(s,r,o)}function Nx(s,r,o){if(s!==null)if(s.memoizedProps!==r.pendingProps)Pt=!0;else{if(!yp(s,o)&&(r.flags&128)===0)return Pt=!1,lN(s,r,o);Pt=(s.flags&131072)!==0}else Pt=!1,Qe&&(r.flags&1048576)!==0&&ob(r,ic,r.index);switch(r.lanes=0,r.tag){case 16:e:{var u=r.pendingProps;if(s=Ea(r.elementType),r.type=s,typeof s=="function")wm(s)?(u=ka(s,u),r.tag=1,r=Ex(null,r,s,u,o)):(r.tag=0,r=up(null,r,s,u,o));else{if(s!=null){var f=s.$$typeof;if(f===oe){r.tag=11,r=yx(null,r,s,u,o);break e}else if(f===j){r.tag=14,r=vx(null,r,s,u,o);break e}}throw r=pe(s)||s,Error(i(306,r,""))}}return r;case 0:return up(s,r,r.type,r.pendingProps,o);case 1:return u=r.type,f=ka(u,r.pendingProps),Ex(s,r,u,f,o);case 3:e:{if(Ne(r,r.stateNode.containerInfo),s===null)throw Error(i(387));u=r.pendingProps;var y=r.memoizedState;f=y.element,Pm(s,r),dc(r,u,null,o);var _=r.memoizedState;if(u=_.cache,dr(r,Vt,u),u!==y.cache&&Im(r,[Vt],o,!0),hc(),u=_.element,y.isDehydrated)if(y={element:u,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=y,r.memoizedState=y,r.flags&256){r=Sx(s,r,u,o);break e}else if(u!==f){f=es(Error(i(424)),r),rc(f),r=Sx(s,r,u,o);break e}else for(s=r.stateNode.containerInfo,s.nodeType===9?s=s.body:s=s.nodeName==="HTML"?s.ownerDocument.body:s,dt=rs(s.firstChild),nn=r,Qe=!0,ur=null,ss=!0,o=xb(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(xa(),u===f){r=Ei(s,r,o);break e}rn(s,r,u,o)}r=r.child}return r;case 26:return Ph(s,r),s===null?(o=z1(r.type,null,r.pendingProps,null))?r.memoizedState=o:Qe||(o=r.type,s=r.pendingProps,u=ed(Ie.current).createElement(o),u[Dt]=r,u[Yt]=s,an(u,o,s),jt(u),r.stateNode=u):r.memoizedState=z1(r.type,s.memoizedProps,r.pendingProps,s.memoizedState),null;case 27:return xt(r),s===null&&Qe&&(u=r.stateNode=P1(r.type,r.pendingProps,Ie.current),nn=r,ss=!0,f=dt,Sr(r.type)?(Xp=f,dt=rs(u.firstChild)):dt=f),rn(s,r,r.pendingProps.children,o),Ph(s,r),s===null&&(r.flags|=4194304),r.child;case 5:return s===null&&Qe&&((f=u=dt)&&(u=LN(u,r.type,r.pendingProps,ss),u!==null?(r.stateNode=u,nn=r,dt=rs(u.firstChild),ss=!1,f=!0):f=!1),f||hr(r)),xt(r),f=r.type,y=r.pendingProps,_=s!==null?s.memoizedProps:null,u=y.children,Gp(f,y)?u=null:_!==null&&Gp(f,_)&&(r.flags|=32),r.memoizedState!==null&&(f=qm(s,r,Zk,null,null,o),Dc._currentValue=f),Ph(s,r),rn(s,r,u,o),r.child;case 6:return s===null&&Qe&&((s=o=dt)&&(o=UN(o,r.pendingProps,ss),o!==null?(r.stateNode=o,nn=r,dt=null,s=!0):s=!1),s||hr(r)),null;case 13:return Ax(s,r,o);case 4:return Ne(r,r.stateNode.containerInfo),u=r.pendingProps,s===null?r.child=Aa(r,null,u,o):rn(s,r,u,o),r.child;case 11:return yx(s,r,r.type,r.pendingProps,o);case 7:return rn(s,r,r.pendingProps,o),r.child;case 8:return rn(s,r,r.pendingProps.children,o),r.child;case 12:return rn(s,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,dr(r,r.type,u.value),rn(s,r,u.children,o),r.child;case 9:return f=r.type._context,u=r.pendingProps.children,wa(r),f=sn(f),u=u(f),r.flags|=1,rn(s,r,u,o),r.child;case 14:return vx(s,r,r.type,r.pendingProps,o);case 15:return bx(s,r,r.type,r.pendingProps,o);case 19:return kx(s,r,o);case 31:return oN(s,r,o);case 22:return xx(s,r,o,r.pendingProps);case 24:return wa(r),u=sn(Vt),s===null?(f=Mm(),f===null&&(f=ct,y=Dm(),f.pooledCache=y,y.refCount++,y!==null&&(f.pooledCacheLanes|=o),f=y),r.memoizedState={parent:u,cache:f},Om(r),dr(r,Vt,f)):((s.lanes&o)!==0&&(Pm(s,r),dc(r,null,null,o),hc()),f=s.memoizedState,y=r.memoizedState,f.parent!==u?(f={parent:u,cache:u},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),dr(r,Vt,u)):(u=y.cache,dr(r,Vt,u),u!==f.cache&&Im(r,[Vt],o,!0))),rn(s,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function Si(s){s.flags|=4}function vp(s,r,o,u,f){if((r=(s.mode&32)!==0)&&(r=!1),r){if(s.flags|=16777216,(f&335544128)===f)if(s.stateNode.complete)s.flags|=8192;else if(n1())s.flags|=8192;else throw Sa=wh,Vm}else s.flags&=-16777217}function Rx(s,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!G1(r))if(n1())s.flags|=8192;else throw Sa=wh,Vm}function Uh(s,r){r!==null&&(s.flags|=4),s.flags&16384&&(r=s.tag!==22?Gu():536870912,s.lanes|=r,Do|=r)}function vc(s,r){if(!Qe)switch(s.tailMode){case"hidden":r=s.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?s.tail=null:o.sibling=null;break;case"collapsed":o=s.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||s.tail===null?s.tail=null:s.tail.sibling=null:u.sibling=null}}function ft(s){var r=s.alternate!==null&&s.alternate.child===s.child,o=0,u=0;if(r)for(var f=s.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=s,f=f.sibling;else for(f=s.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=s,f=f.sibling;return s.subtreeFlags|=u,s.childLanes=o,r}function cN(s,r,o){var u=r.pendingProps;switch(Am(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(r),null;case 1:return ft(r),null;case 3:return o=r.stateNode,u=null,s!==null&&(u=s.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),_i(Vt),je(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(s===null||s.child===null)&&(bo(r)?Si(r):s===null||s.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,km())),ft(r),null;case 26:var f=r.type,y=r.memoizedState;return s===null?(Si(r),y!==null?(ft(r),Rx(r,y)):(ft(r),vp(r,f,null,u,o))):y?y!==s.memoizedState?(Si(r),ft(r),Rx(r,y)):(ft(r),r.flags&=-16777217):(s=s.memoizedProps,s!==u&&Si(r),ft(r),vp(r,f,s,u,o)),null;case 27:if(En(r),o=Ie.current,f=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==u&&Si(r);else{if(!u){if(r.stateNode===null)throw Error(i(166));return ft(r),null}s=he.current,bo(r)?cb(r):(s=P1(f,u,o),r.stateNode=s,Si(r))}return ft(r),null;case 5:if(En(r),f=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==u&&Si(r);else{if(!u){if(r.stateNode===null)throw Error(i(166));return ft(r),null}if(y=he.current,bo(r))cb(r);else{var _=ed(Ie.current);switch(y){case 1:y=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:y=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":y=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":y=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":y=_.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof u.is=="string"?_.createElement("select",{is:u.is}):_.createElement("select"),u.multiple?y.multiple=!0:u.size&&(y.size=u.size);break;default:y=typeof u.is=="string"?_.createElement(f,{is:u.is}):_.createElement(f)}}y[Dt]=r,y[Yt]=u;e:for(_=r.child;_!==null;){if(_.tag===5||_.tag===6)y.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===r)break e;for(;_.sibling===null;){if(_.return===null||_.return===r)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}r.stateNode=y;e:switch(an(y,f,u),f){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Si(r)}}return ft(r),vp(r,r.type,s===null?null:s.memoizedProps,r.pendingProps,o),null;case 6:if(s&&r.stateNode!=null)s.memoizedProps!==u&&Si(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(i(166));if(s=Ie.current,bo(r)){if(s=r.stateNode,o=r.memoizedProps,u=null,f=nn,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}s[Dt]=r,s=!!(s.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||A1(s.nodeValue,o)),s||hr(r,!0)}else s=ed(s).createTextNode(u),s[Dt]=r,r.stateNode=s}return ft(r),null;case 31:if(o=r.memoizedState,s===null||s.memoizedState!==null){if(u=bo(r),o!==null){if(s===null){if(!u)throw Error(i(318));if(s=r.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(557));s[Dt]=r}else xa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ft(r),s=!1}else o=km(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=o),s=!0;if(!s)return r.flags&256?(Bn(r),r):(Bn(r),null);if((r.flags&128)!==0)throw Error(i(558))}return ft(r),null;case 13:if(u=r.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(f=bo(r),u!==null&&u.dehydrated!==null){if(s===null){if(!f)throw Error(i(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[Dt]=r}else xa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ft(r),f=!1}else f=km(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(Bn(r),r):(Bn(r),null)}return Bn(r),(r.flags&128)!==0?(r.lanes=o,r):(o=u!==null,s=s!==null&&s.memoizedState!==null,o&&(u=r.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool),y=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==f&&(u.flags|=2048)),o!==s&&o&&(r.child.flags|=8192),Uh(r,r.updateQueue),ft(r),null);case 4:return je(),s===null&&zp(r.stateNode.containerInfo),ft(r),null;case 10:return _i(r.type),ft(r),null;case 19:if(te(Ct),u=r.memoizedState,u===null)return ft(r),null;if(f=(r.flags&128)!==0,y=u.rendering,y===null)if(f)vc(u,!1);else{if(wt!==0||s!==null&&(s.flags&128)!==0)for(s=r.child;s!==null;){if(y=Ah(s),y!==null){for(r.flags|=128,vc(u,!1),s=y.updateQueue,r.updateQueue=s,Uh(r,s),r.subtreeFlags=0,s=o,o=r.child;o!==null;)ib(o,s),o=o.sibling;return ce(Ct,Ct.current&1|2),Qe&&bi(r,u.treeForkCount),r.child}s=s.sibling}u.tail!==null&&bn()>qh&&(r.flags|=128,f=!0,vc(u,!1),r.lanes=4194304)}else{if(!f)if(s=Ah(y),s!==null){if(r.flags|=128,f=!0,s=s.updateQueue,r.updateQueue=s,Uh(r,s),vc(u,!0),u.tail===null&&u.tailMode==="hidden"&&!y.alternate&&!Qe)return ft(r),null}else 2*bn()-u.renderingStartTime>qh&&o!==536870912&&(r.flags|=128,f=!0,vc(u,!1),r.lanes=4194304);u.isBackwards?(y.sibling=r.child,r.child=y):(s=u.last,s!==null?s.sibling=y:r.child=y,u.last=y)}return u.tail!==null?(s=u.tail,u.rendering=s,u.tail=s.sibling,u.renderingStartTime=bn(),s.sibling=null,o=Ct.current,ce(Ct,f?o&1|2:o&1),Qe&&bi(r,u.treeForkCount),s):(ft(r),null);case 22:case 23:return Bn(r),Bm(),u=r.memoizedState!==null,s!==null?s.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(ft(r),r.subtreeFlags&6&&(r.flags|=8192)):ft(r),o=r.updateQueue,o!==null&&Uh(r,o.retryQueue),o=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),s!==null&&te(Ta),null;case 24:return o=null,s!==null&&(o=s.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),_i(Vt),ft(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function uN(s,r){switch(Am(r),r.tag){case 1:return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 3:return _i(Vt),je(),s=r.flags,(s&65536)!==0&&(s&128)===0?(r.flags=s&-65537|128,r):null;case 26:case 27:case 5:return En(r),null;case 31:if(r.memoizedState!==null){if(Bn(r),r.alternate===null)throw Error(i(340));xa()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 13:if(Bn(r),s=r.memoizedState,s!==null&&s.dehydrated!==null){if(r.alternate===null)throw Error(i(340));xa()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 19:return te(Ct),null;case 4:return je(),null;case 10:return _i(r.type),null;case 22:case 23:return Bn(r),Bm(),s!==null&&te(Ta),s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 24:return _i(Vt),null;case 25:return null;default:return null}}function Ix(s,r){switch(Am(r),r.tag){case 3:_i(Vt),je();break;case 26:case 27:case 5:En(r);break;case 4:je();break;case 31:r.memoizedState!==null&&Bn(r);break;case 13:Bn(r);break;case 19:te(Ct);break;case 10:_i(r.type);break;case 22:case 23:Bn(r),Bm(),s!==null&&te(Ta);break;case 24:_i(Vt)}}function bc(s,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&s)===s){u=void 0;var y=o.create,_=o.inst;u=y(),_.destroy=u}o=o.next}while(o!==f)}}catch(A){it(r,r.return,A)}}function vr(s,r,o){try{var u=r.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var y=f.next;u=y;do{if((u.tag&s)===s){var _=u.inst,A=_.destroy;if(A!==void 0){_.destroy=void 0,f=r;var L=o,Y=A;try{Y()}catch(Z){it(f,L,Z)}}}u=u.next}while(u!==y)}}catch(Z){it(r,r.return,Z)}}function Dx(s){var r=s.updateQueue;if(r!==null){var o=s.stateNode;try{wb(r,o)}catch(u){it(s,s.return,u)}}}function jx(s,r,o){o.props=ka(s.type,s.memoizedProps),o.state=s.memoizedState;try{o.componentWillUnmount()}catch(u){it(s,r,u)}}function xc(s,r){try{var o=s.ref;if(o!==null){switch(s.tag){case 26:case 27:case 5:var u=s.stateNode;break;case 30:u=s.stateNode;break;default:u=s.stateNode}typeof o=="function"?s.refCleanup=o(u):o.current=u}}catch(f){it(s,r,f)}}function ei(s,r){var o=s.ref,u=s.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){it(s,r,f)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){it(s,r,f)}else o.current=null}function Mx(s){var r=s.type,o=s.memoizedProps,u=s.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){it(s,s.return,f)}}function bp(s,r,o){try{var u=s.stateNode;DN(u,s.type,o,r),u[Yt]=r}catch(f){it(s,s.return,f)}}function Vx(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Sr(s.type)||s.tag===4}function xp(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Vx(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Sr(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function _p(s,r,o){var u=s.tag;if(u===5||u===6)s=s.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(s,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(s),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=vs));else if(u!==4&&(u===27&&Sr(s.type)&&(o=s.stateNode,r=null),s=s.child,s!==null))for(_p(s,r,o),s=s.sibling;s!==null;)_p(s,r,o),s=s.sibling}function zh(s,r,o){var u=s.tag;if(u===5||u===6)s=s.stateNode,r?o.insertBefore(s,r):o.appendChild(s);else if(u!==4&&(u===27&&Sr(s.type)&&(o=s.stateNode),s=s.child,s!==null))for(zh(s,r,o),s=s.sibling;s!==null;)zh(s,r,o),s=s.sibling}function Ox(s){var r=s.stateNode,o=s.memoizedProps;try{for(var u=s.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);an(r,u,o),r[Dt]=s,r[Yt]=o}catch(y){it(s,s.return,y)}}var Ai=!1,Lt=!1,wp=!1,Px=typeof WeakSet=="function"?WeakSet:Set,Xt=null;function hN(s,r){if(s=s.containerInfo,Hp=od,s=Qv(s),pm(s)){if("selectionStart"in s)var o={start:s.selectionStart,end:s.selectionEnd};else e:{o=(o=s.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,y=u.focusNode;u=u.focusOffset;try{o.nodeType,y.nodeType}catch{o=null;break e}var _=0,A=-1,L=-1,Y=0,Z=0,ie=s,Q=null;t:for(;;){for(var W;ie!==o||f!==0&&ie.nodeType!==3||(A=_+f),ie!==y||u!==0&&ie.nodeType!==3||(L=_+u),ie.nodeType===3&&(_+=ie.nodeValue.length),(W=ie.firstChild)!==null;)Q=ie,ie=W;for(;;){if(ie===s)break t;if(Q===o&&++Y===f&&(A=_),Q===y&&++Z===u&&(L=_),(W=ie.nextSibling)!==null)break;ie=Q,Q=ie.parentNode}ie=W}o=A===-1||L===-1?null:{start:A,end:L}}else o=null}o=o||{start:0,end:0}}else o=null;for(qp={focusedElem:s,selectionRange:o},od=!1,Xt=r;Xt!==null;)if(r=Xt,s=r.child,(r.subtreeFlags&1028)!==0&&s!==null)s.return=r,Xt=s;else for(;Xt!==null;){switch(r=Xt,y=r.alternate,s=r.flags,r.tag){case 0:if((s&4)!==0&&(s=r.updateQueue,s=s!==null?s.events:null,s!==null))for(o=0;o<s.length;o++)f=s[o],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&y!==null){s=void 0,o=r,f=y.memoizedProps,y=y.memoizedState,u=o.stateNode;try{var ge=ka(o.type,f);s=u.getSnapshotBeforeUpdate(ge,y),u.__reactInternalSnapshotBeforeUpdate=s}catch(ke){it(o,o.return,ke)}}break;case 3:if((s&1024)!==0){if(s=r.stateNode.containerInfo,o=s.nodeType,o===9)Kp(s);else if(o===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Kp(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=r.sibling,s!==null){s.return=r.return,Xt=s;break}Xt=r.return}}function Lx(s,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:ki(s,o),u&4&&bc(5,o);break;case 1:if(ki(s,o),u&4)if(s=o.stateNode,r===null)try{s.componentDidMount()}catch(_){it(o,o.return,_)}else{var f=ka(o.type,r.memoizedProps);r=r.memoizedState;try{s.componentDidUpdate(f,r,s.__reactInternalSnapshotBeforeUpdate)}catch(_){it(o,o.return,_)}}u&64&&Dx(o),u&512&&xc(o,o.return);break;case 3:if(ki(s,o),u&64&&(s=o.updateQueue,s!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{wb(s,r)}catch(_){it(o,o.return,_)}}break;case 27:r===null&&u&4&&Ox(o);case 26:case 5:ki(s,o),r===null&&u&4&&Mx(o),u&512&&xc(o,o.return);break;case 12:ki(s,o);break;case 31:ki(s,o),u&4&&Bx(s,o);break;case 13:ki(s,o),u&4&&Fx(s,o),u&64&&(s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(o=xN.bind(null,o),zN(s,o))));break;case 22:if(u=o.memoizedState!==null||Ai,!u){r=r!==null&&r.memoizedState!==null||Lt,f=Ai;var y=Lt;Ai=u,(Lt=r)&&!y?Ni(s,o,(o.subtreeFlags&8772)!==0):ki(s,o),Ai=f,Lt=y}break;case 30:break;default:ki(s,o)}}function Ux(s){var r=s.alternate;r!==null&&(s.alternate=null,Ux(r)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(r=s.stateNode,r!==null&&to(r)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var gt=null,kn=!1;function Ci(s,r,o){for(o=o.child;o!==null;)zx(s,r,o),o=o.sibling}function zx(s,r,o){if(en&&typeof en.onCommitFiberUnmount=="function")try{en.onCommitFiberUnmount(ms,o)}catch{}switch(o.tag){case 26:Lt||ei(o,r),Ci(s,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Lt||ei(o,r);var u=gt,f=kn;Sr(o.type)&&(gt=o.stateNode,kn=!1),Ci(s,r,o),Nc(o.stateNode),gt=u,kn=f;break;case 5:Lt||ei(o,r);case 6:if(u=gt,f=kn,gt=null,Ci(s,r,o),gt=u,kn=f,gt!==null)if(kn)try{(gt.nodeType===9?gt.body:gt.nodeName==="HTML"?gt.ownerDocument.body:gt).removeChild(o.stateNode)}catch(y){it(o,r,y)}else try{gt.removeChild(o.stateNode)}catch(y){it(o,r,y)}break;case 18:gt!==null&&(kn?(s=gt,D1(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,o.stateNode),zo(s)):D1(gt,o.stateNode));break;case 4:u=gt,f=kn,gt=o.stateNode.containerInfo,kn=!0,Ci(s,r,o),gt=u,kn=f;break;case 0:case 11:case 14:case 15:vr(2,o,r),Lt||vr(4,o,r),Ci(s,r,o);break;case 1:Lt||(ei(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&jx(o,r,u)),Ci(s,r,o);break;case 21:Ci(s,r,o);break;case 22:Lt=(u=Lt)||o.memoizedState!==null,Ci(s,r,o),Lt=u;break;default:Ci(s,r,o)}}function Bx(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{zo(s)}catch(o){it(r,r.return,o)}}}function Fx(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{zo(s)}catch(o){it(r,r.return,o)}}function dN(s){switch(s.tag){case 31:case 13:case 19:var r=s.stateNode;return r===null&&(r=s.stateNode=new Px),r;case 22:return s=s.stateNode,r=s._retryCache,r===null&&(r=s._retryCache=new Px),r;default:throw Error(i(435,s.tag))}}function Bh(s,r){var o=dN(s);r.forEach(function(u){if(!o.has(u)){o.add(u);var f=_N.bind(null,s,u);u.then(f,f)}})}function Nn(s,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],y=s,_=r,A=_;e:for(;A!==null;){switch(A.tag){case 27:if(Sr(A.type)){gt=A.stateNode,kn=!1;break e}break;case 5:gt=A.stateNode,kn=!1;break e;case 3:case 4:gt=A.stateNode.containerInfo,kn=!0;break e}A=A.return}if(gt===null)throw Error(i(160));zx(y,_,f),gt=null,kn=!1,y=f.alternate,y!==null&&(y.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)Hx(r,s),r=r.sibling}var Es=null;function Hx(s,r){var o=s.alternate,u=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Nn(r,s),Rn(s),u&4&&(vr(3,s,s.return),bc(3,s),vr(5,s,s.return));break;case 1:Nn(r,s),Rn(s),u&512&&(Lt||o===null||ei(o,o.return)),u&64&&Ai&&(s=s.updateQueue,s!==null&&(u=s.callbacks,u!==null&&(o=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=Es;if(Nn(r,s),Rn(s),u&512&&(Lt||o===null||ei(o,o.return)),u&4){var y=o!==null?o.memoizedState:null;if(u=s.memoizedState,o===null)if(u===null)if(s.stateNode===null){e:{u=s.type,o=s.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":y=f.getElementsByTagName("title")[0],(!y||y[zs]||y[Dt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=f.createElement(u),f.head.insertBefore(y,f.querySelector("head > title"))),an(y,u,o),y[Dt]=s,jt(y),u=y;break e;case"link":var _=H1("link","href",f).get(u+(o.href||""));if(_){for(var A=0;A<_.length;A++)if(y=_[A],y.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&y.getAttribute("rel")===(o.rel==null?null:o.rel)&&y.getAttribute("title")===(o.title==null?null:o.title)&&y.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){_.splice(A,1);break t}}y=f.createElement(u),an(y,u,o),f.head.appendChild(y);break;case"meta":if(_=H1("meta","content",f).get(u+(o.content||""))){for(A=0;A<_.length;A++)if(y=_[A],y.getAttribute("content")===(o.content==null?null:""+o.content)&&y.getAttribute("name")===(o.name==null?null:o.name)&&y.getAttribute("property")===(o.property==null?null:o.property)&&y.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&y.getAttribute("charset")===(o.charSet==null?null:o.charSet)){_.splice(A,1);break t}}y=f.createElement(u),an(y,u,o),f.head.appendChild(y);break;default:throw Error(i(468,u))}y[Dt]=s,jt(y),u=y}s.stateNode=u}else q1(f,s.type,s.stateNode);else s.stateNode=F1(f,u,s.memoizedProps);else y!==u?(y===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):y.count--,u===null?q1(f,s.type,s.stateNode):F1(f,u,s.memoizedProps)):u===null&&s.stateNode!==null&&bp(s,s.memoizedProps,o.memoizedProps)}break;case 27:Nn(r,s),Rn(s),u&512&&(Lt||o===null||ei(o,o.return)),o!==null&&u&4&&bp(s,s.memoizedProps,o.memoizedProps);break;case 5:if(Nn(r,s),Rn(s),u&512&&(Lt||o===null||ei(o,o.return)),s.flags&32){f=s.stateNode;try{Cn(f,"")}catch(ge){it(s,s.return,ge)}}u&4&&s.stateNode!=null&&(f=s.memoizedProps,bp(s,f,o!==null?o.memoizedProps:f)),u&1024&&(wp=!0);break;case 6:if(Nn(r,s),Rn(s),u&4){if(s.stateNode===null)throw Error(i(162));u=s.memoizedProps,o=s.stateNode;try{o.nodeValue=u}catch(ge){it(s,s.return,ge)}}break;case 3:if(sd=null,f=Es,Es=td(r.containerInfo),Nn(r,s),Es=f,Rn(s),u&4&&o!==null&&o.memoizedState.isDehydrated)try{zo(r.containerInfo)}catch(ge){it(s,s.return,ge)}wp&&(wp=!1,qx(s));break;case 4:u=Es,Es=td(s.stateNode.containerInfo),Nn(r,s),Rn(s),Es=u;break;case 12:Nn(r,s),Rn(s);break;case 31:Nn(r,s),Rn(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Bh(s,u)));break;case 13:Nn(r,s),Rn(s),s.child.flags&8192&&s.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Hh=bn()),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Bh(s,u)));break;case 22:f=s.memoizedState!==null;var L=o!==null&&o.memoizedState!==null,Y=Ai,Z=Lt;if(Ai=Y||f,Lt=Z||L,Nn(r,s),Lt=Z,Ai=Y,Rn(s),u&8192)e:for(r=s.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(o===null||L||Ai||Lt||Na(s)),o=null,r=s;;){if(r.tag===5||r.tag===26){if(o===null){L=o=r;try{if(y=L.stateNode,f)_=y.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{A=L.stateNode;var ie=L.memoizedProps.style,Q=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;A.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(ge){it(L,L.return,ge)}}}else if(r.tag===6){if(o===null){L=r;try{L.stateNode.nodeValue=f?"":L.memoizedProps}catch(ge){it(L,L.return,ge)}}}else if(r.tag===18){if(o===null){L=r;try{var W=L.stateNode;f?j1(W,!0):j1(L.stateNode,!1)}catch(ge){it(L,L.return,ge)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===s)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=s.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Bh(s,o))));break;case 19:Nn(r,s),Rn(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Bh(s,u)));break;case 30:break;case 21:break;default:Nn(r,s),Rn(s)}}function Rn(s){var r=s.flags;if(r&2){try{for(var o,u=s.return;u!==null;){if(Vx(u)){o=u;break}u=u.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var f=o.stateNode,y=xp(s);zh(s,y,f);break;case 5:var _=o.stateNode;o.flags&32&&(Cn(_,""),o.flags&=-33);var A=xp(s);zh(s,A,_);break;case 3:case 4:var L=o.stateNode.containerInfo,Y=xp(s);_p(s,Y,L);break;default:throw Error(i(161))}}catch(Z){it(s,s.return,Z)}s.flags&=-3}r&4096&&(s.flags&=-4097)}function qx(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var r=s;qx(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),s=s.sibling}}function ki(s,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Lx(s,r.alternate,r),r=r.sibling}function Na(s){for(s=s.child;s!==null;){var r=s;switch(r.tag){case 0:case 11:case 14:case 15:vr(4,r,r.return),Na(r);break;case 1:ei(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&jx(r,r.return,o),Na(r);break;case 27:Nc(r.stateNode);case 26:case 5:ei(r,r.return),Na(r);break;case 22:r.memoizedState===null&&Na(r);break;case 30:Na(r);break;default:Na(r)}s=s.sibling}}function Ni(s,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,f=s,y=r,_=y.flags;switch(y.tag){case 0:case 11:case 15:Ni(f,y,o),bc(4,y);break;case 1:if(Ni(f,y,o),u=y,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(Y){it(u,u.return,Y)}if(u=y,f=u.updateQueue,f!==null){var A=u.stateNode;try{var L=f.shared.hiddenCallbacks;if(L!==null)for(f.shared.hiddenCallbacks=null,f=0;f<L.length;f++)_b(L[f],A)}catch(Y){it(u,u.return,Y)}}o&&_&64&&Dx(y),xc(y,y.return);break;case 27:Ox(y);case 26:case 5:Ni(f,y,o),o&&u===null&&_&4&&Mx(y),xc(y,y.return);break;case 12:Ni(f,y,o);break;case 31:Ni(f,y,o),o&&_&4&&Bx(f,y);break;case 13:Ni(f,y,o),o&&_&4&&Fx(f,y);break;case 22:y.memoizedState===null&&Ni(f,y,o),xc(y,y.return);break;case 30:break;default:Ni(f,y,o)}r=r.sibling}}function Tp(s,r){var o=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),s=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==o&&(s!=null&&s.refCount++,o!=null&&ac(o))}function Ep(s,r){s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&ac(s))}function Ss(s,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Gx(s,r,o,u),r=r.sibling}function Gx(s,r,o,u){var f=r.flags;switch(r.tag){case 0:case 11:case 15:Ss(s,r,o,u),f&2048&&bc(9,r);break;case 1:Ss(s,r,o,u);break;case 3:Ss(s,r,o,u),f&2048&&(s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&ac(s)));break;case 12:if(f&2048){Ss(s,r,o,u),s=r.stateNode;try{var y=r.memoizedProps,_=y.id,A=y.onPostCommit;typeof A=="function"&&A(_,r.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(L){it(r,r.return,L)}}else Ss(s,r,o,u);break;case 31:Ss(s,r,o,u);break;case 13:Ss(s,r,o,u);break;case 23:break;case 22:y=r.stateNode,_=r.alternate,r.memoizedState!==null?y._visibility&2?Ss(s,r,o,u):_c(s,r):y._visibility&2?Ss(s,r,o,u):(y._visibility|=2,No(s,r,o,u,(r.subtreeFlags&10256)!==0||!1)),f&2048&&Tp(_,r);break;case 24:Ss(s,r,o,u),f&2048&&Ep(r.alternate,r);break;default:Ss(s,r,o,u)}}function No(s,r,o,u,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var y=s,_=r,A=o,L=u,Y=_.flags;switch(_.tag){case 0:case 11:case 15:No(y,_,A,L,f),bc(8,_);break;case 23:break;case 22:var Z=_.stateNode;_.memoizedState!==null?Z._visibility&2?No(y,_,A,L,f):_c(y,_):(Z._visibility|=2,No(y,_,A,L,f)),f&&Y&2048&&Tp(_.alternate,_);break;case 24:No(y,_,A,L,f),f&&Y&2048&&Ep(_.alternate,_);break;default:No(y,_,A,L,f)}r=r.sibling}}function _c(s,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=s,u=r,f=u.flags;switch(u.tag){case 22:_c(o,u),f&2048&&Tp(u.alternate,u);break;case 24:_c(o,u),f&2048&&Ep(u.alternate,u);break;default:_c(o,u)}r=r.sibling}}var wc=8192;function Ro(s,r,o){if(s.subtreeFlags&wc)for(s=s.child;s!==null;)$x(s,r,o),s=s.sibling}function $x(s,r,o){switch(s.tag){case 26:Ro(s,r,o),s.flags&wc&&s.memoizedState!==null&&JN(o,Es,s.memoizedState,s.memoizedProps);break;case 5:Ro(s,r,o);break;case 3:case 4:var u=Es;Es=td(s.stateNode.containerInfo),Ro(s,r,o),Es=u;break;case 22:s.memoizedState===null&&(u=s.alternate,u!==null&&u.memoizedState!==null?(u=wc,wc=16777216,Ro(s,r,o),wc=u):Ro(s,r,o));break;default:Ro(s,r,o)}}function Kx(s){var r=s.alternate;if(r!==null&&(s=r.child,s!==null)){r.child=null;do r=s.sibling,s.sibling=null,s=r;while(s!==null)}}function Tc(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Xt=u,Qx(u,s)}Kx(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Yx(s),s=s.sibling}function Yx(s){switch(s.tag){case 0:case 11:case 15:Tc(s),s.flags&2048&&vr(9,s,s.return);break;case 3:Tc(s);break;case 12:Tc(s);break;case 22:var r=s.stateNode;s.memoizedState!==null&&r._visibility&2&&(s.return===null||s.return.tag!==13)?(r._visibility&=-3,Fh(s)):Tc(s);break;default:Tc(s)}}function Fh(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Xt=u,Qx(u,s)}Kx(s)}for(s=s.child;s!==null;){switch(r=s,r.tag){case 0:case 11:case 15:vr(8,r,r.return),Fh(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,Fh(r));break;default:Fh(r)}s=s.sibling}}function Qx(s,r){for(;Xt!==null;){var o=Xt;switch(o.tag){case 0:case 11:case 15:vr(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:ac(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Xt=u;else e:for(o=s;Xt!==null;){u=Xt;var f=u.sibling,y=u.return;if(Ux(u),u===o){Xt=null;break e}if(f!==null){f.return=y,Xt=f;break e}Xt=y}}}var fN={getCacheForType:function(s){var r=sn(Vt),o=r.data.get(s);return o===void 0&&(o=s(),r.data.set(s,o)),o},cacheSignal:function(){return sn(Vt).controller.signal}},mN=typeof WeakMap=="function"?WeakMap:Map,et=0,ct=null,Fe=null,qe=0,st=0,Fn=null,br=!1,Io=!1,Sp=!1,Ri=0,wt=0,xr=0,Ra=0,Ap=0,Hn=0,Do=0,Ec=null,In=null,Cp=!1,Hh=0,Xx=0,qh=1/0,Gh=null,_r=null,qt=0,wr=null,jo=null,Ii=0,kp=0,Np=null,Wx=null,Sc=0,Rp=null;function qn(){return(et&2)!==0&&qe!==0?qe&-qe:q.T!==null?Op():$u()}function Jx(){if(Hn===0)if((qe&536870912)===0||Qe){var s=sa;sa<<=1,(sa&3932160)===0&&(sa=262144),Hn=s}else Hn=536870912;return s=zn.current,s!==null&&(s.flags|=32),Hn}function Dn(s,r,o){(s===ct&&(st===2||st===9)||s.cancelPendingCommit!==null)&&(Mo(s,0),Tr(s,qe,Hn,!1)),ia(s,o),((et&2)===0||s!==ct)&&(s===ct&&((et&2)===0&&(Ra|=o),wt===4&&Tr(s,qe,Hn,!1)),ti(s))}function Zx(s,r,o){if((et&6)!==0)throw Error(i(327));var u=!o&&(r&127)===0&&(r&s.expiredLanes)===0||ps(s,r),f=u?yN(s,r):Dp(s,r,!0),y=u;do{if(f===0){Io&&!u&&Tr(s,r,0,!1);break}else{if(o=s.current.alternate,y&&!pN(o)){f=Dp(s,r,!1),y=!1;continue}if(f===2){if(y=r,s.errorRecoveryDisabledLanes&y)var _=0;else _=s.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;e:{var A=s;f=Ec;var L=A.current.memoizedState.isDehydrated;if(L&&(Mo(A,_).flags|=256),_=Dp(A,_,!1),_!==2){if(Sp&&!L){A.errorRecoveryDisabledLanes|=y,Ra|=y,f=4;break e}y=In,In=f,y!==null&&(In===null?In=y:In.push.apply(In,y))}f=_}if(y=!1,f!==2)continue}}if(f===1){Mo(s,0),Tr(s,r,0,!0);break}e:{switch(u=s,y=f,y){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:Tr(u,r,Hn,!br);break e;case 2:In=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(f=Hh+300-bn(),10<f)){if(Tr(u,r,Hn,!br),Ps(u,0,!0)!==0)break e;Ii=r,u.timeoutHandle=R1(e1.bind(null,u,o,In,Gh,Cp,r,Hn,Ra,Do,br,y,"Throttled",-0,0),f);break e}e1(u,o,In,Gh,Cp,r,Hn,Ra,Do,br,y,null,-0,0)}}break}while(!0);ti(s)}function e1(s,r,o,u,f,y,_,A,L,Y,Z,ie,Q,W){if(s.timeoutHandle=-1,ie=r.subtreeFlags,ie&8192||(ie&16785408)===16785408){ie={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:vs},$x(r,y,ie);var ge=(y&62914560)===y?Hh-bn():(y&4194048)===y?Xx-bn():0;if(ge=ZN(ie,ge),ge!==null){Ii=y,s.cancelPendingCommit=ge(l1.bind(null,s,r,y,o,u,f,_,A,L,Z,ie,null,Q,W)),Tr(s,y,_,!Y);return}}l1(s,r,y,o,u,f,_,A,L)}function pN(s){for(var r=s;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],y=f.getSnapshot;f=f.value;try{if(!Ln(y(),f))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Tr(s,r,o,u){r&=~Ap,r&=~Ra,s.suspendedLanes|=r,s.pingedLanes&=~r,u&&(s.warmLanes|=r),u=s.expirationTimes;for(var f=r;0<f;){var y=31-St(f),_=1<<y;u[y]=-1,f&=~_}o!==0&&ra(s,o,r)}function $h(){return(et&6)===0?(Ac(0),!1):!0}function Ip(){if(Fe!==null){if(st===0)var s=Fe.return;else s=Fe,xi=_a=null,Km(s),Eo=null,lc=0,s=Fe;for(;s!==null;)Ix(s.alternate,s),s=s.return;Fe=null}}function Mo(s,r){var o=s.timeoutHandle;o!==-1&&(s.timeoutHandle=-1,VN(o)),o=s.cancelPendingCommit,o!==null&&(s.cancelPendingCommit=null,o()),Ii=0,Ip(),ct=s,Fe=o=vi(s.current,null),qe=r,st=0,Fn=null,br=!1,Io=ps(s,r),Sp=!1,Do=Hn=Ap=Ra=xr=wt=0,In=Ec=null,Cp=!1,(r&8)!==0&&(r|=r&32);var u=s.entangledLanes;if(u!==0)for(s=s.entanglements,u&=r;0<u;){var f=31-St(u),y=1<<f;r|=s[f],u&=~y}return Ri=r,fh(),o}function t1(s,r){Ue=null,q.H=gc,r===To||r===_h?(r=yb(),st=3):r===Vm?(r=yb(),st=4):st=r===cp?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Fn=r,Fe===null&&(wt=1,Vh(s,es(r,s.current)))}function n1(){var s=zn.current;return s===null?!0:(qe&4194048)===qe?is===null:(qe&62914560)===qe||(qe&536870912)!==0?s===is:!1}function s1(){var s=q.H;return q.H=gc,s===null?gc:s}function i1(){var s=q.A;return q.A=fN,s}function Kh(){wt=4,br||(qe&4194048)!==qe&&zn.current!==null||(Io=!0),(xr&134217727)===0&&(Ra&134217727)===0||ct===null||Tr(ct,qe,Hn,!1)}function Dp(s,r,o){var u=et;et|=2;var f=s1(),y=i1();(ct!==s||qe!==r)&&(Gh=null,Mo(s,r)),r=!1;var _=wt;e:do try{if(st!==0&&Fe!==null){var A=Fe,L=Fn;switch(st){case 8:Ip(),_=6;break e;case 3:case 2:case 9:case 6:zn.current===null&&(r=!0);var Y=st;if(st=0,Fn=null,Vo(s,A,L,Y),o&&Io){_=0;break e}break;default:Y=st,st=0,Fn=null,Vo(s,A,L,Y)}}gN(),_=wt;break}catch(Z){t1(s,Z)}while(!0);return r&&s.shellSuspendCounter++,xi=_a=null,et=u,q.H=f,q.A=y,Fe===null&&(ct=null,qe=0,fh()),_}function gN(){for(;Fe!==null;)r1(Fe)}function yN(s,r){var o=et;et|=2;var u=s1(),f=i1();ct!==s||qe!==r?(Gh=null,qh=bn()+500,Mo(s,r)):Io=ps(s,r);e:do try{if(st!==0&&Fe!==null){r=Fe;var y=Fn;t:switch(st){case 1:st=0,Fn=null,Vo(s,r,y,1);break;case 2:case 9:if(pb(y)){st=0,Fn=null,a1(r);break}r=function(){st!==2&&st!==9||ct!==s||(st=7),ti(s)},y.then(r,r);break e;case 3:st=7;break e;case 4:st=5;break e;case 7:pb(y)?(st=0,Fn=null,a1(r)):(st=0,Fn=null,Vo(s,r,y,7));break;case 5:var _=null;switch(Fe.tag){case 26:_=Fe.memoizedState;case 5:case 27:var A=Fe;if(_?G1(_):A.stateNode.complete){st=0,Fn=null;var L=A.sibling;if(L!==null)Fe=L;else{var Y=A.return;Y!==null?(Fe=Y,Yh(Y)):Fe=null}break t}}st=0,Fn=null,Vo(s,r,y,5);break;case 6:st=0,Fn=null,Vo(s,r,y,6);break;case 8:Ip(),wt=6;break e;default:throw Error(i(462))}}vN();break}catch(Z){t1(s,Z)}while(!0);return xi=_a=null,q.H=u,q.A=f,et=o,Fe!==null?0:(ct=null,qe=0,fh(),wt)}function vN(){for(;Fe!==null&&!lm();)r1(Fe)}function r1(s){var r=Nx(s.alternate,s,Ri);s.memoizedProps=s.pendingProps,r===null?Yh(s):Fe=r}function a1(s){var r=s,o=r.alternate;switch(r.tag){case 15:case 0:r=Tx(o,r,r.pendingProps,r.type,void 0,qe);break;case 11:r=Tx(o,r,r.pendingProps,r.type.render,r.ref,qe);break;case 5:Km(r);default:Ix(o,r),r=Fe=ib(r,Ri),r=Nx(o,r,Ri)}s.memoizedProps=s.pendingProps,r===null?Yh(s):Fe=r}function Vo(s,r,o,u){xi=_a=null,Km(r),Eo=null,lc=0;var f=r.return;try{if(aN(s,f,r,o,qe)){wt=1,Vh(s,es(o,s.current)),Fe=null;return}}catch(y){if(f!==null)throw Fe=f,y;wt=1,Vh(s,es(o,s.current)),Fe=null;return}r.flags&32768?(Qe||u===1?s=!0:Io||(qe&536870912)!==0?s=!1:(br=s=!0,(u===2||u===9||u===3||u===6)&&(u=zn.current,u!==null&&u.tag===13&&(u.flags|=16384))),o1(r,s)):Yh(r)}function Yh(s){var r=s;do{if((r.flags&32768)!==0){o1(r,br);return}s=r.return;var o=cN(r.alternate,r,Ri);if(o!==null){Fe=o;return}if(r=r.sibling,r!==null){Fe=r;return}Fe=r=s}while(r!==null);wt===0&&(wt=5)}function o1(s,r){do{var o=uN(s.alternate,s);if(o!==null){o.flags&=32767,Fe=o;return}if(o=s.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(s=s.sibling,s!==null)){Fe=s;return}Fe=s=o}while(s!==null);wt=6,Fe=null}function l1(s,r,o,u,f,y,_,A,L){s.cancelPendingCommit=null;do Qh();while(qt!==0);if((et&6)!==0)throw Error(i(327));if(r!==null){if(r===s.current)throw Error(i(177));if(y=r.lanes|r.childLanes,y|=xm,hm(s,o,y,_,A,L),s===ct&&(Fe=ct=null,qe=0),jo=r,wr=s,Ii=o,kp=y,Np=f,Wx=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,wN(Zi,function(){return f1(),null})):(s.callbackNode=null,s.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=q.T,q.T=null,f=ee.p,ee.p=2,_=et,et|=4;try{hN(s,r,o)}finally{et=_,ee.p=f,q.T=u}}qt=1,c1(),u1(),h1()}}function c1(){if(qt===1){qt=0;var s=wr,r=jo,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=q.T,q.T=null;var u=ee.p;ee.p=2;var f=et;et|=4;try{Hx(r,s);var y=qp,_=Qv(s.containerInfo),A=y.focusedElem,L=y.selectionRange;if(_!==A&&A&&A.ownerDocument&&Yv(A.ownerDocument.documentElement,A)){if(L!==null&&pm(A)){var Y=L.start,Z=L.end;if(Z===void 0&&(Z=Y),"selectionStart"in A)A.selectionStart=Y,A.selectionEnd=Math.min(Z,A.value.length);else{var ie=A.ownerDocument||document,Q=ie&&ie.defaultView||window;if(Q.getSelection){var W=Q.getSelection(),ge=A.textContent.length,ke=Math.min(L.start,ge),lt=L.end===void 0?ke:Math.min(L.end,ge);!W.extend&&ke>lt&&(_=lt,lt=ke,ke=_);var H=Kv(A,ke),B=Kv(A,lt);if(H&&B&&(W.rangeCount!==1||W.anchorNode!==H.node||W.anchorOffset!==H.offset||W.focusNode!==B.node||W.focusOffset!==B.offset)){var K=ie.createRange();K.setStart(H.node,H.offset),W.removeAllRanges(),ke>lt?(W.addRange(K),W.extend(B.node,B.offset)):(K.setEnd(B.node,B.offset),W.addRange(K))}}}}for(ie=[],W=A;W=W.parentNode;)W.nodeType===1&&ie.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<ie.length;A++){var ne=ie[A];ne.element.scrollLeft=ne.left,ne.element.scrollTop=ne.top}}od=!!Hp,qp=Hp=null}finally{et=f,ee.p=u,q.T=o}}s.current=r,qt=2}}function u1(){if(qt===2){qt=0;var s=wr,r=jo,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=q.T,q.T=null;var u=ee.p;ee.p=2;var f=et;et|=4;try{Lx(s,r.alternate,r)}finally{et=f,ee.p=u,q.T=o}}qt=3}}function h1(){if(qt===4||qt===3){qt=0,Uu();var s=wr,r=jo,o=Ii,u=Wx;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?qt=5:(qt=0,jo=wr=null,d1(s,s.pendingLanes));var f=s.pendingLanes;if(f===0&&(_r=null),mi(o),r=r.stateNode,en&&typeof en.onCommitFiberRoot=="function")try{en.onCommitFiberRoot(ms,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=q.T,f=ee.p,ee.p=2,q.T=null;try{for(var y=s.onRecoverableError,_=0;_<u.length;_++){var A=u[_];y(A.value,{componentStack:A.stack})}}finally{q.T=r,ee.p=f}}(Ii&3)!==0&&Qh(),ti(s),f=s.pendingLanes,(o&261930)!==0&&(f&42)!==0?s===Rp?Sc++:(Sc=0,Rp=s):Sc=0,Ac(0)}}function d1(s,r){(s.pooledCacheLanes&=r)===0&&(r=s.pooledCache,r!=null&&(s.pooledCache=null,ac(r)))}function Qh(){return c1(),u1(),h1(),f1()}function f1(){if(qt!==5)return!1;var s=wr,r=kp;kp=0;var o=mi(Ii),u=q.T,f=ee.p;try{ee.p=32>o?32:o,q.T=null,o=Np,Np=null;var y=wr,_=Ii;if(qt=0,jo=wr=null,Ii=0,(et&6)!==0)throw Error(i(331));var A=et;if(et|=4,Yx(y.current),Gx(y,y.current,_,o),et=A,Ac(0,!1),en&&typeof en.onPostCommitFiberRoot=="function")try{en.onPostCommitFiberRoot(ms,y)}catch{}return!0}finally{ee.p=f,q.T=u,d1(s,r)}}function m1(s,r,o){r=es(o,r),r=lp(s.stateNode,r,2),s=pr(s,r,2),s!==null&&(ia(s,2),ti(s))}function it(s,r,o){if(s.tag===3)m1(s,s,o);else for(;r!==null;){if(r.tag===3){m1(r,s,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(_r===null||!_r.has(u))){s=es(o,s),o=px(2),u=pr(r,o,2),u!==null&&(gx(o,u,r,s),ia(u,2),ti(u));break}}r=r.return}}function jp(s,r,o){var u=s.pingCache;if(u===null){u=s.pingCache=new mN;var f=new Set;u.set(r,f)}else f=u.get(r),f===void 0&&(f=new Set,u.set(r,f));f.has(o)||(Sp=!0,f.add(o),s=bN.bind(null,s,r,o),r.then(s,s))}function bN(s,r,o){var u=s.pingCache;u!==null&&u.delete(r),s.pingedLanes|=s.suspendedLanes&o,s.warmLanes&=~o,ct===s&&(qe&o)===o&&(wt===4||wt===3&&(qe&62914560)===qe&&300>bn()-Hh?(et&2)===0&&Mo(s,0):Ap|=o,Do===qe&&(Do=0)),ti(s)}function p1(s,r){r===0&&(r=Gu()),s=va(s,r),s!==null&&(ia(s,r),ti(s))}function xN(s){var r=s.memoizedState,o=0;r!==null&&(o=r.retryLane),p1(s,o)}function _N(s,r){var o=0;switch(s.tag){case 31:case 13:var u=s.stateNode,f=s.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=s.stateNode;break;case 22:u=s.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(r),p1(s,o)}function wN(s,r){return Ht(s,r)}var Xh=null,Oo=null,Mp=!1,Wh=!1,Vp=!1,Er=0;function ti(s){s!==Oo&&s.next===null&&(Oo===null?Xh=Oo=s:Oo=Oo.next=s),Wh=!0,Mp||(Mp=!0,EN())}function Ac(s,r){if(!Vp&&Wh){Vp=!0;do for(var o=!1,u=Xh;u!==null;){if(s!==0){var f=u.pendingLanes;if(f===0)var y=0;else{var _=u.suspendedLanes,A=u.pingedLanes;y=(1<<31-St(42|s)+1)-1,y&=f&~(_&~A),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(o=!0,b1(u,y))}else y=qe,y=Ps(u,u===ct?y:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(y&3)===0||ps(u,y)||(o=!0,b1(u,y));u=u.next}while(o);Vp=!1}}function TN(){g1()}function g1(){Wh=Mp=!1;var s=0;Er!==0&&MN()&&(s=Er);for(var r=bn(),o=null,u=Xh;u!==null;){var f=u.next,y=y1(u,r);y===0?(u.next=null,o===null?Xh=f:o.next=f,f===null&&(Oo=o)):(o=u,(s!==0||(y&3)!==0)&&(Wh=!0)),u=f}qt!==0&&qt!==5||Ac(s),Er!==0&&(Er=0)}function y1(s,r){for(var o=s.suspendedLanes,u=s.pingedLanes,f=s.expirationTimes,y=s.pendingLanes&-62914561;0<y;){var _=31-St(y),A=1<<_,L=f[_];L===-1?((A&o)===0||(A&u)!==0)&&(f[_]=um(A,r)):L<=r&&(s.expiredLanes|=A),y&=~A}if(r=ct,o=qe,o=Ps(s,s===r?o:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u=s.callbackNode,o===0||s===r&&(st===2||st===9)||s.cancelPendingCommit!==null)return u!==null&&u!==null&&Ji(u),s.callbackNode=null,s.callbackPriority=0;if((o&3)===0||ps(s,o)){if(r=o&-o,r===s.callbackPriority)return r;switch(u!==null&&Ji(u),mi(o)){case 2:case 8:o=Ol;break;case 32:o=Zi;break;case 268435456:o=zu;break;default:o=Zi}return u=v1.bind(null,s),o=Ht(o,u),s.callbackPriority=r,s.callbackNode=o,r}return u!==null&&u!==null&&Ji(u),s.callbackPriority=2,s.callbackNode=null,2}function v1(s,r){if(qt!==0&&qt!==5)return s.callbackNode=null,s.callbackPriority=0,null;var o=s.callbackNode;if(Qh()&&s.callbackNode!==o)return null;var u=qe;return u=Ps(s,s===ct?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u===0?null:(Zx(s,u,r),y1(s,bn()),s.callbackNode!=null&&s.callbackNode===o?v1.bind(null,s):null)}function b1(s,r){if(Qh())return null;Zx(s,r,!0)}function EN(){ON(function(){(et&6)!==0?Ht(Vl,TN):g1()})}function Op(){if(Er===0){var s=_o;s===0&&(s=Vs,Vs<<=1,(Vs&261888)===0&&(Vs=256)),Er=s}return Er}function x1(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:ro(""+s)}function _1(s,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,s.id&&o.setAttribute("form",s.id),r.parentNode.insertBefore(o,r),s=new FormData(s),o.parentNode.removeChild(o),s}function SN(s,r,o,u,f){if(r==="submit"&&o&&o.stateNode===f){var y=x1((f[Yt]||null).action),_=u.submitter;_&&(r=(r=_[Yt]||null)?x1(r.formAction):_.getAttribute("formAction"),r!==null&&(y=r,_=null));var A=new Ys("action","action",null,u,f);s.push({event:A,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Er!==0){var L=_?_1(f,_):new FormData(f);np(o,{pending:!0,data:L,method:f.method,action:y},null,L)}}else typeof y=="function"&&(A.preventDefault(),L=_?_1(f,_):new FormData(f),np(o,{pending:!0,data:L,method:f.method,action:y},y,L))},currentTarget:f}]})}}for(var Pp=0;Pp<bm.length;Pp++){var Lp=bm[Pp],AN=Lp.toLowerCase(),CN=Lp[0].toUpperCase()+Lp.slice(1);Ts(AN,"on"+CN)}Ts(Jv,"onAnimationEnd"),Ts(Zv,"onAnimationIteration"),Ts(eb,"onAnimationStart"),Ts("dblclick","onDoubleClick"),Ts("focusin","onFocus"),Ts("focusout","onBlur"),Ts(Hk,"onTransitionRun"),Ts(qk,"onTransitionStart"),Ts(Gk,"onTransitionCancel"),Ts(tb,"onTransitionEnd"),qs("onMouseEnter",["mouseout","mouseover"]),qs("onMouseLeave",["mouseout","mouseover"]),qs("onPointerEnter",["pointerout","pointerover"]),qs("onPointerLeave",["pointerout","pointerover"]),Hs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Hs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Hs("onBeforeInput",["compositionend","keypress","textInput","paste"]),Hs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Hs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Hs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cc));function w1(s,r){r=(r&4)!==0;for(var o=0;o<s.length;o++){var u=s[o],f=u.event;u=u.listeners;e:{var y=void 0;if(r)for(var _=u.length-1;0<=_;_--){var A=u[_],L=A.instance,Y=A.currentTarget;if(A=A.listener,L!==y&&f.isPropagationStopped())break e;y=A,f.currentTarget=Y;try{y(f)}catch(Z){dh(Z)}f.currentTarget=null,y=L}else for(_=0;_<u.length;_++){if(A=u[_],L=A.instance,Y=A.currentTarget,A=A.listener,L!==y&&f.isPropagationStopped())break e;y=A,f.currentTarget=Y;try{y(f)}catch(Z){dh(Z)}f.currentTarget=null,y=L}}}}function He(s,r){var o=r[eo];o===void 0&&(o=r[eo]=new Set);var u=s+"__bubble";o.has(u)||(T1(r,s,2,!1),o.add(u))}function Up(s,r,o){var u=0;r&&(u|=4),T1(o,s,u,r)}var Jh="_reactListening"+Math.random().toString(36).slice(2);function zp(s){if(!s[Jh]){s[Jh]=!0,Ul.forEach(function(o){o!=="selectionchange"&&(kN.has(o)||Up(o,!1,s),Up(o,!0,s))});var r=s.nodeType===9?s:s.ownerDocument;r===null||r[Jh]||(r[Jh]=!0,Up("selectionchange",!1,r))}}function T1(s,r,o,u){switch(J1(r)){case 2:var f=nR;break;case 8:f=sR;break;default:f=tg}o=f.bind(null,r,o,s),f=void 0,!ua||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),u?f!==void 0?s.addEventListener(r,o,{capture:!0,passive:f}):s.addEventListener(r,o,!0):f!==void 0?s.addEventListener(r,o,{passive:f}):s.addEventListener(r,o,!1)}function Bp(s,r,o,u,f){var y=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var _=u.tag;if(_===3||_===4){var A=u.stateNode.containerInfo;if(A===f)break;if(_===4)for(_=u.return;_!==null;){var L=_.tag;if((L===3||L===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;A!==null;){if(_=Bs(A),_===null)return;if(L=_.tag,L===5||L===6||L===26||L===27){u=y=_;continue e}A=A.parentNode}}u=u.return}rr(function(){var Y=y,Z=Xn(o),ie=[];e:{var Q=nb.get(s);if(Q!==void 0){var W=Ys,ge=s;switch(s){case"keypress":if(da(o)===0)break e;case"keydown":case"keyup":W=ch;break;case"focusin":ge="focus",W=ma;break;case"focusout":ge="blur",W=ma;break;case"beforeblur":case"afterblur":W=ma;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=Jl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=eh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=x;break;case Jv:case Zv:case eb:W=nh;break;case tb:W=N;break;case"scroll":case"scrollend":W=Wl;break;case"wheel":W=X;break;case"copy":case"cut":case"paste":W=sh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=yi;break;case"toggle":case"beforetoggle":W=Le}var ke=(r&4)!==0,lt=!ke&&(s==="scroll"||s==="scrollend"),H=ke?Q!==null?Q+"Capture":null:Q;ke=[];for(var B=Y,K;B!==null;){var ne=B;if(K=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||K===null||H===null||(ne=bs(B,H),ne!=null&&ke.push(kc(B,ne,K))),lt)break;B=B.return}0<ke.length&&(Q=new W(Q,ge,null,o,Z),ie.push({event:Q,listeners:ke}))}}if((r&7)===0){e:{if(Q=s==="mouseover"||s==="pointerover",W=s==="mouseout"||s==="pointerout",Q&&o!==Yl&&(ge=o.relatedTarget||o.fromElement)&&(Bs(ge)||ge[Us]))break e;if((W||Q)&&(Q=Z.window===Z?Z:(Q=Z.ownerDocument)?Q.defaultView||Q.parentWindow:window,W?(ge=o.relatedTarget||o.toElement,W=Y,ge=ge?Bs(ge):null,ge!==null&&(lt=l(ge),ke=ge.tag,ge!==lt||ke!==5&&ke!==27&&ke!==6)&&(ge=null)):(W=null,ge=Y),W!==ge)){if(ke=Jl,ne="onMouseLeave",H="onMouseEnter",B="mouse",(s==="pointerout"||s==="pointerover")&&(ke=yi,ne="onPointerLeave",H="onPointerEnter",B="pointer"),lt=W==null?Q:On(W),K=ge==null?Q:On(ge),Q=new ke(ne,B+"leave",W,o,Z),Q.target=lt,Q.relatedTarget=K,ne=null,Bs(Z)===Y&&(ke=new ke(H,B+"enter",ge,o,Z),ke.target=K,ke.relatedTarget=lt,ne=ke),lt=ne,W&&ge)t:{for(ke=NN,H=W,B=ge,K=0,ne=H;ne;ne=ke(ne))K++;ne=0;for(var Se=B;Se;Se=ke(Se))ne++;for(;0<K-ne;)H=ke(H),K--;for(;0<ne-K;)B=ke(B),ne--;for(;K--;){if(H===B||B!==null&&H===B.alternate){ke=H;break t}H=ke(H),B=ke(B)}ke=null}else ke=null;W!==null&&E1(ie,Q,W,ke,!1),ge!==null&&lt!==null&&E1(ie,lt,ge,ke,!0)}}e:{if(Q=Y?On(Y):window,W=Q.nodeName&&Q.nodeName.toLowerCase(),W==="select"||W==="input"&&Q.type==="file")var We=Bv;else if(Uv(Q))if(Fv)We=zk;else{We=Lk;var xe=Pk}else W=Q.nodeName,!W||W.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?Y&&io(Y.elementType)&&(We=Bv):We=Uk;if(We&&(We=We(s,Y))){zv(ie,We,o,Z);break e}xe&&xe(s,Q,Y),s==="focusout"&&Y&&Q.type==="number"&&Y.memoizedProps.value!=null&&Gl(Q,"number",Q.value)}switch(xe=Y?On(Y):window,s){case"focusin":(Uv(xe)||xe.contentEditable==="true")&&(fo=xe,gm=Y,sc=null);break;case"focusout":sc=gm=fo=null;break;case"mousedown":ym=!0;break;case"contextmenu":case"mouseup":case"dragend":ym=!1,Xv(ie,o,Z);break;case"selectionchange":if(Fk)break;case"keydown":case"keyup":Xv(ie,o,Z)}var ze;if(Ze)e:{switch(s){case"compositionstart":var Ge="onCompositionStart";break e;case"compositionend":Ge="onCompositionEnd";break e;case"compositionupdate":Ge="onCompositionUpdate";break e}Ge=void 0}else ho?pa(s,o)&&(Ge="onCompositionEnd"):s==="keydown"&&o.keyCode===229&&(Ge="onCompositionStart");Ge&&(Ws&&o.locale!=="ko"&&(ho||Ge!=="onCompositionStart"?Ge==="onCompositionEnd"&&ho&&(ze=Xl()):(Ks=Z,Ql="value"in Ks?Ks.value:Ks.textContent,ho=!0)),xe=Zh(Y,Ge),0<xe.length&&(Ge=new Xs(Ge,s,null,o,Z),ie.push({event:Ge,listeners:xe}),ze?Ge.data=ze:(ze=uo(o),ze!==null&&(Ge.data=ze)))),(ze=Jn?jk(s,o):Mk(s,o))&&(Ge=Zh(Y,"onBeforeInput"),0<Ge.length&&(xe=new Xs("onBeforeInput","beforeinput",null,o,Z),ie.push({event:xe,listeners:Ge}),xe.data=ze)),SN(ie,s,Y,o,Z)}w1(ie,r)})}function kc(s,r,o){return{instance:s,listener:r,currentTarget:o}}function Zh(s,r){for(var o=r+"Capture",u=[];s!==null;){var f=s,y=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||y===null||(f=bs(s,o),f!=null&&u.unshift(kc(s,f,y)),f=bs(s,r),f!=null&&u.push(kc(s,f,y))),s.tag===3)return u;s=s.return}return[]}function NN(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function E1(s,r,o,u,f){for(var y=r._reactName,_=[];o!==null&&o!==u;){var A=o,L=A.alternate,Y=A.stateNode;if(A=A.tag,L!==null&&L===u)break;A!==5&&A!==26&&A!==27||Y===null||(L=Y,f?(Y=bs(o,y),Y!=null&&_.unshift(kc(o,Y,L))):f||(Y=bs(o,y),Y!=null&&_.push(kc(o,Y,L)))),o=o.return}_.length!==0&&s.push({event:r,listeners:_})}var RN=/\r\n?/g,IN=/\u0000|\uFFFD/g;function S1(s){return(typeof s=="string"?s:""+s).replace(RN,`
`).replace(IN,"")}function A1(s,r){return r=S1(r),S1(s)===r}function ot(s,r,o,u,f,y){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||Cn(s,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&Cn(s,""+u);break;case"className":Pn(s,"class",u);break;case"tabIndex":Pn(s,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Pn(s,o,u);break;case"style":Kl(s,u,y);break;case"data":if(r!=="object"){Pn(s,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){s.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(o);break}u=ro(""+u),s.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){s.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(o==="formAction"?(r!=="input"&&ot(s,r,"name",f.name,f,null),ot(s,r,"formEncType",f.formEncType,f,null),ot(s,r,"formMethod",f.formMethod,f,null),ot(s,r,"formTarget",f.formTarget,f,null)):(ot(s,r,"encType",f.encType,f,null),ot(s,r,"method",f.method,f,null),ot(s,r,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(o);break}u=ro(""+u),s.setAttribute(o,u);break;case"onClick":u!=null&&(s.onclick=vs);break;case"onScroll":u!=null&&He("scroll",s);break;case"onScrollEnd":u!=null&&He("scrollend",s);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(i(60));s.innerHTML=o}}break;case"multiple":s.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":s.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){s.removeAttribute("xlink:href");break}o=ro(""+u),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(o,""+u):s.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(o,""):s.removeAttribute(o);break;case"capture":case"download":u===!0?s.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(o,u):s.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?s.setAttribute(o,u):s.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?s.removeAttribute(o):s.setAttribute(o,u);break;case"popover":He("beforetoggle",s),He("toggle",s),no(s,"popover",u);break;case"xlinkActuate":Mt(s,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Mt(s,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Mt(s,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Mt(s,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Mt(s,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Mt(s,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Mt(s,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Mt(s,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Mt(s,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":no(s,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Zu.get(o)||o,no(s,o,u))}}function Fp(s,r,o,u,f,y){switch(o){case"style":Kl(s,u,y);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(i(60));s.innerHTML=o}}break;case"children":typeof u=="string"?Cn(s,u):(typeof u=="number"||typeof u=="bigint")&&Cn(s,""+u);break;case"onScroll":u!=null&&He("scroll",s);break;case"onScrollEnd":u!=null&&He("scrollend",s);break;case"onClick":u!=null&&(s.onclick=vs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!zl.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),r=o.slice(2,f?o.length-7:void 0),y=s[Yt]||null,y=y!=null?y[o]:null,typeof y=="function"&&s.removeEventListener(r,y,f),typeof u=="function")){typeof y!="function"&&y!==null&&(o in s?s[o]=null:s.hasAttribute(o)&&s.removeAttribute(o)),s.addEventListener(r,u,f);break e}o in s?s[o]=u:u===!0?s.setAttribute(o,""):no(s,o,u)}}}function an(s,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":He("error",s),He("load",s);var u=!1,f=!1,y;for(y in o)if(o.hasOwnProperty(y)){var _=o[y];if(_!=null)switch(y){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:ot(s,r,y,_,o,null)}}f&&ot(s,r,"srcSet",o.srcSet,o,null),u&&ot(s,r,"src",o.src,o,null);return;case"input":He("invalid",s);var A=y=_=f=null,L=null,Y=null;for(u in o)if(o.hasOwnProperty(u)){var Z=o[u];if(Z!=null)switch(u){case"name":f=Z;break;case"type":_=Z;break;case"checked":L=Z;break;case"defaultChecked":Y=Z;break;case"value":y=Z;break;case"defaultValue":A=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,r));break;default:ot(s,r,u,Z,o,null)}}Xu(s,y,A,L,Y,_,f,!1);return;case"select":He("invalid",s),u=_=y=null;for(f in o)if(o.hasOwnProperty(f)&&(A=o[f],A!=null))switch(f){case"value":y=A;break;case"defaultValue":_=A;break;case"multiple":u=A;default:ot(s,r,f,A,o,null)}r=y,o=_,s.multiple=!!u,r!=null?tr(s,!!u,r,!1):o!=null&&tr(s,!!u,o,!0);return;case"textarea":He("invalid",s),y=f=u=null;for(_ in o)if(o.hasOwnProperty(_)&&(A=o[_],A!=null))switch(_){case"value":u=A;break;case"defaultValue":f=A;break;case"children":y=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(i(91));break;default:ot(s,r,_,A,o,null)}nr(s,u,f,y);return;case"option":for(L in o)o.hasOwnProperty(L)&&(u=o[L],u!=null)&&(L==="selected"?s.selected=u&&typeof u!="function"&&typeof u!="symbol":ot(s,r,L,u,o,null));return;case"dialog":He("beforetoggle",s),He("toggle",s),He("cancel",s),He("close",s);break;case"iframe":case"object":He("load",s);break;case"video":case"audio":for(u=0;u<Cc.length;u++)He(Cc[u],s);break;case"image":He("error",s),He("load",s);break;case"details":He("toggle",s);break;case"embed":case"source":case"link":He("error",s),He("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in o)if(o.hasOwnProperty(Y)&&(u=o[Y],u!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:ot(s,r,Y,u,o,null)}return;default:if(io(r)){for(Z in o)o.hasOwnProperty(Z)&&(u=o[Z],u!==void 0&&Fp(s,r,Z,u,o,void 0));return}}for(A in o)o.hasOwnProperty(A)&&(u=o[A],u!=null&&ot(s,r,A,u,o,null))}function DN(s,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,y=null,_=null,A=null,L=null,Y=null,Z=null;for(W in o){var ie=o[W];if(o.hasOwnProperty(W)&&ie!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":L=ie;default:u.hasOwnProperty(W)||ot(s,r,W,null,u,ie)}}for(var Q in u){var W=u[Q];if(ie=o[Q],u.hasOwnProperty(Q)&&(W!=null||ie!=null))switch(Q){case"type":y=W;break;case"name":f=W;break;case"checked":Y=W;break;case"defaultChecked":Z=W;break;case"value":_=W;break;case"defaultValue":A=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(137,r));break;default:W!==ie&&ot(s,r,Q,W,u,ie)}}so(s,_,A,L,Y,Z,y,f);return;case"select":W=_=A=Q=null;for(y in o)if(L=o[y],o.hasOwnProperty(y)&&L!=null)switch(y){case"value":break;case"multiple":W=L;default:u.hasOwnProperty(y)||ot(s,r,y,null,u,L)}for(f in u)if(y=u[f],L=o[f],u.hasOwnProperty(f)&&(y!=null||L!=null))switch(f){case"value":Q=y;break;case"defaultValue":A=y;break;case"multiple":_=y;default:y!==L&&ot(s,r,f,y,u,L)}r=A,o=_,u=W,Q!=null?tr(s,!!o,Q,!1):!!u!=!!o&&(r!=null?tr(s,!!o,r,!0):tr(s,!!o,o?[]:"",!1));return;case"textarea":W=Q=null;for(A in o)if(f=o[A],o.hasOwnProperty(A)&&f!=null&&!u.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:ot(s,r,A,null,u,f)}for(_ in u)if(f=u[_],y=o[_],u.hasOwnProperty(_)&&(f!=null||y!=null))switch(_){case"value":Q=f;break;case"defaultValue":W=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(i(91));break;default:f!==y&&ot(s,r,_,f,u,y)}Wu(s,Q,W);return;case"option":for(var ge in o)Q=o[ge],o.hasOwnProperty(ge)&&Q!=null&&!u.hasOwnProperty(ge)&&(ge==="selected"?s.selected=!1:ot(s,r,ge,null,u,Q));for(L in u)Q=u[L],W=o[L],u.hasOwnProperty(L)&&Q!==W&&(Q!=null||W!=null)&&(L==="selected"?s.selected=Q&&typeof Q!="function"&&typeof Q!="symbol":ot(s,r,L,Q,u,W));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ke in o)Q=o[ke],o.hasOwnProperty(ke)&&Q!=null&&!u.hasOwnProperty(ke)&&ot(s,r,ke,null,u,Q);for(Y in u)if(Q=u[Y],W=o[Y],u.hasOwnProperty(Y)&&Q!==W&&(Q!=null||W!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(i(137,r));break;default:ot(s,r,Y,Q,u,W)}return;default:if(io(r)){for(var lt in o)Q=o[lt],o.hasOwnProperty(lt)&&Q!==void 0&&!u.hasOwnProperty(lt)&&Fp(s,r,lt,void 0,u,Q);for(Z in u)Q=u[Z],W=o[Z],!u.hasOwnProperty(Z)||Q===W||Q===void 0&&W===void 0||Fp(s,r,Z,Q,u,W);return}}for(var H in o)Q=o[H],o.hasOwnProperty(H)&&Q!=null&&!u.hasOwnProperty(H)&&ot(s,r,H,null,u,Q);for(ie in u)Q=u[ie],W=o[ie],!u.hasOwnProperty(ie)||Q===W||Q==null&&W==null||ot(s,r,ie,Q,u,W)}function C1(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function jN(){if(typeof performance.getEntriesByType=="function"){for(var s=0,r=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var f=o[u],y=f.transferSize,_=f.initiatorType,A=f.duration;if(y&&A&&C1(_)){for(_=0,A=f.responseEnd,u+=1;u<o.length;u++){var L=o[u],Y=L.startTime;if(Y>A)break;var Z=L.transferSize,ie=L.initiatorType;Z&&C1(ie)&&(L=L.responseEnd,_+=Z*(L<A?1:(A-Y)/(L-Y)))}if(--u,r+=8*(y+_)/(f.duration/1e3),s++,10<s)break}}if(0<s)return r/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var Hp=null,qp=null;function ed(s){return s.nodeType===9?s:s.ownerDocument}function k1(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function N1(s,r){if(s===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&r==="foreignObject"?0:s}function Gp(s,r){return s==="textarea"||s==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var $p=null;function MN(){var s=window.event;return s&&s.type==="popstate"?s===$p?!1:($p=s,!0):($p=null,!1)}var R1=typeof setTimeout=="function"?setTimeout:void 0,VN=typeof clearTimeout=="function"?clearTimeout:void 0,I1=typeof Promise=="function"?Promise:void 0,ON=typeof queueMicrotask=="function"?queueMicrotask:typeof I1<"u"?function(s){return I1.resolve(null).then(s).catch(PN)}:R1;function PN(s){setTimeout(function(){throw s})}function Sr(s){return s==="head"}function D1(s,r){var o=r,u=0;do{var f=o.nextSibling;if(s.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"||o==="/&"){if(u===0){s.removeChild(f),zo(r);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")Nc(s.ownerDocument.documentElement);else if(o==="head"){o=s.ownerDocument.head,Nc(o);for(var y=o.firstChild;y;){var _=y.nextSibling,A=y.nodeName;y[zs]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&y.rel.toLowerCase()==="stylesheet"||o.removeChild(y),y=_}}else o==="body"&&Nc(s.ownerDocument.body);o=f}while(o);zo(r)}function j1(s,r){var o=s;s=0;do{var u=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(s===0)break;s--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||s++;o=u}while(o)}function Kp(s){var r=s.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Kp(o),to(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}s.removeChild(o)}}function LN(s,r,o,u){for(;s.nodeType===1;){var f=o;if(s.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(u){if(!s[zs])switch(r){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(y=s.getAttribute("rel"),y==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(y!==f.rel||s.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||s.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||s.getAttribute("title")!==(f.title==null?null:f.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(y=s.getAttribute("src"),(y!==(f.src==null?null:f.src)||s.getAttribute("type")!==(f.type==null?null:f.type)||s.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&y&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(r==="input"&&s.type==="hidden"){var y=f.name==null?null:""+f.name;if(f.type==="hidden"&&s.getAttribute("name")===y)return s}else return s;if(s=rs(s.nextSibling),s===null)break}return null}function UN(s,r,o){if(r==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!o||(s=rs(s.nextSibling),s===null))return null;return s}function M1(s,r){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!r||(s=rs(s.nextSibling),s===null))return null;return s}function Yp(s){return s.data==="$?"||s.data==="$~"}function Qp(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function zN(s,r){var o=s.ownerDocument;if(s.data==="$~")s._reactRetry=r;else if(s.data!=="$?"||o.readyState!=="loading")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),s._reactRetry=u}}function rs(s){for(;s!=null;s=s.nextSibling){var r=s.nodeType;if(r===1||r===3)break;if(r===8){if(r=s.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return s}var Xp=null;function V1(s){s=s.nextSibling;for(var r=0;s;){if(s.nodeType===8){var o=s.data;if(o==="/$"||o==="/&"){if(r===0)return rs(s.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}s=s.nextSibling}return null}function O1(s){s=s.previousSibling;for(var r=0;s;){if(s.nodeType===8){var o=s.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return s;r--}else o!=="/$"&&o!=="/&"||r++}s=s.previousSibling}return null}function P1(s,r,o){switch(r=ed(o),s){case"html":if(s=r.documentElement,!s)throw Error(i(452));return s;case"head":if(s=r.head,!s)throw Error(i(453));return s;case"body":if(s=r.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function Nc(s){for(var r=s.attributes;r.length;)s.removeAttributeNode(r[0]);to(s)}var as=new Map,L1=new Set;function td(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Di=ee.d;ee.d={f:BN,r:FN,D:HN,C:qN,L:GN,m:$N,X:YN,S:KN,M:QN};function BN(){var s=Di.f(),r=$h();return s||r}function FN(s){var r=Qn(s);r!==null&&r.tag===5&&r.type==="form"?tx(r):Di.r(s)}var Po=typeof document>"u"?null:document;function U1(s,r,o){var u=Po;if(u&&typeof r=="string"&&r){var f=An(r);f='link[rel="'+s+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),L1.has(f)||(L1.add(f),s={rel:s,crossOrigin:o,href:r},u.querySelector(f)===null&&(r=u.createElement("link"),an(r,"link",s),jt(r),u.head.appendChild(r)))}}function HN(s){Di.D(s),U1("dns-prefetch",s,null)}function qN(s,r){Di.C(s,r),U1("preconnect",s,r)}function GN(s,r,o){Di.L(s,r,o);var u=Po;if(u&&s&&r){var f='link[rel="preload"][as="'+An(r)+'"]';r==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+An(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+An(o.imageSizes)+'"]')):f+='[href="'+An(s)+'"]';var y=f;switch(r){case"style":y=Lo(s);break;case"script":y=Uo(s)}as.has(y)||(s=b({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:s,as:r},o),as.set(y,s),u.querySelector(f)!==null||r==="style"&&u.querySelector(Rc(y))||r==="script"&&u.querySelector(Ic(y))||(r=u.createElement("link"),an(r,"link",s),jt(r),u.head.appendChild(r)))}}function $N(s,r){Di.m(s,r);var o=Po;if(o&&s){var u=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+An(u)+'"][href="'+An(s)+'"]',y=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Uo(s)}if(!as.has(y)&&(s=b({rel:"modulepreload",href:s},r),as.set(y,s),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Ic(y)))return}u=o.createElement("link"),an(u,"link",s),jt(u),o.head.appendChild(u)}}}function KN(s,r,o){Di.S(s,r,o);var u=Po;if(u&&s){var f=Fs(u).hoistableStyles,y=Lo(s);r=r||"default";var _=f.get(y);if(!_){var A={loading:0,preload:null};if(_=u.querySelector(Rc(y)))A.loading=5;else{s=b({rel:"stylesheet",href:s,"data-precedence":r},o),(o=as.get(y))&&Wp(s,o);var L=_=u.createElement("link");jt(L),an(L,"link",s),L._p=new Promise(function(Y,Z){L.onload=Y,L.onerror=Z}),L.addEventListener("load",function(){A.loading|=1}),L.addEventListener("error",function(){A.loading|=2}),A.loading|=4,nd(_,r,u)}_={type:"stylesheet",instance:_,count:1,state:A},f.set(y,_)}}}function YN(s,r){Di.X(s,r);var o=Po;if(o&&s){var u=Fs(o).hoistableScripts,f=Uo(s),y=u.get(f);y||(y=o.querySelector(Ic(f)),y||(s=b({src:s,async:!0},r),(r=as.get(f))&&Jp(s,r),y=o.createElement("script"),jt(y),an(y,"link",s),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(f,y))}}function QN(s,r){Di.M(s,r);var o=Po;if(o&&s){var u=Fs(o).hoistableScripts,f=Uo(s),y=u.get(f);y||(y=o.querySelector(Ic(f)),y||(s=b({src:s,async:!0,type:"module"},r),(r=as.get(f))&&Jp(s,r),y=o.createElement("script"),jt(y),an(y,"link",s),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(f,y))}}function z1(s,r,o,u){var f=(f=Ie.current)?td(f):null;if(!f)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=Lo(o.href),o=Fs(f).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){s=Lo(o.href);var y=Fs(f).hoistableStyles,_=y.get(s);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(s,_),(y=f.querySelector(Rc(s)))&&!y._p&&(_.instance=y,_.state.loading=5),as.has(s)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},as.set(s,o),y||XN(f,s,o,_.state))),r&&u===null)throw Error(i(528,""));return _}if(r&&u!==null)throw Error(i(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Uo(o),o=Fs(f).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function Lo(s){return'href="'+An(s)+'"'}function Rc(s){return'link[rel="stylesheet"]['+s+"]"}function B1(s){return b({},s,{"data-precedence":s.precedence,precedence:null})}function XN(s,r,o,u){s.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=s.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),an(r,"link",o),jt(r),s.head.appendChild(r))}function Uo(s){return'[src="'+An(s)+'"]'}function Ic(s){return"script[async]"+s}function F1(s,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=s.querySelector('style[data-href~="'+An(o.href)+'"]');if(u)return r.instance=u,jt(u),u;var f=b({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(s.ownerDocument||s).createElement("style"),jt(u),an(u,"style",f),nd(u,o.precedence,s),r.instance=u;case"stylesheet":f=Lo(o.href);var y=s.querySelector(Rc(f));if(y)return r.state.loading|=4,r.instance=y,jt(y),y;u=B1(o),(f=as.get(f))&&Wp(u,f),y=(s.ownerDocument||s).createElement("link"),jt(y);var _=y;return _._p=new Promise(function(A,L){_.onload=A,_.onerror=L}),an(y,"link",u),r.state.loading|=4,nd(y,o.precedence,s),r.instance=y;case"script":return y=Uo(o.src),(f=s.querySelector(Ic(y)))?(r.instance=f,jt(f),f):(u=o,(f=as.get(y))&&(u=b({},o),Jp(u,f)),s=s.ownerDocument||s,f=s.createElement("script"),jt(f),an(f,"link",u),s.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,nd(u,o.precedence,s));return r.instance}function nd(s,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,y=f,_=0;_<u.length;_++){var A=u[_];if(A.dataset.precedence===r)y=A;else if(y!==f)break}y?y.parentNode.insertBefore(s,y.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(s,r.firstChild))}function Wp(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.title==null&&(s.title=r.title)}function Jp(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.integrity==null&&(s.integrity=r.integrity)}var sd=null;function H1(s,r,o){if(sd===null){var u=new Map,f=sd=new Map;f.set(o,u)}else f=sd,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(s))return u;for(u.set(s,null),o=o.getElementsByTagName(s),f=0;f<o.length;f++){var y=o[f];if(!(y[zs]||y[Dt]||s==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var _=y.getAttribute(r)||"";_=s+_;var A=u.get(_);A?A.push(y):u.set(_,[y])}}return u}function q1(s,r,o){s=s.ownerDocument||s,s.head.insertBefore(o,r==="title"?s.querySelector("head > title"):null)}function WN(s,r,o){if(o===1||r.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(s=r.disabled,typeof r.precedence=="string"&&s==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function G1(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function JN(s,r,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var f=Lo(u.href),y=r.querySelector(Rc(f));if(y){r=y._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(s.count++,s=id.bind(s),r.then(s,s)),o.state.loading|=4,o.instance=y,jt(y);return}y=r.ownerDocument||r,u=B1(u),(f=as.get(f))&&Wp(u,f),y=y.createElement("link"),jt(y);var _=y;_._p=new Promise(function(A,L){_.onload=A,_.onerror=L}),an(y,"link",u),o.instance=y}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(s.count++,o=id.bind(s),r.addEventListener("load",o),r.addEventListener("error",o))}}var Zp=0;function ZN(s,r){return s.stylesheets&&s.count===0&&ad(s,s.stylesheets),0<s.count||0<s.imgCount?function(o){var u=setTimeout(function(){if(s.stylesheets&&ad(s,s.stylesheets),s.unsuspend){var y=s.unsuspend;s.unsuspend=null,y()}},6e4+r);0<s.imgBytes&&Zp===0&&(Zp=62500*jN());var f=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&ad(s,s.stylesheets),s.unsuspend)){var y=s.unsuspend;s.unsuspend=null,y()}},(s.imgBytes>Zp?50:800)+r);return s.unsuspend=o,function(){s.unsuspend=null,clearTimeout(u),clearTimeout(f)}}:null}function id(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ad(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var rd=null;function ad(s,r){s.stylesheets=null,s.unsuspend!==null&&(s.count++,rd=new Map,r.forEach(eR,s),rd=null,id.call(s))}function eR(s,r){if(!(r.state.loading&4)){var o=rd.get(s);if(o)var u=o.get(null);else{o=new Map,rd.set(s,o);for(var f=s.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<f.length;y++){var _=f[y];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(o.set(_.dataset.precedence,_),u=_)}u&&o.set(null,u)}f=r.instance,_=f.getAttribute("data-precedence"),y=o.get(_)||u,y===u&&o.set(null,f),o.set(_,f),this.count++,u=id.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),y?y.parentNode.insertBefore(f,y.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(f,s.firstChild)),r.state.loading|=4}}var Dc={$$typeof:$,Provider:null,Consumer:null,_currentValue:J,_currentValue2:J,_threadCount:0};function tR(s,r,o,u,f,y,_,A,L){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ls(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ls(0),this.hiddenUpdates=Ls(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=y,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=L,this.incompleteTransitions=new Map}function $1(s,r,o,u,f,y,_,A,L,Y,Z,ie){return s=new tR(s,r,o,_,L,Y,Z,ie,A),r=1,y===!0&&(r|=24),y=Un(3,null,null,r),s.current=y,y.stateNode=s,r=Dm(),r.refCount++,s.pooledCache=r,r.refCount++,y.memoizedState={element:u,isDehydrated:o,cache:r},Om(y),s}function K1(s){return s?(s=go,s):go}function Y1(s,r,o,u,f,y){f=K1(f),u.context===null?u.context=f:u.pendingContext=f,u=mr(r),u.payload={element:o},y=y===void 0?null:y,y!==null&&(u.callback=y),o=pr(s,u,r),o!==null&&(Dn(o,s,r),uc(o,s,r))}function Q1(s,r){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var o=s.retryLane;s.retryLane=o!==0&&o<r?o:r}}function eg(s,r){Q1(s,r),(s=s.alternate)&&Q1(s,r)}function X1(s){if(s.tag===13||s.tag===31){var r=va(s,67108864);r!==null&&Dn(r,s,67108864),eg(s,67108864)}}function W1(s){if(s.tag===13||s.tag===31){var r=qn();r=aa(r);var o=va(s,r);o!==null&&Dn(o,s,r),eg(s,r)}}var od=!0;function nR(s,r,o,u){var f=q.T;q.T=null;var y=ee.p;try{ee.p=2,tg(s,r,o,u)}finally{ee.p=y,q.T=f}}function sR(s,r,o,u){var f=q.T;q.T=null;var y=ee.p;try{ee.p=8,tg(s,r,o,u)}finally{ee.p=y,q.T=f}}function tg(s,r,o,u){if(od){var f=ng(u);if(f===null)Bp(s,r,u,ld,o),Z1(s,u);else if(rR(f,s,r,o,u))u.stopPropagation();else if(Z1(s,u),r&4&&-1<iR.indexOf(s)){for(;f!==null;){var y=Qn(f);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var _=Os(y.pendingLanes);if(_!==0){var A=y;for(A.pendingLanes|=2,A.entangledLanes|=2;_;){var L=1<<31-St(_);A.entanglements[1]|=L,_&=~L}ti(y),(et&6)===0&&(qh=bn()+500,Ac(0))}}break;case 31:case 13:A=va(y,2),A!==null&&Dn(A,y,2),$h(),eg(y,2)}if(y=ng(u),y===null&&Bp(s,r,u,ld,o),y===f)break;f=y}f!==null&&u.stopPropagation()}else Bp(s,r,u,null,o)}}function ng(s){return s=Xn(s),sg(s)}var ld=null;function sg(s){if(ld=null,s=Bs(s),s!==null){var r=l(s);if(r===null)s=null;else{var o=r.tag;if(o===13){if(s=c(r),s!==null)return s;s=null}else if(o===31){if(s=d(r),s!==null)return s;s=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;s=null}else r!==s&&(s=null)}}return ld=s,null}function J1(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(na()){case Vl:return 2;case Ol:return 8;case Zi:case cm:return 32;case zu:return 268435456;default:return 32}default:return 32}}var ig=!1,Ar=null,Cr=null,kr=null,jc=new Map,Mc=new Map,Nr=[],iR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Z1(s,r){switch(s){case"focusin":case"focusout":Ar=null;break;case"dragenter":case"dragleave":Cr=null;break;case"mouseover":case"mouseout":kr=null;break;case"pointerover":case"pointerout":jc.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mc.delete(r.pointerId)}}function Vc(s,r,o,u,f,y){return s===null||s.nativeEvent!==y?(s={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:y,targetContainers:[f]},r!==null&&(r=Qn(r),r!==null&&X1(r)),s):(s.eventSystemFlags|=u,r=s.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),s)}function rR(s,r,o,u,f){switch(r){case"focusin":return Ar=Vc(Ar,s,r,o,u,f),!0;case"dragenter":return Cr=Vc(Cr,s,r,o,u,f),!0;case"mouseover":return kr=Vc(kr,s,r,o,u,f),!0;case"pointerover":var y=f.pointerId;return jc.set(y,Vc(jc.get(y)||null,s,r,o,u,f)),!0;case"gotpointercapture":return y=f.pointerId,Mc.set(y,Vc(Mc.get(y)||null,s,r,o,u,f)),!0}return!1}function e_(s){var r=Bs(s.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){s.blockedOn=r,gs(s.priority,function(){W1(o)});return}}else if(r===31){if(r=d(o),r!==null){s.blockedOn=r,gs(s.priority,function(){W1(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){s.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}s.blockedOn=null}function cd(s){if(s.blockedOn!==null)return!1;for(var r=s.targetContainers;0<r.length;){var o=ng(s.nativeEvent);if(o===null){o=s.nativeEvent;var u=new o.constructor(o.type,o);Yl=u,o.target.dispatchEvent(u),Yl=null}else return r=Qn(o),r!==null&&X1(r),s.blockedOn=o,!1;r.shift()}return!0}function t_(s,r,o){cd(s)&&o.delete(r)}function aR(){ig=!1,Ar!==null&&cd(Ar)&&(Ar=null),Cr!==null&&cd(Cr)&&(Cr=null),kr!==null&&cd(kr)&&(kr=null),jc.forEach(t_),Mc.forEach(t_)}function ud(s,r){s.blockedOn===r&&(s.blockedOn=null,ig||(ig=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,aR)))}var hd=null;function n_(s){hd!==s&&(hd=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){hd===s&&(hd=null);for(var r=0;r<s.length;r+=3){var o=s[r],u=s[r+1],f=s[r+2];if(typeof u!="function"){if(sg(u||o)===null)continue;break}var y=Qn(o);y!==null&&(s.splice(r,3),r-=3,np(y,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function zo(s){function r(L){return ud(L,s)}Ar!==null&&ud(Ar,s),Cr!==null&&ud(Cr,s),kr!==null&&ud(kr,s),jc.forEach(r),Mc.forEach(r);for(var o=0;o<Nr.length;o++){var u=Nr[o];u.blockedOn===s&&(u.blockedOn=null)}for(;0<Nr.length&&(o=Nr[0],o.blockedOn===null);)e_(o),o.blockedOn===null&&Nr.shift();if(o=(s.ownerDocument||s).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],y=o[u+1],_=f[Yt]||null;if(typeof y=="function")_||n_(o);else if(_){var A=null;if(y&&y.hasAttribute("formAction")){if(f=y,_=y[Yt]||null)A=_.formAction;else if(sg(f)!==null)continue}else A=_.action;typeof A=="function"?o[u+1]=A:(o.splice(u,3),u-=3),n_(o)}}}function s_(){function s(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,f=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function rg(s){this._internalRoot=s}dd.prototype.render=rg.prototype.render=function(s){var r=this._internalRoot;if(r===null)throw Error(i(409));var o=r.current,u=qn();Y1(o,u,s,r,null,null)},dd.prototype.unmount=rg.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var r=s.containerInfo;Y1(s.current,2,null,s,null,null),$h(),r[Us]=null}};function dd(s){this._internalRoot=s}dd.prototype.unstable_scheduleHydration=function(s){if(s){var r=$u();s={blockedOn:null,target:s,priority:r};for(var o=0;o<Nr.length&&r!==0&&r<Nr[o].priority;o++);Nr.splice(o,0,s),o===0&&e_(s)}};var i_=e.version;if(i_!=="19.2.4")throw Error(i(527,i_,"19.2.4"));ee.findDOMNode=function(s){var r=s._reactInternals;if(r===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=p(r),s=s!==null?v(s):null,s=s===null?null:s.stateNode,s};var oR={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fd.isDisabled&&fd.supportsFiber)try{ms=fd.inject(oR),en=fd}catch{}}return Pc.createRoot=function(s,r){if(!a(s))throw Error(i(299));var o=!1,u="",f=hx,y=dx,_=fx;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError)),r=$1(s,1,!1,null,null,o,u,null,f,y,_,s_),s[Us]=r.current,zp(s),new rg(r)},Pc.hydrateRoot=function(s,r,o){if(!a(s))throw Error(i(299));var u=!1,f="",y=hx,_=dx,A=fx,L=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(_=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.formState!==void 0&&(L=o.formState)),r=$1(s,1,!0,r,o??null,u,f,L,y,_,A,s_),r.context=K1(null),o=r.current,u=qn(),u=aa(u),f=mr(u),f.callback=null,pr(o,f,u),o=u,r.current.lanes=o,ia(r,o),ti(r),s[Us]=r.current,zp(s),new dd(r)},Pc.version="19.2.4",Pc}var m_;function yR(){if(m_)return lg.exports;m_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),lg.exports=gR(),lg.exports}var vR=yR();const bR=SE(vR);var p_="popstate";function xR(t={}){function e(i,a){let{pathname:l,search:c,hash:d}=i.location;return Jg("",{pathname:l,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){return typeof a=="string"?a:iu(a)}return wR(e,n,null,t)}function yt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function js(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function _R(){return Math.random().toString(36).substring(2,10)}function g_(t,e){return{usr:t.state,key:t.key,idx:e}}function Jg(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?gl(e):e,state:n,key:e&&e.key||i||_R()}}function iu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function gl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function wR(t,e,n,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,c=a.history,d="POP",m=null,p=v();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function v(){return(c.state||{idx:null}).idx}function b(){d="POP";let O=v(),U=O==null?null:O-p;p=O,m&&m({action:d,location:P.location,delta:U})}function w(O,U){d="PUSH";let F=Jg(P.location,O,U);p=v()+1;let $=g_(F,p),oe=P.createHref(F);try{c.pushState($,"",oe)}catch(re){if(re instanceof DOMException&&re.name==="DataCloneError")throw re;a.location.assign(oe)}l&&m&&m({action:d,location:P.location,delta:1})}function C(O,U){d="REPLACE";let F=Jg(P.location,O,U);p=v();let $=g_(F,p),oe=P.createHref(F);c.replaceState($,"",oe),l&&m&&m({action:d,location:P.location,delta:0})}function M(O){return TR(O)}let P={get action(){return d},get location(){return t(a,c)},listen(O){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(p_,b),m=O,()=>{a.removeEventListener(p_,b),m=null}},createHref(O){return e(a,O)},createURL:M,encodeLocation(O){let U=M(O);return{pathname:U.pathname,search:U.search,hash:U.hash}},push:w,replace:C,go(O){return c.go(O)}};return P}function TR(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),yt(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:iu(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function AE(t,e,n="/"){return ER(t,e,n,!1)}function ER(t,e,n,i){let a=typeof e=="string"?gl(e):e,l=Bi(a.pathname||"/",n);if(l==null)return null;let c=CE(t);SR(c);let d=null;for(let m=0;d==null&&m<c.length;++m){let p=OR(l);d=MR(c[m],p,i)}return d}function CE(t,e=[],n=[],i="",a=!1){let l=(c,d,m=a,p)=>{let v={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(i)&&m)return;yt(v.relativePath.startsWith(i),`Absolute route path "${v.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(i.length)}let b=Ui([i,v.relativePath]),w=n.concat(v);c.children&&c.children.length>0&&(yt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),CE(c.children,e,w,b,m)),!(c.path==null&&!c.index)&&e.push({path:b,score:DR(b,c.index),routesMeta:w})};return t.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))l(c,d);else for(let m of kE(c.path))l(c,d,!0,m)}),e}function kE(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let c=kE(i.join("/")),d=[];return d.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&d.push(...c),d.map(m=>t.startsWith("/")&&m===""?"/":m)}function SR(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:jR(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var AR=/^:[\w-]+$/,CR=3,kR=2,NR=1,RR=10,IR=-2,y_=t=>t==="*";function DR(t,e){let n=t.split("/"),i=n.length;return n.some(y_)&&(i+=IR),e&&(i+=kR),n.filter(a=>!y_(a)).reduce((a,l)=>a+(AR.test(l)?CR:l===""?NR:RR),i)}function jR(t,e){return t.length===e.length&&t.slice(0,-1).every((i,a)=>i===e[a])?t[t.length-1]-e[e.length-1]:0}function MR(t,e,n=!1){let{routesMeta:i}=t,a={},l="/",c=[];for(let d=0;d<i.length;++d){let m=i[d],p=d===i.length-1,v=l==="/"?e:e.slice(l.length)||"/",b=Qd({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},v),w=m.route;if(!b&&p&&n&&!i[i.length-1].route.index&&(b=Qd({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},v)),!b)return null;Object.assign(a,b.params),c.push({params:a,pathname:Ui([l,b.pathname]),pathnameBase:zR(Ui([l,b.pathnameBase])),route:w}),b.pathnameBase!=="/"&&(l=Ui([l,b.pathnameBase]))}return c}function Qd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=VR(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:i.reduce((p,{paramName:v,isOptional:b},w)=>{if(v==="*"){let M=d[w]||"";c=l.slice(0,l.length-M.length).replace(/(.)\/+$/,"$1")}const C=d[w];return b&&!C?p[v]=void 0:p[v]=(C||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:t}}function VR(t,e=!1,n=!0){js(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,m)=>(i.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function OR(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return js(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Bi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}var PR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function LR(t,e="/"){let{pathname:n,search:i="",hash:a=""}=typeof t=="string"?gl(t):t,l;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?l=v_(n.substring(1),"/"):l=v_(n,e)):l=e,{pathname:l,search:BR(i),hash:FR(a)}}function v_(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function dg(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function UR(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Z0(t){let e=UR(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function ey(t,e,n,i=!1){let a;typeof t=="string"?a=gl(t):(a={...t},yt(!a.pathname||!a.pathname.includes("?"),dg("?","pathname","search",a)),yt(!a.pathname||!a.pathname.includes("#"),dg("#","pathname","hash",a)),yt(!a.search||!a.search.includes("#"),dg("#","search","hash",a)));let l=t===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=n;else{let b=e.length-1;if(!i&&c.startsWith("..")){let w=c.split("/");for(;w[0]==="..";)w.shift(),b-=1;a.pathname=w.join("/")}d=b>=0?e[b]:"/"}let m=LR(a,d),p=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(p||v)&&(m.pathname+="/"),m}var Ui=t=>t.join("/").replace(/\/\/+/g,"/"),zR=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),BR=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,FR=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,HR=class{constructor(t,e,n,i=!1){this.status=t,this.statusText=e||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function qR(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function GR(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var NE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function RE(t,e){let n=t;if(typeof n!="string"||!PR.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let i=n,a=!1;if(NE)try{let l=new URL(window.location.href),c=n.startsWith("//")?new URL(l.protocol+n):new URL(n),d=Bi(c.pathname,e);c.origin===l.origin&&d!=null?n=d+c.search+c.hash:a=!0}catch{js(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var IE=["POST","PUT","PATCH","DELETE"];new Set(IE);var $R=["GET",...IE];new Set($R);var yl=D.createContext(null);yl.displayName="DataRouter";var Nf=D.createContext(null);Nf.displayName="DataRouterState";var KR=D.createContext(!1),DE=D.createContext({isTransitioning:!1});DE.displayName="ViewTransition";var YR=D.createContext(new Map);YR.displayName="Fetchers";var QR=D.createContext(null);QR.displayName="Await";var Kn=D.createContext(null);Kn.displayName="Navigation";var _u=D.createContext(null);_u.displayName="Location";var ds=D.createContext({outlet:null,matches:[],isDataRoute:!1});ds.displayName="Route";var ty=D.createContext(null);ty.displayName="RouteError";var jE="REACT_ROUTER_ERROR",XR="REDIRECT",WR="ROUTE_ERROR_RESPONSE";function JR(t){if(t.startsWith(`${jE}:${XR}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function ZR(t){if(t.startsWith(`${jE}:${WR}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new HR(e.status,e.statusText,e.data)}catch{}}function eI(t,{relative:e}={}){yt(vl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=D.useContext(Kn),{hash:a,pathname:l,search:c}=wu(t,{relative:e}),d=l;return n!=="/"&&(d=l==="/"?n:Ui([n,l])),i.createHref({pathname:d,search:c,hash:a})}function vl(){return D.useContext(_u)!=null}function Yi(){return yt(vl(),"useLocation() may be used only in the context of a <Router> component."),D.useContext(_u).location}var ME="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function VE(t){D.useContext(Kn).static||D.useLayoutEffect(t)}function Rf(){let{isDataRoute:t}=D.useContext(ds);return t?gI():tI()}function tI(){yt(vl(),"useNavigate() may be used only in the context of a <Router> component.");let t=D.useContext(yl),{basename:e,navigator:n}=D.useContext(Kn),{matches:i}=D.useContext(ds),{pathname:a}=Yi(),l=JSON.stringify(Z0(i)),c=D.useRef(!1);return VE(()=>{c.current=!0}),D.useCallback((m,p={})=>{if(js(c.current,ME),!c.current)return;if(typeof m=="number"){n.go(m);return}let v=ey(m,JSON.parse(l),a,p.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Ui([e,v.pathname])),(p.replace?n.replace:n.push)(v,p.state,p)},[e,n,l,a,t])}var nI=D.createContext(null);function sI(t){let e=D.useContext(ds).outlet;return D.useMemo(()=>e&&D.createElement(nI.Provider,{value:t},e),[e,t])}function iI(){let{matches:t}=D.useContext(ds),e=t[t.length-1];return e?e.params:{}}function wu(t,{relative:e}={}){let{matches:n}=D.useContext(ds),{pathname:i}=Yi(),a=JSON.stringify(Z0(n));return D.useMemo(()=>ey(t,JSON.parse(a),i,e==="path"),[t,a,i,e])}function rI(t,e){return OE(t,e)}function OE(t,e,n,i,a){yt(vl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=D.useContext(Kn),{matches:c}=D.useContext(ds),d=c[c.length-1],m=d?d.params:{},p=d?d.pathname:"/",v=d?d.pathnameBase:"/",b=d&&d.route;{let F=b&&b.path||"";LE(p,!b||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let w=Yi(),C;if(e){let F=typeof e=="string"?gl(e):e;yt(v==="/"||F.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${F.pathname}" was given in the \`location\` prop.`),C=F}else C=w;let M=C.pathname||"/",P=M;if(v!=="/"){let F=v.replace(/^\//,"").split("/");P="/"+M.replace(/^\//,"").split("/").slice(F.length).join("/")}let O=AE(t,{pathname:P});js(b||O!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),js(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let U=uI(O&&O.map(F=>Object.assign({},F,{params:Object.assign({},m,F.params),pathname:Ui([v,l.encodeLocation?l.encodeLocation(F.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?v:Ui([v,l.encodeLocation?l.encodeLocation(F.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:F.pathnameBase])})),c,n,i,a);return e&&U?D.createElement(_u.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...C},navigationType:"POP"}},U):U}function aI(){let t=pI(),e=qR(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=D.createElement(D.Fragment,null,D.createElement("p",null," Hey developer "),D.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",D.createElement("code",{style:l},"ErrorBoundary")," or"," ",D.createElement("code",{style:l},"errorElement")," prop on your route.")),D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),n?D.createElement("pre",{style:a},n):null,c)}var oI=D.createElement(aI,null),PE=class extends D.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=ZR(t.digest);n&&(t=n)}let e=t!==void 0?D.createElement(ds.Provider,{value:this.props.routeContext},D.createElement(ty.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?D.createElement(lI,{error:t},e):e}};PE.contextType=KR;var fg=new WeakMap;function lI({children:t,error:e}){let{basename:n}=D.useContext(Kn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=JR(e.digest);if(i){let a=fg.get(e);if(a)throw a;let l=RE(i.location,n);if(NE&&!fg.get(e))if(l.isExternal||i.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:i.replace}));throw fg.set(e,c),c}return D.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return t}function cI({routeContext:t,match:e,children:n}){let i=D.useContext(yl);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),D.createElement(ds.Provider,{value:t},n)}function uI(t,e=[],n=null,i=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,c=n?.errors;if(c!=null){let v=l.findIndex(b=>b.route.id&&c?.[b.route.id]!==void 0);yt(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,v+1))}let d=!1,m=-1;if(n)for(let v=0;v<l.length;v++){let b=l[v];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(m=v),b.route.id){let{loaderData:w,errors:C}=n,M=b.route.loader&&!w.hasOwnProperty(b.route.id)&&(!C||C[b.route.id]===void 0);if(b.route.lazy||M){d=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}let p=n&&i?(v,b)=>{i(v,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:GR(n.matches),errorInfo:b})}:void 0;return l.reduceRight((v,b,w)=>{let C,M=!1,P=null,O=null;n&&(C=c&&b.route.id?c[b.route.id]:void 0,P=b.route.errorElement||oI,d&&(m<0&&w===0?(LE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),M=!0,O=null):m===w&&(M=!0,O=b.route.hydrateFallbackElement||null)));let U=e.concat(l.slice(0,w+1)),F=()=>{let $;return C?$=P:M?$=O:b.route.Component?$=D.createElement(b.route.Component,null):b.route.element?$=b.route.element:$=v,D.createElement(cI,{match:b,routeContext:{outlet:v,matches:U,isDataRoute:n!=null},children:$})};return n&&(b.route.ErrorBoundary||b.route.errorElement||w===0)?D.createElement(PE,{location:n.location,revalidation:n.revalidation,component:P,error:C,children:F(),routeContext:{outlet:null,matches:U,isDataRoute:!0},onError:p}):F()},null)}function ny(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hI(t){let e=D.useContext(yl);return yt(e,ny(t)),e}function dI(t){let e=D.useContext(Nf);return yt(e,ny(t)),e}function fI(t){let e=D.useContext(ds);return yt(e,ny(t)),e}function sy(t){let e=fI(t),n=e.matches[e.matches.length-1];return yt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function mI(){return sy("useRouteId")}function pI(){let t=D.useContext(ty),e=dI("useRouteError"),n=sy("useRouteError");return t!==void 0?t:e.errors?.[n]}function gI(){let{router:t}=hI("useNavigate"),e=sy("useNavigate"),n=D.useRef(!1);return VE(()=>{n.current=!0}),D.useCallback(async(a,l={})=>{js(n.current,ME),n.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var b_={};function LE(t,e,n){!e&&!b_[t]&&(b_[t]=!0,js(!1,n))}D.memo(yI);function yI({routes:t,future:e,state:n,onError:i}){return OE(t,void 0,n,i,e)}function vI({to:t,replace:e,state:n,relative:i}){yt(vl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=D.useContext(Kn);js(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=D.useContext(ds),{pathname:c}=Yi(),d=Rf(),m=ey(t,Z0(l),c,i==="path"),p=JSON.stringify(m);return D.useEffect(()=>{d(JSON.parse(p),{replace:e,state:n,relative:i})},[d,p,i,e,n]),null}function Mi(t){yt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function bI({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:a,static:l=!1,unstable_useTransitions:c}){yt(!vl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=t.replace(/^\/*/,"/"),m=D.useMemo(()=>({basename:d,navigator:a,static:l,unstable_useTransitions:c,future:{}}),[d,a,l,c]);typeof n=="string"&&(n=gl(n));let{pathname:p="/",search:v="",hash:b="",state:w=null,key:C="default"}=n,M=D.useMemo(()=>{let P=Bi(p,d);return P==null?null:{location:{pathname:P,search:v,hash:b,state:w,key:C},navigationType:i}},[d,p,v,b,w,C,i]);return js(M!=null,`<Router basename="${d}"> is not able to match the URL "${p}${v}${b}" because it does not start with the basename, so the <Router> won't render anything.`),M==null?null:D.createElement(Kn.Provider,{value:m},D.createElement(_u.Provider,{children:e,value:M}))}function xI({children:t,location:e}){return rI(Zg(t),e)}function Zg(t,e=[]){let n=[];return D.Children.forEach(t,(i,a)=>{if(!D.isValidElement(i))return;let l=[...e,a];if(i.type===D.Fragment){n.push.apply(n,Zg(i.props.children,l));return}yt(i.type===Mi,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),yt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=Zg(i.props.children,l)),n.push(c)}),n}var Rd="get",Id="application/x-www-form-urlencoded";function If(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function _I(t){return If(t)&&t.tagName.toLowerCase()==="button"}function wI(t){return If(t)&&t.tagName.toLowerCase()==="form"}function TI(t){return If(t)&&t.tagName.toLowerCase()==="input"}function EI(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function SI(t,e){return t.button===0&&(!e||e==="_self")&&!EI(t)}var md=null;function AI(){if(md===null)try{new FormData(document.createElement("form"),0),md=!1}catch{md=!0}return md}var CI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function mg(t){return t!=null&&!CI.has(t)?(js(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Id}"`),null):t}function kI(t,e){let n,i,a,l,c;if(wI(t)){let d=t.getAttribute("action");i=d?Bi(d,e):null,n=t.getAttribute("method")||Rd,a=mg(t.getAttribute("enctype"))||Id,l=new FormData(t)}else if(_I(t)||TI(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=t.getAttribute("formaction")||d.getAttribute("action");if(i=m?Bi(m,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||Rd,a=mg(t.getAttribute("formenctype"))||mg(d.getAttribute("enctype"))||Id,l=new FormData(d,t),!AI()){let{name:p,type:v,value:b}=t;if(v==="image"){let w=p?`${p}.`:"";l.append(`${w}x`,"0"),l.append(`${w}y`,"0")}else p&&l.append(p,b)}}else{if(If(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Rd,i=null,a=Id,c=t}return l&&a==="text/plain"&&(c=l,l=void 0),{action:i,method:n.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function iy(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function NI(t,e,n,i){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${i}`:a.pathname=`${a.pathname}.${i}`:a.pathname==="/"?a.pathname=`_root.${i}`:e&&Bi(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${i}`,a}async function RI(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function II(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function DI(t,e,n){let i=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await RI(l,n);return c.links?c.links():[]}return[]}));return OI(i.flat(1).filter(II).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function x_(t,e,n,i,a,l){let c=(m,p)=>n[p]?m.route.id!==n[p].route.id:!0,d=(m,p)=>n[p].pathname!==m.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==m.params["*"];return l==="assets"?e.filter((m,p)=>c(m,p)||d(m,p)):l==="data"?e.filter((m,p)=>{let v=i.routes[m.route.id];if(!v||!v.hasLoader)return!1;if(c(m,p)||d(m,p))return!0;if(m.route.shouldRevalidate){let b=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function jI(t,e,{includeHydrateFallback:n}={}){return MI(t.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function MI(t){return[...new Set(t)]}function VI(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function OI(t,e){let n=new Set;return new Set(e),t.reduce((i,a)=>{let l=JSON.stringify(VI(a));return n.has(l)||(n.add(l),i.push({key:l,link:a})),i},[])}function UE(){let t=D.useContext(yl);return iy(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function PI(){let t=D.useContext(Nf);return iy(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var ry=D.createContext(void 0);ry.displayName="FrameworkContext";function zE(){let t=D.useContext(ry);return iy(t,"You must render this element inside a <HydratedRouter> element"),t}function LI(t,e){let n=D.useContext(ry),[i,a]=D.useState(!1),[l,c]=D.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:p,onMouseLeave:v,onTouchStart:b}=e,w=D.useRef(null);D.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let P=U=>{U.forEach(F=>{c(F.isIntersecting)})},O=new IntersectionObserver(P,{threshold:.5});return w.current&&O.observe(w.current),()=>{O.disconnect()}}},[t]),D.useEffect(()=>{if(i){let P=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(P)}}},[i]);let C=()=>{a(!0)},M=()=>{a(!1),c(!1)};return n?t!=="intent"?[l,w,{}]:[l,w,{onFocus:Lc(d,C),onBlur:Lc(m,M),onMouseEnter:Lc(p,C),onMouseLeave:Lc(v,M),onTouchStart:Lc(b,C)}]:[!1,w,{}]}function Lc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function UI({page:t,...e}){let{router:n}=UE(),i=D.useMemo(()=>AE(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?D.createElement(BI,{page:t,matches:i,...e}):null}function zI(t){let{manifest:e,routeModules:n}=zE(),[i,a]=D.useState([]);return D.useEffect(()=>{let l=!1;return DI(t,e,n).then(c=>{l||a(c)}),()=>{l=!0}},[t,e,n]),i}function BI({page:t,matches:e,...n}){let i=Yi(),{future:a,manifest:l,routeModules:c}=zE(),{basename:d}=UE(),{loaderData:m,matches:p}=PI(),v=D.useMemo(()=>x_(t,e,p,l,i,"data"),[t,e,p,l,i]),b=D.useMemo(()=>x_(t,e,p,l,i,"assets"),[t,e,p,l,i]),w=D.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let P=new Set,O=!1;if(e.forEach(F=>{let $=l.routes[F.route.id];!$||!$.hasLoader||(!v.some(oe=>oe.route.id===F.route.id)&&F.route.id in m&&c[F.route.id]?.shouldRevalidate||$.hasClientLoader?O=!0:P.add(F.route.id))}),P.size===0)return[];let U=NI(t,d,a.unstable_trailingSlashAwareDataRequests,"data");return O&&P.size>0&&U.searchParams.set("_routes",e.filter(F=>P.has(F.route.id)).map(F=>F.route.id).join(",")),[U.pathname+U.search]},[d,a.unstable_trailingSlashAwareDataRequests,m,i,l,v,e,t,c]),C=D.useMemo(()=>jI(b,l),[b,l]),M=zI(b);return D.createElement(D.Fragment,null,w.map(P=>D.createElement("link",{key:P,rel:"prefetch",as:"fetch",href:P,...n})),C.map(P=>D.createElement("link",{key:P,rel:"modulepreload",href:P,...n})),M.map(({key:P,link:O})=>D.createElement("link",{key:P,nonce:n.nonce,...O,crossOrigin:O.crossOrigin??n.crossOrigin})))}function FI(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var HI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{HI&&(window.__reactRouterVersion="7.13.0")}catch{}function qI({basename:t,children:e,unstable_useTransitions:n,window:i}){let a=D.useRef();a.current==null&&(a.current=xR({window:i,v5Compat:!0}));let l=a.current,[c,d]=D.useState({action:l.action,location:l.location}),m=D.useCallback(p=>{n===!1?d(p):D.startTransition(()=>d(p))},[n]);return D.useLayoutEffect(()=>l.listen(m),[l,m]),D.createElement(bI,{basename:t,children:e,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:n})}var BE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,on=D.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:a,reloadDocument:l,replace:c,state:d,target:m,to:p,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:w,...C},M){let{basename:P,unstable_useTransitions:O}=D.useContext(Kn),U=typeof p=="string"&&BE.test(p),F=RE(p,P);p=F.to;let $=eI(p,{relative:a}),[oe,re,ue]=LI(i,C),j=YI(p,{replace:c,state:d,target:m,preventScrollReset:v,relative:a,viewTransition:b,unstable_defaultShouldRevalidate:w,unstable_useTransitions:O});function E(I){e&&e(I),I.defaultPrevented||j(I)}let S=D.createElement("a",{...C,...ue,href:F.absoluteURL||$,onClick:F.isExternal||l?e:E,ref:FI(M,re),target:m,"data-discover":!U&&n==="render"?"true":void 0});return oe&&!U?D.createElement(D.Fragment,null,S,D.createElement(UI,{page:$})):S});on.displayName="Link";var GI=D.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:a=!1,style:l,to:c,viewTransition:d,children:m,...p},v){let b=wu(c,{relative:p.relative}),w=Yi(),C=D.useContext(Nf),{navigator:M,basename:P}=D.useContext(Kn),O=C!=null&&ZI(b)&&d===!0,U=M.encodeLocation?M.encodeLocation(b).pathname:b.pathname,F=w.pathname,$=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;n||(F=F.toLowerCase(),$=$?$.toLowerCase():null,U=U.toLowerCase()),$&&P&&($=Bi($,P)||$);const oe=U!=="/"&&U.endsWith("/")?U.length-1:U.length;let re=F===U||!a&&F.startsWith(U)&&F.charAt(oe)==="/",ue=$!=null&&($===U||!a&&$.startsWith(U)&&$.charAt(U.length)==="/"),j={isActive:re,isPending:ue,isTransitioning:O},E=re?e:void 0,S;typeof i=="function"?S=i(j):S=[i,re?"active":null,ue?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let I=typeof l=="function"?l(j):l;return D.createElement(on,{...p,"aria-current":E,className:S,ref:v,style:I,to:c,viewTransition:d},typeof m=="function"?m(j):m)});GI.displayName="NavLink";var $I=D.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:a,state:l,method:c=Rd,action:d,onSubmit:m,relative:p,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:w,...C},M)=>{let{unstable_useTransitions:P}=D.useContext(Kn),O=WI(),U=JI(d,{relative:p}),F=c.toLowerCase()==="get"?"get":"post",$=typeof d=="string"&&BE.test(d),oe=re=>{if(m&&m(re),re.defaultPrevented)return;re.preventDefault();let ue=re.nativeEvent.submitter,j=ue?.getAttribute("formmethod")||c,E=()=>O(ue||re.currentTarget,{fetcherKey:e,method:j,navigate:n,replace:a,state:l,relative:p,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:w});P&&n!==!1?D.startTransition(()=>E()):E()};return D.createElement("form",{ref:M,method:F,action:U,onSubmit:i?m:oe,...C,"data-discover":!$&&t==="render"?"true":void 0})});$I.displayName="Form";function KI(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function FE(t){let e=D.useContext(yl);return yt(e,KI(t)),e}function YI(t,{target:e,replace:n,state:i,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:d,unstable_useTransitions:m}={}){let p=Rf(),v=Yi(),b=wu(t,{relative:l});return D.useCallback(w=>{if(SI(w,e)){w.preventDefault();let C=n!==void 0?n:iu(v)===iu(b),M=()=>p(t,{replace:C,state:i,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:d});m?D.startTransition(()=>M()):M()}},[v,p,b,n,i,e,t,a,l,c,d,m])}var QI=0,XI=()=>`__${String(++QI)}__`;function WI(){let{router:t}=FE("useSubmit"),{basename:e}=D.useContext(Kn),n=mI(),i=t.fetch,a=t.navigate;return D.useCallback(async(l,c={})=>{let{action:d,method:m,encType:p,formData:v,body:b}=kI(l,e);if(c.navigate===!1){let w=c.fetcherKey||XI();await i(w,n,c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:b,formMethod:c.method||m,formEncType:c.encType||p,flushSync:c.flushSync})}else await a(c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:b,formMethod:c.method||m,formEncType:c.encType||p,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[i,a,e,n])}function JI(t,{relative:e}={}){let{basename:n}=D.useContext(Kn),i=D.useContext(ds);yt(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...wu(t||".",{relative:e})},c=Yi();if(t==null){l.search=c.search;let d=new URLSearchParams(l.search),m=d.getAll("index");if(m.some(v=>v==="")){d.delete("index"),m.filter(b=>b).forEach(b=>d.append("index",b));let v=d.toString();l.search=v?`?${v}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Ui([n,l.pathname])),iu(l)}function ZI(t,{relative:e}={}){let n=D.useContext(DE);yt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=FE("useViewTransitionState"),a=wu(t,{relative:e});if(!n.isTransitioning)return!1;let l=Bi(n.currentLocation.pathname,i)||n.currentLocation.pathname,c=Bi(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Qd(a.pathname,c)!=null||Qd(a.pathname,l)!=null}const ay=D.createContext({});function oy(t){const e=D.useRef(null);return e.current===null&&(e.current=t()),e.current}const HE=typeof window<"u",qE=HE?D.useLayoutEffect:D.useEffect,Df=D.createContext(null);function ly(t,e){t.indexOf(e)===-1&&t.push(e)}function Xd(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const ui=(t,e,n)=>n>e?e:n<t?t:n;let cy=()=>{};const Fi={},GE=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function $E(t){return typeof t=="object"&&t!==null}const KE=t=>/^0[^.\s]+$/u.test(t);function uy(t){let e;return()=>(e===void 0&&(e=t()),e)}const cs=t=>t,e4=(t,e)=>n=>e(t(n)),Tu=(...t)=>t.reduce(e4),ru=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};class hy{constructor(){this.subscriptions=[]}add(e){return ly(this.subscriptions,e),()=>Xd(this.subscriptions,e)}notify(e,n,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,i);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Rs=t=>t*1e3,ls=t=>t/1e3;function YE(t,e){return e?t*(1e3/e):0}const QE=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,t4=1e-7,n4=12;function s4(t,e,n,i,a){let l,c,d=0;do c=e+(n-e)/2,l=QE(c,i,a)-t,l>0?n=c:e=c;while(Math.abs(l)>t4&&++d<n4);return c}function Eu(t,e,n,i){if(t===e&&n===i)return cs;const a=l=>s4(l,0,1,t,n);return l=>l===0||l===1?l:QE(a(l),e,i)}const XE=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,WE=t=>e=>1-t(1-e),JE=Eu(.33,1.53,.69,.99),dy=WE(JE),ZE=XE(dy),eS=t=>(t*=2)<1?.5*dy(t):.5*(2-Math.pow(2,-10*(t-1))),fy=t=>1-Math.sin(Math.acos(t)),tS=WE(fy),nS=XE(fy),i4=Eu(.42,0,1,1),r4=Eu(0,0,.58,1),sS=Eu(.42,0,.58,1),a4=t=>Array.isArray(t)&&typeof t[0]!="number",iS=t=>Array.isArray(t)&&typeof t[0]=="number",o4={linear:cs,easeIn:i4,easeInOut:sS,easeOut:r4,circIn:fy,circInOut:nS,circOut:tS,backIn:dy,backInOut:ZE,backOut:JE,anticipate:eS},l4=t=>typeof t=="string",__=t=>{if(iS(t)){cy(t.length===4);const[e,n,i,a]=t;return Eu(e,n,i,a)}else if(l4(t))return o4[t];return t},pd=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function c4(t,e){let n=new Set,i=new Set,a=!1,l=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function m(v){c.has(v)&&(p.schedule(v),t()),v(d)}const p={schedule:(v,b=!1,w=!1)=>{const M=w&&a?n:i;return b&&c.add(v),M.has(v)||M.add(v),v},cancel:v=>{i.delete(v),c.delete(v)},process:v=>{if(d=v,a){l=!0;return}a=!0,[n,i]=[i,n],n.forEach(m),n.clear(),a=!1,l&&(l=!1,p.process(v))}};return p}const u4=40;function rS(t,e){let n=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=pd.reduce(($,oe)=>($[oe]=c4(l),$),{}),{setup:d,read:m,resolveKeyframes:p,preUpdate:v,update:b,preRender:w,render:C,postRender:M}=c,P=()=>{const $=Fi.useManualTiming?a.timestamp:performance.now();n=!1,Fi.useManualTiming||(a.delta=i?1e3/60:Math.max(Math.min($-a.timestamp,u4),1)),a.timestamp=$,a.isProcessing=!0,d.process(a),m.process(a),p.process(a),v.process(a),b.process(a),w.process(a),C.process(a),M.process(a),a.isProcessing=!1,n&&e&&(i=!1,t(P))},O=()=>{n=!0,i=!0,a.isProcessing||t(P)};return{schedule:pd.reduce(($,oe)=>{const re=c[oe];return $[oe]=(ue,j=!1,E=!1)=>(n||O(),re.schedule(ue,j,E)),$},{}),cancel:$=>{for(let oe=0;oe<pd.length;oe++)c[pd[oe]].cancel($)},state:a,steps:c}}const{schedule:ht,cancel:qr,state:ln,steps:pg}=rS(typeof requestAnimationFrame<"u"?requestAnimationFrame:cs,!0);let Dd;function h4(){Dd=void 0}const wn={now:()=>(Dd===void 0&&wn.set(ln.isProcessing||Fi.useManualTiming?ln.timestamp:performance.now()),Dd),set:t=>{Dd=t,queueMicrotask(h4)}},aS=t=>e=>typeof e=="string"&&e.startsWith(t),oS=aS("--"),d4=aS("var(--"),my=t=>d4(t)?f4.test(t.split("/*")[0].trim()):!1,f4=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function w_(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const bl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},au={...bl,transform:t=>ui(0,1,t)},gd={...bl,default:1},Kc=t=>Math.round(t*1e5)/1e5,py=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function m4(t){return t==null}const p4=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,gy=(t,e)=>n=>!!(typeof n=="string"&&p4.test(n)&&n.startsWith(t)||e&&!m4(n)&&Object.prototype.hasOwnProperty.call(n,e)),lS=(t,e,n)=>i=>{if(typeof i!="string")return i;const[a,l,c,d]=i.match(py);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},g4=t=>ui(0,255,t),gg={...bl,transform:t=>Math.round(g4(t))},Va={test:gy("rgb","red"),parse:lS("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+gg.transform(t)+", "+gg.transform(e)+", "+gg.transform(n)+", "+Kc(au.transform(i))+")"};function y4(t){let e="",n="",i="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,i+=i,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const e0={test:gy("#"),parse:y4,transform:Va.transform},Su=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),jr=Su("deg"),ri=Su("%"),be=Su("px"),v4=Su("vh"),b4=Su("vw"),T_={...ri,parse:t=>ri.parse(t)/100,transform:t=>ri.transform(t*100)},Yo={test:gy("hsl","hue"),parse:lS("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+ri.transform(Kc(e))+", "+ri.transform(Kc(n))+", "+Kc(au.transform(i))+")"},zt={test:t=>Va.test(t)||e0.test(t)||Yo.test(t),parse:t=>Va.test(t)?Va.parse(t):Yo.test(t)?Yo.parse(t):e0.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Va.transform(t):Yo.transform(t),getAnimatableNone:t=>{const e=zt.parse(t);return e.alpha=0,zt.transform(e)}},x4=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function _4(t){return isNaN(t)&&typeof t=="string"&&(t.match(py)?.length||0)+(t.match(x4)?.length||0)>0}const cS="number",uS="color",w4="var",T4="var(",E_="${}",E4=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ou(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},a=[];let l=0;const d=e.replace(E4,m=>(zt.test(m)?(i.color.push(l),a.push(uS),n.push(zt.parse(m))):m.startsWith(T4)?(i.var.push(l),a.push(w4),n.push(m)):(i.number.push(l),a.push(cS),n.push(parseFloat(m))),++l,E_)).split(E_);return{values:n,split:d,indexes:i,types:a}}function hS(t){return ou(t).values}function dS(t){const{split:e,types:n}=ou(t),i=e.length;return a=>{let l="";for(let c=0;c<i;c++)if(l+=e[c],a[c]!==void 0){const d=n[c];d===cS?l+=Kc(a[c]):d===uS?l+=zt.transform(a[c]):l+=a[c]}return l}}const S4=t=>typeof t=="number"?0:zt.test(t)?zt.getAnimatableNone(t):t;function A4(t){const e=hS(t);return dS(t)(e.map(S4))}const Gr={test:_4,parse:hS,createTransformer:dS,getAnimatableNone:A4};function yg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function C4({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let a=0,l=0,c=0;if(!e)a=l=c=n;else{const d=n<.5?n*(1+e):n+e-n*e,m=2*n-d;a=yg(m,d,t+1/3),l=yg(m,d,t),c=yg(m,d,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:i}}function Wd(t,e){return n=>n>0?e:t}const vt=(t,e,n)=>t+(e-t)*n,vg=(t,e,n)=>{const i=t*t,a=n*(e*e-i)+i;return a<0?0:Math.sqrt(a)},k4=[e0,Va,Yo],N4=t=>k4.find(e=>e.test(t));function S_(t){const e=N4(t);if(!e)return!1;let n=e.parse(t);return e===Yo&&(n=C4(n)),n}const A_=(t,e)=>{const n=S_(t),i=S_(e);if(!n||!i)return Wd(t,e);const a={...n};return l=>(a.red=vg(n.red,i.red,l),a.green=vg(n.green,i.green,l),a.blue=vg(n.blue,i.blue,l),a.alpha=vt(n.alpha,i.alpha,l),Va.transform(a))},t0=new Set(["none","hidden"]);function R4(t,e){return t0.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function I4(t,e){return n=>vt(t,e,n)}function yy(t){return typeof t=="number"?I4:typeof t=="string"?my(t)?Wd:zt.test(t)?A_:M4:Array.isArray(t)?fS:typeof t=="object"?zt.test(t)?A_:D4:Wd}function fS(t,e){const n=[...t],i=n.length,a=t.map((l,c)=>yy(l)(l,e[c]));return l=>{for(let c=0;c<i;c++)n[c]=a[c](l);return n}}function D4(t,e){const n={...t,...e},i={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(i[a]=yy(t[a])(t[a],e[a]));return a=>{for(const l in i)n[l]=i[l](a);return n}}function j4(t,e){const n=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],c=t.indexes[l][i[l]],d=t.values[c]??0;n[a]=d,i[l]++}return n}const M4=(t,e)=>{const n=Gr.createTransformer(e),i=ou(t),a=ou(e);return i.indexes.var.length===a.indexes.var.length&&i.indexes.color.length===a.indexes.color.length&&i.indexes.number.length>=a.indexes.number.length?t0.has(t)&&!a.values.length||t0.has(e)&&!i.values.length?R4(t,e):Tu(fS(j4(i,a),a.values),n):Wd(t,e)};function mS(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?vt(t,e,n):yy(t)(t,e)}const V4=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>ht.update(e,n),stop:()=>qr(e),now:()=>ln.isProcessing?ln.timestamp:wn.now()}},pS=(t,e,n=10)=>{let i="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)i+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},Jd=2e4;function vy(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<Jd;)e+=n,i=t.next(e);return e>=Jd?1/0:e}function O4(t,e=100,n){const i=n({...t,keyframes:[0,e]}),a=Math.min(vy(i),Jd);return{type:"keyframes",ease:l=>i.next(a*l).value/e,duration:ls(a)}}const P4=5;function gS(t,e,n){const i=Math.max(e-P4,0);return YE(n-t(i),e-i)}const Tt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},bg=.001;function L4({duration:t=Tt.duration,bounce:e=Tt.bounce,velocity:n=Tt.velocity,mass:i=Tt.mass}){let a,l,c=1-e;c=ui(Tt.minDamping,Tt.maxDamping,c),t=ui(Tt.minDuration,Tt.maxDuration,ls(t)),c<1?(a=p=>{const v=p*c,b=v*t,w=v-n,C=n0(p,c),M=Math.exp(-b);return bg-w/C*M},l=p=>{const b=p*c*t,w=b*n+n,C=Math.pow(c,2)*Math.pow(p,2)*t,M=Math.exp(-b),P=n0(Math.pow(p,2),c);return(-a(p)+bg>0?-1:1)*((w-C)*M)/P}):(a=p=>{const v=Math.exp(-p*t),b=(p-n)*t+1;return-bg+v*b},l=p=>{const v=Math.exp(-p*t),b=(n-p)*(t*t);return v*b});const d=5/t,m=z4(a,l,d);if(t=Rs(t),isNaN(m))return{stiffness:Tt.stiffness,damping:Tt.damping,duration:t};{const p=Math.pow(m,2)*i;return{stiffness:p,damping:c*2*Math.sqrt(i*p),duration:t}}}const U4=12;function z4(t,e,n){let i=n;for(let a=1;a<U4;a++)i=i-t(i)/e(i);return i}function n0(t,e){return t*Math.sqrt(1-e*e)}const B4=["duration","bounce"],F4=["stiffness","damping","mass"];function C_(t,e){return e.some(n=>t[n]!==void 0)}function H4(t){let e={velocity:Tt.velocity,stiffness:Tt.stiffness,damping:Tt.damping,mass:Tt.mass,isResolvedFromDuration:!1,...t};if(!C_(t,F4)&&C_(t,B4))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),a=i*i,l=2*ui(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:Tt.mass,stiffness:a,damping:l}}else{const n=L4(t);e={...e,...n,mass:Tt.mass},e.isResolvedFromDuration=!0}return e}function Zd(t=Tt.visualDuration,e=Tt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],d={done:!1,value:l},{stiffness:m,damping:p,mass:v,duration:b,velocity:w,isResolvedFromDuration:C}=H4({...n,velocity:-ls(n.velocity||0)}),M=w||0,P=p/(2*Math.sqrt(m*v)),O=c-l,U=ls(Math.sqrt(m/v)),F=Math.abs(O)<5;i||(i=F?Tt.restSpeed.granular:Tt.restSpeed.default),a||(a=F?Tt.restDelta.granular:Tt.restDelta.default);let $;if(P<1){const re=n0(U,P);$=ue=>{const j=Math.exp(-P*U*ue);return c-j*((M+P*U*O)/re*Math.sin(re*ue)+O*Math.cos(re*ue))}}else if(P===1)$=re=>c-Math.exp(-U*re)*(O+(M+U*O)*re);else{const re=U*Math.sqrt(P*P-1);$=ue=>{const j=Math.exp(-P*U*ue),E=Math.min(re*ue,300);return c-j*((M+P*U*O)*Math.sinh(E)+re*O*Math.cosh(E))/re}}const oe={calculatedDuration:C&&b||null,next:re=>{const ue=$(re);if(C)d.done=re>=b;else{let j=re===0?M:0;P<1&&(j=re===0?Rs(M):gS($,re,ue));const E=Math.abs(j)<=i,S=Math.abs(c-ue)<=a;d.done=E&&S}return d.value=d.done?c:ue,d},toString:()=>{const re=Math.min(vy(oe),Jd),ue=pS(j=>oe.next(re*j).value,re,30);return re+"ms "+ue},toTransition:()=>{}};return oe}Zd.applyToOptions=t=>{const e=O4(t,100,Zd);return t.ease=e.ease,t.duration=Rs(e.duration),t.type="keyframes",t};function s0({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:d,max:m,restDelta:p=.5,restSpeed:v}){const b=t[0],w={done:!1,value:b},C=E=>d!==void 0&&E<d||m!==void 0&&E>m,M=E=>d===void 0?m:m===void 0||Math.abs(d-E)<Math.abs(m-E)?d:m;let P=n*e;const O=b+P,U=c===void 0?O:c(O);U!==O&&(P=U-b);const F=E=>-P*Math.exp(-E/i),$=E=>U+F(E),oe=E=>{const S=F(E),I=$(E);w.done=Math.abs(S)<=p,w.value=w.done?U:I};let re,ue;const j=E=>{C(w.value)&&(re=E,ue=Zd({keyframes:[w.value,M(w.value)],velocity:gS($,E,w.value),damping:a,stiffness:l,restDelta:p,restSpeed:v}))};return j(0),{calculatedDuration:null,next:E=>{let S=!1;return!ue&&re===void 0&&(S=!0,oe(E),j(E)),re!==void 0&&E>=re?ue.next(E-re):(!S&&oe(E),w)}}}function q4(t,e,n){const i=[],a=n||Fi.mix||mS,l=t.length-1;for(let c=0;c<l;c++){let d=a(t[c],t[c+1]);if(e){const m=Array.isArray(e)?e[c]||cs:e;d=Tu(m,d)}i.push(d)}return i}function G4(t,e,{clamp:n=!0,ease:i,mixer:a}={}){const l=t.length;if(cy(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=q4(e,i,a),m=d.length,p=v=>{if(c&&v<t[0])return e[0];let b=0;if(m>1)for(;b<t.length-2&&!(v<t[b+1]);b++);const w=ru(t[b],t[b+1],v);return d[b](w)};return n?v=>p(ui(t[0],t[l-1],v)):p}function $4(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const a=ru(0,e,i);t.push(vt(n,1,a))}}function K4(t){const e=[0];return $4(e,t.length-1),e}function Y4(t,e){return t.map(n=>n*e)}function Q4(t,e){return t.map(()=>e||sS).splice(0,t.length-1)}function Yc({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const a=a4(i)?i.map(__):__(i),l={done:!1,value:e[0]},c=Y4(n&&n.length===e.length?n:K4(e),t),d=G4(c,e,{ease:Array.isArray(a)?a:Q4(e,a)});return{calculatedDuration:t,next:m=>(l.value=d(m),l.done=m>=t,l)}}const X4=t=>t!==null;function by(t,{repeat:e,repeatType:n="loop"},i,a=1){const l=t.filter(X4),d=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!d||i===void 0?l[d]:i}const W4={decay:s0,inertia:s0,tween:Yc,keyframes:Yc,spring:Zd};function yS(t){typeof t.type=="string"&&(t.type=W4[t.type])}class xy{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const J4=t=>t/100;class _y extends xy{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==wn.now()&&this.tick(wn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;yS(e);const{type:n=Yc,repeat:i=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=e;let{keyframes:d}=e;const m=n||Yc;m!==Yc&&typeof d[0]!="number"&&(this.mixKeyframes=Tu(J4,mS(d[0],d[1])),d=[0,100]);const p=m({...e,keyframes:d});l==="mirror"&&(this.mirroredGenerator=m({...e,keyframes:[...d].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=vy(p));const{calculatedDuration:v}=p;this.calculatedDuration=v,this.resolvedDuration=v+a,this.totalDuration=this.resolvedDuration*(i+1)-a,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:i,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:m}=this;if(this.startTime===null)return i.next(0);const{delay:p=0,keyframes:v,repeat:b,repeatType:w,repeatDelay:C,type:M,onUpdate:P,finalKeyframe:O}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const U=this.currentTime-p*(this.playbackSpeed>=0?1:-1),F=this.playbackSpeed>=0?U<0:U>a;this.currentTime=Math.max(U,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let $=this.currentTime,oe=i;if(b){const E=Math.min(this.currentTime,a)/d;let S=Math.floor(E),I=E%1;!I&&E>=1&&(I=1),I===1&&S--,S=Math.min(S,b+1),S%2&&(w==="reverse"?(I=1-I,C&&(I-=C/d)):w==="mirror"&&(oe=c)),$=ui(0,1,I)*d}const re=F?{done:!1,value:v[0]}:oe.next($);l&&(re.value=l(re.value));let{done:ue}=re;!F&&m!==null&&(ue=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const j=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ue);return j&&M!==s0&&(re.value=by(v,this.options,O,this.speed)),P&&P(re.value),j&&this.finish(),re}then(e,n){return this.finished.then(e,n)}get duration(){return ls(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ls(e)}get time(){return ls(this.currentTime)}set time(e){e=Rs(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(wn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ls(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=V4,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(wn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function Z4(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Oa=t=>t*180/Math.PI,i0=t=>{const e=Oa(Math.atan2(t[1],t[0]));return r0(e)},eD={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:i0,rotateZ:i0,skewX:t=>Oa(Math.atan(t[1])),skewY:t=>Oa(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},r0=t=>(t=t%360,t<0&&(t+=360),t),k_=i0,N_=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),R_=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),tD={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:N_,scaleY:R_,scale:t=>(N_(t)+R_(t))/2,rotateX:t=>r0(Oa(Math.atan2(t[6],t[5]))),rotateY:t=>r0(Oa(Math.atan2(-t[2],t[0]))),rotateZ:k_,rotate:k_,skewX:t=>Oa(Math.atan(t[4])),skewY:t=>Oa(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function a0(t){return t.includes("scale")?1:0}function o0(t,e){if(!t||t==="none")return a0(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,a;if(n)i=tD,a=n;else{const d=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=eD,a=d}if(!a)return a0(e);const l=i[e],c=a[1].split(",").map(sD);return typeof l=="function"?l(c):c[l]}const nD=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return o0(n,e)};function sD(t){return parseFloat(t.trim())}const xl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],_l=new Set(xl),I_=t=>t===bl||t===be,iD=new Set(["x","y","z"]),rD=xl.filter(t=>!iD.has(t));function aD(t){const e=[];return rD.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const Pr={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>o0(e,"x"),y:(t,{transform:e})=>o0(e,"y")};Pr.translateX=Pr.x;Pr.translateY=Pr.y;const Ua=new Set;let l0=!1,c0=!1,u0=!1;function vS(){if(c0){const t=Array.from(Ua).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const a=aD(i);a.length&&(n.set(i,a),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const a=n.get(i);a&&a.forEach(([l,c])=>{i.getValue(l)?.set(c)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}c0=!1,l0=!1,Ua.forEach(t=>t.complete(u0)),Ua.clear()}function bS(){Ua.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(c0=!0)})}function oD(){u0=!0,bS(),vS(),u0=!1}class wy{constructor(e,n,i,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Ua.add(this),l0||(l0=!0,ht.read(bS),ht.resolveKeyframes(vS))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:a}=this;if(e[0]===null){const l=a?.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(i&&n){const d=i.readValue(n,c);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=c),a&&l===void 0&&a.set(e[0])}Z4(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ua.delete(this)}cancel(){this.state==="scheduled"&&(Ua.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const lD=t=>t.startsWith("--");function cD(t,e,n){lD(e)?t.style.setProperty(e,n):t.style[e]=n}const uD=uy(()=>window.ScrollTimeline!==void 0),hD={};function dD(t,e){const n=uy(t);return()=>hD[e]??n()}const xS=dD(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Fc=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,D_={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Fc([0,.65,.55,1]),circOut:Fc([.55,0,1,.45]),backIn:Fc([.31,.01,.66,-.59]),backOut:Fc([.33,1.53,.69,.99])};function _S(t,e){if(t)return typeof t=="function"?xS()?pS(t,e):"ease-out":iS(t)?Fc(t):Array.isArray(t)?t.map(n=>_S(n,e)||D_.easeOut):D_[t]}function fD(t,e,n,{delay:i=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:d="easeOut",times:m}={},p=void 0){const v={[e]:n};m&&(v.offset=m);const b=_S(d,a);Array.isArray(b)&&(v.easing=b);const w={delay:i,duration:a,easing:Array.isArray(b)?"linear":b,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return p&&(w.pseudoElement=p),t.animate(v,w)}function wS(t){return typeof t=="function"&&"applyToOptions"in t}function mD({type:t,...e}){return wS(t)&&xS()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class TS extends xy{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:i,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:d,onComplete:m}=e;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=e,cy(typeof e.type!="string");const p=mD(e);this.animation=fD(n,i,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const v=by(a,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(v):cD(n,i,v),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){const e=this.options?.element;!this.isPseudoElement&&e?.isConnected&&this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return ls(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ls(e)}get time(){return ls(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Rs(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&uD()?(this.animation.timeline=e,cs):n(this)}}const ES={anticipate:eS,backInOut:ZE,circInOut:nS};function pD(t){return t in ES}function gD(t){typeof t.ease=="string"&&pD(t.ease)&&(t.ease=ES[t.ease])}const xg=10;class yD extends TS{constructor(e){gD(e),yS(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:i,onComplete:a,element:l,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const d=new _y({...c,autoplay:!1}),m=Math.max(xg,wn.now()-this.startTime),p=ui(0,xg,m-xg);n.setWithVelocity(d.sample(Math.max(0,m-p)).value,d.sample(m).value,p),d.stop()}}const j_=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Gr.test(t)||t==="0")&&!t.startsWith("url("));function vD(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function bD(t,e,n,i){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=j_(a,e),d=j_(l,e);return!c||!d?!1:vD(t)||(n==="spring"||wS(n))&&i}function h0(t){t.duration=0,t.type="keyframes"}const xD=new Set(["opacity","clipPath","filter","transform"]),_D=uy(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function wD(t){const{motionValue:e,name:n,repeatDelay:i,repeatType:a,damping:l,type:c}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:p}=e.owner.getProps();return _D()&&n&&xD.has(n)&&(n!=="transform"||!p)&&!m&&!i&&a!=="mirror"&&l!==0&&c!=="inertia"}const TD=40;class ED extends xy{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:d,name:m,motionValue:p,element:v,...b}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=wn.now();const w={autoplay:e,delay:n,type:i,repeat:a,repeatDelay:l,repeatType:c,name:m,motionValue:p,element:v,...b},C=v?.KeyframeResolver||wy;this.keyframeResolver=new C(d,(M,P,O)=>this.onKeyframesResolved(M,P,w,!O),m,p,v),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,i,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:d,delay:m,isHandoff:p,onUpdate:v}=i;this.resolvedAt=wn.now(),bD(e,l,c,d)||((Fi.instantAnimations||!m)&&v?.(by(e,i,n)),e[0]=e[e.length-1],h0(i),i.repeat=0);const w={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>TD?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:e},C=!p&&wD(w),M=w.motionValue?.owner?.current,P=C?new yD({...w,element:M}):new _y(w);P.finished.then(()=>{this.notifyFinished()}).catch(cs),this.pendingTimeline&&(this.stopTimeline=P.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=P}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),oD()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function SS(t,e,n,i=0,a=1){const l=Array.from(t).sort((p,v)=>p.sortNodePosition(v)).indexOf(e),c=t.size,d=(c-1)*i;return typeof n=="function"?n(l,c):a===1?l*i:d-l*i}const SD=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function AD(t){const e=SD.exec(t);if(!e)return[,];const[,n,i,a]=e;return[`--${n??i}`,a]}function AS(t,e,n=1){const[i,a]=AD(t);if(!i)return;const l=window.getComputedStyle(e).getPropertyValue(i);if(l){const c=l.trim();return GE(c)?parseFloat(c):c}return my(a)?AS(a,e,n+1):a}const CD={type:"spring",stiffness:500,damping:25,restSpeed:10},kD=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),ND={type:"keyframes",duration:.8},RD={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},ID=(t,{keyframes:e})=>e.length>2?ND:_l.has(t)?t.startsWith("scale")?kD(e[1]):CD:RD,DD=t=>t!==null;function jD(t,{repeat:e,repeatType:n="loop"},i){const a=t.filter(DD),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}function CS(t,e){if(t?.inherit&&e){const{inherit:n,...i}=t;return{...e,...i}}return t}function Ty(t,e){const n=t?.[e]??t?.default??t;return n!==t?CS(n,t):n}function MD({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:d,from:m,elapsed:p,...v}){return!!Object.keys(v).length}const Ey=(t,e,n,i={},a,l)=>c=>{const d=Ty(i,t)||{},m=d.delay||i.delay||0;let{elapsed:p=0}=i;p=p-Rs(m);const v={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-p,onUpdate:w=>{e.set(w),d.onUpdate&&d.onUpdate(w)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:l?void 0:a};MD(d)||Object.assign(v,ID(t,v)),v.duration&&(v.duration=Rs(v.duration)),v.repeatDelay&&(v.repeatDelay=Rs(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let b=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(h0(v),v.delay===0&&(b=!0)),(Fi.instantAnimations||Fi.skipAnimations||a?.shouldSkipAnimations)&&(b=!0,h0(v),v.delay=0),v.allowFlatten=!d.type&&!d.ease,b&&!l&&e.get()!==void 0){const w=jD(v.keyframes,d);if(w!==void 0){ht.update(()=>{v.onUpdate(w),v.onComplete()});return}}return d.isSync?new _y(v):new ED(v)};function M_(t){const e=[{},{}];return t?.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function Sy(t,e,n,i){if(typeof e=="function"){const[a,l]=M_(i);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=M_(i);e=e(n!==void 0?n:t.custom,a,l)}return e}function Zo(t,e,n){const i=t.getProps();return Sy(i,e,n!==void 0?n:i.custom,t)}const kS=new Set(["width","height","top","left","right","bottom",...xl]),V_=30,VD=t=>!isNaN(parseFloat(t));class OD{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const a=wn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=wn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=VD(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new hy);const i=this.events[e].add(n);return e==="change"?()=>{i(),ht.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=wn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>V_)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,V_);return YE(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function al(t,e){return new OD(t,e)}const d0=t=>Array.isArray(t);function PD(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,al(n))}function LD(t){return d0(t)?t[t.length-1]||0:t}function UD(t,e){const n=Zo(t,e);let{transitionEnd:i={},transition:a={},...l}=n||{};l={...l,...i};for(const c in l){const d=LD(l[c]);PD(t,c,d)}}const gn=t=>!!(t&&t.getVelocity);function zD(t){return!!(gn(t)&&t.add)}function f0(t,e){const n=t.getValue("willChange");if(zD(n))return n.add(e);if(!n&&Fi.WillChange){const i=new Fi.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function Ay(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const BD="framerAppearId",NS="data-"+Ay(BD);function RS(t){return t.props[NS]}function FD({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function IS(t,e,{delay:n=0,transitionOverride:i,type:a}={}){let{transition:l,transitionEnd:c,...d}=e;const m=t.getDefaultTransition();l=l?CS(l,m):m;const p=l?.reduceMotion;i&&(l=i);const v=[],b=a&&t.animationState&&t.animationState.getState()[a];for(const w in d){const C=t.getValue(w,t.latestValues[w]??null),M=d[w];if(M===void 0||b&&FD(b,w))continue;const P={delay:n,...Ty(l||{},w)},O=C.get();if(O!==void 0&&!C.isAnimating&&!Array.isArray(M)&&M===O&&!P.velocity)continue;let U=!1;if(window.MotionHandoffAnimation){const oe=RS(t);if(oe){const re=window.MotionHandoffAnimation(oe,w,ht);re!==null&&(P.startTime=re,U=!0)}}f0(t,w);const F=p??t.shouldReduceMotion;C.start(Ey(w,C,M,F&&kS.has(w)?{type:!1}:P,t,U));const $=C.animation;$&&v.push($)}if(c){const w=()=>ht.update(()=>{c&&UD(t,c)});v.length?Promise.all(v).then(w):w()}return v}function m0(t,e,n={}){const i=Zo(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(a=n.transitionOverride);const l=i?()=>Promise.all(IS(t,i,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:p=0,staggerChildren:v,staggerDirection:b}=a;return HD(t,e,m,p,v,b,n)}:()=>Promise.resolve(),{when:d}=a;if(d){const[m,p]=d==="beforeChildren"?[l,c]:[c,l];return m().then(()=>p())}else return Promise.all([l(),c(n.delay)])}function HD(t,e,n=0,i=0,a=0,l=1,c){const d=[];for(const m of t.variantChildren)m.notify("AnimationStart",e),d.push(m0(m,e,{...c,delay:n+(typeof i=="function"?0:i)+SS(t.variantChildren,m,i,a,l)}).then(()=>m.notify("AnimationComplete",e)));return Promise.all(d)}function qD(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const a=e.map(l=>m0(t,l,n));i=Promise.all(a)}else if(typeof e=="string")i=m0(t,e,n);else{const a=typeof e=="function"?Zo(t,e,n.custom):e;i=Promise.all(IS(t,a,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}const GD={test:t=>t==="auto",parse:t=>t},DS=t=>e=>e.test(t),jS=[bl,be,ri,jr,b4,v4,GD],O_=t=>jS.find(DS(t));function $D(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||KE(t):!0}const KD=new Set(["brightness","contrast","saturate","opacity"]);function YD(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(py)||[];if(!i)return t;const a=n.replace(i,"");let l=KD.has(e)?1:0;return i!==n&&(l*=100),e+"("+l+a+")"}const QD=/\b([a-z-]*)\(.*?\)/gu,p0={...Gr,getAnimatableNone:t=>{const e=t.match(QD);return e?e.map(YD).join(" "):t}},P_={...bl,transform:Math.round},XD={rotate:jr,rotateX:jr,rotateY:jr,rotateZ:jr,scale:gd,scaleX:gd,scaleY:gd,scaleZ:gd,skew:jr,skewX:jr,skewY:jr,distance:be,translateX:be,translateY:be,translateZ:be,x:be,y:be,z:be,perspective:be,transformPerspective:be,opacity:au,originX:T_,originY:T_,originZ:be},Cy={borderWidth:be,borderTopWidth:be,borderRightWidth:be,borderBottomWidth:be,borderLeftWidth:be,borderRadius:be,borderTopLeftRadius:be,borderTopRightRadius:be,borderBottomRightRadius:be,borderBottomLeftRadius:be,width:be,maxWidth:be,height:be,maxHeight:be,top:be,right:be,bottom:be,left:be,inset:be,insetBlock:be,insetBlockStart:be,insetBlockEnd:be,insetInline:be,insetInlineStart:be,insetInlineEnd:be,padding:be,paddingTop:be,paddingRight:be,paddingBottom:be,paddingLeft:be,paddingBlock:be,paddingBlockStart:be,paddingBlockEnd:be,paddingInline:be,paddingInlineStart:be,paddingInlineEnd:be,margin:be,marginTop:be,marginRight:be,marginBottom:be,marginLeft:be,marginBlock:be,marginBlockStart:be,marginBlockEnd:be,marginInline:be,marginInlineStart:be,marginInlineEnd:be,fontSize:be,backgroundPositionX:be,backgroundPositionY:be,...XD,zIndex:P_,fillOpacity:au,strokeOpacity:au,numOctaves:P_},WD={...Cy,color:zt,backgroundColor:zt,outlineColor:zt,fill:zt,stroke:zt,borderColor:zt,borderTopColor:zt,borderRightColor:zt,borderBottomColor:zt,borderLeftColor:zt,filter:p0,WebkitFilter:p0},MS=t=>WD[t];function VS(t,e){let n=MS(t);return n!==p0&&(n=Gr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const JD=new Set(["auto","none","0"]);function ZD(t,e,n){let i=0,a;for(;i<t.length&&!a;){const l=t[i];typeof l=="string"&&!JD.has(l)&&ou(l).values.length&&(a=t[i]),i++}if(a&&n)for(const l of e)t[l]=VS(n,a)}class e5 extends wy{constructor(e,n,i,a,l){super(e,n,i,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let v=0;v<e.length;v++){let b=e[v];if(typeof b=="string"&&(b=b.trim(),my(b))){const w=AS(b,n.current);w!==void 0&&(e[v]=w),v===e.length-1&&(this.finalKeyframe=b)}}if(this.resolveNoneKeyframes(),!kS.has(i)||e.length!==2)return;const[a,l]=e,c=O_(a),d=O_(l),m=w_(a),p=w_(l);if(m!==p&&Pr[i]){this.needsMeasurement=!0;return}if(c!==d)if(I_(c)&&I_(d))for(let v=0;v<e.length;v++){const b=e[v];typeof b=="string"&&(e[v]=parseFloat(b))}else Pr[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let a=0;a<e.length;a++)(e[a]===null||$D(e[a]))&&i.push(a);i.length&&ZD(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Pr[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(i,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=i.length-1,c=i[l];i[l]=Pr[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,m])=>{e.getValue(d).set(m)}),this.resolveNoneKeyframes()}}const t5=new Set(["opacity","clipPath","filter","transform"]);function OS(t,e,n){if(t==null)return[];if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const a=n?.[t]??i.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t).filter(i=>i!=null)}const PS=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function g0(t){return $E(t)&&"offsetHeight"in t}const{schedule:ky}=rS(queueMicrotask,!1),Cs={x:!1,y:!1};function LS(){return Cs.x||Cs.y}function n5(t){return t==="x"||t==="y"?Cs[t]?null:(Cs[t]=!0,()=>{Cs[t]=!1}):Cs.x||Cs.y?null:(Cs.x=Cs.y=!0,()=>{Cs.x=Cs.y=!1})}function US(t,e){const n=OS(t),i=new AbortController,a={passive:!0,...e,signal:i.signal};return[n,a,()=>i.abort()]}function s5(t){return!(t.pointerType==="touch"||LS())}function i5(t,e,n={}){const[i,a,l]=US(t,n);return i.forEach(c=>{let d=!1,m=!1,p;const v=()=>{c.removeEventListener("pointerleave",M)},b=O=>{p&&(p(O),p=void 0),v()},w=O=>{d=!1,window.removeEventListener("pointerup",w),window.removeEventListener("pointercancel",w),m&&(m=!1,b(O))},C=()=>{d=!0,window.addEventListener("pointerup",w,a),window.addEventListener("pointercancel",w,a)},M=O=>{if(O.pointerType!=="touch"){if(d){m=!0;return}b(O)}},P=O=>{if(!s5(O))return;m=!1;const U=e(c,O);typeof U=="function"&&(p=U,c.addEventListener("pointerleave",M,a))};c.addEventListener("pointerenter",P,a),c.addEventListener("pointerdown",C,a)}),l}const zS=(t,e)=>e?t===e?!0:zS(t,e.parentElement):!1,Ny=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,r5=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function a5(t){return r5.has(t.tagName)||t.isContentEditable===!0}const o5=new Set(["INPUT","SELECT","TEXTAREA"]);function l5(t){return o5.has(t.tagName)||t.isContentEditable===!0}const jd=new WeakSet;function L_(t){return e=>{e.key==="Enter"&&t(e)}}function _g(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const c5=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=L_(()=>{if(jd.has(n))return;_g(n,"down");const a=L_(()=>{_g(n,"up")}),l=()=>_g(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function U_(t){return Ny(t)&&!LS()}const z_=new WeakSet;function u5(t,e,n={}){const[i,a,l]=US(t,n),c=d=>{const m=d.currentTarget;if(!U_(d)||z_.has(d))return;jd.add(m),n.stopPropagation&&z_.add(d);const p=e(m,d),v=(C,M)=>{window.removeEventListener("pointerup",b),window.removeEventListener("pointercancel",w),jd.has(m)&&jd.delete(m),U_(C)&&typeof p=="function"&&p(C,{success:M})},b=C=>{v(C,m===window||m===document||n.useGlobalTarget||zS(m,C.target))},w=C=>{v(C,!1)};window.addEventListener("pointerup",b,a),window.addEventListener("pointercancel",w,a)};return i.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",c,a),g0(d)&&(d.addEventListener("focus",p=>c5(p,a)),!a5(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}function Ry(t){return $E(t)&&"ownerSVGElement"in t}const Md=new WeakMap;let Vd;const BS=(t,e,n)=>(i,a)=>a&&a[0]?a[0][t+"Size"]:Ry(i)&&"getBBox"in i?i.getBBox()[e]:i[n],h5=BS("inline","width","offsetWidth"),d5=BS("block","height","offsetHeight");function f5({target:t,borderBoxSize:e}){Md.get(t)?.forEach(n=>{n(t,{get width(){return h5(t,e)},get height(){return d5(t,e)}})})}function m5(t){t.forEach(f5)}function p5(){typeof ResizeObserver>"u"||(Vd=new ResizeObserver(m5))}function g5(t,e){Vd||p5();const n=OS(t);return n.forEach(i=>{let a=Md.get(i);a||(a=new Set,Md.set(i,a)),a.add(e),Vd?.observe(i)}),()=>{n.forEach(i=>{const a=Md.get(i);a?.delete(e),a?.size||Vd?.unobserve(i)})}}const Od=new Set;let Qo;function y5(){Qo=()=>{const t={get width(){return window.innerWidth},get height(){return window.innerHeight}};Od.forEach(e=>e(t))},window.addEventListener("resize",Qo)}function v5(t){return Od.add(t),Qo||y5(),()=>{Od.delete(t),!Od.size&&typeof Qo=="function"&&(window.removeEventListener("resize",Qo),Qo=void 0)}}function B_(t,e){return typeof t=="function"?v5(t):g5(t,e)}function b5(t){return Ry(t)&&t.tagName==="svg"}const x5=[...jS,zt,Gr],_5=t=>x5.find(DS(t)),F_=()=>({translate:0,scale:1,origin:0,originPoint:0}),Xo=()=>({x:F_(),y:F_()}),H_=()=>({min:0,max:0}),$t=()=>({x:H_(),y:H_()}),w5=new WeakMap;function jf(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function lu(t){return typeof t=="string"||Array.isArray(t)}const Iy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Dy=["initial",...Iy];function Mf(t){return jf(t.animate)||Dy.some(e=>lu(t[e]))}function FS(t){return!!(Mf(t)||t.variants)}function T5(t,e,n){for(const i in e){const a=e[i],l=n[i];if(gn(a))t.addValue(i,a);else if(gn(l))t.addValue(i,al(a,{owner:t}));else if(l!==a)if(t.hasValue(i)){const c=t.getValue(i);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=t.getStaticValue(i);t.addValue(i,al(c!==void 0?c:a,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const y0={current:null},HS={current:!1},E5=typeof window<"u";function S5(){if(HS.current=!0,!!E5)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>y0.current=t.matches;t.addEventListener("change",e),e()}else y0.current=!1}const q_=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let ef={};function qS(t){ef=t}function A5(){return ef}class C5{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:a,skipAnimations:l,blockInitialAnimation:c,visualState:d},m={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=wy,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const C=wn.now();this.renderScheduledAt<C&&(this.renderScheduledAt=C,ht.render(this.render,!1,!0))};const{latestValues:p,renderState:v}=d;this.latestValues=p,this.baseTarget={...p},this.initialValues=n.initial?{...p}:{},this.renderState=v,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.skipAnimationsConfig=l,this.options=m,this.blockInitialAnimation=!!c,this.isControllingVariants=Mf(n),this.isVariantNode=FS(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:b,...w}=this.scrapeMotionValuesFromProps(n,{},this);for(const C in w){const M=w[C];p[C]!==void 0&&gn(M)&&M.set(p[C])}}mount(e){if(this.hasBeenMounted)for(const n in this.initialValues)this.values.get(n)?.jump(this.initialValues[n]),this.latestValues[n]=this.initialValues[n];this.current=e,w5.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(HS.current||S5(),this.shouldReduceMotion=y0.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,this.parent?.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){this.projection&&this.projection.unmount(),qr(this.notifyUpdate),qr(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){if(this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)(),n.accelerate&&t5.has(e)&&this.current instanceof HTMLElement){const{factory:c,keyframes:d,times:m,ease:p,duration:v}=n.accelerate,b=new TS({element:this.current,name:e,keyframes:d,times:m,ease:p,duration:Rs(v)}),w=c(b);this.valueSubscriptions.set(e,()=>{w(),b.cancel()});return}const i=_l.has(e);i&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&ht.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;typeof window<"u"&&window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ef){const n=ef[e];if(!n)continue;const{isEnabled:i,Feature:a}=n;if(!this.features[e]&&a&&i(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):$t()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<q_.length;i++){const a=q_[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=e[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=T5(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=al(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(GE(i)||KE(i))?i=parseFloat(i):!_5(i)&&Gr.test(n)&&(i=VS(e,n)),this.setBaseTarget(e,gn(i)?i.get():i)),gn(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const l=Sy(this.props,n,this.presenceContext?.custom);l&&(i=l[e])}if(n&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!gn(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new hy),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){ky.render(this.render)}}class GS extends C5{constructor(){super(...arguments),this.KeyframeResolver=e5}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const i=e.style;return i?i[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;gn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class Jr{constructor(e){this.isMounted=!1,this.node=e}update(){}}function $S({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function k5({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function N5(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function wg(t){return t===void 0||t===1}function v0({scale:t,scaleX:e,scaleY:n}){return!wg(t)||!wg(e)||!wg(n)}function ja(t){return v0(t)||KS(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function KS(t){return G_(t.x)||G_(t.y)}function G_(t){return t&&t!=="0%"}function tf(t,e,n){const i=t-n,a=e*i;return n+a}function $_(t,e,n,i,a){return a!==void 0&&(t=tf(t,a,i)),tf(t,n,i)+e}function b0(t,e=0,n=1,i,a){t.min=$_(t.min,e,n,i,a),t.max=$_(t.max,e,n,i,a)}function YS(t,{x:e,y:n}){b0(t.x,e.translate,e.scale,e.originPoint),b0(t.y,n.translate,n.scale,n.originPoint)}const K_=.999999999999,Y_=1.0000000000001;function R5(t,e,n,i=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,c;for(let d=0;d<a;d++){l=n[d],c=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(i&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Jo(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,YS(t,c)),i&&ja(l.latestValues)&&Jo(t,l.latestValues))}e.x<Y_&&e.x>K_&&(e.x=1),e.y<Y_&&e.y>K_&&(e.y=1)}function Wo(t,e){t.min=t.min+e,t.max=t.max+e}function Q_(t,e,n,i,a=.5){const l=vt(t.min,t.max,a);b0(t,e,n,l,i)}function Jo(t,e){Q_(t.x,e.x,e.scaleX,e.scale,e.originX),Q_(t.y,e.y,e.scaleY,e.scale,e.originY)}function QS(t,e){return $S(N5(t.getBoundingClientRect(),e))}function I5(t,e,n){const i=QS(t,n),{scroll:a}=e;return a&&(Wo(i.x,a.offset.x),Wo(i.y,a.offset.y)),i}const D5={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},j5=xl.length;function M5(t,e,n){let i="",a=!0;for(let l=0;l<j5;l++){const c=xl[l],d=t[c];if(d===void 0)continue;let m=!0;if(typeof d=="number")m=d===(c.startsWith("scale")?1:0);else{const p=parseFloat(d);m=c.startsWith("scale")?p===1:p===0}if(!m||n){const p=PS(d,Cy[c]);if(!m){a=!1;const v=D5[c]||c;i+=`${v}(${p}) `}n&&(e[c]=p)}}return i=i.trim(),n?i=n(e,a?"":i):a&&(i="none"),i}function jy(t,e,n){const{style:i,vars:a,transformOrigin:l}=t;let c=!1,d=!1;for(const m in e){const p=e[m];if(_l.has(m)){c=!0;continue}else if(oS(m)){a[m]=p;continue}else{const v=PS(p,Cy[m]);m.startsWith("origin")?(d=!0,l[m]=v):i[m]=v}}if(e.transform||(c||n?i.transform=M5(e,t.transform,n):i.transform&&(i.transform="none")),d){const{originX:m="50%",originY:p="50%",originZ:v=0}=l;i.transformOrigin=`${m} ${p} ${v}`}}function XS(t,{style:e,vars:n},i,a){const l=t.style;let c;for(c in e)l[c]=e[c];a?.applyProjectionStyles(l,i);for(c in n)l.setProperty(c,n[c])}function X_(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Uc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(be.test(t))t=parseFloat(t);else return t;const n=X_(t,e.target.x),i=X_(t,e.target.y);return`${n}% ${i}%`}},V5={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,a=Gr.parse(t);if(a.length>5)return i;const l=Gr.createTransformer(t),c=typeof a[0]!="number"?1:0,d=n.x.scale*e.x,m=n.y.scale*e.y;a[0+c]/=d,a[1+c]/=m;const p=vt(d,m,.5);return typeof a[2+c]=="number"&&(a[2+c]/=p),typeof a[3+c]=="number"&&(a[3+c]/=p),l(a)}},x0={borderRadius:{...Uc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Uc,borderTopRightRadius:Uc,borderBottomLeftRadius:Uc,borderBottomRightRadius:Uc,boxShadow:V5};function WS(t,{layout:e,layoutId:n}){return _l.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!x0[t]||t==="opacity")}function My(t,e,n){const i=t.style,a=e?.style,l={};if(!i)return l;for(const c in i)(gn(i[c])||a&&gn(a[c])||WS(c,t)||n?.getValue(c)?.liveStyle!==void 0)&&(l[c]=i[c]);return l}function O5(t){return window.getComputedStyle(t)}class P5 extends GS{constructor(){super(...arguments),this.type="html",this.renderInstance=XS}readValueFromInstance(e,n){if(_l.has(n))return this.projection?.isProjecting?a0(n):nD(e,n);{const i=O5(e),a=(oS(n)?i.getPropertyValue(n):i[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return QS(e,n)}build(e,n,i){jy(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return My(e,n,i)}}const L5={offset:"stroke-dashoffset",array:"stroke-dasharray"},U5={offset:"strokeDashoffset",array:"strokeDasharray"};function z5(t,e,n=1,i=0,a=!0){t.pathLength=1;const l=a?L5:U5;t[l.offset]=`${-i}`,t[l.array]=`${e} ${n}`}const B5=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function JS(t,{attrX:e,attrY:n,attrScale:i,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...d},m,p,v){if(jy(t,d,p),m){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:b,style:w}=t;b.transform&&(w.transform=b.transform,delete b.transform),(w.transform||b.transformOrigin)&&(w.transformOrigin=b.transformOrigin??"50% 50%",delete b.transformOrigin),w.transform&&(w.transformBox=v?.transformBox??"fill-box",delete b.transformBox);for(const C of B5)b[C]!==void 0&&(w[C]=b[C],delete b[C]);e!==void 0&&(b.x=e),n!==void 0&&(b.y=n),i!==void 0&&(b.scale=i),a!==void 0&&z5(b,a,l,c,!1)}const ZS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),eA=t=>typeof t=="string"&&t.toLowerCase()==="svg";function F5(t,e,n,i){XS(t,e,void 0,i);for(const a in e.attrs)t.setAttribute(ZS.has(a)?a:Ay(a),e.attrs[a])}function tA(t,e,n){const i=My(t,e,n);for(const a in t)if(gn(t[a])||gn(e[a])){const l=xl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[l]=t[a]}return i}class H5 extends GS{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=$t}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(_l.has(n)){const i=MS(n);return i&&i.default||0}return n=ZS.has(n)?n:Ay(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return tA(e,n,i)}build(e,n,i){JS(e,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,n,i,a){F5(e,n,i,a)}mount(e){this.isSVGTag=eA(e.tagName),super.mount(e)}}const q5=Dy.length;function nA(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?nA(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<q5;n++){const i=Dy[n],a=t.props[i];(lu(a)||a===!1)&&(e[i]=a)}return e}function sA(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const G5=[...Iy].reverse(),$5=Iy.length;function K5(t){return e=>Promise.all(e.map(({animation:n,options:i})=>qD(t,n,i)))}function Y5(t){let e=K5(t),n=W_(),i=!0;const a=m=>(p,v)=>{const b=Zo(t,v,m==="exit"?t.presenceContext?.custom:void 0);if(b){const{transition:w,transitionEnd:C,...M}=b;p={...p,...M,...C}}return p};function l(m){e=m(t)}function c(m){const{props:p}=t,v=nA(t.parent)||{},b=[],w=new Set;let C={},M=1/0;for(let O=0;O<$5;O++){const U=G5[O],F=n[U],$=p[U]!==void 0?p[U]:v[U],oe=lu($),re=U===m?F.isActive:null;re===!1&&(M=O);let ue=$===v[U]&&$!==p[U]&&oe;if(ue&&i&&t.manuallyAnimateOnMount&&(ue=!1),F.protectedKeys={...C},!F.isActive&&re===null||!$&&!F.prevProp||jf($)||typeof $=="boolean")continue;if(U==="exit"&&F.isActive&&re!==!0){F.prevResolvedValues&&(C={...C,...F.prevResolvedValues});continue}const j=Q5(F.prevProp,$);let E=j||U===m&&F.isActive&&!ue&&oe||O>M&&oe,S=!1;const I=Array.isArray($)?$:[$];let k=I.reduce(a(U),{});re===!1&&(k={});const{prevResolvedValues:V={}}=F,R={...V,...k},pe=ee=>{E=!0,w.has(ee)&&(S=!0,w.delete(ee)),F.needsAnimating[ee]=!0;const J=t.getValue(ee);J&&(J.liveStyle=!1)};for(const ee in R){const J=k[ee],Ce=V[ee];if(C.hasOwnProperty(ee))continue;let Ve=!1;d0(J)&&d0(Ce)?Ve=!sA(J,Ce):Ve=J!==Ce,Ve?J!=null?pe(ee):w.add(ee):J!==void 0&&w.has(ee)?pe(ee):F.protectedKeys[ee]=!0}F.prevProp=$,F.prevResolvedValues=k,F.isActive&&(C={...C,...k}),i&&t.blockInitialAnimation&&(E=!1);const _e=ue&&j;E&&(!_e||S)&&b.push(...I.map(ee=>{const J={type:U};if(typeof ee=="string"&&i&&!_e&&t.manuallyAnimateOnMount&&t.parent){const{parent:Ce}=t,Ve=Zo(Ce,ee);if(Ce.enteringChildren&&Ve){const{delayChildren:z}=Ve.transition||{};J.delay=SS(Ce.enteringChildren,t,z)}}return{animation:ee,options:J}}))}if(w.size){const O={};if(typeof p.initial!="boolean"){const U=Zo(t,Array.isArray(p.initial)?p.initial[0]:p.initial);U&&U.transition&&(O.transition=U.transition)}w.forEach(U=>{const F=t.getBaseTarget(U),$=t.getValue(U);$&&($.liveStyle=!0),O[U]=F??null}),b.push({animation:O})}let P=!!b.length;return i&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(P=!1),i=!1,P?e(b):Promise.resolve()}function d(m,p){if(n[m].isActive===p)return Promise.resolve();t.variantChildren?.forEach(b=>b.animationState?.setActive(m,p)),n[m].isActive=p;const v=c(m);for(const b in n)n[b].protectedKeys={};return v}return{animateChanges:c,setActive:d,setAnimateFunction:l,getState:()=>n,reset:()=>{n=W_()}}}function Q5(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!sA(e,t):!1}function Ia(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function W_(){return{animate:Ia(!0),whileInView:Ia(),whileHover:Ia(),whileTap:Ia(),whileDrag:Ia(),whileFocus:Ia(),exit:Ia()}}function J_(t,e){t.min=e.min,t.max=e.max}function As(t,e){J_(t.x,e.x),J_(t.y,e.y)}function Z_(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}const iA=1e-4,X5=1-iA,W5=1+iA,rA=.01,J5=0-rA,Z5=0+rA;function Tn(t){return t.max-t.min}function ej(t,e,n){return Math.abs(t-e)<=n}function ew(t,e,n,i=.5){t.origin=i,t.originPoint=vt(e.min,e.max,t.origin),t.scale=Tn(n)/Tn(e),t.translate=vt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=X5&&t.scale<=W5||isNaN(t.scale))&&(t.scale=1),(t.translate>=J5&&t.translate<=Z5||isNaN(t.translate))&&(t.translate=0)}function Qc(t,e,n,i){ew(t.x,e.x,n.x,i?i.originX:void 0),ew(t.y,e.y,n.y,i?i.originY:void 0)}function tw(t,e,n){t.min=n.min+e.min,t.max=t.min+Tn(e)}function tj(t,e,n){tw(t.x,e.x,n.x),tw(t.y,e.y,n.y)}function nw(t,e,n){t.min=e.min-n.min,t.max=t.min+Tn(e)}function nf(t,e,n){nw(t.x,e.x,n.x),nw(t.y,e.y,n.y)}function sw(t,e,n,i,a){return t-=e,t=tf(t,1/n,i),a!==void 0&&(t=tf(t,1/a,i)),t}function nj(t,e=0,n=1,i=.5,a,l=t,c=t){if(ri.test(e)&&(e=parseFloat(e),e=vt(c.min,c.max,e/100)-c.min),typeof e!="number")return;let d=vt(l.min,l.max,i);t===l&&(d-=e),t.min=sw(t.min,e,n,d,a),t.max=sw(t.max,e,n,d,a)}function iw(t,e,[n,i,a],l,c){nj(t,e[n],e[i],e[a],e.scale,l,c)}const sj=["x","scaleX","originX"],ij=["y","scaleY","originY"];function rw(t,e,n,i){iw(t.x,e,sj,n?n.x:void 0,i?i.x:void 0),iw(t.y,e,ij,n?n.y:void 0,i?i.y:void 0)}function aw(t){return t.translate===0&&t.scale===1}function aA(t){return aw(t.x)&&aw(t.y)}function ow(t,e){return t.min===e.min&&t.max===e.max}function rj(t,e){return ow(t.x,e.x)&&ow(t.y,e.y)}function lw(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function oA(t,e){return lw(t.x,e.x)&&lw(t.y,e.y)}function cw(t){return Tn(t.x)/Tn(t.y)}function uw(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function si(t){return[t("x"),t("y")]}function aj(t,e,n){let i="";const a=t.x.translate/e.x,l=t.y.translate/e.y,c=n?.z||0;if((a||l||c)&&(i=`translate3d(${a}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:v,rotateX:b,rotateY:w,skewX:C,skewY:M}=n;p&&(i=`perspective(${p}px) ${i}`),v&&(i+=`rotate(${v}deg) `),b&&(i+=`rotateX(${b}deg) `),w&&(i+=`rotateY(${w}deg) `),C&&(i+=`skewX(${C}deg) `),M&&(i+=`skewY(${M}deg) `)}const d=t.x.scale*e.x,m=t.y.scale*e.y;return(d!==1||m!==1)&&(i+=`scale(${d}, ${m})`),i||"none"}const lA=["TopLeft","TopRight","BottomLeft","BottomRight"],oj=lA.length,hw=t=>typeof t=="string"?parseFloat(t):t,dw=t=>typeof t=="number"||be.test(t);function lj(t,e,n,i,a,l){a?(t.opacity=vt(0,n.opacity??1,cj(i)),t.opacityExit=vt(e.opacity??1,0,uj(i))):l&&(t.opacity=vt(e.opacity??1,n.opacity??1,i));for(let c=0;c<oj;c++){const d=`border${lA[c]}Radius`;let m=fw(e,d),p=fw(n,d);if(m===void 0&&p===void 0)continue;m||(m=0),p||(p=0),m===0||p===0||dw(m)===dw(p)?(t[d]=Math.max(vt(hw(m),hw(p),i),0),(ri.test(p)||ri.test(m))&&(t[d]+="%")):t[d]=p}(e.rotate||n.rotate)&&(t.rotate=vt(e.rotate||0,n.rotate||0,i))}function fw(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const cj=cA(0,.5,tS),uj=cA(.5,.95,cs);function cA(t,e,n){return i=>i<t?0:i>e?1:n(ru(t,e,i))}function hj(t,e,n){const i=gn(t)?t:al(t);return i.start(Ey("",i,e,n)),i.animation}function cu(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}const dj=(t,e)=>t.depth-e.depth;class fj{constructor(){this.children=[],this.isDirty=!1}add(e){ly(this.children,e),this.isDirty=!0}remove(e){Xd(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(dj),this.isDirty=!1,this.children.forEach(e)}}function mj(t,e){const n=wn.now(),i=({timestamp:a})=>{const l=a-n;l>=e&&(qr(i),t(l-e))};return ht.setup(i,!0),()=>qr(i)}function Pd(t){return gn(t)?t.get():t}class pj{constructor(){this.members=[]}add(e){ly(this.members,e);for(let n=this.members.length-1;n>=0;n--){const i=this.members[n];if(i===e||i===this.lead||i===this.prevLead)continue;const a=i.instance;a&&a.isConnected===!1&&i.isPresent!==!1&&!i.snapshot&&Xd(this.members,i)}e.scheduleRender()}remove(e){if(Xd(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let i;for(let a=n;a>=0;a--){const l=this.members[a],c=l.instance;if(l.isPresent!==!1&&(!c||c.isConnected!==!1)){i=l;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender();const a=i.options.layoutDependency,l=e.options.layoutDependency;if(!(a!==void 0&&l!==void 0&&a===l)){const m=i.instance;m&&m.isConnected===!1&&!i.snapshot||(e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0))}const{crossfade:d}=e.options;d===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Ld={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Tg=["","X","Y","Z"],gj=1e3;let yj=0;function Eg(t,e,n,i){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),i&&(i[t]=0))}function uA(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=RS(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ht,!(a||l))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&uA(i)}function hA({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(c={},d=e?.()){this.id=yj++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(xj),this.nodes.forEach(Ej),this.nodes.forEach(Sj),this.nodes.forEach(_j)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new fj)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new hy),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const m=this.eventHandlers.get(c);m&&m.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=Ry(c)&&!b5(c),this.instance=c;const{layoutId:d,layout:m,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||d)&&(this.isLayoutDirty=!0),t){let v,b=0;const w=()=>this.root.updateBlockedByResize=!1;ht.read(()=>{b=window.innerWidth}),t(c,()=>{const C=window.innerWidth;C!==b&&(b=C,this.root.updateBlockedByResize=!0,v&&v(),v=mj(w,250),Ld.hasAnimatedSinceResize&&(Ld.hasAnimatedSinceResize=!1,this.nodes.forEach(gw)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&p&&(d||m)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:b,hasRelativeLayoutChanged:w,layout:C})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const M=this.options.transition||p.getDefaultTransition()||Rj,{onLayoutAnimationStart:P,onLayoutAnimationComplete:O}=p.getProps(),U=!this.targetLayout||!oA(this.targetLayout,C),F=!b&&w;if(this.options.layoutRoot||this.resumeFrom||F||b&&(U||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const $={...Ty(M,"layout"),onPlay:P,onComplete:O};(p.shouldReduceMotion||this.options.layoutRoot)&&($.delay=0,$.type=!1),this.startAnimation($),this.setAnimationOrigin(v,F)}else b||gw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=C})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),qr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Aj),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&uA(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const b=this.path[v];b.shouldResetTransform=!0,b.updateScroll("snapshot"),b.options.layoutRoot&&b.willUpdate(!1)}const{layoutId:d,layout:m}=this.options;if(d===void 0&&!m)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(mw);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(pw);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Tj),this.nodes.forEach(vj),this.nodes.forEach(bj)):this.nodes.forEach(pw),this.clearAllSnapshots();const d=wn.now();ln.delta=ui(0,1e3/60,d-ln.timestamp),ln.timestamp=d,ln.isProcessing=!0,pg.update.process(ln),pg.preRender.process(ln),pg.render.process(ln),ln.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ky.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(wj),this.sharedNodes.forEach(Cj)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ht.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ht.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Tn(this.snapshot.measuredBox.x)&&!Tn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=$t(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d&&this.instance){const m=i(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!aA(this.projectionDelta),m=this.getTransformTemplate(),p=m?m(this.latestValues,""):void 0,v=p!==this.prevTransformTemplateValue;c&&this.instance&&(d||ja(this.latestValues)||v)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let m=this.removeElementScroll(d);return c&&(m=this.removeTransform(m)),Ij(m),{animationId:this.root.animationId,measuredBox:d,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return $t();const d=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(Dj))){const{scroll:p}=this.root;p&&(Wo(d.x,p.offset.x),Wo(d.y,p.offset.y))}return d}removeElementScroll(c){const d=$t();if(As(d,c),this.scroll?.wasRoot)return d;for(let m=0;m<this.path.length;m++){const p=this.path[m],{scroll:v,options:b}=p;p!==this.root&&v&&b.layoutScroll&&(v.wasRoot&&As(d,c),Wo(d.x,v.offset.x),Wo(d.y,v.offset.y))}return d}applyTransform(c,d=!1){const m=$t();As(m,c);for(let p=0;p<this.path.length;p++){const v=this.path[p];!d&&v.options.layoutScroll&&v.scroll&&v!==v.root&&Jo(m,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),ja(v.latestValues)&&Jo(m,v.latestValues)}return ja(this.latestValues)&&Jo(m,this.latestValues),m}removeTransform(c){const d=$t();As(d,c);for(let m=0;m<this.path.length;m++){const p=this.path[m];if(!p.instance||!ja(p.latestValues))continue;v0(p.latestValues)&&p.updateSnapshot();const v=$t(),b=p.measurePageBox();As(v,b),rw(d,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,v)}return ja(this.latestValues)&&rw(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ln.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==d;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:b}=this.options;if(!this.layout||!(v||b))return;this.resolvedRelativeTargetAt=ln.timestamp;const w=this.getClosestProjectingParent();w&&this.linkedParentVersion!==w.layoutVersion&&!w.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(w&&w.layout?this.createRelativeTarget(w,this.layout.layoutBox,w.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=$t(),this.targetWithTransforms=$t()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),tj(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):As(this.target,this.layout.layoutBox),YS(this.target,this.targetDelta)):As(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?this.createRelativeTarget(w,this.target,w.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||v0(this.parent.latestValues)||KS(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,d,m){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=$t(),this.relativeTargetOrigin=$t(),nf(this.relativeTargetOrigin,d,m),As(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const c=this.getLead(),d=!!this.resumingFrom||this!==c;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===ln.timestamp&&(m=!1),m)return;const{layout:p,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||v))return;As(this.layoutCorrected,this.layout.layoutBox);const b=this.treeScale.x,w=this.treeScale.y;R5(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=$t());const{target:C}=c;if(!C){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Z_(this.prevProjectionDelta.x,this.projectionDelta.x),Z_(this.prevProjectionDelta.y,this.projectionDelta.y)),Qc(this.projectionDelta,this.layoutCorrected,C,this.latestValues),(this.treeScale.x!==b||this.treeScale.y!==w||!uw(this.projectionDelta.x,this.prevProjectionDelta.x)||!uw(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",C))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Xo(),this.projectionDelta=Xo(),this.projectionDeltaWithTransform=Xo()}setAnimationOrigin(c,d=!1){const m=this.snapshot,p=m?m.latestValues:{},v={...this.latestValues},b=Xo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const w=$t(),C=m?m.source:void 0,M=this.layout?this.layout.source:void 0,P=C!==M,O=this.getStack(),U=!O||O.members.length<=1,F=!!(P&&!U&&this.options.crossfade===!0&&!this.path.some(Nj));this.animationProgress=0;let $;this.mixTargetDelta=oe=>{const re=oe/1e3;yw(b.x,c.x,re),yw(b.y,c.y,re),this.setTargetDelta(b),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(nf(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),kj(this.relativeTarget,this.relativeTargetOrigin,w,re),$&&rj(this.relativeTarget,$)&&(this.isProjectionDirty=!1),$||($=$t()),As($,this.relativeTarget)),P&&(this.animationValues=v,lj(v,p,this.latestValues,re,F,U)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=re},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(qr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ht.update(()=>{Ld.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=al(0)),this.currentAnimation=hj(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),c.onUpdate&&c.onUpdate(d)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(gj),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:m,layout:p,latestValues:v}=c;if(!(!d||!m||!p)){if(this!==c&&this.layout&&p&&dA(this.options.animationType,this.layout.layoutBox,p.layoutBox)){m=this.target||$t();const b=Tn(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+b;const w=Tn(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+w}As(d,m),Jo(d,v),Qc(this.projectionDeltaWithTransform,this.layoutCorrected,d,v)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new pj),this.sharedNodes.get(c).add(d);const p=d.options.initialPromotionConfig;d.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:m}={}){const p=this.getStack();p&&p.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(d=!0),!d)return;const p={};m.z&&Eg("z",c,p,this.animationValues);for(let v=0;v<Tg.length;v++)Eg(`rotate${Tg[v]}`,c,p,this.animationValues),Eg(`skew${Tg[v]}`,c,p,this.animationValues);c.render();for(const v in p)c.setStaticValue(v,p[v]),this.animationValues&&(this.animationValues[v]=p[v]);c.scheduleRender()}applyProjectionStyles(c,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Pd(d?.pointerEvents)||"",c.transform=m?m(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Pd(d?.pointerEvents)||""),this.hasProjected&&!ja(this.latestValues)&&(c.transform=m?m({},""):"none",this.hasProjected=!1);return}c.visibility="";const v=p.animationValues||p.latestValues;this.applyTransformsToTarget();let b=aj(this.projectionDeltaWithTransform,this.treeScale,v);m&&(b=m(v,b)),c.transform=b;const{x:w,y:C}=this.projectionDelta;c.transformOrigin=`${w.origin*100}% ${C.origin*100}% 0`,p.animationValues?c.opacity=p===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:c.opacity=p===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const M in x0){if(v[M]===void 0)continue;const{correct:P,applyTo:O,isCSSVariable:U}=x0[M],F=b==="none"?v[M]:P(v[M],p);if(O){const $=O.length;for(let oe=0;oe<$;oe++)c[O[oe]]=F}else U?this.options.visualElement.renderState.vars[M]=F:c[M]=F}this.options.layoutId&&(c.pointerEvents=p===this?Pd(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(mw),this.root.sharedNodes.clear()}}}function vj(t){t.updateLayout()}function bj(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?si(v=>{const b=l?e.measuredBox[v]:e.layoutBox[v],w=Tn(b);b.min=n[v].min,b.max=b.min+w}):dA(a,e.layoutBox,n)&&si(v=>{const b=l?e.measuredBox[v]:e.layoutBox[v],w=Tn(n[v]);b.max=b.min+w,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[v].max=t.relativeTarget[v].min+w)});const c=Xo();Qc(c,n,e.layoutBox);const d=Xo();l?Qc(d,t.applyTransform(i,!0),e.measuredBox):Qc(d,n,e.layoutBox);const m=!aA(c);let p=!1;if(!t.resumeFrom){const v=t.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:b,layout:w}=v;if(b&&w){const C=$t();nf(C,e.layoutBox,b.layoutBox);const M=$t();nf(M,n,w.layoutBox),oA(C,M)||(p=!0),v.options.layoutRoot&&(t.relativeTarget=M,t.relativeTargetOrigin=C,t.relativeParent=v)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:d,layoutDelta:c,hasLayoutChanged:m,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function xj(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function _j(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function wj(t){t.clearSnapshot()}function mw(t){t.clearMeasurements()}function pw(t){t.isLayoutDirty=!1}function Tj(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function gw(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Ej(t){t.resolveTargetDelta()}function Sj(t){t.calcProjection()}function Aj(t){t.resetSkewAndRotation()}function Cj(t){t.removeLeadSnapshot()}function yw(t,e,n){t.translate=vt(e.translate,0,n),t.scale=vt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function vw(t,e,n,i){t.min=vt(e.min,n.min,i),t.max=vt(e.max,n.max,i)}function kj(t,e,n,i){vw(t.x,e.x,n.x,i),vw(t.y,e.y,n.y,i)}function Nj(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Rj={duration:.45,ease:[.4,0,.1,1]},bw=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),xw=bw("applewebkit/")&&!bw("chrome/")?Math.round:cs;function _w(t){t.min=xw(t.min),t.max=xw(t.max)}function Ij(t){_w(t.x),_w(t.y)}function dA(t,e,n){return t==="position"||t==="preserve-aspect"&&!ej(cw(e),cw(n),.2)}function Dj(t){return t!==t.root&&t.scroll?.wasRoot}const jj=hA({attachResizeListener:(t,e)=>cu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),Sg={current:void 0},fA=hA({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Sg.current){const t=new jj({});t.mount(window),t.setOptions({layoutScroll:!0}),Sg.current=t}return Sg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Vy=D.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function ww(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Mj(...t){return e=>{let n=!1;const i=t.map(a=>{const l=ww(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<i.length;a++){const l=i[a];typeof l=="function"?l():ww(t[a],null)}}}}function Vj(...t){return D.useCallback(Mj(...t),t)}class Oj extends D.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const i=n.offsetParent,a=g0(i)&&i.offsetWidth||0,l=g0(i)&&i.offsetHeight||0,c=this.props.sizeRef.current;c.height=n.offsetHeight||0,c.width=n.offsetWidth||0,c.top=n.offsetTop,c.left=n.offsetLeft,c.right=a-c.width-c.left,c.bottom=l-c.height-c.top}return null}componentDidUpdate(){}render(){return this.props.children}}function Pj({children:t,isPresent:e,anchorX:n,anchorY:i,root:a,pop:l}){const c=D.useId(),d=D.useRef(null),m=D.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:p}=D.useContext(Vy),v=t.props?.ref??t?.ref,b=Vj(d,v);return D.useInsertionEffect(()=>{const{width:w,height:C,top:M,left:P,right:O,bottom:U}=m.current;if(e||l===!1||!d.current||!w||!C)return;const F=n==="left"?`left: ${P}`:`right: ${O}`,$=i==="bottom"?`bottom: ${U}`:`top: ${M}`;d.current.dataset.motionPopId=c;const oe=document.createElement("style");p&&(oe.nonce=p);const re=a??document.head;return re.appendChild(oe),oe.sheet&&oe.sheet.insertRule(`
          [data-motion-pop-id="${c}"] {
            position: absolute !important;
            width: ${w}px !important;
            height: ${C}px !important;
            ${F}px !important;
            ${$}px !important;
          }
        `),()=>{re.contains(oe)&&re.removeChild(oe)}},[e]),g.jsx(Oj,{isPresent:e,childRef:d,sizeRef:m,pop:l,children:l===!1?t:D.cloneElement(t,{ref:b})})}const Lj=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:a,presenceAffectsLayout:l,mode:c,anchorX:d,anchorY:m,root:p})=>{const v=oy(Uj),b=D.useId();let w=!0,C=D.useMemo(()=>(w=!1,{id:b,initial:e,isPresent:n,custom:a,onExitComplete:M=>{v.set(M,!0);for(const P of v.values())if(!P)return;i&&i()},register:M=>(v.set(M,!1),()=>v.delete(M))}),[n,v,i]);return l&&w&&(C={...C}),D.useMemo(()=>{v.forEach((M,P)=>v.set(P,!1))},[n]),D.useEffect(()=>{!n&&!v.size&&i&&i()},[n]),t=g.jsx(Pj,{pop:c==="popLayout",isPresent:n,anchorX:d,anchorY:m,root:p,children:t}),g.jsx(Df.Provider,{value:C,children:t})};function Uj(){return new Map}function mA(t=!0){const e=D.useContext(Df);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:a}=e,l=D.useId();D.useEffect(()=>{if(t)return a(l)},[t]);const c=D.useCallback(()=>t&&i&&i(l),[l,i,t]);return!n&&i?[!1,c]:[!0]}const yd=t=>t.key||"";function Tw(t){const e=[];return D.Children.forEach(t,n=>{D.isValidElement(n)&&e.push(n)}),e}const $n=({children:t,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:a=!0,mode:l="sync",propagate:c=!1,anchorX:d="left",anchorY:m="top",root:p})=>{const[v,b]=mA(c),w=D.useMemo(()=>Tw(t),[t]),C=c&&!v?[]:w.map(yd),M=D.useRef(!0),P=D.useRef(w),O=oy(()=>new Map),U=D.useRef(new Set),[F,$]=D.useState(w),[oe,re]=D.useState(w);qE(()=>{M.current=!1,P.current=w;for(let E=0;E<oe.length;E++){const S=yd(oe[E]);C.includes(S)?(O.delete(S),U.current.delete(S)):O.get(S)!==!0&&O.set(S,!1)}},[oe,C.length,C.join("-")]);const ue=[];if(w!==F){let E=[...w];for(let S=0;S<oe.length;S++){const I=oe[S],k=yd(I);C.includes(k)||(E.splice(S,0,I),ue.push(I))}return l==="wait"&&ue.length&&(E=ue),re(Tw(E)),$(w),null}const{forceRender:j}=D.useContext(ay);return g.jsx(g.Fragment,{children:oe.map(E=>{const S=yd(E),I=c&&!v?!1:w===oe||C.includes(S),k=()=>{if(U.current.has(S))return;if(U.current.add(S),O.has(S))O.set(S,!0);else return;let V=!0;O.forEach(R=>{R||(V=!1)}),V&&(j?.(),re(P.current),c&&b?.(),i&&i())};return g.jsx(Lj,{isPresent:I,initial:!M.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:p,onExitComplete:I?void 0:k,anchorX:d,anchorY:m,children:E},S)})})},pA=D.createContext({strict:!1}),Ew={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let Sw=!1;function zj(){if(Sw)return;const t={};for(const e in Ew)t[e]={isEnabled:n=>Ew[e].some(i=>!!n[i])};qS(t),Sw=!0}function gA(){return zj(),A5()}function Bj(t){const e=gA();for(const n in t)e[n]={...e[n],...t[n]};qS(e)}const Fj=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function sf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Fj.has(t)}let yA=t=>!sf(t);function Hj(t){typeof t=="function"&&(yA=e=>e.startsWith("on")?!sf(e):t(e))}try{Hj(require("@emotion/is-prop-valid").default)}catch{}function qj(t,e,n){const i={};for(const a in t)a==="values"&&typeof t.values=="object"||(yA(a)||n===!0&&sf(a)||!e&&!sf(a)||t.draggable&&a.startsWith("onDrag"))&&(i[a]=t[a]);return i}const Vf=D.createContext({});function Gj(t,e){if(Mf(t)){const{initial:n,animate:i}=t;return{initial:n===!1||lu(n)?n:void 0,animate:lu(i)?i:void 0}}return t.inherit!==!1?e:{}}function $j(t){const{initial:e,animate:n}=Gj(t,D.useContext(Vf));return D.useMemo(()=>({initial:e,animate:n}),[Aw(e),Aw(n)])}function Aw(t){return Array.isArray(t)?t.join(" "):t}const Oy=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function vA(t,e,n){for(const i in e)!gn(e[i])&&!WS(i,n)&&(t[i]=e[i])}function Kj({transformTemplate:t},e){return D.useMemo(()=>{const n=Oy();return jy(n,e,t),Object.assign({},n.vars,n.style)},[e])}function Yj(t,e){const n=t.style||{},i={};return vA(i,n,t),Object.assign(i,Kj(t,e)),i}function Qj(t,e){const n={},i=Yj(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const bA=()=>({...Oy(),attrs:{}});function Xj(t,e,n,i){const a=D.useMemo(()=>{const l=bA();return JS(l,e,eA(i),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};vA(l,t.style,t),a.style={...l,...a.style}}return a}const Wj=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Py(t){return typeof t!="string"||t.includes("-")?!1:!!(Wj.indexOf(t)>-1||/[A-Z]/u.test(t))}function Jj(t,e,n,{latestValues:i},a,l=!1,c){const m=(c??Py(t)?Xj:Qj)(e,i,a,t),p=qj(e,typeof t=="string",l),v=t!==D.Fragment?{...p,...m,ref:n}:{},{children:b}=e,w=D.useMemo(()=>gn(b)?b.get():b,[b]);return D.createElement(t,{...v,children:w})}function Zj({scrapeMotionValuesFromProps:t,createRenderState:e},n,i,a){return{latestValues:eM(n,i,a,t),renderState:e()}}function eM(t,e,n,i){const a={},l=i(t,{});for(const w in l)a[w]=Pd(l[w]);let{initial:c,animate:d}=t;const m=Mf(t),p=FS(t);e&&p&&!m&&t.inherit!==!1&&(c===void 0&&(c=e.initial),d===void 0&&(d=e.animate));let v=n?n.initial===!1:!1;v=v||c===!1;const b=v?d:c;if(b&&typeof b!="boolean"&&!jf(b)){const w=Array.isArray(b)?b:[b];for(let C=0;C<w.length;C++){const M=Sy(t,w[C]);if(M){const{transitionEnd:P,transition:O,...U}=M;for(const F in U){let $=U[F];if(Array.isArray($)){const oe=v?$.length-1:0;$=$[oe]}$!==null&&(a[F]=$)}for(const F in P)a[F]=P[F]}}}return a}const xA=t=>(e,n)=>{const i=D.useContext(Vf),a=D.useContext(Df),l=()=>Zj(t,e,i,a);return n?l():oy(l)},tM=xA({scrapeMotionValuesFromProps:My,createRenderState:Oy}),nM=xA({scrapeMotionValuesFromProps:tA,createRenderState:bA}),sM=Symbol.for("motionComponentSymbol");function iM(t,e,n){const i=D.useRef(n);D.useInsertionEffect(()=>{i.current=n});const a=D.useRef(null);return D.useCallback(l=>{l&&t.onMount?.(l),e&&(l?e.mount(l):e.unmount());const c=i.current;if(typeof c=="function")if(l){const d=c(l);typeof d=="function"&&(a.current=d)}else a.current?(a.current(),a.current=null):c(l);else c&&(c.current=l)},[e])}const _A=D.createContext({});function Fo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function rM(t,e,n,i,a,l){const{visualElement:c}=D.useContext(Vf),d=D.useContext(pA),m=D.useContext(Df),p=D.useContext(Vy),v=p.reducedMotion,b=p.skipAnimations,w=D.useRef(null),C=D.useRef(!1);i=i||d.renderer,!w.current&&i&&(w.current=i(t,{visualState:e,parent:c,props:n,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:v,skipAnimations:b,isSVG:l}),C.current&&w.current&&(w.current.manuallyAnimateOnMount=!0));const M=w.current,P=D.useContext(_A);M&&!M.projection&&a&&(M.type==="html"||M.type==="svg")&&aM(w.current,n,a,P);const O=D.useRef(!1);D.useInsertionEffect(()=>{M&&O.current&&M.update(n,m)});const U=n[NS],F=D.useRef(!!U&&!window.MotionHandoffIsComplete?.(U)&&window.MotionHasOptimisedAnimation?.(U));return qE(()=>{C.current=!0,M&&(O.current=!0,window.MotionIsMounted=!0,M.updateFeatures(),M.scheduleRenderMicrotask(),F.current&&M.animationState&&M.animationState.animateChanges())}),D.useEffect(()=>{M&&(!F.current&&M.animationState&&M.animationState.animateChanges(),F.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(U)}),F.current=!1),M.enteringChildren=void 0)}),M}function aM(t,e,n,i){const{layoutId:a,layout:l,drag:c,dragConstraints:d,layoutScroll:m,layoutRoot:p,layoutCrossfade:v}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:wA(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||d&&Fo(d),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:i,crossfade:v,layoutScroll:m,layoutRoot:p})}function wA(t){if(t)return t.options.allowProjection!==!1?t.projection:wA(t.parent)}function Ag(t,{forwardMotionProps:e=!1,type:n}={},i,a){i&&Bj(i);const l=n?n==="svg":Py(t),c=l?nM:tM;function d(p,v){let b;const w={...D.useContext(Vy),...p,layoutId:oM(p)},{isStatic:C}=w,M=$j(p),P=c(p,C);if(!C&&HE){lM();const O=cM(w);b=O.MeasureLayout,M.visualElement=rM(t,P,w,a,O.ProjectionNode,l)}return g.jsxs(Vf.Provider,{value:M,children:[b&&M.visualElement?g.jsx(b,{visualElement:M.visualElement,...w}):null,Jj(t,p,iM(P,M.visualElement,v),P,C,e,l)]})}d.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const m=D.forwardRef(d);return m[sM]=t,m}function oM({layoutId:t}){const e=D.useContext(ay).id;return e&&t!==void 0?e+"-"+t:t}function lM(t,e){D.useContext(pA).strict}function cM(t){const e=gA(),{drag:n,layout:i}=e;if(!n&&!i)return{};const a={...n,...i};return{MeasureLayout:n?.isEnabled(t)||i?.isEnabled(t)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function uM(t,e){if(typeof Proxy>"u")return Ag;const n=new Map,i=(l,c)=>Ag(l,c,t,e),a=(l,c)=>i(l,c);return new Proxy(a,{get:(l,c)=>c==="create"?i:(n.has(c)||n.set(c,Ag(c,void 0,t,e)),n.get(c))})}const hM=(t,e)=>e.isSVG??Py(t)?new H5(e):new P5(e,{allowProjection:t!==D.Fragment});class dM extends Jr{constructor(e){super(e),e.animationState||(e.animationState=Y5(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();jf(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let fM=0;class mM extends Jr{constructor(){super(...arguments),this.id=fM++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const pM={animation:{Feature:dM},exit:{Feature:mM}};function Au(t){return{point:{x:t.pageX,y:t.pageY}}}const gM=t=>e=>Ny(e)&&t(e,Au(e));function Xc(t,e,n,i){return cu(t,e,gM(n),i)}const TA=({current:t})=>t?t.ownerDocument.defaultView:null,Cw=(t,e)=>Math.abs(t-e);function yM(t,e){const n=Cw(t.x,e.x),i=Cw(t.y,e.y);return Math.sqrt(n**2+i**2)}const kw=new Set(["auto","scroll"]);class EA{constructor(e,n,{transformPagePoint:i,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3,element:d}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=C=>{this.handleScroll(C.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=kg(this.lastMoveEventInfo,this.history),M=this.startEvent!==null,P=yM(C.offset,{x:0,y:0})>=this.distanceThreshold;if(!M&&!P)return;const{point:O}=C,{timestamp:U}=ln;this.history.push({...O,timestamp:U});const{onStart:F,onMove:$}=this.handlers;M||(F&&F(this.lastMoveEvent,C),this.startEvent=this.lastMoveEvent),$&&$(this.lastMoveEvent,C)},this.handlePointerMove=(C,M)=>{this.lastMoveEvent=C,this.lastMoveEventInfo=Cg(M,this.transformPagePoint),ht.update(this.updatePoint,!0)},this.handlePointerUp=(C,M)=>{this.end();const{onEnd:P,onSessionEnd:O,resumeAnimation:U}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&U&&U(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const F=kg(C.type==="pointercancel"?this.lastMoveEventInfo:Cg(M,this.transformPagePoint),this.history);this.startEvent&&P&&P(C,F),O&&O(C,F)},!Ny(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=c,this.contextWindow=a||window;const m=Au(e),p=Cg(m,this.transformPagePoint),{point:v}=p,{timestamp:b}=ln;this.history=[{...v,timestamp:b}];const{onSessionStart:w}=n;w&&w(e,kg(p,this.history)),this.removeListeners=Tu(Xc(this.contextWindow,"pointermove",this.handlePointerMove),Xc(this.contextWindow,"pointerup",this.handlePointerUp),Xc(this.contextWindow,"pointercancel",this.handlePointerUp)),d&&this.startScrollTracking(d)}startScrollTracking(e){let n=e.parentElement;for(;n;){const i=getComputedStyle(n);(kw.has(i.overflowX)||kw.has(i.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const i=e===window,a=i?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},l={x:a.x-n.x,y:a.y-n.y};l.x===0&&l.y===0||(i?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=l.x,this.lastMoveEventInfo.point.y+=l.y):this.history.length>0&&(this.history[0].x-=l.x,this.history[0].y-=l.y),this.scrollPositions.set(e,a),ht.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),qr(this.updatePoint)}}function Cg(t,e){return e?{point:e(t.point)}:t}function Nw(t,e){return{x:t.x-e.x,y:t.y-e.y}}function kg({point:t},e){return{point:t,delta:Nw(t,SA(e)),offset:Nw(t,vM(e)),velocity:bM(e,.1)}}function vM(t){return t[0]}function SA(t){return t[t.length-1]}function bM(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const a=SA(t);for(;n>=0&&(i=t[n],!(a.timestamp-i.timestamp>Rs(e)));)n--;if(!i)return{x:0,y:0};i===t[0]&&t.length>2&&a.timestamp-i.timestamp>Rs(e)*2&&(i=t[1]);const l=ls(a.timestamp-i.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-i.x)/l,y:(a.y-i.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function xM(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?vt(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?vt(n,t,i.max):Math.min(t,n)),t}function Rw(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function _M(t,{top:e,left:n,bottom:i,right:a}){return{x:Rw(t.x,n,a),y:Rw(t.y,e,i)}}function Iw(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function wM(t,e){return{x:Iw(t.x,e.x),y:Iw(t.y,e.y)}}function TM(t,e){let n=.5;const i=Tn(t),a=Tn(e);return a>i?n=ru(e.min,e.max-i,t.min):i>a&&(n=ru(t.min,t.max-a,e.min)),ui(0,1,n)}function EM(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const _0=.35;function SM(t=_0){return t===!1?t=0:t===!0&&(t=_0),{x:Dw(t,"left","right"),y:Dw(t,"top","bottom")}}function Dw(t,e,n){return{min:jw(t,e),max:jw(t,n)}}function jw(t,e){return typeof t=="number"?t:t[e]||0}const AM=new WeakMap;class CM{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=$t(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=b=>{n&&this.snapToCursor(Au(b).point),this.stopAnimation()},c=(b,w)=>{const{drag:C,dragPropagation:M,onDragStart:P}=this.getProps();if(C&&!M&&(this.openDragLock&&this.openDragLock(),this.openDragLock=n5(C),!this.openDragLock))return;this.latestPointerEvent=b,this.latestPanInfo=w,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),si(U=>{let F=this.getAxisMotionValue(U).get()||0;if(ri.test(F)){const{projection:$}=this.visualElement;if($&&$.layout){const oe=$.layout.layoutBox[U];oe&&(F=Tn(oe)*(parseFloat(F)/100))}}this.originPoint[U]=F}),P&&ht.update(()=>P(b,w),!1,!0),f0(this.visualElement,"transform");const{animationState:O}=this.visualElement;O&&O.setActive("whileDrag",!0)},d=(b,w)=>{this.latestPointerEvent=b,this.latestPanInfo=w;const{dragPropagation:C,dragDirectionLock:M,onDirectionLock:P,onDrag:O}=this.getProps();if(!C&&!this.openDragLock)return;const{offset:U}=w;if(M&&this.currentDirection===null){this.currentDirection=NM(U),this.currentDirection!==null&&P&&P(this.currentDirection);return}this.updateAxis("x",w.point,U),this.updateAxis("y",w.point,U),this.visualElement.render(),O&&ht.update(()=>O(b,w),!1,!0)},m=(b,w)=>{this.latestPointerEvent=b,this.latestPanInfo=w,this.stop(b,w),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>{const{dragSnapToOrigin:b}=this.getProps();(b||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:v}=this.getProps();this.panSession=new EA(e,{onSessionStart:l,onStart:c,onMove:d,onSessionEnd:m,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,distanceThreshold:i,contextWindow:TA(this.visualElement),element:this.visualElement.current})}stop(e,n){const i=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!i)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:d}=this.getProps();d&&ht.postRender(()=>d(i,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,n,i){const{drag:a}=this.getProps();if(!i||!vd(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(c=xM(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&Fo(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=_M(i.layoutBox,e):this.constraints=!1,this.elastic=SM(n),a!==this.constraints&&!Fo(e)&&i&&this.constraints&&!this.hasMutatedConstraints&&si(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=EM(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Fo(e))return!1;const i=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=I5(i,a.root,this.visualElement.getTransformPagePoint());let c=wM(a.layout.layoutBox,l);if(n){const d=n(k5(c));this.hasMutatedConstraints=!!d,d&&(c=$S(d))}return c}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),m=this.constraints||{},p=si(v=>{if(!vd(v,n,this.currentDirection))return;let b=m&&m[v]||{};c&&(b={min:0,max:0});const w=a?200:1e6,C=a?40:1e7,M={type:"inertia",velocity:i?e[v]:0,bounceStiffness:w,bounceDamping:C,timeConstant:750,restDelta:1,restSpeed:10,...l,...b};return this.startAxisValueAnimation(v,M)});return Promise.all(p).then(d)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return f0(this.visualElement,e),i.start(Ey(e,i,0,n,this.visualElement,!1))}stopAnimation(){si(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),a=i[n];return a||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){si(n=>{const{drag:i}=this.getProps();if(!vd(n,i,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:d}=a.layout.layoutBox[n],m=l.get()||0;l.set(e[n]-vt(c,d,.5)+m)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!Fo(n)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};si(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const m=d.get();a[c]=TM({min:m,max:m},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.constraints=!1,this.resolveConstraints(),si(c=>{if(!vd(c,e,null))return;const d=this.getAxisMotionValue(c),{min:m,max:p}=this.constraints[c];d.set(vt(m,p,a[c]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;AM.set(this.visualElement,this);const e=this.visualElement.current,n=Xc(e,"pointerdown",p=>{const{drag:v,dragListener:b=!0}=this.getProps(),w=p.target,C=w!==e&&l5(w);v&&b&&!C&&this.start(p)});let i;const a=()=>{const{dragConstraints:p}=this.getProps();Fo(p)&&p.current&&(this.constraints=this.resolveRefConstraints(),i||(i=kM(e,p.current,()=>this.scalePositionWithinConstraints())))},{projection:l}=this.visualElement,c=l.addEventListener("measure",a);l&&!l.layout&&(l.root&&l.root.updateScroll(),l.updateLayout()),ht.read(a);const d=cu(window,"resize",()=>this.scalePositionWithinConstraints()),m=l.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:v})=>{this.isDragging&&v&&(si(b=>{const w=this.getAxisMotionValue(b);w&&(this.originPoint[b]+=p[b].translate,w.set(w.get()+p[b].translate))}),this.visualElement.render())}));return()=>{d(),n(),c(),m&&m(),i&&i()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=_0,dragMomentum:d=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:d}}}function Mw(t){let e=!0;return()=>{if(e){e=!1;return}t()}}function kM(t,e,n){const i=B_(t,Mw(n)),a=B_(e,Mw(n));return()=>{i(),a()}}function vd(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function NM(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class RM extends Jr{constructor(e){super(e),this.removeGroupControls=cs,this.removeListeners=cs,this.controls=new CM(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||cs}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const Ng=t=>(e,n)=>{t&&ht.update(()=>t(e,n),!1,!0)};class IM extends Jr{constructor(){super(...arguments),this.removePointerDownListener=cs}onPointerDown(e){this.session=new EA(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:TA(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:Ng(e),onStart:Ng(n),onMove:Ng(i),onEnd:(l,c)=>{delete this.session,a&&ht.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=Xc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Rg=!1;class DM extends D.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:a}=this.props,{projection:l}=e;l&&(n.group&&n.group.add(l),i&&i.register&&a&&i.register(l),Rg&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),Ld.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:a,isPresent:l}=this.props,{projection:c}=i;return c&&(c.isPresent=l,e.layoutDependency!==n&&c.setOptions({...c.options,layoutDependency:n}),Rg=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||ht.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),ky.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:a}=e;Rg=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function AA(t){const[e,n]=mA(),i=D.useContext(ay);return g.jsx(DM,{...t,layoutGroup:i,switchLayoutGroup:D.useContext(_A),isPresent:e,safeToRemove:n})}const jM={pan:{Feature:IM},drag:{Feature:RM,ProjectionNode:fA,MeasureLayout:AA}};function Vw(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=i[a];l&&ht.postRender(()=>l(e,Au(e)))}class MM extends Jr{mount(){const{current:e}=this.node;e&&(this.unmount=i5(e,(n,i)=>(Vw(this.node,i,"Start"),a=>Vw(this.node,a,"End"))))}unmount(){}}class VM extends Jr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Tu(cu(this.node.current,"focus",()=>this.onFocus()),cu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Ow(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=i[a];l&&ht.postRender(()=>l(e,Au(e)))}class OM extends Jr{mount(){const{current:e}=this.node;if(!e)return;const{globalTapTarget:n,propagate:i}=this.node.props;this.unmount=u5(e,(a,l)=>(Ow(this.node,l,"Start"),(c,{success:d})=>Ow(this.node,c,d?"End":"Cancel")),{useGlobalTarget:n,stopPropagation:i?.tap===!1})}unmount(){}}const w0=new WeakMap,Ig=new WeakMap,PM=t=>{const e=w0.get(t.target);e&&e(t)},LM=t=>{t.forEach(PM)};function UM({root:t,...e}){const n=t||document;Ig.has(n)||Ig.set(n,{});const i=Ig.get(n),a=JSON.stringify(e);return i[a]||(i[a]=new IntersectionObserver(LM,{root:t,...e})),i[a]}function zM(t,e,n){const i=UM(e);return w0.set(t,n),i.observe(t),()=>{w0.delete(t),i.unobserve(t)}}const BM={some:0,all:1};class FM extends Jr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:a="some",once:l}=e,c={root:n?n.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:BM[a]},d=m=>{const{isIntersecting:p}=m;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:v,onViewportLeave:b}=this.node.getProps(),w=p?v:b;w&&w(m)};return zM(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(HM(e,n))&&this.startObserver()}unmount(){}}function HM({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const qM={inView:{Feature:FM},tap:{Feature:OM},focus:{Feature:VM},hover:{Feature:MM}},GM={layout:{ProjectionNode:fA,MeasureLayout:AA}},$M={...pM,...qM,...jM,...GM},Te=uM($M,hM),KM=()=>{};var Pw={};const CA=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let a=t.charCodeAt(i);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},YM=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const a=t[n++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],c=t[n++],d=t[n++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(m>>10)),e[i++]=String.fromCharCode(56320+(m&1023))}else{const l=t[n++],c=t[n++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},kA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<t.length;a+=3){const l=t[a],c=a+1<t.length,d=c?t[a+1]:0,m=a+2<t.length,p=m?t[a+2]:0,v=l>>2,b=(l&3)<<4|d>>4;let w=(d&15)<<2|p>>6,C=p&63;m||(C=64,c||(w=64)),i.push(n[v],n[b],n[w],n[C])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(CA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):YM(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],d=a<t.length?n[t.charAt(a)]:0;++a;const p=a<t.length?n[t.charAt(a)]:64;++a;const b=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||d==null||p==null||b==null)throw new QM;const w=l<<2|d>>4;if(i.push(w),p!==64){const C=d<<4&240|p>>2;if(i.push(C),b!==64){const M=p<<6&192|b;i.push(M)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class QM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const XM=function(t){const e=CA(t);return kA.encodeByteArray(e,!0)},rf=function(t){return XM(t).replace(/\./g,"")},NA=function(t){try{return kA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function WM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const JM=()=>WM().__FIREBASE_DEFAULTS__,ZM=()=>{if(typeof process>"u"||typeof Pw>"u")return;const t=Pw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},e3=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&NA(t[1]);return e&&JSON.parse(e)},Of=()=>{try{return KM()||JM()||ZM()||e3()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},RA=t=>Of()?.emulatorHosts?.[t],t3=t=>{const e=RA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},IA=()=>Of()?.config,DA=t=>Of()?.[`_${t}`];class n3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}function wl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function jA(t){return(await fetch(t,{credentials:"include"})).ok}function s3(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[rf(JSON.stringify(n)),rf(JSON.stringify(c)),""].join(".")}const Wc={};function i3(){const t={prod:[],emulator:[]};for(const e of Object.keys(Wc))Wc[e]?t.emulator.push(e):t.prod.push(e);return t}function r3(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Lw=!1;function MA(t,e){if(typeof window>"u"||typeof document>"u"||!wl(window.location.host)||Wc[t]===e||Wc[t]||Lw)return;Wc[t]=e;function n(w){return`__firebase__banner__${w}`}const i="__firebase__banner",l=i3().prod.length>0;function c(){const w=document.getElementById(i);w&&w.remove()}function d(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function m(w,C){w.setAttribute("width","24"),w.setAttribute("id",C),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function p(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{Lw=!0,c()},w}function v(w,C){w.setAttribute("id",C),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function b(){const w=r3(i),C=n("text"),M=document.getElementById(C)||document.createElement("span"),P=n("learnmore"),O=document.getElementById(P)||document.createElement("a"),U=n("preprendIcon"),F=document.getElementById(U)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const $=w.element;d($),v(O,P);const oe=p();m(F,U),$.append(F,M,O,oe),document.body.appendChild($)}l?(M.innerText="Preview backend disconnected.",F.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(F.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,M.innerText="Preview backend running in this workspace."),M.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function yn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function a3(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yn())}function o3(){const t=Of()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function l3(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function c3(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function u3(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function h3(){const t=yn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function d3(){return!o3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function f3(){try{return typeof indexedDB=="object"}catch{return!1}}function m3(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}const p3="FirebaseError";class Qi extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=p3,Object.setPrototypeOf(this,Qi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Cu.prototype.create)}}class Cu{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?g3(l,i):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new Qi(a,d,i)}}function g3(t,e){return t.replace(y3,(n,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const y3=/\{\$([^}]+)}/g;function v3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ha(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const a of n){if(!i.includes(a))return!1;const l=t[a],c=e[a];if(Uw(l)&&Uw(c)){if(!Ha(l,c))return!1}else if(l!==c)return!1}for(const a of i)if(!n.includes(a))return!1;return!0}function Uw(t){return t!==null&&typeof t=="object"}function ku(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function b3(t,e){const n=new x3(t,e);return n.subscribe.bind(n)}class x3{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let a;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");_3(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:i},a.next===void 0&&(a.next=Dg),a.error===void 0&&(a.error=Dg),a.complete===void 0&&(a.complete=Dg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _3(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Dg(){}function Jt(t){return t&&t._delegate?t._delegate:t}class qa{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ma="[DEFAULT]";class w3{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new n3;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(E3(e))try{this.getOrInitializeService({instanceIdentifier:Ma})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=Ma){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ma){return this.instances.has(e)}getOptions(e=Ma){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&c.resolve(a)}return a}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(i)??new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const a of i)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:T3(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ma){return this.component?this.component.multipleInstances?e:Ma:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function T3(t){return t===Ma?void 0:t}function E3(t){return t.instantiationMode==="EAGER"}class S3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new w3(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var $e;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})($e||($e={}));const A3={debug:$e.DEBUG,verbose:$e.VERBOSE,info:$e.INFO,warn:$e.WARN,error:$e.ERROR,silent:$e.SILENT},C3=$e.INFO,k3={[$e.DEBUG]:"log",[$e.VERBOSE]:"log",[$e.INFO]:"info",[$e.WARN]:"warn",[$e.ERROR]:"error"},N3=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),a=k3[e];if(a)console[a](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ly{constructor(e){this.name=e,this._logLevel=C3,this._logHandler=N3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in $e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?A3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,$e.DEBUG,...e),this._logHandler(this,$e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,$e.VERBOSE,...e),this._logHandler(this,$e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,$e.INFO,...e),this._logHandler(this,$e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,$e.WARN,...e),this._logHandler(this,$e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,$e.ERROR,...e),this._logHandler(this,$e.ERROR,...e)}}const R3=(t,e)=>e.some(n=>t instanceof n);let zw,Bw;function I3(){return zw||(zw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function D3(){return Bw||(Bw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const VA=new WeakMap,T0=new WeakMap,OA=new WeakMap,jg=new WeakMap,Uy=new WeakMap;function j3(t){const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(Ur(t.result)),a()},c=()=>{i(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&VA.set(n,t)}).catch(()=>{}),Uy.set(e,t),e}function M3(t){if(T0.has(t))return;const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{i(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});T0.set(t,e)}let E0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return T0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||OA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ur(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function V3(t){E0=t(E0)}function O3(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Mg(this),e,...n);return OA.set(i,e.sort?e.sort():[e]),Ur(i)}:D3().includes(t)?function(...e){return t.apply(Mg(this),e),Ur(VA.get(this))}:function(...e){return Ur(t.apply(Mg(this),e))}}function P3(t){return typeof t=="function"?O3(t):(t instanceof IDBTransaction&&M3(t),R3(t,I3())?new Proxy(t,E0):t)}function Ur(t){if(t instanceof IDBRequest)return j3(t);if(jg.has(t))return jg.get(t);const e=P3(t);return e!==t&&(jg.set(t,e),Uy.set(e,t)),e}const Mg=t=>Uy.get(t);function L3(t,e,{blocked:n,upgrade:i,blocking:a,terminated:l}={}){const c=indexedDB.open(t,e),d=Ur(c);return i&&c.addEventListener("upgradeneeded",m=>{i(Ur(c.result),m.oldVersion,m.newVersion,Ur(c.transaction),m)}),n&&c.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const U3=["get","getKey","getAll","getAllKeys","count"],z3=["put","add","delete","clear"],Vg=new Map;function Fw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Vg.get(e))return Vg.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,a=z3.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(a||U3.includes(n)))return;const l=async function(c,...d){const m=this.transaction(c,a?"readwrite":"readonly");let p=m.store;return i&&(p=p.index(d.shift())),(await Promise.all([p[n](...d),a&&m.done]))[0]};return Vg.set(e,l),l}V3(t=>({...t,get:(e,n,i)=>Fw(e,n)||t.get(e,n,i),has:(e,n)=>!!Fw(e,n)||t.has(e,n)}));class B3{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(F3(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function F3(t){return t.getComponent()?.type==="VERSION"}const S0="@firebase/app",Hw="0.14.8";const Hi=new Ly("@firebase/app"),H3="@firebase/app-compat",q3="@firebase/analytics-compat",G3="@firebase/analytics",$3="@firebase/app-check-compat",K3="@firebase/app-check",Y3="@firebase/auth",Q3="@firebase/auth-compat",X3="@firebase/database",W3="@firebase/data-connect",J3="@firebase/database-compat",Z3="@firebase/functions",e6="@firebase/functions-compat",t6="@firebase/installations",n6="@firebase/installations-compat",s6="@firebase/messaging",i6="@firebase/messaging-compat",r6="@firebase/performance",a6="@firebase/performance-compat",o6="@firebase/remote-config",l6="@firebase/remote-config-compat",c6="@firebase/storage",u6="@firebase/storage-compat",h6="@firebase/firestore",d6="@firebase/ai",f6="@firebase/firestore-compat",m6="firebase",p6="12.9.0";const A0="[DEFAULT]",g6={[S0]:"fire-core",[H3]:"fire-core-compat",[G3]:"fire-analytics",[q3]:"fire-analytics-compat",[K3]:"fire-app-check",[$3]:"fire-app-check-compat",[Y3]:"fire-auth",[Q3]:"fire-auth-compat",[X3]:"fire-rtdb",[W3]:"fire-data-connect",[J3]:"fire-rtdb-compat",[Z3]:"fire-fn",[e6]:"fire-fn-compat",[t6]:"fire-iid",[n6]:"fire-iid-compat",[s6]:"fire-fcm",[i6]:"fire-fcm-compat",[r6]:"fire-perf",[a6]:"fire-perf-compat",[o6]:"fire-rc",[l6]:"fire-rc-compat",[c6]:"fire-gcs",[u6]:"fire-gcs-compat",[h6]:"fire-fst",[f6]:"fire-fst-compat",[d6]:"fire-vertex","fire-js":"fire-js",[m6]:"fire-js-all"};const af=new Map,y6=new Map,C0=new Map;function qw(t,e){try{t.container.addComponent(e)}catch(n){Hi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ol(t){const e=t.name;if(C0.has(e))return Hi.debug(`There were multiple attempts to register component ${e}.`),!1;C0.set(e,t);for(const n of af.values())qw(n,t);for(const n of y6.values())qw(n,t);return!0}function zy(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ks(t){return t==null?!1:t.settings!==void 0}const v6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},zr=new Cu("app","Firebase",v6);class b6{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new qa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw zr.create("app-deleted",{appName:this._name})}}const Tl=p6;function PA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:A0,automaticDataCollectionEnabled:!0,...e},a=i.name;if(typeof a!="string"||!a)throw zr.create("bad-app-name",{appName:String(a)});if(n||(n=IA()),!n)throw zr.create("no-options");const l=af.get(a);if(l){if(Ha(n,l.options)&&Ha(i,l.config))return l;throw zr.create("duplicate-app",{appName:a})}const c=new S3(a);for(const m of C0.values())c.addComponent(m);const d=new b6(n,i,c);return af.set(a,d),d}function LA(t=A0){const e=af.get(t);if(!e&&t===A0&&IA())return PA();if(!e)throw zr.create("no-app",{appName:t});return e}function Br(t,e,n){let i=g6[t]??t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${i}" with version "${e}":`];a&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Hi.warn(c.join(" "));return}ol(new qa(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const x6="firebase-heartbeat-database",_6=1,uu="firebase-heartbeat-store";let Og=null;function UA(){return Og||(Og=L3(x6,_6,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(uu)}catch(n){console.warn(n)}}}}).catch(t=>{throw zr.create("idb-open",{originalErrorMessage:t.message})})),Og}async function w6(t){try{const n=(await UA()).transaction(uu),i=await n.objectStore(uu).get(zA(t));return await n.done,i}catch(e){if(e instanceof Qi)Hi.warn(e.message);else{const n=zr.create("idb-get",{originalErrorMessage:e?.message});Hi.warn(n.message)}}}async function Gw(t,e){try{const i=(await UA()).transaction(uu,"readwrite");await i.objectStore(uu).put(e,zA(t)),await i.done}catch(n){if(n instanceof Qi)Hi.warn(n.message);else{const i=zr.create("idb-set",{originalErrorMessage:n?.message});Hi.warn(i.message)}}}function zA(t){return`${t.name}!${t.options.appId}`}const T6=1024,E6=30;class S6{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new C6(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=$w();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>E6){const a=k6(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Hi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=$w(),{heartbeatsToSend:n,unsentEntries:i}=A6(this._heartbeatsCache.heartbeats),a=rf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Hi.warn(e),""}}}function $w(){return new Date().toISOString().substring(0,10)}function A6(t,e=T6){const n=[];let i=t.slice();for(const a of t){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),Kw(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Kw(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class C6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return f3()?m3().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await w6(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Gw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Gw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Kw(t){return rf(JSON.stringify({version:2,heartbeats:t})).length}function k6(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}function N6(t){ol(new qa("platform-logger",e=>new B3(e),"PRIVATE")),ol(new qa("heartbeat",e=>new S6(e),"PRIVATE")),Br(S0,Hw,t),Br(S0,Hw,"esm2020"),Br("fire-js","")}N6("");function BA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const R6=BA,FA=new Cu("auth","Firebase",BA());const of=new Ly("@firebase/auth");function I6(t,...e){of.logLevel<=$e.WARN&&of.warn(`Auth (${Tl}): ${t}`,...e)}function Ud(t,...e){of.logLevel<=$e.ERROR&&of.error(`Auth (${Tl}): ${t}`,...e)}function hi(t,...e){throw Fy(t,...e)}function Is(t,...e){return Fy(t,...e)}function By(t,e,n){const i={...R6(),[e]:n};return new Cu("auth","Firebase",i).create(e,{appName:t.name})}function za(t){return By(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function D6(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&hi(t,"argument-error"),By(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Fy(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return FA.create(t,...e)}function De(t,e,...n){if(!t)throw Fy(e,...n)}function Oi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ud(e),new Error(e)}function qi(t,e){t||Oi(e)}function k0(){return typeof self<"u"&&self.location?.href||""}function j6(){return Yw()==="http:"||Yw()==="https:"}function Yw(){return typeof self<"u"&&self.location?.protocol||null}function M6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(j6()||c3()||"connection"in navigator)?navigator.onLine:!0}function V6(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class Nu{constructor(e,n){this.shortDelay=e,this.longDelay=n,qi(n>e,"Short delay should be less than long delay!"),this.isMobile=a3()||u3()}get(){return M6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Hy(t,e){qi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class HA{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Oi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Oi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Oi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const O6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const P6=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],L6=new Nu(3e4,6e4);function qy(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function El(t,e,n,i,a={}){return qA(t,a,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const d=ku({key:t.config.apiKey,...c}).slice(1),m=await t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:m,...l};return l3()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&wl(t.emulatorConfig.host)&&(p.credentials="include"),HA.fetch()(await GA(t,t.config.apiHost,n,d),p)})}async function qA(t,e,n){t._canInitEmulator=!1;const i={...O6,...e};try{const a=new z6(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw bd(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[m,p]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw bd(t,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw bd(t,"email-already-in-use",c);if(m==="USER_DISABLED")throw bd(t,"user-disabled",c);const v=i[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw By(t,v,p);hi(t,v)}}catch(a){if(a instanceof Qi)throw a;hi(t,"network-request-failed",{message:String(a)})}}async function U6(t,e,n,i,a={}){const l=await El(t,e,n,i,a);return"mfaPendingCredential"in l&&hi(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function GA(t,e,n,i){const a=`${e}${n}?${i}`,l=t,c=l.config.emulator?Hy(t.config,a):`${t.config.apiScheme}://${a}`;return P6.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}class z6{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Is(this.auth,"network-request-failed")),L6.get())})}}function bd(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const a=Is(t,e,i);return a.customData._tokenResponse=n,a}async function B6(t,e){return El(t,"POST","/v1/accounts:delete",e)}async function lf(t,e){return El(t,"POST","/v1/accounts:lookup",e)}function Jc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function F6(t,e=!1){const n=Jt(t),i=await n.getIdToken(e),a=Gy(i);De(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:i,authTime:Jc(Pg(a.auth_time)),issuedAtTime:Jc(Pg(a.iat)),expirationTime:Jc(Pg(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Pg(t){return Number(t)*1e3}function Gy(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Ud("JWT malformed, contained fewer than 3 sections"),null;try{const a=NA(n);return a?JSON.parse(a):(Ud("Failed to decode base64 JWT payload"),null)}catch(a){return Ud("Caught error parsing JWT payload as JSON",a?.toString()),null}}function Qw(t){const e=Gy(t);return De(e,"internal-error"),De(typeof e.exp<"u","internal-error"),De(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function hu(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Qi&&H6(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function H6({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class q6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class N0{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Jc(this.lastLoginAt),this.creationTime=Jc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function cf(t){const e=t.auth,n=await t.getIdToken(),i=await hu(t,lf(e,{idToken:n}));De(i?.users.length,e,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const l=a.providerUserInfo?.length?$A(a.providerUserInfo):[],c=$6(t.providerData,l),d=t.isAnonymous,m=!(t.email&&a.passwordHash)&&!c?.length,p=d?m:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new N0(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(t,v)}async function G6(t){const e=Jt(t);await cf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function $6(t,e){return[...t.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function $A(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function K6(t,e){const n=await qA(t,{},async()=>{const i=ku({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,c=await GA(t,a,"/v1/token",`key=${l}`),d=await t._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:d,body:i};return t.emulatorConfig&&wl(t.emulatorConfig.host)&&(m.credentials="include"),HA.fetch()(c,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Y6(t,e){return El(t,"POST","/v2/accounts:revokeToken",qy(t,e))}class el{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){De(e.idToken,"internal-error"),De(typeof e.idToken<"u","internal-error"),De(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Qw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){De(e.length!==0,"internal-error");const n=Qw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(De(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:a,expiresIn:l}=await K6(e,n);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:a,expirationTime:l}=n,c=new el;return i&&(De(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),a&&(De(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(De(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new el,this.toJSON())}_performRefresh(){return Oi("not implemented")}}function Ir(t,e){De(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ns{constructor({uid:e,auth:n,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new q6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new N0(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await hu(this,this.stsTokenManager.getToken(this.auth,e));return De(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return F6(this,e)}reload(){return G6(this)}_assign(e){this!==e&&(De(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ns({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){De(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await cf(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ks(this.auth.app))return Promise.reject(za(this.auth));const e=await this.getIdToken();return await hu(this,B6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,d=n.tenantId??void 0,m=n._redirectEventId??void 0,p=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:b,emailVerified:w,isAnonymous:C,providerData:M,stsTokenManager:P}=n;De(b&&P,e,"internal-error");const O=el.fromJSON(this.name,P);De(typeof b=="string",e,"internal-error"),Ir(i,e.name),Ir(a,e.name),De(typeof w=="boolean",e,"internal-error"),De(typeof C=="boolean",e,"internal-error"),Ir(l,e.name),Ir(c,e.name),Ir(d,e.name),Ir(m,e.name),Ir(p,e.name),Ir(v,e.name);const U=new Ns({uid:b,auth:e,email:a,emailVerified:w,displayName:i,isAnonymous:C,photoURL:c,phoneNumber:l,tenantId:d,stsTokenManager:O,createdAt:p,lastLoginAt:v});return M&&Array.isArray(M)&&(U.providerData=M.map(F=>({...F}))),m&&(U._redirectEventId=m),U}static async _fromIdTokenResponse(e,n,i=!1){const a=new el;a.updateFromServerResponse(n);const l=new Ns({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await cf(l),l}static async _fromGetAccountInfoResponse(e,n,i){const a=n.users[0];De(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?$A(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,d=new el;d.updateFromIdToken(i);const m=new Ns({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new N0(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,p),m}}const Xw=new Map;function Pi(t){qi(t instanceof Function,"Expected a class definition");let e=Xw.get(t);return e?(qi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Xw.set(t,e),e)}class KA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}KA.type="NONE";const Ww=KA;function zd(t,e,n){return`firebase:${t}:${e}:${n}`}class tl{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=zd(this.userKey,a.apiKey,l),this.fullPersistenceKey=zd("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await lf(this.auth,{idToken:e}).catch(()=>{});return n?Ns._fromGetAccountInfoResponse(this.auth,n,e):null}return Ns._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new tl(Pi(Ww),e,i);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||Pi(Ww);const c=zd(i,e.config.apiKey,e.name);let d=null;for(const p of n)try{const v=await p._get(c);if(v){let b;if(typeof v=="string"){const w=await lf(e,{idToken:v}).catch(()=>{});if(!w)break;b=await Ns._fromGetAccountInfoResponse(e,w,v)}else b=Ns._fromJSON(e,v);p!==l&&(d=b),l=p;break}}catch{}const m=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new tl(l,e,i):(l=m[0],d&&await l._set(c,d.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new tl(l,e,i))}}function Jw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(WA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(YA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ZA(e))return"Blackberry";if(e2(e))return"Webos";if(QA(e))return"Safari";if((e.includes("chrome/")||XA(e))&&!e.includes("edge/"))return"Chrome";if(JA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if(i?.length===2)return i[1]}return"Other"}function YA(t=yn()){return/firefox\//i.test(t)}function QA(t=yn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function XA(t=yn()){return/crios\//i.test(t)}function WA(t=yn()){return/iemobile/i.test(t)}function JA(t=yn()){return/android/i.test(t)}function ZA(t=yn()){return/blackberry/i.test(t)}function e2(t=yn()){return/webos/i.test(t)}function $y(t=yn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Q6(t=yn()){return $y(t)&&!!window.navigator?.standalone}function X6(){return h3()&&document.documentMode===10}function t2(t=yn()){return $y(t)||JA(t)||e2(t)||ZA(t)||/windows phone/i.test(t)||WA(t)}function n2(t,e=[]){let n;switch(t){case"Browser":n=Jw(yn());break;case"Worker":n=`${Jw(yn())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Tl}/${i}`}class W6{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=l=>new Promise((c,d)=>{try{const m=e(l);c(m)}catch(m){d(m)}});i.onAbort=n,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function J6(t,e={}){return El(t,"GET","/v2/passwordPolicy",qy(t,e))}const Z6=6;class eV{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Z6,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class tV{constructor(e,n,i,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Zw(this),this.idTokenSubscription=new Zw(this),this.beforeStateQueue=new W6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=FA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Pi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await tl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await lf(this,{idToken:e}),i=await Ns._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ks(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=i?._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===c)&&d?.user&&(i=d.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return De(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await cf(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=V6()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ks(this.app))return Promise.reject(za(this));const n=e?Jt(e):null;return n&&De(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&De(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ks(this.app)?Promise.reject(za(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ks(this.app)?Promise.reject(za(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Pi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await J6(this),n=new eV(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Cu("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await Y6(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Pi(e)||this._popupRedirectResolver;De(n,this,"argument-error"),this.redirectPersistenceManager=await tl.create(this,[Pi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(De(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,i,a);return()=>{c=!0,m()}}else{const m=e.addObserver(n);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return De(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=n2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(ks(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&I6(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Pf(t){return Jt(t)}class Zw{constructor(e){this.auth=e,this.observer=null,this.addObserver=b3(n=>this.observer=n)}get next(){return De(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ky={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function nV(t){Ky=t}function sV(t){return Ky.loadJS(t)}function iV(){return Ky.gapiScript}function rV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function aV(t,e){const n=zy(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Ha(l,e??{}))return a;hi(a,"already-initialized")}return n.initialize({options:e})}function oV(t,e){const n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(Pi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}function lV(t,e,n){const i=Pf(t);De(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=s2(e),{host:c,port:d}=cV(e),m=d===null?"":`:${d}`,p={url:`${l}//${c}${m}/`},v=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){De(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),De(Ha(p,i.config.emulator)&&Ha(v,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=p,i.emulatorConfig=v,i.settings.appVerificationDisabledForTesting=!0,wl(c)?(jA(`${l}//${c}${m}`),MA("Auth",!0)):uV()}function s2(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function cV(t){const e=s2(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:eT(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:eT(c)}}}function eT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function uV(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class i2{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Oi("not implemented")}_getIdTokenResponse(e){return Oi("not implemented")}_linkToIdToken(e,n){return Oi("not implemented")}_getReauthenticationResolver(e){return Oi("not implemented")}}async function nl(t,e){return U6(t,"POST","/v1/accounts:signInWithIdp",qy(t,e))}const hV="http://localhost";class Ga extends i2{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ga(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):hi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a,...l}=n;if(!i||!a)return null;const c=new Ga(i,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return nl(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,nl(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,nl(e,n)}buildRequest(){const e={requestUri:hV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ku(n)}return e}}class Yy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ru extends Yy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Mr extends Ru{constructor(){super("facebook.com")}static credential(e){return Ga._fromParams({providerId:Mr.PROVIDER_ID,signInMethod:Mr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mr.credentialFromTaggedObject(e)}static credentialFromError(e){return Mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Mr.credential(e.oauthAccessToken)}catch{return null}}}Mr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Mr.PROVIDER_ID="facebook.com";class Vi extends Ru{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ga._fromParams({providerId:Vi.PROVIDER_ID,signInMethod:Vi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Vi.credentialFromTaggedObject(e)}static credentialFromError(e){return Vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Vi.credential(n,i)}catch{return null}}}Vi.GOOGLE_SIGN_IN_METHOD="google.com";Vi.PROVIDER_ID="google.com";class Vr extends Ru{constructor(){super("github.com")}static credential(e){return Ga._fromParams({providerId:Vr.PROVIDER_ID,signInMethod:Vr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vr.credentialFromTaggedObject(e)}static credentialFromError(e){return Vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vr.credential(e.oauthAccessToken)}catch{return null}}}Vr.GITHUB_SIGN_IN_METHOD="github.com";Vr.PROVIDER_ID="github.com";class Or extends Ru{constructor(){super("twitter.com")}static credential(e,n){return Ga._fromParams({providerId:Or.PROVIDER_ID,signInMethod:Or.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Or.credentialFromTaggedObject(e)}static credentialFromError(e){return Or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Or.credential(n,i)}catch{return null}}}Or.TWITTER_SIGN_IN_METHOD="twitter.com";Or.PROVIDER_ID="twitter.com";class ll{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,a=!1){const l=await Ns._fromIdTokenResponse(e,i,a),c=tT(i);return new ll({user:l,providerId:c,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const a=tT(i);return new ll({user:e,providerId:a,_tokenResponse:i,operationType:n})}}function tT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class uf extends Qi{constructor(e,n,i,a){super(n.code,n.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,uf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,a){return new uf(e,n,i,a)}}function r2(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?uf._fromErrorAndOperation(t,l,e,i):l})}async function dV(t,e,n=!1){const i=await hu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ll._forOperation(t,"link",i)}async function fV(t,e,n=!1){const{auth:i}=t;if(ks(i.app))return Promise.reject(za(i));const a="reauthenticate";try{const l=await hu(t,r2(i,a,e,t),n);De(l.idToken,i,"internal-error");const c=Gy(l.idToken);De(c,i,"internal-error");const{sub:d}=c;return De(t.uid===d,i,"user-mismatch"),ll._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&hi(i,"user-mismatch"),l}}async function mV(t,e,n=!1){if(ks(t.app))return Promise.reject(za(t));const i="signIn",a=await r2(t,i,e),l=await ll._fromIdTokenResponse(t,i,a);return n||await t._updateCurrentUser(l.user),l}function pV(t,e,n,i){return Jt(t).onIdTokenChanged(e,n,i)}function gV(t,e,n){return Jt(t).beforeAuthStateChanged(e,n)}function yV(t,e,n,i){return Jt(t).onAuthStateChanged(e,n,i)}function vV(t){return Jt(t).signOut()}const hf="__sak";class a2{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(hf,"1"),this.storage.removeItem(hf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const bV=1e3,xV=10;class o2 extends a2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=t2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),a=this.localCache[n];i!==a&&e(n,a,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,d,m)=>{this.notifyListeners(c,m)});return}const i=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!n&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);X6()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,xV):a()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},bV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}o2.type="LOCAL";const _V=o2;class l2 extends a2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}l2.type="SESSION";const c2=l2;function wV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Lf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const i=new Lf(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const d=Array.from(c).map(async p=>p(n.origin,l)),m=await wV(d);n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Lf.receivers=[];function Qy(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}class TV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,m)=>{const p=Qy("",20);a.port1.start();const v=setTimeout(()=>{m(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(b){const w=b;if(w.data.eventId===p)switch(w.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(w.data.response);break;default:clearTimeout(v),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function ai(){return window}function EV(t){ai().location.href=t}function u2(){return typeof ai().WorkerGlobalScope<"u"&&typeof ai().importScripts=="function"}async function SV(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function AV(){return navigator?.serviceWorker?.controller||null}function CV(){return u2()?self:null}const h2="firebaseLocalStorageDb",kV=1,df="firebaseLocalStorage",d2="fbase_key";class Iu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Uf(t,e){return t.transaction([df],e?"readwrite":"readonly").objectStore(df)}function NV(){const t=indexedDB.deleteDatabase(h2);return new Iu(t).toPromise()}function R0(){const t=indexedDB.open(h2,kV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(df,{keyPath:d2})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(df)?e(i):(i.close(),await NV(),e(await R0()))})})}async function nT(t,e,n){const i=Uf(t,!0).put({[d2]:e,value:n});return new Iu(i).toPromise()}async function RV(t,e){const n=Uf(t,!1).get(e),i=await new Iu(n).toPromise();return i===void 0?null:i.value}function sT(t,e){const n=Uf(t,!0).delete(e);return new Iu(n).toPromise()}const IV=800,DV=3;class f2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await R0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>DV)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return u2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Lf._getInstance(CV()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await SV(),!this.activeServiceWorker)return;this.sender=new TV(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||AV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await R0();return await nT(e,hf,"1"),await sT(e,hf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>nT(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>RV(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>sT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Uf(a,!1).getAll();return new Iu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),IV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}f2.type="LOCAL";const jV=f2;new Nu(3e4,6e4);function m2(t,e){return e?Pi(e):(De(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class Xy extends i2{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return nl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return nl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return nl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function MV(t){return mV(t.auth,new Xy(t),t.bypassAuthState)}function VV(t){const{auth:e,user:n}=t;return De(n,e,"internal-error"),fV(n,new Xy(t),t.bypassAuthState)}async function OV(t){const{auth:e,user:n}=t;return De(n,e,"internal-error"),dV(n,new Xy(t),t.bypassAuthState)}class p2{constructor(e,n,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:a,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:n,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return MV;case"linkViaPopup":case"linkViaRedirect":return OV;case"reauthViaPopup":case"reauthViaRedirect":return VV;default:hi(this.auth,"internal-error")}}resolve(e){qi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){qi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const PV=new Nu(2e3,1e4);async function LV(t,e,n){if(ks(t.app))return Promise.reject(Is(t,"operation-not-supported-in-this-environment"));const i=Pf(t);D6(t,e,Yy);const a=m2(i,n);return new Pa(i,"signInViaPopup",e,a).executeNotNull()}class Pa extends p2{constructor(e,n,i,a,l){super(e,n,a,l),this.provider=i,this.authWindow=null,this.pollId=null,Pa.currentPopupAction&&Pa.currentPopupAction.cancel(),Pa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return De(e,this.auth,"internal-error"),e}async onExecution(){qi(this.filter.length===1,"Popup operations only handle one event");const e=Qy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Is(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Is(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Pa.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Is(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,PV.get())};e()}}Pa.currentPopupAction=null;const UV="pendingRedirect",Bd=new Map;class zV extends p2{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Bd.get(this.auth._key());if(!e){try{const i=await BV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Bd.set(this.auth._key(),e)}return this.bypassAuthState||Bd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function BV(t,e){const n=qV(e),i=HV(t);if(!await i._isAvailable())return!1;const a=await i._get(n)==="true";return await i._remove(n),a}function FV(t,e){Bd.set(t._key(),e)}function HV(t){return Pi(t._redirectPersistence)}function qV(t){return zd(UV,t.config.apiKey,t.name)}async function GV(t,e,n=!1){if(ks(t.app))return Promise.reject(za(t));const i=Pf(t),a=m2(i,e),c=await new zV(i,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}const $V=600*1e3;class KV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!YV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!g2(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Is(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=$V&&this.cachedEventUids.clear(),this.cachedEventUids.has(iT(e))}saveEventToCache(e){this.cachedEventUids.add(iT(e)),this.lastProcessedEventTime=Date.now()}}function iT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function g2({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function YV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return g2(t);default:return!1}}async function QV(t,e={}){return El(t,"GET","/v1/projects",e)}const XV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,WV=/^https?/;async function JV(t){if(t.config.emulator)return;const{authorizedDomains:e}=await QV(t);for(const n of e)try{if(ZV(n))return}catch{}hi(t,"unauthorized-domain")}function ZV(t){const e=k0(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===i}if(!WV.test(n))return!1;if(XV.test(t))return i===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}const eO=new Nu(3e4,6e4);function rT(){const t=ai().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function tO(t){return new Promise((e,n)=>{function i(){rT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{rT(),n(Is(t,"network-request-failed"))},timeout:eO.get()})}if(ai().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ai().gapi?.load)i();else{const a=rV("iframefcb");return ai()[a]=()=>{gapi.load?i():n(Is(t,"network-request-failed"))},sV(`${iV()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Fd=null,e})}let Fd=null;function nO(t){return Fd=Fd||tO(t),Fd}const sO=new Nu(5e3,15e3),iO="__/auth/iframe",rO="emulator/auth/iframe",aO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},oO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function lO(t){const e=t.config;De(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Hy(e,rO):`https://${t.config.authDomain}/${iO}`,i={apiKey:e.apiKey,appName:t.name,v:Tl},a=oO.get(t.config.apiHost);a&&(i.eid=a);const l=t._getFrameworks();return l.length&&(i.fw=l.join(",")),`${n}?${ku(i).slice(1)}`}async function cO(t){const e=await nO(t),n=ai().gapi;return De(n,t,"internal-error"),e.open({where:document.body,url:lO(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:aO,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const c=Is(t,"network-request-failed"),d=ai().setTimeout(()=>{l(c)},sO.get());function m(){ai().clearTimeout(d),a(i)}i.ping(m).then(m,()=>{l(c)})}))}const uO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},hO=500,dO=600,fO="_blank",mO="http://localhost";class aT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function pO(t,e,n,i=hO,a=dO){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const m={...uO,width:i.toString(),height:a.toString(),top:l,left:c},p=yn().toLowerCase();n&&(d=XA(p)?fO:n),YA(p)&&(e=e||mO,m.scrollbars="yes");const v=Object.entries(m).reduce((w,[C,M])=>`${w}${C}=${M},`,"");if(Q6(p)&&d!=="_self")return gO(e||"",d),new aT(null);const b=window.open(e||"",d,v);De(b,t,"popup-blocked");try{b.focus()}catch{}return new aT(b)}function gO(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}const yO="__/auth/handler",vO="emulator/auth/handler",bO=encodeURIComponent("fac");async function oT(t,e,n,i,a,l){De(t.config.authDomain,t,"auth-domain-config-required"),De(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:Tl,eventId:a};if(e instanceof Yy){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",v3(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,b]of Object.entries({}))c[v]=b}if(e instanceof Ru){const v=e.getScopes().filter(b=>b!=="");v.length>0&&(c.scopes=v.join(","))}t.tenantId&&(c.tid=t.tenantId);const d=c;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const m=await t._getAppCheckToken(),p=m?`#${bO}=${encodeURIComponent(m)}`:"";return`${xO(t)}?${ku(d).slice(1)}${p}`}function xO({config:t}){return t.emulator?Hy(t,vO):`https://${t.authDomain}/${yO}`}const Lg="webStorageSupport";class _O{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=c2,this._completeRedirectFn=GV,this._overrideRedirectResult=FV}async _openPopup(e,n,i,a){qi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await oT(e,n,i,k0(),a);return pO(e,l,Qy())}async _openRedirect(e,n,i,a){await this._originValidation(e);const l=await oT(e,n,i,k0(),a);return EV(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(qi(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await cO(e),i=new KV(e);return n.register("authEvent",a=>(De(a?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Lg,{type:Lg},a=>{const l=a?.[0]?.[Lg];l!==void 0&&n(!!l),hi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=JV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return t2()||QA()||$y()}}const wO=_O;var lT="@firebase/auth",cT="1.12.0";class TO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){De(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function EO(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function SO(t){ol(new qa("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=i.options;De(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const m={apiKey:c,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:n2(t)},p=new tV(i,a,l,m);return oV(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),ol(new qa("auth-internal",e=>{const n=Pf(e.getProvider("auth").getImmediate());return(i=>new TO(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Br(lT,cT,EO(t)),Br(lT,cT,"esm2020")}const AO=300,CO=DA("authIdTokenMaxAge")||AO;let uT=null;const kO=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>CO)return;const a=n?.token;uT!==a&&(uT=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function NO(t=LA()){const e=zy(t,"auth");if(e.isInitialized())return e.getImmediate();const n=aV(t,{popupRedirectResolver:wO,persistence:[jV,_V,c2]}),i=DA("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=kO(l.toString());gV(n,c,()=>c(n.currentUser)),pV(n,d=>c(d))}}const a=RA("auth");return a&&lV(n,`http://${a}`),n}function RO(){return document.getElementsByTagName("head")?.[0]??document}nV({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=a=>{const l=Is("internal-error");l.customData=a,n(l)},i.type="text/javascript",i.charset="UTF-8",RO().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});SO("Browser");var IO="firebase",DO="12.9.0";Br(IO,DO,"app");var hT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Fr,y2;(function(){var t;function e(j,E){function S(){}S.prototype=E.prototype,j.F=E.prototype,j.prototype=new S,j.prototype.constructor=j,j.D=function(I,k,V){for(var R=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)R[pe-2]=arguments[pe];return E.prototype[k].apply(I,R)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(j,E,S){S||(S=0);const I=Array(16);if(typeof E=="string")for(var k=0;k<16;++k)I[k]=E.charCodeAt(S++)|E.charCodeAt(S++)<<8|E.charCodeAt(S++)<<16|E.charCodeAt(S++)<<24;else for(k=0;k<16;++k)I[k]=E[S++]|E[S++]<<8|E[S++]<<16|E[S++]<<24;E=j.g[0],S=j.g[1],k=j.g[2];let V=j.g[3],R;R=E+(V^S&(k^V))+I[0]+3614090360&4294967295,E=S+(R<<7&4294967295|R>>>25),R=V+(k^E&(S^k))+I[1]+3905402710&4294967295,V=E+(R<<12&4294967295|R>>>20),R=k+(S^V&(E^S))+I[2]+606105819&4294967295,k=V+(R<<17&4294967295|R>>>15),R=S+(E^k&(V^E))+I[3]+3250441966&4294967295,S=k+(R<<22&4294967295|R>>>10),R=E+(V^S&(k^V))+I[4]+4118548399&4294967295,E=S+(R<<7&4294967295|R>>>25),R=V+(k^E&(S^k))+I[5]+1200080426&4294967295,V=E+(R<<12&4294967295|R>>>20),R=k+(S^V&(E^S))+I[6]+2821735955&4294967295,k=V+(R<<17&4294967295|R>>>15),R=S+(E^k&(V^E))+I[7]+4249261313&4294967295,S=k+(R<<22&4294967295|R>>>10),R=E+(V^S&(k^V))+I[8]+1770035416&4294967295,E=S+(R<<7&4294967295|R>>>25),R=V+(k^E&(S^k))+I[9]+2336552879&4294967295,V=E+(R<<12&4294967295|R>>>20),R=k+(S^V&(E^S))+I[10]+4294925233&4294967295,k=V+(R<<17&4294967295|R>>>15),R=S+(E^k&(V^E))+I[11]+2304563134&4294967295,S=k+(R<<22&4294967295|R>>>10),R=E+(V^S&(k^V))+I[12]+1804603682&4294967295,E=S+(R<<7&4294967295|R>>>25),R=V+(k^E&(S^k))+I[13]+4254626195&4294967295,V=E+(R<<12&4294967295|R>>>20),R=k+(S^V&(E^S))+I[14]+2792965006&4294967295,k=V+(R<<17&4294967295|R>>>15),R=S+(E^k&(V^E))+I[15]+1236535329&4294967295,S=k+(R<<22&4294967295|R>>>10),R=E+(k^V&(S^k))+I[1]+4129170786&4294967295,E=S+(R<<5&4294967295|R>>>27),R=V+(S^k&(E^S))+I[6]+3225465664&4294967295,V=E+(R<<9&4294967295|R>>>23),R=k+(E^S&(V^E))+I[11]+643717713&4294967295,k=V+(R<<14&4294967295|R>>>18),R=S+(V^E&(k^V))+I[0]+3921069994&4294967295,S=k+(R<<20&4294967295|R>>>12),R=E+(k^V&(S^k))+I[5]+3593408605&4294967295,E=S+(R<<5&4294967295|R>>>27),R=V+(S^k&(E^S))+I[10]+38016083&4294967295,V=E+(R<<9&4294967295|R>>>23),R=k+(E^S&(V^E))+I[15]+3634488961&4294967295,k=V+(R<<14&4294967295|R>>>18),R=S+(V^E&(k^V))+I[4]+3889429448&4294967295,S=k+(R<<20&4294967295|R>>>12),R=E+(k^V&(S^k))+I[9]+568446438&4294967295,E=S+(R<<5&4294967295|R>>>27),R=V+(S^k&(E^S))+I[14]+3275163606&4294967295,V=E+(R<<9&4294967295|R>>>23),R=k+(E^S&(V^E))+I[3]+4107603335&4294967295,k=V+(R<<14&4294967295|R>>>18),R=S+(V^E&(k^V))+I[8]+1163531501&4294967295,S=k+(R<<20&4294967295|R>>>12),R=E+(k^V&(S^k))+I[13]+2850285829&4294967295,E=S+(R<<5&4294967295|R>>>27),R=V+(S^k&(E^S))+I[2]+4243563512&4294967295,V=E+(R<<9&4294967295|R>>>23),R=k+(E^S&(V^E))+I[7]+1735328473&4294967295,k=V+(R<<14&4294967295|R>>>18),R=S+(V^E&(k^V))+I[12]+2368359562&4294967295,S=k+(R<<20&4294967295|R>>>12),R=E+(S^k^V)+I[5]+4294588738&4294967295,E=S+(R<<4&4294967295|R>>>28),R=V+(E^S^k)+I[8]+2272392833&4294967295,V=E+(R<<11&4294967295|R>>>21),R=k+(V^E^S)+I[11]+1839030562&4294967295,k=V+(R<<16&4294967295|R>>>16),R=S+(k^V^E)+I[14]+4259657740&4294967295,S=k+(R<<23&4294967295|R>>>9),R=E+(S^k^V)+I[1]+2763975236&4294967295,E=S+(R<<4&4294967295|R>>>28),R=V+(E^S^k)+I[4]+1272893353&4294967295,V=E+(R<<11&4294967295|R>>>21),R=k+(V^E^S)+I[7]+4139469664&4294967295,k=V+(R<<16&4294967295|R>>>16),R=S+(k^V^E)+I[10]+3200236656&4294967295,S=k+(R<<23&4294967295|R>>>9),R=E+(S^k^V)+I[13]+681279174&4294967295,E=S+(R<<4&4294967295|R>>>28),R=V+(E^S^k)+I[0]+3936430074&4294967295,V=E+(R<<11&4294967295|R>>>21),R=k+(V^E^S)+I[3]+3572445317&4294967295,k=V+(R<<16&4294967295|R>>>16),R=S+(k^V^E)+I[6]+76029189&4294967295,S=k+(R<<23&4294967295|R>>>9),R=E+(S^k^V)+I[9]+3654602809&4294967295,E=S+(R<<4&4294967295|R>>>28),R=V+(E^S^k)+I[12]+3873151461&4294967295,V=E+(R<<11&4294967295|R>>>21),R=k+(V^E^S)+I[15]+530742520&4294967295,k=V+(R<<16&4294967295|R>>>16),R=S+(k^V^E)+I[2]+3299628645&4294967295,S=k+(R<<23&4294967295|R>>>9),R=E+(k^(S|~V))+I[0]+4096336452&4294967295,E=S+(R<<6&4294967295|R>>>26),R=V+(S^(E|~k))+I[7]+1126891415&4294967295,V=E+(R<<10&4294967295|R>>>22),R=k+(E^(V|~S))+I[14]+2878612391&4294967295,k=V+(R<<15&4294967295|R>>>17),R=S+(V^(k|~E))+I[5]+4237533241&4294967295,S=k+(R<<21&4294967295|R>>>11),R=E+(k^(S|~V))+I[12]+1700485571&4294967295,E=S+(R<<6&4294967295|R>>>26),R=V+(S^(E|~k))+I[3]+2399980690&4294967295,V=E+(R<<10&4294967295|R>>>22),R=k+(E^(V|~S))+I[10]+4293915773&4294967295,k=V+(R<<15&4294967295|R>>>17),R=S+(V^(k|~E))+I[1]+2240044497&4294967295,S=k+(R<<21&4294967295|R>>>11),R=E+(k^(S|~V))+I[8]+1873313359&4294967295,E=S+(R<<6&4294967295|R>>>26),R=V+(S^(E|~k))+I[15]+4264355552&4294967295,V=E+(R<<10&4294967295|R>>>22),R=k+(E^(V|~S))+I[6]+2734768916&4294967295,k=V+(R<<15&4294967295|R>>>17),R=S+(V^(k|~E))+I[13]+1309151649&4294967295,S=k+(R<<21&4294967295|R>>>11),R=E+(k^(S|~V))+I[4]+4149444226&4294967295,E=S+(R<<6&4294967295|R>>>26),R=V+(S^(E|~k))+I[11]+3174756917&4294967295,V=E+(R<<10&4294967295|R>>>22),R=k+(E^(V|~S))+I[2]+718787259&4294967295,k=V+(R<<15&4294967295|R>>>17),R=S+(V^(k|~E))+I[9]+3951481745&4294967295,j.g[0]=j.g[0]+E&4294967295,j.g[1]=j.g[1]+(k+(R<<21&4294967295|R>>>11))&4294967295,j.g[2]=j.g[2]+k&4294967295,j.g[3]=j.g[3]+V&4294967295}i.prototype.v=function(j,E){E===void 0&&(E=j.length);const S=E-this.blockSize,I=this.C;let k=this.h,V=0;for(;V<E;){if(k==0)for(;V<=S;)a(this,j,V),V+=this.blockSize;if(typeof j=="string"){for(;V<E;)if(I[k++]=j.charCodeAt(V++),k==this.blockSize){a(this,I),k=0;break}}else for(;V<E;)if(I[k++]=j[V++],k==this.blockSize){a(this,I),k=0;break}}this.h=k,this.o+=E},i.prototype.A=function(){var j=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);j[0]=128;for(var E=1;E<j.length-8;++E)j[E]=0;E=this.o*8;for(var S=j.length-8;S<j.length;++S)j[S]=E&255,E/=256;for(this.v(j),j=Array(16),E=0,S=0;S<4;++S)for(let I=0;I<32;I+=8)j[E++]=this.g[S]>>>I&255;return j};function l(j,E){var S=d;return Object.prototype.hasOwnProperty.call(S,j)?S[j]:S[j]=E(j)}function c(j,E){this.h=E;const S=[];let I=!0;for(let k=j.length-1;k>=0;k--){const V=j[k]|0;I&&V==E||(S[k]=V,I=!1)}this.g=S}var d={};function m(j){return-128<=j&&j<128?l(j,function(E){return new c([E|0],E<0?-1:0)}):new c([j|0],j<0?-1:0)}function p(j){if(isNaN(j)||!isFinite(j))return b;if(j<0)return O(p(-j));const E=[];let S=1;for(let I=0;j>=S;I++)E[I]=j/S|0,S*=4294967296;return new c(E,0)}function v(j,E){if(j.length==0)throw Error("number format error: empty string");if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(j.charAt(0)=="-")return O(v(j.substring(1),E));if(j.indexOf("-")>=0)throw Error('number format error: interior "-" character');const S=p(Math.pow(E,8));let I=b;for(let V=0;V<j.length;V+=8){var k=Math.min(8,j.length-V);const R=parseInt(j.substring(V,V+k),E);k<8?(k=p(Math.pow(E,k)),I=I.j(k).add(p(R))):(I=I.j(S),I=I.add(p(R)))}return I}var b=m(0),w=m(1),C=m(16777216);t=c.prototype,t.m=function(){if(P(this))return-O(this).m();let j=0,E=1;for(let S=0;S<this.g.length;S++){const I=this.i(S);j+=(I>=0?I:4294967296+I)*E,E*=4294967296}return j},t.toString=function(j){if(j=j||10,j<2||36<j)throw Error("radix out of range: "+j);if(M(this))return"0";if(P(this))return"-"+O(this).toString(j);const E=p(Math.pow(j,6));var S=this;let I="";for(;;){const k=oe(S,E).g;S=U(S,k.j(E));let V=((S.g.length>0?S.g[0]:S.h)>>>0).toString(j);if(S=k,M(S))return V+I;for(;V.length<6;)V="0"+V;I=V+I}},t.i=function(j){return j<0?0:j<this.g.length?this.g[j]:this.h};function M(j){if(j.h!=0)return!1;for(let E=0;E<j.g.length;E++)if(j.g[E]!=0)return!1;return!0}function P(j){return j.h==-1}t.l=function(j){return j=U(this,j),P(j)?-1:M(j)?0:1};function O(j){const E=j.g.length,S=[];for(let I=0;I<E;I++)S[I]=~j.g[I];return new c(S,~j.h).add(w)}t.abs=function(){return P(this)?O(this):this},t.add=function(j){const E=Math.max(this.g.length,j.g.length),S=[];let I=0;for(let k=0;k<=E;k++){let V=I+(this.i(k)&65535)+(j.i(k)&65535),R=(V>>>16)+(this.i(k)>>>16)+(j.i(k)>>>16);I=R>>>16,V&=65535,R&=65535,S[k]=R<<16|V}return new c(S,S[S.length-1]&-2147483648?-1:0)};function U(j,E){return j.add(O(E))}t.j=function(j){if(M(this)||M(j))return b;if(P(this))return P(j)?O(this).j(O(j)):O(O(this).j(j));if(P(j))return O(this.j(O(j)));if(this.l(C)<0&&j.l(C)<0)return p(this.m()*j.m());const E=this.g.length+j.g.length,S=[];for(var I=0;I<2*E;I++)S[I]=0;for(I=0;I<this.g.length;I++)for(let k=0;k<j.g.length;k++){const V=this.i(I)>>>16,R=this.i(I)&65535,pe=j.i(k)>>>16,_e=j.i(k)&65535;S[2*I+2*k]+=R*_e,F(S,2*I+2*k),S[2*I+2*k+1]+=V*_e,F(S,2*I+2*k+1),S[2*I+2*k+1]+=R*pe,F(S,2*I+2*k+1),S[2*I+2*k+2]+=V*pe,F(S,2*I+2*k+2)}for(j=0;j<E;j++)S[j]=S[2*j+1]<<16|S[2*j];for(j=E;j<2*E;j++)S[j]=0;return new c(S,0)};function F(j,E){for(;(j[E]&65535)!=j[E];)j[E+1]+=j[E]>>>16,j[E]&=65535,E++}function $(j,E){this.g=j,this.h=E}function oe(j,E){if(M(E))throw Error("division by zero");if(M(j))return new $(b,b);if(P(j))return E=oe(O(j),E),new $(O(E.g),O(E.h));if(P(E))return E=oe(j,O(E)),new $(O(E.g),E.h);if(j.g.length>30){if(P(j)||P(E))throw Error("slowDivide_ only works with positive integers.");for(var S=w,I=E;I.l(j)<=0;)S=re(S),I=re(I);var k=ue(S,1),V=ue(I,1);for(I=ue(I,2),S=ue(S,2);!M(I);){var R=V.add(I);R.l(j)<=0&&(k=k.add(S),V=R),I=ue(I,1),S=ue(S,1)}return E=U(j,k.j(E)),new $(k,E)}for(k=b;j.l(E)>=0;){for(S=Math.max(1,Math.floor(j.m()/E.m())),I=Math.ceil(Math.log(S)/Math.LN2),I=I<=48?1:Math.pow(2,I-48),V=p(S),R=V.j(E);P(R)||R.l(j)>0;)S-=I,V=p(S),R=V.j(E);M(V)&&(V=w),k=k.add(V),j=U(j,R)}return new $(k,j)}t.B=function(j){return oe(this,j).h},t.and=function(j){const E=Math.max(this.g.length,j.g.length),S=[];for(let I=0;I<E;I++)S[I]=this.i(I)&j.i(I);return new c(S,this.h&j.h)},t.or=function(j){const E=Math.max(this.g.length,j.g.length),S=[];for(let I=0;I<E;I++)S[I]=this.i(I)|j.i(I);return new c(S,this.h|j.h)},t.xor=function(j){const E=Math.max(this.g.length,j.g.length),S=[];for(let I=0;I<E;I++)S[I]=this.i(I)^j.i(I);return new c(S,this.h^j.h)};function re(j){const E=j.g.length+1,S=[];for(let I=0;I<E;I++)S[I]=j.i(I)<<1|j.i(I-1)>>>31;return new c(S,j.h)}function ue(j,E){const S=E>>5;E%=32;const I=j.g.length-S,k=[];for(let V=0;V<I;V++)k[V]=E>0?j.i(V+S)>>>E|j.i(V+S+1)<<32-E:j.i(V+S);return new c(k,j.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,y2=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=v,Fr=c}).apply(typeof hT<"u"?hT:typeof self<"u"?self:typeof window<"u"?window:{});var xd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var v2,Hc,b2,Hd,I0,x2,_2,w2;(function(){var t,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof xd=="object"&&xd];for(var x=0;x<h.length;++x){var T=h[x];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var i=n(this);function a(h,x){if(x)e:{var T=i;h=h.split(".");for(var N=0;N<h.length-1;N++){var G=h[N];if(!(G in T))break e;T=T[G]}h=h[h.length-1],N=T[h],x=x(N),x!=N&&x!=null&&e(T,h,{configurable:!0,writable:!0,value:x})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(x){var T=[],N;for(N in x)Object.prototype.hasOwnProperty.call(x,N)&&T.push([N,x[N]]);return T}});var l=l||{},c=this||self;function d(h){var x=typeof h;return x=="object"&&h!=null||x=="function"}function m(h,x,T){return h.call.apply(h.bind,arguments)}function p(h,x,T){return p=m,p.apply(null,arguments)}function v(h,x){var T=Array.prototype.slice.call(arguments,1);return function(){var N=T.slice();return N.push.apply(N,arguments),h.apply(this,N)}}function b(h,x){function T(){}T.prototype=x.prototype,h.Z=x.prototype,h.prototype=new T,h.prototype.constructor=h,h.Ob=function(N,G,X){for(var de=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)de[Le-2]=arguments[Le];return x.prototype[G].apply(N,de)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function C(h){const x=h.length;if(x>0){const T=Array(x);for(let N=0;N<x;N++)T[N]=h[N];return T}return[]}function M(h,x){for(let N=1;N<arguments.length;N++){const G=arguments[N];var T=typeof G;if(T=T!="object"?T:G?Array.isArray(G)?"array":T:"null",T=="array"||T=="object"&&typeof G.length=="number"){T=h.length||0;const X=G.length||0;h.length=T+X;for(let de=0;de<X;de++)h[T+de]=G[de]}else h.push(G)}}class P{constructor(x,T){this.i=x,this.j=T,this.h=0,this.g=null}get(){let x;return this.h>0?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function O(h){c.setTimeout(()=>{throw h},0)}function U(){var h=j;let x=null;return h.g&&(x=h.g,h.g=h.g.next,h.g||(h.h=null),x.next=null),x}class F{constructor(){this.h=this.g=null}add(x,T){const N=$.get();N.set(x,T),this.h?this.h.next=N:this.g=N,this.h=N}}var $=new P(()=>new oe,h=>h.reset());class oe{constructor(){this.next=this.g=this.h=null}set(x,T){this.h=x,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let re,ue=!1,j=new F,E=()=>{const h=Promise.resolve(void 0);re=()=>{h.then(S)}};function S(){for(var h;h=U();){try{h.h.call(h.g)}catch(T){O(T)}var x=$;x.j(h),x.h<100&&(x.h++,h.next=x.g,x.g=h)}ue=!1}function I(){this.u=this.u,this.C=this.C}I.prototype.u=!1,I.prototype.dispose=function(){this.u||(this.u=!0,this.N())},I.prototype[Symbol.dispose]=function(){this.dispose()},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(h,x){this.type=h,this.g=this.target=x,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,x=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};c.addEventListener("test",T,x),c.removeEventListener("test",T,x)}catch{}return h})();function R(h){return/^[\s\xa0]*$/.test(h)}function pe(h,x){k.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,x)}b(pe,k),pe.prototype.init=function(h,x){const T=this.type=h.type,N=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=x,x=h.relatedTarget,x||(T=="mouseover"?x=h.fromElement:T=="mouseout"&&(x=h.toElement)),this.relatedTarget=x,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&pe.Z.h.call(this)},pe.prototype.h=function(){pe.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var _e="closure_listenable_"+(Math.random()*1e6|0),q=0;function ee(h,x,T,N,G){this.listener=h,this.proxy=null,this.src=x,this.type=T,this.capture=!!N,this.ha=G,this.key=++q,this.da=this.fa=!1}function J(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Ce(h,x,T){for(const N in h)x.call(T,h[N],N,h)}function Ve(h,x){for(const T in h)x.call(void 0,h[T],T,h)}function z(h){const x={};for(const T in h)x[T]=h[T];return x}const te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ce(h,x){let T,N;for(let G=1;G<arguments.length;G++){N=arguments[G];for(T in N)h[T]=N[T];for(let X=0;X<te.length;X++)T=te[X],Object.prototype.hasOwnProperty.call(N,T)&&(h[T]=N[T])}}function he(h){this.src=h,this.g={},this.h=0}he.prototype.add=function(h,x,T,N,G){const X=h.toString();h=this.g[X],h||(h=this.g[X]=[],this.h++);const de=Ie(h,x,N,G);return de>-1?(x=h[de],T||(x.fa=!1)):(x=new ee(x,this.src,X,!!N,G),x.fa=T,h.push(x)),x};function Ee(h,x){const T=x.type;if(T in h.g){var N=h.g[T],G=Array.prototype.indexOf.call(N,x,void 0),X;(X=G>=0)&&Array.prototype.splice.call(N,G,1),X&&(J(x),h.g[T].length==0&&(delete h.g[T],h.h--))}}function Ie(h,x,T,N){for(let G=0;G<h.length;++G){const X=h[G];if(!X.da&&X.listener==x&&X.capture==!!T&&X.ha==N)return G}return-1}var le="closure_lm_"+(Math.random()*1e6|0),Ne={};function je(h,x,T,N,G){if(Array.isArray(x)){for(let X=0;X<x.length;X++)je(h,x[X],T,N,G);return null}return T=Ml(T),h&&h[_e]?h.J(x,T,d(N)?!!N.capture:!1,G):xt(h,x,T,!1,N,G)}function xt(h,x,T,N,G,X){if(!x)throw Error("Invalid event type");const de=d(G)?!!G.capture:!!G;let Le=ta(h);if(Le||(h[le]=Le=new he(h)),T=Le.add(x,T,N,de,X),T.proxy)return T;if(N=En(),T.proxy=N,N.src=h,N.listener=T,h.addEventListener)V||(G=de),G===void 0&&(G=!1),h.addEventListener(x.toString(),N,G);else if(h.attachEvent)h.attachEvent(Zt(x.toString()),N);else if(h.addListener&&h.removeListener)h.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return T}function En(){function h(T){return x.call(h.src,h.listener,T)}const x=fs;return h}function Sn(h,x,T,N,G){if(Array.isArray(x))for(var X=0;X<x.length;X++)Sn(h,x[X],T,N,G);else N=d(N)?!!N.capture:!!N,T=Ml(T),h&&h[_e]?(h=h.i,X=String(x).toString(),X in h.g&&(x=h.g[X],T=Ie(x,T,N,G),T>-1&&(J(x[T]),Array.prototype.splice.call(x,T,1),x.length==0&&(delete h.g[X],h.h--)))):h&&(h=ta(h))&&(x=h.g[x.toString()],h=-1,x&&(h=Ie(x,T,N,G)),(T=h>-1?x[h]:null)&&fi(T))}function fi(h){if(typeof h!="number"&&h&&!h.da){var x=h.src;if(x&&x[_e])Ee(x.i,h);else{var T=h.type,N=h.proxy;x.removeEventListener?x.removeEventListener(T,N,h.capture):x.detachEvent?x.detachEvent(Zt(T),N):x.addListener&&x.removeListener&&x.removeListener(N),(T=ta(x))?(Ee(T,h),T.h==0&&(T.src=null,x[le]=null)):J(h)}}}function Zt(h){return h in Ne?Ne[h]:Ne[h]="on"+h}function fs(h,x){if(h.da)h=!0;else{x=new pe(x,this);const T=h.listener,N=h.ha||h.src;h.fa&&fi(h),h=T.call(N,x)}return h}function ta(h){return h=h[le],h instanceof he?h:null}var jl="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ml(h){return typeof h=="function"?h:(h[jl]||(h[jl]=function(x){return h.handleEvent(x)}),h[jl])}function Rt(){I.call(this),this.i=new he(this),this.M=this,this.G=null}b(Rt,I),Rt.prototype[_e]=!0,Rt.prototype.removeEventListener=function(h,x,T,N){Sn(this,h,x,T,N)};function Ht(h,x){var T,N=h.G;if(N)for(T=[];N;N=N.G)T.push(N);if(h=h.M,N=x.type||x,typeof x=="string")x=new k(x,h);else if(x instanceof k)x.target=x.target||h;else{var G=x;x=new k(N,h),ce(x,G)}G=!0;let X,de;if(T)for(de=T.length-1;de>=0;de--)X=x.g=T[de],G=Ji(X,N,!0,x)&&G;if(X=x.g=h,G=Ji(X,N,!0,x)&&G,G=Ji(X,N,!1,x)&&G,T)for(de=0;de<T.length;de++)X=x.g=T[de],G=Ji(X,N,!1,x)&&G}Rt.prototype.N=function(){if(Rt.Z.N.call(this),this.i){var h=this.i;for(const x in h.g){const T=h.g[x];for(let N=0;N<T.length;N++)J(T[N]);delete h.g[x],h.h--}}this.G=null},Rt.prototype.J=function(h,x,T,N){return this.i.add(String(h),x,!1,T,N)},Rt.prototype.K=function(h,x,T,N){return this.i.add(String(h),x,!0,T,N)};function Ji(h,x,T,N){if(x=h.i.g[String(x)],!x)return!0;x=x.concat();let G=!0;for(let X=0;X<x.length;++X){const de=x[X];if(de&&!de.da&&de.capture==T){const Le=de.listener,At=de.ha||de.src;de.fa&&Ee(h.i,de),G=Le.call(At,N)!==!1&&G}}return G&&!N.defaultPrevented}function lm(h,x){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=p(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(x)>2147483647?-1:c.setTimeout(h,x||0)}function Uu(h){h.g=lm(()=>{h.g=null,h.i&&(h.i=!1,Uu(h))},h.l);const x=h.h;h.h=null,h.m.apply(null,x)}class bn extends I{constructor(x,T){super(),this.m=x,this.l=T,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:Uu(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function na(h){I.call(this),this.h=h,this.g={}}b(na,I);var Vl=[];function Ol(h){Ce(h.g,function(x,T){this.g.hasOwnProperty(T)&&fi(x)},h),h.g={}}na.prototype.N=function(){na.Z.N.call(this),Ol(this)},na.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Zi=c.JSON.stringify,cm=c.JSON.parse,zu=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function Bu(){}function Fu(){}var ms={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function en(){k.call(this,"d")}b(en,k);function Yn(){k.call(this,"c")}b(Yn,k);var St={},Hu=null;function Za(){return Hu=Hu||new Rt}St.Ia="serverreachability";function qu(h){k.call(this,St.Ia,h)}b(qu,k);function Vs(h){const x=Za();Ht(x,new qu(x))}St.STAT_EVENT="statevent";function sa(h,x){k.call(this,St.STAT_EVENT,h),this.stat=x}b(sa,k);function It(h){const x=Za();Ht(x,new sa(x,h))}St.Ja="timingevent";function Os(h,x){k.call(this,St.Ja,h),this.size=x}b(Os,k);function Ps(h,x){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},x)}function ps(){this.g=!0}ps.prototype.ua=function(){this.g=!1};function um(h,x,T,N,G,X){h.info(function(){if(h.g)if(X){var de="",Le=X.split("&");for(let Ze=0;Ze<Le.length;Ze++){var At=Le[Ze].split("=");if(At.length>1){const pt=At[0];At=At[1];const Jn=pt.split("_");de=Jn.length>=2&&Jn[1]=="type"?de+(pt+"="+At+"&"):de+(pt+"=redacted&")}}}else de=null;else de=X;return"XMLHTTP REQ ("+N+") [attempt "+G+"]: "+x+`
`+T+`
`+de})}function Gu(h,x,T,N,G,X,de){h.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+G+"]: "+x+`
`+T+`
`+X+" "+de})}function Ls(h,x,T,N){h.info(function(){return"XMLHTTP TEXT ("+x+"): "+hm(h,T)+(N?" "+N:"")})}function ia(h,x){h.info(function(){return"TIMEOUT: "+x})}ps.prototype.info=function(){};function hm(h,x){if(!h.g)return x;if(!x)return null;try{const X=JSON.parse(x);if(X){for(h=0;h<X.length;h++)if(Array.isArray(X[h])){var T=X[h];if(!(T.length<2)){var N=T[1];if(Array.isArray(N)&&!(N.length<1)){var G=N[0];if(G!="noop"&&G!="stop"&&G!="close")for(let de=1;de<N.length;de++)N[de]=""}}}}return Zi(X)}catch{return x}}var ra={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Pl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ll;function aa(){}b(aa,Bu),aa.prototype.g=function(){return new XMLHttpRequest},Ll=new aa;function mi(h){return encodeURIComponent(String(h))}function $u(h){var x=1;h=h.split(":");const T=[];for(;x>0&&h.length;)T.push(h.shift()),x--;return h.length&&T.push(h.join(":")),T}function gs(h,x,T,N){this.j=h,this.i=x,this.l=T,this.S=N||1,this.V=new na(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ys}function ys(){this.i=null,this.g="",this.h=!1}var Dt={},Yt={};function Us(h,x,T){h.M=1,h.A=oa(Mt(x)),h.u=T,h.R=!0,eo(h,null)}function eo(h,x){h.F=Date.now(),zs(h),h.B=Mt(h.A);var T=h.B,N=h.S;Array.isArray(N)||(N=[String(N)]),io(T.i,"t",N),h.C=0,T=h.j.L,h.h=new ys,h.g=oh(h.j,T?x:null,!h.u),h.P>0&&(h.O=new bn(p(h.Y,h,h.g),h.P)),x=h.V,T=h.g,N=h.ba;var G="readystatechange";Array.isArray(G)||(G&&(Vl[0]=G.toString()),G=Vl);for(let X=0;X<G.length;X++){const de=je(T,G[X],N||x.handleEvent,!1,x.h||x);if(!de)break;x.g[de.key]=de}x=h.J?z(h.J):{},h.u?(h.v||(h.v="POST"),x["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,x)):(h.v="GET",h.g.ea(h.B,h.v,null,x)),Vs(),um(h.i,h.v,h.B,h.l,h.S,h.u)}gs.prototype.ba=function(h){h=h.target;const x=this.O;x&&xs(h)==3?x.j():this.Y(h)},gs.prototype.Y=function(h){try{if(h==this.g)e:{const Le=xs(this.g),At=this.g.ya(),Ze=this.g.ca();if(!(Le<3)&&(Le!=3||this.g&&(this.h.h||this.g.la()||tn(this.g)))){this.K||Le!=4||At==7||(At==8||Ze<=0?Vs(3):Vs(2)),Bs(this);var x=this.g.ca();this.X=x;var T=dm(this);if(this.o=x==200,Gu(this.i,this.v,this.B,this.l,this.S,Le,x),this.o){if(this.U&&!this.L){t:{if(this.g){var N,G=this.g;if((N=G.g?G.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(N)){var X=N;break t}}X=null}if(h=X)Ls(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Fs(this,h);else{this.o=!1,this.m=3,It(12),On(this),Qn(this);break e}}if(this.R){h=!0;let pt;for(;!this.K&&this.C<T.length;)if(pt=Yu(this,T),pt==Yt){Le==4&&(this.m=4,It(14),h=!1),Ls(this.i,this.l,null,"[Incomplete Response]");break}else if(pt==Dt){this.m=4,It(15),Ls(this.i,this.l,T,"[Invalid Chunk]"),h=!1;break}else Ls(this.i,this.l,pt,null),Fs(this,pt);if(Ku(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Le!=4||T.length!=0||this.h.h||(this.m=1,It(16),h=!1),this.o=this.o&&h,!h)Ls(this.i,this.l,T,"[Invalid Chunked Response]"),On(this),Qn(this);else if(T.length>0&&!this.W){this.W=!0;var de=this.j;de.g==this&&de.aa&&!de.P&&(de.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),Zl(de),de.P=!0,It(11))}}else Ls(this.i,this.l,T,null),Fs(this,T);Le==4&&On(this),this.o&&!this.K&&(Le==4?sh(this.j,this):(this.o=!1,zs(this)))}else gi(this.g),x==400&&T.indexOf("Unknown SID")>0?(this.m=3,It(12)):(this.m=0,It(13)),On(this),Qn(this)}}}catch{}};function dm(h){if(!Ku(h))return h.g.la();const x=tn(h.g);if(x==="")return"";let T="";const N=x.length,G=xs(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return On(h),Qn(h),"";h.h.i=new c.TextDecoder}for(let X=0;X<N;X++)h.h.h=!0,T+=h.h.i.decode(x[X],{stream:!(G&&X==N-1)});return x.length=0,h.h.g+=T,h.C=0,h.h.g}function Ku(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Yu(h,x){var T=h.C,N=x.indexOf(`
`,T);return N==-1?Yt:(T=Number(x.substring(T,N)),isNaN(T)?Dt:(N+=1,N+T>x.length?Yt:(x=x.slice(N,N+T),h.C=N+T,x)))}gs.prototype.cancel=function(){this.K=!0,On(this)};function zs(h){h.T=Date.now()+h.H,to(h,h.H)}function to(h,x){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Ps(p(h.aa,h),x)}function Bs(h){h.D&&(c.clearTimeout(h.D),h.D=null)}gs.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(ia(this.i,this.B),this.M!=2&&(Vs(),It(17)),On(this),this.m=2,Qn(this)):to(this,this.T-h)};function Qn(h){h.j.I==0||h.K||sh(h.j,h)}function On(h){Bs(h);var x=h.O;x&&typeof x.dispose=="function"&&x.dispose(),h.O=null,Ol(h.V),h.g&&(x=h.g,h.g=null,x.abort(),x.dispose())}function Fs(h,x){try{var T=h.j;if(T.I!=0&&(T.g==h||qs(T.h,h))){if(!h.L&&qs(T.h,h)&&T.I==3){try{var N=T.Ba.g.parse(x)}catch{N=null}if(Array.isArray(N)&&N.length==3){var G=N;if(G[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<h.F)co(T),or(T);else break e;ma(T),It(18)}}else T.xa=G[1],0<T.xa-T.K&&G[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=Ps(p(T.Va,T),6e3));Hs(T.h)<=1&&T.ta&&(T.ta=void 0)}else Xs(T,11)}else if((h.L||T.g==h)&&co(T),!R(x))for(G=T.Ba.g.parse(x),x=0;x<G.length;x++){let Ze=G[x];const pt=Ze[0];if(!(pt<=T.K))if(T.K=pt,Ze=Ze[1],T.I==2)if(Ze[0]=="c"){T.M=Ze[1],T.ba=Ze[2];const Jn=Ze[3];Jn!=null&&(T.ka=Jn,T.j.info("VER="+T.ka));const Ws=Ze[4];Ws!=null&&(T.za=Ws,T.j.info("SVER="+T.za));const _s=Ze[5];_s!=null&&typeof _s=="number"&&_s>0&&(N=1.5*_s,T.O=N,T.j.info("backChannelRequestTimeoutMs_="+N)),N=T;const ws=h.g;if(ws){const pa=ws.g?ws.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(pa){var X=N.h;X.g||pa.indexOf("spdy")==-1&&pa.indexOf("quic")==-1&&pa.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(Bl(X,X.h),X.h=null))}if(N.G){const uo=ws.g?ws.g.getResponseHeader("X-HTTP-Session-Id"):null;uo&&(N.wa=uo,nt(N.J,N.G,uo))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-h.F,T.j.info("Handshake RTT: "+T.T+"ms")),N=T;var de=h;if(N.na=ah(N,N.L?N.ba:null,N.W),de.L){Fl(N.h,de);var Le=de,At=N.O;At&&(Le.H=At),Le.D&&(Bs(Le),zs(Le)),N.g=de}else th(N);T.i.length>0&&Qs(T)}else Ze[0]!="stop"&&Ze[0]!="close"||Xs(T,7);else T.I==3&&(Ze[0]=="stop"||Ze[0]=="close"?Ze[0]=="stop"?Xs(T,7):Wl(T):Ze[0]!="noop"&&T.l&&T.l.qa(Ze),T.A=0)}}Vs(4)}catch{}}var jt=class{constructor(h,x){this.g=h,this.map=x}};function Ul(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function zl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Hs(h){return h.h?1:h.g?h.g.size:0}function qs(h,x){return h.h?h.h==x:h.g?h.g.has(x):!1}function Bl(h,x){h.g?h.g.add(x):h.h=x}function Fl(h,x){h.h&&h.h==x?h.h=null:h.g&&h.g.has(x)&&h.g.delete(x)}Ul.prototype.cancel=function(){if(this.i=Hl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Hl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let x=h.i;for(const T of h.g.values())x=x.concat(T.G);return x}return C(h.i)}var Qu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function no(h,x){if(h){h=h.split("&");for(let T=0;T<h.length;T++){const N=h[T].indexOf("=");let G,X=null;N>=0?(G=h[T].substring(0,N),X=h[T].substring(N+1)):G=h[T],x(G,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function Pn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let x;h instanceof Pn?(this.l=h.l,Qt(this,h.j),this.o=h.o,this.g=h.g,er(this,h.u),this.h=h.h,ql(this,Zu(h.i)),this.m=h.m):h&&(x=String(h).match(Qu))?(this.l=!1,Qt(this,x[1]||"",!0),this.o=Gs(x[2]||""),this.g=Gs(x[3]||"",!0),er(this,x[4]),this.h=Gs(x[5]||"",!0),ql(this,x[6]||"",!0),this.m=Gs(x[7]||"")):(this.l=!1,this.i=new nr(null,this.l))}Pn.prototype.toString=function(){const h=[];var x=this.j;x&&h.push(la(x,so,!0),":");var T=this.g;return(T||x=="file")&&(h.push("//"),(x=this.o)&&h.push(la(x,so,!0),"@"),h.push(mi(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&h.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(la(T,T.charAt(0)=="/"?Gl:Xu,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",la(T,Wu)),h.join("")},Pn.prototype.resolve=function(h){const x=Mt(this);let T=!!h.j;T?Qt(x,h.j):T=!!h.o,T?x.o=h.o:T=!!h.g,T?x.g=h.g:T=h.u!=null;var N=h.h;if(T)er(x,h.u);else if(T=!!h.h){if(N.charAt(0)!="/")if(this.g&&!this.h)N="/"+N;else{var G=x.h.lastIndexOf("/");G!=-1&&(N=x.h.slice(0,G+1)+N)}if(G=N,G==".."||G==".")N="";else if(G.indexOf("./")!=-1||G.indexOf("/.")!=-1){N=G.lastIndexOf("/",0)==0,G=G.split("/");const X=[];for(let de=0;de<G.length;){const Le=G[de++];Le=="."?N&&de==G.length&&X.push(""):Le==".."?((X.length>1||X.length==1&&X[0]!="")&&X.pop(),N&&de==G.length&&X.push("")):(X.push(Le),N=!0)}N=X.join("/")}else N=G}return T?x.h=N:T=h.i.toString()!=="",T?ql(x,Zu(h.i)):T=!!h.m,T&&(x.m=h.m),x};function Mt(h){return new Pn(h)}function Qt(h,x,T){h.j=T?Gs(x,!0):x,h.j&&(h.j=h.j.replace(/:$/,""))}function er(h,x){if(x){if(x=Number(x),isNaN(x)||x<0)throw Error("Bad port number "+x);h.u=x}else h.u=null}function ql(h,x,T){x instanceof nr?(h.i=x,ro(h.i,h.l)):(T||(x=la(x,tr)),h.i=new nr(x,h.l))}function nt(h,x,T){h.i.set(x,T)}function oa(h){return nt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Gs(h,x){return h?x?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function la(h,x,T){return typeof h=="string"?(h=encodeURI(h).replace(x,An),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function An(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var so=/[#\/\?@]/g,Xu=/[#\?:]/g,Gl=/[#\?]/g,tr=/[#\?@]/g,Wu=/#/g;function nr(h,x){this.h=this.g=null,this.i=h||null,this.j=!!x}function Cn(h){h.g||(h.g=new Map,h.h=0,h.i&&no(h.i,function(x,T){h.add(decodeURIComponent(x.replace(/\+/g," ")),T)}))}t=nr.prototype,t.add=function(h,x){Cn(this),this.i=null,h=sr(this,h);let T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(x),this.h+=1,this};function Ju(h,x){Cn(h),x=sr(h,x),h.g.has(x)&&(h.i=null,h.h-=h.g.get(x).length,h.g.delete(x))}function $l(h,x){return Cn(h),x=sr(h,x),h.g.has(x)}t.forEach=function(h,x){Cn(this),this.g.forEach(function(T,N){T.forEach(function(G){h.call(x,G,N,this)},this)},this)};function Kl(h,x){Cn(h);let T=[];if(typeof x=="string")$l(h,x)&&(T=T.concat(h.g.get(sr(h,x))));else for(h=Array.from(h.g.values()),x=0;x<h.length;x++)T=T.concat(h[x]);return T}t.set=function(h,x){return Cn(this),this.i=null,h=sr(this,h),$l(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[x]),this.h+=1,this},t.get=function(h,x){return h?(h=Kl(this,h),h.length>0?String(h[0]):x):x};function io(h,x,T){Ju(h,x),T.length>0&&(h.i=null,h.g.set(sr(h,x),C(T)),h.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],x=Array.from(this.g.keys());for(let N=0;N<x.length;N++){var T=x[N];const G=mi(T);T=Kl(this,T);for(let X=0;X<T.length;X++){let de=G;T[X]!==""&&(de+="="+mi(T[X])),h.push(de)}}return this.i=h.join("&")};function Zu(h){const x=new nr;return x.i=h.i,h.g&&(x.g=new Map(h.g),x.h=h.h),x}function sr(h,x){return x=String(x),h.j&&(x=x.toLowerCase()),x}function ro(h,x){x&&!h.j&&(Cn(h),h.i=null,h.g.forEach(function(T,N){const G=N.toLowerCase();N!=G&&(Ju(this,N),io(this,G,T))},h)),h.j=x}function vs(h,x){const T=new ps;if(c.Image){const N=new Image;N.onload=v(Xn,T,"TestLoadImage: loaded",!0,x,N),N.onerror=v(Xn,T,"TestLoadImage: error",!1,x,N),N.onabort=v(Xn,T,"TestLoadImage: abort",!1,x,N),N.ontimeout=v(Xn,T,"TestLoadImage: timeout",!1,x,N),c.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=h}else x(!1)}function Yl(h,x){const T=new ps,N=new AbortController,G=setTimeout(()=>{N.abort(),Xn(T,"TestPingServer: timeout",!1,x)},1e4);fetch(h,{signal:N.signal}).then(X=>{clearTimeout(G),X.ok?Xn(T,"TestPingServer: ok",!0,x):Xn(T,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(G),Xn(T,"TestPingServer: error",!1,x)})}function Xn(h,x,T,N,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),N(T)}catch{}}function ir(){this.g=new zu}function $s(h){this.i=h.Sb||null,this.h=h.ab||!1}b($s,Bu),$s.prototype.g=function(){return new ca(this.i,this.h)};function ca(h,x){Rt.call(this),this.H=h,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(ca,Rt),t=ca.prototype,t.open=function(h,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=x,this.readyState=1,bs(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const x={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(x.body=h),(this.H||c).fetch(new Request(this.D,x)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,rr(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,bs(this)),this.g&&(this.readyState=3,bs(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ao(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function ao(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var x=h.value?h.value:new Uint8Array(0);(x=this.B.decode(x,{stream:!h.done}))&&(this.response=this.responseText+=x)}h.done?rr(this):bs(this),this.readyState==3&&ao(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,rr(this))},t.Na=function(h){this.g&&(this.response=h,rr(this))},t.ga=function(){this.g&&rr(this)};function rr(h){h.readyState=4,h.l=null,h.j=null,h.B=null,bs(h)}t.setRequestHeader=function(h,x){this.A.append(h,x)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],x=this.h.entries();for(var T=x.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=x.next();return h.join(`\r
`)};function bs(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(ca.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Wn(h){let x="";return Ce(h,function(T,N){x+=N,x+=":",x+=T,x+=`\r
`}),x}function ua(h,x,T){e:{for(N in T){var N=!1;break e}N=!0}N||(T=Wn(T),typeof h=="string"?T!=null&&mi(T):nt(h,x,T))}function rt(h){Rt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(rt,Rt);var Ks=/^https?$/i,Ql=["POST","PUT"];t=rt.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,x,T,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);x=x?x.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ll.g(),this.g.onreadystatechange=w(p(this.Ca,this));try{this.B=!0,this.g.open(x,String(h),!0),this.B=!1}catch(X){ha(this,X);return}if(h=T||"",T=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var G in N)T.set(G,N[G]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const X of N.keys())T.set(X,N.get(X));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(T.keys()).find(X=>X.toLowerCase()=="content-type"),G=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(Ql,x,void 0)>=0)||N||G||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,de]of T)this.g.setRequestHeader(X,de);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(X){ha(this,X)}};function ha(h,x){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=x,h.o=5,Xl(h),pi(h)}function Xl(h){h.A||(h.A=!0,Ht(h,"complete"),Ht(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Ht(this,"complete"),Ht(this,"abort"),pi(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),pi(this,!0)),rt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?da(this):this.Xa())},t.Xa=function(){da(this)};function da(h){if(h.h&&typeof l<"u"){if(h.v&&xs(h)==4)setTimeout(h.Ca.bind(h),0);else if(Ht(h,"readystatechange"),xs(h)==4){h.h=!1;try{const X=h.ca();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var T;if(!(T=x)){var N;if(N=X===0){let de=String(h.D).match(Qu)[1]||null;!de&&c.self&&c.self.location&&(de=c.self.location.protocol.slice(0,-1)),N=!Ks.test(de?de.toLowerCase():"")}T=N}if(T)Ht(h,"complete"),Ht(h,"success");else{h.o=6;try{var G=xs(h)>2?h.g.statusText:""}catch{G=""}h.l=G+" ["+h.ca()+"]",Xl(h)}}finally{pi(h)}}}}function pi(h,x){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const T=h.g;h.g=null,x||Ht(h,"ready");try{T.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function xs(h){return h.g?h.g.readyState:0}t.ca=function(){try{return xs(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var x=this.g.responseText;return h&&x.indexOf(h)==0&&(x=x.substring(h.length)),cm(x)}};function tn(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function gi(h){const x={};h=(h.g&&xs(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<h.length;N++){if(R(h[N]))continue;var T=$u(h[N]);const G=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const X=x[G]||[];x[G]=X,X.push(T)}Ve(x,function(N){return N.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ys(h,x,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||x}function ar(h){this.za=0,this.i=[],this.j=new ps,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ys("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ys("baseRetryDelayMs",5e3,h),this.Za=Ys("retryDelaySeedMs",1e4,h),this.Ta=Ys("forwardChannelMaxRetries",2,h),this.va=Ys("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Ul(h&&h.concurrentRequestLimit),this.Ba=new ir,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=ar.prototype,t.ka=8,t.I=1,t.connect=function(h,x,T,N){It(0),this.W=h,this.H=x||{},T&&N!==void 0&&(this.H.OSID=T,this.H.OAID=N),this.F=this.X,this.J=ah(this,null,this.W),Qs(this)};function Wl(h){if(oo(h),h.I==3){var x=h.V++,T=Mt(h.J);if(nt(T,"SID",h.M),nt(T,"RID",x),nt(T,"TYPE","terminate"),fa(h,T),x=new gs(h,h.j,x),x.M=2,x.A=oa(Mt(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(x.A.toString(),"")}catch{}!T&&c.Image&&(new Image().src=x.A,T=!0),T||(x.g=oh(x.j,null),x.g.ea(x.A)),x.F=Date.now(),zs(x)}rh(h)}function or(h){h.g&&(Zl(h),h.g.cancel(),h.g=null)}function oo(h){or(h),h.v&&(c.clearTimeout(h.v),h.v=null),co(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function Qs(h){if(!zl(h.h)&&!h.m){h.m=!0;var x=h.Ea;re||E(),ue||(re(),ue=!0),j.add(x,h),h.D=0}}function lo(h,x){return Hs(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=x.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Ps(p(h.Ea,h,x),ih(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const G=new gs(this,this.j,h);let X=this.o;if(this.U&&(X?(X=z(X),ce(X,this.U)):X=this.U),this.u!==null||this.R||(G.J=X,X=null),this.S)e:{for(var x=0,T=0;T<this.i.length;T++){t:{var N=this.i[T];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(x+=N,x>4096){x=T;break e}if(x===4096||T===this.i.length-1){x=T+1;break e}}x=1e3}else x=1e3;x=eh(this,G,x),T=Mt(this.J),nt(T,"RID",h),nt(T,"CVER",22),this.G&&nt(T,"X-HTTP-Session-Id",this.G),fa(this,T),X&&(this.R?x="headers="+mi(Wn(X))+"&"+x:this.u&&ua(T,this.u,X)),Bl(this.h,G),this.Ra&&nt(T,"TYPE","init"),this.S?(nt(T,"$req",x),nt(T,"SID","null"),G.U=!0,Us(G,T,null)):Us(G,T,x),this.I=2}}else this.I==3&&(h?Jl(this,h):this.i.length==0||zl(this.h)||Jl(this))};function Jl(h,x){var T;x?T=x.l:T=h.V++;const N=Mt(h.J);nt(N,"SID",h.M),nt(N,"RID",T),nt(N,"AID",h.K),fa(h,N),h.u&&h.o&&ua(N,h.u,h.o),T=new gs(h,h.j,T,h.D+1),h.u===null&&(T.J=h.o),x&&(h.i=x.G.concat(h.i)),x=eh(h,T,1e3),T.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Bl(h.h,T),Us(T,N,x)}function fa(h,x){h.H&&Ce(h.H,function(T,N){nt(x,N,T)}),h.l&&Ce({},function(T,N){nt(x,N,T)})}function eh(h,x,T){T=Math.min(h.i.length,T);const N=h.l?p(h.l.Ka,h.l,h):null;e:{var G=h.i;let Le=-1;for(;;){const At=["count="+T];Le==-1?T>0?(Le=G[0].g,At.push("ofs="+Le)):Le=0:At.push("ofs="+Le);let Ze=!0;for(let pt=0;pt<T;pt++){var X=G[pt].g;const Jn=G[pt].map;if(X-=Le,X<0)Le=Math.max(0,G[pt].g-100),Ze=!1;else try{X="req"+X+"_"||"";try{var de=Jn instanceof Map?Jn:Object.entries(Jn);for(const[Ws,_s]of de){let ws=_s;d(_s)&&(ws=Zi(_s)),At.push(X+Ws+"="+encodeURIComponent(ws))}}catch(Ws){throw At.push(X+"type="+encodeURIComponent("_badmap")),Ws}}catch{N&&N(Jn)}}if(Ze){de=At.join("&");break e}}de=void 0}return h=h.i.splice(0,T),x.G=h,de}function th(h){if(!h.g&&!h.v){h.Y=1;var x=h.Da;re||E(),ue||(re(),ue=!0),j.add(x,h),h.A=0}}function ma(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Ps(p(h.Da,h),ih(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,nh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Ps(p(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,It(10),or(this),nh(this))};function Zl(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function nh(h){h.g=new gs(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var x=Mt(h.na);nt(x,"RID","rpc"),nt(x,"SID",h.M),nt(x,"AID",h.K),nt(x,"CI",h.F?"0":"1"),!h.F&&h.ia&&nt(x,"TO",h.ia),nt(x,"TYPE","xmlhttp"),fa(h,x),h.u&&h.o&&ua(x,h.u,h.o),h.O&&(h.g.H=h.O);var T=h.g;h=h.ba,T.M=1,T.A=oa(Mt(x)),T.u=null,T.R=!0,eo(T,h)}t.Va=function(){this.C!=null&&(this.C=null,or(this),ma(this),It(19))};function co(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function sh(h,x){var T=null;if(h.g==x){co(h),Zl(h),h.g=null;var N=2}else if(qs(h.h,x))T=x.G,Fl(h.h,x),N=1;else return;if(h.I!=0){if(x.o)if(N==1){T=x.u?x.u.length:0,x=Date.now()-x.F;var G=h.D;N=Za(),Ht(N,new Os(N,T)),Qs(h)}else th(h);else if(G=x.m,G==3||G==0&&x.X>0||!(N==1&&lo(h,x)||N==2&&ma(h)))switch(T&&T.length>0&&(x=h.h,x.i=x.i.concat(T)),G){case 1:Xs(h,5);break;case 4:Xs(h,10);break;case 3:Xs(h,6);break;default:Xs(h,2)}}}function ih(h,x){let T=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(T*=2),T*x}function Xs(h,x){if(h.j.info("Error code "+x),x==2){var T=p(h.bb,h),N=h.Ua;const G=!N;N=new Pn(N||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Qt(N,"https"),oa(N),G?vs(N.toString(),T):Yl(N.toString(),T)}else It(2);h.I=0,h.l&&h.l.pa(x),rh(h),oo(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),It(2)):(this.j.info("Failed to ping google.com"),It(1))};function rh(h){if(h.I=0,h.ja=[],h.l){const x=Hl(h.h);(x.length!=0||h.i.length!=0)&&(M(h.ja,x),M(h.ja,h.i),h.h.i.length=0,C(h.i),h.i.length=0),h.l.oa()}}function ah(h,x,T){var N=T instanceof Pn?Mt(T):new Pn(T);if(N.g!="")x&&(N.g=x+"."+N.g),er(N,N.u);else{var G=c.location;N=G.protocol,x=x?x+"."+G.hostname:G.hostname,G=+G.port;const X=new Pn(null);N&&Qt(X,N),x&&(X.g=x),G&&er(X,G),T&&(X.h=T),N=X}return T=h.G,x=h.wa,T&&x&&nt(N,T,x),nt(N,"VER",h.ka),fa(h,N),N}function oh(h,x,T){if(x&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return x=h.Aa&&!h.ma?new rt(new $s({ab:T})):new rt(h.ma),x.Fa(h.L),x}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function lh(){}t=lh.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function lr(){}lr.prototype.g=function(h,x){return new xn(h,x)};function xn(h,x){Rt.call(this),this.g=new ar(x),this.l=h,this.h=x&&x.messageUrlParams||null,h=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(h?h["X-WebChannel-Content-Type"]=x.messageContentType:h={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.sa&&(h?h["X-WebChannel-Client-Profile"]=x.sa:h={"X-WebChannel-Client-Profile":x.sa}),this.g.U=h,(h=x&&x.Qb)&&!R(h)&&(this.g.u=h),this.A=x&&x.supportsCrossDomainXhr||!1,this.v=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!R(x)&&(this.g.G=x,h=this.h,h!==null&&x in h&&(h=this.h,x in h&&delete h[x])),this.j=new yi(this)}b(xn,Rt),xn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},xn.prototype.close=function(){Wl(this.g)},xn.prototype.o=function(h){var x=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.v&&(T={},T.__data__=Zi(h),h=T);x.i.push(new jt(x.Ya++,h)),x.I==3&&Qs(x)},xn.prototype.N=function(){this.g.l=null,delete this.j,Wl(this.g),delete this.g,xn.Z.N.call(this)};function ch(h){en.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var x=h.__sm__;if(x){e:{for(const T in x){h=T;break e}h=void 0}(this.i=h)&&(h=this.i,x=x!==null&&h in x?x[h]:void 0),this.data=x}else this.data=h}b(ch,en);function uh(){Yn.call(this),this.status=1}b(uh,Yn);function yi(h){this.g=h}b(yi,lh),yi.prototype.ra=function(){Ht(this.g,"a")},yi.prototype.qa=function(h){Ht(this.g,new ch(h))},yi.prototype.pa=function(h){Ht(this.g,new uh)},yi.prototype.oa=function(){Ht(this.g,"b")},lr.prototype.createWebChannel=lr.prototype.g,xn.prototype.send=xn.prototype.o,xn.prototype.open=xn.prototype.m,xn.prototype.close=xn.prototype.close,w2=function(){return new lr},_2=function(){return Za()},x2=St,I0={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ra.NO_ERROR=0,ra.TIMEOUT=8,ra.HTTP_ERROR=6,Hd=ra,Pl.COMPLETE="complete",b2=Pl,Fu.EventType=ms,ms.OPEN="a",ms.CLOSE="b",ms.ERROR="c",ms.MESSAGE="d",Rt.prototype.listen=Rt.prototype.J,Hc=Fu,rt.prototype.listenOnce=rt.prototype.K,rt.prototype.getLastError=rt.prototype.Ha,rt.prototype.getLastErrorCode=rt.prototype.ya,rt.prototype.getStatus=rt.prototype.ca,rt.prototype.getResponseJson=rt.prototype.La,rt.prototype.getResponseText=rt.prototype.la,rt.prototype.send=rt.prototype.ea,rt.prototype.setWithCredentials=rt.prototype.Fa,v2=rt}).apply(typeof xd<"u"?xd:typeof self<"u"?self:typeof window<"u"?window:{});class mn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}mn.UNAUTHENTICATED=new mn(null),mn.GOOGLE_CREDENTIALS=new mn("google-credentials-uid"),mn.FIRST_PARTY=new mn("first-party-uid"),mn.MOCK_USER=new mn("mock-user");let Sl="12.9.0";function jO(t){Sl=t}const $a=new Ly("@firebase/firestore");function Ho(){return $a.logLevel}function me(t,...e){if($a.logLevel<=$e.DEBUG){const n=e.map(Wy);$a.debug(`Firestore (${Sl}): ${t}`,...n)}}function Gi(t,...e){if($a.logLevel<=$e.ERROR){const n=e.map(Wy);$a.error(`Firestore (${Sl}): ${t}`,...n)}}function Ka(t,...e){if($a.logLevel<=$e.WARN){const n=e.map(Wy);$a.warn(`Firestore (${Sl}): ${t}`,...n)}}function Wy(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Re(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,T2(t,i,n)}function T2(t,e,n){let i=`FIRESTORE (${Sl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw Gi(i),new Error(i)}function tt(t,e,n,i){let a="Unexpected state";typeof n=="string"?a=n:i=n,t||T2(e,a,i)}function Pe(t,e){return t}const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends Qi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class zi{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class E2{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class MO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(mn.UNAUTHENTICATED)))}shutdown(){}}class VO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class OO{constructor(e){this.t=e,this.currentUser=mn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){tt(this.o===void 0,42304);let i=this.i;const a=m=>this.i!==i?(i=this.i,n(m)):Promise.resolve();let l=new zi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new zi,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const m=l;e.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},d=m=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((m=>d(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new zi)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(tt(typeof i.accessToken=="string",31837,{l:i}),new E2(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return tt(e===null||typeof e=="string",2055,{h:e}),new mn(e)}}class PO{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=mn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class LO{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new PO(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(mn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class dT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class UO{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ks(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){tt(this.o===void 0,3512);const i=l=>{l.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,me("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>i(l)))};const a=l=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new dT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(tt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new dT(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function zO(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}class Jy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=zO(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<n&&(i+=e.charAt(a[l]%62))}return i}}function Ke(t,e){return t<e?-1:t>e?1:0}function D0(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const a=t.charAt(i),l=e.charAt(i);if(a!==l)return Ug(a)===Ug(l)?Ke(a,l):Ug(a)?1:-1}return Ke(t.length,e.length)}const BO=55296,FO=57343;function Ug(t){const e=t.charCodeAt(0);return e>=BO&&e<=FO}function cl(t,e,n){return t.length===e.length&&t.every(((i,a)=>n(i,e[a])))}const fT="__name__";class ii{constructor(e,n,i){n===void 0?n=0:n>e.length&&Re(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&Re(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return ii.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ii?e.forEach((i=>{n.push(i)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let a=0;a<i;a++){const l=ii.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return Ke(e.length,n.length)}static compareSegments(e,n){const i=ii.isNumericId(e),a=ii.isNumericId(n);return i&&!a?-1:!i&&a?1:i&&a?ii.extractNumericId(e).compare(ii.extractNumericId(n)):D0(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Fr.fromString(e.substring(4,e.length-2))}}class ut extends ii{construct(e,n,i){return new ut(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new fe(se.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((a=>a.length>0)))}return new ut(n)}static emptyPath(){return new ut([])}}const HO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class un extends ii{construct(e,n,i){return new un(e,n,i)}static isValidIdentifier(e){return HO.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),un.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===fT}static keyField(){return new un([fT])}static fromServerFormat(e){const n=[];let i="",a=0;const l=()=>{if(i.length===0)throw new fe(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new fe(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new fe(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=m,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(i+=d,a++):(l(),a++)}if(l(),c)throw new fe(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new un(n)}static emptyPath(){return new un([])}}class Ae{constructor(e){this.path=e}static fromPath(e){return new Ae(ut.fromString(e))}static fromName(e){return new Ae(ut.fromString(e).popFirst(5))}static empty(){return new Ae(ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ut.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ut.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ae(new ut(e.slice()))}}function S2(t,e,n){if(!n)throw new fe(se.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function qO(t,e,n,i){if(e===!0&&i===!0)throw new fe(se.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function mT(t){if(!Ae.isDocumentKey(t))throw new fe(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function pT(t){if(Ae.isDocumentKey(t))throw new fe(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function A2(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function zf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Re(12329,{type:typeof t})}function Vn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new fe(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=zf(t);throw new fe(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function GO(t,e){if(e<=0)throw new fe(se.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}function Ft(t,e){const n={typeString:t};return e&&(n.value=e),n}function Du(t,e){if(!A2(t))throw new fe(se.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const a=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const c=t[i];if(a&&typeof c!==a){n=`JSON field '${i}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${i}' field to equal '${l.value}'`;break}}if(n)throw new fe(se.INVALID_ARGUMENT,n);return!0}const gT=-62135596800,yT=1e6;class mt{static now(){return mt.fromMillis(Date.now())}static fromDate(e){return mt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*yT);return new mt(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<gT)throw new fe(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/yT}_compareTo(e){return this.seconds===e.seconds?Ke(this.nanoseconds,e.nanoseconds):Ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:mt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Du(e,mt._jsonSchema))return new mt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-gT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}mt._jsonSchemaVersion="firestore/timestamp/1.0",mt._jsonSchema={type:Ft("string",mt._jsonSchemaVersion),seconds:Ft("number"),nanoseconds:Ft("number")};class Me{static fromTimestamp(e){return new Me(e)}static min(){return new Me(new mt(0,0))}static max(){return new Me(new mt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const du=-1;function $O(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,a=Me.fromTimestamp(i===1e9?new mt(n+1,0):new mt(n,i));return new $r(a,Ae.empty(),e)}function KO(t){return new $r(t.readTime,t.key,du)}class $r{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new $r(Me.min(),Ae.empty(),du)}static max(){return new $r(Me.max(),Ae.empty(),du)}}function YO(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ae.comparator(t.documentKey,e.documentKey),n!==0?n:Ke(t.largestBatchId,e.largestBatchId))}const QO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class XO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Al(t){if(t.code!==se.FAILED_PRECONDITION||t.message!==QO)throw t;me("LocalStore","Unexpectedly lost primary lease")}class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Re(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ae(((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(i,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ae?n:ae.resolve(n)}catch(n){return ae.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ae.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ae.reject(n)}static resolve(e){return new ae(((n,i)=>{n(e)}))}static reject(e){return new ae(((n,i)=>{i(e)}))}static waitFor(e){return new ae(((n,i)=>{let a=0,l=0,c=!1;e.forEach((d=>{++a,d.next((()=>{++l,c&&l===a&&n()}),(m=>i(m)))})),c=!0,l===a&&n()}))}static or(e){let n=ae.resolve(!1);for(const i of e)n=n.next((a=>a?ae.resolve(a):i()));return n}static forEach(e,n){const i=[];return e.forEach(((a,l)=>{i.push(n.call(this,a,l))})),this.waitFor(i)}static mapArray(e,n){return new ae(((i,a)=>{const l=e.length,c=new Array(l);let d=0;for(let m=0;m<l;m++){const p=m;n(e[p]).next((v=>{c[p]=v,++d,d===l&&i(c)}),(v=>a(v)))}}))}static doWhile(e,n){return new ae(((i,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):i()};l()}))}}function WO(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Cl(t){return t.name==="IndexedDbTransactionError"}class Bf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Bf.ce=-1;const Zy=-1;function Ff(t){return t==null}function ff(t){return t===0&&1/t==-1/0}function JO(t){return typeof t=="number"&&Number.isInteger(t)&&!ff(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const C2="";function ZO(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=vT(e)),e=eP(t.get(n),e);return vT(e)}function eP(t,e){let n=e;const i=t.length;for(let a=0;a<i;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case C2:n+="";break;default:n+=l}}return n}function vT(t){return t+C2+""}function bT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Zr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function k2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class bt{constructor(e,n){this.comparator=e,this.root=n||cn.EMPTY}insert(e,n){return new bt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,cn.BLACK,null,null))}remove(e){return new bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,cn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return n+i.left.size;a<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,i)=>(e(n,i),!1)))}toString(){const e=[];return this.inorderTraversal(((n,i)=>(e.push(`${n}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _d(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _d(this.root,e,this.comparator,!1)}getReverseIterator(){return new _d(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _d(this.root,e,this.comparator,!0)}}class _d{constructor(e,n,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?i(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class cn{constructor(e,n,i,a,l){this.key=e,this.value=n,this.color=i??cn.RED,this.left=a??cn.EMPTY,this.right=l??cn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,a,l){return new cn(e??this.key,n??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,i),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return cn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return cn.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,cn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,cn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Re(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Re(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Re(27949);return e+(this.isRed()?0:1)}}cn.EMPTY=null,cn.RED=!0,cn.BLACK=!1;cn.EMPTY=new class{constructor(){this.size=0}get key(){throw Re(57766)}get value(){throw Re(16141)}get color(){throw Re(16727)}get left(){throw Re(29726)}get right(){throw Re(36894)}copy(e,n,i,a,l){return this}insert(e,n,i){return new cn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Kt{constructor(e){this.comparator=e,this.data=new bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,i)=>(e(n),!1)))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new xT(this.data.getIterator())}getIteratorFrom(e){return new xT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((i=>{n=n.add(i)})),n}isEqual(e){if(!(e instanceof Kt)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Kt(this.comparator);return n.data=e,n}}class xT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Gn{constructor(e){this.fields=e,e.sort(un.comparator)}static empty(){return new Gn([])}unionWith(e){let n=new Kt(un.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Gn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return cl(this.fields,e.fields,((n,i)=>n.isEqual(i)))}}class N2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class hn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new N2("Invalid base64 string: "+l):l}})(e);return new hn(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(e);return new hn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}hn.EMPTY_BYTE_STRING=new hn("");const tP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Kr(t){if(tt(!!t,39018),typeof t=="string"){let e=0;const n=tP.exec(t);if(tt(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Nt(t.seconds),nanos:Nt(t.nanos)}}function Nt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Yr(t){return typeof t=="string"?hn.fromBase64String(t):hn.fromUint8Array(t)}const R2="server_timestamp",I2="__type__",D2="__previous_value__",j2="__local_write_time__";function ev(t){return(t?.mapValue?.fields||{})[I2]?.stringValue===R2}function Hf(t){const e=t.mapValue.fields[D2];return ev(e)?Hf(e):e}function fu(t){const e=Kr(t.mapValue.fields[j2].timestampValue);return new mt(e.seconds,e.nanos)}class nP{constructor(e,n,i,a,l,c,d,m,p,v,b){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=v,this.apiKey=b}}const mf="(default)";class mu{constructor(e,n){this.projectId=e,this.database=n||mf}static empty(){return new mu("","")}get isDefaultDatabase(){return this.database===mf}isEqual(e){return e instanceof mu&&e.projectId===this.projectId&&e.database===this.database}}function sP(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new fe(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mu(t.options.projectId,e)}const M2="__type__",iP="__max__",wd={mapValue:{}},V2="__vector__",pf="value";function Qr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ev(t)?4:aP(t)?9007199254740991:rP(t)?10:11:Re(28295,{value:t})}function di(t,e){if(t===e)return!0;const n=Qr(t);if(n!==Qr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return fu(t).isEqual(fu(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Kr(a.timestampValue),d=Kr(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return Yr(a.bytesValue).isEqual(Yr(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return Nt(a.geoPointValue.latitude)===Nt(l.geoPointValue.latitude)&&Nt(a.geoPointValue.longitude)===Nt(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Nt(a.integerValue)===Nt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Nt(a.doubleValue),d=Nt(l.doubleValue);return c===d?ff(c)===ff(d):isNaN(c)&&isNaN(d)}return!1})(t,e);case 9:return cl(t.arrayValue.values||[],e.arrayValue.values||[],di);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(bT(c)!==bT(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(d[m]===void 0||!di(c[m],d[m])))return!1;return!0})(t,e);default:return Re(52216,{left:t})}}function pu(t,e){return(t.values||[]).find((n=>di(n,e)))!==void 0}function ul(t,e){if(t===e)return 0;const n=Qr(t),i=Qr(e);if(n!==i)return Ke(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ke(t.booleanValue,e.booleanValue);case 2:return(function(l,c){const d=Nt(l.integerValue||l.doubleValue),m=Nt(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1})(t,e);case 3:return _T(t.timestampValue,e.timestampValue);case 4:return _T(fu(t),fu(e));case 5:return D0(t.stringValue,e.stringValue);case 6:return(function(l,c){const d=Yr(l),m=Yr(c);return d.compareTo(m)})(t.bytesValue,e.bytesValue);case 7:return(function(l,c){const d=l.split("/"),m=c.split("/");for(let p=0;p<d.length&&p<m.length;p++){const v=Ke(d[p],m[p]);if(v!==0)return v}return Ke(d.length,m.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,c){const d=Ke(Nt(l.latitude),Nt(c.latitude));return d!==0?d:Ke(Nt(l.longitude),Nt(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return wT(t.arrayValue,e.arrayValue);case 10:return(function(l,c){const d=l.fields||{},m=c.fields||{},p=d[pf]?.arrayValue,v=m[pf]?.arrayValue,b=Ke(p?.values?.length||0,v?.values?.length||0);return b!==0?b:wT(p,v)})(t.mapValue,e.mapValue);case 11:return(function(l,c){if(l===wd.mapValue&&c===wd.mapValue)return 0;if(l===wd.mapValue)return 1;if(c===wd.mapValue)return-1;const d=l.fields||{},m=Object.keys(d),p=c.fields||{},v=Object.keys(p);m.sort(),v.sort();for(let b=0;b<m.length&&b<v.length;++b){const w=D0(m[b],v[b]);if(w!==0)return w;const C=ul(d[m[b]],p[v[b]]);if(C!==0)return C}return Ke(m.length,v.length)})(t.mapValue,e.mapValue);default:throw Re(23264,{he:n})}}function _T(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ke(t,e);const n=Kr(t),i=Kr(e),a=Ke(n.seconds,i.seconds);return a!==0?a:Ke(n.nanos,i.nanos)}function wT(t,e){const n=t.values||[],i=e.values||[];for(let a=0;a<n.length&&a<i.length;++a){const l=ul(n[a],i[a]);if(l)return l}return Ke(n.length,i.length)}function hl(t){return j0(t)}function j0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const i=Kr(n);return`time(${i.seconds},${i.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Yr(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ae.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let i="[",a=!0;for(const l of n.values||[])a?a=!1:i+=",",i+=j0(l);return i+"]"})(t.arrayValue):"mapValue"in t?(function(n){const i=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of i)l?l=!1:a+=",",a+=`${c}:${j0(n.fields[c])}`;return a+"}"})(t.mapValue):Re(61005,{value:t})}function qd(t){switch(Qr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Hf(t);return e?16+qd(e):16;case 5:return 2*t.stringValue.length;case 6:return Yr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((a,l)=>a+qd(l)),0)})(t.arrayValue);case 10:case 11:return(function(i){let a=0;return Zr(i.fields,((l,c)=>{a+=l.length+qd(c)})),a})(t.mapValue);default:throw Re(13486,{value:t})}}function TT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function M0(t){return!!t&&"integerValue"in t}function tv(t){return!!t&&"arrayValue"in t}function ET(t){return!!t&&"nullValue"in t}function ST(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Gd(t){return!!t&&"mapValue"in t}function rP(t){return(t?.mapValue?.fields||{})[M2]?.stringValue===V2}function Zc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Zr(t.mapValue.fields,((n,i)=>e.mapValue.fields[n]=Zc(i))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Zc(t.arrayValue.values[n]);return e}return{...t}}function aP(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===iP}class Mn{constructor(e){this.value=e}static empty(){return new Mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Gd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zc(n)}setAll(e){let n=un.emptyPath(),i={},a=[];e.forEach(((c,d)=>{if(!n.isImmediateParentOf(d)){const m=this.getFieldsMap(n);this.applyChanges(m,i,a),i={},a=[],n=d.popLast()}c?i[d.lastSegment()]=Zc(c):a.push(d.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,i,a)}delete(e){const n=this.field(e.popLast());Gd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return di(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=n.mapValue.fields[e.get(i)];Gd(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,i){Zr(n,((a,l)=>e[a]=l));for(const a of i)delete e[a]}clone(){return new Mn(Zc(this.value))}}function O2(t){const e=[];return Zr(t.fields,((n,i)=>{const a=new un([n]);if(Gd(i)){const l=O2(i.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)})),new Gn(e)}class pn{constructor(e,n,i,a,l,c,d){this.key=e,this.documentType=n,this.version=i,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new pn(e,0,Me.min(),Me.min(),Me.min(),Mn.empty(),0)}static newFoundDocument(e,n,i,a){return new pn(e,1,n,Me.min(),i,a,0)}static newNoDocument(e,n){return new pn(e,2,n,Me.min(),Me.min(),Mn.empty(),0)}static newUnknownDocument(e,n){return new pn(e,3,n,Me.min(),Me.min(),Mn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof pn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class gf{constructor(e,n){this.position=e,this.inclusive=n}}function AT(t,e,n){let i=0;for(let a=0;a<t.position.length;a++){const l=e[a],c=t.position[a];if(l.field.isKeyField()?i=Ae.comparator(Ae.fromName(c.referenceValue),n.key):i=ul(c,n.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function CT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!di(t.position[n],e.position[n]))return!1;return!0}class gu{constructor(e,n="asc"){this.field=e,this.dir=n}}function oP(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class P2{}class Bt extends P2{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new cP(e,n,i):n==="array-contains"?new dP(e,i):n==="in"?new fP(e,i):n==="not-in"?new mP(e,i):n==="array-contains-any"?new pP(e,i):new Bt(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new uP(e,i):new hP(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ul(n,this.value)):n!==null&&Qr(this.value)===Qr(n)&&this.matchesComparison(ul(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Re(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ms extends P2{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ms(e,n)}matches(e){return L2(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function L2(t){return t.op==="and"}function U2(t){return lP(t)&&L2(t)}function lP(t){for(const e of t.filters)if(e instanceof Ms)return!1;return!0}function V0(t){if(t instanceof Bt)return t.field.canonicalString()+t.op.toString()+hl(t.value);if(U2(t))return t.filters.map((e=>V0(e))).join(",");{const e=t.filters.map((n=>V0(n))).join(",");return`${t.op}(${e})`}}function z2(t,e){return t instanceof Bt?(function(i,a){return a instanceof Bt&&i.op===a.op&&i.field.isEqual(a.field)&&di(i.value,a.value)})(t,e):t instanceof Ms?(function(i,a){return a instanceof Ms&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce(((l,c,d)=>l&&z2(c,a.filters[d])),!0):!1})(t,e):void Re(19439)}function B2(t){return t instanceof Bt?(function(n){return`${n.field.canonicalString()} ${n.op} ${hl(n.value)}`})(t):t instanceof Ms?(function(n){return n.op.toString()+" {"+n.getFilters().map(B2).join(" ,")+"}"})(t):"Filter"}class cP extends Bt{constructor(e,n,i){super(e,n,i),this.key=Ae.fromName(i.referenceValue)}matches(e){const n=Ae.comparator(e.key,this.key);return this.matchesComparison(n)}}class uP extends Bt{constructor(e,n){super(e,"in",n),this.keys=F2("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class hP extends Bt{constructor(e,n){super(e,"not-in",n),this.keys=F2("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function F2(t,e){return(e.arrayValue?.values||[]).map((n=>Ae.fromName(n.referenceValue)))}class dP extends Bt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return tv(n)&&pu(n.arrayValue,this.value)}}class fP extends Bt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&pu(this.value.arrayValue,n)}}class mP extends Bt{constructor(e,n){super(e,"not-in",n)}matches(e){if(pu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!pu(this.value.arrayValue,n)}}class pP extends Bt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!tv(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>pu(this.value.arrayValue,i)))}}class gP{constructor(e,n=null,i=[],a=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.Te=null}}function kT(t,e=null,n=[],i=[],a=null,l=null,c=null){return new gP(t,e,n,i,a,l,c)}function nv(t){const e=Pe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((i=>V0(i))).join(","),n+="|ob:",n+=e.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),Ff(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((i=>hl(i))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((i=>hl(i))).join(",")),e.Te=n}return e.Te}function sv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!oP(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!z2(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!CT(t.startAt,e.startAt)&&CT(t.endAt,e.endAt)}function O0(t){return Ae.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class kl{constructor(e,n=null,i=[],a=[],l=null,c="F",d=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=m,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function yP(t,e,n,i,a,l,c,d){return new kl(t,e,n,i,a,l,c,d)}function qf(t){return new kl(t)}function NT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function vP(t){return Ae.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function H2(t){return t.collectionGroup!==null}function eu(t){const e=Pe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Kt(un.comparator);return c.filters.forEach((m=>{m.getFlattenedFilters().forEach((p=>{p.isInequality()&&(d=d.add(p.field))}))})),d})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new gu(l,i))})),n.has(un.keyField().canonicalString())||e.Ie.push(new gu(un.keyField(),i))}return e.Ie}function oi(t){const e=Pe(t);return e.Ee||(e.Ee=bP(e,eu(t))),e.Ee}function bP(t,e){if(t.limitType==="F")return kT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new gu(a.field,l)}));const n=t.endAt?new gf(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new gf(t.startAt.position,t.startAt.inclusive):null;return kT(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function P0(t,e){const n=t.filters.concat([e]);return new kl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function xP(t,e){const n=t.explicitOrderBy.concat([e]);return new kl(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function yf(t,e,n){return new kl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Gf(t,e){return sv(oi(t),oi(e))&&t.limitType===e.limitType}function q2(t){return`${nv(oi(t))}|lt:${t.limitType}`}function qo(t){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((a=>B2(a))).join(", ")}]`),Ff(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((a=>hl(a))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((a=>hl(a))).join(",")),`Target(${i})`})(oi(t))}; limitType=${t.limitType})`}function $f(t,e){return e.isFoundDocument()&&(function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Ae.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(t,e)&&(function(i,a){for(const l of eu(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(i,a){return!(i.startAt&&!(function(c,d,m){const p=AT(c,d,m);return c.inclusive?p<=0:p<0})(i.startAt,eu(i),a)||i.endAt&&!(function(c,d,m){const p=AT(c,d,m);return c.inclusive?p>=0:p>0})(i.endAt,eu(i),a))})(t,e)}function _P(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function G2(t){return(e,n)=>{let i=!1;for(const a of eu(t)){const l=wP(a,e,n);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function wP(t,e,n){const i=t.field.isKeyField()?Ae.comparator(e.key,n.key):(function(l,c,d){const m=c.data.field(l),p=d.data.field(l);return m!==null&&p!==null?ul(m,p):Re(42886)})(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Re(19790,{direction:t.dir})}}class Xa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[n]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Zr(this.inner,((n,i)=>{for(const[a,l]of i)e(a,l)}))}isEmpty(){return k2(this.inner)}size(){return this.innerSize}}const TP=new bt(Ae.comparator);function $i(){return TP}const $2=new bt(Ae.comparator);function qc(...t){let e=$2;for(const n of t)e=e.insert(n.key,n);return e}function K2(t){let e=$2;return t.forEach(((n,i)=>e=e.insert(n,i.overlayedDocument))),e}function La(){return tu()}function Y2(){return tu()}function tu(){return new Xa((t=>t.toString()),((t,e)=>t.isEqual(e)))}const EP=new bt(Ae.comparator),SP=new Kt(Ae.comparator);function Ye(...t){let e=SP;for(const n of t)e=e.add(n);return e}const AP=new Kt(Ke);function CP(){return AP}function iv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ff(e)?"-0":e}}function Q2(t){return{integerValue:""+t}}function kP(t,e){return JO(e)?Q2(e):iv(t,e)}class Kf{constructor(){this._=void 0}}function NP(t,e,n){return t instanceof yu?(function(a,l){const c={fields:{[I2]:{stringValue:R2},[j2]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&ev(l)&&(l=Hf(l)),l&&(c.fields[D2]=l),{mapValue:c}})(n,e):t instanceof vu?W2(t,e):t instanceof bu?J2(t,e):(function(a,l){const c=X2(a,l),d=RT(c)+RT(a.Ae);return M0(c)&&M0(a.Ae)?Q2(d):iv(a.serializer,d)})(t,e)}function RP(t,e,n){return t instanceof vu?W2(t,e):t instanceof bu?J2(t,e):n}function X2(t,e){return t instanceof vf?(function(i){return M0(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(e)?e:{integerValue:0}:null}class yu extends Kf{}class vu extends Kf{constructor(e){super(),this.elements=e}}function W2(t,e){const n=Z2(e);for(const i of t.elements)n.some((a=>di(a,i)))||n.push(i);return{arrayValue:{values:n}}}class bu extends Kf{constructor(e){super(),this.elements=e}}function J2(t,e){let n=Z2(e);for(const i of t.elements)n=n.filter((a=>!di(a,i)));return{arrayValue:{values:n}}}class vf extends Kf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function RT(t){return Nt(t.integerValue||t.doubleValue)}function Z2(t){return tv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class IP{constructor(e,n){this.field=e,this.transform=n}}function DP(t,e){return t.field.isEqual(e.field)&&(function(i,a){return i instanceof vu&&a instanceof vu||i instanceof bu&&a instanceof bu?cl(i.elements,a.elements,di):i instanceof vf&&a instanceof vf?di(i.Ae,a.Ae):i instanceof yu&&a instanceof yu})(t.transform,e.transform)}class jP{constructor(e,n){this.version=e,this.transformResults=n}}class us{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new us}static exists(e){return new us(void 0,e)}static updateTime(e){return new us(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $d(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Yf{}function eC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new rv(t.key,us.none()):new ju(t.key,t.data,us.none());{const n=t.data,i=Mn.empty();let a=new Kt(un.comparator);for(let l of e.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?i.delete(l):i.set(l,c),a=a.add(l)}return new ea(t.key,i,new Gn(a.toArray()),us.none())}}function MP(t,e,n){t instanceof ju?(function(a,l,c){const d=a.value.clone(),m=DT(a.fieldTransforms,l,c.transformResults);d.setAll(m),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(t,e,n):t instanceof ea?(function(a,l,c){if(!$d(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=DT(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(tC(a)),m.setAll(d),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(t,e,n):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function nu(t,e,n,i){return t instanceof ju?(function(l,c,d,m){if(!$d(l.precondition,c))return d;const p=l.value.clone(),v=jT(l.fieldTransforms,m,c);return p.setAll(v),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null})(t,e,n,i):t instanceof ea?(function(l,c,d,m){if(!$d(l.precondition,c))return d;const p=jT(l.fieldTransforms,m,c),v=c.data;return v.setAll(tC(l)),v.setAll(p),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((b=>b.field)))})(t,e,n,i):(function(l,c,d){return $d(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(t,e,n)}function VP(t,e){let n=null;for(const i of t.fieldTransforms){const a=e.data.field(i.field),l=X2(i.transform,a||null);l!=null&&(n===null&&(n=Mn.empty()),n.set(i.field,l))}return n||null}function IT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&cl(i,a,((l,c)=>DP(l,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ju extends Yf{constructor(e,n,i,a=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class ea extends Yf{constructor(e,n,i,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function tC(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}})),e}function DT(t,e,n){const i=new Map;tt(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let a=0;a<n.length;a++){const l=t[a],c=l.transform,d=e.data.field(l.field);i.set(l.field,RP(c,d,n[a]))}return i}function jT(t,e,n){const i=new Map;for(const a of t){const l=a.transform,c=n.data.field(a.field);i.set(a.field,NP(l,c,e))}return i}class rv extends Yf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class OP extends Yf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class PP{constructor(e,n,i,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&MP(l,e,i[a])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=nu(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=nu(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=Y2();return this.mutations.forEach((a=>{const l=e.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=n.has(a.key)?null:d;const m=eC(c,d);m!==null&&i.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(Me.min())})),i}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ye())}isEqual(e){return this.batchId===e.batchId&&cl(this.mutations,e.mutations,((n,i)=>IT(n,i)))&&cl(this.baseMutations,e.baseMutations,((n,i)=>IT(n,i)))}}class av{constructor(e,n,i,a){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=a}static from(e,n,i){tt(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let a=(function(){return EP})();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,i[c].version);return new av(e,n,i,a)}}class LP{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class UP{constructor(e,n){this.count=e,this.unchangedNames=n}}var Ut,Xe;function zP(t){switch(t){case se.OK:return Re(64938);case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return Re(15467,{code:t})}}function nC(t){if(t===void 0)return Gi("GRPC error has no .code"),se.UNKNOWN;switch(t){case Ut.OK:return se.OK;case Ut.CANCELLED:return se.CANCELLED;case Ut.UNKNOWN:return se.UNKNOWN;case Ut.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case Ut.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case Ut.INTERNAL:return se.INTERNAL;case Ut.UNAVAILABLE:return se.UNAVAILABLE;case Ut.UNAUTHENTICATED:return se.UNAUTHENTICATED;case Ut.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case Ut.NOT_FOUND:return se.NOT_FOUND;case Ut.ALREADY_EXISTS:return se.ALREADY_EXISTS;case Ut.PERMISSION_DENIED:return se.PERMISSION_DENIED;case Ut.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case Ut.ABORTED:return se.ABORTED;case Ut.OUT_OF_RANGE:return se.OUT_OF_RANGE;case Ut.UNIMPLEMENTED:return se.UNIMPLEMENTED;case Ut.DATA_LOSS:return se.DATA_LOSS;default:return Re(39323,{code:t})}}(Xe=Ut||(Ut={}))[Xe.OK=0]="OK",Xe[Xe.CANCELLED=1]="CANCELLED",Xe[Xe.UNKNOWN=2]="UNKNOWN",Xe[Xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xe[Xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xe[Xe.NOT_FOUND=5]="NOT_FOUND",Xe[Xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xe[Xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xe[Xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xe[Xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xe[Xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xe[Xe.ABORTED=10]="ABORTED",Xe[Xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xe[Xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xe[Xe.INTERNAL=13]="INTERNAL",Xe[Xe.UNAVAILABLE=14]="UNAVAILABLE",Xe[Xe.DATA_LOSS=15]="DATA_LOSS";function BP(){return new TextEncoder}const FP=new Fr([4294967295,4294967295],0);function MT(t){const e=BP().encode(t),n=new y2;return n.update(e),new Uint8Array(n.digest())}function VT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Fr([n,i],0),new Fr([a,l],0)]}class ov{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Gc(`Invalid padding: ${n}`);if(i<0)throw new Gc(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Gc(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Gc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Fr.fromNumber(this.ge)}ye(e,n,i){let a=e.add(n.multiply(Fr.fromNumber(i)));return a.compare(FP)===1&&(a=new Fr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=MT(e),[i,a]=VT(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,a,l);if(!this.we(c))return!1}return!0}static create(e,n,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new ov(l,a,n);return i.forEach((d=>c.insert(d))),c}insert(e){if(this.ge===0)return;const n=MT(e),[i,a]=VT(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,a,l);this.be(c)}}be(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class Gc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Qf{constructor(e,n,i,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const a=new Map;return a.set(e,Mu.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Qf(Me.min(),a,new bt(Ke),$i(),Ye())}}class Mu{constructor(e,n,i,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Mu(i,n,Ye(),Ye(),Ye())}}class Kd{constructor(e,n,i,a){this.Se=e,this.removedTargetIds=n,this.key=i,this.De=a}}class sC{constructor(e,n){this.targetId=e,this.Ce=n}}class iC{constructor(e,n,i=hn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=a}}class OT{constructor(){this.ve=0,this.Fe=PT(),this.Me=hn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ye(),n=Ye(),i=Ye();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:i=i.add(a);break;default:Re(38017,{changeType:l})}})),new Mu(this.Me,this.xe,e,n,i)}Ke(){this.Oe=!1,this.Fe=PT()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,tt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class HP{constructor(e){this.Ge=e,this.ze=new Map,this.je=$i(),this.He=Td(),this.Je=Td(),this.Ze=new bt(Ke)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.We(),i.Ne||i.Ke(),i.Le(e.resumeToken);break;case 2:i.We(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.Qe(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:Re(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((i,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,i=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(O0(l))if(i===0){const c=new Ae(l.path);this.et(n,c,pn.newNoDocument(c,Me.min()))}else tt(i===1,20013,{expectedCount:i});else{const c=this._t(n);if(c!==i){const d=this.ut(e),m=d?this.ct(d,e,c):1;if(m!==0){this.it(n);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=n;let c,d;try{c=Yr(i).toUint8Array()}catch(m){if(m instanceof N2)return Ka("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new ov(c,a,l)}catch(m){return Ka(m instanceof Gc?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.ge===0?null:d}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let a=0;return i.forEach((l=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,c)=>{const d=this.ot(c);if(d){if(l.current&&O0(d.target)){const m=new Ae(d.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,pn.newNoDocument(m,e))}l.Be&&(n.set(c,l.ke()),l.Ke())}}));let i=Ye();this.Je.forEach(((l,c)=>{let d=!0;c.forEachWhile((m=>{const p=this.ot(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(i=i.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const a=new Qf(e,n,this.Ze,this.je,i);return this.je=$i(),this.He=Td(),this.Je=Td(),this.Ze=new bt(Ke),a}Ye(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,i),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.qe(n,1):a.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new OT,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Kt(Ke),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Kt(Ke),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||me("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new OT),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Td(){return new bt(Ae.comparator)}function PT(){return new bt(Ae.comparator)}const qP={asc:"ASCENDING",desc:"DESCENDING"},GP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$P={and:"AND",or:"OR"};class KP{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function L0(t,e){return t.useProto3Json||Ff(e)?e:{value:e}}function bf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function rC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function YP(t,e){return bf(t,e.toTimestamp())}function li(t){return tt(!!t,49232),Me.fromTimestamp((function(n){const i=Kr(n);return new mt(i.seconds,i.nanos)})(t))}function lv(t,e){return U0(t,e).canonicalString()}function U0(t,e){const n=(function(a){return new ut(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function aC(t){const e=ut.fromString(t);return tt(hC(e),10190,{key:e.toString()}),e}function z0(t,e){return lv(t.databaseId,e.path)}function zg(t,e){const n=aC(e);if(n.get(1)!==t.databaseId.projectId)throw new fe(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new fe(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ae(lC(n))}function oC(t,e){return lv(t.databaseId,e)}function QP(t){const e=aC(t);return e.length===4?ut.emptyPath():lC(e)}function B0(t){return new ut(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function lC(t){return tt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function LT(t,e,n){return{name:z0(t,e),fields:n.value.mapValue.fields}}function XP(t,e){let n;if("targetChange"in e){e.targetChange;const i=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Re(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(p,v){return p.useProto3Json?(tt(v===void 0||typeof v=="string",58123),hn.fromBase64String(v||"")):(tt(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),hn.fromUint8Array(v||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(p){const v=p.code===void 0?se.UNKNOWN:nC(p.code);return new fe(v,p.message||"")})(c);n=new iC(i,a,l,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=zg(t,i.document.name),l=li(i.document.updateTime),c=i.document.createTime?li(i.document.createTime):Me.min(),d=new Mn({mapValue:{fields:i.document.fields}}),m=pn.newFoundDocument(a,l,c,d),p=i.targetIds||[],v=i.removedTargetIds||[];n=new Kd(p,v,m.key,m)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=zg(t,i.document),l=i.readTime?li(i.readTime):Me.min(),c=pn.newNoDocument(a,l),d=i.removedTargetIds||[];n=new Kd([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=zg(t,i.document),l=i.removedTargetIds||[];n=new Kd([],l,a,null)}else{if(!("filter"in e))return Re(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,c=new UP(a,l),d=i.targetId;n=new sC(d,c)}}return n}function WP(t,e){let n;if(e instanceof ju)n={update:LT(t,e.key,e.value)};else if(e instanceof rv)n={delete:z0(t,e.key)};else if(e instanceof ea)n={update:LT(t,e.key,e.data),updateMask:aL(e.fieldMask)};else{if(!(e instanceof OP))return Re(16599,{dt:e.type});n={verify:z0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((i=>(function(l,c){const d=c.transform;if(d instanceof yu)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof vu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof bu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof vf)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw Re(20930,{transform:c.transform})})(0,i)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:YP(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Re(27497)})(t,e.precondition)),n}function JP(t,e){return t&&t.length>0?(tt(e!==void 0,14353),t.map((n=>(function(a,l){let c=a.updateTime?li(a.updateTime):li(l);return c.isEqual(Me.min())&&(c=li(l)),new jP(c,a.transformResults||[])})(n,e)))):[]}function ZP(t,e){return{documents:[oC(t,e.path)]}}function eL(t,e){const n={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=oC(t,a);const l=(function(p){if(p.length!==0)return uC(Ms.create(p,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const c=(function(p){if(p.length!==0)return p.map((v=>(function(w){return{field:Go(w.field),direction:sL(w.dir)}})(v)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const d=L0(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:a}}function tL(t){let e=QP(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let a=null;if(i>0){tt(i===1,65062);const v=n.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let l=[];n.where&&(l=(function(b){const w=cC(b);return w instanceof Ms&&U2(w)?w.getFilters():[w]})(n.where));let c=[];n.orderBy&&(c=(function(b){return b.map((w=>(function(M){return new gu($o(M.field),(function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(M.direction))})(w)))})(n.orderBy));let d=null;n.limit&&(d=(function(b){let w;return w=typeof b=="object"?b.value:b,Ff(w)?null:w})(n.limit));let m=null;n.startAt&&(m=(function(b){const w=!!b.before,C=b.values||[];return new gf(C,w)})(n.startAt));let p=null;return n.endAt&&(p=(function(b){const w=!b.before,C=b.values||[];return new gf(C,w)})(n.endAt)),yP(e,a,c,l,d,"F",m,p)}function nL(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function cC(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=$o(n.unaryFilter.field);return Bt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=$o(n.unaryFilter.field);return Bt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=$o(n.unaryFilter.field);return Bt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=$o(n.unaryFilter.field);return Bt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Re(61313);default:return Re(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Bt.create($o(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Re(58110);default:return Re(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Ms.create(n.compositeFilter.filters.map((i=>cC(i))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Re(1026)}})(n.compositeFilter.op))})(t):Re(30097,{filter:t})}function sL(t){return qP[t]}function iL(t){return GP[t]}function rL(t){return $P[t]}function Go(t){return{fieldPath:t.canonicalString()}}function $o(t){return un.fromServerFormat(t.fieldPath)}function uC(t){return t instanceof Bt?(function(n){if(n.op==="=="){if(ST(n.value))return{unaryFilter:{field:Go(n.field),op:"IS_NAN"}};if(ET(n.value))return{unaryFilter:{field:Go(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ST(n.value))return{unaryFilter:{field:Go(n.field),op:"IS_NOT_NAN"}};if(ET(n.value))return{unaryFilter:{field:Go(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Go(n.field),op:iL(n.op),value:n.value}}})(t):t instanceof Ms?(function(n){const i=n.getFilters().map((a=>uC(a)));return i.length===1?i[0]:{compositeFilter:{op:rL(n.op),filters:i}}})(t):Re(54877,{filter:t})}function aL(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function hC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function dC(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}class Lr{constructor(e,n,i,a,l=Me.min(),c=Me.min(),d=hn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(e){return new Lr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Lr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Lr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Lr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class oL{constructor(e){this.yt=e}}function lL(t){const e=tL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?yf(e,e.limit,"L"):e}class cL{constructor(){this.Sn=new uL}addToCollectionParentIndex(e,n){return this.Sn.add(n),ae.resolve()}getCollectionParents(e,n){return ae.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return ae.resolve()}deleteFieldIndex(e,n){return ae.resolve()}deleteAllFieldIndexes(e){return ae.resolve()}createTargetIndexes(e,n){return ae.resolve()}getDocumentsMatchingTarget(e,n){return ae.resolve(null)}getIndexType(e,n){return ae.resolve(0)}getFieldIndexes(e,n){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,n){return ae.resolve($r.min())}getMinOffsetFromCollectionGroup(e,n){return ae.resolve($r.min())}updateCollectionGroup(e,n,i){return ae.resolve()}updateIndexEntries(e,n){return ae.resolve()}}class uL{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n]||new Kt(ut.comparator),l=!a.has(i);return this.index[n]=a.add(i),l}has(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n];return a&&a.has(i)}getEntries(e){return(this.index[e]||new Kt(ut.comparator)).toArray()}}const UT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},fC=41943040;class jn{static withCacheSize(e){return new jn(e,jn.DEFAULT_COLLECTION_PERCENTILE,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}jn.DEFAULT_COLLECTION_PERCENTILE=10,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,jn.DEFAULT=new jn(fC,jn.DEFAULT_COLLECTION_PERCENTILE,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),jn.DISABLED=new jn(-1,0,0);class dl{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new dl(0)}static ar(){return new dl(-1)}}const zT="LruGarbageCollector",hL=1048576;function BT([t,e],[n,i]){const a=Ke(t,n);return a===0?Ke(e,i):a}class dL{constructor(e){this.Pr=e,this.buffer=new Kt(BT),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();BT(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class fL{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){me(zT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Cl(n)?me(zT,"Ignoring IndexedDB error during garbage collection: ",n):await Al(n)}await this.Ar(3e5)}))}}class mL{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(e,n){if(n===0)return ae.resolve(Bf.ce);const i=new dL(n);return this.Vr.forEachTarget(e,(a=>i.Er(a.sequenceNumber))).next((()=>this.Vr.mr(e,(a=>i.Er(a))))).next((()=>i.maxValue))}removeTargets(e,n,i){return this.Vr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(UT)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),UT):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let i,a,l,c,d,m,p;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),a=this.params.maximumSequenceNumbersToCollect):a=b,c=Date.now(),this.nthSequenceNumber(e,a)))).next((b=>(i=b,d=Date.now(),this.removeTargets(e,i,n)))).next((b=>(l=b,m=Date.now(),this.removeOrphanedDocuments(e,i)))).next((b=>(p=Date.now(),Ho()<=$e.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(m-d)+`ms
	Removed ${b} documents in `+(p-m)+`ms
Total Duration: ${p-v}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:b}))))}}function pL(t,e){return new mL(t,e)}class gL{constructor(){this.changes=new Xa((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,pn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?ae.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class yL{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class vL{constructor(e,n,i,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(i=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(i!==null&&nu(i.mutation,a,Gn.empty(),mt.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.getLocalViewOfDocuments(e,i,Ye()).next((()=>i))))}getLocalViewOfDocuments(e,n,i=Ye()){const a=La();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,i).next((l=>{let c=qc();return l.forEach(((d,m)=>{c=c.insert(d,m.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const i=La();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,Ye())))}populateOverlays(e,n,i){const a=[];return i.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((c,d)=>{n.set(c,d)}))}))}computeViews(e,n,i,a){let l=$i();const c=tu(),d=(function(){return tu()})();return n.forEach(((m,p)=>{const v=i.get(p.key);a.has(p.key)&&(v===void 0||v.mutation instanceof ea)?l=l.insert(p.key,p):v!==void 0?(c.set(p.key,v.mutation.getFieldMask()),nu(v.mutation,p,v.mutation.getFieldMask(),mt.now())):c.set(p.key,Gn.empty())})),this.recalculateAndSaveOverlays(e,l).next((m=>(m.forEach(((p,v)=>c.set(p,v))),n.forEach(((p,v)=>d.set(p,new yL(v,c.get(p)??null)))),d)))}recalculateAndSaveOverlays(e,n){const i=tu();let a=new bt(((c,d)=>c-d)),l=Ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const d of c)d.keys().forEach((m=>{const p=n.get(m);if(p===null)return;let v=i.get(m)||Gn.empty();v=d.applyToLocalView(p,v),i.set(m,v);const b=(a.get(d.batchId)||Ye()).add(m);a=a.insert(d.batchId,b)}))})).next((()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),p=m.key,v=m.value,b=Y2();v.forEach((w=>{if(!l.has(w)){const C=eC(n.get(w),i.get(w));C!==null&&b.set(w,C),l=l.add(w)}})),c.push(this.documentOverlayCache.saveOverlays(e,p,b))}return ae.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,n,i,a){return vP(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):H2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,a):this.getDocumentsMatchingCollectionQuery(e,n,i,a)}getNextDocuments(e,n,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,a-l.size):ae.resolve(La());let d=du,m=l;return c.next((p=>ae.forEach(p,((v,b)=>(d<b.largestBatchId&&(d=b.largestBatchId),l.get(v)?ae.resolve():this.remoteDocumentCache.getEntry(e,v).next((w=>{m=m.insert(v,w)}))))).next((()=>this.populateOverlays(e,p,l))).next((()=>this.computeViews(e,m,p,Ye()))).next((v=>({batchId:d,changes:K2(v)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ae(n)).next((i=>{let a=qc();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,i,a){const l=n.collectionGroup;let c=qc();return this.indexManager.getCollectionParents(e,l).next((d=>ae.forEach(d,(m=>{const p=(function(b,w){return new kl(w,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,i,a).next((v=>{v.forEach(((b,w)=>{c=c.insert(b,w)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,l,a)))).next((c=>{l.forEach(((m,p)=>{const v=p.getKey();c.get(v)===null&&(c=c.insert(v,pn.newInvalidDocument(v)))}));let d=qc();return c.forEach(((m,p)=>{const v=l.get(m);v!==void 0&&nu(v.mutation,p,Gn.empty(),mt.now()),$f(n,p)&&(d=d.insert(m,p))})),d}))}}class bL{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return ae.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:li(a.createTime)}})(n)),ae.resolve()}getNamedQuery(e,n){return ae.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(a){return{name:a.name,query:lL(a.bundledQuery),readTime:li(a.readTime)}})(n)),ae.resolve()}}class xL{constructor(){this.overlays=new bt(Ae.comparator),this.Lr=new Map}getOverlay(e,n){return ae.resolve(this.overlays.get(n))}getOverlays(e,n){const i=La();return ae.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&i.set(a,l)})))).next((()=>i))}saveOverlays(e,n,i){return i.forEach(((a,l)=>{this.bt(e,n,l)})),ae.resolve()}removeOverlaysForBatchId(e,n,i){const a=this.Lr.get(i);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(i)),ae.resolve()}getOverlaysForCollection(e,n,i){const a=La(),l=n.length+1,c=new Ae(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const m=d.getNext().value,p=m.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>i&&a.set(m.getKey(),m)}return ae.resolve(a)}getOverlaysForCollectionGroup(e,n,i,a){let l=new bt(((p,v)=>p-v));const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>i){let v=l.get(p.largestBatchId);v===null&&(v=La(),l=l.insert(p.largestBatchId,v)),v.set(p.getKey(),p)}}const d=La(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((p,v)=>d.set(p,v))),!(d.size()>=a)););return ae.resolve(d)}bt(e,n,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.Lr.get(a.largestBatchId).delete(i.key);this.Lr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new LP(n,i));let l=this.Lr.get(n);l===void 0&&(l=Ye(),this.Lr.set(n,l)),this.Lr.set(n,l.add(i.key))}}class _L{constructor(){this.sessionToken=hn.EMPTY_BYTE_STRING}getSessionToken(e){return ae.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ae.resolve()}}class cv{constructor(){this.kr=new Kt(Wt.Kr),this.qr=new Kt(Wt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const i=new Wt(e,n);this.kr=this.kr.add(i),this.qr=this.qr.add(i)}$r(e,n){e.forEach((i=>this.addReference(i,n)))}removeReference(e,n){this.Wr(new Wt(e,n))}Qr(e,n){e.forEach((i=>this.removeReference(i,n)))}Gr(e){const n=new Ae(new ut([])),i=new Wt(n,e),a=new Wt(n,e+1),l=[];return this.qr.forEachInRange([i,a],(c=>{this.Wr(c),l.push(c.key)})),l}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new Ae(new ut([])),i=new Wt(n,e),a=new Wt(n,e+1);let l=Ye();return this.qr.forEachInRange([i,a],(c=>{l=l.add(c.key)})),l}containsKey(e){const n=new Wt(e,0),i=this.kr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class Wt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return Ae.comparator(e.key,n.key)||Ke(e.Hr,n.Hr)}static Ur(e,n){return Ke(e.Hr,n.Hr)||Ae.comparator(e.key,n.key)}}class wL{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Kt(Wt.Kr)}checkEmpty(e){return ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,a){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new PP(l,n,i,a);this.mutationQueue.push(c);for(const d of a)this.Jr=this.Jr.add(new Wt(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ae.resolve(c)}lookupMutationBatch(e,n){return ae.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,a=this.Xr(i),l=a<0?0:a;return ae.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(this.mutationQueue.length===0?Zy:this.Yn-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new Wt(n,0),a=new Wt(n,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([i,a],(c=>{const d=this.Zr(c.Hr);l.push(d)})),ae.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Kt(Ke);return n.forEach((a=>{const l=new Wt(a,0),c=new Wt(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,c],(d=>{i=i.add(d.Hr)}))})),ae.resolve(this.Yr(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,a=i.length+1;let l=i;Ae.isDocumentKey(l)||(l=l.child(""));const c=new Wt(new Ae(l),0);let d=new Kt(Ke);return this.Jr.forEachWhile((m=>{const p=m.key.path;return!!i.isPrefixOf(p)&&(p.length===a&&(d=d.add(m.Hr)),!0)}),c),ae.resolve(this.Yr(d))}Yr(e){const n=[];return e.forEach((i=>{const a=this.Zr(i);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){tt(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Jr;return ae.forEach(n.mutations,(a=>{const l=new Wt(a.key,n.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Jr=i}))}nr(e){}containsKey(e,n){const i=new Wt(n,0),a=this.Jr.firstAfterOrEqual(i);return ae.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ae.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class TL{constructor(e){this.ti=e,this.docs=(function(){return new bt(Ae.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,a=this.docs.get(i),l=a?a.size:0,c=this.ti(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return ae.resolve(i?i.document.mutableCopy():pn.newInvalidDocument(n))}getEntries(e,n){let i=$i();return n.forEach((a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():pn.newInvalidDocument(a))})),ae.resolve(i)}getDocumentsMatchingQuery(e,n,i,a){let l=$i();const c=n.path,d=new Ae(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:p,value:{document:v}}=m.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||YO(KO(v),i)<=0||(a.has(v.key)||$f(n,v))&&(l=l.insert(v.key,v.mutableCopy()))}return ae.resolve(l)}getAllFromCollectionGroup(e,n,i,a){Re(9500)}ni(e,n){return ae.forEach(this.docs,(i=>n(i)))}newChangeBuffer(e){return new EL(this)}getSize(e){return ae.resolve(this.size)}}class EL extends gL{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((i,a)=>{a.isValidDocument()?n.push(this.Mr.addEntry(e,a)):this.Mr.removeEntry(i)})),ae.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class SL{constructor(e){this.persistence=e,this.ri=new Xa((n=>nv(n)),sv),this.lastRemoteSnapshotVersion=Me.min(),this.highestTargetId=0,this.ii=0,this.si=new cv,this.targetCount=0,this.oi=dl._r()}forEachTarget(e,n){return this.ri.forEach(((i,a)=>n(a))),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.ii&&(this.ii=n),ae.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new dl(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,ae.resolve()}updateTargetData(e,n){return this.lr(n),ae.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,n,i){let a=0;const l=[];return this.ri.forEach(((c,d)=>{d.sequenceNumber<=n&&i.get(d.targetId)===null&&(this.ri.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)})),ae.waitFor(l).next((()=>a))}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,n){const i=this.ri.get(n)||null;return ae.resolve(i)}addMatchingKeys(e,n,i){return this.si.$r(n,i),ae.resolve()}removeMatchingKeys(e,n,i){this.si.Qr(n,i);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((c=>{l.push(a.markPotentiallyOrphaned(e,c))})),ae.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),ae.resolve()}getMatchingKeysForTargetId(e,n){const i=this.si.jr(n);return ae.resolve(i)}containsKey(e,n){return ae.resolve(this.si.containsKey(n))}}class mC{constructor(e,n){this._i={},this.overlays={},this.ai=new Bf(0),this.ui=!1,this.ui=!0,this.ci=new _L,this.referenceDelegate=e(this),this.li=new SL(this),this.indexManager=new cL,this.remoteDocumentCache=(function(a){return new TL(a)})((i=>this.referenceDelegate.hi(i))),this.serializer=new oL(n),this.Pi=new bL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new xL,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this._i[e.toKey()];return i||(i=new wL(n,this.referenceDelegate),this._i[e.toKey()]=i),i}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,i){me("MemoryPersistence","Starting transaction:",e);const a=new AL(this.ai.next());return this.referenceDelegate.Ti(),i(a).next((l=>this.referenceDelegate.Ii(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ei(e,n){return ae.or(Object.values(this._i).map((i=>()=>i.containsKey(e,n))))}}class AL extends XO{constructor(e){super(),this.currentSequenceNumber=e}}class uv{constructor(e){this.persistence=e,this.Ri=new cv,this.Ai=null}static Vi(e){return new uv(e)}get di(){if(this.Ai)return this.Ai;throw Re(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.di.delete(i.toString()),ae.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.di.add(i.toString()),ae.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),ae.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((a=>this.di.add(a.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.di.add(l.toString())))})).next((()=>i.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.di,(i=>{const a=Ae.fromPath(i);return this.mi(e,a).next((l=>{l||n.removeEntry(a,Me.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((i=>{i?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return ae.or([()=>ae.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class xf{constructor(e,n){this.persistence=e,this.fi=new Xa((i=>ZO(i.path)),((i,a)=>i.isEqual(a))),this.garbageCollector=pL(this,n)}static Vi(e,n){return new xf(e,n)}Ti(){}Ii(e){return ae.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>n.next((a=>i+a))))}pr(e){let n=0;return this.mr(e,(i=>{n++})).next((()=>n))}mr(e,n){return ae.forEach(this.fi,((i,a)=>this.wr(e,i,a).next((l=>l?ae.resolve():n(a)))))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ni(e,(c=>this.wr(e,c,n).next((d=>{d||(i++,l.removeEntry(c,Me.min()))})))).next((()=>l.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),ae.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.fi.set(i,e.currentSequenceNumber),ae.resolve()}removeReference(e,n,i){return this.fi.set(i,e.currentSequenceNumber),ae.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),ae.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=qd(e.data.value)),n}wr(e,n,i){return ae.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.fi.get(n);return ae.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class hv{constructor(e,n,i,a){this.targetId=e,this.fromCache=n,this.Ts=i,this.Is=a}static Es(e,n){let i=Ye(),a=Ye();for(const l of n.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new hv(e,n.fromCache,i,a)}}class CL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class kL{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return d3()?8:WO(yn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,a){const l={result:null};return this.gs(e,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ps(e,n,a,i).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new CL;return this.ys(e,n,c).next((d=>{if(l.result=d,this.As)return this.ws(e,n,c,d.size)}))})).next((()=>l.result))}ws(e,n,i,a){return i.documentReadCount<this.Vs?(Ho()<=$e.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",qo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ae.resolve()):(Ho()<=$e.DEBUG&&me("QueryEngine","Query:",qo(n),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.ds*a?(Ho()<=$e.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",qo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,oi(n))):ae.resolve())}gs(e,n){if(NT(n))return ae.resolve(null);let i=oi(n);return this.indexManager.getIndexType(e,i).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=yf(n,null,"F"),i=oi(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next((l=>{const c=Ye(...l);return this.fs.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,i).next((m=>{const p=this.bs(n,d);return this.Ss(n,p,c,m.readTime)?this.gs(e,yf(n,null,"F")):this.Ds(e,p,n,m)}))))})))))}ps(e,n,i,a){return NT(n)||a.isEqual(Me.min())?ae.resolve(null):this.fs.getDocuments(e,i).next((l=>{const c=this.bs(n,l);return this.Ss(n,c,i,a)?ae.resolve(null):(Ho()<=$e.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),qo(n)),this.Ds(e,c,n,$O(a,du)).next((d=>d)))}))}bs(e,n){let i=new Kt(G2(e));return n.forEach(((a,l)=>{$f(e,l)&&(i=i.add(l))})),i}Ss(e,n,i,a){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}ys(e,n,i){return Ho()<=$e.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",qo(n)),this.fs.getDocumentsMatchingQuery(e,n,$r.min(),i)}Ds(e,n,i,a){return this.fs.getDocumentsMatchingQuery(e,i,a).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}const dv="LocalStore",NL=3e8;class RL{constructor(e,n,i,a){this.persistence=e,this.Cs=n,this.serializer=a,this.vs=new bt(Ke),this.Fs=new Xa((l=>nv(l)),sv),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(i)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new vL(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function IL(t,e,n,i){return new RL(t,e,n,i)}async function pC(t,e){const n=Pe(t);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let a;return n.mutationQueue.getAllMutationBatches(i).next((l=>(a=l,n.Os(e),n.mutationQueue.getAllMutationBatches(i)))).next((l=>{const c=[],d=[];let m=Ye();for(const p of a){c.push(p.batchId);for(const v of p.mutations)m=m.add(v.key)}for(const p of l){d.push(p.batchId);for(const v of p.mutations)m=m.add(v.key)}return n.localDocuments.getDocuments(i,m).next((p=>({Ns:p,removedBatchIds:c,addedBatchIds:d})))}))}))}function DL(t,e){const n=Pe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const a=e.batch.keys(),l=n.xs.newChangeBuffer({trackRemovals:!0});return(function(d,m,p,v){const b=p.batch,w=b.keys();let C=ae.resolve();return w.forEach((M=>{C=C.next((()=>v.getEntry(m,M))).next((P=>{const O=p.docVersions.get(M);tt(O!==null,48541),P.version.compareTo(O)<0&&(b.applyToRemoteDocument(P,p),P.isValidDocument()&&(P.setReadTime(p.commitVersion),v.addEntry(P)))}))})),C.next((()=>d.mutationQueue.removeMutationBatch(m,b)))})(n,i,e,l).next((()=>l.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(d){let m=Ye();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(m=m.add(d.batch.mutations[p].key));return m})(e)))).next((()=>n.localDocuments.getDocuments(i,a)))}))}function gC(t){const e=Pe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function jL(t,e){const n=Pe(t),i=e.snapshotVersion;let a=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.xs.newChangeBuffer({trackRemovals:!0});a=n.vs;const d=[];e.targetChanges.forEach(((v,b)=>{const w=a.get(b);if(!w)return;d.push(n.li.removeMatchingKeys(l,v.removedDocuments,b).next((()=>n.li.addMatchingKeys(l,v.addedDocuments,b))));let C=w.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(b)!==null?C=C.withResumeToken(hn.EMPTY_BYTE_STRING,Me.min()).withLastLimboFreeSnapshotVersion(Me.min()):v.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(v.resumeToken,i)),a=a.insert(b,C),(function(P,O,U){return P.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=NL?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0})(w,C,v)&&d.push(n.li.updateTargetData(l,C))}));let m=$i(),p=Ye();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(l,v))})),d.push(ML(l,c,e.documentUpdates).next((v=>{m=v.Bs,p=v.Ls}))),!i.isEqual(Me.min())){const v=n.li.getLastRemoteSnapshotVersion(l).next((b=>n.li.setTargetsMetadata(l,l.currentSequenceNumber,i)));d.push(v)}return ae.waitFor(d).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,m,p))).next((()=>m))})).then((l=>(n.vs=a,l)))}function ML(t,e,n){let i=Ye(),a=Ye();return n.forEach((l=>i=i.add(l))),e.getEntries(t,i).next((l=>{let c=$i();return n.forEach(((d,m)=>{const p=l.get(d);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(d)),m.isNoDocument()&&m.version.isEqual(Me.min())?(e.removeEntry(d,m.readTime),c=c.insert(d,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(m),c=c.insert(d,m)):me(dv,"Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",m.version)})),{Bs:c,Ls:a}}))}function VL(t,e){const n=Pe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=Zy),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function OL(t,e){const n=Pe(t);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let a;return n.li.getTargetData(i,e).next((l=>l?(a=l,ae.resolve(a)):n.li.allocateTargetId(i).next((c=>(a=new Lr(e,c,"TargetPurposeListen",i.currentSequenceNumber),n.li.addTargetData(i,a).next((()=>a)))))))})).then((i=>{const a=n.vs.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.vs=n.vs.insert(i.targetId,i),n.Fs.set(e,i.targetId)),i}))}async function F0(t,e,n){const i=Pe(t),a=i.vs.get(e),l=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",l,(c=>i.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!Cl(c))throw c;me(dv,`Failed to update sequence numbers for target ${e}: ${c}`)}i.vs=i.vs.remove(e),i.Fs.delete(a.target)}function FT(t,e,n){const i=Pe(t);let a=Me.min(),l=Ye();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(m,p,v){const b=Pe(m),w=b.Fs.get(v);return w!==void 0?ae.resolve(b.vs.get(w)):b.li.getTargetData(p,v)})(i,c,oi(e)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,i.li.getMatchingKeysForTargetId(c,d.targetId).next((m=>{l=m}))})).next((()=>i.Cs.getDocumentsMatchingQuery(c,e,n?a:Me.min(),n?l:Ye()))).next((d=>(PL(i,_P(e),d),{documents:d,ks:l})))))}function PL(t,e,n){let i=t.Ms.get(e)||Me.min();n.forEach(((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),t.Ms.set(e,i)}class HT{constructor(){this.activeTargetIds=CP()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class LL{constructor(){this.vo=new HT,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,i){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new HT,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class UL{Mo(e){}shutdown(){}}const qT="ConnectivityMonitor";class GT{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){me(qT,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){me(qT,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Ed=null;function H0(){return Ed===null?Ed=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ed++,"0x"+Ed.toString(16)}const Bg="RestConnection",zL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class BL{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${i}/databases/${a}`,this.$o=this.databaseId.database===mf?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Wo(e,n,i,a,l){const c=H0(),d=this.Qo(e,n.toUriEncodedString());me(Bg,`Sending RPC '${e}' ${c}:`,d,i);const m={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(m,a,l);const{host:p}=new URL(d),v=wl(p);return this.zo(e,d,m,i,v).then((b=>(me(Bg,`Received RPC '${e}' ${c}: `,b),b)),(b=>{throw Ka(Bg,`RPC '${e}' ${c} failed with error: `,b,"url: ",d,"request:",i),b}))}jo(e,n,i,a,l,c){return this.Wo(e,n,i,a,l)}Go(e,n,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Sl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),i&&i.headers.forEach(((a,l)=>e[l]=a))}Qo(e,n){const i=zL[e];let a=`${this.qo}/v1/${n}:${i}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}class FL{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const fn="WebChannelConnection",zc=(t,e,n)=>{t.listen(e,(i=>{try{n(i)}catch(a){setTimeout((()=>{throw a}),0)}}))};class sl extends BL{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!sl.c_){const e=_2();zc(e,x2.STAT_EVENT,(n=>{n.stat===I0.PROXY?me(fn,"STAT_EVENT: detected buffering proxy"):n.stat===I0.NOPROXY&&me(fn,"STAT_EVENT: detected no buffering proxy")})),sl.c_=!0}}zo(e,n,i,a,l){const c=H0();return new Promise(((d,m)=>{const p=new v2;p.setWithCredentials(!0),p.listenOnce(b2.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Hd.NO_ERROR:const b=p.getResponseJson();me(fn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(b)),d(b);break;case Hd.TIMEOUT:me(fn,`RPC '${e}' ${c} timed out`),m(new fe(se.DEADLINE_EXCEEDED,"Request time out"));break;case Hd.HTTP_ERROR:const w=p.getStatus();if(me(fn,`RPC '${e}' ${c} failed with status:`,w,"response text:",p.getResponseText()),w>0){let C=p.getResponseJson();Array.isArray(C)&&(C=C[0]);const M=C?.error;if(M&&M.status&&M.message){const P=(function(U){const F=U.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(F)>=0?F:se.UNKNOWN})(M.status);m(new fe(P,M.message))}else m(new fe(se.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new fe(se.UNAVAILABLE,"Connection failed."));break;default:Re(9055,{l_:e,streamId:c,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{me(fn,`RPC '${e}' ${c} completed.`)}}));const v=JSON.stringify(a);me(fn,`RPC '${e}' ${c} sending request:`,a),p.send(n,"POST",v,i,15)}))}T_(e,n,i){const a=H0(),l=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=this.createWebChannelTransport(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(d.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Go(d.initMessageHeaders,n,i),d.encodeInitMessageHeaders=!0;const p=l.join("");me(fn,`Creating RPC '${e}' stream ${a}: ${p}`,d);const v=c.createWebChannel(p,d);this.I_(v);let b=!1,w=!1;const C=new FL({Ho:M=>{w?me(fn,`Not sending because RPC '${e}' stream ${a} is closed:`,M):(b||(me(fn,`Opening RPC '${e}' stream ${a} transport.`),v.open(),b=!0),me(fn,`RPC '${e}' stream ${a} sending:`,M),v.send(M))},Jo:()=>v.close()});return zc(v,Hc.EventType.OPEN,(()=>{w||(me(fn,`RPC '${e}' stream ${a} transport opened.`),C.i_())})),zc(v,Hc.EventType.CLOSE,(()=>{w||(w=!0,me(fn,`RPC '${e}' stream ${a} transport closed`),C.o_(),this.E_(v))})),zc(v,Hc.EventType.ERROR,(M=>{w||(w=!0,Ka(fn,`RPC '${e}' stream ${a} transport errored. Name:`,M.name,"Message:",M.message),C.o_(new fe(se.UNAVAILABLE,"The operation could not be completed")))})),zc(v,Hc.EventType.MESSAGE,(M=>{if(!w){const P=M.data[0];tt(!!P,16349);const O=P,U=O?.error||O[0]?.error;if(U){me(fn,`RPC '${e}' stream ${a} received error:`,U);const F=U.status;let $=(function(ue){const j=Ut[ue];if(j!==void 0)return nC(j)})(F),oe=U.message;F==="NOT_FOUND"&&oe.includes("database")&&oe.includes("does not exist")&&oe.includes(this.databaseId.database)&&Ka(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),$===void 0&&($=se.INTERNAL,oe="Unknown error status: "+F+" with message "+U.message),w=!0,C.o_(new fe($,oe)),v.close()}else me(fn,`RPC '${e}' stream ${a} received:`,P),C.__(P)}})),sl.u_(),setTimeout((()=>{C.s_()}),0),C}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,i){super.Go(e,n,i),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return w2()}}function HL(t){return new sl(t)}function Fg(){return typeof document<"u"?document:null}function Xf(t){return new KP(t,!0)}sl.c_=!1;class yC{constructor(e,n,i=1e3,a=1.5,l=6e4){this.Ci=e,this.timerId=n,this.R_=i,this.A_=a,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-i);a>0&&me("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const $T="PersistentStream";class vC{constructor(e,n,i,a,l,c,d,m){this.Ci=e,this.b_=i,this.S_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new yC(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===se.RESOURCE_EXHAUSTED?(Gi(n.toString()),Gi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,a])=>{this.D_===n&&this.G_(i,a)}),(i=>{e((()=>{const a=new fe(se.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)}))}))}G_(e,n){const i=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{i((()=>this.listener.Zo()))})),this.stream.Yo((()=>{i((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{i((()=>this.z_(a)))})),this.stream.onMessage((a=>{i((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return me($T,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(me($T,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class qL extends vC{constructor(e,n,i,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,a,c),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=XP(this.serializer,e),i=(function(l){if(!("targetChange"in l))return Me.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Me.min():c.readTime?li(c.readTime):Me.min()})(e);return this.listener.J_(n,i)}Z_(e){const n={};n.database=B0(this.serializer),n.addTarget=(function(l,c){let d;const m=c.target;if(d=O0(m)?{documents:ZP(l,m)}:{query:eL(l,m).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=rC(l,c.resumeToken);const p=L0(l,c.expectedCount);p!==null&&(d.expectedCount=p)}else if(c.snapshotVersion.compareTo(Me.min())>0){d.readTime=bf(l,c.snapshotVersion.toTimestamp());const p=L0(l,c.expectedCount);p!==null&&(d.expectedCount=p)}return d})(this.serializer,e);const i=nL(this.serializer,e);i&&(n.labels=i),this.K_(n)}X_(e){const n={};n.database=B0(this.serializer),n.removeTarget=e,this.K_(n)}}class GL extends vC{constructor(e,n,i,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,a,c),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return tt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,tt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){tt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=JP(e.writeResults,e.commitTime),i=li(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=B0(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((i=>WP(this.serializer,i)))};this.K_(n)}}class $L{}class KL extends $L{constructor(e,n,i,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new fe(se.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Wo(e,U0(n,i),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new fe(se.UNKNOWN,l.toString())}))}jo(e,n,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.jo(e,U0(n,i),a,c,d,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new fe(se.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function YL(t,e,n,i){return new KL(t,e,n,i)}class QL{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Gi(n),this.aa=!1):me("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ya="RemoteStore";class XL{constructor(e,n,i,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((c=>{i.enqueueAndForget((async()=>{Wa(this)&&(me(Ya,"Restarting streams for network reachability change."),await(async function(m){const p=Pe(m);p.Ea.add(4),await Vu(p),p.Va.set("Unknown"),p.Ea.delete(4),await Wf(p)})(this))}))})),this.Va=new QL(i,a)}}async function Wf(t){if(Wa(t))for(const e of t.Ra)await e(!0)}async function Vu(t){for(const e of t.Ra)await e(!1)}function bC(t,e){const n=Pe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),gv(n)?pv(n):Nl(n).O_()&&mv(n,e))}function fv(t,e){const n=Pe(t),i=Nl(n);n.Ia.delete(e),i.O_()&&xC(n,e),n.Ia.size===0&&(i.O_()?i.L_():Wa(n)&&n.Va.set("Unknown"))}function mv(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Me.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Nl(t).Z_(e)}function xC(t,e){t.da.$e(e),Nl(t).X_(e)}function pv(t){t.da=new HP({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Nl(t).start(),t.Va.ua()}function gv(t){return Wa(t)&&!Nl(t).x_()&&t.Ia.size>0}function Wa(t){return Pe(t).Ea.size===0}function _C(t){t.da=void 0}async function WL(t){t.Va.set("Online")}async function JL(t){t.Ia.forEach(((e,n)=>{mv(t,e)}))}async function ZL(t,e){_C(t),gv(t)?(t.Va.ha(e),pv(t)):t.Va.set("Unknown")}async function e9(t,e,n){if(t.Va.set("Online"),e instanceof iC&&e.state===2&&e.cause)try{await(async function(a,l){const c=l.cause;for(const d of l.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Ia.delete(d),a.da.removeTarget(d))})(t,e)}catch(i){me(Ya,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await _f(t,i)}else if(e instanceof Kd?t.da.Xe(e):e instanceof sC?t.da.st(e):t.da.tt(e),!n.isEqual(Me.min()))try{const i=await gC(t.localStore);n.compareTo(i)>=0&&await(function(l,c){const d=l.da.Tt(c);return d.targetChanges.forEach(((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const v=l.Ia.get(p);v&&l.Ia.set(p,v.withResumeToken(m.resumeToken,c))}})),d.targetMismatches.forEach(((m,p)=>{const v=l.Ia.get(m);if(!v)return;l.Ia.set(m,v.withResumeToken(hn.EMPTY_BYTE_STRING,v.snapshotVersion)),xC(l,m);const b=new Lr(v.target,m,p,v.sequenceNumber);mv(l,b)})),l.remoteSyncer.applyRemoteEvent(d)})(t,n)}catch(i){me(Ya,"Failed to raise snapshot:",i),await _f(t,i)}}async function _f(t,e,n){if(!Cl(e))throw e;t.Ea.add(1),await Vu(t),t.Va.set("Offline"),n||(n=()=>gC(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{me(Ya,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Wf(t)}))}function wC(t,e){return e().catch((n=>_f(t,n,e)))}async function Jf(t){const e=Pe(t),n=Xr(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Zy;for(;t9(e);)try{const a=await VL(e.localStore,i);if(a===null){e.Ta.length===0&&n.L_();break}i=a.batchId,n9(e,a)}catch(a){await _f(e,a)}TC(e)&&EC(e)}function t9(t){return Wa(t)&&t.Ta.length<10}function n9(t,e){t.Ta.push(e);const n=Xr(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function TC(t){return Wa(t)&&!Xr(t).x_()&&t.Ta.length>0}function EC(t){Xr(t).start()}async function s9(t){Xr(t).ra()}async function i9(t){const e=Xr(t);for(const n of t.Ta)e.ea(n.mutations)}async function r9(t,e,n){const i=t.Ta.shift(),a=av.from(i,e,n);await wC(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await Jf(t)}async function a9(t,e){e&&Xr(t).Y_&&await(async function(i,a){if((function(c){return zP(c)&&c!==se.ABORTED})(a.code)){const l=i.Ta.shift();Xr(i).B_(),await wC(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Jf(i)}})(t,e),TC(t)&&EC(t)}async function KT(t,e){const n=Pe(t);n.asyncQueue.verifyOperationInProgress(),me(Ya,"RemoteStore received new credentials");const i=Wa(n);n.Ea.add(3),await Vu(n),i&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Wf(n)}async function o9(t,e){const n=Pe(t);e?(n.Ea.delete(2),await Wf(n)):e||(n.Ea.add(2),await Vu(n),n.Va.set("Unknown"))}function Nl(t){return t.ma||(t.ma=(function(n,i,a){const l=Pe(n);return l.sa(),new qL(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:WL.bind(null,t),Yo:JL.bind(null,t),t_:ZL.bind(null,t),J_:e9.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),gv(t)?pv(t):t.Va.set("Unknown")):(await t.ma.stop(),_C(t))}))),t.ma}function Xr(t){return t.fa||(t.fa=(function(n,i,a){const l=Pe(n);return l.sa(),new GL(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:s9.bind(null,t),t_:a9.bind(null,t),ta:i9.bind(null,t),na:r9.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await Jf(t)):(await t.fa.stop(),t.Ta.length>0&&(me(Ya,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class yv{constructor(e,n,i,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new zi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,a,l){const c=Date.now()+i,d=new yv(e,n,c,a,l);return d.start(i),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vv(t,e){if(Gi("AsyncQueue",`${e}: ${t}`),Cl(t))return new fe(se.UNAVAILABLE,`${e}: ${t}`);throw t}class il{static emptySet(e){return new il(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||Ae.comparator(n.key,i.key):(n,i)=>Ae.comparator(n.key,i.key),this.keyedMap=qc(),this.sortedSet=new bt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,i)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof il)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new il;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}class YT{constructor(){this.ga=new bt(Ae.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Re(63341,{Vt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,i)=>{e.push(i)})),e}}class fl{constructor(e,n,i,a,l,c,d,m,p){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(e,n,i,a,l){const c=[];return n.forEach((d=>{c.push({type:0,doc:d})})),new fl(e,n,il.emptySet(n),c,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==i[a].type||!n[a].doc.isEqual(i[a].doc))return!1;return!0}}class l9{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class c9{constructor(){this.queries=QT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const a=Pe(n),l=a.queries;a.queries=QT(),l.forEach(((c,d)=>{for(const m of d.ba)m.onError(i)}))})(this,new fe(se.ABORTED,"Firestore shutting down"))}}function QT(){return new Xa((t=>q2(t)),Gf)}async function bv(t,e){const n=Pe(t);let i=3;const a=e.query;let l=n.queries.get(a);l?!l.Sa()&&e.Da()&&(i=2):(l=new l9,i=e.Da()?0:1);try{switch(i){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const d=vv(c,`Initialization of query '${qo(e.query)}' failed`);return void e.onError(d)}n.queries.set(a,l),l.ba.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&_v(n)}async function xv(t,e){const n=Pe(t),i=e.query;let a=3;const l=n.queries.get(i);if(l){const c=l.ba.indexOf(e);c>=0&&(l.ba.splice(c,1),l.ba.length===0?a=e.Da()?0:1:!l.Sa()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function u9(t,e){const n=Pe(t);let i=!1;for(const a of e){const l=a.query,c=n.queries.get(l);if(c){for(const d of c.ba)d.Fa(a)&&(i=!0);c.wa=a}}i&&_v(n)}function h9(t,e,n){const i=Pe(t),a=i.queries.get(e);if(a)for(const l of a.ba)l.onError(n);i.queries.delete(e)}function _v(t){t.Ca.forEach((e=>{e.next()}))}var q0,XT;(XT=q0||(q0={})).Ma="default",XT.Cache="cache";class wv{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new fl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.Ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=fl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==q0.Cache}}class SC{constructor(e){this.key=e}}class AC{constructor(e){this.key=e}}class d9{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ye(),this.mutatedKeys=Ye(),this.eu=G2(e),this.tu=new il(this.eu)}get nu(){return this.Za}ru(e,n){const i=n?n.iu:new YT,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,d=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((v,b)=>{const w=a.get(v),C=$f(this.query,b)?b:null,M=!!w&&this.mutatedKeys.has(w.key),P=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let O=!1;w&&C?w.data.isEqual(C.data)?M!==P&&(i.track({type:3,doc:C}),O=!0):this.su(w,C)||(i.track({type:2,doc:C}),O=!0,(m&&this.eu(C,m)>0||p&&this.eu(C,p)<0)&&(d=!0)):!w&&C?(i.track({type:0,doc:C}),O=!0):w&&!C&&(i.track({type:1,doc:w}),O=!0,(m||p)&&(d=!0)),O&&(C?(c=c.add(C),l=P?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),i.track({type:1,doc:v})}return{tu:c,iu:i,Ss:d,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((v,b)=>(function(C,M){const P=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re(20277,{Vt:O})}};return P(C)-P(M)})(v.type,b.type)||this.eu(v.doc,b.doc))),this.ou(i),a=a??!1;const d=n&&!a?this._u():[],m=this.Ya.size===0&&this.current&&!a?1:0,p=m!==this.Xa;return this.Xa=m,c.length!==0||p?{snapshot:new fl(this.query,e.tu,l,c,e.mutatedKeys,m===0,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new YT,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Ye(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Ya=this.Ya.add(i.key))}));const n=[];return e.forEach((i=>{this.Ya.has(i)||n.push(new AC(i))})),this.Ya.forEach((i=>{e.has(i)||n.push(new SC(i))})),n}cu(e){this.Za=e.ks,this.Ya=Ye();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return fl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Tv="SyncEngine";class f9{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class m9{constructor(e){this.key=e,this.hu=!1}}class p9{constructor(e,n,i,a,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Xa((d=>q2(d)),Gf),this.Iu=new Map,this.Eu=new Set,this.Ru=new bt(Ae.comparator),this.Au=new Map,this.Vu=new cv,this.du={},this.mu=new Map,this.fu=dl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function g9(t,e,n=!0){const i=DC(t);let a;const l=i.Tu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await CC(i,e,n,!0),a}async function y9(t,e){const n=DC(t);await CC(n,e,!0,!1)}async function CC(t,e,n,i){const a=await OL(t.localStore,oi(e)),l=a.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let d;return i&&(d=await v9(t,e,l,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&bC(t.remoteStore,a),d}async function v9(t,e,n,i,a){t.pu=(b,w,C)=>(async function(P,O,U,F){let $=O.view.ru(U);$.Ss&&($=await FT(P.localStore,O.query,!1).then((({documents:j})=>O.view.ru(j,$))));const oe=F&&F.targetChanges.get(O.targetId),re=F&&F.targetMismatches.get(O.targetId)!=null,ue=O.view.applyChanges($,P.isPrimaryClient,oe,re);return JT(P,O.targetId,ue.au),ue.snapshot})(t,b,w,C);const l=await FT(t.localStore,e,!0),c=new d9(e,l.ks),d=c.ru(l.documents),m=Mu.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",a),p=c.applyChanges(d,t.isPrimaryClient,m);JT(t,n,p.au);const v=new f9(e,n,c);return t.Tu.set(e,v),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function b9(t,e,n){const i=Pe(t),a=i.Tu.get(e),l=i.Iu.get(a.targetId);if(l.length>1)return i.Iu.set(a.targetId,l.filter((c=>!Gf(c,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await F0(i.localStore,a.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(a.targetId),n&&fv(i.remoteStore,a.targetId),G0(i,a.targetId)})).catch(Al)):(G0(i,a.targetId),await F0(i.localStore,a.targetId,!0))}async function x9(t,e){const n=Pe(t),i=n.Tu.get(e),a=n.Iu.get(i.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),fv(n.remoteStore,i.targetId))}async function _9(t,e,n){const i=k9(t);try{const a=await(function(c,d){const m=Pe(c),p=mt.now(),v=d.reduce(((C,M)=>C.add(M.key)),Ye());let b,w;return m.persistence.runTransaction("Locally write mutations","readwrite",(C=>{let M=$i(),P=Ye();return m.xs.getEntries(C,v).next((O=>{M=O,M.forEach(((U,F)=>{F.isValidDocument()||(P=P.add(U))}))})).next((()=>m.localDocuments.getOverlayedDocuments(C,M))).next((O=>{b=O;const U=[];for(const F of d){const $=VP(F,b.get(F.key).overlayedDocument);$!=null&&U.push(new ea(F.key,$,O2($.value.mapValue),us.exists(!0)))}return m.mutationQueue.addMutationBatch(C,p,U,d)})).next((O=>{w=O;const U=O.applyToLocalDocumentSet(b,P);return m.documentOverlayCache.saveOverlays(C,O.batchId,U)}))})).then((()=>({batchId:w.batchId,changes:K2(b)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),(function(c,d,m){let p=c.du[c.currentUser.toKey()];p||(p=new bt(Ke)),p=p.insert(d,m),c.du[c.currentUser.toKey()]=p})(i,a.batchId,n),await Ou(i,a.changes),await Jf(i.remoteStore)}catch(a){const l=vv(a,"Failed to persist write");n.reject(l)}}async function kC(t,e){const n=Pe(t);try{const i=await jL(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const c=n.Au.get(l);c&&(tt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?tt(c.hu,14607):a.removedDocuments.size>0&&(tt(c.hu,42227),c.hu=!1))})),await Ou(n,i,e)}catch(i){await Al(i)}}function WT(t,e,n){const i=Pe(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const a=[];i.Tu.forEach(((l,c)=>{const d=c.view.va(e);d.snapshot&&a.push(d.snapshot)})),(function(c,d){const m=Pe(c);m.onlineState=d;let p=!1;m.queries.forEach(((v,b)=>{for(const w of b.ba)w.va(d)&&(p=!0)})),p&&_v(m)})(i.eventManager,e),a.length&&i.Pu.J_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function w9(t,e,n){const i=Pe(t);i.sharedClientState.updateQueryState(e,"rejected",n);const a=i.Au.get(e),l=a&&a.key;if(l){let c=new bt(Ae.comparator);c=c.insert(l,pn.newNoDocument(l,Me.min()));const d=Ye().add(l),m=new Qf(Me.min(),new Map,new bt(Ke),c,d);await kC(i,m),i.Ru=i.Ru.remove(l),i.Au.delete(e),Ev(i)}else await F0(i.localStore,e,!1).then((()=>G0(i,e,n))).catch(Al)}async function T9(t,e){const n=Pe(t),i=e.batch.batchId;try{const a=await DL(n.localStore,e);RC(n,i,null),NC(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Ou(n,a)}catch(a){await Al(a)}}async function E9(t,e,n){const i=Pe(t);try{const a=await(function(c,d){const m=Pe(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let v;return m.mutationQueue.lookupMutationBatch(p,d).next((b=>(tt(b!==null,37113),v=b.keys(),m.mutationQueue.removeMutationBatch(p,b)))).next((()=>m.mutationQueue.performConsistencyCheck(p))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(p,v,d))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v))).next((()=>m.localDocuments.getDocuments(p,v)))}))})(i.localStore,e);RC(i,e,n),NC(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Ou(i,a)}catch(a){await Al(a)}}function NC(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function RC(t,e,n){const i=Pe(t);let a=i.du[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),i.du[i.currentUser.toKey()]=a}}function G0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Iu.get(e))t.Tu.delete(i),n&&t.Pu.yu(i,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((i=>{t.Vu.containsKey(i)||IC(t,i)}))}function IC(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(fv(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),Ev(t))}function JT(t,e,n){for(const i of n)i instanceof SC?(t.Vu.addReference(i.key,e),S9(t,i)):i instanceof AC?(me(Tv,"Document no longer in limbo: "+i.key),t.Vu.removeReference(i.key,e),t.Vu.containsKey(i.key)||IC(t,i.key)):Re(19791,{wu:i})}function S9(t,e){const n=e.key,i=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(i)||(me(Tv,"New document in limbo: "+n),t.Eu.add(i),Ev(t))}function Ev(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ae(ut.fromString(e)),i=t.fu.next();t.Au.set(i,new m9(n)),t.Ru=t.Ru.insert(n,i),bC(t.remoteStore,new Lr(oi(qf(n.path)),i,"TargetPurposeLimboResolution",Bf.ce))}}async function Ou(t,e,n){const i=Pe(t),a=[],l=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach(((d,m)=>{c.push(i.pu(m,e,n).then((p=>{if((p||n)&&i.isPrimaryClient){const v=p?!p.fromCache:n?.targetChanges.get(m.targetId)?.current;i.sharedClientState.updateQueryState(m.targetId,v?"current":"not-current")}if(p){a.push(p);const v=hv.Es(m.targetId,p);l.push(v)}})))})),await Promise.all(c),i.Pu.J_(a),await(async function(m,p){const v=Pe(m);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>ae.forEach(p,(w=>ae.forEach(w.Ts,(C=>v.persistence.referenceDelegate.addReference(b,w.targetId,C))).next((()=>ae.forEach(w.Is,(C=>v.persistence.referenceDelegate.removeReference(b,w.targetId,C)))))))))}catch(b){if(!Cl(b))throw b;me(dv,"Failed to update sequence numbers: "+b)}for(const b of p){const w=b.targetId;if(!b.fromCache){const C=v.vs.get(w),M=C.snapshotVersion,P=C.withLastLimboFreeSnapshotVersion(M);v.vs=v.vs.insert(w,P)}}})(i.localStore,l))}async function A9(t,e){const n=Pe(t);if(!n.currentUser.isEqual(e)){me(Tv,"User change. New user:",e.toKey());const i=await pC(n.localStore,e);n.currentUser=e,(function(l,c){l.mu.forEach((d=>{d.forEach((m=>{m.reject(new fe(se.CANCELLED,c))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Ou(n,i.Ns)}}function C9(t,e){const n=Pe(t),i=n.Au.get(e);if(i&&i.hu)return Ye().add(i.key);{let a=Ye();const l=n.Iu.get(e);if(!l)return a;for(const c of l){const d=n.Tu.get(c);a=a.unionWith(d.view.nu)}return a}}function DC(t){const e=Pe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=kC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=C9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=w9.bind(null,e),e.Pu.J_=u9.bind(null,e.eventManager),e.Pu.yu=h9.bind(null,e.eventManager),e}function k9(t){const e=Pe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=T9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=E9.bind(null,e),e}class wf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Xf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return IL(this.persistence,new kL,e.initialUser,this.serializer)}Cu(e){return new mC(uv.Vi,this.serializer)}Du(e){return new LL}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}wf.provider={build:()=>new wf};class N9 extends wf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){tt(this.persistence.referenceDelegate instanceof xf,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new fL(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?jn.withCacheSize(this.cacheSizeBytes):jn.DEFAULT;return new mC((i=>xf.Vi(i,n)),this.serializer)}}class $0{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>WT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=A9.bind(null,this.syncEngine),await o9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new c9})()}createDatastore(e){const n=Xf(e.databaseInfo.databaseId),i=HL(e.databaseInfo);return YL(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return(function(i,a,l,c,d){return new XL(i,a,l,c,d)})(this.localStore,this.datastore,e.asyncQueue,(n=>WT(this.syncEngine,n,0)),(function(){return GT.v()?new GT:new UL})())}createSyncEngine(e,n){return(function(a,l,c,d,m,p,v){const b=new p9(a,l,c,d,m,p);return v&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const i=Pe(n);me(Ya,"RemoteStore shutting down."),i.Ea.add(5),await Vu(i),i.Aa.shutdown(),i.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}$0.provider={build:()=>new $0};class Sv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Gi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Wr="FirestoreClient";class R9{constructor(e,n,i,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this._databaseInfo=a,this.user=mn.UNAUTHENTICATED,this.clientId=Jy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async c=>{me(Wr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(me(Wr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new zi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=vv(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function Hg(t,e){t.asyncQueue.verifyOperationInProgress(),me(Wr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener((async a=>{i.isEqual(a)||(await pC(e.localStore,a),i=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function ZT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await I9(t);me(Wr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((i=>KT(e.remoteStore,i))),t.setAppCheckTokenChangeListener(((i,a)=>KT(e.remoteStore,a))),t._onlineComponents=e}async function I9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){me(Wr,"Using user provided OfflineComponentProvider");try{await Hg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===se.FAILED_PRECONDITION||a.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;Ka("Error using user provided cache. Falling back to memory cache: "+n),await Hg(t,new wf)}}else me(Wr,"Using default OfflineComponentProvider"),await Hg(t,new N9(void 0));return t._offlineComponents}async function jC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(me(Wr,"Using user provided OnlineComponentProvider"),await ZT(t,t._uninitializedComponentsProvider._online)):(me(Wr,"Using default OnlineComponentProvider"),await ZT(t,new $0))),t._onlineComponents}function D9(t){return jC(t).then((e=>e.syncEngine))}async function Tf(t){const e=await jC(t),n=e.eventManager;return n.onListen=g9.bind(null,e.syncEngine),n.onUnlisten=b9.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=y9.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=x9.bind(null,e.syncEngine),n}function j9(t,e,n,i){const a=new Sv(i),l=new wv(e,a,n);return t.asyncQueue.enqueueAndForget((async()=>bv(await Tf(t),l))),()=>{a.Nu(),t.asyncQueue.enqueueAndForget((async()=>xv(await Tf(t),l)))}}function M9(t,e,n={}){const i=new zi;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,m,p){const v=new Sv({next:w=>{v.Nu(),c.enqueueAndForget((()=>xv(l,b)));const C=w.docs.has(d);!C&&w.fromCache?p.reject(new fe(se.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&w.fromCache&&m&&m.source==="server"?p.reject(new fe(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(w)},error:w=>p.reject(w)}),b=new wv(qf(d.path),v,{includeMetadataChanges:!0,Ka:!0});return bv(l,b)})(await Tf(t),t.asyncQueue,e,n,i))),i.promise}function V9(t,e,n={}){const i=new zi;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,m,p){const v=new Sv({next:w=>{v.Nu(),c.enqueueAndForget((()=>xv(l,b))),w.fromCache&&m.source==="server"?p.reject(new fe(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(w)},error:w=>p.reject(w)}),b=new wv(d,v,{includeMetadataChanges:!0,Ka:!0});return bv(l,b)})(await Tf(t),t.asyncQueue,e,n,i))),i.promise}function O9(t,e){const n=new zi;return t.asyncQueue.enqueueAndForget((async()=>_9(await D9(t),e,n))),n.promise}function MC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const P9="ComponentProvider",eE=new Map;function L9(t,e,n,i,a){return new nP(t,e,n,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,MC(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,i)}const VC="firestore.googleapis.com",tE=!0;class nE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new fe(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=VC,this.ssl=tE}else this.host=e.host,this.ssl=e.ssl??tE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=fC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<hL)throw new fe(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}qO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=MC(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new fe(se.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new fe(se.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new fe(se.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,a){return i.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Zf{constructor(e,n,i,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new MO;switch(i.type){case"firstParty":return new LO(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new fe(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=eE.get(n);i&&(me(P9,"Removing Datastore"),eE.delete(n),i.terminate())})(this),Promise.resolve()}}function U9(t,e,n,i={}){t=Vn(t,Zf);const a=wl(e),l=t._getSettings(),c={...l,emulatorOptions:t._getEmulatorOptions()},d=`${e}:${n}`;a&&(jA(`https://${d}`),MA("Firestore",!0)),l.host!==VC&&l.host!==d&&Ka("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:d,ssl:a,emulatorOptions:i};if(!Ha(m,c)&&(t._setSettings(m),i.mockUserToken)){let p,v;if(typeof i.mockUserToken=="string")p=i.mockUserToken,v=mn.MOCK_USER;else{p=s3(i.mockUserToken,t._app?.options.projectId);const b=i.mockUserToken.sub||i.mockUserToken.user_id;if(!b)throw new fe(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new mn(b)}t._authCredentials=new VO(new E2(p,v))}}class Xi{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Xi(this.firestore,e,this._query)}}class Et{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Et(this.firestore,e,this._key)}toJSON(){return{type:Et._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(Du(n,Et._jsonSchema))return new Et(e,i||null,new Ae(ut.fromString(n.referencePath)))}}Et._jsonSchemaVersion="firestore/documentReference/1.0",Et._jsonSchema={type:Ft("string",Et._jsonSchemaVersion),referencePath:Ft("string")};class Hr extends Xi{constructor(e,n,i){super(e,n,qf(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Et(this.firestore,null,new Ae(e))}withConverter(e){return new Hr(this.firestore,e,this._path)}}function Ef(t,e,...n){if(t=Jt(t),S2("collection","path",e),t instanceof Zf){const i=ut.fromString(e,...n);return pT(i),new Hr(t,null,i)}{if(!(t instanceof Et||t instanceof Hr))throw new fe(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(ut.fromString(e,...n));return pT(i),new Hr(t.firestore,null,i)}}function ml(t,e,...n){if(t=Jt(t),arguments.length===1&&(e=Jy.newId()),S2("doc","path",e),t instanceof Zf){const i=ut.fromString(e,...n);return mT(i),new Et(t,null,new Ae(i))}{if(!(t instanceof Et||t instanceof Hr))throw new fe(se.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(ut.fromString(e,...n));return mT(i),new Et(t.firestore,t instanceof Hr?t.converter:null,new Ae(i))}}const sE="AsyncQueue";class iE{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new yC(this,"async_queue_retry"),this._c=()=>{const i=Fg();i&&me(sE,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=Fg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Fg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new zi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Cl(e))throw e;me(sE,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,Gi("INTERNAL UNHANDLED ERROR: ",rE(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=yv.createAndSchedule(this,e,n,i,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Re(47125,{Pc:rE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function rE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Ki extends Zf{constructor(e,n,i,a){super(e,n,i,a),this.type="firestore",this._queue=new iE,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new iE(e),this._firestoreClient=void 0,await e}}}function z9(t,e){const n=typeof t=="object"?t:LA(),i=typeof t=="string"?t:mf,a=zy(n,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=t3("firestore");l&&U9(a,...l)}return a}function em(t){if(t._terminated)throw new fe(se.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||B9(t),t._firestoreClient}function B9(t){const e=t._freezeSettings(),n=L9(t._databaseId,t._app?.options.appId||"",t._persistenceKey,t._app?.options.apiKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new R9(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(t._componentsProvider))}class os{constructor(e){this._byteString=e}static fromBase64String(e){try{return new os(hn.fromBase64String(e))}catch(n){throw new fe(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new os(hn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:os._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Du(e,os._jsonSchema))return os.fromBase64String(e.bytes)}}os._jsonSchemaVersion="firestore/bytes/1.0",os._jsonSchema={type:Ft("string",os._jsonSchemaVersion),bytes:Ft("string")};class Av{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new un(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class tm{constructor(e){this._methodName=e}}class ci{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ke(this._lat,e._lat)||Ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ci._jsonSchemaVersion}}static fromJSON(e){if(Du(e,ci._jsonSchema))return new ci(e.latitude,e.longitude)}}ci._jsonSchemaVersion="firestore/geoPoint/1.0",ci._jsonSchema={type:Ft("string",ci._jsonSchemaVersion),latitude:Ft("number"),longitude:Ft("number")};class Ds{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ds._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Du(e,Ds._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ds(e.vectorValues);throw new fe(se.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ds._jsonSchemaVersion="firestore/vectorValue/1.0",Ds._jsonSchema={type:Ft("string",Ds._jsonSchemaVersion),vectorValues:Ft("object")};const F9=/^__.*__$/;class H9{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new ea(e,this.data,this.fieldMask,n,this.fieldTransforms):new ju(e,this.data,n,this.fieldTransforms)}}class OC{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new ea(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function PC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re(40011,{dataSource:t})}}class Cv{constructor(e,n,i,a,l,c){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Cv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),i=this.contextWith({path:n,arrayElement:!1});return i.validatePathSegment(e),i}childContextForFieldPath(e){const n=this.path?.child(e),i=this.contextWith({path:n,arrayElement:!1});return i.validatePath(),i}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Sf(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(PC(this.dataSource)&&F9.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class q9{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Xf(e)}createContext(e,n,i,a=!1){return new Cv({dataSource:e,methodName:n,targetDoc:i,path:un.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function nm(t){const e=t._freezeSettings(),n=Xf(t._databaseId);return new q9(t._databaseId,!!e.ignoreUndefinedProperties,n)}function LC(t,e,n,i,a,l={}){const c=t.createContext(l.merge||l.mergeFields?2:0,e,n,a);Nv("Data must be an object, but it was:",c,i);const d=UC(i,c);let m,p;if(l.merge)m=new Gn(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const b of l.mergeFields){const w=Qa(e,b,n);if(!c.contains(w))throw new fe(se.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);FC(v,w)||v.push(w)}m=new Gn(v),p=c.fieldTransforms.filter((b=>m.covers(b.field)))}else m=null,p=c.fieldTransforms;return new H9(new Mn(d),m,p)}class sm extends tm{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof sm}}class kv extends tm{_toFieldTransform(e){return new IP(e.path,new yu)}isEqual(e){return e instanceof kv}}function G9(t,e,n,i){const a=t.createContext(1,e,n);Nv("Data must be an object, but it was:",a,i);const l=[],c=Mn.empty();Zr(i,((m,p)=>{const v=BC(e,m,n);p=Jt(p);const b=a.childContextForFieldPath(v);if(p instanceof sm)l.push(v);else{const w=Pu(p,b);w!=null&&(l.push(v),c.set(v,w))}}));const d=new Gn(l);return new OC(c,d,a.fieldTransforms)}function $9(t,e,n,i,a,l){const c=t.createContext(1,e,n),d=[Qa(e,i,n)],m=[a];if(l.length%2!=0)throw new fe(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<l.length;w+=2)d.push(Qa(e,l[w])),m.push(l[w+1]);const p=[],v=Mn.empty();for(let w=d.length-1;w>=0;--w)if(!FC(p,d[w])){const C=d[w];let M=m[w];M=Jt(M);const P=c.childContextForFieldPath(C);if(M instanceof sm)p.push(C);else{const O=Pu(M,P);O!=null&&(p.push(C),v.set(C,O))}}const b=new Gn(p);return new OC(v,b,c.fieldTransforms)}function K9(t,e,n,i=!1){return Pu(n,t.createContext(i?4:3,e))}function Pu(t,e){if(zC(t=Jt(t)))return Nv("Unsupported field value:",e,t),UC(t,e);if(t instanceof tm)return(function(i,a){if(!PC(a.dataSource))throw a.createError(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(i,a){const l=[];let c=0;for(const d of i){let m=Pu(d,a.childContextForArray(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}})(t,e)}return(function(i,a){if((i=Jt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return kP(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=mt.fromDate(i);return{timestampValue:bf(a.serializer,l)}}if(i instanceof mt){const l=new mt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:bf(a.serializer,l)}}if(i instanceof ci)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof os)return{bytesValue:rC(a.serializer,i._byteString)};if(i instanceof Et){const l=a.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw a.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:lv(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof Ds)return(function(c,d){const m=c instanceof Ds?c.toArray():c;return{mapValue:{fields:{[M2]:{stringValue:V2},[pf]:{arrayValue:{values:m.map((v=>{if(typeof v!="number")throw d.createError("VectorValues must only contain numeric values.");return iv(d.serializer,v)}))}}}}}})(i,a);if(dC(i))return i._toProto(a.serializer);throw a.createError(`Unsupported field value: ${zf(i)}`)})(t,e)}function UC(t,e){const n={};return k2(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Zr(t,((i,a)=>{const l=Pu(a,e.childContextForField(i));l!=null&&(n[i]=l)})),{mapValue:{fields:n}}}function zC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof mt||t instanceof ci||t instanceof os||t instanceof Et||t instanceof tm||t instanceof Ds||dC(t))}function Nv(t,e,n){if(!zC(n)||!A2(n)){const i=zf(n);throw i==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+i)}}function Qa(t,e,n){if((e=Jt(e))instanceof Av)return e._internalPath;if(typeof e=="string")return BC(t,e);throw Sf("Field path arguments must be of type string or ",t,!1,void 0,n)}const Y9=new RegExp("[~\\*/\\[\\]]");function BC(t,e,n){if(e.search(Y9)>=0)throw Sf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Av(...e.split("."))._internalPath}catch{throw Sf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Sf(t,e,n,i,a){const l=i&&!i.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${i}`),c&&(m+=` in document ${a}`),m+=")"),new fe(se.INVALID_ARGUMENT,d+t+m)}function FC(t,e){return t.some((n=>n.isEqual(e)))}class Q9{convertValue(e,n="none"){switch(Qr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Yr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Re(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return Zr(e,((a,l)=>{i[a]=this.convertValue(l,n)})),i}convertVectorValue(e){const n=e.fields?.[pf].arrayValue?.values?.map((i=>Nt(i.doubleValue)));return new Ds(n)}convertGeoPoint(e){return new ci(Nt(e.latitude),Nt(e.longitude))}convertArray(e,n){return(e.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const i=Hf(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(fu(e));default:return null}}convertTimestamp(e){const n=Kr(e);return new mt(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=ut.fromString(e);tt(hC(i),9688,{name:e});const a=new mu(i.get(1),i.get(3)),l=new Ae(i.popFirst(5));return a.isEqual(n)||Gi(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}class Rv extends Q9{constructor(e){super(),this.firestore=e}convertBytes(e){return new os(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Et(this.firestore,null,n)}}function X9(){return new kv("serverTimestamp")}const aE="@firebase/firestore",oE="4.11.0";function lE(t){return(function(n,i){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of i)if(l in a&&typeof a[l]=="function")return!0;return!1})(t,["next","error","complete"])}class HC{constructor(e,n,i,a,l){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Et(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new W9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(Qa("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class W9 extends HC{data(){return super.data()}}function qC(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new fe(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Iv{}class Dv extends Iv{}function GC(t,e,...n){let i=[];e instanceof Iv&&i.push(e),i=i.concat(n),(function(l){const c=l.filter((m=>m instanceof jv)).length,d=l.filter((m=>m instanceof im)).length;if(c>1||c>0&&d>0)throw new fe(se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const a of i)t=a._apply(t);return t}class im extends Dv{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new im(e,n,i)}_apply(e){const n=this._parse(e);return YC(e._query,n),new Xi(e.firestore,e.converter,P0(e._query,n))}_parse(e){const n=nm(e.firestore);return(function(l,c,d,m,p,v,b){let w;if(p.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new fe(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){uE(b,v);const M=[];for(const P of b)M.push(cE(m,l,P));w={arrayValue:{values:M}}}else w=cE(m,l,b)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||uE(b,v),w=K9(d,c,b,v==="in"||v==="not-in");return Bt.create(p,v,w)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function J9(t,e,n){const i=e,a=Qa("where",t);return im._create(a,i,n)}class jv extends Iv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new jv(e,n)}_parse(e){const n=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return n.length===1?n[0]:Ms.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let c=a;const d=l.getFlattenedFilters();for(const m of d)YC(c,m),c=P0(c,m)})(e._query,n),new Xi(e.firestore,e.converter,P0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Mv extends Dv{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Mv(e,n)}_apply(e){const n=(function(a,l,c){if(a.startAt!==null)throw new fe(se.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new fe(se.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new gu(l,c)})(e._query,this._field,this._direction);return new Xi(e.firestore,e.converter,xP(e._query,n))}}function $C(t,e="asc"){const n=e,i=Qa("orderBy",t);return Mv._create(i,n)}class Vv extends Dv{constructor(e,n,i){super(),this.type=e,this._limit=n,this._limitType=i}static _create(e,n,i){return new Vv(e,n,i)}_apply(e){return new Xi(e.firestore,e.converter,yf(e._query,this._limit,this._limitType))}}function KC(t){return GO("limit",t),Vv._create("limit",t,"F")}function cE(t,e,n){if(typeof(n=Jt(n))=="string"){if(n==="")throw new fe(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!H2(e)&&n.indexOf("/")!==-1)throw new fe(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(ut.fromString(n));if(!Ae.isDocumentKey(i))throw new fe(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return TT(t,new Ae(i))}if(n instanceof Et)return TT(t,n._key);throw new fe(se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${zf(n)}.`)}function uE(t,e){if(!Array.isArray(t)||t.length===0)throw new fe(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function YC(t,e){const n=(function(a,l){for(const c of a)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new fe(se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function QC(t,e,n){let i;return i=t?t.toFirestore(e):e,i}class $c{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ba extends HC{constructor(e,n,i,a,l,c){super(e,n,i,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Yd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(Qa("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(se.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ba._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ba._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ba._jsonSchema={type:Ft("string",Ba._jsonSchemaVersion),bundleSource:Ft("string","DocumentSnapshot"),bundleName:Ft("string"),bundle:Ft("string")};class Yd extends Ba{data(e={}){return super.data(e)}}class Fa{constructor(e,n,i,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new $c(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((i=>{e.call(n,new Yd(this._firestore,this._userDataWriter,i.key,i,new $c(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((d=>{const m=new Yd(a._firestore,a._userDataWriter,d.doc.key,d.doc,new $c(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const m=new Yd(a._firestore,a._userDataWriter,d.doc.key,d.doc,new $c(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,v=-1;return d.type!==0&&(p=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),v=c.indexOf(d.doc.key)),{type:Z9(d.type),doc:m,oldIndex:p,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(se.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Fa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Jy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Z9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re(61501,{type:t})}}Fa._jsonSchemaVersion="firestore/querySnapshot/1.0",Fa._jsonSchema={type:Ft("string",Fa._jsonSchemaVersion),bundleSource:Ft("string","QuerySnapshot"),bundleName:Ft("string"),bundle:Ft("string")};function eU(t){t=Vn(t,Et);const e=Vn(t.firestore,Ki),n=em(e);return M9(n,t._key).then((i=>JC(e,t,i)))}function tU(t){t=Vn(t,Xi);const e=Vn(t.firestore,Ki),n=em(e),i=new Rv(e);return qC(t._query),V9(n,t._query).then((a=>new Fa(e,i,t,a)))}function hE(t,e,n){t=Vn(t,Et);const i=Vn(t.firestore,Ki),a=QC(t.converter,e),l=nm(i);return rm(i,[LC(l,"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,us.none())])}function nU(t,e,n,...i){t=Vn(t,Et);const a=Vn(t.firestore,Ki),l=nm(a);let c;return c=typeof(e=Jt(e))=="string"||e instanceof Av?$9(l,"updateDoc",t._key,e,n,i):G9(l,"updateDoc",t._key,e),rm(a,[c.toMutation(t._key,us.exists(!0))])}function sU(t){return rm(Vn(t.firestore,Ki),[new rv(t._key,us.none())])}function XC(t,e){const n=Vn(t.firestore,Ki),i=ml(t),a=QC(t.converter,e),l=nm(t.firestore);return rm(n,[LC(l,"addDoc",i._key,a,t.converter!==null,{}).toMutation(i._key,us.exists(!1))]).then((()=>i))}function WC(t,...e){t=Jt(t);let n={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||lE(e[i])||(n=e[i++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(lE(e[i])){const p=e[i];e[i]=p.next?.bind(p),e[i+1]=p.error?.bind(p),e[i+2]=p.complete?.bind(p)}let l,c,d;if(t instanceof Et)c=Vn(t.firestore,Ki),d=qf(t._key.path),l={next:p=>{e[i]&&e[i](JC(c,t,p))},error:e[i+1],complete:e[i+2]};else{const p=Vn(t,Xi);c=Vn(p.firestore,Ki),d=p._query;const v=new Rv(c);l={next:b=>{e[i]&&e[i](new Fa(c,v,p,b))},error:e[i+1],complete:e[i+2]},qC(t._query)}const m=em(c);return j9(m,d,a,l)}function rm(t,e){const n=em(t);return O9(n,e)}function JC(t,e,n){const i=n.docs.get(e._key),a=new Rv(t);return new Ba(t,a,e._key,i,new $c(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){jO(Tl),ol(new qa("firestore",((i,{instanceIdentifier:a,options:l})=>{const c=i.getProvider("app").getImmediate(),d=new Ki(new OO(i.getProvider("auth-internal")),new UO(c,i.getProvider("app-check-internal")),sP(c,a),c);return l={useFetchStreams:n,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),Br(aE,oE,e),Br(aE,oE,"esm2020")})();const iU={apiKey:"AIzaSyBxYxsLtsHK1cKKn6IP_wY5FLyG3Gqje5c",authDomain:"study-tracker-9d996.firebaseapp.com",projectId:"study-tracker-9d996",storageBucket:"study-tracker-9d996.firebasestorage.app",messagingSenderId:"896578359034",appId:"1:896578359034:web:730cec1b11329f22960343",measurementId:"G-ZDH3EW4063"},ZC=PA(iU),qg=NO(ZC),rU=new Vi,Li=z9(ZC),ek=D.createContext(void 0);function aU({children:t}){const[e,n]=D.useState(null),[i,a]=D.useState(!0);D.useEffect(()=>{const d=yV(qg,m=>{n(m),a(!1)});return()=>d()},[]);const l=async()=>{try{await LV(qg,rU)}catch(d){console.error("Error signing in with Google",d)}},c=async()=>{try{await vV(qg)}catch(d){console.error("Error signing out",d)}};return g.jsx(ek.Provider,{value:{user:e,loading:i,signInWithGoogle:l,logout:c},children:!i&&t})}function Ja(){const t=D.useContext(ek);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}const su=[{id:"hsc-science-2026-bn",name:"HSC Science",subjects:[{name:"  ",icon:"Book",color:"bg-emerald-500",chapters:[{name:"",topics:[{name:""},{name:""},{name:"-"},{name:""},{name:"    "},{name:" "},{name:""},{name:" "},{name:"  "},{name:" "},{name:"   "},{name:""}]},{name:"",topics:[{name:" "},{name:""},{name:""},{name:"  "},{name:" "},{name:"-"},{name:"  "},{name:""},{name:""},{name:"  "},{name:"   "},{name:" "}]},{name:"",topics:[{name:""}]},{name:"",topics:[{name:""}]}]},{name:"  ",icon:"Book",color:"bg-emerald-500",chapters:[{name:"",topics:[{name:""},{name:""},{name:""}]},{name:"",topics:[{name:" "},{name:""},{name:""},{name:""}]}]},{name:"  ",icon:"Book",color:"bg-teal-500",chapters:[{name:"  -   ",topics:[{name:" "},{name:"  "},{name:"  "},{name:" "},{name:"  "}]},{name:"  - ",topics:[{name:"  "},{name:" "},{name:" "},{name:" "},{name:"  "},{name:" "},{name:"  "},{name:" "},{name:"   "},{name:"   "},{name:"  "},{name:"  "}]},{name:"  - ",topics:[{name:"  "},{name:"  "},{name:" "},{name:"  "},{name:"   "},{name:" "},{name:""},{name:"    "},{name:"   "},{name:"  "},{name:"   "},{name:"   "}]},{name:"  -  ",topics:[{name:" "},{name:"   "},{name:"   "},{name:"   "},{name:"  "},{name:"  "},{name:" "},{name:"    "},{name:"  "},{name:"  "},{name:"   "},{name:"  "}]},{name:"  - ,   ",topics:[{name:"    "},{name:"    "},{name:""},{name:""},{name:"    "},{name:"  "},{name:""}]},{name:"  -   ",topics:[{name:""},{name:" "},{name:"   "},{name:"   "},{name:"  "},{name:"   "},{name:"  "},{name:" "},{name:"  - "}]},{name:"  -   ",topics:[{name:" "},{name:""},{name:" "},{name:" "},{name:"  "},{name:" "},{name:"   "}]},{name:"  -  ",topics:[{name:" "},{name:"  "},{name:"     "},{name:"       "},{name:"   "},{name:"   "},{name:"  "}]},{name:"  - ",topics:[{name:" "},{name:"  "},{name:"  "},{name:"  "},{name:" "},{name:" "},{name:"  "}]},{name:"  -     ",topics:[{name:" "},{name:" "},{name:" "},{name:"   "},{name:"      "},{name:" "},{name:"    "},{name:" "},{name:"  "}]}]},{name:"  ",icon:"Zap",color:"bg-violet-500",chapters:[{name:"",topics:[{name:" "},{name:"  "},{name:"   "},{name:"   "},{name:""},{name:"  "}]},{name:" ",topics:[{name:" "},{name:"   "},{name:" "},{name:" "},{name:"  "},{name:" "}]},{name:" ",topics:[{name:"   "},{name:" "},{name:" "},{name:" "},{name:""},{name:"   "}]},{name:"   ",topics:[{name:"- "},{name:" "},{name:" "},{name:" "}]},{name:" ",topics:[{name:" "},{name:" "},{name:"    "},{name:""}]},{name:" ",topics:[{name:""},{name:"   "},{name:"   "},{name:" "}]},{name:" ",topics:[{name:" "},{name:""},{name:""},{name:""}]},{name:"  ",topics:[{name:"  "},{name:"- "},{name:" "},{name:"- "},{name:"-"}]},{name:" ",topics:[{name:"   "},{name:" "},{name:""},{name:"   "},{name:"   "}]},{name:"  ",topics:[{name:" "},{name:"- "},{name:""},{name:" "},{name:""}]}]},{name:"  ",icon:"Beaker",color:"bg-rose-500",chapters:[{name:"  ",topics:[{name:"  "},{name:"  "},{name:"   "},{name:" "},{name:" "}]},{name:" ",topics:[{name:"  (  )"},{name:" "},{name:",    "},{name:" "},{name:"  "},{name:" "},{name:"   "},{name:" "},{name:""}]},{name:"  ",topics:[{name:"  (s, p, d, f )"},{name:"  ( ,  )"},{name:" "},{name:" "},{name:" (Hybridization)"},{name:"VSEPR    "},{name:" "},{name:"  "}]},{name:" ",topics:[{name:"   "},{name:" "},{name:"- "},{name:"   Kc, Kp"},{name:"- "},{name:"pH   "},{name:"    "}]},{name:" ",topics:[{name:"   "},{name:"  (, )"},{name:"  "},{name:"   "}]}]},{name:"  ",icon:"Beaker",color:"bg-rose-500",chapters:[{name:" ",topics:[{name:"  (, )"},{name:"   "},{name:"   "},{name:"  "},{name:"   "},{name:"    "},{name:"    (BOD, COD)"}]},{name:" ",topics:[{name:"     "},{name:""},{name:" (IUPAC)"},{name:" (, , )"},{name:"   "},{name:" "},{name:"  "},{name:"  "},{name:"    "},{name:""},{name:"  "}]},{name:" ",topics:[{name:"    "},{name:"  (, )"},{name:"- "},{name:"- "},{name:""},{name:"- "}]},{name:" ",topics:[{name:"   "},{name:" "},{name:"  "},{name:"    "},{name:"   "},{name:"pH "}]},{name:" ",topics:[{name:"   "},{name:"  "},{name:"   "},{name:"   "},{name:"   "}]}]},{name:"   ",icon:"Calculator",color:"bg-blue-500",chapters:[{name:"  ",topics:[{name:" "},{name:" ,   "},{name:"   "},{name:" "},{name:" "}]},{name:"",topics:[{name:" "},{name:"   "},{name:"   "},{name:" "}]},{name:"",topics:[{name:"   "},{name:"   "},{name:"  "},{name:"   "}]},{name:"",topics:[{name:" "},{name:"  "},{name:"  "}]},{name:"  ",topics:[{name:"    "},{name:""},{name:""},{name:"   "}]},{name:"",topics:[{name:"   "},{name:" "},{name:" "},{name:""}]},{name:"   ",topics:[{name:"  -"},{name:"-   "},{name:" "},{name:" "}]},{name:"",topics:[{name:"  "},{name:""},{name:"  "},{name:" "},{name:"  "}]},{name:"",topics:[{name:" "},{name:" "},{name:" "},{name:" "},{name:" "}]}]},{name:"   ",icon:"Calculator",color:"bg-blue-500",chapters:[{name:"   ",topics:[{name:"  "},{name:"  "},{name:" "}]},{name:" ",topics:[{name:"  "},{name:" "},{name:"  "}]},{name:" ",topics:[{name:"   "},{name:"  "},{name:" "},{name:" "}]},{name:"   ",topics:[{name:" "},{name:"   "},{name:"   "},{name:"  "}]},{name:" ",topics:[{name:" "},{name:"  "},{name:""},{name:"  "}]},{name:"",topics:[{name:" (Parabola)"},{name:" (Ellipse)"},{name:" (Hyperbola)"},{name:" "}]},{name:"  ",topics:[{name:"   "},{name:"  "},{name:"  "}]},{name:"",topics:[{name:"   "},{name:" "},{name:" "},{name:"    "}]},{name:"",topics:[{name:" "},{name:""},{name:" "},{name:" "}]},{name:"   ",topics:[{name:", , "},{name:"   "},{name:" "},{name:"   "},{name:" "}]}]},{name:"  ",icon:"Dna",color:"bg-green-500",chapters:[{name:"   ",topics:[{name:"    "},{name:"  "},{name:"  "},{name:""},{name:""},{name:"DNA  RNA  "},{name:"DNA "},{name:"  "}]},{name:" ",topics:[{name:"  "},{name:" "},{name:"   "},{name:" "}]},{name:"",topics:[{name:"   "},{name:""},{name:"   "},{name:" "}]},{name:"  ",topics:[{name:" (Riccia)"},{name:" (Pteris)"}]},{name:"  ",topics:[{name:" (Cycas)"},{name:" (Poaceae) "},{name:" (Malvaceae) "}]},{name:"  ",topics:[{name:" "},{name:" "},{name:" "},{name:"   /"}]},{name:" ",topics:[{name:"  "},{name:""},{name:" (   )"},{name:"C3  C4 "},{name:" (  )"},{name:"   "}]},{name:" ",topics:[{name:" "},{name:"   "},{name:""}]},{name:"",topics:[{name:"  "},{name:" DNA "},{name:" "},{name:" "}]}]},{name:"  ",icon:"Dna",color:"bg-green-500",chapters:[{name:"   ",topics:[{name:" "},{name:"-  (Major Phyla)"},{name:"   "}]},{name:" ",topics:[{name:" (, , )"},{name:" (, ,  )"},{name:"  (,  , )"}]},{name:"  ",topics:[{name:"   "},{name:"   (, , )"},{name:"   "},{name:""}]},{name:"  ",topics:[{name:"   "},{name:" "},{name:"   "},{name:" "},{name:"  "}]},{name:"  ",topics:[{name:" "},{name:" "},{name:" "}]},{name:"  ",topics:[{name:" "},{name:" "},{name:"  "},{name:"   "}]},{name:"  ",topics:[{name:"   "},{name:"  "},{name:" "},{name:""}]}]},{name:"   ",icon:"Cpu",color:"bg-indigo-500",chapters:[{name:"  -    ",topics:[{name:" "},{name:" "},{name:""},{name:""},{name:" "},{name:""},{name:""},{name:" "},{name:""}]},{name:"  -  ",topics:[{name:"    "},{name:""},{name:"  ( )"},{name:"  (Bluetooth, WiFi, WiMax)"},{name:" "},{name:"   "},{name:" "}]},{name:"  -     ",topics:[{name:"  "},{name:"  "},{name:" (BCD, ASCII)"},{name:" "},{name:"  (  )"},{name:"  "},{name:" (  )"},{name:"  "}]},{name:"  -   ",topics:[{name:" "},{name:"HTML  "},{name:"   "},{name:"  "},{name:" "},{name:" "}]},{name:"  -   (C)",topics:[{name:"  "},{name:"  "},{name:"   "},{name:"  "},{name:"  (if-else)"},{name:" (for, while)"},{name:""},{name:""}]}]}]}],Gg={name:"Student",grade:"Class 10",language:"en",totalStudyTime:0,earnedBadges:[],currentStreak:0,dailyGoal:7200,todayStudyTime:0,weeklyStudyTime:0,monthlyStudyTime:0},Sd="study-tracker-data",dE=()=>{const t=su[0];return t?t.subjects.map(e=>({id:crypto.randomUUID(),name:e.name,color:e.color,icon:e.icon,chapters:e.chapters.map(n=>({id:crypto.randomUUID(),name:n.name,isCompleted:!1,completedAt:null,topics:n.topics.map(i=>({id:crypto.randomUUID(),name:i.name,isCompleted:!1,completedAt:null}))}))})):[]},tk=D.createContext(void 0);function oU({children:t}){const{user:e}=Ja(),[n,i]=D.useState(()=>{try{const E=localStorage.getItem(Sd);if(E){const S=JSON.parse(E);if(S.userProfile)return S.userProfile}}catch(E){console.error("Failed to load user profile:",E)}return Gg}),[a,l]=D.useState(()=>{try{const E=localStorage.getItem(Sd);if(E){const S=JSON.parse(E);if(S.subjects&&S.subjects.length>0)return S.subjects.map(I=>({...I,chapters:I.chapters.map(k=>({...k,topics:k.topics||[]}))}))}}catch(E){console.error("Failed to load subjects, falling back to default:",E)}return dE()});D.useEffect(()=>{if(e){const E=ml(Li,"users",e.uid),S=WC(E,I=>{if(I.exists()){const k=I.data();k.userProfile&&i(k.userProfile),k.subjects&&l(k.subjects)}else{const k={userProfile:Gg,subjects:a.length>0?a:dE()};try{const V=localStorage.getItem(Sd);if(V){const R=JSON.parse(V);R.userProfile&&(k.userProfile=R.userProfile),R.subjects&&(k.subjects=R.subjects.map(pe=>({...pe,chapters:pe.chapters.map(_e=>({..._e,topics:_e.topics||[]}))})))}}catch(V){console.error("Error reading local storage for migration:",V)}hE(E,k).catch(V=>console.error("Migration failed",V))}},I=>{console.error("Firestore sync error:",I)});return()=>S()}},[e]);const c=J0.useCallback(async(E,S)=>{if(i(E),l(S),e)try{await hE(ml(Li,"users",e.uid),{userProfile:E,subjects:S})}catch(I){console.error("Failed to save to cloud:",I)}else localStorage.setItem(Sd,JSON.stringify({userProfile:E,subjects:S}))},[e]);D.useEffect(()=>{const E=su[0];if(!E)return;let S=!1;const I=[...a];E.subjects.forEach(k=>{const V=I.findIndex(R=>R.name===k.name);if(V===-1){const R={id:crypto.randomUUID(),name:k.name,color:k.color,icon:k.icon,chapters:k.chapters.map(pe=>({id:crypto.randomUUID(),name:pe.name,isCompleted:!1,completedAt:null,topics:pe.topics.map(_e=>({id:crypto.randomUUID(),name:_e.name,isCompleted:!1,completedAt:null}))}))};I.push(R),S=!0}else{const R=I[V];let pe=!1,_e=R.color;_e.startsWith("text-")&&(_e=_e.replace("text-","bg-"),pe=!0);const q=R.chapters.map(ee=>{const J=k.chapters.find(Ce=>Ce.name===ee.name);return J&&ee.topics.length===0&&J.topics.length>0?(pe=!0,{...ee,topics:J.topics.map(Ce=>({id:crypto.randomUUID(),name:Ce.name,isCompleted:!1,completedAt:null}))}):ee});pe&&(I[V]={...R,color:_e,chapters:q},S=!0)}}),S&&(console.log("Syncing default subjects..."),c(n,I))},[a,n,c]);const d=E=>{c({...n,...E},a)},m=E=>{const S=crypto.randomUUID(),I={...E,id:S,chapters:[]};c(n,[...a,I])},p=(E,S)=>{const I=a.map(k=>k.id===E?{...k,...S}:k);c(n,I)},v=E=>{c(n,a.filter(S=>S.id!==E))},b=(E,S)=>{const I=a.map(k=>k.id===E?{...k,chapters:[...k.chapters,{id:crypto.randomUUID(),name:S,isCompleted:!1,topics:[]}]}:k);c(n,I)},w=(E,S,I)=>{const k=a.map(V=>V.id===E?{...V,chapters:V.chapters.map(R=>R.id===S?{...R,name:I}:R)}:V);c(n,k)},C=(E,S)=>{const I=a.map(k=>k.id===E?{...k,chapters:k.chapters.map(V=>V.id===S?{...V,isCompleted:!V.isCompleted,completedAt:V.isCompleted?null:new Date().toISOString()}:V)}:k);c(n,I)},M=(E,S)=>{const I=a.map(k=>k.id===E?{...k,chapters:k.chapters.filter(V=>V.id!==S)}:k);c(n,I)},P=(E,S,I)=>{const k=a.map(V=>V.id===E?{...V,chapters:V.chapters.map(R=>R.id===S?{...R,topics:[...R.topics,{id:crypto.randomUUID(),name:I,isCompleted:!1,completedAt:null}]}:R)}:V);c(n,k)},O=(E,S,I,k)=>{const V=a.map(R=>R.id===E?{...R,chapters:R.chapters.map(pe=>pe.id===S?{...pe,topics:pe.topics.map(_e=>_e.id===I?{..._e,name:k}:_e)}:pe)}:R);c(n,V)},U=(E,S,I)=>{const k=a.map(V=>V.id===E?{...V,chapters:V.chapters.map(R=>{if(R.id===S){const pe=R.topics.map(q=>q.id===I?{...q,isCompleted:!q.isCompleted,completedAt:q.isCompleted?null:new Date().toISOString()}:q),_e=pe.length>0&&pe.every(q=>q.isCompleted);return{...R,topics:pe,isCompleted:_e,completedAt:_e?new Date().toISOString():null}}return R})}:V);c(n,k)},F=(E,S,I)=>{const k=a.map(V=>V.id===E?{...V,chapters:V.chapters.map(R=>R.id===S?{...R,topics:R.topics.filter(pe=>pe.id!==I)}:R)}:V);c(n,k)},$=()=>{const E={userProfile:n,subjects:a,timestamp:new Date().toISOString(),version:"1.0"},S=new Blob([JSON.stringify(E,null,2)],{type:"application/json"}),I=URL.createObjectURL(S),k=document.createElement("a");k.href=I,k.download=`study-tracker-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(k),k.click(),document.body.removeChild(k),URL.revokeObjectURL(I)},oe=E=>{try{const S=JSON.parse(E);return S.userProfile&&Array.isArray(S.subjects)?(c(S.userProfile,S.subjects),!0):(alert("Invalid backup file format."),!1)}catch(S){return console.error("Import error:",S),alert("Failed to parse backup file."),!1}},re=E=>{const S=E.map(I=>({id:crypto.randomUUID(),name:I.name,color:I.color,icon:I.icon,chapters:I.chapters.map(V=>({id:crypto.randomUUID(),name:V.name,isCompleted:!1,completedAt:null,topics:V.topics.map(pe=>({id:crypto.randomUUID(),name:pe.name,isCompleted:!1,completedAt:null}))}))}));c(n,[...a,...S])},ue=()=>{confirm("Are you sure you want to reset all data?")&&c(Gg,[])},j=async(E,S,I)=>{const k=new Date,V=k.toISOString().split("T")[0],R=(n.totalStudyTime||0)+E;let pe=n.currentStreak||0,_e=n.lastStudyDate,q=n.todayStudyTime||0;if(_e!==V){const Ne=new Date;Ne.setDate(Ne.getDate()-1);const je=Ne.toISOString().split("T")[0];_e===je?pe+=1:pe=1,_e=V,q=E}else q+=E;let ee=n.weeklyStudyTime||0,J=n.monthlyStudyTime||0;const Ce=n.lastStudyDate?new Date(n.lastStudyDate):new Date(0),Ve=Ne=>{const je=new Date(Ne),xt=je.getDay(),En=je.getDate()-xt+(xt===0?-6:1);return new Date(je.setDate(En)).toDateString()};Ve(Ce)!==Ve(k)&&(ee=0),(Ce.getMonth()!==k.getMonth()||Ce.getFullYear()!==k.getFullYear())&&(J=0),ee+=E,J+=E;const z=[...n.earnedBadges||[]],te=[],ce=k.getHours(),he=ce>=22||ce<4,Ee=z.some(Ne=>Ne.type==="night_owl");he&&!Ee&&te.push({type:"night_owl",earnedAt:k.toISOString()});const Ie=z.some(Ne=>Ne.type==="streak_master");pe>=3&&!Ie&&te.push({type:"streak_master",earnedAt:k.toISOString()});const le={...n,totalStudyTime:R,todayStudyTime:q,currentStreak:pe,lastStudyDate:_e,earnedBadges:[...z,...te],dailyGoal:n.dailyGoal||7200,weeklyStudyTime:ee,monthlyStudyTime:J};if(d(le),e)try{await XC(Ef(Li,"study_sessions"),{userId:e.uid,userName:e.displayName||n.name,startTime:new Date(Date.now()-E*1e3).toISOString(),endTime:new Date().toISOString(),durationInSeconds:E,subjectId:S||null,sessionGoal:I||null,createdAt:new Date().toISOString()})}catch(Ne){console.error("Error saving study session:",Ne)}};return g.jsx(tk.Provider,{value:{userProfile:n,subjects:a,updateProfile:d,addSubject:m,editSubject:p,deleteSubject:v,addChapter:b,editChapter:w,toggleChapter:C,deleteChapter:M,addTopic:P,editTopic:O,toggleTopic:U,deleteTopic:F,resetData:ue,exportData:$,importData:oe,importSyllabusData:re,saveStudySession:j},children:t})}function vn(){const t=D.useContext(tk);if(t===void 0)throw new Error("useStudy must be used within a StudyProvider");return t}const nk=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim();const lU=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const cU=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase());const fE=t=>{const e=cU(t);return e.charAt(0).toUpperCase()+e.slice(1)};var uU={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const hU=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const dU=D.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:a="",children:l,iconNode:c,...d},m)=>D.createElement("svg",{ref:m,...uU,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:nk("lucide",a),...!l&&!hU(d)&&{"aria-hidden":"true"},...d},[...c.map(([p,v])=>D.createElement(p,v)),...Array.isArray(l)?l:[l]]));const we=(t,e)=>{const n=D.forwardRef(({className:i,...a},l)=>D.createElement(dU,{ref:l,iconNode:e,className:nk(`lucide-${lU(fE(t))}`,`lucide-${t}`,i),...a}));return n.displayName=fE(t),n};const fU=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],mU=we("arrow-left",fU);const pU=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Ov=we("arrow-right",pU);const gU=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],sk=we("award",gU);const yU=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M17 17H4a1 1 0 0 1-.74-1.673C4.59 13.956 6 12.499 6 8a6 6 0 0 1 .258-1.742",key:"178tsu"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.668 3.01A6 6 0 0 1 18 8c0 2.687.77 4.653 1.707 6.05",key:"1hqiys"}]],vU=we("bell-off",yU);const bU=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],xU=we("bell",bU);const _U=[["path",{d:"M10 2v8l3-3 3 3V2",key:"sqw3rj"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],ik=we("book-marked",_U);const wU=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],hs=we("book-open",wU);const TU=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],EU=we("book",TU);const SU=[["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M14 7a4 4 0 0 1 4 4v3a6 6 0 0 1-12 0v-3a4 4 0 0 1 4-4z",key:"uouzyp"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M21 21a4 4 0 0 0-3.81-4",key:"1b0z45"}],["path",{d:"M21 5a4 4 0 0 1-3.55 3.97",key:"5cxbf6"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M3 21a4 4 0 0 1 3.81-4",key:"1fjd4g"}],["path",{d:"M3 5a4 4 0 0 0 3.55 3.97",key:"1d7oge"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M9 7.13V6a3 3 0 1 1 6 0v1.13",key:"1vgav8"}]],AU=we("bug",SU);const CU=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],kU=we("chart-column",CU);const NU=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],RU=we("chart-pie",NU);const IU=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],rk=we("check",IU);const DU=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],jU=we("chevron-down",DU);const MU=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],ak=we("chevron-left",MU);const VU=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],OU=we("chevron-right",VU);const PU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Rl=we("circle-check",PU);const LU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],K0=we("circle-user",LU);const UU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],zU=we("circle",UU);const BU=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],FU=we("clock",BU);const HU=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],ok=we("download",HU);const qU=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],lk=we("flame",qU);const GU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 16s-1.5-2-4-2-4 2-4 2",key:"epbg0q"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],$U=we("frown",GU);const KU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],YU=we("globe",KU);const QU=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],ck=we("graduation-cap",QU);const XU=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],Ko=we("hash",XU);const WU=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],$g=we("heart",WU);const JU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M18 13a6 6 0 0 1-6 5 6 6 0 0 1-6-5h12Z",key:"b2q4dd"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],ZU=we("laugh",JU);const e8=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],mE=we("layout-dashboard",e8);const t8=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],uk=we("log-out",t8);const n8=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],s8=we("menu",n8);const i8=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],rl=we("message-circle",i8);const r8=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],a8=we("monitor",r8);const o8=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Af=we("moon",o8);const l8=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],c8=we("pause",l8);const u8=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],hk=we("pen-tool",u8);const h8=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],d8=we("pen",h8);const f8=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],am=we("pencil",f8);const m8=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],dk=we("play",m8);const p8=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],xu=we("plus",p8);const g8=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],y8=we("quote",g8);const v8=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],b8=we("refresh-cw",v8);const x8=[["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}],["path",{d:"m9 17-5-5 5-5",key:"nvlc11"}]],_8=we("reply",x8);const w8=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],fk=we("rotate-ccw",w8);const T8=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Cf=we("save",T8);const E8=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],S8=we("send",E8);const A8=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Kg=we("settings",A8);const C8=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],k8=we("shield",C8);const N8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],R8=we("smile",N8);const I8=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],pE=we("square-pen",I8);const D8=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Y0=we("sun",D8);const j8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],M8=we("target",j8);const V8=[["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}],["path",{d:"M7 10v12",key:"1qc93n"}]],O8=we("thumbs-up",V8);const P8=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],gE=we("timer",P8);const L8=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Lu=we("trash-2",L8);const U8=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Q0=we("trending-up",U8);const z8=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],pl=we("trophy",z8);const B8=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],F8=we("upload",B8);const H8=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],mk=we("volume-2",H8);const q8=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],pk=we("volume-x",q8);const G8=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Wi=we("x",G8),$8=["bg-blue-500","bg-indigo-500","bg-violet-500","bg-purple-500","bg-fuchsia-500","bg-pink-500","bg-rose-500","bg-red-500","bg-orange-500","bg-amber-500","bg-yellow-500","bg-lime-500","bg-green-500","bg-emerald-500","bg-teal-500","bg-cyan-500","bg-sky-500","bg-slate-500"];function gk({subject:t,onClose:e}){const{editSubject:n}=vn(),[i,a]=D.useState(t.name),[l,c]=D.useState(t.color);D.useEffect(()=>{a(t.name),c(t.color)},[t]);const d=m=>{m.preventDefault(),i.trim()&&(n(t.id,{name:i.trim(),color:l}),e())};return g.jsx($n,{children:g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:g.jsxs(Te.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white dark:bg-slate-800 rounded-2xl w-full max-w-md shadow-xl border border-slate-100 dark:border-slate-700 overflow-hidden",children:[g.jsxs("div",{className:"p-4 border-b border-slate-100 dark:border-slate-700 flex items-center justify-between bg-slate-50/50 dark:bg-slate-800/50",children:[g.jsx("h2",{className:"text-lg font-bold text-slate-800 dark:text-white",children:"Edit Subject"}),g.jsx("button",{onClick:e,className:"p-1 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 transition-colors rounded-full hover:bg-slate-100 dark:hover:bg-slate-700",children:g.jsx(Wi,{className:"w-5 h-5"})})]}),g.jsxs("form",{onSubmit:d,className:"p-6 space-y-6",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Subject Name"}),g.jsxs("div",{className:"relative",children:[g.jsx(hs,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),g.jsx("input",{type:"text",value:i,onChange:m=>a(m.target.value),placeholder:"e.g. Mathematics",className:"w-full bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl py-3 pl-10 pr-4 text-slate-800 dark:text-white placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all",autoFocus:!0})]})]}),g.jsxs("div",{className:"space-y-3",children:[g.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Color Theme"}),g.jsx("div",{className:"flex flex-wrap gap-2",children:$8.map(m=>g.jsx("button",{type:"button",onClick:()=>c(m),className:`w-8 h-8 rounded-full transition-transform ${m} ${l===m?"ring-2 ring-offset-2 ring-slate-400 dark:ring-slate-500 scale-110":"hover:scale-110 opacity-70 hover:opacity-100"}`},m))})]}),g.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-900 rounded-xl border border-slate-100 dark:border-slate-700 flex items-center gap-3",children:[g.jsx("div",{className:`w-10 h-10 rounded-lg ${l} flex items-center justify-center text-white shadow-sm`,children:g.jsx(hs,{className:"w-5 h-5"})}),g.jsxs("div",{children:[g.jsx("p",{className:"font-bold text-slate-800 dark:text-white",children:i||"Subject Name"}),g.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Preview"})]})]}),g.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[g.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-slate-600 dark:text-slate-400 font-medium hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:"Cancel"}),g.jsx("button",{type:"submit",disabled:!i.trim(),className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg shadow-sm shadow-blue-500/20 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:"Save Changes"})]})]})]})})})}const K8=Te(on);function Y8({subject:t,index:e=0}){const[n,i]=D.useState(!1),a=t.chapters.length,l=t.chapters.filter(m=>m.isCompleted).length;let c=0;t.chapters.forEach(m=>{m.topics&&m.topics.length>0?c+=m.topics.filter(p=>p.isCompleted).length/m.topics.length*100:c+=m.isCompleted?100:0});const d=a===0?0:Math.round(c/a);return g.jsxs(g.Fragment,{children:[g.jsxs(K8,{to:`/subject/${t.id}`,whileHover:{y:-8,transition:{duration:.3,ease:[.25,1,.5,1]}},whileTap:{scale:.98},className:"group relative block bg-white dark:bg-slate-800 rounded-3xl p-5 border border-slate-100 dark:border-slate-700 shadow-sm hover:shadow-2xl hover:shadow-blue-500/15 dark:hover:shadow-blue-900/20 transition-all overflow-hidden",children:[g.jsx("div",{className:`absolute top-0 right-0 w-32 h-32 bg-gradient-to-br ${t.color.replace("bg-","from-").replace("-500","-500/10")} to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500 rounded-bl-full pointer-events-none`}),g.jsx(Te.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:m=>{m.preventDefault(),m.stopPropagation(),i(!0)},className:"absolute top-4 right-4 p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/30 dark:hover:text-blue-400 rounded-xl transition-colors opacity-0 group-hover:opacity-100 z-10",title:"Edit Subject",children:g.jsx(am,{className:"w-4 h-4"})}),g.jsxs("div",{className:"flex items-start justify-between mb-6 relative z-10",children:[g.jsx(Te.div,{whileHover:{rotate:15,scale:1.1},className:`w-14 h-14 rounded-2xl ${t.color} flex items-center justify-center text-white shadow-lg shadow-blue-500/20`,children:g.jsx(hs,{className:"w-7 h-7"})}),g.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700/50 backdrop-blur-sm px-3 py-1.5 rounded-xl text-xs font-bold text-slate-700 dark:text-slate-200 border border-slate-100 dark:border-slate-600",children:[d,"%"]})]}),g.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-2 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors line-clamp-1",children:t.name}),g.jsxs("div",{className:"flex items-center gap-3 text-sm text-slate-500 dark:text-slate-400 mb-6",children:[g.jsxs("div",{className:"flex items-center gap-1.5 bg-slate-50 dark:bg-slate-700/50 px-2 py-1 rounded-lg",children:[g.jsx(hs,{className:"w-3.5 h-3.5"}),g.jsx("span",{children:a})]}),l>0&&g.jsxs("div",{className:"flex items-center gap-1.5 bg-emerald-50 dark:bg-emerald-900/20 text-emerald-600 dark:text-emerald-400 px-2 py-1 rounded-lg",children:[g.jsx(Rl,{className:"w-3.5 h-3.5"}),g.jsx("span",{children:l})]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{className:"flex justify-between text-xs text-slate-400 dark:text-slate-500 font-medium",children:[g.jsx("span",{children:"Progress"}),g.jsxs("span",{children:[d,"%"]})]}),g.jsx("div",{className:"h-2.5 w-full bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden",children:g.jsx(Te.div,{initial:{width:0},animate:{width:`${d}%`},transition:{duration:1,delay:.5+e*.1,ease:"easeOut"},className:`h-full ${t.color} rounded-full`})})]}),g.jsxs("div",{className:"mt-5 pt-4 border-t border-slate-100 dark:border-slate-700 flex items-center justify-between text-sm",children:[g.jsx("span",{className:"text-slate-400 dark:text-slate-500 group-hover:text-slate-600 dark:group-hover:text-slate-300 transition-colors",children:"View Details"}),g.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-50 dark:bg-slate-700 flex items-center justify-center group-hover:bg-blue-600 group-hover:text-white transition-all duration-300",children:g.jsx(Ov,{className:"w-4 h-4"})})]})]}),n&&g.jsx(gk,{subject:t,onClose:()=>i(!1)})]})}const yE=["bg-blue-500","bg-emerald-500","bg-violet-500","bg-amber-500","bg-rose-500","bg-cyan-500","bg-fuchsia-500","bg-orange-500"];function Q8({onClose:t}){const{addSubject:e}=vn(),[n,i]=D.useState(""),[a,l]=D.useState(yE[0]),c=d=>{d.preventDefault(),n.trim()&&(e({name:n.trim(),color:a,icon:"book"}),t())};return g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm animate-in fade-in duration-200",children:g.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl w-full max-w-md overflow-hidden animate-in zoom-in-95 duration-200 transition-colors",children:[g.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-slate-100 dark:border-slate-700",children:[g.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white flex items-center gap-2 transition-colors",children:[g.jsx(EU,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),"Add New Subject"]}),g.jsx("button",{onClick:t,className:"p-2 text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full transition-colors",children:g.jsx(Wi,{className:"w-5 h-5"})})]}),g.jsxs("form",{onSubmit:c,className:"p-6 space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1 transition-colors",children:"Subject Name"}),g.jsx("input",{autoFocus:!0,type:"text",value:n,onChange:d=>i(d.target.value),placeholder:"e.g. Physics",className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all font-medium placeholder:font-normal placeholder:text-slate-400 dark:placeholder:text-slate-500"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2 transition-colors",children:"Color Tag"}),g.jsx("div",{className:"flex flex-wrap gap-2",children:yE.map(d=>g.jsx("button",{type:"button",onClick:()=>l(d),className:`w-8 h-8 rounded-full ${d} transition-all ${a===d?"ring-2 ring-offset-2 ring-slate-400 dark:ring-slate-500 scale-110":"hover:scale-105 opacity-80 hover:opacity-100"}`},d))})]}),g.jsx("div",{className:"pt-2",children:g.jsxs("button",{type:"submit",disabled:!n.trim(),className:"w-full bg-blue-600 hover:bg-blue-700 dark:bg-blue-600 dark:hover:bg-blue-500 disabled:opacity-50 disabled:cursor-not-allowed text-white font-medium py-3 rounded-xl flex items-center justify-center gap-2 transition-all active:scale-[0.98]",children:[g.jsx(Cf,{className:"w-5 h-5"}),"Create Subject"]})})]})]})})}const X8={start_strong:{icon:Rl,label:"Start Strong",description:"Completed your first topic!",color:"text-emerald-500 bg-emerald-100 dark:bg-emerald-900/30"},streak_master:{icon:lk,label:"Streak Master",description:"Studied for 3 days in a row.",color:"text-orange-500 bg-orange-100 dark:bg-orange-900/30"},subject_conqueror:{icon:sk,label:"Subject Conqueror",description:"Completed 100% of a subject.",color:"text-purple-500 bg-purple-100 dark:bg-purple-900/30"},night_owl:{icon:Af,label:"Night Owl",description:"Completed a session late at night (10PM - 4AM).",color:"text-blue-500 bg-blue-100 dark:bg-blue-900/30"}};function W8({type:t,isLocked:e=!1,dateEarned:n}){const i=X8[t],a=i.icon,[l,c]=D.useState(!1);return g.jsxs("div",{className:"relative flex flex-col items-center gap-2 group cursor-pointer",onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),onClick:()=>c(!l),children:[g.jsx(Te.div,{whileHover:{scale:1.05},className:`w-16 h-16 rounded-full flex items-center justify-center shadow-sm border-2 transition-colors ${e?"bg-slate-100 dark:bg-slate-800 border-slate-200 dark:border-slate-700 opacity-60 grayscale":`${i.color} border-transparent`}`,children:g.jsx(a,{className:`w-8 h-8 ${e?"text-slate-400":""}`})}),g.jsx("span",{className:`text-xs font-medium text-center max-w-[5rem] ${e?"text-slate-400":"text-slate-700 dark:text-slate-300"}`,children:i.label}),l&&g.jsxs(Te.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"absolute bottom-full mb-2 bg-slate-800 dark:bg-slate-700 text-white text-xs p-2 rounded-lg shadow-xl whitespace-nowrap z-50 pointer-events-none",children:[g.jsx("p",{className:"font-semibold",children:i.label}),g.jsx("p",{className:"text-slate-300",children:i.description}),!e&&n&&g.jsxs("p",{className:"text-slate-400 mt-1 text-[10px]",children:["Earned: ",new Date(n).toLocaleDateString()]})]})]})}function J8(){const{updateProfile:t}=vn(),[e,n]=D.useState(""),[i,a]=D.useState(""),l=c=>{if(c.preventDefault(),!e.trim()){alert("Please enter your name");return}t({name:e.trim(),grade:i.trim()||"Not specified"})};return g.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm",children:g.jsxs(Te.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-md overflow-hidden",children:[g.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-indigo-600 p-6 text-white",children:[g.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Welcome to TrackEd! "}),g.jsx("p",{className:"text-blue-100 text-sm",children:"Let's get started by setting up your profile"})]}),g.jsxs("form",{onSubmit:l,className:"p-6 space-y-5",children:[g.jsxs("div",{children:[g.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:[g.jsx(K0,{className:"w-4 h-4"}),"Your Name ",g.jsx("span",{className:"text-red-500",children:"*"})]}),g.jsx("input",{type:"text",value:e,onChange:c=>n(c.target.value),className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 transition-all placeholder:text-slate-400 dark:placeholder:text-slate-500",placeholder:"Enter your name",autoFocus:!0})]}),g.jsxs("div",{children:[g.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:[g.jsx(ck,{className:"w-4 h-4"}),"Class / Grade"]}),g.jsx("input",{type:"text",value:i,onChange:c=>a(c.target.value),className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 transition-all placeholder:text-slate-400 dark:placeholder:text-slate-500",placeholder:"e.g., HSC 2026, SSC 2024"})]}),g.jsx("div",{className:"pt-2",children:g.jsx("button",{type:"submit",className:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white font-semibold py-3 rounded-xl transition-all shadow-lg shadow-blue-500/25 active:scale-[0.98]",children:"Get Started"})}),g.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 text-center",children:"You can update these details anytime in Settings"})]})]})})}function Z8(){const{userProfile:t,updateProfile:e}=vn(),[n,i]=D.useState(!1),[a,l]=D.useState(t.dailyGoal?t.dailyGoal/3600:2),c=t.dailyGoal||7200,d=t.todayStudyTime||0,m=Math.min(100,Math.round(d/c*100)),p=()=>{e({dailyGoal:a*3600}),i(!1)};return g.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm md:h-full flex flex-col relative overflow-hidden",children:[g.jsxs("div",{className:"flex items-center justify-between mb-2 z-10",children:[g.jsxs("h3",{className:"text-slate-500 dark:text-slate-400 font-medium flex items-center gap-2 text-sm",children:[g.jsx(M8,{className:"w-4 h-4"}),"Daily Goal"]}),n?g.jsxs("button",{onClick:p,className:"text-xs text-green-600 dark:text-green-400 hover:underline flex items-center gap-1 font-bold",children:["Save ",g.jsx(rk,{className:"w-3 h-3"})]}):g.jsxs("button",{onClick:()=>i(!0),className:"text-xs text-blue-600 dark:text-blue-400 hover:underline flex items-center gap-1",children:["Edit ",g.jsx(d8,{className:"w-3 h-3"})]})]}),g.jsxs("div",{className:"flex-1 flex items-center justify-between z-10 mt-2",children:[g.jsxs("div",{className:"space-y-1",children:[n?g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("input",{type:"number",min:"0.5",max:"24",step:"0.5",value:a,onChange:v=>l(parseFloat(v.target.value)),className:"w-16 p-1 border rounded text-lg font-bold bg-slate-50 dark:bg-slate-700 dark:text-white",autoFocus:!0}),g.jsx("span",{className:"text-slate-500",children:"hrs"})]}):g.jsxs("div",{className:"text-3xl font-bold text-slate-800 dark:text-white",children:[Math.floor(d/3600),g.jsx("span",{className:"text-lg text-slate-400 font-normal",children:"h"})," ",Math.floor(d%3600/60),g.jsx("span",{className:"text-lg text-slate-400 font-normal",children:"m"})]}),g.jsxs("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:["of ",Math.floor(c/3600),"h goal"]})]}),g.jsxs("div",{className:"relative w-20 h-20 flex-shrink-0",children:[g.jsxs("svg",{className:"w-full h-full transform -rotate-90",children:[g.jsx("circle",{cx:"40",cy:"40",r:"36",stroke:"currentColor",strokeWidth:"8",fill:"transparent",className:"text-slate-100 dark:text-slate-700"}),g.jsx(Te.circle,{initial:{strokeDashoffset:226},animate:{strokeDashoffset:226-226*m/100},transition:{duration:1,ease:"easeOut"},cx:"40",cy:"40",r:"36",stroke:"currentColor",strokeWidth:"8",fill:"transparent",strokeDasharray:"226",strokeLinecap:"round",className:`${m>=100?"text-green-500":"text-blue-500"}`})]}),g.jsxs("div",{className:"absolute inset-0 flex items-center justify-center text-xs font-bold text-slate-700 dark:text-slate-300",children:[m,"%"]})]})]}),m>=100&&g.jsxs(Te.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"absolute inset-0 bg-green-50/90 dark:bg-green-900/90 flex items-center justify-center flex-col z-20 backdrop-blur-sm",children:[g.jsx(pl,{className:"w-10 h-10 text-green-600 dark:text-green-400 mb-2"}),g.jsx("span",{className:"text-green-800 dark:text-green-100 font-bold",children:"Goal Reached!"})]})]})}function e7(){const{subjects:t}=vn();let e=null,n=null,i=null;for(const a of t)if(a.chapters.some(c=>!c.isCompleted&&(!c.topics.length||c.topics.some(d=>!d.isCompleted)))){e=a;for(const c of a.chapters)if(!c.isCompleted)if(c.topics.length>0){const d=c.topics.find(m=>!m.isCompleted);if(d){n=c,i=d;break}}else{n=c;break}break}return!e||!n?g.jsxs("div",{className:"bg-gradient-to-r from-emerald-500 to-teal-600 rounded-2xl p-6 text-white shadow-lg shadow-emerald-500/20 flex flex-col items-center justify-center text-center h-full min-h-[160px]",children:[g.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center mb-3 text-2xl",children:""}),g.jsx("h3",{className:"font-bold text-xl mb-1",children:"All Caught Up!"}),g.jsx("p",{className:"text-emerald-100 text-sm",children:"You've completed everything in your syllabus."}),g.jsx("div",{className:"mt-4 px-4 py-2 bg-white/20 rounded-lg text-sm font-medium backdrop-blur-sm",children:"Time to review or rest!"})]}):g.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm relative overflow-hidden h-full flex flex-col justify-between group",children:[g.jsxs("div",{className:"relative z-10",children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsxs("h3",{className:"text-slate-500 dark:text-slate-400 font-medium flex items-center gap-2 text-sm",children:[g.jsx(dk,{className:"w-4 h-4 text-blue-500 fill-current"}),"Continue Learning"]}),g.jsx("span",{className:`text-xs font-semibold px-2 py-1 rounded-full text-white ${e.color}`,children:e.name})]}),g.jsxs("div",{className:"mb-4",children:[g.jsx("h4",{className:"text-xl font-bold text-slate-800 dark:text-white line-clamp-1 mb-1",children:i?i.name:n.name}),g.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 flex items-center gap-2",children:[g.jsx(hs,{className:"w-3.5 h-3.5"}),n.name]})]})]}),g.jsx("div",{className:"relative z-10",children:g.jsxs(on,{to:`/subject/${e.id}`,className:"flex items-center justify-center gap-2 w-full py-2.5 bg-slate-900 hover:bg-slate-800 dark:bg-slate-700 dark:hover:bg-slate-600 text-white rounded-xl font-medium transition-all group-hover:translate-x-1",children:["Resume Study ",g.jsx(Ov,{className:"w-4 h-4"})]})}),g.jsx("div",{className:`absolute top-0 right-0 w-32 h-32 opacity-10 rounded-full blur-2xl -translate-y-1/2 translate-x-1/2 ${e.color.replace("text-","bg-")}`})]})}const Ad=[{text:"The expert in anything was once a beginner.",author:"Helen Hayes"},{text:"It always seems impossible until it's done.",author:"Nelson Mandela"},{text:"Don't watch the clock; do what it does. Keep going.",author:"Sam Levenson"},{text:"Success is the sum of small efforts, repeated day in and day out.",author:"Robert Collier"},{text:"There is no substitute for hard work.",author:"Thomas Edison"},{text:"The future depends on what you do today.",author:"Mahatma Gandhi"},{text:"Believe you can and you're halfway there.",author:"Theodore Roosevelt"},{text:"Quality is not an act, it is a habit.",author:"Aristotle"},{text:"Your limitationit's only your imagination.",author:"Unknown"},{text:"Push yourself, because no one else is going to do it for you.",author:"Unknown"},{text:"Great things never come from comfort zones.",author:"Unknown"},{text:"Dream it. Wish it. Do it.",author:"Unknown"},{text:"Success doesn't just find you. You have to go out and get it.",author:"Unknown"},{text:"The harder you work for something, the greater you'll feel when you achieve it.",author:"Unknown"},{text:"Dream bigger. Do bigger.",author:"Unknown"},{text:"Don't stop when you're tired. Stop when you're done.",author:"Unknown"},{text:"Wake up with determination. Go to bed with satisfaction.",author:"Unknown"},{text:"Do something today that your future self will thank you for.",author:"Unknown"},{text:"Little things make big days.",author:"Unknown"},{text:"It's going to be hard, but hard does not mean impossible.",author:"Unknown"}];function t7(){const[t,e]=D.useState(()=>Math.floor(Math.random()*Ad.length)),n=()=>{e(i=>(i+1)%Ad.length)};return g.jsxs("div",{className:"bg-gradient-to-br from-indigo-500 to-purple-600 rounded-2xl p-6 text-white relative overflow-hidden shadow-lg shadow-indigo-500/20 md:h-full flex flex-col justify-between",children:[g.jsxs("div",{className:"flex items-start justify-between mb-4",children:[g.jsx("div",{className:"p-2 bg-white/20 backdrop-blur-sm rounded-lg",children:g.jsx(y8,{className:"w-5 h-5 text-white"})}),g.jsx("button",{onClick:n,className:"p-2 text-white/50 hover:text-white hover:bg-white/10 rounded-full transition-colors",title:"Next Quote",children:g.jsx(b8,{className:"w-4 h-4"})})]}),g.jsx($n,{mode:"wait",children:g.jsxs(Te.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},children:[g.jsxs("p",{className:"text-lg md:text-xl font-medium mb-3 leading-relaxed",children:['"',Ad[t].text,'"']}),g.jsxs("p",{className:"text-indigo-200 text-sm font-medium",children:[" ",Ad[t].author]})]},t)}),g.jsx("div",{className:"absolute -bottom-4 -right-4 w-24 h-24 bg-white/10 rounded-full blur-xl"}),g.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-purple-500/20 rounded-full blur-2xl"})]})}const vE={hidden:{opacity:0,y:10},show:{opacity:1,y:0,transition:{duration:.4,when:"beforeChildren",staggerChildren:.1}},exit:{opacity:0,y:-10}},Yg={hidden:{opacity:0,y:20},show:{opacity:1,y:0,transition:{type:"spring",stiffness:100,damping:12}}};function n7(){const{userProfile:t,subjects:e}=vn(),[n,i]=D.useState(!1),a=t.name==="Student",l=e.reduce((p,v)=>p+v.chapters.length,0),c=e.reduce((p,v)=>p+v.chapters.filter(b=>b.isCompleted).length,0);let d=0;e.forEach(p=>{p.chapters.forEach(v=>{v.topics&&v.topics.length>0?d+=v.topics.filter(b=>b.isCompleted).length/v.topics.length*100:d+=v.isCompleted?100:0})});const m=l===0?0:Math.round(d/l);return g.jsxs(Te.div,{className:"space-y-6 md:space-y-8",variants:vE,initial:"hidden",animate:"show",exit:"exit",children:[g.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 mb-8",children:[g.jsxs("div",{children:[g.jsxs("h1",{className:"text-3xl md:text-4xl font-bold text-slate-800 dark:text-white transition-colors tracking-tight",children:["Hello, ",g.jsx("span",{className:"bg-gradient-to-r from-blue-600 to-teal-500 dark:from-blue-400 dark:to-teal-400 bg-clip-text text-transparent",children:t.name}),g.jsx("span",{className:"inline-block animate-wave ml-2",children:""})]}),g.jsxs("p",{className:"text-base text-slate-500 dark:text-slate-400 mt-2 transition-colors",children:[g.jsx("span",{className:"font-semibold text-slate-700 dark:text-slate-300 px-2 py-0.5 bg-slate-100 dark:bg-slate-800 rounded-md mr-2",children:t.grade}),"Ready to crush your goals today?"]})]}),g.jsxs(Te.button,{id:"add-subject-btn",whileHover:{scale:1.05,boxShadow:"0 10px 25px -5px rgba(37, 99, 235, 0.4)"},whileTap:{scale:.95},onClick:()=>i(!0),className:"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white px-6 py-3.5 rounded-2xl font-semibold flex items-center justify-center gap-2 shadow-lg shadow-blue-500/30 transition-all text-sm md:text-base w-full md:w-auto",children:[g.jsx(xu,{className:"w-5 h-5"}),"New Subject"]})]}),g.jsxs("div",{className:"flex overflow-x-auto snap-x snap-mandatory -mx-4 px-4 pb-4 gap-4 md:grid md:grid-cols-2 lg:grid-cols-3 md:mx-0 md:px-0 md:pb-0 md:overflow-visible no-scrollbar",children:[g.jsx("div",{className:"snap-center shrink-0 w-[85vw] md:w-auto lg:col-span-1 h-full",children:g.jsx(e7,{})}),g.jsxs("div",{className:"snap-center shrink-0 w-[85vw] md:w-auto grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-1 gap-4 lg:gap-6 h-full",children:[g.jsx(Z8,{}),g.jsx(t7,{})]}),g.jsx("div",{className:"snap-center shrink-0 w-[85vw] md:w-auto grid grid-cols-1 gap-4 lg:gap-6 h-full",children:g.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm relative overflow-hidden",children:[g.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-10",children:g.jsx(RU,{className:"w-32 h-32 text-blue-500"})}),g.jsxs("div",{className:"flex items-center justify-between relative z-10 h-full",children:[g.jsxs("div",{children:[g.jsxs("h3",{className:"text-slate-500 dark:text-slate-400 font-medium mb-1 flex items-center gap-2 text-sm",children:[g.jsx(pl,{className:"w-4 h-4 text-amber-500"})," Syllabus Progress"]}),g.jsxs("div",{className:"mt-4 space-y-3",children:[g.jsxs("div",{children:[g.jsxs("div",{className:"flex items-end gap-2 mb-1",children:[g.jsx("span",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:c}),g.jsxs("span",{className:"text-sm text-slate-400 dark:text-slate-500 mb-1",children:["/ ",l," Chapters"]})]}),g.jsx("div",{className:"h-2 w-full bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden",children:g.jsx(Te.div,{initial:{width:0},animate:{width:`${c/(l||1)*100}%`},className:"h-full bg-blue-500 rounded-full"})})]}),g.jsxs("div",{children:[g.jsxs("div",{className:"flex items-end gap-2 mb-1",children:[g.jsxs("span",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:[m,"%"]}),g.jsx("span",{className:"text-sm text-slate-400 dark:text-slate-500 mb-1",children:"Total Completion"})]}),g.jsx("div",{className:"h-2 w-full bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden",children:g.jsx(Te.div,{initial:{width:0},animate:{width:`${m}%`},className:"h-full bg-emerald-500 rounded-full"})})]})]})]}),g.jsxs("div",{className:"relative w-28 h-28 flex-shrink-0",children:[g.jsxs("svg",{className:"w-full h-full transform -rotate-90",viewBox:"0 0 100 100",children:[g.jsx("circle",{className:"text-slate-100 dark:text-slate-700",strokeWidth:"8",stroke:"currentColor",fill:"transparent",r:"40",cx:"50",cy:"50"}),g.jsx(Te.circle,{className:"text-blue-600 dark:text-blue-500 drop-shadow-lg",strokeWidth:"8",strokeDasharray:251.2,strokeDashoffset:251.2-251.2*m/100,strokeLinecap:"round",stroke:"currentColor",fill:"transparent",r:"40",cx:"50",cy:"50",initial:{strokeDashoffset:251.2},animate:{strokeDashoffset:251.2-251.2*m/100},transition:{duration:1.5,ease:"easeOut"}})]}),g.jsx("div",{className:"absolute top-0 left-0 w-full h-full flex items-center justify-center flex-col",children:g.jsxs("span",{className:"text-xl font-bold text-slate-800 dark:text-white",children:[m,"%"]})})]})]})]})})]}),t.earnedBadges&&t.earnedBadges.length>0&&g.jsxs(Te.div,{variants:Yg,className:"bg-white dark:bg-slate-800 rounded-2xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm transition-colors",children:[g.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4 flex items-center gap-2",children:[g.jsx(pl,{className:"w-5 h-5 text-yellow-500"}),"Recent Achievements"]}),g.jsx("div",{className:"flex flex-wrap gap-4",children:t.earnedBadges.map((p,v)=>g.jsx(W8,{type:p.type,dateEarned:p.earnedAt},`${p.type}-${v}`))})]}),g.jsxs("div",{children:[g.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4 flex items-center gap-2 transition-colors",children:["Your Subjects",g.jsx("span",{className:"text-sm font-normal text-slate-400 dark:text-slate-500 bg-slate-100 dark:bg-slate-800 px-2 py-0.5 rounded-full",children:e.length})]}),e.length>0?g.jsxs(Te.div,{variants:vE,initial:"hidden",animate:"show",className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.map((p,v)=>g.jsx(Te.div,{variants:Yg,children:g.jsx(Y8,{subject:p,index:v})},p.id)),g.jsxs(Te.button,{variants:Yg,whileHover:{scale:1.02,backgroundColor:"rgba(239, 246, 255, 0.5)"},whileTap:{scale:.98},onClick:()=>i(!0),className:"group border-2 border-dashed border-slate-200 dark:border-slate-700 rounded-2xl p-6 flex flex-col items-center justify-center text-slate-400 dark:text-slate-500 hover:border-blue-400 dark:hover:border-blue-500 hover:text-blue-600 dark:hover:text-blue-400 transition-all cursor-pointer h-full min-h-[180px] w-full",children:[g.jsx("div",{className:"w-12 h-12 rounded-full bg-slate-100 dark:bg-slate-800 group-hover:bg-blue-100 dark:group-hover:bg-blue-900/20 flex items-center justify-center mb-3 transition-colors",children:g.jsx(xu,{className:"w-6 h-6"})}),g.jsx("span",{className:"font-medium",children:"Add Another Subject"})]})]}):g.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-16 bg-white dark:bg-slate-800 rounded-2xl border border-dashed border-slate-200 dark:border-slate-700 transition-colors",children:[g.jsx("div",{className:"w-16 h-16 bg-slate-50 dark:bg-slate-700 rounded-full flex items-center justify-center mx-auto mb-4",children:g.jsx(ik,{className:"w-8 h-8 text-slate-300 dark:text-slate-500"})}),g.jsx("h3",{className:"text-lg font-semibold text-slate-700 dark:text-slate-200 mb-2",children:"No subjects yet"}),g.jsx("p",{className:"text-slate-500 dark:text-slate-400 max-w-sm mx-auto mb-6",children:"Start by adding the subjects you want to track to organize your study plan."}),g.jsx("button",{onClick:()=>i(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2.5 rounded-xl font-medium transition-all",children:"Add Your First Subject"})]})]}),n&&g.jsx(Q8,{onClose:()=>i(!1)}),a&&g.jsx(J8,{})]})}function s7({subjectId:t,onClose:e}){const{addChapter:n}=vn(),[i,a]=D.useState(""),l=c=>{c.preventDefault(),i.trim()&&(n(t,i.trim()),a(""))};return g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm animate-in fade-in duration-200",children:g.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl w-full max-w-md overflow-hidden animate-in zoom-in-95 duration-200 transition-colors",children:[g.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-slate-100 dark:border-slate-700",children:[g.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white flex items-center gap-2 transition-colors",children:[g.jsx(ik,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),"Add Chapters"]}),g.jsx("button",{onClick:e,className:"p-2 text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full transition-colors",children:g.jsx(Wi,{className:"w-5 h-5"})})]}),g.jsxs("form",{onSubmit:l,className:"p-6 space-y-4",children:[g.jsxs("div",{children:[g.jsxs("div",{className:"flex justify-between items-center mb-1",children:[g.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 transition-colors",children:"Chapter Name / Topic"}),g.jsx("span",{className:"text-xs text-slate-400 dark:text-slate-500 transition-colors",children:"Press Enter to add & continue"})]}),g.jsx("input",{autoFocus:!0,type:"text",value:i,onChange:c=>a(c.target.value),placeholder:"e.g. Newton's Laws",className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all placeholder:text-slate-400 dark:placeholder:text-slate-500"})]}),g.jsxs("div",{className:"flex gap-3 pt-2",children:[g.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-3 border border-slate-200 dark:border-slate-600 text-slate-600 dark:text-slate-300 font-medium rounded-xl hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",children:"Done"}),g.jsxs("button",{type:"submit",disabled:!i.trim(),className:"flex-1 bg-blue-600 hover:bg-blue-700 dark:bg-blue-600 dark:hover:bg-blue-500 disabled:opacity-50 disabled:cursor-not-allowed text-white font-medium py-3 rounded-xl flex items-center justify-center gap-2 transition-all active:scale-[0.98]",children:[g.jsx(xu,{className:"w-5 h-5"}),"Add"]})]})]})]})})}const i7={initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10}};function om({children:t,className:e=""}){return g.jsx(Te.div,{variants:i7,initial:"initial",animate:"animate",exit:"exit",transition:{duration:.3,ease:"easeOut"},className:e,children:t})}const yk=D.createContext(void 0);function r7({children:t}){const[e,n]=D.useState(()=>typeof window<"u"?localStorage.getItem("sound-muted")==="true":!1),i=D.useRef(null);D.useEffect(()=>{localStorage.setItem("sound-muted",String(e))},[e]);const a=()=>{i.current||(i.current=new(window.AudioContext||window.webkitAudioContext)),i.current.state==="suspended"&&i.current.resume()},l=p=>{if(e)return;i.current||(i.current=new(window.AudioContext||window.webkitAudioContext));const v=i.current,b=v.createOscillator(),w=v.createGain();b.connect(w),w.connect(v.destination);const C=v.currentTime;switch(p){case"pop":b.type="sine",b.frequency.setValueAtTime(800,C),b.frequency.exponentialRampToValueAtTime(1200,C+.1),w.gain.setValueAtTime(.1,C),w.gain.exponentialRampToValueAtTime(.01,C+.1),b.start(C),b.stop(C+.1);break;case"success":c(v,523.25,C,.1,"sine"),c(v,659.25,C+.1,.1,"sine"),c(v,783.99,C+.2,.2,"sine");break;case"complete":b.type="triangle",b.frequency.setValueAtTime(440,C),b.frequency.linearRampToValueAtTime(880,C+.5),w.gain.setValueAtTime(.1,C),w.gain.linearRampToValueAtTime(.3,C+.2),w.gain.linearRampToValueAtTime(0,C+1.5),b.start(C),b.stop(C+1.5);break;case"click":b.type="square",b.frequency.setValueAtTime(200,C),w.gain.setValueAtTime(.05,C),w.gain.exponentialRampToValueAtTime(.01,C+.05),b.start(C),b.stop(C+.05);break;case"error":b.type="sawtooth",b.frequency.setValueAtTime(150,C),b.frequency.linearRampToValueAtTime(100,C+.2),w.gain.setValueAtTime(.1,C),w.gain.linearRampToValueAtTime(0,C+.3),b.start(C),b.stop(C+.3);break}},c=(p,v,b,w,C="sine")=>{const M=p.createOscillator(),P=p.createGain();M.connect(P),P.connect(p.destination),M.type=C,M.frequency.setValueAtTime(v,b),P.gain.setValueAtTime(.1,b),P.gain.exponentialRampToValueAtTime(.01,b+w),M.start(b),M.stop(b+w)},d=p=>{i.current?.state==="suspended"&&i.current.resume().catch(()=>{}),l(p)},m=()=>{n(p=>!p),e&&a()};return g.jsx(yk.Provider,{value:{isMuted:e,toggleMute:m,playSound:d},children:t})}function Pv(){const t=D.useContext(yk);if(t===void 0)throw new Error("useSound must be used within a SoundProvider");return t}function a7({subjectId:t,chapterId:e,topicId:n,currentName:i,onClose:a}){const{editTopic:l}=vn(),[c,d]=D.useState(i);D.useEffect(()=>{d(i)},[i]);const m=p=>{p.preventDefault(),c.trim()&&(l(t,e,n,c.trim()),a())};return g.jsx($n,{children:g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:g.jsxs(Te.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white dark:bg-slate-800 rounded-2xl w-full max-w-sm shadow-xl border border-slate-100 dark:border-slate-700 overflow-hidden",children:[g.jsxs("div",{className:"p-4 border-b border-slate-100 dark:border-slate-700 flex items-center justify-between bg-slate-50/50 dark:bg-slate-800/50",children:[g.jsx("h2",{className:"text-lg font-bold text-slate-800 dark:text-white",children:"Edit Topic"}),g.jsx("button",{onClick:a,className:"p-1 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 transition-colors rounded-full hover:bg-slate-100 dark:hover:bg-slate-700",children:g.jsx(Wi,{className:"w-5 h-5"})})]}),g.jsxs("form",{onSubmit:m,className:"p-6 space-y-6",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Topic Name"}),g.jsxs("div",{className:"relative",children:[g.jsx(hk,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),g.jsx("input",{type:"text",value:c,onChange:p=>d(p.target.value),placeholder:"e.g. Algebra Basics",className:"w-full bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl py-3 pl-10 pr-4 text-slate-800 dark:text-white placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all",autoFocus:!0})]})]}),g.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[g.jsx("button",{type:"button",onClick:a,className:"px-4 py-2 text-slate-600 dark:text-slate-400 font-medium hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:"Cancel"}),g.jsx("button",{type:"submit",disabled:!c.trim(),className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg shadow-sm shadow-blue-500/20 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:"Save Changes"})]})]})]})})})}function o7({subjectId:t,chapterId:e,topic:n}){const{toggleTopic:i,deleteTopic:a}=vn(),{playSound:l}=Pv(),[c,d]=D.useState(!1);return g.jsxs(g.Fragment,{children:[g.jsxs(Te.div,{layout:!0,initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:-10},className:"flex items-center gap-3 py-2 pl-4 pr-2 group/topic hover:bg-slate-50 dark:hover:bg-slate-700/50 rounded-lg transition-colors ml-8 border-l border-slate-100 dark:border-slate-700",children:[g.jsx(Te.button,{whileTap:{scale:.8},onClick:()=>{i(t,e,n.id),n.isCompleted||l("pop")},className:`flex-shrink-0 w-4 h-4 rounded-full border flex items-center justify-center transition-colors ${n.isCompleted?"border-emerald-500 bg-emerald-500 text-white":"border-slate-300 dark:border-slate-500 text-transparent hover:border-slate-400 dark:hover:border-slate-400"}`,children:g.jsx(Rl,{className:"w-3 h-3"})}),g.jsx("span",{className:`flex-1 text-sm font-google-sans transition-all ${n.isCompleted?"text-slate-400 line-through":"text-slate-600 dark:text-slate-300"}`,children:n.name}),g.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover/topic:opacity-100 transition-opacity",children:[g.jsx("button",{onClick:()=>d(!0),className:"p-1.5 text-slate-300 hover:text-amber-500 dark:text-slate-600 dark:hover:text-amber-400 transition-all",title:"Edit Topic",children:g.jsx(am,{className:"w-3.5 h-3.5"})}),g.jsx("button",{onClick:()=>confirm("Delete this topic?")&&a(t,e,n.id),className:"p-1.5 text-slate-300 hover:text-red-500 dark:text-slate-600 dark:hover:text-red-400 transition-all",title:"Delete Topic",children:g.jsx(Lu,{className:"w-3.5 h-3.5"})})]})]}),c&&g.jsx(a7,{subjectId:t,chapterId:e,topicId:n.id,currentName:n.name,onClose:()=>d(!1)})]})}function l7({subjectId:t,chapterId:e,currentName:n,onClose:i}){const{editChapter:a}=vn(),[l,c]=D.useState(n);D.useEffect(()=>{c(n)},[n]);const d=m=>{m.preventDefault(),l.trim()&&(a(t,e,l.trim()),i())};return g.jsx($n,{children:g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:g.jsxs(Te.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white dark:bg-slate-800 rounded-2xl w-full max-w-md shadow-xl border border-slate-100 dark:border-slate-700 overflow-hidden",children:[g.jsxs("div",{className:"p-4 border-b border-slate-100 dark:border-slate-700 flex items-center justify-between bg-slate-50/50 dark:bg-slate-800/50",children:[g.jsx("h2",{className:"text-lg font-bold text-slate-800 dark:text-white",children:"Edit Chapter"}),g.jsx("button",{onClick:i,className:"p-1 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 transition-colors rounded-full hover:bg-slate-100 dark:hover:bg-slate-700",children:g.jsx(Wi,{className:"w-5 h-5"})})]}),g.jsxs("form",{onSubmit:d,className:"p-6 space-y-6",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Chapter Name"}),g.jsxs("div",{className:"relative",children:[g.jsx(hk,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),g.jsx("input",{type:"text",value:l,onChange:m=>c(m.target.value),placeholder:"e.g. Differentiation",className:"w-full bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl py-3 pl-10 pr-4 text-slate-800 dark:text-white placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all",autoFocus:!0})]})]}),g.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[g.jsx("button",{type:"button",onClick:i,className:"px-4 py-2 text-slate-600 dark:text-slate-400 font-medium hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:"Cancel"}),g.jsx("button",{type:"submit",disabled:!l.trim(),className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg shadow-sm shadow-blue-500/20 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:"Save Changes"})]})]})]})})})}function c7({subjectId:t,chapter:e,isExpanded:n,onToggle:i}){const{deleteChapter:a,addTopic:l}=vn(),[c,d]=D.useState(!1),[m,p]=D.useState(!1),v=b=>{b.preventDefault();const w=b.target.elements.namedItem("topicName");w.value.trim()&&(l(t,e.id,w.value.trim()),w.value="",d(!1))};return g.jsxs("div",{className:"group transition-colors",children:[g.jsxs("div",{className:`flex items-center gap-3 p-4 pr-14 relative hover:bg-slate-50/80 dark:hover:bg-slate-700/50 cursor-pointer transition-colors ${e.isCompleted?"bg-slate-50/30 dark:bg-slate-700/30":""}`,onClick:i,children:[g.jsx("button",{className:"p-1 text-slate-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:g.jsx(Te.div,{animate:{rotate:n?180:0},transition:{duration:.2},children:g.jsx(jU,{className:"w-5 h-5"})})}),g.jsxs("div",{className:"flex-1",children:[g.jsx("span",{className:`block font-bold text-lg transition-all ${e.isCompleted?"text-emerald-700 dark:text-emerald-400":"text-slate-800 dark:text-slate-200"}`,children:e.name}),g.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[g.jsxs("span",{className:"text-xs text-slate-400 dark:text-slate-500 font-medium whitespace-nowrap transition-colors",children:[e.topics?.filter(b=>b.isCompleted).length||0,"/",e.topics?.length||0," Topics",e.isCompleted&&g.jsxs("span",{className:"text-emerald-600 dark:text-emerald-400 ml-2 font-bold inline-flex items-center gap-1",children:[g.jsx(Rl,{className:"w-3 h-3"})," Done"]})]}),e.topics&&e.topics.length>0&&g.jsx("div",{className:"h-1.5 w-24 bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden flex-shrink-0 transition-colors",children:g.jsx(Te.div,{initial:{width:0},animate:{width:`${Math.round(e.topics.filter(b=>b.isCompleted).length/e.topics.length*100)}%`},transition:{duration:.5,ease:"easeOut"},className:`h-full ${e.isCompleted?"bg-emerald-500":"bg-blue-500"}`})})]})]}),g.jsxs("div",{className:"flex items-center gap-2 absolute right-4 top-1/2 -translate-y-1/2",children:[g.jsx(Te.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:b=>{b.stopPropagation(),d(!0),n||i()},className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/30 dark:hover:text-blue-400 rounded-lg transition-colors",title:"Add Topic",children:g.jsx(xu,{className:"w-4 h-4"})}),g.jsx(Te.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:b=>{b.stopPropagation(),p(!0)},className:"p-2 text-slate-400 hover:text-amber-500 hover:bg-amber-50 dark:hover:bg-amber-900/30 dark:hover:text-amber-400 rounded-lg transition-colors",title:"Edit Chapter",children:g.jsx(am,{className:"w-4 h-4"})}),g.jsx(Te.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:b=>{b.stopPropagation(),confirm("Delete this chapter?")&&a(t,e.id)},className:"p-2 text-slate-300 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/30 dark:hover:text-red-400 rounded-lg transition-colors",title:"Delete Chapter",children:g.jsx(Lu,{className:"w-4 h-4"})})]})]}),g.jsx($n,{children:n&&g.jsx(Te.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2,ease:"easeInOut"},className:"overflow-hidden bg-slate-50/50 dark:bg-slate-800/50 transition-colors",children:g.jsxs("div",{className:"pb-2",children:[e.topics&&e.topics.length>0?e.topics.map(b=>g.jsx(o7,{subjectId:t,chapterId:e.id,topic:b},b.id)):g.jsx("div",{className:"pl-12 py-3 text-sm text-slate-400 italic",children:"No topics yet. Click + to add one."}),c&&g.jsxs(Te.form,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},onSubmit:v,className:"pl-12 pr-4 py-2 flex items-center gap-2",children:[g.jsx(zU,{className:"w-4 h-4 text-slate-300 dark:text-slate-500"}),g.jsx("input",{autoFocus:!0,name:"topicName",type:"text",placeholder:"Topic name...",className:"flex-1 bg-white dark:bg-slate-700 px-3 py-1.5 rounded-lg border border-slate-200 dark:border-slate-600 text-sm text-slate-800 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-colors",onBlur:()=>setTimeout(()=>d(!1),200)}),g.jsx("button",{type:"submit",className:"hidden",children:"Add"})]})]})})}),m&&g.jsx(l7,{subjectId:t,chapterId:e.id,currentName:e.name,onClose:()=>p(!1)})]})}function u7(){const{id:t}=iI(),e=Rf(),{subjects:n,deleteSubject:i}=vn(),[a,l]=D.useState(!1),[c,d]=D.useState(!1),[m,p]=D.useState({}),v=n.find(U=>U.id===t);if(!v)return g.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[50vh] text-center p-8",children:[g.jsx("div",{className:"w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mb-4",children:g.jsx(hs,{className:"w-8 h-8 text-slate-300"})}),g.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Subject Not Found"}),g.jsx(on,{to:"/",className:"mt-4 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Go Back Home"})]});const b=()=>{confirm(`Are you sure you want to delete ${v.name}? ALL progress will be lost.`)&&(i(v.id),e("/"))},w=U=>{p(F=>({...F,[U]:!F[U]}))},C=v.chapters.length,M=v.chapters.filter(U=>U.isCompleted).length;let P=0;v.chapters.forEach(U=>{U.topics&&U.topics.length>0?P+=U.topics.filter(F=>F.isCompleted).length/U.topics.length*100:P+=U.isCompleted?100:0});const O=C===0?0:Math.round(P/C);return g.jsxs(om,{className:"max-w-3xl mx-auto pb-12",children:[g.jsxs("div",{className:"mb-8",children:[g.jsxs(on,{to:"/",className:"inline-flex items-center gap-2 text-slate-500 hover:text-slate-800 dark:text-slate-400 dark:hover:text-slate-200 mb-6 transition-colors group",children:[g.jsx(mU,{className:"w-4 h-4 group-hover:-translate-x-1 transition-transform"}),"Back to Dashboard"]}),g.jsxs("div",{className:"flex flex-col md:flex-row md:items-start justify-between gap-4",children:[g.jsxs("div",{children:[g.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1 rounded-full text-xs font-semibold text-white mb-3 ${v.color}`,children:[g.jsx(hs,{className:"w-3 h-3"}),v.name]}),g.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-800 dark:text-white transition-colors",children:v.name}),g.jsxs("p",{className:"text-slate-500 dark:text-slate-400 mt-2 transition-colors",children:[M," of ",C," chapters completed"]})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("button",{onClick:()=>d(!0),className:"text-slate-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/30 dark:hover:text-blue-400 p-2 rounded-lg transition-colors",title:"Edit Subject",children:g.jsx(am,{className:"w-5 h-5"})}),g.jsx("button",{onClick:b,className:"text-red-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/30 dark:hover:text-red-400 p-2 rounded-lg transition-colors",title:"Delete Subject",children:g.jsx(Lu,{className:"w-5 h-5"})})]})]}),g.jsxs("div",{className:"mt-6",children:[g.jsxs("div",{className:"flex justify-between items-end mb-2",children:[g.jsxs("span",{className:"text-3xl font-bold text-slate-800 dark:text-white transition-colors",children:[O,"%"]}),g.jsx("span",{className:"text-sm font-medium text-slate-400 dark:text-slate-500 transition-colors",children:"Progress"})]}),g.jsx("div",{className:"h-3 w-full bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden transition-colors",children:g.jsx(Te.div,{initial:{width:0},animate:{width:`${O}%`},transition:{duration:1,ease:"easeOut"},className:`h-full ${v.color}`})})]})]}),g.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl border border-slate-100 dark:border-slate-700 shadow-sm overflow-hidden transition-colors",children:[g.jsxs("div",{className:"p-6 border-b border-slate-50 dark:border-slate-700 flex items-center justify-between bg-slate-50/50 dark:bg-slate-700/30 transition-colors",children:[g.jsx("h2",{className:"text-lg font-bold text-slate-800 dark:text-white transition-colors",children:"Syllabus / Chapters"}),g.jsxs(Te.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>l(!0),className:"bg-slate-900 hover:bg-slate-800 dark:bg-slate-700 dark:hover:bg-slate-600 text-white px-4 py-2 rounded-lg text-sm font-medium flex items-center gap-2 transition-colors",children:[g.jsx(xu,{className:"w-4 h-4"}),"Add Chapter"]})]}),g.jsx("div",{className:"divide-y divide-slate-50 dark:divide-slate-700 transition-colors",children:v.chapters.length>0?v.chapters.map(U=>g.jsx(c7,{subjectId:v.id,chapter:U,isExpanded:!!m[U.id],onToggle:()=>w(U.id)},U.id)):g.jsxs("div",{className:"p-12 text-center",children:[g.jsx("div",{className:"w-16 h-16 bg-slate-50 dark:bg-slate-700/50 rounded-full flex items-center justify-center mx-auto mb-3 transition-colors",children:g.jsx(hs,{className:"w-6 h-6 text-slate-300 dark:text-slate-500"})}),g.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-4 transition-colors",children:"No chapters added yet."}),g.jsx("button",{onClick:()=>l(!0),className:"text-blue-600 dark:text-blue-400 font-medium hover:underline transition-colors",children:"Add your first chapter"})]})})]}),a&&g.jsx(s7,{subjectId:v.id,onClose:()=>l(!1)}),c&&g.jsx(gk,{subject:v,onClose:()=>d(!1)})]})}const vk=D.createContext(void 0);function h7({children:t}){const[e,n]=D.useState(()=>typeof window<"u"&&localStorage.getItem("theme")?localStorage.getItem("theme"):typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");D.useEffect(()=>{const a=window.document.documentElement;a.classList.remove("light","dark"),a.classList.add(e),localStorage.setItem("theme",e)},[e]);const i=()=>{n(a=>a==="light"?"dark":"light")};return g.jsx(vk.Provider,{value:{theme:e,toggleTheme:i},children:t})}function bk(){const t=D.useContext(vk);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t}function d7({onClose:t}){const[e,n]=D.useState(su[0].id),[i,a]=D.useState(new Set),l=su.find(m=>m.id===e),c=m=>{const p=new Set(i);p.has(m)?p.delete(m):p.add(m),a(p)},d=()=>{if(l)if(i.size===l.subjects.length)a(new Set);else{const m=new Set(l.subjects.map(p=>p.name));a(m)}};return g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm animate-in fade-in duration-200",children:g.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl w-full max-w-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[g.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-slate-100 dark:border-slate-700",children:[g.jsxs("div",{children:[g.jsxs("h3",{className:"text-xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[g.jsx(hs,{className:"w-6 h-6 text-blue-600"}),"Import Syllabus"]}),g.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:"Select a curriculum to quick-start your study plan."})]}),g.jsx("button",{onClick:t,className:"p-2 text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full transition-colors",children:g.jsx(Wi,{className:"w-5 h-5"})})]}),g.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col md:flex-row",children:[g.jsxs("div",{className:"w-full md:w-48 bg-slate-50 dark:bg-slate-900/50 border-r border-slate-100 dark:border-slate-700 p-4",children:[g.jsx("h4",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider mb-3",children:"Curriculums"}),g.jsx("div",{className:"space-y-2",children:su.map(m=>g.jsx("button",{onClick:()=>{n(m.id),a(new Set)},className:`w-full text-left px-3 py-2 rounded-lg text-sm font-medium transition-colors ${e===m.id?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400":"text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800"}`,children:m.name},m.id))})]}),g.jsxs("div",{className:"flex-1 p-6 overflow-y-auto",children:[g.jsxs("div",{className:"flex justify-between items-center mb-4",children:[g.jsxs("h4",{className:"font-semibold text-slate-800 dark:text-white",children:[l?.name," Subjects"]}),g.jsx("button",{onClick:d,className:"text-xs font-medium text-blue-600 dark:text-blue-400 hover:underline",children:i.size===l?.subjects.length?"Deselect All":"Select All"})]}),g.jsx("div",{className:"space-y-3",children:l?.subjects.map(m=>g.jsxs("div",{onClick:()=>c(m.name),className:`relative flex items-start gap-4 p-4 rounded-xl border cursor-pointer transition-all ${i.has(m.name)?"border-blue-500 bg-blue-50/50 dark:bg-blue-900/10":"border-slate-200 dark:border-slate-700 hover:border-slate-300 dark:hover:border-slate-600"}`,children:[g.jsx("div",{className:`mt-1 flex-shrink-0 w-5 h-5 rounded border flex items-center justify-center transition-colors ${i.has(m.name)?"bg-blue-500 border-blue-500":"bg-white dark:bg-slate-800 border-slate-300 dark:border-slate-600"}`,children:i.has(m.name)&&g.jsx(rk,{className:"w-3.5 h-3.5 text-white"})}),g.jsxs("div",{className:"flex-1",children:[g.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[g.jsx("span",{className:`font-semibold ${i.has(m.name)?"text-blue-700 dark:text-blue-300":"text-slate-700 dark:text-slate-300"}`,children:m.name}),g.jsxs("span",{className:"text-xs px-2 py-0.5 rounded-full bg-slate-100 dark:bg-slate-700 text-slate-500",children:[m.chapters.length," Chapters"]})]}),g.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 line-clamp-1",children:[m.chapters.slice(0,3).map(p=>p.name).join(", "),"..."]})]})]},m.name))})]})]}),g.jsxs("div",{className:"p-6 border-t border-slate-100 dark:border-slate-700 flex justify-end gap-3 bg-slate-50/50 dark:bg-slate-900/50",children:[g.jsx("button",{onClick:t,className:"px-5 py-2.5 rounded-xl font-medium text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors",children:"Cancel"}),g.jsx(f7,{count:i.size,currentTemplate:l,selectedSubjects:i,onClose:t})]})]})})}function f7({count:t,currentTemplate:e,selectedSubjects:n,onClose:i}){const{importSyllabusData:a}=vn(),l=()=>{if(t===0||!e)return;const c=e.subjects.filter(d=>n.has(d.name));a(c),i()};return g.jsxs("button",{onClick:l,disabled:t===0,className:"px-6 py-2.5 rounded-xl font-medium bg-blue-600 hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed text-white shadow-lg shadow-blue-500/20 transition-all active:scale-95 flex items-center gap-2",children:[g.jsx(ok,{className:"w-4 h-4"}),"Import ",t>0?`${t} Subjects`:""]})}function m7(){const{user:t,logout:e}=Ja(),{userProfile:n,updateProfile:i,resetData:a,exportData:l,importData:c}=vn(),{isMuted:d,toggleMute:m}=Pv(),{theme:p,toggleTheme:v}=bk(),b=D.useRef(null),w=D.useRef(null),[C,M]=D.useState(!1),[P,O]=D.useState(!1),[U,F]=D.useState("Notification"in window&&Notification.permission==="granted"),$=()=>{const j=b.current?.value.trim()||"",E=w.current?.value.trim()||"";if(!j){alert("Please enter your name");return}i({name:j,grade:E}),O(!1),alert(` Profile updated successfully!

You can update your profile anytime.`)},oe=()=>{const j=document.createElement("input");j.type="file",j.accept=".json",j.onchange=E=>{const S=E.target.files?.[0];if(S){const I=new FileReader;I.onload=k=>{const V=k.target?.result;c(V)&&alert("Data imported successfully!")},I.readAsText(S)}},j.click()},re=()=>{confirm("Do you want to restart the welcome tour?")&&(localStorage.removeItem("tracked_tour_completed"),window.location.reload())},ue=async()=>{if(!("Notification"in window)){alert("This browser does not support desktop notifications");return}if(Notification.permission==="granted")F(!U);else if(Notification.permission!=="denied"){const j=await Notification.requestPermission();F(j==="granted")}else alert("Notifications are blocked. Please enable them in your browser settings.")};return g.jsxs(om,{className:"max-w-2xl mx-auto space-y-8 pb-10",children:[g.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[g.jsx(K0,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"}),g.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-white transition-colors",children:"Settings"})]}),g.jsxs(Te.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden transition-colors",children:[g.jsx("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700",children:g.jsxs("h2",{className:"text-lg font-semibold text-slate-800 dark:text-white flex items-center gap-2",children:[g.jsx(K0,{className:"w-5 h-5 text-blue-500"}),"Profile Information"]})}),g.jsxs("div",{className:"p-6 space-y-4",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1 transition-colors",children:"Student Name"}),g.jsx("input",{ref:b,type:"text",defaultValue:n?.name||"",disabled:!P,className:`w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all placeholder:text-slate-400 dark:placeholder:text-slate-500 ${P?"":"opacity-60 cursor-not-allowed bg-slate-50 dark:bg-slate-800/50"}`,placeholder:"Enter your name"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1 transition-colors",children:"Class / Grade"}),g.jsx("input",{ref:w,type:"text",defaultValue:n?.grade||"",disabled:!P,className:`w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all placeholder:text-slate-400 dark:placeholder:text-slate-500 ${P?"":"opacity-60 cursor-not-allowed bg-slate-50 dark:bg-slate-800/50"}`,placeholder:"e.g. HSC 2026"})]})]}),g.jsx("div",{className:"pt-2 flex gap-3",children:P?g.jsxs(g.Fragment,{children:[g.jsx("button",{onClick:()=>O(!1),className:"px-5 py-2.5 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-200 font-medium rounded-lg hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors text-sm",children:"Cancel"}),g.jsxs("button",{onClick:$,className:"px-5 py-2.5 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition-colors flex items-center gap-2 text-sm shadow-sm",children:[g.jsx(Cf,{className:"w-4 h-4"}),"Save Changes"]})]}):g.jsxs("button",{onClick:()=>O(!0),className:"px-5 py-2.5 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-200 font-medium rounded-lg hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors flex items-center gap-2 text-sm",children:[g.jsx(pE,{className:"w-4 h-4"}),"Edit Profile"]})})]})]}),g.jsxs(Te.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden transition-colors",children:[g.jsx("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700",children:g.jsxs("h2",{className:"text-lg font-semibold text-slate-800 dark:text-white flex items-center gap-2",children:[g.jsx(a8,{className:"w-5 h-5 text-purple-500"}),"Appearance & Preferences"]})}),g.jsxs("div",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:[g.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:`p-2 rounded-lg ${p==="dark"?"bg-slate-700 text-slate-300":"bg-orange-100 text-orange-600"}`,children:p==="dark"?g.jsx(Af,{className:"w-5 h-5"}):g.jsx(Y0,{className:"w-5 h-5"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"App Theme"}),g.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Switch between light and dark mode"})]})]}),g.jsx("button",{onClick:v,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${p==="dark"?"bg-blue-600":"bg-slate-200"}`,children:g.jsx("span",{className:`${p==="dark"?"translate-x-6":"translate-x-1"} inline-block h-4 w-4 transform rounded-full bg-white transition-transform`})})]}),g.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:`p-2 rounded-lg ${d?"bg-slate-100 dark:bg-slate-700 text-slate-400":"bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400"}`,children:d?g.jsx(pk,{className:"w-5 h-5"}):g.jsx(mk,{className:"w-5 h-5"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"Sound Effects"}),g.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Play sounds for timer and interactions"})]})]}),g.jsx("button",{onClick:m,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${d?"bg-slate-200 dark:bg-slate-600":"bg-blue-600"}`,children:g.jsx("span",{className:`${d?"translate-x-1":"translate-x-6"} inline-block h-4 w-4 transform rounded-full bg-white transition-transform`})})]}),g.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:`p-2 rounded-lg ${U?"bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400":"bg-slate-100 dark:bg-slate-700 text-slate-400"}`,children:U?g.jsx(xU,{className:"w-5 h-5"}):g.jsx(vU,{className:"w-5 h-5"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"Notifications"}),g.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Get reminders for study sessions"})]})]}),g.jsx("button",{onClick:ue,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${U?"bg-blue-600":"bg-slate-200 dark:bg-slate-600"}`,children:g.jsx("span",{className:`${U?"translate-x-6":"translate-x-1"} inline-block h-4 w-4 transform rounded-full bg-white transition-transform`})})]}),g.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"p-2 rounded-lg bg-pink-100 dark:bg-pink-900/30 text-pink-600 dark:text-pink-400",children:g.jsx(YU,{className:"w-5 h-5"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"Language"}),g.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"App language preference"})]})]}),g.jsxs("select",{className:"bg-transparent border border-slate-200 dark:border-slate-600 rounded-lg text-sm px-2 py-1 text-slate-700 dark:text-slate-300 focus:ring-2 focus:ring-blue-500 outline-none",children:[g.jsx("option",{children:"English"}),g.jsx("option",{disabled:!0,children:"Bengali (Coming Soon)"})]})]})]})]}),g.jsxs(Te.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden transition-colors",children:[g.jsx("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700",children:g.jsxs("h2",{className:"text-lg font-semibold text-slate-800 dark:text-white flex items-center gap-2",children:[g.jsx(Cf,{className:"w-5 h-5 text-green-500"}),"Data & Backup"]})}),g.jsxs("div",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:[g.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors cursor-pointer",onClick:()=>M(!0),children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"p-2 rounded-lg bg-indigo-100 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400",children:g.jsx(hs,{className:"w-5 h-5"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"Import Syllabus Template"}),g.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Quickly add pre-made subject templates"})]})]}),g.jsx("button",{className:"text-slate-400",children:g.jsx(pE,{className:"w-4 h-4"})})]}),g.jsxs("div",{className:"p-4 grid grid-cols-2 gap-4",children:[g.jsxs("button",{onClick:l,className:"flex items-center justify-center gap-2 py-2.5 border border-slate-200 dark:border-slate-600 rounded-lg text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors text-sm font-medium",children:[g.jsx(ok,{className:"w-4 h-4"}),"Export Data"]}),g.jsxs("button",{onClick:oe,className:"flex items-center justify-center gap-2 py-2.5 border border-slate-200 dark:border-slate-600 rounded-lg text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors text-sm font-medium",children:[g.jsx(F8,{className:"w-4 h-4"}),"Import Data"]})]}),g.jsx("div",{className:"p-4 bg-red-50/50 dark:bg-red-900/10",children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"p-2 rounded-lg bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400",children:g.jsx(Lu,{className:"w-5 h-5"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-red-700 dark:text-red-400 font-medium",children:"Reset Application"}),g.jsx("p",{className:"text-xs text-red-600/70 dark:text-red-400/70",children:"Permanently delete all study data"})]})]}),g.jsx("button",{onClick:()=>{confirm("Are you absolutely sure? This cannot be undone.")&&a()},className:"px-4 py-2 bg-white dark:bg-slate-800 border border-red-200 dark:border-red-800 text-red-600 dark:text-red-400 font-medium rounded-lg hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors text-xs shadow-sm",children:"Reset Data"})]})})]})]}),g.jsxs(Te.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden transition-colors",children:[g.jsx("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700",children:g.jsxs("h2",{className:"text-lg font-semibold text-slate-800 dark:text-white flex items-center gap-2",children:[g.jsx(k8,{className:"w-5 h-5 text-gray-500"}),"Support & Info"]})}),g.jsxs("div",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:[g.jsx("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors cursor-pointer",onClick:re,children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"p-2 rounded-lg bg-cyan-100 dark:bg-cyan-900/30 text-cyan-600 dark:text-cyan-400",children:g.jsx(fk,{className:"w-5 h-5"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"Restart Welcome Tour"}),g.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Show the onboarding guide again"})]})]})}),g.jsx("a",{href:"https://github.com/shahnewajsrabon/Study-Mate/issues/new?title=Bug%3A%20&body=%23%23%20Bug%20Description",target:"_blank",rel:"noopener noreferrer",className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors",children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"p-2 rounded-lg bg-orange-100 dark:bg-orange-900/30 text-orange-600 dark:text-orange-400",children:g.jsx(AU,{className:"w-5 h-5"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"Report a Bug"}),g.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Help us improve by reporting issues"})]})]})}),g.jsx("a",{href:"https://chat.whatsapp.com/K9mUpCp6Moo4poVbW5zgfr",target:"_blank",rel:"noopener noreferrer",className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors",children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"p-2 rounded-lg bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400",children:g.jsx(rl,{className:"w-5 h-5"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"Join WhatsApp Group"}),g.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Get help & discuss with community"})]})]})}),g.jsx("div",{className:"p-4 bg-slate-50 dark:bg-slate-800/50 flex items-center justify-center",children:g.jsx("p",{className:"text-xs text-slate-400 font-medium",children:"TrackEd v1.0.0  Made with  for Students"})})]})]}),t&&g.jsxs(Te.button,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},onClick:e,className:"w-full p-4 rounded-xl border border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-400 font-medium hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors flex items-center justify-center gap-2",children:[g.jsx(uk,{className:"w-5 h-5"}),"Sign Out"]}),g.jsx($n,{children:C&&g.jsx(d7,{onClose:()=>M(!1)})})]})}function Cd({title:t,value:e,icon:n,colorClass:i,bgClass:a,delay:l=0}){return g.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:l,type:"spring"},className:"bg-white dark:bg-slate-800 rounded-2xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm flex items-center justify-between transition-colors",children:[g.jsxs("div",{children:[g.jsxs("h3",{className:"text-slate-400 dark:text-slate-400 font-medium text-sm flex items-center gap-1.5 mb-2",children:[g.jsx(n,{className:`w-4 h-4 ${i}`})," ",t]}),g.jsx("div",{className:"text-3xl font-bold text-slate-800 dark:text-white transition-colors",children:e})]}),g.jsx("div",{className:`w-12 h-12 ${a} rounded-full flex items-center justify-center transition-colors`,children:g.jsx(n,{className:`w-6 h-6 ${i}`})})]})}function p7(t){let e=0,n=0,i=0,a=0;return t.forEach(l=>{e+=l.chapters.length,l.chapters.forEach(c=>{c.isCompleted&&n++,c.topics&&(i+=c.topics.length,c.topics.forEach(d=>{d.isCompleted&&a++}))})}),{totalChapters:e,completedChapters:n,totalTopics:i,completedTopics:a}}function g7(t){const e=new Date,i=Array.from({length:7},(l,c)=>{const d=new Date;return d.setDate(e.getDate()-(6-c)),d.toISOString().split("T")[0]}).map(l=>{let c=0;return t.forEach(d=>{d.chapters.forEach(m=>{m.topics&&m.topics.forEach(p=>{p.isCompleted&&p.completedAt&&p.completedAt.startsWith(l)&&c++})})}),{date:l,count:c}}),a=Math.max(...i.map(l=>l.count),1);return{activityData:i,maxCount:a}}function y7(t){const e=new Set;t.forEach(d=>d.chapters.forEach(m=>m.topics?.forEach(p=>{p.isCompleted&&p.completedAt&&e.add(p.completedAt.split("T")[0])})));const n=Array.from(e).sort((d,m)=>new Date(m).getTime()-new Date(d).getTime());let i=0;const a=new Date().toISOString().split("T")[0],l=new Date;l.setDate(l.getDate()-1);const c=l.toISOString().split("T")[0];if(n.length>0){const d=n[0];if(d===a||d===c){i=1;let m=new Date(d);for(let p=1;p<n.length;p++){const v=new Date(n[p]),b=Math.abs(m.getTime()-v.getTime());if(Math.round(b/(1e3*60*60*24))===1)i++,m=v;else break}}}return i}function v7(){const{subjects:t}=vn(),{totalChapters:e,completedChapters:n,totalTopics:i,completedTopics:a}=p7(t),{activityData:l,maxCount:c}=g7(t),d=y7(t),m=i>0?Math.round(a/i*100):0,p={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}};return g.jsxs(om,{className:"max-w-4xl mx-auto pb-12",children:[g.jsxs("h1",{className:"text-3xl font-bold text-slate-800 dark:text-white mb-8 flex items-center gap-3 transition-colors",children:[g.jsx(Q0,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"}),"Study Analytics"]}),g.jsxs(Te.div,{variants:p,initial:"hidden",animate:"show",className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[g.jsx("div",{className:"sm:col-span-1",children:g.jsx(Cd,{title:"Total Streak",value:`${d} days`,icon:sk,colorClass:"text-orange-500",bgClass:"bg-orange-50 dark:bg-orange-900/20",delay:.1})}),g.jsx("div",{className:"sm:col-span-1",children:g.jsx(Cd,{title:"Topics Done",value:`${a} / ${i}`,icon:hs,colorClass:"text-blue-500",bgClass:"bg-blue-50 dark:bg-blue-900/20",delay:.2})}),g.jsx("div",{className:"sm:col-span-1",children:g.jsx(Cd,{title:"Chapters Done",value:`${n} / ${e}`,icon:pl,colorClass:"text-amber-500",bgClass:"bg-amber-50 dark:bg-amber-900/20",delay:.3})}),g.jsx("div",{className:"sm:col-span-1",children:g.jsx(Cd,{title:"Completion",value:`${m}%`,icon:Rl,colorClass:"text-emerald-500",bgClass:"bg-emerald-50 dark:bg-emerald-900/20",delay:.4})})]}),g.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[g.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"md:col-span-2 bg-white dark:bg-slate-800 p-6 rounded-3xl border border-slate-100 dark:border-slate-700 shadow-sm transition-colors",children:[g.jsxs("h2",{className:"text-lg font-bold text-slate-800 dark:text-white mb-6 flex items-center gap-2 transition-colors",children:[g.jsx(kU,{className:"w-5 h-5 text-slate-400"}),"Last 7 Days Activity"]}),g.jsx("div",{className:"flex items-end justify-between gap-2 h-48",children:l.map((v,b)=>g.jsxs("div",{className:"flex-1 flex flex-col items-center gap-2 group",children:[g.jsx("div",{className:"w-full bg-slate-100 dark:bg-slate-700 rounded-t-lg relative h-full flex items-end overflow-hidden transition-colors",children:g.jsx(Te.div,{initial:{height:0},animate:{height:`${v.count/c*100}%`},transition:{duration:1,delay:b*.1,ease:"easeOut"},className:"w-full bg-blue-500 dark:bg-blue-600 rounded-t-lg transition-colors duration-300 group-hover:bg-blue-600 dark:group-hover:bg-blue-500 relative",children:g.jsxs("div",{className:"absolute -top-8 left-1/2 -translate-x-1/2 bg-slate-800 text-white text-xs py-1 px-2 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10",children:[v.count," Topics"]})})}),g.jsx("span",{className:"text-xs text-slate-400 dark:text-slate-500 font-medium transition-colors",children:new Date(v.date).toLocaleDateString("en-US",{weekday:"short"})})]},v.date))})]}),g.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white dark:bg-slate-800 p-6 rounded-3xl border border-slate-100 dark:border-slate-700 shadow-sm transition-colors",children:[g.jsxs("h2",{className:"text-lg font-bold text-slate-800 dark:text-white mb-6 flex items-center gap-2 transition-colors",children:[g.jsx(hs,{className:"w-5 h-5 text-slate-400"}),"Subject Progress"]}),g.jsxs("div",{className:"space-y-4 max-h-[300px] overflow-y-auto pr-2 custom-scrollbar",children:[t.map(v=>{const b=v.chapters.reduce((M,P)=>M+(P.topics?.length||0),0),w=v.chapters.reduce((M,P)=>M+(P.topics?.filter(O=>O.isCompleted).length||0),0),C=b>0?Math.round(w/b*100):0;return g.jsxs("div",{children:[g.jsxs("div",{className:"flex justify-between items-center mb-1",children:[g.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 transition-colors",children:v.name}),g.jsxs("span",{className:"text-xs text-slate-400 dark:text-slate-500 transition-colors",children:[C,"%"]})]}),g.jsx("div",{className:"h-2 bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden transition-colors",children:g.jsx(Te.div,{initial:{width:0},animate:{width:`${C}%`},transition:{duration:1,ease:"easeOut"},className:`h-full ${v.color}`})})]},v.id)}),t.length===0&&g.jsx("div",{className:"text-center text-slate-400 text-sm py-8",children:"No subjects added."})]})]})]})]})}function b7(){const{saveStudySession:t,subjects:e}=vn(),{user:n}=Ja(),{playSound:i,isMuted:a,toggleMute:l}=Pv(),[c,d]=D.useState("stopwatch"),[m,p]=D.useState(!1),[v,b]=D.useState(0),[w,C]=D.useState(0),[M,P]=D.useState(30),[O,U]=D.useState("timer"),[F,$]=D.useState("today"),[oe,re]=D.useState(""),[ue,j]=D.useState(""),[E,S]=D.useState(""),[I,k]=D.useState(!1),[V,R]=D.useState([]),[pe,_e]=D.useState(!0),q=D.useRef(null);D.useEffect(()=>{Notification.permission==="default"&&Notification.requestPermission()},[]);const ee=(le,Ne)=>{Notification.permission==="granted"&&new Notification(le,{body:Ne,icon:"/vite.svg"})};D.useEffect(()=>(m?q.current=window.setInterval(()=>{b(le=>c==="stopwatch"?le+1:le<=1?(p(!1),i("complete"),ee("Time's Up! ","Your study session is complete. Take a break!"),0):le-1)},1e3):q.current&&clearInterval(q.current),()=>{q.current&&clearInterval(q.current)}),[m,c,i]),D.useEffect(()=>{if(p(!1),k(!1),c==="stopwatch")b(0),C(0);else if(c==="pomodoro"||c==="countdown"){const le=M*60;b(le),C(le)}},[c,M]),D.useEffect(()=>{(async()=>{if(n){_e(!0);try{const Ne=Ef(Li,"users");let je="userProfile.todayStudyTime";F==="week"?je="userProfile.weeklyStudyTime":F==="month"?je="userProfile.monthlyStudyTime":F==="all_time"&&(je="userProfile.totalStudyTime");const xt=GC(Ne,$C(je,"desc"),KC(10)),En=await tU(xt),Sn=[];En.forEach(fi=>{const Zt=fi.data();if(Zt.userProfile){let fs=0;F==="today"?fs=Zt.userProfile.todayStudyTime||0:F==="week"?fs=Zt.userProfile.weeklyStudyTime||0:F==="month"?fs=Zt.userProfile.monthlyStudyTime||0:fs=Zt.userProfile.totalStudyTime||0,Sn.push({userId:fi.id,userName:Zt.userProfile.name||"Anonymous",displayTime:fs})}}),R(Sn)}catch(Ne){console.error("Error fetching leaderboard:",Ne)}finally{_e(!1)}}})()},[n,O,F]),D.useEffect(()=>(m?document.title=`${z(v)} - ${E||(c==="pomodoro"?"Focus":"Timer")}`:document.title="Study Tracker",()=>{document.title="Study Tracker"}),[m,v,c,E]);const J=()=>{!m&&c!=="stopwatch"&&v===0&&b(w),p(!m),i("click")},Ce=()=>{p(!1),k(!1),b(c==="stopwatch"?0:w),i("click")},Ve=async()=>{if(!ue){alert("Please select a subject to save session.");return}let le=0;if(c==="stopwatch"?le=v:le=w-v,le<60){alert("Session must be at least 1 minute to save.");return}await t(le,ue,E),k(!0),i("success")},z=le=>{const Ne=Math.floor(le/3600),je=Math.floor(le%3600/60),xt=le%60;return Ne>0?`${Ne}:${je.toString().padStart(2,"0")}:${xt.toString().padStart(2,"0")}`:`${je.toString().padStart(2,"0")}:${xt.toString().padStart(2,"0")}`},te=le=>{const Ne=Math.floor(le/3600),je=Math.floor(le%3600/60),xt=le%60;return`${Ne.toString().padStart(2,"0")}:${je.toString().padStart(2,"0")}:${xt.toString().padStart(2,"0")}`},ce=c==="stopwatch"?100:Math.max(0,v/w*100),he=120,Ee=2*Math.PI*he,Ie=Ee-ce/100*Ee;return g.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[g.jsxs("header",{className:"flex items-center justify-between",children:[g.jsx("div",{children:g.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-slate-900 dark:text-white transition-colors",children:"Focus Timer"})}),g.jsx("button",{onClick:l,className:"p-2 text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 transition-colors",children:a?g.jsx(pk,{className:"w-6 h-6"}):g.jsx(mk,{className:"w-6 h-6"})})]}),g.jsxs("div",{className:"flex p-1 bg-slate-100 dark:bg-slate-800 rounded-xl mb-6 md:hidden",children:[g.jsx("button",{onClick:()=>U("timer"),className:`flex-1 py-2 text-sm font-medium rounded-lg transition-all ${O==="timer"?"bg-white dark:bg-slate-700 text-blue-600 dark:text-blue-400 shadow-sm":"text-slate-500 dark:text-slate-400"}`,children:"Timer"}),g.jsx("button",{onClick:()=>U("leaderboard"),className:`flex-1 py-2 text-sm font-medium rounded-lg transition-all ${O==="leaderboard"?"bg-white dark:bg-slate-700 text-blue-600 dark:text-blue-400 shadow-sm":"text-slate-500 dark:text-slate-400"}`,children:"Leaderboard"})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[g.jsxs("div",{className:`${O==="timer"?"block":"hidden"} md:block flex flex-col space-y-6`,children:[g.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 transition-colors",children:[g.jsx("label",{className:"block text-sm font-medium text-slate-500 mb-2",children:"My Focus Goal"}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("input",{type:"text",placeholder:"What are you working on? (e.g. Physics Chapter 3)",className:"flex-1 bg-slate-50 dark:bg-slate-700 border-none rounded-xl px-4 py-3 text-slate-800 dark:text-white placeholder:text-slate-400 focus:ring-2 focus:ring-blue-500 transition-all font-medium",value:E,onChange:le=>S(le.target.value),disabled:m}),g.jsxs("select",{className:"w-1/3 bg-slate-50 dark:bg-slate-700 border-none rounded-xl px-3 py-3 text-slate-600 dark:text-slate-300 font-medium focus:ring-2 focus:ring-blue-500 cursor-pointer text-sm",value:ue,onChange:le=>j(le.target.value),disabled:m,children:[g.jsx("option",{value:"",children:"Subject"}),e.map(le=>g.jsx("option",{value:le.id,children:le.name},le.id))]})]})]}),g.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl p-8 shadow-sm border border-slate-100 dark:border-slate-700 flex flex-col items-center justify-center relative overflow-hidden transition-colors min-h-[400px]",children:[g.jsxs("div",{className:"relative w-64 h-64 md:w-72 md:h-72 mb-8 flex items-center justify-center",children:[g.jsxs("svg",{className:"w-full h-full transform -rotate-90",children:[g.jsx("circle",{cx:"50%",cy:"50%",r:he,stroke:"currentColor",strokeWidth:"12",fill:"transparent",className:"text-slate-100 dark:text-slate-700"}),g.jsx("circle",{cx:"50%",cy:"50%",r:he,stroke:"currentColor",strokeWidth:"12",fill:"transparent",strokeDasharray:Ee,strokeDashoffset:c==="stopwatch"?0:Ie,strokeLinecap:"round",className:`transition-all duration-1000 ease-linear ${m?c==="pomodoro"?"text-rose-500":"text-blue-500":"text-slate-300 dark:text-slate-600"}`})]}),g.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center z-10",children:[g.jsx("div",{className:`text-5xl md:text-6xl font-bold tracking-tight tabular-nums mb-2 ${m?c==="pomodoro"?"text-rose-500":"text-blue-600":"text-slate-800 dark:text-white"}`,children:z(v)}),g.jsx("div",{className:"text-slate-400 dark:text-slate-500 font-medium uppercase tracking-widest text-sm",children:m?"Running":"Paused"})]})]}),g.jsxs("div",{className:"flex items-center gap-6 z-10",children:[!m&&g.jsx("button",{onClick:Ce,className:"p-3 rounded-full bg-slate-100 dark:bg-slate-700 text-slate-500 hover:bg-slate-200 dark:hover:bg-slate-600 transition-all hover:scale-110",title:"Reset",children:g.jsx(fk,{className:"w-5 h-5"})}),g.jsx("button",{onClick:J,className:`p-6 rounded-full shadow-xl transition-all hover:scale-105 active:scale-95 ${m?"bg-amber-100 text-amber-600 hover:bg-amber-200":"bg-blue-600 text-white hover:bg-blue-700"}`,children:m?g.jsx(c8,{className:"w-8 h-8 fill-current"}):g.jsx(dk,{className:"w-8 h-8 ml-1 fill-current"})}),!m&&(c==="stopwatch"&&v>60||c!=="stopwatch"&&v!==w)&&!I&&g.jsx("button",{onClick:Ve,className:"p-3 rounded-full bg-emerald-100 text-emerald-600 hover:bg-emerald-200 transition-all hover:scale-110 animate-pulse",title:"Save Session",children:g.jsx(Cf,{className:"w-5 h-5"})})]}),g.jsxs("div",{className:"mt-8 flex gap-2",children:[g.jsx("button",{onClick:()=>{d("stopwatch"),P(0)},className:`px-4 py-2 text-sm font-medium rounded-full transition-all ${c==="stopwatch"?"bg-blue-100 text-blue-700":"text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:"Stopwatch"}),g.jsx("button",{onClick:()=>{d("pomodoro"),P(25)},className:`px-4 py-2 text-sm font-medium rounded-full transition-all ${c==="pomodoro"?"bg-rose-100 text-rose-700":"text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:"Pomodoro"}),g.jsx("button",{onClick:()=>{d("countdown"),P(30)},className:`px-4 py-2 text-sm font-medium rounded-full transition-all ${c==="countdown"?"bg-amber-100 text-amber-700":"text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:"Countdown"})]}),!m&&(c==="pomodoro"||c==="countdown")&&g.jsxs("div",{className:"mt-4 flex items-center gap-2 animate-in fade-in slide-in-from-bottom-2",children:[g.jsx("span",{className:"text-slate-400 text-sm",children:"Duration:"}),g.jsx("input",{type:"range",min:"5",max:"120",step:"5",value:M,onChange:le=>P(Number(le.target.value)),className:"w-32 accent-blue-600 cursor-pointer"}),g.jsxs("span",{className:"text-slate-700 dark:text-slate-300 font-bold w-12 text-center",children:[M,"m"]})]})]})]}),g.jsxs("div",{className:`${O==="leaderboard"?"block":"hidden"} md:block bg-white dark:bg-slate-800 rounded-3xl p-6 shadow-xl border border-slate-100 dark:border-slate-700 h-fit transition-colors sticky top-24`,children:[g.jsxs("div",{className:"flex flex-col gap-4 mb-6",children:[g.jsx("div",{className:"flex items-center justify-between",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(pl,{className:"w-6 h-6 text-yellow-500"}),g.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Leaderboard"})]})}),g.jsxs("div",{className:"relative",children:[g.jsx("input",{type:"text",placeholder:"Search name...",value:oe,onChange:le=>re(le.target.value),className:"w-full pl-10 pr-4 py-3 bg-slate-50 dark:bg-slate-700/50 border border-slate-200 dark:border-slate-600 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500/50 text-slate-800 dark:text-white placeholder:text-slate-400 transition-all font-medium"}),g.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:g.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})})})]}),g.jsx("div",{className:"flex p-1.5 bg-slate-100 dark:bg-slate-700/50 rounded-xl",children:["today","week","month","all_time"].map(le=>g.jsx("button",{onClick:()=>$(le),className:`flex-1 py-2 text-xs font-bold rounded-lg transition-all capitalize ${F===le?"bg-blue-600 text-white shadow-md":"text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-200 hover:bg-white/50 dark:hover:bg-white/5"}`,children:le==="all_time"?"Lifetime":le==="today"?"24 Hours":le==="week"?"7 Days":"1 Month"},le))})]}),pe?g.jsxs("div",{className:"text-center py-12 text-slate-400 flex flex-col items-center",children:[g.jsx("div",{className:"w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mb-3"}),g.jsx("p",{className:"text-sm font-medium",children:"Loading rankings..."})]}):g.jsxs("div",{className:"space-y-3",children:[V.filter(le=>le.userName.toLowerCase().includes(oe.toLowerCase())).map((le,Ne)=>g.jsxs("div",{className:`flex items-center justify-between p-3 rounded-2xl transition-all ${le.userId===n?.uid?"bg-blue-50/50 dark:bg-blue-900/20 border border-blue-100 dark:border-blue-800":"hover:bg-slate-50 dark:hover:bg-slate-700/30 border border-transparent"}`,children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsxs("div",{className:"font-bold text-slate-400 w-6 text-center text-sm",children:[Ne+1,"."]}),g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:`
                                                w-10 h-10 rounded-full flex items-center justify-center font-bold text-lg shadow-sm border-2
                                                ${Ne===0?"bg-yellow-100 text-yellow-600 border-yellow-200":Ne===1?"bg-slate-200 text-slate-600 border-slate-300":Ne===2?"bg-orange-100 text-orange-600 border-orange-200":"bg-slate-100 dark:bg-slate-700 text-slate-500 dark:text-slate-400 border-white dark:border-slate-600"}
                                            `,children:le.userName.charAt(0).toUpperCase()}),g.jsxs("div",{children:[g.jsx("p",{className:`font-bold text-sm ${le.userId===n?.uid?"text-blue-700 dark:text-blue-400":"text-slate-800 dark:text-white"}`,children:le.userName}),g.jsxs("div",{className:"flex items-center gap-1.5 mt-0.5",children:[g.jsx("span",{className:`w-2 h-2 rounded-full ${le.displayTime>3600?"bg-emerald-400":"bg-slate-300 dark:bg-slate-600"}`}),g.jsx("span",{className:"text-xs text-slate-400 font-medium",children:le.displayTime>3600?"Studying":"Offline"})]})]})]})]}),g.jsx("div",{className:"text-right",children:g.jsx("div",{className:"font-bold text-blue-600 dark:text-blue-400 text-base md:text-lg tabular-nums tracking-tight",children:te(le.displayTime)})})]},le.userId)),V.length===0&&g.jsxs("div",{className:"text-center py-10 px-6 text-slate-500 bg-slate-50 dark:bg-slate-700/30 rounded-2xl border border-dashed border-slate-200 dark:border-slate-700",children:[g.jsx("p",{className:"text-sm",children:"No records found for this period."}),g.jsx("p",{className:"text-xs mt-1 text-slate-400",children:"Be the first to start studying!"})]})]})]})]}),g.jsx($n,{children:I&&g.jsxs(Te.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"fixed bottom-20 left-1/2 -translate-x-1/2 md:bottom-8 bg-slate-900 text-white px-6 py-3 rounded-full shadow-lg flex items-center gap-3 z-50",children:[g.jsx("div",{className:"bg-emerald-500 rounded-full p-1",children:g.jsx(Rl,{className:"w-4 h-4 text-white"})}),g.jsx("span",{className:"font-medium",children:"Session Saved! Great Job."})]})})]})}const x7={start_strong:"",streak_master:"",subject_conqueror:"",night_owl:""},_7={start_strong:"Fast Starter",streak_master:"Streak Master",subject_conqueror:"Subject Conqueror",night_owl:"Night Owl"};function w7({uid:t,isOpen:e,onClose:n}){const[i,a]=D.useState(null),[l,c]=D.useState(!1);return D.useEffect(()=>{e&&t?(async()=>{c(!0);try{const m=ml(Li,"users",t),p=await eU(m);p.exists()?a(p.data().userProfile):a(null)}catch(m){console.error("Error fetching user profile:",m)}finally{c(!1)}})():a(null)},[e,t]),g.jsx($n,{children:e&&g.jsx(g.Fragment,{children:g.jsx(Te.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:n,className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:g.jsxs(Te.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:d=>d.stopPropagation(),className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl w-full max-w-md overflow-hidden border border-slate-200 dark:border-slate-700",children:[g.jsxs("div",{className:"relative h-24 bg-gradient-to-r from-indigo-500 to-purple-600",children:[g.jsx("button",{onClick:n,className:"absolute top-4 right-4 p-1 bg-white/20 hover:bg-white/30 rounded-full text-white transition-colors",children:g.jsx(Wi,{className:"w-5 h-5"})}),g.jsx("div",{className:"absolute -bottom-10 left-6",children:g.jsx("div",{className:"w-20 h-20 rounded-full bg-white dark:bg-slate-800 p-1 shadow-lg",children:g.jsx("div",{className:"w-full h-full rounded-full bg-indigo-100 dark:bg-indigo-900 flex items-center justify-center text-2xl font-bold text-indigo-600 dark:text-indigo-300",children:i?.name?.charAt(0).toUpperCase()||"?"})})})]}),g.jsx("div",{className:"pt-12 pb-6 px-6",children:l?g.jsx("div",{className:"flex justify-center py-8",children:g.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})}):i?g.jsxs("div",{className:"space-y-6",children:[g.jsx("div",{children:g.jsxs("h2",{className:"text-xl font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[i.name,g.jsx("span",{className:"text-xs font-normal px-2 py-0.5 bg-slate-100 dark:bg-slate-700 text-slate-500 rounded-full",children:i.grade})]})}),g.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[g.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/20 p-3 rounded-xl border border-orange-100 dark:border-orange-800/50",children:[g.jsxs("div",{className:"flex items-center gap-2 text-orange-600 dark:text-orange-400 mb-1",children:[g.jsx(lk,{className:"w-4 h-4"}),g.jsx("span",{className:"text-xs font-bold uppercase",children:"Streak"})]}),g.jsxs("p",{className:"text-lg font-bold text-slate-800 dark:text-slate-100",children:[i.currentStreak," Days"]})]}),g.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-3 rounded-xl border border-blue-100 dark:border-blue-800/50",children:[g.jsxs("div",{className:"flex items-center gap-2 text-blue-600 dark:text-blue-400 mb-1",children:[g.jsx(FU,{className:"w-4 h-4"}),g.jsx("span",{className:"text-xs font-bold uppercase",children:"Total Study"})]}),g.jsxs("p",{className:"text-lg font-bold text-slate-800 dark:text-slate-100",children:[Math.floor(i.totalStudyTime/3600),"h ",Math.floor(i.totalStudyTime%3600/60),"m"]})]})]}),g.jsxs("div",{children:[g.jsxs("h3",{className:"text-sm font-bold text-slate-500 dark:text-slate-400 uppercase mb-3 flex items-center gap-2",children:[g.jsx(pl,{className:"w-4 h-4"}),"Badges Earned (",i.earnedBadges?.length||0,")"]}),i.earnedBadges&&i.earnedBadges.length>0?g.jsx("div",{className:"grid grid-cols-4 gap-2",children:i.earnedBadges.map((d,m)=>g.jsx("div",{className:"flex flex-col items-center gap-1 p-2 bg-slate-50 dark:bg-slate-800/50 rounded-lg border border-slate-100 dark:border-slate-700",title:_7[d.type],children:g.jsx("span",{className:"text-2xl",children:x7[d.type]})},m))}):g.jsx("p",{className:"text-sm text-slate-400 italic",children:"No badges earned yet."})]})]}):g.jsx("div",{className:"text-center text-slate-500",children:"User profile not found."})})]})})})})}const T7=t=>t?t.split(/(`[^`]+`|\*\*[^*]+\*\*|\*[^*]+\*|https?:\/\/[^\s]+)/g).map((n,i)=>n.startsWith("`")&&n.endsWith("`")&&n.length>2?g.jsx("code",{className:"bg-slate-200 dark:bg-slate-700 px-1.5 py-0.5 rounded text-sm font-mono text-slate-800 dark:text-slate-200",children:n.slice(1,-1)},i):n.startsWith("**")&&n.endsWith("**")&&n.length>4?g.jsx("strong",{className:"font-bold",children:n.slice(2,-2)},i):n.startsWith("*")&&n.endsWith("*")&&n.length>2?g.jsx("em",{className:"italic",children:n.slice(1,-1)},i):n.match(/^https?:\/\//)?g.jsx("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 dark:text-blue-400 hover:underline break-all",onClick:a=>a.stopPropagation(),children:n},i):n):[];function xk(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=xk(t[e]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}function E7(){for(var t,e,n=0,i="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=xk(t))&&(i&&(i+=" "),i+=e);return i}const S7=(t,e)=>{const n=new Array(t.length+e.length);for(let i=0;i<t.length;i++)n[i]=t[i];for(let i=0;i<e.length;i++)n[t.length+i]=e[i];return n},A7=(t,e)=>({classGroupId:t,validator:e}),_k=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),kf="-",bE=[],C7="arbitrary..",k7=t=>{const e=R7(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:i}=t;return{getClassGroupId:c=>{if(c.startsWith("[")&&c.endsWith("]"))return N7(c);const d=c.split(kf),m=d[0]===""&&d.length>1?1:0;return wk(d,m,e)},getConflictingClassGroupIds:(c,d)=>{if(d){const m=i[c],p=n[c];return m?p?S7(p,m):m:p||bE}return n[c]||bE}}},wk=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const a=t[e],l=n.nextPart.get(a);if(l){const p=wk(t,e+1,l);if(p)return p}const c=n.validators;if(c===null)return;const d=e===0?t.join(kf):t.slice(e).join(kf),m=c.length;for(let p=0;p<m;p++){const v=c[p];if(v.validator(d))return v.classGroupId}},N7=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),i=e.slice(0,n);return i?C7+i:void 0})(),R7=t=>{const{theme:e,classGroups:n}=t;return I7(n,e)},I7=(t,e)=>{const n=_k();for(const i in t){const a=t[i];Lv(a,n,i,e)}return n},Lv=(t,e,n,i)=>{const a=t.length;for(let l=0;l<a;l++){const c=t[l];D7(c,e,n,i)}},D7=(t,e,n,i)=>{if(typeof t=="string"){j7(t,e,n);return}if(typeof t=="function"){M7(t,e,n,i);return}V7(t,e,n,i)},j7=(t,e,n)=>{const i=t===""?e:Tk(e,t);i.classGroupId=n},M7=(t,e,n,i)=>{if(O7(t)){Lv(t(i),e,n,i);return}e.validators===null&&(e.validators=[]),e.validators.push(A7(n,t))},V7=(t,e,n,i)=>{const a=Object.entries(t),l=a.length;for(let c=0;c<l;c++){const[d,m]=a[c];Lv(m,Tk(e,d),n,i)}},Tk=(t,e)=>{let n=t;const i=e.split(kf),a=i.length;for(let l=0;l<a;l++){const c=i[l];let d=n.nextPart.get(c);d||(d=_k(),n.nextPart.set(c,d)),n=d}return n},O7=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,P7=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),i=Object.create(null);const a=(l,c)=>{n[l]=c,e++,e>t&&(e=0,i=n,n=Object.create(null))};return{get(l){let c=n[l];if(c!==void 0)return c;if((c=i[l])!==void 0)return a(l,c),c},set(l,c){l in n?n[l]=c:a(l,c)}}},X0="!",xE=":",L7=[],_E=(t,e,n,i,a)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:i,isExternal:a}),U7=t=>{const{prefix:e,experimentalParseClassName:n}=t;let i=a=>{const l=[];let c=0,d=0,m=0,p;const v=a.length;for(let P=0;P<v;P++){const O=a[P];if(c===0&&d===0){if(O===xE){l.push(a.slice(m,P)),m=P+1;continue}if(O==="/"){p=P;continue}}O==="["?c++:O==="]"?c--:O==="("?d++:O===")"&&d--}const b=l.length===0?a:a.slice(m);let w=b,C=!1;b.endsWith(X0)?(w=b.slice(0,-1),C=!0):b.startsWith(X0)&&(w=b.slice(1),C=!0);const M=p&&p>m?p-m:void 0;return _E(l,C,w,M)};if(e){const a=e+xE,l=i;i=c=>c.startsWith(a)?l(c.slice(a.length)):_E(L7,!1,c,void 0,!0)}if(n){const a=i;i=l=>n({className:l,parseClassName:a})}return i},z7=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,i)=>{e.set(n,1e6+i)}),n=>{const i=[];let a=[];for(let l=0;l<n.length;l++){const c=n[l],d=c[0]==="[",m=e.has(c);d||m?(a.length>0&&(a.sort(),i.push(...a),a=[]),i.push(c)):a.push(c)}return a.length>0&&(a.sort(),i.push(...a)),i}},B7=t=>({cache:P7(t.cacheSize),parseClassName:U7(t),sortModifiers:z7(t),...k7(t)}),F7=/\s+/,H7=(t,e)=>{const{parseClassName:n,getClassGroupId:i,getConflictingClassGroupIds:a,sortModifiers:l}=e,c=[],d=t.trim().split(F7);let m="";for(let p=d.length-1;p>=0;p-=1){const v=d[p],{isExternal:b,modifiers:w,hasImportantModifier:C,baseClassName:M,maybePostfixModifierPosition:P}=n(v);if(b){m=v+(m.length>0?" "+m:m);continue}let O=!!P,U=i(O?M.substring(0,P):M);if(!U){if(!O){m=v+(m.length>0?" "+m:m);continue}if(U=i(M),!U){m=v+(m.length>0?" "+m:m);continue}O=!1}const F=w.length===0?"":w.length===1?w[0]:l(w).join(":"),$=C?F+X0:F,oe=$+U;if(c.indexOf(oe)>-1)continue;c.push(oe);const re=a(U,O);for(let ue=0;ue<re.length;++ue){const j=re[ue];c.push($+j)}m=v+(m.length>0?" "+m:m)}return m},q7=(...t)=>{let e=0,n,i,a="";for(;e<t.length;)(n=t[e++])&&(i=Ek(n))&&(a&&(a+=" "),a+=i);return a},Ek=t=>{if(typeof t=="string")return t;let e,n="";for(let i=0;i<t.length;i++)t[i]&&(e=Ek(t[i]))&&(n&&(n+=" "),n+=e);return n},G7=(t,...e)=>{let n,i,a,l;const c=m=>{const p=e.reduce((v,b)=>b(v),t());return n=B7(p),i=n.cache.get,a=n.cache.set,l=d,d(m)},d=m=>{const p=i(m);if(p)return p;const v=H7(m,n);return a(m,v),v};return l=c,(...m)=>l(q7(...m))},$7=[],Gt=t=>{const e=n=>n[t]||$7;return e.isThemeGetter=!0,e},Sk=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Ak=/^\((?:(\w[\w-]*):)?(.+)\)$/i,K7=/^\d+\/\d+$/,Y7=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Q7=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,X7=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,W7=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,J7=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Bo=t=>K7.test(t),Be=t=>!!t&&!Number.isNaN(Number(t)),Dr=t=>!!t&&Number.isInteger(Number(t)),Qg=t=>t.endsWith("%")&&Be(t.slice(0,-1)),ji=t=>Y7.test(t),Z7=()=>!0,ez=t=>Q7.test(t)&&!X7.test(t),Ck=()=>!1,tz=t=>W7.test(t),nz=t=>J7.test(t),sz=t=>!ye(t)&&!ve(t),iz=t=>Il(t,Rk,Ck),ye=t=>Sk.test(t),Da=t=>Il(t,Ik,ez),Xg=t=>Il(t,cz,Be),wE=t=>Il(t,kk,Ck),rz=t=>Il(t,Nk,nz),kd=t=>Il(t,Dk,tz),ve=t=>Ak.test(t),Bc=t=>Dl(t,Ik),az=t=>Dl(t,uz),TE=t=>Dl(t,kk),oz=t=>Dl(t,Rk),lz=t=>Dl(t,Nk),Nd=t=>Dl(t,Dk,!0),Il=(t,e,n)=>{const i=Sk.exec(t);return i?i[1]?e(i[1]):n(i[2]):!1},Dl=(t,e,n=!1)=>{const i=Ak.exec(t);return i?i[1]?e(i[1]):n:!1},kk=t=>t==="position"||t==="percentage",Nk=t=>t==="image"||t==="url",Rk=t=>t==="length"||t==="size"||t==="bg-size",Ik=t=>t==="length",cz=t=>t==="number",uz=t=>t==="family-name",Dk=t=>t==="shadow",hz=()=>{const t=Gt("color"),e=Gt("font"),n=Gt("text"),i=Gt("font-weight"),a=Gt("tracking"),l=Gt("leading"),c=Gt("breakpoint"),d=Gt("container"),m=Gt("spacing"),p=Gt("radius"),v=Gt("shadow"),b=Gt("inset-shadow"),w=Gt("text-shadow"),C=Gt("drop-shadow"),M=Gt("blur"),P=Gt("perspective"),O=Gt("aspect"),U=Gt("ease"),F=Gt("animate"),$=()=>["auto","avoid","all","avoid-page","page","left","right","column"],oe=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],re=()=>[...oe(),ve,ye],ue=()=>["auto","hidden","clip","visible","scroll"],j=()=>["auto","contain","none"],E=()=>[ve,ye,m],S=()=>[Bo,"full","auto",...E()],I=()=>[Dr,"none","subgrid",ve,ye],k=()=>["auto",{span:["full",Dr,ve,ye]},Dr,ve,ye],V=()=>[Dr,"auto",ve,ye],R=()=>["auto","min","max","fr",ve,ye],pe=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],_e=()=>["start","end","center","stretch","center-safe","end-safe"],q=()=>["auto",...E()],ee=()=>[Bo,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...E()],J=()=>[t,ve,ye],Ce=()=>[...oe(),TE,wE,{position:[ve,ye]}],Ve=()=>["no-repeat",{repeat:["","x","y","space","round"]}],z=()=>["auto","cover","contain",oz,iz,{size:[ve,ye]}],te=()=>[Qg,Bc,Da],ce=()=>["","none","full",p,ve,ye],he=()=>["",Be,Bc,Da],Ee=()=>["solid","dashed","dotted","double"],Ie=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],le=()=>[Be,Qg,TE,wE],Ne=()=>["","none",M,ve,ye],je=()=>["none",Be,ve,ye],xt=()=>["none",Be,ve,ye],En=()=>[Be,ve,ye],Sn=()=>[Bo,"full",...E()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ji],breakpoint:[ji],color:[Z7],container:[ji],"drop-shadow":[ji],ease:["in","out","in-out"],font:[sz],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ji],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ji],shadow:[ji],spacing:["px",Be],text:[ji],"text-shadow":[ji],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Bo,ye,ve,O]}],container:["container"],columns:[{columns:[Be,ye,ve,d]}],"break-after":[{"break-after":$()}],"break-before":[{"break-before":$()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:re()}],overflow:[{overflow:ue()}],"overflow-x":[{"overflow-x":ue()}],"overflow-y":[{"overflow-y":ue()}],overscroll:[{overscroll:j()}],"overscroll-x":[{"overscroll-x":j()}],"overscroll-y":[{"overscroll-y":j()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:S()}],"inset-x":[{"inset-x":S()}],"inset-y":[{"inset-y":S()}],start:[{start:S()}],end:[{end:S()}],top:[{top:S()}],right:[{right:S()}],bottom:[{bottom:S()}],left:[{left:S()}],visibility:["visible","invisible","collapse"],z:[{z:[Dr,"auto",ve,ye]}],basis:[{basis:[Bo,"full","auto",d,...E()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Be,Bo,"auto","initial","none",ye]}],grow:[{grow:["",Be,ve,ye]}],shrink:[{shrink:["",Be,ve,ye]}],order:[{order:[Dr,"first","last","none",ve,ye]}],"grid-cols":[{"grid-cols":I()}],"col-start-end":[{col:k()}],"col-start":[{"col-start":V()}],"col-end":[{"col-end":V()}],"grid-rows":[{"grid-rows":I()}],"row-start-end":[{row:k()}],"row-start":[{"row-start":V()}],"row-end":[{"row-end":V()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":R()}],"auto-rows":[{"auto-rows":R()}],gap:[{gap:E()}],"gap-x":[{"gap-x":E()}],"gap-y":[{"gap-y":E()}],"justify-content":[{justify:[...pe(),"normal"]}],"justify-items":[{"justify-items":[..._e(),"normal"]}],"justify-self":[{"justify-self":["auto",..._e()]}],"align-content":[{content:["normal",...pe()]}],"align-items":[{items:[..._e(),{baseline:["","last"]}]}],"align-self":[{self:["auto",..._e(),{baseline:["","last"]}]}],"place-content":[{"place-content":pe()}],"place-items":[{"place-items":[..._e(),"baseline"]}],"place-self":[{"place-self":["auto",..._e()]}],p:[{p:E()}],px:[{px:E()}],py:[{py:E()}],ps:[{ps:E()}],pe:[{pe:E()}],pt:[{pt:E()}],pr:[{pr:E()}],pb:[{pb:E()}],pl:[{pl:E()}],m:[{m:q()}],mx:[{mx:q()}],my:[{my:q()}],ms:[{ms:q()}],me:[{me:q()}],mt:[{mt:q()}],mr:[{mr:q()}],mb:[{mb:q()}],ml:[{ml:q()}],"space-x":[{"space-x":E()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":E()}],"space-y-reverse":["space-y-reverse"],size:[{size:ee()}],w:[{w:[d,"screen",...ee()]}],"min-w":[{"min-w":[d,"screen","none",...ee()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[c]},...ee()]}],h:[{h:["screen","lh",...ee()]}],"min-h":[{"min-h":["screen","lh","none",...ee()]}],"max-h":[{"max-h":["screen","lh",...ee()]}],"font-size":[{text:["base",n,Bc,Da]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,ve,Xg]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Qg,ye]}],"font-family":[{font:[az,ye,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,ve,ye]}],"line-clamp":[{"line-clamp":[Be,"none",ve,Xg]}],leading:[{leading:[l,...E()]}],"list-image":[{"list-image":["none",ve,ye]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ve,ye]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:J()}],"text-color":[{text:J()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ee(),"wavy"]}],"text-decoration-thickness":[{decoration:[Be,"from-font","auto",ve,Da]}],"text-decoration-color":[{decoration:J()}],"underline-offset":[{"underline-offset":[Be,"auto",ve,ye]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:E()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ve,ye]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ve,ye]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Ce()}],"bg-repeat":[{bg:Ve()}],"bg-size":[{bg:z()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Dr,ve,ye],radial:["",ve,ye],conic:[Dr,ve,ye]},lz,rz]}],"bg-color":[{bg:J()}],"gradient-from-pos":[{from:te()}],"gradient-via-pos":[{via:te()}],"gradient-to-pos":[{to:te()}],"gradient-from":[{from:J()}],"gradient-via":[{via:J()}],"gradient-to":[{to:J()}],rounded:[{rounded:ce()}],"rounded-s":[{"rounded-s":ce()}],"rounded-e":[{"rounded-e":ce()}],"rounded-t":[{"rounded-t":ce()}],"rounded-r":[{"rounded-r":ce()}],"rounded-b":[{"rounded-b":ce()}],"rounded-l":[{"rounded-l":ce()}],"rounded-ss":[{"rounded-ss":ce()}],"rounded-se":[{"rounded-se":ce()}],"rounded-ee":[{"rounded-ee":ce()}],"rounded-es":[{"rounded-es":ce()}],"rounded-tl":[{"rounded-tl":ce()}],"rounded-tr":[{"rounded-tr":ce()}],"rounded-br":[{"rounded-br":ce()}],"rounded-bl":[{"rounded-bl":ce()}],"border-w":[{border:he()}],"border-w-x":[{"border-x":he()}],"border-w-y":[{"border-y":he()}],"border-w-s":[{"border-s":he()}],"border-w-e":[{"border-e":he()}],"border-w-t":[{"border-t":he()}],"border-w-r":[{"border-r":he()}],"border-w-b":[{"border-b":he()}],"border-w-l":[{"border-l":he()}],"divide-x":[{"divide-x":he()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":he()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ee(),"hidden","none"]}],"divide-style":[{divide:[...Ee(),"hidden","none"]}],"border-color":[{border:J()}],"border-color-x":[{"border-x":J()}],"border-color-y":[{"border-y":J()}],"border-color-s":[{"border-s":J()}],"border-color-e":[{"border-e":J()}],"border-color-t":[{"border-t":J()}],"border-color-r":[{"border-r":J()}],"border-color-b":[{"border-b":J()}],"border-color-l":[{"border-l":J()}],"divide-color":[{divide:J()}],"outline-style":[{outline:[...Ee(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Be,ve,ye]}],"outline-w":[{outline:["",Be,Bc,Da]}],"outline-color":[{outline:J()}],shadow:[{shadow:["","none",v,Nd,kd]}],"shadow-color":[{shadow:J()}],"inset-shadow":[{"inset-shadow":["none",b,Nd,kd]}],"inset-shadow-color":[{"inset-shadow":J()}],"ring-w":[{ring:he()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:J()}],"ring-offset-w":[{"ring-offset":[Be,Da]}],"ring-offset-color":[{"ring-offset":J()}],"inset-ring-w":[{"inset-ring":he()}],"inset-ring-color":[{"inset-ring":J()}],"text-shadow":[{"text-shadow":["none",w,Nd,kd]}],"text-shadow-color":[{"text-shadow":J()}],opacity:[{opacity:[Be,ve,ye]}],"mix-blend":[{"mix-blend":[...Ie(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ie()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Be]}],"mask-image-linear-from-pos":[{"mask-linear-from":le()}],"mask-image-linear-to-pos":[{"mask-linear-to":le()}],"mask-image-linear-from-color":[{"mask-linear-from":J()}],"mask-image-linear-to-color":[{"mask-linear-to":J()}],"mask-image-t-from-pos":[{"mask-t-from":le()}],"mask-image-t-to-pos":[{"mask-t-to":le()}],"mask-image-t-from-color":[{"mask-t-from":J()}],"mask-image-t-to-color":[{"mask-t-to":J()}],"mask-image-r-from-pos":[{"mask-r-from":le()}],"mask-image-r-to-pos":[{"mask-r-to":le()}],"mask-image-r-from-color":[{"mask-r-from":J()}],"mask-image-r-to-color":[{"mask-r-to":J()}],"mask-image-b-from-pos":[{"mask-b-from":le()}],"mask-image-b-to-pos":[{"mask-b-to":le()}],"mask-image-b-from-color":[{"mask-b-from":J()}],"mask-image-b-to-color":[{"mask-b-to":J()}],"mask-image-l-from-pos":[{"mask-l-from":le()}],"mask-image-l-to-pos":[{"mask-l-to":le()}],"mask-image-l-from-color":[{"mask-l-from":J()}],"mask-image-l-to-color":[{"mask-l-to":J()}],"mask-image-x-from-pos":[{"mask-x-from":le()}],"mask-image-x-to-pos":[{"mask-x-to":le()}],"mask-image-x-from-color":[{"mask-x-from":J()}],"mask-image-x-to-color":[{"mask-x-to":J()}],"mask-image-y-from-pos":[{"mask-y-from":le()}],"mask-image-y-to-pos":[{"mask-y-to":le()}],"mask-image-y-from-color":[{"mask-y-from":J()}],"mask-image-y-to-color":[{"mask-y-to":J()}],"mask-image-radial":[{"mask-radial":[ve,ye]}],"mask-image-radial-from-pos":[{"mask-radial-from":le()}],"mask-image-radial-to-pos":[{"mask-radial-to":le()}],"mask-image-radial-from-color":[{"mask-radial-from":J()}],"mask-image-radial-to-color":[{"mask-radial-to":J()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":oe()}],"mask-image-conic-pos":[{"mask-conic":[Be]}],"mask-image-conic-from-pos":[{"mask-conic-from":le()}],"mask-image-conic-to-pos":[{"mask-conic-to":le()}],"mask-image-conic-from-color":[{"mask-conic-from":J()}],"mask-image-conic-to-color":[{"mask-conic-to":J()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Ce()}],"mask-repeat":[{mask:Ve()}],"mask-size":[{mask:z()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ve,ye]}],filter:[{filter:["","none",ve,ye]}],blur:[{blur:Ne()}],brightness:[{brightness:[Be,ve,ye]}],contrast:[{contrast:[Be,ve,ye]}],"drop-shadow":[{"drop-shadow":["","none",C,Nd,kd]}],"drop-shadow-color":[{"drop-shadow":J()}],grayscale:[{grayscale:["",Be,ve,ye]}],"hue-rotate":[{"hue-rotate":[Be,ve,ye]}],invert:[{invert:["",Be,ve,ye]}],saturate:[{saturate:[Be,ve,ye]}],sepia:[{sepia:["",Be,ve,ye]}],"backdrop-filter":[{"backdrop-filter":["","none",ve,ye]}],"backdrop-blur":[{"backdrop-blur":Ne()}],"backdrop-brightness":[{"backdrop-brightness":[Be,ve,ye]}],"backdrop-contrast":[{"backdrop-contrast":[Be,ve,ye]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Be,ve,ye]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Be,ve,ye]}],"backdrop-invert":[{"backdrop-invert":["",Be,ve,ye]}],"backdrop-opacity":[{"backdrop-opacity":[Be,ve,ye]}],"backdrop-saturate":[{"backdrop-saturate":[Be,ve,ye]}],"backdrop-sepia":[{"backdrop-sepia":["",Be,ve,ye]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":E()}],"border-spacing-x":[{"border-spacing-x":E()}],"border-spacing-y":[{"border-spacing-y":E()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ve,ye]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Be,"initial",ve,ye]}],ease:[{ease:["linear","initial",U,ve,ye]}],delay:[{delay:[Be,ve,ye]}],animate:[{animate:["none",F,ve,ye]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[P,ve,ye]}],"perspective-origin":[{"perspective-origin":re()}],rotate:[{rotate:je()}],"rotate-x":[{"rotate-x":je()}],"rotate-y":[{"rotate-y":je()}],"rotate-z":[{"rotate-z":je()}],scale:[{scale:xt()}],"scale-x":[{"scale-x":xt()}],"scale-y":[{"scale-y":xt()}],"scale-z":[{"scale-z":xt()}],"scale-3d":["scale-3d"],skew:[{skew:En()}],"skew-x":[{"skew-x":En()}],"skew-y":[{"skew-y":En()}],transform:[{transform:[ve,ye,"","none","gpu","cpu"]}],"transform-origin":[{origin:re()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Sn()}],"translate-x":[{"translate-x":Sn()}],"translate-y":[{"translate-y":Sn()}],"translate-z":[{"translate-z":Sn()}],"translate-none":["translate-none"],accent:[{accent:J()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:J()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ve,ye]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":E()}],"scroll-mx":[{"scroll-mx":E()}],"scroll-my":[{"scroll-my":E()}],"scroll-ms":[{"scroll-ms":E()}],"scroll-me":[{"scroll-me":E()}],"scroll-mt":[{"scroll-mt":E()}],"scroll-mr":[{"scroll-mr":E()}],"scroll-mb":[{"scroll-mb":E()}],"scroll-ml":[{"scroll-ml":E()}],"scroll-p":[{"scroll-p":E()}],"scroll-px":[{"scroll-px":E()}],"scroll-py":[{"scroll-py":E()}],"scroll-ps":[{"scroll-ps":E()}],"scroll-pe":[{"scroll-pe":E()}],"scroll-pt":[{"scroll-pt":E()}],"scroll-pr":[{"scroll-pr":E()}],"scroll-pb":[{"scroll-pb":E()}],"scroll-pl":[{"scroll-pl":E()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ve,ye]}],fill:[{fill:["none",...J()]}],"stroke-w":[{stroke:[Be,Bc,Da,Xg]}],stroke:[{stroke:["none",...J()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},dz=G7(hz),Wg=[{id:"general",name:"General",description:"General discussion",icon:Ko},{id:"science",name:"HSC Science",description:"Physics, Chemistry, Biology",icon:Ko},{id:"math",name:"Math Problems",description:"Higher Math & General Math",icon:Ko},{id:"english",name:"English & Bangla",description:"Language and Literature",icon:Ko},{id:"off-topic",name:"Off Topic",description:"Chill zone",icon:Ko}],fz=[{emoji:"",icon:$g},{emoji:"",icon:O8},{emoji:"",icon:ZU},{emoji:"",icon:$U},{emoji:"",icon:$g},{emoji:"",icon:$g}];function ni(...t){return dz(E7(t))}function mz(){const{user:t}=Ja(),[e,n]=D.useState([]),[i,a]=D.useState(""),[l,c]=D.useState(null),d=D.useRef(null),[m,p]=D.useState(!1),[v,b]=D.useState(null),[w,C]=D.useState(null),[M,P]=D.useState("general"),[O,U]=D.useState(!1);D.useEffect(()=>{n([]);const S=GC(Ef(Li,"messages"),J9("channelId","==",M),$C("createdAt","asc"),KC(100)),I=WC(S,k=>{const V=[];k.forEach(R=>{V.push({id:R.id,...R.data()})}),n(V)});return()=>I()},[M]),D.useEffect(()=>{d.current?.scrollIntoView({behavior:"smooth"})},[e.length,M]);const F=async S=>{if(S.preventDefault(),!(!i.trim()||!t)){p(!0);try{const I={text:i.trim(),uid:t.uid,displayName:t.displayName||"Anonymous",createdAt:X9(),channelId:M,...l&&{replyTo:{id:l.id,displayName:l.displayName,text:l.text}}};await XC(Ef(Li,"messages"),I),a(""),c(null)}catch(I){console.error("Error sending message:",I),alert("Failed to send message. Please try again.")}finally{p(!1)}}},$=async(S,I)=>{if(!t)return;b(null);const k=ml(Li,"messages",S),V=e.find(q=>q.id===S);if(!V)return;const R=V.reactions||{},pe=R[t.uid]===I,_e={...R};pe?delete _e[t.uid]:_e[t.uid]=I;try{await nU(k,{reactions:_e})}catch(q){console.error("Failed to update reaction",q)}},oe=async S=>{if(confirm("Delete this message?"))try{await sU(ml(Li,"messages",S))}catch(I){console.error("Error deleting message:",I),alert("Failed to delete message.")}},re=S=>S?S.toDate().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"...",ue=S=>{if(!S)return"";const I=S.toDate(),k=new Date,V=new Date;return V.setDate(V.getDate()-1),I.toDateString()===k.toDateString()?"Today":I.toDateString()===V.toDateString()?"Yesterday":I.toLocaleDateString()},j=e.reduce((S,I)=>{const k=ue(I.createdAt),V=S[S.length-1];return V&&V.date===k?V.msgs.push(I):S.push({date:k,msgs:[I]}),S},[]),E=Wg.find(S=>S.id===M)||Wg[0];return g.jsxs(om,{className:"h-[calc(100vh-8rem)] md:h-[calc(100vh-4rem)] flex flex-col md:flex-row overflow-hidden",children:[g.jsxs("div",{className:"md:hidden flex items-center justify-between p-4 bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(rl,{className:"w-6 h-6 text-indigo-500"}),g.jsx("span",{className:"font-bold text-slate-800 dark:text-white",children:E.name})]}),g.jsx("button",{onClick:()=>U(!0),className:"p-2 -mr-2 text-slate-600 dark:text-slate-300",children:g.jsx(s8,{className:"w-6 h-6"})})]}),g.jsx($n,{children:(O||window.innerWidth>=768)&&g.jsxs(g.Fragment,{children:[g.jsx(Te.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>U(!1),className:"md:hidden fixed inset-0 bg-black/50 z-40"}),g.jsxs(Te.div,{initial:{x:-280},animate:{x:0},exit:{x:-280},transition:{type:"spring",damping:25,stiffness:200},className:ni("fixed md:static inset-y-0 left-0 z-50 w-72 bg-slate-50 dark:bg-slate-900 border-r border-slate-200 dark:border-slate-700 flex flex-col","md:transform-none"),children:[g.jsxs("div",{className:"p-4 border-b border-slate-200 dark:border-slate-700 flex justify-between items-center",children:[g.jsxs("h2",{className:"font-bold text-xl text-slate-800 dark:text-white flex items-center gap-2",children:[g.jsx(rl,{className:"w-6 h-6 text-indigo-500"}),"Community"]}),g.jsx("button",{onClick:()=>U(!1),className:"md:hidden p-1 rounded-full hover:bg-slate-200 dark:hover:bg-slate-800",children:g.jsx(ak,{className:"w-6 h-6"})})]}),g.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-1",children:[g.jsx("h3",{className:"text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider mb-2 px-2",children:"Text Channels"}),Wg.map(S=>g.jsxs("button",{onClick:()=>{P(S.id),U(!1)},className:ni("w-full text-left px-3 py-2 rounded-lg flex items-center gap-2 transition-colors",M===S.id?"bg-indigo-100 text-indigo-700 dark:bg-indigo-900/50 dark:text-indigo-300 font-medium":"text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800"),children:[g.jsx(S.icon,{className:"w-4 h-4 opacity-70"}),g.jsx("span",{children:S.name})]},S.id))]}),g.jsx("div",{className:"p-4 border-t border-slate-200 dark:border-slate-700",children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"w-10 h-10 rounded-full bg-indigo-100 dark:bg-indigo-900 flex items-center justify-center text-indigo-600 dark:text-indigo-300 font-bold",children:t?.displayName?.[0]?.toUpperCase()||"U"}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsx("p",{className:"text-sm font-medium text-slate-800 dark:text-white truncate",children:t?.displayName||"User"}),g.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 truncate",children:"Online"})]})]})})]})]})}),g.jsxs("div",{className:"flex-1 flex flex-col bg-white dark:bg-slate-800 h-full relative",children:[g.jsxs("div",{className:"hidden md:flex items-center gap-2 p-4 border-b border-slate-100 dark:border-slate-700 shadow-sm z-10",children:[g.jsx(Ko,{className:"w-5 h-5 text-slate-400"}),g.jsx("h2",{className:"font-bold text-slate-800 dark:text-white",children:E.name}),g.jsx("span",{className:"text-slate-400 dark:text-slate-500 text-sm border-l pl-2 ml-2 border-slate-300 dark:border-slate-600",children:E.description})]}),g.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-6 scrollbar-thin scrollbar-thumb-slate-200 dark:scrollbar-thumb-slate-700",children:[e.length===0&&g.jsxs("div",{className:"flex flex-col items-center justify-center h-full opacity-50",children:[g.jsx(rl,{className:"w-16 h-16 mb-4 text-slate-300"}),g.jsxs("p",{className:"text-slate-500 text-center",children:["No messages yet in #",E.name,".",g.jsx("br",{}),"Be the first to say hello!"]})]}),j.map((S,I)=>g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:"h-px flex-1 bg-slate-200 dark:bg-slate-700"}),g.jsx("span",{className:"text-xs font-medium text-slate-400 dark:text-slate-500",children:S.date}),g.jsx("div",{className:"h-px flex-1 bg-slate-200 dark:bg-slate-700"})]}),S.msgs.map((k,V)=>{const R=k.uid===t?.uid,pe=V===0||S.msgs[V-1].uid!==k.uid,_e=k.reactions&&Object.keys(k.reactions).length>0,q={};return Object.values(k.reactions||{}).forEach(ee=>{q[ee]=(q[ee]||0)+1}),g.jsxs(Te.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:ni("group flex gap-4",R?"flex-row-reverse":"flex-row"),onMouseLeave:()=>b(null),children:[g.jsx("div",{className:"flex-shrink-0 w-10",children:pe?g.jsx("button",{onClick:()=>C(k.uid),className:"w-10 h-10 rounded-full bg-slate-200 dark:bg-slate-700 flex items-center justify-center text-sm font-bold text-slate-600 dark:text-slate-300 overflow-hidden shadow-sm transition-transform hover:scale-105",children:k.displayName?.[0]?.toUpperCase()||"?"}):g.jsx("div",{className:"w-10"})}),g.jsxs("div",{className:ni("flex flex-col max-w-[80%] md:max-w-[70%]",R?"items-end":"items-start"),children:[pe&&g.jsxs("div",{className:"flex items-baseline gap-2 mb-1",children:[g.jsx("span",{className:ni("text-sm font-bold cursor-pointer hover:underline",R?"text-indigo-600 dark:text-indigo-400":"text-slate-700 dark:text-slate-300"),onClick:()=>C(k.uid),children:k.displayName}),g.jsx("span",{className:"text-[10px] text-slate-400",children:re(k.createdAt)})]}),k.replyTo&&g.jsxs("div",{className:"mb-1 text-xs px-2 py-1 -ml-2 rounded-r bg-slate-100 dark:bg-slate-800 border-l-2 border-indigo-400 opacity-80 cursor-pointer",onClick:()=>{},children:[g.jsx("span",{className:"font-bold mr-1",children:k.replyTo.displayName}),g.jsx("span",{className:"italic truncate",children:k.replyTo.text})]}),g.jsxs("div",{className:"relative group/bubble",children:[g.jsxs("div",{className:ni("px-4 py-2 text-sm shadow-sm relative whitespace-pre-wrap leading-relaxed",R?"bg-indigo-600 text-white rounded-2xl rounded-tr-none":"bg-slate-100 dark:bg-slate-700 text-slate-800 dark:text-slate-200 rounded-2xl rounded-tl-none",!pe&&(R?"rounded-tr-2xl":"rounded-tl-2xl")),children:[T7(k.text),_e&&g.jsx("div",{className:ni("absolute -bottom-3 flex gap-1 bg-white dark:bg-slate-800 rounded-full px-1.5 py-0.5 shadow-sm border border-slate-100 dark:border-slate-600 text-[10px]",R?"right-0":"left-0"),children:Object.entries(q).map(([ee,J])=>g.jsxs("span",{className:"flex items-center",children:[ee," ",J>1&&g.jsx("span",{className:"ml-0.5 font-bold text-slate-500",children:J})]},ee))})]}),g.jsxs("div",{className:ni("absolute -top-6 hidden group-hover/bubble:flex items-center bg-white dark:bg-slate-800 shadow-md rounded-lg p-0.5 border border-slate-100 dark:border-slate-700 z-20",R?"right-0":"left-0"),children:[g.jsx("button",{onClick:()=>b(k.id),className:"p-1 hover:bg-slate-100 dark:hover:bg-slate-700 rounded text-slate-500",children:g.jsx(R8,{className:"w-4 h-4"})}),g.jsx("button",{onClick:()=>c(k),className:"p-1 hover:bg-slate-100 dark:hover:bg-slate-700 rounded text-slate-500",children:g.jsx(_8,{className:"w-4 h-4"})}),R&&g.jsx("button",{onClick:()=>oe(k.id),className:"p-1 hover:bg-red-100 dark:hover:bg-red-900/30 rounded text-red-500",children:g.jsx(Lu,{className:"w-4 h-4"})})]}),g.jsx($n,{children:v===k.id&&g.jsx(Te.div,{initial:{opacity:0,scale:.9,y:5},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9},className:ni("absolute -top-12 z-50 flex gap-1 bg-white dark:bg-slate-800 rounded-full shadow-xl border border-slate-200 dark:border-slate-600 p-1",R?"right-0":"left-0"),children:fz.map(ee=>g.jsx("button",{onClick:()=>$(k.id,ee.emoji),className:ni("p-1.5 rounded-full hover:bg-slate-100 dark:hover:bg-slate-700 text-lg transition-transform hover:scale-125",k.reactions?.[t?.uid||""]===ee.emoji&&"bg-indigo-100 dark:bg-indigo-900"),children:ee.emoji},ee.emoji))})})]})]})]},k.id)})]},I)),g.jsx("div",{ref:d,className:"h-2"})]}),g.jsxs("div",{className:"p-4 bg-white dark:bg-slate-800/90 border-t border-slate-200 dark:border-slate-700 backdrop-blur-sm z-20",children:[g.jsx($n,{children:l&&g.jsxs(Te.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"flex items-center justify-between bg-slate-50 dark:bg-slate-900 p-2 rounded-lg mb-2 text-sm border-l-4 border-indigo-500",children:[g.jsxs("span",{className:"truncate text-slate-500 dark:text-slate-400",children:["Replying to ",g.jsx("span",{className:"font-bold text-slate-700 dark:text-slate-200",children:l.displayName}),": ",l.text]}),g.jsx("button",{onClick:()=>c(null),className:"p-1 hover:bg-slate-200 dark:hover:bg-slate-800 rounded-full",children:g.jsx(Wi,{className:"w-4 h-4"})})]})}),g.jsxs("form",{onSubmit:F,className:"flex gap-2",children:[g.jsx("input",{type:"text",value:i,onChange:S=>a(S.target.value),placeholder:`Message #${E.name}`,className:"flex-1 px-4 py-3 bg-slate-100 dark:bg-slate-900 border-none rounded-xl focus:ring-2 focus:ring-indigo-500 focus:bg-white dark:focus:bg-black transition-all"}),g.jsx("button",{type:"submit",disabled:!i.trim()||m,className:"p-3 bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl shadow-lg shadow-indigo-500/30 transition-all disabled:opacity-50 disabled:shadow-none",children:g.jsx(S8,{className:"w-5 h-5"})})]})]})]}),g.jsx(w7,{uid:w||"",isOpen:!!w,onClose:()=>C(null)})]})}function pz({steps:t,onComplete:e,onSkip:n}){const[i,a]=D.useState(0),[l,c]=D.useState(null),d=t[i];D.useEffect(()=>{if(d.targetId){const v=document.getElementById(d.targetId);v?(c(v.getBoundingClientRect()),v.scrollIntoView({behavior:"smooth",block:"center"})):c(null)}else c(null)},[i,d,t]);const m=()=>{i<t.length-1?a(v=>v+1):e()},p=()=>{i>0&&a(v=>v-1)};return g.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center pointer-events-none",children:[g.jsx("div",{className:"absolute inset-0 bg-black/60 pointer-events-none"}),l&&g.jsx(Te.div,{layoutId:"highlight-box",className:"absolute border-4 border-blue-500 rounded-xl shadow-[0_0_0_9999px_rgba(0,0,0,0.6)] pointer-events-none transition-all duration-300",style:{top:l.top-4,left:l.left-4,width:l.width+8,height:l.height+8}}),g.jsx($n,{mode:"wait",children:g.jsxs(Te.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:`pointer-events-auto absolute bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-2xl border border-slate-100 dark:border-slate-700 max-w-sm w-full mx-4 ${l?"":"static"}`,style:l&&d.position!=="center"?{top:d.position==="bottom"?l.bottom+20:d.position==="top"?l.top-200:void 0,left:d.position==="right"?l.right+20:d.position==="left"?l.left-340:Math.max(16,l.left+l.width/2-160),marginTop:(d.position==="bottom",0)}:{},children:[g.jsxs("div",{className:"flex justify-between items-start mb-2",children:[g.jsxs("span",{className:"text-xs font-bold text-blue-600 dark:text-blue-400 uppercase tracking-wider",children:["Step ",i+1," of ",t.length]}),g.jsx("button",{onClick:n,className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200",children:g.jsx(Wi,{className:"w-4 h-4"})})]}),g.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-2",children:d.title}),g.jsx("p",{className:"text-slate-600 dark:text-slate-300 mb-6 leading-relaxed",children:d.description}),g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("button",{onClick:p,disabled:i===0,className:`flex items-center gap-1 text-sm font-medium ${i===0?"text-slate-300":"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200"}`,children:[g.jsx(ak,{className:"w-4 h-4"})," Back"]}),g.jsxs("button",{onClick:m,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-full font-medium text-sm flex items-center gap-2 shadow-sm transition-transform active:scale-95",children:[i===t.length-1?"Finish":"Next",i<t.length-1&&g.jsx(OU,{className:"w-4 h-4"})]})]})]},i)})]})}const EE="/Study-Mate/assets/logo-C0C7fgvJ.png",gz=[{title:"Welcome to TrackEd! ",description:"Your personal companion for academic success. Let's take a quick tour to get you started.",position:"center"},{targetId:"add-subject-btn",title:"Add Your Subjects ",description:"Start by adding the subjects you want to track. You can organize them by chapters and topics.",position:"bottom"},{targetId:"nav-timer",title:"Focus Timer ",description:"Use the Pomodoro timer or stopwatch to track your study sessions and build streaks.",position:"right"},{targetId:"nav-settings",title:"Customize Experience ",description:"Manage your profile, data, and switch between light/dark modes here.",position:"top"}];function yz(){const{logout:t}=Ja(),{theme:e,toggleTheme:n}=bk(),i=Yi(),a=sI(),[l,c]=D.useState(!1);D.useEffect(()=>{localStorage.setItem("tracked_tour_completed","true")},[]);const d=()=>{c(!1),localStorage.setItem("tracked_tour_completed","true")},m=p=>i.pathname===p;return g.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-slate-100 pb-20 md:pb-0 font-sans transition-colors duration-300",children:[l&&g.jsx(pz,{steps:gz,onComplete:d,onSkip:d}),g.jsxs("header",{className:"glass sticky top-0 z-20 px-4 py-3 flex items-center justify-between md:hidden transition-colors duration-300",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("img",{src:EE,alt:"TrackEd Logo",className:"w-9 h-9 rounded-xl object-contain shadow-sm"}),g.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 dark:from-blue-400 dark:to-indigo-400 bg-clip-text text-transparent",children:"TrackEd"})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("button",{onClick:n,className:"p-2 text-slate-500 dark:text-slate-400 hover:bg-slate-100/50 dark:hover:bg-slate-700/50 rounded-full transition-colors backdrop-blur-sm","aria-label":"Toggle Theme",children:e==="light"?g.jsx(Af,{className:"w-5 h-5"}):g.jsx(Y0,{className:"w-5 h-5"})}),g.jsx(on,{to:"/settings",className:"p-2 text-slate-500 dark:text-slate-400 hover:bg-slate-100/50 dark:hover:bg-slate-700/50 rounded-full transition-colors backdrop-blur-sm",children:g.jsx(Kg,{className:"w-5 h-5"})})]})]}),g.jsxs("div",{className:"md:flex max-w-7xl mx-auto",children:[g.jsxs("aside",{className:"hidden md:flex flex-col w-72 h-[calc(100vh-2rem)] sticky top-4 m-4 rounded-3xl glass shadow-2xl shadow-slate-200/60 dark:shadow-slate-900/50 p-6 transition-all duration-300 z-10",children:[g.jsxs("div",{className:"flex items-center justify-between mb-10 pl-2",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("img",{src:EE,alt:"TrackEd Logo",className:"w-10 h-10 rounded-xl object-contain shadow-md"}),g.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-white tracking-tight",children:"TrackEd"})]}),g.jsx("button",{onClick:n,className:"p-2 text-slate-500 dark:text-slate-400 hover:bg-slate-100/80 dark:hover:bg-slate-700/50 rounded-xl transition-colors","aria-label":"Toggle Theme",children:e==="light"?g.jsx(Af,{className:"w-5 h-5"}):g.jsx(Y0,{className:"w-5 h-5"})})]}),g.jsxs("nav",{className:"space-y-1.5 flex-1",children:[g.jsxs(on,{to:"/",className:`flex items-center gap-3 px-4 py-3.5 rounded-xl transition-all duration-200 ${m("/")?"bg-blue-600 text-white shadow-lg shadow-blue-500/30 font-medium translate-x-1":"text-slate-600 dark:text-slate-400 hover:bg-slate-100/80 dark:hover:bg-slate-800/50 hover:text-slate-900 dark:hover:text-white"}`,children:[g.jsx(mE,{className:"w-5 h-5"}),"Dashboard"]}),g.jsxs(on,{to:"/analytics",className:`flex items-center gap-3 px-4 py-3.5 rounded-xl transition-all duration-200 ${m("/analytics")?"bg-blue-600 text-white shadow-lg shadow-blue-500/30 font-medium translate-x-1":"text-slate-600 dark:text-slate-400 hover:bg-slate-100/80 dark:hover:bg-slate-800/50 hover:text-slate-900 dark:hover:text-white"}`,children:[g.jsx(Q0,{className:"w-5 h-5"}),"Analytics"]}),g.jsxs(on,{to:"/timer",id:"nav-timer",className:`flex items-center gap-3 px-4 py-3.5 rounded-xl transition-all duration-200 ${i.pathname==="/timer"?"bg-blue-600 text-white shadow-lg shadow-blue-500/30 font-medium translate-x-1":"text-slate-600 dark:text-slate-400 hover:bg-slate-100/80 dark:hover:bg-slate-800/50 hover:text-slate-900 dark:hover:text-white"}`,children:[g.jsx(gE,{className:"w-5 h-5"}),"Timer"]}),g.jsxs(on,{to:"/chat",className:`flex items-center gap-3 px-4 py-3.5 rounded-xl transition-all duration-200 ${m("/chat")?"bg-blue-600 text-white shadow-lg shadow-blue-500/30 font-medium translate-x-1":"text-slate-600 dark:text-slate-400 hover:bg-slate-100/80 dark:hover:bg-slate-800/50 hover:text-slate-900 dark:hover:text-white"}`,children:[g.jsx(rl,{className:"w-5 h-5"}),"Community"]}),g.jsxs(on,{to:"/settings",id:"nav-settings",className:`flex items-center gap-3 px-4 py-3.5 rounded-xl transition-all duration-200 ${m("/settings")?"bg-blue-600 text-white shadow-lg shadow-blue-500/30 font-medium translate-x-1":"text-slate-600 dark:text-slate-400 hover:bg-slate-100/80 dark:hover:bg-slate-800/50 hover:text-slate-900 dark:hover:text-white"}`,children:[g.jsx(Kg,{className:"w-5 h-5"}),"Settings"]})]}),g.jsxs("div",{className:"mt-auto pt-6 border-t border-slate-200/50 dark:border-slate-700/50",children:[g.jsxs("button",{onClick:t,className:"flex items-center gap-3 px-4 py-3.5 rounded-xl text-slate-600 dark:text-slate-400 hover:bg-red-50 dark:hover:bg-red-900/20 hover:text-red-600 dark:hover:text-red-400 transition-colors w-full text-left mb-4 group",children:[g.jsx(uk,{className:"w-5 h-5 group-hover:-translate-x-0.5 transition-transform"}),"Sign Out"]}),g.jsxs("div",{className:"text-xs text-center text-slate-400 dark:text-slate-500 font-medium",children:[g.jsx("p",{children:"Empowering Students"}),g.jsx("p",{className:"mt-1 opacity-70",children:" 2026 TrackEd"})]})]})]}),g.jsx("main",{className:"flex-1 p-4 md:p-8",children:g.jsx($n,{mode:"wait",children:a&&D.cloneElement(a,{key:i.pathname})})})]}),g.jsxs("nav",{className:"fixed bottom-0 left-0 right-0 bg-white dark:bg-slate-800 border-t border-slate-200 dark:border-slate-700 flex justify-around pt-3 px-3 pb-[calc(0.75rem+env(safe-area-inset-bottom))] md:hidden z-20 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.05)] transition-colors duration-300",children:[g.jsxs(on,{to:"/",className:`flex flex-col items-center gap-1 text-xs ${m("/")?"text-blue-600 dark:text-blue-400 font-medium":"text-slate-400 dark:text-slate-500"}`,children:[g.jsx(mE,{className:"w-6 h-6"}),g.jsx("span",{children:"Home"})]}),g.jsxs(on,{to:"/analytics",className:`flex flex-col items-center gap-1 text-xs ${m("/analytics")?"text-blue-600 dark:text-blue-400 font-medium":"text-slate-400 dark:text-slate-500"}`,children:[g.jsx(Q0,{className:"w-6 h-6"}),g.jsx("span",{children:"Stats"})]}),g.jsxs(on,{to:"/timer",className:`flex flex-col items-center gap-1 text-xs ${m("/timer")?"text-blue-600 dark:text-blue-400 font-medium":"text-slate-400 dark:text-slate-500"}`,children:[g.jsx(gE,{className:"w-6 h-6"}),g.jsx("span",{children:"Timer"})]}),g.jsxs(on,{to:"/chat",className:`flex flex-col items-center gap-1 text-xs ${m("/chat")?"text-blue-600 dark:text-blue-400 font-medium":"text-slate-400 dark:text-slate-500"}`,children:[g.jsx(rl,{className:"w-6 h-6"}),g.jsx("span",{children:"Comm.."})]}),g.jsxs(on,{to:"/settings",className:`flex flex-col items-center gap-1 text-xs ${m("/settings")?"text-blue-600 dark:text-blue-400 font-medium":"text-slate-400 dark:text-slate-500"}`,children:[g.jsx(Kg,{className:"w-6 h-6"}),g.jsx("span",{children:"Settings"})]})]})]})}function vz(){const{signInWithGoogle:t,user:e}=Ja(),n=Rf();return J0.useEffect(()=>{e&&n("/")},[e,n]),g.jsxs("div",{className:"min-h-screen flex items-center justify-center relative overflow-hidden bg-slate-50 dark:bg-slate-900 transition-colors",children:[g.jsxs("div",{className:"absolute inset-0 z-0",children:[g.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[40%] h-[40%] bg-blue-400/20 dark:bg-blue-600/10 rounded-full blur-3xl animate-pulse"}),g.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[40%] h-[40%] bg-indigo-400/20 dark:bg-indigo-600/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}}),g.jsx("div",{className:"absolute top-[20%] right-[10%] w-[20%] h-[20%] bg-purple-400/20 dark:bg-purple-600/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"2s"}})]}),g.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,ease:"easeOut"},className:"relative z-10 w-full max-w-md px-6",children:[g.jsxs("div",{className:"bg-white/80 dark:bg-slate-800/80 backdrop-blur-xl rounded-3xl shadow-2xl border border-white/50 dark:border-slate-700/50 p-8 md:p-12 text-center transition-colors",children:[g.jsx("div",{className:"flex justify-center mb-8",children:g.jsx("div",{className:"p-4 bg-indigo-600 rounded-2xl shadow-lg transform rotate-3 hover:rotate-6 transition-transform duration-300",children:g.jsx(ck,{className:"w-10 h-10 text-white"})})}),g.jsxs("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white mb-3 tracking-tight transition-colors",children:["Welcome to ",g.jsx("span",{className:"text-indigo-600 dark:text-indigo-400",children:"TrackEd"})]}),g.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-10 text-lg leading-relaxed transition-colors",children:"Master your study habits and achieve your goals."}),g.jsxs(Te.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:t,className:"group w-full relative flex items-center justify-center gap-3 py-3.5 px-6 border border-transparent rounded-xl shadow-md text-base font-semibold text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-all duration-200",children:[g.jsx("div",{className:"bg-white p-1 rounded-full",children:g.jsx("img",{src:"https://www.google.com/favicon.ico",alt:"G",className:"w-4 h-4"})}),g.jsx("span",{children:"Sign in with Google"}),g.jsx(Ov,{className:"w-4 h-4 opacity-0 group-hover:opacity-100 group-hover:translate-x-1 transition-all"})]}),g.jsx("p",{className:"mt-8 text-xs text-slate-400 dark:text-slate-500 transition-colors",children:"By signing in, you agree to our Terms of Service and Privacy Policy."})]}),g.jsx("div",{className:"mt-8 text-center",children:g.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400 transition-colors",children:"Focus. Track. Succeed."})})]})]})}function bz({children:t}){const{user:e,loading:n}=Ja();return n?g.jsx("div",{children:"Loading..."}):e?g.jsx(g.Fragment,{children:t}):g.jsx(vI,{to:"/login"})}function xz(){return g.jsx(qI,{basename:"/Study-Mate/",children:g.jsxs(xI,{children:[g.jsx(Mi,{path:"/login",element:g.jsx(vz,{})}),g.jsxs(Mi,{path:"/",element:g.jsx(bz,{children:g.jsx(yz,{})}),children:[g.jsx(Mi,{index:!0,element:g.jsx(n7,{})}),g.jsx(Mi,{path:"subject/:id",element:g.jsx(u7,{})}),g.jsx(Mi,{path:"analytics",element:g.jsx(v7,{})}),g.jsx(Mi,{path:"timer",element:g.jsx(b7,{})}),g.jsx(Mi,{path:"chat",element:g.jsx(mz,{})}),g.jsx(Mi,{path:"settings",element:g.jsx(m7,{})})]})]})})}class _z extends D.Component{state={hasError:!1,error:null};static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("Uncaught error:",e,n)}render(){return this.state.hasError?g.jsx("div",{className:"min-h-screen flex items-center justify-center bg-red-50 p-4",children:g.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg max-w-lg w-full",children:[g.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Something went wrong"}),g.jsx("p",{className:"text-slate-600 mb-4",children:"We encountered an unexpected error."}),g.jsx("pre",{className:"bg-slate-100 p-4 rounded text-xs text-slate-800 overflow-auto mb-4",children:this.state.error?.message}),g.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Reload Page"})]})}):this.props.children}}console.log("TrackEd v1.1 - Dark Mode Enabled");bR.createRoot(document.getElementById("root")).render(g.jsx(J0.StrictMode,{children:g.jsx(_z,{children:g.jsx(aU,{children:g.jsx(oU,{children:g.jsx(h7,{children:g.jsx(r7,{children:g.jsx(xz,{})})})})})})}));
